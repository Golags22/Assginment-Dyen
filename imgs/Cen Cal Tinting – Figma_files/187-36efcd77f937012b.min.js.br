"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="046bc5d2-0ad3-53d0-a8bd-04402034644f")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[187],{17076:(e,t,i)=>{i.d(t,{A9:()=>b,Ac:()=>U,Gm:()=>f,H1:()=>h,Hq:()=>x,In:()=>p,K0:()=>n,Kz:()=>R,OI:()=>N,P8:()=>D,QW:()=>F,TM:()=>M,UB:()=>A,UI:()=>v,XV:()=>w,YG:()=>c,Yh:()=>E,ar:()=>y,bp:()=>a,cV:()=>s,el:()=>u,ft:()=>B,hM:()=>g,iH:()=>o,iZ:()=>S,im:()=>_,kQ:()=>H,m6:()=>C,q6:()=>l,rS:()=>r,rs:()=>d,uN:()=>P,vc:()=>I,x$:()=>k,yd:()=>m,yk:()=>T,yq:()=>O,zr:()=>L});let n="plugin_tiles--publishedIcon--y-Ikr",l="plugin_tiles--developmentPluginDotsIcon--cg1O-",a="plugin_tiles--developmentPluginTile--FydP6",r="plugin_tiles--developmentPluginTileMetadataContainer--gfR-P",o="plugin_tiles--developmentPluginErrorName--yj1wE plugin_tiles--developmentPluginName--zbtdz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",c="plugin_tiles--developmentPluginName--zbtdz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",s="plugin_tiles--developmentPluginFilePath--j9l0U text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",d="plugin_tiles--developmentFolderIcon--SoGUp",u="plugin_tiles--developmentPluginTileMetadataContainer__OLD--2kyZc",m="plugin_tiles--developmentPluginWarningIcon--NBesu",_="plugin_tiles--developmentPluginIcon--Kl-2F",p="plugin_tiles--developmentPluginMetadata--GqmX3",E="plugin_tiles--iconButtonSelectedForWidget--79v2p",f="plugin_tiles--developmentPluginDropdown--KEULS",g="plugin_tiles--developmentPluginErrorModalText--PEqEP",h="plugin_tiles--developmentPluginErrorModalFooter--SISR1",v="plugin_tiles--publishedPluginMoreIcon--tQ1c9",C="plugin_tiles--spotlightPluginTile--Gglp2 plugin_tiles--_pluginTileBase--HvkF8 text--fontPos11--2LvXf text--_fontBase--QdLsd",N="plugin_tiles--spotlightPluginsListContainer--JAkwJ plugin_tiles--_container--jAD59",w="plugin_tiles--spotlightMetadataContainer--lFOPM",b="plugin_tiles--spotlightPluginTileIcon--3s1tl plugin--pluginIconBase--yAG5F",T="plugin_tiles--spotlightPluginTileIconContainer--cuocl",I="plugin_tiles--spotlightPluginTileName--6eroa text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",y="plugin_tiles--spotlightPluginTileDescription--jc0y4 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",k="plugin_tiles--basePluginManagementTileContainer--WzHwT",R="plugin_tiles--basePluginManagementTileTextContainer--oFEuj",S="plugin_tiles--basePluginManageTileTitle--hLcWv plugin_tiles--_basePluginManagementTileText--rrZ4n text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",D="plugin_tiles--basePluginManagementTileFlex--4p4pV",A="plugin_tiles--basePluginManagementTileSubTitle--5CYIJ plugin_tiles--_basePluginManagementTileText--rrZ4n text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",P="plugin_tiles--basePluginManagementTileSubTitleMobile--9hKOo text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",O="plugin_tiles--basePluginManagementTileIconContainer--d1qwn",L="plugin_tiles--basePluginManagementTileIcon--WtleX",x="plugin_tiles--basePluginManagementOptionsIcon--gddMS",M="plugin_tiles--developmentPluginTileIconContainer--DyZMP plugin_tiles--basePluginManagementTileIcon--WtleX",F="plugin_tiles--warningIcon--B8Ug7",B="plugin_tiles--codeTagIcon--35Bhn",U="plugin_tiles--worldIcon--w-2nj",H="plugin_tiles--svg16--Z1gZw"},44173:(e,t,i)=>{i.d(t,{A9:()=>W,DD:()=>h,EI:()=>v,Ec:()=>U,En:()=>N,Ew:()=>j,FN:()=>_,FS:()=>E,Kk:()=>b,Li:()=>l,PI:()=>M,Qs:()=>L,SH:()=>y,SZ:()=>f,VA:()=>x,Vt:()=>D,Zc:()=>I,Zm:()=>d,_u:()=>r,aR:()=>S,bm:()=>m,dC:()=>u,dh:()=>R,e0:()=>C,eD:()=>s,gJ:()=>O,gv:()=>H,hQ:()=>P,k1:()=>V,km:()=>G,lN:()=>F,ni:()=>T,qd:()=>n,sU:()=>a,t4:()=>A,tJ:()=>p,uX:()=>w,vE:()=>g,wZ:()=>B,xG:()=>c,xf:()=>k,yT:()=>o});let n="block_kit_row--rowContainer--blE-e",l="block_kit_row--rowContainerRevamp--yfW80",a="block_kit_row--rowTop--V9LTX",r="block_kit_row--rowBottom--MUjVt",o="block_kit_row--rowBottomStructuredView--FMX0O",c="block_kit_row--acceptButton--a8hGz",s="block_kit_row--rejectButton--KOYG6",d="block_kit_row--unreadDot--nGsUe",u="block_kit_row--unreadBlueDot--4x8W8 block_kit_row--unreadDot--nGsUe",m="block_kit_row--unreadDotStructuredView--5etXA",_="block_kit_row--unreadBlueDotStructuredView--ZD5sy block_kit_row--unreadDotStructuredView--5etXA",p="block_kit_row--metadataContainer--VXyxj",E="block_kit_row--textContainer--k9trX",f="block_kit_row--titleAndTimestamp--jCbMC",g="block_kit_row--timestamp--5jHxO",h="block_kit_row--title--RyhFW",v="block_kit_row--usersContainer--m9QMX",C="block_kit_row--usersContainerStructuredView---DFXa",N="block_kit_row--iconInvert--ZLK5r",w="block_kit_row--secondaryUser--Zbyj5",b="block_kit_row--icon--Gau-9",T="block_kit_row--iconImg--Sw8ei",I="block_kit_row--resource--1nT--",y="block_kit_row--primaryUser--0OplU",k="block_kit_row--primaryUserRevamp--MMzIv",R="block_kit_row--secondaryUserRevamp--UuMHC",S="block_kit_row--quickReplyChevronContainer--SK1rE",D="block_kit_row--quickReplyChevron--smu6R",A="block_kit_row--chevronIcon--RUUy2",P="block_kit_row--contentContainer--xYiON text--fontPos11--2LvXf text--_fontBase--QdLsd",O="block_kit_row--contentContainerRevamp--D0Z0z text--fontPos11--2LvXf text--_fontBase--QdLsd",L="block_kit_row--content--DjH--",x="block_kit_row--subtitle--tTR9W",M="block_kit_row--fromNow--qYB7e",F="block_kit_row--planDivider--po3BY",B="block_kit_row--notificationDescription--6aMEh ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",U="block_kit_row--notificationDescriptionStructuredView--4sKju ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",H="block_kit_row--reacjiNotificationStructuredView--TWxtz",W="block_kit_row--emojiUnicode--s9gXM",G="block_kit_row--imagePreview---NMyQ",V="block_kit_row--htmlTextBlock--w691R",j="block_kit_row--square--LWlEB"},391758:(e,t,i)=>{i.d(t,{Ee:()=>p,FR:()=>E,I3:()=>C,O9:()=>d,OL:()=>N,P2:()=>n,Pu:()=>a,Uz:()=>r,WI:()=>f,db:()=>_,g4:()=>c,gy:()=>u,ix:()=>l,jG:()=>v,nf:()=>h,pg:()=>o,sJ:()=>g,u6:()=>m,wx:()=>s});let n="user_notifications_dropdown--dropdownContainer--FeJWw text--fontPos11--2LvXf text--_fontBase--QdLsd",l="user_notifications_dropdown--dropdownChevronContainer--SAlt4",a="user_notifications_dropdown--dropdownChevron--ZvAmn",r="user_notifications_dropdown--arrowRight--yyaYz",o="user_notifications_dropdown--dropdownContainerEmptyState--9URCY user_notifications_dropdown--dropdownContainer--FeJWw text--fontPos11--2LvXf text--_fontBase--QdLsd",c="user_notifications_dropdown--loadingContainer--gztC3",s="user_notifications_dropdown--header--VmRgJ",d="user_notifications_dropdown--orgName--hsl6y ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",u="user_notifications_dropdown--unread---qSyA",m="user_notifications_dropdown--filterToggleButtons--durwj",_="user_notifications_dropdown--filterToggleButton--O-mT7",p="user_notifications_dropdown--filterToggleButtonSelected--Z7F8s",E="user_notifications_dropdown--unreadToggleBar--LB14C",f="user_notifications_dropdown--filterToggleBar--um0WE user_notifications_dropdown--unreadToggleBar--LB14C",g="user_notifications_dropdown--dateHeader--mWn2d",h="user_notifications_dropdown--link--tPMj9 text--fontPos11--2LvXf text--_fontBase--QdLsd",v="user_notifications_dropdown--scrollContainer--eFxLZ",C="user_notifications_dropdown--scrollContainerWithPlan--D2j-0",N="user_notifications_dropdown--emptyRow--hHiSY"},701283:(e,t,i)=>{i.d(t,{Kk:()=>o,XI:()=>u,iG:()=>n,iU:()=>s,m5:()=>c,o1:()=>d,rV:()=>r,s:()=>l,xT:()=>a});let n="notification--centeredContainer--KOKEL",l="notification--topCenterNotification---nbgh notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",a="notification--bottomRightNotification--i1z7X notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",r="notification--bottomRightNotificationHelpIconHidden--plZlM notification--bottomRightNotification--i1z7X notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",o="notification--icon--ZWNx5",c="notification--iconError--aqnJU notification--icon--ZWNx5",s="notification--message--6GSx7",d="notification--actions--GUX-p",u="notification--action--v-pvn"},251288:(e,t,i)=>{i.d(t,{L:()=>s});var n=i(411855),l=i(629019),a=i.n(l),r=i(939863),o=i(498606),c=i(365292);function s({height:e="24"}){return n.createElement("div",{className:a()("in_review_badge--inReviewBadge--6j9Uu"),"data-tooltip-type":o.Ib.TEXT,"data-tooltip":(0,r.t)("community.plugins.this_resource_is_in_review_by_figma_moderators_and_will_be_available_publicly_once_approved")},n.createElement(c.Ex,{height:e},n.createElement("span",{className:a()({"in_review_badge--heightSixteen--aD6ev text--fontPos9--naThA text--_fontBase--QdLsd":"16"===e})},n.createElement(r.Tx,{id:"community.plugins.in_review"}))))}},367935:(e,t,i)=>{function n(e){return e.is_widget}function l(e){return void 0!==e.current_plugin_version_id&&!e.is_widget}function a(e){return void 0!==e.duplicate_count}i.d(t,{AS:()=>n,bT:()=>l,zj:()=>a})},611047:(e,t,i)=>{i.d(t,{LP:()=>s,qQ:()=>n,qv:()=>d});var n,l=i(411855),a=i(776250),r=i(96328),o=i(809840),c=i(99506);let s="cover";var d=(e=>(e.COMPONENT_PUBLISHING="component_publishing",e.VIDEO="video",e.PASSWORD_PROTECTION="password_protection",e.AUDIO="audio",e.UNLIMITED_PAGES="unlimited_pages",e.PROTOTYPE_ONLY_LINKS="prototype_only_links",e.OPEN_SESSIONS="open_sessions",e.UNLIMITED_PROJECTS="unlimited_projects",e.PRIVATE_PROJECTS="private_projects",e.UNLIMITED_FILES="unlimited_files",e))(d||{});let u={cover:{onboardingKey:s,imgSrc:"https://static.figma.com/uploads/cade95b7d3141da5e4c22a879de339d5b57b05aa",header:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.pro.title",fontSize:13,fontWeight:"medium"}),description:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.pro.description",fontSize:11,color:"secondary"}),hoverTitle:null},password_protection:{onboardingKey:"password_protection",imgSrc:"https://static.figma.com/uploads/b56379c61007d4c119dc3a32fc936ac07f5d13d5",header:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.title",fontSize:13,fontWeight:"medium"}),description:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.description",fontSize:11,color:"secondary"}),hoverTitle:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.hover_text",fontSize:12,fontWeight:"semi-bold"})},component_publishing:{onboardingKey:"component_publishing",imgSrc:"https://static.figma.com/uploads/1138b4f97bb51f61ed9b2bac008de9038dfbcf75",header:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.title",fontSize:13,fontWeight:"medium"}),description:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.description",fontSize:11,color:"secondary"}),hoverTitle:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.hover_text",fontSize:12,fontWeight:"semi-bold"})},audio:{onboardingKey:"audio",imgSrc:"https://static.figma.com/uploads/312167c9a97cd378f0a20d09d03376b27283dae9",header:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.title",fontSize:13,fontWeight:"medium"}),description:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.description",fontSize:11,color:"secondary"}),hoverTitle:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.hover_text",fontSize:12,fontWeight:"semi-bold"})},open_sessions:{onboardingKey:"open_sessions",imgSrc:"https://static.figma.com/uploads/1ee3e88ccb237a207e896dba4a67af081259590d",header:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.title",fontSize:13,fontWeight:"medium"}),description:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.description",fontSize:11,color:"secondary"}),hoverTitle:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.hover_text",fontSize:12,fontWeight:"semi-bold"})},unlimited_pages:{onboardingKey:"unlimited_pages",imgSrc:"https://static.figma.com/uploads/cdb490f97220f8598d6b342c873569c68ac2370e",header:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.title",fontSize:13,fontWeight:"medium"}),description:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.description",fontSize:11,color:"secondary"}),hoverTitle:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.hover_text",fontSize:12,fontWeight:"semi-bold"})},video:{onboardingKey:"video",imgSrc:"https://static.figma.com/uploads/0e9be58e80f8d577fc4b1028f07a903bca68c970",header:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.title",fontSize:13,fontWeight:"medium"}),description:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.description",fontSize:11,color:"secondary"}),hoverTitle:l.createElement(o.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.hover_text",fontSize:12,fontWeight:"semi-bold"})}},m={component_publishing:"seen_pro_onboarding_component_publishing_overlay",video:"seen_pro_onboarding_video_overlay",password_protection:"seen_pro_onboarding_password_protection_overlay",audio:"seen_pro_onboarding_audio_overlay",unlimited_pages:"seen_pro_onboarding_unlimited_pages_overlay",prototype_only_links:"seen_pro_onboarding_prototype_only_links_overlay",open_sessions:"seen_pro_onboarding_open_sessions_overlay",unlimited_files:"seen_pro_onboarding_unlimited_files_overlay",unlimited_projects:"seen_pro_onboarding_unlimited_projects_overlay",private_projects:"seen_pro_onboarding_private_projects_overlay"};(e=>{e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID="Pro Trials V3: Actively Triggered Onboarding Blocked",e.getOnboardingStepUserFlag=function(e){return m[e]},e.getOnboardingStepTrackingContext=function(e){return`Pro Trials V3 Onboarding: ${(0,r.vE)(e)}`},e.getOnboardingStepTriggerEventId=function(e){return`triggered_pro_trials_v3_${e}_onboarding`},e.trackActivelyTriggeredOnboardingStepBlocked=function(t,i){(0,a.sx)(e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID,{blockedOnboardingFeature:i,blockingOverlayId:t})},e.getOnboardingCardsStackContentProps=function({editorType:e,isVoiceEnabled:t,isWorkshopModeEnabled:i}){let n=[s,"password_protection","component_publishing","unlimited_pages","video"];t&&n.push("audio");let l=[s,"password_protection"];return t&&l.push("audio"),i&&l.push("open_sessions"),(({[c._Y.DESIGN]:n,[c._Y.SLIDES]:n,[c._Y.SITES]:n,[c._Y.WHITEBOARD]:l})[e]||[]).map(e=>u[e])}})(n||(n={}))},741477:(e,t,i)=>{i.d(t,{E:()=>a});var n=i(302245);let l=(0,n.Mz)(e=>e.dropdownShown,e=>null==e?void 0:e.type),a=e=>(0,n.Mz)(l,t=>t===e)},410613:(e,t,i)=>{i.d(t,{JG:()=>a,pw:()=>n});var n,l=(e=>(e[e.TEXT=0]="TEXT",e[e.FILE_COMMENT=1]="FILE_COMMENT",e[e.FILE_COMMENT_REPLY=2]="FILE_COMMENT_REPLY",e[e.INVITE_FILE=3]="INVITE_FILE",e[e.INVITE_FOLDER=4]="INVITE_FOLDER",e[e.INVITE_TEAM=5]="INVITE_TEAM",e[e.AT_MENTION_INVITE=7]="AT_MENTION_INVITE",e[e.AT_MENTION=8]="AT_MENTION",e[e.TEAM_ROLE_REQUEST_APPROVED=9]="TEAM_ROLE_REQUEST_APPROVED",e[e.TEAM_ROLE_REQUEST_DENIED=10]="TEAM_ROLE_REQUEST_DENIED",e[e.TEAM_ROLE_REQUEST_CREATED=11]="TEAM_ROLE_REQUEST_CREATED",e[e.ORG_ACCOUNT_TYPE_REQUEST_CREATED=12]="ORG_ACCOUNT_TYPE_REQUEST_CREATED",e[e.ORG_ACCOUNT_TYPE_REQUEST_APPROVED=13]="ORG_ACCOUNT_TYPE_REQUEST_APPROVED",e[e.ORG_ACCOUNT_TYPE_REQUEST_DENIED=14]="ORG_ACCOUNT_TYPE_REQUEST_DENIED",e[e.HUB_FILE_DUPLICATED=15]="HUB_FILE_DUPLICATED",e[e.HUB_PLUGIN_INSTALLED=16]="HUB_PLUGIN_INSTALLED",e[e.HUB_FILE_LIKED=17]="HUB_FILE_LIKED",e[e.HUB_PLUGIN_LIKED=18]="HUB_PLUGIN_LIKED",e[e.HUB_FILE_REMIXED=19]="HUB_FILE_REMIXED",e[e.FILE_COMMENT_REACTION=20]="FILE_COMMENT_REACTION",e[e.HUB_PROFILE_FOLLOWED=21]="HUB_PROFILE_FOLLOWED",e[e.HUB_RESOURCE_PUBLISHER_ADDED=22]="HUB_RESOURCE_PUBLISHER_ADDED",e[e.HUB_RESOURCE_PUBLISHER_REMOVED=23]="HUB_RESOURCE_PUBLISHER_REMOVED",e[e.HUB_RESOURCE_COMMENT=24]="HUB_RESOURCE_COMMENT",e[e.HUB_RESOURCE_COMMENT_REPLY=25]="HUB_RESOURCE_COMMENT_REPLY",e[e.INVITE_FILE_REPO=26]="INVITE_FILE_REPO",e[e.FILE_ROLE_REQUEST_CREATED=27]="FILE_ROLE_REQUEST_CREATED",e[e.MERGE_REQUEST_REVIEWER_ADDED=28]="MERGE_REQUEST_REVIEWER_ADDED",e[e.MERGE_REQUEST_APPROVED=29]="MERGE_REQUEST_APPROVED",e[e.MERGE_REQUEST_APPROVAL_REVOKED=30]="MERGE_REQUEST_APPROVAL_REVOKED",e[e.BRANCH_MERGED=31]="BRANCH_MERGED",e[e.BRANCH_ARCHIVED=32]="BRANCH_ARCHIVED",e[e.COMMUNITY_MENTION=33]="COMMUNITY_MENTION",e[e.FILE_ROLE_REQUEST_APPROVED=34]="FILE_ROLE_REQUEST_APPROVED",e[e.MERGE_REQUEST_REVIEWER_INVITED_ADDED=35]="MERGE_REQUEST_REVIEWER_INVITED_ADDED",e[e.ORG_JOIN_REQUEST_CREATED=36]="ORG_JOIN_REQUEST_CREATED",e[e.HUB_WIDGET_LIKED=37]="HUB_WIDGET_LIKED",e[e.HUB_WIDGET_INSTALLED=38]="HUB_WIDGET_INSTALLED",e[e.MERGE_REQUEST_CHANGES_REQUESTED=39]="MERGE_REQUEST_CHANGES_REQUESTED",e[e.ORG_JOIN_REQUEST_APPROVED_TO_SHARER=40]="ORG_JOIN_REQUEST_APPROVED_TO_SHARER",e[e.HUB_PLUGIN_USED=41]="HUB_PLUGIN_USED",e[e.HUB_WIDGET_USED=42]="HUB_WIDGET_USED",e[e.PRO_ACCOUNT_TYPE_REQUEST_CREATED=43]="PRO_ACCOUNT_TYPE_REQUEST_CREATED",e[e.PRO_ACCOUNT_TYPE_REQUEST_APPROVED=44]="PRO_ACCOUNT_TYPE_REQUEST_APPROVED",e[e.PRO_ACCOUNT_TYPE_REQUEST_DENIED=45]="PRO_ACCOUNT_TYPE_REQUEST_DENIED",e[e.INVITE_TEAM_REMINDER=46]="INVITE_TEAM_REMINDER",e[e.PLUGIN_PUBLISHER_ADDED=47]="PLUGIN_PUBLISHER_ADDED",e[e.RESOURCE_SOLD=48]="RESOURCE_SOLD",e[e.INVITE_FILE_REMINDER=49]="INVITE_FILE_REMINDER",e[e.BATCHED_FILE_COMMENT=50]="BATCHED_FILE_COMMENT",e[e.FEED_POST_COMMENT=51]="FEED_POST_COMMENT",e[e.FEED_POST_AT_MENTION=52]="FEED_POST_AT_MENTION",e[e.FEED_POST_REACTION=53]="FEED_POST_REACTION",e[e.RESOURCE_PUBLISH=54]="RESOURCE_PUBLISH",e[e.FEED_COMMENT_REACTION=55]="FEED_COMMENT_REACTION",e[e.FEED_POST_DESCRIPTION_AT_MENTION=56]="FEED_POST_DESCRIPTION_AT_MENTION",e[e.BATCHED_FEED_POST=57]="BATCHED_FEED_POST",e[e.BATCHED_FEED_COMMENT_REACTION=58]="BATCHED_FEED_COMMENT_REACTION",e[e.RESOURCE_SUBSCRIPTION_PRICE_INCREASE=60]="RESOURCE_SUBSCRIPTION_PRICE_INCREASE",e[e.FEED_POLL_CLOSE=61]="FEED_POLL_CLOSE",e[e.FILE_ROLE_REQUEST_PENDING_MOVE_TO_PROJECT=63]="FILE_ROLE_REQUEST_PENDING_MOVE_TO_PROJECT",e))(l||{});let a="0";(e=>{(e=>{(e.Block||(e.Block={})).ATTACHMENT_TYPES=new Set(["BodyAndThumbnailAttachment","ActionableAttachment","ClientActionableAttachment","BodyAttachment"])})(e.BlockKit||(e.BlockKit={}))})(n||(n={}))},749336:(e,t,i)=>{i.d(t,{d:()=>x});var n=i(411855),l=i(188507),a=i(776250),r=i(499737),o=i(860601),c=i(743282),s=i(493323),d=i(827586),u=i(939863),m=i(501114),_=i(553015),p=i(975350),E=i(103907),f=i(696097),g=i(259927),h=i(654034),v=i(920037),C=i(860178),N=i(279453),w=i(531827),b=i(440535),T=i(91425),I=i(238559),y=i(113292),k=i(728268),R=i(636662),S=i(57289),D=i(448879),A=i(757207);let P="quick_reply_thread_view--headerButton--wmkPJ",O=new class{get file(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get fileFollower(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get comments(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}},L=null,x=(0,n.forwardRef)((e,t)=>{let i=(0,r.Rs)(N.Uhm,{fileKey:e.quickReplyInfo.fileKey,rootId:e.quickReplyInfo.threadId});return n.createElement("div",{className:"quick_reply_thread_view--container--WPlnN",ref:t},n.createElement("div",{className:"quick_reply_thread_view--column--UrAD4"},n.createElement("div",{className:"quick_reply_thread_view--header--BHlje"},n.createElement("div",{className:P},!e.hideOverflowMenu&&n.createElement(_.$,{icon:e.closeIcon,variant:"text",onClick:e.onClose})),n.createElement("div",{className:"quick_reply_thread_view--fileName--S2twU"},"loaded"===i.status&&i.data.file&&i.data.file.name),n.createElement("div",{className:P},e.hideOverflowMenu?n.createElement(_.$,{icon:e.closeIcon,variant:"text",onClick:e.onClose}):n.createElement("div",{style:{display:"none"}},n.createElement(_.$,{icon:"dots-32",variant:"text"})))),n.createElement(M,{quickReplyInfo:e.quickReplyInfo,result:i,hideOverflowMenu:e.hideOverflowMenu})))});function M(e){let t=(0,C.iZ)();return t?"loading"===e.result.status||"disabled"===e.result.status?n.createElement(s.qc,{size:"medium"}):"errors"===e.result.status?n.createElement("div",{className:"quick_reply_thread_view--errorState--Re4UD"},(0,u.t)("quick_reply.unable_to_load_thread")):null==e.result.data.file?n.createElement("div",null,(0,u.t)("quick_reply.unable_to_load_thread")):n.createElement(F,{quickReplyInfo:e.quickReplyInfo,result:e.result,user:t,hideOverflowMenu:e.hideOverflowMenu}):null}function F(e){var t,i,r,o,c,s;let{quickReplyInfo:d,result:m,user:g}=e,{fileKey:C,threadId:N}=d,T=(0,f.dr)({args:{fileKey:C,rootId:N},subscription:m}),I=(0,l.wA)(),{file:y}=m.data,k=(0,n.useMemo)(()=>{var e,t,i,n;return(0,w.mp)({currentOrgId:null==(e=y.org)?void 0:e.id,teamId:null==(t=y.team)?void 0:t.id,fileKey:C,isOrgGuest:(null==(n=null==(i=y.org)?void 0:i.currentOrgUser)?void 0:n.permission)==="guest",users:[]})},[null==(t=y.org)?void 0:t.id,null==(i=y.team)?void 0:i.id,C,null==(o=null==(r=y.org)?void 0:r.currentOrgUser)?void 0:o.permission]),{mobileCommentThread:R}=y,{currentUserCommentReadStatus:S}=y,D=R.find(e=>e.id===N),A=(0,l.d4)(e=>e.comments.savingCommentUuids),P=(0,l.d4)(e=>e.comments.lgPendingUuidToServerIdMap);if(!D)return n.createElement("div",null,(0,u.t)("quick_reply.unable_to_load_thread"));let x=R.map(e=>(0,h.G9)(g.id,D,e,S??h.gj,A,P,e.attachments)),M={id:D.id,key:C,anchored:!1,canvasPosition:null,selectionAnchorCanvasPosition:null,comments:x,messageMeta:x[0].message_meta,page:(null==(c=D.clientMeta)?void 0:c.pageId)||null,isActive:!0,replyCount:R.length-1,isCanvasMention:!1,pageName:(null==(s=D.clientMeta)?void 0:s.pageId)||null,sidebarItemType:b.kT.COMMENT_THREAD},F={api:T,status:m.status,data:O,threads:{status:m.status,data:[M],errors:m.errors},errors:m.errors,isResolvedLoaded:!0,isUnresolvedLoaded:!0};return n.createElement(E.j9.Provider,{value:F},n.createElement("div",{className:"quick_reply_thread_view--mouseContainer--qyIpH",onMouseEnter:()=>{let e=x.some(e=>e.isUnread);L=setTimeout(()=>{T.commentReceipts&&e&&(I(p.AY({receiptsAPI:T.commentReceipts,thread:M})),(0,a.sx)("Comment Thread Read",{commentThreadId:N,threadType:"file_browser_quick_reply"}))},1e3)},onMouseLeave:()=>{L&&clearTimeout(L)}},n.createElement("div",{className:"quick_reply_thread_view--preview--I47Ds"},n.createElement("img",{src:D.thumbnailUrl||void 0,className:"quick_reply_thread_view--previewImage--gSK-n",style:{backgroundColor:(0,v.C)(y.checkpointClientMeta)},alt:"thumbnail"}),n.createElement("a",{href:d.deeplink??`/file/${C}?fuid=${g.id}&#${N}`,className:"quick_reply_thread_view--openFileButton--RBtVz"},n.createElement(_.$,{variant:"text",icon:"new-window-32"}))),n.createElement(U,{loadedComments:x,user:g,quickReplyInfo:d,commentMentionables:k,hideOverflowMenu:e.hideOverflowMenu})))}function B(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.dropdownShown||null),i=(0,C.iZ)(),a=(0,T.v)();if(!t||t.type!==g.VJ)return null;let{comment:r,parentRect:o,thread:c,isUnread:s}=t.data;return n.createElement(k.V,{dispatch:e,comment:r,parentRect:o,currentUser:i,isUnread:s,thread:c,copyLink:a})}function U(e){let{loadedComments:t,user:i,quickReplyInfo:a,commentMentionables:r,hideOverflowMenu:s}=e,{fileKey:_,threadId:f}=a,g=(0,l.wA)();(0,n.useEffect)(()=>{g(p.Fm({threadId:f}))},[g,f]);let h=(0,l.d4)(e=>e.comments.typeahead),v=(0,l.d4)(e=>e.comments.editingComment),C=(0,l.d4)(e=>e.dropdownShown||null),N=(0,l.d4)(e=>{var t;return null==(t=e.comments.activeThread)?void 0:t.id}),w=(0,l.d4)(e=>e.comments.threads),T=N&&w[N]||null,P=(null==T?void 0:T.reply.messageMeta)||[],{submitReply:O,updateMessage:L,submitEdit:x}=function(e){var t;let i=(0,l.wA)(),a=(0,E.I_)().writeAPI,r=null==(t=(0,E._9)())?void 0:t.threads;return{submitReply:n.useCallback(e=>{if(!a){console.error("Calling submitReply with no write API");return}r&&"loaded"===r.status&&r.data.find(t=>t.id===e.threadId)&&(e.onCommentValidationFailure=(t,n,l,r)=>p.dB(a,i,t,n,l,r,e.uuid,D.y),i(p.lV({...e,commentsWriteApi:a,commentsConfiguration:D.y,trackingContext:{feature:"web_quick_reply_screen"}})))},[i,r,a]),updateMessage:n.useCallback(t=>{i(p.k7({threadId:e,messageMeta:t}))},[i,e]),submitEdit:n.useCallback((e,t)=>{i(p._v({comment:e,messageMeta:t}))},[i])}}(f),M=(0,y._B)(),F=n.useRef(null),U=n.useRef(null),H=n.useRef(null),[W,G]=n.useState(null),[V,j]=n.useState(n.useRef(null)),q=n.useRef(null),z=0,Q=0,$=0;q.current&&q.current.offsetParent&&(z=q.current.offsetWidth,Q=q.current.offsetLeft,$=q.current.offsetParent.clientHeight-q.current.offsetTop);let Y=e=>e||{x:0,y:0},K=n.useRef(null);(0,n.useEffect)(()=>{K.current&&K.current.scrollToBottom()},[]);let Z=[...new Set(t.map(e=>e.user.handle))],X=t.find(e=>e.id===f);return X?n.createElement(n.Fragment,null,n.createElement("div",{style:m.sx.flex1.$}),n.createElement(d.P,{className:"quick_reply_thread_view--bottomAnchoredScrollContainer--5-F87",useBottomPinning:!0,ref:K,enableScrollShadow:!0},n.createElement("div",{className:"quick_reply_thread_view--reverseColumn--ur8Yx"},t.slice().reverse().map((e,l)=>n.createElement(k.I,{editorRef:H,key:`thread-comment-${e.id}`,dispatch:g,user:i,thread:{comments:t,key:_,id:f},setHyperlinkLocation:G,hyperlinkLocation:W,setHyperlinkEditorRef:j,comment:e,typeahead:h,mentionables:r,prevAuthor:0===l?null:t[l-1].user_id,index:l,editingComment:v,submitEdit:x,dropdownShown:C,viewportPositionFromClientPosition:Y,editorOnInsert:M.editorOnInsert,editorOnClear:M.editorOnClear,threadPosition:{x:0,y:0},setIsEditorFocused:o.lQ,showEditedIndicator:!!e.edited_at,hideOverflowMenu:s,hideReactions:!1,hideEmojiPicker:!1,allowAttachments:!1,hideResolve:!1,setResolved:o.lQ,mountInputFocused:!0,editorType:"comment-editor-thread",isQuickReplyThreadView:!0})))),n.createElement(R.K,{editorRef:U,dispatch:g,user:i,typeahead:h,mentionables:r,threadPosition:null,messageMeta:P,submitText:(0,u.t)("comments.reply"),placeholderText:(0,u.t)("comments.reply"),setHyperlinkLocation:G,hyperlinkLocation:W,setHyperlinkEditorRef:j,onCancel:o.lQ,onSubmit:()=>{O({threadId:f,threadUuid:X.uuid||void 0,uuid:(0,c.g)()})},onComposeFocus:void 0,editorOnInsert:M.editorOnClear,editorOnClear:M.editorOnInsert,viewportPositionFromClientPosition:Y,isDisabled:!1,mountInputFocused:!0,updateMessage:L,setIsEditorFocused:o.lQ,isEmojiPickerDisabled:null!==v,hideEmojiPicker:!1,allowAttachments:!1,recordingKey:b.Dw.quickReply,className:A.MJ,threadId:f,fileKey:_,editingExistingComment:!1,editorType:"comment-editor-reply",authorNames:Z,replyContainerRef:q}),n.createElement(I.rf,{decoratorsRef:F,onClear:M.onClear,onInsert:M.onInsert,width:z,direction:S.ri.UPWARDS,positionFromBottom:{left:Q,bottom:$}}),n.createElement(B,null)):null}},933464:(e,t,i)=>{i.d(t,{Pq:()=>eo,jZ:()=>es,ke:()=>l,kt:()=>er,sp:()=>r,tY:()=>a});var n,l,a,r,o=i(411855),c=i(109388),s=i(188507),d=i(629019),u=i.n(d);i(776250);var m=i(563706),_=i(563042),p=i(799569),E=i(268537),f=i(946689),g=i(395771),h=i(574176),v=i(348425),C=i(505113),N=i(939863),w=i(251288),b=i(545941),T=i(71425),I=i(738269),y=i(662275),k=i(902139),R=i(672517),S=i(756085),D=i(318812),A=i(4564),P=i(215822),O=i(555328),L=i(498606),x=i(978527),M=i(720488),F=i(488578),B=i(7959),U=i(33876),H=i(103567),W=i(632788),G=i(758137),V=i(350913),j=i(943089),q=i(17076),z=i(769533),Q=i(362679),$=i(13556),Y=i(665150),K=i(961803),Z=i(331536),X=i(12747),J=i(237494),ee=i(215877),et=i(551034),ei=i(132623),en=i(247866),el=i(583288);function ea(e){switch(e){case"plugins-menu-dev-create-new":return(0,N.t)("fullscreen.plugins_menu.new_plugin");case"widgets-menu-dev-create-new":return(0,N.t)("fullscreen.plugins_menu.new_widget");case"widgets-menu-dev-import-from-manifest":return(0,N.t)("fullscreen.plugins_menu.import_widget_from_manifest");case"plugins-menu-dev-import-from-manifest":return(0,N.t)("fullscreen.plugins_menu.import_plugin_from_manifest");case"plugins-menu-open-directory-mac":return(0,N.t)("fullscreen.plugins_menu.open_directory_mac");case"plugins-menu-open-directory-win":return(0,N.t)("fullscreen.plugins_menu.open_directory_win");case"plugins-menu-open-directory-vscode":return(0,N.t)("fullscreen.plugins_menu.open_directory_vscode");default:return""}}let er="CREATE_PLUGIN_DROPDOWN";function eo(e){var t;let i=(0,s.wA)(),n=(0,s.d4)(e=>e.dropdownShown),l=e.resourceType===O.bD.WIDGET;return(null==(t=null==n?void 0:n.data)?void 0:t.targetRect)?o.createElement(M.Cf,{minWidth:163,targetRect:null==n?void 0:n.data.targetRect,lean:e.lean,propagateCloseClick:!0},o.createElement(E.W.Option,{onClick:t=>{t.stopPropagation(),i(k.KE()),i(y.to({type:G.h,data:{resourceType:e.resourceType||O.bD.PLUGIN}}))}},ea(l?"widgets-menu-dev-create-new":"plugins-menu-dev-create-new")),o.createElement(E.W.Option,{onClick:e=>{e.stopPropagation(),i((0,T.JZ)({resourceType:l?"widget":"plugin"}))}},ea(l?"widgets-menu-dev-import-from-manifest":"plugins-menu-dev-import-from-manifest"))):null}let ec=class e extends o.PureComponent{constructor(){super(...arguments),this.state={isMouseOver:!1,shouldShowErrorModal:!1},this.isWidget=!!(null==(n=this.props.plugin.manifest)?void 0:n.containsWidget),this.onPublish=()=>{this.props.onPublishClick&&this.props.onPublishClick(this.props.plugin.localFileId)},this.onDelete=()=>{this.props.dispatch(T.qR(this.props.plugin.localFileId))},this.onClick=()=>{this.props.onTileClick?this.props.onTileClick():this.onRevealLocally()},this.onRevealLocally=()=>{(0,A.M)().openExtensionDirectory(this.props.plugin.localFileId)},this.showError=()=>{this.setState({shouldShowErrorModal:!0})},this.hideError=()=>{this.setState({shouldShowErrorModal:!1})},this.tileDropdownType=this.isWidget?e.DEVELOPMENT_PLUGIN_DROPDOWN:e.DEVELOPMENT_WIDGET_DROPDOWN,this.onContextMenu=e=>{this.props.dispatch(I.j7({type:this.tileDropdownType,data:{type:"context",localFileId:this.props.plugin.localFileId,clientX:e.clientX,clientY:e.clientY}}))},this.shouldShowContextMenu=()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.tileDropdownType&&this.props.dropdownShown.data.localFileId===this.props.plugin.localFileId&&"context"===this.props.dropdownShown.data.type,this.shouldShowPointingDropdown=()=>null!=this.props.dropdownShown&&this.props.dropdownShown.type===this.tileDropdownType&&this.props.dropdownShown.data.localFileId===this.props.plugin.localFileId&&"pointing"===this.props.dropdownShown.data.type,this.onDotsClick=()=>{this.props.dispatch(I.j7({type:this.tileDropdownType,data:{type:"pointing",localFileId:this.props.plugin.localFileId}}))},this.dotsIconRef=e=>{this.dotsIconEl=c.findDOMNode(e)},this.onMouseEnter=()=>{this.setState({isMouseOver:!0})},this.onMouseLeave=()=>{this.setState({isMouseOver:!1})}}render(){let e=o.createElement(o.Fragment,null,o.createElement(E.W.Option,{onClick:this.onPublish},o.createElement(N.Tx,{id:"community.plugins.publish_new_version"})),o.createElement(E.W.Option,{onClick:this.onRevealLocally},ea((0,P.YQ)())),o.createElement(E.W.Separator,null),o.createElement(E.W.Option,{onClick:this.onDelete},o.createElement(N.Tx,{id:"community.permissions_modal_publish_tab.footer.remove"}))),{name:t,error:i}=this.props.plugin,n=this.isWidget?(0,N.t)("community.plugins.widget"):(0,N.t)("community.plugins.plugin");return o.createElement("div",{className:q.bp},o.createElement("div",{className:i?q.rS:q.el,onClick:i?this.showError:this.onClick,onContextMenu:this.onContextMenu,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i?o.createElement("div",{className:q.yd},o.createElement(v.t,{svg:en.A})):this.isWidget?o.createElement("div",{className:q.im},this.props.isPublished?o.createElement("img",{className:q.K0,src:`/community/icon?resource_type=widget&resource_id=${this.props.plugin.plugin_id}`,alt:""}):o.createElement(v.t,{svg:K.A})):o.createElement("div",{className:q.im},o.createElement(v.t,{svg:ee.A,fallbackSvg:et.A})),o.createElement("div",{className:q.In},o.createElement("div",{className:i?q.iH:q.YG},t,this.props.isPublished?o.createElement(v.t,{svg:Y.A}):null),i&&this.state.isMouseOver?o.createElement(C.o,{className:q.cV,text:"Error: "+i.text}):o.createElement(g.R,{className:q.cV,text:this.props.plugin.localFilePath.replace("/manifest.json","")})),i&&o.createElement(h.B,{className:q.rs,svg:m.Ay.mac?Z.A:X.A})),o.createElement(B.YW,{svg:Q.A,fallbackSvg:$.A,className:u()(q.q6,this.shouldShowPointingDropdown()?q.Yh:""),onClick:this.onDotsClick,ref:this.dotsIconRef,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,N.t)("community.plugins.options"),selected:this.shouldShowPointingDropdown()}),this.shouldShowContextMenu()&&o.createElement(E.W.Dropdown,{className:q.Gm,style:{left:this.props.dropdownShown.data.clientX,top:this.props.dropdownShown.data.clientY}},e),this.shouldShowPointingDropdown()&&o.createElement(M.Cf,{className:q.Gm,minWidth:122,targetRect:this.dotsIconEl.getBoundingClientRect(),propagateCloseClick:!0},e),this.state.shouldShowErrorModal&&o.createElement(F.aF,{size:"small",title:(0,N.t)("community.plugins.plugin_or_widget_issue",{resourceType:n})},o.createElement(p.s_,{...this.props}),o.createElement("div",{className:q.hM},this.props.plugin.error?this.props.plugin.error.text:null==i?void 0:i.text),o.createElement("div",{className:q.H1},o.createElement(f.$$,{onClick:this.hideError},o.createElement(N.Tx,{id:"general.done"})))))}};ec.DEVELOPMENT_PLUGIN_DROPDOWN="DEVELOPMENT_PLUGIN_DROPDOWN",ec.DEVELOPMENT_WIDGET_DROPDOWN="DEVELOPMENT_WIDGET_DROPDOWN";let es=443==i.j?ec:null;function ed(e){return o.createElement("div",{className:e.containerClassName||q.x$,onContextMenu:e.onOptionsClick,onClick:e.onClick||(e=>e.preventDefault())},o.createElement(j.li.IconAndBadgeContainer,{className:q.yq},o.createElement("div",{className:q.zr},e.pluginIcon),e.showEditorTypeIcon&&o.createElement(j.li.BadgeContainer,null,o.createElement(j.dn,{editorType:e.editorType,is16x16:!0}))),o.createElement("div",{className:q.Kz},o.createElement("div",{className:q.P8},o.createElement("div",{className:q.iZ},e.title),e.titleSuffix),o.createElement("div",{className:m.rr?q.uN:q.UB},"string"==typeof e.subTitle?(0,_.$J)(e.subTitle):e.subTitle)),o.createElement("div",{className:q.Hq},o.createElement(B.YW,{ref:e.optionsIconRef,svg:Q.A,fallbackSvg:$.A,className:q.UI,onClick:e.onOptionsClick,selected:e.isSelected,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,N.t)("community.plugins.options"),disabled:e.disabled})))}(l||(l={})).Tile=function(e){let t=(0,D.U)(),i=(null==t?void 0:t.type)===W.lD&&t.data.localFileId===e.plugin.localFileId,n=(0,s.wA)(),l=o.useRef(null);return o.createElement(o.Fragment,null,o.createElement(ed,{pluginIcon:o.createElement("div",{className:q.TM},e.plugin.error?o.createElement(h.B,{className:q.QW,svg:el.A}):o.createElement(v.t,{className:q.ft,svg:z.A})),editorType:e.plugin.manifest.editorType||[],showEditorTypeIcon:e.showEditorTypeIcon,onOptionsClick:t=>{if(t.stopPropagation(),i){n(I.oB());return}let a=l.current;n(I.j7({type:W.lD,data:{localFileId:e.plugin.localFileId,targetRect:a.getBoundingClientRect()}}))},optionsIconRef:l,isSelected:i,title:e.plugin.name,subTitle:o.createElement(U.A,{localResource:e.plugin,publishedResource:void 0}),disabled:!1,containerClassName:e.containerClassName,onClick:e.onClick}),i&&o.createElement(W.T9,{localResource:e.plugin}))},(e=>{function t(e){var t;if((0,b.AC)(e))return o.createElement(w.L,{height:"16"});if((0,P.Rt)(e)){let i=null==(t=e.roles.org)?void 0:t.name;return o.createElement(h.B,{svg:J.A,className:q.kQ,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":i?(0,N.t)("community.plugins.private_for_plugin_org_name",{orgName:i}):(0,N.t)("community.plugins.private_for_plugin_org")})}if(e.roles.is_public)return o.createElement(h.B,{className:q.Ac,svg:ei.A,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,N.t)("community.plugins.published_to_community")})}e.Tile=function(e){let i=(0,D.U)(),n=(null==i?void 0:i.type)===W.lD&&i.data.pluginId===e.plugin.id&&i.data.targetRect,l=(0,s.wA)(),a=o.useRef(null),r=(0,P.uF)(e.plugin),c=(0,S.WK)(e.plugin.id),d=o.useCallback(()=>t(e.plugin),[e.plugin])();return o.createElement(o.Fragment,null,o.createElement(ed,{containerClassName:e.containerClassName,onClick:e.onClick,pluginIcon:o.createElement(x.V,{plugin:r}),editorType:r.manifest.editorType||[],showEditorTypeIcon:!0,onOptionsClick:()=>{if(n){l(I.oB());return}let t=a.current;l(I.j7({type:W.lD,data:{pluginId:e.plugin.id,targetRect:t.getBoundingClientRect()}}))},optionsIconRef:a,disabled:!!e.plugin.unpublished_at,isSelected:n,title:r.name,titleSuffix:d,subTitle:o.createElement(U.A,{localResource:c,publishedResource:e.plugin})}),n&&o.createElement(W.T9,{publishedResource:e.plugin,viewResource:()=>{l(I.$T({view:"communityHub",subView:"plugin",publishedPluginId:e.plugin.id})),l(y.Ce())}}))},e.PluginManagementTitleBadge=t})(a||(a={})),(r||(r={})).Tile=function(e){let t=(0,P.uF)(e.plugin);return o.createElement("div",{className:e.containerClassName??q.x$},o.createElement(j.li.IconAndBadgeContainer,{className:q.yq},o.createElement("div",{className:q.zr},o.createElement(x.V,{plugin:t})),o.createElement(j.li.BadgeContainer,null,o.createElement(j.dn,{editorType:t.manifest.editorType,is16x16:!0}))),o.createElement("div",{className:q.Kz},o.createElement(H.PE,{resource:e.plugin})))},(0,R.tf)(function({plugin:e,className:t,onClick:i}){let n=(0,P.uF)(e),l=(0,s.wA)();return o.createElement("a",{className:t||q.m6,"data-plugin-id":e.id,key:e.id,onClick:t=>{t.metaKey||(t.preventDefault(),null==i||i(),l(I.$T({view:"communityHub",subView:"plugin",publishedPluginId:e.id})))},href:(0,V.ho)(e.id)},o.createElement(j.li.IconAndBadgeContainer,{className:q.yk},o.createElement("div",{className:q.A9},o.createElement(x.V,{plugin:n})),o.createElement(j.li.BadgeContainer,null,o.createElement(j.dn,{editorType:n.manifest.editorType,is16x16:!0}))),o.createElement("div",{className:q.XV},o.createElement("div",{className:q.vc},n.name),o.createElement("div",{className:q.ar},(0,b.G8)(n,_.$J))))})},368361:(e,t,i)=>{i.d(t,{R:()=>Z});var n=i(411855),l=i(188507),a=i(776250),r=i(540193),o=i(201888),c=i(517333),s=i(799569),d=i(946689),u=i(493323),m=i(827586),_=i(939863),p=i(410424),E=i(74021),f=i(941381),g=i(225266),h=i(446686),v=i(442597),C=i(944682),N=i(662275),w=i(445092),b=i(115826),T=i(756085),I=i(27703),y=i(860178),k=i(820642),R=i(99506),S=i(691205),D=i(596607),A=i(555328),P=i(813408),O=i(754168),L=i(237870),x=i(488578),M=i(548593),F=i(761939),B=i(933464),U=i(133648),H=i(227565);let W=(0,M.rw)();function G(e){let[t,i]=n.useState();return n.useEffect(()=>{(0,o.oU)(location.href).then(e=>i(e))},[]),n.createElement("div",{className:H.bx},n.createElement("div",{className:H.Uz},e.tab===F.gr.PLUGINS?(0,_.t)("community.universal_posting_modal.desktop_callout.plugins"):(0,_.t)("community.universal_posting_modal.desktop_callout.widgets")),n.createElement(d.N_,{onClick:()=>{(0,a.sx)(t?"community_publish_open_desktop_clicked":"community_publish_get_desktop_clicked",{resourceType:e.tab===F.gr.PLUGINS?A.bD.PLUGIN:A.bD.WIDGET}),t&&(0,o.Sr)(location.href)},href:t?void 0:"https://www.figma.com/downloads/",className:H.nf,target:"_blank",trusted:!0},void 0===t?"":t?` ${(0,_.t)("community.universal_posting_modal.desktop_open")}`:` ${(0,_.t)("community.universal_posting_modal.desktop_get")}`))}function V(e){return e.selectedTab===F.gr.FILES?n.createElement(F.fV,{activeFileKey:e.activeFileKey,setActiveFile:e.setActiveFile,deselectActiveFile:e.deselectActiveFile,filterFn:e.filterFn}):e.selectedTab===F.gr.PLUGINS?n.createElement(q,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource}):n.createElement(j,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource})}function j(e){let{invitedWidgets:t,pendingReviewWidgets:i,approvedWidgets:l,developmentWidgets:a}=(0,T.E$)(),r=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return c.eD?t.length+i.length+l.length+a.length===0?n.createElement(F.n6,{tab:F.gr.WIDGETS}):n.createElement("div",{className:H.BA,onClick:e.deselectActiveResource,role:"presentation"},t.map(e=>n.createElement(B.sp.Tile,{key:e.id,plugin:e,containerClassName:r(e)?H.Ij:H.$z})),a.map(t=>n.createElement(B.ke.Tile,{plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:r(t)?H.Ij:H.$z,showEditorTypeIcon:!0})),[...i,...l].map(t=>n.createElement(B.tY.Tile,{key:t.id,plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},containerClassName:r(t)?H.Ij:H.$z}))):n.createElement(G,{tab:F.gr.WIDGETS})}function q(e){let{invitedPlugins:t,pendingReviewPlugins:i,approvedPlugins:l,developmentPlugins:a}=(0,T.LR)(),r=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return c.eD?a.length+i.length+l.length+t.length===0?n.createElement(F.n6,{tab:F.gr.PLUGINS}):n.createElement("div",{className:H.BA,onClick:e.deselectActiveResource,role:"presentation"},t.map(e=>n.createElement(B.sp.Tile,{key:e.id,plugin:e,containerClassName:r(e)?H.Ij:H.$z})),a.map(t=>n.createElement(B.ke.Tile,{plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:r(t)?H.Ij:H.$z,showEditorTypeIcon:!0})),[...i,...l].map(t=>n.createElement(B.tY.Tile,{key:t.id,plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},containerClassName:r(t)?H.Ij:H.$z}))):n.createElement(G,{tab:F.gr.PLUGINS})}function z(e){return c.eD?n.createElement("div",{className:H.q5},(0,_.t)("community.universal_posting_modal.plugin_info.available",{numPlugins:e.numPlugins})):n.createElement("div",{className:H.q5},(0,_.t)("community.universal_posting_modal.plugin_info.unavailable"))}function Q(e){return c.eD?n.createElement("div",{className:H.q5},(0,_.t)("community.universal_posting_modal.widget_info.available",{numWidgets:e.numWidgets})):n.createElement("div",{className:H.q5},(0,_.t)("community.universal_posting_modal.widget_info.unavailable"))}function $(e){let t;let i=(0,l.d4)(e=>e.user.email),a=(0,l.d4)(e=>e.orgById);if((0,l.d4)(e=>(0,D.Yj)(e))){let l=e.currentOrgId&&a[e.currentOrgId]?a[e.currentOrgId].name:null;t=n.createElement("div",{className:H.Js},l&&n.createElement(n.Fragment,null,l,n.createElement("span",null,"\xa0\xb7\xa0")),i)}else t=n.createElement("div",{className:H.Js},i);return n.createElement("div",{className:H.Yk},e.selectedTab===F.gr.FILES&&(0===e.numFiles?n.createElement("div",{className:H.q5},(0,_.t)("community.universal_posting_modal.file_info.available",{numFiles:e.numFiles})):n.createElement(F.IW,{query:e.searchQuery,setQuery:e.setSearchQuery,setSearchResults:e.setSearchResults})),e.selectedTab===F.gr.PLUGINS&&n.createElement(z,{numPlugins:e.numPlugins}),e.selectedTab===F.gr.WIDGETS&&n.createElement(Q,{numWidgets:e.numWidgets}),t)}function Y(e){let t=(0,l.wA)(),i=(0,y.Pc)(),r=[],o={[F.gr.FILES]:(0,_.t)("community.view_bar.files"),[F.gr.PLUGINS]:(0,_.t)("community.view_bar.plugins"),[F.gr.WIDGETS]:(0,_.t)("community.view_bar.widgets")};return Object.keys(o).forEach(l=>{let c=o[l];r.push(n.createElement(W,{tab:l,mobileNavTabTitle:c,selectedTab:e.selectedTab,key:l,onClick:()=>{e.activeSearchQuery&&(t(w._z({})),t(w.ky())),(0,a.sx)("publish_type_changed",{userId:i.id,resourceType:c}),e.setSelectedTab(l)}},c))}),n.createElement("div",{className:H.Lm},n.createElement("div",{className:H.KE},r),n.createElement(s.s_,{className:H.g8,dispatch:()=>{(0,a.sx)("community_publish_modal",{step:b.M.CLOSED}),t(N.Ce())}}))}var K=(e=>(e[e.Fetched=0]="Fetched",e[e.Fetching=1]="Fetching",e[e.NeverFetched=2]="NeverFetched",e))(K||{});let Z=(0,L.Ju)(function(e){let t=(0,y.Pc)(),i=(0,l.wA)(),o=(0,l.d4)(e=>!!e.user),c=(0,l.d4)(e=>e.currentUserOrgId),s=(0,r.ql)(c),D="loaded"===s.status,[L,M]=n.useState(2),[B,W]=n.useState({}),G=(0,T.Im)(),j=(0,I.ud)(),q=(0,T.CI)(),z=(0,T.Dy)(),Q=Object.keys(j).length;(0,S.IT)((0,f.se)()),(0,S.IT)((0,f.fd)()),n.useEffect(()=>{i(w._z({})),o&&(i(E._J()),i(g.aq()));let e=document.body.style.overflowY;return document.body.style.overflowY="hidden",()=>{document.body.style.overflowY=e}},[]),n.useEffect(()=>{if(!D||2!==L)return;let e=s.data.map(e=>e.key);0!==e.length&&(M(1),O.S.getHubFileDuplicates({fileKeys:e}).then(e=>{W(e.data.meta),M(0)}))},[L,D,s.data]);let K=e=>{let t=B[e.key],i=e.editor_type===R._Y.SLIDES;return!t&&!i},Z=()=>{eo&&i(w.ky()),(0,a.sx)("community_publish_modal",{user:t.id,step:b.M.CLOSED}),i(N.Ce())},X=async e=>{await i(p.rH({fileKey:e}))},J=async e=>{e&&(et(e),j[e.key]||i(C.yJ({file:e})),await X(e.key))},[ee,et]=n.useState(null),ei=()=>et(null),[en,el]=n.useState(null),[ea,er]=n.useState(F.gr.FILES),[eo,ec]=n.useState(""),[es,ed]=n.useState([]);if(!o)return n.createElement(n.Fragment,null);let eu=D&&0===L;return n.createElement(x.Nb,{size:"any",className:H.aq,hide:Z},n.createElement(Y,{activeSearchQuery:eo,selectedTab:ea,setSelectedTab:er}),n.createElement($,{selectedTab:ea,currentOrgId:c,searchQuery:eo,setSearchQuery:ec,setSearchResults:e=>{ed(e.filter(e=>K(e.model)))},numPlugins:q,numWidgets:z,numFiles:Q}),n.createElement(m.P,{className:H.jG,hideScrollbar:!0},!eu&&n.createElement("div",{className:H.g4},n.createElement(u.kt,{size:"small"})),eo&&n.createElement(F.fp,{activeSearchQuery:eo,activeFileKey:(null==ee?void 0:ee.key)||null,setActiveFile:J,deselectActiveFile:ei,searchResults:es}),eu&&!eo&&n.createElement(V,{selectedTab:ea,activeFileKey:(null==ee?void 0:ee.key)||null,setActiveFile:J,deselectActiveFile:ei,activeResource:en,setActiveResource:el,deselectActiveResource:()=>el(null),filterFn:K})),n.createElement("div",{className:H.qr},n.createElement("div",{className:H.PJ},(0,_.t)("community.universal_posting_modal.footer.choose_resource"),n.createElement(d.CY,{href:"https://help.figma.com/hc/articles/360040035974-Publish-Community-files",target:"_blank",trusted:!0},(0,_.t)("community.universal_posting_modal.footer.learn_more"))),n.createElement("div",{className:H.GC},n.createElement(U.M4,{onClick:Z},(0,_.t)("general.cancel")),n.createElement(U.UC,{disabled:ea===F.gr.FILES?!ee:ea===F.gr.PLUGINS||ea===F.gr.WIDGETS?!en:void 0,onClick:()=>{if(ea===F.gr.FILES)ee&&((0,a.sx)("community_publish_modal",{user:t.id,step:b.M.DETAILS,resourceType:A.bD.HUB_FILE,fileKey:ee.key,fileName:ee.name}),i((0,h.t)({fileKey:ee.key,isFullscreenOpen:!1,entryPoint:P.k2.UNIVERSAL_POSTING,canvasThumbnailPromise:(0,k.$2)(ee.key,t),source:e.source})),et(null));else if((ea===F.gr.PLUGINS||ea===F.gr.WIDGETS)&&en){let e="localFileId"in en?en:G[en.id],n=e.localFileId;(0,a.sx)("community_publish_modal",{user:t.id,step:b.M.DETAILS,resourceType:ea===F.gr.PLUGINS?A.bD.PLUGIN:A.bD.WIDGET,pluginId:e.plugin_id,pluginName:e.name,localFileId:n}),i((0,v.r)({localFileId:n,entryPoint:P.k2.UNIVERSAL_POSTING})),el(null)}}},(0,_.t)("general.next")))))},"Universal Posting Modal")},602834:(e,t,i)=>{i.d(t,{H:()=>a});var n=i(411855),l=i(860601);let a=n.createContext({shouldShowChevron:e=>!1,onClick:()=>!1,onMouseEnter:l.lQ,onMouseMove:l.lQ,onRemove:l.lQ})},883601:(e,t,i)=>{i.d(t,{A_:()=>R,An:()=>y,HH:()=>S,Pl:()=>V,_1:()=>j,_2:()=>G,bs:()=>z,dB:()=>Y,fq:()=>J,s$:()=>K,sE:()=>I.A,sv:()=>x,x7:()=>Z});var n=i(411855),l=i(188507),a=i(296210),r=i.n(a),o=i(934480),c=i(946689),s=i(564577),d=i(574176),u=i(881388),m=i(939863),_=i(178466),p=i(67294),E=i(168039);if(443==i.j)var f=i(959232);var g=i(395116),h=i(977468),v=i(58024),C=i(127391),N=i(140908),w=i(602834),b=i(986312),T=i(44173);if(443==i.j)var I=i(163119);function y(e){return n.createElement("span",{className:T.k1,dangerouslySetInnerHTML:{__html:r().sanitize(e.block.html_text)}})}function k(e){let t=(0,o.UF)(e.block.emoji_shortcode)[0];return t.meta?n.createElement("span",{className:T.A9},t.unicode):n.createElement(n.Fragment,null)}function R(e){return e?e.map((e,t)=>"HtmlTextBlock"===e._block_type?n.createElement(y,{key:t,block:e}):n.createElement(k,{key:t,block:e})):[]}function S(e){let{block:t,size:i}=e;return n.createElement(h.Ro,{entity:{...t,id:t.entity_id},size:i,hideFallbackInitial:!1,shape:t.shape.toUpperCase()})}function D(e){let{block:t}=e;return n.createElement("div",{className:`${T.km} ${b.h3}`,style:{background:`url(${(0,f.A)()})`}},n.createElement("div",{className:`${b.iT}`,style:{backgroundColor:(e=>{if(!e||0===e.alpha)return"transparent";let{red:t,green:i,blue:n,alpha:l}=e;return`rgba(${255*t|0}, ${255*i|0}, ${255*n|0}, ${l})`})(t.background_color)}},n.createElement("div",{className:b.xn,style:{backgroundImage:`url(${t.img_url})`}})))}function A(e){let{block:t}=e;return n.createElement("div",{className:T.Ew},n.createElement("div",{className:T.km,style:{backgroundImage:`url(${t.img_url})`}}))}function P(e){let{avatars:t}=e;return 0===t.length?null:t.length>1?n.createElement("div",{className:T.EI},n.createElement("div",{className:T.uX},n.createElement(S,{block:t[1],size:p.Pf.MEDIUM})),n.createElement("div",{className:T.SH},n.createElement(S,{block:t[0],size:p.Pf.MEDIUM}))):n.createElement("div",{className:T.EI},n.createElement(S,{block:t[0],size:p.Pf.LARGE}))}function O(e){let{avatars:t,icon:i}=e;return 0===t.length?null:t.length>1?n.createElement("div",{className:T.e0},n.createElement("div",{className:T.dh},n.createElement(S,{block:t[1],size:p.Pf.MEDIUM})),n.createElement("div",{className:T.xf},n.createElement(S,{block:t[0],size:p.Pf.MEDIUM})),i&&n.createElement(L,{icon:i})):n.createElement("div",{className:T.e0},n.createElement(S,{block:t[0],size:p.Pf.LARGE}),i&&n.createElement(L,{icon:i}))}function L(e){let{icon:t}=e,i="dark"===(0,E.DP)();return n.createElement("div",{className:T.Kk},"ImageThumbnailBlock"===t._block_type?n.createElement("img",{className:`${T.ni} ${i?T.En:""}`,src:t.img_url,alt:""}):n.createElement(k,{block:t}))}function x(e){let t=(0,l.wA)(),{block:i,callbacks:a,isPrimary:r=!0}=e,o=async()=>{let e=a.buildNotificationActionRequest(i.notification_action);await e.then(({data:e})=>{if(i.hide_after_action)a.hideNotification();else if(a.followLinkIfPossible(),e.meta.updated_notification_blob){let t=e.meta.updated_notification_blob;a.updateNotification(t.notification_id,t)}},()=>{let e="resolve"===i.notification_action?(0,m.t)("user_notification.an_error_occurred_while_clicking_this_notification"):(0,m.t)("user_notification.an_error_occurred_while_removing_this_notification");t(u.s.error(e))})},s=R([i.text]);return r?n.createElement(c.$$,{className:T.xG,onClick:o},s):n.createElement(c.nR,{className:T.eD,onClick:o},s)}function M(e){let{block:t,actionBlockCallbacks:i}=e;return n.createElement("div",{className:T._u},n.createElement(x,{block:t.secondary_action,callbacks:i,isPrimary:!1}),n.createElement(x,{block:t.primary_action,callbacks:i,isPrimary:!0}))}function F(e){let{block:t,plan:i,shouldShowChevron:l}=e;switch(t._block_type){case"BodyAndThumbnailBlock":return n.createElement(B,{block:t,plan:i,shouldShowChevron:l});case"SplitlineTitleAndBodyBlock":return n.createElement(U,{block:t,shouldShowChevron:l})}}function B(e){let{block:t,plan:i,shouldShowChevron:l}=e;return n.createElement(n.Fragment,null,n.createElement("div",{className:T.hQ},n.createElement("div",{className:T.Qs},n.createElement("div",null,R(t.title)),n.createElement("div",{className:T.tJ},n.createElement("div",{className:T.FS},t.description&&n.createElement("div",{className:T.wZ},R(t.description)),n.createElement("div",{className:T.PI},i&&n.createElement(n.Fragment,null,n.createElement(C.H,{entityId:i.id.toString(),entityName:i.name,imgUrl:i.img_url||void 0}),(0,v.gN)(i.name,21),n.createElement("div",{className:T.lN},"\xb7")),n.createElement(s.h1,{date:t.created_at,style:"short"}))),l&&n.createElement("div",{className:T.Vt},n.createElement(d.B,{svg:I.A,className:T.t4}))))),(()=>{if(!t.thumbnail)return null;let e=t.thumbnail;switch(e._block_type){case"AvatarBlock":return n.createElement(S,{block:e,size:p.Pf.XLARGE});case"ImageThumbnailBlock":return n.createElement(A,{block:e});case"FileThumbnailBlock":return n.createElement(D,{block:e})}})())}function U(e){let{block:t,shouldShowChevron:i}=e;return n.createElement("div",{className:T.gJ},n.createElement("div",{className:T.SZ},n.createElement("div",{className:T.DD},R(t.title)),n.createElement(q,{createdAt:t.created_at})),n.createElement("div",{className:T.tJ},n.createElement("div",{className:T.VA},R(t.subtitle)),t.description&&n.createElement("div",{className:T.Ec},R(t.description)),i&&n.createElement("div",{className:T.aR},n.createElement("div",{className:T.Vt},n.createElement(d.B,{svg:I.A,className:T.t4})))))}function H(e){let{notification:t}=e;return(0,N.ro)()?n.createElement(W,{notification:t,children:e.children}):n.createElement("div",{className:T.sU},t.is_unread?n.createElement("div",{className:(0,g.fN)()?T.dC:T.Zm}):null,n.createElement(P,{avatars:t.avatars}),e.children)}function W(e){let{notification:t}=e;return n.createElement("div",{className:T.sU},t.is_unread?n.createElement("div",{className:(0,g.fN)()?T.FN:T.bm}):null,n.createElement(O,{avatars:t.avatars,icon:t.icon}),e.children)}function G(e){let{attachment:t,notification:i,dontShowPlanIcon:l}=e;return n.createElement(H,{notification:i},n.createElement(F,{block:t.body,plan:!0===l?void 0:i.plan}))}function V(e){let{attachment:t,notification:i,dontShowPlanIcon:l}=e,{shouldShowChevron:a}=n.useContext(w.H);return n.createElement(H,{notification:i},n.createElement(F,{block:t.body,plan:!0===l?void 0:i.plan,shouldShowChevron:a(i)}))}function j(e){let{attachment:t,notification:i,actionBlockCallbacks:l}=e;return n.createElement(n.Fragment,null,n.createElement(H,{notification:i},n.createElement(F,{block:t.body,plan:i.plan})),n.createElement(M,{block:t.actions,actionBlockCallbacks:l}))}function q(e){let{createdAt:t}=e,i=z(t),l=(0,s.Ak)(t,"narrow");if("today"!==i){let e=new Date(t),i={};i=!function(e){let t=new Date;return t.setDate(t.getDate()-365),e>=t}(e)?{month:"short",day:"numeric",year:"numeric"}:{month:"short",day:"numeric"},l=new Intl.DateTimeFormat((0,_.Gq)().getPrimaryLocale(!1),i).format(e)}return n.createElement("div",{className:T.vE},l)}function z(e){let t=new Date(e),i=new Date,n=new Date(i);return(n.setDate(i.getDate()-1),Q(t,i))?"today":Q(t,n)?"yesterday":t>=new Date(i.getFullYear(),i.getMonth(),i.getDate()-7)?"last_week":"older"}function Q(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}var $=(e=>(e.TODAY="today",e.YESTERDAY="yesterday",e.LAST_WEEK="last_week",e.OLDER="older",e))($||{});let Y={today:n.createElement(m.Tx,{id:"user_notifications.today"}),yesterday:n.createElement(m.Tx,{id:"user_notifications.yesterday"}),last_week:n.createElement(m.Tx,{id:"user_notifications.last_7_days"}),older:n.createElement(m.Tx,{id:"user_notifications.older"})};function K(e){return e.preferred_attachments.length>0&&"ActionableAttachment"===e.preferred_attachments[0]._block_type}function Z(e){return K(e)?"actionable":"actioned"}var X=(e=>(e.ACTIONABLE="actionable",e.ACTIONED="actioned",e))(X||{});let J={actionable:n.createElement(m.Tx,{id:"user_notifications.pending"}),actioned:n.createElement(m.Tx,{id:"user_notifications.done"})}},732695:(e,t,i)=>{i.d(t,{td:()=>B,IP:()=>W,fd:()=>n,he:()=>H,ql:()=>U});var n,l=i(411855),a=i(188507),r=i(629019),o=i.n(r),c=i(297666),s=i(517333),d=i(179479),u=i(358145),m=i(27087),_=i(946689),p=i(493323),E=i(827586),f=i(939863),g=i(392592),h=i(738269),v=i(988022),C=i(860178),N=i(395116),w=i(369351),b=i(58024),T=i(140908),I=i(883601),y=i(476619),k=i(241809),R=i(248521),S=i(966712),D=i(860601),A=i(572206),P=i(749336),O=i(602834),L=i(561899);let x=class e{constructor(){this.circularBuffer=new k.C(e.BUFFER_CAPACITY),this.lastTimestamp=0}clear(){this.circularBuffer.clear()}push(t,i){i-this.lastTimestamp>e.THROTTLE_DURATION_MS&&(this.circularBuffer.push(t),this.lastTimestamp=i)}getLocation50msAgo(){let e=this.circularBuffer.toArray();return e.length>0?e[0]:new A.Mi(window.innerWidth,window.innerHeight)}};function M(e){var t,i;let[n,a]=(0,l.useState)(null),[r,o]=(0,l.useState)(0),c=l.useRef(D.lQ),s=l.useRef(D.lQ),d=l.useRef(null),u=l.useRef(null),m=(0,T.ro)(),_=l.useRef({notificationId:"",mouseLocationHistory:new x,scheduledShowQuickReply:void 0,scheduledMarkAsRead:void 0});(0,l.useEffect)(()=>{u.current&&u.current.addEventListener("mouseover",e=>{var t;clearTimeout(null==(t=_.current)?void 0:t.scheduledShowQuickReply)})},[n]);let p=()=>{var e;clearTimeout(null==(e=_.current)?void 0:e.scheduledMarkAsRead),_.current.scheduledMarkAsRead=setTimeout(()=>{s.current=c.current},1e3)},E=l.useMemo(()=>{function e(e,t,i){let n=window.innerWidth>900&&window.innerHeight>650;_.current.notificationId=e.notification_id,n&&(0,L.UC)(e)?(a((0,L.AS)(e)),o(t),c.current=i):(a(null),c.current=D.lQ),_.current.mouseLocationHistory.clear()}return{shouldShowChevron:()=>!1,onClick:e=>!1,onMouseEnter:(t,i,n)=>{var l,a,r;let o=!1;if(i.notification_id!==_.current.notificationId&&u.current){let e=u.current.getBoundingClientRect(),i=new A.Mi(e.left,e.top),n=new A.Mi(e.left,e.bottom),l=[_.current.mouseLocationHistory.getLocation50msAgo(),i,n];o=(0,R.y)(new A.Mi(t.clientX,t.clientY),l)}let c=t.target;o?(a=()=>{e(i,c.getBoundingClientRect().bottom,n)},clearTimeout(null==(r=_.current)?void 0:r.scheduledShowQuickReply),_.current&&(_.current.scheduledShowQuickReply=setTimeout(a,500))):(clearTimeout(null==(l=_.current)?void 0:l.scheduledShowQuickReply),e(i,c.getBoundingClientRect().bottom,n))},onMouseMove:e=>{_.current.mouseLocationHistory.push(new A.Mi(e.clientX,e.clientY),e.timeStamp)},onRemove:e=>{e.notification_id===_.current.notificationId&&a(null)}}},[u]);if(!((0,S.kc)().desktop_quickreply_filebrowser&&m))return l.createElement(l.Fragment,null,e.children);let f=Math.max(0,r-((null==(t=d.current)?void 0:t.getBoundingClientRect().y)??0)-((null==(i=u.current)?void 0:i.getBoundingClientRect().height)??640));return l.createElement(l.Fragment,null,l.createElement("div",{className:"quick_reply_switcher--hoverContainer--XEskB",ref:d},n&&l.createElement("div",{className:"quick_reply_switcher--quickReplyContainer--3Xnku",style:{top:f,maxHeight:640,minHeight:450},onMouseEnter:()=>{p()},onMouseLeave:()=>{var e;clearTimeout(null==(e=_.current)?void 0:e.scheduledMarkAsRead),s.current(),s.current=D.lQ,c.current=D.lQ}},l.createElement(P.d,{quickReplyInfo:n,onClose:()=>a(null),closeIcon:"x-32",hideOverflowMenu:!0,ref:u}))),l.createElement(O.H.Provider,{value:E},e.children))}x.BUFFER_CAPACITY=10,x.DESIRED_DURATION_MS=50,x.THROTTLE_DURATION_MS=x.DESIRED_DURATION_MS/x.BUFFER_CAPACITY;var F=i(391758);let B="-1";function U(e,t){let i=(0,a.wA)(),n=(0,a.d4)(e=>e.user.id),r=(0,a.d4)(e=>e.user.community_profile_id),o=(0,a.d4)(e=>e.authedUsers.byId[n].plans),u=l.useMemo(()=>void 0===o?new Map:new Map(o.map(e=>[e.plan_id,e.is_org])),[o]),_=(0,a.d4)(e=>e.userNotifications.userBellStates),p=(0,a.d4)(e=>e.userNotifications.communityProfileBellStates),E=(0,a.d4)(e=>e.selectedView.view),[v,C]=(0,l.useState)(new Map),[b,I]=(0,l.useState)(!0),[y,k]=(0,l.useState)(!1),R=(0,T.Ow)(),S=(0,d.F)(p),D=(0,d.F)(_);l.useEffect(()=>{let l=(0,c.s)(()=>{var l,a;e?r&&(S.current[r]&&i((0,N.X2)({isBellStateHigh:!1,userInitiated:!0,profileId:r})),w.sr.getCommunityServerDriven({currentView:E}).then(({data:e})=>{A(e.meta)}).catch(e=>{i(g.F.enqueue({message:(0,f.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),i(h.oB())})):((null==(a=null==(l=D.current)?void 0:l[n])?void 0:a[B])&&i((0,N.Zo)({isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:B,userId:n})),w.sr.getServerDrivenPlan({currentPlanId:t,currentView:E,isPlanOrg:u.get(t)||!1}).then(({data:e})=>{A(e.meta)}).catch(e=>{i(g.F.enqueue({message:(0,f.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),i(h.oB())}))},800,!0);I(!0),l()},[t,S,E,i,e,D,u,r,n]);let A=e=>{let t=new Map,i=!1;e.forEach(e=>{t.set(e.notification_id,e),!i&&e.filters.is_priority&&(i=!0)}),k(i),C(t),I(!1)},P=l.useMemo(()=>{if(R){let e=(0,N.Dd)();return b||y||"priority"!==e||((0,N.hI)("all"),e="all"),e}return"all"},[y,R,b]);return{notificationFeedMap:v,isFetchingNotifications:b,initFilter:P,markAllAsReadFn:()=>{(e?m.Ay.post("/api/user_notifications/community/mark_read",{currentView:E,source:s.S8?"desktopbell":"web"}):m.Ay.post("/api/user_notifications/mark_read/plan",{current_plan_id:t,currentView:E,is_plan_org:u.get(t)||!1,source:s.S8?"desktopbell":"web"})).then(()=>{C(new Map(Array.from(v,([e,t])=>(t.is_unread=!1,[e,t]))))}).catch(()=>{i(g.F.enqueue({message:(0,f.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})},updateNotification:(e,t)=>{C(new Map(v.set(e,t)))}}}function H(e,t){return e.filter(e=>!t.includes(e.notification_id))}function W(e){let t;let[i,a]=(0,l.useState)(B),{notificationFeedMap:r,isFetchingNotifications:c,markAllAsReadFn:s,updateNotification:d,initFilter:m}=U(!!e.inCommunity,i),[_,p]=(0,l.useState)([]),[E,f]=(0,l.useState)(m),g=(0,u.ZC)(E),h=(0,T.ro)(),C=H([...r.values()],_);l.useEffect(()=>{f(m)},[m]),l.useEffect(()=>{let e=(0,N.Dd)();E!==g&&E===e&&(0,v.qD)({name:"user_notifications_filter_viewed",filter_type:E,dropdown_location:"web"})},[g,E]);let w=e=>{e.stopPropagation()},I=e=>{e===b.aT&&(e=B),(0,v.FE)(e,"notifications",void 0),a(e)};switch(E){case"unread":t=C.filter(e=>e.is_unread);break;case"priority":t=C.filter(e=>e.filters.is_priority);break;default:t=C}return l.createElement("div",{className:o()(0!==r.size||c?F.P2:F.pg,e.containerClassName,{[F.Uz]:e.arrowRight}),onMouseDown:w,onClick:w},l.createElement(M,null,l.createElement(n.Header,{selectedPlan:i,onPlanFilterUpdate:e=>I(e),inCommunity:!!e.inCommunity,showMarkAllAsRead:G(c,C)&&!h,markAllAsReadFn:s}),!!h&&l.createElement(n.FilterToggle,{notificationFilter:E,toggleNotificationFilter:e=>{(0,v.Cu)({filter_type:e},"user_notifications_filter_clicked"),(0,N.hI)(e),f(e)},isFetchingNotifications:c,notifications:C,markAllAsReadFn:s}),l.createElement(n.Feed,{notifications:t,currentPlanFilter:i===B?b.aT:i,currentNotificationFilter:E,hiddenNotificationIds:_,setHiddenNotificationIds:p,isFetchingNotifications:c,inCommunity:e.inCommunity,fillParent:!1,updateNotificationCallback:d})))}function G(e,t){return!e&&t.some(e=>e.is_unread)}(e=>{function t(e){return(0,T.ro)()?l.createElement("div",{className:F.sJ},I.dB[e.notificationDateGroup]):null}function i(e){return(0,T.Ow)()?l.createElement("div",{className:F.sJ},I.fq[e.notificationPriorityGroup]):null}e.Feed=function(e){var n;let r=(0,C.Pc)(),o=(0,a.d4)(e=>{var t;return r?null==(t=e.authedUsers.byId[r.id])?void 0:t.plans:null}),c=t=>{e.setHiddenNotificationIds([...e.hiddenNotificationIds,t])},s=!1;if(r&&!e.inCommunity&&(null==o?void 0:o.length)===1&&(s=!0,e.currentPlanFilter===b.aT)){let t=o[0].plan_id;for(let i of e.notifications)if((null==(n=i.plan)?void 0:n.id.toString())!==t){s=!1;break}}if(e.isFetchingNotifications)return l.createElement("div",{className:F.g4},l.createElement(p.kt,null));if(0===e.notifications.length)return l.createElement("div",{className:F.OL},l.createElement(f.Tx,{id:"user_notifications.dropdown.no_notifications"}));{let n,a;"priority"===e.currentNotificationFilter&&e.notifications.sort((e,t)=>Number((0,I.s$)(t))-Number((0,I.s$)(e)));let r=e.inCommunity?F.jG:F.I3,o=e=>{let i;let a=null;try{i=(0,y.z)(e);let r=(0,I.bs)(i.body.created_at);r!==n&&(n=r,a=l.createElement(t,{key:`date-${e.notification_id}`,notificationDateGroup:r}))}catch(e){console.error("Skipping date header, unsupported notification")}return a},d=e=>{let t=null,n=(0,I.x7)(e);return n!==a&&(a=n,t=l.createElement(i,{key:`priority-${e.notification_id}`,notificationPriorityGroup:n})),t};return l.createElement(E.P,{className:`${e.fillParent?"":r}`},l.createElement("div",null,e.notifications.map(t=>{let i=null;return i="priority"===e.currentNotificationFilter?d(t):o(t),l.createElement(l.Fragment,{key:`row-container-${t.notification_id}`},i,l.createElement(y.r,{key:`row-${t.notification_id}`,notification:t,updateNotificationCallback:e.updateNotificationCallback,dontShowPlanIcon:s,currentPlanFilter:e.currentPlanFilter,currentNotificationFilter:e.currentNotificationFilter,inDesktopTray:e.inDesktopTray,onHide:()=>c(t.notification_id)}))})))}},e.UnreadBar=function(e){return G(e.isFetchingNotifications,e.notifications)?l.createElement("div",{className:F.FR},function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return l.createElement("div",{className:F.gy},(0,f.t)("user_notifications.unread_count",{unreadCount:t}))}(e.notifications),G(e.isFetchingNotifications,e.notifications)&&l.createElement(_.N_,{onClick:e.markAllAsReadFn,className:F.nf,trusted:!0},l.createElement(f.Tx,{id:"user_notifications.dropdown.mark_all_as_read"}))):null},e.DateHeader=t,e.PriorityHeader=i,e.Header=function(e){return l.createElement("div",{className:F.wx},e.inCommunity?l.createElement("div",{className:F.O9},(0,f.t)("user_notification.community_notifications")):l.createElement(l.Fragment,null,l.createElement(b.jy,{currentPlanFilter:e.selectedPlan===B?b.aT:e.selectedPlan,onPlanFilterUpdate:e.onPlanFilterUpdate})),e.children,e.showMarkAllAsRead&&l.createElement(_.N_,{onClick:e.markAllAsReadFn,className:F.nf,trusted:!0},l.createElement(f.Tx,{id:"user_notifications.dropdown.mark_all_as_read"})))},e.FilterToggle=function(e){let t=(0,T.Ow)(),i=e.notifications.some(e=>e.filters.is_priority);return e.isFetchingNotifications?null:l.createElement("div",{className:F.WI},l.createElement("div",{className:F.u6},l.createElement("button",{className:o()({[F.db]:!0,[F.Ee]:"all"===e.notificationFilter}),onClick:()=>{e.toggleNotificationFilter("all")}},(0,f.t)("user_notification.all")),!!t&&i&&l.createElement("button",{className:o()({[F.db]:!0,[F.Ee]:"priority"===e.notificationFilter}),onClick:()=>{e.toggleNotificationFilter("priority")}},function(e){let t=e.reduce((e,t)=>e+Number((0,I.s$)(t)),0);return 0===t?(0,f.t)("user_notifications.requests_empty"):(0,f.t)("user_notifications.requests_toggle_count",{actionableCount:t})}(e.notifications)),l.createElement("button",{className:o()({[F.db]:!0,[F.Ee]:"unread"===e.notificationFilter}),onClick:()=>{e.toggleNotificationFilter("unread")}},function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return 0===t?(0,f.t)("user_notifications.unread_empty"):(0,f.t)("user_notifications.unread_toggle_count",{unreadCount:t})}(e.notifications))),G(e.isFetchingNotifications,e.notifications)&&l.createElement(_.N_,{onClick:e.markAllAsReadFn,className:F.nf,trusted:!0},l.createElement(f.Tx,{id:"user_notifications.dropdown.mark_all_as_read"})))}})(n||(n={}))},476619:(e,t,i)=>{i.d(t,{r:()=>X,z:()=>Z});var n=i(411855),l=i(188507),a=i(776250),r=i(966712),o=i(738269),c=i(507877),s=i(988022),d=i(694687),u=i(594901),m=i(707465),_=i(410613),p=i(369351),E=i(517333),f=i(737947),g=i(881388),h=i(939863),v=i(140908),C=i(602834),N=i(883601),w=i(564577),b=i(574176),T=i(501114),I=i(67294),y=i(395116);function k(e){switch(e){case"AtMentionCommentNotif":case"CanvasAtMentionNotif":case"AtMentionInviteNotif":case"FeedPostAtMention":return n.createElement(x,null);case"FileCommentReplyNotifV2":return n.createElement(D,null);case"FileCommentReactionNotifV2":case"FeedCommentReactionNotifV":case"FeedPostReactionNotifV2":return n.createElement(O,null);case"InviteFolderNotif":case"InviteFileNotif":case"InviteTeamNotif":case"InviteFileRepoNotif":case"InviteFileReminderNotif":return n.createElement(P,null);case"MergeRequestReviewerInviteNotif":case"MergeRequestChangesRequestedNotif":case"BranchMergedNotif":case"MergeRequestApprovedNotif":return n.createElement(S,null);case"FileRoleRequestCreatedNotif":return n.createElement(A,null);case"FileRoleRequestApprovedNotif":return n.createElement(R,null);default:return n.createElement(L,null)}}function R(){return n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{d:"M15.6255 6.13281L7.89111 13.8672L4.37549 10.3516",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round","stroke-linejoin":"round"}))}function S(){return n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{d:"M3.85107 5.89014H5.73195C7.11699 5.89014 8.23979 7.01294 8.23979 8.39798V9.65192C8.23979 11.037 9.36259 12.1598 10.7476 12.1598H15.1363",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}),n.createElement("path",{d:"M11.3745 5.89014H15.1363",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}),n.createElement("path",{d:"M12.6279 9.33838L15.1358 12.1597L12.6279 14.981",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}))}function D(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.38054 5.05103V7.60525C4.38054 9.95246 6.28333 11.8552 8.63054 11.8552H13.6551L11.3566 14.1538L12.0637 14.8609L15.2158 11.7088L15.5693 11.3552L15.2158 11.0017L12.0637 7.84958L11.3566 8.55669L13.6551 10.8552H8.63054C6.83562 10.8552 5.38054 9.40017 5.38054 7.60525V5.05103H4.38054Z",fill:"black","fill-opacity":"0.9"}))}function A(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.1417 4.1958C9.24166 4.1958 8.34668 4.45436 7.66874 5.0415C6.97965 5.6383 6.56494 6.53183 6.56494 7.69164C6.56494 7.96778 6.7888 8.19164 7.06494 8.19164C7.34109 8.19164 7.56494 7.96778 7.56494 7.69164C7.56494 6.78674 7.87894 6.18236 8.32341 5.79741C8.77904 5.40281 9.42246 5.1958 10.1417 5.1958C10.8431 5.1958 11.4156 5.42272 11.8075 5.78266C12.196 6.13946 12.4352 6.65163 12.4352 7.28679C12.4352 7.77431 12.3292 8.13884 12.1429 8.44619C11.9522 8.76066 11.6578 9.0475 11.231 9.34707C10.5893 9.79743 10.1119 10.201 9.81658 10.7353C9.51761 11.276 9.43932 11.8868 9.43932 12.6712C9.43932 12.9473 9.66318 13.1712 9.93932 13.1712C10.2155 13.1712 10.4393 12.9473 10.4393 12.6712C10.4393 11.9365 10.5177 11.5339 10.6917 11.2191C10.8694 10.8977 11.1815 10.6035 11.8054 10.1656C12.2952 9.82188 12.7093 9.44073 12.998 8.96464C13.2909 8.48143 13.4352 7.93284 13.4352 7.28679C13.4352 6.38355 13.0873 5.60023 12.4839 5.04613C11.884 4.49518 11.0598 4.1958 10.1417 4.1958ZM9.98822 14.3041C9.54639 14.3041 9.18822 14.6623 9.18822 15.1041C9.18822 15.546 9.54639 15.9041 9.98822 15.9041C10.43 15.9041 10.7882 15.546 10.7882 15.1041C10.7882 14.6623 10.43 14.3041 9.98822 14.3041Z",fill:"black","fill-opacity":"0.9"}))}function P(){return n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.499 4.375C10.499 4.09886 10.2752 3.875 9.99902 3.875C9.72288 3.875 9.49902 4.09886 9.49902 4.375V9.50004H4.37402C4.09788 9.50004 3.87402 9.7239 3.87402 10C3.87402 10.2762 4.09788 10.5 4.37402 10.5H9.49902V15.625C9.49902 15.9011 9.72288 16.125 9.99902 16.125C10.2752 16.125 10.499 15.9011 10.499 15.625V10.5H15.624C15.9002 10.5 16.124 10.2762 16.124 10C16.124 9.7239 15.9002 9.50004 15.624 9.50004H10.499V4.375Z",fill:"black","fill-opacity":"0.9"}))}function O(){return n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.91379 10C4.91379 7.19097 7.19097 4.91379 10 4.91379C12.809 4.91379 15.0862 7.19097 15.0862 10C15.0862 12.809 12.809 15.0862 10 15.0862C7.19097 15.0862 4.91379 12.809 4.91379 10ZM10 3.91379C6.63868 3.91379 3.91379 6.63868 3.91379 10C3.91379 13.3613 6.63868 16.0862 10 16.0862C13.3613 16.0862 16.0862 13.3613 16.0862 10C16.0862 6.63868 13.3613 3.91379 10 3.91379ZM10.0001 13.2931C8.42095 13.2931 7.10142 12.1816 6.78116 10.6983H7.81524C8.11062 11.6233 8.97713 12.2931 10.0001 12.2931C11.023 12.2931 11.8896 11.6233 12.1849 10.6983H13.219C12.8988 12.1816 11.5792 13.2931 10.0001 13.2931ZM13.0426 8.82457C13.0426 9.23593 12.7091 9.5694 12.2978 9.5694C11.8864 9.5694 11.5529 9.23593 11.5529 8.82457C11.5529 8.41321 11.8864 8.07974 12.2978 8.07974C12.7091 8.07974 13.0426 8.41321 13.0426 8.82457ZM7.70199 9.5694C8.11335 9.5694 8.44682 9.23593 8.44682 8.82457C8.44682 8.41321 8.11335 8.07974 7.70199 8.07974C7.29064 8.07974 6.95717 8.41321 6.95717 8.82457C6.95717 9.23593 7.29064 9.5694 7.70199 9.5694Z",fill:"black","fill-opacity":"0.9"}))}function L(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 4.25C6.82436 4.25 4.25 6.82436 4.25 10V12.8281V13.2241V15.25C4.25 15.5261 4.47386 15.75 4.75 15.75H10C13.1756 15.75 15.75 13.1756 15.75 10C15.75 6.82436 13.1756 4.25 10 4.25ZM5.25 10C5.25 7.37665 7.37665 5.25 10 5.25C12.6234 5.25 14.75 7.37665 14.75 10C14.75 12.6234 12.6234 14.75 10 14.75H5.25V10Z",fill:"black"}))}function x(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{d:"M10.2364 15.625C9.38253 15.625 8.61522 15.4936 7.93448 15.2309C7.25375 14.9682 6.67304 14.589 6.19235 14.0934C5.71464 13.6007 5.3474 13.0066 5.09063 12.3109C4.83685 11.6152 4.70996 10.8375 4.70996 9.97761C4.70996 9.13565 4.83834 8.37132 5.09511 7.68461C5.35487 6.99791 5.7236 6.40824 6.2013 5.91561C6.682 5.42297 7.25524 5.04379 7.92105 4.77807C8.58984 4.50936 9.33327 4.375 10.1513 4.375C10.9515 4.375 11.6681 4.51533 12.301 4.79598C12.934 5.07365 13.4729 5.45283 13.9178 5.93352C14.3626 6.41421 14.7015 6.96208 14.9344 7.57713C15.1702 8.18919 15.2882 8.82962 15.2882 9.49841C15.2882 9.92237 15.2553 10.3404 15.1897 10.7524C15.127 11.1644 15.018 11.5376 14.8627 11.872C14.7075 12.2064 14.4925 12.4736 14.2178 12.6737C13.9431 12.8707 13.5953 12.9692 13.1743 12.9692C12.9534 12.9692 12.7354 12.9334 12.5205 12.8618C12.3085 12.7871 12.1264 12.6662 11.9741 12.499C11.8248 12.3288 11.7382 12.1019 11.7143 11.8183H11.6696C11.574 12.0332 11.4397 12.2303 11.2665 12.4094C11.0933 12.5856 10.8798 12.7259 10.6261 12.8304C10.3753 12.9349 10.0842 12.9827 9.75275 12.9737C9.37656 12.9648 9.03769 12.8812 8.73614 12.7229C8.43757 12.5647 8.18229 12.3482 7.97031 12.0735C7.76131 11.7989 7.60158 11.4809 7.49111 11.1196C7.38064 10.7554 7.32541 10.3628 7.32541 9.94178C7.32541 9.53573 7.38661 9.16103 7.50903 8.81768C7.63442 8.47432 7.8061 8.17426 8.02405 7.9175C8.24499 7.66073 8.50325 7.45621 8.79883 7.30394C9.09442 7.15167 9.41239 7.06359 9.75275 7.03971C10.0573 7.01881 10.3379 7.04867 10.5947 7.12928C10.8515 7.20691 11.0694 7.32036 11.2486 7.46965C11.4277 7.61893 11.5561 7.78762 11.6337 7.97572H11.6785V7.16511H12.4085V11.3167C12.4085 11.6302 12.4697 11.875 12.5921 12.0512C12.7175 12.2243 12.9146 12.3109 13.1833 12.3109C13.5087 12.3109 13.773 12.2049 13.976 11.9929C14.182 11.778 14.3328 11.4615 14.4283 11.0435C14.5239 10.6225 14.5716 10.1045 14.5716 9.48945C14.5716 9.02369 14.5059 8.57285 14.3746 8.13694C14.2462 7.69805 14.0581 7.292 13.8103 6.91879C13.5625 6.5426 13.2579 6.21417 12.8967 5.93352C12.5354 5.64988 12.1219 5.42894 11.6561 5.2707C11.1933 5.11246 10.6798 5.03334 10.1155 5.03334C9.41687 5.03334 8.78241 5.15127 8.21215 5.38714C7.64189 5.62301 7.15074 5.96039 6.73872 6.39928C6.32969 6.83818 6.0147 7.36216 5.79376 7.97124C5.57282 8.57733 5.46235 9.25358 5.46235 10C5.46235 10.7554 5.57282 11.4376 5.79376 12.0467C6.0147 12.6558 6.33267 13.1768 6.74768 13.6097C7.16567 14.0426 7.67025 14.3755 8.26141 14.6084C8.85258 14.8413 9.51838 14.9577 10.2588 14.9577C10.5872 14.9577 10.9097 14.9249 11.2262 14.8592C11.5456 14.7965 11.8353 14.7188 12.095 14.6263C12.3578 14.5337 12.5697 14.4427 12.731 14.3531L12.9594 14.9801C12.7384 15.0995 12.4757 15.2085 12.1711 15.307C11.8696 15.4056 11.5501 15.4832 11.2127 15.5399C10.8784 15.5966 10.5529 15.625 10.2364 15.625ZM9.8468 12.2706C10.2529 12.2706 10.5947 12.1766 10.8724 11.9885C11.15 11.8004 11.359 11.5302 11.4994 11.1778C11.6427 10.8255 11.7143 10.4016 11.7143 9.90595C11.7143 9.40734 11.6382 8.99681 11.4859 8.67436C11.3367 8.35191 11.1232 8.11306 10.8455 7.9578C10.5708 7.79956 10.2454 7.72044 9.8692 7.72044C9.50494 7.72044 9.18548 7.82046 8.9108 8.0205C8.6391 8.21756 8.42563 8.48179 8.27037 8.8132C8.1181 9.14461 8.04197 9.50886 8.04197 9.90595C8.04197 10.3269 8.10914 10.7166 8.2435 11.0748C8.38084 11.4331 8.58237 11.7227 8.8481 11.9437C9.11681 12.1616 9.44971 12.2706 9.8468 12.2706Z",fill:"black","fill-opacity":"0.9"}),n.createElement("path",{d:"M5.02027 12.3369L5.02018 12.3366C4.76295 11.6315 4.63496 10.8449 4.63496 9.97761C4.63496 9.12799 4.76452 8.3546 5.02486 7.65835L5.02496 7.65808C5.28808 6.96247 5.66213 6.36389 6.14746 5.86339L6.14762 5.86323C6.63592 5.36279 7.21807 4.97789 7.89317 4.70844C8.57194 4.43573 9.32501 4.3 10.1513 4.3C10.9603 4.3 11.6874 4.44189 12.3313 4.72735C12.9731 5.00892 13.5206 5.39394 13.9728 5.88258C14.4242 6.37034 14.7682 6.92644 15.0045 7.5504C15.2436 8.17117 15.3632 8.82067 15.3632 9.49841C15.3632 9.92616 15.3301 10.348 15.2638 10.7639M5.02027 12.3369L15.1897 10.7524M5.02027 12.3369C5.28036 13.0415 5.65295 13.6448 6.1385 14.1456L6.19235 14.0934M5.02027 12.3369L6.19235 14.0934M15.2638 10.7639C15.2638 10.764 15.2637 10.7641 15.2637 10.7642L15.1897 10.7524M15.2638 10.7639C15.2638 10.7638 15.2638 10.7637 15.2638 10.7637L15.1897 10.7524M15.2638 10.7639C15.2001 11.1819 15.0893 11.562 14.9308 11.9036C14.7706 12.2485 14.5478 12.5261 14.262 12.7343L14.2615 12.7346C13.9713 12.9428 13.6071 13.0442 13.1743 13.0442C12.9451 13.0442 12.7192 13.0071 12.4968 12.9329L12.4956 12.9325C12.2718 12.8537 12.0792 12.7258 11.9186 12.5495L11.9177 12.5485L11.9177 12.5485C11.7887 12.4014 11.7048 12.2174 11.6633 11.9997M15.1897 10.7524C15.127 11.1644 15.018 11.5376 14.8627 11.872C14.7075 12.2064 14.4925 12.4736 14.2178 12.6737C13.9431 12.8707 13.5953 12.9692 13.1743 12.9692C12.9534 12.9692 12.7354 12.9334 12.5205 12.8618C12.3085 12.7871 12.1264 12.6662 11.9741 12.499C11.8368 12.3425 11.7525 12.138 11.7213 11.8855C11.7032 11.9242 11.6838 11.9622 11.6633 11.9997M11.6633 11.9997C11.5726 12.165 11.4582 12.319 11.3204 12.4616L11.32 12.462C11.139 12.6461 10.9168 12.7918 10.6548 12.8997M11.6633 11.9997C11.6555 11.9586 11.6491 11.9163 11.6443 11.8728C11.5509 12.0667 11.4249 12.2455 11.2665 12.4094C11.0933 12.5856 10.8798 12.7259 10.6261 12.8304M11.6561 5.2707C12.1219 5.42894 12.5354 5.64988 12.8967 5.93352C13.2579 6.21417 13.5625 6.5426 13.8103 6.91879C14.0581 7.292 14.2462 7.69805 14.3746 8.13694C14.5059 8.57285 14.5716 9.02369 14.5716 9.48945C14.5716 10.1045 14.5239 10.6225 14.4283 11.0435M11.6561 5.2707L10.6261 12.8304M11.6561 5.2707C11.1933 5.11246 10.6798 5.03334 10.1155 5.03334C9.41687 5.03334 8.78241 5.15127 8.21215 5.38714C7.64189 5.62301 7.15074 5.96039 6.73872 6.39928L11.6561 5.2707ZM14.4283 11.0435L14.3552 11.0268C14.2614 11.437 14.1152 11.7393 13.9218 11.941L13.9218 11.9411C13.7346 12.1366 13.4907 12.2359 13.1833 12.2359C12.9321 12.2359 12.761 12.1561 12.6533 12.0078C12.5431 11.8488 12.4835 11.6212 12.4835 11.3167V7.16511V7.09011H12.4085H11.6785H11.6035V7.16511V7.75548C11.5245 7.63092 11.4219 7.51647 11.2966 7.41203C11.1087 7.25548 10.8816 7.1377 10.6168 7.0576C10.3501 6.97393 10.0601 6.94344 9.74762 6.96488L9.7475 6.96489C9.39726 6.98947 9.06935 7.08021 8.76449 7.23727C8.46017 7.39404 8.19431 7.60464 7.9672 7.86858L7.96687 7.86896C7.74271 8.13304 7.56676 8.44098 7.43857 8.79195L7.43838 8.79249C7.31278 9.14479 7.25041 9.52812 7.25041 9.94178C7.25041 10.3694 7.30652 10.7694 7.41934 11.1414L7.41939 11.1416C7.53221 11.5105 7.69577 11.8366 7.91062 12.119L7.91094 12.1194C8.12927 12.4023 8.39274 12.6258 8.70101 12.7892L8.70129 12.7893C9.01409 12.9535 9.36447 13.0395 9.75097 13.0487M14.4283 11.0435C14.3328 11.4615 14.182 11.778 13.976 11.9929L11.2252 15.6139M14.4283 11.0435L14.3552 11.0269C14.4491 10.6131 14.4966 10.1011 14.4966 9.48945C14.4966 9.03085 14.432 8.58731 14.3028 8.15858L14.3026 8.158C14.1763 7.7262 13.9913 7.32706 13.7478 6.96028L13.7476 6.96005C13.5044 6.59082 13.2055 6.26844 12.8507 5.99275L12.8503 5.99251C12.4962 5.71446 12.0903 5.49742 11.632 5.34171L11.6319 5.34167C11.178 5.18647 10.6728 5.10834 10.1155 5.10834C9.42541 5.10834 8.80087 5.2248 8.24082 5.45645C7.68019 5.68833 7.19801 6.01964 6.79349 6.45052C6.39192 6.88144 6.08202 7.3965 5.86426 7.99681L5.86422 7.99692C5.64671 8.5936 5.53735 9.26099 5.53735 10C5.53735 10.7481 5.64675 11.4215 5.86426 12.0211C6.08191 12.6211 6.39456 13.1329 6.80172 13.5577C7.21183 13.9824 7.7072 14.3094 8.2889 14.5386C8.86999 14.7675 9.52626 14.8827 10.2588 14.8827C10.5822 14.8827 10.8996 14.8504 11.2109 14.7857L11.2117 14.7856C11.5282 14.7235 11.8141 14.6468 12.0698 14.5556L12.0701 14.5556C12.3306 14.4638 12.5383 14.3743 12.6945 14.2875L12.7714 14.2449L12.8014 14.3274L13.0298 14.9544L13.052 15.0153L12.995 15.0461C12.7691 15.1682 12.502 15.2788 12.1942 15.3784C11.8889 15.4781 11.5659 15.5566 11.2252 15.6139M9.75097 13.0487C9.75089 13.0487 9.75081 13.0487 9.75073 13.0487L9.75275 12.9737L9.75097 13.0487ZM9.75097 13.0487C10.0905 13.0579 10.3924 13.009 10.6548 12.8997M10.6548 12.8997C10.6548 12.8997 10.6549 12.8997 10.6549 12.8996L10.6261 12.8304M10.6548 12.8997C10.6547 12.8997 10.6547 12.8997 10.6546 12.8998L10.6261 12.8304M11.6696 11.8183V11.822L11.6678 11.8222C11.6684 11.8209 11.669 11.8196 11.6696 11.8183ZM11.6696 11.8183L11.6767 11.8214L11.7143 11.8183M11.6696 11.8183H11.7143M11.7143 11.8183V11.8382L11.7162 11.839C11.7155 11.8321 11.7149 11.8252 11.7143 11.8183ZM11.2252 15.6139C10.887 15.6712 10.5574 15.7 10.2364 15.7C9.37484 15.7 8.59816 15.5674 7.90748 15.3009C7.21721 15.0344 6.62718 14.6494 6.13851 14.1456L6.19235 14.0934M11.2252 15.6139L6.19235 14.0934M8.73614 12.7229C8.43757 12.5647 8.18229 12.3482 7.97031 12.0735L8.73614 12.7229ZM11.2262 14.8592C11.5456 14.7965 11.8353 14.7188 12.095 14.6263L11.2262 14.8592ZM11.4299 11.1496L11.4297 11.1501C11.2942 11.4903 11.094 11.7478 10.8303 11.9264C10.5675 12.1044 10.2411 12.1956 9.8468 12.1956C9.46442 12.1956 9.14906 12.0911 8.89571 11.8857C8.64116 11.674 8.44684 11.3956 8.31364 11.0483C8.1828 10.6993 8.11697 10.3187 8.11697 9.90595C8.11697 9.5188 8.19111 9.16545 8.3384 8.84478C8.48876 8.52391 8.69439 8.27011 8.95483 8.08121L8.95495 8.08113C9.21586 7.89112 9.5196 7.79544 9.8692 7.79544C10.2347 7.79544 10.5467 7.87224 10.8081 8.02279L10.8081 8.02279L10.8089 8.02326C11.0712 8.16991 11.2744 8.39601 11.4179 8.70587L11.4181 8.70639C11.5642 9.01566 11.6393 9.41429 11.6393 9.90595C11.6393 10.3947 11.5686 10.8085 11.4299 11.1496Z",stroke:"black","stroke-opacity":"0.9","stroke-width":"0.15"}))}var M=i(44173);let F=/(\d+)\snew\s(comment(?:s)?|repl(?:y|ies)|reaction(?:s)?)\s(?:and\s(\d+)\snew\s(comment(?:s)?|repl(?:y|ies)|reaction(?:s)?)\s)?/,B=/<b>(.*?)<\/b>.*?(?=\s*in\s)/,U=/made you (an? )?(\w+)/i,H=/<b>(.*?)<\/b>/g;function W(e){let{avatars:t,notification_type:i}=e;return 0===t.length?null:t.length>1?n.createElement("div",{className:M.e0},n.createElement("div",{className:M.uX},n.createElement(N.HH,{block:t[1],size:I.Pf.MEDIUM28})),n.createElement("div",{className:M.SH},n.createElement(N.HH,{block:t[0],size:I.Pf.MEDIUM28})),n.createElement("div",{className:M.Kk},i&&k(i))):n.createElement(n.Fragment,null,n.createElement("div",{className:M.e0},n.createElement(N.HH,{block:t[0],size:I.Pf.LARGE40}),n.createElement("div",{className:M.Kk},i&&k(i))))}function G(e){let{attachment:t,notification:i}=e,l=t.body;return n.createElement("div",{className:M.hQ},n.createElement("div",null,function(e,t){if(!e)return null;let i={html_text:"",_block_type:"HtmlTextBlock"},l={html_text:"",_block_type:"HtmlTextBlock"},a={html_text:"",_block_type:"HtmlTextBlock"};return e.map(e=>{if("HtmlTextBlock"===e._block_type){let n=e.html_text.match(B),r=e.html_text.match(H)||[];if(n&&"BatchedFileCommentNotif"===t){let e=n[0].trim();""===i.html_text&&(i={html_text:e}),l={html_text:r[r.length-1].replace(/<\/?b>/g,"")}}else if(t&&$.includes(t)){if(r.length>=3){""===i.html_text&&(i={html_text:r[0]});let e=r[r.length-1].replace(/<\/?b>/g,""),t=r[r.length-2].replace(/<\/?b>/g,"");l={html_text:`${t} -> ${e}`}}}else""===i.html_text&&(i={html_text:r[0]}),l={html_text:r[r.length-1].replace(/<\/?b>/g,"")};a=t&&function(e,t){switch(e){case"AtMentionCommentNotif":case"CanvasAtMentionNotif":case"AtMentionInviteNotif":case"FeedPostAtMention":return{html_text:"Mentioned you"};case"FileCommentReplyNotifV2":return{html_text:"Replied"};case"FileCommentReactionNotifV2":case"FeedCommentReactionNotifV":case"FeedPostReactionNotifV2":return{html_text:"Reacted"};case"FileCommentNotifV2":case"FeedPostCommentNotifV2":return{html_text:"Commented"};case"MergeRequestReviewerInviteNotif":return{html_text:"Requested review"};case"MergeRequestChangesRequestedNotif":return{html_text:"Suggested changes"};case"BranchMergedNotif":return{html_text:"Merged"};case"MergeRequestApprovedNotif":return{html_text:"Approved branch"};case"InviteFolderNotif":case"InviteFileNotif":case"InviteTeamNotif":case"InviteFileRepoNotif":case"InviteFileReminderNotif":let i=t.match(U);if(i&&i.length>2)return{html_text:`Made you ${i[2]}`};if(t.includes("shared"))return{html_text:"Shared"};return{html_text:"Invited you"};case"FileRoleRequestCreatedNotif":let n=t.includes("edit")?"edit":"view";return{html_text:t.includes("wants")?`Requested ${n} access`:`Can now ${n}`};case"FileRoleRequestApprovedNotif":return{html_text:t.includes("edit")?"You can edit":"You can view"};case"BatchedFileCommentNotif":case"BatchedFeedCommentReactionNotif":let l=t.match(F),a="";if(l){let e=l[1],t=l[2];if(a=`${e} ${t}`,l[3]){let e=l[3],t=l[4];a+=` and ${e} ${t}`}}return{html_text:a}}}(t,e.html_text)||a}}),n.createElement(n.Fragment,null,n.createElement("div",{className:M.Zc},n.createElement(N.An,{block:i})),n.createElement("div",{className:M.Zc},n.createElement(N.An,{block:a})," \xb7 ",n.createElement(N.An,{block:l})))}(l.title,i.notification_type)),l.description&&n.createElement("div",{className:M.Ec},n.createElement("span",{className:M.gv},(0,N.A_)(function(e){if(!e)return[];let t=e.find(e=>"ReacjiBlock"===e._block_type);return t?[t,{html_text:" to: ",_block_type:"HtmlTextBlock"}]:[]}(l.title))),(0,N.A_)(l.description)))}function V(e){let{notification:t,createdAt:i}=e,l=function(e){if(e.includes("just now"))return"now";let t=e.split(" "),i=t[0],n=t[1].charAt(0);return"mo."===t[1]&&(n+="o"),`${i}${n}`}((0,w.Ak)(i,"short"));return n.createElement("div",{className:M.sU},n.createElement("div",{className:M.vE},l),t.is_unread?n.createElement("div",{className:(0,y.fN)()?M.FN:M.bm}):null,n.createElement(W,{avatars:t.avatars,notification_type:t.notification_type}),e.children)}function j(e){let{attachment:t,notification:i}=e;return n.createElement(V,{notification:i,createdAt:t.body.created_at},n.createElement(G,{attachment:t,notification:i}))}function q(e){let{attachment:t,notification:i}=e,{shouldShowChevron:l}=n.useContext(C.H);return n.createElement(V,{notification:i,createdAt:t.body.created_at},n.createElement(G,{attachment:t,notification:i}),l(i)&&n.createElement(b.B,{svg:N.sE,style:T.sx.absolute.hFull.flex.itemsCenter.add({right:"-16px",height:"100%",fill:"var(--color-icon)"}).$}))}function z(e){let{attachment:t,notification:i,actionBlockCallbacks:l}=e;return n.createElement(n.Fragment,null,n.createElement(V,{notification:i,createdAt:t.body.created_at},n.createElement(G,{attachment:t,notification:i})),n.createElement(Q,{block:t.actions,actionBlockCallbacks:l}))}function Q(e){let{block:t,actionBlockCallbacks:i}=e;return n.createElement("div",{className:M.yT},n.createElement(N.sv,{block:t.secondary_action,callbacks:i,isPrimary:!1}),n.createElement(N.sv,{block:t.primary_action,callbacks:i,isPrimary:!0}))}let $=["MergeRequestReviewerInviteNotif","MergeRequestChangesRequestedNotif","BranchMergedNotif","MergeRequestApprovedNotif"],Y=[...$,"AtMentionCommentNotif","CanvasAtMentionNotif","AtMentionInviteNotif","FeedPostAtMention","FileCommentReplyNotifV2","FileCommentReactionNotifV2","FeedPostCommentNotifV2","FeedCommentReactionNotifV","FeedPostReactionNotifV2","FileCommentNotifV2","InviteFolderNotif","InviteFileNotif","InviteTeamNotif","InviteFileRepoNotif","InviteFileReminderNotif","FileRoleRequestCreatedNotif","FileRoleRequestApprovedNotif","BatchedFileCommentNotif","BatchedFeedCommentReactionNotif"];var K=i(58024);function Z(e){let t=e.preferred_attachments.find(e=>_.pw.BlockKit.Block.ATTACHMENT_TYPES.has(e._block_type));if(void 0===t)throw Error(`Unable to render attachment. Hiding notification ${e.notification_id}`);return t}function X(e){let t;let i=(0,l.wA)(),[_,w]=(0,n.useState)(!1),b=(0,l.Pj)(),T=(0,d.sZ)(),I=(0,l.d4)(e=>e.selectedView.view),y=(0,u.FC)(),{onClick:k,onMouseEnter:R,onMouseMove:S,onRemove:D}=n.useContext(C.H),A=(0,v.ro)(),P=e.notification;n.useEffect(()=>()=>{D(P)},[D,P]);try{t=Z(e.notification)}catch(e){return console.error(`Unsupported Notification: ${e}`),null}let O=()=>{var t;if(P.deeplink){let n=P.deeplink.href;if(n.includes("project")){let t=n.split("project/")[1];(0,s.xr)("file_browser_folder_click",t,null,y,{selectedView:"notifications",planFilterId:e.currentPlanFilter===K.aT?null:e.currentPlanFilter})}else if(n.includes("team")){let t=n.split("team/")[1];(0,s._J)("file_browser_team_click",t,y,{selectedView:"notifications",planFilterId:e.currentPlanFilter===K.aT?null:e.currentPlanFilter})}else if(n.includes("file/")){let t=n.split("file/")[1].split("/")[0];i(c.UN({fileKey:t,entrypoint:"notifications",currentPlanFilter:{planId:e.currentPlanFilter===K.aT?void 0:e.currentPlanFilter||void 0}}))}if(i(o.oB()),P.deeplink.use_unsafe)f.Ay.unsafeRedirect(n,E.eD?void 0:"_blank");else if(e.inDesktopTray)f.Ay.redirect(n);else{let e=new URL(n);try{let l=(0,m.vU)(b.getState(),e.pathname);if("teamFeed"===l.view){T&&(null==(t=P.plan)?void 0:t.id.toString())===T.id?i(o.$T(l)):f.Ay.redirect(n,E.eD?void 0:"_blank");return}f.Ay.redirect(n,E.eD?void 0:"_blank");return}catch{f.Ay.redirect(n,E.eD?void 0:"_blank")}}}},L=e=>{e.stopPropagation()},x=()=>{w(!0),e.onHide&&e.onHide()},F=(e,t=I)=>p.sr.updateNotification({notification_id:P.notification_id,notification_action:e,currentView:t}),B=(t,i)=>{try{switch(t._block_type){case"ActionableAttachment":{let l={updateNotification:e.updateNotificationCallback,hideNotification:x,followLinkIfPossible:O,buildNotificationActionRequest:F};return n.createElement(N._1,{attachment:t,notification:i,actionBlockCallbacks:l})}case"ClientActionableAttachment":return n.createElement(N.Pl,{attachment:t,notification:i});case"BodyAndThumbnailAttachment":case"BodyAttachment":return n.createElement(N._2,{attachment:t,notification:i,dontShowPlanIcon:e.dontShowPlanIcon})}}catch(e){console.error(`Unable to render attachment: ${t}`),x()}};return!_&&n.createElement("div",{className:A?M.Li:M.qd,onClick:n=>{(0,a.sx)("file_browser_notification_clicked",{notification_id:P.notification_id,notification_type:P.notification_type,actionable:"ActionableAttachment"===t._block_type,selectedView:I,plan_filter:e.currentPlanFilter,notification_filter:e.currentNotificationFilter}),L(n);let l=k(P);"ActionableAttachment"!==t._block_type&&F("resolve").then(({data:t})=>{if(l||O(),t.meta.updated_notification_blob){let i=t.meta.updated_notification_blob;e.updateNotificationCallback(i.notification_id,i)}},e=>{i(g.s.error((0,h.t)("user_notification.an_error_occurred_while_clicking_this_notification")))})},onMouseDown:L,onMouseEnter:t=>{R(t,P,()=>{F("resolve",I+"_quickreply").then(({data:t})=>{if(t.meta.updated_notification_blob){let i=t.meta.updated_notification_blob;e.updateNotificationCallback(i.notification_id,i)}})})},onMouseMove:e=>{S(e)}},(0,r.kc)().structured_view_notifications?((t,i)=>{try{var l,a;if(l=i.notification_type,Y.includes(l)&&(null==(a=(0,r.Ay)().user_data)?void 0:a.locale)==="en")switch(t._block_type){case"ActionableAttachment":{let l={updateNotification:e.updateNotificationCallback,hideNotification:x,followLinkIfPossible:O,buildNotificationActionRequest:F};return n.createElement(z,{attachment:t,notification:i,actionBlockCallbacks:l})}case"ClientActionableAttachment":return n.createElement(q,{attachment:t,notification:i});case"BodyAndThumbnailAttachment":return n.createElement(j,{attachment:t,notification:i,dontShowPlanIcon:e.dontShowPlanIcon})}else B(t,i)}catch(e){console.error(`Unable to render attachment: ${t}`),x()}})(t,P):B(t,P))||null}},58024:(e,t,i)=>{i.d(t,{aT:()=>E,jy:()=>g,gN:()=>f});var n=i(411855),l=i(109388),a=i(188507),r=i(268537),o=i(574176),c=i(939863),s=i(860178),d=i(720488);let u="notifs_plan_filter--boldTitle---Yao3",m="notifs_plan_filter--autoTruncate--JBaGp ellipsis--ellipsis--Tjyfa";var _=i(783423),p=i(533600);let E="ALL_PLANS_FILTER";function f(e,t){return e.length>t?e.slice(0,t-3)+"...":e}function g({currentPlanFilter:e,onPlanFilterUpdate:t}){var i;let[g,h]=n.useState(!1),v=(0,n.useRef)(null),C=(0,n.useRef)(null),N=(0,s.iZ)(),w=(0,a.d4)(e=>{var t;return N?null==(t=e.authedUsers.byId[N.id])?void 0:t.plans:null});if(!N||!w||w.length<=1)return n.createElement("span",{className:u},(0,c.t)("user_notification.all_notifications"));let b=w.map(e=>e.plan_id);b.unshift(E);let T=(e,t)=>e===E?(0,c.t)("user_notification.all_notifications"):t[e],I=w.reduce((e,t)=>(e[t.plan_id]=t.name,e),{}),y=(e,i)=>{e.stopPropagation(),t(i),h(!1)},k=b.map(t=>n.createElement(r.W.Option,{key:t,onClick:e=>{y(e,t)}},t===e&&n.createElement(o.B,{svg:p.A}),n.createElement("span",{className:`${t===e?"notifs_plan_filter--planNameChecked--DRs5Z":"notifs_plan_filter--planNameUnchecked--j9H7f"} ${m}`},T(t,I))));return n.createElement("div",{className:"notifs_plan_filter--planFilterContainer--btOEf",ref:v},n.createElement("div",null,n.createElement("button",{ref:C,onClick:()=>{h(!g)},className:"notifs_plan_filter--dropdownButton--sKKXq"},n.createElement("span",{className:[u,m].join(" ")},f(T(e,I),35)),n.createElement(o.B,{svg:_.A,className:"notifs_plan_filter--chevronIcon--WGm81"})),C.current&&g&&n.createElement(d.Cf,{targetRect:null==(i=l.findDOMNode(C.current))?void 0:i.getBoundingClientRect(),type:d.it.DEFAULT,lean:"right",minWidth:120,disableDropdownScrollContainer:!0,closeDropdown:()=>h(!1)},k)))}},706638:(e,t,i)=>{i.d(t,{P:()=>L,v:()=>D});var n=i(411855),l=i(188507),a=i(539321);if(443==i.j)var r=i(395096);var o=i(776250),c=i(358145),s=i(395900),d=i(268537),u=i(493323),m=i(135876),_=i(827586),p=i(32863),E=i(574176),f=i(939863),g=i(738269),h=i(852800),v=i(15859),C=i(318812),N=i(29680),w=i(463592),b=i(103271),T=i(406158),I=i(720488),y=i(780634);if(443==i.j)var k=i(949207);if(443==i.j)var R=i(156238);if(443==i.j)var S=i(432023);var D=(e=>(e.LOADED="post-to-feed-view-loaded",e.SELECT_NODE="post-to-feed-select-node",e))(D||{});function A(e){return n.createElement("div",{className:null!==e.isSelectedIdx?y.El:y.Vs,onClick:e.onClick,role:"button",tabIndex:0,ref:t=>{t&&e.observe(t)},"data-observer-guid":e.node.guid},n.createElement("div",{className:y.h3,style:{backgroundColor:e.backgroundColor}},n.createElement(m.x,{isLoading:!e.thumbnailUrl},()=>n.createElement("img",{className:y.xn,src:e.thumbnailUrl,alt:"",draggable:!1}))),n.createElement("div",{className:y.JO},n.createElement("div",{className:y.qp},e.node.name)),null!==e.isSelectedIdx&&1!==e.totalNumSelected&&n.createElement("div",{className:y.Jx},e.isSelectedIdx+1))}function P(e){let{toggleSelectNode:t}=e,i=(e.pageNode&&(0,a.colorToHex)(e.pageNode.backgroundColor))??"",[l,r]=n.useState(!1),o=n.useCallback(n=>{t(n,{pageId:e.pageNode.guid,pageBackgroundColor:i})},[t,e.pageNode.guid,i]);return n.createElement("div",{className:y.RW},e.showCollapsibleHeader&&n.createElement("div",{className:y.Vr,onClick:()=>r(e=>!e),role:"button",tabIndex:0},l?n.createElement(E.B,{svg:S.A,className:y.Rq}):n.createElement(E.B,{svg:k.A,className:y.Rq}),e.pageNode.name,"\xa0",n.createElement("span",{className:y.Du},"\xb7 ",e.nodes.length)),!l&&n.createElement("div",{className:y.Mc},e.nodes.map(t=>{var l,a,r;let c=(null==(l=e.selectedNodeGuids)?void 0:l.indexOf(t.guid))??null;return n.createElement(A,{key:`node-${t.guid}`,node:t,thumbnailUrl:(null==(a=e.thumbnailByGuid[t.guid])?void 0:a.url)??"",backgroundColor:i,isSelectedIdx:-1===c?null:c,onClick:()=>o(t.guid),totalNumSelected:(null==(r=e.selectedNodeGuids)?void 0:r.length)??null,observe:e.observe})})))}let O="feed-post-page-selector-menu";function L(){let e=n.useCallback((e,t)=>{let i=window.parent;window.self.origin===i.origin&&i&&i.postMessage({type:e,data:t})},[]),t=n.useRef(new s.jk("feed_post_to_file_load",{}));n.useEffect(()=>{t.current.start()},[]);let i=(0,N.aV)(),a=(0,N.eY)(),m=(0,l.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.key});n.useEffect(()=>{if(!i){t.current.stop();let i=t.current.getElapsedTime();(0,o.sx)("team_feed.post_from_file.file_load",{elapsedMs:i,fileKey:m}),e("post-to-feed-view-loaded",!0)}},[i,e,m]);let k=(0,l.d4)(e=>e.mirror.appModel.pagesList),S=n.useMemo(()=>k.reduce((e,t)=>({...e,[t.nodeId]:a.get(t.nodeId)}),{}),[k,a]),D=(0,l.wA)(),A=n.useMemo(()=>Object.values(S).flatMap(e=>e?e.uiOrderedChildren.map(t=>{let i=a.get(t);return i&&("FRAME"===i.type||"SECTION"===i.type)?{...i,pageId:e.guid,name:null==i?void 0:i.name}:null}).filter(e=>e):[]).filter(e=>null!==e),[S,a]),L=n.useMemo(()=>{let e={};for(let t of A)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[A]),x=n.useMemo(()=>new w.Ef(A,{keys:["name"]}),[A]),[M,F]=n.useState(""),[B,U]=n.useState(null),[H]=(0,r.A)(M,200),W=n.useCallback(e=>{U(x.search(e))},[x]),G=n.useMemo(()=>{if(null===B)return null;let e={};for(let t of B)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[B]);n.useEffect(()=>{""!==H&&W(H)},[H,W]);let V=(0,C.U)(),j=n.useRef(null),[q,z]=n.useState(null);n.useEffect(()=>{if(q||!a||!L||0===Object.keys(L).length)return;let e=a.get(Object.keys(L)[0]);e&&z(e)},[q,L,a]);let[Q,$]=n.useState({}),[Y,K]=n.useState([]),Z=(0,c.ZC)(Y),X=n.useRef(null),[J,ee]=n.useState([]),et=n.useCallback(e=>{let t=[];e.forEach(e=>{var i;if(e.isIntersecting&&e.target instanceof HTMLElement){let n=null==(i=e.target.dataset)?void 0:i.observerGuid;n&&t.push(n)}}),ee(t)},[]),ei=n.useMemo(()=>new IntersectionObserver(et,{threshold:[.25]}),[et]),en=n.useCallback(e=>{ei&&ei.observe(e)},[ei]),[el,ea]=n.useState({});n.useEffect(()=>{if(0===J.length)return;let e=J.filter(e=>!el[e]);0!==e.length&&(0,v.Jr)().loadAllImagesUnder(e,h.MoD.NON_ANIMATED_ONLY,"feed.postFromFile").then(()=>{e.forEach(e=>{setTimeout(()=>{ea(t=>{if(t[e])return t;let i=(0,T.BO)(e);return{...t,[e]:{url:URL.createObjectURL(new Blob([i])),data:i}}})},0)})})},[J,el]),n.useEffect(()=>{Y!==Z&&e("post-to-feed-select-node",Y.map(e=>({guid:e,thumbnail:el[e].data,backgroundColor:Q[e]})))},[Z,Y,e,el,Q]);let er=n.useCallback((e,t)=>{el[e]&&($(i=>t.pageBackgroundColor?{...i,[e]:t.pageBackgroundColor}:i),K(t=>t.includes(e)?t.filter(t=>e!==t):t.length>=b.e3?t:[...t,e]))},[el]);return L&&0===Object.keys(L).length?n.createElement("div",{className:y.se},(0,f.t)("fig_feed.no_top_level_nodes")):q?n.createElement("div",{className:y.kL},n.createElement("div",{className:y.Y},n.createElement(p.IW,{query:M,className:y.ON,onChange:F,clearSearch:()=>{F(""),U(null)},focusOnMount:!1,iconClassName:y.qc,placeholder:(0,f.t)("fig_feed.search_frames")}),""===M&&n.createElement(n.Fragment,null,n.createElement("div",{role:"button",ref:j,onClick:()=>{(null==V?void 0:V.type)===O?D(g.oB()):D(g.j7({type:O}))},tabIndex:0,className:y.YZ},n.createElement("div",null,q.name),n.createElement(E.B,{svg:R.A,width:"8px",autosize:!0})),j.current&&(null==V?void 0:V.type)===O&&n.createElement(I.Cf,{showPoint:!1,targetRect:j.current.getBoundingClientRect(),propagateCloseClick:!0},Object.keys(L).map(e=>n.createElement(d.W.CheckableOption,{key:e,onClick:()=>z(S[e]),checked:q.guid===e},S[e].name))))),n.createElement(_.P,{hideScrollbar:!0,className:y.jG,innerClassName:y.hu,scrollContainerRef:X},""===M&&n.createElement(P,{pageNode:q,nodes:L[q.guid]||[],thumbnailByGuid:el,selectedNodeGuids:Y,toggleSelectNode:er,observe:en}),""!==M&&(null===G?n.createElement("div",{className:y.Do},n.createElement(u.kt,{size:"large"})):Object.entries(G).length>0?Object.entries(G).map(([e,t])=>n.createElement(P,{key:e,pageNode:S[e],nodes:t,thumbnailByGuid:el,selectedNodeGuids:Y,toggleSelectNode:er,showCollapsibleHeader:!0,observe:en})):n.createElement("div",{className:y.Lp},n.createElement("div",null,n.createElement(f.Tx,{id:"fig_feed.no_frames_matching",searchQuery:n.createElement(n.Fragment,null,n.createElement("span",{className:y.ZF},M))})))))):null}},33876:(e,t,i)=>{i.d(t,{A:()=>u});var n=i(411855),l=i(188507),a=i(395771),r=i(762638),o=i(809840),c=i(71425),s=i(884484),d=i(17076);function u({localResource:e,publishedResource:t}){let{error:i,localFilePath:l}=e||{},r=(0,s.Pt)(null==i?void 0:i.type,e);if(!e&&t)return n.createElement(_,{resource:t});if(!e||null==l)return null;if(!i)return n.createElement(a.R,{className:d.cV,text:l.replace("/manifest.json","")});if(!r)return null;let{action:c,msg:u,buttonText:p}=r;return n.createElement(n.Fragment,null,n.createElement(o.E,{color:"danger"},u),n.createElement(m,{onClick:c,isError:!0},p))}function m({children:e,onClick:t,isError:i}){return n.createElement("button",{onClick:e=>{e.stopPropagation(),t()},className:r.cx.underline.bgTransparent.with({colorTextDanger:i,colorTextSecondary:!i}).$},e)}function _({resource:e}){let t=(0,l.wA)();return n.createElement("div",{className:d.cV},n.createElement(m,{onClick:()=>{t((0,c.JZ)({resourceType:e.is_widget?"widget":"plugin"}))}},n.createElement(o.E,{i18nId:"universal_insert.locate_local_version_text"})))}},103567:(e,t,i)=>{i.d(t,{JB:()=>p,PE:()=>g,R_:()=>_,WZ:()=>E,e2:()=>f});var n=i(411855),l=i(188507),a=i(768137),r=i(946689),o=i(939863),c=i(175290),s=i(809840),d=i(225266),u=i(215822);function m(e){return{...e.is_widget?{widget_id:e.id}:{plugin_id:e.id},src:d.Nn.INVITE_TILE}}function _(e){let t=(0,l.wA)(),i=m(e);return()=>t((0,d.dx)(i))}function p(e){let t=(0,l.wA)(),i=m(e);return()=>t((0,d.MZ)(i))}function E({resource:e}){let t=_(e),i=p(e);return n.createElement(c.Y,null,n.createElement(a.nR,{onClick:e=>{e.stopPropagation(),i()}},n.createElement(o.Tx,{id:"community.detail_view.decline"})),n.createElement(r.$$,{onClick:e=>{e.stopPropagation(),t()}},n.createElement(o.Tx,{id:"community.detail_view.accept"})))}function f({resource:e}){let t=(0,u.uF)(e),i=e.creator,l=e.is_widget?"widget":"plugin",a=`/community/${l}/${e.id}`;return n.createElement(s.E,null,n.createElement(o.Tx,{id:"universal_insert.invited_you_to_publish",ownerName:n.createElement(s.E,{fontWeight:"medium"},i.handle),resourceName:n.createElement(r.CY,{href:a,onClick:e=>{e.stopPropagation()},target:"_blank",trusted:!0},n.createElement(s.E,{fontWeight:"medium"},t.name))}))}function g({resource:e}){return n.createElement(c.Y,{direction:"vertical"},n.createElement(f,{resource:e}),n.createElement(E,{resource:e}))}},636967:(e,t,i)=>{i.d(t,{X8:()=>O,$c:()=>A});var n=i(411855),l=i(188507),a=i(115630),r=i(629019),o=i.n(r),c=i(860601),s=i(313496),d=i(574176),u=i(762638),m=i(939863),_=i(67294),p=i(134279),E=i(896474),f=i(809840),g=i(738269),h=i(119198),v=i(672517),C=i(988022),N=i(860178),w=i(99506),b=i(741477),T=i(984968),I=i(945020),y=i(851363),k=i(206074),R=i(720488),S=i(873327),D=i(875531),A=(e=>(e.DESIGN="FILE_CREATION_DROPDOWN_DESIGN",e.WHITEBOARD="FILE_CREATION_DROPDOWN_WHITEBOARD",e.SLIDES="FILE_CREATION_DROPDOWN_SLIDES",e.DESKTOP_NEW_TAB="FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB",e))(A||{});let P={FILE_CREATION_DROPDOWN_DESIGN:"design",FILE_CREATION_DROPDOWN_WHITEBOARD:"whiteboard",FILE_CREATION_DROPDOWN_SLIDES:"piper"};function O({buttonText:e,dataTestId:t,dropdownType:i,teamsWithEditableProjects:r,hideOnDesktop:d,hideOnMobile:_,onSelectOverride:p}){var E;let f=(0,l.wA)(),h=[{displayText:(0,m.t)("file_browser.tool_bar.file_creation_dropdown_display_text"),preventDismissOnSelected:!0,render:()=>n.createElement(L,{teamsWithEditableProjects:r,dropdownType:i,onSelectOverride:p,dispatch:f})}],C=(0,l.d4)((0,b.E)(i)),N=n.useRef(null),w="FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB"===i,T=n.createElement(n.Fragment,null,n.createElement(s.g,{buttonClassName:o()(u.cx.flex.itemsCenter.justifyCenter.$,w?"file_creation_dropdown--newFileDropdown--lq76d file_creation_dropdown--newFileToolbarDropdown--7cOhM":"file_creation_dropdown--newFileBrandDropdown--nUf8p file_creation_dropdown--newFileToolbarDropdown--7cOhM",{"file_creation_dropdown--hideOnDesktop--Wz3cb":d,"file_creation_dropdown--hideOnMobile--dDtxr":_}),dataTestId:t,isShowingDropdown:!1,isOnBrandColor:!w,onClick:()=>{C||f(g.j7({type:i}))},ref:N},e),N.current&&C&&n.createElement(v.fu,{name:"File Creation Dropdown Display",properties:{fileCreationDefaultsDropdownType:i}},n.createElement("div",{className:u.cx.if(!w,u.cx.fixed).$},n.createElement(k.j,{showPoint:!0,lean:"center",type:R.it.MATCH_BACKGROUND,rootAndSubmenuMaxWidth:224,minWidth:224,autoHeight:!0,onSelectItem:c.lQ,hidePointWhenContentOffScreen:!0,items:h,parentRect:null==(E=N.current)?void 0:E.getBoundingClientRect(),dispatch:f}))));if(!w){let e=P[i];return n.createElement(a.v,{mode:e},T)}return T}function L({teamsWithEditableProjects:e,dropdownType:t,onSelectOverride:i,dispatch:l}){let a=(0,S.Bq)(),r=(0,N.TA)(),[o,c]=n.useState(!1),s=(e,i)=>{l(g.oB()),l(h.zE({state:a,editorType:x[t],team:e?(0,y.Z_)(e):void 0,folderId:i,from:I.f6.FILE_BROWSER_TOPBAR_RECENTS,openNewFileIn:I.ai.SAME_TAB,callback:e=>{(0,C.Cu)({userId:r,fileKey:e},M[t])},inFileCreationDefaultsExp:!0}))},v=i?()=>{i(null),l(g.oB())}:()=>s(),w=n.useMemo(()=>o?e:e.slice(0,3),[o,e]);return n.createElement(n.Fragment,null,n.createElement("div",{className:"file_creation_dropdown--dropdownHeader--7xo8- text--fontPos11--2LvXf text--_fontBase--QdLsd"},"FILE_CREATION_DROPDOWN_DESIGN"===t?n.createElement(m.Tx,{id:"file_browser.tool_bar.create_new_design_file_in"}):"FILE_CREATION_DROPDOWN_WHITEBOARD"===t?n.createElement(m.Tx,{id:"file_browser.tool_bar.create_new_figjam_board_in"}):"FILE_CREATION_DROPDOWN_SLIDES"===t?n.createElement(m.Tx,{id:"file_browser.tool_bar.create_new_slide_deck_in"}):n.createElement(m.Tx,{id:"desktop_new_tab.create_new_file_in"})),w.map(e=>{if(e.projects&&e.projects[0]){let a=e.projects[0],r=(0,y.Z_)(e),o=(0,T.rR)(r,{type:T.sK.ADD_FIGJAM_FILE}),c=(0,T.rR)(r,{type:T.sK.ADD_DESIGN_FILE}),d=(0,T.rR)(r,{type:T.sK.ADD_SLIDES_FILE}),m="FILE_CREATION_DROPDOWN_DESIGN"===t?!c:"FILE_CREATION_DROPDOWN_WHITEBOARD"===t?!o:"FILE_CREATION_DROPDOWN_SLIDES"===t&&!d,E=i?()=>{i({team:e,project:a}),l(g.oB())}:()=>s(e,a.id);return n.createElement(F,{key:e.id,dropdownType:t,folderId:e.projects[0].id,icon:n.createElement("div",{className:u.cx.h16.w16.flex.itemsCenter.justifyCenter.$},n.createElement(_.nl,{size:{imgSize:_.Pf.SMALL,fallbackSize:_.Pf.XSMALL},fallbackDisplay:p.U.HIDDEN,team:{id:e.id}})),text:n.createElement(f.E,{truncate:!0},e.name," / ",e.projects[0].path),onClick:E,isRestricted:m})}}),!o&&e.length>3&&n.createElement("div",{className:"file_creation_dropdown--seeMoreProjects--8dwNL"},n.createElement(F,{dropdownType:t,icon:n.createElement(d.B,{svg:D.A}),text:n.createElement(m.Tx,{id:"file_browser.tool_bar.see_all_editable_projects",numberOfEditableProjects:e.length}),onClick:()=>c(!o)})),n.createElement("div",{className:"file_creation_dropdown--horizontalDivider--orhs0"}),n.createElement("div",null,n.createElement(F,{dropdownType:t,icon:n.createElement(E.In,{icon:"page-16"}),text:n.createElement(f.E,{i18nId:"sidebar.drafts",truncate:!0}),onClick:v})))}let x={FILE_CREATION_DROPDOWN_DESIGN:w._Y.DESIGN,FILE_CREATION_DROPDOWN_WHITEBOARD:w._Y.WHITEBOARD,FILE_CREATION_DROPDOWN_SLIDES:w._Y.SLIDES,FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:w._Y.DESIGN},M={FILE_CREATION_DROPDOWN_DESIGN:"toolbar_design_created",FILE_CREATION_DROPDOWN_WHITEBOARD:"toolbar_figjam_created",FILE_CREATION_DROPDOWN_SLIDES:"toolbar_slides_created",FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:"toolbar_file_created"};function F({icon:e,text:t,onClick:i,isRestricted:l}){return n.createElement("div",{role:"link",className:"file_creation_dropdown--projectCreationListOption--8eCLi",tabIndex:0,onClick:i},n.createElement("div",{className:u.cx.flex.flexRow.wFull.overflowHidden.$},n.createElement("div",{className:u.cx.flex.itemsCenter.flexRow.gap12.wFull.overflowHidden.$},n.createElement("div",{className:u.cx.flex.w16.h16.itemsCenter.alignCenter.justifyCenter.flexShrink0.$},e),n.createElement("p",{className:u.cx.flex.flexRow.overflowHidden.flexGrow1.itemsCenter.$},t))),l&&n.createElement(E.In,{icon:"info-32"}))}},313496:(e,t,i)=>{i.d(t,{g:()=>s});var n=i(411855),l=i(629019),a=i.n(l),r=i(574176),o=i(762638),c=i(783423);let s=n.forwardRef((e,t)=>{let i=o.cx.h16.w16.ml1.flex.justifyCenter.itemsCenter.with({colorIconOnbrand:e.isOnBrandColor,colorIcon:!e.isOnBrandColor}).$;return n.createElement("button",{className:a()("dropdown_button--button--BR3bZ",e.buttonClassName,{"dropdown_button--active--ZkglI":e.isShowingDropdown}),onClick:e.onClick,ref:t,"data-testid":e.dataTestId,"aria-label":e["aria-label"]},e.children,n.createElement(r.B,{svg:c.A,className:i}))})},395771:(e,t,i)=>{i.d(t,{R:()=>a});var n=i(411855),l=i(498606);class a extends n.PureComponent{constructor(){super(...arguments),this.textContainerRef=n.createRef(),this.getFittingText=()=>{if(!this.textContainerRef.current)return null;let e=this.textContainerRef.current,t=e.getBoundingClientRect().width,{text:i}=this.props,n=document.createElement("p");if(n.className=this.props.className||"",n.setAttribute("style",`
      display: inline;
      white-space: nowrap;
    `),e.appendChild(n),n.innerText=i,n.getBoundingClientRect().width<=t)return e.removeChild(n),i;let l="";for(let e=0;e<i.length;e+=1){let a=`...${i.slice(i.length-e)}`;n.innerText=a;let{width:r}=n.getBoundingClientRect();if(r>t)break;l=a}return e.removeChild(n),l}}componentDidMount(){this.forceUpdate()}render(){let e=this.getFittingText();return n.createElement("div",{ref:this.textContainerRef,style:{width:this.props.maxWidth?`${this.props.maxWidth}px`:"100%"},"data-tooltip-type":this.props.text!==e?l.Ib.TEXT:void 0,"data-tooltip":this.props.text!==e?this.props.text:void 0,"aria-label":this.props.text},n.createElement("p",{className:this.props.className},e))}}a.displayName="FrontTruncatedText"},457215:(e,t,i)=>{i.d(t,{To:()=>o,hK:()=>r});var n=i(939863);function l(){return[{text:(0,n.t)("help_widget.collective_upsells.fullscreen.unlimited_creation"),id:"unlimited_creation"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.shared_design_systems"),id:"shared_design_systems"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.advanced_prototyping"),id:"advanced_prototyping"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.enhanced_privacy"),id:"enhanced_privacy"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.decision_making_tools"),id:"decision_making_tools"}]}function a(){return{unlimited_creation:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.better_organization.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.better_organization.description"),imgSrc:"https://static.figma.com/uploads/c342f4d4d591928504af7cfabbb30556617d9acb",url:"https://help.figma.com/hc/articles/1500005554982-Guide-to-files-and-projects#Projects",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_files.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_files.description"),imgSrc:"https://static.figma.com/uploads/fd06e0abcc52d324ff782bcfce9c21844ab0a946",url:"https://help.figma.com/hc/articles/1500005554982-Guide-to-files-and-projects#files",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_boards.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_boards.description"),imgSrc:"https://static.figma.com/uploads/f2009c194bd4ada5fcef6c54ea0063d7daa3627f",url:"https://help.figma.com/hc/articles/15300412458647-Explore-FigJam-files",loadingColor:"var(--color-bg-component-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.version_history.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.version_history.description"),imgSrc:"https://static.figma.com/uploads/68ef770df03dec9fa3e69f2b40df9eec6d4e6166",url:"https://help.figma.com/hc/articles/360038006754-View-a-file-s-version-history",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_pages.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_pages.description"),imgSrc:"https://static.figma.com/uploads/91999ee4abb04a50873c16d23383f724e24b13ed",url:"https://help.figma.com/hc/articles/360038511293-Create-and-manage-pages",loadingColor:"var(--color-bg-brand-tertiary)"}],shared_design_systems:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.component_libraries.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.component_libraries.description"),imgSrc:"https://static.figma.com/uploads/a645a186fea60ff15fd9e1878bd52ceaae425a57",url:"https://help.figma.com/hc/articles/360025508373-Publish-a-library",loadingColor:"var(--color-bg-warning-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variable_modes.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variable_modes.description"),imgSrc:"https://static.figma.com/uploads/1c2427045d0b2ce56265271afb85de51b7742364",url:"https://help.figma.com/hc/articles/15343816063383-Modes-for-variables",loadingColor:"var(--color-bg-warning-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variables_in_prototyping.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variables_in_prototyping.description"),imgSrc:"https://static.figma.com/uploads/13ec0b16486b7a7882491385ef8dff27b4046be7",url:"https://help.figma.com/hc/articles/14506587589399-Use-variables-in-prototypes",loadingColor:"var(--color-bg-warning-tertiary)"}],advanced_prototyping:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.expressions.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.expressions.description"),imgSrc:"https://static.figma.com/uploads/8aaf35d51fab3b28f40abbc1cca114bad73c6104",url:"https://help.figma.com/hc/articles/15253194385943-Use-expressions-in-prototypes",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.conditionals.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.conditionals.description"),imgSrc:"https://static.figma.com/uploads/d70fae15738cd8f3e03df3997823c315ef4e9d9b",url:"https://help.figma.com/hc/articles/15253220891799-Multiple-actions-and-conditionals#h_01H91GHXRHGN8K801ZZCPV99FA",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.multiple_actions.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.multiple_actions.description"),imgSrc:"https://static.figma.com/uploads/eed92994038b1d31ae0a6b55518a5f93bb8494c6",url:"https://help.figma.com/hc/articles/15253220891799-Multiple-actions-and-conditionals#h_01H91GHXRG38YKPARR7J436DTG",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.video_in_prototypes.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.video_in_prototypes.description"),imgSrc:"https://static.figma.com/uploads/72d301c7668fe485cfb7bb82e2a2e6d7cdcbaf82",url:"https://help.figma.com/hc/articles/8878274530455-Use-videos-in-prototypes",loadingColor:"var(--ramp-pink-100-light)"}],enhanced_privacy:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.password_protection.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.password_protection.description"),imgSrc:"https://static.figma.com/uploads/f0f0b3f8cdca6efd146423bd62bd6d28938bde97",url:"https://help.figma.com/hc/articles/5726720100247-Add-password-protection-to-files",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.private_projects.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.private_projects.description"),imgSrc:"https://static.figma.com/uploads/373e72d04adfa59a21741a98e48dcbcbf706cd34",url:"https://help.figma.com/hc/articles/13839214115607-Professional-plan-permissions#projects",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.prototype_only_sharing.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.prototype_only_sharing.description"),imgSrc:"https://static.figma.com/uploads/abfb7962b2a669d9bddbc39ef9ce2f11d858fcc7",url:"https://help.figma.com/hc/articles/360040531773",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.project_transfer.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.project_transfer.description"),imgSrc:"https://static.figma.com/uploads/a093bcd98a4261ab49ea734a6d6284cfc4ace6b9",url:"https://help.figma.com/hc/articles/10250387712407-Transfer-a-project-or-team-to-a-different-company",loadingColor:"var(--ramp-pink-100-light)"}],decision_making_tools:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.audio_conversations.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.audio_conversations.description"),imgSrc:"https://static.figma.com/uploads/42dacd2ef787d922ed8a0ab58dcfe3e57df42eb0",url:"https://help.figma.com/hc/articles/1500004414622-Use-audio-to-chat-with-your-team",loadingColor:"var(--ramp-pale_blue-200-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.voting.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.voting.description"),imgSrc:"https://static.figma.com/uploads/9c0d1a0fdad559ef908062c6cbfa4703859b882e",url:"https://help.figma.com/hc/articles/9359912208663-Run-voting-sessions-in-FigJam",loadingColor:"var(--ramp-pale_blue-200-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.open_figjam_sessions.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.open_figjam_sessions.description"),imgSrc:"https://static.figma.com/uploads/7b5794979bea63a4b3588a8da1ce3ebc94ee9dfc",url:"https://help.figma.com/hc/articles/4410786053911-Invite-visitors-to-an-open-session",loadingColor:"var(--ramp-pale_blue-200-light)"}]}}function r(){return{panelTabs:l(),contents:a(),panelTitle:(0,n.t)("help_widget.collective_upsells.fullscreen.panel_tab_header"),contentTitle:(0,n.t)("help_widget.collective_upsells.fullscreen.content_title"),ctaPrimaryText:(0,n.t)("help_widget.collective_upsells.fullscreen.upgrade_btn")}}function o(){return{panelTabs:l(),contents:a(),panelTitle:(0,n.t)("pro_onboarding.pro_feature_modal.as_a_professional_team_you_get"),ctaPrimaryText:(0,n.t)("pro_onboarding.pro_feature_modal.got_it")}}},476932:(e,t,i)=>{i.d(t,{n:()=>b,I:()=>v});var n=i(411855),l=i(188507),a=i(629019),r=i.n(a),o=i(711117),c=i(799569),s=i(762638),d=i(175290),u=i(553015),m=i(809840),_=i(101505),p=i(672517),E=i(820113),f=i(622139),g=i(205371),h=i(488578),v=(e=>(e[e.SMALL=0]="SMALL",e[e.LARGE=1]="LARGE",e))(v||{});function C({headerText:e,descriptionText:t,imgSrc:i,loadingColor:l}){return n.createElement(d.Y,{direction:"vertical",verticalAlignItems:"start",strokeColor:"default",strokeWidth:1,cornerRadius:6,spacing:0,height:"fill-parent"},n.createElement(n.Suspense,{fallback:n.createElement("div",{className:"fullscreen_help_upsells_modal_base--cardPlaceholder--j3U6P",style:{backgroundColor:l}})},n.createElement("img",{alt:e,className:"fullscreen_help_upsells_modal_base--cardImage--HNMiP",src:i,width:189,height:146})),n.createElement("div",{className:s.cx.p12.pl10.pr10.flex.flexColumn.gap2.$},n.createElement(m.E,{fontSize:13,fontWeight:"medium",color:"default"},e),n.createElement("div",{className:s.cx.minH32.$},n.createElement(m.E,{fontSize:11,color:"secondary"},t))))}function N({isClickable:e,url:t,...i}){return e&&void 0!==t?n.createElement(p.L0,{href:t,target:"_blank",className:"fullscreen_help_upsells_modal_base--clickableCard--056mH",trackingProperties:{card:i.headerText}},n.createElement(C,{...i})):n.createElement(C,{...i})}function w(){let e=(0,E.LN)(),t=new E.vr(e);return n.createElement(d.Y,{padding:14,direction:"vertical",verticalAlignItems:"end"},n.createElement("div",{className:"fullscreen_help_upsells_modal_base--priceContainer--XWuz1"},n.createElement("div",{className:s.cx.wHalf.flex.flexColumn.gap8.$},n.createElement(m.E,{i18nId:"help_widget.collective_upsells.fullscreen.price_title.figma_design",color:"design",fontSize:11,fontWeight:"semi-bold"}),n.createElement(m.E,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,g.ok)(f.tY.ANNUAL,e)))),n.createElement("div",{className:"fullscreen_help_upsells_modal_base--priceContainerDivider--zsPMB"}),n.createElement("div",{className:s.cx.wHalf.flex.flexColumn.gap8.$},n.createElement(m.E,{i18nId:"help_widget.collective_upsells.fullscreen.price_title.figjam",color:"figjam",fontSize:11,fontWeight:"semi-bold"}),n.createElement(m.E,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,g.hH)(f.tY.ANNUAL,e))))),n.createElement("div",{className:s.cx.p4.pt0.$},n.createElement(m.E,{i18nId:"help_widget.collective_upsells.fullscreen.price.disclaimer.seat_rename",color:"secondary",fontSize:11})))}function b({panelTabs:e,panelTitle:t,modalProps:i,contentTitle:a,contents:E,ctaPrimaryText:f,clickPrimaryBtn:g,secondaryBtn:v,dismissModal:C,showPricing:b=!0,panelTitleSize:T=0,cardsClickable:I}){let[y,k]=(0,n.useState)(e[0].id),R=(0,l.wA)(),S=1===T?n.createElement("div",{className:s.cx.p16.pt14.pb36.$},n.createElement(m.E,{fontSize:18,fontWeight:"semi-bold"},t)):n.createElement("div",{className:s.cx.p16.pt14.pb4.$},n.createElement(m.E,{fontSize:13,color:"secondary"},t)),D=e.map(e=>n.createElement(p.jm,{role:"button",tabIndex:0,key:e.id,className:r()("fullscreen_help_upsells_modal_base--panelTabs--WjAUp",y===e.id&&"fullscreen_help_upsells_modal_base--panelTabsActive--cM4NL"),onClick:()=>{k(e.id)},trackingProperties:{tab:e.id,prevTab:y}},n.createElement(m.E,{fontSize:13},e.text))),A=E[y].map((e,t)=>n.createElement(N,{key:y+e.headerText+t,isClickable:I,...e}));return n.createElement(p.fu,{name:"FullscreenHelpUpsellsModalBase"},n.createElement(h.Nb,{size:900,className:"fullscreen_help_upsells_modal_base--largeModal--8j2D0",...i,hide:C},n.createElement(o.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},n.createElement(d.Y,{verticalAlignItems:"start",height:604,spacing:0},n.createElement(d.Y,{direction:"vertical",width:230,strokeWidth:{right:1},padding:0,spacing:0,strokeColor:"default",height:"fill-parent",verticalAlignItems:"start"},n.createElement(d.M,{minSize:16}),n.createElement(d.Y,{direction:"vertical",height:"fill-parent",spacing:0},t&&S,D),b&&n.createElement(w,null)),n.createElement(d.Y,{direction:"vertical",height:"fill-parent",spacing:0},n.createElement("div",{className:s.cx.pl32.pt24.pb20.$},a&&n.createElement(m.E,{fontSize:20,fontWeight:"semi-bold"},a),n.createElement(c.s_,{customStyle:{right:"8px",top:"8px"},dispatch:R,onClose:C,trackingProperties:{trackingDescriptor:_.c.CLOSE}})),n.createElement("div",{className:s.cx.wFull.hFull.overflowAuto.$},n.createElement("div",{className:s.cx.pl32.pb24.$},n.createElement(d.Y,{spacing:16,verticalAlignItems:"start",direction:"vertical"},n.createElement("div",{className:"fullscreen_help_upsells_modal_base--cardGrid--Yss71"},A)))),n.createElement(d.Y,{height:64,padding:16,horizontalAlignItems:"end",strokeColor:"default",strokeWidth:{top:1}},v,n.createElement(u.V,{variant:"primary",onClick:g},f)))))))}},112967:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(411855),l=i(629019),a=i.n(l),r=i(30637),o=i(762638);function c(e){let t=n.useRef(null),i=n.useRef(null);n.useEffect(()=>{if(t.current&&!i.current&&!(0,r.Lg)()){let n=document.getElementById(e.loadingElementId);i.current=n.cloneNode(!0)??null,t.current.appendChild(i.current)}},[e.loadingElementId,t]);let l={animationDelay:`${e.delay??0}ms`};return n.createElement(n.Fragment,null,n.createElement("div",{ref:t,className:a()(e.loadingElementClassName,o.cx.eventsNone.absolute.top0.left0.right0.bottom0.overflowHidden.opacity1.$,{"loading_page--fadeOut--Ho-om":e.loaded}),style:l}),e.loaded&&e.children)}}}]);

//# debugId=046bc5d2-0ad3-53d0-a8bd-04402034644f

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/12f6243a0a77fb6fa0c32212b13f4fd26f494013/187-36efcd77f937012b.min.js.map