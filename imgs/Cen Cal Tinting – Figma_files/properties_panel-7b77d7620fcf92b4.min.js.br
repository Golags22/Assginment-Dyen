
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="065aa3c5-10b2-51fe-8fc1-5c0cb07aa191")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7355],{89586:(e,t,n)=>{"use strict";n.d(t,{jW:()=>K,cI:()=>F,ex:()=>D});var l=n(411855),r=n(188507),a=n(767129),i=n(841368),s=n(776250),o=n(153234),c=n(347082),d=n(27087),p=n(268537),u=n(493323),m=n(574176),h=n(46481),_=n(939863),E=n(392592),g=n(677664),y=n(798099),b=n(356390),f=n(852800),S=n(662531),v=n(318812),P=n(29680),w=n(498606),T=n(279145),k=n(726864),I=n(395701),C=n(862442),N=n(843495),A=n(457630),M=n(720488),R=n(7959),L=n(82131),O=n(258376),x=n(951912);function F(e){return l.createElement(c.p,{name:"live_object_panel"},l.createElement(R.Zk,null,l.createElement(R.fI,{className:L.LO},l.createElement(R.xw,null,l.createElement("div",{className:"live_object_panel--title--9VTOA"},l.createElement(m.B,{svg:x.A}),l.createElement(_.Tx,{id:"fullscreen.live_object_panel.live_object"}))),l.createElement(B,{pasteSources:e.pasteSources,recordingKey:e.recordingKey}))))}async function V(e,t){for(let n=0;n<t;n++)try{let t=await d.Ay.post(e,void 0,{responseType:"arraybuffer"});return new Uint8Array(t.data)}catch(e){console.error(e)}throw Error(`Failed to download bytes from ${e}`)}async function D(e,t,n){try{let e=[];for(let l of t)(0,s.sx)("update_live_object",{...l}),l.srcFile?(e.push(V(`/api/file_proxy/file/${l.srcFile}/canvas?nodes_to_extract=${l.srcNode}&fv=${n}`,2).then(e=>{S.l7.user("update-live-object-remote",()=>f.glU.updateLiveObject(e,l.nodeId,l.srcNode,l.srcFile))})),await Promise.all(e)):S.l7.user("update-live-object-local",()=>f.glU.updateLiveObject(new Uint8Array,l.nodeId,l.srcNode,""))}catch(t){e(E.F.enqueue({message:(0,_.t)("fullscreen.live_object_panel.live_update_error"),error:!0}))}b.Y5.triggerAction("commit"),e(E.F.enqueue({message:(0,_.t)("fullscreen.live_object_panel.live_update_success")}))}function K(e){let t=(0,r.wA)(),n=(0,P.eY)(),a=function(){let e=(0,C.Z)("outline_navigate"),t=(0,k.Yk)();return l.useCallback(n=>{N.wr(),N.Dh([n]);let l=b.Y5.getViewportInfo();e((0,A.QZ)({nodeId:n,alwaysPan:!0,viewportRect:I.r.fromOriginAndSize(l.x,l.y,l.width,l.height-l.y-t)}))},[t,e])}(),{pasteSources:i,liveUpdate:s,isLiveUpdating:c}=e,d=(0,r.d4)(e=>e.mirror.selectionProperties.resettableInstanceOverrides),u=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),m=!1;if(d){if(d.bubbledInstanceOverrides)m=!0;else for(let e of Object.values(d.selectionOverrides))if(e){m=!0;break}}return l.createElement(l.Fragment,null,l.createElement(p.W.Option,{onClick:()=>{if(1!==i.length)return;let e=i[0];e.srcFile?t((0,g.RK)({rawInput:`${window.location.origin}/file/${e.srcFile}?node-id=${e.srcNode}`})):a(e.srcNode)},disabled:1!==i.length,recordingKey:o.Pt(e,"goToOriginal"),key:"goToOriginal"},l.createElement(_.Tx,{id:"fullscreen.live_object_panel.go_to_original"})),l.createElement(p.W.Option,{disabled:!m,onClick:()=>{let e=i.map(e=>e.nodeId);S.l7.user("reset-instance-overrides",()=>f.glU.resetSymbolOverridesForNodes(e,f.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS)),b.Y5.commit()},recordingKey:o.Pt(e,"resetAllChanges"),key:"resetAllChanges"},l.createElement(_.Tx,{id:"fullscreen.live_object_panel.reset_all_changes"})),l.createElement(p.W.Option,{onClick:()=>s(i),disabled:c,recordingKey:o.Pt(e,"updateLiveObject-menu"),key:"updateLiveObject"},l.createElement(_.Tx,{id:"fullscreen.live_object_panel.update_live_object"})),l.createElement(p.W.Separator,{key:"divider"}),l.createElement(p.W.Option,{className:"live_object_panel--menuOption--MSmCN",onClick:()=>{let e=[];for(let t of i){let l=n.get(t.nodeId);l&&(e.push(t.nodeId),l.clearPasteSource())}S.l7.user("detach-instances",()=>f.glU.detachInstances(e)),b.Y5.commit()},recordingKey:o.Pt(e,"detachFromLive"),key:"detachFromLive"},l.createElement(_.Tx,{id:"fullscreen.live_object_panel.detach_from_live"}),l.createElement("span",{className:"live_object_panel--shortcut--hBzZv"},(0,T.c1)(u,"detach-instance"))))}function B(e){let{pasteSources:t}=e,n=(0,r.wA)(),{showing:s,toggle:c}=(0,v.B)("live-object-dropdown"),d=(0,r.d4)(e=>e.fileVersion),[p,m]=l.useState(!1),E=l.useRef(null),g=o.Pt(e,"updateLiveObject"),b=o.Pt(e,"liveObjectMenu"),f=l.useCallback(async e=>{m(!0),await D(n,e,d),m(!1)},[d,n]);return l.createElement(l.Fragment,null,p?l.createElement(u.kt,{className:"live_object_panel--spinner--iQ62Q",altIcon:O.A}):l.createElement(a.K,{as:"button",onClick:()=>f(t),onMouseDown:y.dG,"data-tooltip-type":w.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.live_object_panel.update_live_object"),"aria-label":(0,_.t)("fullscreen.live_object_panel.update_live_object"),recordingKey:g},l.createElement(h.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:O.A})),l.createElement("div",{ref:E},l.createElement(R.YW,{selected:s,onClick:c,onMouseDown:y.dG,className:"live_object_panel--iconButton--vrVs2","data-tooltip-type":w.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.live_object_panel.live_object_options"),recordingKey:b},l.createElement(i.J,null))),s&&(E.current?l.createElement(M.Cf,{targetRect:E.current.getBoundingClientRect(),propagateCloseClick:!0},l.createElement(K,{pasteSources:t,liveUpdate:f,isLiveUpdating:p,recordingKey:b})):null))}},312018:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PropertiesPanel:()=>sg});var l=n(411855),r=n(976404),a=n(629019),i=n.n(a),s=n(91408),o=n(966712),c=n(374626),d=n(498750),p=n(755887),u=n(951158),m=n(153234),h=n(776621),_=n(304783),E=n(30637),g=n(347082),y=n(763658),b=n(572206),f=n(515009),S=n(448169),v=n(827586),P=n(574176),w=n(271779),T=n(979441),k=n(987918),I=n(939863),C=n(293017),N=n(286954),A=n(906899),M=n(169231),R=n(103907),L=n(259927),O=n(672517),x=n(798099),F=n(297336),V=n(378905),D=n(697551),K=n(356390),B=n(852800),H=n(617453),U=n(369870),G=n(396697),W=n(848661),Y=n(618056),Q=n(809511),X=n(416095),Z=n(147206),z=n(94500),j=n(316081),$=n(239671),J=n(279145),q=n(143678),ee=n(109388),et=n(188507),en=n(459593),el=n(971612),er=n(927457),ea=n(243742),ei=n(268537),es=n(46481),eo=n(738269),ec=n(662275),ed=n(284321),ep=n(498606),eu=n(420186),em=n(405206),eh=n(720488),e_=n(142274),eE=n(995439),eg=n(900086),ey=n(7959),eb=n(690710),ef=n(343559),eS=n(939791),ev=n(767129),eP=n(31524),ew=n(404095),eT=n(522739),ek=n(865618),eI=n(662531),eC=n(227795),eN=n(893606),eA=n(407538),eM=n(215440),eR=(e=>(e[e.VERTICAL=0]="VERTICAL",e[e.MIDDLE_CHILD=1]="MIDDLE_CHILD",e[e.LAST_CHILD=2]="LAST_CHILD",e))(eR||{});function eL(e){let{lineConfiguration:t,hideLine:n,wideContainer:r}=e;return l.createElement("div",{className:r?"bubbled_props_line_styles--containerWide--csTgg bubbled_props_line_styles--container--XumJm":"bubbled_props_line_styles--container--XumJm"},!n&&l.createElement("div",{className:"bubbled_props_line_styles--lineContainer--pEgTS"},(()=>{switch(t){case 0:return l.createElement("div",{className:"bubbled_props_line_styles--vertical--pialf bubbled_props_line_styles--_line--Vhv8-"});case 1:return l.createElement(l.Fragment,null,l.createElement("div",{className:"bubbled_props_line_styles--middleChildVertical--PxRp- bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),l.createElement("div",{className:"bubbled_props_line_styles--middleChildHorizontal--ucsHZ bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}));case 2:return l.createElement(l.Fragment,null,l.createElement("div",{className:"bubbled_props_line_styles--lastChildVertical--83Los bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),l.createElement("div",{className:"bubbled_props_line_styles--lastChildHorizontal--kGsHC bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}))}})()),e.children)}let eO="bubbled_instances_list--minusIcon--dY8i-",ex="bubbled_instances_list--instanceIcon--aRlGl",eF="bubbled_instances_list--instanceName--09LuV",eV="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",eD="bubbled_instances_list--ui3InstanceNameAndIcon--W4S9T component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g",eK="bubbled_instances_list--ui3LineContainer--OdBbV",eB="bubbled_instances_list--ui3Line--SIYpX";var eH=n(968109),eU=n(349307);function eG(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:n,wideContainer:r,scrollableContainer:a}=e,s=(0,et.d4)(eM.K4),o=(0,eN.R)(),[c,d]=(0,l.useState)(!1),p=t?s:null==s?void 0:s.filter(e=>e.isBubbled),u=e=>{eI.l7.user("toggle-props-bubbled",()=>B.glU.togglePropsAreBubbled(e)),B.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},h=e=>{B.Ez5.canvasViewState().temporarilyHoveredNodes.set(e)},_=()=>{B.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},E=0,g=o&&!t&&!c&&null!=p&&p.length>5,y=g?p.slice(0,4):p;return g&&(E=p.length-4),l.createElement("div",{className:i()({"bubbled_instances_list--scrollableContainer--ob0LQ":a})},null==y?void 0:y.map((a,i)=>{let s=a.connectedGUIDs.slice(0).sort();return l.createElement(eT.D8,{className:"bubbled_instances_list--instanceSection--tLYN0",key:i,onMouseEnter:()=>h(a.connectedGUIDs),onMouseLeave:_,recordingKey:m.Pt(e,s[0])},o?t?l.createElement(eX,{data:a,showNumHidden:n,onUnbubbleInstance:u,recordingKey:m.Pt(e,"checkbox",s[0]),wideContainer:r}):l.createElement(eY,{data:a,onUnbubbleInstance:u,recordingKey:m.Pt(e,"unbubble",s[0]),wideContainer:r}):l.createElement(l.Fragment,null,l.createElement(eL,{lineConfiguration:eR.VERTICAL,hideLine:0===a.bubbledNestedInstances.length,wideContainer:r},t?l.createElement(eW,{data:a,onUnbubbleInstance:u,showNumHidden:n,wideContainer:r,recordingKey:m.Pt(e,"checkbox",s[0])}):l.createElement(l.Fragment,null,l.createElement(P.B,{className:ex,svg:eH.A}),l.createElement("p",{className:r?eV:eF},a.name),l.createElement(eC.K0,{className:eO,svg:eU.A,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{u(a.connectedGUIDs[0])},recordingKey:m.Pt(e,"unbubble",s[0])}))),a.bubbledNestedInstances.map((e,t)=>l.createElement("div",{key:t},l.createElement(eL,{lineConfiguration:t===a.bubbledNestedInstances.length-1?eR.LAST_CHILD:eR.MIDDLE_CHILD,wideContainer:r},l.createElement("div",{className:r?eV:eF},e.name))))))}),o&&!c&&E>0&&l.createElement(eA.t8,{label:(0,I.t)("design_systems.component_properties.show_more_nested_instances_rows",{count:E}),onClick:()=>d(!0)}))}function eW({data:e,onUnbubbleInstance:t,showNumHidden:n,wideContainer:r,recordingKey:a}){return l.createElement("div",{className:r?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7"},l.createElement(ek.S,{label:e.name,checked:e.isBubbled,onChange:()=>{t(e.connectedGUIDs[0])},truncateLabel:{truncate:"line-clamp",lineClamp:2},recordingKey:a}),n&&!!e.numHidden&&l.createElement("div",{className:"bubbled_instances_list--numHidden--fW-Sr"},l.createElement(I.Tx,{id:"design_systems.component_properties.num_hidden",num:e.numHidden})))}function eY({data:e,onUnbubbleInstance:t,recordingKey:n,wideContainer:r}){let{bubbledNestedInstances:a}=e,i=l.createElement(eS.DE,{label:null,input:l.createElement("div",{className:eD},l.createElement("div",{className:ex},l.createElement(eP.y,null)),l.createElement("p",{className:eF},e.name)),icon:l.createElement("div",{className:eO},l.createElement(ev.K,{as:"button","data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("design_systems.component_properties.unbubble_instance"),"aria-label":(0,I.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},onMouseDown:x.dG,recordingKey:n},l.createElement(ew.f,null)))});return 0===a.length?i:l.createElement(eQ,{data:e,row:i,wideContainer:r})}function eQ({data:e,row:t,wideContainer:n}){return l.createElement(eA.R$,{row:t,isCollapsedByDefault:!0},e.bubbledNestedInstances.map((e,t)=>l.createElement("div",{key:t},l.createElement(eS.DE,{label:null,input:l.createElement("div",{className:eD},l.createElement("div",{className:eK},l.createElement("div",{className:eB})),l.createElement("div",{className:n?eV:eF},e.name)),icon:null}))))}function eX({data:e,onUnbubbleInstance:t,recordingKey:n,showNumHidden:r,wideContainer:a}){return l.createElement(l.Fragment,null,l.createElement(eS.Ad,{label:null,input:l.createElement(eW,{data:e,onUnbubbleInstance:t,showNumHidden:r,wideContainer:a,recordingKey:n})}),e.bubbledNestedInstances.map((e,t)=>l.createElement("div",{key:t},l.createElement(eS.Ad,{label:null,input:l.createElement("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc"},l.createElement("div",{className:eK},l.createElement("div",{className:eB})),l.createElement("div",{className:a?eV:eF},e.name))}))))}var eZ=n(746806),ez=n(273226);function ej(){let e="bubbledPropsPicker",t=(0,et.d4)(e=>e.pickerShown),n=(0,et.wA)(),r=new b.Mi(null==t?void 0:t.initialX,null==t?void 0:t.initialY);return(null==t?void 0:t.id)!==ez.Dd?null:l.createElement(eZ.vx,{title:(0,I.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:r,initialWidth:ez.wh,headerSize:"small",onClose:()=>{n(C.XE())},recordingKey:e},l.createElement("div",{className:"bubbled_props_picker--container--I6VX-"},l.createElement(eG,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})))}var e$=n(777304),eJ=n(25888),eq=n(107244);let e0="props_panel--addButtonContainer--a58gi",e1="props_panel--addButton--jAtAX draggable_list--addButton--D0q--",e5="props_panel--dropdownRowWithIcon--03FtD",e4="props_panel--dropdownRowWithoutIcon--F8Ra-",e3="props_panel--bubbledInstancesHeading--C26v2";var e6=n(633779),e2=n(100562),e7=n(501191);function e8({recordingKey:e}){let t=(0,et.wA)(),{version:n}=(0,ea.DP)(),r="ui3"===n,a=(0,et.d4)(eb.i$),i=(0,et.d4)(eq.od),s=!(0,et.d4)(eJ.Jp),o=(0,et.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===ez.C4),c=(0,et.d4)(e=>!!e.modalShown&&e.modalShown.type===e$.n.type),{componentDescription:d}=(0,e_.z6)(),p=(0,et.d4)(e=>e.pickerShown),u=o||c||(null==p?void 0:p.id)===ez.Dd,h=!!(0,et.d4)(eM.Z3).length,_=(0,et.d4)(eM.K4),E=!!(null==_?void 0:_.length),g=(0,et.d4)(ed.Dr),y=(0,et.d4)(ed.Ct),b=l.useRef(null),f=l.useRef(null),S=l.useCallback(e=>{p&&t(C.XE()),o?t(eo.oB()):t(eo.j7({type:ez.C4}))},[t,p,o]),v=l.useCallback(e=>{(0,ez.Pp)(i,!1,e,ez.Fv.ICON),t(ec.to({type:e$.n,data:{propType:e}}))},[t,i]),P=l.useCallback(()=>{i&&(i.isLooseComponent?K.Y5.triggerActionInUserEditScope("create-state-group"):v(B.J0O.VARIANT))},[v,i]),w=l.useCallback(()=>{let e=ee.findDOMNode(f.current),n=e?(0,eu.cn)(e,ez.wh):{};t(C.u1({id:ez.Dd,initialX:null==n?void 0:n.x,initialY:null==n?void 0:n.y}))},[t]),T=[B.J0O.BOOL,B.J0O.INSTANCE_SWAP,B.J0O.TEXT];return i?l.createElement(ey.Zk,{className:"props_panel--propsPanel--CWcRM",ref:f},r&&!s?l.createElement(eE.n,{description:d}):null,l.createElement(r?te:e9,{isPanelEmpty:s,isAddPropButtonSelected:u,hasBubbledInstances:h,stateGroupSelectionMode:a,selectAddPropOptionRef:b,toggleAddPropDropdown:S,recordingKey:e}),o&&b.current&&l.createElement(eh.Cf,{targetRect:b.current.getBoundingClientRect(),propagateCloseClick:!0},l.createElement(ei.W.Option,{disabled:!0,className:e4},l.createElement(I.Tx,{id:"design_systems.component_properties.create_new_property"})),l.createElement(ei.W.Option,{className:e5,onClick:P,recordingKey:m.Pt("openCreatePropModal",(0,ez.xb)(B.J0O.VARIANT))},l.createElement(em.Nu,null,l.createElement(es.U,{svg:e2.A},l.createElement(en.m,null))),l.createElement(I.Tx,{id:"design_systems.component_properties.across_variants"})),T.map(e=>l.createElement(ei.W.Option,{key:e,className:e5,onClick:()=>v(e),recordingKey:m.Pt("openCreatePropModal",(0,ez.xb)(e))},l.createElement(em.Nu,null,l.createElement(es.U,{svg:(0,ez.qe)(e)},(0,ez.zn)(e,!0))),(0,ez.xb)(e))),E&&l.createElement(l.Fragment,null,l.createElement(ei.W.Separator,null),l.createElement(ei.W.Option,{disabled:!0,className:e4},l.createElement(I.Tx,{id:"design_systems.component_properties.expose_nested_instances"})),l.createElement(ei.W.Option,{className:e5,onClick:w,recordingKey:"openBubbledPropPicker"},l.createElement(em.Nu,null,l.createElement(es.U,{svg:e6.A},l.createElement(el.M,null))),(0,I.t)("design_systems.component_properties.choose_instances")))),(null==p?void 0:p.id)===ez.Dd&&l.createElement(ej,null),l.createElement(eA.e6,{containerWidth:r?ez.O2.RESIZABLE_SIDEBAR:ez.O2.REGULAR,propDimension:ez.OE.DEFINITION,guids:[i.guid],recordingKey:e,enableHidingOverflowRowsInUI3:!1}),h&&l.createElement(l.Fragment,null,l.createElement("p",{className:e3},(0,I.t)("design_systems.component_properties.bubbled_instances")),l.createElement(eG,{recordingKey:e})),r&&g&&y?l.createElement(eS.Ad,{label:null,input:l.createElement(eg.T,null)}):null):null}function e9({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:r,selectAddPropOptionRef:a,toggleAddPropDropdown:i}){return l.createElement(ey.fI,{className:!e||t||n?void 0:"props_panel--panelHeaderRowFaded--r4klF draggable_list--panelHeaderRowFaded--kETRR"},l.createElement(ey.xw,{className:"props_panel--panelTitleText--i7WqG draggable_list--panelTitleText--SwKez"},l.createElement(I.Tx,{id:"design_systems.component_properties.properties"})),r!==B.iCO.STATE&&l.createElement("div",{ref:a,className:e0},l.createElement(ey.YW,{className:e1,onClick:i,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("design_systems.component_panel.create_component_property"),svg:e7.A,recordingKey:"openCreatePropModalDropdown"})))}function te({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:r,selectAddPropOptionRef:a,toggleAddPropDropdown:i}){let s=l.useRef(null);return l.createElement(ef.r,{ref:s,titleTx:e&&!n?l.createElement(I.Tx,{id:"design_systems.component_properties.add_property"}):l.createElement(I.Tx,{id:"design_systems.component_properties.properties"}),faded:!t,icon:r!==B.iCO.STATE?l.createElement("div",{ref:a,className:e0},l.createElement(ey.YW,{className:e1,onClick:i,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("design_systems.component_panel.create_component_property"),recordingKey:"openCreatePropModalDropdown"},l.createElement(er.e,null))):void 0})}var tt=n(10199),tn=n(946689),tl=n(927990),tr=n(502242),ta=n(184027),ti=n(766022),ts=n(641160);function to({initialPosition:e,styleNameInputPrefix:t,styleType:n,inheritStyleKeyField:r,onCreate:a,recordingKey:i}){let s=(0,et.wA)(),o=(0,et.d4)(e=>e.mirror.selectedStyleProperties),c=(0,et.d4)(e=>e.mirror.sceneGraphSelection),d=l.useRef(Object.keys(c).length>0),[p,u]=l.useState(!d.current&&void 0),h="ui3"===(0,ea.DP)().version,{styleRef:_,createStyle:E}=(0,tl.u)({inheritStyleKeyField:r,isCreatingFromSelection:d.current,trackingOptions:{styleType:n}}),g=m.of(i,"submit",()=>{let e=E();s(C.XE()),s(C.Uv()),s(A.sw()),a&&a(e||"")}),y=(0,et.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(n){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}});return o.styleType?l.createElement(ta.zK.Provider,{value:ta.zM.CREATE_STYLE},l.createElement(eZ.vx,{title:(e=>{switch(e){case"FILL":return(0,I.t)("design_systems.create_style.color");case"TEXT":return(0,I.t)("design_systems.create_style.text");case"EFFECT":return(0,I.t)("design_systems.create_style.effect");case"EXPORT":return(0,I.t)("design_systems.create_style.export");case"GRID":return(0,I.t)("design_systems.create_style.grid");default:return(0,I.t)("design_systems.create_style.create_new_style_generic")}})(o.styleType),headerSize:"small",initialWidth:ti.tA,initialPosition:e,onClose:()=>s(A.sw()),recordingKey:m.Pt("createStyleModal"),dragHeaderOnly:!0},l.createElement("div",{className:ts.FY},l.createElement(tr.O8,{type:o.styleType,recordingKey:"createStyleModal",styleNameInputPrefix:t,isInspectPanel:!1,selectedStyleProperties:o,showProperties:p,onEnterPressed:g}),!_&&l.createElement("div",{className:"create_style_modal--errorMessage--8ZpFE"},l.createElement(I.Tx,{id:"design_systems.create_style.an_error_occurred_while_creating_the_style"})),l.createElement(tt.AutoLayout,{horizontalAlignItems:d.current?void 0:"end",verticalAlignItems:"center",spacing:d.current?"auto":void 0,padding:h?8:16},d.current&&l.createElement(ey.JU,{className:p?"create_style_modal--fadedShowMorePropertiesLabel--g8ydZ":"create_style_modal--showMorePropertiesLabel--mJpGe",onClick:()=>u(!p)},p?l.createElement(I.Tx,{id:"design_systems.create_style.hide_options"}):l.createElement(I.Tx,{id:"design_systems.create_style.show_more_options"})),l.createElement(tn.$$,{style:{justifySelf:"right"},onClick:g,disabled:!y||!_,tabIndex:0},l.createElement(I.Tx,{id:"design_systems.create_style.create_style"})))))):null}var tc=n(507956),td=n(663668),tp=n(601607);function tu(e){let t=(0,et.wA)(),n=(0,k.dI)(e.selectedStyleProperties.guid),r="",a="",[i,s]=(0,tp.Fk)((t,n)=>{if(e.externalStyle)return["",""];let l=t.get(n);return[(null==l?void 0:l.name)||"",(null==l?void 0:l.styleDescription)||""]},n);return e.externalStyle?(r=e.externalStyle.name||"",a=e.externalStyle.description_rt?(0,td.A)(e.externalStyle.description_rt):e.externalStyle.description||""):(0,k.dI)(e.selectedStyleProperties.guid)&&(r=i,a=(0,td.A)(s)),l.createElement(ta.zK.Provider,{value:ta.zM.EDIT_STYLE},l.createElement(tr.O8,{type:e.selectedStyleProperties.styleType,recordingKey:e.recordingKey,onEnterPressed:()=>t(A.sw()),styleName:r,styleDescription:a,hideNameDescription:e.hideNameDescription,...e}))}var tm=n(595755),th=n(811555);function t_({recordingKey:e}){let t=(0,et.wA)(),{version:n}=(0,ea.DP)(),r=(0,et.d4)(eq._k),a=!(0,et.d4)(eJ.Jp),i=(0,et.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===ez.C4),s=(0,et.d4)(e=>!!e.modalShown&&e.modalShown.type===e$.n.type),o=(0,et.d4)(e=>e.pickerShown),c=i||s||(null==o?void 0:o.id)===ez.Dd,d=!!(0,et.d4)(eM.Z3).length,p=(0,et.d4)(eM.K4),u=!!(null==p?void 0:p.length),m=l.useRef(null),h=l.useRef(null),_=l.useCallback(()=>{o&&t(C.XE()),i?t(eo.oB()):t(eo.j7({type:ez.C4}))},[t,o,i]),E=l.useCallback(()=>{let e=ee.findDOMNode(h.current),n=e?(0,eu.cn)(e,ez.wh):{};t(C.u1({id:ez.Dd,initialX:null==n?void 0:n.x,initialY:null==n?void 0:n.y}))},[t]);return r&&u?l.createElement(ey.Zk,{ref:h},l.createElement("ui3"===n?te:e9,{isPanelEmpty:a,isAddPropButtonSelected:c,hasBubbledInstances:d,selectAddPropOptionRef:m,toggleAddPropDropdown:_,stateGroupSelectionMode:void 0}),i&&m.current&&l.createElement(eh.Cf,{targetRect:m.current.getBoundingClientRect(),propagateCloseClick:!0},l.createElement(ei.W.Option,{disabled:!0,className:e4},l.createElement(I.Tx,{id:"design_systems.component_properties.expose_nested_instances"})),l.createElement(ei.W.Option,{className:e5,onClick:E,recordingKey:"openBubbledPropPicker"},l.createElement(em.Nu,null,l.createElement(es.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:e6.A})),(0,I.t)("design_systems.component_properties.choose_instances"))),(null==o?void 0:o.id)===ez.Dd&&l.createElement(ej,null),d&&l.createElement(l.Fragment,null,l.createElement("p",{className:e3},(0,I.t)("design_systems.component_properties.bubbled_instances")),l.createElement(eG,{recordingKey:e}))):null}var tE=n(324666),tg=n(872429),ty=n(314980);function tb(){return null}var tf=n(509720),tS=n(236192),tv=n(233890),tP=n(776250),tw=n(935283),tT=n(297666),tk=n(358145),tI=n(886653),tC=n(437304),tN=n(395281),tA=n(452246),tM=n(226055),tR=n(29680),tL=n(335682),tO=n(237929),tx=n(444576),tF=n(945020),tV=n(173454),tD=n(602029),tK=n(286640),tB=n(463420),tH=n(96796),tU=n(912666),tG=n(255942),tW=n(860168);let tY="styles--contextMenu--C-hVT",tQ="styles--showOnRowHover--OUqRT",tX="styles--showOnSelectedRowHover--Lcf7e styles--showOnRowHover--OUqRT",tZ="styles--caret--DZmzh",tz="styles--rowSelectedExpanded--MGvUV",tj="styles--rowSelectedSecondaryLightBlue--S-zy- draggable_list--rowSelectedSecondary--yOI1g raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip";function t$({childLeft:e,childRight:t,deleteSelectedItems:n,forceShowHoverBorder:r,hideStylePreview:a,index:s,inspectStyleSelected:o,isDragging:c,isEditable:p,isRenaming:u,isCollapsed:h=!0,isLastChildOfSelection:_=!1,isFirstChildOfSelection:E=!1,isFolder:g,level:y,name:b,nameRef:f,onChildLeftClick:S,onContextMenu:v,onCreateFolder:P,onDoubleClick:w,onHoverChange:T,onMouseDown:k,onMouseMove:I,recordingKey:C,rowRef:N,secondaryName:A,selected:M,selectedSecondary:R,stopRenamingItem:L,tooltipData:O}){let F=l.useRef(null),[V,D]=l.useState(b),[B,H]=l.useState(!1),U=(0,tM.GS)(),G=l.useCallback(e=>{if(e){let t=ee.findDOMNode(e);t&&t.select()}},[]);l.useEffect(()=>{D(b)},[b]);let W=l.useCallback(e=>{""===e.trim()?(L(s,b),D(b)):L(s,e)},[s,b,L]),Y=(0,m.AF)((0,m.Pt)(C,"text-input"),"change",l.useCallback(e=>{D(e.currentTarget.value)},[D])),Q=(0,m.v_)((0,m.Pt)(C,"text-input"),"keydown",e=>{e.keyCode===d.Uz.ESCAPE?(L(s,b),D(b)):e.keyCode===d.Uz.ENTER&&W(e.currentTarget.value)},{recordMetadata:e=>({inputValue:e.currentTarget.value}),playbackMetadata:e=>({currentTarget:{value:e.inputValue}})}),X=(0,m.v_)(C,"keydown",e=>{p&&!u&&(e.keyCode===d.Uz.BACKSPACE||e.keyCode===d.Uz.DELETE)?n():p&&!u&&e.keyCode===d.Uz.G&&(0,d.Fo)(e)?(P(),e.preventDefault()):!u&&e.nativeEvent&&K.Y5.forwardKeyboardEvent(e.nativeEvent)}),Z=l.useCallback(()=>{W(V)},[W,V]),z=(0,m.rf)(C,"contextmenu",e=>{v(e)}),j=(0,m.rf)(C,"mousemove",e=>{I(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),$=(0,m.rf)(C,"mousedown",e=>{k(e),a()}),J=(0,m.rf)(C,"mouseenter",l.useCallback(()=>{H(!0),null==T||T(!0)},[H,T])),q=l.useCallback(()=>{H(!1),null==T||T(!1)},[H,T]),et=(0,m.rf)(C,"dblclick",l.useCallback(e=>{w(e)},[w])),en=Math.min((y-1)*3,18),el=tW.jNX-4-en,er=el-(U?7:5),ea=B&&!u||o?er:el,ei=M||R,es=i()({[tz]:!h&&ei,"styles--folderSecondarySelected--SL0JY":R||M&&!E,[tj]:R&&!U}),eo=i()({[tj]:ei,[tz]:!_&&ei}),ec=i()("styles--rowWithBorder--bphZ-",{[es]:g,[eo]:!g,"styles--rowWithHover--RWNMH":!ei&&(r||B&&!c)}),ed=l.createElement("div",{className:u?"styles--rowContentsRenaming--oDTtO styles--rowContents--37JBy":"styles--rowContents--37JBy",key:b,style:U?{width:"100%"}:{gridColumnEnd:`span ${ea}`}},u?l.createElement(ey.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"styles--input--LbjR0",onBlur:Z,onChange:Y,onKeyDown:Q,ref:G,spellCheck:!1,value:V}):l.createElement(l.Fragment,null,l.createElement("div",{className:"styles--name--KWZ8d ellipsis--ellipsis--Tjyfa",ref:f,...O},b),A&&l.createElement("div",{className:"styles--textStyle--DiUv4"},A)));return l.createElement(tD.e,{className:ec,dragging:c,hideGrabber:!0,onContextMenu:z,onKeyDown:X,onMouseDown:$,onMouseEnter:J,onMouseLeave:q,onMouseMove:j,onDoubleClick:et,ref:(0,tG.A)(F,N),selected:M,selectedSecondary:!1,tabIndex:0},en>0&&l.createElement("span",{style:{gridColumnEnd:`span ${en}`}}),l.createElement("div",{className:"styles--childLeftContainer--Hu61K",style:U?{gridColumnEnd:`span ${ea}`}:void 0},l.createElement("div",{onMouseDown:S&&x.dG,onClick:S},e),U&&ed),!U&&ed,t)}var tJ=n(949207),tq=n(432023),t0=n(660164);function t1({deleteSelectedItems:e,folder:t,folderNameToNestUnder:n,hideStylePreview:r,index:a,isCollapsed:i,isDragging:s,isEditable:o,isRenaming:c,isTemporarilyExpanded:d,isFirstChildOfSelection:p,level:u,onContextMenu:h,onCreateFolder:_,onMouseDown:E,onMouseMove:g,onRenameItem:y,recordingKey:b,selected:f,selectedSecondary:S,stopRenamingItem:v,temporarilyExpandFolder:P,toggleFolder:w}){let T=(0,et.wA)(),[k,C]=l.useState(!1),N=l.useRef(null),M=k&&!c&&o;l.useEffect(()=>{if(k&&s&&i){let e=setTimeout(()=>{P(t.name)},1e3);return()=>clearTimeout(e)}},[k,s,i,P,t]);let R=l.useCallback(()=>{var e;let n=(0,tU.Zk)(t.styleTypeSection),l=null==(e=N.current)?void 0:e.getBoundingClientRect();n&&l&&T(A.Zs({rowLeft:l.left,rowTop:l.top,styleType:t.styleTypeSection,styleNameInputPrefix:`${t.name}/`,inheritStyleKeyField:n}))},[N,t.name,t.styleTypeSection,T]);return l.createElement(t$,{deleteSelectedItems:e,forceShowHoverBorder:n===t.name,hideStylePreview:r,index:a,isDragging:s,isEditable:o,isRenaming:c,isCollapsed:i,isFolder:!0,isFirstChildOfSelection:p,level:u,name:(0,tO.kH)(t.name),onChildLeftClick:function(){w(!i)},onContextMenu:h,onCreateFolder:_,onDoubleClick:function(){t.styleTypeSection&&y(t.name,!1,t.styleTypeSection)},onHoverChange:C,onMouseDown:E,onMouseMove:g,onRenameItem:y,recordingKey:b,selected:f,selectedSecondary:S,stopRenamingItem:v,rowRef:e=>{e&&(N.current=ee.findDOMNode(e))},childLeft:l.createElement(es.U,{svg:i&&!d?tq.A:tJ.A,className:tZ},i&&!d?l.createElement(tB.k,{className:tZ}):l.createElement(tH.O,{className:tZ})),childRight:M&&l.createElement(ey.$4,null,l.createElement(ey.K0,{className:f?tX:tQ,recordingKey:m.Pt(b,"addButton"),"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("design_systems.styles.tooltips.create"),svg:e7.A,fallbackSvg:t0.A,onClick:R}))})}var t5=n(221768),t4=n(44892),t3=n(40386),t6=n(162502);function t2({deleteSelectedItems:e,hideStylePreview:t,index:n,isDragging:r,isEditable:a,isRenaming:i,isLastChildOfSelection:o,level:c,onContextMenu:d,onCreateFolder:p,onInspectStyle:u,onMouseDown:h,onMouseMove:_,onRenameItem:E,recordingKey:g,selected:y,selectedSecondary:b,stopRenamingItem:f,dsStyle:S,stylePreviewShown:v,updateContextMenuStyleRef:P,updateSelection:w,updateFocusRowRef:T}){var k;let[N,M]=l.useState(!1),R=(0,et.wA)(),L=l.useRef(null),O=l.useRef(null),F=l.useCallback(()=>{a&&E(S.node_id,!0,S.style_type)},[E,S.node_id,S.style_type,a]),D=v.isShown&&!v.isCreating&&v.style.node_id===S.node_id&&(0,V.EF)(v.style,S),K=N&&!i||D,B=l.useCallback(function(){let e=O.current;if(e){let t=e.getBoundingClientRect();D?R(A.sw()):(R(A.rk({style:S,rowTop:t.top,rowLeft:t.left})),u(S),w({type:S.style_type,folderNames:new Set,styleIds:new Set(S.node_id)}))}R(C.XE())},[R,u,w,S,D]),H=l.useCallback(e=>{(2===e.button||e.ctrlKey)&&P(O.current),h(e),D&&B()},[B,h,D,P]),U=L.current,G=!!U&&U.offsetWidth<U.scrollWidth,W=l.useMemo(()=>!r&&S.description&&G?{"data-tooltip-type":ep.Ib.SPECIAL,"data-tooltip":ep.MW.STYLE_INFO,"data-tooltip-style-name":(0,tO.kH)(S.name),"data-tooltip-style-description":S.description,"data-tooltip-max-width":tW.jNX*(0,s.hG)(tW.dGl)}:null,[G,r,S.name,S.description]),Y="TEXT"===S.style_type&&(null==(k=S.meta)?void 0:k.style_thumbnail)?S.meta.style_thumbnail:null;return l.createElement(t$,{deleteSelectedItems:e,hideStylePreview:t,index:n,inspectStyleSelected:D,isDragging:r,isEditable:a,isRenaming:i,isFolder:!1,isLastChildOfSelection:o,level:c,name:(0,tO.kH)(S.name),nameRef:L,onContextMenu:d,onCreateFolder:p,onDoubleClick:F,onHoverChange:M,onMouseDown:H,onMouseMove:_,onRenameItem:E,recordingKey:g,rowRef:e=>{if(e){let t=ee.findDOMNode(e);T&&T(t),O.current=t}},secondaryName:Y&&(0,t4.P$)(Y),selected:y,selectedSecondary:b,stopRenamingItem:f,tooltipData:W,childLeft:l.createElement(l.Fragment,null,l.createElement(t3.zi,{dsStyle:S,disableTooltip:!0}),y&&"FILL"===S.style_type&&l.createElement("div",{className:"styles--selectedRing--UniEc"})),childRight:K&&l.createElement(ey.$4,null,l.createElement("div",{style:{gridColumnEnd:"span 1"}}),l.createElement(eC.YW,{className:y?tX:tQ,recordingKey:m.Pt(g,"customButton"),"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":a?(0,I.t)("design_systems.styles.edit_style"):(0,I.t)("design_systems.styles.view_style"),selected:D,onMouseDown:x.dG,onClick:B},l.createElement(es.U,{svg:t6.A},l.createElement(t5.A,null))))})}function t7({styleType:e,children:t}){let n=!(0,tR.p8)("isReadOnly");return l.createElement("div",{className:"styles--styleTypeSection--jPjTq component_tiles--section--qMua7"},n?l.createElement(t8,{styleType:e,recordingKey:`style-section-header-${e}`}):l.createElement("div",{className:"styles--styleTypeSectionHeader--224lA component_tiles--sectionHeader--eEC6d raw_components--panelTitle--VAQQA"},(0,X.QT)(e)),t)}function t8({styleType:e,recordingKey:t}){let[n,r]=l.useState(!1),a=(0,et.wA)(),i=l.useRef(null),s=l.useCallback(()=>{var t;let n=(0,tU.Zk)(e),l=null==(t=i.current)?void 0:t.getBoundingClientRect();n&&l&&a(A.Zs({rowLeft:l.left,rowTop:l.top,styleType:e,inheritStyleKeyField:n}))},[i,e,a]);return l.createElement(eT.D8,{className:"styles--styleTypeSectionRow--wVTIO",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),recordingKey:t,forwardedRef:i},l.createElement(ey.JU,{className:"styles--styleTypeSectionRowLabel--PrKm-"},(0,X.QT)(e)),n&&l.createElement(eC.K0,{className:"styles--styleTypeSectionRowButton--V4Co2 styles--showOnRowHover--OUqRT",recordingKey:m.Pt(t,"addButton"),"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("design_systems.styles.tooltips.create_style_from_section",{kind:(0,X.XV)(e).toLowerCase()}),svg:e7.A,fallbackSvg:t0.A,onClick:s}))}t7.displayName="StyleTypeSection";var t9=n(318812),ne=n(333370);let nt=ei.W.Dropdown,nn=ei.W.Option,nl=ei.W.Separator,nr="styles-by-type-context-menu",na=.75*(0,s.hG)(tW.uj0);function ni({styleRowRef:e,onEditStyle:t,onRenameItem:n,onCreateFolder:r,onDeleteItems:a,onCutItems:i,onPasteItems:s,styleType:o}){let c=(0,t9.U)(),d=(0,et.d4)(e=>e.library.localStyleSelection),p=l.useMemo(()=>d&&d.type===o&&(null==c?void 0:c.type)===nr?(0,ne.QA)(d,c.data.uiList):[],[d,c,o]),u=l.useMemo(()=>(0,ne.Ug)(p).map(e=>e.node_id),[p]),m=u.length;return c&&u.length?l.createElement(ns,{styleRowRef:e,selectedItems:p,numStyles:m,dropdownShown:c,onEditStyle:t,onRenameItem:n,onCreateFolder:r,onDeleteItems:a,onCutItems:i,onPasteItems:s}):l.createElement("div",null)}function ns({styleRowRef:e,selectedItems:t,numStyles:n,dropdownShown:r,onEditStyle:a,onRenameItem:i,onCreateFolder:s,onDeleteItems:o,onCutItems:c,onPasteItems:d}){var p;let u=(0,et.wA)();l.useEffect(()=>(B.glU.computePastableStyleCount(),()=>{B.glU.clearPastableStyleCount()}),[]);let m=(0,et.d4)(e=>e.mirror.appModel.pastableStyleCount),h=!!(null==(p=(0,tL.q5)())?void 0:p.canEdit),_=l.useCallback(()=>{if(!t.length||t[0].type!==tV.PW.STYLE)return;let n=t[0];if(e){let t=e.getBoundingClientRect();u(A.rk({style:n,rowTop:t.top,rowLeft:t.left})),u(C.XE())}a(n)},[u,t,a,e]),E=l.useCallback(()=>{if(!t.length||t[0].type===tV.PW.STYLE)return;let e=t[0];i(e.name,!1,e.styleTypeSection)},[i,t]);if(-1===m)return l.createElement("div",null);if(!h)return n>1?l.createElement("div",null):l.createElement(nt,{style:r.data.position,className:tY},l.createElement(nn,{recordingKey:"edit-style-option",onClick:_},l.createElement(I.Tx,{id:"design_systems.styles.view_style"})));let g=1===n&&(t[0].type===tV.PW.STYLE?l.createElement(nn,{recordingKey:"edit-style-option",onClick:_},l.createElement(I.Tx,{id:"design_systems.styles.edit_style"})):l.createElement(nn,{recordingKey:"rename-folder-option",onClick:E},l.createElement(I.Tx,{id:"design_systems.styles.rename_folder"})));return l.createElement(nt,{style:r.data.position,className:tY},l.createElement(nn,{recordingKey:"create-folder-option",onClick:s},l.createElement(I.Tx,{id:"design_systems.styles.add_new_folder"})),g,l.createElement(nn,{recordingKey:"delete-style-option",onClick:o},l.createElement(I.Tx,{id:"design_systems.styles.delete_styles",numStyles:n})),l.createElement(nl,null),l.createElement(nn,{recordingKey:"cut-style-option",onClick:c},l.createElement(I.Tx,{id:"design_systems.styles.cut_styles",numStyles:n})),!!m&&l.createElement(nn,{recordingKey:"paste-style-option",onClick:d},l.createElement(I.Tx,{id:"design_systems.styles.paste_styles",numStyles:m})))}var no=n(710752),nc=n(582288),nd=n(884909),np=n(304173),nu=n(608974),nm=n(257812),nh=n(319431),n_=n(914110);let nE="local-style-creation-dropdown";function ng(){var e;let t=(0,et.wA)(),n=(0,l.useContext)(ta.lk),r=!(0,tR.p8)("isReadOnly"),a=l.useRef(null),i=l.useRef(null),s=a.current,o=(0,t9.U)(),c=(null==o?void 0:o.type)===nE,d=null==(e=null==o?void 0:o.data)?void 0:e.targetRect,p="localStyleHeader",u=0===(0,ti.Bs)().length,h=(0,et.d4)(e=>e.stylePreviewShown.isShown&&e.stylePreviewShown.isCreating),_=l.useMemo(()=>d||(c&&s?s.getBoundingClientRect():null),[d,s,c]),E=()=>{t(eo.oB())},g=()=>{t(eo.j7({type:nE}))},y=e=>{e.stopPropagation(),t(A.YG());let n=a.current;c?E():n&&((0,tP.sx)("editor-local-styles-dropdown-show"),g())},b=e=>{var t;E();let l=(0,tU.Zk)(e),r=null==(t=i.current)?void 0:t.getBoundingClientRect();l&&r&&n({styleType:e,inheritStyleKeyField:l,rowLeft:r.left,rowTop:r.top})},f=u&&!c&&!h;return l.createElement(ey.fI,{className:f?"styles--panelHeaderRowFaded--pfgKz styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO draggable_list--panelHeaderRowFaded--kETRR":"styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO",forwardedRef:i},l.createElement(ey.xw,{className:"styles--panelTitleText--v7gXm draggable_list--panelTitleText--SwKez",onMouseDown:e=>f&&y(e),onClick:e=>e.stopPropagation()},l.createElement(I.Tx,{id:"design_systems.styles.local_styles"})),r&&l.createElement(l.Fragment,null,l.createElement(ey.K0,{svg:e7.A,fallbackSvg:t0.A,ref:a,onMouseDown:y,onClick:e=>e.stopPropagation(),className:c?"styles--stylesHeaderButtonHighlight--WTeWy raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6":"styles--stylesHeaderButton--jhpA5 draggable_list--addButton--D0q--","data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("design_systems.create_style.create_style"),recordingKey:m.Pt(p,"addButton")}),c&&_&&l.createElement(eh.Cf,{targetRect:_,minWidth:128,disableDropdownScrollContainer:!0,propagateCloseClick:!0},X.og.map(e=>{let{icon:t,label:n}=function(e){switch(e){case"TEXT":return{icon:l.createElement(es.U,{svg:n_.A},l.createElement(no.e,null)),label:(0,I.t)("design_systems.styles.dropdown.text")};case"FILL":return{icon:l.createElement(es.U,{svg:nm.A},l.createElement(nc.G,null)),label:(0,I.t)("design_systems.styles.dropdown.fill")};case"GRID":return{icon:l.createElement(es.U,{svg:nh.A},l.createElement(nd.E,null)),label:(0,I.t)("design_systems.styles.dropdown.grid")};case"EFFECT":return{icon:l.createElement(es.U,{svg:nu.A},l.createElement(np.n,null)),label:(0,I.t)("design_systems.styles.dropdown.effect")};default:throw(0,tw.j)(e),Error(`Invalid style type: ${e}`)}}(e),r=t=>{t.stopPropagation(),b(e)};return l.createElement(ei.W.Option,{key:e,className:"styles--createStyleDropdownRow--7iCXQ",onClick:r,onPointerUp:r,recordingKey:m.Pt(p,`dropdown-option-${e}`)},l.createElement(em.Nu,null,t),n)}))))}let ny="collapsed-style-folders";function nb({scrollContainer:e,recordingKey:t}){let n=(0,ti.Bs)(),r=(0,tR.p8)("isReadOnly");return 0===n.length&&r?null:l.createElement(g.p,{name:"local_styles_panel"},l.createElement(ey.Zk,null,l.createElement(nf,{scrollContainer:e,recordingKey:t})))}function nf({scrollContainer:e,recordingKey:t}){let n=(0,et.wA)(),r=(0,et.d4)(e=>e.stylePreviewShown),a=(0,et.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),i=(0,et.d4)(e=>e.mirror.appModel.currentTool),s=l.useRef(null),o=(0,ti.Bs)(),c=(0,et.d4)(e=>e.library.localStyleSelection),[d,p]=l.useState(null),[u,h]=l.useState(null),_=l.useRef(null),[E,g]=l.useState(!1),y=a===B.m1T.GRADIENT||a===B.m1T.RASTER||i===B.NLJ.DROPPER_COLOR;l.useEffect(()=>{let e=()=>{!y&&(n(tN.Bn(null)),r.isShown&&(n(A.sw()),B.glU.selectStyle(f.n3.INVALID,f.IA.INVALID)))},t=(0,x.ft)();return t?window.addEventListener("pointerdown",e):window.addEventListener("mousedown",e),()=>{t?window.removeEventListener("pointerdown",e):window.removeEventListener("mousedown",e)}},[n,r.isShown,y]);let{stylesByType:b,foldersAndStylesByType:S}=l.useMemo(()=>{let e=(0,X.Kw)(o),t=new Map;return X.og.map(n=>{let l=e.get(n);if(l){(0,X.LX)(l);let e=(0,ne.lM)(l,n),r=(0,ne.l0)(e);t.set(n,r)}}),{stylesByType:e,foldersAndStylesByType:t}},[o]),v=l.useCallback(e=>{(0,tw.KF)(null!=e.content_hash,"style does not have a hash"),B.glU.selectStyleByGuid(e.node_id),n(tN.ay({isRenaming:!1})),(0,tP.sx)("Style Inspected",{styleType:e.style_type,from:"styleListClick"})},[n]),P=l.useCallback((e,t,n)=>{p(t?e:null),h(t?null:{name:e,styleTypeSection:n})},[]),w=l.useCallback(e=>{if(!e){n(tN.Bn(null));return}let t=new Set;e.styleIds.forEach(n=>{let l=o.find(e=>e.type===tV.PW.STYLE&&e.node_id===n);if(!l)return;let r=(0,tO.In)(l.name);e.folderNames.has(r)||t.add(n)});let l={type:e.type,folderNames:e.folderNames,styleIds:t};n(tN.Bn(l))},[n,o]),T=l.useCallback((e,t,n)=>{if(!c)return;let l=e[t],r=(e,t)=>{let l=(0,tO.ke)(e.name),r=null!=t?t:l.length-1;l[r]=n;let a=(0,ne.Pc)(l.join("/"));eI.l7.user("rename-style",()=>B.glU.renameNode(e.node_id,a))};if(l.name!==n){if(l.type===tV.PW.STYLE)r(l);else{(0,ne.mx)(t,e).forEach(t=>{let n=e[t];n.type===tV.PW.STYLE&&r(n,l.level-1)});let a=new Set(c.folderNames);a.delete(l.name);let i=(0,tO.In)(l.name)+"/"+n;a.add(i),w({type:c.type,folderNames:a,styleIds:c.styleIds})}}K.Y5.triggerAction("commit"),p(null),h(null)},[c,w]),k=l.useCallback((e,t)=>{t.preventDefault(),t.stopPropagation(),n(eo.j7({type:nr,data:{uiList:e,position:{top:t.clientY,left:Math.min(t.clientX,window.innerWidth-na)}}}))},[n]),I=l.useCallback(e=>{_.current=e},[]),C=l.useCallback(()=>{g(!0)},[]),N=l.useCallback(()=>{g(!1)},[]);return l.createElement("div",{className:"styles--localStylesPanel--T4Gqs",ref:s},l.createElement(ng,null),X.og.map(n=>{let r=b.get(n);if(!r)return;let a=S.get(n);if(a)return l.createElement(nS,{key:n,recordingKey:m.Pt(t,`style-section-${n}`),styleType:n,storedStyleList:r,styleList:a,updateSelection:w,isDragging:E,onDragStart:C,onDragEnd:N,onInspectStyle:v,onContextMenu:k,updateContextMenuStyleRef:I,renamingStyleID:d,renamingFolder:u,onRenameItem:P,stopRenamingItem:T,styleRowRef:_.current,onEditStyle:v,scrollContainer:e})}))}function nS({styleType:e,storedStyleList:t,styleList:n,renamingStyleID:r,renamingFolder:a,onRenameItem:i,stopRenamingItem:s,onDragStart:o,onDragEnd:c,onInspectStyle:d,onContextMenu:u,updateContextMenuStyleRef:h,updateSelection:_,styleRowRef:E,scrollContainer:g,recordingKey:y}){let b=(0,tL.q5)(),S=!(0,tR.p8)("isReadOnly"),v=(0,et.wA)(),P=(0,et.d4)(e=>e.stylePreviewShown),w=(0,tM.GS)(),T=(0,et.d4)(t=>(0,tx.i4)(t,e)),k=(0,et.d4)(t=>(0,tx.A7)(t,e,n)),[N,M]=l.useState(()=>{if(tK.x4&&b){let t=JSON.parse(tK.x4.getItem(ny)||"{}");if(b.key in t){let n=t[b.key];if(e in n)return new Set(n[e])}else t[b.key]={},tK.x4.setItem(ny,JSON.stringify(t))}return new Set(n.filter(e=>"STYLE_FOLDER"===e.type).map(e=>e.name))}),[R,L]=l.useState([]),[O,x]=l.useState(null),[F,V]=l.useState(null),D=l.useMemo(()=>(0,tT.s)(()=>{v(tA.GT({styleType:e}))},200),[v,e]);l.useEffect(()=>{D()},[D,n]);let H=(0,tk.ZC)(N);l.useEffect(()=>{if(!H||!tK.x4||!b||(0,tC._f)(H,N))return;let t=JSON.parse(tK.x4.getItem(ny)||"{}"),n=t[b.key];n&&(n[e]=[...N],tK.x4.setItem(ny,JSON.stringify(t)))},[N,b,H,e]);let U=l.useCallback(e=>!!e&&"STYLE_FOLDER"===e.type,[]),G=l.useCallback((e,t)=>{let l=new Set(e),r=[];n.forEach((e,t)=>{if(l.has(e)&&(r.push(t),"STYLE_FOLDER"===e.type)){let e=(0,ne.mx)(t,n);r.push(...e)}});let a=new Set(r),i=t?n.indexOf(t):n.length,s=[...(0,p.y1)(i).filter(e=>!a.has(e)),...r,...(0,p.y1)(i,n.length).filter(e=>!a.has(e))],o=new Map;return s.forEach((e,t)=>{e!==t&&o.set(e,t)}),o},[n]),W=l.useCallback(()=>{P.isShown&&(v(A.sw()),v(C.XE()),B.glU.selectStyle(f.n3.INVALID,f.IA.INVALID))},[v,P.isShown]),Y=l.useMemo(()=>{if(!O)return null;if("in"===O.type){let e=n[O.index];return e?{folderNameToNestUnder:e.name,dividerStyles:{display:"none"}}:null}if(null==O.index||null==F||!T)return null;let e=(0,ne.QA)(T,n),t=e[0],l=null,r=null;if(0===O.index?r=n[O.index]:O.index===n.length?l=n[O.index-1]:(l=n[O.index-1],r=n[O.index]),(null==l?void 0:l.type)==="STYLE_FOLDER"&&N.has(l.name)&&-1===R.indexOf(l.name))return{folderNameToNestUnder:l.name,dividerStyles:{display:"none"}};if((null==l?void 0:l.type)===tV.PW.STYLE){let e=(0,tO.In)(l.name).split("/");for(let n=0;n<e.length;n++){let l=e.slice(0,n+1).join("/");if(N.has(l)&&-1===R.indexOf(l)){if("STYLE_FOLDER"!==t.type)return{folderNameToNestUnder:l,dividerStyles:{display:"none"}};return{folderNameToNestUnder:(0,tO.In)(l),dividerStyles:{marginLeft:24*Math.min((0,tO.ke)(l).length,8)-8}}}}}let a=0,i=null,s=l?(0,ne.rM)(l):0,o=r?(0,ne.rM)(r):0;if(s<=o)a=o,i=l?l.type===tV.PW.STYLE?(0,tO.In)(l.name):l.name:"";else if((0,tw.KF)(null!=l,"Dragging after an item that doesn't exist"),t.type===tV.PW.STYLE||F>=.5)a=s,i=(0,tO.In)(l.name);else{let e=Math.floor(F/.5*(0,ne.rM)(l));e=Math.max(o-1,e),i=(0,tO.ke)((0,tO.In)(l.name)).slice(0,e).join("/"),a=e+1}let c={marginLeft:24*Math.min(a,8)-8};return l&&e.includes(l)||!(0,ne.Md)(l,t,r)?{folderNameToNestUnder:null,dividerStyles:c}:{folderNameToNestUnder:i,dividerStyles:c}},[N,F,T,O,n,R]),Q=l.useCallback((l,r,a,i)=>{if(!t||!r&&!a||!Y)return;let s=Y.folderNameToNestUnder;if(null===s)return;let o=[],c=[];l.forEach(e=>{(0,ne.Md)(r,e,a,s)&&("STYLE_FOLDER"===e.type?c.push(e):o.push(e))});let d=o.concat(c);if(!d.length)return;let p=eI.l7.user("reorder-styles",()=>(0,ne.VB)(d,r,a,s,n,t,i||!1)),u=new Set,m=new Set;d.forEach(e=>{let t=(0,ne.t_)(e),n=null==p?void 0:p.get(t);n&&("STYLE_FOLDER"===e.type?u.add(n):m.add(t))}),_({type:e,folderNames:u,styleIds:m});let h=new Set;return N.forEach(e=>{if(s.startsWith(e))return;let t=null==p?void 0:p.get(e);t?h.add(t):h.add(e)}),M(h),W(),i||K.Y5.triggerAction("commit"),G(d,a)},[_,N,Y,G,W,t,n,e]),X=l.useCallback((e,t)=>{if("STYLE_FOLDER"!==t.type)return;let l=n.indexOf(t),r=(0,ne.dm)(t).filter(e=>(0,tO.In)(e.name)===t.name);if(!r.length)return Q(e,t,n[l+1]);{let t=r[r.length-1],l=n.indexOf(t);return Q(e,t,n[l+1])}},[Q,n]),Z=(0,tI.xx)((e,t)=>{let l=new Map,r=t.map(e=>e.type===tV.PW.STYLE?e.node_id:e.name);return e.forEach(e=>{let a=r.indexOf(e);-1!==a&&(0,ne.mx)(a,n).forEach(e=>{let n=t[e],r="STYLE_FOLDER"===n.type?n.name:n.node_id,a=l.get(r);a||(a=0),l.set(r,a+1)})}),l}),z=l.useCallback(()=>{if(!T)return;let t=(0,ne.QA)(T,n);if(0===t.length)return;let l=t[0],r=n.indexOf(l),a=r,s=r+1;if(l.type===tV.PW.STYLE&&n[s]&&n[s].type===tV.PW.STYLE){let e=(0,ne.rM)(l);for(let t=r+1;t<n.length;t++){let l=n[t];if("STYLE_FOLDER"===l.type&&l.level===e||(0,ne.rM)(l)<e){a=t-1,s=t;break}t===n.length-1&&(a=t,s=t+1)}}Q(t,n[a],n[s],!0);let o=(0,tO.In)(l.name),c=w?(0,I.t)("design_systems.create_style.new_folder"):(0,I.t)("design_systems.create_style.untitled_folder");o&&(c=`${o}/${c}`);let d=(e,t)=>{if(e.type===tV.PW.STYLE){let n=c+"/"+t+(0,tO.kH)(e.name);eI.l7.user("rename-style",()=>{B.glU.renameNode(e.node_id,n)})}else{let n=t+(0,tO.kH)(e.name)+"/";e.styles.forEach(e=>{d(e,n)}),e.subfolders.forEach(e=>{d(e,n)})}};t.forEach(e=>{d(e,"")}),_({type:e,folderNames:new Set([c]),styleIds:new Set}),i(c,!1,e)},[_,Q,w,T,i,n,e]),j=l.useCallback((e,t)=>{let l=n[e];"STYLE_FOLDER"===l.type&&M(e=>{let n=new Set(e);return t?n.add(l.name):n.delete(l.name),n})},[n]),$=l.useCallback((e,t)=>{M(l=>{let r=new Set(l),a=n[e];if("STYLE_FOLDER"===a.type){let e=(0,tO.In)(a.name),n=""===e?t:e+"/"+t;N.has(a.name)&&(N.delete(a.name),N.add(n)),(0,ne.KU)(a).forEach(e=>{if(N.has(e.name)){let t=e.name.replace(a.name,"");N.add(n+t),N.delete(e.name)}})}return r}),s(n,e,t)},[s,N,n]),J=l.useCallback(e=>{u(n,e)},[u,n]),q=l.useCallback((e,t,n)=>{let l=t>.5?1:Math.round(1e3*t)/1e3;x({index:e,type:n?"in":"before"}),V(l)},[]),ee=l.useCallback(()=>{M(e=>eI.l7.user("delete-styles",()=>{let t=new Set(e);return(T?(0,ne.QA)(T,n):[]).forEach(e=>{"STYLE_FOLDER"===e.type?((0,ne.a2)(e,(null==b?void 0:b.key)||null),N.delete(e.name),(0,ne.KU)(e).forEach(e=>N.delete(e.name))):(0,ne.Nr)(e,(null==b?void 0:b.key)||null)}),t})),K.Y5.triggerAction("commit"),P.isShown&&(v(A.sw()),v(C.XE()),B.glU.selectStyle(f.n3.INVALID,f.IA.INVALID)),_(null)},[P.isShown,_,T,n,null==b?void 0:b.key,N,v]),en=l.useMemo(()=>{let e=T?(0,ne.QA)(T,n):[];return(0,ne.Ug)(e).map(e=>e.node_id)},[T,n]),el=l.useCallback(()=>{B.glU.cutStyles(en)},[en]),er=l.useCallback((e,t)=>{t===tF.zy.PASTE?B.glU.pasteStyles():e.shouldPropagate=!0},[]);l.useEffect(()=>{if(!T)return;let e=e=>{e.target&&("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)||el()};return document.addEventListener("cut",e),()=>{document.removeEventListener("cut",e)}},[el,T]);let ea=l.useCallback(()=>{B.glU.pasteStyles()},[]),ei=l.useCallback(e=>{L(t=>[...t,e])},[]),es=l.useCallback(()=>{o()},[o]),eo=m.rf(y,"ondragend",l.useCallback(()=>{x(null),V(null),L([]),c()},[c])),ec=(0,tk.ZC)(T);l.useEffect(()=>{ec!==T&&T&&M(e=>{let n=new Set(e);for(let e of T.styleIds.values()){let l=t.find(t=>t.node_id===e);if(!l)continue;let r=(0,tO.ke)(l.name);for(let e=0;e<r.length;e++){let t=r.slice(0,e).join("/");n.delete(t)}}return n})},[T,ec,t]);let ed=l.useRef(null),ep=l.useCallback(e=>{ed.current=e},[ed]),eu=l.useMemo(()=>T?(0,ne.h$)(T,n):[],[T,n]),em=l.useMemo(()=>k?(0,ne.h$)(k,n):[],[k,n]),eh=l.useMemo(()=>[...eu,...em].sort((e,t)=>e-t),[eu,em]),e_=l.useCallback((e,t,s,o,c,p)=>{let u="STYLE_FOLDER"===e.type?e.name:e.node_id,m=!1,E=!1;for(let t of R)if("STYLE_FOLDER"===e.type){if(e.name===t){E=!0;break}e.name.startsWith(t)&&(m=!0)}else if((0,tO.In)(e.name)===t){m=!0;break}if(!E&&!m&&Z(N,n).has(u))return null;let g=eh&&eh[eh.length-1]===t,y=eh&&eh[0]===t;if(e.type===tV.PW.STYLE){let n=(0,ne.rM)(e),a=null!=r&&r===e.node_id;return l.createElement(t2,{hideStylePreview:W,recordingKey:`style-row-${t}`,index:t,key:e.node_id,isDragging:o,dsStyle:e,selected:s,selectedSecondary:(null==k?void 0:k.styleIds.has(e.node_id))||!1,level:n,stylePreviewShown:P,onContextMenu:J,updateContextMenuStyleRef:h,updateFocusRowRef:s?ep:null,onMouseDown:c,onMouseMove:p,onInspectStyle:d,updateSelection:_,isEditable:S,deleteSelectedItems:ee,isRenaming:a,onRenameItem:i,stopRenamingItem:$,onCreateFolder:z,isLastChildOfSelection:g})}{let n=null!=a&&a.name===e.name&&a.styleTypeSection===e.styleTypeSection,r=(null==Y?void 0:Y.folderNameToNestUnder)||null;return l.createElement(t1,{recordingKey:`folder-section-${e.styleTypeSection}-row-${t}`,key:t,index:t,isDragging:o,folder:e,selected:s,selectedSecondary:(null==k?void 0:k.folderNames.has(e.name))||!1,isCollapsed:N.has(e.name),temporarilyExpandFolder:ei,isTemporarilyExpanded:E,isRenaming:n,folderNameToNestUnder:r,onRenameItem:i,stopRenamingItem:$,level:e.level,toggleFolder:e=>j(t,e),onContextMenu:J,onCreateFolder:z,onMouseDown:c,onMouseMove:p,isEditable:S,deleteSelectedItems:ee,hideStylePreview:W,isFirstChildOfSelection:y})}},[_,eh,N,ee,null==Y?void 0:Y.folderNameToNestUnder,Z,W,J,z,d,i,a,r,null==k?void 0:k.folderNames,null==k?void 0:k.styleIds,$,n,P,ei,R,j,h,S,ep]),eE=l.useCallback(t=>{let l=new Set,r=new Set;t.forEach(e=>{let t=n[e];"STYLE_FOLDER"===t.type?l.add(t.name):r.add(t.node_id)}),_({type:e,folderNames:l,styleIds:r})},[_,n,e]),eg=l.useRef(),ey=l.useRef();return l.useEffect(()=>{eg.current&&eu.length?(eg.current(),ed.current&&!ed.current.contains(document.activeElement)&&ed.current.focus()):ey.current&&!eu.length&&(ey.current(),ed.current=null)},[eg,eu,ed]),l.createElement(tv.vL,{name:"StyleDraggableList",handleClipboard:er,focusFunctionRef:eg,blurFunctionRef:ey},l.createElement(t7,{styleType:e},l.createElement(nv,{recordingKey:"style-draggable-list",listItems:n,onInsertItemsIn:X,canInsertItemsIn:U,onInsertItemsBetweenValues:Q,onDrag:q,onDragStart:es,onDragEnd:eo,insertDividerStyle:null==Y?void 0:Y.dividerStyles,selectedIndices:eu,updateSelection:eE,renderListItem:e_,scrollContainer:g,isDragDisabled:!S}),l.createElement(ni,{styleRowRef:E,onDeleteItems:ee,onCutItems:el,onPasteItems:ea,onRenameItem:i,onEditStyle:d,onCreateFolder:z,styleType:e})))}class nv extends tD.q{}var nP=n(875157),nw=n(520581),nT=n(869156),nk=n(635736);function nI(e){var t,n,l;return(null==(t=e.modalShown)?void 0:t.type)===nk.y.type||(null==(l=null==(n=e.modalShown)?void 0:n.prevModal)?void 0:l.type)===nk.y.type}function nC(){let e=(0,nk.m)(),t=(0,l.useCallback)(()=>{e()},[e]),n=(0,et.d4)(nI),r=0===(0,nT.Rb)().length&&!n;return l.createElement(g.p,{name:"local_variables_panel"},l.createElement(ey.Zk,null,l.createElement(ey.fI,{className:r?"local_variables_panel--localVariablesPanelRowFaded--atToe local_variables_panel--localVariablesPanelRow--zR8nJ draggable_list--panelHeaderRowFaded--kETRR":"local_variables_panel--localVariablesPanelRow--zR8nJ"},l.createElement(ey.xw,{className:"local_variables_panel--titleText--7rdD7 draggable_list--panelTitleText--SwKez",onClick:t,"data-onboarding-key":"local-variables-panel-title"},l.createElement(I.Tx,{id:"variables.local_variables_panel.local_variables_title"})),l.createElement(nw.E,{name:"variables_modal_button"},l.createElement(eC.YW,{className:"local_variables_panel--openAuthoringModalButton--FiNXt draggable_list--addButton--D0q--",selected:n,recordingKey:(0,m.Pt)("localVariablesPanel","variablesModalButton"),"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("variables.local_variables_panel.open_variables_button_tooltip"),svg:t6.A,onClick:t})))))}var nN=n(335990),nA=n(390487),nM=n(775664),nR=n(218973),nL=n(37819),nO=n(57392),nx=n(715762),nF=n(507662),nV=n(564092),nD=n(664241),nK=n(258376);function nB({recordingKey:e}){let t=(0,c.md)(nO.I7);return(0,nV.Tt)()&&!(0,o.kc)().ds_variables_relax_modes&&t?l.createElement(nU,{recordingKey:e}):null}let nH="VARIABLES_INCOMPATIBLE_MODES_UPDATE_DROPDOWN";function nU({recordingKey:e}){let t=(0,et.wA)(),n=(0,t9.U)(),r=l.useRef(null),a=n&&n.type===nH,i=l.useCallback(()=>{r.current&&t(eo.j7({type:nH,data:{targetRect:r.current.getBoundingClientRect()}}))},[t]),s=l.useCallback(()=>{t(ec.to({type:nF.T,data:{initialTab:tV.Wv.UPDATES,entrypoint:nx.r6.VARIABLE_MODES_ACCEPT_UPDATES_DROPDOWN_OPTION}}))},[t]);return l.createElement(l.Fragment,null,l.createElement("div",{ref:r},l.createElement(eC.YW,{recordingKey:m.Pt(e,"updateIcon"),selected:!!a,svg:nK.A,className:nD.l_,dataTestId:"updatesModesButton","data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("variables.layer_panel.header.update_button_direct.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:i})),a&&(r.current?l.createElement(eh.Cf,{targetRect:r.current.getBoundingClientRect(),maxWidth:226,disableDropdownScrollContainer:!0,propagateCloseClick:!0},l.createElement(l.Fragment,null,l.createElement(ei.W.Option,{className:nD.Ig,recordingKey:m.Pt(e,"description"),key:"description",disabled:!0},(0,I.t)("variables.layer_panel.header.update_button.dropdown.description")),l.createElement(ei.W.Separator,null),l.createElement(ei.W.Option,{onClick:s,recordingKey:m.Pt(e,"review-update"),key:"review_update"},(0,I.t)("variables.layer_panel.header.update_button_direct.dropdown.option")))):null))}var nG=n(75215),nW=n(750029),nY=n(521223),nQ=n(205135),nX=n(31687),nZ=n(781867);class nz extends l.PureComponent{constructor(e){super(e),this.chitRowRef=l.createRef(),this.colorFormatter=nM.TI,this.onColorChange=(e,t)=>{let n=e.a;e.a=1,K.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:n,backgroundEnabled:!0},{shouldCommit:t})},this.onColorChangeWithoutAlpha=(e,t)=>{K.Y5.updateSelectionProperties({backgroundColor:e,backgroundEnabled:!0},{shouldCommit:t})},this.onOpacityChange=(e,t)=>{K.Y5.updateSelectionProperties({backgroundOpacity:e,backgroundEnabled:0!==e},{shouldCommit:t})},this.onBackgroundEnabledChange=e=>K.Y5.updateSelectionProperties({backgroundEnabled:e}),this.onExportBackgroundDisabledChange=e=>{K.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},this.toggleColorPicker=()=>{if(this.props.pickerShown&&this.props.pickerShown.id===L.k8)this.props.dispatch(C.XE());else{(0,o.kc)().ce_properties_panel_tracking&&(0,tP.sx)("editor-background-panel-color-picker-show");let e=this.chitRowRef.current?(0,eu.cn)(this.chitRowRef.current):{x:0,y:0};this.props.dispatch(C.u1({id:L.k8,initialX:e.x,initialY:e.y})),this.props.dispatch(A.sw())}},this.mergeColorAndOpacity=(0,tI.xx)(e=>{let t=(0,W.E7)(e.backgroundColor),n=(0,W.E7)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||W.oV})}get opacity(){return(0,W.hS)(this.props.backgroundOpacity)&&"number"==typeof this.props.backgroundOpacity&&isNaN(this.props.backgroundOpacity)?0:this.props.backgroundOpacity}renderInputWithChit(){return l.createElement("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},l.createElement(nW.J,{color:this.mergeColorAndOpacity(this.props),opacity:this.opacity,onMouseDown:this.toggleColorPicker,recordingKey:m.Pt(this.props,"colorChit"),className:"background_panel--chit--EQGLT paint_panels--chit--twQEy"}),l.createElement(nQ.AN,{className:this.props.backgroundEnabled?"background_panel--color--sBAtd paint_panels--colorInput--nSz13":"background_panel--colorHidden--CEpXN paint_panels--colorInputHidden--ZojfD paint_panels--colorInput--nSz13",formatter:this.colorFormatter,property:this.props.backgroundColor,onChange:this.onColorChangeWithoutAlpha,recordingKey:m.Pt(this.props,"color"),noBorderOnFocus:!0}),l.createElement(nR.Pd,{className:"background_panel--opacity--nwSdu paint_panels--opacityInputContainer--oqlsk",inputClassName:this.props.backgroundEnabled?void 0:"background_panel--opacityInputHidden--2-b0t paint_panels--opacityInputHidden--I2GEk",value:this.opacity,onValueChange:this.onOpacityChange,dispatch:this.props.dispatch,noBorderOnFocus:!0,recordingKey:m.Pt(this.props,"opacity")}))}renderVisibilityToggleButton(){return l.createElement("span",{className:"background_panel--visible--2-4Ns"},l.createElement(nZ.B,{visible:this.props.backgroundEnabled,onChange:this.onBackgroundEnabledChange,recordingKey:m.Pt(this.props,"visibleToggle")}))}renderSimpleBackground(){return l.createElement("div",null,l.createElement(ey.fI,{className:"background_panel--panelTitleRow--uNINf"},l.createElement(ey.xw,null,l.createElement(I.Tx,{id:"fullscreen.properties_panel.page"})),l.createElement(nB,{recordingKey:"pageLevel"}),l.createElement(nL.M,{showLibrarySets:!0,recordingKey:"pageLevel"})),"ui2"===this.props.theme.version?this.renderUI2ColorInput():this.renderUI3ColorInput())}renderUI3ColorInput(){return l.createElement(eS.DE,{ref:this.chitRowRef,label:null,input:this.renderInputWithChit(),icon:this.renderVisibilityToggleButton()})}renderUI2ColorInput(){return l.createElement(l.Fragment,null,l.createElement(ey.fI,{forwardedRef:this.chitRowRef},this.renderInputWithChit(),this.renderVisibilityToggleButton()))}render(){var e;return l.createElement(g.p,{name:"background_panel"},l.createElement(ey.Zk,null,this.renderSimpleBackground(),this.props.hasExports&&l.createElement(ey.fI,{className:"background_panel--checkboxLabelRow--r-hmK"},l.createElement(nG.t,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:this.props.exportBackgroundDisabled===W.oV?W.oV:!this.props.exportBackgroundDisabled,onChange:this.onExportBackgroundDisabledChange,recordingKey:m.Pt(this.props,"exportDisableCheckbox")}),l.createElement(ey.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},l.createElement(I.Tx,{id:"fullscreen.properties_panel.show_in_exports"}))),(null==(e=this.props.pickerShown)?void 0:e.id)===L.k8&&l.createElement(nY.sk,{disabledVariableIds:new Set,title:(0,I.t)("fullscreen.properties_panel.background"),initialPosition:new b.Mi(this.props.pickerShown.initialX,this.props.pickerShown.initialY),color:(0,W.hS)(this.mergeColorAndOpacity(this.props))?(0,W.E7)(this.mergeColorAndOpacity(this.props)):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:this.onColorChange,recordingKey:m.Pt(this.props,"colorPicker")}),l.createElement(nX.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})))}}nz.displayName="BackgroundPanel";let nj=(0,ea.SL)(nz);var n$=n(308385),nJ=n(33136),nq=n(553609);function n0(e){let t=(0,nJ.t)();return e.readOnly?l.createElement(nq.l,{...e}):t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning?null:l.createElement(ey.Zk,null,l.createElement(ey.fI,null,l.createElement(ey.xw,{extended:!0},l.createElement(I.Tx,{id:"fullscreen.properties_panel.constraints_panel.constraints"}))),l.createElement(nq.l,{...e}))}function n1(e){return l.createElement(g.p,{name:"constraints_panel"},l.createElement(n0,{...e}))}var n5=n(233711),n4=n(924491),n3=n(511617),n6=n(733169),n2=n(132135),n7=n(321487),n8=n(167807),n9=n(428467);function le(e){let t=(0,tL.q5)(),n=(0,n9.usePermissionsState)(),r=(0,X.IW)(e.stylePreviewShown),a=(0,n8.$Q)(null==r?void 0:r.file_key).data;if(!r||!a)return null;let i=(0,n2.to)(a);return i=(0,n3.dR)(i,{"node-id":encodeURIComponent((0,n7.E)(r.node_id))}),l.createElement(g.p,{name:"external_style_options"},l.createElement(ey.Zk,{key:"external-style-options"},(0,n6.J)({openFile:t,permissionsState:n,user:e.user,sourceLibraryFile:a})&&l.createElement(ey.fI,null,l.createElement(tn.N_,{className:ts.lf,href:i,target:"_blank",trusted:!0},l.createElement(I.Tx,{id:"fullscreen.properties_panel.go_to_style_definition_to_edit"})))))}var lt=n(975126),ln=n(503359),ll=n(535904),lr=n(668e3),la=n(613023),li=n(841368),ls=n(794272),lo=n(877953),lc=n(555074),ld=n(499777),lp=n(234945),lu=n(335691),lm=n(567488),lh=n(783601),l_=n(224690),lE=n(116178),lg=n(493424),ly=n(784940),lb=n(468570),lf=n(414879),lS=n(87217),lv=n(737834),lP=n(77763),lw=n(760066),lT=n(861726),lk=n(416580),lI=n(175290),lC=n(83909),lN=n(113058),lA=n(301462),lM=n(279702),lR=n(878319),lL=n(219101),lO=n(533573),lx=n(282263),lF=n(952277),lV=n(723081),lD=n(538697),lK=n(383496);let lB=new lV.SU;class lH extends lD.c${}class lU extends lD.l6{}class lG extends l.PureComponent{render(){var e;let t=this.props.includePassThrough?lK.j4:lK.r5;return l.createElement(lU,{id:(e=this.props.id,`blend-mode-select-${e}`),className:this.props.className,inputClassName:this.props.inputClassName,chevronClassName:this.props.chevronClassName,property:this.props.property,formatter:lB,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,willShowDropdown:this.props.willShowDropdown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,dropdownWidth:this.props.isUI3?120:"auto",svg:this.props.isUI3?void 0:(0,lK.HC)((0,W.E7)(this.props.property)),enablePreview:!0},t.map((e,t)=>"SELECT_DIVIDER"===e?l.createElement(lD.sK,{key:t}):l.createElement(lH,{key:t,value:e,recordingKey:m.Pt(this.props,e)})))}}lG.displayName="BlendMode";var lW=n(697652),lY=n(83695),lQ=n(731262),lX=n(82131),lZ=n(490393),lz=n(435091),lj=n(424148),l$=n(144919);function lJ(e){let{blendMode:t,opacity:n,visible:r}=e,a="ui3"===(0,ea.DP)().version,s=l.useRef(null),c=l.useMemo(l_.On,[]),d=l.useMemo(l_.Tn,[]),{dropdownShown:p,isDefReferencedBySelection:u,selectedGUIDs:h,visibilityIsBoundToComponentProp:_}=(0,ls.R)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!c(e,lu.R.VISIBLE),selectedGUIDs:(0,lp.qd)(e),visibilityIsBoundToComponentProp:d(e,(0,lp.qd)(e),lu.R.VISIBLE)})),E=(0,W.gl)(r),y=(0,et.wA)(),b=l.useCallback((e,t=lM.zk.YES)=>{lC.wt.shouldReportForShouldCommit(t)&&lA.FZ.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),K.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),f=l.useCallback((e,t)=>{K.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!u&&K.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[u]),S=l.useRef(null),[,v]=l0(),{clearVariableConsumption:P}=(0,nV.u3)(["VISIBLE"]),{variableConsumptionMap:w}=(0,nV.R1)(),T=l1(),k=(0,nT.u)(T),C=null==k?void 0:k.name,N=lq();return l.createElement(g.p,{name:"layer_panel"},l.createElement(ey.Zk,null,l.createElement(ey.fI,{className:lX.LO},l.createElement(lW.Tu,{isPanelBodyCollapsedAtom:null},l.createElement(ey.xw,{isPanelBodyCollapsedAtom:null},l.createElement(I.Tx,{id:"fullscreen.layer_panel.layer"})),l.createElement(nB,{recordingKey:"frameLevel"}),!N&&l.createElement(lm.yQ,{nodeField:lu.R.VISIBLE,defaultValue:r,guids:h}),l.createElement(nL.M,{showLibrarySets:!1,recordingKey:"frameLevel"}))),l.createElement(lW.JH,{isPanelBodyCollapsedAtom:null},l.createElement(ey.fI,null,l.createElement(lG,{id:"layer-blend-mode",className:lz.jK,inputClassName:lz.Df,chevronClassName:lz.ai,property:t,dispatch:y,dropdownShown:p,onChange:b,willShowDropdown:()=>((0,tP.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:m.Pt(e,"blendMode"),isUI3:a}),l.createElement(lL.e,{condition:!0,wrapper:t=>l.createElement(lw.sA,{recordingKey:m.Pt(e,"layerOpacityInputWrapper"),fields:["OPACITY"],disabled:!1,resolvedType:B.rXF.FLOAT,currentFieldValue:(0,W.hS)(n)?n:void 0,inputClassName:i()({[lz.ke]:!0,[lz.TQ]:!0}),hideIcon:!0,inputRef:s,hasBindingContextMenu:!0},t)},l.createElement(nR.Pd,{isTokenizable:!0,value:n,onValueChange:f,mixedMathHandler:l4,dispatch:y,recordingKey:m.Pt(e,"opacity"),forwardedRef:s,noBorderOnHover:!0})),l.createElement(l6,{recordingKey:e.recordingKey})),E&&!u&&l.createElement(ey.fI,{dataTestId:"mixed-visibility-label"},l.createElement(ey.UZ,{className:lZ.Pf},l.createElement(I.Tx,{id:"fullscreen.layer_panel.replace_mixed_visibility",svg:l.createElement("div",{className:lz.dY},l.createElement(es.U,{svg:l$.A},l.createElement(lT.l,null)))}))),l.createElement("div",{className:lz.I0},l.createElement(lh.L,{nodeField:lu.R.VISIBLE,currentValue:e.visible})),(0,o.kc)().prototype_expressions_nodefields?w.VISIBLE&&l.createElement(lI.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},l.createElement(lY.y3,{targetVariableData:w.VISIBLE.isMixed?void 0:w.VISIBLE,onClick:()=>{v(S.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:w.VISIBLE.isMixed}),l.createElement(ev.K,{onClick:()=>P(),"aria-label":(0,I.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip":(0,I.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ep.Ib.TEXT,recordingKey:"detachVisibilityVariable"},l.createElement(es.U,{svg:lj.A},l.createElement(lk.U,null)))):N&&!_&&l.createElement(lI.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},l.createElement(lF.P,{value:C||(0,I.t)("fullscreen.mixed"),isStandalone:!0,styleOverride:{width:"auto"},isDeleted:!!k&&(0,lO.eF)(k)}),l.createElement(ev.K,{onClick:()=>P(),"aria-label":(0,I.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip":(0,I.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ep.Ib.TEXT,recordingKey:"detachVisibilityVariable"},l.createElement(es.U,{svg:lj.A},l.createElement(lk.U,null)))),l.createElement(nX.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}))))}function lq(){let{consumedVariable:e}=(0,nV.u3)(["VISIBLE"]),t=l1(),n=(0,nT.u)(t);return!!e&&!!n}let l0=()=>(0,lx.JV)(["VISIBLE"],B.rXF.BOOLEAN,void 0,{requestedTypes:[B.rXF.BOOLEAN,B.rXF.FLOAT,B.rXF.STRING],variableFilters:{[lR.t.MUST_INCLUDE_ONE_OF]:{[B.rXF.STRING]:lQ.O4},[lR.t.HIDE_IN_DEFAULT_VIEW]:{[B.rXF.FLOAT]:!0}},mapVariableIdToTypedValue:lx.eT});function l1(){let e;let{consumedVariable:t}=(0,nV.u3)(["VISIBLE"]);if(t){if((0,W.hS)(t)&&t.type===B.Z_n.ALIAS)e=t.value;else if((0,W.hS)(t)&&t.type===B.Z_n.EXPRESSION){for(let n of(0,lO.Pr)(t))if(n.type===B.Z_n.ALIAS){e=n.value;break}}}return e}class l5 extends lN.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){eI.l7.user("set-opacity",()=>{lC.wt.reportAnyPropertyChange(["opacity"]),e.opacity=t})}}let l4=new l5,l3=(0,l_.Tn)();function l6(e){let t=l.useCallback(e=>{K.Y5.updateSelectionProperties({visible:e})},[]),n=l.useMemo(l_.On,[]),{isDefReferencedBySelection:r,visibilityIsBoundToComponentProp:a}=(0,ls.R)(e=>({isDefReferencedBySelection:!!n(e,lu.R.VISIBLE),visibilityIsBoundToComponentProp:l3(e,(0,lp.qd)(e),lu.R.VISIBLE)})),i=(0,nT.SG)(["VISIBLE"]).data??[],[s]=(0,lc.lJ)("visible"),{consumedVariable:o}=(0,nV.u3)(["VISIBLE"]),c=l.useRef(null),[d,p]=l0(),u=l1(),h=(0,nT.u)(u),_=!!o&&!!h,E=_||a||r,g=!_&&!a&&i.length>0,y=s?(0,I.t)("fullscreen.properties_panel.tooltip_hide"):(0,I.t)("fullscreen.properties_panel.tooltip_show"),b=l.createElement("span",{className:lz.RK},l.createElement(nZ.B,{disabled:E,visible:s,onChange:t,recordingKey:m.Pt(e,"visibleToggle")})),f=(0,eN.R)();return l.createElement("div",{className:lz.RK},l.createElement(lw.JQ,{ref:c,currentFieldValue:!!(0,W.gl)(s)||s,isActive:d,disabled:!g,onPickerOpen:()=>p(c.current),recordingKey:m.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control"},f?l.createElement(eC.YW,{selected:!E&&!s,disabled:E,onClick:()=>t(s===W.oV||!s),recordingKey:m.Pt(e,"visibleToggle"),dataTestId:"visibility-variable-control","data-tooltip":y,"data-tooltip-type":ep.Ib.TEXT},s?l.createElement(lv._,null):l.createElement(lP.j,null)):b))}function l2(){let{consumedVariable:e,clearVariableConsumption:t}=(0,nV.u3)(["VISIBLE"]),n=l1(),r=(0,nT.u)(n),a=null==r?void 0:r.name,i=!!e&&!!r,s=l.useMemo(l_.Tn,[]),o=(0,nT.BQ)(n),c=(0,ls.R)(e=>s(e,(0,lp.qd)(e),lu.R.VISIBLE));return!i||c?null:l.createElement(eS.DE,{appendedClassName:"component_bound_vibisility_row--row--Pss97",input:l.createElement(lF.P,{value:a||(0,I.t)("fullscreen.mixed"),isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!r&&(0,lO.eF)(r),fullWidth:!0,varaiablePillContainerClassName:"component_bound_vibisility_row--ui3RowVariablePillContainer--ocnP8",thumbnailValue:"MIXED"!==o?o:void 0}),icon:l.createElement("div",{className:"component_bound_vibisility_row--detachVisibilityIcon--FcjEN"},l.createElement(ev.K,{onClick:()=>t(),"aria-label":(0,I.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ep.Ib.TEXT,recordingKey:"detachVisibilityVariable"},l.createElement(lk.U,null))),label:null})}var l7=n(824374);let l8=new lV.SU;class l9 extends lD.c${}class re extends lD.l6{renderInput(){return l.createElement(ev.K,{recordingKey:(0,m.Pt)(this.props.recordingKey,"blendMode"),"aria-label":(0,I.t)("properties.dropdown.apply_blend_mode"),onClick:this.onMouseDown,actionOnPointerDown:!0,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("properties.dropdown.apply_blend_mode")},l.createElement(l7.M,{value:this.props.property,normalIsActive:!0}))}}function rt(e){let[t,n]=(0,lK.sL)(),r=(0,et.wA)(),a=(0,t9.U)(),i=lK.j4.map((t,n)=>"SELECT_DIVIDER"===t?l.createElement(lD.sK,{key:n}):l.createElement(l9,{key:n,value:t,recordingKey:m.Pt(e,"blendMode",t)}));return l.createElement(re,{id:"layer-blend-mode-select",className:"selection_blend_mode_icon_button--container--Wv9Hd",dropdownClassName:"selection_blend_mode_icon_button--blendModeSelectDropdown--WcwN1 blend_mode_select--blendModeSelectDropdown--jlg6p",property:t,onChange:n,formatter:l8,dispatch:r,dropdownShown:a,onMouseDown:x.dG,minTop:6,recordingKey:m.Pt(e,"blendMode"),enablePreview:!0,dropdownAlignment:"right",willShowDropdown:()=>((0,tP.sx)("editor-blend-mode-dropdown-show"),Promise.resolve())},i)}var rn=n(866577);function rl(e){let t=(0,ly.Df)(),n=(0,lo.C)("fpl_dialog_trigger"),r=(0,ly.Jo)(),a=(0,ld.k)("corner-smoothing"),[i]=(0,lc.lJ)("rectangleCornerRadiiIndependent"),s=(0,lc.kl)("visible"),c=!r.rectangleCornerRadii,d=t.cornerRadius,[p,u]=l.useState(null),[h]=(0,lc.lJ)("opacity"),_=t.rectangleCornerRadii,E=t.rectangleCornerRadii&&!!p,g=!r.cornerRadius,y=g||c,b=(0,l.useRef)(null),f=l.useRef(null),S=lq(),v=l.useMemo(l_.On,[]),{isDefReferencedBySelection:P,selectedGUIDs:w}=(0,ls.R)(e=>({isDefReferencedBySelection:!!v(e,lu.R.VISIBLE),selectedGUIDs:(0,lp.qd)(e)})),T=l.useCallback((e,t)=>{K.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!P&&K.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[P]),k=(0,l.useCallback)(()=>{a.hide(),K.Y5.deselectProperty()},[a]),C=(0,et.wA)(),N=l.useCallback(()=>{(0,o.kc)().ce_properties_panel_tracking&&(0,tP.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,W._W)(i,!1)}),!E&&b.current?u((0,eu.cn)(b.current,parseInt(rn.Je,10))):u(null)},[i,E]);return l.useEffect(()=>{u(null)},[w]),l.createElement(ey.Zk,null,l.createElement(ef.Wv,{titleTx:l.createElement(I.Tx,{id:"fullscreen.appearance_panel.appearance"})},!S&&l.createElement(lm.yQ,{nodeField:lu.R.VISIBLE,defaultValue:s,guids:w}),l.createElement(nB,{recordingKey:"frameLevel"}),l.createElement(nL.M,{showLibrarySets:!1,recordingKey:"frameLevel"}),l.createElement(l6,{recordingKey:e.recordingKey}),l.createElement(rt,{recordingKey:e.recordingKey})),l.createElement(eS.fn,{ref:b,leftInput:l.createElement(nR.Pd,{inputClassName:"appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",ui3RightJustifyPercentSign:!1,isTokenizable:!0,value:h,onValueChange:T,mixedMathHandler:rr,dispatch:C,recordingKey:m.Pt(e,"opacity"),forwardedRef:f},l.createElement("div",{className:"appearance_panel--opacityIconContainer---kdX-"},l.createElement(lr.N,null))),rightInput:d?l.createElement(lg.C,{recordingKey:e.recordingKey,disabled:E||g}):null,icon:d?_?l.createElement(nw.E,{name:"independent_corner_radius_toggle"},n?l.createElement(ll.d,{actionOnPointerDown:!0,toggled:E,onClick:N,"aria-label":(0,I.t)("fullscreen.properties_panel.transform_panel.independent_corners"),disabled:y,recordingKey:m.Pt(e,"rectangleCornerToolIndependentToggle")},l.createElement(la.Q,null)):l.createElement(ey.YW,{selected:E,onClick:N,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:m.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:y},l.createElement(la.Q,null))):l.createElement(ey.YW,{onMouseDown:e=>(0,lE._)(a,b,e),recordingKey:m.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:a.showing,disabled:g},l.createElement(li.J,null)):null,leftLabel:l.createElement(I.Tx,{id:"fullscreen.properties_panel.section_appearance.label_opacity"}),rightLabel:d?l.createElement(I.Tx,{id:"fullscreen.properties_panel.transform_panel.corner_radius"}):null}),(t.count||t.starInnerScale)&&l.createElement(lS.cU,{countShown:t.count,countDisabled:!r.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!r.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&l.createElement(lS.Je,{arcDataDisabled:!r.arcData,recordingKey:e.recordingKey}),l.createElement(lh.L,{nodeField:lu.R.VISIBLE,currentValue:s}),l.createElement(nX.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),l.createElement(l2,null),E&&p&&l.createElement(lf.$,{initialPosition:p,onClose:N,recordingKey:m.Pt(e,"advanced")}),a.showing&&l.createElement(lb.T,{initialPosition:a.initialPosition,onClose:k,recordingKey:m.Pt(e,"advanced")}))}let rr=new l5;var ra=n(89586);let ri="mask_panel--maskTypeDropdown--3Etsx";class rs extends lD.l6{}class ro extends lD.c${}class rc extends l.PureComponent{constructor(){super(...arguments),this.onMaskTypeChange=(e,t=lM.zk.YES)=>{K.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})},this.maskTypeFormatter={format:e=>{switch(e){case"ALPHA":return(0,I.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,I.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,I.t)("fullscreen.mask_panel.luminance")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,I.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,I.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,I.t)("fullscreen.mask_panel.luminance_extended")}}}},this.stopPropagation=e=>e.stopPropagation()}render(){let e=l.createElement(ey.fI,null,l.createElement(rs,{id:"mask-type-dropdown",className:ri,property:this.props.maskType,formatter:this.maskTypeFormatter,onChange:this.onMaskTypeChange,dispatch:this.props.dispatch,dropdownClassName:ri,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:m.Pt(this.props,"maskType"),enablePreview:!0},l.createElement(ro,{value:"ALPHA",recordingKey:m.Pt(this.props,"maskType","alpha")}),l.createElement(ro,{value:"OUTLINE",recordingKey:m.Pt(this.props,"maskType","outline")}),l.createElement(ro,{value:"LUMINANCE",recordingKey:m.Pt(this.props,"maskType","luminance")})));return l.createElement(g.p,{name:"mask_panel"},l.createElement(ey.Zk,null,l.createElement(ey.fI,null,l.createElement(ey.xw,null,l.createElement(I.Tx,{id:"fullscreen.mask_panel.mask"}))),e))}}rc.displayName="MaskPanel";var rd=n(750693),rp=n(536825),ru=n(819785),rm=n(695038);function rh({addProperty:e,children:t,contentsVisibleOrMixed:n,minusDisabled:r,plusDisabled:a,recordingKey:i,removeProperty:s,showButton:o,title:c,dataTestId:d,shouldHideButton:p}){let{version:u}=(0,ea.DP)(),h=(0,l.useCallback)(()=>{!1!==n||a||e()},[e,n,a]),_=n===W.oV,E=!_&&!n;null==o&&(o=!0===n?"-":"+");let g="+"===o?l.createElement(ev.K,{as:"button",recordingKey:m.Pt(i,"addButton"),onClick:e,onMouseDown:x.dG,disabled:a,"aria-label":(0,I.t)("fullscreen.properties_panel.add"),"data-testid":d??""},l.createElement(es.U,{svg:e7.A,fallbackSvg:t0.A},l.createElement(er.e,null))):l.createElement(ev.K,{as:"button",recordingKey:m.Pt(i,"removeButton"),onClick:s,onMouseDown:x.dG,disabled:r,"aria-label":(0,I.t)("fullscreen.properties_panel.remove"),"data-testid":d??""},l.createElement(es.U,{svg:ru.A,fallbackSvg:rm.A},l.createElement(rp.O,null)));return"ui3"===u?l.createElement(l.Fragment,null,c&&l.createElement(ef.r,{onMouseDown:h,faded:E,titleTx:l.createElement("span",null,c),icon:p?void 0:g}),_&&l.createElement(ey.fI,null,l.createElement(ey.UZ,{className:lZ.Pf},l.createElement(I.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!_&&!E&&t):l.createElement(l.Fragment,null,c&&l.createElement(ey.fI,{onMouseDown:h,className:E?lZ.et:void 0,recordingKey:m.Pt(i,"panelTitle")},l.createElement(ey.xw,{faded:E,extended:!0},l.createElement("div",{className:lZ.yr},c)),l.createElement(ey.$4,null,p?null:g)),_&&l.createElement(ey.fI,null,l.createElement(ey.UZ,{className:lZ.Pf},l.createElement(I.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!_&&!E&&t)}class r_ extends m.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return l.createElement(g.p,{name:"remove_group_fill_and_stroke_panel"},l.createElement(ey.Zk,null,l.createElement(rh,{title:"Background",addProperty:this.noop,removeProperty:B.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0},l.createElement(ey.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq"},l.createElement(ey.UZ,{className:"remove_group_fill_and_stroke_panel--label--orOpK"},l.createElement(I.Tx,{id:"fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported"}))))))}}var rE=n(456363),rg=n(632430),ry=n(161459),rb=n(832637),rf=n(529358),rS=n(376503),rv=n(362679),rP=n(13556),rw=n(306413);function rT(e){var t;let n="stroke-settings",[r,a]=(0,c.fp)(rE.GI),i=r.paints||[],s=(0,et.wA)(),o=l.useContext(ta.zK),d=()=>null!=o,p=l.useRef(null),u=e=>{a({paints:e}),Y.Tm.clearCache()},h=e=>{let{strokeWeight:t,dashPattern:n}=e,l=(0,W.E7)(t);l&&a({strokeWeight:l});let r=(0,W.E7)(n);r&&a({dashPattern:r})},_=e=>{let t=i.filter((t,n)=>!e.has(n));0===t.length&&(t=[i[0]]),u(t)},E=(e,{fromSearch:t}={})=>{s(rg.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},{version:g}=(0,ea.DP)(),y=!!r.styleId||i.length>0,b=(null==(t=e.pickerShown)?void 0:t.id)===n,f=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,S=l.createElement(rf.v9,{strokeWeight:r.strokeWeight||ry.qB,onChange:h,recordingKey:m.Pt(e,"weight")}),v=l.createElement(rS.qR,{className:"ui3"===g?void 0:"pencil_tool_panel--dashCap--OD1E2",dashCap:(0,rS.Hd)(r.strokeCap||"ROUND")||"ROUND",onChange:e=>{a({strokeCap:e})},recordingKey:m.Pt(e,"dashCap")}),P=l.createElement(ey.YW,{svg:rv.A,fallbackSvg:rP.A,className:"pencil_tool_panel--advancedStroke--1497y",onClick:()=>{var t;if((null==(t=e.pickerShown)?void 0:t.id)===n)s(C.XE());else{if(!p)return;let e=ee.findDOMNode(p.current),t=(0,eu.cn)(e);s(C.u1({id:n,initialX:t.x,initialY:t.y}))}},onMouseDown:e=>e.stopPropagation(),selected:b,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:m.Pt(e,"more")});return l.createElement("div",{className:"pencil_tool_panel--pencilPanelContainer--O-fFF"},l.createElement(ey.Zk,null,l.createElement(rd.W4,{title:(0,I.t)("fullscreen.pencil_tool.stroke"),propertyList:i,onChange:u,currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:B.rrT.STROKE_PRESET,styleType:"FILL",addProperty:()=>{K.Y5.triggerAction("add-stroke-to-selection")},onDeleteProperty:e=>_(e),onReorder:()=>{Y.Tm.clearCache()},renderProperty:(t,n,r,a,o,c,p,u,h)=>{var y;let b=d()?"preview-paint":"paint",f=Y.Tm.getId(n,B.rrT.STROKE_PRESET,b),S=i.slice(0,n).some(e=>e.visible);return l.createElement(rd.Gg,{key:`paint-${n}`,id:f,index:n,inheritStyleKeyField:"inheritFillStyleKeyForStroke",singletonRow:1===i.length,selectedPropertyType:B.rrT.STROKE_PRESET,paint:t,selected:e.stylePickerShown.isShown?(null==(y=e.pickerShown)?void 0:y.id)===f:r,isDragging:a,hasFocus:o,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,onChange:c,onApplyStyle:E,onMouseDown:p,onMouseMove:u,onMouseUp:h,onRemovePaint:i.length>1?()=>_(new Set([n])):void 0,hideVisibilityToggle:1===i.length,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:B.NLJ.VECTOR_PENCIL,colorFormat:e.colorFormat,dispatch:s,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,editModeType:e.editModeType,defaultColor:Y.Em,library:e.library,openFile:e.openFile,recordingKey:m.Pt(e,n),variableScopes:new Set([B.j0r.STROKE]),isUI3:"ui3"===g,hasVisiblePaintBelow:S})},recordingKey:e.recordingKey,sceneGraphSelection:e.sceneGraphSelection,library:e.library,modalShown:e.modalShown,openFile:e.openFile,inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:r.styleId||null,inheritStyleID:null,selectedStyleProperties:e.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,onToggleListLayout:()=>{s(C.Y({isListLayout:!e.stylePickerListLayout}))},removeAllProperties:null,onApplyStyle:E,defaultColor:Y.rC}),y&&("ui3"===g?l.createElement(eS.fn,{ref:p,leftLabel:l.createElement(I.Tx,{id:"fullscreen.properties_panel.section_stroke.label_weight"}),leftInput:S,rightLabel:l.createElement(I.Tx,{id:"fullscreen.properties_panel.section_stroke.label_end_cap"}),rightInput:v,icon:P}):l.createElement(ey.fI,{ref:p},S,v,P))),f&&l.createElement("div",{className:"pencil_tool_panel--hintPanel--917wK"},l.createElement(rb.u,{title:(0,I.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:rw.A,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,I.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})),b&&e.pickerShown&&l.createElement(rS._2,{onChange:h,strokePanelMode:B.yTM.PENCIL,strokePanelTerminalPointCount:2,strokeCap:r.strokeCap||"ROUND",strokeJoin:"ROUND",maxStrokeWeight:r.strokeWeight||ry.qB,dashPattern:r.dashPattern,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,recordingKey:m.Pt(e,"advanced")}))}function rk(e){let t=(0,H.Ku)(),n=(0,ls.R)(e=>{var t;return{currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,openFileKey:(null==(t=e.openFile)?void 0:t.key)||null,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,selectedStyleProperties:e.mirror.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags}});return l.createElement(rT,{...n,...e,colorFormat:t})}var rI=n(438377),rC=n(270296),rN=n(843495),rA=n(476710),rM=n(252828);function rR({label:e,tab:t,active:n,className:r,recordingKey:a,keyboardShortcut:i}){let s=(0,et.d4)(e=>e.mirror.appModel.topLevelMode),o=(0,tR.dH)(),c=(0,eN.R)(),d=m.rf(a,"mousedown",()=>{if(!n){let e=rL(t,c).analyticsName;(0,tP.sx)("properties-panel-select-tab",{tab:e}),o===B.NLJ.SCALE&&t===B.FAf.PROTOTYPE&&K.Y5.triggerAction("set-tool-default"),(0,rN.NT)(t),s===B.lyf.PREVIEW&&(t===B.FAf.COMMENT?K.Y5.triggerAction("set-tool-comments"):K.Y5.triggerAction("set-tool-default"))}});return l.createElement("div",{className:r,onMouseDown:d,"data-label":e,...i?{"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":e,"data-tooltip-shortcut-key":i}:void 0},e)}function rL(e,t){return({[B.FAf.DESIGN]:{label:(0,I.t)("fullscreen.properties_panel.design"),tab:B.FAf.DESIGN,className:ts.Mf,recordingKey:"designTab",analyticsName:"design"},[B.FAf.PROTOTYPE]:{label:(0,I.t)("fullscreen.properties_panel.prototype"),tab:B.FAf.PROTOTYPE,className:ts.Mf,recordingKey:"prototypeTab",analyticsName:"prototype"},[B.FAf.INSPECT]:{label:(0,I.t)("fullscreen.properties_panel.properties"),tab:B.FAf.INSPECT,className:ts.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[B.FAf.COMMENT]:{label:t?(0,I.t)("fullscreen.properties_panel.comments"):(0,I.t)("fullscreen.properties_panel.comment"),tab:B.FAf.COMMENT,className:ts.Mf,recordingKey:"commentTab",analyticsName:"comment"},[B.FAf.EXPORT]:{label:(0,I.t)("fullscreen.properties_panel.export"),tab:B.FAf.EXPORT,className:ts.Mf,recordingKey:"exportTab",analyticsName:"export"},[B.FAf.SLIDE]:{label:(0,I.t)("fullscreen.properties_panel.design"),tab:B.FAf.SLIDE,className:ts.Mf,recordingKey:"designTab",analyticsName:"design"},[B.FAf.SLIDE_ANIMATION]:{label:"",tab:B.FAf.SLIDE_ANIMATION,className:ts.Mf,recordingKey:"animateTab",analyticsName:"animate"},[B.FAf.SITE]:{label:(0,I.t)("fullscreen.properties_panel.design"),tab:B.FAf.SITE,className:ts.Mf,recordingKey:"sitesTab",analyticsName:"sites"}})[e]}function rO({activeTab:e,isUI3:t,shouldShowAlignControls:n,shouldRenderInspectTab:r,recordingKey:a}){let i=(0,et.d4)(e=>e.mirror.appModel.topLevelMode),s=(0,tR.dH)(),o=(0,tR.p8)("isReadOnly"),c=(0,tc.ks)(),d=o&&!c,p=(0,rA.s)(),u=(0,tg.cJ)(),m=(()=>{let n=t?p?[B.FAf.COMMENT]:[B.FAf.COMMENT,B.FAf.INSPECT]:[B.FAf.COMMENT,B.FAf.INSPECT,B.FAf.EXPORT];switch(i){case B.lyf.LAYOUT:if(d)return n;if(e===B.FAf.COMMENT)return[B.FAf.COMMENT];if(u)return[B.FAf.SITE];if(p)return[B.FAf.SLIDE,B.FAf.SLIDE_ANIMATION];return r?[B.FAf.DESIGN,B.FAf.PROTOTYPE,B.FAf.INSPECT]:[B.FAf.DESIGN,B.FAf.PROTOTYPE];case B.lyf.PREVIEW:case B.lyf.DEV_HANDOFF:return n;case B.lyf.BRANCHING:return[B.FAf.INSPECT];default:return[B.FAf.DESIGN,B.FAf.PROTOTYPE,B.FAf.INSPECT]}})(),h=m.find(t=>t===e),_=m.map((n,l)=>{let r=rL(n,t),a=r.tab===e||0===l&&void 0===h,o=r.className;return a&&(o=m.length>1?ts.yR:ts.iV),{...r,className:o,active:a,topLevelMode:i,currentTool:s}});return!m.length||(0,z.Zd)()&&!o||1===m.length&&!t?null:l.createElement(R.j9.Consumer,null,()=>{if(t)return l.createElement(rx,{recordingKey:a,tabInfo:_});let r=e===B.FAf.DESIGN&&n||e===B.FAf.COMMENT?ts.yW:ts.hv;return l.createElement("div",{className:r,"data-non-interactive":!0},_.map((e,t)=>l.createElement(rR,{key:t,...e})))})}function rx({tabInfo:e,recordingKey:t}){return l.createElement("div",{className:ts.A7},l.createElement("div",{className:ts.tq},e.map((e,t)=>l.createElement(rR,{key:t,...e}))),l.createElement("div",{className:ts.wR},l.createElement(rM.HT,{recordingKey:m.Pt(t,"zoomMenu")})))}var rF=n(438371),rV=n(122255),rD=n(544403),rK=n(346366),rB=n(139689),rH=n(146394),rU=n(155300),rG=n(100197);let rW={[B.eVK.TOP_LEFT]:"anchor_point_selector--apTopLeft--jsueH",[B.eVK.TOP_CENTER]:"anchor_point_selector--apTopMiddle--Wp-kD",[B.eVK.TOP_RIGHT]:"anchor_point_selector--apTopRight--mbC5X",[B.eVK.MIDDLE_LEFT]:"anchor_point_selector--apMiddleLeft--G-YlO",[B.eVK.MIDDLE_CENTER]:"anchor_point_selector--apMiddleMiddle--gut-r",[B.eVK.MIDDLE_RIGHT]:"anchor_point_selector--apMiddleRight--VZnhH",[B.eVK.BOTTOM_LEFT]:"anchor_point_selector--apBottomLeft--30X3n",[B.eVK.BOTTOM_CENTER]:"anchor_point_selector--apBottomMiddle--ySpzF",[B.eVK.BOTTOM_RIGHT]:"anchor_point_selector--apBottomRight--rXs-P"},rY={[B.eVK.TOP_LEFT]:"top_left",[B.eVK.TOP_CENTER]:"top_center",[B.eVK.TOP_RIGHT]:"top_right",[B.eVK.MIDDLE_LEFT]:"middle_left",[B.eVK.MIDDLE_CENTER]:"middle_center",[B.eVK.MIDDLE_RIGHT]:"middle_right",[B.eVK.BOTTOM_LEFT]:"bottom_left",[B.eVK.BOTTOM_CENTER]:"bottom_center",[B.eVK.BOTTOM_RIGHT]:"bottom_right"};function rQ(e){let{value:t,anchorPoint:n,onAnchorPointChange:r,disabled:a,dataTestId:s}=e,o=l.useCallback(()=>{r(t)},[r,t]),c=t===n;return l.createElement("button",{className:`anchor_point_selector--anchorPointButton--JCPGp ${rW[t]}`,onClick:o,disabled:a,"data-testid":s},l.createElement("div",{className:i()("anchor_point_selector--anchorPointButtonInner--LSo9Y",{"anchor_point_selector--apButtonActive--eNX6V":c,"anchor_point_selector--disabled--YCcFc":a}),"data-testid":c?`${s}.active`:void 0}))}let rX=e=>"INPUT"===e.tagName;function rZ(e){let{anchorPoint:t,onAnchorPointChange:n,disabled:r,restoreFocusElements:a}=e,[s,o]=l.useState(document.activeElement),c=e=>{n(e),s&&rX(s)&&(null==a?void 0:a.includes(s))&&s.focus()};return l.createElement("div",{className:i()("anchor_point_selector--anchorPointSelector--ZC9rv",{"anchor_point_selector--anchorPointSelectorDisabled--JScxh":r}),onMouseDown:()=>{o(document.activeElement)}},l.createElement(l.Fragment,null,l.createElement(rQ,{disabled:r,value:B.eVK.TOP_LEFT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${rY[B.eVK.TOP_LEFT]}`}),l.createElement(rQ,{disabled:r,value:B.eVK.TOP_CENTER,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${rY[B.eVK.TOP_CENTER]}`}),l.createElement(rQ,{disabled:r,value:B.eVK.TOP_RIGHT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${rY[B.eVK.TOP_RIGHT]}`})),l.createElement(l.Fragment,null,l.createElement(rQ,{disabled:r,value:B.eVK.MIDDLE_LEFT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${rY[B.eVK.MIDDLE_LEFT]}`}),l.createElement(rQ,{disabled:r,value:B.eVK.MIDDLE_CENTER,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${rY[B.eVK.MIDDLE_CENTER]}`}),l.createElement(rQ,{disabled:r,value:B.eVK.MIDDLE_RIGHT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${rY[B.eVK.MIDDLE_RIGHT]}`})),l.createElement(l.Fragment,null,l.createElement(rQ,{disabled:r,value:B.eVK.BOTTOM_LEFT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${rY[B.eVK.BOTTOM_LEFT]}`}),l.createElement(rQ,{disabled:r,value:B.eVK.BOTTOM_CENTER,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${rY[B.eVK.BOTTOM_CENTER]}`}),l.createElement(rQ,{disabled:r,value:B.eVK.BOTTOM_RIGHT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${rY[B.eVK.BOTTOM_RIGHT]}`})))}let rz=B.eVK.MIDDLE_CENTER;var rj=(e=>(e.TextInput="text-input",e.Selector="selector",e))(rj||{}),r$=(e=>(e.Select="select",e.Input="input",e.Scrub="scrub",e.Width="width",e.Height="height",e))(r$||{});function rJ(e,t){return(0,p.xN)(e,0)?((0,h.x1)("clampScaleValue","scale is 0",{originalValue:e,newValue:t}),1):(0,p.qE)(t/e,.01,100)}var rq=n(336417),r0=n(127285),r1=n(360882),r5=n(973149),r4=n(952675),r3=n(12519),r6=n(552901),r2=n(614851),r7=n(59466);let r8=[.25,.5,.75,1,2,3,4,5,10];class r9 extends r4.a3{}class ae extends lD.c${}let at=new class{constructor(){this.MAX_SCALE=100,this.MIN_SCALE=.01}parse(e){let t=(0,r1.q)(e),n=(0,r0.O4)(t,1);if(null!==n.value&&isFinite(n.value)){let t=(0,r1.v)(e);return{value:n.value,anchorPoint:null===t?void 0:t}}throw new r5.LS("Could not parse input",n.error)}format(e){if(null==e)return"";let t=parseFloat(e.value.toFixed(2));return`${t}x`}getNudgeAmount(e){return e?1:.5}incrementBy(e,t){return{value:e.value+t,anchorPoint:e.anchorPoint}}snap(e,t){return{value:(0,p.YE)(e.value,t),anchorPoint:e.anchorPoint}}clamp(e){return{value:(0,p.qE)(e.value,this.MIN_SCALE,this.MAX_SCALE),anchorPoint:e.anchorPoint}}isEqual(e,t){return e.value===t.value&&e.anchorPoint===t.anchorPoint}},an=l.forwardRef((e,t)=>{let{disabled:n,scale:r,onScaleChange:a,recordingKey:i,onInputKeyDown:s}=e,o=(0,et.wA)(),c=(0,et.d4)(e=>e.dropdownShown),d=m.c1(i),p=(0,tM.GS)(),u=r8.map((e,t)=>l.createElement(ae,{key:t,value:{value:e},recordingKey:d("scaleInput",e)})),h={smallNudgeAmount:1,bigNudgeAmount:10,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01,"data-tooltip":"","data-tooltip-type":ep.Ib.TEXT,dispatch:o,value:{value:r},onValueChange:(e,t)=>{a(e.value,r$.Scrub,t),t&&K.Y5.commit()},scrubbingDisabled:n,formatter:at};return l.createElement(r4.ow,{value:{select:p?r3.pW:void 0,inputComponent:p?r3.gm:void 0}},l.createElement(lD.tV,{value:{chevron:p?r6.c9:void 0}},l.createElement(r9,{scrubbableControlProps:h,id:"scale-input-fullscreen.scale_panel.scale",forwardedRef:t,className:"scale_row--scaleCombobox--jimxi",property:{value:r},onKeyDown:s,onChange:(e,t,n)=>{a(e.value,n===r4.G7.Input?r$.Input:r$.Select,t??lM.zk.NO,e.anchorPoint),t&&K.Y5.commit()},formatter:at,dispatch:o,dropdownShown:c,onMouseDown:e=>{e.stopPropagation()},recordingKey:d("scaleInput"),disabled:n,svg:r7.A,svgClassName:r2.QK,ui3Icon:l.createElement(rq.l,null),dropdownWidth:104,dataTestId:"scale_panel.scale"},u)))}),al=l.forwardRef(e=>l.createElement(ey.fI,null,l.createElement(an,{...e}))),ar="scale_width_height_row--condensedWidthHeightRow--VOTEM",aa="scale_width_height_row--condensedScrubbableInput--XxHxl",ai={smallNudgeAmount:.01,bigNudgeAmount:.1,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01};function as(e){let{disabled:t,scale:n,property:r,selectionRegionsBounds:a,selectionRegionsOriginalBounds:i,onScaleChange:s,recordingKey:o,forwardedRef:c,onKeyDown:d}=e,u="width"===r?r$.Width:r$.Height,h=(0,et.wA)(),_=m.c1(o),E=function(){if(a&&a.length){let e=a[0][r];return a.every(t=>(0,p.xN)(t[r],e,.005))?e:W.oV}return W.oV}(),g=(0,ly.Xs)(),y=(0,W.gl)(E)?ai:{},b=(0,tM.GS)();return l.createElement(nR.$j,{noBorderOnHover:!0,dispatch:h,forwardedRef:c,className:aa,inputClassName:r2.hF,disabled:t,floatingPointFormat:b?void 0:{maxNumDigits:4},onKeyDown:d,dataTestId:`scale_panel.${r}`,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":"width"===r?(0,I.t)("fullscreen.properties_panel.transform_panel.width"):(0,I.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:_(`${r}Input.input`),min:(0,W.gl)(E)?.01:1,value:E??0,mixedMathHandler:{getValue:()=>n,onChange:(e,t,n)=>{let l=t(e);Number.isNaN(l)||s((0,p.qE)(l,.01,100),u,n)}},onValueChange:(e,t)=>{!Number.isNaN(e)&&E&&E!==W.oV&&i&&i.length&&s(rJ(i[0][r],e),u,t)},...g,...y},l.createElement("span",{className:`${r2.QK} svg`},"width"===r?l.createElement(I.Tx,{id:"fullscreen.properties_panel.transform_panel.w"}):l.createElement(I.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})))}function ao(e){let{widthRef:t,heightRef:n,onWidthInputKeyDown:r,onHeightInputKeyDown:a,...i}=e;return l.createElement(as,{...i,property:"width",forwardedRef:t,onKeyDown:r})}function ac(e){let{widthRef:t,heightRef:n,onWidthInputKeyDown:r,onHeightInputKeyDown:a,...i}=e;return l.createElement(as,{...i,property:"height",forwardedRef:n,onKeyDown:a})}function ad(e){return l.createElement(ey.fI,{className:ar},l.createElement(ao,{...e}),l.createElement(ac,{...e}))}function ap(e){let t=l.createElement(ao,{...e}),n=l.createElement(ac,{...e});return l.createElement(eS.fn,{leftLabel:(0,I.t)("fullscreen.properties_panel.transform_panel.width"),leftInput:t,rightLabel:(0,I.t)("fullscreen.properties_panel.transform_panel.height"),rightInput:n,icon:null})}var au=n(889012),am=n.n(au),ah=n(939683);let a_="scale_panel--scalePanelRow--Cbovd";var aE=n(630834);let ag=()=>{K.Y5.triggerAction("set-tool-default")};function ay(e){let t=(0,et.d4)(e=>e.mirror.sceneGraphSelection),n=(0,lc.kl)("selectionRegions"),r=(0,W.E7)(n),a=(0,tk.ZC)(r),i=l.useRef(0),[s,c]=(0,l.useState)(void 0),d=(0,tk.ZC)(s),u=l.useRef(null),h=(0,lc.kl)("selectionResizable"),_=(0,W._W)(h,!1),E=(0,tR.p8)("activeUserAction"),g=(0,tk.ZC)(E),y=(0,rG.J2)(B.Ez5.propertiesPanelState().shownPropertiesPanels),b=(0,tk.ZC)(y),[f,S]=(0,l.useState)(!1),v=l.useRef(null),P=l.useRef(null),w=l.useRef(null),T=(0,tR.p8)("currentTool"),k=(0,tk.ZC)(T),C=T!==B.NLJ.SCALE,N=!_||C,A=(0,tM.GS)(),[M,R]=(0,l.useState)(rz),L=(0,rG.J2)(B.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint),O=m.qP(e.recordingKey??"","anchorPointChange",R),[x,F]=(0,l.useState)(void 0),V=(0,l.useCallback)(e=>{void 0===x?F(e):x!==e&&F(null)},[x]),{trackScaleChangeEvent:D,trackScaleToolDismissed:H,trackAnchorPointChange:U}=function(){let e=(0,ah.am)(),t=(0,l.useCallback)(t=>{e("scale_tool_panel_set_value",{key:"height",...t})},[e]),n=(0,l.useMemo)(()=>am()(t,3e3),[t]),r=(0,l.useCallback)((e,l)=>l?n(e):t(e),[n,t]),a=(0,l.useCallback)(t=>e("scale_tool_panel_set_value",{key:"width",...t}),[e]),i=(0,l.useMemo)(()=>am()(a,3e3),[a]),s=(0,l.useCallback)((e,t)=>t?i(e):a(e),[i,a]),o=(0,l.useCallback)(t=>e("scale_tool_panel_set_value",{key:"scale",...t}),[e]),c=(0,l.useMemo)(()=>am()(o,3e3),[o]),d=(0,l.useCallback)((e,t)=>t?c(e):o(e),[c,o]),p=(0,l.useCallback)(t=>e("scale_tool_panel_dismissed",{...t}),[e]);return{trackScaleChangeEvent:d,trackWidthChangeEvent:s,trackHeightChangeEvent:r,trackAnchorPointChange:(0,l.useCallback)(t=>e("scale_tool_set_anchor_point",{...t}),[e]),trackScaleToolDismissed:p}}();(0,l.useEffect)(()=>{E===B.QOV.RESIZING&&M!==L&&(V(L),O(L))},[E,M,O,V,L]);let[G,Y]=(0,l.useState)(1),[Q,X]=(0,l.useState)(!1),[Z,z]=(0,l.useState)(!1),[j,$]=(0,l.useState)(!0),J=(0,l.useCallback)((e,t)=>{s&&s.length&&(B.glU.setScale(e,t,s.map(e=>({origin:{x:e.x,y:e.y},size:{x:e.width,y:e.height}})),null!==x),z(!0),V(t))},[s,x,V]);(0,l.useEffect)(()=>{X(!0)},[t]),(0,l.useEffect)(()=>{!(null==b?void 0:b[B.ibQ.SCALE_ITEM])&&(null==y?void 0:y[B.ibQ.SCALE_ITEM])&&X(!0)},[y,b]);let q=(0,l.useCallback)(()=>Z?(z(!1),!0):E===B.QOV.RESIZING||E===B.QOV.DEFAULT&&g===B.QOV.RESIZING,[E,Z,g]);(0,l.useLayoutEffect)(()=>{if(a&&a.length&&r&&r.length&&a.length===r.length)for(let e=0;e<r.length;e++){let{x:t,y:n,width:l,height:i}=r[e].bounds,{x:s,y:o,width:c,height:d}=a[e].bounds;if(c!==l||d!==i){if(!q()&&!Q){X((0,p.xN)(c,l)!==(0,p.xN)(d,i));break}}else if(s!==t||o!==n){V(null);break}}},[a,r,q,V,Q]),(0,l.useLayoutEffect)(()=>{let e=!1;if((0,o.kc)().ce_scale_tool_skew&&r){let t=u.current??r.map(e=>(e.bounds.width||1)/(e.bounds.height||1)),n=B.glU.getSelectionAngleSum();if(r.length===t.length){u.current=[];for(let l=0;l<r.length;++l){let a=(r[l].bounds.width||1)/(r[l].bounds.height||1);(e||(0,rU.o)(a,t[l],1e-4))&&(0,rU.o)(n,i.current,1e-4)||(e=!0),u.current.push(a),i.current=n}}}(e||Q)&&(Y(1),O(rz),B.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint.set(rz),F(void 0),c(B.glU.getSelectionRegionsBounds().map(({origin:e,size:t})=>({x:e.x,y:e.y,width:t.x,height:t.y}))),S(!1),X(!1))},[Q,r,O,L]),(0,l.useLayoutEffect)(()=>{r&&r.length&&s&&s.length&&(r!==a||(0,o.kc)().ce_scale_tool_skew&&s!==d)&&(j?Y(rJ(s[0].width,r[0].bounds.width)):$(!0))},[d,r,s,a,j]),(0,l.useEffect)(()=>{let e=T===B.NLJ.SCALE&&k!==B.NLJ.SCALE;e&&Object.keys(t).length>0&&e&&[B.QOV.DEFAULT,B.QOV.SELECTING_TEXT].includes(E)&&v.current&&(v.current.focus(),v.current.select())},[E,T,k,t]),(0,l.useEffect)(()=>{let e=()=>{v.current&&(S(!1),v.current.focus(),v.current.select())};return rH.h.subscribeScaleToolActivated(e),()=>{rH.h.unsubscribeScaleToolActivated(e)}},[]),(0,l.useEffect)(()=>{let e=e=>{e.target!==v.current&&e.target!==P.current&&e.target!==w.current&&S(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let en=(0,l.useCallback)(e=>{let t="Escape"===e.key,n="Enter"===e.key;!f&&(n||t)&&ag()},[f]),el=l.createElement(ey.$4,null,l.createElement(ev.K,{onClick:()=>{ag(),H({selectionCount:Object.keys(t).length})},"aria-label":(0,I.t)("fullscreen.scale_panel.close")},l.createElement(es.U,{svg:aE.default,fallbackSvg:aE.default},l.createElement(rB.A,null)))),er=l.createElement(an,{scale:G,onInputKeyDown:en,onScaleChange:eI.nc.user("change-scale",(e,t,n,l)=>{Y(e),$(!1),void 0!==l&&(0,o.kc)().ee_scale_tool_ap_input?(D({value:e,source:t,anchorPoint:l,anchorPointSource:rj.TextInput}),J(e,l),O(l)):(t===r$.Select?D({value:e,source:t,anchorPoint:M,anchorPointSource:rj.Selector}):D({value:e,source:t,anchorPoint:M,anchorPointSource:rj.Selector},!0),(0,ee.flushSync)(()=>{J(e,M),n&&r&&r.length>1&&B.glU.logMultiEditActionForSelection("scale_panel_finish",null)}))}),disabled:N,recordingKey:e.recordingKey,ref:v}),ea=l.createElement(rZ,{restoreFocusElements:[v.current,P.current,w.current].filter(Boolean),anchorPoint:M,onAnchorPointChange:eI.nc.user("change-anchor-point",e=>{e!==M&&(1!==G&&(J(1,M),J(G,e)),O(e)),U({anchorPoint:e})}),disabled:N}),ei=l.createElement(A?ap:ad,{scale:G,selectionRegionsBounds:r.map(e=>e.bounds),selectionRegionsOriginalBounds:s,onScaleChange:eI.nc.user("change-scale",(e,t,n)=>{D({value:e,source:t,anchorPoint:M,anchorPointSource:rj.Selector},!0),Y(e),$(!1),J(e,M),n&&(r&&r.length>1&&B.glU.logMultiEditActionForSelection("scale_panel_finish",null),K.Y5.commit())}),widthRef:P,heightRef:w,onHeightInputKeyDown:en,onWidthInputKeyDown:en,disabled:N,recordingKey:e.recordingKey});return A?l.createElement(ey.Zk,{"data-testid":`scale_panel.state.${C?"hidden":N?"disabled":"enabled"}`,className:"scale_panel--scalePanel--EfJhl"},l.createElement(ef.r,{titleTx:l.createElement(I.Tx,{id:"fullscreen.scale_panel.scale"}),icon:el}),ei,l.createElement(eS.sY,{leftLabel:(0,I.t)("fullscreen.scale_panel.scale"),rightLabel:(0,I.t)("fullscreen.scale_panel.anchor_point"),topLeftInput:er,bottomLeftInput:null,rightInput:ea,topIcon:null,bottomIcon:null})):l.createElement(ey.Zk,{"data-testid":`scale_panel.state.${C?"hidden":N?"disabled":"enabled"}`},l.createElement(ey.fI,{className:a_},l.createElement(ey.xw,null,l.createElement(I.Tx,{id:"fullscreen.scale_panel.scale"})),el,ea),l.createElement(ey.fI,null,er),ei)}let ab={smallNudgeAmount:.01,bigNudgeAmount:.1,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01};function af({disabled:e,widthOrHeight:t,scale:n,property:r,onScaleChange:a,onWidthOrHeightChange:i,recordingKey:s,forwardedRef:o,onKeyDown:c}){let d="width"===r?r$.Width:r$.Height,p=(0,et.wA)(),u=(0,ly.Xs)(),h=(0,W.gl)(t)?ab:{},_=m.c1(s);return l.createElement(nR.$j,{noBorderOnHover:!0,dispatch:p,forwardedRef:o,className:aa,inputClassName:r2.hF,disabled:e,floatingPointFormat:{maxNumDigits:4},onKeyDown:c,dataTestId:`scale_panel.${r}`,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":"width"===r?(0,I.t)("fullscreen.properties_panel.transform_panel.width"):(0,I.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:_(`${r}Input.input`),min:(0,W.gl)(t)?.01:1,value:t||0,mixedMathHandler:{getValue:()=>n,onChange:(e,t,n)=>{let l=t(e);Number.isNaN(l)||a(l,d,n)}},onValueChange:(e,n)=>{!Number.isNaN(e)&&t&&t!==W.oV&&i(e,n)},...u,...h},l.createElement("span",{className:`${r2.QK} svg`},"width"===r?l.createElement(I.Tx,{id:"fullscreen.properties_panel.transform_panel.w"}):l.createElement(I.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})))}function aS({width:e,height:t,onWidthChange:n,onHeightChange:r,onWidthInputKeyDown:a,onHeightInputKeyDown:i,widthInputRef:s,heightInputRef:o,...c}){return l.createElement(ey.fI,{className:ar},l.createElement(af,{...c,property:"width",widthOrHeight:e,onWidthOrHeightChange:n,onKeyDown:a,forwardedRef:s}),l.createElement(af,{...c,widthOrHeight:t,onWidthOrHeightChange:r,onKeyDown:i,property:"height",forwardedRef:o}))}let av=n(630834);function aP(){K.Y5.triggerAction("set-tool-default")}function aw({recordingKey:e}){let t=(0,rG.J2)(B.yFm.state().scale),n=eI.nc.user("change-scale",e=>{B.yFm.setScale(e)}),r=(0,rG.J2)(B.yFm.state().width);r="number"==typeof r?r:W.oV;let a=eI.nc.user("change-scale-width",e=>{B.yFm.setWidth(e)}),i=(0,rG.J2)(B.yFm.state().height);i="number"==typeof i?i:W.oV;let s=eI.nc.user("change-scale-height",e=>{B.yFm.setHeight(e)}),o=(0,rG.J2)(B.yFm.state().anchorPoint),c=eI.nc.user("change-anchor-point",e=>{B.yFm.setAnchorPoint(e)}),{handleKeyDown:d,heightInputRef:p,scaleInputRef:u,widthInputRef:m}=function(){let e=(0,et.d4)(e=>e.mirror.sceneGraphSelection),[t,n]=l.useState(!1),r=l.useRef(null),a=l.useRef(null),i=l.useRef(null),s=(0,tR.p8)("currentTool"),o=(0,tk.ZC)(s),c=(0,tR.p8)("activeUserAction"),[d,p]=l.useState(!1);l.useEffect(()=>{let t=s===B.NLJ.SCALE&&o!==B.NLJ.SCALE;Object.keys(e).length>0&&t&&[B.QOV.DEFAULT,B.QOV.SELECTING_TEXT].includes(c)&&r.current&&(r.current.focus(),r.current.select())},[c,s,o,e]),l.useEffect(()=>{let e=()=>{r.current&&(n(!1),p(!1),r.current.focus(),r.current.select())};return rH.h.subscribeScaleToolActivated(e),()=>{rH.h.unsubscribeScaleToolActivated(e)}},[]),l.useEffect(()=>{let e=e=>{e.target!==r.current&&e.target!==a.current&&e.target!==i.current&&n(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let u=l.useCallback(e=>{let n="Escape"===e.key,l="Enter"===e.key;!t&&(l||n)&&p(!0)},[t]);return l.useEffect(()=>{d&&aP()}),{handleKeyDown:u,scaleInputRef:r,widthInputRef:a,heightInputRef:i}}();return l.createElement(ey.Zk,null,l.createElement(ey.fI,{className:a_},l.createElement(ey.xw,null,l.createElement(I.Tx,{id:"fullscreen.scale_panel.scale"})),l.createElement("span",null,l.createElement(ev.K,{onClick:aP,"aria-label":(0,I.t)("fullscreen.scale_panel.close")},l.createElement(es.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:av,fallbackSvg:av}))),l.createElement(rZ,{restoreFocusElements:[u.current,m.current,p.current].filter(Boolean),anchorPoint:o,onAnchorPointChange:c,disabled:!1})),l.createElement(al,{scale:t,onScaleChange:n,disabled:!1,onInputKeyDown:d,recordingKey:e,ref:u}),l.createElement(aS,{scale:t,width:r,height:i,onWidthChange:a,onHeightChange:s,onScaleChange:n,onKeyDown:d,widthInputRef:m,heightInputRef:p,disabled:!1,recordingKey:e}))}var aT=n(227944),ak=n(553738),aI=n(410465),aC=n(933466),aN=n(700829),aA=n(467213),aM=n(416082),aR=n(283942),aL=n(221537);let aO="alignment_view_v4--indicator--VmKfE",ax="alignment_view_v4--indicatorBaseline--4kxfb",aF="alignment_view_v4--counterCenter--MlF9q";function aV({onClick:e,onDoubleClick:t,onHover:n,...r}){let a=(0,aL.rO)(r.stackPrimaryAlignItems),s="BASELINE"===r.stackCounterAlignItems,o="HORIZONTAL"===r.stackMode?"HORIZONTAL":"VERTICAL",c="WRAP"===r.stackWrap,d="HORIZONTAL"===o?"alignment_view_v4--horizontal--UiniT":"alignment_view_v4--vertical--JVrRJ",p=a?"alignment_view_v4--spaceBetween--RZOdp":"alignment_view_v4--packed--MZMpk",u=(0,W.hS)(r.stackPrimaryAlignItems)&&(0,W.hS)(r.stackCounterAlignItems),m=r.primaryHover&&r.counterHover,h=(0,l.useCallback)(e=>{let[n,l]=aY(e.target);if(a){let t=e.target.getBoundingClientRect();"HORIZONTAL"===o?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,a,o]),_=(0,l.useCallback)(e=>n(...aY(e.target)),[n]),E=(0,l.useCallback)(e=>n(null,null),[n]);return l.createElement("div",{className:i()(r.className,"alignment_view_v4--mainContainer--zUBsm",d,p,{"alignment_view_v4--baselineAlign--xLTR2":s}),tabIndex:0,onKeyDown:r.onKeyDown},l.createElement(aW,{baseline:s}),l.createElement(aU,{stackMode:o,spaceBetween:a,baselineAlign:s,onMouseMove:_,onMouseOut:E,onClick:e,onDoubleClick:h}),m&&l.createElement(aD,{hover:!0,primaryAlign:r.primaryHover,counterAlign:r.counterHover,isStackWrap:c}),u&&l.createElement(aD,{primaryAlign:r.stackPrimaryAlignItems,counterAlign:r.stackCounterAlignItems,isStackWrap:c}),s&&l.createElement(aH,{onClick:r.onRemoveBaseline}))}function aD({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:r}){return l.createElement("div",{className:i()("alignment_view_v4--indicatorContainer--ewQnB alignment_view_v4--_centered--S6qQk",t?aB[t]:void 0,n?aK[n]:void 0,{"alignment_view_v4--hover---ncmo":e})},l.createElement("div",{className:i()("alignment_view_v4--indicatorGroup--vlMlW",{"alignment_view_v4--wrap--nsYBR":r})},"BASELINE"===n?(0,aL.rO)(t)?l.createElement(l.Fragment,null,l.createElement("div",{className:aO}),l.createElement("span",{className:ax},"A"),l.createElement("div",{className:aO})):l.createElement("span",{className:ax},"A"):r?l.createElement(l.Fragment,null,l.createElement("div",{className:aO}),l.createElement("div",{className:aO}),l.createElement("div",{className:aO}),l.createElement("div",{className:aO}),l.createElement("div",{className:aO})):l.createElement(l.Fragment,null,l.createElement("div",{className:aO}),l.createElement("div",{className:aO}),l.createElement("div",{className:aO}))))}let aK={MIN:"alignment_view_v4--counterMin--1LPg6",CENTER:aF,MAX:"alignment_view_v4--counterMax--HzBqX",BASELINE:aF},aB={MIN:"alignment_view_v4--primaryMin--DHsQj",CENTER:"alignment_view_v4--primaryCenter--ci9Aj",MAX:"alignment_view_v4--primaryMax--i8kqd",SPACE_EVENLY:"",SPACE_BETWEEN:""};function aH({onClick:e}){let t=aX(),n=aZ(),r=2*t/3+2,a=t-9,i=t-5.5;return l.createElement("svg",{className:"alignment_view_v4--baselineControls--cwzcf alignment_view_v4--_centered--S6qQk",width:t,height:t,viewBox:n,fill:"none"},l.createElement("g",{className:"alignment_view_v4--baselineHovered--uY49E","data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},l.createElement("rect",{x:"4.5",y:`${r}`,width:`${a}`,height:"14",rx:"2",fill:"var(--color-bg-selected-tertiary, #EDF5FA)"}),l.createElement("line",{x1:"5.5",y1:`${r}`,x2:`${i}`,y2:`${r}`,stroke:"var(--color-bg-brand-hover, #0D99FF)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1 5"}),l.createElement("line",{x1:"5.5",y1:`${r}`,x2:`${i}`,y2:`${r}`,stroke:"var(--color-bg-tertiary, rgba(0, 0, 0, 0.3))",strokeWidth:"2",strokeLinecap:"round"})))}function aU({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:r,onMouseOut:a,onClick:i,onDoubleClick:s}){let o=aQ({stackMode:t,baselineAlign:n,spaceBetween:e});return l.createElement("div",{className:"alignment_view_v4--tooltipGrid--1PH8Z alignment_view_v4--_centered--S6qQk",onMouseMove:r,onMouseOut:a,onClick:i,onDoubleClick:s},o.map((n,r)=>{let a=r%3,i=Math.floor(r/3);return"HORIZONTAL"===t&&e&&(i=a,a=0),l.createElement(aG,{key:r,x:a,y:i,..."string"==typeof n?{tooltip:n}:n})}))}function aG({x:e,y:t,tooltip:n,below:r}){return l.createElement("div",{"data-x":e,"data-y":t,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":n,"data-tooltip-show-above":!r||void 0})}function aW({baseline:e}){let t=aZ(),n=aX(),r=n/3,a=`${r}`,i=`${r/2}`,s=e?r:0,o=e?r:n,c=(0,l.useId)();return l.createElement("svg",{width:n,height:n,viewBox:t,fill:"currentColor"},l.createElement("defs",null,l.createElement("pattern",{id:c,width:a,height:a,patternUnits:"userSpaceOnUse"},l.createElement("circle",{cx:i,cy:i,r:"1"}))),l.createElement("rect",{width:"79",height:o,y:s,fill:`url(#${c})`}))}function aY(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}function aQ({baselineAlign:e,spaceBetween:t,stackMode:n,isUi3:l}){return e&&t?l?[{tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,I.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:l},{tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:l},{tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:l}]:t?"HORIZONTAL"===n?l?[(0,I.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,I.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:l?[(0,I.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,I.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,I.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,I.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}let aX=()=>(0,s.jz)("60px"),aZ=()=>{let e=aX();return`0 0 ${e} ${e}`},az="alignment_view_v4_ui3--indicatorBaseline--NUe6M",aj="alignment_view_v4_ui3--counterCenter--QC-B7";function a$({onClick:e,onDoubleClick:t,onHover:n,...r}){let a=(0,aL.rO)(r.stackPrimaryAlignItems),s="BASELINE"===r.stackCounterAlignItems,o="HORIZONTAL"===r.stackMode?"HORIZONTAL":"VERTICAL",c="WRAP"===r.stackWrap,d="HORIZONTAL"===o?"alignment_view_v4_ui3--horizontal--2Shqc":"alignment_view_v4_ui3--vertical--zGQMJ",p=a?"alignment_view_v4_ui3--spaceBetween--o3EAq":"alignment_view_v4_ui3--packed--EvdQi",u=(0,W.hS)(r.stackPrimaryAlignItems)&&(0,W.hS)(r.stackCounterAlignItems),m=r.primaryHover&&r.counterHover,h=(0,l.useCallback)(e=>{let[n,l]=a7(e.target);if(a){let t=e.target.getBoundingClientRect();"HORIZONTAL"===o?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,a,o]),_=(0,l.useCallback)(e=>n(...a7(e.target)),[n]),E=(0,l.useCallback)(e=>n(null,null),[n]);return l.createElement("div",{className:i()(r.className,"alignment_view_v4_ui3--mainContainer---0NcS",d,p,{"alignment_view_v4_ui3--baselineAlign--OxyzT":s}),tabIndex:0,onKeyDown:r.onKeyDown},l.createElement(a2,null),l.createElement(a4,{stackMode:o,spaceBetween:a,baselineAlign:s,onMouseMove:_,onMouseOut:E,onClick:e,onDoubleClick:h}),m&&l.createElement(aJ,{hover:!0,primaryAlign:r.primaryHover,counterAlign:r.counterHover,isStackWrap:c}),u&&l.createElement(aJ,{primaryAlign:r.stackPrimaryAlignItems,counterAlign:r.stackCounterAlignItems,isStackWrap:c}),s&&l.createElement("div",{className:"alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},l.createElement(a5,{onClick:r.onRemoveBaseline})))}function aJ({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:r}){function a(){let e=(0,aL.rO)(t);if("BASELINE"===n)return e?l.createElement(l.Fragment,null,l.createElement("span",{className:az},"A"),l.createElement("span",{className:az},"A"),l.createElement("span",{className:az},"A")):l.createElement("span",{className:az},"A");let a=r&&!e?5:3;return l.createElement(aq,{n:a})}return l.createElement("div",{className:i()("alignment_view_v4_ui3--indicatorContainer--napq- alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",t?a1[t]:void 0,n?a0[n]:void 0,{"alignment_view_v4_ui3--hover--ypG6x":e})},"BASELINE"===n?a():l.createElement("div",{className:"alignment_view_v4_ui3--indicatorGridCell--lp1lH"},l.createElement("div",{className:i()("alignment_view_v4_ui3--indicatorGroup--urXG2",{"alignment_view_v4_ui3--wrap--JWwtI":r})},a())))}function aq({n:e}){return l.createElement(l.Fragment,null,Array.from({length:e},(e,t)=>l.createElement("div",{key:t,className:"alignment_view_v4_ui3--indicator--82j5F"})))}let a0={MIN:"alignment_view_v4_ui3--counterMin--aOx1R",CENTER:aj,MAX:"alignment_view_v4_ui3--counterMax--cCtqr",BASELINE:aj},a1={MIN:"alignment_view_v4_ui3--primaryMin--Q8O6a",CENTER:"alignment_view_v4_ui3--primaryCenter--RzFRC",MAX:"alignment_view_v4_ui3--primaryMax--eMvqL",SPACE_EVENLY:"",SPACE_BETWEEN:""};function a5({onClick:e}){return l.createElement("button",{className:"alignment_view_v4_ui3--baselineControls--xazGW alignment_view_v4_ui3--_centered--MV2if","data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},l.createElement("div",{className:"alignment_view_v4_ui3--baselineControlLine--6BBmA"}))}function a4({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:r,onMouseOut:a,onClick:i,onDoubleClick:s}){let o=aQ({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:(0,eN.R)()});return l.createElement("div",{className:"alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",onMouseMove:r,onMouseOut:a,onClick:void 0,onMouseUp:i,onDoubleClick:s},"HORIZONTAL"===t&&n&&e?l.createElement(a3,{tooltips:o}):o.map((n,r)=>{let a=r%3,i=Math.floor(r/3);return"HORIZONTAL"===t&&e&&(i=a,a=0),l.createElement(a6,{key:r,x:a,y:i,..."string"==typeof n?{tooltip:n}:n})}))}function a3({tooltips:e}){let t=(0,l.useId)(),n=e[0];return null==n?null:l.createElement(l.Fragment,null,l.createElement("div",{"data-tooltip-proxy-element-id":t}),l.createElement(a6,{id:t,x:1,y:1,..."string"==typeof n?{tooltip:n}:n}),l.createElement("div",{"data-tooltip-proxy-element-id":t}))}function a6({id:e,x:t,y:n,tooltip:r,below:a}){return l.createElement("div",{id:e,"data-x":t,"data-y":n,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-above":!a||void 0})}function a2(){return l.createElement("div",{className:"alignment_view_v4_ui3--dotGrid--N6RPe alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},Array.from({length:9},(e,t)=>l.createElement("div",{className:"alignment_view_v4_ui3--dotGridCell--r7m5y",key:t},l.createElement("div",{key:t,className:"alignment_view_v4_ui3--dot--d5NQx"}))))}function a7(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}var a8=n(232531),a9=n(876618);let ie=["MIN","CENTER","MAX"];function it({className:e,recordingKey:t}){let n=(0,lc.kl)("stackMode"),r=(0,lc.kl)("stackWrap"),[a,i]=(0,lc.lJ)("stackPrimaryAlignItems"),[s,o]=(0,lc.lJ)("stackCounterAlignItems"),[c,u]=(0,l.useState)(void 0),[h,_]=(0,l.useState)(void 0),E=(0,a9.sR)(),g=(0,a9.uV)(),y=(0,ah.am)(),b=(0,eN.R)(),f=(0,et.d4)(lp.qd),S=(0,aL.rO)(a),v="BASELINE"===s,P=(0,l.useCallback)((e,t)=>{if(null==e||null==t){u(void 0),_(void 0);return}let l=il(e,t,n,S),r=ir(e,t,n,v);u(l),_(r)},[n,v,S,u,_]),w=m.rf(t,"click",(0,l.useCallback)(e=>{let t=c,n=h;e&&e.__interactionTest&&(t=e.primaryAlignItems,n=e.counterAlignItems),t&&n&&(S||i(t,lM.zk.NO),o(n),y("Autolayout alignment grid used",{nodeIds:f}))},[c,h,S,o,y,i,f]),{recordMetadata:()=>({primaryAlignItems:c,counterAlignItems:h}),playbackMetadata:e=>({...e,__interactionTest:!0})}),{clearVariableConsumption:T}=(0,a8.O)("STACK_SPACING",B.rXF.FLOAT),k=(0,l.useCallback)((e,t)=>{g(void 0===t||t,e,lM.zk.NO),T()},[g,T]),I=(0,l.useCallback)((e,t)=>{if(S){g(!1,"alignment double click",lM.zk.NO);let l=il(e,t,n,!1),r=ir(e,t,n,v);u(l),_(r),i(l,lM.zk.NO),o(r),y("Autolayout spacing mode changed",{mode:l,doubleClick:!0})}else k("alignment double click"),o(ir(e,t,n,v))},[k,v,S,o,i,g,n,y]),C=(0,l.useCallback)(()=>{o("CENTER"),y("Disable baseline alignment",{source:"alignment grid"})},[o,y]),N=m.v_(t,"keydown",(0,l.useCallback)(e=>{function t(e){"HORIZONTAL"===n?i(e):o(e)}function l(e){"VERTICAL"===n?i(e):o(e)}function r(e,t){if((0,W.gl)(e))return"CENTER";let n=ie.indexOf(e);if(-1===n)return null;let l=(0,p.qE)(n+t,0,ie.length-1);return ie[l]}let c="HORIZONTAL"===n?a:s,u="VERTICAL"===n?a:s;switch(e.keyCode){case d.Uz.ESCAPE:case d.Uz.ENTER:e.currentTarget.blur();break;case d.Uz.UP_ARROW:{let e=r(u,-1);e&&l(e);break}case d.Uz.DOWN_ARROW:{let e=r(u,1);e&&l(e);break}case d.Uz.LEFT_ARROW:{let e=r(c,-1);e&&t(e);break}case d.Uz.RIGHT_ARROW:{let e=r(c,1);e&&t(e);break}case d.Uz.B:"HORIZONTAL"===n&&E("BASELINE"!==s,"alignment keyboard");break;case d.Uz.X:k("alignment keyboard",!(0,aL.rO)(a));break;case d.Uz.W:l("MIN");break;case d.Uz.A:t("MIN");break;case d.Uz.S:l("MAX");break;case d.Uz.D:t("MAX");break;case d.Uz.V:l("CENTER");break;case d.Uz.H:t("CENTER");break;default:(0,aR.jr)(e,aR.W0.YES,aR.VA.YES);return}e.preventDefault()},[k,s,a,E,o,i,n])),A=b?l.createElement(a$,{className:e,stackMode:n,stackWrap:r,stackPrimaryAlignItems:a,stackCounterAlignItems:s,onHover:P,onClick:w,onDoubleClick:I,onKeyDown:N,onRemoveBaseline:C,counterHover:h,primaryHover:c}):l.createElement(aV,{className:e,stackMode:n,stackWrap:r,stackPrimaryAlignItems:a,stackCounterAlignItems:s,onHover:P,onClick:w,onDoubleClick:I,onKeyDown:N,onRemoveBaseline:C,counterHover:h,primaryHover:c});return l.createElement(nw.E,{name:"alignment_view"},A)}function il(e,t,n,l){return l?(0,o.kc)().ce_stack_justify_space_between?"SPACE_BETWEEN":"SPACE_EVENLY":ie["VERTICAL"===n?t:e]}function ir(e,t,n,l){return l?"BASELINE":ie["VERTICAL"===n?e:t]}var ia=n(630978),ii=n(860601),is=n(178466),io=n(667536),ic=n(931828),id=n(309798),ip=n(801161);function iu({onClick:e,onOpen:t,modalKey:n,...r}){let a=(0,et.wA)(),i=(0,ld.X)(),s=(0,l.useRef)(null),o=(0,eN.R)(),c=(null==i?void 0:i.id)===n,d=(0,tk.ZC)(c),p=c?new b.Mi(i.initialX,i.initialY):null,u=(0,l.useRef)(r.onClose);u.current=r.onClose,(0,l.useEffect)(()=>{var e;d&&!c&&(null==(e=u.current)||e.call(u))},[c,d]),(0,l.useEffect)(()=>()=>{var e;return null==(e=u.current)?void 0:e.call(u)},[]);let h=(0,l.useCallback)(()=>{c&&(a(C.XE()),K.Y5.deselectProperty())},[a,c]),_=(0,l.useCallback)(()=>{if(c)return;e||null==t||t();let{top:l}=ee.findDOMNode(s.current).getBoundingClientRect();a(C.u1({id:n,initialX:eu.qo,initialY:l}))},[a,c,n,e,t]);(0,l.useEffect)(()=>{null!=r.open&&(r.open?_():h())},[h,_,r.open]);let E=l.createElement(eC.YW,{ref:s,svg:r.svg,fallbackSvg:r.fallbackSvg,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":r.tooltip,onMouseMove:()=>{c&&a(ip.jD())},onMouseDown:e??(e=>{e.stopPropagation(),c?h():_()}),recordingKey:m.Pt(r,"trigger"),selected:c,className:r.buttonClassName},o?r.ui3Icon:void 0),y=r.buttonInteractableName?l.createElement(nw.E,{name:r.buttonInteractableName},E):E,f=c?l.createElement(eZ.vx,{title:r.title,initialPosition:p,initialConstraints:{x:"right",y:"top"},headerSize:"small",onClose:h,recordingKey:m.Pt(r,"modal")},r.children):null,S=f&&r.modalTrackableName?l.createElement(g.p,{name:"stack_layout_details_modal"},f):f;return l.createElement(l.Fragment,null,y,S)}var im=n(63666),ih=n(70964),i_=n(579623),iE=n(280106);let ig="stack_layout_details_preview--stroke--tWkNh",iy="stack_layout_details_preview--strokeLight--RsPk7",ib="stack_layout_details_preview--fill--V74cf",iS="stack_layout_details_preview--fillWhite--uTjlG",iv="stack_layout_details_preview--fillTertiary--xuwqQ",iP={reverseStackingOrder:function({enabled:e}){let t=[l.createElement("g",{key:"1",filter:"url(#reverse-stacking-order-filter)"},l.createElement("rect",{className:iS,x:"67",y:"40",width:"40",height:"40",rx:"20"}),l.createElement("path",{className:ib,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),l.createElement("rect",{className:ig,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),l.createElement("g",{key:"2",filter:"url(#reverse-stacking-order-filter)"},l.createElement("rect",{className:iS,x:"99",y:"40",width:"40",height:"40",rx:"20"}),l.createElement("path",{className:ib,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),l.createElement("rect",{className:ig,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),l.createElement("g",{key:"3",filter:"url(#reverse-stacking-order-filter)"},l.createElement("rect",{className:iS,x:"131",y:"40",width:"40",height:"40",rx:"20"}),l.createElement("path",{className:ib,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),l.createElement("rect",{className:ig,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"}))];return e&&t.reverse(),l.createElement("svg",{width:"240",height:"120",fill:"none"},t,l.createElement("rect",{className:iy,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),l.createElement("defs",null,l.createElement("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},l.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),l.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),l.createElement("feOffset",{dx:"2"}),l.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),l.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),l.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),l.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"}))))},alignToBaseline:function(){return l.createElement("svg",{width:240,height:120,fill:"none"},l.createElement("path",{className:i()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),l.createElement("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh"},l.createElement("path",{className:ib,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),l.createElement("rect",{className:ig,x:46.5,y:38.5,width:43,height:43,rx:1.5})),l.createElement("rect",{className:i()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",ig),x:98.5,y:38.5,width:43,height:43,rx:1.5}),l.createElement("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-"},l.createElement("path",{className:ib,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),l.createElement("rect",{className:ig,x:150.5,y:38.5,width:43,height:43,rx:1.5})),l.createElement("rect",{className:i()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",iy),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))},bordersTakeSpace:function(){return l.createElement("svg",{width:240,height:120,fill:"none"},l.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ"},l.createElement("rect",{className:iv,x:"43",y:"37",width:"48",height:"48",rx:"2"}),l.createElement("rect",{className:iS,x:"49",y:"43",width:"36",height:"36",rx:"2"})),l.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1"},l.createElement("rect",{className:iv,x:"98",y:"37",width:"99",height:"48",rx:"2"}),l.createElement("rect",{className:iS,x:"104",y:"43",width:"87",height:"36",rx:"2"})),l.createElement("rect",{className:i()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",iy),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))}};function iw({setting:e,enabled:t}){let n=e?iP[e]:null;return l.createElement("div",{className:i()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0},n?l.createElement(n,{enabled:t}):l.createElement("div",{className:"stack_layout_details_preview--previewText--0NBYb"},l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.preview"})))}let iT="stack_layout_details_modal--dropdownControl--PRPD5",ik="stack_layout_details_modal--onboardingBody--SQp9T",iI="stack_layout_details_modal--input--h2Yc7",iC="stack_layout_details_modal--chevron--tW9wo";var iN=n(769502);let iA="seen_stack_spacing_auto_onboarding";function iM(e){let[t,n]=(0,l.useState)(!1),[r,a]=(0,l.useState)({enabled:!1}),i=(0,eN.R)()?(0,I.t)("fullscreen.properties_panel.section_autoLayout.settings"):(0,I.t)("fullscreen.properties_panel.stack_panel.advanced_layout");return l.createElement(l.Fragment,null,l.createElement(iu,{title:i,tooltip:i,modalKey:"LAYOUT_DETAILS_PICKER",buttonInteractableName:"open_stack_layout_details_modal_button",modalTrackableName:"stack_layout_details_modal",svg:rv.A,ui3Icon:l.createElement(t5.A,null),buttonClassName:iN.Sj,recordingKey:e.recordingKey,onClose:()=>{setTimeout(()=>{n(!0)},250)}},l.createElement(iw,{setting:r.setting,enabled:r.enabled}),l.createElement("div",{className:"stack_layout_details_modal--controls--SFjhS"},l.createElement(iO,{updatePreview:a,recordingKey:e.recordingKey}),l.createElement(iR,{updatePreview:a,recordingKey:e.recordingKey}),l.createElement(iL,{updatePreview:a,recordingKey:e.recordingKey}))),t&&l.createElement(iV,{onDismiss:()=>n(!1)}))}function iR({updatePreview:e,recordingKey:t}){var n;let r=(0,et.wA)(),a=(0,t9.U)(),[i,s]=(0,lc.lJ)("stackReverseZIndex"),o=(0,ah.am)(),c=(0,et.d4)(lp.qd),d=(0,tM.GS)(),p=(null==(n=(0,is.Gq)())?void 0:n.getPrimaryLocale(!0))===io.Xn?120:180,u=!0===i;return l.createElement(nw.E,{name:"stacking_order_control"},l.createElement(i_.L,{label:(0,I.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:u}),onMouseLeave:()=>e({enabled:!1})},l.createElement(lD.l6,{id:"reverse-stacking-order-select",dispatch:r,className:iT,inputClassName:iI,chevronClassName:iC,textAlign:d?void 0:"right",property:i,formatter:ix,onChange:e=>{s(e),o(e?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:c})},recordingKey:m.Pt(t,"reverseStackingOrder"),dropdownShown:a,dropdownAlignment:"right",dropdownWidth:p,onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t})},l.createElement(lD.c$,{value:!0}),l.createElement(lD.c$,{value:!1}))))}function iL({updatePreview:e,recordingKey:t}){let n=(0,lc.kl)("stackMode"),r="BASELINE"===(0,lc.kl)("stackCounterAlignItems"),a="HORIZONTAL"!==n,i=(0,a9.sR)();return l.createElement(nw.E,{name:"baseline_alignment_control"},l.createElement(iE.k,{label:(0,I.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:m.Pt(t,"alignToBaseline"),property:r,disabled:a,onChange:t=>{i(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:r})},onHover:(t,n)=>{e({setting:"ENTER"===n?"alignToBaseline":void 0,enabled:t})},"data-tooltip":a?(0,I.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":ep.Ib.TEXT}))}function iO({updatePreview:e,recordingKey:t}){let n=(0,et.wA)(),r=(0,t9.U)(),[a,i]=(0,lc.lJ)("bordersTakeSpace"),s=(0,ah.am)(),o=(0,et.d4)(lp.qd),c=(0,tM.GS)(),d=!0===a;return l.createElement(nw.E,{name:"borders_take_space_control"},l.createElement(i_.L,{label:(0,I.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:d}),onMouseLeave:()=>e({enabled:!1})},l.createElement(lD.l6,{id:"borders-take-space-select",dispatch:n,className:iT,inputClassName:iI,chevronClassName:iC,dropdownWidth:168,textAlign:c?void 0:"right",property:d,formatter:iF,onChange:e=>{i(e),s("change_borders_take_space",{enabled:e,source:"modal",nodeIds:o})},recordingKey:m.Pt(t,"bordersTakeSpace"),dropdownShown:r,onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t})},l.createElement(lD.c$,{value:!0}),l.createElement(lD.c$,{value:!1}))))}let ix={format:e=>e?(0,I.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,I.t)("fullscreen.properties_panel.stack_panel.last_on_top")},iF={format:e=>e?(0,I.t)("fullscreen.properties_panel.stack_panel.included"):(0,I.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,I.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,I.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};function iV({onDismiss:e}){let t=(0,et.wA)();return(0,id.f)(iA)?null:l.createElement(im.OA,{targetKey:"stack-spacing-input",shouldNotWrapInParagraphTag:!0,dismissModal:()=>{t(ic.b({[iA]:!0})),e()},background:"light",width:268,title:l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_title"}),secondaryCtaText:l.createElement("a",{href:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between",target:"_blank",style:{textDecoration:"none"}},l.createElement(I.Tx,{id:"general.learn_more"})),onClickSecondaryCta:ii.lQ,ctaText:l.createElement(I.Tx,{id:"general.got_it"}),onClickPrimaryCta:e,arrowPosition:eZ.F_.RIGHT_TITLE},l.createElement(ih.Gv,{containerClassName:"stack_layout_details_modal--onboardingImg--4Uak-",src:"https://static.figma.com/uploads/94241d15e9d47a0c73734ae71850674f78cd4ab0"}),l.createElement("p",{className:ik},l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_body1",gapBetweenItems:l.createElement("strong",null,l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_items"}))})),l.createElement("p",{className:ik},l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_body2",auto:l.createElement("strong",null,l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.auto"}))})))}var iD=n(802411);function iK(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.5 7h-2a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 9.5 6h-2Zm9 1h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 13 7.5v2a1.5 1.5 0 0 0 1.5 1.5h2A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6h-2Zm1.5 7.5a.5.5 0 0 0-1 0V15h-1.5a.5.5 0 0 0 0 1H15v1.5a.5.5 0 0 0 1 0V16h1.5a.5.5 0 0 0 0-1H16v-1.5Z",clipRule:"evenodd"}))}function iB(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.5 7h-2a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 9.5 6h-2Zm9 1h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 13 7.5v2a1.5 1.5 0 0 0 1.5 1.5h2A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6h-2Zm3.384 8.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function iH(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 7h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5ZM6 7.5A1.5 1.5 0 0 1 7.5 6h2A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-2A1.5 1.5 0 0 1 6 9.5v-2Zm8.5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5Zm-1.5.5A1.5 1.5 0 0 1 14.5 6h2A1.5 1.5 0 0 1 18 7.5v2a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 13 9.5v-2ZM9.5 14h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function iU(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-9-1A1.5 1.5 0 0 0 6 7.5v2A1.5 1.5 0 0 0 7.5 11h9A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6h-9Zm2 8h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function iG(e){let{propertiesPanelShouldShowRemoveAutoLayout:t}=i1(),n=t?(0,I.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,I.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:r,actionEnabledUnstackSelection:a}=i1(),i=t?a:r,s=t?"unstack-selection":"stack-selection",o=(0,l.useCallback)(()=>{K.Y5.triggerActionInUserEditScope(s,{source:"panel"})},[s]);return l.createElement(eC.YW,{"aria-label":n,"data-tooltip":n,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip-shortcut-key":s,selected:t,showTooltipWhenSelectedIsTrue:!0,disabled:!i,onClick:o,recordingKey:m.Pt(e.recordingKey,t?"removeButton":"addButton")},l.createElement(iW,null))}function iW(){let e=(0,lc.kl)("stackMode"),t=(0,lc.kl)("stackWrap"),{propertiesPanelShouldShowRemoveAutoLayout:n}=i1();if(!n)return l.createElement(iK,null);if((0,W.gl)(e)||null==e||(0,W.gl)(t))return l.createElement(iB,null);if("WRAP"===t)return l.createElement(iH,null);switch(e){case"NONE":case"HORIZONTAL":return l.createElement(iB,null);case"VERTICAL":return l.createElement(iU,null)}}var iY=n(258890),iQ=n(996620),iX=n(689606),iZ=n(957069),iz=n(733982);function ij(e){return l.createElement(g.p,{name:"stack_panel"},l.createElement(i$,{...e}))}let i$=l.memo(e=>{let{version:t}=(0,ea.DP)();return"ui3"===t?l.createElement(iq,{...e}):l.createElement(iJ,{...e})});function iJ(e){let{showMigrationUi:t,actionEnabledStackSelection:n,actionEnabledUnstackSelection:r,propertiesPanelShouldShowRemoveAutoLayout:a,wrappingEnabled:i}=i1();return l.createElement(ey.Zk,null,l.createElement(rh,{title:l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout"}),addProperty:()=>{K.Y5.triggerActionInUserEditScope("stack-selection",{source:"panel"})},removeProperty:()=>{K.Y5.triggerActionInUserEditScope("unstack-selection",{source:"panel"})},contentsVisibleOrMixed:e.onlyStacksSelected,showButton:a?"-":"+",minusDisabled:!r,plusDisabled:!n,recordingKey:e.recordingKey,dataTestId:"open-stack-panel"},t?l.createElement(i4,null):l.createElement(l.Fragment,null,l.createElement(ey.fI,{className:i?iN.TE:iN.mm},l.createElement(i3,{recordingKey:e.recordingKey}),l.createElement("div",{className:iN.T$},l.createElement(it,{recordingKey:m.Pt(e,"alignment")})),l.createElement(iM,{recordingKey:m.Pt(e,"stackLayoutDetails")}),l.createElement(i6,{recordingKey:e.recordingKey}),i&&l.createElement(i2,{recordingKey:e.recordingKey})),l.createElement(i7,{recordingKey:e.recordingKey}))))}function iq(e){let t=e.onlyStacksSelected?l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout"}):l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.layout"}),n=(0,rG.J2)(B.Ez5.propertiesPanelState().shownPropertiesPanels),r=(0,et.d4)(e=>e.mirror.selectionProperties),a=(0,rC.aW)(n,void 0,r,void 0);return l.createElement(ey.Zk,null,l.createElement(ef.Wv,{titleTx:t},l.createElement(lt.hw,{recordingKey:m.Pt(e,"frameFitButton")}),a?l.createElement(iG,{recordingKey:e.recordingKey}):void 0),l.createElement(i0,{...e}))}function i0({onlyStacksSelected:e,onlyShowResizingRow:t,recordingKey:n}){var r;let{showMigrationUi:a,wrappingEnabled:i,textAutoResize:s,missingFont:o}=i1(),c=(0,ly.Df)(),d=(0,l.useRef)(null),p=(0,lc.kl)("nodesAreAllInsideStacks"),u=(0,rG.J2)(B.Ez5.propertiesPanelState().enabledTypePanelControls),h=!!(null==(r=K.Y5)?void 0:r.isFontListLoaded()),_=(0,lc.kl)("numSelectedByType"),E=(0,F.vx)(_,"TEXT"),g="transformPanel",y=l.createElement(l.Fragment,null,l.createElement(lS.Ws,{recordingKey:g,forwardedRef:d}),l.createElement(aA.J,{visible:!!(e||p),widthHeightRowRef:d})),b=c.fixedFrameOptions&&l.createElement(aC.u,{recordingKey:n}),f=E&&l.createElement("div",{className:iN.Z2},l.createElement(aM.f,{disabled:!h||!!o,enabledTypePanelControls:u,textAutoResize:s,recordingKey:n})),S=l.createElement(aN.e,{recordingKey:g});return!e||t?l.createElement(l.Fragment,null,y,f,b,S):l.createElement(l.Fragment,null,a?l.createElement(i4,null):l.createElement(l.Fragment,null,y,l.createElement(eS.sY,{topLeftInput:l.createElement(i3,{recordingKey:n}),rightInput:l.createElement(it,{recordingKey:m.Pt(n,"alignment")}),leftLabel:i?l.createElement(I.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_direction"}):l.createElement(I.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_direction_and_gap"}),rightLabel:l.createElement(I.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_alignment"}),bottomLeftInput:i?null:l.createElement(i6,{recordingKey:n}),topIcon:l.createElement(iM,{recordingKey:m.Pt(n,"stackLayoutDetails")}),bottomIcon:null}),i?l.createElement(eS.fn,{leftInput:l.createElement(i6,{recordingKey:n}),rightInput:l.createElement(i2,{recordingKey:n}),icon:null,leftLabel:l.createElement(I.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_gap"}),rightLabel:null}):null,l.createElement(i7,{recordingKey:n}),l.createElement(aC.u,{recordingKey:n}),S))}function i1(){return(0,ls.R)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:n,containsStacksNeedingAlignmentMigration:l,stackMode:r,stackWrap:a,textAutoResize:i,missingFont:s}}}=e;return{showMigrationUi:l,actionEnabledStackSelection:(0,J.Yh)(t,"stack-selection"),actionEnabledUnstackSelection:(0,J.Yh)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:n,wrappingEnabled:("HORIZONTAL"===r||(0,W.gl)(r))&&("WRAP"===a||(0,W.gl)(a)),textAutoResize:i,missingFont:s}})}let i5=!1;function i4(){let e;let t=(0,ah.am)(),[n,r]=(0,l.useState)(!1),{isOrInInstance:a,containsComponents:i}=(0,ls.R)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:n,numSelectedByType:l}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||n),containsComponents:!!l&&!!l.SYMBOL}});(0,l.useEffect)(()=>{i5||(t("stack_v2_migration_info_shown"),i5=!0)},[t]),(0,tR.f4)(()=>{r(!1)});let s=(0,l.useCallback)(()=>{let e=B.AlE.getActiveCanvas();eI.l7.user("update-stack-to-alv3",()=>{B.Qa7.updateStackToAutoLayoutV3(e,B.Ez5.bigNudgeAmount())}),K.Y5.triggerAction("commit"),r(!0),t("stack_v2_migration_updated")},[t]),o=(0,l.useCallback)(e=>{K.Y5.triggerActionInUserEditScope("undo"),r(!1)},[]);if(n)return l.createElement(ey.fI,{className:iN.A5},l.createElement("span",{className:iN.Yv},l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout_updated"})),l.createElement("a",{className:iN._V,onClick:o},l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.undo"})));let c=B.AlE.getActiveCanvas(),d=B.Qa7.isOrInInstanceWithDeprecatedAlignmentOverride(c);return e=a?d?(0,I.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,I.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):i?(0,I.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,I.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),l.createElement(ey.fI,{className:iN.A5},l.createElement("div",{className:iN.Yv},l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"}),l.createElement(P.B,{className:iN.zp,svg:iz.A,"data-tooltip-type":ep.Ib.SPECIAL,"data-tooltip":ep.MW.AUTOLAYOUT_V3_MIGRATION_INFO,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})),l.createElement(tn.nR,{onClick:s,className:iN.RM,type:"button",disabled:a&&!d},l.createElement(I.Tx,{id:"fullscreen.properties_panel.stack_panel.update"})))}function i3(e){let t=(0,aT.Zr)("unstack-selection"),n=(0,lc.kl)("stackMode"),r=(0,lc.kl)("stackWrap"),{version:a}=(0,ea.DP)(),i=(0,ah.am)(),s=(0,et.d4)(lp.qd),o="ui2"===a?iN.N:iN.O_;return l.createElement(nw.E,{name:"stack_mode_control"},l.createElement("div",{className:o,"data-onboarding-key":"stack-mode-control"},l.createElement(aI.I,{property:"HORIZONTAL"===n&&"WRAP"===r?"WRAP":n,onChange:e=>{i("Stack Mode Changed",{stackMode:e,nodeIds:s}),eI.l7.user("set-stack-mode",()=>B.Qa7.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:m.Pt(e,"stackMode"),disabled:!t},l.createElement(aI.Y,{svg:iQ.A,value:"VERTICAL",tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.vertical_direction")}),l.createElement(aI.Y,{svg:iY.A,value:"HORIZONTAL",tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.horizontal_direction")}),l.createElement(aI.Y,{svg:iZ.A,value:"WRAP",tooltip:(0,I.t)("fullscreen.properties_panel.stack_panel.wrap")}))))}function i6(e){let t=(0,aL.Wx)(),n=(0,aL.Y9)(),{version:r}=(0,ea.DP)(),a="ui2"===r?iN.Kz:void 0;return l.createElement(nw.E,{name:"stack_spacing_control"},l.createElement(r3.KI,{outerClassName:a,onFocus:()=>t(B.RN9.SPACING,!0),onBlur:()=>t(B.RN9.SPACING,!1),onScrubBegin:()=>t(B.RN9.SPACING,!0),onScrubEnd:()=>t(B.RN9.SPACING,!1),onMouseEnter:()=>n(B.RN9.SPACING,!0),onMouseLeave:()=>n(B.RN9.SPACING,!1),onNudge:()=>B.glU.temporarilyHideOverlay(B.hJs.SELECTION),recordingKey:m.Pt(e,"stackSpacing"),source:"panel",onboardingKey:"stack-spacing-input"}))}function i2(e){let t=(0,aL.Wx)(),n=(0,aL.Y9)(),{version:r}=(0,ea.DP)(),a="ui3"===r?void 0:iN.UN;return l.createElement(nw.E,{name:"stack_counter_spacing_input"},l.createElement(ia.q,{outerClassName:a,onFocus:()=>t(B.RN9.COUNTER_SPACING,!0),onBlur:()=>t(B.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t(B.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(B.RN9.COUNTER_SPACING,!1),onMouseEnter:()=>n(B.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n(B.RN9.COUNTER_SPACING,!1),onNudge:()=>B.glU.temporarilyHideOverlay(B.hJs.SELECTION),recordingKey:m.Pt(e,"stackCounterSpacing"),inputTestId:"stack-counter-spacing",source:"panel"}))}function i7({recordingKey:e}){let[t,n]=(0,l.useState)(!1),[r,a]=(0,l.useState)(!1),i=(0,iD.U)(),{version:s}=(0,ea.DP)();(0,tR.f4)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:l,stackVerticalPadding:r,stackPaddingBottom:a}=e.mirror.selectionProperties,s=(0,W.q)(t,l),o=(0,W.q)(r,a);n((0,W.gl)(s)||(0,W.gl)(o)||i)});let o=(0,ah.am)(),c=(0,et.d4)(lp.qd),p=l.createElement(ak.m,{svg:iX.A,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),onMouseDown:()=>{n(!t),B.Qa7.setFocusStackPanelInput(B.RN9.PADDING_ALL,!1),o(t?"Disable autolayout independent padding":"Enable autolayout independent padding",{nodeIds:c})},recordingKey:m.Pt(e,"showAllPaddingControls"),toggled:t,className:iN.NC,dataTestId:"stack-padding-toggle"});return l.createElement(nw.E,{name:"stack_padding_controls"},l.createElement("ui3"===s?i9:i8,{showAllPaddingControls:t,showSinglePaddingControl:r,setShowSinglePaddingControl:a,recordingKey:e,handleClick:function(e){(0,d.Fo)(e)&&a(!0)},showAllPaddingControlsToggle:p}))}function i8({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:r,handleClick:a,showAllPaddingControlsToggle:s}){return l.createElement(ey.fI,{heightMultiplier:e&&!t?2:void 0},t?l.createElement(se,{className:iN.mR,paddingSelection:aL.mx.ALL,onBlur:()=>n(!1),focusOnMount:!0,recordingKey:r}):e?l.createElement(l.Fragment,null,l.createElement(se,{className:i()(iN.oH,iN.aO),paddingSelection:aL.mx.LEFT,onClick:a,recordingKey:r,inputTestId:"padding-left"}),l.createElement(se,{className:i()(iN.oH,iN.uH),paddingSelection:aL.mx.RIGHT,onClick:a,recordingKey:r,inputTestId:"padding-right"}),l.createElement(se,{className:i()(iN.T1,iN.aO),paddingSelection:aL.mx.TOP,onClick:a,recordingKey:r,inputTestId:"padding-top"}),l.createElement(se,{className:i()(iN.T1,iN.uH),paddingSelection:aL.mx.BOTTOM,onClick:a,recordingKey:r,inputTestId:"padding-bottom"})):l.createElement(l.Fragment,null,l.createElement(se,{className:iN.oH,paddingSelection:aL.mx.HORIZONTAL,onClick:a,recordingKey:r,inputTestId:"padding-horizontal"}),l.createElement(se,{className:iN.T1,paddingSelection:aL.mx.VERTICAL,onClick:a,recordingKey:r,inputTestId:"padding-vertical"})),s)}function i9({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:r,handleClick:a,showAllPaddingControlsToggle:i}){return t?l.createElement(eS.fn,{leftInput:l.createElement(se,{paddingSelection:aL.mx.ALL,onBlur:()=>n(!1),focusOnMount:!0,recordingKey:r}),rightInput:null,icon:i,leftLabel:l.createElement(I.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null}):e?l.createElement(l.Fragment,null,l.createElement(eS.fn,{leftInput:l.createElement(se,{paddingSelection:aL.mx.LEFT,onClick:a,recordingKey:r}),rightInput:l.createElement(se,{paddingSelection:aL.mx.TOP,onClick:a,recordingKey:r}),icon:i,leftLabel:l.createElement(I.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null}),l.createElement(eS.fn,{leftInput:l.createElement(se,{paddingSelection:aL.mx.RIGHT,onClick:a,recordingKey:r}),rightInput:l.createElement(se,{paddingSelection:aL.mx.BOTTOM,onClick:a,recordingKey:r}),icon:null,leftLabel:null,rightLabel:null})):l.createElement(eS.fn,{leftInput:l.createElement(se,{paddingSelection:aL.mx.HORIZONTAL,onClick:a,recordingKey:r,inputTestId:"padding-horizontal"}),rightInput:l.createElement(se,{paddingSelection:aL.mx.VERTICAL,onClick:a,recordingKey:r,inputTestId:"padding-vertical"}),icon:i,leftLabel:l.createElement(I.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null})}function se({className:e,paddingSelection:t,recordingKey:n,inputTestId:r,onClick:a,onBlur:i,focusOnMount:s}){let o=(0,aL.Wx)(),c=(0,aL.Y9)();return l.createElement(iD.s,{outerClassName:e,paddingSelection:t,focusOnMount:s,onFocus:()=>B.Qa7.setFocusStackPanelInput(t,!0),onBlur:e=>{B.Qa7.setFocusStackPanelInput(t,!1),null==i||i(e)},onMouseEnter:()=>c(t,!0),onMouseLeave:()=>c(t,!1),onClick:a,onScrubBegin:()=>o(t,!0),onScrubEnd:()=>o(t,!1),onNudge:()=>B.glU.temporarilyHideOverlay(B.hJs.SELECTION),recordingKey:m.Pt(n,"stackPadding",aL.mx[t]),inputTestId:r,source:"panel"})}var st=n(7723);let sn="template-controls-picker";var sl=n(929077);function sr(){let{sceneNodesToEdit:e,description:t}=(0,ls.R)(e=>({sceneNodesToEdit:(0,lp.F4)(e),description:e.mirror.selectionProperties.description})),n="string"==typeof t?t:"",r=l.useCallback(t=>{eI.l7.user("set-description",()=>{for(let n of e)n.setDescriptionRich(t)})},[e]),a=l.useCallback(()=>{K.Y5.commit()},[]);return l.createElement("div",{className:"template_controls_menu--descriptionContainer--pRK0M"},l.createElement(sl.A,{description:n,isViewOnly:!1,placeholder:(0,I.t)("design_systems.template_panel.template_placeholder"),onBlur:a,onSubmit:r}))}function sa(){let e=(0,et.wA)(),t=(0,et.d4)(e=>e.pickerShown),n=new b.Mi(null==t?void 0:t.initialX,null==t?void 0:t.initialY);return(null==t?void 0:t.id)!==sn?null:l.createElement(eZ.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:n,initialWidth:320,onClose:()=>{e(C.XE())},scrollOverflow:!1,title:(0,I.t)("design_systems.template_panel.template_controls")},l.createElement(sr,null))}var si=n(400439),ss=n(832039),so=n(691151),sc=n(999918);let sd=l.memo(function(){let{containingTemplate:e,pickerShown:t,templateDescription:n}=(0,ls.R)(e=>({containingTemplate:(0,eq._k)(e),pickerShown:e.pickerShown,templateDescription:e.mirror.selectionProperties.description??""})),r=(0,et.d4)(ed.Dr),a=(0,et.d4)(ed.cB),i=l.useRef(null),s=(0,et.wA)(),o=l.useCallback((e,t,n=eu.qo)=>{if(!i)return;let l=ee.findDOMNode(i.current),r=(0,eu.cn)(l,n);s(C.u1({id:t,initialX:r.x,initialY:r.y})),s(A.sw()),s(C.Uv())},[s]),c=l.useCallback(e=>{(null==t?void 0:t.id)===sn?s(C.XE()):o(e,sn,320)},[t,s,o]);return e&&e.isAlive()?l.createElement(ey.Zk,{ref:i},l.createElement(ey.fI,{className:lX.LO},l.createElement(st.R,{guid:e.guid,value:e.name,canEdit:!0,icon:l.createElement(P.B,{svg:so.A,className:ss.Kk}),editAction:"rename-template"}),l.createElement("span",{className:si.MC},l.createElement(eC.YW,{className:si.UW,selected:(null==t?void 0:t.id)===sn,onClick:c,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,I.t)("design_systems.template_panel.template_controls"),svg:sc.A,recordingKey:"templateControls"}))),l.createElement(eE.n,{description:n}),r&&a&&l.createElement(eg.x,null),l.createElement(sa,null)):null});var sp=n(509453);function su({onExpand:e}){return l.createElement(ey.Zk,{"data-testid":"toggle-simplified-panels"},l.createElement(sp.z,{onClick:e,recordingKey:"toggleSimplifiedPanels"},l.createElement(I.Tx,{id:"design_systems.component_properties.show_more_properties"})))}var sm=n(826105),sh=n(96225),s_=n(787337);let sE=(0,s.jz)(tW.uj0);class sg extends m.o6{constructor(){super(...arguments),this.state={panelState:ti.GR.DEFAULT_EXPANDED,width:G.R.propertiesPanelSplitPosition},this.onMouseDown=m.cZ(this,"mousedown",()=>{K.Y5.deselectProperty(),this.props.pickerShown&&this.props.pickerShown.id.startsWith(L.Yr)&&c.zl.get(ty.ik)||this.props.dispatch(C.XE()),this.props.dispatch((0,N.vq)()),this.props.dispatch(A.sw()),this.props.dispatch(C.Uv())}),this.onContextMenu=e=>{let t=e.target;if(t){let n=t.tagName,l=t.type;n&&"INPUT"===n.toUpperCase()&&l&&"TEXT"===l.toUpperCase()||t.isContentEditable||e.preventDefault()}},this.showCreateStyleModal=({styleType:e,inheritStyleKeyField:t,nodeId:n,rowLeft:l,rowTop:r})=>{this.props.dispatch(A.sw()),this.props.dispatch(A.Zs({rowLeft:l,rowTop:r,styleType:e,inheritStyleKeyField:t,nodeId:n}))},this._stylePreviewThumbnail=new j.H4(()=>{var e;let t=(0,X.IW)(this.props.stylePreviewShown),n=null==(e=this.props.openFile)?void 0:e.canEdit,r=!!t||!n||this.props.appModel.isReadOnly;return l.createElement(tu,{key:"style-preview-panel",selectedStyleProperties:this.props.selectedStyleProperties,isInspectPanel:this.props.propertiesPanelTab===B.FAf.INSPECT,stylePreviewShown:this.props.stylePreviewShown,externalStyle:t,isRenaming:this.props.library.isRenamingSelectedStyle,viewOnly:r,dispatch:this.props.dispatch,recordingKey:m.Pt(this.props,"stylePreviewPanel")})}),this.onCloseStylePreviewModal=()=>{B.glU.selectStyle(f.n3.INVALID,f.IA.INVALID),this.props.dispatch(A.sw()),this.props.dispatch((0,M.B)())},this.renderStylePreviewModal=()=>{var e;if(!this.props.stylePreviewShown.isShown||![B.FAf.DESIGN,B.FAf.SITE,B.FAf.INSPECT].includes(this.props.propertiesPanelTab))return;let t=this.props.selectedStyleProperties,n=new b.Mi(this.props.stylePreviewShown.rowLeft-ti.tA,this.props.stylePreviewShown.rowTop);if(this.props.stylePreviewShown.isCreating){let{styleType:e,inheritStyleKeyField:t,styleNameInputPrefix:r}=this.props.stylePreviewShown;return l.createElement(to,{recordingKey:"createStyleModal",initialPosition:n,styleNameInputPrefix:r,styleType:e,inheritStyleKeyField:t})}{let r=!(0,V.eE)(this.props.stylePreviewShown.style,this.props.openFile),a=r||!(null==(e=this.props.openFile)?void 0:e.canEdit)||this.props.appModel.topLevelMode===Q.lyf.BRANCHING,i=(0,k.dI)(t.guid);if(!(i&&this.props.library.local.styles[i]&&!this.props.library.local.styles[i].is_soft_deleted)&&!r||!this.props.selectedStyleProperties.guid)return;return l.createElement(ta.zK.Provider,{value:ta.zM.EDIT_STYLE},l.createElement(eZ.vx,{title:this.getStylePreviewThumbnailTitle(t.styleType,a),key:(0,X.Gj)(this.props.stylePreviewShown.style),headerSize:"small",initialWidth:ti.tA,initialPosition:n,onClose:this.onCloseStylePreviewModal,recordingKey:m.Pt(this.props,"modal"),dragHeaderOnly:!0},l.createElement("div",{className:ts.FY},this._stylePreviewThumbnail.render({isVisible:!0}),this._externalStyleLink.render({isVisible:r}))))}},this._externalStyleLink=new j.H4(()=>l.createElement(le,{stylePreviewShown:this.props.stylePreviewShown,user:this.props.user})),this._framePresetPanel=new j.H4(()=>l.createElement(lt.nl,{key:"frame-presets",dispatch:this.props.dispatch,expandedFramePresetType:this.props.expandedFramePresetType,recordingKey:"framePresetPanel"})),this._pencilToolPanel=new j.H4(()=>l.createElement(rk,{key:"pencilToolPanel",id:"pencilToolPanel",openFile:this.props.openFile,recordingKey:"pencilToolPanel"})),this._canvasBackgroundPanel=new j.H4(()=>{let e=this.props.selectionProperties;return l.createElement(nj,{key:"canvas-background",backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,editModeType:this.props.appModel.activeCanvasEditModeType,pickerShown:this.props.pickerShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,library:this.props.library,openFile:this.props.openFile,recordingKey:"canvasBackgroundPanel",currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,defaultColor:Y.rC,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,hasExports:!!e.exportSettings&&(0,W._W)(e.exportSettings,[]).length>0})}),this._viewOnlyFlowsPanel=new j.H4(()=>l.createElement(th.A,{viewOnly:!0})),this._localStylesPanel=new j.H4(e=>l.createElement(nb,{key:e,scrollContainer:this.scrollContainer,recordingKey:e})),this._transformPanel=new j.H4(()=>{var e;return l.createElement(lS.zq,{key:"transform",propertiesPanelState:this.state.panelState,recordingKey:"transformPanel",pickerShown:this.props.pickerShown,openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,canEditConstraints:this.props.isUI3&&this.shouldShowConstraintsResizingPanel(),onlyShowXYInputsRow:this.props.isUI3&&this.state.panelState===ti.GR.DEFAULT_SIMPLIFIED})}),this._vectorPanel=new j.H4(()=>{let e=this.selectionProperties(),t=this.props.isUI3;return l.createElement(lS.Ss,{key:"vector-transform",x:e.x,y:e.y,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"vectorTransformPanel",isUI3:t})}),this._liveObjectPanel=new j.H4(()=>l.createElement(ra.cI,{key:"live-object",recordingKey:"liveObjectPanel",pasteSources:this.props.selectionProperties.pasteSources})),this._instancePanel=new j.H4(()=>{let e=this.props.selectionProperties;return l.createElement(ln._,{key:"instance",symbolGUIDsBackingSelection:e.symbolGUIDsBackingSelection,resettableInstanceOverridesMap:e.resettableInstanceOverrides,stateGroupSelectionInfo:e.stateGroupSelectionInfo,recordingKey:"instancePanel"})}),this._constraintsResizingPanel=new j.H4(()=>{var e;return l.createElement(n1,{key:"constraints",openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,dropdownShown:this.props.dropdownShown,recordingKey:"constraintsPanel"})}),this._interactionsPanel=new j.H4(()=>l.createElement(rF.y7,{key:"interactions"})),this._stackPanel=new j.H4(()=>l.createElement(ij,{key:"stack",onlyShowResizingRow:this.props.isUI3&&this.state.panelState===ti.GR.DEFAULT_SIMPLIFIED,onlyStacksSelected:this.props.shownPanels[B.ibQ.STACK_ITEM],recordingKey:"stackPanel"})),this._removeGroupFillAndStrokePanel=new j.H4(()=>l.createElement(r_,{key:"remove-group-fill-stroke"})),this._maskPanel=new j.H4(()=>{let e=this.selectionProperties();return l.createElement(rc,{key:"mask",maskType:e.maskType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"maskPanel"})}),this._componentPropertiesPanel=new j.H4(()=>l.createElement(e8,{key:"componentProperties",recordingKey:"propsPanel"})),this._componentPanel=new j.H4(()=>l.createElement(e_.cu,{key:"component",recordingKey:"componentPanel"})),this._templatePropertiesPanel=new j.H4(()=>l.createElement(t_,{key:"templateProperties",recordingKey:"templatePropsPanel"})),this._templatePanel=new j.H4(()=>l.createElement(sd,{key:"template"})),this._gridsPanel=new j.H4(()=>l.createElement(ti.tC,{key:"grids",selectionProperties:this.props.selectionProperties})),this._layerPanel=new j.H4(()=>{let e=this.props.selectionProperties;return this.props.isUI3?l.createElement(rl,{recordingKey:"appearancePanel"}):l.createElement(lJ,{key:"layer",blendMode:e.blendMode,opacity:e.opacity,visible:e.visible,variableConsumptionInfo:e.variableConsumptionInfo,recordingKey:"layerPanel"})}),this._localVariablesPanel=new j.H4(()=>l.createElement(nC,{key:"local-variables"})),this._typePanel=new j.H4(()=>l.createElement(ti.gc,{key:"type",selectionProperties:this.props.selectionProperties})),this._selectionPaints=new j.H4(()=>l.createElement(rd.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:Y.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3})),this._fillPanel=new j.H4(()=>{let e;return this.props.selectionProperties.numSelectedByType&&(e=(0,nP.aZ)(B.rrT.FILL,this.props.selectionProperties.numSelectedByType)),l.createElement(ti.B8,{key:"fill",selectionProperties:this.props.selectionProperties,variableScopes:e})}),this._strokePanel=new j.H4(()=>{let e=this.props.selectionProperties;return l.createElement(rd.$p,{key:"stroke",stylePickerShown:this.props.stylePickerShown,strokePanelMode:this.props.strokePanelMode,strokePanelTerminalPointCount:this.props.strokePanelTerminalPointCount,strokePaints:e.strokePaints,borderSharedWeight:e.borderSharedWeight,strokeWeight:e.strokeWeight,strokeAlign:e.strokeAlign,strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,connectorLineStyle:e.connectorLineStyle,leftEndCap:e.leftEndCap,rightEndCap:e.rightEndCap,maxStrokeWeight:e.maxStrokeWeight,dashPattern:e.dashPattern,dashCap:e.dashCap,terminalCap:e.terminalCap,arcRadius:e.arcRadius,arcSweep:e.arcSweep,numSelectedByType:e.numSelectedByType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,pickerShown:this.props.pickerShown,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,stylePickerListLayout:this.props.stylePickerListLayout,currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:Y.Em,inheritStyleKey:e.inheritFillStyleKeyForStroke||null,inheritStyleID:e.styleIdForStrokeFill||null,library:this.props.library,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,openFile:this.props.openFile,recordingKey:"strokePanel",isPanelBodyCollapsedAtom:null})}),this._effectsPanel=new j.H4(()=>l.createElement(ti.w5,{key:"effects",selectionProperties:this.props.selectionProperties})),this._slidesShadowPanel=new j.H4(()=>l.createElement(tb,{recordingKey:"slidesShadowPanel"})),this._exportPanelInspectTab=new j.H4(()=>{let e=this.selectionProperties(),t=this.props.openFile,n=(0,J.Nf)(this.props.appModel);return t&&(0,Z.Pe)(t)?l.createElement(g.p,{name:"export_panel_inspect_tab"},l.createElement(ey.Zk,{className:ts.OT},l.createElement(ey.xw,{className:ts.GI},l.createElement(P.B,{className:ts.RU,svg:s_.A}),l.createElement(I.Tx,{id:"fullscreen.properties_panel.export_disabled"})),l.createElement(ey.JU,{className:ts.Nw},l.createElement(I.Tx,{id:"fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename"})))):l.createElement(n4.LI,{key:"export",title:this.isReadOnlyNonInspect()?(0,I.t)("fullscreen.properties_panel.export"):(0,I.t)("fullscreen.properties_panel.presets"),standalone:!0,openFile:t,singleNodeName:n4.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:n,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:rC.iP})}),this._exportPanel=new j.H4(()=>{let e=this.props.selectionProperties,t=(0,J.Nf)(this.props.appModel);return l.createElement(n4.LI,{key:"export",openFile:this.props.openFile,singleNodeName:n4.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:rC.iP})}),this._pluginPanel=new j.H4(()=>{var e,t;let n=this.selectionProperties();return l.createElement(rI.Q,{key:"plugin",pluginRelaunchData:n.pluginRelaunchData,localPlugins:this.props.localPlugins,publishedPlugins:this.props.publishedPlugins,allSavedPlugins:this.props.allSavedPlugins.plugins,orgEntity:(0,D.Jl)(this.props),dispatch:this.props.dispatch,openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,editorType:(null==(t=this.props.openFile)?void 0:t.editorType)?(0,$.wN)(this.props.openFile.editorType):null,numSelected:n.numSelected??0,recordingKey:"pluginPanel"})}),this._prototypePanel=new j.H4(()=>l.createElement(rV.Z0,{key:"prototype",dispatch:this.props.dispatch,selectionProperties:this.selectionProperties(),appModel:this.props.appModel,pickerShown:this.props.pickerShown,dropdownShown:this.props.dropdownShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,sceneGraphSelection:this.props.sceneGraphSelection,editModeType:this.props.appModel.activeCanvasEditModeType,library:this.props.library,openFile:this.props.openFile,userFlags:this.props.userFlags,recordingKey:"prototypePanel"})),this._scalePanel=new j.H4(()=>(0,o.kc)().ce_scale_tool_v2?l.createElement(aw,{key:"scale",recordingKey:"scalePanel"}):l.createElement(ay,{key:"scale",recordingKey:"scalePanel"})),this._slidesThemePanel=new j.H4(()=>(0,o.kc)().piper_theme_swap?l.createElement(tb,{recordingKey:"slidesThemePanel"}):null),this._slidesStackPanel=new j.H4(()=>l.createElement(tb,{onlyStacksSelected:this.props.shownPanels[B.ibQ.STACK_ITEM],recordingKey:"slidesStackPanel"})),this._slidesInstancePanel=new j.H4(()=>l.createElement(tb,{recordingKey:"slidesInstancePanel"})),this._slidesFillPanel=new j.H4(()=>l.createElement(tb,{recordingKey:"slidesFillPanel"})),this._slidesOpacityPanel=new j.H4(()=>l.createElement(tb,{recordingKey:"slidesOpacityPanel"})),this._slidesTypePanel=new j.H4(()=>l.createElement(tb,{recordingKey:"slidesTypePanel"})),this._slidesLinkPanel=new j.H4(()=>l.createElement(tb,{recordingKey:"slidesLinkPanel"})),this._slidesBorderPanel=new j.H4(()=>l.createElement(tb,{recordingKey:"slidesBorderPanel"})),this._slidesCornerPanel=new j.H4(()=>l.createElement(tb,{recordingKey:"slidesCornerPanel"})),this._slidesAnimationPanel=new j.H4(()=>l.createElement(tb,{selection:this.props.sceneGraphSelection})),this._slidesEmbeddablePrototypePanel=new j.H4(()=>l.createElement(tb,{selection:this.props.sceneGraphSelection})),this._slidesInteractiveWidgetPanel=new j.H4(()=>l.createElement(tb,{selection:this.props.sceneGraphSelection})),this._slidesOverlayPanel=new j.H4(()=>l.createElement(tb,null)),this._slidesBlurPanel=new j.H4(()=>l.createElement(tb,{recordingKey:"slidesBlurPanel"})),this._slidesSelectionPaints=new j.H4(()=>l.createElement(rd.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:Y.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3,customColorPicker:tb})),this._sitesPositionPanel=new j.H4(()=>l.createElement(tE.Qc,{recordingKey:"positionPanel"})),this._sitesLinkPanel=new j.H4(()=>l.createElement(tE.rC,{key:"link"})),this._sitesPageMetadataPanel=new j.H4(()=>l.createElement(tE.li,{key:"pageMetadata"})),this._sitesCanvasOverlayPanel=new j.H4(()=>l.createElement(tE.rf,{key:"overlayPreview"})),this._sitesAccessibilityPanel=new j.H4(()=>l.createElement(tE.l,{key:"accessibility"})),this._sitesHTMLWidgetPanel=new j.H4(()=>l.createElement(tE.Mr,{key:"htmlWidget"})),this._sitesInteractionsPanel=new j.H4(()=>l.createElement(tE.GO,{key:"interactions"})),this.isStyleSelected=()=>this.props.selectedStyleProperties&&!!this.props.selectedStyleProperties.guid,this.isLiveObjectSelected=()=>(this.props.selectionProperties.pasteSources||[]).length>0,this.selectionProperties=()=>this.isStyleSelected()?this.props.selectedStyleProperties:this.props.selectionProperties,this.shouldShowAlignControls=()=>(0,rC.d6)(this.props.shownPanels),this.shouldRenderUI3ToolbarItems=()=>this.props.isUI3,this.shouldShowConstraintsResizingPanel=()=>{let e=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&e[B.ibQ.CONSTRAINTS_ITEM]},this.shouldShowInteractionsPanel=()=>!!this.props.selectionProperties.isValidPrototypingSourceSelected,this.isStateSelected=()=>{var e;return(null==(e=this.props.selectionProperties.stateGroupSelectionInfo)?void 0:e.mode)===B.iCO.STATE},this.shouldShowLocalVariablesPanel=()=>{let e=(0,tf.P2)(this.props.selectedView),t=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&!this.props.appModel.isReadOnly&&0===Object.keys(this.props.sceneGraphSelection).length&&!t[B.ibQ.FRAME_PRESETS]&&!e},this.shouldShowSelectionPaintsPanel=()=>{let e=this.props.shownPanels;return(0,rC.fI)(e,this.scaleShouldHideOtherPanels(),this.props.selectionPaints)},this.shouldShowSlidesSelectionPaintsPanel=()=>{let{numSelected:e,numSelectedByType:t}=this.props.selectionProperties;return!(1===e&&t&&t.SLIDE)&&this.shouldShowSelectionPaintsPanel()},this.doesNotHaveAnySelectedText=()=>{let{numSelectedByType:e}=this.props.selectionProperties;return!((null==e?void 0:e.TEXT)&&e.TEXT>0)},this.shouldShowStackPanel=e=>{let t=this.props.shownPanels;return(0,rC.IY)(t,this.scaleShouldHideOtherPanels(),this.props.selectionProperties,this.isStyleSelected()?this.props.selectedStyleProperties:void 0,e)},this.scaleShouldHideOtherPanels=()=>this.props.shownPanels[B.ibQ.SCALE_ITEM]&&!(0,o.kc)().ee_scale_tool_show_all_panels,this.shouldShowExportPanel=()=>this.props.openFile&&!(0,Z.Pe)(this.props.openFile)&&!(0,U.MP)(),this.shouldShowLocalStylesPanel=()=>{let e=(0,tf.P2)(this.props.selectedView);return!this.scaleShouldHideOtherPanels()&&0===Object.keys(this.props.sceneGraphSelection).length&&!this.props.shownPanels[B.ibQ.FRAME_PRESETS]&&!e},this.renderSimplifiedDesignPanels=()=>{let e=this.props.shownPanels;if((0,u.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)])){let e=Error("Rendering simplified design tab with no shownPropertiesPanels");(0,h.$D)(_.e.FIGJAM_CORE,e)}return l.createElement(w.i,{displayAs:w.C.Block},0===Object.keys(this.props.sceneGraphSelection).length&&l.createElement(nA.Mw,{panelName:nA.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&l.createElement(nN.AV,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&l.createElement(sm._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel(),scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this.props.isUI3&&this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()}),this._transformPanel.render({isVisible:!0}),this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[B.ibQ.SCALE_ITEM]}),!this.props.isUI3&&this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()}),this._constraintsResizingPanel.render({isVisible:!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()}),(0,z.Zd)()&&this._interactionsPanel.render({isVisible:this.shouldShowInteractionsPanel()}),!this.props.isUI3&&this._layerPanel.render({isVisible:e[B.ibQ.LAYER_ITEM]}),this.state.panelState===ti.GR.DEFAULT_SIMPLIFIED&&l.createElement(su,{onExpand:()=>{this.setState({panelState:ti.GR.OVERRIDDEN_EXPANDED})}}),this.state.panelState===ti.GR.OVERRIDDEN_EXPANDED&&l.createElement(l.Fragment,null,this.props.isUI3&&this._layerPanel.render({isVisible:e[B.ibQ.LAYER_ITEM]}),l.createElement(n5.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[B.ibQ.TEMPLATE_ITEM]}),this._componentPanel.render({isVisible:e[B.ibQ.COMPONENT_ITEM]}),this._vectorPanel.render({isVisible:e[B.ibQ.VECTOR_ITEM]}),!this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._maskPanel.render({isVisible:e[B.ibQ.MASK_ITEM]}),!this.props.isUI3&&this._gridsPanel.render({isVisible:e[B.ibQ.GRIDS_ITEM]}),this._typePanel.render({isVisible:e[B.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[B.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[B.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._fillPanel.render({isVisible:e[B.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[B.ibQ.STROKE_ITEM]}),!this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),(0,z.Zd)()&&this._prototypePanel.render({isVisible:!0}),this._effectsPanel.render({isVisible:e[B.ibQ.EFFECTS_ITEM]}),this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this.props.isUI3&&this._gridsPanel.render({isVisible:e[B.ibQ.GRIDS_ITEM]}),this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[B.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()})),!this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[B.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderDesignPanels=()=>{let e=this.props.shownPanels;return(((0,u.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)]))&&!window.figmaPerfTesting&&!(0,E.Lg)()&&!(0,E.nl)()&&(0,h.x1)("PropertiesPanel","Rendering design tab with no shownPropertiesPanels",{isEmpty:(0,u.Im)(e),shouldRenderInspectTab:this.shouldRenderInspectTab()}),e[B.ibQ.FRAME_PRESETS])?l.createElement(w.i,{displayAs:w.C.Block},this._framePresetPanel.render({isVisible:!0})):e[B.ibQ.PENCIL_TOOL]?l.createElement(w.i,{displayAs:w.C.Block},this._pencilToolPanel.render({isVisible:!0})):l.createElement(w.i,{displayAs:w.C.Block},0===Object.keys(this.props.sceneGraphSelection).length&&l.createElement(nA.Mw,{panelName:nA.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&l.createElement(nN.AV,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&l.createElement(sm._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel(),scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this.props.isUI3&&this._componentPropertiesPanel.render({isVisible:this.shouldShowComponentPropertiesPanel()}),this.props.isUI3&&this._componentPanel.render({isVisible:e[B.ibQ.COMPONENT_ITEM]}),this.props.isUI3&&this._instancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._transformPanel.render({isVisible:this.props.isUI3&&this.shouldShowAlignControls()||e[B.ibQ.TRANSFORM_ITEM]}),this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[B.ibQ.SCALE_ITEM]}),l.createElement(n5.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[B.ibQ.TEMPLATE_ITEM]}),this._templatePropertiesPanel.render({isVisible:e[B.ibQ.TEMPLATE_ITEM]}),!this.props.isUI3&&this._componentPanel.render({isVisible:e[B.ibQ.COMPONENT_ITEM]}),!this.props.isUI3&&this._componentPropertiesPanel.render({isVisible:e[B.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}),this._liveObjectPanel.render({isVisible:this.isLiveObjectSelected()}),!this.props.isUI3&&this._instancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._vectorPanel.render({isVisible:e[B.ibQ.VECTOR_ITEM]}),!this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._constraintsResizingPanel.render({isVisible:!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()}),this._maskPanel.render({isVisible:e[B.ibQ.MASK_ITEM]}),!this.props.isUI3&&this._gridsPanel.render({isVisible:e[B.ibQ.GRIDS_ITEM]}),(0,z.Zd)()&&this._interactionsPanel.render({isVisible:this.shouldShowInteractionsPanel()}),this._layerPanel.render({isVisible:e[B.ibQ.LAYER_ITEM]}),this._typePanel.render({isVisible:e[B.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[B.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[B.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._fillPanel.render({isVisible:e[B.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[B.ibQ.STROKE_ITEM]}),!this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),(0,z.Zd)()&&this._prototypePanel.render({isVisible:!0}),this._effectsPanel.render({isVisible:e[B.ibQ.EFFECTS_ITEM]}),this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._localVariablesPanel.render({isVisible:this.shouldShowLocalVariablesPanel()}),this._localStylesPanel.render({isVisible:this.shouldShowLocalStylesPanel(),valueArgs:["local-styles"]}),this.props.isUI3&&this._gridsPanel.render({isVisible:e[B.ibQ.GRIDS_ITEM]}),this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[B.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderSlidesPanels=()=>{let e=this.props.shownPanels,t=this.props.selectionProperties.numSelectedByType;if(e[B.ibQ.PENCIL_TOOL])return l.createElement(w.i,{displayAs:w.C.Block},this._pencilToolPanel.render({isVisible:!0}));let n=!!t&&(t.SLIDE??0)>0&&(0,F.OU)(t,["SLIDE"]);return l.createElement(w.i,{displayAs:w.C.Block},this._slidesThemePanel.render({isVisible:n}),this.shouldShowInstancePanel()&&l.createElement(sm._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:!1,shouldShowInstancePanel:!0,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._slidesInstancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._slidesStackPanel.render({isVisible:this.shouldShowStackPanel(!1)}),this._slidesTypePanel.render({isVisible:e[B.ibQ.TYPE_ITEM]}),this._slidesFillPanel.render({isVisible:e[B.ibQ.FILL_ITEM]}),this._slidesOpacityPanel.render({isVisible:e[B.ibQ.FILL_ITEM]&&!n}),this._slidesCornerPanel.render({isVisible:e[B.ibQ.STROKE_ITEM]}),this._slidesBorderPanel.render({isVisible:e[B.ibQ.STROKE_ITEM]&&this.doesNotHaveAnySelectedText()}),this._slidesShadowPanel.render({isVisible:e[B.ibQ.EFFECTS_ITEM]}),this._slidesOverlayPanel.render({isVisible:e[B.ibQ.IMAGE_ITEM]}),this._slidesBlurPanel.render({isVisible:e[B.ibQ.IMAGE_ITEM]}),this._slidesLinkPanel.render({isVisible:e[B.ibQ.TYPE_ITEM]}),this._slidesSelectionPaints.render({isVisible:this.shouldShowSlidesSelectionPaintsPanel()}),this._slidesEmbeddablePrototypePanel.render({isVisible:e[B.ibQ.SLIDES_EMBED]}),this._slidesInteractiveWidgetPanel.render({isVisible:e[B.ibQ.SLIDES_INTERACTIVE_WIDGET]}))},this.renderSlidesAnimationPanels=()=>{let e=this.props.shownPanels;return l.createElement(w.i,{displayAs:w.C.Block},this._slidesAnimationPanel.render({isVisible:e[B.ibQ.SLIDES_ANIMATION]}))},this.renderSitesPanels=()=>{let e=this.props.shownPanels;return l.createElement(w.i,{displayAs:w.C.Block},this.shouldRenderUI3ToolbarItems()&&l.createElement(sm._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel(),scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._sitesCanvasOverlayPanel.render({isVisible:this.shouldShowSitesCanvasOverlayPanel()}),this._componentPropertiesPanel.render({isVisible:this.shouldShowComponentPropertiesPanel()}),this._componentPanel.render({isVisible:e[B.ibQ.COMPONENT_ITEM]}),this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&this.shouldShowInstancePanel()}),this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._transformPanel.render({isVisible:e[B.ibQ.TRANSFORM_ITEM]}),this._sitesPositionPanel.render({isVisible:this.shouldShowSitesPositionPanel()}),this._scalePanel.render({isVisible:e[B.ibQ.SCALE_ITEM]}),this._sitesPageMetadataPanel.render({isVisible:this.shouldShowSitesPageMetadataPanel()}),l.createElement(n5.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[B.ibQ.TEMPLATE_ITEM]}),this._vectorPanel.render({isVisible:e[B.ibQ.VECTOR_ITEM]}),this._maskPanel.render({isVisible:e[B.ibQ.MASK_ITEM]}),this._layerPanel.render({isVisible:e[B.ibQ.LAYER_ITEM]}),this._typePanel.render({isVisible:e[B.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[B.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[B.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._fillPanel.render({isVisible:e[B.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[B.ibQ.STROKE_ITEM]}),(0,z.Zd)()&&this._prototypePanel.render({isVisible:!0}),this._effectsPanel.render({isVisible:e[B.ibQ.EFFECTS_ITEM]}),this._gridsPanel.render({isVisible:e[B.ibQ.GRIDS_ITEM]}),this._sitesLinkPanel.render({isVisible:this.shouldShowSitesLinkPanel()}),this._sitesHTMLWidgetPanel.render({isVisible:this.shouldShowSitesHTMLWidgetPanel()}),this._sitesInteractionsPanel.render({isVisible:this.shouldShowSitesInteractionsPanel()}),this._sitesAccessibilityPanel.render({isVisible:this.shouldShowSitesAccessibilityPanel()}),this._localVariablesPanel.render({isVisible:this.shouldShowLocalVariablesPanel()}),this._localStylesPanel.render({isVisible:this.shouldShowLocalStylesPanel(),valueArgs:["local-styles"]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderInspectionPanels=()=>{var e,t;let n=null==(e=this.props.openFile)?void 0:e.canEdit,r=this.props.selectionProperties,a=!r.prototypeStartingPointsInfo||(null==(t=r.prototypeStartingPointsInfo)?void 0:t.length)>0,i=0===Object.keys(this.props.sceneGraphSelection).length,s=i&&!n&&a;return l.createElement(O.fu,{name:q.e0.CODE_PANEL},l.createElement(w.i,{displayAs:w.C.Block},l.createElement(nA.Mw,{panelName:nA.ON.INSPECT}),l.createElement(n$.U,{key:"inspection-properties-panel",recordingKey:"inspectionPanel"}),this._viewOnlyFlowsPanel.render({isVisible:s}),this._localStylesPanel.render({isVisible:i,valueArgs:["code-local-styles"]})))},this.renderPrototypePanels=()=>{let e=this.props.shownPanels;return l.createElement(w.i,{displayAs:w.C.Block},this._framePresetPanel.render({isVisible:e[B.ibQ.FRAME_PRESETS]}),this._pencilToolPanel.render({isVisible:e[B.ibQ.PENCIL_TOOL]}),this._prototypePanel.render({isVisible:!e[B.ibQ.FRAME_PRESETS]&&!e[B.ibQ.PENCIL_TOOL]}))},this.shouldRenderInspectTab=()=>this.props.appModel.showUi&&!!this.props.user&&this.props.appModel.isReadOnly,this.onKeyDown=e=>{this.props.selectedStyleProperties&&(0,k.fn)(this.props.selectedStyleProperties.guid)&&(e.event.keyCode===d.Uz.ESCAPE?(e.accept(),B.glU.selectStyle(f.n3.INVALID,f.IA.INVALID)):e.event.keyCode===d.Uz.F&&B.glU.selectStyle(f.n3.INVALID,f.IA.INVALID))},this.scrollContainer=null,this.refMainScrollContainer=e=>{this.scrollContainer=e},this.isReadOnlyNonInspect=()=>this.props.appModel.isReadOnly&&!(0,tc.$A)(this.props.selectedView),this.renderPanelContent=()=>{let e=this.props.appModel.topLevelMode,t=this.props.propertiesPanelTab,n=this.props.appModel.isReadOnly,r=e!==Q.lyf.PREVIEW&&(e!==Q.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==Q.lyf.DEV_HANDOFF&&t===B.FAf.DESIGN,a=e!==Q.lyf.PREVIEW&&(e!==Q.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==Q.lyf.DEV_HANDOFF&&t===B.FAf.SLIDE,i=e!==Q.lyf.PREVIEW&&(e!==Q.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==Q.lyf.DEV_HANDOFF&&t===B.FAf.SLIDE_ANIMATION,s=e===Q.lyf.LAYOUT&&!n&&t===B.FAf.SITE,o=e!==Q.lyf.PREVIEW&&e!==Q.lyf.BRANCHING&&t===B.FAf.PROTOTYPE&&!(0,z.Zd)(),c=e===Q.lyf.PREVIEW&&!this.props.userStateLoaded||t===B.FAf.INSPECT;return r||a||i||s||o||c||t===B.FAf.EXPORT||t===B.FAf.COMMENT||(0,h.x1)("PropertiesPanel","Rendering empty properties panels",{topLevelMode:Q.lyf[e],tab:B.FAf[t],shouldRenderInspectTab:this.shouldRenderInspectTab()}),l.createElement(l.Fragment,null,r&&(this.state.panelState===ti.GR.DEFAULT_EXPANDED?this.renderDesignPanels():this.renderSimplifiedDesignPanels()),a&&this.renderSlidesPanels(),i&&this.renderSlidesAnimationPanels(),s&&this.renderSitesPanels(),o&&this.renderPrototypePanels(),c&&this.renderInspectionPanels(),t===B.FAf.EXPORT&&this._exportPanelInspectTab.render({isVisible:!0}),t===B.FAf.COMMENT&&l.createElement(this.props.commentsPanel,null))},this.onResize=e=>{e=(0,p.qE)(e,sE+1,500),this.setState({width:e}),(0,H.UK)().propertiesPanelSplitPosition.set(e)},this.getRightPanelAnimation=(e,t)=>{if(this.props.isUI3)return;let n={ease:"easeInOut",duration:.2,delay:this.props.isCollapsed?void 0:.05};return this.props.isCollapsed?{initial:{left:`calc(${e}px + ${t})`},animate:{left:`calc(${e}px + ${t})`,display:"block",transitionEnd:{display:"none"}},transition:n}:{initial:{left:0},transition:n}}}componentDidUpdate(e,t){super.componentDidUpdate(e,t);let n=e.selectionProperties.productComponentGUIDBackingInstances,l=this.props.selectionProperties.productComponentGUIDBackingInstances;if(n!==l){let e=ti.GR.DEFAULT_EXPANDED;if(l){let t=this.props.sceneGraph.get(l);(null==t?void 0:t.simplifyInstancePanels)&&(e=ti.GR.DEFAULT_SIMPLIFIED)}this.setState({panelState:e})}}getStylePreviewThumbnailTitle(e,t){if(t)switch(e){case"FILL":return(0,I.t)("design_systems.styles.view_color_style");case"TEXT":return(0,I.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,I.t)("design_systems.styles.view_effect_style");case"GRID":return(0,I.t)("design_systems.styles.view_grid_style");default:return(0,I.t)("design_systems.styles.view_style")}else switch(e){case"FILL":return(0,I.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,I.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,I.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,I.t)("design_systems.styles.edit_grid_style");default:return(0,I.t)("design_systems.styles.edit_style")}}shouldShowSitesPositionPanel(){return(0,tg.Vj)(this.props.selectedView)&&this.props.shownPanels[B.ibQ.SITES_POSITION_ITEM]}shouldShowSitesLinkPanel(){return(0,tg.Vj)(this.props.selectedView)&&this.props.shownPanels[B.ibQ.SITES_LINK_ITEM]}shouldShowSitesPageMetadataPanel(){return(0,tg.Vj)(this.props.selectedView)&&this.props.shownPanels[B.ibQ.SITES_PAGE_METADATA_ITEM]}shouldShowSitesCanvasOverlayPanel(){return(0,tg.Vj)(this.props.selectedView)&&(0,o.kc)().internal_only_debug_tools}shouldShowSitesAccessibilityPanel(){return(0,tg.Vj)(this.props.selectedView)&&this.props.shownPanels[B.ibQ.SITES_ACCESSIBILITY_ITEM]}shouldShowSitesHTMLWidgetPanel(){return(0,tg.Vj)(this.props.selectedView)&&this.props.shownPanels[B.ibQ.SITES_HTML_WIDGET_ITEM]}shouldShowSitesInteractionsPanel(){return(0,tg.Vj)(this.props.selectedView)&&this.props.shownPanels[B.ibQ.SITES_INTERACTIONS_ITEM]}shouldShowInstancePanel(){return this.props.shownPanels[B.ibQ.INSTANCE_ITEM]&&!this.isLiveObjectSelected()}shouldShowComponentPropertiesPanel(){return this.props.shownPanels[B.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}renderLoading(e){return l.createElement(tv.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:this.onKeyDown},l.createElement(S.V,{className:ts.Lp},l.createElement(v.P,{ref:this.refMainScrollContainer,className:i()(ts.ux,ts.KE,L.Dm,{[ts.eu]:e}),width:rC.iP,hideScrollbar:!0,scrollingDisabled:!0},l.createElement("div",{className:ts.eh,"data-non-interactive":!0},l.createElement(tm.B,null))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal()))}render(){var e;if(this.props.isLoading)return this.renderLoading(this.props.shouldAnimateLoadingState);let t=this.props.selectedStyleProperties&&(0,k.fn)(this.props.selectedStyleProperties.guid),n=!!(this.props.dropdownShown||(null==(e=this.props.pickerShown)?void 0:e.modal)),r=this.props.propertiesPanelTab,a=r===B.FAf.COMMENT,c=!this.isReadOnlyNonInspect(),d=(0,tf.P2)(this.props.selectedView),p=!t||!n,u=!a&&p,m=(0,x.ft)(),h=l.createElement("div",{className:a&&c&&!d?ts.By:ts.eh,onMouseDown:m?void 0:this.onMouseDown,onPointerDown:m?this.onMouseDown:void 0,"data-non-interactive":!0},l.createElement(R.j9.Consumer,null,()=>this.renderPanelContent())),_=this.props.isUI3,E=_?this.state.width:rC.iP+1,g=_?`${(0,s.jz)(tW.M$q)}px`:"var(--spacer-2)",b=this.props.appModel.topLevelMode===Q.lyf.HISTORY,f=_&&this.props.isCollapsed;return l.createElement(y.k,{name:"properties_panel",trackingEnabled:(0,o.kc)().trackable_properties||d&&(0,o.kc)().piper,alsoTrack:()=>{let e=r===B.FAf.DESIGN?"design_view":"slide_view";return{pageId:(0,J.Nf)(this.props.appModel),selectedNodeIds:Object.keys(this.props.sceneGraphSelection),panelMode:d?e:void 0}}},l.createElement(tv.vL,{name:"propertiesPanel",focusOnMount:!a,handleKeyDown:this.onKeyDown},l.createElement(ta.lk.Provider,{value:this.showCreateStyleModal},l.createElement(S.V,{className:i()(ts.Lp,{[ts.R]:!this.props.appModel.showUi,[ts.dn]:f}),style:{width:E}},this.props.shouldShowBackgroundGradient&&l.createElement(T.T,{side:"right"}),l.createElement(sh.X,null,l.createElement(rD.l,{className:i()(ts.ux,L.Dm,{[ts.ew]:this.props.rulersVisible}),onContextMenu:this.onContextMenu,"data-onboarding-key":"properties-panel",size:E,onResize:this.onResize,side:"left",animation:this.getRightPanelAnimation(E,g),"data-cancel-insertable-resource-drag-and-drop":!0},l.createElement(sy,{showRightSidebarPill:f,inUI3CollapsedSidebarPillBackgroundLab:this.props.inUI3CollapsedSidebarPillBackgroundLab,showVoiceWidget:this.props.showVoiceWidget},this.props.isUI3&&l.createElement(rK.qW,{openFile:this.props.openFile,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,isIntegration:(0,U.ck)(),selectedView:this.props.selectedView,recordingKey:this.props.recordingKey}),!f&&b&&l.createElement(tS.yU,{recordingKey:"versionHistoryView",isUI3:_}),!f&&!b&&l.createElement(rO,{activeTab:r,shouldRenderInspectTab:this.shouldRenderInspectTab(),shouldShowAlignControls:this.shouldShowAlignControls(),isUI3:this.props.isUI3,recordingKey:this.props.recordingKey}),!f&&!b&&(a?h:l.createElement("div",{className:ts.gq},l.createElement(v.P,{enableOverscroll:!0,key:this.props.propertiesPanelTab,ref:this.refMainScrollContainer,className:ts.jG,containerId:ti.rp,hideScrollbar:!u,onContextMenu:this.onContextMenu,scrollingDisabled:a||(t?n:!!this.props.dropdownShown)},h))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal())))))))}}function sy({children:e,showRightSidebarPill:t,inUI3CollapsedSidebarPillBackgroundLab:n,showVoiceWidget:a}){let s=(0,r.U1)();return l.createElement("div",{ref:s,className:i()(ts.KE,{[ts.Pp]:t,[ts.Pp]:t&&!n,[ts.tM]:t&&(n||a)})},e)}sg.displayName="PropertiesPanel"},5102:(e,t,n)=>{"use strict";n.d(t,{Di:()=>A,H7:()=>N,JQ:()=>M,Uq:()=>T,VL:()=>C,d0:()=>k});var l=n(411855),r=n(109388),a=n(188507),i=n(498750),s=n(939863),o=n(738269),c=n(507877),d=n(119198),p=n(457858),u=n(988022),m=n(974105),h=n(309798),_=n(99506),E=n(833629),g=n(428467),y=n(707465),b=n(984968),f=n(239671),S=n(945020),v=n(836454);let P="https://static.figma.com/uploads/85018c5142c2dc9201c4cab76c1d81b85b0b6181",w="https://static.figma.com/uploads/7797fe8870261875ba0109c61c2297005d9ff6f1";function T(e){let t=l.useRef(null),[n,a]=l.useState(void 0),i=()=>{if(t.current)return t.current.scrollWidth-t.current.clientWidth},s=l.useCallback(e=>{var n;let l;l=void 0!==e?e:null==(n=t.current)?void 0:n.scrollLeft;let r=i();void 0!==l&&void 0!==r&&(l<=0?a("beginning"):l>=r?a("end"):a(void 0))},[]);return l.useEffect(()=>{let e=()=>s();return window.addEventListener("wheel",e),s(),()=>window.removeEventListener("wheel",e)},[s]),{currentViewRef:t,atScrollLimit:n,handleScroll:n=>{var l;let a=r.findDOMNode(t.current),i=null==(l=t.current)?void 0:l.scrollLeft;if(!a||void 0===i)return;"backward"===n&&0===i&&(null==e||e());let o="forward"===n?700:-700;a.scroll({left:i+o,behavior:"smooth"}),s(i+o)}}}function k(e){let t,n;return void 0===e?(t=(0,s.t)("rcs.product_and_template_picker.what_would_you_like_to_do_first"),n=(0,s.t)("rcs.product_and_template_picker.we_can_help_you_get_started_faster")):"design"===e?(t=(0,s.t)("rcs.product_and_template_picker.start_from_presets_and_templates"),n=(0,s.t)("rcs.product_and_template_picker.start_from_presets_or_templates_from_our_community")):(t=(0,s.t)("rcs.product_and_template_picker.save_time_with_ready_made_templates"),n=(0,s.t)("rcs.product_and_template_picker.start_from_templates_made_by_figma_and_our_community")),{titleText:t,subtitleText:n}}let I={design:{type:"blank",editorType:_._Y.DESIGN,svg:v.A},whiteboard:{type:"blank",editorType:_._Y.WHITEBOARD,svg:v.A},iphone:{type:"preset",framePreset:p.$W["iPhone 13 & 14"],img:{src:P,width:52,height:106},backgroundColor:"#CFE2FF"},android:{type:"preset",framePreset:p.$W["Android Large"],img:{src:P,width:52,height:106},backgroundColor:"#b6f0c6"},desktop:{type:"preset",framePreset:p.$W.Desktop,img:{src:w,width:99,height:72},backgroundColor:"#F5EAC1"},wireframe:{type:"preset",framePreset:p.$W.Wireframe,img:{src:w,width:99,height:72},backgroundColor:"#F5EAC1"}};function C(e){let t=[];return t.push(I[e]),"design"===e&&(t.push(I.iphone),t.push(I.desktop)),t}function N(e,t,n){let l=[];return e&&e.forEach(e=>{t[e]&&l.push({type:"hubFile",editorType:n,hubFile:t[e]})}),l}function A(e,t,n){if(!e)return null;let l=Object.keys(t.folders).filter(n=>t.folders[n].team_id===e.id),r="design"===n?b.sK.ADD_DESIGN_FILE:"slides"===n?b.sK.ADD_SLIDES_FILE:b.sK.ADD_FIGJAM_FILE;return 1===l.length&&(0,g.canCreateFile)(l[0],t,n)&&(0,b.rR)(e,{type:r})?l[0]:null}function M(){let e=(0,a.Pj)(),t=(0,a.d4)(e=>(0,E.R$)(e.fileByKey,(0,g.getPermissionsState)(e),["exp_tooltips_plus_onboarding","exp_cursor_bot_onboarding"])),n=(0,h.f)("has_tooltips_plus_no_basics_file");return l.useCallback(l=>{let r=()=>{let t=(0,b.FQ)(a),n=(0,m.xA)(a,S.ai.NEW_TAB,null,{from:S.f6.FILE_BROWSER_NUX,selectedView:a.selectedView});n.editorType=_._Y.DESIGN,n.folder_id=A(t,a,n.editorType),n.openNewFileIn=(0,i.oJ)(l)?S.ai.NEW_TAB:S.ai.SAME_TAB,n.callback=e=>{(0,u.Cu)({fileKey:e,experiment:"exp_tooltips_plus_onboarding"},"Failed to open captive file")},e.dispatch(d.uM(n))},a=e.getState();if(n)r();else if(t){if((0,i.oJ)(l)){let n=(0,y.xS)(a,{view:"fullscreen",fileKey:t,editorType:f.nT.Design});e.dispatch(c.V3({url:n}))}else e.dispatch(o.$T({view:"fullscreen",fileKey:t,editorType:f.nT.Design}))}else r()},[e,t,n])}},927658:(e,t,n)=>{var l=n(33132)(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});e.exports=l},727928:()=>{!function(e){var t=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};e.languages.dart=e.languages.extend("clike",{"class-name":[l,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:l.inside}],keyword:t,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),e.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.dart}}},string:/[\s\S]+/}},string:void 0}),e.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),e.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":l,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(Prism)}}]);

//# debugId=065aa3c5-10b2-51fe-8fc1-5c0cb07aa191

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/a8cbb3803d84afb91d9b286d7e8d9135ba6053f7/properties_panel-7b77d7620fcf92b4.min.js.map