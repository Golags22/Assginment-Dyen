
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="040dd30d-171f-508b-bd00-e004dfcf8757")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7693],{10199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoLayout=t.styleForAutoLayout=void 0;let n=r(358932),i=r(411855),a=r(545977),o=r(229009),l=r(539321),s=r(450311),c=r(478469);function d(e,t,r){let{style:n,overlayStyle:i,wrapperStyle:a}=(0,o.styleForFrame)(e,t,r);return{style:Object.assign(Object.assign(Object.assign({},n),(0,l.getParentLayout)(e)),(0,l.getVisibility)(e)),overlayStyle:i,wrapperStyle:a}}t.styleForAutoLayout=d,t.AutoLayout=i.forwardRef(function(e,t){let{attributes:r,children:l}=e,u=(0,n.__rest)(e,["attributes","children"]),p=i.useContext(a.ParentContext);(0,a.warnInvalidConstraints)(Object.assign(Object.assign({},u),{parent:p}));let m=(0,c.normalizeProps)(Object.assign(Object.assign({},(0,s.getDefaultAutoLayoutProps)()),u)),_=(0,a.getInvalidFillParentCheckerRef)(Object.assign(Object.assign({},m),{parent:p})),h=d(m,p,i.Children.count(l)>0);return i.createElement(a.ParentContext.Provider,{value:{type:"autolayout",props:m}},(0,o.domNodeFromFrame)({figmaLayerName:m.name,styles:h,attributes:r,children:l,ref:(0,a.mergeRefs)([_,t])}))})},40848:(e,t,r)=>{"use strict";r.d(t,{CZ:()=>s,Qp:()=>l,RF:()=>i,RL:()=>p,hv:()=>n,kz:()=>m,nv:()=>u,qE:()=>c,qS:()=>d,sx:()=>_,uj:()=>a,yu:()=>o});let n="base_badge--backgroundLight--agxeS",i="base_badge--backgroundWarning--i7d2I",a="base_badge--backgroundWhite--ZqZgN",o="base_badge--borderStrong--makDy",l="base_badge--height24--PMSUp text--fontPos11--2LvXf text--_fontBase--QdLsd",s="base_badge--heightSixteen--BEJT8 text--fontPos9--naThA text--_fontBase--QdLsd",c="base_badge--badgeIconContainer--Gu5zx",d="base_badge--badge--cbfYy base_badge--backgroundLight--agxeS",u="base_badge--badgeContentContainerWithIcon--ECslI",p="base_badge--badgeTooltip--Qz3RM",m="base_badge--tooltipLink--KpcPS",_="base_badge--badgeWrapperFlex--uukBt"},342859:(e,t,r)=>{"use strict";r.d(t,{DD:()=>l,If:()=>c,Jp:()=>b,M1:()=>u,N1:()=>a,NG:()=>h,OQ:()=>S,QY:()=>_,VB:()=>m,X7:()=>s,Xd:()=>v,YO:()=>n,Z0:()=>E,dD:()=>f,eO:()=>d,gi:()=>i,h_:()=>A,kO:()=>T,lp:()=>p,qY:()=>I,tF:()=>o,y_:()=>g,yq:()=>y,zu:()=>w});let n="basic_resource_header--mobileAttributionLine--SVYDo basic_resource_header--attributionLine--3-ssm text--fontPos13--xW8hS text--_fontBase--QdLsd",i="basic_resource_header--attributionCreator--rV-9C",a="basic_resource_header--headerContainer--YYSPX",o="basic_resource_header--authors--1PIBq text--fontPos13--xW8hS text--_fontBase--QdLsd",l="basic_resource_header--title--9jW4i text--fontPos24--YppUD text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",s="basic_resource_header--title_badge_container--vH8BZ",c="basic_resource_header--bulletSeparator--OGYaL text--fontPos10--s1PI5 text--_fontBase--QdLsd",d="basic_resource_header--stickyTitle--oG0u0 ellipsis--ellipsis--Tjyfa text--fontPos18--rYXJb text--_fontBase--QdLsd",u="basic_resource_header--stats--U1D-b text--fontPos13--xW8hS text--_fontBase--QdLsd",p="basic_resource_header--numberOfUsers--oWoBg",m="basic_resource_header--mobileResourcePageHeaderMaxWidth--McUl4 basic_resource_header--resourcePageHeaderMaxWidth--ym-5U",_="basic_resource_header--mobileResourcePageHeaderSticky--k2EHs basic_resource_header--mobileResourcePageHeader--EgM2G",h="basic_resource_header--mobileResourceNameHeader--oN4qX text--fontPos24--YppUD text--_fontBase--QdLsd",g="basic_resource_header--mobileName--5NvYd",f="basic_resource_header--anchorLinkContainer--UaF3S",E="basic_resource_header--resourcePageHeaderMobile--pJLU0 basic_resource_header--mobileResourcePageHeader--EgM2G",y="basic_resource_header--resourcePageHeaderSticky--z2Rga",b="basic_resource_header--resourcePageHeaderStickyContainer--XiXE-",v="basic_resource_header--headerStickyLeftSide--OkZLQ",I="basic_resource_header--anchorLink--r0iNn meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",T="basic_resource_header--activeAnchorLink--3ueWI meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",S="basic_resource_header--ctaContainer--k8wqG",w="basic_resource_header--leftSide--MzgPN",A="basic_resource_header--description--718b9 text--fontPos13--xW8hS text--_fontBase--QdLsd"},637961:(e,t,r)=>{"use strict";r.d(t,{$P:()=>eI,$c:()=>U,$n:()=>es,A$:()=>Q,AJ:()=>p,Au:()=>j,Az:()=>eg,BN:()=>P,BP:()=>eA,BQ:()=>O,DD:()=>G,Dk:()=>ew,E9:()=>l,GE:()=>u,HL:()=>A,IB:()=>n,IQ:()=>R,IW:()=>ei,JE:()=>eN,JM:()=>L,JQ:()=>ev,Jm:()=>J,Oy:()=>el,PQ:()=>ed,QW:()=>$,QX:()=>eb,Qd:()=>ep,Qj:()=>em,SI:()=>b,Si:()=>eS,Sl:()=>w,T6:()=>a,UN:()=>B,V:()=>ea,V3:()=>ee,XO:()=>D,Xi:()=>X,Xq:()=>Z,ZR:()=>M,ZW:()=>x,_1:()=>C,_j:()=>H,aK:()=>z,bu:()=>S,c7:()=>c,cy:()=>W,em:()=>K,en:()=>T,fw:()=>h,gO:()=>er,hm:()=>o,iu:()=>eu,j4:()=>i,jm:()=>ef,mU:()=>ey,m_:()=>y,nJ:()=>k,nz:()=>eT,o1:()=>Y,pz:()=>m,r6:()=>eh,rh:()=>q,rn:()=>V,rt:()=>g,s4:()=>s,tt:()=>d,u1:()=>et,u8:()=>E,uh:()=>eO,uq:()=>ec,v2:()=>eo,vR:()=>eE,vu:()=>f,w:()=>_,wS:()=>I,wr:()=>N,ws:()=>en,xQ:()=>eC,z3:()=>v,zA:()=>F,zG:()=>e_});let n="feed_page--feedApp--CMcLD text--fontPos15--IR8IB text--_fontBase--QdLsd",i="feed_page--categoryPageRedesignMargin--0f8Vx",a="feed_page--exploreFeedApp--OHHs6 feed_page--feedApp--CMcLD text--fontPos15--IR8IB text--_fontBase--QdLsd",o="feed_page--feed--7UNQq text--fontPos13--xW8hS text--_fontBase--QdLsd",l="feed_page--feedResourceGridContainer--yisWJ",s="feed_page--feedResourceGridExplorePageContainer--nIc6q",c="feed_page--feedSection--Vnk47",d="feed_page--magicH1--EOWil text--fontPos40WhyteInktrap--SVcxi text--_fontBaseWhyteInktrap--YiiGP",u="feed_page--magic---00EQ",p="feed_page--subHeading--Q5oY3 text--fontPos20Whyte--o3mBO text--_fontBaseWhyte--efAjI",m="feed_page--sidebar---2-0D",_="feed_page--selectedSidebarBackdrop--qrbTt",h="feed_page--numSearchResults--pkhEL",g="feed_page--resourceHumanName--Sw7yE",f="feed_page--active--47Vpq",E="feed_page--fullWidthFeed--hizyU",y="feed_page--subheader--UGVYE text--fontPos22--4H4Fc text--_fontBase--QdLsd",b="feed_page--seeAllCollectionsLink--A7xYb text--fontPos13--xW8hS text--_fontBase--QdLsd",v="feed_page--feedGrid--Wm-8Q",I="feed_page--resourceRedesignGapOverride--1AdTY",T="feed_page--compactFeedGrid--S8yrv feed_page--feedGrid--Wm-8Q",S="feed_page--compactFeedRows--jlDLG feed_page--feedGrid--Wm-8Q",w="feed_page--hubFile--uHbnb feed_page--resourceLinkTag--5KQz7",A="feed_page--widget--CnSI2 feed_page--resourceLinkTag--5KQz7",C="feed_page--compactProfileViewGrid--Vz5I9 feed_page--compactFeedGrid--S8yrv feed_page--feedGrid--Wm-8Q",N="feed_page--prototypeIcon--JlZyq",O="feed_page--tileUpperLeftWrapper--mwqC-",L="feed_page--tileEditorIcon--ymAxC",R="feed_page--plugin--eimaR feed_page--resourceLinkTag--5KQz7",P="feed_page--resourcePreview--IePch",k="feed_page--redesignedResourcePreview--MjW2w",D="feed_page--resourcePreviewContentWrapper--H1eHK",M="feed_page--pluginIcon--NQjwf",x="feed_page--resourcePreviewContentWrapperFigJamDots---54d- feed_page--resourcePreviewContentWrapper--H1eHK",F="feed_page--resourcePreviewContentWrapperThumbnailSet--QlsAU feed_page--resourcePreviewContentWrapper--H1eHK",U="feed_page--resourcePreviewContentWrapperRadiusCursorOverride--kfxmj",B="feed_page--resourceMeta--7vtas text--fontPos13--xW8hS text--_fontBase--QdLsd",H="feed_page--redesignedResourceMeta--WUKzv text--fontPos13--xW8hS text--_fontBase--QdLsd",V="feed_page--titleAndAuthor--P2cvB text--fontPos13--xW8hS text--_fontBase--QdLsd",G="feed_page--title--qJMsk",W="feed_page--author--pH7Iw text--fontPos11--2LvXf text--_fontBase--QdLsd",K="feed_page--resourceAvatar--Nwl7h",Y="feed_page--actions--UXu0g",j="feed_page--actionNoHover--QdLcL",z="feed_page--action__default_like--xlPBc feed_page--actionNoHover--QdLcL",$="feed_page--action__liked--8ZiFG feed_page--actionNoHover--QdLcL",Z="feed_page--resourceMetaAuthor--3wNr7",q="feed_page--redesignedResourceMetaAuthor--43-kr text--fontPos11--2LvXf text--_fontBase--QdLsd",J="feed_page--redesignedAuthor--tKu73 text--fontPos11--2LvXf text--_fontBase--QdLsd",X="feed_page--redesignedAuthorHoverDropdown--4DftQ dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",Q="feed_page--pluginDescription--fL9Cf text--fontPos11--2LvXf text--_fontBase--QdLsd",ee="feed_page--loadMoreButtonWrapper--QvZXr",et="feed_page--spinner--Z0jz3",er="feed_page--profileRow--YIiOy",en="feed_page--pluginRow--urF1M",ei="feed_page--pluginRowImageContainer--pBAdP",ea="feed_page--pluginRowButtonContainer--ZXV-4",eo="feed_page--pluginRowIcon--Gj3Ol",el="feed_page--pluginRowDescription--9U39k",es="feed_page--pluginRowAuthor--Vg6sm",ec="feed_page--pluginRowUpdatedAt--T2K-9",ed="feed_page--pluginMeta--Z8DkK",eu="feed_page--pluginRowTitle--2c-r8",ep="feed_page--pluginRowTitleNameText--lPAaZ",em="feed_page--pluginInstallCount---BhkG",e_="feed_page--profileRowAvatar--h2azi",eh="feed_page--profileRowMeta--sfwOx",eg="feed_page--profileRowFollowBox--j7BRa",ef="feed_page--profileRowResources--TLbIS",eE="feed_page--profileRowResourceWrapper--hI5Wd",ey="feed_page--profileRowFollowersMetadata--tlFVr text--fontPos12--YsUAh text--_fontBase--QdLsd",eb="feed_page--profileRowFollowersHeader--q5m62",ev="feed_page--profileRowFollowers--8L1-o",eI="feed_page--profileRowName--p-4KA",eT="feed_page--profileRowProfileHandle--eDbiU text--fontPos12--YsUAh text--_fontBase--QdLsd",eS="feed_page--tileTooltip--44prj dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",ew="feed_page--pluginRowTitleWithBadge--qTn5u",eA="feed_page--pluginRowDescriptionWithBadge--95gmZ",eC="feed_page--footerContainer--PdYUf",eN="feed_page--metaInRedesignedTile--oALVP",eO="feed_page--metaInRedesignedPluginRow--Jx-Af"},250769:(e,t,r)=>{"use strict";r.r(t),r.d(t,{authedAccountEmail:()=>g,avatar:()=>b,button:()=>u,figmaAuthModal:()=>o,genericSelectorExternalTeamsIcon:()=>E,genericSelectorInner:()=>h,genericSelectorModal:()=>_,genericSelectorModalCancel:()=>f,graphic:()=>l,header:()=>c,logInButton:()=>m,loggedOutCommunityActionModal:()=>a,modal:()=>n,modalBackdrop:()=>i,modalCloseButton:()=>s,primaryWideButton:()=>p,subHeader:()=>d,workspaceTitleWrapper:()=>y});let n="index--modal--vmXNN",i="index--modalBackdrop--VqLCO",a="index--loggedOutCommunityActionModal--P-hYZ index--modalBackdrop--VqLCO",o="index--figmaAuthModal--rNJVQ index--modalBackdrop--VqLCO",l="index--graphic--iU2RU",s="index--modalCloseButton--Migyu text--fontPos24--YppUD text--_fontBase--QdLsd",c="index--header--ZtRxZ text--fontPos22--4H4Fc text--_fontBase--QdLsd",d="index--subHeader--6bNQO text--fontPos16--oMC-G text--_fontBase--QdLsd",u="index--button--NGLN1 text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI",p="index--primaryWideButton--jq1BX index--button--NGLN1 text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI",m="index--logInButton--LMXFW index--button--NGLN1 text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI",_="index--genericSelectorModal--3aSLC index--modalBackdrop--VqLCO text--fontPos13--xW8hS text--_fontBase--QdLsd",h="index--genericSelectorInner--HBJH2",g="index--authedAccountEmail--zhDrH text--fontPos11--2LvXf text--_fontBase--QdLsd",f="index--genericSelectorModalCancel--WOjxG",E="index--genericSelectorExternalTeamsIcon--KL8jt",y="index--workspaceTitleWrapper--e9YT2",b="index--avatar--nIkKj"},302510:(e,t,r)=>{"use strict";r.d(t,{Ec:()=>d,G8:()=>u,KO:()=>p,T9:()=>h,UY:()=>c,Wf:()=>l,aT:()=>g,jp:()=>_,lp:()=>n,mH:()=>a,sp:()=>m,v$:()=>i,xW:()=>s,zn:()=>o});let n="32px",i="12px",a="resource_page_media_carousel--hubFileTileFullInnerImage--kVJwo resource_page_media_carousel--hubFileTileInnerImage--irUS9",o="resource_page_media_carousel--mobileCarousel--G3Nxz",l="resource_page_media_carousel--canvasViewerWrapper--wZlH-",s="resource_page_media_carousel--carouselThumbnailsContainer--YuKP9",c="resource_page_media_carousel--carouselThumbnails--VkVVj",d="resource_page_media_carousel--centeredCarouselThumbnails--20mlm resource_page_media_carousel--carouselThumbnails--VkVVj",u="resource_page_media_carousel--carouselImage--91wRk",p="resource_page_media_carousel--carouselImageShadow--uTlen",m="resource_page_media_carousel--fadeOutMaskLeft--J1Skk resource_page_media_carousel--fadeOutMask--hqP3b",_="resource_page_media_carousel--fadeOutMaskRight--1NzE3 resource_page_media_carousel--fadeOutMask--hqP3b",h="resource_page_media_carousel--carouselArrowLeft--VYt1X resource_page_media_carousel--arrow--5g-tR",g="resource_page_media_carousel--carouselArrowRight--1Dlxa resource_page_media_carousel--arrow--5g-tR"},955035:()=>{},244616:(e,t,r)=>{"use strict";r.d(t,{$y:()=>g,A8:()=>b,Dn:()=>A,Ew:()=>o,Gu:()=>I,LA:()=>E,N:()=>S,NZ:()=>T,PZ:()=>p,Rp:()=>h,U0:()=>d,U6:()=>w,iu:()=>f,kZ:()=>s,my:()=>n,n1:()=>i,ne:()=>_,p$:()=>m,pk:()=>v,pq:()=>u,r3:()=>l,u2:()=>y,wt:()=>c,xM:()=>a});let n="avatar--avatar--fFibd",i="avatar--circle--ag36Q",a="avatar--roundedSquare--cq522",o="avatar--square--p4eL1",l="avatar--dim--UbqLc",s="avatar--avatarBellWrapper--sd6MY",c="avatar--bell--Lk6s9",d="avatar--avatarWithHandle--Z3934",u="avatar--info--vDGTn",p="avatar--handleRow--0K2-H",m="avatar--handle--wlTXK",_="avatar--isMe--LeNkH",h="avatar--email--G3FcZ",g="avatar--emailHover--ekuTn",f="avatar--avatarWithOutwardBorder--3JJ57",E="avatar--avatarWithInwardBorder--L469R",y="avatar--clickableAvatarWithHandle--d90vX",b="avatar--disabledDimAvatarWithHandle--5l6cM",v="avatar--multiTeamAvatarContainer--Rb-Kn",I="avatar--multiTeamAvatarContainerHovered--2V7AO",T="avatar--workspaceAvatarBlue--XbbpI",S="avatar--workspaceAvatarPurple--FOGSP",w="avatar--workspaceAvatarGreen--PWm5o",A="avatar--workspaceAvatarTeal--4j3FH"},478398:(e,t,r)=>{"use strict";r.d(t,{$J:()=>N,$e:()=>w,$j:()=>l,Aq:()=>o,B6:()=>g,DB:()=>u,Dt:()=>I,J3:()=>S,JT:()=>n,Kk:()=>m,NM:()=>d,O4:()=>E,Vg:()=>C,Y2:()=>a,av:()=>c,fF:()=>y,hL:()=>f,h_:()=>_,iZ:()=>T,jy:()=>s,lI:()=>b,mj:()=>A,n3:()=>i,r:()=>p,r3:()=>v,zS:()=>h});let n="banner--bannerBaseAbsolute--u49FZ",i="banner--bannerWarningCta--FdSHo",a="banner--bannerBaseInner--l363V",o="banner--successBanner--ruF24 banner--bannerBase--80Huv",l="banner--warningBanner--m-3vT banner--bannerBase--80Huv",s="banner--errorBanner--b8ymK banner--bannerBase--80Huv",c="banner--bannerSection--74cQW",d="banner--softWarningBanner---kS46 banner--bannerBase--80Huv",u="banner--memoryUsageBarContainer--zzN0V",p="banner--dismissButton--ZMqAK",m="banner--icon--a5jex",_="banner--description---mdB-",h="banner--confidentialityBanner--BKuUX banner--bannerBase--80Huv",g="banner--infoBannerDesign--Aarfc banner--bannerBase--80Huv",f="banner--creatorStatsBannerContainer--Lw6bF",E="banner--infoBannerWhiteboard--htrQs banner--bannerBase--80Huv",y="banner--infoBannerDevMode--r-gZd banner--bannerBase--80Huv",b="banner--ctaButton--tou-0",v="banner--infoBannerSlides--ghVau banner--bannerBase--80Huv",I="banner--infoBannerSites--GGDYr banner--bannerBase--80Huv",T="banner--ctaBannerSection--5igvi banner--bannerSection--74cQW",S="banner--iconLarge--rHox5",w="banner--mainText--CJNXv",A="banner--ctaButtonCommunity--03wDW",C="banner--ctaButtonPrimary--fWDCl",N="banner--linkButton--6Mb0p"},159256:(e,t,r)=>{"use strict";r.d(t,{$M:()=>a,Bi:()=>v,Fb:()=>_,Fl:()=>c,J7:()=>S,JQ:()=>P,KR:()=>s,Kb:()=>f,MP:()=>A,Nv:()=>N,Q3:()=>k,RR:()=>p,Sp:()=>C,Tz:()=>u,Vl:()=>l,_0:()=>n,cO:()=>o,cf:()=>F,cu:()=>g,dL:()=>b,g:()=>L,gW:()=>U,gf:()=>D,h1:()=>H,hI:()=>M,i2:()=>R,ii:()=>i,iz:()=>d,kU:()=>T,o6:()=>y,pB:()=>I,vG:()=>E,wH:()=>B,wp:()=>m,xB:()=>x,xc:()=>h,xm:()=>O,yZ:()=>w});let n="community_cards--cardChildDisplayOnHover--7KpMt",i="community_cards--cardLayoutContainer--nPcgb",a="community_cards--cardSubtitleRowSizing--9WRul",o="community_cards--cardBottomRowSizing--sT6xQ",l="community_cards--cardImageContainer--8ngfu base_community_cards--base_cardImageContainer--jpAKE base_community_cards--_hasBorder--kFIag",s="community_cards--cardHover_TopLeft--yGcAk",c="community_cards--cardBottomRow_MetadataContainer--QLUfh",d="community_cards--cardBottomRow_Metadata_HoverText--McZzP",u="community_cards--cardBottomRow_Metadata_HoverText_AnimateHeight--4wdBR community_cards--cardBottomRow_Metadata_HoverText--McZzP",p="community_cards--cardBottomRow_Metadata_AuthorName_WithHoverText--GJXdW",m="community_cards--cardBottomRowAvatarDropdown--2uCLR",_="community_cards--cardBottomRow_Metadata_AvatarContainer--6-CIe",h="community_cards--cardBottomRow_Metadata_TextContainer--ewZLG",g="community_cards--cardBottomRow_Metadata_PrimaryText--tktO3 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",f="community_cards--base_cardBottomRow_Metadata_SecondaryText---Tn2M text--fontPos11--2LvXf text--_fontBase--QdLsd",E="community_cards--cardBottomRow_Metadata_AuthorName_WithDropdown--Fk7tl",y="community_cards--cardBottomRow_ResourceActionContainer--hgEhI",b="community_cards--cardBottomRow_ResourceActionButton--v146M",v="community_cards--cardHover_Center--hzP7R community_cards--_cardHover--BGAKM base_community_cards--base_cardHover--5h7Ip",I="community_cards--cardHover_Cover--kIVQS community_cards--_cardHover--BGAKM base_community_cards--base_cardHover--5h7Ip",T="community_cards--cardHover_BottomLeft--XlAgk community_cards--_cardHover--BGAKM base_community_cards--base_cardHover--5h7Ip",S="community_cards--cardHover_BottomRight--5So4- community_cards--_cardHover--BGAKM base_community_cards--base_cardHover--5h7Ip",w="community_cards--publisherDropdown--m7Bx2",A="community_cards--publisherDropdownContent_Row--iIBB3",C="community_cards--publisherDropdownContent_Row_Text--7hDpO text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",N="community_cards--creatorPreviewDummySpace_Name--fb75z",O="community_cards--creatorPreviewDummySpace_Avatar--LLBj8",L="community_cards--figjamTileMeta--Sh90c",R="community_cards--figjamTextMetadataCaret--bqK8s",P="community_cards--figjamMetadataContainer--4kXQt",k="community_cards--defaultCursor--K5TUO",D="community_cards--figjamTextMetadataContainer--LBupv",M="community_cards--figjamTextMetadataContainerFull--VPsvv",x="community_cards--figjamTextMetadataLockIcon--yazii",F="community_cards--figjamTextMetadataErrorContainer--XDHyT",U="community_cards--figjamTextMetadataName--wP7vv text--fontPos12--YsUAh text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",B="community_cards--subtextDetails--2-EUq",H="community_cards--subtextPublishers--BR4-w ellipsis--ellipsis--Tjyfa"},152462:(e,t,r)=>{"use strict";r.d(t,{Vi:()=>n,hh:()=>i,jx:()=>c,nu:()=>s,tt:()=>a,uD:()=>l,uw:()=>o});let n="cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",i="cta_button--figjam--ZRMcS",a="cta_button--duplicateButtonContainerNoIcon--t9Vxs cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",o="cta_button--duplicateButtonContainerNoIconWide--KYJ2x",l="cta_button--textIconContainer--wV-ch",s="cta_button--duplicateButtonContainerNoIconDisabled--IPh2F cta_button--duplicateButtonContainerDisabled--IzZn7 cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",c="cta_button--ctaButtonLink--5C3KX"},183846:(e,t,r)=>{"use strict";r.d(t,{BE:()=>i,LL:()=>o,Xk:()=>a,_1:()=>l,iZ:()=>s,uu:()=>n});let n="detail_view--installButton--IloIX",i="detail_view--installButtonSubtext--iqsQz text--fontPos11--2LvXf text--_fontBase--QdLsd",a="detail_view--pendingInviteBanner--Jfy7s text--fontPos13--xW8hS text--_fontBase--QdLsd",o="detail_view--pendingInviteButton--XYgKx",l="detail_view--paidResourceSection--crSbo detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd",s="detail_view--reportSection--qDu-P detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},227565:(e,t,r)=>{"use strict";r.d(t,{$z:()=>h,BA:()=>_,GC:()=>p,Ij:()=>g,Js:()=>E,KE:()=>o,Lm:()=>a,PJ:()=>u,Rt:()=>N,SL:()=>v,Tm:()=>w,Uz:()=>b,Vg:()=>s,Yk:()=>f,ZF:()=>I,aq:()=>c,bx:()=>y,g4:()=>n,g8:()=>i,i3:()=>A,jG:()=>m,nf:()=>T,q5:()=>S,qc:()=>C,qr:()=>d,vu:()=>l});let n="universal_posting_modal--loadingContainer--5giX-",i="universal_posting_modal--modalClose--eqgHH",a="universal_posting_modal--toolBarContainer--9HhzX",o="universal_posting_modal--toolbar--hWp2O",l="universal_posting_modal--playgroundtoolbar--62laP",s="universal_posting_modal--grid--Jdvpe",c="universal_posting_modal--previewModal--XtKWL universal_posting_modal--modalBase--HkH3v",d="universal_posting_modal--footer--A-QeR",u="universal_posting_modal--footerText--Pp0H1 universal_posting_modal--_userSelectNone--dHUZk",p="universal_posting_modal--buttonGroup--C-atN",m="universal_posting_modal--scrollContainer--YtNZ-",_="universal_posting_modal--developmentPluginsListContainer--NCC-b",h="universal_posting_modal--pluginContainer--y5Lud universal_posting_modal--_pluginContainerBase--jcMw7",g="universal_posting_modal--pluginContainerSelected--1Een3 universal_posting_modal--_pluginContainerBase--jcMw7",f="universal_posting_modal--workspaceBarContainer--VHcn1",E="universal_posting_modal--workspaceInfoContainer--l3mjM text--fontPos13--xW8hS text--_fontBase--QdLsd",y="universal_posting_modal--desktopMessageContainer--QXif3 text--fontPos16--oMC-G text--_fontBase--QdLsd",b="universal_posting_modal--desktopMessageTitle--3XDQ-",v="universal_posting_modal--desktopMessageSubTitle--UGHlr",I="universal_posting_modal--searchQuery--07ulH",T="universal_posting_modal--link--h1jPd",S="universal_posting_modal--pluginInfo--Kx70e text--fontPos14--OL9Hp text--_fontBase--QdLsd",w="universal_posting_modal--universalPostingSearchContainer--BFSZI",A="universal_posting_modal--xIcon--9icra",C="universal_posting_modal--searchIcon--r7rXz search--searchIconBrowseIA--WYUGA search--searchIcon--0Agiv",N="universal_posting_modal--searchInput--fTx57 search--communityLandingSearchInput--Mtiu3 search--searchInput__OLD--m2Hef text--fontPos13--xW8hS text--_fontBase--QdLsd text--fontPos14--OL9Hp text--_fontBase--QdLsd"},764643:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_thumbnailBase:()=>g,buttons:()=>l,contextMenu:()=>v,fieldContainer:()=>a,fieldContainerFaded:()=>o,gridContainer:()=>m,label:()=>n,learnMore:()=>i,listContainer:()=>p,listItemContainer:()=>_,listItemRemoveButton:()=>h,offlineIcon:()=>R,outerContainer:()=>s,outerContainerBorderBottom:()=>c,publishCTA:()=>w,scrollContainer_grid:()=>u,scrollContainer_list:()=>d,skeletonText:()=>L,skeletonThumbnailGrid:()=>O,skeletonThumbnailList:()=>N,thumbnailGrid:()=>E,thumbnailGridBase:()=>f,thumbnailList:()=>b,thumbnailListBase:()=>y,tryAgain:()=>P,trying:()=>k,warning:()=>I,warningIcon:()=>A,warningIconList:()=>C,warningOfflineContainer:()=>T,warningPublish:()=>S});let n="preferred_values_instance_picker--label--to5M3",i="preferred_values_instance_picker--learnMore--zD-c7",a="preferred_values_instance_picker--fieldContainer--JJx3j",o="preferred_values_instance_picker--fieldContainerFaded--Z8-Oj preferred_values_instance_picker--fieldContainer--JJx3j",l="preferred_values_instance_picker--buttons---ohnK",s="preferred_values_instance_picker--outerContainer---jRbV",c="preferred_values_instance_picker--outerContainerBorderBottom--eh6jg preferred_values_instance_picker--outerContainer---jRbV",d="preferred_values_instance_picker--scrollContainer_list--kaH92",u="preferred_values_instance_picker--scrollContainer_grid--8kvKL",p="preferred_values_instance_picker--listContainer--BPie-",m="preferred_values_instance_picker--gridContainer--2LTF6",_="preferred_values_instance_picker--listItemContainer--a4t-g",h="preferred_values_instance_picker--listItemRemoveButton--HO05L",g="preferred_values_instance_picker--_thumbnailBase--eAxDp",f="preferred_values_instance_picker--thumbnailGridBase--O9Rrc preferred_values_instance_picker--_thumbnailBase--eAxDp",E="preferred_values_instance_picker--thumbnailGrid--XHfz- preferred_values_instance_picker--thumbnailGridBase--O9Rrc preferred_values_instance_picker--_thumbnailBase--eAxDp drilldown_item--_thumbnailContainer--kDsBt",y="preferred_values_instance_picker--thumbnailListBase--KpYBM preferred_values_instance_picker--_thumbnailBase--eAxDp",b="preferred_values_instance_picker--thumbnailList--nGJE1 drilldown_item--_thumbnailContainer--kDsBt preferred_values_instance_picker--thumbnailListBase--KpYBM preferred_values_instance_picker--_thumbnailBase--eAxDp",v="preferred_values_instance_picker--contextMenu--qSN6X",I="preferred_values_instance_picker--warning--bgA-c",T="preferred_values_instance_picker--warningOfflineContainer--9BcdC",S="preferred_values_instance_picker--warningPublish--fB8Mq preferred_values_instance_picker--warning--bgA-c",w="preferred_values_instance_picker--publishCTA--FlNCB",A="preferred_values_instance_picker--warningIcon--2TXXz",C="preferred_values_instance_picker--warningIconList--aDgpb preferred_values_instance_picker--warningIcon--2TXXz",N="preferred_values_instance_picker--skeletonThumbnailList--sAAp7 preferred_values_instance_picker--thumbnailListBase--KpYBM preferred_values_instance_picker--_thumbnailBase--eAxDp",O="preferred_values_instance_picker--skeletonThumbnailGrid--UVfqq preferred_values_instance_picker--thumbnailGridBase--O9Rrc preferred_values_instance_picker--_thumbnailBase--eAxDp",L="preferred_values_instance_picker--skeletonText--YCONM",R="preferred_values_instance_picker--offlineIcon--4JDDc",P="preferred_values_instance_picker--tryAgain--UNg1i",k="preferred_values_instance_picker--trying--HmoFd"},730797:(e,t,r)=>{"use strict";r.d(t,{K8:()=>m,LC:()=>n,Me:()=>a,Q_:()=>l,RH:()=>o,UD:()=>u,V_:()=>s,YM:()=>i,t$:()=>c,uZ:()=>p,x6:()=>d});let n="prop_pill--pillEnabled--yqtJT prop_pill--basePill--Nx5ci pill--pill--yeLll",i="prop_pill--instanceSwapPill--MvGRm",a="prop_pill--componentPropName--k2AM9",o="prop_pill--pillSelected--ZlxUy",l="prop_pill--pillDisabled--MFJRj prop_pill--basePill--Nx5ci pill--pill--yeLll",s="prop_pill--pillContainer--7rI2Q",c="prop_pill--componentPropRow--yTifC",d="prop_pill--button--0oOIV",u="prop_pill--buttonContainer--myLjn",p="prop_pill--ui3ComponentPropRowInstanceSwap--hYD19",m="prop_pill--ui3VariableTypeIconContainer--EqMaw"},427018:(e,t,r)=>{"use strict";r.d(t,{$G:()=>n,$z:()=>i,BH:()=>a,GD:()=>p,MJ:()=>u,O6:()=>o,Ve:()=>_,Yo:()=>s,a4:()=>c,bD:()=>d,nd:()=>h,qx:()=>l,s9:()=>g,ym:()=>m});let n="-144px",i="desktop_new_tab_view--newTabView--xPTS3",a="desktop_new_tab_view--topSection--YiYaE",o="desktop_new_tab_view--topSectionContent--CzXg6",l="desktop_new_tab_view--topSectionContentWithSlides--KqkAl",s="desktop_new_tab_view--topSectionWithDropdown--i82fQ",c="desktop_new_tab_view--folderDropdown--NyFdh",d="desktop_new_tab_view--folderDropdownPlaceholder--bosVZ",u="desktop_new_tab_view--folderHeader--72sHl",p="desktop_new_tab_view--primaryText--YjgdS",m="desktop_new_tab_view--topSectionDivider--hQ6La",_="desktop_new_tab_view--fileCardsSection--d7yQC",h="desktop_new_tab_view--bottomSection--aWNBL",g="desktop_new_tab_view--hideNewTab--0jOy2"},714236:(e,t,r)=>{"use strict";r.d(t,{M:()=>s,Mv:()=>m,NY:()=>g,TN:()=>a,az:()=>d,bL:()=>h,dL:()=>_,hQ:()=>o,k3:()=>u,kL:()=>n,lt:()=>l,m9:()=>c,rx:()=>i,sI:()=>p,ts:()=>f});let n="file_browser_page_view--container--wgWQp",i="file_browser_page_view--tabletOptimizedContainer--rxoPd file_browser_page_view--container--wgWQp",a="file_browser_page_view--scrollableContainerClass--TCxy-",o="file_browser_page_view--contentContainer--lirCR",l="file_browser_page_view--metaContainer--Cz3PC",s="file_browser_page_view--tabletOptimizedMetaContainer--l-KYt file_browser_page_view--metaContainer--Cz3PC",c="file_browser_page_view--mobileToolBarSpacer--yNIQP",d="file_browser_page_view--hideOnMobile--P06ka",u="file_browser_page_view--newGenericFileButton--SibCM basic_form--primaryBtnGeneric--qianb basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",p="file_browser_page_view--newFilePlusIcon--XTojv",m="file_browser_page_view--viewBarWrapper--lzAB1",_="file_browser_page_view--headerWrapper--QTnvE",h="file_browser_page_view--footerWrapper--J4DbG",g="file_browser_page_view--disabledButton--tdlm2",f="file_browser_page_view--disabledButtonSvg--jFh1m"},14134:(e,t,r)=>{"use strict";r.d(t,{RS:()=>l,Ys:()=>s,_U:()=>a,is:()=>c,p$:()=>i,rP:()=>n,yd:()=>o});let n="team_tile--teamIcon--vtfgY",i="team_tile--emptyState--9kn67 tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd",a="team_tile--emptyTitle--wz7tU tiles_view--emptyTitle--Ir5LP",o="team_tile--emptyButton--eSEvu tiles_view--emptyButton--3MMre",l="team_tile--newTeamIcon--BXh0F tiles_view--newFileIcon--1n9v-",s="team_tile--joinSpinner--imJ7Z",c="team_tile--favoriteStarContainer---OsRP button_styles--button--Ix6rT"},396754:(e,t,r)=>{"use strict";r.d(t,{Ac:()=>x,Bo:()=>R,E0:()=>T,EU:()=>b,F:()=>ee,F0:()=>Z,Fb:()=>c,Gn:()=>k,HX:()=>O,HY:()=>f,Hl:()=>w,Ie:()=>s,Jr:()=>l,Ks:()=>_,LC:()=>M,N6:()=>i,Nd:()=>a,PT:()=>L,P_:()=>C,Pr:()=>q,Ps:()=>H,QB:()=>y,S:()=>et,Su:()=>h,TV:()=>D,W:()=>I,Wu:()=>F,Yw:()=>U,ZD:()=>V,Zy:()=>J,ab:()=>E,aq:()=>G,b0:()=>d,dX:()=>z,db:()=>N,eA:()=>$,fK:()=>Q,h7:()=>B,hy:()=>K,iY:()=>ei,im:()=>n,kv:()=>S,ni:()=>v,of:()=>W,p7:()=>m,pV:()=>g,q9:()=>j,qS:()=>en,re:()=>p,sD:()=>u,sH:()=>er,uD:()=>A,uz:()=>o,vK:()=>P,vg:()=>Y,x:()=>X});let n="team_upgrade_v2--teamUpgrade--emch2",i="team_upgrade_v2--breadCrumbsMenuContainer--KtEmN",a="team_upgrade_v2--cancelMenuItem--bjGcr",o="team_upgrade_v2--checkoutStepContainer--Vmcfq",l="team_upgrade_v2--checkoutPageContent--j-2g3",s="team_upgrade_v2--checkoutSidebarContainer---1wVl",c="team_upgrade_v2--stepTitle--8iV70",d="team_upgrade_v2--stepSubtitle--RKsis",u="team_upgrade_v2--adjustEditorsBody--LEJYR",p="team_upgrade_v2--adjustEditorsSection--FFme1",m="team_upgrade_v2--teamWithAvatarHandle--3w-x2",_="team_upgrade_v2--adjustEditorsRow--cSROb",h="team_upgrade_v2--adjustEditorsRowStart--l-tLI team_upgrade_v2--adjustEditorsRow--cSROb",g="team_upgrade_v2--greyDivider--mHQ7e",f="team_upgrade_v2--columnTitle--Z8-gj",E="team_upgrade_v2--editorColumn--L87RK",y="team_upgrade_v2--editorInfo--YQZ1H",b="team_upgrade_v2--normalGreyText--JAc48",v="team_upgrade_v2--truncateEditorColumnText--vM7sa",I="team_upgrade_v2--editorEmail--Wn-b5 team_upgrade_v2--normalGreyText--JAc48 team_upgrade_v2--truncateEditorColumnText--vM7sa",T="team_upgrade_v2--checkboxColumn--hhJ1s",S="team_upgrade_v2--checkbox---aBF3",w="team_upgrade_v2--plusSvg--GLi67",A="team_upgrade_v2--textLink--ZxoEU",C="team_upgrade_v2--paymentStripeContainer--6-Ttk",N="team_upgrade_v2--reviewStepBody--W-yYD",O="team_upgrade_v2--reviewStepBodyWithBusinessDetails--IUuAd",L="team_upgrade_v2--reviewStepBusinessDetails--DXfwr",R="team_upgrade_v2--reviewStepSummary--7rgPo",P="team_upgrade_v2--banner--zZD-Q",k="team_upgrade_v2--reviewStepCheckbox--lu1Yk",D="team_upgrade_v2--reviewStepUpgradeTitle--0OQIl",M="team_upgrade_v2--sidebarTitle--h0CCa",x="team_upgrade_v2--sidebarOption--axo8r",F="team_upgrade_v2--sidebarOptionLabel--DCism",U="team_upgrade_v2--sidebarOptionLabelWithAnnualSavings--3TFBs",B="team_upgrade_v2--sidebarCurrencyContainer--xqYZz",H="team_upgrade_v2--teamName--zecVG",V="team_upgrade_v2--billingCycleHeader--64mbk",G="team_upgrade_v2--radioRow--7q8jH",W="team_upgrade_v2--strikethrough--5aHSA",K="team_upgrade_v2--greyStrikethrough--v6928 team_upgrade_v2--strikethrough--5aHSA",Y="team_upgrade_v2--editorCostRow--avzd-",j="team_upgrade_v2--calculationRow--AUGmm",z="team_upgrade_v2--planComparison--b-Jrh",$="team_upgrade_v2--createTeamButton--pmLjn",Z="team_upgrade_v2--createTeamNameInput--E-cTS",q="team_upgrade_v2--createTeamIcon--OlWEH",J="team_upgrade_v2--createTeamTextInput--Drx5a",X="team_upgrade_v2--createTeamUpgradeExisting--Tde8n",Q="team_upgrade_v2--cartButton--a9UAE",ee="team_upgrade_v2--centered--ExzVe",et="team_upgrade_v2--loadingSpinner---zNsR publish_modal--spinner--7DaqW",er="team_upgrade_v2--numeric--AdnQb",en="team_upgrade_v2--badge--glbGY",ei="team_upgrade_v2--infoSection--nkK4j"},248480:(e,t,r)=>{"use strict";r.d(t,{Af:()=>I,FS:()=>g,GD:()=>_,G_:()=>c,In:()=>h,J$:()=>m,MP:()=>b,SG:()=>a,Te:()=>f,Yg:()=>y,_C:()=>l,_o:()=>d,bQ:()=>T,c6:()=>p,cI:()=>i,gb:()=>o,hI:()=>s,jw:()=>E,kL:()=>n,ny:()=>v,u1:()=>S,us:()=>w,vk:()=>u});let n="footer_banner--container--HxFNE",i="footer_banner--bannerContainer--uRlsy",a="footer_banner--mobileBannerContainer--u6y9d",o="footer_banner--iconButton--XmgF1",l="footer_banner--googleBanner--ic9N1 footer_banner--banner--i9JNi",s="footer_banner--mobileBanner--qguYw footer_banner--banner--i9JNi",c="footer_banner--wordWrapper--w2SGa",d="footer_banner--buttonWrapper--H2Stl",u="footer_banner--clickable--99aMM",p="footer_banner--figmaIcon--sGo3W footer_banner--clickable--99aMM",m="footer_banner--timerIcon--9khH9",_="footer_banner--primaryText--UWvyo",h="footer_banner--mobilePrimaryText--AHCZ9",g="footer_banner--textContainer--T1Z8U",f="footer_banner--mobileTextContainer--MUP8u",E="footer_banner--primaryTextPlaceholder--NbLik",y="footer_banner--secondaryText--6-Mgk",b="footer_banner--mobileSecondaryText--RNxnV",v="footer_banner--mobileSignUpButton--dFlxi",I="footer_banner--mobileSignUpButtonContent--9xsVM",T="footer_banner--fullWidthButtonWrapper--dTHM2",S="footer_banner--spinner--xrqKX",w="footer_banner--spinnerBlade--oJ-MF"},420711:(e,t,r)=>{"use strict";r.d(t,{B8:()=>d,BN:()=>s,Hi:()=>a,Qg:()=>n,_K:()=>o,kL:()=>i,rH:()=>u,u$:()=>l,uu:()=>c});let n="fullscreen_accessibility_tree--visuallyHidden---8P2O",i="fullscreen_accessibility_tree--container--rXuNd",a="fullscreen_accessibility_tree--debugModeNode--aGne7",o="fullscreen_accessibility_tree--debugModeNodeTransition--PP1HR",l="fullscreen_accessibility_tree--debugModeNodeRender1--sOwjz fullscreen_accessibility_tree--debugModeNode--aGne7",s="fullscreen_accessibility_tree--debugModeNodeRender2--d5GgH fullscreen_accessibility_tree--debugModeNode--aGne7",c="fullscreen_accessibility_tree--debugModeNodeRender3--ferOf fullscreen_accessibility_tree--debugModeNode--aGne7",d="fullscreen_accessibility_tree--debugModeNodeRender4--fiCWb fullscreen_accessibility_tree--debugModeNode--aGne7",u="fullscreen_accessibility_tree--node--WGNTu"},724258:(e,t,r)=>{"use strict";r.d(t,{$_:()=>m,K2:()=>i,Kt:()=>c,LE:()=>o,NV:()=>s,O$:()=>l,Qq:()=>p,UQ:()=>_,cv:()=>d,l8:()=>a,v6:()=>u,zc:()=>n});let n="action_option--iconContainer--LFlTl action_option--_iconContainerBase--FtOiz",i="action_option--largeIconContainer--T0anG action_option--_iconContainerBase--FtOiz",a="action_option--checkMarkContainer--hq6Bt action_option--iconContainer--LFlTl action_option--_iconContainerBase--FtOiz",o="action_option--shortcut--w0R75",l="action_option--largeShortcut--4uECE action_option--shortcut--w0R75",s="action_option--optionContainer--ru4UN",c="action_option--optionContainerLimitWidth--aaElZ",d="action_option--largeOptionContainer--qZzaL",u="action_option--largeOptionContainerWrapper--AePOP",p="action_option--text--fSMIm",m="action_option--largeText--d3Px5 action_option--text--fSMIm",_="action_option--largeDescription--1RlSt"},849369:(e,t,r)=>{"use strict";r.d(t,{$S:()=>I,AD:()=>l,Ad:()=>f,Cc:()=>y,G2:()=>T,H0:()=>p,I:()=>_,IV:()=>x,KX:()=>o,MI:()=>m,Ny:()=>D,OW:()=>s,P4:()=>M,Qr:()=>h,TH:()=>g,TI:()=>B,X7:()=>n,ZG:()=>v,_D:()=>P,ag:()=>A,aq:()=>U,b$:()=>L,dg:()=>N,f1:()=>b,h$:()=>V,iL:()=>E,if:()=>R,jn:()=>G,k$:()=>F,kb:()=>S,pG:()=>C,pz:()=>a,r8:()=>k,rH:()=>c,rz:()=>H,tJ:()=>u,uc:()=>d,w5:()=>w,y6:()=>O,yF:()=>i});let n="chunk_diff_details--chunkDiffDetails--jy2yz text--fontPos11--2LvXf text--_fontBase--QdLsd",i="chunk_diff_details--divider--2Mr-q",a="chunk_diff_details--layersList--e9S0c",o="chunk_diff_details--mainTitle--vdyvJ text--fontPos14--OL9Hp text--_fontBase--QdLsd",l="chunk_diff_details--disclosure--vEErG",s="chunk_diff_details--caret--u2yzQ",c="chunk_diff_details--node--c80fZ",d="chunk_diff_details--nodeLego--I9McS",u="chunk_diff_details--nodeNames--KWP3B",p="chunk_diff_details--scrollableSection--D4PjI",m="chunk_diff_details--scrollableLayers--hBhdL",_="chunk_diff_details--layersWrapper--kf9DV",h="chunk_diff_details--selectedNode--r8k42",g="chunk_diff_details--nodeTitle--hzugs",f="chunk_diff_details--nodeTitleLego--32B5s",E="chunk_diff_details--nodeTitleRowLego--ajdsT chunk_diff_details--nodeTitleLego--32B5s",y="chunk_diff_details--nodeIcon--ui-4E",b="chunk_diff_details--nodeIconLego--6JkAh",v="chunk_diff_details--leftRightContainer--b0GkS",I="chunk_diff_details--fullWidthContainer--omBg2",T="chunk_diff_details--leftRightContainerLeft--XQxsR",S="chunk_diff_details--left--aF7sL",w="chunk_diff_details--fieldName--3vTK7",A="chunk_diff_details--fieldValue--3wOgr",C="chunk_diff_details--right--Wx1G8",N="chunk_diff_details--changedElement---NaHQ",O="chunk_diff_details--layerColumn--yUJ5S",L="chunk_diff_details--layerColumnHeader--Pyum0",R="chunk_diff_details--layerColumnHeaderBold--hYrEv",P="chunk_diff_details--detailsColumnTreatments--S7L50",k="chunk_diff_details--changedLabel--jqma6 chunk_diff_details--label---p6Jd",D="chunk_diff_details--addedLabel--gLd-C chunk_diff_details--label---p6Jd",M="chunk_diff_details--removedLabel--h5i2C chunk_diff_details--label---p6Jd",x="chunk_diff_details--skipMargin--CW5U-",F="chunk_diff_details--propertyRow--XbRK9",U="chunk_diff_details--propertyElement--NIJBh",B="chunk_diff_details--changesInset--DVnsf",H="chunk_diff_details--fieldNameLego--OdYt4",V="chunk_diff_details--truncTextPadRight--E-Ke0",G="chunk_diff_details--copyableChanges--1LoXJ"},963380:(e,t,r)=>{"use strict";r.d(t,{Kn:()=>l,P3:()=>u,VO:()=>o,Xu:()=>c,hr:()=>s,i3:()=>p,ig:()=>i,kG:()=>d,q_:()=>a,vi:()=>n});let n="attachment--thumbnailButton--CfAkK",i="attachment--selectedThumbnailButton--x2RnD attachment--thumbnailButton--CfAkK",a="attachment--thumbnailImage--Jx4fa",o="attachment--lightOverlay--F8qzZ attachment--overlay--dIw1C",l="attachment--publishedThumbnailContainer--oFj0f",s="attachment--pendingThumbnailContainer--iL-xu",c="attachment--darkOverlay--l3K9x attachment--overlay--dIw1C",d="attachment--composerContainer--mP7Kx",u="attachment--deleteBadge--9aSjm",p="attachment--xIcon--hhlua"},757207:(e,t,r)=>{"use strict";r.d(t,{$S:()=>s,Du:()=>T,F7:()=>a,GI:()=>y,In:()=>I,KK:()=>N,Lo:()=>_,MJ:()=>h,OM:()=>m,Qq:()=>w,SD:()=>R,UR:()=>o,VM:()=>l,WJ:()=>O,WO:()=>S,YD:()=>A,aW:()=>L,eX:()=>i,ex:()=>C,g2:()=>b,k8:()=>g,lo:()=>f,wC:()=>u,wG:()=>c,wb:()=>d,xH:()=>E,xS:()=>n,xe:()=>p,zl:()=>v});let n="thread_comment--threadHeaderLeft--gppoV thread_comment--_threadHeader--59aR8",i="thread_comment--threadHeaderRight--1gMsu thread_comment--_threadHeader--59aR8",a="thread_comment--threadHeaderContainer--0TaTS",o="thread_comment--threadHeaderButton--psBeY",l="thread_comment--threadHeaderButtonInactive--LhTNi",s="thread_comment--addReactionButton--n1Dj5",c="thread_comment--loader--GUeJt",d="thread_comment--threadContainer--oH8Ia",u="thread_comment--threadContainerCommunityDetailsPage--W6Cmv thread_comment--threadContainer--oH8Ia",p="thread_comment--threadContainerAnimated--OT8HU thread_comment--threadContainer--oH8Ia",m="thread_comment--threadContainerInner--Bzqm7",_="thread_comment--threadElement--4grcZ thread_comment--_threadElement--PYPeg text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos13--xW8hS text--_fontBase--QdLsd",h="thread_comment--threadElementReplyContainer--6vz0m thread_comment--threadElement--4grcZ thread_comment--_threadElement--PYPeg text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos13--xW8hS text--_fontBase--QdLsd",g="thread_comment--threadSubelementNoMargin--aGW6z",f="thread_comment--indentedQuickReplyThreadSubelement--PR9a5 thread_comment--threadSubelementNoMargin--aGW6z",E="thread_comment--quickReplyThreadSubelementNoMargin--MD3aF thread_comment--threadSubelementNoMargin--aGW6z",y="thread_comment--indentedThreadSubelement--gs1fI thread_comment--threadSubelement--7-le3 thread_comment--threadSubelementNoMargin--aGW6z",b="thread_comment--rightJustified--lK8hG",v="thread_comment--leftJustified--HHuN0",I="thread_comment--quickReplyThreadElement--cZUZj thread_comment--_threadElement--PYPeg text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd",T="thread_comment--authorAvatar--xOCLt",S="thread_comment--authorHandle--fmYkb thread_comment--headerLabel--Oq7ar",w="thread_comment--text--FHTSU",A="thread_comment--grayLabel--6ZZkD thread_comment--headerLabel--Oq7ar",C="thread_comment--iconButtonSpace--VkGFf",N="thread_comment--attachmentsContainer--lOeTy",O="thread_comment--reactionsContainer--n2YcQ",L="thread_comment--resolvedIcon--YSM3V",R="thread_comment--loadingAvatar--82RED comment_cluster_elements--loadingSpinner--6derj"},386362:(e,t,r)=>{"use strict";r.d(t,{Gm:()=>g,MP:()=>m,OX:()=>l,Sg:()=>a,U0:()=>i,bQ:()=>h,fP:()=>n,i8:()=>_,iQ:()=>d,mr:()=>o,o1:()=>f,oD:()=>c,q9:()=>p,uX:()=>u,xu:()=>s});let n="thread_comment_composer--inputSectionWrapper--Bxyab",i="thread_comment_composer--newComment--eYLj7",a="thread_comment_composer--composerEmpty--VgMY7",o="thread_comment_composer--highlighted--GPAOe",l="thread_comment_composer--editableTypeahead--9R6Yd text--fontPos13--xW8hS text--_fontBase--QdLsd",s="thread_comment_composer--leftComposerButtonGroup--6jQ3I",c="thread_comment_composer--submitUpArrowIcon--e8uT9",d="thread_comment_composer--submitUpArrowIconDisabled--iPBY3 thread_comment_composer--submitUpArrowIcon--e8uT9",u="thread_comment_composer--textButton--GUo5c",p="thread_comment_composer--editSubmitButtons--GyqGL",m="thread_comment_composer--replyComposerContainer---8DSl",_="thread_comment_composer--replyAuthorElement--qze1r",h="thread_comment_composer--errorFallback--G5K6y text--fontPos13--xW8hS text--_fontBase--QdLsd thread_comment_composer--inputSectionWrapper--Bxyab",g="thread_comment_composer--errorFallbackNewComment--xlyNp thread_comment_composer--errorFallback--G5K6y text--fontPos13--xW8hS text--_fontBase--QdLsd thread_comment_composer--inputSectionWrapper--Bxyab thread_comment_composer--newComment--eYLj7",f="thread_comment_composer--actions--7LRnN"},799088:(e,t,r)=>{"use strict";r.d(t,{Lq:()=>l,N2:()=>a,Ph:()=>h,R3:()=>n,b:()=>g,bI:()=>p,el:()=>o,gZ:()=>m,hF:()=>s,h_:()=>i,kO:()=>_,qr:()=>d,wV:()=>u,wx:()=>c});let n="figma_basics_tooltip--tooltipContainer--y5pAG pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",i="figma_basics_tooltip--description--2Km4-",a="figma_basics_tooltip--tooltipContainerForToolbar--PhD77",o="figma_basics_tooltip--tooltipContainerForDesignPanel--UI7Mt",l="figma_basics_tooltip--tooltipContainerForLeftPanel--pBrWU",s="figma_basics_tooltip--tooltipContainer__noTarget--kQ-Rm",c="figma_basics_tooltip--header--1MabN text--fontPos13--xW8hS text--_fontBase--QdLsd",d="figma_basics_tooltip--footer--4iPlu",u="figma_basics_tooltip--lowerLeftText--6fDVr text--fontPos11--2LvXf text--_fontBase--QdLsd",p="figma_basics_tooltip--bottomRightContainer--zvs9g",m="figma_basics_tooltip--loadingBar--RRCLi",_="figma_basics_tooltip--filledLoadingSection--hztYR",h="figma_basics_tooltip--borderRightRadius--OD3B7",g="figma_basics_tooltip--closeButton--TYRdE"},633410:(e,t,r)=>{"use strict";r.d(t,{$J:()=>o,FC:()=>n,MY:()=>l,PA:()=>u,Wc:()=>i,_q:()=>c,nP:()=>a,sx:()=>s,yL:()=>d});let n="fullscreen_view--fullscreenHtml--NMpxO",i="fullscreen_view--fullscreenBody--w5jxN",a="fullscreen_view--flexContainer--RlX3H",o="fullscreen_view--containerExtensionOverride--JB0U9",l="fullscreen_view--page--uZukb",s="fullscreen_view--fontsIcon--sGgPE",c="fullscreen_view--filebar--IUEDt",d="fullscreen_view--rightNav--YJm34",u="fullscreen_view--additionalRightNav--0sr7T"},630171:(e,t,r)=>{"use strict";r.d(t,{$0:()=>S,$8:()=>D,CP:()=>g,DD:()=>m,DF:()=>v,GE:()=>H,Hb:()=>i,Ik:()=>O,K9:()=>x,KJ:()=>b,Kk:()=>y,Lg:()=>I,Lq:()=>_,ND:()=>c,NT:()=>N,Q9:()=>V,Sl:()=>T,ZJ:()=>P,Zl:()=>k,_H:()=>d,aW:()=>A,b6:()=>u,bV:()=>E,dp:()=>U,f:()=>o,gO:()=>F,ik:()=>n,m7:()=>h,m_:()=>R,mq:()=>w,p1:()=>f,pu:()=>C,sh:()=>M,t4:()=>B,tH:()=>L,uU:()=>a,vF:()=>p,wx:()=>s,xZ:()=>l});let n="compare_changes_modal--modalContainerLarge---iAsD",i="compare_changes_modal--modalInnerContainer--TQZcV",a="compare_changes_modal--compareChangesContainer--81M8-",o="compare_changes_modal--compareChangesContainerLarge--qGkOy",l="compare_changes_modal--containerWithSidePanel--uvMV9",s="compare_changes_modal--header--Y0WnE text--fontPos11--2LvXf text--_fontBase--QdLsd",c="compare_changes_modal--compareChangesInner--873zA",d="compare_changes_modal--leftPanel--1Kn-R",u="compare_changes_modal--history--HO13m",p="compare_changes_modal--compareChanges--r2iMv",m="compare_changes_modal--title--dK8IH",_="compare_changes_modal--loading--9Gj-T",h="compare_changes_modal--versionSubheader--IYdmY",g="compare_changes_modal--imagesContainer--g7KiK",f="compare_changes_modal--imagesContainerSideBySide--Xhrzv compare_changes_modal--imagesContainer--g7KiK",E="compare_changes_modal--imagesContainerSideBySideFullHeight--uk2gl compare_changes_modal--imagesContainerSideBySide--Xhrzv compare_changes_modal--imagesContainer--g7KiK",y="compare_changes_modal--imagesContainerFullHeight--R9vqh compare_changes_modal--imagesContainer--g7KiK",b="compare_changes_modal--imageBoxSideBySide--6Ixmv compare_changes_modal--imageBox---7rqx",v="compare_changes_modal--imageBoxOverlay--m11a8 compare_changes_modal--imageBox---7rqx",I="compare_changes_modal--imageHeader--hifS9 text--fontPos11--2LvXf text--_fontBase--QdLsd",T="compare_changes_modal--image--ikCOw",S="compare_changes_modal--noImage--MWmW0",w="compare_changes_modal--imageBoxDivider--PeKgh",A="compare_changes_modal--changeDetailsContainer--DxPGO",C="compare_changes_modal--changeDetails--Zba3y text--fontPos11--2LvXf text--_fontBase--QdLsd",N="compare_changes_modal--changeDetailsStatus--d0YuM text--fontPos11--2LvXf text--_fontBase--QdLsd",O="compare_changes_modal--fullHeightContainer--TrbSu",L="compare_changes_modal--comparableControls--D403G",R="compare_changes_modal--subheader--rEZjG",P="compare_changes_modal--subheaderSection--0Ma9N",k="compare_changes_modal--historyTitle--eRow5",D="compare_changes_modal--debugUploadFileButton--a-7YM",M="compare_changes_modal--versionName--bA2k4",x="compare_changes_modal--subheaderTitle--hQs3R",F="compare_changes_modal--ellipsis--7w991 ellipsis--ellipsis--Tjyfa",U="compare_changes_modal--versionLabel--9xe00",B="compare_changes_modal--subheaderDivider--NNzCi",H="compare_changes_modal--loadingImage--eCKqt",V="compare_changes_modal--modalError--j-tLH text--fontPos11--2LvXf text--_fontBase--QdLsd"},613122:(e,t,r)=>{"use strict";r.d(t,{Bz:()=>U,C$:()=>i,CI:()=>H,CJ:()=>o,C_:()=>h,FU:()=>F,GM:()=>l,J8:()=>S,JA:()=>p,Ku:()=>n,Mf:()=>a,NZ:()=>m,Nk:()=>_,PG:()=>v,Q3:()=>C,QL:()=>P,SR:()=>B,T7:()=>N,Ug:()=>u,Uo:()=>R,Ve:()=>O,Y0:()=>f,Yk:()=>g,b3:()=>A,cw:()=>D,fi:()=>I,gK:()=>c,hM:()=>d,iV:()=>y,k3:()=>w,mH:()=>k,pG:()=>T,pi:()=>x,qH:()=>M,u$:()=>L,xQ:()=>b,xd:()=>E,yR:()=>s});let n="keyboard_shortcut_panel--keyboardShortcutPanel--M0Z-f",i="keyboard_shortcut_panel--nav--rmt2R",a="keyboard_shortcut_panel--tab--9t5Mb",o="keyboard_shortcut_panel--thinnerTab--lUwLL",l="keyboard_shortcut_panel--spacerTab--yNO02",s="keyboard_shortcut_panel--tabActive--xPG7y keyboard_shortcut_panel--tab--9t5Mb",c="keyboard_shortcut_panel--tabLeftOfActive--aapeI keyboard_shortcut_panel--tab--9t5Mb",d="keyboard_shortcut_panel--tabRightOfActive--pA4GA keyboard_shortcut_panel--tab--9t5Mb",u="keyboard_shortcut_panel--tabActiveCompletedFirstTime--qYX3O keyboard_shortcut_panel--tabActive--xPG7y keyboard_shortcut_panel--tab--9t5Mb",p="keyboard_shortcut_panel--navWithFirstTabActive--KBbpA keyboard_shortcut_panel--nav--rmt2R",m="keyboard_shortcut_panel--navWithLastTabActive--ptUFB keyboard_shortcut_panel--nav--rmt2R",_="keyboard_shortcut_panel--closeX--QSyPA",h="keyboard_shortcut_panel--replayAnimation--ZpPzH",g="keyboard_shortcut_panel--replayAnimationActive--entZF keyboard_shortcut_panel--replayAnimation--ZpPzH",f="keyboard_shortcut_panel--tabContents--UBIdJ",E="keyboard_shortcut_panel--tabContentsCompleted--YcQRt keyboard_shortcut_panel--tabContents--UBIdJ",y="keyboard_shortcut_panel--tabContentsCompletedFirstTime--5s31O keyboard_shortcut_panel--tabContents--UBIdJ",b="keyboard_shortcut_panel--categoryCaption--7m7qR",v="keyboard_shortcut_panel--contents--8ae0D",I="keyboard_shortcut_panel--column--lHvov",T="keyboard_shortcut_panel--caption--a6WBZ",S="keyboard_shortcut_panel--shortcutRow--6AogW",w="keyboard_shortcut_panel--shortcutRowUsed--COYQU keyboard_shortcut_panel--shortcutRow--6AogW",A="keyboard_shortcut_panel--shortcutRowPressed--eQ-Vp keyboard_shortcut_panel--shortcutRow--6AogW",C="keyboard_shortcut_panel--shortcutRowPressedFirstTime--DZrX7 keyboard_shortcut_panel--shortcutRow--6AogW",N="keyboard_shortcut_panel--shortcutRowCompletedTab--F1jL4 keyboard_shortcut_panel--shortcutRowUsed--COYQU keyboard_shortcut_panel--shortcutRow--6AogW",O="keyboard_shortcut_panel--shortcutRowCompletedAllTabs--J5zY3 keyboard_shortcut_panel--shortcutRowUsed--COYQU keyboard_shortcut_panel--shortcutRow--6AogW",L="keyboard_shortcut_panel--shortcutRowHeld--XwsHX keyboard_shortcut_panel--shortcutRowUsed--COYQU keyboard_shortcut_panel--shortcutRow--6AogW",R="keyboard_shortcut_panel--and---b-w4",P="keyboard_shortcut_panel--shortcutName--Q5dhd",k="keyboard_shortcut_panel--shortcutIconCanvas---wufa",D="keyboard_shortcut_panel--shortcutIcon--zS4rz",M="keyboard_shortcut_panel--keyBindings--8LxQV",x="keyboard_shortcut_panel--keyBinding--wvHKI",F="keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp",U="keyboard_shortcut_panel--contentsSpacedOut--Jp-4I keyboard_shortcut_panel--contents--8ae0D",B="keyboard_shortcut_panel--multiCharKeyBox--LZwGA keyboard_shortcut_panel--shortcutBox--9Ltqp",H="keyboard_shortcut_panel--usage--qzeP9"},659265:(e,t,r)=>{"use strict";r.d(t,{AD:()=>s,Bm:()=>a,Gr:()=>m,HR:()=>h,Ki:()=>d,Md:()=>n,OW:()=>c,QT:()=>u,QX:()=>p,Rm:()=>i,UU:()=>o,iE:()=>l,y$:()=>_});let n="component_sidebar_asset_tile--fileName--J2dQ0 ellipsis--ellipsis--Tjyfa",i="component_sidebar_asset_tile--secondary--nsKER",a="component_sidebar_asset_tile--nameWrapper--rAA6d",o="component_sidebar_asset_tile--name--3gVvZ ellipsis--ellipsis--Tjyfa",l="component_sidebar_asset_tile--wrapper--5fJmf component_sidebar_asset_tile--_wrapperBase--7olel",s="component_sidebar_asset_tile--listWrapper--WJAUr component_sidebar_asset_tile--_wrapperBase--7olel",c="component_sidebar_asset_tile--caret---LMDc component_sidebar_asset_tile--_caretBase--eIh4G",d="component_sidebar_asset_tile--listCaret--cs9bq component_sidebar_asset_tile--_caretBase--eIh4G",u="component_sidebar_asset_tile--focusableElementWrapper---mXHu",p="component_sidebar_asset_tile--tileWrapper--GTsPX",m="component_sidebar_asset_tile--shownInFlyout--Vku5Q",_="component_sidebar_asset_tile--hoverableElementWrapper--5cPDu",h="component_sidebar_asset_tile--selectedFlyoutFocus--W6bG1"},246497:(e,t,r)=>{"use strict";r.d(t,{CL:()=>a,CR:()=>s,KB:()=>o,eb:()=>n,gd:()=>l,lN:()=>c,pJ:()=>i});let n="cursor_bot--smoothScroll--8NqWp",i="cursor_bot--cursorBotContainer--u2vDL",a="cursor_bot--progressIslandContainer--tuyOW",o="cursor_bot--progressIslandWrapper--Y6p21 cursor_bot--progressIslandBase--R1s-s",l="cursor_bot--playbackButton--fHpmO",s="cursor_bot--fullscreenEventBlocker--jPF73",c="cursor_bot--highFiveCursor--MWm2R"},780634:(e,t,r)=>{"use strict";r.d(t,{Do:()=>p,Du:()=>h,El:()=>E,JO:()=>v,Jx:()=>b,Lp:()=>S,Mc:()=>g,ON:()=>o,RW:()=>m,Rq:()=>s,Vr:()=>_,Vs:()=>f,Y:()=>a,YZ:()=>c,ZF:()=>w,h3:()=>y,hu:()=>u,jG:()=>d,kL:()=>n,qc:()=>l,qp:()=>I,se:()=>i,xn:()=>T});let n="post_to_feed_view--container--BiDZs",i="post_to_feed_view--noContentContainer--VE8Tm post_to_feed_view--container--BiDZs text--fontPos16--oMC-G text--_fontBase--QdLsd",a="post_to_feed_view--searchFilterContainer--lyX72",o="post_to_feed_view--searchBar--IwmvI",l="post_to_feed_view--searchIcon---WXsZ",s="post_to_feed_view--caretIcon--akCZQ",c="post_to_feed_view--pageMenuDropdown--bS4RV",d="post_to_feed_view--scrollContainer--syalR",u="post_to_feed_view--innerScrollContainer--aP8K2",p="post_to_feed_view--loadingSpinnerContainer--E8n20",m="post_to_feed_view--pageSection--85j7J",_="post_to_feed_view--pageHeader--ZOfTF",h="post_to_feed_view--pageHeaderFaint--p-zwO",g="post_to_feed_view--tilesGrid--Ft03l",f="post_to_feed_view--tile--9a4ta",E="post_to_feed_view--selectedTile--D6T9A post_to_feed_view--tile--9a4ta",y="post_to_feed_view--tileThumbnail--FkrR9",b="post_to_feed_view--tileOverlay--iyl2x",v="post_to_feed_view--tileDetails--FZrxQ",I="post_to_feed_view--nodeName--jbJro",T="post_to_feed_view--thumbnail--uAumv",S="post_to_feed_view--notFoundContainer--5cMl3 text--fontPos16--oMC-G text--_fontBase--QdLsd",w="post_to_feed_view--searchQuery--TIyhI"},688553:(e,t,r)=>{"use strict";r.d(t,{Nz:()=>s,X3:()=>n,e3:()=>l,f$:()=>i,lo:()=>o,x7:()=>a});let n="chit--chitThumbnail--KxCGp",i="chit--chitAlpha--Mn-aK",a="chit--chit--WdWdx",o="chit--chitBorder--ydYLm",l="chit--chitShowFocus--M0ub5 chit--chit--WdWdx",s="/** @postcss-export-raw */\n\n.chit--chitThumbnail--KxCGp {\n  width: 16px;\n  height: 16px;\n}\n\n.chit--chitAlpha--Mn-aK {\n  right: 0;\n  top: 0;\n  width: 50%;\n  height: 100%;\n  position: absolute;\n  border-top-right-radius: 1px;\n  border-bottom-right-radius: 1px;\n\n  background: url('data:image/svg+xml;utf8,%3Csvg%20width%3D%226%22%20height%3D%226%22%20viewBox%3D%220%200%206%206%22%20fill%3D%22none%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20d%3D%22M0%200H3V3H0V0Z%22%20fill%3D%22%23E1E1E1%22/%3E%3Cpath%20d%3D%22M3%200H6V3H3V0Z%22%20fill%3D%22white%22/%3E%3Cpath%20d%3D%22M3%203H6V6H3V3Z%22%20fill%3D%22%23E1E1E1%22/%3E%3Cpath%20d%3D%22M0%203H3V6H0V3Z%22%20fill%3D%22white%22/%3E%3C/svg%3E%0A');\n}\n\n.chit--chit--WdWdx {\n  border-radius: 1px;\n\n  overflow: hidden;\n  position: relative;\n  flex-shrink: 0;\n  height: 16px;\n  width: 16px;\n}\n\n[data-fpl-version='ui3'] .chit--chit--WdWdx {\n    border-radius: var(--radius-small);\n  }\n\n.chit--chitBorder--ydYLm {\n  position: absolute;\n\n  /* Our goal is to draw a 0.5px \"hairline\" border around these chits. However, Chrome\n      doesn't support sub-pixel borders and Safari doesn't support sub-pixel box-shadows,\n      so we use this hack where we draw a 1px box at twice the size and then scale it down. */\n  top: -50%;\n  left: -50%;\n  right: -50%;\n  bottom: -50%;\n  box-shadow: inset 0 0 0 1px var(--color-border, rgba(0, 0, 0, 0.1));\n  transform-origin: center center;\n  transform: scale(0.5);\n}\n\n[data-fpl-version='ui3'] .chit--chitBorder--ydYLm {\n    /* Border radius is a percentage instead of an actual value since we render chits\n    at various sizes (see: gridVariableChit), this ensures its always the right radius no matter the size */\n    border-radius: 20%;\n  }\n\n/* The above fix looks good everywhere except in FireFox on low-density displays. In that\n   case, we just throw our hands in the air and render a 1px border around the chit. */\n\n@media screen and (-webkit-max-device-pixel-ratio: 1.5), screen and (max-resolution: 1.5dppx) {\n  @supports (-moz-appearance: none) {\n    .chit--chitBorder--ydYLm {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      box-shadow: inset 0 0 0 1px var(--color-border, rgba(0, 0, 0, 0.1));\n      transform: none;\n    }\n  }\n}\n\n.chit--chitShowFocus--M0ub5:focus::after {\n    content: '';\n    position: absolute;\n\n    /* Render a border using a shadow on top of the content in .chit */\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    box-shadow: inset 0 0 0 1px var(--color-border-selected, #0d99ff);\n    transform: scale(1);\n  }\n"},747213:(e,t,r)=>{"use strict";r.d(t,{AP:()=>l,CB:()=>o,Cq:()=>p,EX:()=>c,Ee:()=>a,Mx:()=>m,Sd:()=>s,XL:()=>n,Zh:()=>d,_v:()=>_,eN:()=>g,eR:()=>h,nf:()=>i,zF:()=>u});let n="code_inspection_panels--stylePreviewCodeScrollContainer--BgxmE",i="code_inspection_panels--swatch--k-GyP",a="code_inspection_panels--inspectorRow--VL6Ua",o="code_inspection_panels--inspectionGroup--xesmI",l="code_inspection_panels--formattingControls--D3Bma",s="code_inspection_panels--platformSelect--Cq3OJ",c="code_inspection_panels--paintInspector--F0bwe",d="code_inspection_panels--generatedCode--AibGI",u="code_inspection_panels--codePanelContainer--IXb8m",p="code_inspection_panels--codePanelTitle---3WbH inspect_panels--panelTitle--HvsFh text--fontPos11--2LvXf text--_fontBase--QdLsd",m="code_inspection_panels--instancePanel--53DAN",_="code_inspection_panels--instancePanelTitle--s-rGx",h="code_inspection_panels--findSymbolLink--a-bxC blue_link--blueLink--9rlnd",g="code_inspection_panels--findSymbolLinkDisabled--cNFY5 code_inspection_panels--findSymbolLink--a-bxC blue_link--blueLink--9rlnd"},813813:(e,t,r)=>{"use strict";r.d(t,{A9:()=>y,Bz:()=>w,Dn:()=>m,F7:()=>n,G1:()=>k,G3:()=>A,Hz:()=>W,JU:()=>s,JY:()=>i,Kf:()=>l,M3:()=>H,Nw:()=>R,Pq:()=>O,Rp:()=>v,S4:()=>d,T0:()=>E,T7:()=>K,TH:()=>D,Tq:()=>p,VC:()=>B,Vd:()=>V,W0:()=>F,Xx:()=>g,YK:()=>u,Yz:()=>o,Zg:()=>G,_:()=>_,aK:()=>a,cL:()=>f,dC:()=>S,fF:()=>b,gO:()=>L,ij:()=>Y,jP:()=>x,jg:()=>N,k$:()=>I,mD:()=>c,mW:()=>P,rG:()=>C,sk:()=>M,sv:()=>U,vd:()=>j,yr:()=>h,zy:()=>T});let n="inspect_panels--inspectionPanel--q5999",i="inspect_panels--inspectionPanelNoPadding--akqko",a="inspect_panels--inspectionPanelConstrainedVerticalPadding--kau9n",o="inspect_panels--inspectionPanelNoBottomPadding--d8in-",l="inspect_panels--inspectionPanelLessBottomPadding--JRkzf",s="inspect_panels--inspectionPanelExtraBottomPadding--mJBBd",c="inspect_panels--inspectionPanelNoBorder--HOZxu",d="inspect_panels--titlelessInspectionPanel--TIW5Q inspect_panels--inspectionPanel--q5999",u="inspect_panels--tabularInspectionPanel--1wNYr inspect_panels--inspectionPanel--q5999",p="inspect_panels--titlelessTabularInspectionPanel---4s5O inspect_panels--tabularInspectionPanel--1wNYr inspect_panels--inspectionPanel--q5999",m="inspect_panels--panelTitle--HvsFh text--fontPos11--2LvXf text--_fontBase--QdLsd",_="inspect_panels--snug--xm-O-",h="inspect_panels--panelTitleText--eXEMf ellipsis--ellipsis--Tjyfa",g="inspect_panels--panelTitleTextThin--jHgrZ",f="inspect_panels--copyButton--9DNH2 blue_link--blueLink--9rlnd",E="inspect_panels--contentProperty--ozLiU text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter8Lines--WZFi8 ellipsis--_ellipsisAfterNLines--LzI7k",y="inspect_panels--copyableRow--0JP9W inspect_panels--highlightRow--fEWtj ellipsis--ellipsis--Tjyfa",b="inspect_panels--onCopyHover--08D17",v="inspect_panels--onCopyActive--qImqP",I="inspect_panels--propertyRow--07fx- inspect_panels--basePropertyRow--dLxSz inspect_panels--_basePropertyRow--StmAE",T="inspect_panels--propertyRowWithDiff--Zjo16 inspect_panels--basePropertyRow--dLxSz inspect_panels--_basePropertyRow--StmAE",S="inspect_panels--propertyRowContent--mNEn1 inspect_panels--copyableRow--0JP9W inspect_panels--highlightRow--fEWtj ellipsis--ellipsis--Tjyfa",w="inspect_panels--propertyName--eb8y- text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",A="inspect_panels--propertyNameMultiLine--8FMNI inspect_panels--propertyName--eb8y- text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",C="inspect_panels--propertyNameWrap--WWvz8 inspect_panels--propertyName--eb8y- text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",N="inspect_panels--propertyNameSpacer--Xv--k",O="inspect_panels--propertyRowContainer--VOOlz",L="inspect_panels--variablePill--6IgJW",R="inspect_panels--propertyValue--HurfX ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",P="inspect_panels--propertyValueMultiline--5-Hdm inspect_panels--propertyValue--HurfX ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",k="inspect_panels--propertyValueDefault--0lbAP ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",D="inspect_panels--propertyValueNode--two4Y blue_link--blueLink--9rlnd",M="inspect_panels--typographyPanel--oBH2a",x="inspect_panels--showMore--SGwsc text--fontPos11--2LvXf text--_fontBase--QdLsd inspect_panels--copyableRow--0JP9W inspect_panels--highlightRow--fEWtj ellipsis--ellipsis--Tjyfa",F="inspect_panels--panelCopyActionControls--F4fTa",U="inspect_panels--headerSelectionWithBorder--GHm7O inspect_selection_header--headerSelection--05a4w",B="inspect_panels--warningRow--VfsuZ text--fontPos11--2LvXf text--_fontBase--QdLsd",H="inspect_panels--multipleVariableWrapper--kRjbR",V="inspect_panels--vertical--vjb5-",G="inspect_panels--change--DNiIB",W="inspect_panels--basis--h66st",K="inspect_panels--dash--kh3M8",Y="inspect_panels--ellipsisWithWrap--8oqTj",j="inspect_panels--propertyDiffLine--Nm1re"},82131:(e,t,r)=>{"use strict";r.d(t,{DV:()=>u,Dn:()=>c,FL:()=>g,KQ:()=>m,LO:()=>i,MC:()=>E,N4:()=>d,Om:()=>h,VM:()=>y,Y7:()=>p,cL:()=>s,gn:()=>a,lN:()=>_,lS:()=>l,l_:()=>b,lo:()=>o,v9:()=>n,yr:()=>f});let n="collapsible_property_panel--showOnTitleHover--yqPoD",i="collapsible_property_panel--panelTitleRow--AV-Sv collapsible_property_panel--_hoverTarget--eRHji",a="collapsible_property_panel--ui3Row--9nUnV collapsible_property_panel--_hoverTarget--eRHji",o="collapsible_property_panel--ui3RowSelected--FZgmc",l="collapsible_property_panel--ui3RowButtons--xHUX3",s="collapsible_property_panel--styleTitle--a7BMw",c="collapsible_property_panel--panelTitle--4vpTS raw_components--panelTitle--VAQQA",d="collapsible_property_panel--titleButton--7yILK",u="collapsible_property_panel--fadeOutOnTitleUnhover--15rtL",p="collapsible_property_panel--panelTitleRowInGrid--Kq3wh collapsible_property_panel--panelTitleRow--AV-Sv collapsible_property_panel--_hoverTarget--eRHji",m="collapsible_property_panel--panelTitleRowInGridWithButton--8yQlq",_="collapsible_property_panel--panelEmptyTitleRowInGrid--TlCXf collapsible_property_panel--panelEmptyTitleRow--vDg0z collapsible_property_panel--panelTitleRow--AV-Sv collapsible_property_panel--_hoverTarget--eRHji",h="collapsible_property_panel--panelStyleTitle--R1Tqo collapsible_property_panel--panelTitle--4vpTS raw_components--panelTitle--VAQQA",g="collapsible_property_panel--panelMixedMessage--UuCKj",f="collapsible_property_panel--panelTitleText--vFGYT",E="collapsible_property_panel--titleButtons--k6Lxk",y="collapsible_property_panel--dropdownOption--cy1JZ",b="collapsible_property_panel--updateIcon--0YXMO"},371875:(e,t,r)=>{"use strict";r.d(t,{D9:()=>l,Dn:()=>o,TQ:()=>a,UD:()=>i,Vo:()=>n,dC:()=>s});let n="containing_assets_panel--componentIcon--K0Y2t",i="containing_assets_panel--buttonContainer--xwH3S",a="containing_assets_panel--componentName--Lwkmx",o="containing_assets_panel--panelTitle--18hNI",l="containing_assets_panel--componentNameRow--INBzF",s="containing_assets_panel--selectComponentIcon--Uh7sV"},641160:(e,t,r)=>{"use strict";r.d(t,{A7:()=>F,By:()=>E,FY:()=>w,GI:()=>C,I1:()=>W,KE:()=>l,Lp:()=>_,Mf:()=>I,Nw:()=>O,OI:()=>s,OT:()=>A,Pd:()=>L,Pp:()=>c,R:()=>h,RU:()=>N,T0:()=>G,Yg:()=>M,aj:()=>Y,dn:()=>y,eh:()=>f,ek:()=>i,eu:()=>m,ew:()=>o,gF:()=>k,gq:()=>u,gv:()=>D,hv:()=>v,iV:()=>S,j6:()=>K,jG:()=>p,kb:()=>x,ke:()=>P,lf:()=>g,mp:()=>n,rq:()=>R,s5:()=>H,tM:()=>d,tq:()=>U,ux:()=>a,wR:()=>B,yR:()=>T,yW:()=>b,yc:()=>V});let n="properties_panel--focusManager--iZVd8",i="properties_panel--hideOnFocus--ZF9Cv",a="properties_panel--panelPosition--oppQ8",o="properties_panel--insetForRulers--rk7or",l="properties_panel--panelContainer--cKjqh",s="properties_panel--shareButton--QK9z-",c="properties_panel--panelContainerCollapsed--KNM6O",d="properties_panel--panelContainerCollapsedWithBackground--9UCfA",u="properties_panel--scrollOuterContainer--rxp11",p="properties_panel--scrollContainer--o2LxW",m="properties_panel--panelContainerLoading--wdXCI",_="properties_panel--drillDownContainer--VaNDa",h="properties_panel--hidden--JXxwt",g="properties_panel--externalStyleLink--NJGQN",f="properties_panel--propertiesPanel--BQ7Lw",E="properties_panel--propertiesPanelNoTabs--xP4a6",y="properties_panel--propertiesPanelCollapsed--XjWdJ",b="properties_panel--tabsHeader--b5J9f pages_panel--tabsHeader--ez-pH",v="properties_panel--tabsHeaderBordered--UTQmW properties_panel--tabsHeader--b5J9f pages_panel--tabsHeader--ez-pH",I="properties_panel--tab--G8lIz pages_panel--tab--Uge5B",T="properties_panel--tabActive--s04ep pages_panel--tabActive--BitzC pages_panel--tab--Uge5B",S="properties_panel--tabActiveSingle--wUXVu properties_panel--tabActive--s04ep pages_panel--tabActive--BitzC pages_panel--tab--Uge5B",w="properties_panel--stylePreviewContainer--KAG5V",A="properties_panel--exportDefaultPanel--Ha9Bz",C="properties_panel--exportDefaultPanelTitle---Yyle",N="properties_panel--exportDefaultPanelTitleIcon--YfUgd",O="properties_panel--exportDefaultPanelMessage--PnzZn text--fontPos11--2LvXf text--_fontBase--QdLsd",L="properties_panel--prototypePanel--BXFg-",R="properties_panel--ui3ToolbarPanel--jj-VE",P="properties_panel--ui3ToolbarInstanceOrComponentPanel--3uIwT",k="properties_panel--ui3SelectionActionsContainer---7oX-",D="properties_panel--dropdownInput--EOia1",M="properties_panel--panelHeaderControls--oFMeq",x="properties_panel--left--1pgjP",F="properties_panel--fullHeightSidebarTabsHeader--PHP85",U="properties_panel--fullHeightSidebarTabs--WP5tu pages_panel--tabsHeader--ez-pH",B="properties_panel--zoomMenuContainer--GW3DS",H="properties_panel--instanceDropdownOverrides--8wA5k",V="properties_panel--bumpSelectChevronToLeft--7Xcx3",G="properties_panel--ui3FrameLayerHeaderSelect--eG1lv",W="properties_panel--ui3UnfocusedRenameComponentInputOverrides--ZCc0j",K="properties_panel--ui3FocusedRenameComponentInputOverrides--GYahZ",Y="properties_panel--ui3NodeTypeDisplay--1I8ks ellipsis--ellipsis--Tjyfa"},50275:(e,t,r)=>{"use strict";r.d(t,{AE:()=>b,D9:()=>u,Fs:()=>S,Hr:()=>E,KF:()=>a,MB:()=>y,MT:()=>i,NQ:()=>_,Nj:()=>A,Oe:()=>n,Rb:()=>N,Rt:()=>o,Rv:()=>l,TX:()=>I,WR:()=>p,ZS:()=>T,Zh:()=>w,_P:()=>s,_i:()=>m,a7:()=>c,g6:()=>g,pC:()=>h,qA:()=>C,qf:()=>d,tY:()=>O,vF:()=>v,zc:()=>f});let n="prototype_expression_builder--bottomBorder---GcEs",i="prototype_expression_builder--searchContainer--Pgq5x",a="prototype_expression_builder--searchInputContainer--jpUKl",o="prototype_expression_builder--searchInput--tyCwO",l="prototype_expression_builder--expressionError--iJ11P",s="prototype_expression_builder--builderParagraph--yNofj",c="prototype_expression_builder--placeholderPreview--YUDwq",d="prototype_expression_builder--placeholder--2aqlR",u="prototype_expression_builder--expressionBuilderContainer--HG8Mc",p="prototype_expression_builder--expressionBuilderContainerNarrow--1Gz4J prototype_expression_builder--expressionBuilderContainer--HG8Mc",m="prototype_expression_builder--expressionBuilderContainerUI3--UAteY prototype_expression_builder--expressionBuilderContainer--HG8Mc",_="prototype_expression_builder--expressionBuilderContainerCell--Ta5-9 prototype_expression_builder--expressionBuilderContainer--HG8Mc",h="prototype_expression_builder--expressionBuilderUI3--ei0jU",g="prototype_expression_builder--expressionBuilderUI3LHS--rfcBR",f="prototype_expression_builder--iconContainer--c-MAD",E="prototype_expression_builder--operator---sIkC",y="prototype_expression_builder--operatorUnary--vNe8G",b="prototype_expression_builder--operatorUnaryRightParenthesis--4JEAv",v="prototype_expression_builder--operatorUI3LeftCol--a755K",I="prototype_expression_builder--libraryPickerContainer--HTzR2",T="prototype_expression_builder--createVariableButton--FrYXp raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",S="prototype_expression_builder--createVariableDropdownOption--Q6Pvi",w="prototype_expression_builder--expressionModalWrapper--aIPUl",A="prototype_expression_builder--aiButton--WYT0D raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",C="prototype_expression_builder--aiButtonEnabled--y-QIT raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6",N="prototype_expression_builder--aiPluginContainer--aV7td prototype_expression_builder--bottomBorder---GcEs",O="prototype_expression_builder--expressionPreviewClickContainerUI3--pZb7d"},333483:(e,t,r)=>{"use strict";r.d(t,{Ah:()=>f,CZ:()=>A,DS:()=>D,Dn:()=>C,EA:()=>c,LE:()=>T,LJ:()=>d,No:()=>g,O1:()=>m,PB:()=>y,PQ:()=>n,Pf:()=>o,Tz:()=>k,U:()=>h,X0:()=>I,Z4:()=>p,Zz:()=>w,_Z:()=>s,a2:()=>b,ai:()=>_,bW:()=>N,co:()=>L,ht:()=>S,iY:()=>O,kR:()=>i,l$:()=>v,n1:()=>R,pc:()=>u,pq:()=>a,vR:()=>E,wh:()=>l,zU:()=>P});let n="raw_components--border--SKh2u",i="raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip",a="raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",o="raw_components--label--4LcC7 raw_components--base--T7G0z",l="raw_components--labelInactive--tm1fU raw_components--label--4LcC7 raw_components--base--T7G0z",s="raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",c="raw_components--textInputSoftDisabled--M5O7I",d="raw_components--noPlaceholderLine--KBoD7",u="raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",p="raw_components--noLeftBorder--QE-ZB",m="raw_components--squareRightBorder--ktojw",_="raw_components--chevron--nJiSt",h="raw_components--wide--F33jp",g="raw_components--transparentIconButtonEnabled--l2bm3 raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",f="raw_components--iconButtonDisabled--SoTjK raw_components--_iconButton---ybo6",E="raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6",y="raw_components--outlineButton--FyUoF",b="raw_components--modalPanel--wmDfl",v="raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm",I="raw_components--row200--Dgjc6 raw_components--row200Height--wotRv raw_components--_row--rHucX",T="raw_components--row150--2Q0-i raw_components--_rowHeight150--ZzVcZ raw_components--_row--rHucX",S="raw_components--row125--J20Ob raw_components--_rowHeight125--G2mEi raw_components--_row--rHucX",w="raw_components--labelRow--wxp77 raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm",A="raw_components--rowSelected--M2Eip",C="raw_components--panelTitle--VAQQA",N="raw_components--collapsiblePanelTitle--PXa3p",O="raw_components--panelTitleExtended--GoX-m raw_components--panelTitle--VAQQA",L="raw_components--panelTitleWithTip--iJvZe raw_components--panelTitle--VAQQA",R="raw_components--panelTitleWithTipText--o5oVa",P="raw_components--panelTitleWithTipIcon---l6SX",k="raw_components--panelTitleFaded--cUUkM raw_components--panelTitle--VAQQA",D="raw_components--panelIconContainer--V9E3Z"},344525:(e,t,r)=>{"use strict";r.d(t,{AN:()=>h,BB:()=>d,BI:()=>S,CU:()=>N,Df:()=>B,H9:()=>U,HT:()=>f,IK:()=>g,IZ:()=>w,JB:()=>k,O:()=>x,Om:()=>D,P2:()=>E,QF:()=>v,Qc:()=>u,Qw:()=>_,UY:()=>a,Vb:()=>m,Wm:()=>b,ZM:()=>R,ai:()=>c,fE:()=>O,fH:()=>p,hF:()=>o,hH:()=>i,kL:()=>n,l8:()=>A,nJ:()=>C,pR:()=>l,re:()=>L,sS:()=>M,tN:()=>s,uK:()=>I,w$:()=>F,x1:()=>y,yF:()=>T,z6:()=>P});let n="select--container--UJhOt raw_components--singleRowHeight--dKM4t",i="select--hiddenInput--3smCs raw_components--selectHiddenInput--bJ8vl",a="select--safariVoiceover--meUJ0",o="select--input--meQUx raw_components--base--T7G0z raw_components--border--SKh2u raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t ellipsis--ellipsis--Tjyfa",l="select--inputDisabled--08EdX select--input--meQUx raw_components--base--T7G0z raw_components--border--SKh2u raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t ellipsis--ellipsis--Tjyfa",s="select--inputTextWrapper--kEwIr",c="select--chevron--KfTY2",d="select--inputWithSvg--t6hLE",u="select--inputAlignRight--5HWz5",p="select--boldActionDropdown--ZAbhZ",m="select--inputSvg--Sqy6u",_="select--backgroundOnHover--5kQnp",h="select--inputText--I3JIv select--inputTextWrapper--kEwIr",g="select--inputTextTruncated--j6p-H ellipsis--ellipsis--Tjyfa",f="select--inputTextFill--H3tO-",E="select--dropdownContainer--0zweb _overlayBase--_overlayBase--Rkj8l",y="select--dropdownScrollClip--5ft6D",b="select--dropdown--8DAM-",v="select--dropdownContentWrapper--yDAla",I="select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",T="select--divider--HfbAX",S="select--optionFocused--8DSsx select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",w="select--optionDisabled--fEanh select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",A="select--optionHeader--34zhZ select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",C="select--optionTruncatedText--QqUBO",N="select--optionTextRemoveRightPadding--ULI6k",O="select--optionFullWidth--sW3Zl",L="select--optionText--D3BVM select--optionTruncatedText--QqUBO ellipsis--ellipsis--Tjyfa",R="select--rightLabel--I-ojL",P="select--check--xQ8c3",k="select--rightCheck--UdnTu",D="select--rightCheckText--vWTPu",M="select--topScrollIndicator--nys8N select--scrollIndicator--U0Wy-",x="select--bottomScrollIndicator--C7EE7 select--scrollIndicator--U0Wy-",F="select--scrollIndicatorChevron--9-te-",U="select--optionIcon--yngNx",B="select--iconToReplaceCheck--MMwXJ"},769502:(e,t,r)=>{"use strict";r.d(t,{A5:()=>y,Kk:()=>N,Kz:()=>o,N:()=>a,NC:()=>h,O_:()=>T,QK:()=>g,RM:()=>b,Sj:()=>c,Sz:()=>S,T$:()=>s,T1:()=>u,TE:()=>i,UN:()=>l,Yv:()=>E,Z2:()=>O,_V:()=>v,aO:()=>p,be:()=>w,hF:()=>f,j1:()=>C,kk:()=>A,mR:()=>_,mm:()=>n,oH:()=>d,uH:()=>m,zp:()=>I});let n="stack_panel_v4--doubleRow--JWS-N",i="stack_panel_v4--tripleRow--vu288 stack_panel_v4--doubleRow--JWS-N",a="stack_panel_v4--stackModeControl--Hdn8q",o="stack_panel_v4--stackSpacingControlVariables--KlE-F",l="stack_panel_v4--stackCounterSpacingControlVariables--SIIo0",s="stack_panel_v4--stackAlignmentControl--pvRL-",c="stack_panel_v4--layoutDetailsIcon--aBd9A",d="stack_panel_v4--gridLeft--zvUyF",u="stack_panel_v4--gridRight--nE-KR",p="stack_panel_v4--gridTop--y9uDT",m="stack_panel_v4--gridBottom--2Asj6",_="stack_panel_v4--gridLeftLong--d3-sD",h="stack_panel_v4--paddingControlsToggleIcon--X-Ifk",g="stack_panel_v4--inactiveLabel--fcNUD raw_components--iconInsideBorderFocusWithin--2g7fO",f="stack_panel_v4--input--VwHBa raw_components--flushLeft--YH-5P",E="stack_panel_v4--readOnlyText--ecb6J text--fontPos11--2LvXf text--_fontBase--QdLsd",y="stack_panel_v4--updateRow--iDASO",b="stack_panel_v4--migrationUpgradeButton--Z-zTU stack_panel_v4--_migrationButton--Es40L",v="stack_panel_v4--migrationDowngradeButton--JfBHS stack_panel_v4--_migrationButton--Es40L",I="stack_panel_v4--questionMarkIcon--B-faL",T="stack_panel_v4--ui3StackModeControl--GzLVB",S="stack_panel_v4--ui3ComboBoxContainer--7oZU9 dimension_input--ui3ComboBoxContainer--BbSLS",w="stack_panel_v4--selectInput--DdAPZ",A="stack_panel_v4--comboBoxInput--ewblc dimension_input--comboBoxInput--J0jWQ",C="stack_panel_v4--comboBoxPillsContainer--BiDzq dimension_input--comboBoxPillsContainer--Uv3fj",N="stack_panel_v4--icon--PJRhG",O="stack_panel_v4--textAutoResize--r9cZU"},975687:(e,t,r)=>{"use strict";r.d(t,{Aq:()=>i,E3:()=>c,Ev:()=>f,Ii:()=>_,L8:()=>a,Qb:()=>g,Vf:()=>u,Z7:()=>h,ZE:()=>l,aM:()=>o,em:()=>n,jO:()=>p,lG:()=>m,lV:()=>d,mi:()=>s,pV:()=>E,t:()=>y,wG:()=>b});let n="states_panel--selectPropertyRow--WgdpJ raw_components--_row--rHucX",i="states_panel--selectPropertyLabel--yEdA7",a="states_panel--indentedSelectPropertyLabel--VJ5Tf states_panel--selectPropertyLabel--yEdA7",o="states_panel--indentedExtendedSelectPropertyLabel--42OP1 states_panel--selectPropertyLabel--yEdA7",l="states_panel--selectPropertyDropdown--3zHBh",s="states_panel--selectExtendedPropertyDropdown--mcjM0",c="states_panel--toggleContainer--aBTvd raw_components--singleRowHeight--dKM4t",d="states_panel--toggleExtendedContainer--4-k9b raw_components--singleRowHeight--dKM4t",u="states_panel--errorStateWithCloseButtonBox--jayB0 states_panel--errorStateBoxBase--NGwjK",p="states_panel--errorStateBoxFlush--LYAGK states_panel--errorStateBox--AYnRU states_panel--errorStateBoxBase--NGwjK",m="states_panel--errorStateBoxRegular--nhPoJ states_panel--errorStateBox--AYnRU states_panel--errorStateBoxBase--NGwjK",_="states_panel--errorStateBoxHeader--zgSnc",h="states_panel--errorStateBoxTitle--pZ8tj",g="states_panel--errorStateBoxTitleText--VY8En",f="states_panel--errorStateBoxWarningIcon--5BPCj",E="states_panel--errorStateBoxLink--N1Bq6",y="states_panel--ui3ErrorStateBoxContent--07s-y",b="states_panel--instanceSwapConsumptionPanel--OeQdP"},614851:(e,t,r)=>{"use strict";r.d(t,{BP:()=>p,Cs:()=>_,GC:()=>T,KG:()=>O,Kw:()=>d,PK:()=>y,QK:()=>a,T1:()=>c,X8:()=>u,Xq:()=>h,eC:()=>g,fm:()=>f,gb:()=>l,hF:()=>n,i6:()=>S,iq:()=>b,jC:()=>I,kv:()=>A,mH:()=>C,oH:()=>s,r:()=>w,sC:()=>m,t5:()=>E,vP:()=>o,wO:()=>N,xP:()=>v,xe:()=>i});let n="transform_panel--input--nRDX0 raw_components--flushLeft--YH-5P",i="transform_panel--fplToggle--2M0Ew",a="transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO",o="transform_panel--dropdownIcon--7m7wZ",l="transform_panel--iconButton--EGQDL",s="transform_panel--gridLeft--W4laA",c="transform_panel--gridRight--3nSe7",d="transform_panel--scrubbableInputLeftColNoFocus--PBjfS",u="transform_panel--scrubbableInputRightColNoFocus--oK-l-",p="transform_panel--scrubbableInputLeftCol--AP3qU raw_components--borderFocusWithin--BaipZ transform_panel--scrubbableInputLeftColNoFocus--PBjfS",m="transform_panel--scrubbableInput--2QO5M transform_panel--scrubbableInputLeftCol--AP3qU raw_components--borderFocusWithin--BaipZ transform_panel--scrubbableInputLeftColNoFocus--PBjfS",_="transform_panel--arcToolInputs--dchQV raw_components--borderFocusWithin--BaipZ",h="transform_panel--arcToolInputsUi3--H4Qwg",g="transform_panel--arcToolRatio--G9Dq-",f="transform_panel--arcToolStart--BcMpc",E="transform_panel--arcToolSweep--Rb34n",y="transform_panel--arcToolInput--hhYYv",b="transform_panel--framePresetDropdown--qiajY",v="transform_panel--framePresetDropdownSmall--bsIDl",I="transform_panel--mirroringIcon--fj7AY transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO",T="transform_panel--handleMirroring--pp-Ug",S="transform_panel--handleMirroringInput--NteeH",w="transform_panel--handleMirroringChevron--cJBan",A="transform_panel--checkbox--dxHjN",C="transform_panel--checkboxLabel--sCUAV checkbox--_checkboxLabel--shM0N",N="transform_panel--applyVariableOption--olkGv",O="transform_panel--framePresetDropdownInput--gsuy1"},985749:(e,t,r)=>{"use strict";r.d(t,{N8:()=>i,NL:()=>s,ZR:()=>o,kv:()=>d,pX:()=>l,tT:()=>n,w8:()=>c,wn:()=>a});let n="quick_actions--qaV2Window--ylCiI",i="quick_actions--qaV2WindowInner--9CIzB text--fontPos13--xW8hS text--_fontBase--QdLsd",a="quick_actions--resultDisabled--NUR49",o="quick_actions--pluginIcon--huChm",l="quick_actions--itemCheckedDisabled---SUD4",s="quick_actions--itemChecked--DZ6yH",c="quick_actions--keyLabel--Raj-I",d="quick_actions--checkbox--Tp8PR"},255214:(e,t,r)=>{"use strict";r.d(t,{Fq:()=>m,Jg:()=>u,Sm:()=>s,XN:()=>c,bk:()=>p,gb:()=>n,i9:()=>o,mR:()=>l,oB:()=>d,og:()=>_,tA:()=>i,wH:()=>a});let n="theme_editor--iconButton--PIoXO theme_editor--baseIconButton--zQIey",i="theme_editor--fontIconButton--ln8lw theme_editor--iconButton--PIoXO theme_editor--baseIconButton--zQIey",a="theme_editor--selected--q0EMs",o="theme_editor--svgText--bqhfJ",l="theme_editor--iconActive--r-ppd",s="theme_editor--svgIcon--s2xcI",c="theme_editor--boxInherit--kGVmO",d="theme_editor--colorSelect--S7T0D",u="theme_editor--precedence--nqkZq",p="theme_editor--pickerUnderlay---g9Jh",m="theme_editor--pickerOverlay--h54x2",_="theme_editor--pickerWrapper--Q33-r"},598907:(e,t,r)=>{"use strict";r.d(t,{$8:()=>p,CZ:()=>c,FV:()=>f,Io:()=>m,Kf:()=>i,ON:()=>n,WL:()=>u,ed:()=>a,h8:()=>E,iu:()=>b,l4:()=>l,nW:()=>_,qf:()=>s,t6:()=>o,w8:()=>y,wM:()=>g,yL:()=>d,zF:()=>h});let n="plugin_parameter_entry--searchBar--fGA-G",i="plugin_parameter_entry--inputContainer--uDzoR",a="plugin_parameter_entry--inputContainerFinal--eDmCW",o="plugin_parameter_entry--inputTextBox--hHalR",l="plugin_parameter_entry--placeholderContainer--9-r-3 plugin_parameter_entry--centerItemsVertically--J04BQ",s="plugin_parameter_entry--placeholder--LODpq",c="plugin_parameter_entry--hiddenText--r0pS3",d="plugin_parameter_entry--optionalDivider--jC-j6",u="plugin_parameter_entry--parameterDescription--6kB-a text--fontPos11--2LvXf text--_fontBase--QdLsd",p="plugin_parameter_entry--noSuggestions--P6VRd",m="plugin_parameter_entry--pill--Td7lz text--fontPos11--2LvXf text--_fontBase--QdLsd",_="plugin_parameter_entry--pillIcon--9GdVI",h="plugin_parameter_entry--pluginLabelIcon--4yVQI plugin_parameter_entry--pillIcon--9GdVI",g="plugin_parameter_entry--middlePrompt--kpeqX plugin_parameter_entry--centerItemsVertically--J04BQ",f="plugin_parameter_entry--keyContainer--DcwMq plugin_parameter_entry--centerItemsVertically--J04BQ",E="plugin_parameter_entry--optionalIcons--in0Kn quick_actions--keyIcon--GFkIK",y="plugin_parameter_entry--keyLabel--fzYwW",b="plugin_parameter_entry--parameterResultTextHolder--EW-F3 plugin_parameter_entry--centerItemsVertically--J04BQ"},802454:(e,t,r)=>{"use strict";r.d(t,{$P:()=>i,D6:()=>g,DU:()=>n,EA:()=>p,Hq:()=>b,Ke:()=>l,LE:()=>f,NL:()=>y,Rt:()=>a,Tk:()=>o,V4:()=>h,VU:()=>_,Vu:()=>v,ZR:()=>u,ix:()=>s,kv:()=>T,pB:()=>m,pX:()=>E,qc:()=>d,w8:()=>I,wn:()=>c});let n="quick_actions--floating--uGf99 text--fontPos13--xW8hS text--_fontBase--QdLsd",i="quick_actions--search---Oi-e quick_actions--centerItemsVertically--Nb6JD",a="quick_actions--searchInput--PSRk5",o="quick_actions--noresult--NZsEA quick_actions--centerItemsVertically--Nb6JD",l="quick_actions--result--a2QFG quick_actions--centerItemsVertically--Nb6JD",s="quick_actions--resultActive--JnXEf quick_actions--result--a2QFG quick_actions--centerItemsVertically--Nb6JD",c="quick_actions--resultDisabled--Zuza5",d="quick_actions--searchIcon--prXl4",u="quick_actions--pluginIcon--oSF9D",p="quick_actions--iconHolder--dMD0c quick_actions--centerItemsVertically--Nb6JD",m="quick_actions--pluginIconSvg--WMsjq",_="quick_actions--rightChevronIcon--1S5oG",h="quick_actions--resultTextHolder--kfqzE quick_actions--centerItemsVertically--Nb6JD",g="quick_actions--resultText--x40-- text--fontPos13--xW8hS text--_fontBase--QdLsd",f="quick_actions--shortcut--GMKpE text--fontPos13--xW8hS text--_fontBase--QdLsd quick_actions--centerItemsVertically--Nb6JD",E="quick_actions--itemCheckedDisabled--nl8jU",y="quick_actions--itemChecked--zTpUC",b="quick_actions--tabShortcutIcon--f-UdB quick_actions--keyIcon--GFkIK",v="quick_actions--developmentPluginLabel--nhw9I text--fontPos9--naThA text--_fontBase--QdLsd quick_actions--centerItemsVertically--Nb6JD",I="quick_actions--keyLabel--pZTZK",T="quick_actions--checkbox--g-nqt"},706607:(e,t,r)=>{"use strict";r.r(t),r.d(t,{activeButton:()=>l,chevron:()=>E,delightfulMenu:()=>c,disabledButton:()=>o,enabledButton:()=>a,flyout:()=>d,flyoutButton:()=>m,flyoutDropdownShown:()=>u,fullHeightSidebarFlyout:()=>p,fullHeightSidebarFlyoutButton:()=>h,fullHeightSidebarFlyoutChevron:()=>_,fullHeightSidebarFlyoutDropdownShown:()=>g,grid:()=>f,largeDisplayDropdown:()=>y,pointingDropdown:()=>s,selected:()=>i,updatesBadge:()=>n});let n="toolbar_styles--updatesBadge--NbkFp",i="toolbar_styles--selected--zUa6K",a="toolbar_styles--enabledButton--fEwmC",o="toolbar_styles--disabledButton--wv8Iu",l="toolbar_styles--activeButton--YHzcB",s="toolbar_styles--pointingDropdown--6rrL3",c="toolbar_styles--delightfulMenu--A6bY7",d="toolbar_styles--flyout--S3qfl",u="toolbar_styles--flyoutDropdownShown--WU8JV",p="toolbar_styles--fullHeightSidebarFlyout--d9LJ3 toolbar_styles--flyout--S3qfl",m="toolbar_styles--flyoutButton--lyOUg",_="toolbar_styles--fullHeightSidebarFlyoutChevron--aENEg",h="toolbar_styles--fullHeightSidebarFlyoutButton--dU4LR toolbar_styles--flyout--S3qfl",g="toolbar_styles--fullHeightSidebarFlyoutDropdownShown--rT9w3 toolbar_styles--flyoutDropdownShown--WU8JV",f="toolbar_styles--grid--M8sVG",E="toolbar_styles--chevron--3YF14",y="toolbar_styles--largeDisplayDropdown--yFQ1V"},610544:(e,t,r)=>{"use strict";r.d(t,{Dn:()=>b,FE:()=>A,FH:()=>h,Jk:()=>u,LY:()=>y,QO:()=>T,S0:()=>_,Sn:()=>w,WB:()=>g,Xf:()=>i,Y7:()=>c,cm:()=>p,hF:()=>o,i5:()=>m,l4:()=>a,mu:()=>E,om:()=>s,r2:()=>I,r4:()=>v,sH:()=>n,sy:()=>S,vu:()=>C,wR:()=>l,wg:()=>d,zj:()=>f});let n="zoom_menu--zoomMenuBase--Uy7YH",i="zoom_menu--zoomMenu--3OqMw",a="zoom_menu--fullHeightSidebarZoomMenu--ElxlP",o="zoom_menu--input---hdA- input--darkInput--zfbnG",l="zoom_menu--zoomMenuContainer--DJXOL",s="zoom_menu--zoomMenuContainerActive--E7m0j",c="zoom_menu--fullHeightSidebarZoomMenuContainer--So738",d="zoom_menu--fullHeightSidebarZoomMenuContainerActive--jPaQb zoom_menu--fullHeightSidebarZoomMenuContainer--So738",u="zoom_menu--fullHeightSidebarZoomMenuContainerCollapsed--FpFJm zoom_menu--fullHeightSidebarZoomMenuContainer--So738",p="zoom_menu--zoomAmount--Qb6gL",m="zoom_menu--fullHeightSidebarZoomAmount---M-Dz zoom_menu--zoomAmount--Qb6gL",_="zoom_menu--fullHeightSidebarZoomAmountActive--EKFn- zoom_menu--fullHeightSidebarZoomAmount---M-Dz zoom_menu--zoomAmount--Qb6gL",h="zoom_menu--chevronContainer---jqeH",g="zoom_menu--fullHeightSidebarChevronActive--s0s-C",f="zoom_menu--zoomInputContainer---Xqu1",E="zoom_menu--zoomControls--kNX-s",y="zoom_menu--middleZoomButton--17GYR",b="zoom_menu--zoomMiddleChevronContainer--XxlkP",v="zoom_menu--zoomMiddleChevronContainerActive--dN2OQ zoom_menu--zoomMiddleChevronContainer--XxlkP",I="zoom_menu--zoomMiddleChevronSVGContainer--6TlCz",T="zoom_menu--zoomMinus--wljce",S="zoom_menu--zoomPlus--B-iye",w="zoom_menu--enabled--JWySc",A="zoom_menu--feedZoomPan--AxC05",C="zoom_menu--active--WlOsd"},565727:(e,t,r)=>{"use strict";r.d(t,{Bx:()=>l,Gq:()=>o,Io:()=>i,Nt:()=>s,Nz:()=>d,Qq:()=>a,_C:()=>c,zr:()=>n});let n="variable_pill--root--0ibUT",i="variable_pill--pill--NU8eR variable_pill_base--pillBase--HIf9B",a="variable_pill--text--Fm5k5",o="variable_pill--invalid--dxyCJ",l="variable_pill--deletedIcon--QaRlG",s="variable_pill--inferredIcon--eLJef",c="variable_pill--isHovered--qumV3",d="/** @postcss-export-raw */\n\n.variable_pill--root--0ibUT {\n  display: inline-flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 8px;\n  overflow: hidden;\n  max-width: 100%;\n}\n\n[data-fpl-version='ui3'] .variable_pill--root--0ibUT {\n    gap: var(--spacer-1);\n  }\n\n.variable_pill--pill--NU8eR {\n  display: flex;\n  gap: 3px;\n}\n\n[data-fpl-version='ui3'] .variable_pill--pill--NU8eR {\n    gap: 0;\n  }\n\n.variable_pill--text--Fm5k5 {\n  -webkit-user-select: none;\n          user-select: none;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n[data-fpl-version='ui3'] .variable_pill--text--Fm5k5 span {\n      font-family: var(--text-body-medium-font-family);\n      font-size: var(--text-body-medium-font-size);\n      font-weight: var(--text-body-medium-font-weight);\n      letter-spacing: var(--text-body-medium-letter-spacing);\n      line-height: var(--text-body-medium-line-height);\n    }\n\n.variable_pill--invalid--dxyCJ {\n  -webkit-text-decoration: line-through;\n  text-decoration: line-through;\n}\n\n.variable_pill--deletedIcon--QaRlG {\n  fill: var(--color-icon-secondary);\n}\n\n.variable_pill--inferredIcon--eLJef {\n  fill: var(--color-icon-secondary);\n}\n\n.variable_pill--inferredIcon--eLJef:hover {\n    fill: var(--color-icon-tertiary-hover);\n  }\n\n.variable_pill--root--0ibUT.variable_pill--isHovered--qumV3 .variable_pill--inferredIcon--eLJef {\n  fill: var(--color-icon-tertiary-hover);\n}\n"},107047:(e,t,r)=>{"use strict";r.d(t,{Er:()=>l,Fi:()=>p,JJ:()=>i,N:()=>u,Nz:()=>m,Q_:()=>c,RH:()=>a,Uq:()=>s,eK:()=>d,pv:()=>n,xH:()=>o});let n="variable_pill_base--pillBase--HIf9B",i="variable_pill_base--pillHasIcon--qR8Mw",a="variable_pill_base--pillSelected--WuPhz",o="variable_pill_base--pillDefault--5YSwx",l="variable_pill_base--pillDisableHover--A9znd",s="variable_pill_base--pillDefaultComponent--GMeSg",c="variable_pill_base--pillDisabled--Xci9C",d="variable_pill_base--pillDisabledTertiary--C2fJb",u="variable_pill_base--pillInSelection--HupPT",p="variable_pill_base--pillNarrow--Oai69",m="/** @postcss-export-raw */\n\n.variable_pill_base--pillBase--HIf9B {\n  align-items: center;\n  border-radius: 4px;\n  border-width: 1px;\n  border-style: solid;\n  box-sizing: border-box;\n  height: 20px;\n  overflow: hidden;\n  padding: 0 5px;\n  display: inline;\n}\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillHasIcon--qR8Mw {\n    padding: 0 5px 0 3px;\n  }\n\n[data-fpl-version='ui3'] .variable_pill_base--pillBase--HIf9B:not(.variable_pill_base--pillSelected--WuPhz):not(:hover) {\n      --color-icon: var(--color-icon-secondary);\n    }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDefault--5YSwx {\n    color: var(--color-text);\n    background-color: var(--color-bg-secondary);\n    border-color: var(--color-border);\n  }\n\n[data-fpl-version='ui3'] .variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDefault--5YSwx {\n      background-color: var(--color-bg);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDefault--5YSwx:not(.variable_pill_base--pillDisableHover--A9znd):hover {\n      background-color: var(--color-bg-tertiary);\n      border-color: var(--color-bg-tertiary);\n    }\n\n[data-fpl-version='ui3'] .variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDefault--5YSwx:not(.variable_pill_base--pillDisableHover--A9znd):hover {\n        background-color: var(--color-bg-hover);\n        border-color: var(--color-bg-hover);\n  }\n\n[data-fpl-version='ui3'] .variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDefault--5YSwx:not(.variable_pill_base--pillDisableHover--A9znd):hover:not(.variable_pill_base--pillHasIcon--qR8Mw) {\n          background-color: var(--color-bg-tertiary);\n          border-color: var(--color-bg-tertiary);\n        }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDefaultComponent--GMeSg {\n    color: var(--color-text);\n    background-color: var(--color-bg-component-tertiary);\n    border-color: var(--color-border);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDisabled--Xci9C {\n    color: var(--color-text-disabled);\n    background-color: var(--color-bg-secondary);\n    border-color: var(--color-border);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDisabled--Xci9C:not(.variable_pill_base--pillDisableHover--A9znd):hover {\n      background-color: var(--color-bg);\n      border-color: var(--color-border);\n    }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDisabledTertiary--C2fJb {\n    color: var(--color-text-tertiary);\n    background-color: var(--color-bg);\n    border-color: var(--color-border);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillSelected--WuPhz {\n    color: var(--color-text);\n    background-color: var(--color-bg-selected);\n    border-color: var(--color-border-selected);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillInSelection--HupPT {\n    color: var(--color-text);\n    background-color: var(--color-bg-onselected);\n    border-color: var(--color-border-onselected);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillNarrow--Oai69 {\n    padding: 0 2px;\n  }\n\n[data-fpl-version='ui3'] .variable_pill_base--pillBase--HIf9B {\n    border-radius: var(--radius-medium);\n    padding: var(--spacer-0) var(--spacer-1) var(--spacer-0) 0;\n  }\n\n[data-fpl-version='ui3'] .variable_pill_base--pillBase--HIf9B:not(.variable_pill_base--pillHasIcon--qR8Mw) {\n      padding-left: var(--spacer-1);\n    }\n"},194490:(e,t,r)=>{"use strict";r.d(t,{I4:()=>s,JL:()=>d,Jp:()=>i,QW:()=>o,cI:()=>l,hI:()=>c,qS:()=>a,x6:()=>n});let n="go_to_stripe_button--button--7wJjr",i="go_to_stripe_button--buttonConstrained--f8nDf",a="go_to_stripe_button--badge--aJn3P text--fontPos12--YsUAh text--_fontBase--QdLsd",o="go_to_stripe_button--warningIcon--eeAU7",l="go_to_stripe_button--bannerContainer--QiRC1",s="go_to_stripe_button--bannerContainerWarning--pqfuE go_to_stripe_button--bannerContainer--QiRC1",c="go_to_stripe_button--updatePaymentText--OJxG9 text--fontPos11--2LvXf text--_fontBase--QdLsd",d="go_to_stripe_button--bannerRight--pD3Zz"},301280:(e,t,r)=>{"use strict";r.d(t,{BF:()=>a,_V:()=>n,kV:()=>i});let n="dock--dock--A6jIs",i="dock--dockDesign--kbym5 dock--dock--A6jIs",a="dock--dockLeft--fAueV dock--dock--A6jIs"},687348:(e,t,r)=>{"use strict";r.d(t,{JX:()=>s,P0:()=>l,S:()=>c,VM:()=>i,h_:()=>o,oQ:()=>a,tJ:()=>n});let n="figjam_plugin_detail_in_editor--metadataContainer--qQ5Hi",i="figjam_plugin_detail_in_editor--coverImageNotDraggable---pwfP",a="figjam_plugin_detail_in_editor--resourceUsageDetails--SGXXh",o="figjam_plugin_detail_in_editor--description--a03k0 text--fontPos13--xW8hS text--_fontBase--QdLsd",l="figjam_plugin_detail_in_editor--communityLinkBase--9ekc6",s="figjam_plugin_detail_in_editor--communityLinkIcon---FG3j text--fontPos11--2LvXf text--_fontBase--QdLsd",c="figjam_plugin_detail_in_editor--loadingSpinner--D-Bwn browse_resources_modal--loadingSpinner--pMJQa"},179494:(e,t,r)=>{"use strict";r.d(t,{$C:()=>m,B6:()=>h,BG:()=>O,Bx:()=>U,Cq:()=>R,D1:()=>l,F$:()=>o,FV:()=>u,Gy:()=>N,JW:()=>k,MJ:()=>c,ML:()=>M,NH:()=>p,Pg:()=>E,QF:()=>P,UK:()=>s,VJ:()=>I,Vx:()=>H,Xb:()=>n,Y2:()=>D,Y9:()=>x,YB:()=>V,Yl:()=>y,ZK:()=>g,Zv:()=>L,_P:()=>i,c6:()=>a,ez:()=>G,k7:()=>W,kQ:()=>K,lI:()=>T,lO:()=>S,lP:()=>d,o2:()=>C,od:()=>b,ot:()=>B,rz:()=>F,sI:()=>A,vt:()=>_,y2:()=>v,y7:()=>f,zZ:()=>w});let n="resource_tiles--showOnHover--2v687",i="resource_tiles--figjamPluginRowIconHoverBg--0GjEb",a="resource_tiles--fauxFocused--Tk7MC",o="resource_tiles--optionsButtonActive--CnmDE resource_tiles--optionsButton--B7MN2",l="resource_tiles--optionsButtonShowOnHover--kJQHm resource_tiles--optionsButton--B7MN2 resource_tiles--showOnHover--2v687",s="resource_tiles--pluginTitleBadgeContainer--Q-9cz",c="resource_tiles--browsePluginTile--Dl1N0 resource_tiles--_browsePluginTileBase--V7a7Y resource_tiles--_browseTileBase--7oogR resource_tiles--_parentWithHoverAction--m180X",d="resource_tiles--pluginTileIcon--rmGOy resource_tiles--_browseTileIconBase--DDmKv",u="resource_tiles--pluginTileMeta--xgpJR",p="resource_tiles--browsePluginTileDevModeWizard--ApW9E",m="resource_tiles--browsePluginTileSmall--t70Gg resource_tiles--_browsePluginTileBase--V7a7Y resource_tiles--_browseTileBase--7oogR resource_tiles--_parentWithHoverAction--m180X",_="resource_tiles--pluginTileIconLoading--mas66 resource_tiles--pluginTileIcon--rmGOy resource_tiles--_browseTileIconBase--DDmKv",h="resource_tiles--pluginTileName--9Isog text--fontPos12--YsUAh text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",g="resource_tiles--pluginTileSubheader--Fihho text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",f="resource_tiles--pluginTileCommunityDescription__OLD--AQ2X1 ellipsis--ellipsis--Tjyfa",E="resource_tiles--pluginTileCommunityDescription--TiroQ ellipsis--ellipsis--Tjyfa",y="resource_tiles--communityTilePublisherAndMetrics--49SDI",b="resource_tiles--ctaButtonContainer--z2HxW",v="resource_tiles--priceBadgeContainer--6O7DF",I="resource_tiles--widgetMonetizationBadge--hXbF6",T="resource_tiles--ctaButton--qu-bG",S="resource_tiles--cta--JU9XJ text--fontPos12--YsUAh text--_fontBase--QdLsd",w="resource_tiles--buttonSubmenuChevron--af8r9",A="resource_tiles--buttonSubmenuChevronWhite--c7pTT resource_tiles--buttonSubmenuChevron--af8r9",C="resource_tiles--rowChevron--tIIjl",N="resource_tiles--widgetTileSmall--gtI7m resource_tiles--_widgetTileBase--pKu3B resource_tiles--_browseTileBase--7oogR resource_tiles--_parentWithHoverAction--m180X text--fontPos11--2LvXf text--_fontBase--QdLsd",O="resource_tiles--widgetTile--OjUTk resource_tiles--_widgetTileBase--pKu3B resource_tiles--_browseTileBase--7oogR resource_tiles--_parentWithHoverAction--m180X text--fontPos12--YsUAh text--_fontBase--QdLsd",L="resource_tiles--widgetTileIconSmall--Dox02 resource_tiles--_widgetTileIconBase--vgb2t resource_tiles--_browseTileIconBase--DDmKv",R="resource_tiles--widgetTileIcon--hGlOB resource_tiles--_widgetTileIconBase--vgb2t resource_tiles--_browseTileIconBase--DDmKv",P="resource_tiles--widgetTileMetadata--Ggrsh",k="resource_tiles--widgetTileNameContainer--HqAEf",D="resource_tiles--widgetTileName--hvW06 ellipsis--ellipsis--Tjyfa",M="resource_tiles--widgetTileSubheader--7-TT- ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",x="resource_tiles--paymentErrorIcon--w-8j9",F="resource_tiles--widgetTileDescription--Nbm5J ellipsis--ellipsis--Tjyfa",U="resource_tiles--developmentIcon--cQxaQ",B="resource_tiles--relativeContainer--7lvHF",H="resource_tiles--redDot---lNFV red_dot--baseRedDot--AZelu",V="resource_tiles--saveButtonEditorSmall--Jt970 resource_tiles--_saveButton--mDwpY",G="resource_tiles--saveButtonVisible---tZad",W="resource_tiles--saveButtonEditorLarge--nKxZq resource_tiles--_saveButton--mDwpY",K="resource_tiles--svg16--B1UCN"},983238:(e,t,r)=>{"use strict";r.d(t,{Ar:()=>B,B9:()=>d,Cr:()=>I,FQ:()=>M,Hn:()=>V,IL:()=>l,Ju:()=>S,Lq:()=>s,M3:()=>w,Mn:()=>A,Ny:()=>U,OQ:()=>E,Ok:()=>L,TI:()=>p,Ym:()=>R,ZA:()=>f,ZO:()=>m,_1:()=>n,_S:()=>o,_y:()=>P,a5:()=>x,b:()=>a,dC:()=>g,gF:()=>H,gh:()=>k,hw:()=>y,jS:()=>h,kP:()=>_,kb:()=>N,nW:()=>F,oX:()=>D,pG:()=>O,qb:()=>b,r7:()=>v,sQ:()=>C,uS:()=>u,w0:()=>c,wV:()=>i,zG:()=>T});let n="8px",i="pointer_modal--announcementPointerModalDark--9DD-M pointer_modal--announcementPointerModal---X9Ui",a="pointer_modal--closeButton--yKnli",o="pointer_modal--closeButtonExtraSpacing--e8erM",l="pointer_modal--announcementPointerModalLight--AaKLA pointer_modal--announcementPointerModal---X9Ui",s="pointer_modal--pointerModalBlue--9Jjg8 pointer_modal--pointerModal--wrpFz",c="pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",d="pointer_modal--walkThroughModalAnimateFast--Xm453 pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",u="pointer_modal--closeButtonWhite--nj2uk",p="pointer_modal--primaryCtaButtonLight--WnZAX pointer_modal--primaryCtaButton--Snffw",m="pointer_modal--primaryCtaButtonDark--ZWijN pointer_modal--primaryCtaButton--Snffw",_="pointer_modal--ctaButtonDiv--kXQXv",h="pointer_modal--secondaryCtaButtonLight---Dv4E pointer_modal--secondaryCtaButton--Jg0Yu",g="pointer_modal--secondaryCtaButtonDark--dKbwo pointer_modal--secondaryCtaButton--Jg0Yu",f="pointer_modal--footerDiv--JtCDN",E="pointer_modal--ctaContainer--luZLz",y="pointer_modal--connectorModal--Adxkh",b="pointer_modal--normal--BIIPY",v="pointer_modal--shadow--wdDMe",I="pointer_modal--bold--cXTTH",T="pointer_modal--zDom--ODE-k",S="pointer_modal--zCanvas--UhXWk",w="pointer_modal--connector--6LWaP",A="pointer_modal--top--FKowX",C="pointer_modal--bottom--eio8M",N="pointer_modal--left--1j5Nt",O="pointer_modal--right--nwMNE",L="pointer_modal--verticalConnectorLine---AFah",R="pointer_modal--horizontalConnectorLine--y5InX",P="pointer_modal--connectorNode--diOtX",k="pointer_modal--noMotion--YIicU",D="pointer_modal--topTriangleBackground--bAkvB pointer_modal--topTriangle--eTQ3K",M="pointer_modal--topTriangleForeground--BZxHM pointer_modal--topTriangle--eTQ3K",x="pointer_modal--bottomTriangleBackground--GHZc5 pointer_modal--bottomTriangle--iDHi9",F="pointer_modal--bottomTriangleForeground--2hiBJ pointer_modal--bottomTriangle--iDHi9",U="pointer_modal--rightTriangleBackground--fw0l3 pointer_modal--rightTriangle--rQltw",B="pointer_modal--rightTriangleForeground--ReV7J pointer_modal--rightTriangle--rQltw",H="pointer_modal--leftTriangleBackground--GAtIC pointer_modal--leftTriangle--p5eQp",V="pointer_modal--leftTriangleForeground--shkXU pointer_modal--leftTriangle--p5eQp"},256320:(e,t,r)=>{"use strict";r.d(t,{BL:()=>i,Db:()=>g,Dg:()=>l,GQ:()=>T,I5:()=>S,Kb:()=>I,MD:()=>p,Qn:()=>w,Qs:()=>n,S:()=>d,SV:()=>v,Tw:()=>y,Yf:()=>E,ay:()=>c,iM:()=>a,iQ:()=>_,lI:()=>A,o:()=>m,oO:()=>h,qg:()=>b,qr:()=>s,v0:()=>u,xC:()=>o,yl:()=>f,zP:()=>C});let n="rcs_components--content--N7eCo text--fontPos11--2LvXf text--_fontBase--QdLsd",i="rcs_components--content_v2--e-qFs text--fontPos11--2LvXf text--_fontBase--QdLsd",a="rcs_components--contentMobile--D3SLD text--fontPos13--xW8hS text--_fontBase--QdLsd",o="rcs_components--contentFeatureUpdate--BQecL text--fontPos11--2LvXf text--_fontBase--QdLsd rcs_components--contentLarge--1qHKL rcs_components--leftRightContent--5yuzu",l="rcs_components--imgContainer--JofI3",s="rcs_components--footer--l5bb0",c="rcs_components--footer_v3--3EWin",d="rcs_components--footerStepCounter--jKzRi",u="rcs_components--buttonRow--OfMRY",p="rcs_components--closeButtonDefault--q8cPK rcs_components--closeButtonBase--wooGI",m="rcs_components--closeButtonOnLight--rFK2o rcs_components--closeButtonBase--wooGI",_="rcs_components--closeButtonMobileOnLight--jElEv rcs_components--closeButtonOnLight--rFK2o rcs_components--closeButtonBase--wooGI",h="rcs_components--closeButtonOnDark--SRWWX rcs_components--closeButtonBase--wooGI",g="rcs_components--closeButtonHighContrast--Dlf2s rcs_components--closeButtonBase--wooGI",f="rcs_components--modal--sgfHP",E="rcs_components--mobileModal--yvxOb",y="rcs_components--welcomeSequenceModal--TOyd- rcs_components--overflowingModal--QrH-H",b="rcs_components--fullscreenBackground--tIex6",v="rcs_components--fullscreenWelcomeSequenceModal--cuKAh rcs_components--welcomeSequenceModal--TOyd- rcs_components--overflowingModal--QrH-H",I="rcs_components--modalAnimateIn--zcZjW",T="rcs_components--bottomRightModalContainer--KnCz8",S="rcs_components--centerModalContainer--V6MlJ",w="rcs_components--centerModalContainerInner--j4P5U",A="rcs_components--ctaButton--5FSzm",C="rcs_components--loadingSpinner--rOHo1"},972045:(e,t,r)=>{"use strict";r.d(t,{Cr:()=>n,G3:()=>i,Hj:()=>o,RZ:()=>g,SI:()=>s,W8:()=>l,X8:()=>c,Yl:()=>p,b:()=>a,g2:()=>m,o$:()=>d,pO:()=>h,vW:()=>_,xi:()=>u});let n="onboarding--bold--N-fnA",i="onboarding--centeredText--9h5aS",a="onboarding--closeButton--cqvr-",o="onboarding--promoPointerTitle--Z1b9a text--fontPos13--xW8hS text--_fontBase--QdLsd",l="onboarding--communityDuplicateModal--uG9y7 rcs_components--overflowingModal--QrH-H",s="onboarding--communityDuplicateModalInner--HSIRJ",c="onboarding--dismiss--Vi5jc",d="onboarding--communityNew--kHK85 text--fontPos13--xW8hS text--_fontBase--QdLsd",u="onboarding--communityLandingEditorLeft--FBrzi",p="onboarding--editorOnboardingHeader--Kk5Cb",m="onboarding--landingImgContainer--cGDDW",_="onboarding--inner--iQKer",h="onboarding--lowZIndexPointerModal--9C2QH pointer_modal--pointerModalBlue--9Jjg8 pointer_modal--pointerModal--wrpFz",g="onboarding--shelfSubtitle--juWHB text--fontPos13--xW8hS text--_fontBase--QdLsd"},692665:(e,t,r)=>{"use strict";r.d(t,{$u:()=>O,BA:()=>A,D:()=>C,E0:()=>I,Gb:()=>p,KY:()=>n,NM:()=>s,SB:()=>_,SM:()=>L,T3:()=>y,TH:()=>d,U1:()=>b,UE:()=>o,Ym:()=>R,_Z:()=>i,ai:()=>m,cE:()=>h,cr:()=>u,eO:()=>v,eh:()=>k,gE:()=>a,hP:()=>P,jG:()=>l,jm:()=>D,ld:()=>g,ln:()=>E,nM:()=>T,p$:()=>N,ry:()=>M,sI:()=>f,sM:()=>S,uH:()=>w,wY:()=>c});let n="multi_select_list--actionBar--T9qpZ",i="multi_select_list--actionBarVisible--3rWgr multi_select_list--actionBar--T9qpZ",a="multi_select_list--actionIcon--3FtZB",o="multi_select_list--arrow--CW8ia",l="multi_select_list--scrollContainer--B-Dk-",s="multi_select_list--scrollContent--bCmOd",c="multi_select_list--tableWrapper--pDejK",d="multi_select_list--tableWithNewScrollContext--Iffr4",u="multi_select_list--actionBarContentContainer--lbuSx _overlayBase--_overlayBase--Rkj8l text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",p="multi_select_list--dropdownColumn--n-MKQ table--column--974RA",m="multi_select_list--chevron--v5fMB",_="multi_select_list--actionBarContentContainerVisible--AEaW4 multi_select_list--actionBarContentContainer--lbuSx _overlayBase--_overlayBase--Rkj8l text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",h="multi_select_list--menuBarLeft--aUL8Q",g="multi_select_list--menuBarRight--ZRnOb",f="multi_select_list--menuBarDropdown--Lf9-4",E="multi_select_list--stickyHeader--FkV5r",y="multi_select_list--stickyHeaderWithBanner--9IDR1 multi_select_list--stickyHeader--FkV5r",b="multi_select_list--headerRow--22Lao",v="multi_select_list--headerRowDisabled--zG4LU multi_select_list--headerRow--22Lao multi_select_list--_disabled--INopV",I="multi_select_list--checkboxColumn--SgkHV",T="multi_select_list--row--nfio-",S="multi_select_list--unselectedCheckbox--KAaaj",w="multi_select_list--rowWithRoundedBorder--im1TP",A="multi_select_list--notFirstRowInSelectedGroup--3m6oH",C="multi_select_list--notLastRowInSelectedGroup--N4myp",N="multi_select_list--emptyState--QQcOE",O="multi_select_list--checkboxMenuButton--9l3KJ multi_select_list--_menuButtonBase--mqxd7",L="multi_select_list--batchActionCount--R41SC",R="multi_select_list--batchActionClear--7q1Vl",P="multi_select_list--actionButton--D2K4w",k="multi_select_list--dropdownColumnDisabled--Ww1Nl table--column--974RA",D="multi_select_list--longList--Oz-Pp",M="multi_select_list--longListDisabled--x8onM multi_select_list--longList--Oz-Pp multi_select_list--_disabled--INopV"},594994:(e,t,r)=>{"use strict";r.d(t,{Jw:()=>o,Lm:()=>a,NQ:()=>g,Y1:()=>m,ai:()=>h,ef:()=>s,h3:()=>n,hq:()=>y,i1:()=>c,k_:()=>l,li:()=>p,q0:()=>i,um:()=>u,vH:()=>E,vL:()=>d,xW:()=>f,zP:()=>_});let n="desktop_tool_bar--toolBarSpacerContainer--rLTCP",i="desktop_tool_bar--toolBarSpacerContainerTabletOptimized--0Tv6Q desktop_tool_bar--toolBarSpacerContainer--rLTCP",a="desktop_tool_bar--toolBarContainer--1EjL8",o="desktop_tool_bar--pageViewToolBarContainer--iC3UY desktop_tool_bar--toolBarContainer--1EjL8",l="desktop_tool_bar--settingsModalToolbarStickyContainer--lE8qt",s="desktop_tool_bar--toolBarContainerFullWidth--GT5GG desktop_tool_bar--toolBarContainer--1EjL8",c="desktop_tool_bar--toolBarLeftSide--wJapT text--fontPos13--xW8hS text--_fontBase--QdLsd",d="desktop_tool_bar--toolBarCenter--orkTM",u="desktop_tool_bar--toolBarCenterFullWidth---a4El",p="desktop_tool_bar--toolBarRightSide--XfTEn",m="desktop_tool_bar--toolBarTabContent--a1orn ellipsis--ellipsis--Tjyfa",_="desktop_tool_bar--toolBarTabContentBase--CoAtY",h="desktop_tool_bar--chevron--zwxsY",g="desktop_tool_bar--adminSettingsToolBarTabContentBase--xaPNN",f="desktop_tool_bar--adminSettingsToolBarTabContentSelected--YOoLG",E="desktop_tool_bar--chevronWithoutPadding--UcjNP",y="desktop_tool_bar--chevronSvgContainer--Fz1VL"},714786:(e,t,r)=>{"use strict";r.d(t,{AL:()=>v,BI:()=>p,DL:()=>c,Fp:()=>n,G7:()=>_,Hl:()=>i,LH:()=>f,MO:()=>u,Nn:()=>I,VQ:()=>g,YM:()=>y,e6:()=>d,ev:()=>E,hv:()=>h,j7:()=>a,ko:()=>l,nP:()=>o,vO:()=>s,xn:()=>b,yH:()=>m});let n="voice_users--voiceParticipantAvatar--7mhMG",i="voice_users--overflowRow--dyDR2",a="voice_users--nameAndSuffixContainer--GGoKj",o="voice_users--flexContainer--bWLmT",l="voice_users--flexLeftContainer--EVDRS",s="voice_users--flexRightContainer--Su6EL",c="voice_users--voiceParticipantName--MPxav text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",d="voice_users--participantStatus--cnVtZ",u="voice_users--participantRow--D4Yar",p="voice_users--hoverable--tq5aE",m="voice_users--containsCursor--Wx6C4",_="voice_users--secondaryMenuIconButtonContainer--aAh8o",h="voice_users--secondaryActionsMenuButton--2emFq",g="voice_users--secondaryActionsMenuButtonActive--QoLJK",f="voice_users--multiplayerUserView--7nAcD",E="voice_users--voiceUsersWrapper--83FhS",y="voice_users--voiceUsersOverflowScrollingContainer--KXSUW",b="voice_users--userSuffix--2OgbZ text--fontPos11--2LvXf text--_fontBase--QdLsd",v="voice_users--voiceUserHeadphonesIcon--wLuPW",I="voice_users--mutedContainer--JL7uZ"},219044:(e,t,r)=>{"use strict";r.d(t,{Am:()=>o,E:()=>l,Ir:()=>a,Kk:()=>i,MB:()=>c,me:()=>n,n_:()=>s,zf:()=>d});let n="resource_creation_action--separator--fbyNS",i="resource_creation_action--icon--o9Bgx",a="resource_creation_action--iconDisabled--rXpmM",o="resource_creation_action--figJamHoverOption--3Btfy",l="resource_creation_action--designHoverOption--pbzMC",s="resource_creation_action--importHoverOption--X-ZWt",c="resource_creation_action--piperHoverOption--Nw44J",d="resource_creation_action--seascapeHoverOption--zHGWj"},236238:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});let n="/** @postcss-export-raw */\n\n/*\n * Stylesheet for all quill editor related content.\n * Branched off of https://cdn.quilljs.com/1.3.6/quill.snow.css\n */\n\n.text-editor {\n  border: 1px solid var(--color-border, #d4d4d4);\n  border-radius: 3px;\n}\n\n.text-editor:focus-within {\n    margin: -1px;\n    border: 2px solid var(--color-border-selected, #0d99ff);\n  }\n\n[data-fpl-version='ui3'] .text-editor {\n    border-radius: var(--radius-medium);\n  }\n\n[data-fpl-version='ui3'] .text-editor:focus-within {\n      margin: var(--spacer-0);\n      border-width: 1px;\n    }\n\n.ql-toolbar button {\n    border: 1px solid transparent;\n    outline: none;\n}\n\n.ql-toolbar button:focus-visible {\n    /* stylelint-disable @figma/color-no-deprecated-theme -- TODO: refactor with semantic token */\n    border: 1px solid var(--fg-focus);\n    /* stylelint-enable @figma/color-no-deprecated-theme */\n    /* stylelint-disable @figma/color-no-deprecated-theme -- TODO: refactor with semantic token */\n    outline: 1px solid var(--fg-focus);\n    /* stylelint-enable @figma/color-no-deprecated-theme */\n    outline-offset: -2px;\n  }\n\n.ql-toolbar button:focus {\n    /* stylelint-disable @figma/color-no-deprecated-theme -- TODO: refactor with semantic token */\n    border: 1px solid var(--fg-focus);\n    /* stylelint-enable @figma/color-no-deprecated-theme */\n    /* stylelint-disable @figma/color-no-deprecated-theme -- TODO: refactor with semantic token */\n    outline: 1px solid var(--fg-focus);\n    /* stylelint-enable @figma/color-no-deprecated-theme */\n    outline-offset: -2px;\n  }\n\n.ql-toolbar button:focus:not(:focus-visible) {\n    border: 1px solid transparent;\n    outline: none;\n  }\n\n.ql-container {\n  box-sizing: border-box;\n  font-size: 11px;\n  font-family: Inter, sans-serif;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n  background-color: var(--color-bg, transparent);\n}\n\n[data-fpl-version='ui3'] .ql-container {\n    border-radius: var(--radius-medium);\n  }\n\n[data-fpl-version='ui3'] .ql-container:not(.ql-disabled) {\n      /* only add secondary background for non read-only editors in ui3 */\n      background-color: var(--color-bg-secondary);\n  }\n\n.ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n\n.ql-hidden {\n  display: none;\n}\n\n/**\n * Editor styling\n */\n\n.ql-editor {\n  box-sizing: border-box;\n  line-height: 1.7;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 6px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  max-height: 304px;\n}\n\n[data-fpl-version='ui3'] .ql-editor {\n    padding: calc(var(--spacer-1) - 1px) calc(var(--spacer-2) - 1px);\n  }\n\n/*\n * Styling for rendering the placeholder text. We differ from quill's styling\n * of the placeholder text so that we can support placeholders with multiple\n * lines without overflowing the editor.\n * See https://github.com/quilljs/quill/issues/2413 for more details.\n */\n\n.ql-editor.ql-blank::after {\n  color: var(--color-text-tertiary, #b3b3b3);\n  content: attr(data-placeholder);\n  pointer-events: none;\n  display: block;\n  /* Match editor line-height */\n  margin-top: -1.7em;\n}\n\n:not(.quill_editor--quill-readonly--Jvz-F) > .quill_editor--ql-editor--EzYln {\n  min-height: 80px;\n}\n\n.ql-editor > * {\n  cursor: text;\n}\n\n.ql-editor p,\n.ql-editor ol,\n.ql-editor ul,\n.ql-editor pre,\n.ql-editor blockquote,\n.ql-editor h1,\n.ql-editor h2 {\n  color: var(--color-text, #333333);\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n\n.ql-editor strong {\n  font-weight: bold;\n}\n\n.ql-editor h1 {\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.ql-editor h2 {\n  font-size: 14px;\n  font-weight: bold;\n}\n\n.ql-editor em {\n  font-style: italic;\n}\n\n.ql-editor s {\n  -webkit-text-decoration: line-through;\n  text-decoration: line-through;\n}\n\n.ql-editor a {\n  color: var(--color-text-brand, #0d99ff);\n  cursor: pointer;\n}\n\n.ql-editor a:hover {\n    -webkit-text-decoration: underline;\n    text-decoration: underline;\n  }\n\n.ql-editor ol,\n.ql-editor ul {\n  padding-left: 2em;\n  list-style-type: none;\n}\n\n.ql-editor ul > li::before {\n  content: '\\2022';\n}\n\n.ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n\n.ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n\n.ql-editor ol li {\n  counter-increment: list-0;\n}\n\n.ql-editor ol li::before {\n  content: counter(list-0, decimal) '. ';\n}\n\n.ql-editor code,\n.ql-editor pre.ql-syntax {\n  background-color: var(--color-bg-secondary, #f0f0f0);\n  border-radius: 3px;\n  font-family: 'Roboto Mono';\n}\n\n.ql-editor pre.ql-syntax {\n  padding: 2px 4px;\n  white-space: break-spaces;\n}\n\n.ql-editor code {\n  padding: 0px 4px;\n}\n\n/**\n * Readonly editor styling\n */\n\n.quill-readonly .ql-editor {\n  padding: 0px;\n  font-size: 14px;\n  min-height: none !important;\n  max-height: none;\n}\n\n.quill-readonly .ql-editor h1 {\n  font-size: 24px;\n}\n\n.quill-readonly .ql-editor h2 {\n  font-size: 18px;\n}\n\n/**\n * Toolbar styling\n */\n\n.ql-toolbar {\n  padding-left: 4px;\n  border-top: 1px solid var(--color-border, rgba(0, 0, 0, 0.1));\n  bottom: 0;\n  background: var(--color-bg, #fff);\n}\n\n[data-fpl-version='ui3'] .ql-toolbar {\n    border-radius: var(--spacer-0) var(--spacer-0) var(--radius-medium) var(--radius-medium);\n  }\n\n.ql-toolbar button {\n  background: none;\n  display: inline-block;\n  height: 26px;\n  width: 26px;\n  margin: 4px 1px;\n  box-sizing: border-box;\n  border-radius: 3px;\n}\n\n.ql-toolbar button:hover {\n    background: var(--color-bg-hover, #f0f0f0);\n  }\n\n.ql-toolbar button.ql-active {\n    background: var(--color-bg-selected, #f0f0f0);\n  }\n\n.ql-toolbar svg {\n  float: none;\n  margin: 0 auto;\n}\n\n.ql-toolbar button path {\n  fill: var(--color-icon, #000);\n}\n\n.ql-toolbar button.disabled {\n  background: none;\n}\n\n.ql-toolbar button.disabled:hover {\n    background: none;\n  }\n\n.ql-toolbar button.disabled path {\n  fill: var(--color-icon-disabled, rgba(0, 0, 0, 0.3));\n}\n\n/*\n * Tooltip styling\n */\n\n.ql-tooltip {\n  position: absolute;\n  transform: translateY(10px);\n  z-index: 1;\n  background-color: var(--color-bg-tooltip, #fff);\n  border: 1px solid var(--color-border-tooltip, #d4d4d4);\n  box-shadow: 0px 4px 14px var(--color-border-tooltip, rgba(0, 0, 0, 0.1));\n  color: var(--color-text-tooltip, #333333);\n  white-space: nowrap;\n  border-radius: 3px;\n}\n\n.ql-tooltip.ql-editing input[type='text'] {\n  background-color: var(--color-bg-tooltip, transparent);\n  display: inline-block;\n  font-size: 12px;\n  color: var(--color-text-tooltip, #333333);\n  height: 28px;\n  margin: 0px;\n  width: 170px;\n  padding: 0px 12px;\n  border-radius: 3px;\n}\n\n.ql-tooltip a.ql-preview {\n  display: inline-block;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n  padding-left: 12px;\n  width: 170px;\n  padding: 7px 12px;\n  color: var(--color-text-tooltip, #333333);\n}\n\n.ql-tooltip a.ql-action {\n  padding: 7px 0px;\n  width: 54px;\n  border-left: 1px solid var(--color-border-tooltip, #d4d4d4);\n  display: inline-block;\n  text-align: center;\n  -webkit-text-decoration: none;\n  text-decoration: none;\n}\n\n.ql-tooltip a.ql-action::after {\n  content: 'Edit';\n  font-size: 12px;\n}\n\n.ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: 'Save';\n  padding-right: 0px;\n}\n\n/* Input should only be shown when we are in edit mode (ie. has .ql-editing) */\n\n.ql-tooltip input[type=text],\n\n.ql-tooltip.ql-editing a.ql-preview,\n.ql-tooltip.ql-editing a.ql-preview,\n\n.ql-tooltip.ql-editing a.ql-remove {\n  display: none;\n}\n\n.quill-hide-toolbar {\n  display: none;\n}\n"},427371:(e,t,r)=>{"use strict";r.d(t,{GE:()=>s,KQ:()=>o,QH:()=>a,Sw:()=>i,_J:()=>n,ky:()=>l,lx:()=>c,qh:()=>d});let n="loading_content--shimmerAnimation--qZjRw",i="loading_content--shimmerOnMenuAnimation--U9c8t loading_content--shimmerAnimation--qZjRw",a="loading_content--lightShimmerAnimation--Iz23-",o="loading_content--loadingText--MFUIw",l="loading_content--loadingTextOnMenu--WrELp loading_content--loadingText--MFUIw",s="loading_content--loadingImage--eB8Kt",c="loading_content--loadingPrimary--HsesM",d="loading_content--fileLoadUiPlaceholder--kL-tu"},31486:(e,t,r)=>{"use strict";r.d(t,{C:()=>n,j:()=>i});let n="show_more_button--showMore--ZV0ki text--fontPos11--2LvXf text--_fontBase--QdLsd",i="show_more_button--overflow--0MYbW"},602244:(e,t,r)=>{"use strict";r.d(t,{A4:()=>q,CK:()=>N,Cu:()=>er,DD:()=>S,Dv:()=>U,FC:()=>ee,FR:()=>i,GC:()=>m,GV:()=>h,Ge:()=>T,H_:()=>X,KP:()=>l,PN:()=>A,PP:()=>_,RK:()=>$,SA:()=>z,SC:()=>D,Sl:()=>p,Tr:()=>Y,Tz:()=>M,VA:()=>P,Vj:()=>W,W0:()=>H,WM:()=>Z,XK:()=>a,Yg:()=>K,ZL:()=>O,_O:()=>b,_h:()=>d,ag:()=>G,cK:()=>R,dK:()=>x,dp:()=>u,gO:()=>V,h3:()=>Q,h5:()=>C,h7:()=>f,im:()=>F,j0:()=>k,kL:()=>n,m2:()=>c,m4:()=>L,m_:()=>B,mi:()=>v,ol:()=>et,q6:()=>E,q_:()=>w,su:()=>J,uG:()=>y,vS:()=>j,wn:()=>I,wx:()=>s,yl:()=>o,z6:()=>g});let n="generic_tile--container--6WmOy",i="generic_tile--selectedContainer--BMbuR generic_tile--container--6WmOy",a="generic_tile--tileBorder--KoZZD",o="generic_tile--genericTile--nq8a5",l="generic_tile--fileTileAvatar--giZgi",s="generic_tile--subtitleWrapper--he7jw",c="generic_tile--subtitleWrapperInner--MBcXl",d="generic_tile--ghostTileBorder--pG5-W generic_tile--tileBorder--KoZZD",u="generic_tile--pinned--wnXZ4",p="generic_tile--image--EtJVb",m="generic_tile--pinnedRedesign--78qZi",_="generic_tile--pinnedThumbnail--cvGKg",h="generic_tile--pinnedSelected--pZchz",g="generic_tile--pinnedTitle--IWD3k text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",f="generic_tile--pinnedSubtitle--VSrYC ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd generic_tile--flexHorizontally--94Xgn ellipsis--ellipsis--Tjyfa",E="generic_tile--bottomControls--BWW1p",y="generic_tile--listViewGrid--8nlF0 generic_tile--_listViewGridBase--F3bww",b="generic_tile--listView--iJ8oq text--fontPos13--xW8hS text--_fontBase--QdLsd",v="generic_tile--listContainerWithStar--862Om",I="generic_tile--facePile--lkkYj",T="generic_tile--lowerPartTitles--OQSfw generic_tile--flexVertically--Vicz2",S="generic_tile--title--8YQTt text--fontPos13--xW8hS text--_fontBase--QdLsd",w="generic_tile--restoreIcon--LH-VQ",A="generic_tile--dragFileTile--HpKXE generic_tile--selectedContainer--BMbuR generic_tile--container--6WmOy",C="generic_tile--listViewSlightlyLarger--G-4cw generic_tile--listView--iJ8oq text--fontPos13--xW8hS text--_fontBase--QdLsd",N="generic_tile--gridView--7bz6I",O="generic_tile--tileBorderWithHover--Jkcy7",L="generic_tile--standaloneFileTile--EVhjY generic_tile--container--6WmOy",R="generic_tile--dragContainer--I7600",P="generic_tile--subtitle--csXDy ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd generic_tile--flexHorizontally--94Xgn",k="generic_tile--listViewStarContainer--eGDcR",D="generic_tile--subtitleContainer--k-wHo",M="generic_tile--renameInput--9ivT7 text--fontPos13--xW8hS text--_fontBase--QdLsd",x="generic_tile--disabledTitle--65wZQ generic_tile--title--8YQTt text--fontPos13--xW8hS text--_fontBase--QdLsd",F="generic_tile--renameInputListView--PyDxZ generic_tile--renameInput--9ivT7 text--fontPos13--xW8hS text--_fontBase--QdLsd",U="generic_tile--disabledSubtitle--psW-x generic_tile--subtitle--csXDy ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd generic_tile--flexHorizontally--94Xgn",B="generic_tile--subtitleTime--T1Jm4 ellipsis--ellipsis--Tjyfa",H="generic_tile--settings--1ZvA0",V="generic_tile--ellipsis--qf17I ellipsis--ellipsis--Tjyfa",G="generic_tile--subtitleMetadata--U0WVW text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",W="generic_tile--modifiedMetadata--Y9apS",K="generic_tile--deletedTimestamp--580P4 ellipsis--ellipsis--Tjyfa",Y="generic_tile--genericTileRedesign--EtrN2",j="generic_tile--topLeftControls--5W1gM",z="generic_tile--topRightControls--ZYEl0",$="generic_tile--visible--VIGVv",Z="generic_tile--facepile--vX3i9",q="generic_tile--control--rEcCH",J="generic_tile--branchIndicator--0dVBQ",X="generic_tile--disabledThumbnail--U5m5L",Q="generic_tile--tileThumbnail--877Iv",ee="generic_tile--loadingThumbnail--e4t2O",et="generic_tile--viewOnlyLabel---KhNV",er="generic_tile--itemsViewTitle--mbBNe"},163771:(e,t,r)=>{"use strict";r.d(t,{Nz:()=>o,Pf:()=>a,bb:()=>i,zr:()=>n});let n="truncated_text--root--kx5Ta ellipsis--ellipsis--Tjyfa",i="truncated_text--rootTruncateStart--aClXJ",a="truncated_text--directionFix--T1NOI",o="/** @postcss-export-raw */\n\n.truncated_text--root--kx5Ta.truncated_text--rootTruncateStart--aClXJ {\n    /* Note that this should be flipped when we support RTL languages */\n    direction: rtl;\n    text-align: left;\n  }\n\n.truncated_text--directionFix--T1NOI {\n  /* Note that this should be flipped when we support RTL languages */\n  direction: ltr;\n  unicode-bidi: bidi-override;\n}\n"},108545:(e,t,r)=>{"use strict";r.d(t,{Id:()=>c,MW:()=>d,MZ:()=>f,R2:()=>y,RO:()=>_,Rn:()=>m,Vt:()=>l,X8:()=>o,Yp:()=>u,gC:()=>p,kL:()=>n,o1:()=>a,o2:()=>E,rf:()=>i,ub:()=>h,ut:()=>s,wI:()=>g});let n="base_cookie_banner--container--nUKFl",i="base_cookie_banner--body--lPBYi",a="base_cookie_banner--actions--1LAhr",o="base_cookie_banner--dismiss--gdSyk",l="base_cookie_banner--container__community--oc-bP",s="base_cookie_banner--container__fileViewer--522-P",c="base_cookie_banner--container__prototype--A1a4y",d="base_cookie_banner--dismissIcon--0O2Nl",u="base_cookie_banner--container__auth--okjXC",p="base_cookie_banner--container__authOrCommunity--cqdOl",m="base_cookie_banner--brandButton__small--a85Tk",_="base_cookie_banner--fileViewer__persistentMessage--2cPck",h="base_cookie_banner--fileViewer__persistentMessage_dark--p4-Bd",g="base_cookie_banner--fileViewer__persistentMessage_light---AVp5",f="base_cookie_banner--community__persistentMessage--TM90N",E="base_cookie_banner--community__persistentMessage__link--WTjS9",y="base_cookie_banner--community__persistentMessage__tooltip--g-KBY"},781779:(e,t,r)=>{"use strict";r.d(t,{$C9:()=>k,$bS:()=>eq,$rq:()=>L,A4R:()=>eA,A8q:()=>d,ANi:()=>eg,AfN:()=>eC,Ah3:()=>ed,B95:()=>et,BYv:()=>_,Bj4:()=>C,DE6:()=>ey,DN5:()=>ej,Deq:()=>A,Dmn:()=>s,DrJ:()=>T,FQK:()=>e$,FXh:()=>l,G0Y:()=>F,H2Y:()=>h,JIG:()=>eo,JIO:()=>ei,JTC:()=>R,K4N:()=>eX,KsR:()=>c,L2H:()=>a,LLI:()=>eL,Men:()=>P,N06:()=>H,PN4:()=>b,PNM:()=>es,PQh:()=>e3,Pom:()=>V,Pp8:()=>er,PyT:()=>J,Q1z:()=>e2,Q2j:()=>eG,QQQ:()=>I,Qwb:()=>Y,R3c:()=>S,RO$:()=>j,RZc:()=>u,RvK:()=>e4,SWq:()=>ee,Sb0:()=>K,T2K:()=>eZ,Tdi:()=>ep,UGg:()=>p,Uwv:()=>el,VmQ:()=>v,WGG:()=>g,Wnq:()=>D,Wsi:()=>eS,X8K:()=>ex,Z6Z:()=>U,ZzJ:()=>e1,_ML:()=>ew,_PR:()=>eN,_xV:()=>ea,aT2:()=>eJ,azl:()=>eB,bug:()=>z,c6S:()=>eD,c7Y:()=>w,dVU:()=>O,eNb:()=>eU,eg4:()=>n,evO:()=>eb,fUI:()=>eP,fVX:()=>e_,fhv:()=>eH,gnN:()=>eI,h3h:()=>eK,i4b:()=>ez,iUm:()=>eW,iow:()=>ek,isV:()=>W,jRe:()=>M,jcP:()=>eM,k0u:()=>$,k7k:()=>en,mOe:()=>eF,n7z:()=>eO,nG7:()=>eh,nLX:()=>eQ,o$v:()=>e0,oK_:()=>Q,oWd:()=>Z,p57:()=>eR,pZ4:()=>eV,qHh:()=>em,qmD:()=>G,qtk:()=>ef,t1f:()=>X,tr1:()=>E,ttE:()=>f,uAC:()=>m,vDw:()=>ec,vYY:()=>ev,vhn:()=>x,w3r:()=>N,wO8:()=>eu,wRm:()=>i,wlp:()=>eT,xif:()=>y,xri:()=>B,xuz:()=>eE,yGx:()=>eY,z8Z:()=>e5,zo1:()=>o,ztz:()=>q});let n="#e5e5e5",i="#0d99ff",a="#9747ff",o="#1bc47d",l="#f531b3",s="#00b5ce",c="#ffc700",d="#7b61ff",u="#0d99ff",p="#1bc47d",m="#f24e1e",_="#ffc700",h="#0fa958",g="#5551ff",f="#a259ff",E="#000",y="rgba(0, 0, 0, 0.06)",b="rgba(0, 0, 0, 0.8)",v="#fff",I="#333333",T="#fff",S="#000",w="rgba(0, 0, 0, 0.1)",A="#e6e6e6",C="rgba(0, 0, 0, 0.03)",N="#667799",O="#007be5",L="#9747ff",R="#ff24bd",P="#f24822",k="#ffcd29",D="#14ae5c",M="rgba(30, 30, 30, 1)",x="rgba(117, 117, 117, 1)",F="rgba(77, 77, 77, 1)",U="rgba(179, 179, 179, 1)",B="rgba(230, 230, 230, 1)",H="rgba(242, 72, 34, 1)",V="rgba(255, 199, 194, 1)",G="rgba(255, 166, 41, 1)",W="rgba(252, 209, 156, 1)",K="rgba(255, 205, 41, 1)",Y="rgba(255, 232, 163, 1)",j="rgba(20, 174, 92, 1)",z="rgba(175, 244, 198, 1)",$="rgba(13, 153, 255, 1)",Z="rgba(189, 227, 255, 1)",q="rgba(151, 71, 255, 1)",J="rgba(228, 204, 255, 1)",X="rgba(255, 255, 255, 1)",Q="rgba(175, 188, 207, 1)",ee="rgba(255, 175, 163, 1)",et="rgba(255, 196, 112, 1)",er="rgba(255, 217, 102, 1)",en="rgba(133, 224, 163, 1)",ei="rgba(128, 202, 255, 1)",ea="rgba(217, 184, 255, 1)",eo="rgba(255, 189, 242, 1)",el="rgba(230, 230, 230, 1)",es="rgba(151, 151, 151, 1)",ec="rgba(255, 153, 248, 1)",ed="rgba(255, 174, 79, 1)",eu="rgba(255, 238, 0, 1)",ep="rgba(134, 250, 22, 1)",em="rgba(111, 255, 246, 1)",e_="rgba(179, 143, 255, 1)",eh="rgba(255, 255, 255, 1)",eg="rgba(175, 175, 175, 1)",ef="rgba(255, 160, 249, 1)",eE="rgba(255, 184, 104, 1)",ey="rgba(255, 242, 52, 1)",eb="rgba(174, 255, 97, 1)",ev="rgba(126, 255, 247, 1)",eI="rgba(188, 155, 255, 1)",eT="rgba(255, 255, 255, 1)",eS="rgba(17, 17, 17, 1)",ew="rgba(117, 117, 117, 1)",eA="rgba(217, 217, 217, 1)",eC="rgba(224, 62, 26, 1)",eN="rgba(251, 188, 182, 1)",eO="rgba(247, 151, 34, 1)",eL="rgba(255, 196, 112, 1)",eR="rgba(243, 193, 27, 1)",eP="rgba(249, 223, 144, 1)",ek="rgba(25, 143, 81, 1)",eD="rgba(161, 232, 185, 1)",eM="rgba(12, 140, 233, 1)",ex="rgba(168, 215, 250, 1)",eF="rgba(138, 56, 245, 1)",eU="rgba(214, 182, 251, 1)",eB="rgba(255, 255, 255, 1)",eH="rgba(102, 119, 153, 1)",eV="rgba(242, 72, 34, 1)",eG="rgba(255, 166, 41, 1)",eW="rgba(255, 205, 41, 1)",eK="rgba(20, 174, 92, 1)",eY="rgba(13, 153, 255, 1)",ej="rgba(151, 71, 255, 1)",ez="rgba(255, 36, 189, 1)",e$="rgba(230, 230, 230, 1)",eZ="rgba(175, 188, 207, 1)",eq="rgba(252, 163, 151, 1)",eJ="rgba(255, 196, 112, 1)",eX="rgba(247, 209, 95, 1)",eQ="rgba(121, 210, 151, 1)",e0="rgba(124, 196, 248, 1)",e1="rgba(209, 168, 255, 1)",e2="rgba(253, 156, 224, 1)",e3="rgba(230, 230, 230, 1)",e5="#efefef",e4="#f8f8f8"},860168:(e,t,r)=>{"use strict";r.d(t,{$tX:()=>ed,B6G:()=>ts,BuT:()=>ew,CE4:()=>e4,CsP:()=>eK,Dts:()=>ti,DxS:()=>es,E1c:()=>tR,EJM:()=>tx,EaT:()=>tI,Eg1:()=>eS,Ep1:()=>e1,Ero:()=>T,Evg:()=>Z,Flg:()=>e_,Gu0:()=>el,HJx:()=>tM,HU0:()=>eJ,Hsg:()=>ex,Hvv:()=>p,IKB:()=>eE,ISO:()=>tk,IuL:()=>tg,J4v:()=>V,KAq:()=>ee,Ko3:()=>U,Kyn:()=>ep,LDP:()=>X,LQy:()=>tf,Lbn:()=>eZ,LdP:()=>l,M$q:()=>F,M0y:()=>eh,MGP:()=>B,MJh:()=>g,MNc:()=>ev,N21:()=>tv,N6y:()=>eB,NJv:()=>e9,Nqv:()=>er,Ocz:()=>M,P4e:()=>y,PXB:()=>eU,PXO:()=>ta,QBm:()=>ea,QP5:()=>e7,Qhc:()=>z,QtA:()=>N,RAo:()=>m,Rl:()=>eX,RtY:()=>q,Rv9:()=>J,SKA:()=>eA,TdR:()=>b,UEm:()=>k,URh:()=>tp,V51:()=>eG,VJh:()=>v,W8e:()=>ef,WPY:()=>Y,Ww7:()=>em,XMZ:()=>d,Xhb:()=>eY,Xz5:()=>tr,YEj:()=>tu,YI7:()=>$,YPH:()=>tC,YQL:()=>tl,Y_2:()=>eM,Yoj:()=>e8,Yr1:()=>eT,Ytf:()=>tc,Yub:()=>e6,ZAq:()=>tL,ZB$:()=>E,ZI8:()=>O,_C6:()=>w,aHA:()=>eb,aIx:()=>_,aqw:()=>a,avG:()=>c,bH0:()=>eV,bb$:()=>eq,bnr:()=>x,d8i:()=>L,dGl:()=>n,dOH:()=>I,dxy:()=>R,eZi:()=>S,ea4:()=>tE,ejp:()=>eD,f8Z:()=>eH,fAD:()=>td,fWT:()=>th,fXD:()=>to,fh1:()=>tb,g8m:()=>tB,gNA:()=>H,glm:()=>C,h4P:()=>o,hVg:()=>tD,hhC:()=>e3,iRR:()=>tP,i_6:()=>eP,iah:()=>eO,if6:()=>ty,ikM:()=>tU,j4N:()=>h,jNX:()=>W,jUW:()=>f,jkd:()=>ej,jl4:()=>t_,jmC:()=>eg,k$X:()=>tF,k22:()=>tO,kLz:()=>tA,kaq:()=>eQ,lRB:()=>tm,lli:()=>tS,ltq:()=>A,m52:()=>D,m8f:()=>ey,md8:()=>e$,ms_:()=>tN,nnJ:()=>ek,oBL:()=>e0,oVP:()=>eu,pXQ:()=>i,paq:()=>eL,q9j:()=>ei,qoo:()=>tt,qzr:()=>eW,r4G:()=>eF,rDe:()=>eC,rJv:()=>ec,rY4:()=>tn,rZj:()=>eN,tUy:()=>Q,tgj:()=>u,tj9:()=>e2,tui:()=>s,u24:()=>te,uj0:()=>en,v5y:()=>K,vPu:()=>tw,vdd:()=>G,wOr:()=>P,wQn:()=>e5,wgS:()=>j,wkK:()=>eR,xM9:()=>et,y9S:()=>eo,yNw:()=>tT,yUQ:()=>eI,zK5:()=>ez});let n="8px",i="32px",a="16px",o="64px",l="48px",s="48px",c="56px",d="48px",u="645px",p="264px",m="8px",_="380px",h="16px",g="64px",f="24px",E="54px",y="48px",b="365px",v="560px",I="906px",T="800px",S="400px",w="760px",A="600px",C="450px",N="48px",O="1440px",L="1230px",R="1024px",P="600px",k="180px",D="24px",M="32px",x="30px",F="12px",U="40px",B="40px",H="32px",V="8px",G="32px",W=28,K="8px",Y="140px",j="34px",z="320px",$="40px",Z="640px",q=1.778,J="32px",X="80px",Q="40px",ee="32px",et="32px",er="32px",en="240px",ei="320px",ea="1px",eo="20px",el="24px",es="224px",ec="224px",ed="32px",eu="378px",ep="536px",em="620px",e_="40px",eh="264px",eg="888px",ef="16px",eE="12px",ey="8px",eb="320px",ev="56px",eI="112px",eT="64px",eS="51px",ew="44px",eA="680px",eC="320px",eN="40px",eO="16px",eL="64px",eR="320px",eP="16px",ek="1250px",eD="1680px",eM="1320px",ex="1500px",eF="5px",eU="16px",eB="216px",eH="84px",eV="52px",eG="318px",eW="184px",eK="286px",eY="34px",ej="36px",ez="318px",e$="180px",eZ="300px",eq="397px",eJ="8px",eX="216px",eQ="240px",e0="40px",e1="28px",e2="240px",e3="240px",e5="304px",e4="6px",e8="8px",e6="6px",e7="320px",e9="360px",te="36px",tt="42px",tr="256px",tn="240px",ti="2px",ta="460px",to="596px",tl="864px",ts="48px",tc="1280px",td="905px",tu="1164px",tp="1285px",tm="1423px",t_="54px",th="80px",tg="96px",tf="92px",tE="52px",ty="12px",tb="32px",tv="24px",tI="16px",tT="240px",tS="750px",tw="184px",tA="120px",tC="32px",tN="12px",tO="260px",tL="64px",tR="344px",tP="4px",tk="100px",tD="18px",tM="768px",tx="768px",tF="32px",tU="645px",tB="1024px"},194792:(e,t,r)=>{"use strict";r.d(t,{R1:()=>o,Wb:()=>n,Zo:()=>l,_S:()=>i,zS:()=>a});let n=6,i=8,a=7,o=7,l=9},146935:(e,t,r)=>{"use strict";r.r(t),r.d(t,{adminBulkActionsBarZ:()=>s0,adminNavBarZ:()=>s5,approvedLibrariesTooltipMaxWidth:()=>n$,audioSettingsModalDropdownWidthUI3:()=>aa,audioSettingsModalWidthUI3:()=>ai,autosaveBanner:()=>ss,bannerZ:()=>l9,baseFontSize__DEPRECATED:()=>oB,bigBtnBorderRadius:()=>oG,black_1000_dark:()=>cV,black_1000_light:()=>cH,black_100_dark:()=>cB,black_100_light:()=>cU,black_200_dark:()=>cW,black_200_light:()=>cG,black_300_dark:()=>cY,black_300_light:()=>cK,black_400_dark:()=>cz,black_400_light:()=>cj,black_500_dark:()=>cZ,black_500_light:()=>c$,black_600_dark:()=>cJ,black_600_light:()=>cq,black_700_dark:()=>cQ,black_700_light:()=>cX,black_800_dark:()=>c1,black_800_light:()=>c0,black_900_dark:()=>c3,black_900_light:()=>c2,blue_1000_dark:()=>c8,blue_1000_light:()=>c6,blue_100_dark:()=>c5,blue_100_light:()=>c4,blue_200_dark:()=>c7,blue_200_light:()=>c9,blue_300_dark:()=>de,blue_300_light:()=>dt,blue_400_dark:()=>dr,blue_400_light:()=>dn,blue_500_dark:()=>di,blue_500_light:()=>da,blue_600_dark:()=>dl,blue_600_light:()=>ds,blue_700_dark:()=>dc,blue_700_light:()=>dd,blue_800_dark:()=>du,blue_800_light:()=>dp,blue_900_dark:()=>dm,blue_900_light:()=>d_,branchingModalHeight:()=>lL,branchingSidebarWidth:()=>lO,btnBorderRadius:()=>oV,canvasMentionsTypeaheadZ:()=>sV,canvasPointerZ:()=>ct,checkerboardBackgroundLighterSvg:()=>cM,checkerboardBackgroundSvg:()=>cD,commentThreadBuffer:()=>oC,commentThreadCanvasMargin:()=>oN,commentThreadHeaderHeight:()=>oR,commentThreadInnerMargin:()=>oL,commentThreadMargins:()=>oA,commentThreadOuterMargin:()=>oO,commentTypeaheadOneLineSuggestionsWidth:()=>ox,commentTypeaheadWidth:()=>oD,commentsEmojiPickerZ:()=>l8,commentsModalPadding:()=>aF,commentsNextCursor:()=>cF,communityCTABtnHeight:()=>nT,communityCardHoverZ:()=>sp,communityFeedPageFeedControlsCreatorDropdownBreakpoint:()=>nD,communityFeedPageFeedControlsEditorDropdownBreakpoint:()=>nM,communityGlobalNavDropdownBreakpoint:()=>n_,communityHubFileFullscreenMargin:()=>nF,communityHubProfilePageMobileBreakpoint:()=>nN,communityHubPublishModalWidth:()=>nA,communityHubRedesignedHomepageSearchDropdownWidth:()=>nR,communityHubRedesignedHomepageSearchWidth:()=>nP,communityHubResourcePageCommentMobileBreakpoint:()=>nL,communityHubResourcePageDesktopBreakpoint:()=>nC,communityHubResourcePageMobileBreakpoint:()=>nO,communityHubResourcePreviewCorners:()=>nU,communityMaxContainerWidth:()=>nh,communityMobileStickyFooterButtonWidth:()=>nx,communityProfileLargeDesktopMinBreakpoint:()=>nB,communityProfileMobileMaxBreakpoint:()=>nW,communityProfileMobileMetricStatsMaxBreakpoint:()=>nG,communityProfileSmallDesktopMinBreakpoint:()=>nH,communityProfileSmallTabletMaxBreakpoint:()=>nV,communityResourceDetailViewHeaderHeight:()=>nS,communityResourceDetailViewHeaderHeightShrunk:()=>nw,communityViewerMaxHeight:()=>nY,communityViewerMaxWidth:()=>nK,compareChangesImagesHeight:()=>lv,compareChangesLayersListWidth:()=>lN,compareChangesModalChangeDetailsHeight:()=>lA,compareChangesModalContainerHeight:()=>lw,compareChangesModalHeaderHeight:()=>lT,compareChangesModalHeight:()=>lC,compareChangesModalWidth:()=>lI,compareChangesSubheaderHeight:()=>lS,compareImagesHeight:()=>lb,componentPropIconPurple:()=>rm,componentPropPillPurple:()=>rp,componentSidebarUpsellHeight:()=>ly,computedPropertiesThumbnailPreviewHeight:()=>lX,computedPropertiesThumbnailPreviewPadding:()=>lQ,computedPropertiesThumbnailPreviewWidth:()=>lJ,confidentialityBannerZ:()=>cm,contextMenuZ:()=>ca,cookieBannerZ:()=>cd,cookieBannerZ__community:()=>cu,curatorTertiaryModalZ:()=>sW,cursorChatZ:()=>s9,defaultCornerRadius:()=>oH,defaultDropdownWidth:()=>iz,delightfulToolbarBannerHeight:()=>o7,delightfulToolbarHeight:()=>o9,delightfulToolbarHeightAndMargin:()=>ln,delightfulToolbarMargin:()=>le,delightfulToolbarOffsetForMakeSomethingV2:()=>la,delightfulToolbarTooltipHeight:()=>lr,delightfulToolbarZ:()=>sB,designToolbarHeight:()=>rF,devHandoffAssetPreviewMaxHeight:()=>ih,devHandoffAssetPreviewMaxWidth:()=>i_,devHandoffBottomMargin:()=>nu,devHandoffBottomUIHeightAndMargin:()=>np,devHandoffCodePanelHeaderHeight:()=>iF,devHandoffComponentPreviewMaxHeight:()=>ip,devHandoffDefaultLeftPanelWidth:()=>iS,devHandoffExtensionPanelMaxHeight:()=>ib,devHandoffExtensionPanelMinHeight:()=>iv,devHandoffLayerHeight:()=>iN,devHandoffNodeRowHeight:()=>iA,devHandoffNodesPanelHeaderHeight:()=>iC,devHandoffPanelHeaderBorderWidth:()=>iU,devHandoffPanelHeaderHeight:()=>ix,devHandoffPanelUpsellMargin:()=>iE,devHandoffPanelUpsellPadding:()=>ig,devHandoffRightPanelGridNumCols:()=>is,devHandoffRightPanelWidth:()=>iM,devHandoffSectionHeaderHeight:()=>iw,devHandoffToolbarHeight:()=>iy,devHandoffTypographyPreviewHeight:()=>im,devModeOverviewThumbnailAspectRatio:()=>iT,devModeOverviewWidth:()=>iI,diffDetailHeight:()=>lF,diffDetailPadding:()=>lU,diffDetailWidth:()=>lx,diffThumbnailHeight:()=>lP,diffThumbnailImageHeight:()=>lM,diffThumbnailImageWidth:()=>lD,diffThumbnailPadding:()=>lk,diffThumbnailWidth:()=>lR,dotGridPng:()=>cx,dotGridSize:()=>a$,draftsAndRecentsViewTwoColumnBreakpoint:()=>aj,draftsToMoveTableRowHeight:()=>lZ,dragObjectZ:()=>s3,draggableModalBorderRadius:()=>i2,draggableModalHeaderHeight:()=>i0,draggableModalZ:()=>sP,drilldownPickerSearchHeight:()=>ag,dropTargetZ:()=>sb,dropdownItemHeight:()=>iY,dropdownSearchInputMaxWidth:()=>nf,dropdownZ:()=>ci,dsaFontFeatures:()=>cP,editorEmojiTypeaheadZ:()=>sH,embedDocumentationFooter:()=>nc,exportPickerMaxHeight:()=>oa,exportPickerWidth:()=>oi,eyedropperHeight:()=>lY,eyedropperMargin:()=>lW,eyedropperWidth:()=>lK,facebookBlue:()=>ru,facetedSearchContainerWidth:()=>nt,facetedSearchInputMargin:()=>ne,facetedSearchPreviewRowHeight:()=>nr,feedPageMobileWidth:()=>nk,figJamBrowseResourceModalZ:()=>sR,figJamCommentsViewportShrinkWidth:()=>aO,figJamCommentsViewportShrinkWidthDockedLibaries:()=>aL,figJamEmojiWheelBorder:()=>aM,figJamEmojiWheelSize:()=>aD,figJamEmojiWheelSizeInt:()=>ax,figJamGifsModalHeight:()=>aP,figJamGifsModalWidth:()=>aR,figJamLibrariesModalHeight:()=>aT,figJamLibrariesModalPadding:()=>aw,figJamLibrariesModalScrollContainerHeight:()=>aS,figJamLibrariesViewportWidthWhenFullyExpanded:()=>aA,figJamLibrariesViewportWidthWhenShrunk:()=>aC,figJamUniversalInsertViewportWidthWhenFullyExpanded:()=>aN,figjamBorderRadius:()=>ak,figjamBrowseResourceModalWidth:()=>aI,figjamFGGray:()=>e5,figjamHighlighterLime:()=>K,figjamOutlineView:()=>sg,figjamPurple:()=>e2,figjamPurple1:()=>e3,figjamSearchBarModalWidth:()=>i6,figjamSidebarWidth:()=>oF,figjamSurveyZ:()=>sz,figjamToolbarHeight:()=>rU,figjamUniversalInsertCollageItemSize:()=>ao,figjamUniversalInsertModalCategoryViewHeaderHeight:()=>ad,figjamUniversalInsertModalDetailViewFooterHeight:()=>ac,figjamUniversalInsertModalDetailViewHeaderHeight:()=>as,figjamUniversalInsertModalHeaderHeight:()=>al,figmaBGBlack:()=>eL,figmaBGGrey:()=>eO,figmaBGGreyOpaque:()=>eN,figmaBGHUD:()=>eR,figmaBGPreviewGrey:()=>eK,figmaBGRed03:()=>eM,figmaBGRed08:()=>eD,figmaBGSilver:()=>eC,figmaBGToolbar:()=>eP,figmaBGWhite:()=>eA,figmaBlack__DEPRECATED:()=>r_,figmaBlue:()=>U,figmaBrandBlue:()=>q,figmaBrandBlueButton:()=>ek,figmaBrandBlueTint:()=>Z,figmaBrandCoral:()=>j,figmaBrandDarkGrey:()=>ee,figmaBrandGoldenYellow:()=>z,figmaBrandGreen:()=>$,figmaBrandLightGrey:()=>Q,figmaBrandSecondaryLightBlue:()=>et,figmaBrandViolet:()=>X,figmaBrandVioletTint:()=>J,figmaBrandWarmRed:()=>Y,figmaBrowseIABlack:()=>ez,figmaBrowseIABlack2:()=>e$,figmaComponentFlyoutModalMaxHeight:()=>ay,figmaComponentFlyoutModalPadding:()=>aE,figmaComponentFlyoutModalThumbnailHeight:()=>av,figmaComponentFlyoutModalWidth:()=>af,figmaComponentFlyoutTextMaxCollapsedHeight:()=>ab,figmaDarkBlue__DEPRECATED:()=>rw,figmaDarkGray__DEPRECATED:()=>rh,figmaDarkestBlue__DEPRECATED:()=>rA,figmaFGBlack:()=>er,figmaFGBlack03:()=>en,figmaFGBlack06:()=>ei,figmaFGBlack08:()=>ea,figmaFGBlack1:()=>el,figmaFGBlack15:()=>eo,figmaFGBlack2:()=>es,figmaFGBlack2Opaque:()=>ew,figmaFGBlack3:()=>ec,figmaFGBlack3Opaque:()=>eS,figmaFGBlack4:()=>ed,figmaFGBlack5:()=>eu,figmaFGBlack54:()=>ep,figmaFGBlack5Opaque:()=>eT,figmaFGBlack6:()=>em,figmaFGBlack8:()=>e_,figmaFGBlack8Opaque:()=>eI,figmaFGWhite:()=>eh,figmaFGWhite1:()=>eg,figmaFGWhite2:()=>ef,figmaFGWhite4:()=>eE,figmaFGWhite5:()=>ey,figmaFGWhite6:()=>eb,figmaFGWhite8:()=>ev,figmaGray__DEPRECATED:()=>rE,figmaGreen:()=>V,figmaInsertModalHeaderHeight:()=>am,figmaInsertModalHeight:()=>au,figmaInsertModalPadding:()=>a_,figmaInsertModalWidth:()=>ap,figmaInsertSearchBarContainerHeight:()=>ah,figmaLightBlue__DEPRECATED:()=>rT,figmaLightGray__DEPRECATED:()=>ry,figmaLightLightBlue__DEPRECATED:()=>rS,figmaLightLightGray__DEPRECATED:()=>rb,figmaLightestGray__DEPRECATED:()=>rv,figmaMediumGray__DEPRECATED:()=>rg,figmaMediumLightGray__DEPRECATED:()=>rf,figmaMediumPurple__DEPRECATED:()=>rC,figmaModalBoxShadow:()=>ej,figmaOrange__DEPRECATED:()=>rN,figmaPink:()=>H,figmaProfileHeaderDropShadow:()=>eY,figmaPurple:()=>B,figmaRed:()=>G,figmaSpecialBlue3:()=>ex,figmaSpecialBlue3SelectionA:()=>eF,figmaSpecialOutline:()=>eV,figmaSpecialOutlineOpaque:()=>eG,figmaSpecialPurple4SelectionA:()=>eU,figmaSpecialScrollbar:()=>eW,figmaSpecialSelectionA:()=>eB,figmaSpecialSelectionB:()=>eH,figmaWhite__DEPRECATED:()=>rI,figmaYellow:()=>W,figmascopeStandardRowHeight:()=>lq,fileBrowserFilterRightPadding:()=>r7,fileBrowserFooterHeight:()=>r6,fileBrowserHeaderHeight:()=>rZ,fileBrowserHeaderZ:()=>sd,fileBrowserInPageFileCreationButtonHeight:()=>rj,fileBrowserLeftNavWidth:()=>aH,fileBrowserLeftPaddingWidth:()=>r0,fileBrowserLeftPaddingWidthMobile:()=>r1,fileBrowserLockZ:()=>ce,fileBrowserMobileWidth:()=>r2,fileBrowserPageHeaderHeight:()=>rz,fileBrowserSearchBarMaxWidth:()=>rJ,fileBrowserSearchPreviewMinWidth:()=>rX,fileBrowserSearchPreviewWidth:()=>rQ,fileBrowserSearchScopeHeight:()=>rq,fileBrowserSidebarGap:()=>r8,fileBrowserSidebarPadding:()=>r4,fileBrowserSidebarWidth:()=>r5,fileBrowserTabletWidth:()=>r3,fileBrowserToolBarHeight:()=>rG,fileBrowserToolBarHeightWithBorder:()=>rW,fileBrowserViewBarHeight:()=>rY,fileBrowserViewBarTop:()=>rK,fileBrowserWelcomeModalBottomPadding:()=>lV,fileFooterZ:()=>l7,filePermissionsModalPadding:()=>o8,filePermissionsModalSpacing:()=>o6,filePermissionsModalTabsHeight:()=>o4,filebarHeight:()=>rx,firstDraftColorPickerZ:()=>sY,firstDraftColorUnderlayZ:()=>sK,fixedHeaderDropTargetZ:()=>sI,fixedHeaderZ:()=>sv,flashZ:()=>s8,flyoutZ:()=>sL,fontPickerFontSetRowHeight:()=>om,fontPickerItemRowHeight:()=>o_,fontPickerScrollContainerHeight:()=>os,fontPickerWidth:()=>op,footerPillHeight:()=>nd,footerPillRadius:()=>lf,frontendShaOverrideIndicator:()=>cp,genericTileMargin:()=>aU,genericTileOuterMargin:()=>aB,green_1000_dark:()=>df,green_1000_light:()=>dE,green_100_dark:()=>dh,green_100_light:()=>dg,green_200_dark:()=>dy,green_200_light:()=>db,green_300_dark:()=>dv,green_300_light:()=>dI,green_400_dark:()=>dT,green_400_light:()=>dS,green_500_dark:()=>dw,green_500_light:()=>dA,green_600_dark:()=>dC,green_600_light:()=>dN,green_700_dark:()=>dO,green_700_light:()=>dL,green_800_dark:()=>dR,green_800_light:()=>dP,green_900_dark:()=>dk,green_900_light:()=>dD,grey_1000_dark:()=>dU,grey_1000_light:()=>dF,grey_100_dark:()=>dx,grey_100_light:()=>dM,grey_200_dark:()=>dH,grey_200_light:()=>dB,grey_300_dark:()=>dG,grey_300_light:()=>dV,grey_400_dark:()=>dK,grey_400_light:()=>dW,grey_500_dark:()=>dj,grey_500_light:()=>dY,grey_600_dark:()=>d$,grey_600_light:()=>dz,grey_700_dark:()=>dq,grey_700_light:()=>dZ,grey_800_dark:()=>dX,grey_800_light:()=>dJ,grey_900_dark:()=>d0,grey_900_light:()=>dQ,gridBasis:()=>rL,gridTileMinWidth:()=>or,headerRowZ:()=>sM,helpWidgetGap:()=>rM,helpWidgetMargin:()=>rk,helpWidgetSize:()=>rP,helpWidgetSizePlusMargin:()=>rD,helpWidgetZ:()=>sq,hoverOutlineZ:()=>sy,hubFileEmbedFullscreenZ:()=>sX,iconButtonSize:()=>iZ,iconButtonSizeUI3:()=>iq,importDropTargetZ:()=>sl,inlineMenuControlHeight:()=>lB,inlinePreviewDeviceFrameHeaderMargin:()=>an,inlinePreviewModalZ:()=>sx,insertComponentPickerWidth:()=>a6,insertComponentScrollContainerExtraHeightOnSearch:()=>ot,insertComponentWideGridTileWidth:()=>a9,inspectToolbar:()=>s4,inspectToolbarExtension:()=>sF,instanceSwapNormalGridTileSize:()=>a4,instanceSwapPickerWidth:()=>a5,instanceSwapSmallGridTileSize:()=>oe,instanceSwapWideGridTileHeight:()=>a8,instanceSwapWideGridTileWidth:()=>a7,interFontSource:()=>ch,interactiveSlideElementZ:()=>sO,intercomZ:()=>sZ,keyboardShortcutFontFeatures:()=>cL,keyboardShortcutsPaneHeight:()=>lE,keyboardShortcutsPanelZ:()=>sQ,landingPageViewBarHeight:()=>nv,landingSearchBarWidth:()=>nI,layerAboveZ:()=>sf,layerNameFontFeatures:()=>cR,leftNavHeight:()=>n8,leftNavLeftMarginUI3:()=>ii,leftNavMobileWidth:()=>n4,leftPanelIslandContentHeight:()=>n0,libraryPreferencesModalHeight:()=>oY,libraryPreferencesModalMaxHeight:()=>oj,libraryPreferencesModalWidth:()=>oW,libraryViewPlaygroundCanvasHeight:()=>iV,libraryViewPlaygroundCanvasWidth:()=>iH,listHeaderZ:()=>se,listViewHeight:()=>aJ,listViewThumbHeight:()=>aX,mainMenuZ:()=>co,makeSomethingV2Z:()=>cr,maximizedEmbedIFrameOverlayZ:()=>sN,memoryWarningBannerHeight:()=>r$,memoryWarningZ:()=>l6,metaContainerContentWidth:()=>aY,metaContainerWidth:()=>aK,missingFontsModalWidth:()=>iX,missingFontsModalWidthUI2:()=>iQ,mobileBreakpoint:()=>l0,mobileFileViewerHeaderZ:()=>sC,mobileFlyoutZ__community:()=>c_,mobileNavZ:()=>si,modalXRightSpacing:()=>i3,modalZ:()=>s2,monospaceFontFeatures:()=>ck,multiSelectCheckboxWidth:()=>oQ,multiSelectRowHeight:()=>oX,multiplayerBlue:()=>eq,multiplayerDropdownToolsPadding:()=>i$,multiplayerGray:()=>eZ,multiplayerGreen:()=>e1,multiplayerPink:()=>eX,multiplayerPurple:()=>eJ,multiplayerRed:()=>eQ,multiplayerYellow:()=>e0,navIconPadding:()=>ir,navIconSize:()=>it,navRightPadding:()=>n7,navRowHeight:()=>n6,newCommentContainerOneLineSuggestionsWidth:()=>oM,newFileCreationButtonZ:()=>st,newFileCreationTileHeight:()=>na,newFileCreationTileHeight__OLD:()=>ni,nudgeAmountPickerWidth:()=>oo,objectRowHeight:()=>iR,onboardingCalloutZ:()=>cc,onboardingOverlayZ:()=>sU,openDesktopModal:()=>iJ,orange_1000_dark:()=>d3,orange_1000_light:()=>d5,orange_100_dark:()=>d1,orange_100_light:()=>d2,orange_200_dark:()=>d4,orange_200_light:()=>d8,orange_300_dark:()=>d6,orange_300_light:()=>d7,orange_400_dark:()=>d9,orange_400_light:()=>ue,orange_500_dark:()=>ut,orange_500_light:()=>ur,orange_600_dark:()=>un,orange_600_light:()=>ui,orange_700_dark:()=>ua,orange_700_light:()=>uo,orange_800_dark:()=>ul,orange_800_light:()=>us,orange_900_dark:()=>uc,orange_900_light:()=>ud,orgAdminDesktopSmallBreakpoint:()=>o0,orgAdminExtraLargeMinContentWidth:()=>o3,orgAdminLargeMinContentWidth:()=>o2,orgAdminMinContentWidth:()=>o1,orgAdminXXLMinContentWidth:()=>o5,orgDashboardModalContentHeight:()=>oq,orgDashboardTabsHeight:()=>oJ,orgModal:()=>oZ,orgSwitcherNameMobileWidth:()=>aG,orgSwitcherNameWidth:()=>aV,pageCoverZ:()=>cs,pageDividerRowHeight:()=>iP,pageRowHeight:()=>iO,pale_blue_1000_dark:()=>u_,pale_blue_1000_light:()=>um,pale_blue_100_dark:()=>up,pale_blue_100_light:()=>uu,pale_blue_200_dark:()=>ug,pale_blue_200_light:()=>uh,pale_blue_300_dark:()=>uE,pale_blue_300_light:()=>uf,pale_blue_400_dark:()=>ub,pale_blue_400_light:()=>uy,pale_blue_500_dark:()=>uI,pale_blue_500_light:()=>uv,pale_blue_600_dark:()=>uS,pale_blue_600_light:()=>uT,pale_blue_700_dark:()=>uA,pale_blue_700_light:()=>uw,pale_blue_800_dark:()=>uN,pale_blue_800_light:()=>uC,pale_blue_900_dark:()=>uL,pale_blue_900_light:()=>uO,pale_green_1000_dark:()=>uD,pale_green_1000_light:()=>uk,pale_green_100_dark:()=>uP,pale_green_100_light:()=>uR,pale_green_200_dark:()=>ux,pale_green_200_light:()=>uM,pale_green_300_dark:()=>uU,pale_green_300_light:()=>uF,pale_green_400_dark:()=>uH,pale_green_400_light:()=>uB,pale_green_500_dark:()=>uG,pale_green_500_light:()=>uV,pale_green_600_dark:()=>uK,pale_green_600_light:()=>uW,pale_green_700_dark:()=>uj,pale_green_700_light:()=>uY,pale_green_800_dark:()=>u$,pale_green_800_light:()=>uz,pale_green_900_dark:()=>uq,pale_green_900_light:()=>uZ,pale_pink_1000_dark:()=>u0,pale_pink_1000_light:()=>uQ,pale_pink_100_dark:()=>uX,pale_pink_100_light:()=>uJ,pale_pink_200_dark:()=>u2,pale_pink_200_light:()=>u1,pale_pink_300_dark:()=>u5,pale_pink_300_light:()=>u3,pale_pink_400_dark:()=>u8,pale_pink_400_light:()=>u4,pale_pink_500_dark:()=>u7,pale_pink_500_light:()=>u6,pale_pink_600_dark:()=>pe,pale_pink_600_light:()=>u9,pale_pink_700_dark:()=>pr,pale_pink_700_light:()=>pt,pale_pink_800_dark:()=>pi,pale_pink_800_light:()=>pn,pale_pink_900_dark:()=>po,pale_pink_900_light:()=>pa,pale_purple_1000_dark:()=>pd,pale_purple_1000_light:()=>pc,pale_purple_100_dark:()=>ps,pale_purple_100_light:()=>pl,pale_purple_200_dark:()=>pp,pale_purple_200_light:()=>pu,pale_purple_300_dark:()=>p_,pale_purple_300_light:()=>pm,pale_purple_400_dark:()=>pg,pale_purple_400_light:()=>ph,pale_purple_500_dark:()=>pE,pale_purple_500_light:()=>pf,pale_purple_600_dark:()=>pb,pale_purple_600_light:()=>py,pale_purple_700_dark:()=>pI,pale_purple_700_light:()=>pv,pale_purple_800_dark:()=>pS,pale_purple_800_light:()=>pT,pale_purple_900_dark:()=>pA,pale_purple_900_light:()=>pw,pale_red_1000_dark:()=>pL,pale_red_1000_light:()=>pO,pale_red_100_dark:()=>pN,pale_red_100_light:()=>pC,pale_red_200_dark:()=>pP,pale_red_200_light:()=>pR,pale_red_300_dark:()=>pD,pale_red_300_light:()=>pk,pale_red_400_dark:()=>px,pale_red_400_light:()=>pM,pale_red_500_dark:()=>pU,pale_red_500_light:()=>pF,pale_red_600_dark:()=>pH,pale_red_600_light:()=>pB,pale_red_700_dark:()=>pG,pale_red_700_light:()=>pV,pale_red_800_dark:()=>pK,pale_red_800_light:()=>pW,pale_red_900_dark:()=>pj,pale_red_900_light:()=>pY,pale_yellow_1000_dark:()=>pq,pale_yellow_1000_light:()=>pZ,pale_yellow_100_dark:()=>p$,pale_yellow_100_light:()=>pz,pale_yellow_200_dark:()=>pX,pale_yellow_200_light:()=>pJ,pale_yellow_300_dark:()=>p0,pale_yellow_300_light:()=>pQ,pale_yellow_400_dark:()=>p2,pale_yellow_400_light:()=>p1,pale_yellow_500_dark:()=>p5,pale_yellow_500_light:()=>p3,pale_yellow_600_dark:()=>p8,pale_yellow_600_light:()=>p4,pale_yellow_700_dark:()=>p7,pale_yellow_700_light:()=>p6,pale_yellow_800_dark:()=>me,pale_yellow_800_light:()=>p9,pale_yellow_900_dark:()=>mr,pale_yellow_900_light:()=>mt,panelLoadingCover:()=>sE,perfHUDZ:()=>l2,pink_1000_dark:()=>ma,pink_1000_light:()=>mo,pink_100_dark:()=>mn,pink_100_light:()=>mi,pink_200_dark:()=>ml,pink_200_light:()=>ms,pink_300_dark:()=>mc,pink_300_light:()=>md,pink_400_dark:()=>mu,pink_400_light:()=>mp,pink_500_dark:()=>mm,pink_500_light:()=>m_,pink_600_dark:()=>mh,pink_600_light:()=>mg,pink_700_dark:()=>mf,pink_700_light:()=>mE,pink_800_dark:()=>my,pink_800_light:()=>mb,pink_900_dark:()=>mv,pink_900_light:()=>mI,pointerModalPadding:()=>i8,positionedDesignToolbeltZ:()=>sj,profileHeaderHeight:()=>nn,projectsViewTwoColumnBreakpoint:()=>az,propertiesPanelLeftPaddingUI3:()=>iu,propertiesPanelRightMarginUI3:()=>id,prototypeFooterUIHeight:()=>nm,prototypeHeader:()=>l5,prototypeInteractionModalExpandedWidth:()=>ae,prototypeInteractionModalHoverWidth:()=>ar,prototypeInteractionModalMarginLeft:()=>at,prototypeInteractionModalWidth:()=>i9,prototypeLoadingOverlay:()=>l3,prototypeSplashScreenZ:()=>l4,prototypeStartingPointModal:()=>i1,prototypingDropdownWidth:()=>ij,purple_1000_dark:()=>mw,purple_1000_light:()=>mA,purple_100_dark:()=>mT,purple_100_light:()=>mS,purple_200_dark:()=>mC,purple_200_light:()=>mN,purple_300_dark:()=>mO,purple_300_light:()=>mL,purple_400_dark:()=>mR,purple_400_light:()=>mP,purple_500_dark:()=>mk,purple_500_light:()=>mD,purple_600_dark:()=>mM,purple_600_light:()=>mx,purple_700_dark:()=>mF,purple_700_light:()=>mU,purple_800_dark:()=>mB,purple_800_light:()=>mH,purple_900_dark:()=>mV,purple_900_light:()=>mG,quickActionsComponentSearchGridGap:()=>lz,quickActionsComponentSearchResultsHeight:()=>l$,quickActionsSearchBarWidth:()=>lj,quickActionsV2Z:()=>sG,rcsDistanceFromCanvasBorder:()=>i7,recentFilesSidebarWidth:()=>aW,red_1000_dark:()=>mY,red_1000_light:()=>mj,red_100_dark:()=>mW,red_100_light:()=>mK,red_200_dark:()=>mz,red_200_light:()=>m$,red_300_dark:()=>mZ,red_300_light:()=>mq,red_400_dark:()=>mJ,red_400_light:()=>mX,red_500_dark:()=>mQ,red_500_light:()=>m0,red_600_dark:()=>m1,red_600_light:()=>m2,red_700_dark:()=>m3,red_700_light:()=>m5,red_800_dark:()=>m4,red_800_light:()=>m8,red_900_dark:()=>m6,red_900_light:()=>m7,replaceLibrariesDropdownWidth:()=>o$,replaceLibrariesModalWidth:()=>oz,resizableModalResizeTargetSize:()=>iG,resizeTargetZ:()=>sD,resourceDetailPageMaxWidth:()=>ng,rightNavBorderWidth:()=>iW,rightNavGridNumCols:()=>io,rightNavGridNumColsWide:()=>il,rightNavGridRowHeight:()=>ia,rightNavHorizontalPadding:()=>ic,rightNavWidth:()=>iD,rulerThickness:()=>oT,scrollContainerZ:()=>sk,searchDropdownSmallWidth:()=>nE,searchFilterBarZ:()=>sr,searchInputHeight:()=>n9,searchInputHeightBrowseIA:()=>ie,secondaryModalZ:()=>s1,sharedFontsModalWidth:()=>oK,sideBarZ:()=>so,sidePanelFloatingIslandZ:()=>sh,sidePanelZ:()=>s_,signedInlandingPageHeaderHeight:()=>ny,signedOutTopbarDesktopHeight:()=>rB,signedOutTopbarMobileHeight:()=>rV,signedOutTopbarMobileHeight__OLD:()=>rH,signedOutlandingPageHeaderHeight:()=>nb,slideTemplatesZ:()=>sJ,slidesRightPanelMargin:()=>lc,slidesRightPanelWidth:()=>ls,slidesRightPanelWidthAndMargin:()=>ld,slidesRightPanelZ:()=>cl,slidesTemplateModalWidth:()=>i4,stampPaletteZ:()=>s$,stickyNotificationZ:()=>cn,strokeSettingsModalWidth:()=>og,styleModalWidth:()=>of,styleModalWidthWide:()=>oE,stylePickerMaxHeight:()=>ol,stylePickerVerticalPadding:()=>oc,stylesPickerGridNumCols:()=>od,stylesPickerWidth:()=>ou,swatchSize:()=>lH,tabBarHeight:()=>rR,tabletBreakpoint:()=>l1,tba_dark:()=>m9,tba_light:()=>_e,teal_1000_dark:()=>_n,teal_1000_light:()=>_i,teal_100_dark:()=>_t,teal_100_light:()=>_r,teal_200_dark:()=>_a,teal_200_light:()=>_o,teal_300_dark:()=>_l,teal_300_light:()=>_s,teal_400_dark:()=>_c,teal_400_light:()=>_d,teal_500_dark:()=>_u,teal_500_light:()=>_p,teal_600_dark:()=>_m,teal_600_light:()=>__,teal_700_dark:()=>_h,teal_700_light:()=>_g,teal_800_dark:()=>_f,teal_800_light:()=>_E,teal_900_dark:()=>_y,teal_900_light:()=>_b,templateModalTeamName:()=>sm,templatesModalWidth:()=>i5,thumbnailActionsContainer:()=>su,thumbnailHeight:()=>aq,tileBorderOpacity:()=>a2,tileBorderRadius:()=>a1,tileLabelHeight:()=>aQ,tileLabelMargin:()=>a0,tileMaxWidth:()=>a3,tilePadding:()=>aZ,titleChevronWidth:()=>r9,titleFontSize__DEPRECATED:()=>oU,toolbarViewActionButtonsZ:()=>sT,toolbarViewDropdownChevronZ:()=>sA,toolbarViewFilenameZ:()=>sS,toolbarViewTeamPaidStatusBadgeZ:()=>sw,toolbeltBottomMargin:()=>nl,toolbeltHeight:()=>no,toolbeltHeightAndMargin:()=>ns,tooltipArrowHeight:()=>oI,tooltipContentHorizontalPadding:()=>ob,tooltipContentVerticalPadding:()=>ov,tooltipDist:()=>oy,tooltipZ:()=>s7,topBarZ:()=>sn,topNavBarZ:()=>sa,topNavHeight:()=>n5,twitterBlue:()=>rd,typeSettingsModalWidth:()=>oh,ui2CommentThreadWidth:()=>oS,ui2NewCommentContainerWidth:()=>oP,ui3BottomRightToolsHeight:()=>ll,ui3CommentThreadWidth:()=>ow,ui3FullHeightSidebarHeaderHeight:()=>n2,ui3FullHeightSidebarMargin:()=>n1,ui3InputHeight:()=>ik,ui3NewCommentContainerWidth:()=>ok,ui3PageRowHeight:()=>iL,ui3PanelGap:()=>lo,ui3RulerMargin:()=>iK,ui3UserWidthWithVoice:()=>nQ,ui3ViewOptionsRowHeight:()=>n3,ui3delightfulToolbarHeightAndMargin:()=>li,ui3delightfulToolbarMargin:()=>lt,uiFontFamily:()=>cg,uiHUDFont__DEPRECATED:()=>cC,uiLabelFont__DEPRECATED:()=>cy,uiLabelLetterSpacing__DEPRECATED:()=>cv,uiLabelParagraphFont__DEPRECATED:()=>cb,uiLargeBodyFont__DEPRECATED:()=>cI,uiLargeBodyLetterSpacing__DEPRECATED:()=>cT,uiLargeTitleFont__DEPRECATED:()=>cA,uiMonospaceFont:()=>cO,uiMonospaceFontFamily:()=>cN,uiSmallTitleFont__DEPRECATED:()=>cw,uiTitleFont__DEPRECATED:()=>cS,ui_color_background_black:()=>n,ui_color_background_greyF0:()=>s,ui_color_background_hud:()=>i,ui_color_background_silver:()=>a,ui_color_background_toolbar:()=>o,ui_color_background_white:()=>l,ui_color_black:()=>c,ui_color_black3:()=>d,ui_color_black8:()=>u,ui_color_blue:()=>p,ui_color_figjam_primary:()=>m,ui_color_green:()=>_,ui_color_hotPink:()=>h,ui_color_multiplayer_b:()=>g,ui_color_multiplayer_g:()=>f,ui_color_multiplayer_p:()=>E,ui_color_multiplayer_r:()=>y,ui_color_multiplayer_s:()=>b,ui_color_multiplayer_t:()=>v,ui_color_multiplayer_y:()=>I,ui_color_purple:()=>T,ui_color_red:()=>S,ui_color_special_black1:()=>L,ui_color_special_blue3:()=>R,ui_color_special_blue3SelectionA:()=>w,ui_color_special_hoverFill:()=>A,ui_color_special_purple4:()=>C,ui_color_special_purple4SelectionA:()=>N,ui_color_special_selectionA:()=>P,ui_color_special_selectionB:()=>k,ui_color_special_white2:()=>O,ui_color_white:()=>D,ui_color_white4:()=>M,ui_color_white8:()=>x,ui_color_yellow:()=>F,userDetailsModalWidth:()=>on,userIconSize:()=>nZ,userWidth:()=>nq,userWidthHorizontal:()=>nJ,userWidthWithVoice:()=>nX,viewBarZ:()=>sc,visualBellCornerRadius:()=>lh,visualBellHiddenYOffset:()=>l_,visualBellHorizontalPadding:()=>lg,visualBellMargin:()=>lp,visualBellMarginBottom:()=>lu,visualBellMarginBottomUi3:()=>lm,visualBellZ:()=>s6,voicePendingFlashNotification:()=>rc,welcomeSequenceModalBorderRadius:()=>lG,white_1000_dark:()=>_S,white_1000_light:()=>_T,white_100_dark:()=>_I,white_100_light:()=>_v,white_200_dark:()=>_A,white_200_light:()=>_w,white_300_dark:()=>_N,white_300_light:()=>_C,white_400_dark:()=>_L,white_400_light:()=>_O,white_500_dark:()=>_P,white_500_light:()=>_R,white_600_dark:()=>_D,white_600_light:()=>_k,white_700_dark:()=>_x,white_700_light:()=>_M,white_800_dark:()=>_U,white_800_light:()=>_F,white_900_dark:()=>_H,white_900_light:()=>_B,white__DEPRECATED:()=>rO,whiteboardBlack:()=>e4,whiteboardBlackSwatchOnDark:()=>tU,whiteboardBlue:()=>ts,whiteboardBlueLight:()=>tc,whiteboardBlueLightSwatchOnDark:()=>tJ,whiteboardBlueSwatchOnDark:()=>tq,whiteboardGray:()=>e7,whiteboardGrayDark:()=>e8,whiteboardGrayDarkSwatchOnDark:()=>tB,whiteboardGrayDarkUI3:()=>e6,whiteboardGrayLight:()=>e9,whiteboardGrayLightSwatchOnDark:()=>tV,whiteboardGraySwatchOnDark:()=>tH,whiteboardGreen:()=>to,whiteboardGreenLight:()=>tl,whiteboardGreenLightSwatchOnDark:()=>tZ,whiteboardGreenSwatchOnDark:()=>t$,whiteboardHighlightBlue:()=>tC,whiteboardHighlightColorPickerBlue:()=>tM,whiteboardHighlightColorPickerGray:()=>tL,whiteboardHighlightColorPickerGreen:()=>tD,whiteboardHighlightColorPickerOrange:()=>tP,whiteboardHighlightColorPickerRed:()=>tR,whiteboardHighlightColorPickerViolet:()=>tx,whiteboardHighlightColorPickerWhite:()=>tF,whiteboardHighlightColorPickerYellow:()=>tk,whiteboardHighlightGray:()=>tI,whiteboardHighlightGreen:()=>tA,whiteboardHighlightOrange:()=>tS,whiteboardHighlightRed:()=>tT,whiteboardHighlightViolet:()=>tN,whiteboardHighlightWhite:()=>tO,whiteboardHighlightYellow:()=>tw,whiteboardOrange:()=>tr,whiteboardOrangeLight:()=>tn,whiteboardOrangeLightSwatchOnDark:()=>tY,whiteboardOrangeSwatchOnDark:()=>tK,whiteboardRed:()=>te,whiteboardRedLight:()=>tt,whiteboardRedLightSwatchOnDark:()=>tW,whiteboardRedSwatchOnDark:()=>tG,whiteboardStickyBlue:()=>tE,whiteboardStickyBlueSwatchOnDark:()=>ra,whiteboardStickyBlueSwatchOnLight:()=>t8,whiteboardStickyGray:()=>tm,whiteboardStickyGrayLight:()=>tv,whiteboardStickyGrayLightSwatchOnDark:()=>rs,whiteboardStickyGrayLightSwatchOnLight:()=>t9,whiteboardStickyGraySwatchOnDark:()=>re,whiteboardStickyGraySwatchOnLight:()=>t1,whiteboardStickyGreen:()=>tf,whiteboardStickyGreenSwatchOnDark:()=>ri,whiteboardStickyGreenSwatchOnLight:()=>t4,whiteboardStickyOrange:()=>th,whiteboardStickyOrangeSwatchOnDark:()=>rr,whiteboardStickyOrangeSwatchOnLight:()=>t3,whiteboardStickyPink:()=>tb,whiteboardStickyPinkSwatchOnDark:()=>rl,whiteboardStickyPinkSwatchOnLight:()=>t7,whiteboardStickyRed:()=>t_,whiteboardStickyRedSwatchOnDark:()=>rt,whiteboardStickyRedSwatchOnLight:()=>t2,whiteboardStickyViolet:()=>ty,whiteboardStickyVioletSwatchOnDark:()=>ro,whiteboardStickyVioletSwatchOnLight:()=>t6,whiteboardStickyYellow:()=>tg,whiteboardStickyYellowSwatchOnDark:()=>rn,whiteboardStickyYellowSwatchOnLight:()=>t5,whiteboardViolet:()=>td,whiteboardVioletLight:()=>tu,whiteboardVioletLightSwatchOnDark:()=>tQ,whiteboardVioletSwatchOnDark:()=>tX,whiteboardWhite:()=>tp,whiteboardWhiteSwatchOnDark:()=>t0,whiteboardYellow:()=>ti,whiteboardYellowLight:()=>ta,whiteboardYellowLightSwatchOnDark:()=>tz,whiteboardYellowSwatchOnDark:()=>tj,whyteFontFamily:()=>cf,whyteInktrapFontFamily:()=>cE,workspaceSwitcherRowHeight:()=>nz,workspaceSwitcherWidth:()=>nj,yellow_1000_dark:()=>_W,yellow_1000_light:()=>_K,yellow_100_dark:()=>_V,yellow_100_light:()=>_G,yellow_200_dark:()=>_Y,yellow_200_light:()=>_j,yellow_300_dark:()=>_z,yellow_300_light:()=>_$,yellow_400_dark:()=>_Z,yellow_400_light:()=>_q,yellow_500_dark:()=>_J,yellow_500_light:()=>_X,yellow_600_dark:()=>_Q,yellow_600_light:()=>_0,yellow_700_dark:()=>_1,yellow_700_light:()=>_2,yellow_800_dark:()=>_3,yellow_800_light:()=>_5,yellow_900_dark:()=>_4,yellow_900_light:()=>_8,zoomMenuWidth:()=>iB});let n="#000",i="#222",a="#e5e5e5",o="#2c2c2c",l="#fff",s="#f0f0f0",c="#000",d="rgba(0, 0, 0, 0.3)",u="rgba(0, 0, 0, 0.8)",p="#0d99ff",m="#9747ff",_="#1bc47d",h="#f531b3",g="#18a0fb",f="#1bc47d",E="#907cff",y="#ef5533",b="#ee46d3",v="#00b5ce",I="#ffc700",T="#7b61ff",S="#f24822",w="#a0d0f8",A="rgba(0, 0, 0, 0.06)",C="rgba(123, 97, 255, 0.4)",N="#b4b4fa",O="rgba(255, 255, 255, 0.2)",L="rgba(0, 0, 0, 0.1)",R="rgba(24, 145, 251, 0.3)",P="#daebf7",k="#edf5fa",D="#fff",M="rgba(255, 255, 255, 0.4)",x="rgba(255, 255, 255, 0.8)",F="#ffeb00",U="#0d99ff",B="#7b61ff",H="#f531b3",V="#1bc47d",G="#f24822",W="#ffeb00",K="#e4ff97",Y="#f24e1e",j="#ff8577",z="#ffc700",$="#0fa958",Z="#699bf7",q="#5551ff",J="#c7b9ff",X="#a259ff",Q="#6a6a6a",ee="#282828",et="#cfe2ff",er="#000",en="rgba(0, 0, 0, 0.03)",ei="rgba(0, 0, 0, 0.06)",ea="rgba(0, 0, 0, 0.08)",eo="rgba(0, 0, 0, 0.15)",el="rgba(0, 0, 0, 0.1)",es="rgba(0, 0, 0, 0.2)",ec="rgba(0, 0, 0, 0.3)",ed="rgba(0, 0, 0, 0.4)",eu="rgba(0, 0, 0, 0.5)",ep="rgba(0, 0, 0, 0.54)",em="rgba(0, 0, 0, 0.6)",e_="rgba(0, 0, 0, 0.8)",eh="#fff",eg="rgba(255, 255, 255, 0.1)",ef="rgba(255, 255, 255, 0.2)",eE="rgba(255, 255, 255, 0.4)",ey="rgba(255, 255, 255, 0.5)",eb="rgba(255, 255, 255, 0.6)",ev="rgba(255, 255, 255, 0.8)",eI="#333333",eT="#808080",eS="#b3b3b3",ew="#cccccc",eA="#fff",eC="#e5e5e5",eN="#f0f0f0",eO="rgba(0, 0, 0, 0.06)",eL="#000",eR="#222",eP="#2c2c2c",ek="rgba(85, 81, 255, 0.1)",eD="rgba(242, 72, 34, 0.08)",eM="rgba(242, 72, 34, 0.03)",ex="rgba(24, 145, 251, 0.3)",eF="#a0d0f8",eU="#b4b4fa",eB="#daebf7",eH="#edf5fa",eV="rgba(0, 0, 0, 0.1)",eG="#e6e6e6",eW="rgba(0, 0, 0, 0.15)",eK="rgba(0, 0, 0, 0.03)",eY="rgba(0, 0, 0, 0.15)",ej="0px 2px 14px rgba(0, 0, 0, 0.15),\n   0px 0px 0px 0.5px rgba(0, 0, 0, 0.2)",ez="#2c2c2c",e$="#474747",eZ="#667799",eq="#007be5",eJ="#9747ff",eX="#ff24bd",eQ="#f24822",e0="#ffcd29",e1="#14ae5c",e2="rgba(151, 71, 255, 1)",e3="rgba(151, 71, 255, 0.1)",e5="rgba(0, 0, 0, 0.5)",e4="rgba(30, 30, 30, 1)",e8="rgba(117, 117, 117, 1)",e6="rgba(77, 77, 77, 1)",e7="rgba(179, 179, 179, 1)",e9="rgba(230, 230, 230, 1)",te="rgba(242, 72, 34, 1)",tt="rgba(255, 199, 194, 1)",tr="rgba(255, 166, 41, 1)",tn="rgba(252, 209, 156, 1)",ti="rgba(255, 205, 41, 1)",ta="rgba(255, 232, 163, 1)",to="rgba(20, 174, 92, 1)",tl="rgba(175, 244, 198, 1)",ts="rgba(13, 153, 255, 1)",tc="rgba(189, 227, 255, 1)",td="rgba(151, 71, 255, 1)",tu="rgba(228, 204, 255, 1)",tp="rgba(255, 255, 255, 1)",tm="rgba(175, 188, 207, 1)",t_="rgba(255, 175, 163, 1)",th="rgba(255, 196, 112, 1)",tg="rgba(255, 217, 102, 1)",tf="rgba(133, 224, 163, 1)",tE="rgba(128, 202, 255, 1)",ty="rgba(217, 184, 255, 1)",tb="rgba(255, 189, 242, 1)",tv="rgba(230, 230, 230, 1)",tI="rgba(151, 151, 151, 1)",tT="rgba(255, 153, 248, 1)",tS="rgba(255, 174, 79, 1)",tw="rgba(255, 238, 0, 1)",tA="rgba(134, 250, 22, 1)",tC="rgba(111, 255, 246, 1)",tN="rgba(179, 143, 255, 1)",tO="rgba(255, 255, 255, 1)",tL="rgba(175, 175, 175, 1)",tR="rgba(255, 160, 249, 1)",tP="rgba(255, 184, 104, 1)",tk="rgba(255, 242, 52, 1)",tD="rgba(174, 255, 97, 1)",tM="rgba(126, 255, 247, 1)",tx="rgba(188, 155, 255, 1)",tF="rgba(255, 255, 255, 1)",tU="rgba(17, 17, 17, 1)",tB="rgba(56, 56, 56, 1)",tH="rgba(117, 117, 117, 1)",tV="rgba(217, 217, 217, 1)",tG="rgba(224, 62, 26, 1)",tW="rgba(251, 188, 182, 1)",tK="rgba(247, 151, 34, 1)",tY="rgba(255, 196, 112, 1)",tj="rgba(243, 193, 27, 1)",tz="rgba(249, 223, 144, 1)",t$="rgba(25, 143, 81, 1)",tZ="rgba(161, 232, 185, 1)",tq="rgba(12, 140, 233, 1)",tJ="rgba(168, 215, 250, 1)",tX="rgba(138, 56, 245, 1)",tQ="rgba(214, 182, 251, 1)",t0="rgba(255, 255, 255, 1)",t1="rgba(102, 119, 153, 1)",t2="rgba(242, 72, 34, 1)",t3="rgba(255, 166, 41, 1)",t5="rgba(255, 205, 41, 1)",t4="rgba(20, 174, 92, 1)",t8="rgba(13, 153, 255, 1)",t6="rgba(151, 71, 255, 1)",t7="rgba(255, 36, 189, 1)",t9="rgba(230, 230, 230, 1)",re="rgba(175, 188, 207, 1)",rt="rgba(252, 163, 151, 1)",rr="rgba(255, 196, 112, 1)",rn="rgba(247, 209, 95, 1)",ri="rgba(121, 210, 151, 1)",ra="rgba(124, 196, 248, 1)",ro="rgba(209, 168, 255, 1)",rl="rgba(253, 156, 224, 1)",rs="rgba(230, 230, 230, 1)",rc="#808080",rd="#4aa1eb",ru="#3578ea",rp="rgba(203, 192, 255, 0.5)",rm="#a094e6",r_="#050505",rh="#2c2c2c",rg="#444",rf="#888",rE="#aaa",ry="#d4d4d4",rb="#efefef",rv="#f8f8f8",rI="#fcfcfc",rT="#c5e4f9",rS="#f1f9ff",rw="#2288b3",rA="#0d475f",rC="#bbb0f5",rN="#ff6d30",rO="#ffffff",rL="8px",rR="38px",rP="32px",rk="16px",rD="64px",rM="12px",rx="42px",rF="48px",rU="48px",rB="56px",rH="40px",rV="48px",rG="48px",rW="48.8px",rK="49px",rY="64px",rj="104px",rz="84px",r$="70px",rZ="84px",rq="32px",rJ="386px",rX="320px",rQ="360px",r0="32px",r1="16px",r2="645px",r3="1024px",r5="264px",r4="16px",r8="12px",r6="60px",r7="17px",r9="18px",ne="8px",nt="380px",nr="48px",nn="240px",ni="64px",na="72px",no="48px",nl="16px",ns="64px",nc="48px",nd="30px",nu="24px",np="54px",nm="48px",n_="1200px",nh="1680px",ng="1216px",nf="450px",nE="365px",ny="120px",nb="360px",nv="48px",nI="390px",nT="40px",nS="138px",nw="100px",nA="560px",nC="906px",nN="800px",nO="760px",nL="500px",nR="400px",nP="320px",nk="760px",nD="600px",nM="450px",nx="230px",nF="48px",nU="6px",nB="1440px",nH="1230px",nV="1024px",nG="715px",nW="600px",nK="1440px",nY="544px",nj="224px",nz="32px",n$="180px",nZ="24px",nq="40px",nJ="48px",nX="32px",nQ="30px",n0="32px",n1="12px",n2="40px",n3="40px",n5="48px",n4="80px",n8="40px",n6="36px",n7="12px",n9="32px",ie="40px",it="24px",ir="12px",ii="8px",ia="32px",io=28,il=36,is=38,ic="8px",id="8px",iu="16px",ip="108px",im="140px",i_="44px",ih="44px",ig="12px",iE="14px",iy="34px",ib="320px",iv="40px",iI="640px",iT=1.778,iS="240px",iw="32px",iA="80px",iC="40px",iN="32px",iO="32px",iL="24px",iR="32px",iP="16px",ik="24px",iD="240px",iM="320px",ix="40px",iF="32px",iU="1px",iB="60px",iH="40vw",iV="256px",iG="8px",iW="1px",iK="20px",iY="24px",ij="224px",iz="224px",i$="8px",iZ="32px",iq="24px",iJ="378px",iX="536px",iQ="620px",i0="40px",i1="264px",i2="6px",i3="15px",i5="888px",i4="720px",i8="16px",i6="300px",i7="12px",i9="240px",ae="272px",at="24px",ar="200px",an="8px",ai="320px",aa="192px",ao="56px",al="112px",as="64px",ac="51px",ad="44px",au="680px",ap="320px",am="40px",a_="16px",ah="64px",ag="40px",af="320px",aE="16px",ay="calc(100vh - 104px)",ab="96px",av="240px",aI="320px",aT="512px",aS="408px",aw="16px",aA="1500px",aC="1250px",aN="1680px",aO="1320px",aL="1500px",aR="320px",aP="512px",ak="5px",aD="228px",aM="2px",ax=232,aF="16px",aU="24px",aB="2px",aH="200px",aV="142px",aG="94px",aW="304px",aK="304px",aY="272px",aj="1121px",az="1441px",a$="8px",aZ="12px",aq="162px",aJ="40px",aX="24px",aQ="52px",a0="16px",a1="8px",a2=.13,a3="280px",a5="216px",a4="84px",a8="52px",a6="318px",a7="184px",a9="286px",oe="34px",ot="36px",or="272px",on="420px",oi="318px",oa="460px",oo="180px",ol="300px",os="397px",oc="8px",od=25,ou="216px",op="240px",om="40px",o_="28px",oh="240px",og="240px",of="240px",oE="304px",oy="6px",ob="8px",ov="6px",oI="6px",oT="20px",oS="320px",ow="360px",oA="48px",oC="32px",oN="36px",oO="16px",oL="8px",oR="42px",oP="256px",ok="296px",oD="256px",oM="286px",ox="286px",oF="240px",oU="14px",oB="11px",oH="2px",oV="6px",oG="8px",oW="460px",oK="596px",oY="574px",oj="70vh",oz="580px",o$="216px",oZ="864px",oq="80vh",oJ="24px",oX="48px",oQ="32px",o0="1280px",o1="905px",o2="1164px",o3="1285px",o5="1423px",o4="40px",o8="16px",o6="8px",o7="54px",o9="80px",le="16px",lt="12px",lr="32px",ln="96px",li="92px",la="52px",lo="12px",ll="32px",ls="296px",lc="16px",ld="328px",lu="24px",lp="16px",lm="12px",l_="3px",lh="5px",lg="16px",lf="73px",lE="240px",ly="142px",lb="450px",lv="420px",lI="3000px",lT="41px",lS="41px",lw="709px",lA="248px",lC="750px",lN="320px",lO="256px",lL="750px",lR="224px",lP="160px",lk="20px",lD="184px",lM="120px",lx="350px",lF="350px",lU="50px",lB="40px",lH="32px",lV="24px",lG="8px",lW="12px",lK="260px",lY="64px",lj="344px",lz="4px",l$="340px",lZ="100px",lq="18px",lJ="768px",lX="768px",lQ="32px",l0="645px",l1="1024px",l2=1,l3=1,l5=10,l4=11,l8=11,l6=1,l7=4,l9=4,se=1,st=2,sr=2,sn=3,si=3,sa=4,so=4,sl=4,ss=5,sc=2,sd=3,su=1,sp=1,sm=2,s_=6,sh=8,sg=2,sf=2,sE=3,sy=3,sb=4,sv=5,sI=6,sT=3,sS=2,sw=2,sA=1,sC=1,sN=11,sO=1,sL=8,sR=7,sP=7,sk=7,sD=8,sM=7,sx=6,sF=6,sU=6,sB=6,sH=7,sV=7,sG=7,sW=7,sK=6,sY=8,sj=8,sz=8,s$=8,sZ=8,sq=8,sJ=9,sX=9,sQ=9,s0=9,s1=9,s2=10,s3=10,s5=10,s4=10,s8=11,s6=11,s7=14,s9=13,ce=3,ct=4,cr=5,cn=13,ci=14,ca=14,co=14,cl=14,cs=15,cc=20,cd=30,cu=3,cp=25,cm=8,c_=10,ch="url('https://static.figma.com/uploads/2cca21a49f7dad1daa612d73d50357644671964a')\n  format('woff2')",cg="Inter, sans-serif",cf="Whyte, sans-serif",cE="WhyteInktrap, sans-serif",cy="normal 400 11px/16px Inter, sans-serif",cb="normal 400 11px/16px Inter, sans-serif",cv="0.005em",cI="normal 400 14px/24px Inter, sans-serif",cT="-0.006em",cS="normal 400 14px/24px Inter, sans-serif",cw="normal 400 12px/16px Inter, sans-serif",cA="normal 500 22px/32px Inter, sans-serif",cC="normal 400 14px/24px Inter, sans-serif",cN="Roboto Mono,\n  monospace",cO="normal 400 11px/16px Roboto Mono,\n  monospace",cL="'case' on,\n  'ss02' on,\n  'tnum' on,\n  'liga' on,\n  'calt' on",cR="'ss02' on,\n  'liga' on,\n  'calt' on",cP="'tnum' on,\n  'liga' on,\n  'calt' on",ck="'tnum' on,\n  'lnum' on",cD="url('data:image/svg+xml;utf8,%3Csvg%20width%3D%226%22%20height%3D%226%22%20viewBox%3D%220%200%206%206%22%20fill%3D%22none%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20d%3D%22M0%200H3V3H0V0Z%22%20fill%3D%22%23E1E1E1%22/%3E%3Cpath%20d%3D%22M3%200H6V3H3V0Z%22%20fill%3D%22white%22/%3E%3Cpath%20d%3D%22M3%203H6V6H3V3Z%22%20fill%3D%22%23E1E1E1%22/%3E%3Cpath%20d%3D%22M0%203H3V6H0V3Z%22%20fill%3D%22white%22/%3E%3C/svg%3E%0A')",cM="url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+PHBhdGggZmlsbD0iI0YxRjFGMSIgZD0iTSAwIDggSCAxNiBWIDAgSCA4IFYgMTYgSCAwIi8+PC9zdmc+')",cx="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAbElEQVR4Ae3WMQ4AIQhE0RGpbYz3v5+xsjVhdzXZC1BIM/8CvEBDer4QmCA4AggggAACCFA4m3Oi946cM2qtKKXAk3sDYwyYGdZaB+LNDdjD//YWrgNaa1BViMg5gbfEjwjBEUAAAQQQEA54AQVnHTNePItWAAAAAElFTkSuQmCC')",cF="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJeSURBVHgBnVTNitpQFL6JiYkz419ARMcWC0LBxczCB3DdRcGNDzFC0UfwiaQixaWLQrty026kRbHFIiKC2voXY9LvXG+GzKCoc+Dk5t57znfPP2PHSSJ2HIdW2d2zEyR7N1B2gXy5XE7B6k8mk4F4PB7AP7GGc9V9QMgft6harcrZbNaP/+vxePxgmuZn27anUHR2u92M9qPR6IHu6bHnBnkt426l02m92WzeQflbq9VyCoWCE41GHUmS+Ep7Osf9r3q9fgcdnbw5CEbuNBqNe8uyflcqFQ5yjOme5Gq12n0mk9FI3+u+LOISOQfMC4oQfA+Hw1HoqsyTMF8sFrvpdrtlcuccMJdJvtfrfRAx9bmgaigUMhaLxVeK0SWAJL9cLr8A44mVFIM43J27CTiXSZ6yT/oiQRJLpVIB0C2VxiVgLjv7bKQSicQV5UMeDAbS0Xo6QZFIhMHCv2TZcDjk7vKKX61W7CWUz+cZYt+Bh481wy3Tdf1kjx6icrnMOp3OR1mWLTTFTrjPU/760hhSHa7X6z/QfQs2mJtlND4BvroEkMBQLkOs76B7K4x6zMMVYnAS0NvL8/n8R6lUeo9QvWH7GvQzUYOKALX5x7aPxgt1+m82m/1st9uf0Ag1HE2DweAcblNGLfB+9tGEmUwm1+hLY7PZBBVF0aAsYyUBGgL8LVVVd7AUYuYKHi1RGQucr8Fbmm644w8rALT6/T5dTMErAKkEIoAcuEXBZ9vtlsw3UXsbTdO2ADSxp8zaLhgnMb4oQ7oI7o1hGCFawUFiGh4UayGjFotFPggOTez/7HeXD+m6slMAAAAASUVORK5CYII=)\n    2 17,\n  auto",cU="rgba(0, 0, 0, 0.05)",cB="rgba(0, 0, 0, 0.05)",cH="rgba(0, 0, 0, 1)",cV="rgba(0, 0, 0, 1)",cG="rgba(0, 0, 0, 0.1)",cW="rgba(0, 0, 0, 0.1)",cK="rgba(0, 0, 0, 0.2)",cY="rgba(0, 0, 0, 0.2)",cj="rgba(0, 0, 0, 0.3)",cz="rgba(0, 0, 0, 0.3)",c$="rgba(0, 0, 0, 0.5)",cZ="rgba(0, 0, 0, 0.5)",cq="rgba(0, 0, 0, 0.8)",cJ="rgba(0, 0, 0, 0.8)",cX="rgba(0, 0, 0, 0.85)",cQ="rgba(0, 0, 0, 0.85)",c0="rgba(0, 0, 0, 0.9)",c1="rgba(0, 0, 0, 0.9)",c2="rgba(0, 0, 0, 0.95)",c3="rgba(0, 0, 0, 0.95)",c5="#e2f1fd",c4="#f2f9ff",c8="#161e36",c6="#0d193f",c7="#cfe9fc",c9="#e5f4ff",de="#a8d7fa",dt="#bde3ff",dr="#7cc4f8",dn="#80caff",di="#0c8ce9",da="#0d99ff",dl="#0a6dc2",ds="#007be5",dc="#105cad",dd="#0768cf",du="#184591",dp="#034ac1",dm="#1b335f",d_="#093077",dh="#ddfde2",dg="#ebffee",df="#0b1e15",dE="#083a23",dy="#beefc2",db="#cff7d3",dv="#a1e8b9",dI="#aff4c6",dT="#79d297",dS="#85e0a3",dw="#198f51",dA="#14ae5c",dC="#078348",dN="#009951",dO="#0a5c35",dL="#008043",dR="#0a4c2d",dP="#036838",dk="#082618",dD="#024626",dM="#f5f5f5",dx="#f5f5f5",dF="#111111",dU="#111111",dB="#e6e6e6",dH="#e6e6e6",dV="#d9d9d9",dG="#d9d9d9",dW="#b3b3b3",dK="#b3b3b3",dY="#757575",dj="#757575",dz="#444444",d$="#444444",dZ="#383838",dq="#383838",dJ="#2c2c2c",dX="#2c2c2c",dQ="#1e1e1e",d0="#1e1e1e",d1="#ffedd7",d2="#fff4e5",d3="#371d06",d5="#8a480f",d4="#fdd9b4",d8="#ffe0c2",d6="#fcc67f",d7="#fcd19c",d9="#fcb34a",ue="#ffc470",ut="#de7d02",ur="#ffa629",un="#c86f04",ui="#fc9e24",ua="#ad5f05",uo="#f79722",ul="#985306",us="#dd7c0e",uc="#673806",ud="#ce7012",uu="#f1f5f8",up="#f1f5f8",um="#121721",u_="#121721",uh="#e3ecf2",ug="#e3ecf2",uf="#d2dae4",uE="#d2dae4",uy="#afbccf",ub="#afbccf",uv="#667799",uI="#667799",uT="#536383",uS="#536383",uw="#4a5878",uA="#4a5878",uC="#394360",uN="#394360",uO="#252d41",uL="#252d41",uR="#f1f8f2",uP="#f1f8f2",uk="#172b22",uD="#172b22",uM="#daecdf",ux="#daecdf",uF="#c3e0cc",uU="#c3e0cc",uB="#9fc1aa",uH="#9fc1aa",uV="#678e79",uG="#678e79",uW="#5c806d",uK="#5c806d",uY="#517361",uj="#517361",uz="#476656",u$="#476656",uZ="#2f483c",uq="#2f483c",uJ="#f6eef4",uX="#f6eef4",uQ="#1b1318",u0="#1b1318",u1="#f2e3ee",u2="#f2e3ee",u3="#e8cee1",u5="#e8cee1",u4="#daaace",u8="#daaace",u6="#ab5998",u7="#ab5998",u9="#86507a",pe="#86507a",pt="#724667",pr="#724667",pn="#51344a",pi="#51344a",pa="#33252f",po="#33252f",pl="#f4f1f8",ps="#f4f1f8",pc="#1a141f",pd="#1a141f",pu="#ede7f3",pp="#ede7f3",pm="#e0d4ed",p_="#e0d4ed",ph="#c5b2dc",pg="#c5b2dc",pf="#7f699b",pE="#7f699b",py="#6b5884",pb="#6b5884",pv="#604d75",pI="#604d75",pT="#473956",pS="#473956",pw="#33293d",pA="#33293d",pC="#faedeb",pN="#faedeb",pO="#1f1514",pL="#1f1514",pR="#f8e5e2",pP="#f8e5e2",pk="#f3cfc9",pD="#f3cfc9",pM="#eba99d",px="#eba99d",pF="#d4583b",pU="#d4583b",pB="#a55440",pH="#a55440",pV="#864537",pG="#864537",pW="#60332a",pK="#60332a",pY="#412621",pj="#412621",pz="#fff5eb",p$="#fff5eb",pZ="#211a12",pq="#211a12",pJ="#fdeece",pX="#fdeece",pQ="#f5dfa8",p0="#f5dfa8",p1="#e8cd7d",p2="#e8cd7d",p3="#ad7f00",p5="#ad7f00",p4="#906800",p8="#906800",p6="#7a5800",p7="#7a5800",p9="#5c4100",me="#5c4100",mt="#3a2a10",mr="#3a2a10",mn="#fde2fb",mi="#fff0fe",ma="#231a21",mo="#451138",ml="#fccaf8",ms="#ffe0fc",mc="#fbb1ed",md="#ffbdf2",mu="#fc9ce0",mp="#ff99e0",mm="#f316b0",m_="#ff24bd",mh="#d01b9c",mg="#ea10ac",mf="#96207a",mE="#cb0b96",my="#68275e",mb="#971172",mv="#46253e",mI="#5f114c",mT="#f1e7fe",mS="#f9f5ff",mw="#1f1924",mA="#2d0f46",mC="#e3cffc",mN="#f1e5ff",mO="#d6b6fb",mL="#e4ccff",mR="#d1a8ff",mP="#d9b8ff",mk="#8a38f5",mD="#9747ff",mM="#7a2ed6",mx="#8638e5",mF="#652ca8",mU="#7c2bda",mB="#50297a",mH="#681abb",mV="#3e2654",mG="#4b0d87",mW="#fee7e7",mK="#fff5f5",mY="#311817",mj="#660e0b",mz="#fccdca",m$="#ffe2e0",mZ="#fbbcb6",mq="#ffc7c2",mJ="#fca397",mX="#ffafa3",mQ="#e03e1a",m0="#f24822",m1="#c4381c",m2="#dc3412",m3="#963323",m5="#bd2915",m4="#7c2622",m8="#9f1f18",m6="#54211c",m7="#771208",m9="initial ",_e="initial ",_t="#ddf7fd",_r="#ebfbff",_n="#0e1f2a",_i="#0e2f43",_a="#bce6f1",_o="#cef0f8",_l="#a4e2ef",_s="#b6ecf7",_c="#67cbe4",_d="#75d7f0",_u="#0887a0",_p="#00a2c2",_m="#087691",__="#0087a8",_h="#0a5b76",_g="#047195",_f="#0c455a",_E="#085a78",_y="#0c2937",_b="#093c53",_v="rgba(255, 255, 255, 0.05)",_I="rgba(255, 255, 255, 0.05)",_T="rgba(255, 255, 255, 1)",_S="rgba(255, 255, 255, 1)",_w="rgba(255, 255, 255, 0.1)",_A="rgba(255, 255, 255, 0.1)",_C="rgba(255, 255, 255, 0.2)",_N="rgba(255, 255, 255, 0.2)",_O="rgba(255, 255, 255, 0.4)",_L="rgba(255, 255, 255, 0.4)",_R="rgba(255, 255, 255, 0.7)",_P="rgba(255, 255, 255, 0.7)",_k="rgba(255, 255, 255, 0.8)",_D="rgba(255, 255, 255, 0.8)",_M="rgba(255, 255, 255, 0.85)",_x="rgba(255, 255, 255, 0.85)",_F="rgba(255, 255, 255, 0.9)",_U="rgba(255, 255, 255, 0.9)",_B="rgba(255, 255, 255, 0.95)",_H="rgba(255, 255, 255, 0.95)",_V="#fdf7dd",_G="#fffbeb",_W="#71440f",_K="#b86200",_Y="#fbe8ad",_j="#fff1c2",_z="#f9df90",_$="#ffe8a3",_Z="#f7d15f",_q="#ffd966",_J="#f3c11b",_X="#ffcd29",_Q="#f2b50d",_0="#ffc21a",_1="#e4a711",_2="#fab815",_3="#c58011",_5="#eba611",_4="#925711",_8="#dd940e"},230997:(e,t,r)=>{"use strict";r.d(t,{BS:()=>c,FX:()=>o,Nz:()=>u,QU:()=>i,T:()=>d,Us:()=>n,ZI:()=>s,ZV:()=>l,cP:()=>m,rz:()=>a,uY:()=>p});let n="40px",i="12px",a="16px",o="16px",l="40px",s="48px",c="36px",d="30px",u="20px",p="12px",m="20px"},310435:(e,t,r)=>{"use strict";r.d(t,{EB:()=>s,Fu:()=>a,Kk:()=>o,NR:()=>l,az:()=>n,i0:()=>i});let n="toolbar_action--hideOnMobile--nG2oh",i="toolbar_action--hideOnDesktop--caccx",a="toolbar_action--getDesktop--K00Fi",o="toolbar_action--icon--pgH4B",l="toolbar_action--disabledButtonSolidWithTooltip--ooG66",s="toolbar_action--disabledButtonOutlineWithTooltip--EqJHb"},844052:(e,t,r)=>{"use strict";r.d(t,{E3:()=>n,H0:()=>p,Kk:()=>c,MW:()=>s,Nl:()=>u,Oy:()=>i,SP:()=>o,TU:()=>m,Xy:()=>d,Yg:()=>g,hR:()=>f,iU:()=>_,x6:()=>h,z3:()=>l,zC:()=>a});let n="visual_bell--base--Q4n07",i="visual_bell--fplBase--oYGmj",a="visual_bell--messageContainer--fkhJH _overlayBase--_overlayBase--Rkj8l text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",o="visual_bell--shown--q-U2E",l="visual_bell--error--SyYvP _overlayBase--_overlayBaseNoInnerShadow--edKsu",s="visual_bell--dismissIcon--IByfy",c="visual_bell--icon--rn9Ns",d="visual_bell--customIcon--Uxudp plugin--pluginIconBase--yAG5F",u="visual_bell--customIconCircle--LwQJ3 visual_bell--customIcon--Uxudp plugin--pluginIconBase--yAG5F",p="visual_bell--customIconError--wr7b0 visual_bell--customIcon--Uxudp plugin--pluginIconBase--yAG5F",m="visual_bell--messageMultiLine--N9KHG visual_bell--messageBase--Dg3ya ellipsis--_ellipsisAfterNLines--LzI7k",_="visual_bell--message--lQw67 visual_bell--messageBase--Dg3ya ellipsis--ellipsis--Tjyfa",h="visual_bell--button--5MgFh",g="visual_bell--secondaryText--3sKUc",f="visual_bell--progressIcon--RYZye"},468434:(e,t,r)=>{"use strict";r.d(t,{Oe:()=>i,RJ:()=>o,g0:()=>a,mu:()=>l,yE:()=>n});let n="feed_post_zoom_pan--zoomPanContainer--zUqcL",i="feed_post_zoom_pan--zoomPanInteractionLayer--8w-cl",a="feed_post_zoom_pan--guidelineLayer--p6ik- feed_post_zoom_pan--zoomPanInteractionLayer--8w-cl",o="feed_post_zoom_pan--transformedImage--hjQSb",l="feed_post_zoom_pan--zoomControls--8PqPP feed_post_detail_modal--contentOverlayPill--1jsoj"},30158:(e,t,r)=>{"use strict";r.d(t,{D9:()=>o,FY:()=>u,Hp:()=>p,QR:()=>d,ZS:()=>s,ai:()=>a,hF:()=>i,jZ:()=>c,kL:()=>n,oO:()=>l,z4:()=>m});let n="whiteboard_text_style_control--container--MNXDM",i="whiteboard_text_style_control--input--w-EA9 text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",a="whiteboard_text_style_control--chevron--Bj8sj",o="whiteboard_text_style_control--offscreenMeasurementContainer--BKhB1",l="whiteboard_text_style_control--selectInputForMeasurement--slyc8",s="whiteboard_text_style_control--optionForMeasurement--Am6OD",c="whiteboard_text_style_control--numberOption--j4Dvk",d="whiteboard_text_style_control--numberInput--PWl99",u="whiteboard_text_style_control--numberInputForMeasurement--TkDrB whiteboard_text_style_control--numberInput--PWl99",p="whiteboard_text_style_control--dotOption--zHKZY",m="whiteboard_text_style_control--textStyleSelect--gN34Q"},158200:(e,t,r)=>{"use strict";r.d(t,{$:()=>Y,$d:()=>eR,$y:()=>C,AT:()=>s,B4:()=>tr,BE:()=>eQ,BN:()=>e7,Bm:()=>M,Bx:()=>es,C0:()=>ep,Du:()=>e0,E$:()=>i,ES:()=>$,EY:()=>eo,F0:()=>Q,FK:()=>ee,FP:()=>U,HG:()=>n,ID:()=>ta,JQ:()=>ey,Kb:()=>eO,LI:()=>eq,Lt:()=>u,M:()=>eA,Mg:()=>ex,OA:()=>w,Q$:()=>o,Qq:()=>y,Qs:()=>c,RH:()=>e1,Rv:()=>ec,SN:()=>e9,Sk:()=>eJ,Sq:()=>eK,Sr:()=>ea,T5:()=>e_,T6:()=>eE,UJ:()=>eT,Uq:()=>a,WX:()=>eb,Wq:()=>ti,ZJ:()=>eY,ZS:()=>J,ZY:()=>ej,Zh:()=>D,Zu:()=>eU,_V:()=>W,ac:()=>ek,bQ:()=>eg,bj:()=>eI,bz:()=>ed,cP:()=>te,cb:()=>e2,cd:()=>eM,cf:()=>eF,cj:()=>eX,cq:()=>eL,cz:()=>R,dB:()=>e8,dP:()=>tt,dR:()=>d,dj:()=>ew,dk:()=>X,eB:()=>ez,fT:()=>L,fg:()=>eu,fp:()=>eS,gz:()=>eZ,hA:()=>j,he:()=>G,i0:()=>_,i9:()=>em,iD:()=>e4,iE:()=>I,iI:()=>eB,iU:()=>Z,jU:()=>eN,kV:()=>eG,ke:()=>el,kl:()=>S,ll:()=>et,lv:()=>eC,mK:()=>e5,mL:()=>eP,nI:()=>k,nS:()=>e$,o9:()=>z,oE:()=>K,pN:()=>T,ph:()=>O,qF:()=>e3,qf:()=>f,qs:()=>E,r6:()=>ei,rf:()=>V,rh:()=>tn,s$:()=>P,sD:()=>m,tN:()=>q,tS:()=>H,tp:()=>v,tq:()=>B,uA:()=>x,uW:()=>b,uh:()=>e6,uj:()=>eD,v5:()=>eH,vu:()=>p,wF:()=>l,wj:()=>F,wz:()=>h,xt:()=>g,yD:()=>eh,yF:()=>er,yG:()=>N,yR:()=>ef,yk:()=>eV,z:()=>A,z6:()=>eW,zO:()=>ev,zb:()=>en});let n="delightful_toolbar--delightfulToolbarContainer--SHMR-",i="delightful_toolbar--delightfulToolbarLowered--sZhzF",a="delightful_toolbar--delightfulToolbarDisabledClickDetector--JQUz3",o="delightful_toolbar--delightfulToolbarDisabled--jqtpA",l="delightful_toolbar--delightfulToolberInnerDisabled--9M-N9",s="delightful_toolbar--delightfulToolbarBannerContainer--FkA0g",c="delightful_toolbar--delightfulToolbarContainerBannerOffset--D5pU0",d="delightful_toolbar--focusVisibleHover--Ag5DV",u="delightful_toolbar--select--Qs3At",p="delightful_toolbar--active--Xm9-4",m="delightful_toolbar--hand--UoaPp",_="delightful_toolbar--animate--gXF-Y",h="delightful_toolbar--pencil--86AiY",g="delightful_toolbar--shapeCollage---YIrd",f="delightful_toolbar--sticky--6MjSN",E="delightful_toolbar--universalInsertCollage--0-jTN",y="delightful_toolbar--text--3Hmso",b="delightful_toolbar--section---GUh9",v="delightful_toolbar--table--toekL",I="delightful_toolbar--stamp--diHIZ",T="delightful_toolbar--universalInsert--FC5m4",S="delightful_toolbar--delightfulToolbar--0Koqy",w="delightful_toolbar--delightfulToolbarPostAnimation--J3t8f",A="delightful_toolbar--tuckDltForMakeSomethingV2--FzVXX",C="delightful_toolbar--fakeButtonContainer--ivi7f",N="delightful_toolbar--toolbarFakeButtonTarget--SdMI0",O="delightful_toolbar--delightfulToolbarTabletExtras--H-fON",L="delightful_toolbar--tabletExtrasItem--ApfSS",R="delightful_toolbar--tabletExtrasItemShowHide---fNRw",P="delightful_toolbar--delightfulToolbarTabletExtrasItem--92q-x delightful_toolbar--delightfulToolbar--0Koqy",k="delightful_toolbar--verticalButtonDisabled--m308g",D="delightful_toolbar--passthruLayout--gz5r2",M="delightful_toolbar--stampButton--3kdlW",x="delightful_toolbar--peekingVotingWheel--w0rd4",F="delightful_toolbar--peekingVotingWheelHidden--97uHk",U="delightful_toolbar--peekingVotingWheelDoneVoting--tAyvc",B="delightful_toolbar--peekingVotingWheelShowHide--1jIMo",H="delightful_toolbar--remainingVotesIndicator--1pWLF text--fontPos12--YsUAh text--_fontBase--QdLsd",V="delightful_toolbar--remainingVotesIndicatorInProgress--x9DdJ",G="delightful_toolbar--remainingVotesIndicatorDone--OyZtG",W="delightful_toolbar--remainingVotesIndicatorTextSpan--ola4B ellipsis--ellipsis--Tjyfa",K="delightful_toolbar--checkIcon--JmhHu",Y="delightful_toolbar--peekingVotingWheelContainer--EBQCY",j="delightful_toolbar--peekingVotingWheelInactive--bdvqB",z="delightful_toolbar--delightfulToolbarMask--WyKoY",$="delightful_toolbar--delightfulToolbarMaskClip--YptNQ",Z="delightful_toolbar--delightfulToolbarInner--gHZZG delightful_toolbar--passthruLayout--gz5r2",q="delightful_toolbar--undo--GoECN",J="delightful_toolbar--redo--zNSIB",X="delightful_toolbar--straightLine--WYaYi",Q="delightful_toolbar--horizontalButton--GEYZm",ee="delightful_toolbar--horizontalButtonDisabled--J--Nk",et="delightful_toolbar--pointerEventsDisabled--0umVY",er="delightful_toolbar--divider--apd-R",en="delightful_toolbar--againstButtons--jjCEu",ei="delightful_toolbar--toolbarSection--UFHyw delightful_toolbar--passthruLayout--gz5r2",ea="delightful_toolbar--tool--g8UFJ",eo="delightful_toolbar--pencilTool--z-K-X delightful_toolbar--tool--g8UFJ",el="delightful_toolbar--toolIcon--hHlA3",es="delightful_toolbar--toolIconIsDragging--NbbVm",ec="delightful_toolbar--fade--z0hkc",ed="delightful_toolbar--bodyCursorDrag--U0w4y",eu="delightful_toolbar--customAnimatedStickyContainer--NwoG4",ep="delightful_toolbar--customAnimatedSticky--Am-sV",em="delightful_toolbar--enableDogEarAnimation--mKWg-",e_="delightful_toolbar--bottomSticky--EL0yA delightful_toolbar--stickyAnimationProperties--sQIyc",eh="delightful_toolbar--middleSticky--euFjB delightful_toolbar--stickyAnimationProperties--sQIyc",eg="delightful_toolbar--topSticky--rCKI- delightful_toolbar--stickyAnimationProperties--sQIyc",ef="delightful_toolbar--customAnimatedStickyDogEar--W4GVZ",eE="delightful_toolbar--overValidDropTarget--oTIIh",ey="delightful_toolbar--shapeAndStickyShadow--19Urt",eb="delightful_toolbar--hasDropShadow--Jr9fo",ev="delightful_toolbar--toolIconIsSelected--zMbAE",eI="delightful_toolbar--toolIconIsHovered--06bxV",eT="delightful_toolbar--hasBoxShadow--GZIGk",eS="delightful_toolbar--verticalButtonHolder--iacgh",ew="delightful_toolbar--verticalButton--NunDU",eA="delightful_toolbar--verticalButtonHovered--XWjJn",eC="delightful_toolbar--verticalButtonSelected--gJEVN",eN="delightful_toolbar--markerShadow--2r0xq",eO="delightful_toolbar--markerShadowSmall--7PUZI",eL="delightful_toolbar--easeInDltItemFill--rGBLG",eR="delightful_toolbar--shapeSpawnAnimation--bHVVH",eP="delightful_toolbar--middleStickyContainer--86OO8 delightful_toolbar--backgroundSticky--14jwo",ek="delightful_toolbar--bottomStickyContainer--OO2fl delightful_toolbar--backgroundSticky--14jwo",eD="delightful_toolbar--spriteSheet--t-eNg",eM="delightful_toolbar--drawingToolPlaceholder--jjpMh",ex="delightful_toolbar--drawingToolPlaceholderVisible--Agv4F",eF="delightful_toolbar--washiTapePlaceholderSvg--848Ll",eU="delightful_toolbar--washiTapeBig--2gCvj",eB="delightful_toolbar--washiTapeShine--wVzk9",eH="delightful_toolbar--washiTapeBigTape--5ZRa5",eV="delightful_toolbar--washiTapeSmall--VIFNn",eG="delightful_toolbar--washiTapeSmallTape--tEVin",eW="delightful_toolbar--customAnimatedStickyContainerV2--v-iK4",eK="delightful_toolbar--customAnimatedStickyV2--OVYQS",eY="delightful_toolbar--customAnimatedStickyV3--qLTBA",ej="delightful_toolbar--bottomStickyV2--p7HoD delightful_toolbar--stickyAnimationProperties--sQIyc",ez="delightful_toolbar--bottomStickyV3---oRIg delightful_toolbar--stickyAnimationPropertiesV3--tf0ke",e$="delightful_toolbar--middleStickyV2--bfVaY delightful_toolbar--stickyAnimationProperties--sQIyc",eZ="delightful_toolbar--middleStickyV3--BiM-v delightful_toolbar--stickyAnimationPropertiesV3--tf0ke",eq="delightful_toolbar--topStickyV2---0qKu",eJ="delightful_toolbar--topStickyV3--5ndgM delightful_toolbar--stickyAnimationPropertiesV3--tf0ke",eX="delightful_toolbar--dogEarSticky---UqUA",eQ="delightful_toolbar--reverse---CQhv",e0="delightful_toolbar--stickyDogEarContainer--FJHcW",e1="delightful_toolbar--forwards--nPpnP",e2="delightful_toolbar--noAnimation--XnCqV",e3="delightful_toolbar--middleStickyContainerV2--Dy8Na delightful_toolbar--backgroundStickyV2--GQPLn",e5="delightful_toolbar--bottomStickyContainerV2--XUsyj delightful_toolbar--backgroundStickyV2--GQPLn",e4="delightful_toolbar--fakeStickyContainer--OmfTq delightful_toolbar--backgroundStickyV2--GQPLn",e8="delightful_toolbar--fakeSticky--cTZnZ delightful_toolbar--stickyAnimationProperties--sQIyc",e6="delightful_toolbar--stickyOuterV3--ROW-i",e7="delightful_toolbar--stickyCurlV3--6kp8i",e9="delightful_toolbar--stickyMaskContainerV3--XBMQM",te="delightful_toolbar--stickyMaskDynamicV3--hTZdB",tt="delightful_toolbar--stickyMaskStaticV3---Ycp2",tr="delightful_toolbar--showCurlV3--qx7tK",tn="delightful_toolbar--noTransition--aPSPH",ti="delightful_toolbar--stickyBaseV3--sQACX",ta="delightful_toolbar--fakeStickyV3--Jq79A delightful_toolbar--stickyAnimationPropertiesV3--tf0ke"},525763:(e,t,r)=>{"use strict";r.d(t,{A:()=>p,D:()=>u});var n=r(772841),i=r(258346),a=r(866206),o=r(798867),l=r(356388),s=r(344301),c=r(386136),d=r(444390),u=(e=>(e[e.CONNECTED=0]="CONNECTED",e[e.DISCONNECTED=1]="DISCONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e))(u||{});class p{constructor(e,t,r,n,a,o={},s=new Set){var c,u,p;this.args=e,this.viewRegistry=r,this.preloadViewKeys=s,this.session=new i.A(e,t,r,this.emitter,(e,t)=>{this.requestPaginationChange(e,t)},o.enableCrossViewIncompleteInstanceCheck,o.shouldBubbleUpNonNullableResultErrors),this.connection=new l.A(n,a,e,this.emitter,o),this.connection.addObserver(this),this.addEventListener(this.healthListener.bind(this));for(let e=0;e<((null==(c=null==o?void 0:o.preloadedViews)?void 0:c.length)??0);e++){let t=null==(u=null==o?void 0:o.preloadedViews)?void 0:u[e],r=(null==(p=null==o?void 0:o.preloadedViewArgs)?void 0:p[e])??{};this.session.subscribe(t,r,()=>{}),this.preloadViewKeys.add((0,d.J)(t._name,r))}}transactionId=1;syncDelayForDebugging=0;syncQueryIds=new Map;syncCallbacks=new Map;pendingGlobalOptimisticUpdates=new Set;globalOptimisticUpdateResolutionCallbacks=[];session;connection;emitter=new o.b;healthListeners=new Set;pendingOptimisticMutationList=[];pendingMutationList=[];cleanup(){this.connection.cleanup()}async connect(){await this.connection.connect()}async close(){await this.connection.closeWithoutReconnecting()}addEventListener(e){return this.emitter.addListener(e)}removeEventListener(e){return this.emitter.removeListener(e)}healthListener(e){if("CONNECTION_STATE"===e.type){let t=this.getHealthStatusForConnectionState(e.state);for(let e of this.healthListeners)e(t)}}getHealthStatus(){return this.getHealthStatusForConnectionState(this.connection.getState())}getHealthStatusForConnectionState(e){return"connected"===e.type?0:"connecting"===e.type?2:1}addHealthListener(e){return this.healthListeners.add(e),()=>this.removeHealthListener(e)}removeHealthListener(e){this.healthListeners.delete(e)}sendExistingSubscriptions(){for(let{viewRef:e,args:t,traceId:r}of(this.session.startReconnectionStateForPaginationQueries(),this.session.uniqueSubscriptions()))this.preloadViewKeys.has((0,d.J)(e._name,t))||this.requestSubscription(e,t,this.connection.isInitial()?"initial_load":"refresh",r)}handleMessage(e){switch(e.messageType){case"authSuccess":if(this.args.sessionId=e.sessionId,this.args.anonymousUserId=e.anonymousUserId,!this.connection.isAuthenticated()){(0,a.QI)(!1,"Expected connection to be in authenticated state");break}for(let e of this.syncCallbacks.keys())this.requestSync(e,this.syncQueryIds.get(e));break;case"pendingMutations":this.hasUnresolvedGlobalOptimisticUpdates()?(this.globalOptimisticUpdateResolutionCallbacks.push(()=>{this.session.applyMutations(e.mutations)}),this.pendingMutationList.push(e.mutations),this.session.resolvePendingServerIdList(e.mutations)):this.session.applyMutations(e.mutations);break;case"synced":let t=this.syncCallbacks.get(e.transactionId);t&&t();break;case"viewSubscriptionFailed":this.emitter.emit({type:"ERROR",error:new n.rT(e.errorCode)}),this.session.cleanupFailedSubscribeView(e.liveViewKey)}}onConnectionOpen(){this.sendExistingSubscriptions()}requestSubscription(e,t,r,n){let i={messageType:"subscribe",viewName:e._name,viewHash:e._hash,loadType:r,args:t,traceId:n};this.connection.isConnected()&&(this.connection.send(i),this.emitter.emit({type:"SUBSCRIBE_VIEW_SERVER",view:e,args:t,traceId:n}))}requestPaginationChange(e,t){let r={messageType:"paginationChangeMessage",operationType:"LoadNext",queryId:e,count:t.count,paginationArgs:t};this.connection.isConnected()&&this.connection.send(r)}subscribeAndUnsubscribeInBatches(e,t,r,n){for(let i of(r.setArgs(t),t)){let t=r.getStableArgs(i);if(r.subscriptions.has(t))continue;let a=this.subscribeBase(e,t,e=>{a.lastResult=e,r.recomputeViewResult(n)});r.subscriptions.set(t,a)}r.recomputeViewResult(n)}subscribeBase(e,t,r,n){let i=this.session.hasActiveSubscriptions(e._name,t),a=this.session.subscribe(e,t,r,n);return i||(this.emitter.emit({type:"SUBSCRIBE_VIEW_CLIENT",view:e,args:t,traceId:n}),this.requestSubscription(e,t,"initial_load",n)),a}getUnsubscribeFunction(e){return()=>{e.clientUnsubscribed=!0,(0,a.VG)(()=>{e.unsubscribe(),!this.session.hasActiveSubscriptions(e.view._name,e.args)&&this.connection.isConnected()&&(this.connection.send({messageType:"unsubscribe",viewName:e.view._name,args:e.args}),this.emitter.emit({type:"UNSUBSCRIBE_VIEW_SERVER",view:e.view,args:e.args}))},2e3)}}subscribe(e,t,r,n){var i;let a=t;(null==(i=this.viewRegistry.get(e._name))?void 0:i.hasStaticQueries())&&(a={...t,__requestId:(0,s.A)()});let o=this.subscribeBase(e,a,r,n);return this.getUnsubscribeFunction(o)}hasUnresolvedGlobalOptimisticUpdates(){return this.pendingGlobalOptimisticUpdates.size>0}handleBeforeOptimisticUpdateApplied(e){this.pendingGlobalOptimisticUpdates.add(e)}handleAfterOptimisticUpdateResolved(e){if(this.pendingGlobalOptimisticUpdates.delete(e),!this.hasUnresolvedGlobalOptimisticUpdates()){let e=this.globalOptimisticUpdateResolutionCallbacks;this.globalOptimisticUpdateResolutionCallbacks=[],this.emitter.emit({type:"MUTATIONS_BLOCKED_ON_OPTIMISTIC_UPDATE",count:e.length}),this.session.batchMutations(()=>{for(let t of e)t()}),this.checkMissingMutations()}}checkUUIDExistenceInPendingMutation(e,t){for(let r of t)for(let t in r)for(let n in r[t].instances)if(e===r[t].instances[n].uuid)return!0;return!1}checkMissingMutations(){for(let e of this.pendingOptimisticMutationList)for(let t in e)for(let r in e[t]){let n=e[t][r];(null==n?void 0:n.uuid)&&(this.checkUUIDExistenceInPendingMutation(n.uuid,this.pendingMutationList)?this.emitter.emit({type:"PENDING_MUTATION_EXISTENCE",exist:!0,objectName:t,optimisticInstance:n}):this.emitter.emit({type:"PENDING_MUTATION_EXISTENCE",exist:!1,objectName:t,optimisticInstance:n}))}this.pendingOptimisticMutationList=[],this.pendingMutationList=[]}async applyMutations(e,t,r){let n;let i=this.transactionId;this.transactionId++;let a=this.session.applyShadowMutations(i,e,r);this.handleBeforeOptimisticUpdateApplied(i);try{n=await t}catch(t){throw this.session.removeShadowMutations(i,e,!1),this.handleAfterOptimisticUpdateResolved(i),t}let o=!1;try{await this.sync(i,a),o=!0}finally{this.pendingOptimisticMutationList.push(e),this.globalOptimisticUpdateResolutionCallbacks.push(()=>{this.session.removeShadowMutations(i,e,o)}),this.handleAfterOptimisticUpdateResolved(i)}return n}waitForServerSideObjectsWithUUIDs(e){let t=[];for(let r in e)for(let n in e[r])t.push(this.getIdFromUuid(r,n));return Promise.all(t)}async applyMutationsWithUUID(e,t,r){let n;let i=this.transactionId;this.transactionId++;let o=this.session.applyShadowMutationsWithUUID(i,e,r);this.handleBeforeOptimisticUpdateApplied(i);try{n=await t}catch(t){throw this.session.removeShadowMutationsWithUUID(i,e,!1),this.handleAfterOptimisticUpdateResolved(i),t}let l=!1;try{"create"===r?(this.emitter.emit({type:"WAIT_SERVER_OBJECTS_STARTED",mutations:e}),await this.waitForServerSideObjectsWithUUIDs(e),await (0,a.yy)(this.syncDelayForDebugging),this.emitter.emit({type:"WAIT_SERVER_OBJECTS_ENDED",mutations:e})):await this.sync(i,o),l=!0}finally{this.pendingOptimisticMutationList.push(e),this.globalOptimisticUpdateResolutionCallbacks.unshift(()=>{this.session.removeShadowMutationsWithUUID(i,e,l)}),this.handleAfterOptimisticUpdateResolved(i)}return n}getIdFromUuid(e,t){return this.session.getIdFromUuid(e,t)}async deprecatedApplyMutationsByView(e,t,r,n){let i;let a=this.transactionId;this.transactionId++,this.session.applyShadowMutationsByView(e._name,a,t,n);try{i=await r}catch(r){throw this.session.removeShadowMutationsByView(e._name,a,t,!1),r}let o=!1;try{let e=[];for(let r of this.session.getAllQueryIds())(0,c.h)(this.session.schema,r).name in t&&e.push(r);await this.sync(a,e),o=!0}finally{this.session.removeShadowMutationsByView(e._name,a,t,o)}return i}requestSync(e,t){this.connection.isConnected()&&(this.connection.send({messageType:"sync",transactionId:e,queryIds:t}),this.emitter.emit({type:"SYNC_STARTED",transactionId:e}))}async sync(e=this.transactionId++,t){let[r,n]=(0,a.dS)();this.syncCallbacks.set(e,n),void 0!==t&&this.syncQueryIds.set(e,t),this.requestSync(e,t),await r,this.syncDelayForDebugging&&await (0,a.yy)(this.syncDelayForDebugging),this.syncCallbacks.delete(e),this.syncQueryIds.delete(e),this.emitter.emit({type:"SYNC_COMPLETED",transactionId:e})}get debug(){return{subscriptions:this.session.getViewSubscriptionsForDebugging(),prettyPrintLiveViewTree:e=>this.session.prettyPrintLiveViewTree(e),setOptimisticUpdateResolutionDelay:e=>this.syncDelayForDebugging=e,...this.connection.debug}}}},239074:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});class n{constructor(e){this.onParse=e}buffer="";feed(e){this.buffer+=e;let t=e=>{this.buffer=this.buffer.slice(e)},r=this.buffer.indexOf("\n");for(;-1!==r;){let e=this.buffer.slice(0,r);e.length>0&&this.onParse({content:e},!0),t(r+1),r=this.buffer.indexOf("\n")}}}function i(){let e;let t={content:""},r=[];return new TransformStream({start(i){e=new n((e,n)=>{t=e,n&&(r.push(t),t={content:""},i.enqueue([...r]))})},transform(t,r){e.feed(t.delta)}})}},10061:(e,t,r)=>{"use strict";r.d(t,{fV:()=>a,if:()=>n,z6:()=>i});let n="---",i=`${n} BEGIN NOTES`,a=`${n} BEGIN SUMMARY BODY`},939306:(e,t,r)=>{"use strict";r.d(t,{Eo:()=>o,l0:()=>f,f6:()=>c,BX:()=>h,wV:()=>y,wF:()=>b,Dp:()=>I}),r(159619);var n=r(902933);r(338542);var i=r(886502);let a="fig-kiwi",o="fig-diff",l="f"+function(...e){let t=e.shift();return e.reverse().map(function(e,r){return String.fromCharCode(e-t-39-r)}).join("")}(19,162,163)+"t".split("").map(function(e){return String.fromCharCode(e.charCodeAt(0)+-71)}).join("")+"sit"+function(...e){var t=e.shift();return e.reverse().map(function(e,r){return String.fromCharCode(e-t-1-r)}).join("")}(18,120),s=function(...e){var t=Array.prototype.slice.call(e),r=t.shift();return t.reverse().map(function(e,t){return String.fromCharCode(e-r-58-t)}).join("")}(2,165,166,162)+"t".split("").map(function(e){return String.fromCharCode(e.charCodeAt(0)+-71)}).join("")+"d"+function(...e){var t=Array.prototype.slice.call(e),r=t.shift();return t.reverse().map(function(e,t){return String.fromCharCode(e-r-41-t)}).join("")}(11,161,152,153);function c(e){return e.byteLength>=2&&80===e[0]&&75===e[1]}var d=r(235310),u=r(769955);let p=[40,181,47,253];async function m(e){if(function(e){for(let t=0;t<p.length;t++)if(e[t]!==p[t])return!1;return!0}(e)){let t=new u.A;return await t.init(),t.decode(e)}return d.wS(e)}async function _(){return await r.e(1699).then(r.bind(r,851699))}async function h(e){let t=await _();if(c(e)){let r=new t.ZipReader(new t.Uint8ArrayReader(e));for(let e of(await r.getEntries()))if("canvas.fig"===e.filename&&e.getData)return e.getData(new t.Uint8ArrayWriter)}return e}let g=[a,"fig-jam.",o,s,l];function f(e){let t=String.fromCharCode(...e.subarray(0,8));if(!g.includes(t))throw Error("Unsupported file type");return t}async function E(e){let t=new DataView(e.buffer),r=a.length;if(r+4>e.length)throw Error("Missing version");let o=t.getUint32(r,!0);r+=4,console.log({version:o});let l=t.getUint32(r,!0);if(r+=4,console.log({schemaLength:l}),r+l>e.length)throw Error("Invalid schema length "+l);let s=e.subarray(r,r+l);r+=l;let c=t.getUint32(r,!0);if((r+=4)+c>e.length)throw Error("Invalid message length "+c);let d=e.subarray(r,r+c),u=await m(s),p=i.X(u),_=n.F(p);return{version:o,schema:p,compiledSchema:_,encodedMessage:await m(d)}}async function y(e,t){e=await h(e);let{version:r,schema:n,compiledSchema:i,encodedMessage:a}=await E(e),o=i.decodeMessage(a),{nodeChanges:l,blobs:s=[],fileVersion:c}=o;if(!l)throw Error("File did not have node changes");return{nodeChanges:l,schema:n,blobs:s,message:o,migrationVersion:t??c??r}}async function b(e,t){e=await h(e);let{version:r,schema:n,compiledSchema:i,encodedMessage:a}=await E(e),{nodeChanges:o,diffBasis:l,diffChunks:s,blobs:c=[]}=i.decodeDiffPayload(a);if(!o)throw Error(".figd file buffer did not have node changes");if(!l)throw Error(".fig file buffer did not have diff basis");if(!s)throw Error(".fig file buffer did not have diff chunks");let d=o.map((e,t)=>({...l[t],...e}));return{before:{migrationVersion:t??r,nodeChanges:l,blobs:c,diffChunks:s,schema:n},after:{migrationVersion:t??r,nodeChanges:d,blobs:c,diffChunks:s,schema:n}}}async function v(e){let t=atob(e),r=await fetch(t,{headers:{"Cache-Control":"no-cache"}}),n=await r.blob(),a=await n.arrayBuffer();return i.X(new Uint8Array(a))}async function I(e,t){if(null==t.encodedKiwiSchemaUrl)throw Error("Missing encoded kiwi schema query param");let r=await v(t.encodedKiwiSchemaUrl),i={nodeChanges:[],blobs:[]};0!==e.length&&(i=n.F(r).decodeMessage(e));let{nodeChanges:a=[],blobs:o=[],fileVersion:l}=i;return{resourceMetadata:{migrationVersion:(null==t?void 0:t.migrationVersion)??l??-1,endSequenceNumber:t.endSequenceNumber,createdAt:t.createdAt,encodedKiwiSchemaUrl:t.encodedKiwiSchemaUrl},nodeChanges:a,blobs:o,schema:r}}},293298:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(749470),i=r(88354);function a(e){let t=!1,r=(0,n.rb)(e);return(0,i.Si)(e,e=>e.clipsContent&&function(e,t){let r=e.x+e.width<t.x,n=e.x>t.x+t.width,i=e.y+e.height<t.y,a=e.y>t.y+t.height;return r||n||i||a}(r,{x:e.x,y:e.y,width:e.w,height:e.h})?(t=!0,i.FZ.BREAK):i.FZ.CONTINUE),t}},218559:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var n=r(88354),i=r(297693);function a(e,t){if(!(0,n.u_)(e)||!e.children||0===e.children.length)return;let r=function(e,t){let r=(0,i.xw)(e,t)&&(0,i.sy)(e,t);return r&&(0,i.fW)(e,t)&&(0,i.tc)(e)?"header":r&&(0,i.nO)(e,t)&&(0,i.tc)(e)?"footer":void 0}(e,t);if(r)return r;let a=function(e){if((0,n.fY)(e))return"button"}(e);if(a)return a}},650121:(e,t,r)=>{"use strict";r.d(t,{$:()=>s,R:()=>o});var n=r(88354),i=r(101157),a=r(749470);function o(e){let t=(0,n.Fo)(e,e=>"TEXT"===e.type,{includeSelf:!1});if(1===t.length)return t[0]}let l=["FRAME","RECTANGLE","ROUNDED_RECTANGLE","INSTANCE","GROUP"];function s(e,t){let r;if(!l.includes(e.type))return;let o=(0,i.I)(e);if(!o)return;if(!t)throw`Couldnt find text node caches for TLF id ${o.id}`;let s=(0,a.rb)(e);for(let i of t){if(i===e||(0,n.$V)(i,e))continue;let t=(0,a.rb)(i),o=(0,a.E$)(s,t);if(o&&o.width*o.height/(t.width*t.height)>.7){if(r)return;r=i}}return r}},76736:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(297693),i=r(88354);function a(e,t){var r;if((0,i.TA)(e))return!1;let a=e.parentNode;return!(0,i.TA)(a)&&!!(a.children&&(null==(r=a.children)?void 0:r.length)>=3&&(0,i.u_)(a)&&(0,n.sy)(a,t)&&(0,n.tc)(a)&&a.w>a.h&&e.w>.1*a.w&&((0,n.nO)(a,t)||(0,n.fW)(a,t)))}},632376:(e,t,r)=>{"use strict";r.d(t,{EO:()=>s,wZ:()=>d,xv:()=>o});var n=r(237870),i=r(121898);let a=i.A.createLazyComponent(()=>r.e(5817).then(r.bind(r,714932)).then(e=>e.AutosaveLogOutModal),(0,n.Ij)("AutosaveLogOutModal")),o=(0,n.Ju)(a),l=i.A.createLazyComponent(()=>r.e(5817).then(r.bind(r,714932)).then(e=>e.HasAutosaveChangesModal),(0,n.Ij)("HasAutosaveChangesModal")),s=(0,n.Ju)(l),c=i.A.createLazyComponent(()=>r.e(5817).then(r.bind(r,275081)).then(e=>e.AutosaveLearnMoreModal),(0,n.Ij)("AutosaveLearnMoreModal")),d=(0,n.Ju)(c)},295296:(e,t,r)=>{"use strict";r.d(t,{B7:()=>o,dR:()=>s,lk:()=>d,In:()=>a.I});var n=r(237870),i=r(711184),a=r(252011),o=(e=>(e.ORG_SELF_SERVE_UPGRADE_MODAL="org_self_serve_upgrade_modal",e.PLAN_COMPARISON="plan_comparison_modal",e.LIBRARY_DUPLICATE_OSS_SALES_UPSELL="library_duplicate_oss_sales_upsell",e))(o||{});let l=i.A.createLazyComponent(()=>Promise.all([r.e(1497),r.e(8964)]).then(r.bind(r,152495)).then(e=>e.UniversalUpgradeSequence),(0,n.Ij)("UniversalUpgradeSequence")),s=(0,n.Ju)(l,"UniversalUpgradeSequence"),c=i.A.createLazyComponent(()=>Promise.all([r.e(1497),r.e(8964)]).then(r.bind(r,505189)).then(e=>e.UpgradeContactSalesModal),(0,n.Ij)("UpgradeContactSalesModal")),d=(0,n.Ju)(c,"UpgradeContactSalesModal")},484525:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,_:()=>s});var n=r(411855),i=r(574176),a=r(340433),o=r(256127),l=r(691552);function s({is24x24:e}){return n.createElement(i.B,{svg:o.A,className:a.K,svgClassName:e?a.B:void 0})}function c({is24x24:e}){return n.createElement(i.B,{svg:l.A,className:a.K,svgClassName:e?a.B:void 0})}},282545:(e,t,r)=>{"use strict";r.d(t,{n:()=>u,v:()=>p});var n=r(411855),i=r(939863),a=r(510211),o=r(882225),l=r(209552),s=r(365292),c=r(40848);function d(e){let t=n.createElement(i.Tx,{id:"community.badge.creator_fund"});return n.createElement(s.Ex,{background:"white",height:e.height,border:e.border},e.disableIcon?t:n.createElement(s.b3,null,n.createElement(s.OQ,null,n.createElement(a.J,null)),t))}function u({height:e,badges:t,border:r,disableIcon:i}){return t.some(e=>e===o.s.CREATOR_FUND)?n.createElement(d,{height:e,border:r,disableIcon:i}):null}function p(e){let t=n.createElement("a",{href:"https://figma.com/community-creators",target:"_blank",className:c.RL,onClick:e=>{e.stopPropagation()}},n.createElement(i.Tx,{id:"community.detail_view.creator_fund_tooltip"}),n.createElement("span",{className:c.kz},n.createElement(i.Tx,{id:"community.learn_more"})));return n.createElement(l.m_,{preview:t},e.children)}},175420:(e,t,r)=>{"use strict";r.d(t,{C2:()=>d,Gx:()=>u,J3:()=>c});var n=r(411855),i=r(939863),a=r(568493),o=r(882225),l=r(209552),s=r(40848);function c(e){return e.some(e=>e===o.s.FIGMA_PARTNER)}function d({badges:e},t,r){return c(e)?n.createElement(a.c,{showBorder:t,is24x24:r}):null}function u(e){let t=n.createElement("a",{href:"https://www.figma.com/partners/",target:"_blank",className:s.RL,onClick:e=>{e.stopPropagation()}},n.createElement(i.Tx,{id:"community.detail_view.figma_partner_this_creator_is"}),n.createElement("span",{className:s.kz},n.createElement(i.Tx,{id:"community.learn_more"})));return n.createElement(l.m_,{preview:t},e.children)}},408552:(e,t,r)=>{"use strict";r.d(t,{$3:()=>y,QP:()=>E,V6:()=>m,op:()=>f});var n=r(411855),i=r(188507),a=r(939863),o=r(466636),l=r(697551),s=r(555328),c=r(483327),d=r(178787),u=r(365292);function p(e){let t=(0,o.bV)(e.resource.monetized_resource_metadata);return n.createElement(u.Ex,{background:"light",height:e.height},t)}function m({resource:e,showPrice:t=!1,height:r,isPaymentAnnualSubscription:i=!1,backgroundColor:l,border:s}){if(e&&(0,d.Uv)(e.monetized_resource_metadata)){let c=i?(0,o.bV)(e.monetized_resource_metadata,!0):(0,o.bV)(e.monetized_resource_metadata);return n.createElement(u.Ex,{height:r,background:l||"light",border:s},t?n.createElement(a.Tx,{id:"community.buyer.subscribed_with_price",priceString:c}):n.createElement(a.Tx,{id:"community.buyer.subscribed"}))}return n.createElement(u.Ex,{height:r,background:l||"light",border:s},n.createElement(a.Tx,{id:"community.buyer.purchased"}))}function _({...e}){return n.createElement(u.Ex,null,n.createElement(a.Tx,{id:"community.detail_view.third_party_badge.figma_partner"}))}function h(e){return n.createElement(u.Ex,{background:"light",height:e.height},n.createElement(a.Tx,{id:"community.detail_view.third_party_badge.off_platform"}))}function g(e){return n.createElement(u.Ex,{background:"light",height:e.height},n.createElement(a.Tx,{id:"community.buyer.in_app_purchases"}))}var f=(e=>(e.PURCHASED="purchased",e.OFF_PLATFORM="off_platform",e.FREEMUM="freemium",e.PRICE="price",e))(f||{});function E({resource:e,height:t,validBadges:r=Object.values(f)}){return y({resource:e,height:t,validBadges:r,authedActiveCommunityProfile:(0,i.d4)(e=>e.authedActiveCommunityProfile)})}function y({resource:e,height:t,validBadges:r=Object.values(f),authedActiveCommunityProfile:i}){return e?!(i&&(0,l.cs)(i))&&(0,c.t)(e)&&e.community_resource_payment&&(0,o.QQ)(e.community_resource_payment)?r.includes("purchased")?n.createElement(m,{resource:e,height:t}):null:e.monetization_status&&e.monetization_status===d.UC.FIGMA_PARTNER?n.createElement(_,null):(0,s.PM)(e)?r.includes("freemium")?n.createElement(g,{height:t}):null:(0,s.m3)(e)?r.includes("price")?n.createElement(p,{resource:e,height:t}):null:(0,s.zF)(e)&&r.includes("off_platform")?n.createElement(h,{height:t}):null:null}},17284:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var n=r(411855),i=r(282545),a=r(40848);function o(e){let t=(0,i.n)(e);if(t){let r=e.hideTooltip?t:n.createElement(i.v,null,t);return n.createElement("div",{className:a.sx},r)}return null}},689289:(e,t,r)=>{"use strict";r.d(t,{u:()=>h});var n=r(411855),i=r(188507),a=r(654923),o=r(466636),l=r(697551),s=r(215822),c=r(555328),d=r(408552),u=r(939863),p=r(365292);function m({orgName:e}){return n.createElement(p.Ex,{background:"white",height:"16",border:"strong"},e?n.createElement(u.Tx,{id:"community.plugins.private_for_plugin_org_name",orgName:e}):n.createElement(u.Tx,{id:"community.plugins.private_for_your_organization"}))}var _=r(17284);function h({resource:e}){var t,r;let u=(0,i.d4)(e=>e.authedActiveCommunityProfile),p=(0,a.I)(e),h=(0,o.QQ)(p),g=!(0,l.cs)(u)&&h?n.createElement(d.V6,{resource:e,backgroundColor:"white",height:"16",border:"strong"}):null,f=((0,c.I0)(e)||(0,c.xQ)(e))&&(0,s.Rt)(e)?n.createElement(m,{orgName:null==(r=null==(t=e.roles)?void 0:t.org)?void 0:r.name}):void 0;return n.createElement(n.Fragment,null,g||f||n.createElement(_.I,{badges:e.badges,height:"16",border:"strong",disableIcon:!0}))}},16222:(e,t,r)=>{"use strict";r.d(t,{b:()=>_});var n=r(411855),i=r(744493),a=r(572206),o=r(939863);let l=n.createElement("span",null,n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"var(--color-icon)"}))),s=n.createElement("span",null,n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.12543 3.04791C5.67813 1.652 3.3316 1.652 1.8843 3.04791C0.437004 4.44381 0.437004 6.70702 1.8843 8.10293L2.75826 8.94585L2.75823 8.94588L7.99935 14.0009L14.114 8.10338C15.5613 6.70747 15.5613 4.44426 14.114 3.04836C12.6667 1.65245 10.3202 1.65245 8.87288 3.04836L7.99939 3.89083L7.12543 3.04791Z",fill:"#F24822"}),n.createElement("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"#F24822"})));var c=r(498606),d=r(993285);function u({particleSystem:e,children:t}){let[r,i]=(0,n.useState)([]);return((0,d.N)((0,n.useCallback)(t=>{let r=Math.min(Math.max(t/1e3,.001),.2),n=e.getEntities().length;e.update(r),(e.getEntities().length>0||n>0)&&i(e.getParticles())},[e,i])),r.length)?n.createElement("div",{className:"particle_system--particleContainer--XcgSY"},r.map((e,r)=>n.createElement("div",{className:"particle_system--particle--zD5gS",key:r,style:{transform:`translate3d(${e.position.x}px, ${e.position.y}px, 0px) rotate(${e.rotation}rad) translate(-50%, -50%) scale(${e.scale})`}},t))):null}class p extends i.J3{constructor(e,t,r){super(),this.position=e,this.kick=t,this.rotation=r,this.scale=1+Math.random(),this.gravity={x:0,y:-100},this.kickDecay=.87,this.lifetime=3}}class m extends i.vC{constructor(e,t){super(),this.position=e,this.addParticle=t,this.emissionProfile=e=>3+Math.min(6,12*e),this.emitParticle=()=>{let e=new a.Mi(Math.random()-.5,Math.random()-.5);e.y+=.2;let t=e.unit();t.y+=.3;let r=t.scale(500*Math.pow(Math.random(),.6)),n=.3*t.x;this.addParticle(new p({x:this.position.x,y:this.position.y},r,n))}}}function _(e){let t=n.useRef(new i.ok).current,r=n.useRef(null),d=()=>{var e;let n=null==(e=r.current)?void 0:e.getBoundingClientRect();if(n){let e=new a.Mi(n.left+n.width/2,n.top+n.height/2);t.addEntity(new m(e,t.addParticle))}};return e.disabled?n.createElement("button",{className:"base_like_button--buttonContainerDisabled--sOWAD base_like_button--buttonContainer--vfBIa cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",disabled:e.disabled},n.createElement("div",{className:"base_like_button--likeIconDisabled--dfrWS base_like_button--likeIcon--70nFu text--fontPos18--rYXJb text--_fontBase--QdLsd"},l)):n.createElement("button",{className:"base_like_button--buttonContainer--vfBIa cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:t=>{var n;null==(n=e.onClick)||n.call(e,t),e.shouldTriggerFunHearts&&.3>=Math.random()&&r&&d()},"data-tooltip":(0,o.t)("community.like"),"data-tooltip-type":c.Ib.TEXT,"data-testid":"like-button"},n.createElement("div",{className:"base_like_button--likeIcon--70nFu text--fontPos18--rYXJb text--_fontBase--QdLsd",ref:r},e.isResourceLiked?s:l),n.createElement(u,{particleSystem:t},s))}},292633:(e,t,r)=>{"use strict";r.d(t,{i:()=>l});var n=r(411855),i=r(195847),a=r(410004),o=r(16222);function l(){return n.createElement(o.b,{onClick:()=>(0,a.FL)(i.qB.SIGN_UP,{preventDefaultRedirect:!0}),isResourceLiked:!1,shouldTriggerFunHearts:!1})}},829488:(e,t,r)=>{"use strict";r.d(t,{fM:()=>v,mG:()=>b,w5:()=>I});var n=r(411855),i=r(629019),a=r.n(i),o=r(776250),l=r(493323),s=r(762638),c=r(939863),d=r(837324),u=r(466636),p=r(672517),m=r(99506),_=r(555328),h=r(178787),g=r(376485),f=r(498606),E=r(143678),y=r(555596);function b(e,t,r,n){(0,o.sx)("cmty_purchase_button_click",{context:t,resource_type:(0,d.Dl)(e),resource_id:e.id,user_id:r,profile_id:n})}function v({resource:e,payment:t,context:r,tooltipText:i,disabled:o=!1,isLoading:d=!1,onClick:b=()=>{},onGetFreePreview:v=()=>{},enableWideButtonForStickyFooter:T}){if(!(0,_.m3)(e))return null;let S=!!((0,_.U)(e)&&e.viewer_mode===m.y4.WHITEBOARD||((0,_.I0)(e)||(0,_.xQ)(e))&&e.editor_type===g.HK.FIGJAM),w=r===_.aL.DETAIL&&(0,_.m3)(e)&&(0,_.U)(e)&&"whiteboard"!==e.viewer_mode,A=n.createElement(c.Tx,{id:"community.buyer.get_free_preview"}),C=n.createElement(p.fu,{name:E.e0.COMMUNITY_HUB_FILE_GET_FREE_PREVIEW_BUTTON},n.createElement(p.$z,{onClick:v,dataTestId:"community-get-free-preview-button",className:a()(y.l$,s.cx.cursorPointer.$)},A)),N=r===_.aL.PLUGIN_ROW||r===_.aL.REDESIGNED_PLUGIN_ROW;return n.createElement("div",{className:a()(y.xl,{[y.AT]:r===_.aL.INSERTS})},n.createElement("button",{"data-tooltip-type":o&&!d&&i?f.Ib.TEXT:void 0,"data-tooltip":o&&!d&&i?i:void 0,"data-tooltip-show-immediately":!0,className:a()({[y.wu]:!N,[y.sm]:r===_.aL.PLUGIN_ROW&&!S,[y.gX]:r===_.aL.PLUGIN_ROW&&S,[y.U3]:r===_.aL.REDESIGNED_PLUGIN_ROW,[y.vp]:r!==_.aL.INSERTS&&r!==_.aL.REDESIGNED_PLUGIN_ROW,[y.Tn]:r===_.aL.INSERTS,[y.Rc]:T,[y.hh]:!N&&S,[y.r9]:o}),disabled:d||o,onClick:b,"data-testid":"community-purchase-button"},d&&n.createElement(l.Z_,null),!N&&n.createElement("div",{style:{opacity:d?0:1},className:y.GD},(0,h.Uv)(e.monetized_resource_metadata)?n.createElement(c.Tx,{id:"community.buyer.subscribe"}):n.createElement(c.Tx,{id:"community.buyer.buy"})),n.createElement("div",{style:{opacity:d?0:1},className:a()({[y.Yg]:!N,[y.GD]:r===_.aL.PLUGIN_ROW,[s.cx.colorText.$]:r===_.aL.REDESIGNED_PLUGIN_ROW})},(0,u.bV)(e.monetized_resource_metadata))),w&&C,r===_.aL.DETAIL&&(0,u.Lt)({resource:e,payment:t})&&n.createElement(I,{metadata:e.monetized_resource_metadata}))}function I({metadata:e,condensed:t}){return n.createElement("span",{className:t?y.it:y.BK},t?n.createElement(c.Tx,{id:"community.resource.free_trial_days",days:e.trial_length_in_days}):n.createElement(c.Tx,{id:"community.resource.includes_free_trial_days",days:e.trial_length_in_days}))}},266608:(e,t,r)=>{"use strict";r.d(t,{G:()=>s});var n=r(411855),i=r(96328),a=r(939863),o=r(545941),l=r(440268);function s(e){let t=(0,o.mk)(e.resource);if(!t)return null;let r=(0,i.$M)(t);return n.createElement("div",{className:l.d},n.createElement("div",{className:l.y},"|"),n.createElement(a.Tx,{id:"community.try.people_use_this",numPeople:t,numPeopleStr:r}))}},973227:(e,t,r)=>{"use strict";r.d(t,{yY:()=>ee,Gl:()=>et});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(966712),s=r(762638),c=r(939863),d=r(203008),u=r(309225),p=r(499737),m=r(776621),_=r(304783),h=r(743282),g=r(27087),f=r(195847),E=r(47506),y=r(392592),b=r(410004),v=r(848680),I=r(837324),T=r(727749),S=r(662275),w=r(756085),A=r(988022),C=r(697551),N=r(279453),O=r(555328),L=r(832807);let R="save-button-clicked";function P(e,t,r,n){return function(i,a){var o,s;let d=a();if((0,A.Cu)(D({state:d,resource:e,viewContext:t,action:"save",loggedIn:!!d.user,forOrg:r}),R),!d.user){(0,m.$D)(_.e.COMMUNITY,Error("[Community Saves] Attempted unsave without currentUser"));return}if((0,O.U)(e)){let t=()=>{let t=g.Ay.post(`/api/hub_file/${e.id}/save`),r=`optimistic-resource-save-${(0,h.g)()}`;(0,u.WB)().optimisticallyCreate({ResourceSave:{[r]:{userId:d.user.id,hubFileId:e.id,createdAt:new Date(Date.now())}}},t),t.then(()=>{i(y.F.enqueue({message:(0,c.t)("community.saves.file_saved_for_your_profile"),type:"resource-save"}))}).catch(e=>{(0,m.$D)(_.e.COMMUNITY,e)})};if(!(null==(o=d.authedActiveCommunityProfile)?void 0:o.public_at)){i(S.to({type:L.G$,data:{userId:d.user.id,variations:[L.FF.OPT_IN],onFinish:t}}));return}t()}else i((0,T.d6)({id:e.id,resourceType:(0,I.Vm)(e),communityProfile:a().authedActiveCommunityProfile||void 0,orgId:(0,l.kc)().cmty_deprecate_browse_as_admin?n:r&&(null==(s=d.authedActiveCommunityProfile)?void 0:s.org_id)||void 0,source:T.uR.COMMUNITY_HUB,optimisticData:{resource:e}}))}}function k(e,t,r,n){return function(i,a){var o;let s=a();if(!s.user){(0,m.$D)(_.e.COMMUNITY,Error("[Community Saves] Attempted save without currentUser"));return}((0,A.Cu)(D({state:s,resource:e,viewContext:t,action:"unsave",loggedIn:!!s.user,forOrg:r}),R),(0,O.U)(e))?g.Ay.del(`/api/hub_file/${e.id}/save`).then(()=>{i(y.F.enqueue({message:(0,c.t)("community.saves.file_removed_from_your_profile"),type:"resource-save"}))}).catch(e=>{(0,m.$D)(_.e.COMMUNITY,e)}):i((0,T.s1)({id:e.id,resourceType:(0,I.Vm)(e),communityProfile:a().authedActiveCommunityProfile||void 0,orgId:(0,l.kc)().cmty_deprecate_browse_as_admin?n:r&&(null==(o=s.authedActiveCommunityProfile)?void 0:o.org_id)||void 0,source:T.uR.COMMUNITY_HUB}))}}function D({state:e,resource:t,viewContext:r,action:n,loggedIn:i,forOrg:a=!1}){var o;return{action:n,resourceId:t.id,resourceType:(0,I.Vm)(t),viewContext:r,loggedIn:i,forOrgId:a?null==(o=e.authedActiveCommunityProfile)?void 0:o.org_id:void 0,...(0,v.Z)(e)}}function M(e,t){let r=(0,i.wA)(),a=!!function(e,t){var r,n,i,a;let o=(0,p.Rs)(N.Ko6,{hubFileId:t},{enabled:e===O.vt.HUB_FILE}),l=(0,p.Rs)(N.H$B,{pluginId:t,orgIds:[]},{enabled:e===O.vt.PLUGIN||e===O.vt.WIDGET});return((null==(n=null==(r=o.data)?void 0:r.resourceSave)?void 0:n.createdAt)||(null==(a=null==(i=l.data)?void 0:i.pluginInstall)?void 0:a.createdAt))??null}((0,I.Hh)(e),e.id),o=n.useCallback(n=>{(0,E.YQ)({id:"cmty-detail-view-saved-button-clicked"}),null==n||n.stopPropagation(),a?r(k(e,t)):r(P(e,t))},[a,r,e,t]);return n.useCallback(e=>{(0,b.FL)(f.qB.SIGN_UP,{preventDefaultRedirect:!0})},[]),{onUserSaveActionClick:o,isResourceSavedForUser:a}}function x(e,t){var r;let a=(0,i.wA)(),o=(0,i.d4)(e=>(0,C.Tm)(e)),l=(0,p.Rs)(N.H$B,{pluginId:e.id,orgIds:Object.keys(o)}),s=(0,p.Rs)(N.KC4,{pluginId:e.id,orgIds:Object.keys(o)}),c=n.useMemo(()=>{var t,r;if((0,O.U)(e))return{};let n=(null==(t=l.data)?void 0:t.orgPluginInstalls.status)!==p.tT.Loaded?[]:(null==(r=l.data)?void 0:r.orgPluginInstalls.data)||[],i={};return Object.values(o).forEach(t=>{var r,a;(!((0,O.I0)(e)&&t.plugins_whitelist_enforced||(0,O.xQ)(e)&&t.widgets_whitelist_enforced)||((null==(r=s.data)?void 0:r.orgAllowlistedPlugins.status)!==p.tT.Loaded?[]:(null==(a=s.data)?void 0:a.orgAllowlistedPlugins.data)||[]).some(e=>e.orgId===t.id))&&(i[t.id]=n.some(e=>e.orgId===t.id))}),i},[o,s,e,null==(r=l.data)?void 0:r.orgPluginInstalls]),d=n.useCallback((r,n)=>{null==n||n.stopPropagation(),c[r]?a(k(e,t,!0,r)):a(P(e,t,!0,r))},[a,e,t,c]);return{savesByOrgId:c,onOrgSaveAction:d}}var F=r(694687),U=r(498606);let B="save_button--buttonContainerBrandColors--xQhK7",H="save_button--buttonContainerBase--m8dS8 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",V="save_button--buttonContainerBaseWide--EDZcF",G="save_button--buttonContainer--JQjtD save_button--buttonContainerBase--m8dS8 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",W="save_button--iconContainer--Brlqe",K="save_button--iconDisabled--15buP save_button--iconContainer--Brlqe";function Y(e){return n.createElement(j,{...e})}function j({resource:e,viewContext:t,authedActiveCommunityProfile:r}){let a=(0,F.sZ)(),{onOrgInstallActionClick:o,isResourceInstalledForOrg:l}=function(e,t){let r=(0,i.wA)(),{orgPlugins:a,orgWidgets:o}=(0,w.Be)(),l=(0,O.xQ)(e)?o[e.id]:a[e.id];return{onOrgInstallActionClick:n.useCallback(n=>{n.stopPropagation(),l?r(k(e,t,!0)):r(P(e,t,!0))},[r,l,e,t]),isResourceInstalledForOrg:l}}(e,t),s=(0,O.xQ)(e)?null==a?void 0:a.widgets_whitelist_enforced:null==a?void 0:a.plugins_whitelist_enforced,u=(0,w.ll)(),p=(0,w.U6)(),m=(0,O.xQ)(e)?!!p[e.id]:!!u[e.id];return s&&!m?n.createElement("button",{className:G,disabled:!0},n.createElement("div",{className:K},n.createElement(d.LP,null))):n.createElement("button",{className:G,onClick:o,"data-tooltip-type":U.Ib.TEXT,"data-tooltip":l?(0,c.t)("community.saves.remove_this_resource_for_everyone_at",{orgName:r.name}):(0,c.t)("community.saves.save_this_resource_for_everyone_at",{orgName:r.name})},n.createElement("div",{className:W},l?n.createElement(d.Ns,null):n.createElement(d.LP,null)))}var z=r(738269),$=r(206074);let Z="community-save-button-dropdown";function q(e){let{viewContext:t}=e,r=(0,i.d4)(e=>e.authedActiveCommunityProfile);return(0,l.kc)().cmty_deprecate_browse_as_admin?n.createElement(J,{resource:e.resource,viewContext:t,type:e.type,theme:e.theme,allowOrgSaves:e.allowOrgSaves,enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter}):(null==r?void 0:r.team_id)||(null==r?void 0:r.org_id)&&(0,O.U)(e.resource)?n.createElement("button",{className:G,disabled:!0},n.createElement("div",{className:K},n.createElement(d.LP,null))):(null==r?void 0:r.org_id)?n.createElement(Y,{resource:e.resource,viewContext:t,authedActiveCommunityProfile:r}):n.createElement(Q,{resource:e.resource,viewContext:t,type:e.type,theme:e.theme,enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter})}function J({resource:e,viewContext:t,type:r,theme:a,allowOrgSaves:l,enableWideButtonForStickyFooter:u}){let p=(0,i.wA)(),{onUserSaveActionClick:m,isResourceSavedForUser:_}=M(e,t),{savesByOrgId:h}=x(e,t),g=l?h:{},f=n.useRef(null),E=o()(H,{[s.cx.gap6.pl16.pr16.$]:"containText"===r,[B]:"brand"===a,[s.cx.w40.h40.$]:"square"===r,[V]:u}),y=o()(W,{[s.cx.ml2.$]:"containText"===r}),b="brand"===a?"var(--color-icon-onbrand)":void 0,v=_||Object.values(g).some(e=>e);return n.createElement(n.Fragment,null,n.createElement("button",{className:E,onClick:e=>{var t;if(0===Object.keys(g).length)return m(e);let r=null==(t=f.current)?void 0:t.getBoundingClientRect();r&&p(z.j7({type:Z,data:{targetRect:r}}))},"data-testid":"save-button","data-onboarding-key":"save-button","data-tooltip-type":U.Ib.TEXT,ref:f,"data-tooltip":v?(0,c.t)("community.saves.remove_from_saves"):(0,c.t)("community.saves.save")},n.createElement("div",{className:y},v?n.createElement(d.Ns,{fill:b}):n.createElement(d.LP,{fill:b})),"containText"===r&&n.createElement("div",null,n.createElement(c.Tx,{id:v?"community.saves.remove_from_saves":"community.saves.save_for_later"}))),l&&n.createElement(X,{resource:e,viewContext:t}))}function X({resource:e,viewContext:t}){let r=(0,i.wA)(),a=(0,i.d4)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===Z}),o=(0,i.d4)(e=>{var t,r;return null==(r=null==(t=e.dropdownShown)?void 0:t.data)?void 0:r.targetRect}),{onUserSaveActionClick:l,isResourceSavedForUser:s}=M(e,t),{savesByOrgId:d,onOrgSaveAction:u}=x(e,t),p=(0,i.d4)(e=>(0,C.Tm)(e));if((0,O.U)(e))return null;let m=[{displayText:(0,c.t)("community.saves.save_this_resource_for_yourself"),isChecked:s,callback:()=>{l()}}],_=Object.values(p).map(e=>({displayText:(0,c.t)("community.saves.save_for_everyone_at",{orgName:e.name}),isChecked:d[e.id],callback:()=>{u(e.id)}}));return m=m.concat(_),n.createElement(n.Fragment,null,a&&n.createElement($.j,{showPoint:!0,items:m,onSelectItem:(e,t)=>{e.callback&&e.callback("",null,r,t)},parentRect:o,dispatch:r}))}function Q({resource:e,viewContext:t,type:r,theme:i,enableWideButtonForStickyFooter:a}){let{onUserSaveActionClick:l,isResourceSavedForUser:u}=M(e,t),p=o()(H,{[s.cx.gap6.pl16.pr16.$]:"containText"===r,[B]:"brand"===i,[s.cx.w40.h40.$]:"square"===r,[V]:a}),m=o()(W,{[s.cx.ml2.$]:"containText"===r}),_="brand"===i?"var(--color-icon-onbrand)":void 0;return n.createElement("button",{className:p,onClick:l,"data-testid":"save-button","data-onboarding-key":"save-button","data-tooltip-type":U.Ib.TEXT,"data-tooltip":u?(0,c.t)("community.saves.remove_from_saves"):(0,c.t)("community.saves.save")},n.createElement("div",{className:m},u?n.createElement(d.Ns,{fill:_}):n.createElement(d.LP,{fill:_})),"containText"===r&&n.createElement("div",null,n.createElement(c.Tx,{id:u?"community.saves.remove_from_saves":"community.saves.save_for_later"})))}function ee(e){return n.createElement(q,{resource:e.resource,viewContext:e.viewContext,type:"square",theme:"default",allowOrgSaves:!0})}function et(e){return n.createElement(q,{resource:e.resource,viewContext:e.viewContext,type:"containText",theme:"brand",enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter})}},203008:(e,t,r)=>{"use strict";r.d(t,{$O:()=>c,Jv:()=>s,LP:()=>i,Ns:()=>a,TI:()=>o,rc:()=>l});var n=r(411855);function i(e){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_8184_71416)"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5212L12 13.3883V2H4V13.3883L8 10.5212ZM3.5625 14.9322C3.33074 15.0983 3 14.9403 3 14.6634V1.67197C3 1.30085 3.3148 1 3.70312 1H12.2969C12.6852 1 13 1.30085 13 1.67197V14.6634C13 14.9403 12.6693 15.0983 12.4375 14.9322L8 11.7515L3.5625 14.9322Z",fill:e.fill||"var(--color-icon)"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_8184_71416"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}))))}function a(e){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_8174_71409)"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5625 14.9322C3.33074 15.0983 3 14.9403 3 14.6634V1.67197C3 1.30085 3.3148 1 3.70312 1H12.2969C12.6852 1 13 1.30085 13 1.67197V14.6634C13 14.9403 12.6693 15.0983 12.4375 14.9322L8 11.7515L3.5625 14.9322Z",fill:e.fill||"var(--color-icon)"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_8174_71409"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}))))}function o(){return n.createElement("svg",{viewBox:"0 0 8 12",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7.75L7 10V1H1V10L4 7.75ZM0.45 11.6625C0.26459 11.8016 0 11.6693 0 11.4375V0.5625C0 0.25184 0.25184 0 0.5625 0H7.4375C7.74816 0 8 0.25184 8 0.5625V11.4375C8 11.6693 7.73541 11.8016 7.55 11.6625L4 9L0.45 11.6625Z",fill:"var(--color-icon, black)"}))}function l(){return n.createElement("svg",{viewBox:"0 0 8 12",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0 0.5625C0 0.25184 0.25184 0 0.5625 0H7.4375C7.74816 0 8 0.25184 8 0.5625V11.4375C8 11.6693 7.73541 11.8016 7.55 11.6625L4 9L0.45 11.6625C0.26459 11.8016 0 11.6693 0 11.4375V0.5625Z",fill:"var(--color-icon, black)"}))}function s(){return n.createElement("svg",{height:"100%",viewBox:"0 0 10 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 9.98876L9 13.2775V1.02772H1V13.2775L5 9.98876ZM0.609261 14.9148C0.363725 15.1167 0 14.937 0 14.6139V0.770787C0 0.345093 0.335786 0 0.75 0H9.25C9.66421 0 10 0.345093 10 0.770787V14.6139C10 14.937 9.63628 15.1167 9.39074 14.9148L5 11.3049L0.609261 14.9148Z",fill:"var(--color-icon, black)"}))}function c(){return n.createElement("svg",{height:"100%",viewBox:"0 0 10 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0 0.770787C0 0.345093 0.335786 0 0.75 0H9.25C9.66421 0 10 0.345093 10 0.770787V14.6139C10 14.937 9.63628 15.1167 9.39074 14.9148L5 11.3049L0.609261 14.9148C0.363725 15.1167 0 14.937 0 14.6139V0.770787Z",fill:"var(--color-icon, black)"}))}},662691:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});let n=r(258520).U},911073:(e,t,r)=>{"use strict";r.d(t,{Wc:()=>g,Z:()=>E,r5:()=>y});var n=r(411855),i=r(188507),a=r(776250),o=r(27087),l=r(762638),s=r(939863),c=r(837324),d=r(198181),u=r(712121),p=r(296045),m=r(361656),_=r(206144),h=r(761541);function g({profileId:e,following:t,onFollowChange:r,trackingInfo:i}){return n.createElement("button",{onClick:n=>{n.preventDefault(),n.stopPropagation(),r(!t),(t?o.Ay.del:o.Ay.put)("/api/follows",{followed_profile_id:e}).then(()=>{t||(0,a.sx)("community_hub_profile_follow",{profileId:e,...i})}).catch(e=>{if("You're already following this user"===e.message){r(!t);return}r(t)})},className:t?h.xz:h.u8,"data-follow":(0,s.t)("community.follow.follow"),"data-unfollow":(0,s.t)("community.follow.unfollow"),"data-following":(0,s.t)("community.follow.following")})}let f={};function E({author:e,isHoverStateRedesignEnabled:t=!1}){let[r,o]=n.useState(!1);n.useEffect(()=>{(0,d.M)()&&u.L.getFollows({authorId:e.id}).then(({data:t})=>{let r=t.meta.current_user_is_following;f[e.id]=r,o(r)}).catch(e=>{throw Error("Could not get following status.")})},[e]);let E=(0,i.d4)(e=>e.authedActiveCommunityProfile),y=(0,c.Dm)(e.id,E),b=()=>{(0,a.sx)("community_hub_profile_preview__profile_visit",{profileId:e.id})};return t?n.createElement("div",{className:h.f2},n.createElement("div",{className:h.ft},n.createElement("div",null,n.createElement(p.e,{adtlClassName:h.qg,entity:e}),n.createElement("div",{className:h.zP},n.createElement(m.l,{profile:e,showBorder:!0})))),n.createElement("div",{className:h.RZ},n.createElement("span",{className:h.jp},e.name),n.createElement("span",{className:h.Ab},"@",e.profile_handle)),!!e.description&&n.createElement("div",{className:h.i},n.createElement("span",{className:h.t3},e.description)),n.createElement("div",{className:h.bY},n.createElement(s.Tx,{id:"community.profiles.follower_count",followerCount:e.follower_count,formattedFollowerCount:n.createElement("span",null,e.follower_count)}))):n.createElement("div",{className:h.tt},n.createElement("div",{className:h.d9},n.createElement(_.A6,{to:`/@${e.profile_handle}`,onClickTracking:b,onClick:e=>e.stopPropagation()},n.createElement(p.e,{adtlClassName:h.my,entity:e}),n.createElement("div",{className:h.zP},n.createElement(m.l,{profile:e,showBorder:!0}))),n.createElement(_.A6,{to:`/@${e.profile_handle}`,onClickTracking:b,onClick:e=>e.stopPropagation()},n.createElement("div",{className:h.fh},n.createElement("span",{className:l.cx.ellipsis.noWrap.overflowHidden.$},e.name)),n.createElement("div",{className:h.WO},"@",e.profile_handle))),!y&&n.createElement(g,{profileId:e.id,following:f[e.id],onFollowChange:t=>{o(t),f[e.id]=t,(0,a.sx)("community_hub_profile_preview__profile_follow",{profileId:e.id})}}))}function y({authors:e}){return n.createElement("div",null,e.map(e=>n.createElement(_.A6,{className:h.u$,to:`/@${e.profile_handle}`,onClick:e=>e.stopPropagation(),key:e.id},n.createElement(p.e,{entity:e}),n.createElement("div",{className:h.nZ},n.createElement("span",{className:l.cx.ellipsis.noWrap.overflowHidden.$},e.name),n.createElement(m.l,{profile:e})))))}},209552:(e,t,r)=>{"use strict";r.d(t,{ms:()=>_,So:()=>h,A5:()=>y,m_:()=>b});var n=r(411855),i=r(629019),a=r.n(i);let o="dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",l="dropdown--dropdownContents--BqcL5",s="dropdown--dropdownValue--9lJPW",c="dropdown--dropdownPreview--3Ox9k",d="dropdown--label--cIJtO",u=(e,t)=>{let r=Array(e.length);return e.forEach((e,n)=>{if(null==t?void 0:t[n])r[n]=t[n];else if(Array.isArray(e)){let t=e.find(e=>e.checked);t?r[n]=t.key:r[n]=e[0].key}else r[n]={},Object.entries(e).find(([e,t])=>{t.checked&&(r[n][e]=!0)})}),r},p=(()=>{let e=[];return["scroll","resize"].forEach(t=>{window.addEventListener(t,()=>{e=e.filter(e=>m(e.el,!1,e.initialHPosition,e.initialVPosition))})}),{set:(t,r,n)=>{e.push({el:t,initialHPosition:r,initialVPosition:n})}}})(),m=(e,t=!1,r,n)=>{var i;if(!e||!("true"===e.parentNode.getAttribute("show-dropdown")||e.parentNode===document.activeElement||(null==(i=e.parentNode)?void 0:i.firstChild)===document.activeElement||e===document.activeElement)&&!t)return!1;if(e.parentNode instanceof HTMLElement&&"true"===e.parentNode.dataset.disableRepositioning)return!0;e.dataset.vPosition=n||"below",e.dataset.hPosition="";let a=e.getBoundingClientRect();return a.bottom>window.innerHeight-20?e.dataset.vPosition="above":a.top<20&&(e.dataset.vPosition="below"),a.right>window.innerWidth-100?e.dataset.hPosition="right":a.left<20?e.dataset.hPosition="left":e.dataset.hPosition!==r&&(e.dataset.hPosition=r),!0};function _({children:e,preview:t,className:r,horizontalPosition:i,disableRepositioning:a}){let s=n.useRef(null);return n.createElement("div",{className:r||o,tabIndex:0,"data-disable-repositioning":a,onFocus:()=>{p.set(s.current,i),a||m(s.current,!0,i)}},e,n.createElement("button",{className:"dropdown--mobileBackground--WSE2Z",onClick:e=>{var t;return null==(t=document.activeElement)?void 0:t.blur()}}),n.createElement("div",{className:l,"data-v-position":"below","data-h-position":i||"",ref:s},t))}function h({children:e,preview:t,className:r,dropdownClassName:i,horizontalPosition:s,verticalPosition:c,disableRepositioning:d,borderRadius:u,allowHoverOnDropdownContents:_=!0}){var h;let g=n.useRef(null),[f,E]=n.useState(!1),[y,b]=n.useState(0),v=e=>{window.innerWidth<500||(b(setTimeout(()=>{let t=g.current;t&&t.parentNode&&(t.parentNode.setAttribute("show-dropdown",e+""),!1===e?setTimeout(()=>{E(e)},150):(p.set(t,s,c),E(e)))},150)),clearTimeout(y))};return n.useLayoutEffect(()=>{d||m(g.current,!0,s,c)},[null==(h=g.current)?void 0:h.dataset.hPosition,f]),n.createElement("div",{className:r||o,"show-dropdown":"false",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),tabIndex:0,"data-disable-repositioning":d,"data-hover-dropdown":!0},n.createElement("div",{onMouseLeave:_?void 0:()=>v(!1)},e),n.createElement("div",{className:a()(l,i),style:u?{borderRadius:`${u}px`}:{},"data-v-position":c||"below","data-h-position":s||"",ref:g,"data-dropdown-contents":!0},f&&t))}function g({show:e}){return n.createElement("svg",{className:e?"dropdown--showCheckmark--td6Ke":"",width:"16",height:"16",viewBox:"0 0 16 16",fill:"var(--color-icon-menu)",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2069 5.2073L7.70694 10.7073L6.99983 11.4144L6.29272 10.7073L3.29272 7.7073L4.70694 6.29309L6.99983 8.58598L11.7927 3.79309L13.2069 5.2073Z"}))}function f({optionGroup:e,value:t,onSelect:r}){let i;return i=Array.isArray(e)?e.map(({key:e,label:i})=>n.createElement("div",{key:e,role:"button",onKeyDown:e=>{13===e.keyCode&&e.target.click()},onClick:()=>{document.activeElement.blur(),r(e)},className:s,"data-key":e,tabIndex:0},n.createElement(g,{show:t===e}),n.createElement("div",{className:d},i))):Object.entries(e).map(([e,i])=>n.createElement("div",{key:e,role:"button",onKeyDown:e=>{13===e.keyCode&&e.target.click()},onClick:()=>{document.activeElement.blur(),r(e)},className:s,"data-key":e,tabIndex:0},n.createElement(g,{show:!0===t[e]}),n.createElement("div",{className:d},i.label))),n.createElement(n.Fragment,null,i)}function E({label:e,additionalClassName:t,onClick:r,dataOnboardingKey:i}){return n.createElement("div",{role:"button",tabIndex:0,className:a()(c,t),onMouseDown:e=>{var t;(null==(t=document.activeElement)?void 0:t.matches(`.${c.replace(/\s/g,".")}`))&&(document.activeElement.blur(),e.preventDefault())},onClick:r,"data-onboarding-key":i},n.createElement("div",{className:d},e),n.createElement("svg",{width:"10",height:"7",viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M1 1L5 5L9 1",stroke:"var(--text-primary)",strokeWidth:"1.5"})))}function y({name:e,options:t,onUpdate:r,onClick:i,initialValues:o,adtlClassName:l,dataOnboardingKey:s}){if(!Array.isArray(t[0]))throw Error("First options input needs to be an array type, for preview reasons.");let c=u(t,o);return n.createElement(_,{className:a()(l||"dropdown--selectDropdown--Lqj6J dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd"),preview:n.createElement(n.Fragment,null,n.createElement("div",{className:"dropdown--mobileDropdownHeader--mEjUR"},n.createElement("b",null,e)),t.map((e,i)=>n.createElement("div",{key:i+"-group"},n.createElement(f,{optionGroup:e,value:c[i],onSelect:t=>{let n=[...c];if(Array.isArray(e))n[i]=t;else{let e=n[i];n[i]={...e,[t]:!e[t]}}r(n)}}),i<t.length-1&&n.createElement("hr",{className:"dropdown--optionGroupDivider--tmhsB"}))))},n.createElement(E,{onClick:i,dataOnboardingKey:s,label:t[0].find(e=>e.key===c[0]).label}))}function b({preview:e,children:t}){return n.createElement(h,{className:a()({"dropdown--tooltip--Sh4Vu dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd":!0}),preview:e,horizontalPosition:"center"},t)}},674694:(e,t,r)=>{"use strict";r.d(t,{O7:()=>o,Sl:()=>s,Xy:()=>l});var n=r(411855),i=r(999021),a=r(487386),o=(e=>(e.DETAIL="detail",e.UNIVERSAL_INSERT="universal_insert",e))(o||{});function l(e){let t={onLoad:e.onLoad,loading:"lazy"};return n.createElement(i.c,{sizes:function(e){switch(e){case"universal_insert":return;case"detail":t=a.a.COMMUNITY_HUB_FILE_THUMBNAIL_DETAIL;break;default:t=a.a.COMMUNITY_HUB_FILE_THUMBNAIL_DEFAULT}var t,r=Object.entries(t).map(([e,t],r)=>`(min-width: ${e}px) ${t}vw`);return r.push("100vw"),r.join(", ")}(e.thumbnailContext),srcSet:function(e,t,r,n){let i;if(!e||!t)return"";let o=Object.entries(r||{});if(!r){let r=function(e){if(!e)return;let t=e.lastIndexOf("/"),r=e.indexOf(".",t);return e.substring(t+1,r)}(t);o=Object.keys(a.B.COMMUNITY_HUB_FILE_THUMBNAIL).map(t=>[t,`/community/file/${e}/thumbnail/${t}?signature=${r}`])}return(o.push(["1600",t]),"universal_insert"===n?o.map(([e,t])=>{let r=Math.round(parseInt(e)/80*10)/10;return`${t} ${r}x`}):o.map(([e,t])=>`${t} ${e}w`)).join(", ")}(e.hubFileId,e.image,e.resizedThumbnailUrls,e.thumbnailContext),src:e.image,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:e.alt,className:e.className,imageProps:t})}function s(e){return e.hubFileId?n.createElement(l,{...e}):n.createElement(n.Fragment,null)}},240411:(e,t,r)=>{"use strict";r.d(t,{cz:()=>b,i8:()=>v,my:()=>I});var n=r(411855),i=r(629019),a=r.n(i),o=r(96328),l=r(574176),s=r(939863),c=r(874647),d=r(233562),u=r(837324),p=r(612776),m=r(545941),_=r(296045),h=r(206144),g=r(911073),f=r(209552),E=r(637961),y=r(815234);function b({resource:e,currentUserLiked:t,isRedesignEnabled:r,inPluginRow:i}){return n.createElement("div",{className:a()(t?E.QW:E.aK,{[E.uh]:r&&i,[E.JE]:r&&!i})},n.createElement(c.O,null),(0,o.$M)(e.like_count))}function v({resource:e,isRedesignEnabled:t,inPluginRow:r}){return n.createElement("div",{className:a()(E.Au,{[E.uh]:t&&r,[E.JE]:t&&!r})},n.createElement(l.B,{svg:y.A}),(0,o.$M)((0,m.mk)(e)))}function I(e){var t;let{resource:r,trackingInfo:i}=e,a=(0,u.qD)(r),o=r.community_publishers.accepted,l=o[0],c=(0,p.X5)(),y=n.createElement("span",{className:c?E.Jm:E.cy},(0,d.Lj)(r)),I=(0,u.ss)(r),T=!!(null==(t=(0,u.Bl)(r.id,(0,u.Vm)(r)).data)?void 0:t[0]);if(!l)return null;let S=o.length>1?n.createElement(f.So,{className:c?E.Xi:void 0,preview:n.createElement(g.r5,{authors:o})},y):y;return n.createElement("div",{className:c?E._j:E.UN},!c&&n.createElement(h.A6,{className:E.Xq,to:`/@${l.profile_handle}`},n.createElement(f.So,{preview:n.createElement(g.Z,{author:l})},n.createElement(_.e,{key:l.id,entity:l,adtlClassName:E.em}))),n.createElement("div",{"data-redesigned-resource-meta":c,className:E.rn},n.createElement(h.A6,{to:(0,u._t)({resource:r,trackingInfo:i}),onClick:e=>{(0,m.cB)(I,r.id,void 0,i)},className:E.DD},a.name),n.createElement(h.A6,{className:c?E.rh:E.Xq,to:`/@${l.profile_handle}`},c?n.createElement(s.Tx,{id:"community.resource_tiles.by_author",author:S}):S)),n.createElement("div",{className:E.o1},n.createElement(b,{currentUserLiked:T,resource:r,isRedesignEnabled:!0}),n.createElement(v,{resource:r,isRedesignEnabled:!0})))}},590237:(e,t,r)=>{"use strict";r.d(t,{Cv:()=>en,mb:()=>eo,cS:()=>ei,Yw:()=>ec,UG:()=>es,fz:()=>ed,Mr:()=>er,bN:()=>el});var n=r(411855),i=r(629019),a=r.n(i),o=r(96328),l=r(564577),s=r(428322),c=r(348425),d=r(762638),u=r(939863),p=r(408552),m=r(674694),_=r(654923),h=r(233562),g=r(837324),f=r(612776),E=r(466636),y=r(545941),b=r(99506),v=r(555328),I=r(978527),T=r(943089),S=r(282545),w=r(361656),A=r(296045),C=r(609271),N=r(672517),O=r(911073),L=r(209552),R=r(97128),P=r(376485),k=r(206144),D=r(991679);function M({resource:e,context:t}){let r;return r=t===v.aL.REDESIGNED_PLUGIN_ROW?D.gz:e.editor_type===P.HK.FIGJAM||e.editor_type===P.HK.UNIVERSAL?D.kJ:D.GJ,n.createElement(k.A6,{to:(0,g.UI)({path:R.Uo.PLUGIN,id:e.id}),className:r},n.createElement(u.Tx,{id:"community.view"}))}var x=r(240411),F=r(776250),U=r(563042),B=r(848680),H=r(197979),V=r(582493);let G="plugin_dropdown_preview--pluginMediaContainer--QVFs6",W="plugin_dropdown_preview--pluginImage--UjTg4";function K({carouselImages:e,version:t}){let[r,i]=n.useState(0);return n.useEffect(()=>{var t=setInterval(()=>{i((r+1)%e.length)},1500);return()=>{clearInterval(t)}}),n.createElement("div",{className:G},e.map((i,o)=>n.createElement("img",{alt:t.name+" preview",key:o,className:o===r?a()(W,"plugin_dropdown_preview--activeImage--efzMn"):a()(W,"plugin_dropdown_preview--inactiveImage--NdowZ"),src:(0,H.P)(e[o])[0],loading:"lazy"})))}function Y({plugin:e,version:t}){let r=(0,B.S)(),i=function(e){let t={};if(e.carousel_videos&&0!==Object.keys(e.carousel_videos??{}).length)return Object.entries(e.carousel_videos).forEach(([e,r])=>{t[e]=r}),Object.entries(t).sort(([e],[t])=>parseInt(e)-parseInt(t))[0][1]}(e);if(i)return n.createElement("div",{className:"plugin_dropdown_preview--pluginVideo--IlluJ"},n.createElement(V.A,{videoId:i.video_file_uuid,src:(0,H.Mf)(i,e),fallbackSrc:i.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,F.sx)("rdp_video_ended",{community_resource_id:e.id,resouce_type:"plugin",...r})}}));let a=(0,g.N6)(e);return a.length>0?n.createElement(K,{carouselImages:a,version:t}):n.createElement("div",{className:G},n.createElement("img",{className:W,src:e.thumbnail_url||"",alt:t.name+" preview",loading:"lazy"}))}function j({plugin:e}){var t;let r=(0,g.qD)(e),i=(0,U.$J)(r.tagline),a=(null==(t=e.tags)?void 0:t.slice(0,3))??[];return n.createElement("div",{className:"plugin_dropdown_preview--hoverCard--zzMPg","data-testid":"plugin-dropdown"},n.createElement(Y,{plugin:e,version:r}),n.createElement("div",{className:"plugin_dropdown_preview--pluginMeta--uuieP"},n.createElement("div",{className:"plugin_dropdown_preview--pluginName--qx9M6 text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement("span",{className:d.cx.ellipsis.noWrap.overflowHidden.$},r.name)),i&&n.createElement("div",{className:"plugin_dropdown_preview--pluginTagline--Rs0sq text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("span",null,i))),a.length>0&&n.createElement("div",{className:"plugin_dropdown_preview--tagsContainer--QpeL2"},a.map(e=>n.createElement("div",{key:e,className:"plugin_dropdown_preview--tags--IlWLE text--fontPos11--2LvXf text--_fontBase--QdLsd"},e))))}var z=r(61714),$=r(166521),Z=r(860168);let q="plugin_row--avatarBoxShadowOverride--MBDpQ";function J({pluginUrl:e,trackTileClick:t,animationIndex:r,version:i}){return n.createElement("div",{"data-testid":"plugin-icon"},n.createElement(k.A6,{to:e,onClick:t,animationIndex:r,className:"plugin_row--pluginRowImageContainer--mYY6b"},n.createElement(I.V,{className:"plugin_row--pluginRowIcon--cDHTC",alt:`Figma plugin "${i.name}"`,plugin:{...i,redirect_icon_url:i.redirect_icon_url||g.ZD},onLoad:e=>e.target.style.opacity="1",onError:e=>e.target.src=g.ZD,loading:"lazy"})))}function X({resource:e,animationIndex:t,onIntersectionChange:r,isOrgTeamBrowsing:i,index:o,trackingInfo:l}){var c;let d=(0,g.qD)(e),m=(0,v.m3)(e),h=(0,v.PM)(e),b=(0,_.I)(e),I=(0,E.QQ)(b),T=n.useMemo(()=>i?n.createElement(M,{resource:e,context:v.aL.REDESIGNED_PLUGIN_ROW}):!m||I||h?n.createElement(z.d,{resource:e,context:v.aL.REDESIGNED_PLUGIN_ROW}):n.createElement($.I,{resource:e,context:v.aL.REDESIGNED_PLUGIN_ROW}),[i,e,m,I,h]),S=(0,p.QP)({resource:e,height:"16",validBadges:[p.op.FREEMUM,p.op.OFF_PLATFORM,p.op.PURCHASED]}),w=(0,g._t)({resource:e,trackingInfo:l}),R=()=>(0,y.cB)("plugin",e.id,o,l),P=(e.community_publishers.accepted??[])[0],D=!!(null==(c=(0,g.Bl)(e.id,v.vt.PLUGIN).data)?void 0:c[0]),F=(0,f.ZG)();return n.createElement("div",{"data-testid":"plugin-row"},n.createElement(s.a,{onIntersectionChange:e=>null==r?void 0:r(e)}),n.createElement("div",{className:"plugin_row--pluginRow--lySkC"},F()?n.createElement(L.So,{preview:n.createElement(j,{plugin:e}),borderRadius:13,verticalPosition:"above",allowHoverOnDropdownContents:!1},n.createElement(J,{pluginUrl:w,trackTileClick:R,animationIndex:t,version:d})):n.createElement(J,{pluginUrl:w,trackTileClick:R,animationIndex:t,version:d}),n.createElement("div",{className:"plugin_row--pluginRowMetaInfo--mqV-l"},n.createElement(k.A6,{to:w,className:"plugin_row--pluginRowTitleAndDescription--5V-o7",onClick:R,animationIndex:t},n.createElement("div",{className:"plugin_row--pluginRowTitleAndBadge--FQjVh"},n.createElement("div",{className:"plugin_row--pluginRowTitle--GOOmC text--fontPos13--xW8hS text--_fontBase--QdLsd"},d.name),S),n.createElement("div",{className:"plugin_row--pluginRowDescription--7cthx text--fontPos11--2LvXf text--_fontBase--QdLsd",style:S?{WebkitLineClamp:1}:{}},(0,y.G8)(d,void 0,!0))),n.createElement("div",{className:"plugin_row--pluginRowMetaAndCTA--A-TFN"},P&&n.createElement(C.Ay,{mediaQuery:`(min-width: ${Z.ikM})`},n.createElement(L.So,{preview:n.createElement(O.Z,{author:P,isHoverStateRedesignEnabled:F()}),className:"plugin_row--pluginRowAvatar--S3Edj dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",borderRadius:F()?13:2,allowHoverOnDropdownContents:!F(),verticalPosition:F()?"above":"below"},F()?n.createElement(N.o3,{to:`/@${P.profile_handle}`,trackingEventName:"community_hub_profile_preview__profile_visit",trackingProperties:{profileId:P.id},className:"plugin_row--pluginRowAvatarLink--EdvUq"},n.createElement(A.e,{adtlClassName:q,key:P.id,entity:P,size:24})):n.createElement(A.e,{adtlClassName:q,key:P.id,entity:P,size:24}))),n.createElement("div",{className:"plugin_row--pluginRowMetrics--TZFF7 text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement(x.cz,{currentUserLiked:D,resource:e,isRedesignEnabled:!0,inPluginRow:!0}),n.createElement(L.So,{disableRepositioning:!0,className:a()("plugin_row--toolTip--Uxz1M dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd","plugin_row--toolTipPositioning--OgVuh"),preview:n.createElement(u.Tx,{id:"community.try.used_by_n_people",num:e.unique_run_count})},n.createElement(x.i8,{resource:e,isRedesignEnabled:!0,inPluginRow:!0}))),n.createElement(C.Ay,{mediaQuery:`(min-width: ${Z.dxy})`},T)))))}var Q=r(316795),ee=r(637961),et=r(851750);function er({resource:e}){let t=(0,p.QP)({resource:e,height:"24"});if(t)return n.createElement("div",{className:ee.BQ},t);let r=(0,S.n)({badges:e.badges});return r?n.createElement("div",{className:ee.BQ},n.createElement(S.v,null,r)):null}function en({resource:e,isMetaHidden:t,animationIndex:r,onIntersectionChange:i,onClickOverride:o,index:l,trackingInfo:d,subView:u}){var p;let _=(0,f.X5)(),h=(0,g.qD)(e),E=e.client_meta&&(null==(p=JSON.parse(e.client_meta))?void 0:p.background_color),I=e.thumbnail_is_set;e.viewer_mode===b.y4.WHITEBOARD&&(E={r:1,g:1,b:1});let S=n.createElement(m.Xy,{image:e.thumbnail_url,hubFileId:e.id,onLoad:e=>e.target.style.opacity="1",alt:h.name,resizedThumbnailUrls:e.resized_thumbnail_urls}),w=I?ee.zA:e.viewer_mode===b.y4.WHITEBOARD?ee.ZW:ee.XO;return n.createElement("div",{className:ee.Sl,"data-animation-index":r,"data-testid":"hub-file-tile"},n.createElement(s.a,{onIntersectionChange:e=>null==i?void 0:i(e)}),n.createElement(k.A6,{to:(0,g._t)({resource:e,trackingInfo:d}),onClick:t=>{(0,y.cB)("hub_file",e.id,l,d,u)},onClickOverride:o,className:_?ee.nJ:ee.BN},n.createElement("div",{className:a()(w,{[ee.$c]:_}),style:{backgroundColor:E&&`rgb(${255*E.r}, ${255*E.g}, ${255*E.b})`}},S,e.viewer_mode===b.y4.PROTOTYPE&&n.createElement(c.t,{svg:et.A,className:ee.wr,useOriginalSrcFills_DEPRECATED:!0,fallbackSvg:et.A}),n.createElement("div",{className:ee.JM},n.createElement(T.dn,{editorType:(0,g.JJ)(e.viewer_mode)})),!t&&n.createElement(er,{resource:e}))),!t&&n.createElement(x.my,{resource:e,type:v.vt.HUB_FILE,trackingInfo:d}))}function ei({resource:e,isMetaHidden:t,animationIndex:r,onIntersectionChange:i,onClickOverride:o,index:l,trackingInfo:c,subView:d}){var u,p;let m=(0,f.X5)(),_=(0,g.qD)(e);return n.createElement("div",{"data-animation-index":r,className:ee.IQ,"data-testid":"plugin-tile"},n.createElement(s.a,{onIntersectionChange:e=>null==i?void 0:i(e)}),n.createElement(k.A6,{to:(0,g._t)({resource:e,trackingInfo:c}),onClick:t=>{(0,y.cB)("plugin",e.id,l,c,d)},onClickOverride:o,className:m?ee.nJ:ee.BN},n.createElement("div",{className:a()(ee.XO,{[ee.$c]:m})},n.createElement("div",{className:ee.ZR},n.createElement(I.V,{plugin:_,alt:`Figma plugin "${_.name}"`,onLoad:e=>e.target.style.opacity="1",loading:"lazy"})),!t&&n.createElement(n.Fragment,null,n.createElement("div",{className:ee.A$},(0,y.G8)(_)),(null==(u=_.manifest)?void 0:u.editorType)&&n.createElement("div",{className:ee.JM},n.createElement(T.dn,{editorType:null==(p=_.manifest)?void 0:p.editorType})),n.createElement(er,{resource:e})))),!t&&n.createElement(x.my,{resource:e,type:v.vt.PLUGIN,trackingInfo:c}))}function ea({uniqueRunCount:e,containerClassName:t}){return n.createElement(L.So,{className:ee.Si,disableRepositioning:!0,preview:n.createElement(u.Tx,{id:"community.try.used_by_n_people",num:e})},n.createElement("div",{className:t??ee.Qj},n.createElement("svg",{width:"10",height:"12",viewBox:"0 0 10 12",style:{fill:"var(--color-text-secondary, rgba(0, 0, 0, 0.8))"},xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7 4.10457 6.10457 5 5 5C3.89543 5 3 4.10457 3 3C3 1.89543 3.89543 1 5 1C6.10457 1 7 1.89543 7 3ZM8 3C8 4.65685 6.65685 6 5 6C3.34315 6 2 4.65685 2 3C2 1.34315 3.34315 0 5 0C6.65685 0 8 1.34315 8 3ZM5 8C7.20914 8 9 9.79086 9 12H10C10 9.23858 7.76142 7 5 7C2.23858 7 0 9.23858 0 12H1C1 9.79086 2.79086 8 5 8Z"})),(0,o.$M)(e)))}function eo({resource:e,animationIndex:t,onIntersectionChange:r,isOrgTeamBrowsing:i,index:o,trackingInfo:c}){let d=(0,g.qD)(e),m=(0,v.m3)(e),b=(0,v.PM)(e),S=(0,_.I)(e),w=(0,E.QQ)(S),A=n.useMemo(()=>i?n.createElement(M,{resource:e}):!m||w||b?n.createElement(Q.d,{resource:e,context:v.aL.PLUGIN_ROW}):n.createElement($.I,{resource:e,context:v.aL.PLUGIN_ROW}),[m,b,i,e,w]),C=(0,p.QP)({resource:e,height:"16",validBadges:[p.op.FREEMUM,p.op.OFF_PLATFORM,p.op.PURCHASED]}),N=(0,g._t)({resource:e,trackingInfo:c}),O=()=>(0,y.cB)("plugin",e.id,o,c);return(0,f.X5)()?n.createElement(X,{resource:e,animationIndex:t,onIntersectionChange:r,isOrgTeamBrowsing:i,index:o,trackingInfo:c}):n.createElement("div",{"data-testid":"plugin-row"},n.createElement(s.a,{onIntersectionChange:e=>null==r?void 0:r(e)}),n.createElement("div",{className:ee.ws},n.createElement(k.A6,{to:N,onClick:O,animationIndex:t,className:ee.IW},n.createElement(I.V,{className:ee.v2,alt:`Figma plugin "${d.name}"`,plugin:{...d,redirect_icon_url:d.redirect_icon_url||g.ZD},onLoad:e=>e.target.style.opacity="1",onError:e=>e.target.src=g.ZD,loading:"lazy"}),n.createElement(T.li.BadgeContainer,null,n.createElement(T.dn,{editorType:d.manifest.editorType,is16x16:!0}))),n.createElement(k.A6,{to:N,className:ee.PQ,onClick:O,animationIndex:t},n.createElement("div",{className:a()(ee.iu,{[ee.Dk]:!!C})},n.createElement("span",{className:ee.Qd},d.name),C),n.createElement("div",{className:a()(ee.Oy,{[ee.BP]:!!C})},(0,y.G8)(d))),n.createElement("div",{className:ee.$n},(0,h.Lj)(e)),n.createElement("div",{className:ee.uq},n.createElement(u.Tx,{id:"community.view_bar.updated_date",date:n.createElement(l.h1,{date:d.created_at})})),n.createElement(ea,{uniqueRunCount:e.unique_run_count}),n.createElement("div",{className:ee.V},A)))}function el({resource:e,isMetaHidden:t,animationIndex:r,onIntersectionChange:i,onClickOverride:o,index:l,trackingInfo:c,subView:d}){var u;let p=(0,f.X5)(),m=(0,g.qD)(e);return n.createElement("div",{"data-animation-index":r,className:ee.HL,"data-testid":"widget-tile"},n.createElement(s.a,{onIntersectionChange:e=>null==i?void 0:i(e)}),n.createElement(k.A6,{to:(0,g._t)({resource:e,trackingInfo:c}),onClick:t=>{(0,y.cB)("widget",e.id,l,c,d)},onClickOverride:o,className:p?ee.nJ:ee.BN},n.createElement("div",{className:a()(ee.XO,{[ee.$c]:p})},n.createElement("img",{alt:m.name,src:m.redirect_snapshot_url??void 0,onLoad:e=>e.target.style.opacity="1",loading:"lazy"}),!t&&n.createElement(n.Fragment,null,(null==(u=m.manifest)?void 0:u.editorType)&&n.createElement("div",{className:ee.JM},n.createElement(T.dn,{editorType:m.manifest.editorType})),n.createElement(er,{resource:e})))),!t&&n.createElement(x.my,{resource:e,type:v.vt.WIDGET,trackingInfo:c}))}function es({resource:e}){return n.createElement(n.Fragment,null)}function ec({index:e,resource:t,animationIndex:r,authedActiveCommunityProfile:i,trackingInfo:a}){var l,s;let{model:c,resources:p}=t,[m,_]=n.useState(c.current_user_is_following),h=m&&!c.current_user_is_following?1:0,f=(0,g.Dm)(c.id,i),E=(null==(l=c.img_urls)?void 0:l["500_500"])||(null==(s=c.img_urls)?void 0:s["120_120"]);return n.createElement(k.A6,{to:`/@${c.profile_handle}`,onClick:()=>{(0,y.cB)("profile",c.id,e,a)},className:ee.gO,animationIndex:r},n.createElement("div",{className:ee.zG,style:{backgroundImage:`url(${E})`}}),n.createElement("div",{className:ee.r6},n.createElement("div",{className:ee.$P},n.createElement("span",{className:d.cx.ellipsis.noWrap.overflowHidden.$},c.name),n.createElement(w.l,{profile:c,tooltip:!0})),n.createElement("div",{className:ee.nz},"@",c.profile_handle),n.createElement("div",{className:ee.Az},!f&&n.createElement(O.Wc,{profileId:c.id,onFollowChange:()=>_(!m),following:m,trackingInfo:a}),n.createElement("div",{className:ee.mU},n.createElement("div",{className:ee.QX},(0,u.t)("community.follow.followers")),n.createElement("div",{className:ee.JQ},(0,o.$M)(c.follower_count+h))))),n.createElement("div",{className:ee.jm},p.length>0?p.slice(0,3).map(e=>(0,v.xQ)(e)?n.createElement("div",{className:ee.vR,key:e.id},n.createElement("img",{alt:(0,g.qD)(e).name,src:(0,g.qD)(e).redirect_snapshot_url??void 0,loading:"lazy"})):((0,v.I0)(e),n.createElement("div",{className:ee.vR,key:e.id},n.createElement("img",{alt:(0,g.qD)(e).name,src:e.thumbnail_url||void 0,loading:"lazy"})))):n.createElement("span",null,n.createElement(u.Tx,{id:"community.profiles.no_resources_published_yet"}))))}function ed({resource:e,index:t,animationIndex:r,onIntersectionChange:i,trackingInfo:a,subView:o}){return"is_widget"in e?e.is_widget?n.createElement(el,{index:t,resource:e,animationIndex:r,onIntersectionChange:i,trackingInfo:a,subView:o}):n.createElement(ei,{index:t,resource:e,animationIndex:r,onIntersectionChange:i,trackingInfo:a,subView:o}):n.createElement(en,{resource:e,index:t,animationIndex:r,onIntersectionChange:i,trackingInfo:a,subView:o})}},410004:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>H,FL:()=>F,I9:()=>U});var n=r(411855),i=r(188507),a=r(843540),o=r(776250),l=r(737947),s=r(38580),c=r(374626),d=r(195847),u=r(167249);let p=(0,u.N)("AUTH_IFRAME_CLOSE"),m=(0,u.N)("AUTH_IFRAME_PRELOAD"),_=(0,u.N)("AUTH_IFRAME_OPEN"),h=(0,u.N)("SET_IFRAME_URL"),g=[p,m,_,h];var f=(e=>(e[e.CLOSED=0]="CLOSED",e[e.PRELOAD=1]="PRELOAD",e[e.OPEN=2]="OPEN",e))(f||{});let E={authIFrame:{authIFrameState:0,authIFrameURL:"/login_iframe?with_community_header=true&type=fixedmodal"}};var y=r(956013),b=r(881048),v=r(776621),I=r(123026),T=r(362685),S=r(568685),w=r(121089),A=r(911871),C=r(500913),N=r(638693),O=r(474146);let L={...E,...A.P,...S.x6,...T.BV,...N.cR,...C.c,...w.Y,...O.Wc},R=[...Object.values(I),...g,...O.R3],P={authIFrame:function(e=E.authIFrame,t){return p.matches(t)?{...e,authIFrameState:0}:m.matches(t)?{...e,authIFrameState:1}:_.matches(t)?{...e,authIFrameState:2}:h.matches(t)?{...e,authIFrameURL:t.payload.url}:e},authedUsers:A.C,authedProfilesById:S.O4,authedActiveCommunityProfile:T.C5,orgUsersByOrgId:N.t_,orgById:C.X,authedTeamsById:w.o,communityHub:(0,y.HY)({currentProfile:O.cm}),hubFiles:O.W5,publishedPlugins:O.oA,publishedWidgets:O.J_,loadingState:O.$m},k=(0,y.y$)((0,y.HY)(P),L,(0,y.Tw)(b.A,e=>e=>function(t){let r=e(t);return R.some(e=>e.matches(t))||(0,v.us)(`[Community] Detected invalid action to Community store: ${t.type}`),r}));var D=r(50458),M=r(250769);let x=(0,s.eU)(!1);function F(e=d.qB.SIGN_IN,t={}){var r;if(t.preventDefaultRedirect&&(t.authOptions??(t.authOptions={}),t.authOptions.redirect_url=l.Ay.location.pathname+l.Ay.location.search),c.zl.get(x))U({name:d.mK,options:{formState:e,redirectUrl:null==(r=t.authOptions)?void 0:r.redirect_url}});else{let r=new URLSearchParams(t.authOptions),n="/login_iframe";e===d.qB.SIGN_UP&&r.append("form_state","sign_up"),r.append("type","fixedmodal"),r.append("with_community_header","true");let i=r.toString(),a=i.length?[n,i].join("?"):n;k.dispatch(h({url:a}))}(0,i.vA)(()=>{(0,a.fW)(),k.dispatch(_())})}function U(e){var t;let r=document.querySelector("iframe#figma-auth-iframe");null==(t=null==r?void 0:r.contentWindow)||t.postMessage(e,location.origin)}function B(){k.dispatch(p())}function H(){let e=n.useRef(null),[t,r]=(0,c.fp)(x),[i,a]=n.useState(void 0),[l,s]=n.useState(f.CLOSED);n.useEffect(()=>k.subscribe(()=>{let e=k.getState().authIFrame.authIFrameState,t=k.getState().authIFrame.authIFrameURL;void 0!==e&&e!==l&&(s(e),a(t))}),[l]);let[d,u]=n.useState(!1);return!function(e){let t=n.useRef();n.useEffect(()=>{t.current=e},[e]),n.useEffect(()=>{let e=e=>{var r;null==(r=t.current)||r.call(t,e)};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e,!1)}},[])}(t=>{var n,i,a,l;e.current&&t.origin===location.origin&&((null==(n=t.data)?void 0:n.type)==="trackEvent"&&(null==(i=t.data)?void 0:i.event)==="Auth Actions"&&(null==(l=null==(a=t.data)?void 0:a.properties)?void 0:l.eventSubtype)==="show_auth_page"&&r(!0),"trackEvent"===t.data.type&&(0,o.sx)(t.data.event,t.data.properties,t.data.options),"esc"===t.data.keyPress&&B())}),n.useEffect(()=>{var t;if(e.current&&(l>f.CLOSED&&!d&&u(!0),l===f.OPEN&&e.current.contentDocument)){let r=null==(t=e.current.contentDocument)?void 0:t.getElementsByTagName("input")[0];null==r||r.focus()}},[l,d]),n.createElement(D.A,{className:M.figmaAuthModal,style:{visibility:l===f.OPEN?"visible":"hidden"},showInnerModal:t,onClick:()=>B()},l>f.CLOSED||d?n.createElement("iframe",{id:"figma-auth-iframe","data-testid":"figma-auth-iframe",ref:e,title:"Figma Auth",src:i}):n.createElement(n.Fragment,null))}},843540:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>g,fW:()=>h});var n=r(411855),i=r(38580),a=r(374626),o=r(195847),l=r(574176),s=r(672517),c=r(307780),d=r(410004),u=r(50458),p=r(250769);function m({headerText:e,icon:t,source:r}){let i=n.useCallback(()=>{h()},[]);return n.createElement(s.fu,{name:"community auth modal",properties:{source:r}},n.createElement(u.A,{className:p.loggedOutCommunityActionModal,onClick:i},n.createElement(c.A,{props:{headerText:e,icon:t},styles:p,Event:{onLogInClick:()=>{(0,d.FL)(o.qB.SIGN_IN,{preventDefaultRedirect:!0})},onSignUpClick:()=>{(0,d.FL)(o.qB.SIGN_UP,{preventDefaultRedirect:!0})}},Component:{ModalCloseButton:()=>n.createElement("button",{className:p.modalCloseButton,onClick:i},"\xd7"),BrandButton:e=>n.createElement(s.$z,{...e},e.children),ButtonSecondaryTracked:e=>n.createElement(s.$z,{...e},e.children),Svg:l.B}})))}let _=(0,i.eU)(null);function h(){a.zl.set(_,null)}function g(){let e=(0,a.md)(_);if(null===e)return n.createElement(n.Fragment,null);let{type:t,data:r}=e;return"COMMUNITY_AUTH_MODAL"===t?n.createElement(m,{headerText:r.headerText,icon:r.icon,source:r.source}):n.createElement(n.Fragment,null)}},61714:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});let n=r(777944).PluginTryButton},166521:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var n=r(411855);let i=(0,r(503457).kf)("lazy_cmty_purchase_button",{isCodesplit:!0,ComponentFactory:async()=>({default:(await r.e(8476).then(r.bind(r,698476))).default})});function a({resource:e,context:t,payment:r,enableWideButtonForStickyFooter:a}){return n.createElement(i,{fallback:null,errorFallback:null,resource:e,context:t,payment:r,enableWideButtonForStickyFooter:a})}},547733:(e,t,r)=>{"use strict";r.d(t,{sw:()=>_,Cg:()=>p,Gb:()=>m});var n=r(411855),i=r(563706),a=r(574176),o=r(939863),l=r(466636),s=r(498606),c=r(209552);let d="resource_badge_subtext--container--hKr5Q";var u=r(112512);function p({resource:e,showCaret:t=!0}){let r=(0,l.X2)(e.monetized_resource_metadata);return n.createElement("div",{className:d},i.Xb?n.createElement(o.Tx,{id:"community.buyer.in_app_purchases"}):n.createElement(c.m_,{preview:r},n.createElement("div",{className:"resource_badge_subtext--text--ks9uS text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(o.Tx,{id:"community.buyer.in_app_purchases"})),t&&n.createElement(a.B,{className:"resource_badge_subtext--caret--weiCk",svg:u.A})))}function m(){return n.createElement("div",{className:d,"data-tooltip-type":s.Ib.TEXT,"data-tooltip":(0,o.t)("community.detail_view.resource_outside_of_figma"),"data-tooltip-show-immediately":!0},n.createElement(o.Tx,{id:"community.detail_view.third_party_badge.off_platform"}))}function _({metadata:e}){return n.createElement("div",{className:d},n.createElement(o.Tx,{id:"community.resource.free_trial_days",days:e.trial_length_in_days}))}},595544:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(411855),i=r(966712),a=r(96328),o=r(574176),l=r(939863),s=r(837324),c=r(545941),d=r(342859),u=r(404554),p=r(815234);function m({resource:e,viewContext:t}){var m,g;let f=e.like_count>0,E=(0,c.mk)(e)>0,y=(0,s.Bl)(e.id,(0,s.Vm)(e)),b=null==(m=y.data)?void 0:m[0],v=r(892123).o.useLikeActions(e,!!b,(null==(g=y.data)?void 0:g[1])||null,t||"")(),I=n.createElement("div",{className:d.If},n.createElement(l.Tx,{id:"community.detail_view.bullet_point"}));return n.createElement("div",{className:d.M1,"data-testid":"resource-header-stats"},n.createElement("div",null,(0,s.c8)(e)),f&&n.createElement(n.Fragment,null,I,n.createElement("button",{onClick:e=>{(0,i.kc)().cmty_deprecate_browse_as_admin&&v(e)}},(0,i.kc)().cmty_deprecate_browse_as_admin?b?h:_:n.createElement(o.B,{svg:u.A})),n.createElement("div",{className:d.lp},(0,a.$M)(e.like_count))),E&&n.createElement(n.Fragment,null,I,n.createElement(o.B,{svg:p.A}),n.createElement("div",{className:d.lp},n.createElement(l.Tx,{id:"community.detail_view.number_of_users",numberOfUsers:(0,a.$M)((0,c.mk)(e))}))))}let _=n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.99988 4.5L7.3254 3.96042C6.28613 3.129 4.78791 3.21198 3.84681 4.15308C2.82678 5.17311 2.82678 6.8269 3.84681 7.84693L7.99988 12L12.153 7.84693C13.173 6.8269 13.173 5.17311 12.153 4.15308C11.2119 3.21198 9.71364 3.129 8.67437 3.96042L7.99988 4.5ZM7.99988 10.5858L11.4459 7.13982C12.0754 6.51032 12.0754 5.48969 11.4459 4.86018C10.8651 4.27939 9.94044 4.22818 9.29906 4.74129L7.99988 5.78063L6.70071 4.74128C6.05933 4.22818 5.13471 4.27939 4.55391 4.86018C3.92441 5.48969 3.92441 6.51032 4.55392 7.13982L7.99988 10.5858Z",fill:"black"})),h=n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{d:"M3.84693 7.84693L8 12L12.1531 7.84692C13.1731 6.8269 13.1731 5.1731 12.1531 4.15308C11.212 3.21198 9.71375 3.129 8.67448 3.96041L8 4.5L7.32552 3.96041C6.28625 3.129 4.78802 3.21198 3.84692 4.15308C2.8269 5.1731 2.8269 6.8269 3.84693 7.84693Z",fill:"#F24822"}))},418969:(e,t,r)=>{"use strict";r.d(t,{Lf:()=>D,Iq:()=>M,qz:()=>F,Xg:()=>U});var n=r(411855),i=r(776250),a=r(981952),o=r(18519),l=r(966712),s=r(662691),c=r(654923),d=r(233562),u=r(837324),p=r(612776),m=r(198181),_=r(466636),h=r(609271),g=r(18009),f=r(107877),E=r(555328),y=r(296045),b=r(175420),v=r(689289),I=r(292633),T=r(973227),S=r(61714),w=r(166521),A=r(547733),C=r(595544),N=r(546079),O=r(206144),L=r(183846);let R="resource_page_header--resourceHeaderAvatar--FI-3x",P="resource_page_header--resourceHeaderAvatarWrapper--nn-w8",k="resource_page_header--resourceHeaderFigmaPartnerBadge--cgvkO";function D({publishers:e,size:t=32,showFigmaPartnerBadge:r}){return e.length<5?n.createElement(n.Fragment,null,e.map((e,a)=>n.createElement("div",{key:e.id,className:P,"data-testid":"resource-header-avatar-"+a},n.createElement(O.A6,{to:`/@${e.profile_handle}`,onClickTracking:()=>{(0,i.sx)("resource_creator_click",{profileId:e.id,target:"avatar"})},onClick:e=>e.stopPropagation(),key:e.id},n.createElement(y.e,{entity:e,size:t,style:{zIndex:3-a},adtlClassName:R})),r&&n.createElement("div",{className:k,style:{zIndex:3-a}},(0,b.C2)(e,!0))))):n.createElement(n.Fragment,null,e.slice(0,3).map((e,t)=>n.createElement("div",{className:P,key:e.id,"data-testid":"resource-header-avatar-"+t},n.createElement(O.A6,{to:`/@${e.profile_handle}`,onClick:e=>e.stopPropagation(),key:e.id},n.createElement(y.e,{entity:e,style:{zIndex:3-t},adtlClassName:R})),r&&n.createElement("div",{className:k,style:{zIndex:3-t}},(0,b.C2)(e,!0)))),n.createElement("div",{className:"resource_page_header--resourceHeaderAvatarWrapperExtraProfiles--P5q2P resource_page_header--resourceHeaderAvatarWrapper--nn-w8"},n.createElement(g.e,{type:"Letter",size:"Large",letter:(e.length-3).toString()})))}function M({publishers:e,useSmallWidth:t=!1,removeByLabel:r=!1,openInNewTab:i=!1}){return n.createElement("span",{className:e.length>2?"resource_page_header--author--k2bGY":"resource_page_header--authorHiddenOverflow--hoVA5"},(0,d.kc)(e,t,r,i))}function x({button:e,subtext:t}){return n.createElement("div",{className:L.uu},e,t&&n.createElement("div",{className:L.BE},t))}function F({resource:e}){let t=(0,E.PM)(e),r=(0,c.I)(e),i=(0,p.Q$)(),a=!(0,m.M)()&&((0,E.I0)(e)||(0,E.xQ)(e))&&i();if((0,_._K)(e,r))return n.createElement(w.I,{resource:e,context:E.aL.DETAIL});if((0,u.Qo)(e))return(0,l.kc)().piper_cmty_discovery&&(0,u.cX)(e)?n.createElement(N.l,{resource:e}):n.createElement(s.U,{hubFile:e});{let r=t?n.createElement(A.Cg,{resource:e,showCaret:!a}):(0,E.zF)(e)?n.createElement(A.Gb,null):void 0;return n.createElement(x,{button:n.createElement(S.d,{resource:e,context:E.aL.DETAIL,inRedesignExp:!0}),subtext:r})}}function U({resource:e}){let t=(0,u.qD)(e),r=(0,a.R)(f.YW),i=(0,o.G)(),l=e.community_publishers.accepted;return n.createElement("div",{className:i?r?"resource_page_header--resourcePageHeaderMobile--RBDAk resource_page_header--resourcePageHeader--NQ5IX":"resource_page_header--resourcePageHeader--NQ5IX":"resource_page_header--resourcePageHeaderSticky--mAxn8 resource_page_header--resourcePageHeader--NQ5IX"},n.createElement("div",{className:"resource_page_header--resourcePageHeaderMaxWidth--uxz5W"},n.createElement("div",{className:"resource_page_header--leftSide--xtHpr"},n.createElement("h1",{className:"resource_page_header--resourceNameHeader---1-0y text--fontPos24--YppUD text--_fontBase--QdLsd"},n.createElement("span",{className:"resource_page_header--name--g8MqS"},t.name)),n.createElement("div",{className:"resource_page_header--attributionLine--rsfxX text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement(v.u,{resource:e}),n.createElement(C.A,{resource:e}),n.createElement("div",{className:"resource_page_header--attributionCreator--hk-qB"},n.createElement(D,{publishers:l}),n.createElement(M,{publishers:l})),!1)),n.createElement(h.Ay,{mediaQuery:`(min-width: ${f.YW+1}px)`},n.createElement("div",{className:"resource_page_header--rightSide--oN7bA"},n.createElement(I.i,null),n.createElement(T.yY,{resource:e,viewContext:"logged_out"}),n.createElement(F,{resource:e})))))}},197979:(e,t,r)=>{"use strict";r.d(t,{F5:()=>m,Mf:()=>h,P:()=>p,ru:()=>_});var n=r(411855),i=r(629019),a=r.n(i),o=r(860601),l=r(776621),s=r(555328),c=r(326869),d=r(674694),u=r(302510);function p(e){return["video"===e.type?e.thumbnail_url:e.url,"image"===e.type?e.resized_thumbnail_urls:void 0]}function m({thumbnailUrl:e,resizedThumbnailUrls:t,resourceId:r,altText:i,thumbnailContext:s,resourceHeroType:p,isMobileCarousel:m}){let _;return e&&t?_=n.createElement(d.Sl,{className:a()(u.mH,{[u.zn]:m}),image:e,onLoad:o.lQ,hubFileId:r,alt:i,thumbnailContext:s,resizedThumbnailUrls:t}):e?_=n.createElement("img",{className:a()(u.mH,{[u.zn]:m}),src:e,loading:"lazy",alt:i,draggable:!1,onError:()=>{(0,l.x1)("community","Failed to load hero image on resource detail page",{resourceId:r,image:e},{reportAsSentryError:!0})}}):((0,l.xi)("community","Missing hero image on resource detail page",{resourceId:r,resourceHeroType:p}),_=n.createElement(c.Ek,null)),n.createElement("div",{className:u.G8},_)}function _({thumbnailUrl:e,altText:t,resourceId:r}){return n.createElement("img",{className:u.mH,src:e,loading:"lazy",alt:t,draggable:!1,onError:()=>{(0,l.x1)("community","Failed to load hero image closeup on resource detail page",{thumbnailUrl:e,resourceId:r},{reportAsSentryError:!0})}})}function h(e,t){return(0,s.I0)(t)?`/api/plugins/${t.id}/videos/${e.video_file_uuid}/manifest`:(0,s.xQ)(t)?`/api/widgets/${t.id}/videos/${e.video_file_uuid}/manifest`:null}},546079:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});let n=r(261858).l},206144:(e,t,r)=>{"use strict";let n;r.d(t,{A6:()=>y,OS:()=>p,VJ:()=>f,ik:()=>m,qG:()=>E});var i=r(411855),a=r(737947),o=r(913270),l=r(123130),s=r(198181);let c=e=>({type:"SELECT_VIEW",payload:e}),d=/^\/community\/(file|widget|plugin)\/(\d+)/,u=/^\/@(.+)/;function p(e){n=e}function m(){return n}function _(e){let t=new URLSearchParams(e.split("?")[1]).get("searchSessionId");return t?{searchSessionId:t}:void 0}function h(e){let t=(0,o.gV)(window.location.pathname),r=(0,o.gV)(e);return t.reactRouterHandled&&r.reactRouterHandled}function g(e,t){let r=!1,{pathname:i}=window.location;if(/^\/community/.test(i)&&(0,s.M)()&&!(d.test(e)||u.test(e)))return r;if(d.test(e)){r=!0;let[t,i,a]=e.match(d),o=_(e);n(c({...(0,l.p)(i,a),cmtyTrackingInfo:o}))}else if(u.test(e))r=!0,n(c({view:"communityHub",subView:"handle",handle:e.match(u)[1]}));else{r=!0;let[t,i]=e.split("?");i=i?`?${i}`:"",n(c({data:(0,o.wl)(t,i),subView:"searchAndBrowse",view:"communityHub"}))}return r&&t&&(t.preventDefault(),t.stopPropagation()),r}function f(e){if(h(e))a.Ay.push(e);else{let t=!1;(0,s.M)()&&(t=g(e)),t||a.Ay.push(e)}}function E(e,t,r=!0){let i=()=>{t.preventDefault(),t.stopPropagation()};{let t=e.match(d);if(t){let[r,a,o]=t,s=_(e);n(c({...(0,l.p)(a,o),cmtyTrackingInfo:s})),i();return}let r=e.match(u);if(r){n(c({view:"communityHub",subView:"handle",handle:r[1]})),i();return}let[a,s]=e.split("?");n(c({data:(0,o.wl)(a,s?`?${s}`:void 0),subView:"searchAndBrowse",view:"communityHub"})),i();return}}function y({to:e,onClickTracking:t,onClick:r,onClickOverride:n,className:o,children:l,style:c,onRef:d,animationIndex:u,target:p}){return i.createElement("a",{href:e,onClick:i=>{if(null==t||t(i),!i.ctrlKey&&!i.metaKey){if(r&&r(i),n){i.preventDefault(),n(i);return}if(h(e)){i.preventDefault(),a.Ay.push(e);return}(0,s.M)()&&g(e,i);return}},style:c,className:o,ref:e=>{null==d||d(e)},target:p},l)}},582493:(e,t,r)=>{"use strict";r.d(t,{A:()=>S,p:()=>D});var n=r(411855),i=r(629019),a=r.n(i),o=r(511617),l=r(157663),s=r(755887),c=r(563706),d=r(913016),u=r(30090),p=r(493323),m=r(939863),_=r(498606),h=r(227795),g=r(137889),f=r(68710),E=r(10448),y=r(114843),b=r(552601);let v={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function I(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:r}=(0,d._d)(e);return`${r}:${String(t).padStart(2,"0")}`}function T(e,t){e&&(t?(e.play(),c.Ay.safari&&(e.currentTime=.1)):w(e)?e.pause():(c.Ay.safari&&e.currentTime>.1&&(e.currentTime-=.1),e.play()))}let S=n.memo(({videoId:e,src:t,fallbackSrc:r,useHLS:i=!1,autoPlay:s=!1,muted:d=!1,showControlsOnVideoLoad:p=!1,onEnded:m})=>{let _=n.useRef(null),h=n.useRef(null),[f,E]=n.useState(null),[y,b]=n.useState(!1),v=n.useRef(void 0),[I,S]=n.useState(!1),[C,N]=n.useState(!1);n.useEffect(()=>{C&&(null==m||m())},[C,m]);let O=n.useCallback(function(){b(!0),clearTimeout(v.current),v.current=setTimeout(()=>b(!1),3e3)},[]),L=n.useCallback(async function(){if(!t||!h.current)return;window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let n=(await (0,u.Fe)()).videoJs(h.current,{muted:d,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},async()=>{try{await (0,u.uz)(t,i,n)}catch{l.k.warn("Reverting to fallback video source"),await (0,u.uz)(r??null,!1,n)}p&&O(),E(e)})},[t,d,p,O,i,r,e,E]),R=n.useCallback(function(){var e;if(I||document.fullscreenElement)o.R7.exitFullscreenFunc();else if(c.Ay.isIpad){let t=h.current;null==(e=null==t?void 0:t.webkitEnterFullscreen)||e.call(t)}else{let e=_.current;e&&o.R7.requestFullscreenFunc.call(e)}},[I]);return n.createElement("div",{className:a()(g.j,{[g.Y5]:I}),ref:n.useCallback(e=>{_.current=e,null==e||e.addEventListener(o.R7.fullscreenChangeEventName,function(){S(!I)})},[I]),onPointerMove:O},n.createElement("video",{ref:n.useCallback(t=>{h.current=t,t&&(t.style.height="100%",t.style.width="100%",t.style.objectFit=I?"contain":"cover",w(t)&&e===f||L())},[e,L,I,f]),crossOrigin:"anonymous",autoPlay:s&&!c.Ay.safari,controls:c.Ay.isIpad&&I,onClick:n.useCallback(function(){I&&T(h.current,C)},[C,I])}),n.createElement(A,{videoRef:h,isFullscreen:I,toggleFullscreen:R,isActive:y,hasEnded:C,setHasEnded:N}))});function w(e){return!!e&&!e.ended&&!e.paused&&e.currentTime>0&&e.readyState>2}function A({videoRef:e,isFullscreen:t,toggleFullscreen:r,isActive:i,hasEnded:o,setHasEnded:l}){var s,d,u;let[f,E]=n.useState(0),v=n.useRef(!1),[S,A]=n.useState(null),[N,R]=n.useState(!1),[P,k]=n.useState(!1),D=n.useRef(!1),M=n.useRef(!1),x=S||(null==(s=e.current)?void 0:s.currentTime),F=null==(d=e.current)?void 0:d.duration,U=w(e.current),B=n.useRef(void 0);n.useEffect(()=>{k(i||!U||o||D.current)},[o,i,U]);let H=n.useCallback(()=>{E(e=>e+1)},[]);n.useEffect(()=>{if(!e.current)return;function t(){H()}function r(){D.current=!1}function n(){D.current=!1,l(!1)}function i(){l(!1),H()}function a(){D.current=!0}function o(){N||l(!0),H()}let s=e.current;return s.addEventListener("playing",i),s.addEventListener("canplay",t),s.addEventListener("ended",o),s.addEventListener("timeupdate",t),s.addEventListener("seeking",a),s.addEventListener("seeked",n),s.addEventListener("stalled",r),()=>{null==s||s.removeEventListener("playing",i),null==s||s.removeEventListener("canplay",t),null==s||s.removeEventListener("ended",o),null==s||s.removeEventListener("timeupdate",t),null==s||s.removeEventListener("seeking",a),null==s||s.removeEventListener("seeked",n),null==s||s.removeEventListener("stalled",r)}},[N,H,l,e]);let V=n.useCallback(()=>{e.current&&(T(e.current,o),H())},[o,H,e]),G=n.useCallback(()=>{e.current&&(v.current=w(e.current)||o,e.current.pause())},[o,e]),W=n.useCallback(()=>{e.current&&(v.current&&e.current.play(),B.current&&(e.current.currentTime=B.current),A(null),B.current=void 0)},[e]),K=n.useCallback(t=>{if(e.current){if(D.current){B.current=t;return}e.current.currentTime=t}},[e]),Y=n.createElement(L,{togglePlay:V,hasEnded:o,isPlaying:U,shouldShowVideoControls:P,isFullscreen:t});return e.current&&!(2>((null==(u=e.current)?void 0:u.readyState)||0))||M.current?(M.current=!0,c.Ay.isIpad&&t)?null:n.createElement(n.Fragment,null,S?null:Y,n.createElement("div",{className:a()(g._v,!P&&g.YC)},n.createElement("div",{className:g.TN},I(x)," / ",I(F)),n.createElement(O,{currentTime:x||0,totalTime:F||0,onScrubStart:G,onScrub:A,onScrubEnd:W,onVideoPositionUpdated:K,hasEnded:o,isScrubbing:N,setIsScrubbing:R}),n.createElement("div",{className:g.yG},n.createElement(h.K0,{onClick:r,svg:t?b.A:y.A,className:g.TJ,"data-tooltip-type":_.Ib.TEXT,"data-tooltip":t?(0,m.t)("whiteboard.video.minimize_tooltip"):(0,m.t)("whiteboard.video.fullscreen_tooltip")}),n.createElement(C,{rerender:H,videoRef:e})))):n.createElement("div",{className:g.bb},n.createElement(p.kt,{size:"large"}))}function C({rerender:e,videoRef:t}){var r,i,o,l;let[s,d]=n.useState(!1),u=n.useCallback(()=>{t.current&&(t.current.muted=!t.current.muted,e())},[e,t]),p=n.useCallback(r=>{let n=r.target.valueAsNumber;t.current&&(t.current.volume=n,t.current.muted=0===n,e())},[e,t]);return n.createElement("div",{onPointerMove:n.useCallback(()=>d(!0),[]),onPointerOut:n.useCallback(()=>d(!1),[])},n.createElement(h.K0,{onClick:u,svg:(null==(r=t.current)?void 0:r.muted)?E.A:f.A,className:a()(g.TJ,g.z9,{[g.BT]:!c.Ay.isIpad&&s}),"data-tooltip-type":_.Ib.TEXT,"data-tooltip":(null==(i=t.current)?void 0:i.muted)?(0,m.t)("whiteboard.video.unmute_tooltip"):(0,m.t)("whiteboard.video.mute_tooltip")}),!c.Ay.isIpad&&s?n.createElement(N,{volume:(null==(o=t.current)?void 0:o.volume)??1,muted:(null==(l=t.current)?void 0:l.muted)??!1,handleChange:p}):null)}function N({handleChange:e,volume:t,muted:r}){let i=r?0:t,a=100*i,o=n.useRef(null);return n.createElement("div",{className:g.qD},n.createElement("div",{className:g.sf},n.createElement("input",{className:g.Ct,style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${a}%,var(--inactive-slider-color) ${a}%,var(--inactive-slider-color) 100%)`},type:"range",min:0,max:1,step:.02,value:i,onChange:e,ref:o})))}function O({currentTime:e,totalTime:t,hasEnded:r,onVideoPositionUpdated:i,onScrubStart:a,onScrub:o,onScrubEnd:l,isScrubbing:d,setIsScrubbing:u}){let[p,m]=n.useState(!1),_=n.useRef(null),h=n.useRef(null),f=n.useCallback(t=>{if(!_.current)return;t.stopPropagation(),u(!0),a();let r=_.current.getBoundingClientRect();h.current={minX:r.x,maxX:r.x+r.width,originX:t.clientX,newTime:e}},[e,a,u]),E=n.useCallback(e=>{if(!_.current)return;e.stopPropagation(),u(!0),a();let r=_.current.getBoundingClientRect(),n=r.x,o=r.x+r.width,l=e.clientX,c=(0,s.qE)(0,(l-n)/(o-n)*t,t);i(c),h.current={minX:n,maxX:o,originX:e.clientX,newTime:c}},[a,i,u,t]),y=n.useCallback(function(e){if(!h.current)return;let r=e.clientX,{minX:n,maxX:a}=h.current,l=(0,s.qE)(0,(r-n)/(a-n)*t,t);h.current.newTime=l,o(l),i(h.current.newTime)},[o,i,t]),b=n.useCallback(function(){h.current&&(i(h.current.newTime),u(!1),l(),h.current=null)},[l,i,u]);n.useEffect(()=>{if(d)return document.addEventListener("pointermove",y),document.addEventListener("pointerup",b),()=>{document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",b)}},[d,y,b]);let v=Math.min(e/t*100,100);c.Ay.safari&&r&&(v=100);let I=v>0?8:0;return n.createElement("div",{className:g.It,onPointerMove:n.useCallback(()=>m(!0),[]),onPointerOut:n.useCallback(()=>m(!1),[])},n.createElement("div",{role:"progressbar",tabIndex:0,className:g.tS,onPointerDown:E},n.createElement("div",{className:g.xE,ref:_}),n.createElement("div",{className:g.CN,style:{width:`${v}%`}}),(p||d)&&n.createElement("div",{className:g.Yq,style:{left:`calc(${v}% - ${I}px)`},onPointerDown:f,role:"button",tabIndex:0})))}function L({shouldShowVideoControls:e,togglePlay:t,hasEnded:r,isPlaying:i,isFullscreen:a}){let o=k;return r?o=P:i&&(o=M),n.createElement(R,{shouldShowVideoControls:e,ButtonIcon:o,togglePlay:t,isFullscreen:a})}function R({ButtonIcon:e,shouldShowVideoControls:t,togglePlay:r,isFullscreen:i}){let[o,l]=n.useState(!1),s=o?v.BUTTON_BG_FILL_HOVER_OPACITY:v.BUTTON_BG_FILL_OPACITY;return n.createElement("button",{className:a()(g.CY,{[g.ct]:!t}),onPointerMove:(0,n.useCallback)(()=>l(!0),[]),onPointerOut:(0,n.useCallback)(()=>l(!1),[]),onPointerDown:r},n.createElement(e,{fillOpacityForBackground:s,isFullscreen:i}))}function P({fillOpacityForBackground:e,isFullscreen:t}){return n.createElement("svg",{className:a()(t&&g.J_),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:v.BUTTON_BG_FILL,fillOpacity:e}),n.createElement("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:v.BUTTON_SHAPE_FILL}),n.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:v.BUTTON_BG_FILL,strokeOpacity:v.BUTTON_STROKE_OPACITY}))}function k({fillOpacityForBackground:e,isFullscreen:t}){return n.createElement("svg",{className:a()(t&&g.J_),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_403_4259)"},n.createElement("rect",{width:"48",height:"48",rx:"24",fill:v.BUTTON_BG_FILL,fillOpacity:e}),n.createElement("path",{d:"M19 34V14L35 24L19 34Z",fill:v.BUTTON_SHAPE_FILL})),n.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:v.BUTTON_BG_FILL,strokeOpacity:v.BUTTON_STROKE_OPACITY}),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_403_4259"},n.createElement("rect",{width:"48",height:"48",rx:"24",fill:v.BUTTON_BG_FILL}))))}function D(){return n.createElement(k,{fillOpacityForBackground:v.BUTTON_BG_FILL_OPACITY,isFullscreen:!1})}function M({fillOpacityForBackground:e,isFullscreen:t}){return n.createElement("svg",{className:a()(t&&g.J_),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1_16)"},n.createElement("rect",{width:"48",height:"48",rx:"24",fill:v.BUTTON_BG_FILL,fillOpacity:e}),n.createElement("path",{d:"M15 15H21V33H15V15Z",fill:v.BUTTON_SHAPE_FILL}),n.createElement("path",{d:"M27 15H33V33H27V15Z",fill:v.BUTTON_SHAPE_FILL})),n.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:v.BUTTON_BG_FILL,strokeOpacity:v.BUTTON_STROKE_OPACITY}),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1_16"},n.createElement("rect",{width:"48",height:"48",rx:"24",fill:v.BUTTON_BG_FILL}))))}},654923:(e,t,r)=>{"use strict";r.d(t,{I:()=>l,_:()=>s});var n=r(499737),i=r(466636),a=r(279453),o=r(555328);function l(e){var t;let r=e&&(0,o.m3)(e)?e.monetized_resource_metadata.id:"-1",l=(0,n.Rs)(a.oro,{monetizedResourceMetadataId:r},{enabled:!0});if("loaded"!==l.status||(null==(t=l.errors)?void 0:t.length))return null==e?void 0:e.community_resource_payment;{let{communityResourcePayment:e}=l.data;if(!e)return;return(0,i.xs)(e)}}function s(e){let t=l(e);return(0,i.QQ)(t)}},837324:(e,t,r)=>{"use strict";r.d(t,{Bl:()=>eh,Cg:()=>eu,Co:()=>P,DV:()=>J,Dl:()=>z,Dm:()=>ee,FG:()=>D,HD:()=>k,Hh:()=>ea,JJ:()=>B,Mk:()=>eo,N6:()=>em,Qo:()=>G,U0:()=>e_,UI:()=>q,Uu:()=>ei,Vm:()=>H,ZD:()=>Q,ZF:()=>x,_m:()=>ed,_t:()=>Z,af:()=>er,c8:()=>ec,cX:()=>K,eD:()=>U,jl:()=>ep,kf:()=>en,lW:()=>X,o7:()=>V,qD:()=>F,r7:()=>W,ss:()=>$,vC:()=>et,z$:()=>es,zS:()=>el,zo:()=>Y});var n=r(411855),i=r(188507),a=r(841563),o=r.n(a),l=r(737947),s=r(22332),c=r(966712),d=r(499737);r(391388);var u=r(96328),p=r(939863),m=r(709495),_=r(357611),h=r(971120),g=r(675665),f=r(367935),E=r(97128),y=r(107877),b=r(259927),v=r(99506),I=r(279453),T=r(555328),S=r(137459),w=r(813408),A=r(622139),C=r(376485),N=r(629521),O=r(583894),L=r(566083),R=r(146935);let P=new RegExp(/^[\w.]{0,30}$/),k=new RegExp(/^\w{0,15}$/),D=!1,M=new Date("2023-11-30");function x(e){let t={};return e.map(e=>e.tags).map(e=>{if(e)for(let r=0;r<(null==e?void 0:e.length);r++)t[e[r]]||(t[e[r]]=0),t[e[r]]++}),Object.entries(t).sort((e,t)=>e[1]>t[1]?-1:1).map(e=>e[0])}function F(e){return"current_hub_file_version_id"in e?e.versions[e.current_hub_file_version_id]:e.versions[e.current_plugin_version_id]}let U=()=>location.pathname.split("/").slice(2);function B(e){switch(e){case v.y4.SLIDE_TEMPLATE:return S.LE.SLIDES;case v.y4.WHITEBOARD:return S.LE.FIGJAM;case v.y4.CANVAS:case v.y4.PROTOTYPE:default:return S.LE.FIGMA}}function H(e){return e.viewer_mode?T.vt.HUB_FILE:e.is_widget?T.vt.WIDGET:T.vt.PLUGIN}function V(e,t){return t.resourceType!==h.L.BrowseResourceTypes.MIXED&&(e=e.filter(e=>t.resourceType===h.L.BrowseResourceTypes.FILES?H(e)===T.vt.HUB_FILE:t.resourceType===h.L.BrowseResourceTypes.PLUGINS?H(e)===T.vt.PLUGIN:t.resourceType===h.L.BrowseResourceTypes.WIDGETS?H(e)===T.vt.WIDGET:void 0)),t.price===L.C.PAID?e=e.filter(e=>(0,T.m3)(e)):t.price===L.C.FREE&&(e=e.filter(e=>!(0,T.m3)(e))),t.editor_type&&t.editor_type!==_.k.Editors.ALL&&(e=e.filter(e=>(function(e,t){var r,n;if(G(e))return!!(t===_.k.Editors.FIGMA&&[v.y4.CANVAS,v.y4.PROTOTYPE,v.y4.LIBRARY].includes(e.viewer_mode))||t===_.k.Editors.FIGJAM&&e.viewer_mode===v.y4.WHITEBOARD||t===_.k.Editors.PROTOTYPE&&e.viewer_mode===v.y4.PROTOTYPE;{let i=e.current_plugin_version_id;if(!e.versions||!i)return!1;let a=e.versions[i];return!!a&&(!!(t===_.k.Editors.DEV_MODE&&(null==(r=a.manifest.editorType)?void 0:r.includes(C.FW.DEV)))||((null==(n=a.manifest.editorType)?void 0:n.includes(t))??!1))}})(e,t.editor_type))),e}function G(e){return"viewer_mode"in e&&void 0!==e.viewer_mode}function W(e){return G(e)&&e.viewer_mode===v.y4.LIBRARY}function K(e){return null!==e&&"viewer_mode"in e&&e.viewer_mode===v.y4.SLIDE_TEMPLATE}function Y(e){return"is_widget"in e}var j=(e=>(e.HUB_FILES="hub_files",e.PLUGINS="plugins",e.WIDGETS="widgets",e))(j||{});function z(e){return function(e){switch(e){case T.vt.HUB_FILE:return E.Uo.FILE;case T.vt.PLUGIN:return E.Uo.PLUGIN;case T.vt.WIDGET:return E.Uo.WIDGET}}(H(e))}function $(e,{plural:t=!1}={}){let r=H(e);return t?r===T.vt.HUB_FILE?E.UF.FILE:r===T.vt.WIDGET?E.UF.WIDGET:E.UF.PLUGIN:r===T.vt.HUB_FILE?E.Uo.FILE:r===T.vt.WIDGET?E.Uo.WIDGET:E.Uo.PLUGIN}function Z({resource:e,trackingInfo:t}){var r;return q({path:z(e),id:e.id,name:(null==(r=F(e))?void 0:r.name)??"",trackingInfo:t})}function q({path:e,id:t,name:r,trackingInfo:n}){let i=n?new URLSearchParams(n).toString():"",a=(0,u.fs)(r||"");return`/community/${e}/${t}${""===a?"":"/"}${a}${i?`?${i}`:""}`}function J(e){return`${location.origin}${Z({resource:e})}`}function X(e){var t=document.createElement("input");t.style.position="fixed",t.style.top="-1000px",t.value=e,t.classList.add(b.Dm),document.body.appendChild(t),t.select(),document.execCommand("copy"),t.parentNode.removeChild(t)}let Q="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function ee(e,t){return(null==t?void 0:t.entity_type)!==w.o1.USER||(null==t?void 0:t.id)===e}function et(e,t){var r;if(t)return t+" | Figma";if("/community"===l.Ay.location.pathname||!e)return"Add a little magic to your files";if("/community/plugins"===l.Ay.location.pathname)return"Powerful Plugins Made Just For Figma";if("/community/widgets"===l.Ay.location.pathname)return"Customize your space with Widgets";let n=[];return e.sort_by===m.e.Browse.PUBLISHED_AT?n.push("Newest"):e.sort_by===m.e.Browse.ALL_TIME?n.push("Top"):e.sort_by===m.e.Browse.POPULAR&&n.push("Trending"),e.editor_type===C.FW.FIGJAM?n.push("FigJam"):e.editor_type===C.FW.FIGMA&&n.push("Figma"),e.resourceType===h.L.BrowseResourceTypes.FILES?n.push("Files"):e.resourceType===h.L.BrowseResourceTypes.WIDGETS?n.push("Widgets"):e.resourceType===h.L.BrowseResourceTypes.PLUGINS?n.push("Plugins"):n.push("Resources"),(null==(r=e.tags)?void 0:r.length)>0&&n.push(`tagged as ${e.tags.join(", ")}`),e.query&&n.push(`matching "${e.query}"`),n.join(" ")+" | Figma"}function er(e){return!!e&&(null==e?void 0:e.stripe_account_status)&&(0,O.z4)(e.stripe_account_status)>=(0,O.z4)(O.P5.ACCEPTED)}function en(e){var t;return!!(null==(t=null==e?void 0:e.associated_users)?void 0:t.find(e=>e.can_sell_on_community))}function ei(e){return(null==e?void 0:e.stripe_account_status)&&e.stripe_account_status!==O.P5.NONE&&e.stripe_account_status!==O.P5.ACCEPTED}function ea(e){return(0,f.AS)(e)?T.vt.WIDGET:(0,f.bT)(e)?T.vt.PLUGIN:T.vt.HUB_FILE}function eo(e){let t=F(e);return t&&t.name||""}function el(e){return e?"100%":Math.min(window.innerWidth,parseInt(R.communityViewerMaxWidth))}function es(e){return(0,T.U)(e)&&e.viewer_mode===v.y4.PROTOTYPE?N.Z4.EMBED:!function(e){var t;if(1!==Object.keys(e.carousel_media_urls??{}).length||((0,T.I0)(e)||(0,T.xQ)(e))&&Object.keys(e.carousel_videos??{}).length>0)return!1;let r=null==(t=e.carousel_media_urls)?void 0:t["0"];return!!r&&null!=r&&!!r.created_at&&!((null==r?void 0:r.created_at)>=M)}(e)?Object.keys(e.carousel_media_urls??{}).length>0||((0,T.I0)(e)||(0,T.xQ)(e))&&Object.keys(e.carousel_videos??{}).length>0?N.Z4.CURATED_IMAGE:(0,T.U)(e)&&!e.thumbnail_is_set?N.Z4.EMBED:N.Z4.THUMBNAIL:N.Z4.THUMBNAIL}function ec(e){if((0,T.U)(e))switch(e.viewer_mode){case v.y4.WHITEBOARD:return n.createElement(p.Tx,{id:"community.detail_view.figjam_board"});case v.y4.CANVAS:return n.createElement(p.Tx,{id:"community.detail_view.design_file"});case v.y4.PROTOTYPE:return n.createElement(p.Tx,{id:"community.detail_view.prototype"});case v.y4.SLIDE_TEMPLATE:return n.createElement(p.Tx,{id:"community.detail_view.slide_template"})}return(0,T.I0)(e)?n.createElement(p.Tx,{id:"community.detail_view.plugin"}):(0,T.xQ)(e)?n.createElement(p.Tx,{id:"community.detail_view.widget"}):n.createElement(p.Tx,{id:"community.detail_view.design_file"})}function ed(e,t,r){return e+g.co<=t&&r>g.$2}function eu(e){return o()(e,(0,A.EB)())}function ep(){let e=(0,s.N)(`(max-width: ${y.YW-1}px)`),t=l.Ay.location.pathname.startsWith("/community");return e&&t}function em(e){let t={};return e.carousel_media_urls&&Object.entries(e.carousel_media_urls).forEach(([e,r])=>{t[e]={...r,type:"image"}}),((0,T.I0)(e)||(0,T.xQ)(e))&&(null==e?void 0:e.carousel_videos)&&Object.entries(e.carousel_videos).forEach(([e,r])=>{t[e]={...r,type:"video"}}),Object.entries(t).sort(([e],[t])=>parseInt(e)-parseInt(t)).map(([e,t])=>t)}function e_(e){return!!(0,c.kc)().cmty_rdp_creator_nudges&&((0,T.U)(e)&&e.viewer_mode!==v.y4.PROTOTYPE?1===Object.keys(e.carousel_media_urls??{}).length:!!((0,T.I0)(e)||(0,T.xQ)(e))&&0===Object.keys(e.carousel_videos??{}).length)}function eh(e,t){let r=(0,i.d4)(e=>e.authedActiveCommunityProfile),n={profileId:(null==r?void 0:r.id)||"",hubFileId:null,pluginId:null};return t===T.vt.HUB_FILE?n.hubFileId=e||null:n.pluginId=e||null,(0,d.Rs)(I.KLE,n,{enabled:!!n.profileId}).transform(e=>{var t;return[!!e.communityHubLike,(null==(t=e.communityHubLike)?void 0:t.id)||null]})}},612776:(e,t,r)=>{"use strict";r.d(t,{CQ:()=>u,Q$:()=>l,Uu:()=>o,X5:()=>m,ZG:()=>_,_f:()=>f,fq:()=>p,kc:()=>c,o5:()=>h,qf:()=>s,ye:()=>d,zI:()=>g});var n=r(411855),i=r(966712),a=r(218881);function o(){let{getConfig:e}=(0,a.I7)("exp_resource_page_redesign_hubfile");return(0,n.useCallback)(()=>e().get("show_redesign",!1),[e])}function l(){let{getConfig:e}=(0,a.I7)("exp_resource_page_redesign_plugin");return(0,n.useCallback)(()=>e().get("show_plugin_redesign",!1),[e])}function s(e){return l(),o(),!0}function c(){let{getConfig:e}=(0,a.I7)("cmty_nav_categories"),{getConfig:t}=(0,a.I7)("cmty_logged_in_nav_categories");return(0,n.useCallback)(()=>t().get("show_categories",!1),[t,e])}function d(){let{getConfig:e}=(0,a.I7)("cmt_logged_out_mobile_nav_categories"),{getConfig:t}=(0,a.I7)("cmty_logged_in_mobile_nav_categories");return(0,n.useCallback)(()=>t().get("show_categories",!1),[e,t])}function u(){let{getConfig:e}=(0,a.I7)("cmty_logged_out_homepage_redesign"),{getConfig:t}=(0,a.I7)("cmty_logged_in_homepage_redesign");return(0,n.useCallback)(()=>t().get("enabled",!1),[t,e])}function p(){let{getConfig:e}=(0,a.I7)("cmty_category_redesign_logged_in");return(0,n.useCallback)(()=>e().get("enabled",!1),[e])}function m(){let{getConfig:e}=(0,a.I7)("cmty_resource_tile_and_row_redesign");return e().get("enabled",!1)}function _(){let{getConfig:e}=(0,a.I7)("exp_cmty_resource_hover_state_redesign");return(0,n.useCallback)(()=>e().get("enabled",!1),[e])}function h(){let{getConfig:e}=(0,a.I7)("cmty_footer_logged_out");return(0,n.useCallback)(()=>!0,[e])}function g({isUI3:e}){return e&&!!(0,i.kc)().cmty_publish_modal_ui3_redesign}function f(){return(0,i.kc)().cmty_category_redirect_logged_in}r(837324),r(555328)},913270:(e,t,r)=>{"use strict";r.d(t,{$k:()=>N,Gu:()=>D,Jk:()=>O,Li:()=>k,MU:()=>_,Mc:()=>f,QN:()=>L,UH:()=>S,as:()=>R,au:()=>P,gV:()=>x,hX:()=>A,qd:()=>M,sT:()=>g,wl:()=>m,zX:()=>C});var n=r(411855),i=r(753178),a=r(157663),o=r(910764),l=r(580857),s=r(357611),c=r(971120),d=r(944452),u=r(566083),p=r(709495);function m(e,t){return g(e,t)||(0,d.J5)(e,t)||function(e,t){let r=decodeURIComponent(e||location.pathname);if(!E.test(r)||y.test(r)||b.test(r))return;let n=("/"===r[0]?r.slice(1):r).split("/"),i={resourceType:c.L.BrowseResourceTypes.MIXED,tags:[],editor_type:s.k.Editors.ALL,sort_by:(0,p.H)(),price:u.C.ALL,category:null,following:!1,pagination:null,creators:l.Z.ALL};for(let e=0;e<I.length&&0!==n.length;e++){let t=I[e](n,i);t&&t[0]&&(n=t[1],i={...i,...t[0]})}i.editor_type=(0,o.G)(i.editor_type,i.resourceType),i.resourceType=(0,o.l)(i.editor_type,i.resourceType);let a=new URLSearchParams(location.search),d=!!a.get("following"),m=(()=>{let e=a.get("creators");return e&&e===l.Z.FOLLOWING?e:i.creators})();return{...i,following:d,creators:m}}(e)}function _(e){return"query"in e?f(e):"category"in e&&null!==e.category?(0,d.iB)(e):function(e){var t;let r="/community";e.category?r+=`/category/${e.category}`:(null==(t=e.tags)?void 0:t.length)&&(r+=`/tag/${e.tags.join(",")}`),e.resourceType=(0,o.l)(e.editor_type,e.resourceType),e.resourceType!==c.L.BrowseResourceTypes.MIXED&&(r+=`/${e.resourceType}`),"all"!==(0,o.G)(e.editor_type,e.resourceType)&&(r+=`/${e.editor_type}`),e.price&&u.C.FOR_URL_SLUG.indexOf(e.price)>-1&&(r+=`/${e.price}`),e.creators===l.Z.FIGMA_PARTNER&&(r+=`/${e.creators}`),e.sort_by&&e.sort_by!==(0,p.H)()&&(e.sort_by===p.e.Browse.PUBLISHED_AT?r+="/new":e.sort_by===p.e.Browse.ALL_TIME?r+="/popular":e.sort_by===p.e.Browse.POPULAR&&(r+="/trending")),T[r]&&(r=T[r]);let n={};!0===e.following&&(n.following=e.following),e.creators===l.Z.FOLLOWING&&(n.creators=e.creators);let i=Object.keys(n).length>0?new URLSearchParams(n).toString():void 0;return i&&(r+=`?${i}`),r}(e)}let h=/^\/community\/search$/;function g(e,t){if(e||(e=location.pathname),!e.match(h))return null;t||(t=location.search);let r=new URLSearchParams(t),n=r.get("query");if(!n)return null;let i=r.get("resource_type");if(!i)return null;let a=r.get("sort_by")||p.e.Search.RELEVANCY,s=(0,o.G)(r.get("editor_type"),i);return{resourceType:i,sort_by:a,editor_type:s,query:n,price:r.get("price")||u.C.ALL,creators:(()=>{let e=r.get("creators");return l.Z.isSearchType(e)?e:l.Z.ALL})()}}function f(e){let t=new URLSearchParams({resource_type:e.resourceType,sort_by:e.sort_by,query:e.query,editor_type:(0,o.G)(e.editor_type,e.resourceType),price:e.price,creators:e.creators&&l.Z.isSearchType(e.creators)?e.creators:l.Z.ALL}).toString();return`/community/search?${t}`}let E=/^\/community/,y=/^\/community\/collections?\/?/,b=/^\/community\/(file|plugin|widget)\//;var v=(e=>(e.NEW="new",e.POPULAR="popular",e.TRENDING="trending",e.CATEGORY="category",e.TAG="tag",e.COMMUNITY="community",e))(v||{});let I=[function(e){return"community"===e[0]&&[{},e.slice(1)]},function(e){return"tag"===e[0]&&!!e[1]&&[{tags:e[1].split(",")},e.slice(2)]},function(e){return"category"===e[0]&&!!e[1]&&[{category:e[1]},e.slice(2)]},function(e){let t=e[0];return Object.values(c.L.BrowseResourceTypes).indexOf(t)>-1&&[{resourceType:t},e.slice(1)]},function(e,t){let r=e[0];return Object.values(s.k.Editors).indexOf(r)>-1&&[{editor_type:(0,o.G)(r,t.resourceType)},e.slice(1)]},function(e){let t=e[0];return u.C.FOR_URL_SLUG.indexOf(t)>-1&&[{price:t},e.slice(1)]},function(e){let t=e[0];return t===l.Z.FIGMA_PARTNER&&[{creators:t},e.slice(1)]},function(e){let t=null;return"new"===e[0]&&(t=p.e.Browse.PUBLISHED_AT),"popular"===e[0]&&(t=p.e.Browse.ALL_TIME),"trending"===e[0]&&(t=p.e.Browse.POPULAR),!!t&&[{sort_by:t},e.slice(1)]}],T={"/community/mixed":"/community"};function S(){let[e,t]=n.useState(m());return!function(e){let t=(0,i.W6)();n.useEffect(()=>t.listen(e),[e,t])}(n.useCallback(function(){t(m())},[])),e}let w=/\/community(\/(?:[a-zA-Z]+))?/;var A=(e=>(e.SEARCH="/community/search",e))(A||{});function C(e){if(!e)return null;let t=e.match(w);return t?t[0]:null}function N(){let[e,t]=n.useState(m());return n.useEffect(()=>{let e=()=>{t(m())};return window.addEventListener("pushState",e),window.addEventListener("replaceState",e),window.addEventListener("popState",e),()=>{window.removeEventListener("pushState",e),window.removeEventListener("replaceState",e),window.removeEventListener("popState",e)}},[]),e}function O(e){var t;return!!e&&!e.category&&!((null==(t=e.tags)?void 0:t.length)>0)&&(!("query"in e)||!e.query)}function L(e){return!!e&&!!e.category}let R=["inspiration","jam-sessions","design_systems","typography","ui_kits","mobile_design","web_design","ui-libraries"];function P(e){if(!L(e))return!1;let t=e.category;return!(null===t||R.includes(t))}function k(e){let t=m(e);return!!t&&O(t)}function D(){return{resourceType:c.L.BrowseResourceTypes.MIXED,sort_by:(0,p.H)(),editor_type:s.k.Editors.ALL,price:u.C.ALL,tags:[],pagination:null,category:null,creators:l.Z.ALL}}let M={resourceType:c.L.BrowseResourceTypes.MIXED,sort_by:p.e.Search.RELEVANCY,editor_type:s.k.Editors.ALL,price:u.C.ALL,creators:l.Z.ALL};function x(e){return/\/community\/(file|plugin|widget)\/\d+/.test(e)?{reactRouterHandled:!0,subView:"resourcePage"}:/^\/@/.test(e)?{reactRouterHandled:!0,subView:"handle"}:/\/community*/.test(e)?{reactRouterHandled:!0,subView:"searchAndBrowse"}:(a.k.warn(`If this is firing, it means you're trying to use fastma-routing on a non-Community URL.
url: ${e}`),{reactRouterHandled:!1,subView:!1})}},370855:(e,t,r)=>{"use strict";r.d(t,{d:()=>c,t:()=>d});var n=r(411855),i=r(188507),a=r(499737),o=r(384162),l=r(279453),s=r(336599);function c(e){let t=(0,i.wA)(),r=(0,i.d4)(t=>t.communityHub.shelves[e]||[]),a=o.sz.loadingKeyForPayload({shelfType:e}),l=(0,s.oh)(a),c=(0,s.mC)(a);return n.useEffect(()=>{l||c||t(o.sz({shelfType:e}))}),{shelves:r,isLoading:l,hasResolved:c}}function d(e){let t=(0,a.Rs)(l.U2Y,{profileId:e});if("loaded"===t.status){let e=t.data.communityProfile;if(e){let t=e.associatedUsers,r=[];t.forEach(t=>{r.push({user_id:t.id,email:t.email,is_primary_user:t.id===e.primaryUserId})});let n=[];return e.badges.forEach(e=>{n.push(e.badgeType)}),{id:e.id,name:e.name,profile_handle:e.profileHandle,description:e.description,location:e.location,website:e.website,twitter:e.twitter,instagram:e.instagram,public_at:e.publicAt,follower_count:e.followerCount,following_count:e.followingCount,cover_image_path:e.coverImagePath,primary_user_id:e.primaryUserId,team_id:e.teamId,org_id:e.orgId,pronouns:e.pronouns,entity_type:e.entityType,created_at:e.createdAt.toDateString(),updated_at:e.updatedAt.toDateString(),redirect_cover_image_url:e.coverImagePath?`/profile/${e.id}/cover_image`:"",associated_users:r,current_user_is_following:e.currentUserIsFollowing,current_user_is_followed:e.currentUserIsFollowed,badges:n,is_restricted_by_current_user:!1,img_urls:{},img_url:"",has_shared_orgs:!1,has_shared_teams:!1}}}}},466636:(e,t,r)=>{"use strict";r.d(t,{C:()=>C,F8:()=>m,Lt:()=>O,Mj:()=>h,QQ:()=>S,UO:()=>A,V4:()=>N,WD:()=>_,WJ:()=>w,X2:()=>b,XR:()=>y,Yp:()=>g,_K:()=>L,ae:()=>p,bV:()=>E,mZ:()=>d,up:()=>v,vf:()=>u,vi:()=>I,xs:()=>R,zt:()=>f});var n=r(527735),i=r(939863),a=r(61057),o=r(820113),l=r(555328),s=r(401730),c=r(178787);let d=2;function u(e){if(null==e?void 0:e.price){let{price:t}=e;return .01*t}}function p(e){return e?100*e:0}function m(e){return e%1!=0}function _(e,t){return t>e}function h(e,t){return t/e>1.5}function g(e){return e<d||e>=1e3}function f(e,t){if(!e||!t)return"";let r=1200*e*(1-t/100);return(0,i.t)("community.buyer.price_per_year",{priceString:v(r,r%100!=0)})}function E(e,t=!1){let{price:r,is_subscription:n}=e;if(!n)return v(r,!1);if(t){let t=e.annual_price||0;return(0,i.t)("community.buyer.price_per_year",{priceString:v(t,t%100!=0)})}return(0,i.t)("community.buyer.price_per_month",{priceString:v(r,r%100!=0)})}function y(e){let t=E(e),r=(0,c.Uv)(e)?(0,i.t)("community.buyer.subscribe"):(0,i.t)("community.buyer.buy");return`${r} ${t}`}function b(e){let{price:t,is_subscription:r}=e,n=v(t,t%100!=0);return r?(0,i.t)("community.buyer.price_per_month_subscription",{priceString:n}):(0,i.t)("community.buyer.price_one_time_payment",{priceString:n})}function v(e,t=!1){return new o.vr("usd").formatMoney(e,{showCents:t})}function I(e){switch(e){case c.bG.DOESNT_MEET_NEEDS:return(0,i.t)("community.buyer.refund_reason.doesnt_meet_needs");case c.bG.TECHNICAL_ISSUES:return(0,i.t)("community.buyer.refund_reason.technical_issues");case c.bG.TOO_EXPENSIVE:return(0,i.t)("community.buyer.refund_reason.too_expensive");case c.bG.FOUND_ALTERNATIVE:return(0,i.t)("community.buyer.refund_reason.found_alternative");case c.bG.OTHER:return(0,i.t)("community.buyer.refund_reason.other")}}function T(e){return!!(e.subscription_expires_at&&!isNaN(Date.parse(e.subscription_expires_at)))}function S(e){return!!e&&(T(e)?new Date(e.subscription_expires_at).getTime()+864e5>new Date().getTime()&&!w(e,s.G3.DISPUTED):w(e,s.G3.SUCCEEDED))}function w(e,t){return!!e.status&&e.status===t}function A(e){return e.status===s.G3.SUBSCRIPTION_PAYMENT_FAILED||e.status===s.G3.INVOICE_FINALIZATION_FAILED}function C(e){let t=Date.now()-864e5;return S(e)&&!T(e)&&new Date(e.purchased_at).getTime()>=t}function N(e,t){var r,i;if((0,l.I0)(t)||(0,l.xQ)(t)){let a=((null==(r=t.plugin_publishers)?void 0:r.accepted)||[]).map(e=>e.id),o=((null==(i=t.plugin_publishers)?void 0:i.pending)||[]).map(e=>e.id),l=new Set(a.concat(o)),{pass:s,fail:c}=(0,n.j)(e,e=>l.has(e.id)||e.id===t.creator.id);return{usersCanPurchase:c,publishers:s}}{let r=new Set((0,a.D)(t)),{pass:i,fail:o}=(0,n.j)(e,e=>r.has(e.id));return{usersCanPurchase:o,publishers:i}}}function O({resource:e,payment:t}){let r=e.monetized_resource_metadata;return!!(r&&(0,c.Uv)(r))&&!!r.trial_length_in_days&&(!t||!t.subscription_expires_at)}function L(e,t){let r=(0,l.m3)(e),n=r&&(0,l.PM)(e),i=S(t);return r&&!n&&!i}function R(e){return{status:s.QK[e.status],purchased_at:e.purchasedAt?new Date(e.purchasedAt).toISOString():null,subscription_expires_at:e.subscriptionExpiresAt?new Date(e.subscriptionExpiresAt).toISOString():null,subscription_canceled_at:e.subscriptionCanceledAt?new Date(e.subscriptionCanceledAt).toISOString():null,refund_reason:e.refundReason,monetized_resource_metadata_id:e.monetizedResourceMetadataId,subscription_interval:e.subscriptionInterval}}},22863:(e,t,r)=>{"use strict";r.d(t,{c:()=>i,m:()=>a});var n=r(813408);function i(e){return!!(e&&(e.entity_type===n.o1.ORG||e.entity_type===n.o1.TEAM))}function a(e,t){var r;return t?t.public_at?`@${t.profile_handle}`||null:t.primary_user_id?(null==(r=e.authedUsers.byId[t.primary_user_id])?void 0:r.email)||null:t.org_id?e.orgById[t.org_id].name||null:t.team_id&&e.teams[t.team_id].name||null:null}},545941:(e,t,r)=>{"use strict";r.d(t,{AC:()=>u,G8:()=>c,Pg:()=>m,Ul:()=>p,XU:()=>h,cB:()=>E,lT:()=>_,mA:()=>g,mk:()=>d,sB:()=>f});var n=r(296210),i=r.n(n),a=r(776250),o=r(99506),l=r(967409);function s(e){let t=document.createElement("div");return t.innerHTML=i().sanitize(e),t.innerText}function c(e,t,r){if(e.tagline)return e.tagline;let n=(t=t||s)(e.description);return r?function(e){let t=null==e?void 0:e.match(/[^.!?\r\n]+[.!?\r\n]+/);return t?t[0].trim():e??""}(n):n}function d(e){return"unique_run_count"in e?e.unique_run_count:e.duplicate_count}function u(e){return!!e.publishing_status&&[o.KB.PENDING_PUBLIC,o.KB.PENDING_USER_VISUAL_COMPLIANCE,o.KB.ORG_PRIVATE_PENDING_PUBLIC].includes(e.publishing_status)}function p(e){return e.publishing_status===o.KB.APPROVED_PUBLIC}function m(e){return!!e.publishing_status&&[o.KB.DELISTED,o.KB.DELISTED_CREATOR_STRIPE_DISABLED].includes(e.publishing_status)}function _(e){return e.publishing_status===o.KB.BLOCKED}function h(e,t){var r;return((null==(r=t.community_publishers)?void 0:r.accepted)??[]).some(t=>t.id===e)}function g(e){return e.community_publishers.accepted.some(e=>"apple"===e.profile_handle.toLowerCase())}function f(e){return e.community_publishers.accepted.some(e=>"figma"===e.profile_handle.toLowerCase())}function E(e,t,r,n,i="feed"){(0,a.sx)("Community Resource Clicked",{resource_type:e,community_resource_id:t,subView:i,scope:l.Rx.COMMUNITY,index:r,...n})}},609271:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s,XY:()=>c,hJ:()=>d});var n=r(411855),i=r(91408),a=r(358145),o=r(860168);let l=(0,i.hG)(o.dOH);function s({mediaQuery:e,children:t,onShow:r,onHide:i}){let o=n.useMemo(()=>window.matchMedia(e),[e]),[l,s]=n.useState(o.matches),c=(0,a.ZC)(l);return(n.useEffect(()=>{let e=()=>s(o.matches);return o.addEventListener("change",e),()=>o.removeEventListener("change",e)},[o]),n.useEffect(()=>{(void 0===c||c!==l)&&(l&&r&&r(),!l&&i&&i())},[l,c,r,i]),l)?n.createElement(n.Fragment,null,t):null}function c({children:e}){return n.createElement(s,{mediaQuery:`(max-width: ${l-1}px)`},e)}function d({children:e}){return n.createElement(s,{mediaQuery:`(min-width: ${l}px)`},e)}},62589:(e,t,r)=>{"use strict";r.d(t,{Rd:()=>l,nS:()=>o});var n=r(753178),i=r(179940),a=r(776621);class o{constructor(...e){let[t,r,n]=e;this.params=t??{},this.search=r??{},this.state=n??{}}get pathname(){return(0,n.tW)(this.constructor.path,this.params)}get queryString(){let e=Object.fromEntries(Object.entries(this.search).filter(([,e])=>void 0!==e));return 0===Object.keys(e).length?"":`?${(0,i.lF)(e)}`}get href(){return`${this.pathname}${this.queryString}`}get to(){return{pathname:this.pathname,search:this.queryString,state:this.state}}}function l(e){return function(e){if(!(0,n.W5)(e.path)){let t=`The current location does not match the provided CommunityRoute: ${e.constructor.name}`;(0,a.us)(t),console.warn(t,"This could indicate a bug in the route definition or usage.")}}(e),(0,n.g)()}},709595:(e,t,r)=>{"use strict";r.d(t,{c9:()=>a,jt:()=>s,oW:()=>l,tx:()=>o});var n=r(262896);let i="8065774696727";function a(e,t){(0,n.ny)({name:e.name,email:e.email},{ticketForms:["community"],fields:t,suppressAnswerBot:!0})}function o(e){return a(e,[{id:i,value:"community_product_question"}])}function l(e){return a(e,[{id:i,value:"community_refund"}])}function s(e){return a(e,[{id:i,value:"community_report"}])}},675665:(e,t,r)=>{"use strict";r.d(t,{$2:()=>o,$O:()=>d,S:()=>s,bK:()=>a,co:()=>l});var n=r(330654),i=r(555328);let a=-200,o=10,l=125;var s=(e=>(e.file="hub_files",e.plugin="plugins",e.widget="widgets",e))(s||{});n.object({comments:n.array(i.KS).nullable(),total_count:n.number().optional()});var c=(e=>(e.COMPONENTS="components",e.STYLES="styles",e))(c||{}),d=(e=>(e.DescriptionView="descriptionViewSection",e.CommentsView="commentsViewSection",e))(d||{})},742580:(e,t,r)=>{"use strict";function n(e){return!!e&&void 0!==e.query}function i(e){return void 0!==e.category}r.d(t,{Iw:()=>i,LJ:()=>a,OE:()=>n,PF:()=>l,bV:()=>o});var a=(e=>(e.inspiration="inspiration",e.jamSessions="jam-sessions",e.designSystems="design-systems",e.visualAssets="visual-assets",e.development="development",e.accessibility="accessibility",e.brainstorming="brainstorming",e.classroomActivities="classroom-activities",e.designTemplates="design-templates",e.designTools="design-tools",e.desktopAppsWebsites="desktop-apps-websites",e.diagramming="diagramming",e.editingEffects="editing-effects",e.education="education",e.fileOrganization="file-organization",e.fontsTypography="fonts-typography",e.funGames="fun-games",e.icons="icons",e.illustrations="illustrations",e.importExport="import-export",e.libraries="libraries",e.mobileApps="mobile-apps",e.plugins="plugins",e.portfolios="portfolio-templates",e.calendarTemplates="calendar-templates",e.presentations="presentations",e.prototypingAnimation="prototyping-animation",e.resumes="resume-templates",e.shapesColors="shapes-colors",e.stockPhotography="stock-photography",e.strategicPlanning="strategic-planning",e.teamMeetings="team-meetings",e.tutorials="tutorials",e.uiKits="ui-kits",e.whiteboarding="whiteboarding",e.widgets="widgets",e.wireframes="wireframes",e))(a||{});let o=Array.from(Object.values(a)).map(e=>`/community/${e}/*`);var l=(e=>(e.LANDING="landing",e.NAV="nav",e))(l||{})},944452:(e,t,r)=>{"use strict";r.d(t,{IE:()=>b,J5:()=>f,SJ:()=>v,iB:()=>E});var n=r(753178),i=r(737947),a=r(966712),o=r(179940),l=r(566083),s=r(612776),c=r(815063),d=r(709495),u=r(910764),p=r(580857),m=r(357611),_=r(971120),h=r(742580),g=r(62589);function f(e,t){let r=decodeURIComponent(e||i.Ay.location.pathname),o=(0,s._f)()?(0,n.B6)(r,{path:v.path,strict:!0}):(0,n.B6)(r,{path:b.path});if(!o)return null;let g=(0,c.S)(o.params.categorySlug,h.LJ);if(void 0===g)return null;let f=b.parseQueryString(t||i.Ay.location.search),E={category:g,resourceType:f.resource_type||_.L.BrowseResourceTypes.MIXED,editor_type:m.k.Editors.ALL,price:f.price||l.C.ALL,creators:p.Z.ALL,sort_by:(0,d.H)(),following:!1,tags:[],pagination:null};E.editor_type=(0,a.kc)().piper_cmty_discovery&&g===h.LJ.presentations&&!f.editor_type?m.k.Editors.SLIDES:(0,u.G)(f.editor_type,E.resourceType),E.resourceType=(0,u.l)(E.editor_type,E.resourceType);let y=f.sort_by;y&&[d.e.Browse.ALL_TIME,d.e.Browse.PUBLISHED_AT,d.e.Browse.POPULAR].includes(y)&&(E.sort_by=y);let I=f.creators;return I&&[p.Z.FIGMA_PARTNER,p.Z.FOLLOWING].includes(I)&&(E.creators=I),E}function E(e){let t=(0,c.S)(e.category,h.LJ);return void 0===t?"/community":((0,s._f)()?new v({categorySlug:t},{resource_type:(0,u.l)(e.editor_type,e.resourceType),editor_type:(0,u.G)(e.editor_type,e.resourceType),price:e.price,sort_by:e.sort_by,creators:e.creators}):new b({categorySlug:t},{resource_type:(0,u.l)(e.editor_type,e.resourceType),editor_type:(0,u.G)(e.editor_type,e.resourceType),price:e.price,sort_by:e.sort_by,creators:e.creators})).href}class y extends g.nS{constructor(e,t){super(e,t)}}y.parseQueryString=e=>{let t=(0,o.xL)(e);return{resource_type:(0,c.S)(t.resource_type,_.L.BrowseResourceTypes),editor_type:(0,c.S)(t.editor_type,m.k.Editors),price:(0,c.S)(t.price,l.C.Price),sort_by:(0,c.S)(t.sort_by,d.e.Browse),creators:(0,c.S)(t.creators,p.Z.Browse)}};class b extends y{constructor(e,t){super(e,t)}}b.path="/community/category/:categorySlug";class v extends y{constructor(e,t){super(e,t)}}v.path="/community/:categorySlug/"},97128:(e,t,r)=>{"use strict";r.d(t,{UF:()=>o,Uo:()=>a,ax:()=>s});var n=r(179940),i=(r(637590),r(62589)),a=(e=>(e.FILE="file",e.WIDGET="widget",e.PLUGIN="plugin",e))(a||{}),o=(e=>(e.FILE="files",e.WIDGET="widgets",e.PLUGIN="plugins",e))(o||{});class l extends i.nS{}l.parseQueryString=e=>{let t=(0,n.xL)(e);return{comment:t.comment,checkout:t.checkout,rating:t.rating}};class s extends l{constructor(e,t){super(e,t)}}s.path="/community/:apiResourceType(file|plugin|widget)/:resourceId/:urlSlug?"},308977:(e,t,r)=>{"use strict";r.d(t,{A0:()=>f,AC:()=>S,Ap:()=>E,LK:()=>g,MT:()=>m,NU:()=>y,Pt:()=>I,QN:()=>T,S8:()=>b,XP:()=>v,p:()=>h,uz:()=>_,v4:()=>A,xv:()=>w});var n=r(411855),i=r(188507),a=r(966712),o=r(374626),l=r(939863),s=r(756085),c=r(215822),d=r(239671),u=r(638311),p=r(287012);let m="FIGMA_PROPERTIES",_="WEB",h="IOS",g="ANDROID",f="CSSBUILDER",E="IOS_UIKIT",y="ANDROID_XML",b={[_]:{type:"first-party",id:_},[h]:{type:"first-party",id:h},[E]:{type:"first-party",id:E},[g]:{type:"first-party",id:g},[y]:{type:"first-party",id:y}};function v(e){let t="string"==typeof e?{type:"first-party",id:e}:e;return t&&t.id&&("first-party"!==t.type||b[t.id])?t:{type:"first-party",id:_}}function I(e){let t=(0,s.$1)(),r=(0,s.j8)();return(0,n.useMemo)(()=>({format(n){if((null==n?void 0:n.type)==="first-party")switch(null==n?void 0:n.id){case f:return"CssBuilder";case _:return(0,l.t)("dev_handoff.code.lang_css");case h:return(0,l.t)("dev_handoff.code.lang_swiftui");case E:return(0,l.t)("dev_handoff.code.lang_uikit");case g:return(0,l.t)("dev_handoff.code.lang_compose");case y:return(0,l.t)("dev_handoff.code.lang_android_xml");case m:return(0,l.t)("dev_handoff.code.lang_figma")}if(e){let i=(null==n?void 0:n.type)==="local-plugin"?t[n.id]:(null==n?void 0:n.type)==="published-plugin"&&e.plugin_id===(null==n?void 0:n.id)?r[n.id]??e:null;if(i)return 1===(0,u.m)(i).length?i.name:(0,u.X)(i,(null==n?void 0:n.pluginLanguage)??"").label??i.name}return""}}),[r,t,e])}function T(){return S(A())}function S(e){let t=(0,i.d4)(e=>e.selectedView),r="fullscreen"===t.view?t.editorType:null,n=(0,s.S0)("first-party"!==e.type?e.id:"",{searchLocalPlugins:!0,searchPublishedPlugins:!0,searchSavedPlugins:!0,searchRecentPlugins:!0}),{plugin:a}=(0,s._P)("published-plugin"===e.type?e.id:"0","published-plugin"===e.type);if("orgAdminSettings"!==t.view&&r!==d.nT.DevHandoff)return null;let o=n||a;return o&&(0,c.M5)(o)?o:null}function w(e,t){if(!e||!e.codeSyntax)return null;switch(t){case _:case f:return e.codeSyntax[0]??null;case g:case y:return e.codeSyntax[1]??null;case h:case E:return e.codeSyntax[2]??null}return null}function A(){let e=(0,o.md)(p.D),t=(0,i.d4)(e=>e.mirror.appModel.devHandoffCodeLanguage),r=(0,i.d4)(e=>e.selectedView),a=t;return"orgAdminSettings"===r.view&&e&&(a=e),(0,n.useMemo)(()=>v(a),[a])}(0,a.kc)().dt_lego_ext_plugins&&(b[f]={type:"first-party",id:f})},979385:(e,t,r)=>{"use strict";r.d(t,{dX:()=>E,gB:()=>y,zL:()=>b});var n=r(411855),i=r(188507),a=r(939683),o=r(980820),l=r(986270),s=r(756085),c=r(988022),d=r(843495),u=r(860178),p=r(560286),m=r(215822),_=r(376485),h=r(809073),g=r(308977);function f(e){let t=(0,g.XP)(e);return d.bw(t),t}let E=(0,o.nF)((e,t)=>{var r;let n=e.getState(),{plugin:i,codeLanguage:a}=t,o=(0,p.s)(n),s=f(a);"published-plugin"===s.type&&i&&!(0,_.ZQ)(i)&&e.dispatch(l.gU({storeInRecentsKey:h.$A.Handoff,id:i.plugin_id,version:i.version,currentUserId:o})),(0,c.ds)("Dev Mode Language Changed",null==(r=n.openFile)?void 0:r.key,n,{languageType:s.type,languageId:s.id})});function y(){let e=(0,a.U)(),t=(0,s.cW)(),r=(0,i.wA)(),o=(0,u.TA)()??void 0;return(0,n.useCallback)(n=>{let i=f(n);if("published-plugin"===i.type){let e=(0,m.te)({idToSearch:i.id,publishedPlugins:t,localPluginsByFileId:void 0,savedPlugins:void 0,recentPlugins:void 0});e&&!(0,_.ZQ)(e)&&r(l.gU({storeInRecentsKey:h.$A.Handoff,id:e.plugin_id,version:e.version,currentUserId:o}))}e("Dev Mode Language Changed",{languageType:i.type,languageId:i.id})},[o,r,t,e])}function b(){let e=(0,a.U)();return(0,n.useCallback)(t=>{let r=f(t);return e("Dev Mode Language Changed",{languageType:r.type,languageId:r.id,defaulting:!0}),r},[e])}},393812:(e,t,r)=>{"use strict";r.d(t,{$F:()=>s,Mx:()=>o,ZC:()=>l});var n=r(987918),i=r(852800),a=r(279702);function o(e){return null!=e&&!!e.mirror&&1===Object.keys(e.mirror.sceneGraphSelection).length}function l(e){var t;if(!e||!(0,n.fn)((0,n.sH)(e)))return a.PW.ASSET_COMPONENT;try{return(null==(t=i.w3z.getAssetInfo(e))?void 0:t.type)??a.PW.ASSET_COMPONENT}catch(e){console.warn(e)}return a.PW.ASSET_COMPONENT}function s(e){return!(null==e?void 0:e.isSection)}},332034:(e,t,r)=>{"use strict";r.d(t,{Q:()=>R,e:()=>O});var n=r(411855),i=r(188507),a=r(374626),o=r(799569),l=r(946689),s=r(939863),c=r(931828),d=r(726864),u=r(226055),p=r(456104),m=r(988022),_=r(582947),h=r(29680),g=r(601607),f=r(397065),E=r(853079),y=r(746806),b=r(63666),v=r(502601),I=r(70964),T=r(936181),S=r(601538),w=r(463546),A=r(839662),C=r(304516);let N="dev_handoff_seen_marketing_overlay",O="dev_handoff_marketing_overlay_anchor_key",L=(0,_.r1)(N),R=n.memo(function(){let e=(0,h.aV)(),t=(0,i.d4)(e=>e.mirror.appModel.currentPage),r=(0,i.wA)(),d=(0,i.Pj)(),_=n.useRef(!0),y=(0,a.md)(L),b=(0,p.e)({overlay:w.Qqu,priority:f.N.DEFAULT_MODAL},[y]),R=(0,n.useCallback)(()=>{b.show({canShow:e=>!e,onShow:()=>{var e;r(c.b({[N]:!0})),(0,m.ds)("Dev Handoff Marketing Popup Shown",null==(e=d.getState().openFile)?void 0:e.key,d.getState())}})},[b,r,d]),k=(0,g.Fk)((e,t)=>{var r,n;return!!t&&!!(null==(n=null==(r=e.get(t))?void 0:r.childrenGuids)?void 0:n.length)},t);(0,n.useEffect)(()=>{e||(_.current&&k&&R(),_.current=!1)},[R,e,t,k]);let D=(0,E.U)("modal"),M=(0,n.useCallback)(()=>{b.complete(),D("handoff")},[b,D]),x=(0,n.useCallback)(()=>{var e;b.complete(),(0,m.ds)("Dev Handoff Marketing Popup Dismissed",null==(e=d.getState().openFile)?void 0:e.key,d.getState())},[b,d]),F=(0,u.GS)()?S.ON:O;return b.isShowing?n.createElement(v.Q,null,n.createElement(T.x,{target:F}),n.createElement(P,{target:F}),n.createElement("div",{className:A.yl},n.createElement("div",{className:A.jE},n.createElement("div",{className:A.wx},n.createElement("p",{className:A.TK},n.createElement(s.Tx,{id:"dev_handoff.onboarding.pointer_modal.title"})),n.createElement(o.Jn,{onClick:x,svg:C.A})),n.createElement(I.Gv,{src:"https://static.figma.com/uploads/f002267b1461462f42a75efcf6b5dd8d77e6ac32"}),n.createElement("div",{className:A.OQ},n.createElement("p",{className:A.h_},n.createElement(s.Tx,{id:"dev_handoff.onboarding.pointer_modal.description"})),n.createElement("div",{className:A.cQ},n.createElement(l.M7,{onClick:x,recordingKey:"dismissPersistentInspectModal"},n.createElement(s.Tx,{id:"dev_handoff.onboarding.pointer_modal.not_now_button"})),n.createElement(l.KL,{onClick:M,recordingKey:"switchToInspectModeFromPersistentModal"},n.createElement(s.Tx,{id:"dev_handoff.onboarding.pointer_modal.primary_button"}))))))):null});function P({target:e}){let t=(0,d.hX)(`[data-onboarding-key=${e}]`);if(!t)return null;let r=t.left+t.width/2,i=t.top+t.height;return n.createElement("div",{className:A.Wn,style:{left:r-8,top:i+8}},n.createElement(b.gm,{arrowPosition:y.F_.TOP,arrowOffset:0,modalColor:"var(--color-bg)"}))}},86538:(e,t,r)=>{"use strict";r.d(t,{HT:()=>s,RB:()=>c,hO:()=>o});var n=r(38580),i=r(288706),a=r(529928);let o=(0,n.eU)(void 0),l=(0,a.bt)(e=>e.universalInsertModal.initialFdView),s=(0,i.t_)(e=>{let t=e(l),r=e(o);return t||r||"recents_and_saved"}),c=(0,n.eU)(!1)},603689:(e,t,r)=>{"use strict";r.d(t,{Az:()=>b,XI:()=>_,gY:()=>h,lz:()=>g,qn:()=>I,rL:()=>E,sX:()=>y,xT:()=>v});var n=r(411855),i=r(91408),a=r(38580),o=r(374626),l=r(852800),s=r(617453),c=r(860168);let d=(0,i.jz)(c.QBm),u=300+d,p=640+d,m=320+d,_=(0,a.eU)(!1);function h(e){return Math.max(u,Math.min(p,e||0))}function g(){return h((0,s.UX)())}let f=m;function E(){let e=g(),t=(0,o.md)(_);return n.useEffect(()=>{t||(f=e)},[t]),t?f:e}function y(){var e;return h(null==(e=l.Ez5)?void 0:e.editorPreferences().devHandoffInspectSplitPosition.getCopy())}function b(){(0,s.UK)().devHandoffInspectSplitPosition.set(m)}function v(e){(0,s.UK)().devHandoffInspectSplitPosition.set(e)}function I(){let e=(0,s.UX)();(0,n.useEffect)(()=>{let t=h(e);t!==e&&v(t)},[e])}},785315:(e,t,r)=>{"use strict";r.d(t,{H:()=>c,_:()=>l});var n=r(38329),i=r(38580),a=r(988022),o=r(441088),l=(e=>(e.PRIMARY="primary",e.PLUGIN="plugin",e.PROPERTIES="properties",e.COMPONENT="component",e.DEV_RESOURCES="dev_resources",e.ASSETS="assets",e))(l||{});let s=(0,i.eU)("primary"),c=(0,i.eU)(e=>e(s),(e,t,r)=>{let i=e(s),l=r;if(!(0,o.T)())switch(r){case"properties":case"component":case"dev_resources":case"assets":l="primary"}if(i!==l){var c;c=l,(0,a.uE)("dev_handoff_right_panel_tab_switch",n.D.getState(),{sourceTab:i,destinationTab:c}),t(s,l)}})},870505:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});var n=r(91408),i=r(38580),a=r(860168);let o=(0,n.jz)(a.YI7),l=(0,n.jz)(a.Qhc),s=(0,i.eU)(o+l)},85304:(e,t,r)=>{"use strict";r.d(t,{W:()=>c,e:()=>d});var n=r(411855),i=r(38580),a=r(374626),o=r(30637),l=r(507956);let s=(0,i.eU)(!1);function c(e){let[t,r]=(0,a.fp)(s);(0,n.useEffect)(()=>{if((0,o.PN)())return;let t=setTimeout(()=>{r(!0)},e);return()=>{clearTimeout(t),r(!1)}},[e,r])}function d(){let e=(0,l.LS)(),[t]=(0,a.fp)(s);return t&&e}},911826:(e,t,r)=>{"use strict";r.d(t,{O:()=>d,P:()=>u});var n=r(188507),i=r(335682),a=r(694687),o=r(596607),l=r(643067),s=r(243987),c=r(984968);function d(){return(0,n.d4)(u)}function u(e){let t=(0,i.tB)(e),r=(0,o.xw)(e),n=(0,c.UQ)(e),d=e.teams[(0,c.ZT)(e)]||null,u=(0,s.w5)(d)&&!(null==d?void 0:d.org_id),p=(0,a.td)(e.currentUserOrgId,e.orgById);if(!t||null===t)return"unknown";if(t.parentOrgId){let e=(0,l.kA)(p)?"ent":"org";return r&&r.org_id===t.parentOrgId?e:"non_member_"+e}return u?n&&n.team_id===t.teamId?"pro":"non_member_pro":"starter"}},256975:(e,t,r)=>{"use strict";r.d(t,{Nc:()=>c,U4:()=>u,_I:()=>d,lF:()=>p,tn:()=>s});var n=r(188507),i=r(499737),a=r(335682),o=r(279453),l=r(479296);let s=(0,l.n)(e=>{let t=(0,a.tB)({openFile:e.openFile??null});return(null==t?void 0:t.canAccessFullDevMode)??!0}),c=(0,l.n)(e=>{let t=(0,a.tB)({openFile:e.openFile??null});return(null==t?void 0:t.canAccessDevModeEntryPoint)??!0});function d(){return(0,n.d4)(s)}function u(){return(0,n.d4)(c)}function p(e){(0,i.Rs)(o.ErZ,{key:e}),(0,i.Rs)(o.HdA,{key:e}),(0,i.Rs)(o.oBY,{key:e}),(0,i.Rs)(o.D2i,{key:e}),(0,i.Rs)(o.Fol,{key:e}),(0,i.Rs)(o.Xon,{key:e})}},17604:(e,t,r)=>{"use strict";r.d(t,{D:()=>o,o:()=>a});var n=r(188507),i=r(335682);let a=(0,r(479296).n)(e=>{let t=(0,i.tB)({openFile:e.openFile});return!!(null==t?void 0:t.parentOrgId)});function o(){return(0,n.d4)(a)}},400181:(e,t,r)=>{"use strict";r.d(t,{L:()=>X,O:()=>q});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(758271),s=r.n(l),c=r(776250),d=r(91408),u=r(966712),p=r(374626),m=r(268537),_=r(194400),h=r(574176),g=r(939863),f=r(118830),E=r(444736),y=r(239349),b=r(46415),v=r(738269),I=r(852800),T=r(662531),S=r(617453),w=r(372174),A=r(843495),C=r(335682),N=r(100197),O=r(147206),L=r(471224),R=r(793485),P=r(279702),k=r(498606),D=r(620722),M=r(788612),x=r(297281),F=r(924491),U=r(227795),B=r(538697),H=r(343827),V=r(146935),G=r(862473),W=r(139387),K=r(951864),Y=r(968109),j=r(313888);let z=4*(0,d.jz)(V.devHandoffAssetPreviewMaxWidth),$=4*(0,d.jz)(V.devHandoffAssetPreviewMaxHeight),Z=e=>e.stopPropagation(),q={format:e=>e},J=n.memo(({assetInfo:e,openFileKey:t,disabled:r,media:a,showGuids:l,saveAsState:s,dropdownShown:d,isSelected:p})=>{var _,S;let{assetId:w,assetName:C,thumbnailVersion:N}=e,O=(null==(_=e.instancesGUIDs)?void 0:_[0])??(null==(S=e.duplicateGUIDs)?void 0:S[0])??w,R=(0,f.O)({assetId:O,thumbnailVersion:N,width:z,height:$,scale:4}),M=function(e,t){var r;let{exportSettings:n}=(0,y.mJ)(e)??{exportSettings:null};return(null==(r=null==n?void 0:n[0])?void 0:r.imageType)??(t&P.PW.ASSET_ICON?"SVG":"PNG")}(w,e.type),V=(0,E.aT)(e),J=(0,i.wA)(),X=n.useCallback(async e=>{e.stopPropagation(),(0,c.sx)("Asset Panel Export Clicked"),await (0,L.Dc)(L.hV.Export,s,J,"export-assets-handoff",[O],"export-assets-handoff",{[O]:M}),J(b.rg()),J(v.oB())},[O,J,M,s]),Q=n.useCallback(e=>{a.length>0&&t?J(v.j7({type:"save-media-select",data:{assetId:O}})):X(e),e.stopPropagation()},[J,X,a,O,t]),ee=(0,H.d)(!1,void 0,O),et=n.useCallback(e=>{null==ee||ee(),e.stopPropagation()},[ee]),er=(null==e?void 0:e.instancesGUIDs)??(null==e?void 0:e.duplicateGUIDs)??[w],en=n.useCallback(e=>{T.l7.user("image-type-change",()=>{I.glU.setDevHandoffAssetExport(w,e)})},[w]),ei=!!(e.type&P.PW.ASSET_COMPONENT),ea=!!(e.type&P.PW.ASSET_ICON),eo=!!(e.type&P.PW.ASSET_IMAGE),el=!!(e.type&P.PW.ASSET_GIF),es=!!(e.type&P.PW.ASSET_VIDEO),ec=el||es,ed=(ea||eo)&&!ec,eu=a.length>0&&null!==t?U.DK:U.K0,ep=(0,u.kc)().ds_publish_file_deprecation?e.isFromLibrary:e.libraryKey,em=n.useMemo(()=>[n.createElement(F.N5,{key:"png",value:"PNG"}),n.createElement(F.N5,{key:"jpeg",value:"JPEG"}),...ea?[n.createElement(F.N5,{key:"svg",value:"SVG"})]:[],n.createElement(F.N5,{key:"pdf",value:"PDF"})],[ea]);return n.createElement("div",{className:G.s,onMouseEnter:()=>I.Ez5.canvasViewState().temporarilyHoveredNodes.set(er),onMouseLeave:()=>I.Ez5.canvasViewState().temporarilyHoveredNodes.set([]),onClick:()=>{var t;return A.tJ([(null==(t=null==e?void 0:e.instancesGUIDs)?void 0:t[0])??w])},role:"link",tabIndex:0},n.createElement("div",{className:o()(G.Re,(null==d?void 0:d.type)==="save-media-select"&&d.data.assetId===O?G.Lq:void 0)},n.createElement("div",{className:G.ZE,style:R.backgroundStyle},R&&n.createElement(D.J,{className:G.Wb,src:R.url})),n.createElement("div",{className:G.DE},n.createElement("div",{className:G.SM},l?`${C} (${w})`:C),ei&&!p?n.createElement("div",{className:G._w},n.createElement(h.B,{svg:Y.A}),n.createElement("div",{className:G.R5},n.createElement(g.Tx,{id:"dev_handoff.assets.instance"}))):n.createElement("div",{className:G.Rn},n.createElement(E.$R,{assetInfo:e,media:ed?a:[],dataTestId:"assetPanel",shouldShowTypeLabel:!0}))),n.createElement("div",{className:G.Uo},ed&&n.createElement(n.Fragment,null,n.createElement(F.SV,{id:`asset-image-type-${w}`,property:M,formatter:F.A3,onChange:en,dispatch:J,dropdownShown:d,onMouseDown:Z,dropdownWidth:150},em),n.createElement("div",{className:G.yL},n.createElement(eu,{svg:W.A,onClick:Q,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":r?(0,g.t)("fullscreen.properties_panel.export_disabled"):(0,g.t)("fullscreen.export.export"),disabled:r,className:G.x6}),(null==d?void 0:d.type)==="save-media-select"&&n.createElement(n.Fragment,null,n.createElement("div",{className:G.Vx}),n.createElement(m.W.Dropdown,{className:G.Yw},a.map(e=>n.createElement(m.W.OptionTracked,{onClick:e=>{e.stopPropagation(),J(v.oB())},href:(0,x.ij)(t,e.hash),target:"_blank",key:e.hash,className:G.cu},n.createElement("div",null,(0,g.t)("fullscreen.export.source")),n.createElement("div",{className:G.Mo},n.createElement(E.yP,{pxWidth:e.width,pxHeight:e.height,dataTestId:"assetPanel"})," \xb7 ",e.name))),n.createElement(m.W.OptionTracked,{key:"export",className:G.HL,onClick:X},n.createElement("div",null,(0,g.t)("fullscreen.export.layer_export")),n.createElement("div",{className:G.Mo},n.createElement(E.$R,{assetInfo:e,dataTestId:"assetPanel",hideDot:!0})," \xb7 ",F.A3.format(M))))))),ec&&n.createElement(n.Fragment,null,n.createElement(B.uQ,{property:el?"GIF":"MP4",formatter:q,isDisabled:!0}),n.createElement(U.K0,{svg:W.A,href:V??"",target:"_blank","data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.export.export"),disabled:!V,className:G.x6})),ei&&!p&&n.createElement(U.K0,{svg:ep?K.A:j.A,onClick:et,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":ep?(0,g.t)("dev_handoff.library.view"):(0,g.t)("design_systems.instance_panel.go_to_main_component"),className:G.x6}))))});function X(){let e=(0,i.d4)(e=>e.mirror.selectionProperties.assets),t=(0,i.d4)(e=>(0,C.sS)(e)),r=(0,C.q5)(),a=!!r&&(0,O.Pe)(r),o=(0,i.d4)(e=>e.saveAsState),l=(0,i.d4)(e=>e.dropdownShown),c=(0,N.J2)((0,S.UK)().showGuids),d=(0,i.d4)(e=>e.mirror.sceneGraphSelection),u=Object.values((0,p.md)(R.O)),m=n.useMemo(()=>{let e={};for(let t of u)if("video"!==t.type&&"gif"!==t.type&&t.guids)for(let r of t.guids)r in e||(e[r]=[]),e[r].push(t);return e},[u]),h=({type:e})=>e&P.PW.ASSET_ICON?1:e&P.PW.ASSET_COMPONENT?2:3,f=n.useMemo(()=>s()(Object.values(e||{}),"hash").map(t=>({...t,duplicateGUIDs:Object.values(e||{}).filter(e=>e.hash===t.hash).map(({assetId:e})=>e)})).sort((e,t)=>{let r=h(e),n=h(t);return r===n?e.assetName.localeCompare(t.assetName):r-n}),[e]),{visibleItems:E,showMoreButton:y}=(0,_.y)({items:f,getShowMoreLabel:e=>(0,g.t)("dev_handoff.assets.show_more",{count:e}),pageSize:4,shouldResetOnSelectionChange:!0});if(0===E.length)return null;let b=Object.keys(d);return n.createElement(M.VZ,{hideHeader:w.z4.getIsExtension(),title:(0,g.t)("dev_handoff.assets"),recordingKey:"assets"},E.map(e=>{let r=e.instancesGUIDs||[],i=b.some(e=>r.includes(e)),s=m[e.duplicateGUIDs[0]]??[];return n.createElement(J,{key:e.assetId,assetInfo:e,media:s,openFileKey:t,disabled:a,showGuids:c,saveAsState:o,dropdownShown:l,isSelected:i})}),y)}},746893:(e,t,r)=>{"use strict";r.d(t,{FO:()=>f,Rk:()=>_,ev:()=>g,xb:()=>h});var n=r(411855),i=r(188507),a=r(374626),o=r(378958),l=r(939863),s=r(785315),c=r(931828),d=r(507956),u=r(832637),p=r(812505),m=r(466641);let _="dev_handoff_dismissed_vscode_extension_hint",h="dev_handoff_dismissed_inspect_panel_plugins_hint";function g(){return(0,d.LS)()?null:n.createElement(u.u,{className:m.A0,idForTests:"hintVSCodeForFigma",userFlag:_,title:(0,l.t)("dev_handoff.vscode.hint.title"),iconComponent:n.createElement("div",{className:m.zc},n.createElement(p.M,null)),hintText:(0,l.t)("dev_handoff.vscode.hint"),hintLinkText:(0,l.t)("dev_handoff.vscode.hint.link"),hintLinkUrl:"https://marketplace.visualstudio.com/items?itemName=figma.figma-vscode-extension",hintLinkOnNewLine:!0})}function f(){let e=(0,d.LS)(),[t,r]=(0,a.fp)(s.H),p=(0,i.wA)(),_=n.useCallback(()=>{r(s._.PLUGIN),p(c.b({[h]:!0}))},[r,p]);return e?n.createElement(u.u,{className:m.A0,idForTests:"hintInspectPlugins",userFlag:h,title:(0,l.t)("dev_handoff.inspect_panel.plugins_hint.title"),hintText:n.createElement(n.Fragment,null,n.createElement("div",{className:m._e},n.createElement("img",{alt:"",className:m.Kk,src:"https://static.figma.com/uploads/aae0db2814117595e45cc509d52e79e7cc31333c"}),n.createElement("div",{className:m.Kk},n.createElement(o.f,null)),n.createElement("img",{alt:"",className:m.Kk,src:"https://static.figma.com/uploads/ae3807b6d650b52da20879078b85a0df23ee056a"})),n.createElement(l.Tx,{id:"dev_handoff.inspect_panel.plugins_hint"})),hintLinkText:(0,l.t)("dev_handoff.inspect_panel.plugins_hint.link"),hintLinkOnClick:_,hintLinkOnNewLine:!0}):null}},118830:(e,t,r)=>{"use strict";r.d(t,{K:()=>s,O:()=>c});var n=r(411855),i=r(275725),a=r(852800),o=r(15859);let l={};function s(){var e;for(let t of Object.getOwnPropertyNames(l)){let r=null==(e=l[t])?void 0:e.url;r&&URL.revokeObjectURL(r),delete l[t]}}function c({assetId:e,thumbnailVersion:t,width:r,height:s,scale:c}){var d;let u=function({assetId:e,width:t,height:r,scale:n}){return`${e}-${t}x${r}@${n}x`}({assetId:e,width:r,height:s,scale:c}),[p,m]=n.useState(null==(d=l[u])?void 0:d.url),_=(0,i.c6)(e);return(n.useEffect(()=>{let n=async()=>{var n;await (0,o.Jr)().loadAllImagesUnder([e],a.MoD.NON_ANIMATED_ONLY,"handoff.assetPreview");let[i,d]=a.Vzr.generateThumbnailForNode(e,r,s,c,{});if(d.length>0){let e=null==(n=null==l?void 0:l[u])?void 0:n.url;e&&URL.revokeObjectURL(e);let r=URL.createObjectURL(new Blob([d]));l[u]={url:r,version:t,error:null},m(r)}},i=!!(null==l?void 0:l[u]),d=i&&l[u].version!==t,p=i&&!!l[u].error;i&&(!d||p)||n().catch(e=>{l[u]={error:e},console.error(e)})},[e,s,c,r,u,t]),p)?{url:p,backgroundStyle:_}:{backgroundStyle:_}}},444736:(e,t,r)=>{"use strict";r.d(t,{$R:()=>f,B7:()=>E,aI:()=>b,aT:()=>y,fk:()=>v,yP:()=>g});var n=r(411855),i=r(188507),a=r(939863),o=r(393812),l=r(945099),s=r(92597),c=r(852800),d=r(618056),u=r(29680),p=r(335682),m=r(279702),_=r(297281),h=r(239349);function g({pxWidth:e,pxHeight:t,dataTestId:r}){let{unit:i}=(0,s.gc)(),a=(0,l.sQ)()&&i===c.tKW.SCALED,o=e=>(e??0).toLocaleString("en",{maximumFractionDigits:2}),d=o(e),u=o(t),p=n.createElement("span",{"data-testid":`${r}Width`},d),m=n.createElement("span",{"data-testid":`${r}Height`},u);return n.createElement(n.Fragment,null,p,"\u2009x\u2009",m,n.createElement("span",{"data-testid":`${r}Unit`},a?" (px)":""))}function f({assetInfo:e,media:t,dataTestId:r,shouldShowTypeLabel:i,hideDot:a}){var o,l,s;let c=(0,h.mJ)((null==(o=e.instancesGUIDs)?void 0:o[0])??e.assetId),d=(null==(l=null==c?void 0:c.size)?void 0:l.x)??0,u=(null==(s=null==c?void 0:c.size)?void 0:s.y)??0;if(t&&t.length>0){let e=t[0];d=e.width,u=e.height}return n.createElement(E,{assetType:e.type,pxWidth:d,pxHeight:u,dataTestId:r,hideDot:a,shouldShowTypeLabel:i})}function E({assetType:e,pxWidth:t,pxHeight:r,dataTestId:i,hideDot:o,shouldShowTypeLabel:l}){let s=e&m.PW.ASSET_VIDEO?(0,a.t)("dev_handoff.assets.video"):e&m.PW.ASSET_GIF?(0,a.t)("dev_handoff.assets.gif"):e&m.PW.ASSET_IMAGE?(0,a.t)("dev_handoff.assets.image"):e&m.PW.ASSET_ICON?(0,a.t)("dev_handoff.assets.icon"):e&m.PW.ASSET_COMPONENT?(0,a.t)("dev_handoff.assets.instance"):void 0;return n.createElement("span",null,l&&s,!o&&n.createElement(n.Fragment,null,"\xa0","\xb7 "),n.createElement(g,{pxWidth:t,pxHeight:r,dataTestId:i}))}function y(e){var t;let r=(0,i.d4)(p.sS),a=(0,u.eY)(),[o,l]=n.useState(null);if(o)return o;if(!(e.type&(m.PW.ASSET_GIF|m.PW.ASSET_VIDEO)))return null;let s=a.get(e.assetId);if(!s)return null;let c=null==(t=(0,d.N9)(null==s?void 0:s.fills))?void 0:t.filter(e=>e.opacity>0&&e.visible);if(!c)return null;for(let e of c)if(e.animatedImage||e.video){if(!r)return null;(0,_.tW)({paint:e,fileKey:r}).then(e=>{l(e)});break}return o}function b(e){let t=(0,h.uQ)(),r=e??t;return r?(0,o.ZC)(r):m.PW.NOT_ASSET}function v(e){return e&(m.PW.ASSET_ICON|m.PW.ASSET_IMAGE|m.PW.ASSET_GIF|m.PW.ASSET_VIDEO)}},275725:(e,t,r)=>{"use strict";r.d(t,{CU:()=>T,IO:()=>y,c6:()=>b});var n=r(411855),i=r(188507),a=r(568214),o=r(966712),l=r(444736),s=r(239349),c=r(168039),d=r(852800),u=r(341860),p=r(416095),m=r(284321),_=r(49116),h=r(173454),g=r(279702),f=r(32067);let E=e=>e.visible&&!(0,a.ty)(e.color);function y(e){let t=n.useMemo(()=>new u.qo,[]),r=function(e){let t=(0,f.jY)(),r=(0,i.d4)(m.FZ),n=(0,i.d4)(_.c5);return(0,p.NY)(e,t,r,n)}(e),y=(0,c.DP)(),b=(0,l.aI)(e);return n.useMemo(()=>{var n;let i=(null==(n=null==r?void 0:r.containing_frame)?void 0:n.backgroundColor)??"";(null==r?void 0:r.type)===h.PW.STATE_GROUP&&r.fill_color&&(i=r.fill_color);let l=y&&("light"===y||"dark"===y)?y:"dark",c="light"===l?"dark":"light";if(!e)return i&&!(0,a.ty)(i)?(0,a.HD)(i)?"dark":"light":l;if((0,o.kc)().dt_component_bg_improvements){let t=d.w3z.getApproximateNodeColor(e);if(t)return(0,a.BU)(t,l)?c:l}if(i&&!(0,a.ty)(i))return(0,a.HD)(i)?"dark":"light";let u=function e(t,r,n){let i=(0,s.Zl)(t,r);if(!i)return;let o=[];if(i.visible){if(n){o.push(...i.strokePaints.data);let e=i.fillPaints.data.filter(E);if(e.length)return(0,a.AW)(e)}else{let e=[...i.fillPaints.data,...i.strokePaints.data].filter(E);if(e.length)return(0,a.AW)(e)}}for(let r of i.childrenGuids){let i=e(t,r,n);if(i)return i}if(n)return(0,a.AW)(o)}(t,e,!(b&g.PW.ASSET_ICON));return u&&(0,a.BU)(u,y)?c:l},[b,e,r,t,y])}function b(e){return T(y(e))}let v={background:"#383838"},I={background:"#f5f5f5"};function T(e){return"dark"===e?v:I}},498318:(e,t,r)=>{"use strict";r.d(t,{Bv:()=>N,XX:()=>R,iX:()=>L,t7:()=>C,wS:()=>A,x9:()=>O});var n=r(411855),i=r(188507),a=r(752553),o=r(515009),l=r(987918),s=r(939863),c=r(44892),d=r(852800),u=r(848661),p=r(341860),m=r(29680),_=r(335682),h=r(691205),g=r(656012),f=r(273226),E=r(510879),y=r(107244),b=r(958317),v=r(835808),I=r(731262),T=r(239349);let S=h.M4.Query({fetch:async({componentKey:e})=>{try{let t=await g.Z.getLibraryComponentV2Destination({componentKey:e});if(!t||!t.data||!t.data.meta)return null;return{nodeId:t.data.meta.node_id,fileKey:t.data.meta.file_key,component:t.data.meta.component,componentSet:t.data.meta.component_set}}catch(e){return null}},enabled:e=>e.enabled}),w=h.M4.Query({fetch:async({statusResult:e})=>{if(!e||!e.componentKey||!e.canvasUrl)return{};let t=e.isVariant?e.dataStateGroupId:e.dataComponentId,r=e.dataStateGroupId??null,n=e.dataStorageKey,i=await c.Eo.getCanvas({canvas_url:e.canvasUrl});if(!i)return{};let a=d.glU.loadDetachedComponent(t??"",n,i,r);return a?{result:{...e,dataLocation:"temp-scene",dataComponentId:a}}:{}},enabled:e=>e.enabled});function A(){let e=(0,T.VW)(),t=(0,i.d4)(_.sS),r=!((null==e?void 0:e.type)==="SYMBOL"||(null==e?void 0:e.type)==="INSTANCE")&&(null==e?void 0:e.detachedInfo)||void 0,s=!!r,c=!!(null==r?void 0:r.componentKey),u=c?{componentKey:(0,o.sg)(r.componentKey),enabled:!0}:{componentKey:(0,o.sg)(""),enabled:!1},[p]=(0,a.IT)(S(u)),m=null==p?void 0:p.data,h=s&&c&&"loaded"===p.status&&m&&m.component,g=(null==m?void 0:m.nodeId)??l.AD,f=(null==m?void 0:m.fileKey)??"",E=f!==t,y=null==m?void 0:m.component,b=null==m?void 0:m.componentSet,v=(null==y?void 0:y.component_key)??(null==r?void 0:r.componentKey)??"",I=(null==b?void 0:b.key)??v??"",A=!!(null==r?void 0:r.isVariant)||!!(null==m?void 0:m.componentSet),C=E?d.w3z.getGuidByComponentKey(I,v):{nodeId:null==m?void 0:m.nodeId,parentId:b?b.node_id??l.AD:l.AD,inDetachedComponentsScene:!1},N=h&&E&&(null==C?void 0:C.nodeId)===l.AD,O={nodeId:g,fileKey:f,componentKey:v,isVariant:A,isExternal:E,thumbnailUrl:null==y?void 0:y.thumbnail_url,descriptionComponent:(null==y?void 0:y.description_rt)??(null==y?void 0:y.description),descriptionStateGroup:(null==b?void 0:b.description_rt)??(null==b?void 0:b.description),dataLocation:N||(null==C?void 0:C.inDetachedComponentsScene)?"temp-scene":"scene",dataComponentId:N?(null==y?void 0:y.node_id)??"":C.nodeId??"",dataStateGroupId:N?null==b?void 0:b.node_id:C.parentId,dataStorageKey:I,canvasUrl:A?null==b?void 0:b.canvas_url:null==y?void 0:y.canvas_url},L=N&&O&&O.canvasUrl?{statusResult:O,enabled:!0}:{enabled:!1},[R]=(0,a.IT)(w(L));return n.useMemo(()=>s?c?"errors"===p.status||N&&"errors"===R.status?{status:"errors"}:h?{status:N?"downloading":"loaded",result:O}:"loaded"!==p.status||m&&m.component?{status:"loading"}:{status:"disabled"}:{status:"loaded",result:{nodeId:r.symbolId,fileKey:t||"",isVariant:A,dataLocation:"scene",dataComponentId:r.symbolId,dataStorageKey:"",isExternal:!1,componentKey:r.componentKey}}:{status:"disabled"},[s,null==r?void 0:r.symbolId,null==r?void 0:r.componentKey,A,t,c,p.status,N,R.status,m,h])}function C(e,t){if("loaded"!==e.status||!e.result.dataComponentId)return{detachedCompPropsDefs:[],detachedVariantProps:[]};let r=e.result.dataComponentId,n=e.result.dataStateGroupId&&"temp-scene"===e.result.dataLocation?e.result.dataStateGroupId:(0,f.Yi)([r],t)??(0,y.nM)(t,[r]),i=e.result.dataComponentId?d.glU.getComponentPropsForDetachedComponent(e.result.dataStorageKey,e.result.componentKey??"",e.result.dataComponentId):void 0;if(!i)return{detachedCompPropsDefs:[],detachedVariantProps:[]};let a=(0,f.aO)(r,i);return n?{detachedCompPropsDefs:[...(0,b.Jm)(n,i),...a],detachedVariantProps:function(e,t,r){var n;if(!r)return[];let i=null==(n=r[t])?void 0:n.stateGroupVariantProps;if(!i)return[];let a=(0,E.s)(r,[e],i.propertySortOrder);return(i.propertySortOrder||[]).map(e=>{let t=a[e]||I.xJ;return(0,u.gl)(t)?{name:e,value:(0,s.t)("inspect_panel.property.mixed"),type:d.J0O.VARIANT}:{name:e,value:t,type:d.J0O.VARIANT}})}(r,n,i)}:{detachedCompPropsDefs:a,detachedVariantProps:[]}}function N(e,t){let r=A(),n=(0,m.eY)();if("loaded"===r.status){let e="temp-scene"===r.result.dataLocation,t=r.result.dataComponentId??"",i=e?r.result.dataStateGroupId:(0,f.Yi)([t],n)??(0,y.nM)(n,[t]),a=e?O(t):n.get(t);return r.result.isVariant&&i?{backingSymbol:a,backingStateGroup:e?O(i):n.get(i)}:{backingSymbol:a,backingStateGroup:null}}return{backingSymbol:e,backingStateGroup:t}}function O(e){return new p.qo(p.ju.DETACHED).get(e)}function L(e,t){let r=A();return{backingSymbolDescription:("loaded"===r.status&&r.result.isExternal&&r.result.descriptionComponent?r.result.descriptionComponent:void 0)??e,parentDescription:("loaded"===r.status&&r.result.isExternal&&r.result.descriptionStateGroup?r.result.descriptionStateGroup:void 0)??t}}function R(){let e=(0,m.eY)(),t=A(),[r,n]=(0,v.mD)();if("loaded"===t.status){let r=t.result.dataComponentId,n=t.result.dataStateGroupId;return"temp-scene"===t.result.dataLocation?[O(r),n?O(n):null]:[e.get(r),n?e.get(n):null]}return[r,n]}},413145:(e,t,r)=>{"use strict";function n(e){return null!=e}r.d(t,{t:()=>n})},343827:(e,t,r)=>{"use strict";r.d(t,{d:()=>p});var n=r(188507),i=r(507877),a=r(852800),o=r(335682),l=r(416095),s=r(754369),c=r(498318),d=r(239349),u=r(843245);function p(e=!1,t,r){let p=(0,d.uQ)(),{singleBackingSymbol:m,singleBackingStateGroup:_}=(0,s.$)([r??p??""]),{backingSymbol:h,backingStateGroup:g}=(0,c.Bv)(m,_),f=(0,c.wS)(),E=(0,u.M4)(),y=(0,n.d4)(o.sS),b=(0,n.wA)(),v="loaded"===f.status?f.result:void 0,I=(0,l.yW)(h),T=v&&v.isExternal?v.fileKey:I&&I!==y?I:y,S=null==E?void 0:E.guid,w=T!==y,A=e&&g?g:h,C=v?v.nodeId:w?null==A?void 0:A.publishID:null==A?void 0:A.guid,N=!!p&&S!==C;return C&&N&&T?()=>{if(t&&t(),w){let e=(0,l.xl)(T,C);b(i.V3({url:e}))}else a.glU.goToSymbolOrStateGroupById(C,!0)}:null}},239349:(e,t,r)=>{"use strict";r.d(t,{NM:()=>c,RJ:()=>a,Tv:()=>l,VW:()=>s,Zl:()=>u,mJ:()=>d,uQ:()=>o});var n=r(188507),i=r(32067);function a(e){let t=Object.keys(e);return 1!==t.length?null:t[0]||null}function o(){return(0,n.d4)(e=>a(e.mirror.sceneGraphSelection))}function l(){return(0,n.d4)(e=>Object.keys(e.mirror.sceneGraphSelection))}function s(){let e=o();return u((0,i.jY)(),e)}function c(){return(0,n.d4)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection);return t.length>1?t:null})}function d(e){return u((0,i.jY)(),e)}function u(e,t){return t?e.get(t):null}},843245:(e,t,r)=>{"use strict";r.d(t,{M4:()=>d,Nf:()=>u,lA:()=>c,ro:()=>p});var n=r(188507);r(852800);var i=r(29680);r(335682),r(416095),r(49116);var a=r(234945),o=r(32067),l=r(498318),s=r(239349);function c(){let e=(0,o.jY)(),t=(0,l.wS)(),r=(0,n.d4)(e=>e.mirror.selectionProperties.symbolGUIDsBackingSelectionContainer),i=(0,n.d4)(e=>e.mirror.selectionProperties.numSelected);if("loaded"===t.status&&t.result.dataComponentId)return"temp-scene"===t.result.dataLocation&&t.result.componentKey?(0,l.x9)(t.result.dataComponentId):(0,s.Zl)(e,t.result.dataComponentId);if(1!==i||!r)return null;let a=Object.keys(r)[0];return(0,s.Zl)(e,a)}function d(){let e=(0,o.jY)(),t=(0,l.wS)();return function e(t,r,n){let i=(0,s.Zl)(t,r);return i?"SYMBOL"===i.type||"INSTANCE"===i.type||i.isStateGroup||i.detachedInfo?i:i.parentGuid?e(t,i.parentGuid):null:null}(e,(0,n.d4)(a.$J),t)}function u(){let e=(0,s.VW)(),t=(0,n.d4)(e=>e.mirror.appModel.currentPage),r=(0,i.eY)();return(null==e?void 0:e.guid)?r.developerFriendlyIdFromGuid(null==e?void 0:e.guid):t}function p(){let e=(0,s.VW)(),t=(0,l.wS)(),r=t&&("loaded"===t.status||"loading"===t.status||"downloading"===t.status);return(null==e?void 0:e.type)==="SYMBOL"||(null==e?void 0:e.type)==="INSTANCE"||(null==e?void 0:e.isStateGroup)||r}},470669:(e,t,r)=>{"use strict";r.d(t,{NH:()=>I,V0:()=>v,ls:()=>T});var n=r(411855),i=r(109388),a=r(188507),o=r(939863),l=r(308977),s=r(979385),c=r(256975),d=r(544818),u=r(225266),p=r(738269),m=r(318812),_=r(694687),h=r(376485),g=r(498606),f=r(978527),E=r(206074),y=r(538697),b=r(863193);function v({codeLanguage:e,onChange:t,shouldHideLanguagesWithNoAltUnitSupport:r,onlyShowFirstPartyLanguages:n,showAddInsteadOfBrowse:i,addCodegenPluginCallback:o,currentSavedCodeLanguage:s}){let c=(0,l.AC)(e),u=(0,l.Pt)(c),p=(0,_.sZ)(),m=(0,a.d4)(e=>e.whitelistedPlugins),g=(0,h.ow)(c,m,p)?e:{type:"first-party",id:"WEB"},f=(0,d.Z)({codeLanguage:g,onChange:t,shouldHideLanguagesWithNoAltUnitSupport:r,onlyShowFirstPartyLanguages:n,formatter:u,showAddInsteadOfBrowse:i,addCodegenPluginCallback:o,currentSavedCodeLanguage:s});return{codeLanguage:g,onCodeLanguageChange:t,codeLanguageOptions:f,activeCodegenPlugin:c,formatter:u}}function I({onlyShowFirstPartyLanguages:e,shouldHideLanguagesWithNoAltUnitSupport:t,dropdownId:r,onDropdownHidden:i,disabled:a}){let o=v({onlyShowFirstPartyLanguages:e,codeLanguage:(0,l.v4)(),onChange:(0,s.gB)(),shouldHideLanguagesWithNoAltUnitSupport:t});return n.createElement(T,{dropdownId:r,onDropdownHidden:i,disabled:a,codeLanguageApi:o})}function T({dropdownId:e,disabled:t,codeLanguageApi:r,onDropdownHidden:l,parentElementId:s}){let d=(0,c._I)(),{codeLanguage:_,activeCodegenPlugin:h,formatter:v,codeLanguageOptions:I}=r,T=h&&"first-party"!==_.type?n.createElement(f.d,{plugin:h}):null,S=(0,a.wA)();n.useEffect(()=>S(u.aq()),[S]);let w=(0,m.U)(),A=n.useRef(null),C=(null==w?void 0:w.type)===e;return n.createElement("div",{className:b.aD,"data-tooltip":(0,o.t)("dev_handoff.code.language"),"data-tooltip-type":g.Ib.TEXT,"data-tooltip-show-above":!0},n.createElement("div",{className:b.lj},n.createElement(y.uQ,{formatter:v,property:_,icon:T,onClick:()=>{C?S(p.oB()):d&&S(p.j7({type:e}))},inputClassName:b.UD,ref:A,dataTestId:"code_language_dropdown",isDisabled:t})),C&&!t&&A.current&&(0,i.createPortal)(n.createElement("div",{className:b.aD},n.createElement(E.j,{items:I,onSelectItem:e=>{e.callback&&e.callback("",null,S)},dispatch:S,parentRect:A.current.getBoundingClientRect(),showPoint:!1,lean:"right",leanPadding:8,alwaysShowCheckMarkOffset:!0,onDropdownHidden:l,activatePathOnMount:"local-plugin"!==_.type?[v.format(_)]:[I[0].displayText]})),document.getElementById(s||"dev-handoff-inspect-panel")))}},370934:(e,t,r)=>{"use strict";r.d(t,{$n:()=>p,D8:()=>g,GL:()=>u,K6:()=>_,ZA:()=>h,dW:()=>E,n_:()=>f,zZ:()=>m,zq:()=>c});var n=r(38329),i=r(308977),a=r(852800),o=r(843495),l=r(376485),s=r(638311);let c=[a.tKW.PIXEL,a.tKW.SCALED],d=[i.MT];function u(e){return(0,l.ZQ)(e)?`${e.localFileId}`:`${e.plugin_id}`}function p(e,t){let r=(0,l.ZQ)(e)?"local-plugin":"published-plugin",i=u(e);if(t)return{type:r,id:i,pluginLanguage:t.value};let a=n.D.getState().mirror.appModel.devHandoffCodeLanguage,o=(0,s.m)(e).map(({value:e})=>e);return a.id===i&&"first-party"!==a.type&&o.includes(a.pluginLanguage)?a:{type:r,id:i,pluginLanguage:o[0]??""}}function m(e,t){var r;return e?((null==(r=e.manifest)?void 0:r.codegenPreferences)??[]).filter(e=>{var r;return!(null==t?void 0:t.value)||!("includedLanguages"in e)||(null==(r=e.includedLanguages)?void 0:r.includes(t.value))}):[]}function _(e,t){return m(e,t).find(l.MP)??null}function h(e,t){if(!e)return!1;if("first-party"===e.type)return!d.includes(e.id);if(!t)return!1;let r=(0,s.X)(t,e.pluginLanguage);return!!_(t,r)}function g(e,t,r){var n;let i={...e,codeExtensionPreferences:{...e.codeExtensionPreferences,[t.id]:{...(null==(n=e.codeExtensionPreferences)?void 0:n[t.id])||{},...r}}};o.aB(i)}function f(e,t){var r;let i=u(e),o=n.D.getState().mirror.appModel.devHandoffPreferences.codeExtensionPreferences[i]??{},s={},c=_(e,t),d=!1,p=!1;"unit"in o&&"scaleFactor"in o||(s.unit=(null==c?void 0:c.default)?a.tKW.SCALED:a.tKW.PIXEL,s.scaleFactor=(null==c?void 0:c.defaultScaleFactor)?c.defaultScaleFactor:1,d=!0,p=!0),t||c||o.unit!==a.tKW.SCALED||(s.unit=a.tKW.PIXEL,s.scaleFactor=1,d=!0,p=!0),d||!t||o.unit!==a.tKW.SCALED||c||(s.unit=c?a.tKW.SCALED:a.tKW.PIXEL,d=!0);let h=!1,g=m(e,t).filter(l.ZV),f=o.customSettings??{},E={};for(let e of g){let t=f[e.propertyName];if(t&&e.options.some(e=>e.value===t)){E[e.propertyName]=t;continue}E[e.propertyName]=(null==(r=e.options.find(e=>e.isDefault))?void 0:r.value)??e.options[0].value,h=!0}(h||Object.keys(f).length!==Object.keys(E).length)&&(s.customSettings=E);let y={...o,...s};return{shouldUpdateCustomSettings:!!s.customSettings,shouldUpdateScaleFactor:p,shouldUpdateAltUnit:d,preferences:{...y,scaleFactor:y.unit===a.tKW.PIXEL?1:y.scaleFactor}}}function E(e,t){let r=null,{shouldUpdateCustomSettings:i,shouldUpdateAltUnit:a,shouldUpdateScaleFactor:o,preferences:l}=f(e,null);t&&({shouldUpdateAltUnit:a,preferences:r}=f(e,t),a&&(l.unit=r.unit));let s={};return i&&(s.customSettings=l.customSettings),o&&(s.scaleFactor=l.scaleFactor),a&&(s.unit=l.unit),Object.keys(s).length>0&&g(n.D.getState().mirror.appModel.devHandoffPreferences,p(e),s),r??l}},945099:(e,t,r)=>{"use strict";r.d(t,{$h:()=>s,Ar:()=>d,a9:()=>l,hq:()=>o,sQ:()=>c});var n=r(374626),i=r(939863),a=r(594901);let o=(0,n.E3)("dev-mode-code-or-properties","code"),l=new class{format(e){switch(e){case"code":return(0,i.t)("inspect_panel.code.code");case"properties":return(0,i.t)("fullscreen.properties_panel.properties")}}};function s(){return(0,n.fp)(o)}function c(){return"code"===(0,n.md)(o)}function d(){return(0,a.AF)()?["code","properties"]:["properties"]}},909999:(e,t,r)=>{"use strict";r.d(t,{LO:()=>S,Rg:()=>T,j6:()=>w});var n=r(411855),i=r(188507),a=r(368832),o=r(271779),l=r(939863),s=r(865618),c=r(308977),d=r(470669),u=r(92597),p=r(662275),m=r(973149),_=r(318812),h=r(237870),g=r(205135),f=r(538697),E=r(585878),y=r(162419);let b=new m.KD({min:.1}),v=[3,2,1,.5,1/3],I=new class{parse(e){return"1/3"===e?3:"1/2"===e?2:"2"===e||"3"===e?1/Number.parseInt(e):1}format(e=1){return"0.3"===e.toFixed(1)?"3":"0.5"===e.toFixed(1)?"2":2===e||3===e?`1/${e}`:(0,l.t)("dev_handoff.alternative_units.no_scale")}};function T({scaleFactor:e,onChange:t,onDropdownHidden:r,className:a,inputClassName:o}){let l=(0,i.wA)(),s=(0,_.U)();return n.createElement(f.l6,{dispatch:l,property:e,id:"SCALE_FACTOR",onChange:t,formatter:I,dropdownShown:s,className:a,inputClassName:o,dropdownWidth:"auto",autoFocus:!0,onDropdownHidden:r},v.map(t=>n.createElement(f.c$,{key:t,value:t,selected:t===e,fullWidth:!0})))}function S({codeLanguage:e}){let t=(0,u.$s)(e);switch(e.id){case c.p:case c.Ap:return n.createElement(l.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_ios"});case c.LK:case c.NU:return n.createElement(l.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_android"});case c.uz:return n.createElement(l.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_web"})}return n.createElement(l.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_third_party",unitName:t})}let w=(0,h.Ju)(function(){var e;let t=(0,c.v4)(),[r,m]=n.useState(t),_=(0,u.aq)(r),h=(0,u.gc)(r.id),f=(0,u.Bs)(),v=n.useRef(null),I=(0,i.wA)(),w=n.useCallback(e=>{e&&f(r,_,{scaleFactor:e})},[r,f,_]),A="first-party"===r.type&&(r.id===c.LK||r.id===c.NU||r.id===c.p||r.id===c.Ap),C="first-party"===r.type&&(r.id===c.uz||r.id===c.A0),N=(0,a.A)(()=>{var e;C&&f(r,_,{customSettings:{onlyText:"true"===((null==(e=h.customSettings)?void 0:e.onlyText)||"false")?"false":"true"}})},250),O=n.useCallback(()=>{var e;null==(e=v.current)||e.focus()},[]),L=(null==h?void 0:h.scaleFactor)??1,R=(0,d.V0)({onChange:m,codeLanguage:r,shouldHideLanguagesWithNoAltUnitSupport:!0});return n.createElement(E.XV,{title:(0,l.t)("dev_handoff.alternative_units.unit_settings_modal_title"),headerSize:"small",headerClassName:y.Hc,onClose:()=>I((0,p.AS)()),closeOnEsc:!0,closeOnEnter:!0,customButton:n.createElement(d.ls,{dropdownId:"DEV_HANDOFF_MODAL_CODE_LANGUAGE_DROPDOWN",onDropdownHidden:O,codeLanguageApi:R}),minWidth:340,maxWidth:340},n.createElement(o.i,{displayAs:o.C.Block},n.createElement("div",{className:y.jE,tabIndex:-1,ref:v,"data-testid":"scale-factor-modal-content"},A?n.createElement("div",{className:y.iF},n.createElement(T,{scaleFactor:L,onChange:w,onDropdownHidden:O,className:y.j8}),n.createElement("div",{className:y.rc})):n.createElement("div",{className:y.hq},n.createElement(g.Q7,{className:y.IC,property:L,formatter:b,onChange:w,onBlur:O,autoFocus:!0})),n.createElement("div",{className:y.A3},n.createElement(S,{codeLanguage:r})),C&&n.createElement(s.S,{checked:(null==(e=h.customSettings)?void 0:e.onlyText)==="true",label:n.createElement(l.Tx,{id:"dev_handoff.alternative_units.only_apply_rem_on_text",rem:n.createElement("span",{className:y.D0},n.createElement(l.Tx,{id:"dev_handoff.alternative_units.rem_unit"}))}),onChange:N}))))},"SCALE_FACTOR_MODAL")},92597:(e,t,r)=>{"use strict";r.d(t,{$s:()=>L,Bs:()=>v,Em:()=>N,Ke:()=>x,QO:()=>w,RH:()=>I,SF:()=>M,YE:()=>F,aq:()=>C,b1:()=>R,fb:()=>T,gc:()=>y,ie:()=>D,lX:()=>b,qM:()=>A,wA:()=>k,wQ:()=>P});var n=r(411855),i=r(188507),a=r(212046),o=r.n(a),l=r(38329),s=r(939683),c=r(939863),d=r(308977),u=r(370934),p=r(756085),m=r(852800),_=r(372174),h=r(960628),g=r(376485),f=r(638311);let E={scaledWeb:"rem",scaledIOS:"pt",scaledAndroid:"dp",pixel:"px"};function y(e){let t=(0,d.v4)().id,r=(0,i.d4)(e=>e.mirror.appModel.devHandoffPreferences),a=e??t;return(0,n.useMemo)(()=>{var e;return(null==(e=r.codeExtensionPreferences)?void 0:e[a])??{}},[r,a])}function b(){var e,t,r,n,i;let a=null==(t=null==(e=l.D.getState())?void 0:e.mirror)?void 0:t.appModel,o=(null==(r=null==a?void 0:a.devHandoffCodeLanguage)?void 0:r.id)??"";return(null==(i=null==(n=null==a?void 0:a.devHandoffPreferences)?void 0:n.codeExtensionPreferences)?void 0:i[o])??{}}function v(){let e=(0,i.d4)(e=>e.mirror.appModel.devHandoffPreferences),t=(0,s.U)();return(0,n.useCallback)((r,n,i)=>{let{customSettings:a,...l}=i;o()(l)||(void 0!==l.unit&&(l.unit=l.unit===m.tKW.PIXEL?E.pixel:O(r,n)),t("Dev Mode Preference Changed",{languageType:r.type,languageId:r.id,...l})),(0,u.D8)(e,r,i)},[e,t])}function I(e){var t;let r=(0,d.v4)(),n=e??r,i=(null==(t=y(n.id))?void 0:t.unit)??m.tKW.PIXEL;return"first-party"===n.type&&n.id===d.MT?m.tKW.PIXEL:i}function T(e){let t=(0,d.v4)(),r=e??t,{unit:n=m.tKW.PIXEL,scaleFactor:i=1}=y(r.id);return"first-party"===r.type&&r.id===d.MT?1:n===m.tKW.SCALED?i:1}let S=({codeLanguage:e,preferences:t,options:r={}})=>{var n;return!!_.z4.shouldAvoidScaling()||"first-party"===e.type&&(e.id===d.uz||e.id===d.A0)&&(null==(n=t.customSettings)?void 0:n.onlyText)==="true"&&!(null==r?void 0:r.isTextProperty)};function w(e,t,r=e=>e,n){let i=(0,d.v4)(),a=e??i,o=T(a),l=y(a.id);return void 0===t?void 0:r(1===o||0===o||S({codeLanguage:a,preferences:l,options:n})?t:t/o)}function A(e,t,r,n){let i=(0,d.v4)(),a=e??i,o=w(a,t,r,n),l=D(a),s=y(a.id);return void 0===o?void 0:S({codeLanguage:a,preferences:s,options:n})?`${o}${E.pixel}`:`${o}${l}`}function C(e){let{id:t,type:r}=e;return(0,p.S0)(t,{searchLocalPlugins:"local-plugin"===r,searchSavedPlugins:"published-plugin"===r,searchPublishedPlugins:"published-plugin"===r,searchRecentPlugins:"published-plugin"===r})}function N(e){let t=(0,d.v4)(),r=C(e??t);return(0,u.ZA)(e??t,r)}function O(e,t){let{id:r,type:n,pluginLanguage:i}=e;if("first-party"!==n&&t){let e=(0,f.X)(t,i),r=(0,u.K6)(t,e);if(r)return r.scaledUnit}switch(r){case d.uz:return E.scaledWeb;case d.p:case d.Ap:return E.scaledIOS;case d.LK:case d.NU:return E.scaledAndroid;default:return E.scaledWeb}}function L(e){let t=C(e);return O(e,t)}function R(e){switch(e){case d.uz:return(0,c.t)("dev_handoff.alternative_units.rem_unit");case d.LK:case d.NU:return(0,c.t)("dev_handoff.alternative_units.dp_unit");case d.p:case d.Ap:return(0,c.t)("dev_handoff.alternative_units.pt_unit");default:return(0,c.t)("dev_handoff.alternative_units.rem_unit")}}function P(e){let t=(0,d.v4)();return k(e??t)}function k(e){let t=L(e);return"first-party"===e.type?R(e.id):t}function D(e){let t=(0,d.v4)(),r=e??t,n=I(r),i=L(r);return n===m.tKW.PIXEL?E.pixel:i}function M({localCodeLanguage:e,includeActions:t=!0,includeSelectSettings:r=!0}={}){let i=(0,d.v4)(),a=e??i,o=(0,d.AC)(a),l=y(a.id),s=v();return n.useMemo(()=>x({includeActions:t,includeSelectSettings:r,codeLanguage:a,plugin:o,codeExtensionPreferences:l,onChangePreferences:s}),[t,r,a,o,l,s])}function x({includeActions:e=!1,includeSelectSettings:t=!0,codeLanguage:r,plugin:n,codeExtensionPreferences:i,onChangePreferences:a}){let o=[];if(!n||"first-party"===r.type||(0,u.GL)(n)!==r.id)return o;for(let l of(0,u.zZ)(n,(0,f.X)(n,r.pluginLanguage)))e&&(0,g.Wt)(l)&&o.push({name:l.propertyName,displayText:(null==l?void 0:l.label)||l.propertyName,callback:()=>h.d1.codegenPreferencesChange({propertyName:l.propertyName}),recordingKey:l.propertyName}),t&&(0,g.ZV)(l)&&o.push({name:l.propertyName,recordingKey:l.propertyName,displayText:(null==l?void 0:l.label)??l.propertyName,children:l.options.map((e,t)=>{var o,s;return{name:e.value,displayText:e.label,isChecked:(null==(o=null==i?void 0:i.customSettings)?void 0:o[l.propertyName])?(null==(s=null==i?void 0:i.customSettings)?void 0:s[l.propertyName])===e.value:0===t,callback:()=>a(r,n,{customSettings:{...null==i?void 0:i.customSettings,[l.propertyName]:e.value}}),recordingKey:e.value}})});return o}function F(){let e=(0,d.v4)(),t=(0,d.QN)();n.useEffect(()=>{if(!t)return;let r=e.pluginLanguage;r&&(0,u.dW)(t,(0,f.X)(t,r))},[e,t])}},581250:(e,t,r)=>{"use strict";r.d(t,{Q:()=>c});var n=r(308977),i=r(979385),a=r(470669),o=r(945099),l=r(92597),s=r(621856);function c(){let[e,t]=(0,o.$h)(),r=(0,l.Em)(),c=(0,s.q)(),d=(0,l.gc)(),u=(0,n.v4)(),p=(0,i.gB)(),m=(0,a.V0)({codeLanguage:u,onChange:p}),_=(0,o.Ar)();return{inspectionMode:_.find(t=>t===e)||_[0],setInspectionMode:t,supportsAlternativeUnits:r,preferenceOptions:c,preferences:d,codeLanguageApi:m,inspectionModes:_}}},621856:(e,t,r)=>{"use strict";r.d(t,{q:()=>_});var n=r(411855),i=r(188507),a=r(966712),o=r(939863),l=r(308977),s=r(370934),c=r(909999),d=r(92597),u=r(662275),p=r(852800),m=r(656399);function _(e){let t=(0,d.SF)(),r=function(e){let t=(0,l.v4)(),r=e??t,a=(0,l.AC)(r),m=(0,d.wQ)(r),_=(0,d.Em)(r),h=(0,d.gc)(r.id),g=(0,d.Bs)(),f=(0,i.wA)();return n.useMemo(()=>{let e=[];if(!_)return e;let t=(null==h?void 0:h.unit)||p.tKW.PIXEL;return e.push({displayText:(0,o.t)("dev_handoff.alternative_units.dimension_unit"),header:!0},...s.zq.map(e=>{let n=e===p.tKW.PIXEL?(0,o.t)("dev_handoff.alternative_units.pixel_unit"):m;return{name:e.toString(),displayText:n,isChecked:t===e,callback:()=>g(r,a,{unit:e}),recordingKey:e===p.tKW.PIXEL?"pixel":"scaled"}}),{displayText:(0,o.t)("dev_handoff.alternative_units.unit_settings_menu_option"),callback:()=>f((0,u.to)({type:c.j6})),recordingKey:"setScaleFactor"}),e},[_,null==h?void 0:h.unit,m,g,r,a,f])}(e),{updateDefaultCodegenSettings:_,isSetToDefault:h}=(0,m.Q)();return n.useMemo(()=>{let e=[];return r.length>0&&e.push(...r),t.length>0&&e.length>0&&e.push({displayText:"",separator:!0}),e.push(...t),(0,a.kc)().dev_mode_default_codegen&&(e.length>0&&e.push({separator:!0,displayText:""}),e.push({displayText:(0,o.t)("dev_handoff.code.settings.set_as_default"),callback:()=>{_()},isChecked:h})),e},[t,h,r,_])}},208186:(e,t,r)=>{"use strict";r.d(t,{Co:()=>P,Cq:()=>O,DY:()=>C,Iy:()=>S,Me:()=>N,Rb:()=>A,SD:()=>T,TU:()=>v,Tz:()=>R,WV:()=>L,n7:()=>k,yf:()=>w});var n=r(640783),i=r(38329),a=r(309225),o=r(776621),l=r(96328),s=r(304783),c=r(743282),d=r(27087),u=r(330654),p=r(987918),m=r(988022),_=r(416095),h=r(279453),g=r(754168),f=r(882698),E=r(273226);let y=u.object({id:u.string(),node_id:u.string(),file_key:u.string(),link_name:u.string(),link_url:u.string(),is_user_override:u.boolean(),link_preview_json:u.any()}),b=u.object({meta:u.array(y)});async function v({fileKey:e,nodeId:t,includeInheritedLinks:r}){let n=(await g.S.getRelatedLinks({nodeId:t,fileKey:e})).data,a=b.safeParse(n);if(!a.success)throw Error("Invalid response from server");let o=a.data.meta.map(e=>({id:e.id,nodeId:e.node_id,linkName:e.link_name,linkUrl:e.link_url,fileKey:e.file_key,isUserOverride:!!e.is_user_override,linkPreviewJson:e.link_preview_json}));if(!r)return o;let l=i.D.getState().mirror.sceneGraph,s=(0,E.k4)([t],l),c=(0,E.Yi)([t],l),d=await I(e,s),u=await I(e,c);return[...o,...d.map(e=>({...e,nodeId:t,mainComponentId:s})),...u.map(e=>({...e,nodeId:t,mainComponentId:c}))]}async function I(e,t){let r=i.D.getState().mirror.sceneGraph;if(!t)return[];let n=r.get(t);if(!n)return[];let{publishID:a}=n,o=p.fn(p.sH(a));return await v({fileKey:(0,_.yW)(n)??e,nodeId:o?a??"":t,includeInheritedLinks:!1})}async function T(e){var t;let r=new Set([e]),n=new Map,a=new Map,o=i.D.getState().mirror.sceneGraph,l=(t,i)=>{if(!i)return;let l=o.get(i);if(!l)return;let{publishID:s,guid:c}=l,d=(0,_.yW)(l);if(!d||!s||!p.fn(p.sH(s))||d===e){n.set(c,t),a.set(c,i);return}n.set(s,t),a.set(s,i),r.add(d)},s=null==(t=o.get("0:0"))?void 0:t.findAllWithCriteria({types:["INSTANCE"]}).map(([e])=>e);s&&s.length>0&&s.forEach(e=>{let t=o.get(e);if(!t||"INSTANCE"!==t.type)return;l(e,t.symbolId);let r=(0,E.Yi)([e],o);l(e,r)});let c=await d.Ay.post("/api/files/related_links",{file_keys:Array.from(r.values())}),u=[];return c.data.meta.forEach(t=>{let r=e===t.file_key&&!!o.get(o.guidFromDeveloperFriendlyId(t.node_id)),i={id:t.id,linkName:t.link_name,linkUrl:t.link_url,fileKey:t.file_key,isUserOverride:!!t.is_user_override,linkPreviewJson:t.link_preview_json};r&&u.push({...i,nodeId:t.node_id,mainComponentId:void 0}),n.has(t.node_id)&&u.push({...i,nodeId:n.get(t.node_id),mainComponentId:a.get(t.node_id)})}),u}async function S({fileKey:e,nodeId:t,url:r,name:n,nodeType:i,pluginId:a,source:o}){if((await v({fileKey:e??"",nodeId:t??""})).find(e=>e.linkUrl===r))throw Error(`Link already exists on node ${t} with url ${r}`);return C({fileKey:e,nodeId:t,url:r,name:n,nodeType:i,pluginId:a,source:o})}async function w(e){var t;let r;try{let n=await f.E.getLinkMetadata({text:e}),i=null==(t=null==n?void 0:n.data)?void 0:t.meta;(null==i?void 0:i.title)&&(r=decodeURIComponent(null==i?void 0:i.title))}catch(e){}finally{if(!r){let t=(0,n.Gw)(e);r=t?(0,l.Zr)(t):"N/A"}}return r}u.object({node_id:u.string(),link_name:u.string(),link_url:u.string()});let A=u.object({meta:y});async function C({url:e,nodeId:t,fileKey:r,name:o,onPost:l,nodeType:s,pluginId:u,source:p}){var _;let g="";if(o)g=o;else{let t=(0,n.FB)(e);if((null==t?void 0:t.toLowerCase())==="github.com")g="Github";else if((null==t?void 0:t.toLowerCase())==="jira.com"||(null==t?void 0:t.toLowerCase())==="atlassian.net"){g="Jira";let t=function(e){for(let t of M){let r=e.match(t);if(null==r?void 0:r[1])return r[1]}return null}(e);t&&(g=`Issue ${t}`)}else g=await w(e)}let f={node_id:t??"",link_name:g,link_url:e},E=d.Ay.post(`/api/files/${r}/related_links`,f);return l&&l(),null==(_=(0,a.WB)())||_.deprecatedOptimisticallyCreateByView(h.jJU,{DeveloperRelatedLink:{[`optimistic-link-${(0,c.g)()}`]:{nodeId:t??"",fileKey:r??"",linkName:g,linkUrl:e,isUserOverride:!1,linkPreviewJson:null}}},E),E.then(e=>((0,m.ds)("Dev Handoff Related Links Added New Link Success",r,i.D.getState(),{nodeId:t,nodeType:s,source:p,pluginId:u}),e))}async function N({fileKey:e,nodeId:t,currentUrl:r,newValue:n,nodeType:i,pluginId:a,source:o}){let l=(await v({fileKey:e,nodeId:t})).find(e=>e.linkUrl===r);return l||D({nodeId:t,url:r}),O({fileKey:e,nodeId:t,linkId:l.id,name:n.name||l.linkName,url:n.url||l.linkUrl,isUserOverride:!1,clearLinkPreview:!0,nodeType:i,pluginId:a,source:o})}function O({fileKey:e,nodeId:t,linkId:r,name:n,url:o,isUserOverride:l,clearLinkPreview:s,nodeType:c,pluginId:u,source:p}){var _;let g={node_id:t,link_id:r,new_link_name:n,new_link_url:o};void 0!==l&&(g.is_user_override=l),s&&(g.link_preview_json=null);let f=d.Ay.put(`/api/files/${e}/related_links`,g);return null==(_=(0,a.WB)())||_.deprecatedOptimisticallyUpdateByView(h.jJU,{DeveloperRelatedLink:{[r]:{linkName:n,linkUrl:o,isUserOverride:l,linkPreviewJson:s?"":void 0}}},f),f.then(r=>((0,m.ds)("Dev Handoff Related Links Edit Link Success",e,i.D.getState(),{nodeId:t,nodeType:c,source:p,pluginId:u}),r))}async function L({fileKey:e,nodeId:t,url:r,nodeType:n,pluginId:i,source:a}){let o=(await v({fileKey:e,nodeId:t})).find(e=>e.linkUrl===r);return o||D({nodeId:t,url:r}),R({fileKey:e,nodeId:t,linkId:o.id,nodeType:n,pluginId:i,source:a})}function R({fileKey:e,nodeId:t,linkId:r,nodeType:n,pluginId:o,source:l}){var s;let c=d.Ay.del(`/api/files/${e}/related_links`,{node_id:t,link_id:r});return null==(s=(0,a.WB)())||s.deprecatedOptimisticallyDeleteByView(h.jJU,{DeveloperRelatedLink:{[r]:null}},c),c.then(r=>((0,m.ds)("Dev Handoff Related Links Delete Link Success",e,i.D.getState(),{nodeId:t,nodeType:n,source:l,pluginId:o}),r))}async function P({fileKey:e,nodeId:t,url:r,linkPreviewJson:n}){let i=(await v({fileKey:e,nodeId:t})).find(e=>e.linkUrl===r);return i||D({nodeId:t,url:r}),k({link:i,linkPreviewJson:n})}async function k({link:e,linkPreviewJson:t}){var r;try{let n=d.Ay.put(`/api/files/${e.fileKey}/related_links/link_preview`,{node_id:e.nodeId,link_id:e.id,link_preview_json:t});null==(r=(0,a.WB)())||r.deprecatedOptimisticallyUpdateByView(h.jJU,{DeveloperRelatedLink:{[e.id]:{linkPreviewJson:JSON.stringify(t)}}},n),await n}catch(r){(0,o.$D)(s.e.DEVELOPER_TOOLS,r,{extra:{link:e,linkPreviewJson:t}})}}function D({nodeId:e,url:t}){throw Error(`url ${t} and nodeId ${e} not found`)}let M=[/\/browse\/([A-Z]+-\d+)/,/selectedIssue=([A-Z]+-\d+)/,/issues\/([A-Z]+-\d+)/]},598393:(e,t,r)=>{"use strict";r.d(t,{An:()=>g,T1:()=>E,VI:()=>v,bg:()=>f,dF:()=>b});var n=r(411855),i=r(188507),a=r(939863),o=r(498318),l=r(843245),s=r(964881),c=r(497306),d=r(555074),u=r(29680),p=r(321487),m=r(416095),_=r(691205),h=r(32067);function g(e){var t;if(e)return null==(t=null==e?void 0:e.name)?void 0:t.trim()}function f(e,t,r=null){if(!(null==e?void 0:e.isAlive()))return null;let i=e.type;if((0,c.GI)(e)&&(i="STAMP"),(null==r?void 0:r.status)==="loaded"&&"SYMBOL"!==i&&"INSTANCE"!==i)return n.createElement(a.Tx,{id:"inspect_panel.node_type.detached_component"});if("BOOLEAN_OPERATION"===i)switch(e.booleanOperation){case"UNION":return n.createElement(a.Tx,{id:"inspect_panel.node_type.union"});case"INTERSECT":return n.createElement(a.Tx,{id:"inspect_panel.node_type.intersect"});case"SUBTRACT":return n.createElement(a.Tx,{id:"inspect_panel.node_type.subtract"});case"XOR":return n.createElement(a.Tx,{id:"inspect_panel.node_type.exclude"})}switch(i){case"VECTOR":return n.createElement(a.Tx,{id:"inspect_panel.node_type.vector"});case"STAR":return n.createElement(a.Tx,{id:"inspect_panel.node_type.star"});case"LINE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.line"});case"ELLIPSE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.ellipse"});case"RECTANGLE":case"ROUNDED_RECTANGLE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.rectangle"});case"REGULAR_POLYGON":return n.createElement(a.Tx,{id:"inspect_panel.node_type.polygon"});case"TEXT":return n.createElement(a.Tx,{id:"inspect_panel.node_type.text"});case"SLICE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.slice"});case"GROUP":case"FRAME":if(e.isStateGroup)return n.createElement(a.Tx,{id:"inspect_panel.node_type.main_component_set"});if("HORIZONTAL"===e.stackMode)return n.createElement(a.Tx,{id:"inspect_panel.node_type.horizontal_al"});if("VERTICAL"===e.stackMode)return n.createElement(a.Tx,{id:"inspect_panel.node_type.vertical_al"});if(e.resizeToFit)return n.createElement(a.Tx,{id:"inspect_panel.node_type.group"});else return n.createElement(a.Tx,{id:"inspect_panel.node_type.frame"});case"SYMBOL":if(e.isState||(null==t?void 0:t.isStateGroup))return n.createElement(a.Tx,{id:"inspect_panel.node_type.main_variant"});return n.createElement(a.Tx,{id:"inspect_panel.node_type.main_component"});case"INSTANCE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.instance"});case"STICKY":case"SHAPE_WITH_TEXT":case"CONNECTOR":case"STAMP":return n.createElement(a.Tx,{id:"inspect_panel.node_type.figjam"});case"SECTION":return n.createElement(a.Tx,{id:"inspect_panel.node_type.section"});case"WIDGET":return n.createElement(a.Tx,{id:"inspect_panel.node_type.widget"});case"CANVAS":return n.createElement(a.Tx,{id:"inspect_panel.node_type.page"});case"TABLE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.table"})}return null}function E(){(0,h.jY)();let e=v(),t=(0,o.wS)(),r=(0,h.VW)(),s=function(e){var t;let r=(0,i.d4)(e=>e.library),a=n.useMemo(()=>{var t;return null==(t=(0,m.kD)(r.published.components).find(t=>t.component_key===(null==e?void 0:e.componentKey)))?void 0:t.file_key},[null==e?void 0:e.componentKey,r.published.components]),o=_.M4.useFile(a);return(null==(t=null==o?void 0:o.data)?void 0:t.name)||null}((0,l.lA)());if(!r||!e||!r.isAlive())return null;let c=r.isState?r.parentNode:null,d="SYMBOL"===r.type||"INSTANCE"===r.type,u=null;if(r.hyperlink&&"mixed"!==r.hyperlink)switch(r.hyperlink.type){case"NODE":new URL(document.location.href).searchParams.set("node-id",(0,p.E)(r.hyperlink.value));break;case"URL":u=r.hyperlink.value}return{...e,libraryName:s,type:f(r,c,t),typeTooltip:function(e){let t=e.type;return e.detachedInfo&&!("SYMBOL"===t||"INSTANCE"===t)?(0,a.t)("inspect_panel.node_type_tooltip.detached_component"):null}(r),isReadyForDev:r.hasReadyStatus,isCompleted:r.hasCompletedStatus,isDetached:"loaded"===t.status&&!d,link:u}}function y(e,t){var r;let n=e.isState?e.parentNode:null,i=(null==n?void 0:n.name)||e.name,a=(null==t?void 0:t.isState)?null==(r=null==t?void 0:t.parentNode)?void 0:r.name:null==t?void 0:t.name,o="SYMBOL"===e.type||"INSTANCE"===e.type;return{id:e.guid,name:i,backingSymbolName:a,type:f(e,n,null),isSymbol:e.isStateGroup||o,isFrame:"FRAME"===e.type,isSection:"SECTION"===e.type}}function b(){let e=(0,s.hA)(),t=(0,u.eY)().get(e??"");return t&&t.isAlive()?y(t):null}function v(){let e=(0,d.kl)("numSelected"),t=(0,h.VW)(),r=(0,l.lA)();return 1===e&&t&&t.isAlive()?y(t,r):null}},812505:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(411855);function i(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},n.createElement("g",{clipPath:"url(#a)"},n.createElement("mask",{id:"b",width:16,height:16,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},n.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.346 15.89c.252.099.54.093.794-.03l3.294-1.585a1 1 0 0 0 .566-.901V2.626a1 1 0 0 0-.566-.901L12.14.14a.996.996 0 0 0-1.137.193L4.697 6.087 1.95 4.002a.666.666 0 0 0-.85.037l-.882.802a.667.667 0 0 0 0 .986L2.6 8 .217 10.173a.667.667 0 0 0 .001.986l.881.802a.666.666 0 0 0 .851.037l2.747-2.085 6.306 5.754c.1.1.217.175.343.224Zm.656-11.522L7.217 8l4.785 3.632V4.368Z",clipRule:"evenodd"})),n.createElement("g",{mask:"url(#b)"},n.createElement("path",{fill:"#0065A9",d:"M15.434 1.727 12.137.14A.997.997 0 0 0 11 .333L.208 10.173a.667.667 0 0 0 0 .986l.882.802a.667.667 0 0 0 .851.037L14.938 2.14A.662.662 0 0 1 16 2.667v-.039a1 1 0 0 0-.566-.9Z"}),n.createElement("g",{filter:"url(#c)"},n.createElement("path",{fill:"#007ACC",d:"m15.434 14.273-3.297 1.587A.996.996 0 0 1 11 15.667L.208 5.827a.667.667 0 0 1 0-.986l.882-.802a.667.667 0 0 1 .851-.037l12.997 9.859A.662.662 0 0 0 16 13.333v.039a1 1 0 0 1-.566.9Z"})),n.createElement("g",{filter:"url(#d)"},n.createElement("path",{fill:"#1F9CF0",d:"M12.137 15.86A.997.997 0 0 1 11 15.667a.586.586 0 0 0 1-.415V.747a.586.586 0 0 0-1-.414c.3-.3.755-.377 1.137-.193l3.296 1.585a1 1 0 0 1 .567.901v10.748a1 1 0 0 1-.567.901l-3.296 1.585Z"})),n.createElement("path",{fill:"url(#e)",fillRule:"evenodd",d:"M11.336 15.89c.252.099.54.093.794-.03l3.294-1.585a1 1 0 0 0 .566-.901V2.626a1 1 0 0 0-.566-.901L12.13.14a.996.996 0 0 0-1.137.193L4.687 6.087 1.94 4a.666.666 0 0 0-.85.038l-.882.802a.667.667 0 0 0 0 .986L2.59 8 .208 10.173a.667.667 0 0 0 0 .986l.881.802a.666.666 0 0 0 .851.037l2.747-2.085 6.306 5.754c.1.1.217.175.343.224Zm.657-11.522L7.208 8l4.785 3.632V4.368Z",clipRule:"evenodd",opacity:.25,style:{mixBlendMode:"overlay"}}))),n.createElement("defs",null,n.createElement("filter",{id:"c",width:32.676,height:28.759,x:-8.343,y:-4.467,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:4.167}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{in2:"BackgroundImageFix",mode:"overlay",result:"effect1_dropShadow_0_3"}),n.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_3",result:"shape"})),n.createElement("filter",{id:"d",width:21.667,height:32.584,x:2.667,y:-8.292,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:4.167}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{in2:"BackgroundImageFix",mode:"overlay",result:"effect1_dropShadow_0_3"}),n.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_3",result:"shape"})),n.createElement("linearGradient",{id:"e",x1:7.99,x2:7.99,y1:.041,y2:15.959,gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#fff"}),n.createElement("stop",{offset:1,stopColor:"#fff",stopOpacity:0})),n.createElement("clipPath",{id:"a"},n.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"}))))}},786110:(e,t,r)=>{"use strict";r.d(t,{Ib:()=>A,O5:()=>W,Zy:()=>N,q1:()=>O,rI:()=>P,vY:()=>L});var n=r(411855),i=r(629019),a=r.n(i),o=r(794272),l=r(38580),s=r(374626),c=r(860601),d=r(574176),u=r(118830),p=r(444736),m=r(852800),_=r(617453),h=r(843495),g=r(29680),f=r(698993),E=r(100197),y=r(279702),b=r(319882),v=r(620722),I=r(798558),T=r(716866),S=r(949207),w=r(432023);let A=(0,l.eU)(new Map);function C(e){let{isHovered:t,selection:r}=(0,o.R)(t=>({isHovered:t.mirror.appModel.hoveredNode===e.guid,selection:t.mirror.sceneGraphSelection})),i=n.useRef(null);n.useEffect(()=>{i.current&&e.isSelected&&i.current.scrollIntoView({block:"nearest"})},[e.isSelected]);let l="SYMBOL"===e.type||"INSTANCE"===e.type||e.isInstanceSublayer||e.isSymbolSublayer||O.includes(e.type),c=[T.nM,e._className];e.isSelected&&c.push(T.wH),t&&c.push(T.yo),l&&c.push(T.HR),e.isExpanded(e.guid)&&c.push(T.sz),e.isAncestorSelected&&c.push(T.bx),0!==e.indentation&&c.push(T.BT);let d=Array.from({length:e.indentation},(e,t)=>t+1);return n.createElement("div",{onMouseDown:t=>{(0,f.S)("html_tree"),e.didSelectRow(e.guid);let n=Object.keys(r);if(s.zl.set(b.J,!1),t.metaKey){var i;r[i=e.guid]?h.D$([i]):h.Dh([i])}else t.shiftKey&&n.length>0?h.GL(n[n.length-1],e.guid):m.w3z.selectAndPanToNode(e.guid)},onDoubleClick:t=>e.isExpandable&&e.toggleExpanded(t,e.guid),onContextMenu:t=>e.openContextMenu(t,e.guid),onMouseEnter:()=>h.Uc(e.guid),onMouseLeave:()=>h.Uc(h.Hr),role:"button",tabIndex:0,className:a()(c),ref:i,"data-fullscreen-intercept":!0},d.map(e=>n.createElement("div",{key:e,className:T.Mh})),e.children)}function N(e){return n.createElement(d.B,{onMouseDown:e.visible?t=>{var r;t.preventDefault(),t.stopPropagation(),null==(r=e.onMouseDown)||r.call(e,t)}:void 0,className:a()(T.GE,e.visible&&T.RK),svg:e.expanded?S.A:w.A,dataTestId:`devHandoffLayersRow.toggle-${e.name}`})}let O=["TABLE","TABLE_CELL","WASHI_TAPE","STAMP","STICKY","SHAPE_WITH_TEXT","WIDGET"];function L(e,t){let r=(null==e?void 0:e.type)??y.PW.NOT_ASSET,n=r&(y.PW.ASSET_IMAGE|y.PW.ASSET_ICON);return t?n:r&y.PW.ASSET_IMAGE}function R(e){return"SYMBOL"===e||"INSTANCE"===e}function P({node:e,showIcons:t,assetInfo:r}){return r&&L(r,t)?n.createElement(V,{guid:e.guid,assetInfo:r,hasEnabledStaticImagePaint:e.hasEnabledStaticImagePaint}):n.createElement(I.Bf,{className:a()(T.V3,T.MS,{[T.hR]:O.includes(e.type)}),guid:e.guid})}function k({guid:e}){let t=(0,s.md)(A).get(e);if(!t)return null;let r=t.state;return"added"===r?n.createElement("div",{className:T.vN}):"changed"===r?n.createElement("div",{className:T.tD}):"removed"===r?n.createElement("div",{className:T.rq}):null}function D(e){return n.createElement(C,{...e,_className:e.hasChildren?T.aw:void 0},n.createElement(N,{visible:e.isExpandable&&e.hasChildren,expanded:e.isExpanded(e.guid),onMouseDown:t=>e.toggleExpanded(t,e.guid),name:e.name}),n.createElement(I.Bf,{className:T.V3,guid:e.guid}),n.createElement("span",{className:T.Hn},e.name," ",e.showGuids&&` (${e.guid})`),n.createElement(k,{guid:e.guid}))}function M(e){return n.createElement(C,{...e,_className:T.aw},n.createElement(N,{visible:e.isExpandable&&e.hasChildren,expanded:e.isExpanded(e.guid),onMouseDown:t=>e.toggleExpanded(t,e.guid),name:e.name}),n.createElement(I.Bf,{className:T.V3,guid:e.guid}),n.createElement("span",{className:T.Hn},e.name," ",e.showGuids&&` (${e.guid})`),n.createElement(k,{guid:e.guid}))}function x(e){var t,r;let i;let a=(0,g.eY)(),o=e.inheritedTextStyle;if(o){let e=m.glU.getStyleNodeId(o.key,o.version);i=null==(t=a.get(e))?void 0:t.name}let l=e.isInstanceSublayer?e.name===(null==(r=e.textContent)?void 0:r.trim().replace(/\s+/gm," ")):e.autoRename;return n.createElement(C,{...e,_className:T.yL},n.createElement(N,{visible:!1,expanded:!1,name:e.name}),n.createElement(I.Bf,{className:T.V3,guid:e.guid}),l?null:n.createElement("span",{className:T.Hn},e.name," ",e.showGuids&&` (${e.guid})`),n.createElement("span",{className:T.P_},e.textContent),n.createElement("span",{className:T.bT}," \xb7 ",i),n.createElement(k,{guid:e.guid}))}function F(e){return n.createElement(n.Fragment,null,n.createElement(I.Bf,{className:a()(T.V3,T.MS,{[T.hR]:!e.figJam}),guid:e.guid}),n.createElement("span",{className:a()(T.Hn,T.MS)},e.name,e.showGuids&&` (${e.guid})`))}function U(e){let t=e.guid;return n.createElement(C,{...e},n.createElement(N,{visible:e.isExpandable&&e.hasChildren,expanded:e.isExpanded(t),onMouseDown:r=>e.toggleExpanded(r,t),name:e.name}),n.createElement(F,{guid:t,name:e.name,showGuids:e.showGuids}),n.createElement(k,{guid:e.guid}))}function B(e){let t=e.guid;return n.createElement(C,{...e},n.createElement(N,{visible:!1,expanded:!1,onMouseDown:c.lQ,name:e.name}),n.createElement(F,{guid:t,name:e.name,showGuids:e.showGuids,figJam:!0}),n.createElement(k,{guid:e.guid}))}function H(e){let{assetInfo:t}=e;return t?n.createElement(G,{...e,assetInfo:t}):n.createElement(D,{...e})}function V({guid:e,assetInfo:t,hasEnabledStaticImagePaint:r}){let i=t.type&y.PW.ASSET_IMAGE||r,o=(0,u.O)({assetId:e,thumbnailVersion:t.thumbnailVersion,width:64,height:64,scale:2});return n.createElement(v.J,{className:a()(T.ZE,i?T.Ym:T.ye),style:o.backgroundStyle,src:o.url})}function G(e){let{assetInfo:t}=e;return n.createElement(C,{...e,_className:T.Re},n.createElement(N,{visible:!1,expanded:!1,name:e.name}),n.createElement(V,{guid:e.guid,assetInfo:t,hasEnabledStaticImagePaint:e.hasEnabledStaticImagePaint}),n.createElement(n.Fragment,null,R(e.type)?n.createElement(F,{guid:e.guid,name:e.name,showGuids:!1}):n.createElement(n.Fragment,null,n.createElement("span",{className:T.Hn},e.name," ",e.showGuids&&` (${e.guid})`),n.createElement("span",{className:T.UZ},n.createElement(p.$R,{assetInfo:t,dataTestId:"layerPanelAsset"})))))}let W=n.memo(e=>{let t=(0,E.J2)((0,_.UK)().showGuids),r=(0,E.J2)(m.Ez5.devHandoffState().automaticIconDetection),i=n.useMemo(()=>m.w3z.getOrAddAssetInfo(e.guid),[e.guid]),a=(0,g.eY)().get(e.guid);if(!a)return null;let o=a.devToolsOrderedVisibleChildren,l=function(e,t,r){return O.includes(e.type)?B:r&&L(r,t)?H:R(e.type)?U:"FRAME"===e.type&&"NONE"!==e.stackMode?M:"TEXT"===e.type?x:D}(a,r,i);if(!l)return null;let s=o.length>0&&!(i&&L(i,r));return n.createElement(l,{toggleExpanded:e.toggleExpanded,isExpanded:e.isExpanded,openContextMenu:e.openContextMenu,indentation:e.indentation,hasChildren:s,isSelected:e.isSelected,isAncestorSelected:e.isAncestorSelected,didSelectRow:e.didSelectRow,guid:a.guid,type:a.type,name:a.name,textContent:a.textContent,absoluteBoundingBox:a.absoluteBoundingBox,hasEnabledStaticImagePaint:a.hasEnabledStaticImagePaint,inheritedTextStyle:a.inheritedTextStyle,autoRename:a.autoRename,stackMode:a.inferredAutoLayoutResult?a.inferredAutoLayoutResult.stackMode:a.stackMode,isInstanceSublayer:a.isInstanceSublayer,isSymbolSublayer:a.isSymbolSublayer,isExpandable:!e.isRoot&&s,showGuids:t,assetInfo:i})})},910741:(e,t,r)=>{"use strict";r.d(t,{GF:()=>I,bZ:()=>w,lb:()=>T,m3:()=>S});var n=r(411855),i=r(188507),a=r(374626),o=r(499737),l=r(218881),s=r(911826),c=r(256975),d=r(304815),u=r(755594),p=r(335682),m=r(694687),_=r(279453),h=r(243987),g=r(428467),f=r(984968),E=r(668860),y=r(507956),b=(e=>(e.CONTROL="default",e.BLOCKING_MODAL="blocking_modal",e))(b||{});let v=(0,n.createContext)({inStarterExperiment:!1});function I({children:e}){let t=function(){let e=function(){let{getConfig:e}=(0,l.I7)("exp_paywall_redesign_starter");return(0,n.useCallback)(()=>e().getValue("simplified_checkout",!1),[e])}(),t=(0,f.$w)(),r=(0,f.ol)(),o=(0,h.w5)(r),s=(0,i.d4)(e=>{var t;return(0,h.oc)((null==(t=(0,f.H7)(e))?void 0:t.id)??"",e)}),u=(0,i.d4)(e=>!!r&&(0,g.hasTeamAccess)(null==r?void 0:r.id,E.e6.EDITOR,e)),m=(0,p.q5)(),_=(0,y.ks)(),b=function(){let e=(0,c.U4)(),t=(0,a.md)(d.a),r=(0,a.md)(d.d);return e&&!!t.data&&!r.data}(),v=!!m,I=!!(null==m?void 0:m.teamId)&&!(null==m?void 0:m.parentOrgId)&&!!r&&!r.org_id&&!o&&!s&&!!t&&u,T=v&&I&&(_||b);return(0,n.useMemo)(()=>!!T&&e(),[e,T])}();return n.createElement(v.Provider,{value:{inStarterExperiment:t}},e)}function T(){return(0,n.useContext)(v).inStarterExperiment}function S(){let e=(0,c._I)(),t=(0,u.J)(),r=T();return!e&&(t||r)}function w(){var e,t,r,n;let i=(0,u.J)(),a=T(),l=null==(e=(0,f.ol)())?void 0:e.id,c=null==(t=(0,m.sZ)())?void 0:t.id,d=(0,s.O)(),h=(0,p.tS)()??"",g=(0,o.Rs)(_.HdA,{key:h}),E=null==(n=null==(r=null==g?void 0:g.data)?void 0:r.file)?void 0:n.hasPermission;return i?{teamId:l,orgId:c,currentPlan:d,gracePeriod:E}:a?{experiment_group:"fellowship_starter_experiment_blocking_modal",teamId:l,currentPlan:d,gracePeriod:!1}:void 0}},304815:(e,t,r)=>{"use strict";r.d(t,{a:()=>i,d:()=>a});var n=r(582947);let i=(0,n.Fu)("dev_mode_should_see_paywall_reminder"),a=(0,n.Fu)("dev_mode_seen_paywall_reminder")},471340:(e,t,r)=>{"use strict";r.d(t,{cI:()=>a,qI:()=>o});var n=r(38580),i=r(582947),a=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.UPGRADING=1]="UPGRADING",e[e.REQUESTED=2]="REQUESTED",e[e.REQUESTED_TRIAL=3]="REQUESTED_TRIAL",e))(a||{});let o=(0,n.eU)(0);(0,i.Fu)("dev_mode_made_request_in_exp")},755594:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var n=r(335682),i=r(243987),a=r(984968);function o(){let e=(0,a.ol)(),t=(0,i.w5)(e)&&!(null==e?void 0:e.org_id),r=(0,n.q5)();return!!(null==r?void 0:r.teamId)&&t||!!(null==r?void 0:r.parentOrgId)}},693897:(e,t,r)=>{"use strict";r.d(t,{L3:()=>d,Ym:()=>p});var n=r(966712),i=r(218881),a=r(256975),o=r(988022),l=r(99506),s=r(239671),c=r(520425);let d="Enter Design Mode",u="Enter Inspect Mode";function p(e,t,r,p,m={}){var _;let h=t===s.nT.DevHandoff?u:d,g={source:r,hasSeatForDevMode:(0,a.tn)(e),...m},f=null==(_=e.openFile)?void 0:_.key;(0,o.ds)(h,f,e,g,{forwardToDatadog:p}),(async()=>{if((0,n.Ay)().org_id&&(await (0,i.hW)("exp_dev_mode_last_active_full_tracking")).get("enabled",!1)&&f&&"init"!==r){let e=h===u?l.Mr.DEV_MODE_FILE_SEEN:l.Mr.DESIGN_FILE_SEEN;c.L.postRecentActivity({fileKey:f,activityType:e})}})()}},962645:(e,t,r)=>{"use strict";r.d(t,{Gj:()=>o,j5:()=>n,kt:()=>a,n8:()=>i});var n=(e=>(e.ADDED="ADDED",e.REMOVED="REMOVED",e))(n||{});function i(e,t=0,r){let n={code:e};return r&&(n.hint=r),t&&(n.indent=t),n}function a(e,t=!1){return e.map(e=>t?o(e)+e.code:e.code).join("\n")}function o(e){return e.indent?"  ".repeat(e.indent):""}},31225:(e,t,r)=>{"use strict";r.d(t,{A2:()=>a,bv:()=>i,eo:()=>n});var n=(e=>(e[e.NoStyleForColor=0]="NoStyleForColor",e[e.VariableNotResolved=1]="VariableNotResolved",e[e.VariableSuggested=2]="VariableSuggested",e[e.MultipleVariables=3]="MultipleVariables",e[e.AbsolutePosition=4]="AbsolutePosition",e[e.BordersDontTakeUpSpace=5]="BordersDontTakeUpSpace",e[e.SinglePaint=6]="SinglePaint",e[e.UnsupportedPaint=7]="UnsupportedPaint",e[e.UnsupportedGradientPaint=8]="UnsupportedGradientPaint",e[e.LeadingTrim=9]="LeadingTrim",e[e.PlusDarker=10]="PlusDarker",e[e.BackgroundBlendModePlusLighterDarker=11]="BackgroundBlendModePlusLighterDarker",e[e.SwiftUISeparateBorderWidth=12]="SwiftUISeparateBorderWidth",e[e.SwiftUIBlurNoSpread=13]="SwiftUIBlurNoSpread",e[e.SwiftUIOnlySingleFillForShapes=14]="SwiftUIOnlySingleFillForShapes",e[e.SwiftUISeparateCornerRadius=15]="SwiftUISeparateCornerRadius",e[e.SwiftUISpacersForSpaceBetween=16]="SwiftUISpacersForSpaceBetween",e[e.ComposeSeparateBorderWidth=17]="ComposeSeparateBorderWidth",e[e.ComposeShadowIncompatibility=18]="ComposeShadowIncompatibility",e[e.ComposeBlurTip=19]="ComposeBlurTip",e[e.DisplayP3Fallback=20]="DisplayP3Fallback",e))(n||{}),i=(e=>(e.Tooltip="tooltip",e.Comment="comment",e))(i||{});let a={NoStyleForColor:{id:0,type:"tooltip"},VariableNotResolved:{id:1,type:"tooltip"},VariableSuggested:e=>({id:2,value:e,type:"tooltip"}),MultipleVariables:e=>({id:3,value:e,type:"tooltip"}),AbsolutePosition:e=>({id:4,name:e,type:"tooltip"}),BordersDontTakeUpSpace:{id:5,type:"tooltip"},SinglePaint:{id:6,type:"tooltip"},UnsupportedPaint:{id:7,type:"tooltip"},UnsupportedGradientPaint:{id:8,type:"tooltip"},LeadingTrim:{id:9,type:"tooltip"},DisplayP3Fallback:{id:20,type:"tooltip"},PlusDarker:{id:10,type:"tooltip"},BackgroundBlendModePlusLighterDarker:e=>({id:11,value:e,type:"tooltip"}),SwiftUISeparateBorderWidth:{id:12,type:"tooltip"},SwiftUIBlurNoSpread:{id:13,type:"tooltip"},SwiftUIOnlySingleFillForShapes:{id:14,type:"tooltip"},SwiftUISeparateCornerRadius:{id:15,type:"tooltip"},SwiftUISpacersForSpaceBetween:{id:16,type:"tooltip"},ComposeSeparateBorderWidth:{id:17,type:"tooltip"},ComposeShadowIncompatibility:{id:18,type:"tooltip"},ComposeBlurTip:{id:19,type:"tooltip"}}},165514:(e,t,r)=>{"use strict";r.d(t,{D0:()=>l,TR:()=>o,zi:()=>a});var n=r(939863),i=r(852800);function a(e){switch(e){case i.zIx.BUILD:return(0,n.t)("dev_handoff.status.ready_for_dev");case i.zIx.COMPLETED:return(0,n.t)("dev_handoff.status.completed");case i.zIx.NONE:return null}}function o(e){switch(e){case i.zIx.BUILD:return(0,n.t)("dev_handoff.status.mark_status_sentence_part.ready_for_dev");case i.zIx.COMPLETED:return(0,n.t)("dev_handoff.status.mark_status_sentence_part.completed");case i.zIx.NONE:return null}}function l(e){if(e.length>0){let t=e[0].metadata;return{status:(null==t?void 0:t.status)??null}}return{status:null}}},331972:(e,t,r)=>{"use strict";r.d(t,{W:()=>function e(t,r){return!!r&&"CANVAS"!==r.type&&(r.guid===t.guid||e(t,r.parentNode))},_:()=>a});var n=r(966712),i=r(738269);function a(e,t){(0,n.kc)().dt_dev_mode_workflows&&"fullscreen"===t.view&&e(i.$T({...t,showOverview:!1}))}},964881:(e,t,r)=>{"use strict";r.d(t,{US:()=>E,Wl:()=>h,X0:()=>b,ZI:()=>y,hA:()=>g,l7:()=>_,s4:()=>f});var n=r(411855),i=r(188507),a=r(900956),o=r.n(a),l=r(966712),s=r(17604),c=r(852800),d=r(493862),u=r(29680),p=r(100197),m=r(507956);function _(){return(0,i.d4)(e=>h(e.selectedView))}function h(e){return"fullscreen"===e.view&&!0===e.showOverview}function g(){return(0,i.d4)(e=>f(e.selectedView)??null)}function f(e){return(0,m.$A)(e)?e.devModeFocusId:void 0}function E(){let[e,t]=(0,n.useState)(!1),r=(0,u.aV)();return(0,n.useEffect)(()=>{if(r)return;let e=c.w3z.getAllNodesWithStatusesByPage(),n=new Set;e.forEach(e=>{e.forEach(e=>{n.add(e)})}),(0,d.Tj)(n,c.dPJ.DEV_HANDOFF_STATUS).then(()=>{t(!0),c.w3z.onAllNodesWithStatusesLoaded(e)})},[r]),e}function y(){let e=(0,p.J2)(c.Ez5.currentSceneState().pageToNumNodesWithStatus);return(0,n.useMemo)(()=>o()([...e.values()]),[e])}function b(){let e=(0,s.D)(),t=y();return(0,l.kc)().dt_dev_mode_workflows&&e&&t>0}},203264:(e,t,r)=>{"use strict";r.d(t,{BJ:()=>u,E1:()=>s,L:()=>d,Uy:()=>c,ei:()=>l});var n=r(794272),i=r(966712),a=r(29680),o=r(601607);function l(e,t=!1,r){return(0,o.Fk)((e,t,n)=>t&&u(r??e,t,n)||null,e,t)}function s(){let{lastViewedStamp:e,lastEditedStamp:t}=(0,n.R)(e=>{var t;return{fileKey:null==(t=e.openFile)?void 0:t.key,lastViewedStamp:e.versionHistory.lastViewed,lastEditedStamp:e.versionHistory.lastEdited}});return function(e,t){if(!e)return t?new Date(t):void 0;if(!t)return e?new Date(e):void 0;let r=new Date(e),n=new Date(t);return r>n?r:n}(e,t)}var c=(e=>(e.NOT_RECENT="NOT_RECENT",e.RECENTLY_EDITED="RECENTLY_EDITED",e.RECENTLY_CREATED="RECENTLY_CREATED",e))(c||{});function d(e,t,r){let n=(0,a.eY)();if(!e)return"NOT_RECENT";let i=u(n,e,!0);if(!i)return"NOT_RECENT";let o=i.lastEditedAt;if(!o||!t)return"NOT_RECENT";if(i.createdAt){let n=new Date(i.createdAt);if(t<n&&(!r[e]||r[e]<n))return"RECENTLY_CREATED"}let l=new Date(o);return l.setSeconds(0,0),t<l&&(!r[e]||r[e]<l)?"RECENTLY_EDITED":"NOT_RECENT"}function u(e,t,r){var n,a;let o=null==(n=e.get(t))?void 0:n.editInfo;return!o||r&&o.userId===(null==(a=(0,i.Ay)().user_data)?void 0:a.id)||0===o.lastEditedAt?null:(o.lastEditedAt=1e3*o.lastEditedAt,o.createdAt=1e3*o.createdAt,o)}},955066:(e,t,r)=>{"use strict";r.d(t,{DF:()=>h,Jw:()=>_,TP:()=>g,Y3:()=>E,h0:()=>y,vv:()=>m,zE:()=>f});var n=r(167249),i=r(776250),a=r(517333),o=r(374626),l=r(980820),s=r(738269),c=r(154823),d=r(788811),u=r(132367),p=r(691205);let m=(0,l.nF)(async(e,t)=>{var r,n;let a=null==(n=null==(r=e.getState())?void 0:r.user)?void 0:n.id;if(!a)return;let o=Object.keys(t);await (0,d.wI)(a,o),u.hp.sendToAllTabs(u.c6,o),(0,i.sx)("Delete New Autosave Files",{deletedCount:o.length})}),_=(0,l.nF)(async e=>{var t;let r=null==(t=e.getState().user)?void 0:t.id;if(!r)return;await (0,d.JI)(r);let n=await (0,d.kl)(r);e.dispatch(E({filesWithChangesInIDB:n.unsyncedFiles,filesCreatedOffline:n.newFiles})),e.dispatch(g(n.nextGarbageCollectionTimestamp))}),h=(0,n.N)("SET_AUTOSAVE_ONBOARDING_TOOLTIP_VISIBLE"),g=(0,n.N)("SET_AUTOSAVE_NEXT_GARBAGE_COLLECTION_TIMESTAMP"),f=(0,n.N)("SET_AUTOSAVE_SNOOZE"),E=(0,n.N)("SET_UNCLAIMED_FILES");function y(e){u.hp.register(u.ec,()=>(function(e){var t;let r=(null==(t=e.getState().user)?void 0:t.id)??null;p.M4.fetch((0,d.OL)({userId:r}),{policy:"networkOnly"})})(e)),u.hp.register(u.c6,t=>(function(e,t){let r=o.zl.get(c.h);r&&t.includes(r)&&(a.eD?a.eD.close({suppressReopening:!0,shouldForceClose:!0}):e.dispatch(s.$T({view:"recentFiles"}))),e.dispatch(_())})(e,t)),u.hp.register(u.m6,({localFileKey:e,realFileKey:t})=>(0,d.Gc)(e,t))}},113853:(e,t,r)=>{"use strict";r.d(t,{PI:()=>I,V8:()=>v,_E:()=>y,nx:()=>b,pI:()=>S,s6:()=>w});var n=r(167249),i=r(1844),a=r(572206),o=r(27087),l=r(881388),s=r(939863),c=r(392592),d=r(980820),u=r(99403),p=r(902957),m=r(196495),_=r(852800),h=r(931770),g=r(731078),f=r(56342);let E=(e,t)=>{let r=t/Math.min(e.width,e.height),n=e.width*r,i=e.height*r;return{x:(t-n)/2,y:(t-i)/2,width:n,height:i}};function y(e,t,r,n){let i=document.createElement("canvas"),a=i.getContext("2d");return i.width=i.height=t,a.fillStyle="image/png"===n?"transparent":"#FFF",a.fillRect(0,0,t,t),a.drawImage(i,0,0),a.drawImage(e,r.x,r.y,r.width,r.height),"image/png"===n?i.toDataURL():i.toDataURL("image/jpeg",.92)}function b(e){let t=atob(e.slice(e.indexOf(",")+1)),r=[];for(let e=0;e<t.length;e++)r.push(t[e].charCodeAt(0));return new Uint8Array(r)}async function v(e,t,r){let n=function(){let t=e.originalImageWidth&&e.originalImageHeight?e.originalImageWidth/e.originalImageHeight:1,r=h.jS(e,new a.Mi(Math.max(g.Pf.LARGE,g.Pf.LARGE*t),Math.max(g.Pf.LARGE,g.Pf.LARGE/t)),{r:0,g:0,b:0,a:0});return r&&r.pixels&&r.pixelSize?h.Pv(r.pixels,r.pixelSize):""}();if(n)try{let e=await function(e){let t=new Image;return new Promise((r,n)=>{t.onerror=e=>{n(e)},t.onload=()=>{URL.revokeObjectURL(e),r(t)},t.src=e})}(n);if(!e){l.s.error((0,s.t)("avatar_actions.editor_uploaded.an_error_occurred_while_setting_your_profile_photo"));return}r(S({entity:t,entityType:g.ck.CURRENT_USER,small:b(y(e,g.Pf.SMALL,E(e,g.Pf.SMALL))),large:b(y(e,g.Pf.LARGE,E(e,g.Pf.LARGE))),contentType:"image/jpeg"}))}catch(e){r(l.s.error((0,s.t)("avatar_actions.editor_uploaded.an_error_occurred_while_setting_your_profile_photo"))),console.error((0,s.t)("avatar_actions.editor_uploaded.an_error_occurred_while_setting_your_profile_photo"),e)}}let I=(0,n.N)("AVATAR_EDITOR_RESET"),T=(0,d.nF)((e,t)=>{if(t.entityType===g.ck.CURRENT_USER)o.Ay.put("/api/user",{img_url:t.smallUrl,img_url_500_500:t.largeUrl}).then(function({data:t}){var r;let n=t.meta;(null==n?void 0:n.img_url)&&(null==(r=_.h3O)||r.setImgUrl(n.img_url)),e.dispatch(m.yJ({user:n,userInitiated:!1})),e.dispatch(I())},t=>{e.dispatch(l.s.error((0,s.t)("avatar_actions.editor_uploaded.an_error_occurred_while_setting_your_profile_photo"))),console.error((0,s.t)("avatar_actions.editor_uploaded.an_error_occurred_while_setting_your_profile_photo"),t),e.dispatch(I())});else if(t.entityType===g.ck.TEAM){let r=t.entity.id;o.Ay.put(`/api/teams/${r}`,{img_url:t.smallUrl,img_url_500_500:t.largeUrl}).then(function({data:t}){let r=t.meta;e.dispatch(p.yJ({team:r,userInitiated:!1})),e.dispatch(I()),e.dispatch(c.F.enqueue({message:(0,s.t)("avatar_actions.team_icon_updated")}))},t=>{e.dispatch(l.s.error((0,s.t)("avatar_actions.an_error_occurred_while_setting_the_team_icon"))),console.error((0,s.t)("avatar_actions.an_error_occurred_while_setting_the_team_icon")),e.dispatch(I())})}else if(t.entityType===g.ck.ORG){let r=t.entity.id;o.Ay.put(`/api/orgs/${r}`,{img_url:t.smallUrl,img_url_500_500:t.largeUrl}).then(function({data:t}){let r=t.meta;e.dispatch(u.yJ({org:r})),e.dispatch(I())},t=>{var r;e.dispatch(l.s.error((0,s.t)("avatar_actions.an_error_occurred")+(null==(r=t.data)?void 0:r.message))),console.error((0,s.t)("avatar_actions.an_error_occurred_while_setting_the_organization_icon"),t),e.dispatch(I())})}else if(t.entityType===g.ck.WORKSPACE){let r=t.entity.id;f.u.updateImage({workspaceId:r,img_url:t.smallUrl,img_url_500_500:t.largeUrl,onfulfilled:()=>{e.dispatch(c.F.enqueue({message:(0,s.t)("avatar_actions.workspace_icon_updated")}))},onrejected:t=>{let r=(0,s.t)("avatar_actions.an_error_occurred_while_setting_the_workspace_icon");e.dispatch(l.s.error(r)),console.error(r),e.dispatch(I())}})}}),S=(0,d.T8)("AVATAR_EDITOR_UPLOAD",(e,t)=>{Promise.all([(0,i.Q)("profile",t.small,t.contentType),(0,i.Q)("profile",t.large,t.contentType)]).then(function(r){let n=r[0].data.meta.url,i=r[1].data.meta.url;e.dispatch(T({entity:t.entity,entityType:t.entityType,smallUrl:n,largeUrl:i}))},()=>{e.dispatch(l.s.error((0,s.t)("avatar_actions.an_error_occurred_while_uploading_the_image"))),e.dispatch(I())})}),w=(0,n.N)("AVATAR_EDITOR_INIT")},975350:(e,t,r)=>{"use strict";r.d(t,{$M:()=>ef,AY:()=>B,At:()=>j,C:()=>M,CX:()=>Q,Df:()=>eA,Fm:()=>eo,HY:()=>ep,Jc:()=>eS,Mv:()=>G,NJ:()=>ea,Oo:()=>ei,PB:()=>eg,QD:()=>eI,QY:()=>U,Qe:()=>el,RI:()=>ed,RO:()=>e_,RP:()=>er,Tb:()=>H,U3:()=>eh,UU:()=>X,We:()=>ec,Z5:()=>eb,_B:()=>J,_v:()=>Y,a$:()=>ee,aP:()=>em,bB:()=>$,cL:()=>eD,dB:()=>x,hY:()=>K,hx:()=>W,i4:()=>es,js:()=>eM,k7:()=>eT,l5:()=>z,lV:()=>q,li:()=>eN,nL:()=>eu,nb:()=>ey,on:()=>ev,pD:()=>Z,pI:()=>eR,q4:()=>eE,uy:()=>ew,uz:()=>eC,vV:()=>et,wJ:()=>eO,wg:()=>en,y3:()=>eL,yH:()=>eP,z$:()=>V});var n=r(167249),i=r(776250),a=r(609494),o=r(934480),l=r(966712),s=r(374626),c=r(309225),d=r(746746),u=r(776621),p=r(877432),m=r(27087),_=r(881388),h=r(987918),g=r(939863),f=r(392592),E=r(980820),y=r(738269),b=r(792608),v=r(988022),I=r(277810),T=r(294167),S=r(356390),w=r(852800),A=r(707465),C=r(440535),N=r(319882),O=r(917701),L=r(406457),R=r(662275),P=r(37943),k=r(801161),D=r(931828);async function M(e,t,r,n,i){await F(i.messageMeta,e,t,r,n).then(t=>{e(Y({comment:i.comment,messageMeta:i.messageMeta,attachmentUpdates:i.attachmentUpdates,forceWithInvite:t,forceMention:t,onCommentValidationFailure:void 0}))}).catch(()=>{})}async function x(e,t,r,n,i,a,o,l){return await F(a.messageMeta,t,r,n,i).then(r=>{t(eS({threadId:a.threadId,reply:{messageMeta:a.messageMeta,attachments:a.attachments}})),t(q({commentsWriteApi:e,threadId:a.threadId,threadUuid:a.threadUuid,uuid:o,forceWithInvite:r,forceMention:r,onCommentValidationFailure:void 0,commentsConfiguration:l}))}).catch(()=>{t(eE({threadId:a.threadId,resetStatusOnly:!0})),t(eS({threadId:a.threadId,reply:{messageMeta:a.messageMeta,attachments:a.attachments}}))})}function F(e,t,r,n,i){return new Promise(a=>{t((0,R.to)({type:L.VB,data:{messageMeta:e,dispatch:t,usersWithoutAccess:r,externalUsersWithoutAccess:n,uninvitableUsers:i,onConfirm:()=>a(!0),onCancel:()=>a(!1)}}))})}let U=(0,E.nF)((e,t)=>{let{receiptsAPI:r,comment:n}=t;r.markAsUnread(n.id).catch(t=>{let r=(0,g.t)("comments.an_error_occurred_while_marking_a_comment_as_unread");try{t=JSON.parse(t),e.dispatch(_.s.error((0,g.Jv)(t,r)))}catch(t){e.dispatch(_.s.error(r))}})}),B=(0,E.nF)((e,t)=>{let{receiptsAPI:r,thread:n}=t;r.markAsRead(n.comments.map(e=>e.id)).catch(t=>{let r=(0,g.t)("comments.an_error_occurred_while_marking_a_comment_as_read");try{t=JSON.parse(t),e.dispatch(_.s.error((0,g.Jv)(t,r)))}catch(t){e.dispatch(_.s.error(r))}})}),H=(0,E.nF)((e,t)=>{let{commentReceiptsAPI:r,canvasMentionReceiptsAPI:n}=t;r.markAllAsRead().catch(t=>{let r=(0,g.t)("comments.an_error_occurred_while_marking_a_comment_as_read");try{t=JSON.parse(t),e.dispatch(_.s.error((0,g.Jv)(t,r)))}catch(t){e.dispatch(_.s.error(r))}}),n.markAllAsRead().catch(t=>{let r=(0,g.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_read");try{t=JSON.parse(t),e.dispatch(_.s.error((0,g.Jv)(t,r)))}catch(t){e.dispatch(_.s.error(r))}})});(0,E.nF)((e,t)=>{let{reactionsApi:r,id:n,emoji:i}=t,a=r.removeReaction(n,i),o=(0,g.t)("comments.an_error_occurred_while_removing_a_comment_reaction");e.dispatch((0,_.Q)({promise:a,fallbackError:o}))}),(0,E.nF)((e,t)=>{let r=e.getState(),{reactionsApi:n,id:i,emoji:a}=t,o=n.addReaction(i,a,{prototype_mode:"prototype"===r.selectedView.view,selectedView:r.selectedView.view,quickReply:!1}),l=(0,g.t)("comments.an_error_occurred_while_adding_a_comment_reaction");e.dispatch((0,_.Q)({promise:o,fallbackError:l}))});let V=(0,E.nF)((e,t)=>{let{reactionsApi:r,id:n}=t,{emoji:i}=t,a=e.getState();(0,o.uD)(i)&&null!==(0,o.$f)()&&(i=(0,o.Kh)(i)[0]+(0,o.$f)());let l=r.toggleReaction(n,i,{prototype_mode:"prototype"===a.selectedView.view,selectedView:a.selectedView.view,quickReply:t.quickReply}),s=(0,g.t)("comments.an_error_occurred_while_toggling_a_comment_reaction");e.dispatch((0,_.Q)({promise:l,fallbackError:s}))}),G=(0,E.nF)((e,t)=>{let r;let{comment:n}=t,{key:a,id:o,uuid:l,parent_id:s}=n,u=m.Ay.del(`/api/file/${a}/comments/${o}`),p=(0,g.t)("comments.an_error_occurred_while_deleting_this_comment");e.dispatch((0,_.Q)({promise:u,fallbackError:p})),b.O.remove(o),r=l?(0,c.WB)().optimisticallyDeleteWithUUID({Comment:{[l]:null}},u):(0,c.WB)().optimisticallyDelete({Comment:{[o]:null}},u),(0,i.sx)("Livegraph Optimistic Comment Update",{flow:"setDeleted",isOptimistic:!!l}),(0,d.f)(r,e.dispatch,eP({comment:{id:o,parent_id:s}}))}),W=(0,E.nF)((e,{thread:{key:t,id:r,uuid:n},resolved:o})=>{var s;let d=e.getState();if(o&&(null==(s=d.comments.activeThread)?void 0:s.id)===r&&!d.comments.showResolved&&e.dispatch(X()),(0,l.kc)().comments_undo_resolve&&o){let i={text:(0,g.t)("comments.undo"),action:()=>{e.dispatch(W({thread:{key:t,id:r,uuid:n},resolved:!1}))}};e.dispatch(f.F.enqueue({message:(0,g.t)("comments.comment_resolved"),type:"comment-resolved",button:i,onDismiss:()=>{}}))}b.O.remove(r);let u=o?"true":"false",p=o?(0,g.t)("comments.an_error_occurred_while_resolving_this_comment"):(0,g.t)("comments.an_error_occurred_while_unresolving_this_comment");if(n&&(0,a.L4)(r)){let r=(0,c.WB)().getIdFromUuid("Comment",n).then(r=>{let n=m.Ay.put(`/api/file/${t}/comments/${r}`,{resolved_at:u});return e.dispatch((0,_.Q)({promise:n,fallbackError:p})),n});(0,c.WB)().optimisticallyUpdateWithUUID({Comment:{[n]:{uuid:n,resolvedAt:o?new Date:null}}},r),(0,i.sx)("Livegraph Optimistic Comment Update",{flow:"setResolvedUsingGetIdFromUUID",isOptimistic:!0})}else{let a=m.Ay.put(`/api/file/${t}/comments/${r}`,{resolved_at:u});e.dispatch((0,_.Q)({promise:a,fallbackError:p})),n?(0,c.WB)().optimisticallyUpdateWithUUID({Comment:{[n]:{uuid:n,resolvedAt:o?new Date:null}}},a):(0,c.WB)().optimisticallyUpdate({Comment:{[r]:{resolvedAt:o?new Date:null}}},a),(0,i.sx)("Livegraph Optimistic Comment Update",{flow:"setResolved",isOptimistic:!!n})}}),K=(0,E.nF)((e,{thread:{key:t,id:r,uuid:n},clientMeta:o})=>{let l;n&&(0,a.L4)(r)?(l=(0,c.WB)().getIdFromUuid("Comment",n).then(e=>m.Ay.put(`/api/file/${t}/comments/${e}`,{client_meta:o})),(0,i.sx)("Livegraph Optimistic Comment Update",{flow:"setClientMetaWithGetIdFromUUID",isOptimistic:!0})):(l=m.Ay.put(`/api/file/${t}/comments/${r}`,{client_meta:o}),(0,i.sx)("Livegraph Optimistic Comment Update",{flow:"setClientMeta",isOptimistic:!!n}));let s=(0,g.t)("comments.an_error_occurred_while_moving_this_comment");e.dispatch((0,_.Q)({promise:l,fallbackError:s})),n?(0,c.WB)().optimisticallyUpdateWithUUID({Comment:{[n]:{uuid:n,clientMeta:{x:o.x,y:o.y,pageId:void 0===o.page_id?null:o.page_id,nodeId:void 0===o.node_id?null:o.node_id,nodeOffset:void 0===o.node_offset?null:o.node_offset,inFrame:void 0===o.in_frame?null:o.in_frame,selectionBoxAnchor:o.selection_box_anchor?o.selection_box_anchor:null,stablePath:o.stable_path?o.stable_path:null}}}},l):(0,c.WB)().optimisticallyUpdate({Comment:{[r]:{clientMeta:{x:o.x,y:o.y,pageId:void 0===o.page_id?null:o.page_id,nodeId:void 0===o.node_id?null:o.node_id,nodeOffset:void 0===o.node_offset?null:o.node_offset,inFrame:void 0===o.in_frame?null:o.in_frame,selectionBoxAnchor:o.selection_box_anchor?o.selection_box_anchor:null,stablePath:o.stable_path?o.stable_path:null}}}},l)}),Y=(0,E.T8)("COMMENTS_SET_COMMENT_CONTENT",(e,t)=>{let r=t.comment.key;if(!r||(0,a.I)(t.messageMeta))return;let n=(0,a.cs)(t.messageMeta),o=m.Ay.put(`/api/file/${r}/comments/${t.comment.id}`,{message_meta:t.messageMeta,attachment_updates:(0,C.Gq)(t.attachmentUpdates),share_to_mentions:t.forceWithInvite||!1,force:t.forceMention||!1,pending_mentions:n}).then(({data:t})=>{var r;(null==(r=t.message)?void 0:r.warning_message)&&0!==t.message.warning_message.length&&e.dispatch(f.F.enqueue({type:"at-mention-error",message:t.message.warning_message}))}).catch(e=>{var r,n,i,a;let o=null==(n=null==(r=e.data)?void 0:r.reason)?void 0:n.failure_info;(null==(a=null==(i=e.data)?void 0:i.reason)?void 0:a.reason)!=="comment_validation_failure"||void 0===o||!t.onCommentValidationFailure||t.forceMention||t.forceWithInvite||t.onCommentValidationFailure(o.users_without_view,o.ext_users_without_view,o.uninvitable_users,{comment:t.comment,messageMeta:t.messageMeta})}),l=(0,g.t)("comments.an_error_occurred_while_editing_this_comment");e.dispatch((0,_.Q)({promise:o,fallbackError:l}));let s=t.comment.uuid,d=(0,a.Rc)(t.messageMeta);if(s?(0,c.WB)().optimisticallyUpdateWithUUID({Comment:{[s]:{uuid:s,messageMeta:d,messageMetaStylized:d}}},o):(0,c.WB)().optimisticallyUpdate({Comment:{[t.comment.id]:{messageMeta:d,messageMetaStylized:d}}},o),(0,i.sx)("Livegraph Optimistic Comment Update",{flow:"updateCommentContent",isOptimistic:!!s}),t.attachmentUpdates){let e=(0,I.LO)(t.attachmentUpdates.deleted);(0,c.WB)().optimisticallyDelete({CommentAttachment:e},o);let r=(0,I.Mu)(Object.values(t.attachmentUpdates.attachments),t.comment.key,t.comment.id);(0,c.WB)().optimisticallyCreate({CommentAttachment:r},o)}}),j=(0,E.nF)(async(e,t)=>{var r,n,a;let o=e.dispatch(z(t));if(!o||t.thread.isPendingFromSinatra)return;let l=t.thread.comments[0];if(!l)return;let s=e.getState(),c=null==(r=l.client_meta)?void 0:r.node_id,d=(null==(n=l.client_meta)?void 0:n.stable_path)?l.client_meta.stable_path:h.EP;!d&&c&&(d=[c]);let u=t.thread.id,p=t.source;(null==(a=l.client_meta)?void 0:a.page_id)&&"communityHub"===s.selectedView.view&&(u!==s.selectedView.commentThreadId&&e.dispatch(y.$T({...s.selectedView,commentThreadId:u})),s.selectedView.commentThreadId&&(0,i.sx)("Comment Thread Read",{commentThreadId:u,threadType:"community_preview"})),await o,e.dispatch(eo({threadId:u,source:p})),t.thread.comments.some(e=>e.isUnread)&&t.receiptsAPI&&!t.thread.isPendingFromSinatra&&!t.thread.isCanvasMention&&(e.dispatch(B({receiptsAPI:t.receiptsAPI,thread:t.thread})),(0,i.sx)("Comment Thread Read",{commentThreadId:u})),"fullscreen"===s.selectedView.view&&w.glU.setActiveCommentAnchorData({stablePath:`[${d.join(",")}]`})}),z=(0,E.nF)((e,t)=>{var r,n,i,a;let o=e.getState();if(o.comments.activeThread&&o.comments.activeThread.id!==t.thread.id&&!t.skipDeactivatingExistingActiveComment&&!e.dispatch(X()))return null;o=e.getState();let{thread:l,viewport:s,config:c,navigate:d,isOrphanedComment:u}=t,{setCurrentPageIdAsync:m,pageIdForNodeId:_}=s;if(!s.getViewportInfo())return null;let h=l.comments[0];if(!h)return null;let g=null==(r=h.client_meta)?void 0:r.node_id,f=l.page||g&&_(g)||(null==(n=h.client_meta)?void 0:n.page_id),E=[],y=null==(a=null==(i=o.mirror)?void 0:i.appModel)?void 0:a.currentPage,b=!1;f&&(b=y!==f,E.push(m(f).then(async()=>{b&&await (0,p.yQ)()})));let v=o.mirror.appModel.currentTool===w.NLJ.COMMENTS;if(!u&&c.repositionViewportOnCommentSelection){let e=d((0,T.E)(l,s,o.selectedView,b,v),{jump:b,jumpOnAbort:!0});e&&E.push(e)}return Promise.all(E).then()}),$=(0,E.nF)((e,t)=>{var r;(null==(r=e.getState().comments.activeThread)?void 0:r.id)===t.thread.id?e.dispatch(X()):(t.skipDeactivatingExistingActiveComment||e.dispatch(X()),e.dispatch(j(t)),s.zl.set(N.J,!1))}),Z=(0,n.N)("COMMENTS_STOP_EDITING"),q=(0,E.T8)("COMMENTS_SUBMIT_REPLY",(e,t)=>{let r=e.getState(),{commentsWriteApi:n,commentsConfiguration:i}=t,a=r.comments.threads[t.threadId],[o,s]=n.reply({threadId:t.threadId,threadUuid:t.threadUuid,uuid:t.uuid,messageMeta:a.reply.messageMeta,attachments:Object.values(a.reply.attachments||{})},{forceMention:t.forceMention||!1,forceWithInvite:t.forceWithInvite||!1,prototypeMode:"prototype"===r.selectedView.view,trackingContext:t.trackingContext});(0,l.kc)().comments_faster_saving_ux&&!(0,l.kc)().comments_faster_saving_ux_v2&&e.dispatch(eN({commentUuid:t.uuid})),e.dispatch(eS({threadId:t.threadId,reply:{messageMeta:[],attachments:{}}})),o.then(t=>{var n;if(!t)return;let{data:a}=t;if((null==(n=a.message)?void 0:n.warning_message)&&0!==a.message.warning_message.length&&e.dispatch(f.F.enqueue({type:"at-mention-error",message:a.message.warning_message})),a.message&&a.message.is_new_file_follower){let t=i.showNotificationSettings?{text:(0,g.t)("comments.manage"),action:()=>{let t=e.getState();e.dispatch(X()),t.mirror.appModel.showUi||S.Y5.triggerAction("toggle-ui"),t.mirror.appModel.currentTool!==w.NLJ.COMMENTS&&S.Y5.triggerAction("set-tool-comments"),requestAnimationFrame(()=>{e.dispatch(y.j7({type:O.a}))})}}:void 0;e.dispatch(f.F.enqueue({message:(0,g.t)("comments.you_will_be_notified_about_replies"),type:"comments-opted-in",button:t,onDismiss:()=>{}}))}let o=a.meta;e.dispatch(ek({comment:o,userInitiated:!1})),v.ds("Comment Submitted",o.key,r,{commentId:o.id,parentCommentId:o.id,selectedView:r.selectedView.view}),(0,l.kc)().comments_faster_saving_ux_v2&&o.id&&o.uuid&&e.dispatch(eL({commentId:o.id,commentUuid:o.uuid})),e.getState().userFlags.has_created_comment||e.dispatch(D.b({has_created_comment:!0}))}).catch(r=>{var n,i,o,l;let s=null==(i=null==(n=r.data)?void 0:n.reason)?void 0:i.failure_info;if((null==(l=null==(o=r.data)?void 0:o.reason)?void 0:l.reason)!=="comment_validation_failure"||void 0===s||!t.onCommentValidationFailure||t.forceMention||t.forceWithInvite){let n=(0,g.Jv)(r,(0,g.t)("comments.an_error_occurred"));e.dispatch(_.s.error(n)),e.dispatch(eE({threadId:t.threadId,resetStatusOnly:!0})),e.dispatch(eS({threadId:t.threadId,reply:a.reply}));return}t.onCommentValidationFailure(s.users_without_view,s.ext_users_without_view,s.uninvitable_users,{threadId:t.threadId,messageMeta:a.reply.messageMeta,attachments:a.reply.attachments})}).finally(()=>{(0,l.kc)().comments_faster_saving_ux&&!(0,l.kc)().comments_faster_saving_ux_v2&&e.dispatch(eO({commentUuid:t.uuid}))})}),J=(0,E.T8)("COMMENTS_SUBMIT_NEW_COMMENT",(e,t)=>{(0,i.sx)("New comment starting dispatched action",{uuid:t.uuid});let r=e.getState(),n=(0,A.U2)(r.selectedView);if(!n)return Promise.resolve();let a=t.newCommentState||r.comments.newComment,{canvasPosition:o,nodeId:s,nodeOffset:c,inFrame:d,pageId:u,viewport:p,stablePath:m}=t.destination,_=a.selectionBoxAnchor?a.selectionBoxAnchor:void 0;e.dispatch(X({force:!0})),e.dispatch(ef({resetStatusOnly:!1}));let{messageMeta:h,attachments:E}=a;(0,i.sx)("New comment creating promise",{uuid:t.uuid});let[b,I]=t.commentsWriteApi.create({fileKey:n,messageMeta:h,attachments:Object.values(E),pageId:u,uuid:t.uuid,clientMeta:{x:o.x,y:o.y,node_id:s,node_offset:c,page_id:u,viewport:p,in_frame:d,selection_box_anchor:_,stable_path:m}},{prototypeMode:"prototype"===r.selectedView.view,onValidationError:async(t,r,n)=>{if(await F(a.messageMeta,e.dispatch,t,r,n))return{forceMentions:!0,forceWithInvite:!0};if(0!==e.getState().comments.newComment.messageMeta.length){e.dispatch(ef({resetStatusOnly:!0}));let t={text:(0,g.t)("comments.view"),action(t,r){var n;if((null==(n=e.getState().comments.activeThread)?void 0:n.id)===C.hm&&e.getState().comments.newComment.messageMeta.length>0)return e.dispatch(em()),e.dispatch(f.F.update({id:r,message:(0,g.t)("comments.finish_or_clear_your_active_comment_then_hit_view")})),!1;e.dispatch(eg(a)),e.dispatch(Q())}};e.dispatch(f.F.enqueue({type:`comment-creation-failure: ${I}`,error:!1,message:(0,g.t)("comments.oops_one_of_your_comments_never_posted"),onDismiss:()=>{},button:t,timeoutOverride:1/0}));return}e.dispatch(eg(a)),e.dispatch(Q()),e.dispatch(em())}});return(0,l.kc)().comments_faster_saving_ux&&!(0,l.kc)().comments_faster_saving_ux_v2&&e.dispatch(eN({commentUuid:t.uuid})),b.then(d=>{var p;if((0,i.sx)("New comment promise resolved",{uuid:t.uuid}),!d)return;let{data:_}=d;if((0,A.U2)(e.getState().selectedView)!==n)return;if((null==(p=_.message)?void 0:p.warning_message)&&0!==_.message.warning_message.length&&e.dispatch(f.F.enqueue({type:"at-mention-error",message:_.message.warning_message})),_.message&&_.message.is_new_file_follower){let r=t.commentsConfiguration.showNotificationSettings?{text:(0,g.t)("comments.manage"),action:()=>{let t=e.getState();e.dispatch(X({force:!0})),t.mirror.appModel.showUi||S.Y5.triggerAction("toggle-ui"),t.mirror.appModel.currentTool!==w.NLJ.COMMENTS&&S.Y5.triggerAction("set-tool-comments"),requestAnimationFrame(()=>{e.dispatch(y.j7({type:O.a}))})}}:void 0;e.dispatch(f.F.enqueue({message:(0,g.t)("comments.you_will_be_notified_about_replies"),type:"comments-opted-in",button:r,onDismiss:()=>{}}))}let h=_.meta,E=e.getState().comments.newComment!==a;e.dispatch(ef({resetStatusOnly:E})),(0,l.kc)().comments_faster_saving_ux_v2&&h.id&&h.uuid&&e.dispatch(eL({commentId:h.id,commentUuid:h.uuid})),v.ds("Comment Submitted",n,r,{commentId:h.id,locationX:o&&o.x,locationY:o&&o.y,nodeId:s,pageId:u,nodeOffsetX:c&&c.x,nodeOffsetY:c&&c.y,selectedView:r.selectedView.view,stablePath:m}),e.getState().userFlags.has_created_comment||e.dispatch(D.b({has_created_comment:!0})),e.dispatch((0,P.zq)({lastCreatedCommentId:h.id}))}).catch(r=>{var n,o,l;if(e.dispatch(ef({resetStatusOnly:!0})),!((null==(n=null==r?void 0:r.data)?void 0:n.status)>=400&&(null==(o=null==r?void 0:r.data)?void 0:o.status)<500&&(null==(l=null==r?void 0:r.data)?void 0:l.message)))return e.dispatch(f.F.enqueue({type:`comment-creation-failure: ${I}`,message:(0,g.t)("comments.couldn_t_post_your_comment"),error:!0,button:{text:(0,g.t)("comments.retry"),action(){(0,i.sx)("New comment dispatching retry submission",{uuid:t.uuid}),e.dispatch(J({...t,newCommentState:a}))}}}));{let t=(0,g.Jv)(r);if(t)return e.dispatch(f.F.enqueue({type:`comment-creation-failure: ${I}`,message:t,error:!0}))}}).finally(()=>{(0,l.kc)().comments_faster_saving_ux&&!(0,l.kc)().comments_faster_saving_ux_v2&&e.dispatch(eO({commentUuid:t.uuid}))})}),X=(0,E.nF)((e,t)=>{var r;let n=e.getState(),i=t instanceof Object&&t.force,{newComment:o}=n.comments,l=null==(r=n.comments.activeThread)?void 0:r.id,s=(0,a.Kx)(o.messageMeta)&&0===Object.keys(o.attachments).length;if(!i&&l===C.hm&&!s&&o.discardAttempt<1)return e.dispatch(em()),!1;let c=l&&n.comments.threads[l],d=c&&(0,a.Kx)(c.reply.messageMeta)&&0===Object.keys(c.reply.attachments||{}).length;if(!i&&l&&c&&!d&&(!c.discardAttempts||c.discardAttempts<1))return e.dispatch(ep(l)),!1;let u=n.comments.editingComment;return!i&&u?(e.dispatch(ep(u.id)),!1):("fullscreen"===n.selectedView.view&&w.glU.setActiveCommentAnchorData({stablePath:h.x7}),"communityHub"===n.selectedView.view&&e.dispatch(y.$T({...n.selectedView,commentThreadId:void 0})),e.dispatch(eD()),e.dispatch(eM()),e.dispatch(ef({resetStatusOnly:!1})),n.tooltip&&e.dispatch(k.jD()),!0)}),Q=(0,E.T8)("COMMENTS_SET_NEW_COMMENT_ACTIVE",(e,t)=>{let r=e.getState();if("fullscreen"===r.selectedView.view){if(r.comments.newComment.anchorPosition){let{x:e,y:n}=r.comments.newComment.anchorPosition,i=null==t?void 0:t.stablePath;i?w.glU.setActiveCommentAnchorData({stablePath:`[${i.join(",")}]`}):w.glU.setActiveCommentAnchorData(w.glU.getCommentAnchorDataAtPosition(e,n))}else w.glU.setActiveCommentAnchorData({stablePath:h.x7})}}),ee=(0,E.T8)("COMMENTS_SET_NEW_SELECTION_BOX_ANCHOR_POSITION",e=>{e.getState().userFlags.has_created_selection_comment||e.dispatch(D.b({has_created_selection_comment:!0}))}),et=(0,E.T8)("COMMENTS_SET_NEW_ANCHOR_POSITION",(e,t)=>{if("fullscreen"===e.getState().selectedView.view){let{x:e,y:r}=t.anchorPosition;w.glU.setActiveCommentAnchorData(w.glU.getCommentAnchorDataAtPosition(e,r))}}),er=(0,n.N)("COMMENTS_REMOVE_HOVERED_PIN"),en=(0,n.N)("COMMENTS_ADD_HOVERED_PIN"),ei=(0,n.N)("COMMENTS_REMOVE_EMPHASIZED_PIN"),ea=(0,n.N)("COMMENTS_ADD_EMPHASIZED_PIN"),eo=(0,n.N)("COMMENTS_SET_ACTIVE"),el=(0,E.nF)(e=>{var t,r;let n=e.getState(),a=n.selectedView;"subView"in a&&("hubFile"===a.subView||"plugin"===a.subView)&&(0,i.sx)("at_mention_search_started",{comment_type:(null==(t=n.comments.activeThread)?void 0:t.id)?"community_pinned":"community_general",profile_id:null==(r=n.user)?void 0:r.community_profile_id,resource_id:"hubFile"===a.subView?a.hubFileId:a.publishedPluginId,resource_type:"hubFile"===a.subView?"hub_file":"plugin"})}),es=(0,n.N)("COMMENTS_SET_TYPEAHEAD_POSITION_OFFSET"),ec=(0,n.N)("COMMENTS_SET_TYPEAHEAD"),ed=(0,n.N)("COMMENTS_SHOW_EMOJI_PICKER"),eu=(0,n.N)("COMMENTS_SET_ACTIVE_SORT"),ep=(0,E.T8)("COMMENTS_DISCARD_COMMENT_REPLY_ATTEMPT",e=>{var t;let r=e.getState().comments,n=null==(t=r.activeThread)?void 0:t.id,i=n&&r.threads[n];if(i&&i.discardAttempts===a.B2){let e=(0,a._Z)(i.reply.messageMeta),t=(0,a.Kx)(i.reply.messageMeta);(0,u.Lo)("Comment discard active thread attempt","comment info",{threadId:n,messageLength:e.length,isMessageDiscardable:t}),(0,u.kF)("isMessageDiscardable",String(t)),(0,u.kF)("messageType","reply"),(0,u.us)("User attempted to close comments more than max attempt times")}}),em=(0,E.T8)("COMMENTS_DISCARD_NEW_COMMENT_ATTEMPT",e=>{let t=e.getState().comments.newComment;if(t.discardAttempt===a.B2){let e=(0,a._Z)(t.messageMeta),r=(0,a.Kx)(t.messageMeta);(0,u.Lo)("Comment discard new comment attempt","comment info",{messageLength:e.length,isMessageDiscardable:r}),(0,u.kF)("isMessageDiscardable",String(r)),(0,u.kF)("messageType","new"),(0,u.us)("User attempted to close comments more than max attempt times")}}),e_=(0,n.N)("COMMENTS_SET_SHOW_ONLY_MY_COMMENTS"),eh=(0,n.N)("COMMENTS_SET_SHOW_RESOLVED_COMMENTS"),eg=(0,n.N)("COMMENTS_REVERT_NEW_COMMENT"),ef=(0,n.N)("COMMENTS_RESET_NEW_COMMENT"),eE=(0,n.N)("COMMENTS_RESET_THREAD"),ey=(0,n.N)("COMMENTS_SET_NEW_COMMENT_ATTACHMENT"),eb=(0,n.N)("COMMENTS_SET_NEW_COMMENT_MESSAGE"),ev=(0,n.N)("COMMENTS_SET_NEW_COMMENT"),eI=(0,n.N)("COMMENTS_SET_REPLY_ATTACHMENT"),eT=(0,n.N)("COMMENTS_SET_REPLY_MESSAGE"),eS=(0,n.N)("COMMENTS_SET_REPLY"),ew=(0,n.N)("COMMENTS_SET_EDITING_ATTACHMENT"),eA=(0,n.N)("COMMENTS_SET_EDITING"),eC=(0,n.N)("COMMENTS_SET_ACTIVE_DRAG_TARGET"),eN=(0,n.N)("COMMENTS_SET_SAVING"),eO=(0,n.N)("COMMENTS_CLEAR_SAVING"),eL=(0,n.N)("COMMENTS_STORE_SERVER_ID_FOR_LG_PENDING_UUID"),eR=(0,n.N)("COMMENTS_CLEAR_LG_PENDING_UUID"),eP=(0,n.N)("COMMENTS_DEL"),ek=(0,E.T8)("COMMENTS_POST",(e,t)=>{let r=e.dispatch,n=e.getState(),{comment:i}=t;if(n.user&&n.user.id===i.user_id&&!t.userInitiated){if(i.parent_id){let e=n.comments.threads[i.parent_id];if(e&&e.state===C.EB.BUSY){let n=!function(e,t){if(!e)return!t;if(!t)return!e;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){let n=e[r],i=t[r],a=new Set(Object.keys(n)),o=Object.keys(i);if(a.size!==o.length||!o.every(e=>!!a.has(e)&&n[e]===i[e]))return!1}return!0}(t.comment.message_meta,e.reply.messageMeta);r(eE({threadId:i.parent_id,resetStatusOnly:n}))}}else{let e=n.comments.newComment;e&&e.state===C.EB.BUSY&&r(X({force:!0})),r(ef({resetStatusOnly:!1}))}}}),eD=(0,n.N)("COMMENTS_RESET"),eM=(0,n.N)("COMMENTS_RESET_ACTIVE_ID")},63397:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>M,Ai:()=>ee,Ch:()=>O,Dg:()=>P,Hx:()=>W,KF:()=>V,RS:()=>k,Rx:()=>D,X2:()=>er,Zj:()=>U,_8:()=>j,_F:()=>G,aP:()=>X,av:()=>Z,cO:()=>x,cR:()=>R,d6:()=>en,dL:()=>z,e6:()=>et,eN:()=>H,h1:()=>J,ig:()=>B,oB:()=>Q,p4:()=>Y,r1:()=>F,rO:()=>L,vQ:()=>q,vr:()=>$});var n=r(167249),i=r(776250),a=r(183297),o=r(27087),l=r(881388),s=r(939863),c=r(123026),d=r(392592),u=r(837324),p=r(913270),m=r(980820),_=r(738269),h=r(994988),g=r(99403),f=r(697551),E=r(782501),y=r(147206),b=r(320741),v=r(935757),I=r(440535),T=r(555328),S=r(66037),w=r(746058),A=r(975350),C=r(507877),N=r(651705);let O=(0,n.N)("COMMUNITY_HUB_SHOW_ADMIN_PROFILE_BANNER"),L=(0,n.N)("COMMUNITY_HUB_HIDE_ADMIN_PROFILE_BANNER"),R=c.setAuthedActiveCommunityProfile,P=(0,m.nF)((e,t)=>{var r;let n;let{user:a,authedUsers:o,orgUsersByOrgId:l,authedTeamsById:c,teamAdminRolesForAuthedUsers:u,authedProfilesById:m,selectedView:h,currentUserOrgId:g}=e.getState(),E=t.profileId?m[t.profileId]:null,b=t.view&&(!E||(0,f.UK)(E,t.view))?t.view:{view:"communityHub",subView:"searchAndBrowse",data:(0,p.Gu)()};if(!E){e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.profile_not_found"),type:"COMMUNITY_PROFILE_ERROR"})),e.dispatch(_.$T(b));return}let I=g;if(E.org_id){I=E.org_id;let e=l.orgUsers[E.org_id];n=Object.keys(o.byId).find(t=>{let r=e[t];if(r&&(0,y.Ay)(r.permission)>=S.jh.ADMIN)return r.user_id})}else E.team_id?(I=(null==(r=c[E.team_id])?void 0:r.org_id)||null,n=Object.keys(o.byId).find(e=>{var t;let r=u[e];return null==(t=null==r?void 0:r.find(e=>e.team_id===E.team_id))?void 0:t.user_id})):n=E.primary_user_id===(null==a?void 0:a.id)?null==a?void 0:a.id:o.orderedIds.find(e=>{var t,r;return null==(r=null==(t=E.associated_users)?void 0:t.find(t=>t.user_id===e))?void 0:r.user_id});if((0,v.Il)(E.id),(0,i.sx)("Community profile IA switched",{profileId:E.id,view:h.view}),e.dispatch(R(E)),e.dispatch(O()),n&&(n!==(null==a?void 0:a.id)||g!==I)){let t={userId:n,orgId:I};e.dispatch(C._l({workspace:t,view:b}))}else e.dispatch(_.$T(b))}),k=(0,n.N)("COMMUNITY_HUB_ADD_FOLLOW"),D=(0,n.N)("COMMUNITY_HUB_DELETE_FOLLOW"),M=(0,n.N)("COMMUNITY_HUB_SAVE_PAGE_STATE"),x=(0,n.N)("COMMUNITY_HUB_RESET_COMMENT_STATE"),F=(0,n.N)("COMMUNITY_HUB_SET_COMMENTS"),U=(0,n.N)("COMMUNITY_HUB_SET_COMMENTS_ACTIVE_FEED_TYPE"),B=(0,n.N)("COMMUNITY_HUB_SET_COMMENT_REPLIES"),H=(0,n.N)("COMMUNITY_HUB_ADD_NEW_COMMENTS_QUEUE"),V=(0,n.N)("COMMUNITY_HUB_REMOVE_FROM_NEW_COMMENTS_QUEUE"),G=(0,n.N)("COMMUNITY_HUB_FLUSH_NEW_COMMENTS_QUEUE"),W=(0,n.N)("COMMENTS_INSERT_COMMUNITY_MENTION"),K=(e,t)=>{let r=/\?/.test(e)?"&":"?";return e+`${r}${t}`},Y=(0,m.nF)((e,t)=>{var r;if(!(0,a.u9)(t))return;let n=`/api/${(0,f.n)(t.resourceType)}/${t.resourceId}/comments`;!t.selectedCommentId||t.selectedCommentId===I.hm||(null==(r=t.pagination)?void 0:r.selected_comment)||(n=K(n,`selected_comment_id=${t.selectedCommentId}`)),t.activeFeedType===T.Qv.ME&&(n=K(n,`feed_type=${t.activeFeedType}`),void 0===t.numCommentsForResource&&(n=K(n,"include_total_count=true"))),(0,a.En)(n,t.pageSizeOverride??a.vs,t,a.AS).then(e=>{let r=!e.selected_comment||e.comments.find(t=>{var r;return t.id===(null==(r=e.selected_comment)?void 0:r.id)}),{commentsById:n,authorsById:i,feed:a}=(0,f.HR)(r?e.comments:[...e.comments,e.selected_comment]),o=e.pagination;e.selected_comment&&(o.selected_comment=e.selected_comment);let l={...e,pagination:e.pagination,totalNumberOfComments:e.total_count,commentsById:n,authorsById:i,feed:a,activeFeedType:t.activeFeedType,type:t.resourceType,id:t.resourceId,mentionedProfiles:e.mentioned_profiles};e.selected_comment&&(l.selectedCommentId=e.selected_comment.id),t.onSuccess&&t.onSuccess(l)}).catch(r=>{e.dispatch(l.s.error((0,s.t)("community.actions.unable_to_fetch_comments"))),t.onError&&t.onError()})}),j=(0,m.T8)("COMMUNITY_HUB_RESTRICT_PROFILE",(e,{profileId:t,blockedProfileId:r,onSuccess:n})=>{o.Ay.post(`/api/profile/${r}/block`,{block_type:"restrict",profile_id:t}).then(()=>{n&&n()}).catch(t=>{let r=(0,s.Jv)(t);r&&e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.couldnt_restrict_profile_error",{error:r}),type:"RESTRICT_PROFILE_ERROR"}))})}),z=(0,m.T8)("COMMUNITY_HUB_UNRESTRICT_PROFILE",(e,{profileId:t,blockedProfileId:r,onSuccess:n})=>{o.Ay.del(`/api/profile/${r}/block`,{block_type:"restrict",profile_id:t}).then(()=>{n&&n()}).catch(t=>{let r=(0,s.Jv)(t);r&&e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.couldnt_unrestrict_profile_error",{error:r}),type:"UNRESTRICT_PROFILE_ERROR"}))})}),$=(0,m.T8)("COMMUNITY_HUB_SET_COMMENT_STATE",(e,t)=>{let{id:r,type:n}=t;(r!==e.getState().communityHub.comments.id||n!==e.getState().communityHub.comments.type)&&e.dispatch(x()),e.dispatch(F(t))});(0,m.nF)((e,{profileId:t,on404Redirect:r},{loadingKey:n})=>{let i=w.s.getProfile({profileId:t});(0,b.N)(i,e,n),i.then(({data:t})=>{e.dispatch(N.Oo(t.meta.profile)),e.dispatch(_.$T(e.getState().selectedView))}).catch(t=>(404===t.status&&r?r():e.dispatch(l.s.error((0,s.t)("community.actions.error_fetching_profile_information"))),null))});let Z=(0,m.T8)("COMMUNITY_HUB_GET_PROFILE_BY_HANDLE",(e,{handle:t,on404Redirect:r},{loadingKey:n})=>{let i=e.getState().currentUserOrgId,a=w.s.getHandle({currentOrgId:i||void 0,handle:t});(0,b.N)(a,e,n),a.then(({data:t})=>{e.dispatch(N.Oo(t.meta.profile))}).catch(({data:t})=>{(null==t?void 0:t.status)===404&&r&&r(),e.dispatch(l.s.error((0,s.t)("community.actions.error_fetching_profile_information")))})},({handle:e})=>`COMMUNITY_HUB_GET_PROFILE_BY_HANDLE_${e}`),q=(0,m.T8)("COMMUNITY_HUB_CREATE_PROFILE",(e,t,{loadingKey:r})=>{let{website:n,description:i,location:a,profileHandle:c,onSuccess:d,userId:u,teamId:p,orgId:m}=t,_=o.Ay.post("/api/profile",{website:n,description:i,location:a,profile_handle:c,primary_user_id:u,team_id:p,org_id:m});(0,b.N)(_,e,r),_.then(({data:t})=>{e.dispatch(N.HZ(t.meta)),e.dispatch(N.Oo(t.meta));let{currentUserOrgId:r,orgById:n}=e.getState(),i=r&&n[r];r&&i&&r===m&&e.dispatch(g.F6({id:r,community_profile_handle:t.meta.profile_handle,community_profile_id:t.meta.id})),d&&d(e)}).catch(t=>{let r=(0,s.Jv)(t);r&&e.dispatch(l.s.error(r))})},({userId:e})=>`COMMUNITY_HUB_CREATE_PROFILE_${e}`),J=(0,m.nF)((e,t)=>{o.Ay.post("/api/profile/generate_handle").then(({data:r})=>{e.dispatch(N.HZ(r.meta)),e.dispatch(N.Oo(r.meta)),t.onSuccess&&t.onSuccess(e)}).catch(({data:t})=>{e.dispatch(l.s.error(t.message))})}),X=(0,m.T8)("COMMUNITY_HUB_UPDATE_PROFILE",(e,t,{loadingKey:r})=>{var n;let{website:i,twitter:a,instagram:c,pronouns:p,description:m,location:h,profileId:E,profileHandle:y,onSuccess:v}=t,I=e.getState().communityHub.currentProfile;if(E===(null==I?void 0:I.id)&&Object.entries(t).every(([e,t])=>void 0===t||e in I&&I[e]===t))return;let T=null==a?void 0:a.trim(),S=null==c?void 0:c.trim();if(T&&(null==I?void 0:I.twitter)!==T&&!u.HD.test(T)){e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.your_twitter_handle_is_not_valid",{handle:T}),error:!0}));return}if(S&&(null==I?void 0:I.instagram)!==S&&!u.Co.test(S)){e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.your_instagram_handle_is_not_valid",{handle:S}),error:!0}));return}let w=o.Ay.put(`/api/profile/${E}`,{website:i,twitter:T,instagram:S,pronouns:p,description:m,location:h,profile_handle:y});(0,b.N)(w,e,r);let A=null==(n=e.getState().user)?void 0:n.community_profile_handle;w.then(({data:r})=>{var n;let{communityHub:i,currentUserOrgId:a,orgById:o}=e.getState();(null==(n=i.currentProfile)?void 0:n.id)===r.meta.id&&e.dispatch(N.Oo(r.meta));let l=o[a];if(l&&"string"==typeof l.id&&l.id===r.meta.org_id&&e.dispatch(g.F6({id:r.meta.org_id,community_profile_handle:r.meta.profile_handle})),y){let t=e.getState().selectedView;(0,f.Cj)(t)&&(null==t?void 0:t.handle)===A&&e.dispatch(_.$T({view:"communityHub",subView:"handle",handle:y})),r.meta.primary_user_id?e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.your_profile_handle_was_set_to_profile_handle",{profileHandle:y}),type:"profile-handle"})):r.meta.team_id?e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.your_team_s_handle_was_set_to_profile_handle",{profileHandle:y}),type:"team-handle"})):r.meta.org_id&&e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.your_organization_s_handle_was_set_to_profile_handle",{profileHandle:y}),type:"org-handle"}))}["twitter","location","instagram","website","description"].forEach(n=>{if(n in r.meta&&n in t){let t={twitter:(0,s.t)("community.actions.your_twitter_handle_was_updated"),location:(0,s.t)("community.actions.your_location_was_updated"),instagram:(0,s.t)("community.actions.your_instagram_handle_was_updated"),website:(0,s.t)("community.actions.your_website_url_was_updated"),description:(0,s.t)("community.actions.your_description_was_updated")};e.dispatch(d.F.enqueue({message:t[n],type:"profile-updated"}))}}),v&&v(e)}).catch(t=>{let r=(0,s.Jv)(t);r&&e.dispatch(l.s.error(r))})},({profileId:e})=>`COMMUNITY_HUB_UPDATE_PROFILE_${e}`),Q=(0,m.nF)((e,t,{loadingKey:r})=>{let{profileId:n,handle:i}=t;o.Ay.del(`/api/profile/${n}`).then(()=>{e.dispatch(N.cr(i));let{currentUserOrgId:t,orgById:r}=e.getState(),a=t&&r[t];t&&a&&a.community_profile_id===n&&e.dispatch(g.F6({id:t,community_profile_handle:void 0,community_profile_id:void 0})),e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.profile_deleted")}))}).catch(()=>{e.dispatch(l.s.error((0,s.t)("community.actions.unable_to_delete_profile_please_try_again_later")))})}),ee=(0,m.T8)("COMMUNITY_HUB_UPLOAD_PROFILE_COVER_IMAGE",async(e,{file:t,profileId:r,onSuccessCallback:n},{loadingKey:i})=>{let a=(0,E.ck)(t).then(e=>(function(e,t,r,n){return t?o.Ay.post(e).then(({data:e})=>e.meta).then(async({cover_image_path:e,signature:t,fields:r})=>{let i=new FormData;return r&&Object.entries(r).forEach(([e,t])=>i.append(e,t)),i.set("content-type",n.type),i.append("file",n),await fetch(e,{method:"POST",body:i}),{cover_image_path:e,signature:t}}):Promise.resolve({cover_image_path:"",signature:""})})(`/api/profile/${r}/upload`,e,t.type,t));(0,b.N)(a,e,i),await a.then(({signature:e})=>o.Ay.put(`/api/profile/${r}`,{signature:e})).then(({data:t})=>{e.dispatch(N.Oo(t.meta)),n()}).catch(t=>{e.dispatch(l.s.error(t?(0,s.t)("community.actions.an_error_occurred_with_error",{error:t}):(0,s.t)("community.actions.an_error_occurred")))})},({profileId:e})=>`COMMUNITY_HUB_UPLOAD_PROFILE_COVER_IMAGE_${e}`),et=(0,m.T8)("COMMUNTY_HUB_FOLLOW_ENTITY",async(e,t,{loadingKey:r})=>{let n=o.Ay.put("/api/follows",{followed_profile_id:t});(0,b.N)(n,e,r),await n.then(({data:r})=>{var n,i;(null==(n=e.getState().user)?void 0:n.community_profile_id)&&(e.dispatch(k({followedProfileId:t,currentUserProfileId:null==(i=e.getState().user)?void 0:i.community_profile_id})),e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.followed_profile_name",{profileName:r.meta.followed_profile.name}),type:"COMMUNITY_HUB_FOLLOW"})))}).catch(t=>{let r=(0,s.Jv)(t);r&&e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.unable_to_follow_this_profile_profile_name",{profileName:r}),type:"COMMUNITY_HUB_FOLLOW_FAILED",error:!0}))})},e=>`COMMUNTY_HUB_FOLLOW_ENTITY_${e}`),er=(0,m.T8)("COMMUNTY_HUB_UNFOLLOW_ENTITY",(e,t,{loadingKey:r})=>{let n=o.Ay.del("/api/follows",{followed_profile_id:t});(0,b.N)(n,e,r),n.then(()=>{var r,n;(null==(r=e.getState().user)?void 0:r.community_profile_id)&&(e.dispatch(D({followedProfileId:t,currentUserProfileId:null==(n=e.getState().user)?void 0:n.community_profile_id})),e.dispatch(d.F.enqueue({message:(0,s.t)("community.actions.unfollowed_profile"),type:"COMMUNITY_HUB_UNFOLLOW"})))}).catch(t=>{let r=(0,s.Jv)(t);r&&e.dispatch(d.F.enqueue({message:`Unable to unfollow this profile: ${r}`,type:"COMMUNITY_HUB_UNFOLLOW_FAILED",error:!0}))})},e=>`COMMUNTY_HUB_UNFOLLOW_ENTITY_${e}`);function en(e){return{updateStatus:(0,n.N)(`${e}_UPDATE_PUBLISH_STATUS`),updateMetadata:(0,n.N)(`${e}_UPDATE_PUBLISH_METADATA`),clearMetadata:(0,n.N)(`${e}_CLEAR_PUBLISH_METADATA`),clearMetadataAndStatus:(0,n.N)(`${e}_CLEAR_PUBLISHING`)}}(0,m.nF)(async(e,t)=>{var r;let n;let{thread:i,resolved:a}=t,l=e.getState();a&&(null==(r=l.comments.activeThread)?void 0:r.id)===i.id&&!l.comments.showResolved&&e.dispatch(A.UU()),n=a?o.Ay.put(`/api/community_comments/${i.id}/resolve`):o.Ay.put(`/api/community_comments/${i.id}/unresolve`),await n.then(({data:t})=>{e.dispatch(h.kE({comment:{id:i.id,resolved_at:t.meta.resolved_at}}))}).catch(t=>{e.dispatch(d.F.enqueue({error:!0,message:a?(0,s.t)("community.actions.failed_to_resolve_comment"):(0,s.t)("community.actions.failed_to_unresolve_comment")}))})})},609219:(e,t,r)=>{"use strict";r.d(t,{M2:()=>_,Sp:()=>p,k3:()=>m,oQ:()=>u});var n=r(167249),i=r(776621),a=r(286640),o=r(466636),l=r(980820),s=r(320741),c=r(596578);(0,l.nF)((e,t)=>{var r,n,l;let{payments:s,source:c}=t,u=null==(r=e.getState().user)?void 0:r.id;if(!u||!s)return;let p=s.filter(o.QQ),m=`${d}_${u}`,_=null==(n=(0,a.TQ)())?void 0:n.getItem(m);if(_){let e=JSON.parse(_);if(Array.isArray(e)){let t=new Set(p.map(e=>e.monetized_resource_metadata_id)),r=e.map(e=>e.monetized_resource_metadata_id).filter(e=>!t.has(e));r.length&&(0,i.x1)("community","[ActivePayments] mismatch detected",{source:c,userId:u,revoked:r,previousPayments:e,currentPayments:s},{reportAsSentryError:!0})}}let h=JSON.stringify(p);null==(l=(0,a.TQ)())||l.setItem(m,h)});let d="debug_succeeded_payments",u=(0,l.nF)((e,t,{loadingKey:r})=>{let n=c.C.getBuyerActivePayments();(0,s.N)(n,e,r),n.then(({data:t})=>{e.dispatch(_(t.meta))}).catch(()=>{})}),p=(0,n.N)("M10N_DEL_ACTIVE_USER_PAYMENT"),m=(0,n.N)("M10N_REALTIME_ACTIVE_USER_PAYMENT"),_=(0,n.N)("M10N_SET_ACTIVE_USER_PAYMENTS")},384162:(e,t,r)=>{"use strict";r.d(t,{Dw:()=>_,sz:()=>m,wJ:()=>p});var n=r(167249),i=r(776621),a=r(868389),o=r(84336),l=r(697551),s=r(320741),c=r(555328),d=r(222085),u=r(980820);let p=(0,n.N)("COMMUNITY_SET_SHELVES_FOR_SHELF_TYPE"),m=(0,u.T8)("COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE",(e,{shelfType:t,limit:r},{loadingKey:n})=>{let a={shelfType:t,limitShelfContent:r},o=d.A.getCommunityShelves(a);(0,s.N)(o,e,n),o.then(({data:r})=>{let n=r.meta;n.forEach(t=>h(e.dispatch,t.shelf_content)),e.dispatch(p({shelfType:t,shelves:n}))}).catch(e=>{(0,i.x1)("collections","error fetching collections",{...a,error:e.toString()})})},({shelfType:e,limit:t})=>`COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE_${e}_${t}`),_=(0,u.T8)("COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE_AND_FILTER_LABEL",(e,{shelfType:t,filterLabel:r,limit:n},{loadingKey:i})=>{let a=d.A.getCommunityShelves({shelfType:t,filterLabel:r,limitShelfContent:n});(0,s.N)(a,e,i),a.then(({data:r})=>{let n=r.meta;n.forEach(t=>h(e.dispatch,t.shelf_content)),e.dispatch(p({shelfType:t,shelves:n}))})},({shelfType:e,filterLabel:t,limit:r})=>`COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE_AND_FILTER_LABEL_${e}_${t}_${r}`);function h(e,t){let r=[],n=[],i=[];t.forEach(e=>{let t=(0,l.x1)(e);t===c.Ug.HUB_FILE?r.push(e):t===c.Ug.PLUGIN?n.push(e):t===c.Ug.WIDGET&&i.push(e)}),e((0,a.Sb)({hubFiles:r,src:"fetchShelvesForShelfType"})),e((0,o.Qi)({publishedPlugins:[...n,...i],src:"fetchShelvesForShelfType"}))}},410424:(e,t,r)=>{"use strict";r.d(t,{Af:()=>ei,D3:()=>T.D3,FO:()=>ea,L1:()=>T.L1,N4:()=>eT,QA:()=>eo,Qi:()=>eC,Ri:()=>en,Sb:()=>T.Sb,VS:()=>eh,ax:()=>eS,bk:()=>eE,eq:()=>es,i9:()=>ey,oO:()=>ef,p7:()=>ed,rH:()=>em,rL:()=>eu,sW:()=>eO,ts:()=>ep,vr:()=>eN,wO:()=>e_,yh:()=>ew,zm:()=>eA});var n=r(167249),i=r(776250),a=r(511617),o=r(354703),l=r(737947),s=r(404843),c=r(966712),d=r(374626),u=r(309225),p=r(563706),m=r(776621),_=r(881396),h=r(304783),g=r(27087),f=r(761870),E=r(881388),y=r(939863),b=r(392592),v=r(848680),I=r(987051),T=r(868389),S=r(980820),w=r(63397),A=r(944682),C=r(738269),N=r(662275),O=r(986270),L=r(107877),R=r(988022),P=r(697551),k=r(782501),D=r(852800),M=r(661060),x=r(820642),F=r(132135),U=r(99506),B=r(320741),H=r(973131),V=r(284321),G=r(984968),W=r(813408),K=r(809073),Y=r(637590),j=r(851363),z=r(955617),$=r(301400),Z=r(344202),q=r(897925),J=r(667528),X=r(765431),Q=r(876401),ee=r(936500),et=r(651705);let er=r(876401).ZS,en=(0,n.N)("PUT_FIG_FILE_PUBLISHED_AS_HUB_FILE"),ei=(0,n.N)("UPDATE_HUB_FILE_PAGE_TITILE"),ea=(0,n.N)("DEL_FIG_FILE_PUBLISHED_AS_HUB_FILE"),eo=(0,n.N)("PUT_FIG_FILE_DUPLICATE_FROM_HUB_FILE"),el=(0,n.N)("DEL_FIG_FILE_DUPLICATE_FROM_HUB_FILE"),es=(0,n.N)("HUB_FILE_PUT_HUB_FILE_REMIX"),ec=e=>{let t=(0,y.t)("community.actions.log_in_or_create_an_account_to_duplicate_this_file");if(p.rr){window.location.href="/login";return}e.dispatch(f.I.init({origin})),e.dispatch(N.to({type:Z.x,data:{headerText:t}}))},ed=(0,S.T8)("DUPLICATE_HUB_FILE",(e,t,{loadingKey:r})=>{let n=e.getState();if(!n.user){ec(e);return}let o=(0,v.Z)(n),s={headers:{...g.Ay.defaults.headers,"X-Figma-User-ID":t.workspace.userId}},c=g.Ay.post(`/api/hub_files/v2/${t.hubFileId}/copy`,{org_id:t.workspace.orgId},s);(0,B.N)(c,e,r),c.then(({data:r})=>{let n=r.meta;(0,i.sx)(L.M5.HUB_FILE_DUPLICATED,{hubFileId:t.hubFileId,figFileKey:n.key,...o}),"whiteboard"===n.editor_type&&e.dispatch(O.Hx({storeInRecentsKey:K.$A.FigJam,id:t.hubFileId,type:K.vt.CommunityResource}));let s=(0,F.to)(n);s=(0,a.dR)(s,{[x.pt.KEY]:x.pt.VALUE,fuid:t.workspace.userId}),l.Ay.redirect(s,p.rr?void 0:"_blank"),e.dispatch(C.oB())}).catch(t=>{e.dispatch(b.F.enqueue({error:!0,message:(0,y.t)("community.actions.failed_to_duplicate_file_error",{error:(0,y.Jv)(t,(0,y.t)("community.actions.try_again_or_contact_support_figma_com"))})}))})},({hubFileId:e})=>`DUPLICATE_HUB_FILE_${e}`),eu=(0,S.nF)((e,t)=>{var r;let{canRetry:n=!0}=t,i=e.getState(),a=i.currentUserOrgId,o=(0,c.kc)().ps_benchmark?i.currentTeamId:null;if(t.folderId){let n=null==(r=i.folders[t.folderId])?void 0:r.team_id,a=n?i.teams[n]:null,o=i.hubFiles[t.hubFileId].viewer_mode===U.y4.WHITEBOARD?U._Y.WHITEBOARD:U._Y.DESIGN,l="whiteboard"===o?{type:G.sK.ADD_FIGJAM_FILE}:{type:G.sK.ADD_DESIGN_FILE};if(a&&!(0,G.rR)(a,l)){e.dispatch(N.to({type:q.Y,data:{teamId:a.id,createInDrafts:()=>{e.dispatch(eu({...t,folderId:void 0}))},teamName:a.name,editorType:o,dispatch:e.dispatch,action:j.ZN.CREATE_FILE_FROM_TEMPLATE}}));return}}return g.Ay.post(`/api/hub_files/template/${t.hubFileId}/copy`,{folder_id:t.folderId,org_id:a,team_id:o||void 0}).then(({data:r})=>{let n=r.meta;(0,R.f5)("File Created",n,{selectedView:i.selectedView},{source:t.source}),t.callback&&t.callback(null==n?void 0:n.key),"whiteboard"===n.editor_type&&e.dispatch(O.Hx({storeInRecentsKey:K.$A.FigJam,id:t.hubFileId,type:K.vt.CommunityResource}));let a=(0,F.to)(n);l.Ay.redirect(a,t.openInNewTab&&!p.rr?"_blank":void 0)}).catch(r=>{let i={error:!0,message:(0,y.t)("community.actions.failed_to_create_a_new_file_from_hub_file_name",{hubFileName:t.hubFileName})};n&&(i.button={text:(0,y.t)("community.actions.retry"),action:()=>e.dispatch(eu({...t,canRetry:!1}))}),e.dispatch(b.F.enqueue(i))})}),ep=(0,S.T8)("HUB_FILE_GET_VERSIONS",async(e,{hubFileId:t,callback:r},{loadingKey:n})=>{let i=null,a=Promise.resolve(null),o=$.H.getVersions({id:t});a=o;try{i=(await o).data.meta}catch(e){return}(0,B.N)(a,e,n);let{fig_file_metadata:l,remixed_from_metadata:s,...c}=i,d=c.related_content,u=c.remixed_to_metadata,p=[...d?d.content:u||[],c];s&&p.push(s),e.dispatch((0,T.Sb)({hubFiles:p,src:"getHubFileVersions"})),l&&(e.dispatch(en({hubFileId:c.id,fileKey:l.key})),l.file&&e.dispatch(A.yJ({file:l.file})),l.roles&&e.dispatch(ee.uo({roles:l.roles}))),e.dispatch(ei({hubFileId:c.id}));let m=new Set(null==u?void 0:u.map(e=>e.id));e.dispatch(es({hubFileId:c.id,from:s?s.id:null,to:m})),null==r||r(c)},({hubFileId:e})=>`HUB_FILE_GET_VERSIONS_${e}`),em=(0,S.nF)((e,{fileKey:t})=>{(0,c.Ay)().user_data&&z.D.getHubFileMetadata({fileKey:t}).then(({data:r})=>{let n=r.meta.published_as;(null==n?void 0:n.id)?e.dispatch(en({hubFileId:n.id,fileKey:t})):e.dispatch(ea({fileKey:t}));let i=r.meta.remixed_from_metadata,a=r.meta.is_preview;(null==i?void 0:i.id)?e.dispatch(eo({hubFileId:i.id,fileKey:t,isPreview:!!a})):e.dispatch(el({fileKey:t}));let o=[n,i].filter(e=>!!e);o.length>0&&e.dispatch((0,T.Sb)({hubFiles:o,src:"getHubFileMetadata"}))}).then(()=>{(0,c.kc)().ce_new_missing_fonts_logging&&(0,M.DI)()}).catch(e=>{console.error(e)}).finally(()=>{d.zl.set(s.x,!0)})}),e_=(0,w.d6)("HUB_FILE"),{updateMetadata:eh,updateStatus:eg,clearMetadataAndStatus:ef,clearMetadata:eE}=e_,ey=(0,S.nF)((e,t)=>{let r=t.onSuccess,n=t.viewerMode===U.y4.SLIDE_TEMPLATE&&(0,I._)();delete t.onSuccess;let a=[];if(n&&J.UM){a=(0,V.AC)(e.getState());let r=(0,V.x6)(e.getState());if(!t.hubFileId&&0===a.length||(0,Q.aB)(Object.values(r),new Set(a))){(0,J.Dl)(e.dispatch);return}d.zl.set(J.UM,{state:J.F4.PUBLISH_HUB_FILE_INITIATED})}e.dispatch(eg({id:t.fileKey,status:{code:W.aP.UPLOADING}})),ev(e,t).then(({hubFile:n,actingProfile:a,profileCreated:o})=>(e.dispatch((0,T.Sb)({hubFiles:[n],src:"createHubFile"})),e.dispatch(en({hubFileId:n.id,fileKey:t.fileKey})),o&&(a.profile_created=o,e.dispatch(et.HZ(a))),e.dispatch(et.Oo(a)),e.dispatch(eg({id:t.fileKey,status:{code:W.aP.SUCCESS}})),t.suggestedCategory&&(0,i.sx)("community_category_suggestion",{resourceType:"hub_file",resourceId:n.id,categoryId:n.category_id,suggestedCategory:t.suggestedCategory},{forwardToDatadog:!0}),null==r||r(n),{hubFile:n})).then(({hubFile:t})=>{if(!n||null===er)return;let r=(0,V.AC)(e.getState());if(r.length>0){let{onPublishSuccess:n,onPublishProgress:i,onPublishError:a}=(0,X.uE)(U._Y.SLIDES);e.dispatch(er({savepointDescription:"Community slide template publish",itemsToPublish:new Set(r),hubFileId:t.id,onPublishSuccess:n,onPublishProgress:i,onPublishError:a}))}else d.zl.set(J.UM,{state:J.F4.PUBLISH_HUB_FILE_COMPLETED})}).catch(r=>{n&&J.UM&&d.zl.set(J.UM,{state:J.F4.PUBLISH_HUB_FILE_ERRORED}),e.dispatch(b.F.enqueue({message:r.message,type:"hub-file-created-error",error:!0})),e.dispatch(eg({id:t.fileKey,status:{code:W.aP.FAILURE,error:r.message}}))})});function eb(e,t){if(!t)return -1;let r=t.buffer;return r?e.findIndex(e=>e.sha1===(0,_.Et)(r)):t.sha1?e.findIndex(e=>e.sha1===t.sha1):-1}async function ev(e,t){var r;let n;let{fileKey:i,name:a,description:o,categoryId:l,publisherIds:s,tags:c,creatorPolicy:d,thumbnailBuffer:u,viewerMode:p,scalingMode:_,authorOrgId:f,authorTeamId:E,hasCustomUploadedThumbnail:b,validPrototype:v,commentsSetting:I,agreedToTos:T,isPaid:S,price:w,supportContact:A,carouselMedia:C,customCarouselThumbnail:N}=t;if(f&&E)throw Error((0,y.t)("community.actions.attempting_to_set_both_author_org_id_and_author_team_id_while_publishing"));if(p===U.y4.PROTOTYPE&&D.X3B.firstPagePrototypeStatus()!==D.bOM.VALID)throw Error((0,y.t)("community.actions.attempting_to_publish_an_invalid_prototype_as_a_prototype"));let O=await (0,H.m)(i,"Published to Community hub",o,e.dispatch).then(e=>e.id).catch(e=>{var t;throw(0,m.$D)(h.e.COMMUNITY,e),Error((null==(t=e.data)?void 0:t.message)||(0,y.t)("community.actions.could_not_connect_to_the_server"))});try{n=await eI(u,C||[],O)}catch(e){throw(0,m.$D)(h.e.COMMUNITY,e),Error((0,y.t)("community.actions.error_uploading_images_e",{error:(0,y.Jv)(e,null==(r=e.data)?void 0:r.message)}))}let L=eb((null==n?void 0:n.carousel_images)||[],N),R={file_version_id:O,name:a,description:o,tags:c,category_id:l,creator_policy:d,signature:null==n?void 0:n.cover_image.signature,cover_image_uploaded:null==n?void 0:n.cover_image.cover_image_uploaded,publisher_ids:s,viewer_mode:p,scaling_mode:_,author_org_id:f,author_team_id:E,has_custom_uploaded_thumbnail:b,valid_prototype:v,comments_setting:I,agreed_to_tos:T,is_paid:S,price:w,support_contact:A,carousel_images:null==n?void 0:n.carousel_images,cover_image_carousel_image:null==n?void 0:n.carousel_images[L]};return g.Ay.post("/api/hub_files",R).then(({data:e})=>{let t=e.meta;return{hubFile:t.hub_file,actingProfile:t.acting_profile,profileCreated:t.profile_created}}).catch(e=>{throw(0,m.$D)(h.e.COMMUNITY,e),Error((0,y.Jv)(e,(0,y.t)("community.actions.could_not_publish_hub_file",{error:e.message})))})}async function eI(e,t,r,n){let i,a,l,s;let{uploadImages:c,allMedia:d}=(0,k.Kg)(t);if(!(null==e?void 0:e.length)&&!(null==c?void 0:c.length))return{cover_image:{cover_image_uploaded:!1,signature:null},carousel_images:d};try{let e=await g.Ay.post("/api/hub_files/upload",{file_version_id:r,hub_file_id:n,images_sha1:c});({cover_image:{cover_image_upload_url:i,signature:a,fields:l},carousel_images:s}=e.data.meta)}catch(e){throw(0,m.$D)(h.e.COMMUNITY,e),Error((0,y.Jv)(e,(0,y.t)("community.actions.could_not_connect_to_the_server")))}let u=s.map(({url:e,fields:r,carousel_position:n})=>{let i=t[n];if(!i||!i.buffer)return;let a=new FormData;return Object.entries(r).forEach(([e,t])=>a.append(e,t)),a.set("content-type",(0,o.i)(i.buffer)??"image/png"),a.append("file",new Blob([i.buffer])),fetch(e,{method:"POST",body:a})});if(null==e?void 0:e.length){let t=new FormData;Object.entries(l).forEach(([e,r])=>t.append(e,r)),t.set("content-type",(0,o.i)(e)??"image/png"),t.append("file",new Blob([e])),u.push(fetch(i,{method:"POST",body:t}))}try{return await Promise.all(u),{cover_image:{cover_image_uploaded:null!=e&&!!e.length,signature:a},carousel_images:d}}catch(e){throw(0,m.$D)(h.e.COMMUNITY,e),Error((0,y.Jv)(e,(0,y.t)("community.actions.error_connecting_to_server_to_upload_file_images")))}}let eT=(0,S.nF)(async(e,{payload:t,onSuccess:r})=>{let n;let{hubFileId:a,name:o,description:l,categoryId:s,suggestedCategory:c,creatorPolicy:d,publisherIds:u,tags:p,viewerMode:_,scalingMode:f,commentsSetting:v,price:I,supportContact:S,carouselMedia:w,customCarouselThumbnail:A,hasCustomUploadedThumbnail:C,thumbnailBuffer:N}=t;try{n=await eI(N,w||[],void 0,a)}catch(t){throw(0,m.$D)(h.e.COMMUNITY,t),e.dispatch(b.F.enqueue({message:(0,y.t)("community.actions.error_uploading_images_publish_update_from_editor"),type:"hub-file-updated-error",error:!0})),Error(t)}let O=eb((null==n?void 0:n.carousel_images)||[],A),L={name:o,description:l,category_id:s,creator_policy:d,publisherIds:u,tags:p,viewer_mode:_,scaling_mode:f,comments_setting:v,price:I,support_contact:S,carousel_images:null==n?void 0:n.carousel_images,cover_image_carousel_image:null==n?void 0:n.carousel_images[O],has_custom_uploaded_thumbnail:C,cover_image_uploaded:null==n?void 0:n.cover_image.cover_image_uploaded,signature:null==n?void 0:n.cover_image.signature};await g.Ay.put(`/api/hub_files/${a}`,L).then(({data:t})=>{let n=t.meta;e.dispatch((0,T.Sb)({hubFiles:[n],src:"updateHubFile"})),c&&(0,i.sx)("community_category_suggestion",{resourceType:"hub_file",resourceId:n.id,categoryId:n.category_id,suggestedCategory:c},{forwardToDatadog:!0}),null==r||r(n)}).catch(t=>{let r=(0,y.Jv)(t,(0,y.t)("community.actions.an_error_occurred_while_updating_please_refresh_and_try_again"));throw e.dispatch(E.s.error(r)),(0,m.$D)(h.e.COMMUNITY,t),Error(`Error updating file ${t}`)})}),eS=(0,S.nF)((e,{hubFileId:t,redirectLink:r,onSuccess:n,onError:i})=>{g.Ay.del(`/api/hub_files/${t}`).then(({data:t})=>{let r=t.meta;e.dispatch((0,T.Sb)({hubFiles:[r],src:"unpublishHubFile"}))}).then(()=>{r&&l.Ay.redirect(r),null==n||n()}).catch(e=>{(0,m.$D)(h.e.COMMUNITY,e),console.error(Error(`Error unpublishing file ${e}`)),null==i||i()})}),ew=(0,S.MM)("OPTIMISTIC_DUPLICATE_HUB_FILE",(e,{hubFileId:t,viewContext:r},{optimistId:n})=>{g.Ay.post(`/api/hub_files/v2/${t}/copy`).then(({data:o})=>{e.dispatch(S.hp.commit(n));let s=o.meta,c=(0,F.to)(s);c=(0,a.dR)(c,{[x.pt.KEY]:x.pt.VALUE}),l.Ay.redirect(c,p.rr?void 0:"_blank");let d=(0,v.Z)(e.getState());(0,i.sx)(L.M5.HUB_FILE_DUPLICATED,{hubFileId:t,figFileKey:s.key,viewContext:r,...d})}).catch(t=>{e.dispatch(S.hp.revert(n)),e.dispatch(b.F.enqueue({message:(0,y.t)("community.actions.unable_to_duplicate",{error:(0,y.Jv)(t,t.data.message)}),type:"HUB_FILE_DUPLICATE_FAILED",error:!0}))})}),eA=(0,S.nF)((e,{hubFileId:t},{loadingKey:r})=>{let n=g.Ay.post(`/api/hub_files/${t}/like`);(0,B.N)(n,e,r),n.catch(t=>{var r;e.dispatch(b.F.enqueue({message:(0,y.t)("community.actions.unable_to_like_this_file_error",{error:(0,y.Jv)(t,null==(r=t.data)?void 0:r.message)}),type:"HUB_FILE_LIKE_FAILED",error:!0}))});let i=e.getState().user,a=i&&(0,P.sD)(i,e.getState().authedProfilesById);(null==i?void 0:i.id)&&a&&(0,u.WB)().optimisticallyCreate({CommunityHubLike:{[`optimistic-${t}-${a.id}`]:{pluginId:null,hubFileId:t,profileId:a.id,hiddenAt:null,createdAt:new Date,updatedAt:new Date,canRead:!0}}},n)},e=>`LIKE_HUB_FILE_${e}`),eC=(0,S.T8)("UNLIKE_HUB_FILE",(e,{hubFileId:t,likeId:r},{loadingKey:n})=>{var i;let a=g.Ay.del(`/api/hub_files/${t}/like`);(0,B.N)(a,e,n),a.catch(t=>{e.dispatch(b.F.enqueue({message:(0,y.t)("community.actions.unable_to_unlike_this_file_error",{error:(0,y.Jv)(t,t.data.message)}),type:"HUB_FILE_UNLIKE_FAILED",error:!0}))}),(null==(i=e.getState().user)?void 0:i.id)&&r&&(0,u.WB)().optimisticallyDelete({CommunityHubLike:{[r]:null}},a)},e=>`UNLIKE_HUB_FILE_${e}`),eN=(0,S.nF)((e,{hubFileId:t})=>g.Ay.post(`/api/hub_files/${t}/view`,{hubFileId:t})),eO=(0,S.nF)((e,t)=>{(t===Y.G4.FULLSCREEN||t===Y.G4.FULLSCREEN_WITH_COMMENTS)&&((0,i.sx)("Context Viewed",{name:"hub-file-canvas-enter-fullscreen"}),t===Y.G4.FULLSCREEN_WITH_COMMENTS&&(0,i.sx)("CTA Clicked",{name:"community_hub_preview_comments_viewed"}));let r={...e.getState().selectedView,fullscreenState:t};t===Y.G4.FULLSCREEN&&r.commentThreadId&&delete r.commentThreadId,e.dispatch(C.$T(r))})},71425:(e,t,r)=>{"use strict";r.d(t,{JZ:()=>y,QF:()=>b,qR:()=>v});var n=r(776250),i=r(939863),a=r(392592),o=r(986270),l=r(441088),s=r(4564),c=r(215822),d=r(555328),u=r(809073),p=r(707033),m=r(867795),_=r(76158),h=r(980820),g=r(164185),f=r(74021);let E=(0,s.M)(),y=(0,h.nF)(async(e,{resourceType:t,localFileIdToRemove:r})=>{let s=null;if(!E)return;let{added:h,existed:f}=await E.createMultipleNewLocalFileExtensions({title:(0,i.t)("community.actions.pick_extension_manifest_file"),filters:[{name:"Manifests",extensions:["json"]}],properties:["openFile"]},0);if(null!=(s=h&&h[0]||f&&f[0]))try{let h=await (0,c.c2)(s,{resourceType:t,isPublishing:!1});if("unknown"===t&&(t=h.containsWidget?"widget":"plugin"),(0,n.sx)("Added new plugin",{how:"loaded",pluginId:h.id,version:h.api,isWidget:"widget"===t,productType:"figma"===(0,c.T)()?"design":"whiteboard",isVsCode:(0,l.T)()}),e.dispatch(b({localFileId:s,resourceType:t})),e.dispatch(a.F.enqueue({message:h.name?(0,i.t)("community.actions.manifest_name_has_been_imported",{manifestName:h.name}):"widget"===t?(0,i.t)("community.actions.widget_has_been_imported"):(0,i.t)("community.actions.plugin_has_been_imported")})),(0,g.s)({initialX:0,initialY:0,initialTab:"figjam"===(0,c.T)()?"widget"===t?m.p.WIDGETS:m.p.PLUGINS:void 0,initialFdResourceTab:"figma"===(0,c.T)()?"widget"===t?_.s.WIDGET:_.s.PLUGIN:void 0,initialFdView:"figma"===(0,c.T)()?"development":void 0,scrollDevelopmentSectionIntoView:"figjam"===(0,c.T)()}),r){let t=e.getState().localPlugins[r],n=(null==t?void 0:t.lastKnownPluginId)??t.plugin_id??t.manifest.id;n!==h.id&&n||e.dispatch(v(r))}let f=h.editorType;null==f||f.forEach(r=>{let n="figjam"===r?u.$A.FigJam:u.$A.Design;t===d.bD.PLUGIN?e.dispatch(o.gU({storeInRecentsKey:n,id:h.id||"",version:"",isDevelopment:!0,currentUserId:(0,p.o8)()})):t===d.bD.WIDGET&&e.dispatch(o.RH({storeInRecentsKey:n,id:h.id||"",version:"",isDevelopment:!0,currentUserId:(0,p.o8)()}))})}catch(t){e.dispatch(a.F.enqueue({message:t.message,error:!0}))}}),b=(0,h.nF)(async(e,{localFileId:t,resourceType:r})=>{let n=await (0,c.t3)(t,{resourceType:r});e.dispatch((0,f.Po)(n))}),v=(0,h.nF)((e,t)=>{void 0!=t&&(E&&E.removeLocalFileExtension(t),e.dispatch((0,f.Zy)(t)))})},74021:(e,t,r)=>{"use strict";r.d(t,{Ob:()=>E,Po:()=>y,Zy:()=>b,_J:()=>T});var n=r(167249),i=r(297666),a=r(881388),o=r(980820),l=r(113237),s=r(4564),c=r(428467),d=r(215822),u=r(384792),p=r(254527),m=r(561004),_=r(376485),h=r(249436),g=r(977653),f=r(941381);let E=(0,n.N)("PLUGIN_INITIALIZE_LOCAL"),y=(0,n.N)("PLUGIN_UPDATE_LOCAL"),b=(0,n.N)("PLUGIN_DELETE_LOCAL"),v=!1,I=(0,s.M)(),T=(0,o.nF)(async e=>{if(I){if(I.isCompatibleWith({desktopVersion:59})){let t=await I.getLocalManifestFileExtensionIdsToCachedMetadataMap()??{},r=Object.keys(t).map(e=>parseInt(e)),n=await Promise.all(r.map(e=>(0,d.t3)(e,{resourceType:"unknown"}))),i={};n.forEach(e=>{e.cachedContainsWidget=!!t[e.localFileId].cachedContainsWidget,e.lastKnownPluginId=t[e.localFileId].lastKnownPluginId||"",i[e.localFileId]=e}),e.dispatch(E(i))}else if(I.isCompatibleWith({desktopVersion:58})){let t=await I.getLocalManifestFileExtensionIdsToCachedContainsWidgetMap(),r=Object.keys(t).map(e=>parseInt(e)),n=await Promise.all(r.map(e=>(0,d.t3)(e,{resourceType:"unknown"}))),i={};n.forEach(e=>{e.cachedContainsWidget=!!t[e.localFileId],i[e.localFileId]=e}),e.dispatch(E(i))}else{let t=await I.getAllLocalFileExtensionIds(),r=await Promise.all(t.map(e=>(0,d.t3)(e,{resourceType:"unknown"}))),n={};r.forEach(e=>{n[e.localFileId]=e}),e.dispatch(E(n))}if(!v){v=!0,I.registerManifestChangeObserver(t=>{var r;if("added"===t.type||"changed"===t.type){let n;let i=t.id,o=(0,d.mm)(i,t.localLoadResult,{resourceType:"unknown"}),l=null==(r=e.getState().localPlugins[i])?void 0:r.plugin_id;e.dispatch(y(o));let s=e.getState(),{publishingPlugins:u,localPlugins:p,publishedPlugins:m,publishedWidgets:_,currentUserOrgId:h,authedProfilesById:E,modalShown:b}=s,v=u[i];o.plugin_id!==l&&(null==b?void 0:b.type)!==g.o.type&&e.dispatch((0,f.Ij)({id:i}));try{n=(0,d.mI)({...(0,c.getPermissionsState)(s),currentUserOrgId:h,localPlugins:p,publishedPlugins:m,publishedWidgets:_,authedProfilesById:E},i)}catch(t){e.dispatch(a.s.error(t.message));return}v&&v.metadata&&(0,d.L1)(v.metadata)&&!o.error&&e.dispatch((0,f.fy)({id:i,metadata:n}))}else"removed"===t.type&&e.dispatch(b(t.id))});let t=(0,i.s)(t=>{var r,n,i,a;if("added"===t.type||"changed"===t.type){let o=null==(n=null==(r=e.getState().mirror)?void 0:r.selectionProperties)?void 0:n.selectedWidgetInfo;o&&o.pluginID&&l.x.mountWidget(o.pluginID,o.widgetID,"hot-reloading re-render");let s=null==(i=(0,u.SH)())?void 0:i.plugin,c=null==(a=(0,u.SH)())?void 0:a.triggeredFrom,d=e.getState();"manifestFileId"in t&&s&&(0,_.ZQ)(s)&&d.mirror.appModel.hotReloadPluginDev&&t.manifestFileId===s.localFileId&&(0,p.hM)()&&(async()=>{await (0,m.wY)(),"codegen"!==c&&(0,p.A9)({newTriggeredFrom:null}),(0,h.c)()})()}});I.registerCodeChangeObserver(t),I.registerManifestChangeObserver(t),I.registerUiChangeObserver(t)}}})},941381:(e,t,r)=>{"use strict";r.d(t,{$Z:()=>V,Cf:()=>Y,Dl:()=>en,GV:()=>m.GV,Ij:()=>et,KJ:()=>X,L4:()=>k,LP:()=>$,O8:()=>K,Qi:()=>m.Qi,R8:()=>eo,Vp:()=>ei,Vx:()=>m.Vx,W9:()=>G,a8:()=>Z,af:()=>es,b6:()=>F,et:()=>el,f1:()=>W,fd:()=>x,fs:()=>B,fy:()=>Q,gD:()=>ee,kA:()=>z,l7:()=>m.l7,pZ:()=>j,pm:()=>er,se:()=>M,uF:()=>D,uV:()=>m.uV,uX:()=>U,uw:()=>H,wx:()=>ec,zn:()=>ea});var n=r(167249),i=r(776250),a=r(38329),o=r(717037),l=r(776621),s=r(304783),c=r(27087),d=r(881388),u=r(939863),p=r(392592),m=r(84336),_=r(545941),h=r(980820),g=r(63397),f=r(651705),E=r(182976),y=r(697551),b=r(782501),v=r(691205),I=r(428467),T=r(272794),S=r(215822),w=r(320741),A=r(303454),C=r(555328),N=r(813408),O=r(93623),L=r(492330),R=r(415408),P=r(56714);let k=(0,n.N)("PLUGIN_REPLACE_FEATURED"),D=(0,h.nF)((e,t,{loadingKey:r})=>{if(!e.getState().user)return;let n=O.V.getPlugins(),i=L.U.getWidgets();n.then(({data:t})=>{let r=t.meta;e.dispatch((0,m.Qi)({publishedPlugins:r,src:"initializeUserPublishedPlugins"}))}),i.then(({data:t})=>{let r=t.meta;e.dispatch((0,m.Qi)({publishedPlugins:r,src:"initializeUserPublishedWidgets"}))}),(0,w.N)(i,e,r)}),M=v.M4.Query({fetch:async e=>(await O.V.getUnpublishedPlugins()).data.meta,output:({data:e})=>{let t={};if(e)for(let r of e)t[r.id]=r;return t}}),x=v.M4.Query({fetch:async e=>(await L.U.getUnpublishedWidgets()).data.meta,output:({data:e})=>{let t={};if(e)for(let r of e)t[r.id]=r;return t}}),F=(0,h.nF)((e,{widgetIDToVersions:t})=>{let{publishedCanvasWidgetVersions:r,currentUserOrgId:n}=e.getState();for(let[e,i]of Object.entries(t))i.forEach(i=>{var a;let o=null==(a=r[e])?void 0:a[i];o&&new Set(t[e]).forEach(e=>{T.F.getAndCache({...o,id:e},n??void 0)})})}),U=(0,h.nF)(async(e,{resourceId:t,resourceType:r})=>{let n=r===C.bD.WIDGET?L.U.getWidgets({id:t}):O.V.getPlugins({id:t}),{data:i}=await n,a=i.meta.find(e=>e.id===t);a&&e.dispatch((0,m.Qi)({publishedPlugins:[a],src:"getPublishedResource"}))}),B=(0,n.N)("UPDATE_PUBLISHED_CANVAS_WIDGET_VERSIONS"),H=(0,n.N)("UPDATE_FETCHED_CANVAS_WIDGET_VERSIONS");async function V(e,t,r){var n;return null==(n=(await G({[e]:[t]},r))[e])?void 0:n[t]}async function G(e,t){var r,n;let i=null==(r=a.D.getState().openFile)?void 0:r.key,o=await c.Ay.post("/api/widgets/v2/versions",{ids_to_versions:e,org_id:t,file_key:i}),l=(null==(n=null==o?void 0:o.data)?void 0:n.meta)||{};return a.D.dispatch(B(l)),a.D.dispatch(H(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,Object.fromEntries(t.map(e=>[e,!0]))])))),l}let W=(0,h.nF)(async(e,{pluginIds:t})=>{var r;let{currentUserOrgId:n,publishedPlugins:i}=e.getState(),o=t.filter(e=>!i[e]);if(o.length)try{let e=await O.V.postPluginsBatch(o,n),t=(null==(r=e.data)?void 0:r.meta)??[];a.D.dispatch((0,m.Qi)({publishedPlugins:t,src:"fetchPublishedPlugins",overrideInstallStatus:!0}))}catch{return}}),K=(0,h.nF)(async(e,{widgetIds:t})=>{var r;let{currentUserOrgId:n,publishedWidgets:i}=e.getState(),o=t.filter(e=>!i[e]);if(o.length)try{let e=await c.Ay.post("/api/widgets/batch",{ids:o,org_id:n}),t=(null==(r=e.data)?void 0:r.meta)??[];a.D.dispatch((0,m.Qi)({publishedPlugins:t,src:"fetchPublishedWidgets",overrideInstallStatus:!0}))}catch{return}}),Y=(0,h.nF)(async(e,{widgetIDAndVersions:t})=>{let{currentUserOrgId:r}=e.getState(),n=[],i={};t.forEach(({widgetID:e,widgetVersionID:t})=>{i[e]?i[e].includes(t)||i[e].push(t):(n.push(e),i[e]=[t])}),0!==n.length&&(await G(i,r),e.dispatch(F({widgetIDToVersions:i})),e.dispatch(K({widgetIds:Object.keys(i)})))}),j=(0,h.T8)("GET_COMMUNITY_PROFILE_PLUGINS",(e,t,{loadingKey:r})=>{let n=O.V.getProfile({profileId:t.profileId,currentOrgId:e.getState().currentUserOrgId||void 0}),i=(0,P.UM)(t.profileId);return(0,w.N)(n,e,r),n.then(async({data:t})=>{let r=[...await i,...t.meta];return e.dispatch((0,m.Qi)({publishedPlugins:r,src:"getCommunityProfilePlugins"})),r})},({profileId:e})=>`GET_COMMUNITY_PROFILE_PLUGINS_${e}`),z=(0,h.T8)("GET_COMMUNITY_PROFILE_WIDGETS",(e,t,{loadingKey:r})=>{let n=L.U.getProfile({profileId:t.profileId,currentOrgId:e.getState().currentUserOrgId||void 0}),i=(0,P.Jr)(t.profileId);return(0,w.N)(n,e,r),n.then(async({data:t})=>{let r=[...await i,...t.meta];return e.dispatch((0,m.Qi)({publishedPlugins:r,src:"getCommunityProfileWidgets"})),r})},({profileId:e})=>`GET_COMMUNITY_PROFILE_WIDGETS_${e}`),$=(0,h.T8)("GET_ORG_PUBLISHED_PLUGINS",(e,t,{loadingKey:r})=>{let n=O.V.getOrg({orgId:t});return(0,w.N)(n,e,r),n.then(({data:t})=>{let r=t.meta;return e.dispatch((0,m.Qi)({publishedPlugins:r,src:"getOrgPublishedPlugins"})),r})},e=>`GET_ORG_PUBLISHED_PLUGINS_${e}`),Z=(0,h.T8)("GET_ORG_PUBLISHED_WIDGETS",async(e,t,{loadingKey:r})=>{var n;try{e.dispatch(E.Cx({key:r}));let i=await L.U.getOrg({orgId:t}),a=(null==(n=null==i?void 0:i.data)?void 0:n.meta)||[];return e.dispatch((0,m.Qi)({publishedPlugins:a,src:"getOrgPublishedWidgets"})),e.dispatch(E.x2({key:r})),a}catch(t){return d.s.flash(t.message||(0,u.t)("community.actions.an_error_occurred_while_trying_to_fetch_the_org_widgets_list")),e.dispatch(E.of({key:r})),[]}},e=>`GET_ORG_PUBLISHED_WIDGETS_${e}`);async function q(e,t,r){if(null===e.current_plugin_version_id||!e.id)throw Error((0,u.t)("community.actions.resource_is_invalid"));let n=0;t.iconBlob&&(n=(0,S.wf)(t.iconBlob));let a=0;t.coverBlob&&(a=(0,S.oD)(t.coverBlob));let o=t.carouselMedia,{uploadImages:d,uploadVideos:p,allMedia:m}=(0,b.Kg)(o),_=(await c.Ay.post(`/api/${(0,y.KH)(e,{pluralized:!0})}/${e.id}/images/upload`,{images_sha1:d})).data.meta,h=Promise.resolve(!1),g=t.iconBlob;void 0!==g&&(h=(0,b.ck)(g).then(e=>c.Ay.crossOriginPut(_.icon_path,e,{raw:!0,headers:{...c.Ay.defaults.headers,"Content-Type":g.type}})).then(()=>!0).catch(t=>{(0,l.$D)(s.e.COMMUNITY,t);let r=(0,u.Jv)(t,(0,u.t)("community.actions.could_not_connect_to_the_server"));throw Error((0,C.xQ)(e)?(0,u.t)("community.actions.error_uploading_widget_icon_error",{error:r}):(0,u.t)("community.actions.error_uploading_plugin_icon_error",{error:r}))}));let f=Promise.resolve(!1),E=t.coverBlob;void 0!==E&&(f=(0,b.ck)(E).then(e=>c.Ay.crossOriginPut(_.cover_image_path,e,{raw:!0,headers:{...c.Ay.defaults.headers,"Content-Type":E.type}})).then(()=>!0).catch(t=>{var r,n;throw(0,l.$D)(s.e.COMMUNITY,t),Error((0,C.xQ)(e)?(0,u.t)("community.actions.error_uploading_widget_artwork_image_error",{error:(0,u.Jv)(t,(null==(r=t.data)?void 0:r.message)||"unknown error")}):(0,u.t)("community.actions.error_uploading_plugin_artwork_image_error",{error:(0,u.Jv)(t,(null==(n=t.data)?void 0:n.message)||"unknown error")}))}));let{snapshotBlob:v}=t,I=Promise.resolve(!1);void 0!==v&&(I=(0,b.ck)(v).then(e=>c.Ay.crossOriginPut(_.snapshot_path,e,{raw:!0,headers:{...c.Ay.defaults.headers,"Content-Type":v.type}})).then(()=>!0).catch(e=>{var t;throw(0,l.$D)(s.e.COMMUNITY,e),Error((0,u.t)("community.actions.error_uploading_widget_snapshot_image_error",{error:(0,u.Jv)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))}));let T=(0,b.Rd)(_.carousel_images,o),[w,N,O]=await Promise.all([h,f,I,T]),L=p.map(t=>(0,A.Gf)((0,y.KH)(e,{pluralized:!0}),e.id,{sha1:t.sha1,bytes:t.bytes},t.video_thumbnail_buffer,t.video_thumbnail_sha1).then(e=>{m.push({carousel_position:t.carousel_position,sha1:e.sha1,video_file_uuid:e.videoFileUuid,video_thumbnail_sha1:e.videoThumbnailSha1})}).then(()=>!0).catch(e=>{var t;throw(0,l.$D)(s.e.COMMUNITY,e),Error((0,u.t)("community.actions.error_uploading_plugin_video_error",{error:(0,u.Jv)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))}));await Promise.all(L);let{data:R}=await c.Ay.put(`/api/${(0,y.KH)(e,{pluralized:!0})}/${e.id}/versions/${t.id}`,{icon_uploaded:w,cover_image_uploaded:N,snapshot_uploaded:O,carousel_media:m,name:t.name,description:t.description,tagline:t.tagline,creator_policy:t.creatorPolicy,release_notes:t.releaseNotes,comments_setting:e.comments_setting,category_id:e.category_id,image_upload_nonce:_.image_upload_nonce,playground_fig_file_key:t.playground_fig_file_key,playground_file_publish_type:r}).catch(e=>{var t;throw(0,l.$D)(s.e.COMMUNITY,e),Error((0,u.t)("community.actions.error_finalizing_plugin_error",{error:(0,u.Jv)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))}),P=R.meta;P.plugin.redirect_thumbnail_url=_.cover_image_path.split("?")[0];let k=P.plugin;if(k.id!==e.id)throw Error((0,u.t)("community.actions.the_published_resource_i_ds_do_not_match"));return(0,i.sx)("Hub Plugin Update Version",{pluginId:e.id,isWidget:e.is_widget,iconFileSize:n,coverFileSize:a}),{publishedPlugin:k,profile:P.profile}}async function J(e,t,r,n,a,o,d,p,m,_){var h;let g;if(!e)throw Error((0,u.t)("community.actions.plugin_id_is_invalid"));let[f,E]=await Promise.all([(0,S.c2)(t,{resourceType:(0,y.nF)(m),isPublishing:!0}),(0,S.MB)(t)]),v=(0,S.ZT)(E),I=0;r.iconBlob&&(I=(0,S.wf)(r.iconBlob));let T=0;r.coverBlob&&(T=(0,S.oD)(r.coverBlob));let w=o.tokens.map(e=>e.content),C=r.carouselMedia,{uploadImages:N,uploadVideos:O,allMedia:L}=(0,b.Kg)(C),R={manifest:f,release_notes:r.releaseNotes,name:r.name,description:r.description,tagline:r.tagline,creator_policy:r.creatorPolicy,tags:w,category_id:a,images_sha1:N};g=m?c.Ay.post(`/api/widgets/${e}/upload`,R):c.Ay.post(`/api/plugins/${e}/upload`,R);let{codeUploadUrl:P,iconUploadUrl:k,coverImageUploadUrl:D,snapshotUploadUrl:M,signature:x,versionId:F,imageUploadNonce:U,carouselImageUrls:B}=await g.then(({data:e})=>({codeUploadUrl:e.meta.code_upload_url,iconUploadUrl:e.meta.icon_upload_url,coverImageUploadUrl:e.meta.cover_image_upload_url,snapshotUploadUrl:e.meta.snapshot_upload_url,signature:e.meta.signature,versionId:e.meta.version_id,imageUploadNonce:e.meta.image_upload_nonce,carouselImageUrls:e.meta.carousel_images})).catch(e=>{throw(0,l.$D)(s.e.COMMUNITY,e),Error((0,u.Jv)(e,(0,u.t)("community.actions.could_not_connect_to_the_server")))}),H=e=>{let t=e.data;if(!t||"string"!=typeof t)return;let r=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("Code");if(r&&r[0]&&"EntityTooLarge"===r[0].textContent)return(0,u.t)("community.actions.file_too_large")},V=Promise.resolve(!1);E&&(V=(e=>{if(e.fields&&e.code_path){let{fields:t,code_path:r}=e,n=new FormData;return Object.entries(t).forEach(([e,t])=>n.append(e,t)),n.set("Content-Type","text/javascript"),n.append("file",E),c.Ay.crossOriginPost(r,n,{raw:!0,headers:{"Content-Type":"multipart/form-data","Cache-Control":"private, max-age=86400"}})}return"string"==typeof e?c.Ay.crossOriginPut(P,E,{headers:{...c.Ay.defaults.headers,"Content-Type":""}}):Promise.reject(Error("Invalid presigned_url"))})(P).then(()=>!0).catch(e=>{(0,l.$D)(s.e.COMMUNITY,e);let t=H(e)??(0,u.Jv)(e,(0,u.t)("community.actions.could_not_connect_to_the_server"));throw Error(m?(0,u.t)("community.actions.error_uploading_widget_code_error",{error:t}):(0,u.t)("community.actions.error_uploading_plugin_code_error",{error:t}))}));let G=(e,t,r)=>{if(e.fields&&e.image_path){let{fields:r,image_path:n}=e,i=new FormData;return Object.entries(r).forEach(([e,t])=>i.append(e,t)),i.set("Content-Type",t.type),i.append("file",t),c.Ay.crossOriginPost(n,i,{raw:!0,headers:{"Content-Type":t.type}})}return"string"==typeof e?c.Ay.crossOriginPut(e,r,{raw:!0,headers:{...c.Ay.defaults.headers,"Content-Type":t.type}}):Promise.reject(Error("Invalid presigned_url"))},W=Promise.resolve(!1),K=r.iconBlob;null!=K&&(W=(0,b.ck)(K).then(e=>G(k,K,e)).then(()=>!0).catch(e=>{var t;(0,l.$D)(s.e.COMMUNITY,e);let r=H(e)??(0,u.Jv)(e,(null==(t=e.data)?void 0:t.message)||"unknown error");throw Error(m?(0,u.t)("community.actions.error_uploading_widget_icon_error",{error:r}):(0,u.t)("community.actions.error_uploading_plugin_icon_error",{error:r}))}));let Y=Promise.resolve(!1),j=r.coverBlob;null!=j&&(Y=(0,b.ck)(j).then(e=>G(D,j,e)).then(()=>!0).catch(e=>{(0,l.$D)(s.e.COMMUNITY,e);let t=H(e)??(0,u.Jv)(e,(0,u.t)("community.actions.could_not_connect_to_the_server"));throw Error(m?(0,u.t)("community.actions.error_uploading_widget_artwork_image_error",{error:t}):(0,u.t)("community.actions.error_uploading_plugin_artwork_image_error",{error:t}))}));let{snapshotBlob:z}=r,$=Promise.resolve(!1);null!=z&&($=(0,b.ck)(z).then(e=>G(M,z,e)).then(()=>!0).catch(e=>{var t;throw(0,l.$D)(s.e.COMMUNITY,e),Error((0,u.t)("community.actions.error_uploading_widget_snapshot_image_error",{error:H(e)??(0,u.Jv)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))}));let Z=(0,b.Rd)(B,C),[q,J,X,Q]=await Promise.all([V,W,Y,$,Z]),ee=O.map(t=>(0,A.Gf)(m?"widgets":"plugins",e,{sha1:t.sha1,bytes:t.bytes},t.video_thumbnail_buffer,t.video_thumbnail_sha1).then(e=>{L.push({carousel_position:t.carousel_position,sha1:e.sha1,video_file_uuid:e.videoFileUuid,video_thumbnail_sha1:e.videoThumbnailSha1})}).then(()=>!0).catch(e=>{var t;throw(0,l.$D)(s.e.COMMUNITY,e),Error((0,u.t)("community.actions.error_uploading_plugin_video_error",{error:(0,u.Jv)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))}));await Promise.all(ee);let{data:et}=await c.Ay.put(`/api/${(0,y.nF)(!!m,{pluralized:!0})}/${e}/versions/${F}`,{icon_uploaded:J,cover_image_uploaded:X,snapshot_uploaded:Q,carousel_media:L,code_uploaded:q,comments_setting:n,category_id:a,signature:x,image_upload_nonce:U,agreed_to_tos:d,org_id:p,playground_fig_file_key:r.playground_fig_file_key,playground_file_publish_type:_}).catch(e=>{var t,r;throw(0,l.$D)(s.e.COMMUNITY,e),Error(m?(0,u.t)("community.actions.error_finalizing_widget_error",{error:(0,u.Jv)(e,(null==(t=e.data)?void 0:t.message)||"")}):(0,u.t)("community.actions.error_finalizing_plugin_error",{error:(0,u.Jv)(e,(null==(r=e.data)?void 0:r.message)||"")}))}),er=et.meta,en=er.plugin;if(en.id!==e)throw Error((0,u.t)("community.actions.the_published_resource_i_ds_do_not_match"));return(0,i.sx)("Hub Plugin Publish Version",{pluginId:e,hasUI:!!f.ui,apiVersion:f.api,codeLength:v,iconFileSize:I,coverFileSize:T,isWidget:m,editorType:null==(h=f.editorType)?void 0:h.sort().join(", ")}),{publishedPlugin:en,profile:er.profile}}(0,h.T8)("GET_PUBLIC_PROFILE_PLUGINS",(e,{handle:t,orgId:r},{loadingKey:n})=>{let i=O.V.getProfile({profileId:t,currentOrgId:r||void 0});(0,w.N)(i,e,n),i.then(({data:t})=>{let r=t.meta;e.dispatch((0,m.Qi)({publishedPlugins:r,src:"getPublicProfilePlugins"}))})},({handle:e})=>`GET_PUBLIC_PROFILE_PLUGINS_${e}`);let X=(0,g.d6)("PLUGIN"),{updateMetadata:Q,updateStatus:ee,clearMetadataAndStatus:et,clearMetadata:er}=X,en=(0,h.nF)(async(e,t)=>{let{pluginVersion:r,localFileId:n,pluginId:i,commentsSetting:a,categoryId:c,callback:d,agreedToTos:_,orgId:h,isWidget:g,playgroundFilePublishType:E,tags:y}=t;e.dispatch(ee({id:n,status:{code:N.aP.UPLOADING}}));try{let{publishedPlugin:t,profile:o}=await J(i,n,r,a,c,y,_,h,g,E);e.dispatch((0,m.Qi)({publishedPlugins:[t],src:"publishPluginVersion"})),o&&(e.dispatch(f.HZ(o)),e.dispatch(f.Oo(o))),e.dispatch(ee({id:n,status:{code:N.aP.SUCCESS}})),e.dispatch(er({id:n})),d()}catch(r){e.dispatch(ee({id:n,status:{code:N.aP.FAILURE,error:r.message}}));let t=(0,u.t)("community.actions.could_not_publish_plugin_error",{error:(0,u.Jv)(r,r.message)});throw r instanceof o.q?(0,R.MZ)(e.dispatch,(0,u.t)("check_network_compatibility.error_bell.video_upload.message")):r.message.includes("invalid word")||e.dispatch(p.F.enqueue({message:t,error:!0})),(0,l.$D)(s.e.COMMUNITY,r),Error(t)}}),ei=(0,h.nF)(async(e,t)=>{let{resource:r,pluginVersion:n,callback:i,playgroundFilePublishType:a,localFileIdOrPluginId:c}=t;try{e.dispatch(ee({id:c,status:{code:N.aP.UPLOADING}}));let{profile:t,publishedPlugin:o}=await q(r,n,a);e.dispatch((0,m.Qi)({publishedPlugins:[o],src:"updatePublishedPluginRole"})),t&&e.dispatch(f.Oo(t)),e.dispatch(ee({id:c,status:{code:N.aP.SUCCESS}})),i()}catch(r){let t=(0,u.Jv)(r,r.message);throw r instanceof o.q?(0,R.MZ)(e.dispatch,(0,u.t)("check_network_compatibility.error_bell.video_upload.message")):e.dispatch(p.F.enqueue({message:t,error:!0})),e.dispatch(ee({id:c,status:{code:N.aP.FAILURE,error:t}})),(0,l.$D)(s.e.COMMUNITY,r),Error(`Failed plugin patchVersion: ${r.message}`)}}),ea=(0,h.nF)(async(e,{pluginId:t,role:r,agreedToTos:n,isWidget:a})=>{let o;let d={org_id:r.org?r.org.id:void 0,is_public:r.is_public,agreed_to_tos:n};o=a?c.Ay.put(`/api/widgets/${t}/roles`,d):c.Ay.put(`/api/plugins/${t}/roles`,d),await o.then(({data:r})=>{let n=r.meta;(0,i.sx)("Hub Plugin Publish Role",{pluginId:t,toPublic:n.roles.is_public,toOrg:!!n.roles.org,needApproval:(0,_.AC)(n),isWidget:a}),e.dispatch((0,m.Qi)({publishedPlugins:[n],src:"updatePublishedPluginRole"}))}).catch(t=>{var r;e.dispatch(p.F.enqueue({message:(0,u.t)("community.publishing.could_not_publish_plugin_error",{error:(0,u.Jv)(t,null==(r=t.data)?void 0:r.message)}),error:!0})),(0,l.$D)(s.e.COMMUNITY,t)})}),eo=(0,h.nF)(async(e,t)=>{let r;if(t.authorOrgId&&t.authorTeamId){console.error("Attempting to set both authorOrgId and authorTeamId while publishing");return}let{isWidget:n,pluginId:i}=t,a={tags:t.tags,support_contact:t.supportContact,author_org_id:t.authorOrgId,author_team_id:t.authorTeamId,publisher_ids:t.publisherIds,hide_related_content_by_others:t.hideRelatedContentByOthers,agreed_to_tos:t.agreedToTos,is_paid:t.isPaid,is_subscription:t.isSubscription,price:t.price,has_freemium_code:t.hasFreemiumCode,category_id:t.categoryId,is_public:t.isPublic,annual_discount_percentage:t.annualDiscount,is_annual_discount_active:t.isAnnualDiscountActive};r=n?c.Ay.put(`/api/widgets/${i}`,a):c.Ay.put(`/api/plugins/${i}`,a),await r.then(({data:r})=>{var n;let i=r.meta;e.dispatch((0,m.Qi)({publishedPlugins:[i],src:"updatePublishedPlugin"})),null==(n=t.onSuccess)||n.call(t)}).catch(t=>{var r;e.dispatch(p.F.enqueue({message:(0,u.t)("community.publishing.could_not_publish_plugin_error",{error:(0,u.Jv)(t,null==(r=t.data)?void 0:r.message)}),error:!0})),(0,l.$D)(s.e.COMMUNITY,t)})}),el=(0,h.nF)((e,{resource:t})=>{c.Ay.del(`/api/${(0,y.KH)(t,{pluralized:!0})}/${t.id}`).then(({data:r})=>{let n=r.meta;e.dispatch((0,m.Qi)({publishedPlugins:[n],src:"unpublishPublishedPlugin"})),(0,i.sx)("Hub Unpublish Plugin",{pluginId:t.id,...(0,S.L8)(t)})}).catch(r=>{var n,i;e.dispatch(p.F.enqueue({message:(0,C.xQ)(t)?(0,u.t)("community.actions.could_not_publish_widget_error",{error:(0,u.Jv)(r,null==(n=r.data)?void 0:n.message)}):(0,u.t)("community.actions.could_not_publish_plugin_error",{error:(0,u.Jv)(r,null==(i=r.data)?void 0:i.message)}),error:!0})),(0,l.$D)(s.e.COMMUNITY,r)})}),es=(0,h.T8)("GET_PLUGIN_VERSIONS",(e,{id:t,resourceType:r},{loadingKey:n})=>{let i=t=>e.dispatch((0,m.Qi)({publishedPlugins:[t],src:"getResourceVersions",overrideInstallStatus:!0})),a=r===C.bD.WIDGET?L.U.getVersions({widgetId:t}):O.V.getVersions({pluginId:t});(0,w.N)(a,e,n),a.then(({data:e})=>{i(e.meta.plugin)}).catch(e=>{var n;console.log(`Versions of ${r} with id ${t} cannot be fetched at this time:`,null==(n=e.data)?void 0:n.message)})},({id:e})=>`GET_PLUGIN_VERSIONS_${e}`),ec=(0,h.nF)(async(e,t)=>{let{role:r,userId:n,resource:i}=t;try{let t=(i.is_widget?await c.Ay.put(`/api/widgets/${i.id}/publishers/${n}`,{role:r}):await c.Ay.put(`/api/plugins/${i.id}/publishers/${n}`,{role:r})).data.meta.plugin,a=e.getState().user;r===N.kM.NONE&&n===(null==a?void 0:a.id)&&(t.plugin_publishers={accepted:[],pending:[]}),e.dispatch((0,m.Qi)({publishedPlugins:[t],src:"setPluginPublisherRole"}));let o=e.getState(),{publishingPlugins:l,localPlugins:s,publishedPlugins:d,publishedWidgets:u,currentUserOrgId:p,authedProfilesById:_}=o,h=Object.values(s).find(e=>e.plugin_id===i.id),g=(null==h?void 0:h.localFileId)??i.id,f=(0,S.mI)({...(0,I.getPermissionsState)(o),currentUserOrgId:p,localPlugins:s,publishedPlugins:d,publishedWidgets:u,authedProfilesById:_},null==h?void 0:h.localFileId),E={...l[g].metadata,author:f.author,publishers:f.publishers,creators:f.creators,blockPublishingOnToS:f.blockPublishingOnToS};e.dispatch(Q({id:g,metadata:E}))}catch(t){throw e.dispatch(p.F.enqueue({message:(0,u.Jv)(t,t.message),error:!0})),(0,l.$D)(s.e.COMMUNITY,t),Error(t.message)}})},727749:(e,t,r)=>{"use strict";r.d(t,{d6:()=>C,g3:()=>S,oj:()=>R,s1:()=>N,uR:()=>A,zI:()=>w});var n=r(167249),i=r(776250),a=r(966712),o=r(309225),l=r(743282),s=r(27087),c=r(939863),d=r(392592),u=r(980820),p=r(941381),m=r(662275),_=r(107877),h=r(756085),g=r(988022),f=r(697551),E=r(555328),y=r(813408),b=r(93623),v=r(492330),I=r(395750),T=r(479296);let S=(0,n.N)("SET_SAVED_PLUGIN_VERSIONS"),w=(0,u.T8)("SET_SAVED_WIDGET_VERSIONS",(e,t)=>{let r={};Object.keys(t).forEach(e=>{r[e]=[t[e].id]}),e.dispatch(p.b6({widgetIDToVersions:r}))});var A=(e=>(e.COMMUNITY_HUB="community_hub",e.INSERTS_MODAL="inserts_modal",e.DESIGN_ONBOARDING="design_editor_onboarding",e))(A||{});let C=(0,T.n)((0,u.MM)("SAVE_EXTENSION",(e,{id:t,resourceType:r,versionId:n,orgId:m,communityProfile:g,onSuccess:b,hideSuccessVisualBell:v,onFail:I,source:T,optimisticData:S},{optimistId:w})=>{var A;let C=e.getState(),N={plugin_version_id:n,org_id:m,current_org_id:C.currentUserOrgId};N.can_handle_first_time_install=!0,N.use_upgraded_version=!0,N.profile_id=null==(A=e.getState().authedActiveCommunityProfile)?void 0:A.id,r===E.vt.WIDGET&&(N.current_org_id=void 0);let O=`/api/${(0,f.n)(r)}/${t}/install`,L=s.Ay.post(O,N);if(C.user&&(null==S?void 0:S.resource)){let e=`optimistic-plugin-install-${(0,l.g)()}`,t=(0,h.N3)(S.resource,{userId:m?null:C.user.id,orgId:m??null});t&&(0,o.WB)().optimisticallyCreate({PluginInstall:{[e]:t}},L)}L.then(({data:t})=>{e.dispatch(u.hp.commit(w));let n=t.meta,o=r===E.vt.WIDGET?{publishedPlugins:[n],src:"installResource",isWidget:!0}:{publishedPlugins:[n],src:"installResource"};if(e.dispatch(p.Qi({...o,overrideInstallStatus:!0})),null==b||b(),!v){let t=(()=>{var t;if("inserts_modal"===T)return r===E.vt.PLUGIN?(0,c.t)("community.saves.plugin_saved"):(0,c.t)("community.saves.widget_saved");if((0,a.kc)().cmty_deprecate_browse_as_admin){if(m){let t=Object.values(e.getState().authedProfilesById).find(e=>e.org_id===m);return(0,c.t)(r===E.vt.PLUGIN?"community.saves.plugin_saved_for_everyone_at":"community.saves.widget_saved_for_everyone_at",{orgName:(null==t?void 0:t.name)||"your org"})}if(null==(t=e.getState().user)?void 0:t.community_profile_id)return(0,c.t)(r===E.vt.PLUGIN?"community.saves.plugin_saved_for_your_account_and_profile":"community.saves.widget_saved_for_your_account_and_profile")}else{if((null==g?void 0:g.entity_type)===y.o1.ORG)return r===E.vt.PLUGIN?(0,c.t)("community.saves.plugin_saved_for_everyone_at",{orgName:g.name}):(0,c.t)("community.saves.widget_saved_for_everyone_at",{orgName:g.name});if(null==g?void 0:g.public_at)return r===E.vt.PLUGIN?(0,c.t)("community.saves.plugin_saved_for_your_account_and_profile"):(0,c.t)("community.saves.widget_saved_for_your_account_and_profile")}return r===E.vt.PLUGIN?(0,c.t)("community.saves.plugin_saved_for_your_account"):(0,c.t)("community.saves.widget_saved_for_your_account")})();e.dispatch(d.F.enqueue({message:t,type:"plugin-installed"}))}(0,i.sx)((0,E.xQ)(n)?_.M5.WIDGET_INSTALLED:_.M5.PLUGIN_INSTALLED,{communityHubEntity:(0,E.xQ)(n)?_.ZO.WIDGETS:_.ZO.PLUGINS,communityHubEntityId:n.id,source:T})}).catch(t=>{var n,i;null==I||I(),e.dispatch(u.hp.revert(w)),403===t.data.status?e.dispatch(d.F.enqueue({message:r===E.vt.PLUGIN?(0,c.t)("community.actions.unable_to_save_plugin_error",{error:(0,c.Jv)(t,null==(n=t.data)?void 0:n.message)}):(0,c.t)("community.actions.unable_to_save_widget_error",{error:(0,c.Jv)(t,null==(i=t.data)?void 0:i.message)}),type:"PLUGIN_INSTALL_FAILED",error:!0})):e.dispatch(d.F.enqueue({message:r===E.vt.PLUGIN?(0,c.t)("community.actions.unable_to_save_plugin_please_try_again"):(0,c.t)("community.actions.unable_to_save_widget_please_try_again"),type:"PLUGIN_INSTALL_FAILED",error:!0}))})})),N=(0,u.MM)("UNSAVE_EXTENSION",(e,{id:t,resourceType:r,orgId:n,communityProfile:l,hideSuccessVisualBell:m,source:h,optimisticData:g},{optimistId:b})=>{var v;let I={org_id:n,current_org_id:e.getState().currentUserOrgId};I.use_upgraded_version=!0,I.profile_id=null==(v=e.getState().authedActiveCommunityProfile)?void 0:v.id,r===E.vt.WIDGET&&(I.current_org_id=void 0);let T=`/api/${(0,f.n)(r)}/${t}/install`,S=s.Ay.del(T,I);(null==g?void 0:g.pluginInstallId)&&(0,o.WB)().optimisticallyDelete({PluginInstall:{[g.pluginInstallId]:null}},S),S.then(({data:o})=>{let s=o.meta,g=r===E.vt.WIDGET?{publishedPlugins:[s],src:"uninstallResource",isWidget:!0}:{publishedPlugins:[s],src:"uninstallResource"};if(e.dispatch(p.Qi({...g,overrideInstallStatus:!0})),e.dispatch(u.hp.commit(b)),!m){let i={message:(()=>{var t;if("inserts_modal"===h)return r===E.vt.PLUGIN?(0,c.t)("community.saves.plugin_removed_from_your_account"):(0,c.t)("community.saves.widget_removed_from_your_account");if((0,a.kc)().cmty_deprecate_browse_as_admin){if(n){let t=Object.values(e.getState().authedProfilesById).find(e=>e.org_id===n);return(0,c.t)(r===E.vt.PLUGIN?"community.saves.plugin_removed_for_everyone_at":"community.saves.widget_removed_for_everyone_at",{orgName:(null==t?void 0:t.name)||"your org"})}if(null==(t=e.getState().user)?void 0:t.community_profile_id)return(0,c.t)(r===E.vt.PLUGIN?"community.saves.plugin_removed_from_your_account_and_profile":"community.saves.widget_removed_from_your_account_and_profile")}else{if((null==l?void 0:l.entity_type)===y.o1.ORG)return r===E.vt.PLUGIN?(0,c.t)("community.saves.plugin_removed_for_everyone_at",{orgName:l.name}):(0,c.t)("community.saves.widget_removed_for_everyone_at",{orgName:l.name});if(null==l?void 0:l.public_at)return r===E.vt.PLUGIN?(0,c.t)("community.saves.plugin_removed_from_your_account_and_profile"):(0,c.t)("community.saves.widget_removed_from_your_account_and_profile")}return r===E.vt.PLUGIN?(0,c.t)("community.saves.plugin_removed_from_your_account"):(0,c.t)("community.saves.widget_removed_from_your_account")})(),type:"PLUGIN_UNINSTALL_SUCCESS",button:{text:(0,c.t)("community.undo"),action:()=>{e.dispatch(d.F.dequeue({matchType:"PLUGIN_UNINSTALL_SUCCESS"})),e.dispatch(C({id:t,resourceType:r,orgId:n,communityProfile:l,hideSuccessVisualBell:!0,source:h}))}}};e.dispatch(d.F.enqueue(i))}(0,i.sx)((0,E.xQ)(s)?_.M5.WIDGET_UNINSTALLED:_.M5.PLUGIN_UNINSTALLED,{communityHubEntity:(0,E.xQ)(s)?_.ZO.WIDGETS:_.ZO.PLUGINS,communityHubEntityId:s.id,source:h})}).catch(t=>{e.dispatch(u.hp.revert(b)),console.error(t)})}),O={[E.bD.PLUGIN]:function(e){return b.V.getInstallStatus({orgId:e})},[E.bD.WIDGET]:function(e){return v.U.getInstallStatus({orgId:e})}},L=(0,u.nF)((e,t)=>{let r={plugin_id:t.id};t.orgId&&(r.org_id=t.orgId);let n=O[t.resourceType];n&&n(t.orgId).then(({data:e})=>{t.callback(!e.meta.previously_installed_plugin)}).catch(r=>{e.dispatch(d.F.enqueue({type:"plugin-save-error",message:t.resourceType===E.vt.PLUGIN?(0,c.t)("community.actions.unable_to_save_plugin_error",{error:(0,c.Jv)(r,r.data.message||"unknown error")}):(0,c.t)("community.actions.unable_to_save_widget_error",{error:(0,c.Jv)(r,r.data.message||"unknown error")}),error:!0}))})}),R=(0,u.nF)((e,t)=>{let{orgId:r,id:n,resourceType:i,communityProfile:a}=t;e.dispatch(L({orgId:r,id:n,resourceType:i,callback:t=>{t?((0,g.Cu)({action:_.s0.PLUGIN_INSTALL_CONFIRMATION_MODAL_SHOWN,communityHubEntity:_.ZO.PLUGINS,communityHubEntityId:n}),e.dispatch((0,m.to)({type:I.c,data:{dispatch:e.dispatch,id:n,resourceType:i,callback:()=>{e.dispatch(C({id:n,resourceType:i,orgId:r,communityProfile:a,source:"community_hub"}))}}}))):e.dispatch(C({id:n,resourceType:i,orgId:r,communityProfile:a,source:"community_hub"}))}}))})},162895:(e,t,r)=>{"use strict";r.d(t,{JA:()=>K,aI:()=>j,cx:()=>G,hx:()=>W,lx:()=>Y});var n=r(776250),i=r(966712),a=r(430370),o=r(563706),l=r(776621),s=r(304783),c=r(761870),d=r(939863),u=r(392592),p=r(934533),m=r(351226),_=r(848680),h=r(291861),g=r(980820),f=r(662275),E=r(697551),y=r(655215),b=r(935308),v=r(411916),I=r(750668),T=r(428467),S=r(215822),w=r(935757),A=r(555328),C=r(239671),N=r(608902),O=r(809073),L=r(379791),R=r(237870),P=r(734309),k=r(488578),D=r(986270),M=r(372069),x=r(109226),F=r(685121);let U=()=>async e=>{let t="org-admin-team-creation";e(u.F.enqueue({message:(0,d.t)("resources_tab.create_team_modal.team_creation_loading"),type:t,icon:p.zX.SPINNER}));try{let r=(await L.G.createStarterTeam()).data.meta;return e(u.F.dequeue({matchType:t})),e(f.Lo()),r}catch(r){return e(u.F.dequeue({matchType:t})),e(f.Lo()),e(u.F.enqueue({message:(0,d.t)("general.an_error_occurred"),error:!0})),Promise.reject()}},B=(0,R.Ju)(k.Rw),H=(e,t,r)=>n=>{n(f.to({type:B,data:{confirmationTitle:(0,d.t)("resources_tab.create_team_modal.modal_title",{extensionName:e}),content:(0,d.t)("resources_tab.create_team_modal.content",{orgName:t}),confirmText:(0,d.t)("general.continue"),onConfirm:()=>{n(U()).then(r)},hideCancel:!0}}))},V=(0,g.nF)(async(e,t)=>{let{workspaces:r,plans:n}=t,i=e.getState(),{authedUsers:a,orgById:o}=i,l=r.map(e=>({...e,workspaceName:(0,v.HE)(i,e),user:a.byId[e.userId]})),s=await Promise.all(l.map(async e=>{let r=e.orgId&&o[e.orgId],a=!0,l=!0;if(r&&(a=await (0,y.hb)(t.resource,r),l=(0,y.VT)(t.resource,r)),(0,S.Rt)(t.resource)&&!(0,T.canMemberOrg)(e.orgId,i,e.userId))return;let s=(0,h.y)(e,(0,C.wN)(t.editorType),i,n);return s.publicPluginsOrWidgetDisabled=!a,s.extensionRequestsAllowed=l,s})),c=[];if(s.forEach(e=>{void 0!==e&&c.push(e)}),c.length<=1){let e=c.length?c[0]:void 0;t.onSelectWorkspace(e);return}e.dispatch(f.to({type:m._,data:{payload:{extension:t.resource,workspaces:c,onSelectWorkspace:t.onSelectWorkspace,mode:"new_file"}}}))}),G=(0,g.nF)((e,t)=>{if(o.rr){window.location.href="/login";return}let r=t.isWidget?(0,d.t)("community.logged_out.sign_up_modal_widget_header"):(0,d.t)("community.logged_out.sign_up_modal_plugin_header");e.dispatch(c.I.init({origin:"plugin_try_signed_out"})),e.dispatch(f.to({type:P.l,data:{headerText:r,icon:t.isWidget?F.A:x.A,dispatch:e.dispatch,redirectPath:t.redirectPath}}))}),W=(0,g.nF)((e,t)=>{let r=e.getState().user,n=!!t.extension.isWidget,i=t.extension.currentPluginVersion;if(!i||!r)return;let a=i.hasPlaygroundFile,o=t.fullscreenEditorType===C.nT.DevHandoff,l={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:t.extension.id,tryPluginVersionId:i.id,tryPluginName:i.name??"",isWidget:n,isPlaygroundFile:!!(a||o),fuid:r.id,tryPluginParams:void 0};(0,w.Y9)(r.id,!1,null),(0,M.j)(l,null,null,r.id),(()=>{let a={storeInRecentsKey:t.fullscreenEditorType===C.nT.Whiteboard?O.$A.FigJam:O.$A.Design,id:t.extension.id,version:i.id,currentUserId:r.id};n?e.dispatch(D.RH(a)):e.dispatch(D.gU(a))})()}),K=(0,g.nF)((e,t)=>{let r=e.getState(),n=r.user,i=!!t.extension.isWidget,o=t.extension.currentPluginVersion;if(!o||!n)return;let l=()=>{let r={storeInRecentsKey:t.fullscreenEditorType===C.nT.Whiteboard?O.$A.FigJam:O.$A.Design,id:t.extension.id,version:o.id,currentUserId:n.id};i?e.dispatch(D.RH(r)):e.dispatch(D.gU(r))},s=o.hasPlaygroundFile,c=t.fullscreenEditorType===C.nT.DevHandoff,d={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:t.extension.id,tryPluginVersionId:o.id,tryPluginName:o.name??"",isWidget:i,isPlaygroundFile:!!(s||c),fuid:n.id,tryPluginParams:void 0},u=r.plans.filter(e=>e.plan_type===N.O.TEAM).map(e=>{let t=(0,a.O)(e,n.id);return{...t,workspaceName:(0,v.HE)(r,t),user:n}});if(0===u.length){e.dispatch(H(o.name,r.orgById[r.currentUserOrgId].name,e=>{(0,w.Y9)(n.id,!1,null,void 0,e.id),(0,M.j)(d,null,e.id,n.id),l()}));return}1===u.length?((0,w.Y9)(n.id,!1,null,void 0,u[0].teamId??null),(0,M.j)(d,null,u[0].teamId??null,n.id),l()):e.dispatch(f.to({type:m._,data:{payload:{workspaces:u,onSelectWorkspace:e=>{(0,w.Y9)(n.id,!1,null,void 0,(null==e?void 0:e.teamId)??null),(0,M.j)(d,null,(null==e?void 0:e.teamId)??null,n.id),l()},mode:"new_file"}}}))}),Y=(0,g.nF)((e,t)=>{let r=e.getState(),n=r.user,i=!!t.extension.isWidget,a=t.extension.currentPluginVersion;if(!a||!n)return;let o=a.hasPlaygroundFile,l=t.fullscreenEditorType===C.nT.DevHandoff,s={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:t.extension.id,tryPluginVersionId:a.id,tryPluginName:a.name??"",isWidget:i,isPlaygroundFile:!!(o||l),fuid:n.id,tryPluginParams:void 0},c=r.plans.find(e=>e.plan_type===N.O.ORG&&e.plan_id===r.currentUserOrgId);(0,w.Y9)(n.id,!1,c.plan_id,void 0,null),(0,M.j)(s,c.plan_id,null,n.id),(()=>{let r={storeInRecentsKey:t.fullscreenEditorType===C.nT.Whiteboard?O.$A.FigJam:O.$A.Design,id:t.extension.id,version:a.id,currentUserId:n.id};i?e.dispatch(D.RH(r)):e.dispatch(D.gU(r))})()}),j=(0,g.nF)(async(e,t)=>{var r;let a=e.getState(),{user:o,authedActiveCommunityProfile:c}=a,p=(0,_.Z)(a),m=(0,A.xQ)(t.resource),h=(0,S.uF)(t.resource);if(!o){e.dispatch(G({isWidget:m}));return}let g=()=>{let r={storeInRecentsKey:t.fullscreenEditorType===C.nT.Whiteboard?O.$A.FigJam:O.$A.Design,id:t.resource.id,version:h.id,currentUserId:o.id};m?e.dispatch(D.RH(r)):e.dispatch(D.gU(r))},f=(0,E.Gg)(a).length>1,T=(0,E.cs)(c),N=!!((null==o?void 0:o.id)&&(0,v.Tt)([o.id],a)),L=[],R=null;if((0,i.kc)().ps_benchmark)try{R=await e.dispatch((0,b.nm)(!0)),L=(0,I.F)(a,t.resource,R)}catch(n){let t=(null==(r=null==n?void 0:n.data)?void 0:r.message)||(0,d.t)("file_browser.error_try_again");e.dispatch(u.F.enqueue({message:t,type:"error"}))}else L=(0,I.F)(a,t.resource,{plansByUserId:{},teams:[],orgs:[]});let P=(f||N)&&!T&&!t.fileKey;(0,i.kc)().ps_benchmark&&(P=L.length>1&&!t.fileKey);let k={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:t.resource.id,tryPluginVersionId:h.id,tryPluginName:h.name,tryPluginEditorType:(0,S.iz)(h.manifest.editorType),isWidget:m,isPlaygroundFile:!!t.isPlaygroundFile,tryPluginParams:void 0,fileKey:t.fileKey};if((0,n.sx)("CTA Clicked",{name:"Try it out",pluginId:t.resource.id,isWidget:m,editorType:t.fullscreenEditorType,isMonetized:(0,A.m3)(t.resource),fileKey:t.fileKey,...p}),P)(0,n.sx)("try_it_out_drafts_picker_menu_opened",{pluginId:t.resource.id,isWidget:m,...p}),e.dispatch(V({plans:R,workspaces:L,resource:t.resource,editorType:(0,C.oD)(t.fullscreenEditorType),onSelectWorkspace:e=>{e?(k.fuid=e.userId,(0,w.Y9)(e.userId,!1,e.orgId,void 0,e.teamId??null),(0,M.j)(k,e.orgId,e.teamId??null,e.userId)):(0,M.j)(k,null,null,o.id),g()}}));else{if((0,i.kc)().ps_benchmark){if(t.fileKey)k.fuid=t.userId??o.id,(0,M.j)(k,null,null,k.fuid);else if(1===L.length){let r=L[0];if(r.orgId&&!(0,y.VT)(t.resource,a.orgById[r.orgId])&&!await (0,y.hb)(t.resource,a.orgById[r.orgId])){e.dispatch(H(h.name,(0,v.HE)(a,r),e=>{(0,w.Y9)(o.id,!1,null,void 0,e.id),(0,M.j)(k,null,e.id,o.id),g()}));return}(0,w.Y9)(r.userId,!1,r.orgId,void 0,r.teamId??null),(0,M.j)(k,r.orgId,r.teamId??null,r.userId)}else(0,l.$D)(s.e.COMMUNITY,Error("No workspaces found")),e.dispatch(u.F.enqueue({message:(0,d.t)("file_browser.error_try_again"),error:!0}))}else t.userId?(k.fuid=t.userId,(0,w.Y9)(t.userId,!1),(0,M.j)(k,null,null,t.userId)):(0,M.j)(k,null,null,o.id);g()}})},225266:(e,t,r)=>{"use strict";r.d(t,{MZ:()=>b,Nn:()=>g,Xt:()=>T,aq:()=>I,bb:()=>y,dx:()=>E,gI:()=>S,z8:()=>f});var n=r(27087),i=r(881388),a=r(939863),o=r(868389),l=r(980820),s=r(941381),c=r(988022),d=r(215822),u=r(772192),p=r(867795),m=r(76158),_=r(164185),h=r(186642),g=(e=>(e.INVITE_TILE="invite_tile",e.COMMUNITY_PAGE="community_page",e))(g||{});let f=(0,l.nF)((e,t)=>{n.Ay.put("/api/community_publishers/accept",t).then(({data:t})=>{let r=v(t.meta);r&&e.dispatch(r)}).catch(t=>{let r=(0,a.Jv)(t);throw e.dispatch(i.s.error((0,a.t)("community.actions.an_error_occurred_accepting_invite_please_refresh_and_try_again"))),Error(`Error updating resource ${r}`)})}),E=(0,l.nF)((e,t)=>{let{src:r,plugin_id:o,widget_id:l}=t;n.Ay.put("/api/plugin_publishers/accept",{plugin_id:o,widget_id:l}).then(({data:t})=>{var n;let i=v(t.meta);i&&e.dispatch(i),(0,c.ye)("plugin_publisher_invite_accepted",{src:r,userId:null==(n=e.getState().user)?void 0:n.id,pluginId:o??l,isWidget:!!l});let a=(0,d.T)();o?(0,_.s)({initialX:0,initialY:0,initialTab:"figjam"===a?p.p.PLUGINS:void 0,initialFdResourceTab:"figma"===a?m.s.PLUGIN:void 0,scrollDevelopmentSectionIntoView:"figjam"===a,initialFdView:"figma"===a?"development":void 0}):l&&(0,_.s)({initialX:0,initialY:0,initialTab:"figjam"===a?p.p.WIDGETS:void 0,initialFdResourceTab:"figma"===a?m.s.WIDGET:void 0,scrollDevelopmentSectionIntoView:"figjam"===a,initialFdView:"figma"===a?"development":void 0})}).catch(t=>{let r=(0,a.Jv)(t);throw e.dispatch(i.s.error((0,a.t)("community.actions.an_error_occurred_accepting_invite_please_refresh_and_try_again"))),Error(`Error updating resource ${r}`)})}),y=(0,l.nF)((e,t)=>{n.Ay.del("/api/community_publishers/remove",t).then(({data:t})=>{let r=v(t.meta);r&&e.dispatch(r)}).catch(t=>{let r=(0,a.Jv)(t);throw e.dispatch(i.s.error((0,a.t)("community.actions.an_error_occurred_while_removing_publisher_please_refresh_and_try_again"))),Error(`Error updating resource ${r}`)})}),b=(0,l.nF)((e,t)=>{n.Ay.del("/api/plugin_publishers/remove",t).then(({data:r})=>{var n;let i=r.meta;if(r.meta.plugin){let{plugin_publishers:e}=r.meta.plugin;r.meta.plugin.plugin_publishers=e??{accepted:[],pending:[]}}else if(r.meta.widget){let{plugin_publishers:e}=r.meta.widget;r.meta.widget.plugin_publishers=e??{accepted:[],pending:[]}}let a=v(i);a&&e.dispatch(a),(0,c.ye)("plugin_publisher_invite_removed",{src:t.src,userId:null==(n=e.getState().user)?void 0:n.id,pluginId:t.plugin_id||t.widget_id,isWidget:!!t.widget_id})}).catch(t=>{let r=(0,a.Jv)(t);throw e.dispatch(i.s.error((0,a.t)("community.actions.an_error_occurred_while_removing_publisher_please_refresh_and_try_again"))),Error(`Error updating resource ${r}`)})});function v(e){return e.hub_file?(0,o.Sb)({hubFiles:[e.hub_file],src:"removeCommunityPublisher"}):e.plugin?s.Qi({publishedPlugins:[e.plugin],src:"removeCommunityPublisher"}):e.widget?s.Qi({publishedPlugins:[e.widget],src:"removeCommunityPublisher"}):void 0}(0,l.nF)((e,t)=>{e.dispatch(s.pZ({profileId:t})),e.dispatch(s.kA({profileId:t})),e.dispatch((0,h.H)(t))});let I=(0,l.nF)(e=>{u.R.loadPluginsPublishedByUser(e),u.R.loadPluginsAuthoredByCurrentOrg(e)}),T=(0,l.nF)(e=>{u.R.loadPluginsAuthoredByCurrentOrg(e)}),S=(0,l.nF)(async e=>{await u.R.loadWidgetsAuthoredByCurrentOrg(e)})},970516:(e,t,r)=>{"use strict";r.d(t,{II:()=>u,S:()=>_,TH:()=>p,lW:()=>d,le:()=>m});var n=r(686759),i=r(939863),a=r(392592),o=r(662275),l=r(707465),s=r(558356),c=r(980820);let d=(0,c.nF)((e,t)=>{let r=t.stringToCopy,o={withLineBreaks:!(t.ignoreLineBreaks??!0),successText:t.successText};(0,n.Dk)(r,o).then(()=>{e.dispatch(a.F.enqueue({type:"copied_to_clipboard",message:o.successText??(0,i.t)("fullscreen_actions.copied_to_clipboard")}))})}),u=(0,c.nF)((e,t)=>{let r=t.emailList,o=r.length,l=r.join("; ");(0,n.Dk)(l).then(()=>{e.dispatch(a.F.enqueue({message:(0,i.t)("copy_to_clipboard.emails_copied_to_clipboard",{numEmails:o,emailText:l}),type:"emails-copied"}))})});function p(e){return(0,c.nF)((e,t)=>{let r=t.selector.selectedViewToPath(t.selectedView,t.data);if(!r)return;let n=new URL(r,document.baseURI).href;e.dispatch(_({url:n}))})(e)}let m=(0,c.nF)((e,t)=>{let r=new URL((0,l.Np)(e.getState(),t),document.baseURI).href;e.dispatch(_({url:r}))}),_=(0,c.nF)((e,t)=>{let r=t.url;(0,n.Dk)(r).then(()=>{e.dispatch(a.F.enqueue({type:"link_copied_to_clipboard",message:(0,i.t)("copy_to_clipboard.link_to_selection_copied_to_clipboard")}))}).catch(()=>{e.dispatch(o.to({type:s.o,data:{link:r}}))})})},56691:(e,t,r)=>{"use strict";r.d(t,{Gb:()=>R,I$:()=>k,Mx:()=>P,Ri:()=>L,c3:()=>F,gt:()=>M,ht:()=>C,j3:()=>O,mg:()=>N,on:()=>x,x3:()=>D});var n=r(167249),i=r(776250),a=r(627776),o=r(297666),l=r(517333),s=r(737947),c=r(430370),d=r(738269),u=r(119198),p=r(974105),m=r(788811),_=r(99506),h=r(623746),g=r(428467),f=r(707465),E=r(776615),y=r(239671),b=r(945020),v=r(967409),I=r(915306),T=r(637590),S=r(980820),w=r(445092);let A=(0,S.nF)((e,{viewport:t})=>{var r,n;let{selectedView:i}=e.getState();if("fullscreen"===i.view){e.dispatch(d.$T({...i,viewport:t}));let a=(null==(r=(0,m.ZG)())?void 0:r.fileKey)||i.fileKey;a&&(null==(n=l.eD)||n.updateViewport(a,t))}}),C=(0,S.nF)(e=>{let t=e.getState(),r=M(t);e.dispatch(w.Rz({query:t.desktopNewTab.searchQuery,searchScope:r,searchModelType:v.uH.FILES})),e.dispatch(w.r0({entryPoint:"desktop_new_tab"})),t=e.getState();let n=(0,f.xS)(t,{view:"search",entryPoint:"desktop_new_tab",previousView:t.selectedView&&((0,T.QB)(t.selectedView)||(0,T.bN)(t.selectedView))?t.selectedView:void 0});s.Ay.redirect(n)}),N=(0,n.N)("DESKTOP_NEW_TAB_SET_LOADING_BACKGROUND_COLOR"),O=(0,n.N)("DESKTOP_NEW_TAB_SET_IS_SEARCH_BAR_FOCUSED"),L=(0,n.N)("DESKTOP_NEW_TAB_SET_SEARCH_QUERY"),R=(0,S.nF)((e,t)=>{let r=e.getState(),n=t.result,i=n.model,a={position:t.index,resource_id:i.key,resource_type:n.search_model_type.toString(),matched_queries:n.matched_queries,result:n},o={plan:(0,c.K)(r)};new I.vj.Analytics(r.search,a,o).click(n.search_model_type,r.selectedView,{action:t.clickAction}),e.dispatch(w.ky()),e.dispatch(d.$T({view:"fullscreen",fileKey:i.key,editorType:(0,y.wN)(i.editor_type??_._Y.DESIGN)}))}),P=(0,S.nF)(async(e,t,{liveStore:r})=>{let n=await r.fetchFile(t.fileKey);(0,i.sx)("Desktop New Tab Open Recent",{itemType:"prototype",fileKey:n.key}),e.dispatch(d.$T({view:"prototype",file:(0,h.ge)(n),nodeId:t.pageId,pageId:t.pageId}))}),k=(0,S.nF)(async(e,t,{liveStore:r})=>{let n=await r.fetchFile(t.fileKey);(0,i.sx)("Desktop New Tab Open Recent",{itemType:"file",fileKey:n.key}),e.dispatch(d.$T({view:"fullscreen",fileKey:n.key,editorType:(0,y.wN)(n.editor_type??_._Y.DESIGN)}))}),D=(0,S.nF)((e,t)=>{let r=e.getState();if(!r.desktopNewTab.isCreatingFile){let n=(0,a.ce)()?b.ai.SAME_TAB:b.ai.NEW_TAB,i=(0,p.xA)(e.getState(),n,t.projectId?{folderId:t.projectId}:"drafts",{from:b.f6.DESKTOP_NEW_TAB_BUTTON,selectedView:r.selectedView},t.editorType,void 0);e.dispatch(u.uM(i))}});function M(e){let t=(0,g.getPermissionsStateMemoized)(e);return t.currentUserOrgId?(0,g.canMemberOrg)(t.currentUserOrgId,t)?v.Rx.ORG:v.Rx.ORG_GUEST:v.Rx.PERSONAL}function x(e,t){return t===_._Y.WHITEBOARD?"#ffffff":`#${(0,E.w2)(e)}`}let F=(0,o.s)((e,t)=>{e.dispatch(A({viewport:t}))},1e3)},244673:(e,t,r)=>{"use strict";r.d(t,{A3:()=>K,Dx:()=>C,HS:()=>R,L:()=>z,MG:()=>F,N9:()=>X,Ni:()=>G,Np:()=>q,OJ:()=>L,Ox:()=>U,P1:()=>P,Pg:()=>er,Qv:()=>eo,UQ:()=>S,UX:()=>$,VV:()=>el,Vk:()=>ec,WA:()=>O,_1:()=>es,c$:()=>k,g6:()=>N,gH:()=>ei,g_:()=>D,jt:()=>J,k1:()=>ee,lV:()=>et,lm:()=>w,lu:()=>en,mF:()=>M,mI:()=>ea,n0:()=>Q,ne:()=>ed,ot:()=>B,pX:()=>H,qV:()=>Z,qW:()=>Y,rF:()=>T,tk:()=>V,wk:()=>W});var n=r(167249),i=r(157663),a=r(297666),o=r(966712),l=r(939863),s=r(392592),c=r(988022),d=r(974105),u=r(857766),p=r(355513),m=r(852800),_=r(960628),h=r(518261),g=r(846456),f=r(587467),E=r(411189),y=r(728406),b=r(368702),v=r(980820);function I(e){return e.multiplayer.allUsers.length}function T(e,t,r){if(!e)return;let n=new g.a().selectedViewNameHelper(e,t,void 0!==r?function(e){let t=Math.max(0,e),r=t%60,n=(0,y.YI)((t-r)/60);return`${n}:${(0,y.YI)(r)}`}(r):void 0);(0,p.pE)(n,e.editor_type)}function S(e){return e?e.isPaused?e.lastReceivedSongTimestampMs:e.lastReceivedSongTimestampMs+(performance.now()-e.timeOrigin):0}let w="active-song-not-found";async function A(e,t){let r=e;return await (0,E._s)({songID:e,onSuccess:()=>{},onNotFound:()=>{t.dispatch(z({selectedSongID:"",musicStartTimeMs:0})),r="",t.dispatch(Z()),t.dispatch(s.F.enqueue({message:(0,l.t)("whiteboard.timer.song_not_available_error"),error:!0,type:w}))}}),r}let C=(0,v.T8)("SET_SELECTED_SONG_ID_MUSIC",(e,t)=>{let{music:r}=e.getState().music,n=!t.dontTransmitWhenPaused;if(r&&!r.isStopped&&(!r.isPaused||n)){let n=e.getState().music.activeSongs.find(e=>e.song_id===t.selectedSongID);e.dispatch(F({eventName:"update-music-song-id",isPaused:!r||r.isPaused,selectedSongID:t.selectedSongID,lastReceivedSongTimestampMs:(null==n?void 0:n.start_at_ms)||0,isStopped:!r||r.isStopped}))}}),N=(0,v.nF)(e=>{e.dispatch(O()),(0,E.I8)(),(0,E.om)()}),O=(0,n.N)("RESET_LOCAL_MUSIC"),L=(0,v.nF)((e,t)=>{if(e.dispatch(R(t)),t.isPaused||t.isStopped||!t.selectedSongID)(t.isPaused||t.isStopped)&&(0,E.c4)()&&(0,E.I8)();else{let r=x(t.selectedSongID,e.getState().music.activeSongs);(0,E.$_)(r,()=>{e.dispatch(D())})}}),R=(0,n.N)("SET_MUSIC_STATE"),P=(0,v.T8)("RESUME_MUSIC",async(e,t)=>{var r;let n=S(t),i=null==(r=e.getState().music.music)?void 0:r.selectedSongID;i&&(i=await A(i,e)),e.dispatch(F({eventName:"resume-music",isPaused:!1,selectedSongID:i||"",lastReceivedSongTimestampMs:n,isStopped:!1}))}),k=(0,v.nF)((e,t)=>{var r;let n=S(t),i=null==(r=e.getState().music.music)?void 0:r.selectedSongID;e.dispatch(F({eventName:"pause-music",isPaused:!0,selectedSongID:i||"",lastReceivedSongTimestampMs:n,isStopped:!1}))}),D=(0,v.nF)(e=>{var t;let r=null==(t=e.getState().music.music)?void 0:t.selectedSongID;e.dispatch(F({eventName:"stop-music",isPaused:!0,selectedSongID:r||"",lastReceivedSongTimestampMs:0,isStopped:!0}))}),M=(0,v.T8)("START_MUSIC",async(e,{musicStartTimeMs:t=0})=>{let{music:r}=e.getState().music,n="";r&&(n=r.selectedSongID),n&&(n=await A(n,e)),e.dispatch(F({eventName:"start-music",isPaused:!1,selectedSongID:n,lastReceivedSongTimestampMs:t,isStopped:!1}))}),x=(e,t)=>t.find(t=>t.song_id===e),F=(0,v.T8)("SEND_MUSIC_MESSAGE",(e,t)=>{var r;let n=e.getState().music;m.h3O.sendMusic(t.isPaused,((null==(r=null==n?void 0:n.music)?void 0:r.musicMessageID)||0)+1,t.selectedSongID||"",t.lastReceivedSongTimestampMs||0,t.isStopped)});(0,v.nF)((e,t)=>{"open"===t.state&&(0,b.D)(()=>{var t;(null==(t=e.getState().music)?void 0:t.modalState)==="open"&&e.dispatch(U({state:"closed",userInitiated:!1}))}),e.dispatch(U(t))});let U=(0,n.N)("SET_MUSIC_MODAL"),B=(0,n.N)("RESET_LOCAL_TIMER"),H=(0,v.T8)("SET_MUSIC_STANDALONE_VOLUME",(e,t)=>{j(e.getState(),t)}),V=(0,v.T8)("SET_MUSIC_IS_MUTED",(e,{isMuted:t,userInitiated:r})=>{r&&(0,f.ym)(e.getState(),t)}),G=(0,v.T8)("SET_TIMER_AND_MUSIC_ARE_MUTED",(e,{isMuted:t,userInitiated:r})=>{r&&(0,f.ym)(e.getState(),t)}),W=(0,n.N)("SET_STANDALONE_MUSIC_PLAYER"),K=(0,n.N)("SET_MAIN_MUSIC_PLAYER"),Y=(0,v.T8)("SET_MUSIC_VOLUME",(e,t)=>{j(e.getState(),t)}),j=(0,a.s)((e,t)=>(0,f.qV)(e,t),1e3,!1),z=(0,v.T8)("SET_SELECTED_SONG_ID",(e,t)=>{let{time:r}=e.getState().timer;if(r&&r.totalTimeMs>0){let n=(0,y.P$)(r);e.dispatch(ei({eventName:"update-timer-song-id",totalTimeMs:r.totalTimeMs,timeRemainingMs:n,isPaused:r.isPaused,songID:t.selectedSongID,lastReceivedSongTimestampMs:t.musicStartTimeMs})),_.d1.timerChange("timerupdatesongid")}}),$=(0,n.N)("GET_ACTIVE_SONGS_SUCCESS"),Z=(0,v.nF)(async e=>{try{let t=await h.N.getSongs();if(!t||200!==t.status||!t.data||!t.data.meta)throw i.k.warn("Failed to fetch active songs"),Error("Api error while fetching active songs");e.dispatch($(t.data.meta))}catch(e){throw i.k.warn("Failed to fetch active songs"),e}}),q=(0,n.N)("GET_ALL_SONGS_SUCCESS"),J=(0,v.nF)(async e=>{if(!(0,o.kc)().figjam_more_tracks_listen)throw Error("Fetching all songs disabled");try{let t=await h.N.getAllSongs();if(!t||200!==t.status||!t.data||!t.data.meta)throw i.k.warn("Failed to fetch all songs"),Error("Api error while fetching all songs");e.dispatch(q(t.data.meta))}catch(e){throw i.k.warn("Failed to fetch all songs"),e}}),X=(0,n.N)("SET_SHOWING_FILE_FOOTER"),Q=(0,n.N)("SET_SELECTED_TYPED_PROP_DEF_ID"),ee=(0,n.N)("SET_START_CHIME_PLAYED"),et=(0,n.N)("SET_TIMER_NOTIFICATION"),er=(0,n.N)("SET_TIMER_AUDIO_ENABLED"),en=(0,v.T8)("SET_TIMER_MODAL",(e,t)=>{var r,n;if("open"===t.state&&(0,y.FR)()&&(0,b.D)(()=>{var t;let r=(0,y.FR)();(null==(t=e.getState().timer)?void 0:t.modalState)==="open"&&r&&e.dispatch(en({state:"closed",userInitiated:!1}))}),t.userInitiated){let i=e.getState(),a=(null==(r=i.timer.time)?void 0:r.timeRemainingMs)>0;(0,c.ds)(`timer-modal-${t.state}`,null==(n=i.openFile)?void 0:n.key,i,{"multiplayer-users":I(i),"timer-active":a,source:t.source})}}),ei=(0,v.T8)("SEND_TIMER",(e,t)=>{var r,n,i;let a=e.getState(),l=a.timer,s=l.setBy;if("start-timer"===t.eventName){let e=a.multiplayer.allUsers.find(e=>e.sessionID===a.multiplayer.sessionID);s=e?e.name:(null==(r=(0,o.Ay)().user_data)?void 0:r.handle)||"anonymous user"}if(m.h3O.sendTimer(t.totalTimeMs||0,t.timeRemainingMs||0,!!t.isPaused,((null==(n=null==l?void 0:l.time)?void 0:n.timerID)||0)+1,s,t.songID||"",t.lastReceivedSongTimestampMs||0),t.eventName){let e={"multiplayer-users":I(a)};if("adjust-timer"===t.eventName){let r=Math.round((t.totalTimeMs-a.timer.time.totalTimeMs)/1e3);e["time-added-s"]=r}else"start-timer"===t.eventName&&(e["duration-s"]=Math.round(t.totalTimeMs/1e3));(0,c.ds)(t.eventName,null==(i=a.openFile)?void 0:i.key,a,e,{forwardToDatadog:!0})}}),ea=(0,v.T8)("SET_TIMER",(e,t)=>{if(0===t.totalTimeMs){let t=e.getState(),r=(0,d.d1)(t);if(r){let e=(0,u.L8)(r,t.repos);T(r,e)}}}),eo=(0,v.T8)("START_TIMER",async(e,{totalTimeMs:t,musicStartTimeMs:r=0})=>{let n=e.getState().timer.selectedSongID;n&&(n=await A(n,e)),e.dispatch(ei({eventName:"start-timer",totalTimeMs:t,timeRemainingMs:t,isPaused:!1,songID:n,lastReceivedSongTimestampMs:r})),_.d1.timerChange("timerstart")}),el=(0,v.nF)((e,t)=>{let r=e.getState().timer.selectedSongID;e.dispatch(ei({eventName:"adjust-timer",totalTimeMs:t.timer.totalTimeMs+t.deltaMs,timeRemainingMs:(0,y.P$)(t.timer)+t.deltaMs,isPaused:t.timer.isPaused,songID:r,lastReceivedSongTimestampMs:t.timer.lastReceivedSongTimestampMs})),_.d1.timerChange("timeradjust")}),es=(0,v.nF)((e,t)=>{let r=(0,y.P$)(t),n=S(t),i=e.getState().timer.selectedSongID;e.dispatch(ei({eventName:"pause-timer",totalTimeMs:t.totalTimeMs,timeRemainingMs:r,isPaused:!0,songID:i,lastReceivedSongTimestampMs:n})),_.d1.timerChange("timerpause")}),ec=(0,v.nF)(e=>{let t=e.getState().timer.selectedSongID;e.dispatch(ei({eventName:"stop-timer",totalTimeMs:0,timeRemainingMs:0,isPaused:!0,songID:t,lastReceivedSongTimestampMs:0})),_.d1.timerChange("timerstop")}),ed=(0,v.T8)("RESUME_TIMER",async(e,t)=>{let r=e.getState().timer.selectedSongID;r&&(r=await A(r,e)),e.dispatch(ei({eventName:"resume-timer",totalTimeMs:t.totalTimeMs,timeRemainingMs:t.timeRemainingMs,isPaused:!1,songID:r,lastReceivedSongTimestampMs:t.lastReceivedSongTimestampMs})),_.d1.timerChange("timerresume")})},54552:(e,t,r)=>{"use strict";r.d(t,{DN:()=>U,EX:()=>k,Fb:()=>G,Ic:()=>A,Mv:()=>D,N9:()=>L,U6:()=>v,V1:()=>C,X7:()=>B,YI:()=>O,ZW:()=>x,de:()=>w,dy:()=>R,iN:()=>H,if:()=>M,jv:()=>P,lF:()=>b,ox:()=>F,pS:()=>T,qP:()=>V,to:()=>I,vg:()=>S,vr:()=>j,yH:()=>N});var n=r(167249),i=r(935283),a=r(722138),o=r(309225),l=r(286098),s=r(547807),c=r(27087),d=r(881388),u=r(939863),p=r(392592),m=r(980820),_=r(857766),h=r(723245),g=r(477782),f=r(99506),E=r(279453),y=r(225868);let b=(0,n.N)("SET_FAVORITES_COUNT"),v=(0,n.N)("UPDATE_EXPANDED_CUSTOM_SECTIONS"),I=(0,n.N)("SET_MOVING_RESOURCE"),T=(0,n.N)("SET_NEW_SECTION_INDEX"),S=(0,m.nF)((e,t)=>{let{name:r,orderedFavoriteIds:n}=t,i=c.Ay.put(`/api/user_sidebar_sections/${t.sectionId}`,{ordered_favorited_resource_ids:n,name:r}).catch(t=>{e.dispatch(p.F.enqueue({message:`${t.data.message}`}))});(0,o.WB)().optimisticallyUpdate({UserSidebarSection:{[t.sectionId]:{...r?{name:r}:{},...n?{orderedFavoritedResourceIds:n}:{}}}},i),t.name&&(0,a.K2)(t.sectionId,t.name)}),w=(0,m.nF)((e,t)=>{let r=c.Ay.del(`/api/user_sidebar_sections/${t.sidebarSectionId}`).catch(t=>{e.dispatch(p.F.enqueue({message:`${t.msg}`}))});(0,a.Pe)(t.sidebarSectionId),(0,o.WB)().optimisticallyDelete({UserSidebarSection:{[t.sidebarSectionId]:null}},r)}),A=(0,m.nF)((e,t)=>{let r={favorited_resource_ids:t.favoriteIds,team_id:t.teamId};(0,a.Dr)(t.favoriteIds,t.teamId),c.Ay.put("/api/planless_favorited_resource_plan_id",r).catch(t=>{e.dispatch(p.F.enqueue({message:`${t.data.message}`}))})}),C=(0,m.nF)((e,t)=>{let r={section_id:t.sectionId,ordered_favorite_ids:t.orderedFavoriteIds},n=c.Ay.put(`/api/favorited_resources/${t.favoriteId}`,r).catch(t=>{e.dispatch(p.F.enqueue({message:`${t.data.message}`}))});t.sectionId&&(0,o.WB)().optimisticallyUpdate({UserSidebarSection:{[t.sectionId]:{orderedFavoritedResourceIds:t.orderedFavoriteIds}}},n);let i={[t.favoriteId]:{sidebarSectionId:t.sectionId}};switch(t.resourceType){case f.bk.TEAM:(0,o.WB)().deprecatedOptimisticallyUpdateByView(E.$kt,{FavoritedTeam:i},n);break;case f.bk.FOLDER:(0,o.WB)().deprecatedOptimisticallyUpdateByView(E.$kt,{FavoritedProject:i},n);break;case f.bk.FILE:(0,o.WB)().deprecatedOptimisticallyUpdateByView(E.$kt,{FavoritedFile:i},n);break;case f.bk.PROTOTYPE:(0,o.WB)().deprecatedOptimisticallyUpdateByView(E.$kt,{FavoritedPrototype:i},n);break;case f.bk.WORKSPACE:(0,o.WB)().deprecatedOptimisticallyUpdateByView(E.$kt,{FavoritedWorkspace:i},n)}}),N=(0,m.MM)("CREATE_SIDEBAR_SECTION_FAVORITE",(e,t,{optimistId:r})=>{var n,i,a,l,s,d,u;let m=e.getState().currentUserOrgId??null,_={name:t.name,org_id:m,insert_at_index:t.insertAtIndex,ordered_sections:t.currentOrderedSections},h=c.Ay.post("/api/user_sidebar_sections",_).then(n=>{if(!(null==n?void 0:n.data.meta)){e.dispatch(I({movingResource:void 0}));return}K(e.dispatch,t.newResourceForSection.resourceType,t.newResourceForSection.isFavorited,t.newResourceForSection.resourceId,r,n.data.meta),e.dispatch(I({movingResource:void 0}))}).catch(t=>{e.dispatch(p.F.enqueue({message:`${t.msg}`}))});if((0,o.WB)().optimisticallyCreate({UserSidebarSection:{[z]:{userId:(null==(n=e.getState().user)?void 0:n.id)??"",orgId:m,teamId:"",name:t.name,createdAt:new Date,orderedFavoritedResourceIds:[]}}},h),t.prefs&&t.currentOrderedSections){let r=t.currentOrderedSections.length,n=[...null==(i=t.currentOrderedSections)?void 0:i.slice(0,t.insertAtIndex),z,...t.currentOrderedSections.slice(t.insertAtIndex,r)],o={id:null==(a=t.prefs)?void 0:a.id,orderedFavoritedResourceIds:null==(l=t.prefs)?void 0:l.orderedFavoritedResourceIds,orderedTeamIds:null==(s=t.prefs)?void 0:s.orderedTeamIds,orderedLicenseGroupIds:null==(d=t.prefs)?void 0:d.orderedLicenseGroupIds,orderedSidebarSections:n};(0,y.ah)(o,null==(u=e.getState().user)?void 0:u.id,m,null,h)}}),O=(0,m.nF)((e,t)=>{var r,n,i,l,s,d,u;let m=e.getState().currentUserOrgId??null,_={name:t.name,org_id:m,insert_at_index:t.insertAtIndex,ordered_sections:t.currentOrderedSections},h=c.Ay.post("/api/user_sidebar_sections",_).then(e=>{(0,a.SX)(null==e?void 0:e.data.meta,t.name)}).catch(t=>{e.dispatch(p.F.enqueue({message:`${t.msg}`}))}),g="optimistic-id-custom-section-id";if((0,o.WB)().optimisticallyCreate({UserSidebarSection:{[g]:{userId:(null==(r=e.getState().user)?void 0:r.id)??"",orgId:m,teamId:"",name:t.name,createdAt:new Date,orderedFavoritedResourceIds:[]}}},h),t.prefs&&t.currentOrderedSections){let r=t.currentOrderedSections.length,a=[...null==(n=t.currentOrderedSections)?void 0:n.slice(0,t.insertAtIndex),g,...t.currentOrderedSections.slice(t.insertAtIndex,r)],o={id:null==(i=t.prefs)?void 0:i.id,orderedFavoritedResourceIds:null==(l=t.prefs)?void 0:l.orderedFavoritedResourceIds,orderedTeamIds:null==(s=t.prefs)?void 0:s.orderedTeamIds,orderedLicenseGroupIds:null==(d=t.prefs)?void 0:d.orderedLicenseGroupIds,orderedSidebarSections:a};(0,y.ah)(o,null==(u=e.getState().user)?void 0:u.id,m,null,h)}}),L=(0,m.MM)("BULK_RESOURCE_SET_FAVORITE",(e,t,{optimistId:r,liveStore:n})=>{var i,s,u,_;let{files:h,repos:g,prototypes:b,orgId:v,teamId:I,selectedView:T,entrypoint:S}=t,w=e.getState().currentTeamId,A=e.getState().currentUserOrgId,C=w??A,N=h.filter(e=>!e.is_favorited&&(e.team_id===C||e.parent_org_id===C)),O=N.map(e=>e.key),L=g.filter(e=>!e.is_favorited&&(e.team_id===C||e.parent_org_id===C)).filter(Boolean),R=L.map(e=>e.default_file_key),P=b.filter(e=>{var t,r;return!e.is_favorited&&((null==(t=e.parent_team)?void 0:t.id)===C||(null==(r=e.parent_org)?void 0:r.id)===C)}),k=P.map(e=>e.file_key+","+e.page_id),D={files:R.concat(O),org_id:v,team_id:I,prototypes:k,insert_at_index:t.insertAtIndex,ordered_favorites:t.orderedFavorites,section_id:t.sectionId};h.forEach(e=>{(0,a.gB)(e.key,T,S,f.bk.FILE,e.editor_type,!0)}),g.forEach(e=>{(0,a.gB)(e.default_file_key??void 0,T,S,f.bk.FILE,"design",!0)}),b.forEach(e=>{(0,a.gB)(e.file_key,T,S,f.bk.PROTOTYPE,"design",!0)});let M=c.Ay.put("/api/bulk_favorite_resources",D).then(()=>{e.dispatch(m.hp.commit(r))}).catch(t=>{e.dispatch(m.hp.revert(r));try{e.dispatch(p.F.enqueue({message:t.message}))}catch(t){e.dispatch(d.s.error("An error occurred while favoriting these items"))}}),x=null==(i=e.getState().user)?void 0:i.id;if(!x)return;let F={},U={},B=[];if(P.forEach(e=>{B.push(`optimistic-id-${e.fig_file.key}`),U[`optimistic-id-${e.fig_file.key}`]=(0,l.XJ)(e,x,v,t.sectionId)}),L.forEach(e=>{let r=e.default_file_key;if(r){let e=n.readCachedFile(r);e&&(B.push(`optimistic-id-${e.key}`),F[`optimistic-id-${e.key}`]=(0,l.f2)(e,x,v,t.sectionId))}}),N.forEach(e=>{B.push(`optimistic-id-${e.key}`),F[`optimistic-id-${e.key}`]=(0,l.f2)(e,x,v,t.sectionId)}),(0,o.WB)().deprecatedOptimisticallyCreateByView(E.$kt,{FavoritedFile:F,FavoritedPrototype:U},M),null===t.insertAtIndex)return;let H=[...t.orderedFavorites.slice(0,t.insertAtIndex),...B,...t.orderedFavorites.slice(t.insertAtIndex)];if(t.sectionId)(0,o.WB)().deprecatedOptimisticallyUpdateByView(E.$kt,{UserSidebarSection:{[t.sectionId]:{orderedFavoritedResourceIds:H}}},M);else{let e={id:(null==(s=t.fileBrowserPrefs)?void 0:s.id)||"optimistic-id",orderedFavoritedResourceIds:H,orderedTeamIds:null==(u=t.fileBrowserPrefs)?void 0:u.orderedTeamIds,orderedLicenseGroupIds:null==(_=t.fileBrowserPrefs)?void 0:_.orderedLicenseGroupIds};(0,y.ah)(e,x,v,null,M)}}),R=(0,m.MM)("REMOVE_TILE_FAVORITE",async(e,t,{liveStore:r})=>{let{tile:n,entrypoint:a,favoriteId:o,sectionId:l,fileBrowserEntryPoint:s}=t;switch(n.type){case g.nb.FILE:e.dispatch(V({entrypoint:a,favoriteId:o,file:n.file,fileBrowserEntryPoint:s}));return;case g.nb.PINNED_FILE:let c=await r.fetchFile(n.file.key);e.dispatch(V({entrypoint:a,favoriteId:o,file:c,fileBrowserEntryPoint:s}));return;case g.nb.PROTOTYPE:e.dispatch(B({entrypoint:a,favoriteId:o,prototype:n.prototype,fileBrowserEntryPoint:s}));return;case g.nb.REPO:e.dispatch(V({entrypoint:a,favoriteId:o,file:(0,_.mr)(n.repo,n.branches,{}),repoId:n.repo.id,fileBrowserEntryPoint:s}));return;case g.nb.PROJECT:e.dispatch(P({entrypoint:a,favoriteId:o,sectionId:l,folder:n.folder}));return;case g.nb.OFFLINE_FILE:return;default:(0,i.xb)(n)}}),P=(0,m.MM)("REMOVE_FOLDER_FAVORITE",(e,t,{optimistId:r})=>{let{folder:n,sectionId:i}=t;(0,a.to)(n.id,e.getState().selectedView.view,t.entrypoint,f.bk.FOLDER);let l=K(e.dispatch,f.bk.FOLDER,!1,n.id,r,i);t.favoriteId&&(0,o.WB)().deprecatedOptimisticallyDeleteByView(E.$kt,{FavoritedProject:{[t.favoriteId]:null}},l)}),k=(0,m.MM)("ADD_TILE_FAVORITE",async(e,t,{liveStore:r})=>{let{tile:n,entrypoint:a,favoriteId:o,sectionId:l,fileBrowserEntryPoint:s}=t;switch(n.type){case g.nb.FILE:e.dispatch(G({entrypoint:a,favoriteId:o,sectionId:l,file:n.file,fileBrowserEntryPoint:s}));return;case g.nb.PINNED_FILE:let c=await r.fetchFile(n.file.key);e.dispatch(G({entrypoint:a,favoriteId:o,sectionId:l,file:c,fileBrowserEntryPoint:s}));return;case g.nb.PROTOTYPE:e.dispatch(H({entrypoint:a,favoriteId:o,sectionId:l,prototype:n.prototype,fileBrowserEntryPoint:s}));return;case g.nb.REPO:e.dispatch(G({entrypoint:a,favoriteId:o,sectionId:l,file:(0,_.mr)(n.repo,n.branches,e.getState().selectedBranchKeyByRepoId),repoId:n.repo.id,fileBrowserEntryPoint:s}));return;case g.nb.PROJECT:e.dispatch(D({entrypoint:a,favoriteId:o,sectionId:l,folder:n.folder}));return;case g.nb.OFFLINE_FILE:return;default:(0,i.xb)(n)}}),D=(0,m.MM)("ADD_FOLDER_FAVORITE",(e,t,{optimistId:r})=>{var n;let{folder:i,sectionId:s}=t;(0,a.gB)(i.id,e.getState().selectedView.view,t.entrypoint,f.bk.FOLDER);let c=K(e.dispatch,f.bk.FOLDER,!0,i.id,r,s),d=null==(n=e.getState().user)?void 0:n.id,u=e.getState().currentUserOrgId;d&&(t.favoriteId&&t.sectionId&&(0,o.WB)().deprecatedOptimisticallyUpdateByView(E.$kt,{FavoritedProject:{[t.favoriteId]:{sidebarSectionId:t.sectionId}}},c),"is_favorited"in i&&(t.favoriteId||(0,o.WB)().deprecatedOptimisticallyCreateByView(E.$kt,{FavoritedProject:{[`optimistic-id-${i.id}`]:(0,l.ad)(i,d,u,s)}},c)))}),M=(0,m.MM)("REMOVE_WORKSPACE_FAVORITE",(e,t,{optimistId:r})=>{let{workspace:n}=t;(0,a.to)(n.id,e.getState().selectedView.view,t.entrypoint,f.bk.WORKSPACE);let i=K(e.dispatch,f.bk.WORKSPACE,!1,n.id,r);t.favoriteId&&(0,o.WB)().deprecatedOptimisticallyDeleteByView(E.$kt,{FavoritedWorkspace:{[t.favoriteId]:null}},i)}),x=(0,m.MM)("ADD_WORKSPACE_FAVORITE",(e,t,{optimistId:r})=>{var n;let{workspace:i,sectionId:s}=t,c=e.getState().currentUserOrgId;(0,a.gB)(i.id,e.getState().selectedView.view,t.entrypoint,f.bk.WORKSPACE);let d=K(e.dispatch,f.bk.WORKSPACE,!0,i.id,r,s),u=null==(n=e.getState().user)?void 0:n.id;u&&(t.favoriteId&&t.sectionId?(0,o.WB)().deprecatedOptimisticallyUpdateByView(E.$kt,{FavoritedWorkspace:{[t.favoriteId]:{sidebarSectionId:t.sectionId}}},d):(0,o.WB)().deprecatedOptimisticallyCreateByView(E.$kt,{FavoritedWorkspace:{[`optimistic-id-${i.id}`]:(0,l.Nc)(i,u,c,s)}},d))}),F=(0,m.MM)("REMOVE_TEAM_FAVORITE",(e,t,{optimistId:r})=>{let{team:n}=t;(0,a.to)(n.id,e.getState().selectedView.view,t.entrypoint,f.bk.TEAM);let i=K(e.dispatch,f.bk.TEAM,!1,n.id,r);t.favoriteId&&(0,o.WB)().deprecatedOptimisticallyDeleteByView(E.$kt,{FavoritedTeam:{[t.favoriteId]:null}},i)}),U=(0,m.MM)("ADD_TEAM_FAVORITE",(e,t,{optimistId:r})=>{var n;let{team:i,sectionId:s}=t,c=e.getState().currentUserOrgId;(0,a.gB)(i.id,e.getState().selectedView.view,t.entrypoint,f.bk.TEAM);let d=K(e.dispatch,f.bk.TEAM,!0,i.id,r,s),u=null==(n=e.getState().user)?void 0:n.id;u&&(t.favoriteId&&t.sectionId?(0,o.WB)().optimisticallyUpdate({FavoritedTeam:{[t.favoriteId]:{sidebarSectionId:t.sectionId}}},d):(0,o.WB)().optimisticallyCreate({FavoritedTeam:{[`optimistic-id-${i.id}`]:(0,l.zb)(i,u,c,s)}},d))}),B=(0,m.MM)("REMOVE_PROTOTYPE_FAVORITE",(e,t,{optimistId:r})=>{var n;let{prototype:i,entrypoint:l,fileBrowserEntryPoint:s}=t;(0,a.to)(i.file_key,e.getState().selectedView.view,l,f.bk.PROTOTYPE,void 0,s);let c=K(e.dispatch,f.bk.PROTOTYPE,!1,i.file_key,r,void 0,i.page_id);(null==(n=e.getState().user)?void 0:n.id)&&t.favoriteId&&(0,o.WB)().deprecatedOptimisticallyDeleteByView(E.$kt,{FavoritedPrototype:{[t.favoriteId]:null}},c)}),H=(0,m.MM)("ADD_PROTOTYPE_FAVORITE",(e,t,{optimistId:r})=>{var n;let{prototype:i,entrypoint:s,sectionId:c,fileBrowserEntryPoint:d}=t,u=e.getState().currentUserOrgId;(0,a.gB)(i.file_key,e.getState().selectedView.view,s,f.bk.PROTOTYPE,"prototype",d);let p=K(e.dispatch,f.bk.PROTOTYPE,!0,i.fig_file.key,r,c,i.page_id),m=null==(n=e.getState().user)?void 0:n.id;m&&(t.favoriteId&&t.sectionId?(0,o.WB)().deprecatedOptimisticallyUpdateByView(E.$kt,{FavoritedPrototype:{[t.favoriteId]:{sidebarSectionId:t.sectionId}}},p):(0,o.WB)().deprecatedOptimisticallyCreateByView(E.$kt,{FavoritedPrototype:{[`optimistic-id-${i.fig_file.key}`]:(0,l.XJ)(i,m,u,c)}},p))}),V=(0,m.MM)("REMOVE_FILE_FAVORITE",(e,t,{optimistId:r})=>{var n;let i=e.getState().selectedView.view,{file:l,entrypoint:s,fileBrowserEntryPoint:c}=t;(0,a.to)(l.key,i,s,f.bk.FILE,l.editor_type??"design",c);let d="fullscreen"===i?W(e.dispatch,f.bk.FILE,!1,l.key,(0,h.D6)(e.getState().currentUserOrgId)):K(e.dispatch,f.bk.FILE,!1,l.key,r);(null==(n=e.getState().user)?void 0:n.id)&&t.favoriteId&&(0,o.WB)().deprecatedOptimisticallyDeleteByView(E.$kt,{FavoritedFile:{[t.favoriteId]:null}},d)}),G=(0,m.MM)("ADD_FILE_FAVORITE",(e,t,{optimistId:r})=>{var n;let{file:i,entrypoint:s,sectionId:c,fileBrowserEntryPoint:d}=t;(0,a.gB)(i.key,e.getState().selectedView.view,s,f.bk.FILE,i.editor_type??"design",d);let u=K(e.dispatch,f.bk.FILE,!0,i.key,r,c,void 0,(0,h.D6)(e.getState().currentUserOrgId)),p=null==(n=e.getState().user)?void 0:n.id;if(p){if(t.favoriteId&&t.sectionId)(0,o.WB)().optimisticallyUpdate({FavoritedFile:{[t.favoriteId]:{sidebarSectionId:t.sectionId,orgId:e.getState().currentUserOrgId??null,resourceType:f.bk.FILE,userId:p}}},u);else if(e.getState().currentTeamId&&e.getState().currentTeamId===t.file.team_id||e.getState().currentUserOrgId&&t.file.parent_org_id){let r=(0,l.h7)(i);(0,o.WB)().optimisticallyCreate({FavoritedFile:{[`optimistic-id-${i.key}`]:{userId:p,orgId:e.getState().currentUserOrgId??null,teamId:e.getState().currentTeamId??null,sidebarSectionId:t.sectionId??null,createdAt:new Date,updatedAt:new Date,resourceId:i.key,resourceType:f.bk.FILE,readableFile:r}}},u)}}}),W=(e,t,r,n,i)=>c.Ay.put("/api/favorited_resources",{resource_type:t,is_favorited:r,file_key:n}).then(()=>{let t=i?(0,u.t)("tile.favoriting.file_removed_from_sidebar"):(0,u.t)("tile.favoriting.file_removed_from_favorites"),n=i?(0,u.t)("tile.favoriting.file_added_to_sidebar"):(0,u.t)("tile.favoriting.file_added_to_favorites");e(p.F.enqueue({message:r?n:t}))}).catch(t=>{let r=(0,u.Jv)(t);if(r)try{e(p.F.enqueue({message:r}))}catch(t){e(d.s.error("An error occurred while favoriting this item"))}}),K=(e,t,r,n,i,a,o,l)=>c.Ay.put("/api/favorited_resources",{resource_type:t,is_favorited:r,resource_id_or_key:n,page_id:o,section_id:a}).then(()=>{if(e(m.hp.commit(i)),l||t!==f.bk.FILE){let t=r?(0,u.t)("sidebar.item_added_bell_message"):(0,u.t)("sidebar.item_removed_bell_message");e(p.F.enqueue({message:t}))}}).catch(t=>{let n=(0,u.Jv)(t);if(n){e(m.hp.revert(i));try{e(p.F.enqueue({message:n}))}catch(n){let t=r?"favoriting this item":"removing this favorite";e(d.s.error(`An error occurred while ${t}`))}}}),Y=e=>((0,a.j4)(e.favorited_resource_ids),c.Ay.del("/api/favorited_resources",s.td.toAPIParameters(e))),j=(0,m.nF)((e,t)=>{Y({favorited_resource_ids:t.favoriteIds}).catch(t=>{e.dispatch(p.F.enqueue({message:`${t.data.message}`}))})}),z="optimistic-id-custom-section-id"},738274:(e,t,r)=>{"use strict";r.d(t,{EG:()=>l,Ji:()=>i,lr:()=>a,qC:()=>o});var n=r(167249);let i=(0,n.N)("FIGJAM_SET_IS_MAKE_SOMETHING_V2_ACTIVE"),a=(0,n.N)("FIGJAM_SET_DELIGHTFUL_TOOLBAR_OVERFLOW_MENU"),o=(0,n.N)("FIGJAM_SET_IMAGE_DIALOG"),l=(0,n.N)("FIGJAM_SET_QUICK_ACCESS_TOOL")},753643:(e,t,r)=>{"use strict";r.d(t,{GU:()=>m,fC:()=>_,o2:()=>u,s7:()=>p});var n=r(167249),i=r(980820),a=r(410424),o=r(941381),l=r(182976),s=r(336599),c=r(239671),d=r(288813);let u=(0,n.N)("UPDATE_FACE_STAMPS"),p=(0,n.N)("PUT_DEFAULT_FIGJAM_INSERT_ITEMS"),m=(0,i.nF)(e=>{let t=e.getState().selectedView;t&&"fullscreen"===t.view&&t.editorType===c.nT.Whiteboard&&h(e)}),_="FETCH_FIGJAM_DEFAULT_INSERTS";async function h(e){let t=e.getState();if((0,s.Sc)(t.loadingState,_)){e.dispatch(l.Cx({key:_}));try{let r=await d.d.getDefaultInserts({orgId:t.currentUserOrgId||void 0}),n=[...r.data.meta.plugins,...function(e){let t=[];for(let r of e)for(let e of r.resources)e&&"is_widget"in e&&!e.is_widget&&t.push(e);return t}(r.data.meta.use_cases)],i=[...r.data.meta.widgets,...function(e){let t=[];for(let r of e)for(let e of r.resources)e&&"is_widget"in e&&e.is_widget&&t.push(e);return t}(r.data.meta.use_cases)],s=[...r.data.meta.templates,...function(e){let t=[];for(let r of e)for(let e of r.resources)e&&"viewer_mode"in e&&e.viewer_mode&&t.push(e);return t}(r.data.meta.use_cases)];e.dispatch((0,a.Sb)({hubFiles:s,src:"figjam-inserts"})),e.dispatch(p(r.data.meta)),e.dispatch(o.Vx(n)),e.dispatch(o.uV(i));let c={},u={};i.forEach(e=>{var r;let n=e.current_plugin_version_id;!(n&&(null==(r=t.publishedCanvasWidgetVersions[e.id])?void 0:r[n]))&&(c[e.id]=Object.keys(e.versions),e.current_plugin_version_id&&(u[e.id]={[e.current_plugin_version_id]:e.versions[e.current_plugin_version_id]}))}),e.dispatch((0,o.fs)(u)),e.dispatch((0,o.b6)({widgetIDToVersions:c})),e.dispatch(l.x2({key:_}))}catch(t){e.dispatch(l.of({key:_}))}}}},944682:(e,t,r)=>{"use strict";r.d(t,{$m:()=>j,FE:()=>U,GZ:()=>Y,Lk:()=>eu,Nw:()=>er,P6:()=>J,PB:()=>eo,PF:()=>Q,Rh:()=>K,S:()=>et,U2:()=>ei,VK:()=>X,YK:()=>q,YW:()=>V,Yn:()=>ee,Yp:()=>en,ZN:()=>G,bE:()=>ea,c3:()=>ed,iF:()=>Z,jO:()=>F,og:()=>B,rA:()=>W,sF:()=>H,tX:()=>x,uo:()=>el,xy:()=>$,yJ:()=>es});var n=r(723069),i=r(167249),a=r(297666),o=r(517333),l=r(686759),s=r(737947),c=r(966712),d=r(309225),u=r(499737),p=r(752553),m=r(179940),_=r(776621),h=r(27087),g=r(881388),f=r(939863),E=r(392592),y=r(980820),b=r(662275),v=r(988022),I=r(857766),T=r(852800),S=r(132135),w=r(892542),A=r(279453),C=r(623746),N=r(691205),O=r(401352),L=r(694517),R=r(754168),P=r(558356),k=r(479296),D=r(938908),M=r(31913);let x={key:"showDiagramOnboarding",value:"1"};function F(e){return void 0!==e.file_repo}function U(e,t){return h.Ay.put(`/api/files/${e}/thumbnail_guid`,{thumbnail_guid:t}).then(()=>{T.Ez5.canvasViewState().thumbnailNodeId.set(t)})}let B=(0,y.nF)((e,t)=>{t.file.created_at&&console.error("It looks like you are PUT-ting to the API with the entire file object; please only pass the key and file permission attributes");let r=R.S.putFile(t).then(()=>{var e;null==(e=t.onSuccess)||e.call(t)}).catch(r=>{var n;if(null==(n=t.onError)||n.call(t),e.dispatch(E.F.enqueue({message:(0,f.t)("file_permissions.generic_error"),error:!0})),(0,c.b5)())throw r}),n=t.file,i={...(0,C.Ns)(n,n.key),...(0,C.yT)(n,t.linkExpirationConfigId,t.currentUser)},a=(0,C.TP)(n,t.linkExpirationConfigId,t.currentUser);Object.keys(i).length>0&&(0,d.WB)().optimisticallyUpdate(i,r),a&&(0,d.WB)().optimisticallyCreate(a,r)}),H=(0,i.N)("FILE_PERMISSIONS_PUT"),V=(0,y.nF)(async(e,t)=>{var r,i;let a=e.getState(),l={},c=t.file,p=c.folderId,_=!1;if(p){let e="design"===c.editorType?A.RmP:A.JkW,t=await (0,d.Ek)(e,{id:p});_="loaded"===t.status&&!!(null==(i=(0,u.oA)(null==(r=t.data)?void 0:r.project))?void 0:i.hasPermission)}_&&(l.folder_id=p),t.versionId&&(l.version_id=t.versionId),e.dispatch(E.F.enqueue({type:"file_duplicating",message:(0,f.t)("visual_bell.duplicating")})),h.Ay.post(`/api/multiplayer/${c.key}/copy?${(0,m.lF)(l)}`).then(r=>{var i;e.dispatch(E.F.dequeue({}));let l=!!a.openFile;if(!r.data.error&&r.data.meta&&l){let l=r.data.meta;if((0,v.ds)("File Duplicated",c.key,e.getState(),{duplicatedFileKey:l.key,duplicatedContainingFolderId:l.folder_id,duplicatedFileTeamId:l.team_id}),t.checkOssSalesExperiment&&(0,O.Lb)(l.key),o.eD){o.eD.openFile({fileKey:l.key,title:l.name,editorType:l.editor_type,target:n.aw.FOCAL_TAB,isBranch:(0,I.Xm)(l),isLibrary:!!l.last_published_at,isTeamTemplate:!1,userId:null==(i=a.user)?void 0:i.id});return}s.Ay.redirect((0,S.to)(l),"_blank")}}).catch(()=>{e.dispatch(E.F.dequeue({})),e.dispatch(g.s.error((0,f.t)("file_browser.file_browser_actions.file_copy_error")))})}),G=(0,y.nF)((e,t)=>{let r=t.file_key;r&&(e.getState().fileByKey[r]||R.S.getFiles({fileKey:r}).then(t=>e.dispatch(es({file:t.data.meta}))))}),W=(0,y.nF)(async(e,t)=>{try{await h.Ay.del(`/api/files/${t.file_key}/workshop`)}catch(e){}}),K=(0,y.nF)(async(e,t,{liveStore:r})=>{var n;let i=await r.fetchFile(t.fileKey),a=h.Ay.post(`/api/files/${t.fileKey}/workshop`).then(()=>{e.dispatch(E.F.enqueue({message:(0,f.t)("whiteboard.open_sessions.open_session_started_notification"),button:{text:(0,f.t)("whiteboard.open_sessions.open_session_started_notification_copy_link"),action:()=>{e.dispatch(et({fileKey:t.fileKey,url:(0,S.to)(i),source:w.d.WORKSHOP_VISUAL_BELL}))}}}))}).catch(()=>{e.dispatch(E.F.enqueue({message:(0,f.t)("whiteboard.open_sessions.open_session_start_failed_notification"),error:!0}))}),o=null==(n=e.getState().user)?void 0:n.id;if(o){let e=new Date;e.setDate(e.getDate()+1),(0,d.WB)().optimisticallyCreate({FigFileWorkshopMode:{[`optimistic-${t.fileKey}`]:{fileKey:t.fileKey,expiresAt:e,userId:o}}},a)}}),Y=(0,y.nF)(async(e,t)=>{await h.Ay.post(`/api/files/${t.fileKey}/view`).then(({data:r})=>{let{last_view_at:n,last_edit_at:i}=r.meta;e.dispatch(M.FB({lastViewed:n,lastEdited:i})),e.dispatch((0,L.Ul)({openFileKey:t.fileKey,versionHistory:e.getState().versionHistory}))}).catch(e=>{(0,_.x1)("recent files","Error marking file view / retrieving last seen times",{error:e})})}),j=(0,y.nF)((e,t)=>{U(t.file_key,t.thumbnail_guid).then(()=>{let r=t.thumbnail_guid?(0,f.t)("file_browser.file_browser_actions.thumbnail_set"):(0,f.t)("file_browser.file_browser_actions.default_thumbnail_restored");e.dispatch(E.F.enqueue({message:r}))}).catch(()=>{e.dispatch(E.F.enqueue({message:(0,f.t)("file_browser.error_try_again"),error:!0}))})}),z=N.M4.Mutation((e,{objects:t})=>{e.forEach(e=>{t.File.update(e,e=>{e.trashed_at=null})})}),$=(0,i.N)("RESTORE_TRASHED_FILES"),Z=(0,y.nF)((e,t)=>{e.dispatch($(t)),e.dispatch((0,D.xY)({fileKeys:Object.keys(t.fileKeys)})),(0,c.kc)().fb_redux_deleted_page_livestore&&(0,p.Jl)(z)(Object.keys(t.fileKeys))}),q=(0,i.N)("DELETE_FILES_PERMANENTLY"),J=(0,i.N)("DELETE_FILES"),X=(0,y.nF)((e,t)=>{e.dispatch(J(t)),e.dispatch((0,D.sM)({fileKeys:Object.keys(t.fileKeys)}))}),Q=(0,i.N)("FILE_RESTORE"),ee=(0,y.nF)((e,t)=>{(0,l.Dk)(t.embedCode).then(()=>{(0,v.ds)("Embed Code Copied",t.fileKey,e.getState()),e.dispatch(E.F.enqueue({type:"embeded_code_copied_to_clipboard",message:(0,f.t)("file_browser.file_browser_actions.embed_code_copied")}))}).catch(()=>{e.dispatch(g.s.error((0,f.t)("file_browser.file_browser_actions.embed_code_copy_error")))})}),et=(0,k.n)((0,y.nF)((e,t)=>{let r;let n=t.url,i=t.label;if(i){let e=document.createElement("a");e.href=n,e.innerText=i;let t=e.outerHTML;r=(0,l.wY)(t,n)}else r=(0,l.Dk)(n);r.then(()=>{(0,v.ds)("File Share Link Copied",t.fileKey,e.getState(),{copyLinkSource:w.d[t.source],...t.trackingProperties}),t.skipVisualBell||e.dispatch(E.F.enqueue({type:"link_copied_to_clipboard",message:t.visualBellMessageOverride??(0,f.t)("copy_to_clipboard.link_copied_to_clipboard"),button:t.visualBellButton}))}).catch(()=>{e.dispatch(b.to({type:P.o,data:{link:n}}))})})),er=(0,y.nF)((e,t)=>{if(t.name.length<=100){let r={key:t.file.key,name:t.name,updated_at:new Date().toISOString()};e.dispatch(es({file:r,userInitiated:!0})),(0,v.ds)("File Renamed",r.key,e.getState(),{fileName:r.name})}}),en=(0,i.N)("FILE_REMOVE_FROM_PROJECT"),ei=(0,i.N)("FILE_MOVE"),ea=(0,i.N)("FILE_POST"),eo=(0,i.N)("FILE_BATCH_SUBSCRIBE_TO_REALTIME"),el=(0,i.N)("FILE_BATCH_PUT"),es=(0,i.N)("FILE_PUT"),ec=(0,a.s)((e,t)=>{let r=t.getState();r.activeFileUsers&&(e=e.filter(e=>!(e in r.activeFileUsers))),e.length&&h.Ay.post("/api/active_file_users",{keys:e}).then(({data:e})=>{!function(e,t,r=!1){let n=t.getState();for(let i in e){if(r&&n.activeFileUsers&&i in n.activeFileUsers)continue;let a=e[i],o=[];if(a)for(let e in a){let t=JSON.parse(a[e]);o.push(t)}t.dispatch(eu({fileKey:i,users:o}))}}(e.meta.active_file_users,t,!0)}).catch(e=>{})},1e3);(0,y.nF)((e,t)=>{ec(t.fileKeys,e)});let ed=(0,i.N)("FILE_CLEAR_ACTIVE_USERS"),eu=(0,i.N)("FILE_SET_ACTIVE_USERS")},225868:(e,t,r)=>{"use strict";r.d(t,{L5:()=>i,Sk:()=>n,ah:()=>d});var n,i,a=r(966712),o=r(309225),l=r(27087),s=r(881388),c=r(980820);function d(e,t,r,n,i){var a,l;e.id&&"optimistic-id"!==e.id?null==(a=(0,o.WB)())||a.optimisticallyUpdate({FileBrowserPreferences:{[e.id]:{orderedTeamIds:e.orderedTeamIds,orderedFavoritedResourceIds:e.orderedFavoritedResourceIds,orderedSidebarSections:e.orderedSidebarSections,orgId:r,teamId:n,orderedLicenseGroupIds:e.orderedLicenseGroupIds}}},i):null!=t&&(null==(l=(0,o.WB)())||l.optimisticallyCreate({FileBrowserPreferences:{"optimistic-id":{userId:t,migratedToSections:!0,sidebarMigrationStatus:null,orderedTeamIds:e.orderedTeamIds||null,orderedFavoritedResourceIds:e.orderedFavoritedResourceIds||null,orderedSidebarSections:e.orderedSidebarSections||null,updatedAt:new Date,createdAt:new Date,orgId:r,teamId:n,orderedLicenseGroupIds:e.orderedLicenseGroupIds||null}}},i))}(e=>{e.put=(0,c.MM)("FILE_BROWSER_PREFERENCES_PUT",(e,t)=>{var r;let n=null==(r=e.getState().user)?void 0:r.id,i=e.getState().currentUserOrgId,o=(0,a.kc)().ps_benchmark?e.getState().currentTeamId:null,s=l.Ay.put("/api/file_browser_preferences",{ordered_team_ids:t.prefs.orderedTeamIds,ordered_favorites:t.prefs.orderedFavoritedResourceIds,org_id:i,team_id:o,ordered_license_group_ids:t.prefs.orderedLicenseGroupIds,ordered_sidebar_sections:t.prefs.orderedSidebarSections});d(t.prefs,n,i,o,s)}),e.createFileBrowserPreferencesForTeamUser=(0,c.nF)((e,t)=>{var r,n,i,a;let o=null==(r=e.getState().user)?void 0:r.id,s=e.getState().currentTeamId,c=t.teamUser,u=t.prefs.orderedFavoritedResourceIds,p=[];if(u)for(var m of u)((null==(n=c.favoritedFiles)?void 0:n.some(e=>e.id===m))||(null==(i=c.favoritedPrototypes)?void 0:i.some(e=>e.id===m)))&&p.push(m);let _=(null==(a=c.favoritedProjects)?void 0:a.filter(e=>t.orderedFolderSubscriptions.includes(e.resourceId)).map(e=>e.id))??[];p.push(..._);let h=l.Ay.put("/api/file_browser_preferences",{ordered_favorites:p,team_id:s});d({id:"optimistic-id",orderedFavoritedResourceIds:p},o,null,s,h)})})(n||(n={})),(i||(i={})).put=(0,c.MM)("FILE_BROWSER_SECTION_PREFERENCES_PUT",(e,t)=>{var r,n,i;let a=null==(r=e.getState().user)?void 0:r.id,c=e.getState().currentUserOrgId;if(t.userInitiated){let r=l.Ay.put(`/api/file_browser_preferences/section/${t.prefs.section_type}`,{...t.prefs,org_id:c}).catch(t=>{var r;e.dispatch(s.s.error((null==(r=t.data)?void 0:r.message)||"An error occurred.")),console.error(t)});t.prefs.id?null==(n=(0,o.WB)())||n.optimisticallyUpdate({FileBrowserSectionPreferences:{[t.prefs.id]:{orderedFolderIds:t.prefs.ordered_folder_ids,sectionType:t.prefs.section_type,teamId:"team"===t.prefs.section_type?t.prefs.team_id:null,orgId:c}}},r):null!=a&&(null==(i=(0,o.WB)())||i.optimisticallyCreate({FileBrowserSectionPreferences:{"optimistic-id":{userId:a,orderedFolderIds:t.prefs.ordered_folder_ids||null,sectionType:t.prefs.section_type,teamId:"team"===t.prefs.section_type?t.prefs.team_id:null,updatedAt:new Date,createdAt:new Date,orgId:c}}},r))}})},507877:(e,t,r)=>{"use strict";r.d(t,{Dw:()=>J,Ef:()=>j,Fs:()=>z,T5:()=>K,UN:()=>Y,Uk:()=>Z,V3:()=>V,_l:()=>F,dm:()=>W,gN:()=>G,gR:()=>H,h3:()=>q,hm:()=>M,kg:()=>$,mT:()=>B,q0:()=>x,qj:()=>D,rq:()=>U});var n=r(776250),i=r(511617),a=r(517333),o=r(737947),l=r(187623),s=r(218881),c=r(27087),d=r(939863),u=r(392592),p=r(349410),m=r(988022),_=r(697551),h=r(369870),g=r(441088),f=r(691205),E=r(320741),y=r(707465),b=r(935757),v=r(349719),I=r(696915),T=r(622139),S=r(644344),w=r(637590),A=r(540351),C=r(52571),N=r(241136),O=r(464382),L=r(757406),R=r(980820),P=r(738269),k=r(662275);let D=(0,R.nF)((e,t)=>{var r,n;(null==(r=e.getState().modalShown)?void 0:r.type)!=null&&e.dispatch((0,k.Ce)()),(null==(n=e.getState().dropdownShown)?void 0:n.type)!=null&&e.dispatch((0,P.oB)()),e.dispatch((0,P.DE)({show:!0})),null==t||t.until.then(()=>{e.dispatch((0,P.DE)({show:!1}))}),O.q.addDependency("FILE_BROWSER_SET_LOADING",(null==t?void 0:t.until)||"pending")}),M=(0,R.nF)(e=>{C.H.getState().then(t=>{e.dispatch((0,P.os)(t.data.meta)),e.dispatch(x(t.data.meta))}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||(0,d.t)("file_browser.file_browser_actions.error_on_data_update");e.dispatch(u.F.enqueue({error:!0,message:n}))})}),x=(0,R.nF)((e,t)=>{new l.P().sendToOtherTabs(A.y,t)}),F=(0,R.nF)((e,t)=>{let r=e.getState(),n=t.view||{view:"recentFiles"},l=(0,y.Np)({...r,currentUserOrgId:t.workspace.orgId,currentTeamId:t.workspace.teamId||null},n),s=!(0,_.d9)(r.selectedView)&&(0,_.d9)(n);if(a.eD&&s){a.eD.openCommunity(l,t.workspace.userId);return}function c(){let e=(0,_.d9)(r.selectedView)&&!(0,_.d9)(n);a.eD&&e&&o.Ay.redirect((0,i.dR)((0,y.Np)({...r,currentUserOrgId:t.workspace.orgId,currentTeamId:t.workspace.teamId||null},r.selectedView),{fuid:t.workspace.userId}))}if(e.dispatch(D()),t.path){(0,m.uE)("account_switched",r,{newUserId:t.workspace.userId,orgId:r.currentUserOrgId,newOrgId:t.workspace.orgId,teamId:r.currentTeamId,newTeamId:t.workspace.teamId,view:r.selectedView.view,newPath:t.path}),o.Ay.redirect((0,i.dR)(t.path,{fuid:t.workspace.userId})),c();return}(0,m.uE)("account_switched",r,{newUserId:t.workspace.userId,orgId:r.currentUserOrgId,newOrgId:t.workspace.orgId,view:r.selectedView.view,newView:n.view,newTeamId:t.workspace.teamId,teamId:r.currentTeamId}),(t.workspace.orgId&&!l.includes(t.workspace.orgId)||t.workspace.teamId&&!l.includes(t.workspace.teamId)||(0,_.d9)(n)&&!t.workspace.orgId&&r.currentUserOrgId)&&(0,b.Y9)(t.workspace.userId,(0,_.d9)(n),t.workspace.orgId,void 0,t.workspace.teamId),(0,h.ck)()?L.m({action:"reloadPage",payload:{fuid:t.workspace.userId}}):(o.Ay.redirect((0,i.dR)(l,{fuid:t.workspace.userId})),c())}),U=(0,R.nF)(e=>{c.Ay.post("/api/session/app_auth",{app_type:"desktop"}).then(({data:t})=>{var r;let n=t.meta.id,i=`/app_auth/${n}/grant`,o=e.getState().authedUsers.orderedIds;o.length>0&&(i+=`?authed_ids=${o.join(",")}`),null==(r=a.eD)||r.startAppAuth(i),e.dispatch(u.F.enqueue({message:(0,d.t)("file_browser.file_browser_actions.desktop_go_to_your_browser")}))}).catch(t=>{console.error(t),e.dispatch(u.F.enqueue({message:(0,d.t)("file_browser.error_try_again"),error:!0}))})}),B=(0,R.nF)((e,t)=>{e.getState().dropdownShown||e.dispatch((0,P.j7)(t))}),H=(0,R.nF)((e,t)=>{let r=e.getState().dropdownShown;(null==r?void 0:r.type)===t.type?e.dispatch((0,P.oB)()):e.dispatch((0,P.j7)(t))}),V=(0,R.nF)((e,t)=>{(0,g.T)()?(0,v.Qn)(t.url):o.Ay.redirect(t.url,"_blank")});function G(e,t={},r){return(0,P.$T)({view:"folder",folderId:e,...t,...r?{folderViewTab:r}:{}})}function W(e,t={},r){return(0,P.$T)({view:"team",teamId:e,...t,teamViewTab:r})}let K=(0,R.nF)((e,{index:t})=>{(0,n.sx)("Recent File Clicked",{index:t},{forwardToDatadog:!0})}),Y=(0,R.nF)((e,{fileKey:t,entrypoint:r,currentPlanFilter:n,currentSharedByFilter:i,viewMode:a})=>{(0,m.k1)(t,{state:e.getState(),entrypoint:r,planFilterId:null==n?void 0:n.planId,planFilterType:null==n?void 0:n.planType,sharedByFilter:i,viewMode:a})}),j=(0,R.nF)(e=>{(0,m.uE)("Font Installer Downloaded",e.getState())}),z=(0,R.nF)(e=>{(0,m.uE)("Font Uninstaller Downloaded",e.getState())}),$=(0,R.nF)((e,{clickedResourceType:t,resourceIdOrKey:r})=>{(0,m.uE)("File Browser Nav Tree Clicked",e.getState(),{clickedResourceType:t,resourceIdOrKey:r})}),Z=f.M4.Query({fetch:async({orgId:e,teamId:t})=>(await N.p.getTrashedFilesV2({orgId:e,teamId:t})).data.meta,schema:e=>e.object({files:e.array(I.L.nullable()),repos:e.array(e.object({repo:S.z.nullable(),main_file:I.L.nullable()}))}),output:({data:e})=>({files:e.files.filter(e=>!!e&&!!e.trashed_at&&!e.deleted_at).sort((e,t)=>new Date(e.trashed_at)<new Date(t.trashed_at)?1:-1),repos:e.repos.filter(e=>!!e.repo&&!!e.repo.trashed_at&&!e.repo.deleted_at).sort((e,t)=>new Date(e.repo.trashed_at)<new Date(t.repo.trashed_at)?1:-1)})}),q=(0,R.nF)((e,{orgId:t,teamId:r},{loadingKey:n})=>{let i=N.p.getTrashedFilesV2({orgId:t||"",teamId:r||""});(0,E.N)(i,e,n),i.then(t=>{let r=JSON.parse(t.response);e.dispatch((0,P.pB)({deletedFiles:r.meta.files})),e.dispatch((0,P.pg)({deletedRepos:r.meta.repos}))})}),J=(0,R.nF)(async(e,{previousView:t,openInNewTab:r,onSubmitReturnToPrevView:n,isEduTeam:i,ignoreCurrentPlan:a})=>{let o=e.getState();if(r){let t=(0,y.xS)(o,{view:"teamCreation",ignoreCurrentPlan:a});e.dispatch(V({url:t}));return}let l=(0,s.hW)("starter_team_loophole_experiment_m0"),c=(0,s.hW)("starter_team_loophole_experiment_m1"),[d,u]=await Promise.all([l,c]);o.user&&(0,p.e5)({userId:o.user.id,teams:Object.values(o.teams),rolesByTeamId:o.roles.byTeamId,getM0Config:()=>d,getM1Config:()=>u})?e.dispatch((0,P.$T)({view:"teamUpgrade",teamFlowType:w.SC.CREATE_AND_UPGRADE,teamId:null,paymentStep:T.tn.PLAN_COMPARISON,previousView:t,isEduTeam:i,ignoreCurrentPlan:a})):o.user&&(0,p.Mk)(o.user.id,Object.values(o.teams),o.roles.byTeamId)?e.dispatch((0,P.$T)({view:"teamUpgrade",teamFlowType:w.SC.CREATE,teamId:null,paymentStep:T.tn.CREATE_TEAM,previousView:t,isEduTeam:i,ignoreCurrentPlan:a})):e.dispatch((0,P.$T)({view:"teamCreation",previousView:t,onSubmitReturnToPrevView:n,isEduTeam:i,ignoreCurrentPlan:a}))})},270056:(e,t,r)=>{"use strict";r.d(t,{$l:()=>x,B7:()=>P,HA:()=>A,Hh:()=>R,IU:()=>N,Kc:()=>D,MR:()=>w,TI:()=>U,WC:()=>B,ZJ:()=>L,bE:()=>F,gO:()=>S,ub:()=>I,vt:()=>O,y2:()=>k,yH:()=>C,yJ:()=>M,z6:()=>T,zL:()=>H});var n=r(167249),i=r(966712),a=r(309225),o=r(790724),l=r(27087),s=r(881388),c=r(939863),d=r(392592),u=r(738269),p=r(662275),m=r(988022),_=r(875847),h=r(99506),g=r(416618),f=r(392830),E=r(668860),y=r(344950),b=r(980820),v=r(936500);let I=(0,b.MM)("FOLDER_DESCRIPTION_UPDATE",(e,t,{optimistId:r})=>{l.Ay.put(`/api/folders/${t.folderId}/description`,{description:t.description}).then(({data:t})=>{e.dispatch(b.hp.commit(r)),e.dispatch(M({folder:t.meta}))}).catch(t=>{e.dispatch(b.hp.commit(r)),console.error(t),e.dispatch(s.s.error((0,c.t)("file_browser.file_browser_actions.update_subscription_error")))})}),T=(0,b.MM)("FOLDER_UNPIN_FILE",(e,t,{optimistId:r})=>{l.Ay.del(`/api/folders/${t.fileKey}/pin`).then(t=>{e.dispatch(b.hp.commit(r))}).catch(()=>{e.dispatch(b.hp.revert(r)),e.dispatch(s.s.error((0,c.t)("file_browser.file_browser_actions.file_unpin_error")))})}),S=(0,b.MM)("FOLDER_PIN_FILE",async(e,t,{optimistId:r})=>{(0,m.xr)("file_browser_folder_pin_file",t.folderId,null,e.getState(),{fileKey:t.fileKey}),await l.Ay.post(`/api/folders/${t.fileKey}/pin`).then(t=>{e.dispatch(b.hp.commit(r)),e.dispatch(d.F.enqueue({error:!1,message:(0,c.t)("file_browser.file_browser_actions.file_pinned_to_project")}))}).catch(()=>{e.dispatch(b.hp.revert(r)),e.dispatch(s.s.error((0,c.t)("file_browser.file_browser_actions.file_pin_error")))})}),w=(0,n.N)("FOLDER_SET_PINNED_FILE"),A=(0,n.N)("FOLDER_DELETE_LG_SHIM"),C=(0,n.N)("FOLDER_DELETE"),N=(0,n.N)("FOLDER_CLEAR"),O=(0,b.nF)((e,t)=>{let r=(0,_.SS)(t.name);if(r)return e.dispatch(s.s.error(r)),null;e.dispatch(p.Lo()),e.dispatch(u.bx());let n=(0,f.D)(t.teamId,t.orgId||null);if(n&&void 0===t.isInviteOnly&&void 0===t.isViewOnly&&void 0===t.teamAccess)return e.dispatch(s.s.error("inviteOnly and viewOnly fields or teamAccess field must be defined")),null;let i={id:(0,_.d)(),name:t.name,description:null,path:t.name,team_id:t.teamId,is_subscribed:!1,is_favorited:!1,created_at:`${new Date}`,updated_at:`${new Date}`,is_invite_only:!1,is_view_only:!1,settings:{webhooks:{}},appData:{temp:!0},deleted_at:null,sharing_audience_control:null,team_access:null},a=n?t.sharingAudienceControl:null,d=n?t.teamAccess:null,b=l.Ay.post("/api/folders",{team_id:t.teamId,path:t.name,is_invite_only:t.isInviteOnly,is_view_only:t.isViewOnly,sharing_audience_control:a,team_access:d}).then(({data:r})=>{var o;e.dispatch(C({folderIds:[i.id]}));let l=r.meta;for(let r of l)if(r.name===t.name){if(e.dispatch(F(r)),n){(0,m.xr)("Folder Created",r.id,r.team_id,e.getState(),{sharingAudienceControl:a,teamAccess:d});let n=e.getState().user;(null==(o=t.inviteEmails)?void 0:o.length)&&t.teamAccess&&e.dispatch((0,g.rq)({emails:t.inviteEmails,emailsToExclude:n?new Set([n.email]):void 0,resourceType:h.vt.FOLDER,resourceIdOrKey:r.id,level:t.inviteLevel||E.e6.VIEWER,source:"new_project_creation_modal"})),y.G.getRoles({resourceId:r.id,resourceType:h.vt.FOLDER}).then(({data:t})=>{for(let r of t.meta)e.dispatch(v.bE({role:r}))})}t.shouldRedirect&&e.dispatch(u.$T({view:"folder",folderId:r.id}));break}return l});return(0,o.Q)({store:e,requestPromise:b,fallbackError:(0,c.t)("file_browser.file_browser_actions.create_project_error"),next:e.dispatch,action:F(i)})}),L=(0,b.nF)((e,{folderId:t,folderName:r,teamId:n,isSubscribed:s})=>{let d=s?"Folder Subscriber Added":"Folder Subscriber Deleted";(0,m.xr)(d,t,n,e.getState());let u=l.Ay.put(`/api/folders/${t}`,{is_subscribed:s});if(s)(0,a.WB)().optimisticallyCreate({ProjectSubscription:{[`optimistic-${t}`]:{folderId:t,userId:(0,i.Ay)().user_data.id,projectV2:{id:t,path:r,updatedAt:new Date,createdAt:new Date,deletedAt:null,viewOnlyAt:null,inviteOnlyAt:null,orgId:(0,i.Ay)().org_id||null,teamId:n,canRead:!0,canEdit:!1}}}},u);else{let e=(0,a.WB)();V[t]&&e.optimisticallyDelete({ProjectSubscription:{[V[t]]:null}},u)}(0,o.Q)({store:e,requestPromise:u,fallbackError:(0,c.t)("file_browser.file_browser_actions.update_project_error"),next:e.dispatch,action:M({folder:{id:t,is_subscribed:s}})})}),R=(0,n.N)("FOLDER_LOAD"),P=(0,b.nF)(async(e,{folderId:t})=>{try{await l.Ay.post(`/api/folders/${t}/claim`),e.dispatch(R({folderId:t,forceFetch:!0}))}catch(t){e.dispatch(s.s.error(t.message||(0,c.t)("file_browser.file_browser_actions.claim_team_error")))}}),k=(0,n.N)("FOLDER_PUT_UPDATED_AT"),D=(0,n.N)("FOLDER_LOADED"),M=(0,n.N)("FOLDER_PUT"),x=(0,n.N)("FOLDER_BATCH_POST"),F=(0,n.N)("FOLDER_POST"),U=(0,n.N)("FOLDER_STOP_RENAME"),B=(0,n.N)("FOLDER_BEGIN_RENAME");function H(e){V=e}let V={}},994988:(e,t,r)=>{"use strict";r.d(t,{BV:()=>m,HF:()=>p,QA:()=>f,TW:()=>h,Tu:()=>E,Zv:()=>u,eG:()=>y,eT:()=>g,kE:()=>d,mH:()=>_,tG:()=>c});var n=r(167249),i=r(27087),a=r(939863),o=r(392592),l=r(980820),s=r(440535);let c=(0,n.N)("GENERIC_COMMENT_COMMIT_CREATED_COMMENT"),d=(0,n.N)("GENERIC_COMMENT_COMMIT_EDITED_COMMENT"),u=(0,n.N)("GENERIC_COMMENT_COMMIT_DELETED_COMMENT"),p=(0,n.N)("GENERIC_COMMENT_COMMIT_HIDE_COMMENT"),m=(0,l.nF)(async(e,t)=>{var r,n;let{authorId:i,removeCommentsCallback:a}=t,o=e.getState().communityHub.comments,{activeFeedType:l,commentsById:s,id:c,type:d}=o;if(!c||!d||!(null==(r=o.feeds[l])?void 0:r.feed))return;let p=[];for(let e in s)(null==(n=s[e])?void 0:n.author.id)===i&&p.push(s[e]);await a(p),e.dispatch(u({resourceType:d,resourceId:c,comments:p}))}),_=(0,n.N)("GENERIC_COMMENT_SET_SHOW_RESOLVED");(0,n.N)("GENERIC_COMMENT_SAVE_PAGE_SCROLL_POSITION");let h=(0,n.N)("GENERIC_COMMENT_RESET_COMMENT_STATUS"),g=(0,l.T8)("GENERIC_COMMENT_SUBMIT",async(e,t)=>{let{messageMeta:r,resourceId:n,resourceType:l,onSuccess:d,onError:u,clientMeta:p,pageId:m,parentId:_,isReply:g}=t;await i.Ay.post("/api/community_comments",{message_meta:r,resource_id:n,resource_type:l,client_meta:p,page_id:m,parent_id:_}).then(({data:t})=>{e.dispatch(c({comment:t.meta,resourceId:n,resourceType:l,isReply:g})),d&&d(t.meta)}).catch(t=>{let r=(0,a.Jv)(t);r&&(e.dispatch(o.F.enqueue({error:!0,message:(0,a.t)("community.comments.failed_to_create_comment",{errorMessage:r})})),_?e.dispatch(h({commentId:_})):e.dispatch(h({commentId:s.hm})),u&&u())})},({resourceId:e})=>`GENERIC_COMMENT_SUBMIT_${e}`),f=(0,l.MM)("GENERIC_COMMENT_EDIT",async(e,t,{optimistId:r})=>{let{commentId:n,messageMeta:s,callback:c,clientMeta:u}=t;await i.Ay.put(`/api/community_comments/${n}`,{message_meta:s,client_meta:u}).then(({data:t})=>{e.dispatch(l.hp.commit(r)),c(t.meta),e.dispatch(d({comment:t.meta}))}).catch(t=>{e.dispatch(l.hp.revert(r)),e.dispatch(o.F.enqueue({message:(0,a.t)("community.comments.failed_to_edit_comment"),error:!0}))})}),E=(0,l.T8)("GENERIC_COMMENT_DELETE",(e,t,{loadingKey:r})=>{let{commentId:n,onFinish:l}=t,{type:s,id:c}=e.getState().communityHub.comments;if(null===s||null===c)return;let d=e.getState().communityHub.comments.commentsById[n];i.Ay.del(`/api/community_comments/${n}`).then(()=>{e.dispatch(u({resourceType:s,resourceId:c,comments:[d]})),e.dispatch(o.F.enqueue({message:(0,a.t)("community.comments.comment_deleted")})),null==l||l(!1)}).catch(t=>{let r=(0,a.Jv)(t);r&&(e.dispatch(o.F.enqueue({error:!0,message:(0,a.t)("community.comments.failed_to_delete_comment",{errorMessage:r})})),null==l||l(!0))})},({commentId:e})=>`GENERIC_COMMENT_DELETE_${e}`),y=(0,l.nF)((e,t)=>{let r;let{commentId:n,userIsAdmin:l,onFinish:s}=t,{type:c,id:d}=e.getState().communityHub.comments;null!==c&&null!==d&&(l&&(r={hide:!0}),i.Ay.post(`/api/community_comments/${n}/report`,r).then(()=>{e.dispatch(p({commentId:n,resourceId:d,resourceType:c})),e.dispatch(o.F.enqueue({message:(0,a.t)("community.comments.comment_reported_and_hidden"),type:"COMMENT_REPORTED"})),null==s||s(!1)}).catch(t=>{let r=(0,a.Jv)(t);r&&(e.dispatch(o.F.enqueue({message:(0,a.t)("community.comments.failed_to_report_comment",{errorMessage:r}),type:"COMMENT_REPORT_ERROR"})),null==s||s(!0))}))})},22774:(e,t,r)=>{"use strict";r.d(t,{FU:()=>l,cZ:()=>o,v6:()=>s});var n=r(167249),i=r(47506),a=r(980820);let o="Used Keyboard Shortcut Paste",l=(0,n.N)("SET_KEYBOARD_SHORTCUT_PANEL_TAB"),s=(0,a.T8)("USED_KEYBOARD_SHORTCUT",(e,t)=>{"paste"===t.key&&(0,i.YQ)({id:o})})},632430:(e,t,r)=>{"use strict";r.d(t,{AV:()=>ez,As:()=>eY,Bs:()=>eW,Cz:()=>tF,D6:()=>t_,EY:()=>t0,G5:()=>tH,Gb:()=>tL,IQ:()=>e4,Kd:()=>te,Kk:()=>tQ,Kn:()=>tU,Ky:()=>tm,Mv:()=>tx,NW:()=>tD,Nf:()=>eJ,Oe:()=>e1,P8:()=>eB,PI:()=>tV,PP:()=>tK,Qn:()=>eq,Sn:()=>tW,Tn:()=>tT,Wo:()=>e3,YD:()=>tR,Yf:()=>eV,Yi:()=>e0,Yx:()=>tk,Z:()=>tb,Zn:()=>t3,_K:()=>eX,a9:()=>tc,am:()=>t$,b$:()=>eG,bi:()=>tB,e$:()=>tn,eB:()=>tO,eM:()=>eU,fR:()=>tz,ff:()=>eQ,fi:()=>th,fv:()=>ty,g1:()=>tC,iG:()=>tE,jD:()=>eD,n8:()=>tX,nE:()=>tj,nh:()=>e$,nz:()=>tP,oA:()=>tY,rX:()=>ej,t5:()=>eZ,tL:()=>ta,tg:()=>ti,u7:()=>ts,uO:()=>ex,uP:()=>eM,x:()=>t1,x4:()=>tM,zn:()=>tp});var n=r(411855),i=r(188507),a=r(89865),o=r.n(a),l=r(758271),s=r.n(l),c=r(167249),d=r(776250),u=r(354189),p=r(522205),m=r(38329),_=r(358145),h=r(966712),g=r(374626),f=r(309225),E=r(499737),y=r(752553),b=r(535972),v=r(776621),I=r(304783),T=r(572206),S=r(27087),w=r(515009),A=r(47506),C=r(881388),N=r(987918),O=r(939863),L=r(75224),R=r(392592),P=r(934533),k=r(868389),D=r(980820),M=r(944682),x=r(395281),F=r(662275),U=r(931828),B=r(306380),H=r(298527),V=r(988022),G=r(974105),W=r(378905),K=r(639135),Y=r(696673),j=r(44892),z=r(453681),$=r(742621),Z=r(151283),q=r(356390),J=r(852800),X=r(662531),Q=r(578730),ee=r(567245),et=r(341860),er=r(457630),en=r(560286),ei=r(416095),ea=r(853966),eo=r(666068),el=r(279453),es=r(691205),ec=r(336599),ed=r(830524),eu=r(946778),ep=r(320741),em=r(707465),e_=r(388094),eh=r(984968),eg=r(935757),ef=r(239671),eE=r(610267),ey=r(173454),eb=r(809073),ev=r(246680),eI=r(735974),eT=r(656012),eS=r(755515),ew=r(252430),eA=r(372291),eC=r(705129),eN=r(479296),eO=r(182976),eL=r(846018),eR=r(229055),eP=r(672474),ek=r(479984);async function eD(e,t=J.ZiZ.ACTIVE_SCENE){let r;if(!e.canvas_url&&t===J.ZiZ.PLAYGROUND_SCENE)return{newSymbolOrStateGroupGuid:J.BXd.upsertLocalProductComponentToPlaygroundScene(e.node_id)};let n=await j.Eo.getCanvas(e);if(e.type===ey.PW.COMPONENT){let i=X.l7.system("upsert-shared-symbol",()=>J.BXd.upsertSharedSymbol(e.component_key??w.ii.INVALID,e.content_hash??w.F7.INVALID,e.file_key,J.zol.NO,n,t));if(i.fileUpdateRequired)return;if(!i.localGUID)throw Error("Swap to Shared Component Error, no local GUID");r=i.localGUID}else if(e.type===ey.PW.STATE_GROUP){let i=X.l7.system("upsert-shared-state-group",()=>J.BXd.upsertSharedStateGroup(e.key,e.version,e.file_key,J.zol.NO,n,t));if(i.fileUpdateRequired)return;if(!i.localGUID)throw Error("Swap to Shared Component Error, no local GUID");if(i.C2)throw Error(i.C2);r=i.localGUID}else throw Error(`Unexpected type for dragging library item: ${e.type}`);return{newSymbolOrStateGroupGuid:r,buffer:n}}let eM=(0,D.nF)((e,t)=>{let{item:r,callback:n,bufferCallback:i,errorCallback:a,alwaysFetch:o,targetUpsertScene:l=J.ZiZ.ACTIVE_SCENE}=t,s=(0,G.d1)(e.getState());if(s){if(!(0,W.N2)(r,s)||o){let t=async()=>{try{let e=await eD(r,l);e&&(null==n||n(e.newSymbolOrStateGroupGuid),e.buffer&&(null==i||i(e.buffer)))}catch(t){e.dispatch(C.s.error("An error occurred while retrieving the component or state group.")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t),null==a||a()}};e.dispatch((0,eP.vQ)({assetResourceId:r.file_key,onInsertAsset:t}))}else null==n||n(r.node_id)}}),ex=(0,D.T8)("SWAP_TO_SHARED_COMPONENT_OR_STATE_GROUP",(e,t)=>{let{item:r,instanceGUIDs:n,usedSwapInstanceKeyboardShortcut:i,storeInRecentsKey:a}=t,o=(0,eC.Ml)(r,n);e.dispatch(eO.Cx({key:o}));let l=e.getState(),s=(0,en.s)(l);e.dispatch(tV({storeInRecentsKey:a,item:r,userId:s}));let c=(0,G.d1)(l);if(!c){e.dispatch(eO.of({key:o}));return}let d=async()=>{try{let t=await eD(r);if(t){let a=r.type===ey.PW.STATE_GROUP?J.glU.getSimilarStates(n,t.newSymbolOrStateGroupGuid,r.default_state_key):{[t.newSymbolOrStateGroupGuid]:n};X.l7.user("replace-symbol-backing-instances",()=>{J.glU.replaceSymbolBackingInstances(a,i)}),e.dispatch(eO.x2({key:o})),(0,eR.V)(c.key,r,!0)}}catch(t){e.dispatch(eO.of({key:o})),e.dispatch(C.s.error("An error occurred while adding an instance of this component.")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t),(0,eR.V)(c.key,r,!1)}(0,V.ds)("Instance Swapped To Shared Component",c.key,e.getState(),{componentFileKey:(0,L.hH)(r),componentLibraryKey:r.library_key,componentId:r.id,source:t.sourceForTracking})};e.dispatch((0,eP.vQ)({assetResourceId:r.file_key,onInsertAsset:d}))}),eF="<!--(figcomponent)",eU=(0,D.T8)("TRY_HANDLING_DROP_EVENTS_AS_COMPONENT_DROP",(e,t)=>{var r;let n=null==(r=t.dataTransfer)?void 0:r.getData("text/html");if(n){let r=n.indexOf(eF)+eF.length,i=n.indexOf("(/figcomponent)-->");if(r>=0&&i>=0&&r<i){let a=n.substring(r,i).trim();try{let r=JSON.parse(a);if("object"==typeof r){let n=r.fileKey,i=r.nodeId;if(n&&i){let r=q.Y5.getViewportInfo(),a=new T.Mi(r.x,r.y),o=new T.Mi(t.clientX,t.clientY).subtract(a),l=(0,er.$$)(r,o);e.dispatch(eB({fileKey:n,nodeId:i,canvasX:l.x,canvasY:l.y}))}}}catch(e){}}}}),eB=(0,D.nF)(async(e,t)=>{let{fileKey:r,nodeId:n,canvasX:i,canvasY:a}=t,o=e.getState(),l=(0,G.d1)(o),s=null;if(l&&l.key===r)s=o.library.local.components[n];else{o.fileByKey[r]||(await tE(e,r),o=e.getState());let t=o.fileByKey[r];!t||(s=(0,ei.j7)(o.library.published.components,t)[n])||(await tE(e,r),o=e.getState(),s=(0,ei.j7)(o.library.published.components,t)[n])}s?e.dispatch(eV({item:s,canvasPosition:new T.Mi(i,a),percentageOffset:new T.Mi(.5,.5),insertAsChildOfCanvas:!1})):e.dispatch(R.F.enqueue({type:"insert_component_error",message:(0,O.t)("design_systems.subscriptions.this_component_is_not_available"),error:!0}))});function eH(e){return e(R.F.enqueue({type:"insert_instance",message:(0,O.t)("design_systems.subscriptions.inserting_instance"),icon:P.zX.SPINNER,delay:1e3})),function(){e(R.F.dequeue({matchType:"insert_instance"}))}}let eV=(0,D.T8)("INSERT_SHARED_COMPONENT",(e,t)=>{let{item:r}=t,{canvasPosition:n,percentageOffset:i,insertAsChildOfCanvas:a,isFromDoubleClick:o,useSmartPositioning:l,storeInRecentsKey:s,fromPlayground:c,insertLogArgsOverride:d,insertedItemsCallback:u}=t,p=e.getState(),m=(0,Y.wJ)(r.file_key)&&!!(0,h.kc)().presets_baseline,_=async()=>{let t=(0,en.s)(p);e.dispatch(tV({storeInRecentsKey:s,item:r,userId:t}));let _=(0,G.d1)(p);if(!_)return;let g=(t,r)=>{let o=X.l7.user("insert-component",()=>c?J.glU.insertPlaygroundInstance({x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y},m):J.glU.insertInstance(t,{x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y},r,a,l??!1,m));if(u&&u([o]),((0,B.F)()||(0,h.kc)().presets_baseline)&&o!==N.AD){let r=(0,ed.C$)(et.qo.instance.get(t)),n=p.mirror.sceneGraph.get(o),i=Object.keys(n&&"INSTANCE"===n.type&&n.componentProperties()||{}).length>0;r&&i?(e.dispatch(eL.E({nodeId:o})),(0,A.YQ)({id:ev.sh})):r?(e.dispatch(eL.E({nodeId:o})),(0,A.YQ)({id:ev.Sp})):i?(0,A.YQ)({id:ev.An}):(0,A.YQ)({id:ev.fe})}q.Y5.triggerAction("commit"),q.Y5.triggerAction("set-tool-default")};if((0,W.N2)(r,_)){let t=p.library.local.components[r.node_id];if(!t||!p.mirror.sceneGraph.get(t.node_id)){e.dispatch(F.to({type:ew.Q}));return}try{g(t.node_id,d),(0,V.ds)("Component Local Symbol Inserted",_.key,e.getState(),{componentFileKey:(0,L.hH)(r),componentLibraryKey:r.library_key,componentId:r.id,ComponentCanvasPositionX:n.x,ComponentCanvasPositionY:n.y}),(0,eR.V)(_.key,t,!0),e.dispatch(t2())}catch(r){e.dispatch(C.s.error("An error occurred while adding an instance of this component.")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,r),(0,eR.V)(_.key,t,!1)}}else{let t=performance.now();if(to&&to===r.component_key&&tl){let e=(await tl).component;e&&e.updated_at>r.updated_at&&(r=e)}let i=eH(e.dispatch);j.Eo.getCanvas(r).then(e=>{let t=X.l7.system("upsert-shared-symbol",()=>J.BXd.upsertSharedSymbol(r.component_key??w.ii.INVALID,r.content_hash??w.F7.INVALID,r.file_key,J.zol.NO,e,J.ZiZ.ACTIVE_SCENE));if(t.fileUpdateRequired||!t.localGUID)throw Error("An error occurred while adding an instance of this component.");g(t.localGUID,d)},e=>{let t=J.glU.getSymbolNodeId(r.component_key,r.content_hash);if(!t){if((null==e?void 0:e.status)===403)throw Error("A 403 error occurred while adding an instance of this component.");throw Error("An error occurred while adding an instance of this component.")}g(t,d)}).then(()=>{let i=performance.now()-t;(0,V.ds)("Component Shared Symbol Inserted",_.key,e.getState(),{elapsedMs:i,componentFileKey:(0,L.hH)(r),componentLibraryKey:r.library_key,componentId:r.id,componentName:r.name,ComponentCanvasPositionX:n.x,ComponentCanvasPositionY:n.y,isFromDefaultLibrary:(0,ei.td)(p.library,r.file_key),isFromDoubleClick:!!o,useSmartPositioning:!!l}),(0,eR.V)(_.key,r,!0,{metricName:"design_systems.subscribed_component.insert_time",duration:i}),e.dispatch(t2())}).catch(n=>{e.dispatch(C.s.error(n.message)),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,n),(0,eR.V)(_.key,r,!1,{metricName:"design_systems.subscribed_component.insert_time",duration:performance.now()-t})}).finally(()=>{i()})}};e.dispatch((0,eP.vQ)({assetResourceId:r.file_key,onInsertAsset:_}))}),eG=(0,D.T8)("INSERT_SHARED_STATE_GROUP",async(e,t)=>{let{item:r}=t,{canvasPosition:n,percentageOffset:i,insertAsChildOfCanvas:a,isFromDoubleClick:o,useSmartPositioning:l,storeInRecentsKey:s,fromPlayground:c,insertLogArgsOverride:d,insertedItemsCallback:u}=t,p=e.getState(),m=(0,Y.wJ)(r.file_key)&&!!(0,h.kc)().presets_baseline,_=async()=>{let t=(0,en.s)(p);e.dispatch(tV({storeInRecentsKey:s,item:r,userId:t}));let _=(0,G.d1)(p);if(!_)return;let g=(e,t,r)=>{let o=X.l7.user("insert-state-group",()=>c?J.glU.insertPlaygroundInstance({x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y},m):J.glU.insertStateGroup(e,{x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y},r,a,l??!1,t,m));return u&&u([o]),q.Y5.triggerAction("commit"),q.Y5.triggerAction("set-tool-default"),o};if((0,W.N2)(r,_)){let t=p.library.local.stateGroups[r.node_id];if(!t||!p.mirror.sceneGraph.get(t.node_id)){e.dispatch(F.to({type:ew.Q}));return}g(t.node_id,"",d),(0,V.ds)("State Group Local Symbol Inserted",_.key,e.getState(),{stateGroupFileKey:(0,L.hH)(r),stateGroupLibraryKey:r.library_key,stateGroupId:r.id,StateGroupCanvasPositionX:n.x,StateGroupCanvasPositionY:n.y}),e.dispatch(t2())}else{let t=performance.now();if(td&&td===r.key&&tu){let e=await tu;e&&e.updated_at>r.updated_at&&(r=e)}let i=eH(e.dispatch);j.Eo.getCanvas(r).then(t=>{var n;let i=X.l7.system("upsert-shared-state-group",()=>J.BXd.upsertSharedStateGroup(r.key??w.q.INVALID,r.version,r.file_key,J.zol.NO,t,J.ZiZ.ACTIVE_SCENE));if(i.fileUpdateRequired||!i.localGUID)throw Error("An error occurred while adding an instance of this component.");let a=g(i.localGUID,r.default_state_key,d);if((0,B.F)()||(0,h.kc)().presets_baseline){let t=null==(n=p.mirror.sceneGraph.get(i.localGUID))?void 0:n.childrenNodes[0];t&&((0,ed.C$)(t)&&a!==N.AD?(e.dispatch(eL.E({nodeId:a})),(0,A.YQ)({id:ev.sh})):(0,A.YQ)({id:ev.An}))}},e=>{let t=J.glU.getStateGroupNodeId(r.key,r.version);if(!t)throw Error("An error occurred while adding an instance of this component.");g(t,"",d)}).then(()=>{(0,V.ds)("State Group Shared Symbol Inserted",_.key,e.getState(),{stateGroupFileKey:(0,L.hH)(r),stateGroupLibraryKey:r.library_key,stateGroupId:r.id,stateGroupName:r.name,StateGroupCanvasPositionX:n.x,StateGroupCanvasPositionY:n.y,isFromDefaultLibrary:(0,ei.td)(p.library,r.file_key),isFromDoubleClick:!!o}),(0,eR.V)(_.key,r,!0,{metricName:"design_systems.subscribed_state_group.insert_time",duration:performance.now()-t}),e.dispatch(t2())}).catch(n=>{e.dispatch(C.s.error(n.message)),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,n),(0,eR.V)(_.key,r,!1,{metricName:"design_systems.subscribed_state_group.insert_time",duration:performance.now()-t})}).finally(()=>{i()})}};await e.dispatch((0,eP.vQ)({assetResourceId:r.file_key,onInsertAsset:_}))}),eW=(0,D.nF)(async(e,t)=>{if(!(0,h.kc)().dse_module_publish)return;let{item:r}=t;if(!(0,eA.RX)(r))return;let{canvasPosition:n,percentageOffset:i,insertAsChildOfCanvas:a,useSmartPositioning:o,insertLogArgsOverride:l,storeInRecentsKey:s,insertedItemsCallback:c,fromPlayground:d,selectAfterInsert:u,isClick:p,shouldShowVisualBell:m=!0}=t,_=e.getState(),g=(0,en.s)(_);e.dispatch(tV({storeInRecentsKey:s,item:r,userId:g}));let f=(e,t)=>{let r=X.l7.user("insert-module",()=>d?J.glU.insertPlaygroundModuleUsage({x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y}):J.glU.insertModule(e,{x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y},t,a,o??!1,u??!0));return c&&c(r,n,p),q.Y5.triggerAction("commit"),q.Y5.triggerAction("set-tool-default"),r},E=(0,G.d1)(_);if((0,W.N2)(r,E))f(r.node_id,l),e.dispatch(t2());else{let t=()=>{};m&&(t=function(e){return e(R.F.enqueue({type:"insert_template",message:(0,O.t)("design_systems.subscriptions.inserting_template"),icon:P.zX.SPINNER,delay:1e3})),function(){e(R.F.dequeue({matchType:"insert_template"}))}}(e.dispatch));try{let e=await j.Eo.getCanvas(r),t=X.l7.system("upsert-shared-module",()=>J.BXd.upsertSharedModule(r.key??w.mW.INVALID,r.version??w.Pg.INVALID,r.file_key,J.zol.NO,e,J.ZiZ.ACTIVE_SCENE));if(t.fileUpdateRequired||!t.localGUID)throw Error("An error occurred while inserting this template.");f(t.localGUID,l)}catch(t){e.dispatch(C.s.error(t.message)),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t)}m&&t()}});function eK(e,t,r){return(0,p.a)(t,r,{batchSize:5,onBatchFinish(t,r){e(ek.H.progress({delta:r}))}})}let eY=(0,D.nF)(async(e,t)=>{let{stateGroups:r,usedItemsByKey:n,instanceIdsToUpdate:i,updateStartTime:a}=t,o=e.getState(),l=o.openFile;if(l)try{let t=await Promise.all(r.map(e=>j.Eo.getCanvas(e))),s=new Set;if((0,h.kc)().ds_update_batching_ui)await eK(e.dispatch,r,(e,r)=>{let c=t[r];if(X.l7.user("update-shared-state-group",()=>{J.BXd.updateSharedStateGroup(e.key,e.file_key,e.newStateKeyToOutdatedItems,i.map(u.v.toString),c,a)}),Object.keys(e.newStateKeyToOutdatedItems).length)for(let t of Object.values(e.newStateKeyToOutdatedItems)){let{localIdsToUpdate:r,oldSubscribedKeysToUpdate:i}=t;if((0,ei.GA)(o.library,l,r,i,n)){s.add(e.file_key);break}}});else for(let e=0;e<r.length;e++){let c=r[e],d=t[e];if(X.l7.user("update-shared-state-group",()=>{J.BXd.updateSharedStateGroup(c.key,c.file_key,c.newStateKeyToOutdatedItems,i.map(u.v.toString),d,a)}),Object.keys(c.newStateKeyToOutdatedItems).length)for(let e of Object.values(c.newStateKeyToOutdatedItems)){let{localIdsToUpdate:t,oldSubscribedKeysToUpdate:r}=e;if((0,ei.GA)(o.library,l,t,r,n)){s.add(c.file_key);break}}}q.Y5.triggerAction("commit");let c=r.map(e=>e.id);(0,V.ds)("Components Updated",l.key,e.getState(),{stateGroups:c,isSgShimFFEnabled:!0}),s.size&&tZ(e,s)}catch(t){e.dispatch(C.s.error("An error occurred while updating the instances of this component.")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t)}}),ej=(0,D.nF)(async(e,t)=>{let{components:r,usedItemsByKey:n,instanceIdsToUpdate:i,updateStartTime:a}=t,o=e.getState(),l=o.openFile;if(l)try{let t=await Promise.all(r.map(e=>j.Eo.getCanvas(e))),s=new Set;if((0,h.kc)().ds_update_batching_ui)await eK(e.dispatch,r,(e,r)=>{let c=t[r];X.l7.user("update-shared-symbol",()=>{J.BXd.updateSharedSymbol(e.component_key??w.ii.INVALID,e.file_key,e.oldSubscribedKeysToUpdate,e.localIdsToUpdate,i.map(u.v.toString),c,a)}),(e.localIdsToUpdate.length||e.oldSubscribedKeysToUpdate.length)&&(0,ei.GA)(o.library,l,e.localIdsToUpdate,e.oldSubscribedKeysToUpdate,n)&&s.add(e.file_key)});else for(let e=0;e<r.length;e++){let c=r[e],d=t[e];X.l7.user("update-shared-symbol",()=>{J.BXd.updateSharedSymbol(c.component_key??w.ii.INVALID,c.file_key,c.oldSubscribedKeysToUpdate,c.localIdsToUpdate,i.map(u.v.toString),d,a)}),(c.localIdsToUpdate.length||c.oldSubscribedKeysToUpdate.length)&&(0,ei.GA)(o.library,l,c.localIdsToUpdate,c.oldSubscribedKeysToUpdate,n)&&s.add(c.file_key)}q.Y5.triggerAction("commit");let c=r.map(e=>e.id);(0,V.ds)("Components Updated",l.key,e.getState(),{components:c,isShimFFEnabled:!0}),s.size&&tZ(e,s)}catch(t){e.dispatch(C.s.error("An error occurred while updating the instances of this component.")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t)}}),ez=(0,D.nF)((e,t)=>{let{style:r,inheritStyleKeyField:n,fromSearch:i}=t,a=e.getState(),o=(0,G.d1)(a),l=o&&!(0,W.N2)(r,o),s=a.openFile,{resourceId:c,libraryKey:u}=(0,$.Cw)((0,$.cO)(r,l??!1),s),p=(0,Z.X)(c);e.dispatch(e$({style:r,callback:t=>{X.l7.user("apply-style-to-selection",()=>J.glU.applyStyleToSelection(n,t,!0)),(0,d.sx)("Style Applied",{styleType:r.style_type,isShared:!!l,viewMode:e.getState().stylePickerListLayout?"LIST":"GRID",fromSearch:!!i,nonInteraction:0,styleKey:r.key,consumedVariableIds:J.CWU.getConsumedVariableIDs(r.node_id),styleLibraryKey:u,consumingFileKey:null==s?void 0:s.key,fileTeamId:null==s?void 0:s.teamId,fileParentOrgId:null==s?void 0:s.parentOrgId,partnerType:p,success:!0},{forwardToDatadog:!0})},errorCallback:()=>{(0,d.sx)("Style Applied Error",{partnerType:p},{forwardToDatadog:!0})}}))}),e$=(0,D.nF)((e,t)=>{var r,n;let i=e.getState(),{style:a}=t,o=(0,G.d1)(i);if(!o)return;let l=!(0,W.N2)(a,o),s="GRID"===a.style_type&&!J.Ez5.editorPreferences().showFrameGrids.getCopy();if(l){let r=async()=>{var r,n,i;try{let i=await j.Eo.getCanvas(a);null==(r=t.bufferCallback)||r.call(t,i);let o=X.l7.system("ensure-style-is-loaded",()=>J.BXd.getOrCreateSubscribedStyleNodeId(a.key,a.content_hash??w.IA.INVALID,a.file_key,i));if(null==o?void 0:o.fileUpdateRequired)return;if(t.omitFullscreenCommit||q.Y5.triggerAction("commit"),s&&((0,ee.c6)(),J.Ez5.editorPreferences().showFrameGrids.set(!0)),"TEXT"===a.style_type&&o&&o.localGUID){let t=e.getState().mirror.sceneGraph.get(o.localGUID),r=t&&t.fontName;r&&await (0,Q.VC)(r.family,r.style).catch(()=>console.error(`Text style font did not load: ${r.family} ${r.style}`))}null==(n=t.callback)||n.call(t,o.localGUID)}catch(r){e.dispatch(C.s.error("An error occurred while applying the style to the selection.")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,r),null==(i=t.errorCallback)||i.call(t)}};e.dispatch((0,eP.vQ)({assetResourceId:a.file_key,onInsertAsset:r}))}else s&&((0,ee.c6)(),J.Ez5.editorPreferences().showFrameGrids.set(!0)),null==(r=t.callback)||r.call(t,a.node_id),null==(n=t.bufferCallback)||n.call(t,void 0)}),eZ=(0,D.nF)(async(e,t)=>{var r;let{styles:n,updateStartTime:i}=t,a=e.getState().openFile;if(a)try{let t=await Promise.all(n.map(e=>j.Eo.getCanvas(e))),o=new Set,l=e.getState();if((0,h.kc)().ds_update_batching_ui)await eK(e.dispatch,n,(e,r)=>{let n=t[r];X.l7.user("update-shared-style",()=>{J.BXd.updateSharedStyle(e.key,e.file_key,e.content_hash??w.IA.INVALID,e.oldSubscribedKeysToUpdate,e.localIdsToUpdate,n,i)}),(0,ei.GA)(l.library,a,e.localIdsToUpdate,e.oldSubscribedKeysToUpdate,l.library.used__LIVEGRAPH.styles)&&o.add(e.file_key)});else for(let e=0;e<n.length;e++){let r=n[e],s=t[e];X.l7.user("update-shared-style",()=>{J.BXd.updateSharedStyle(r.key,r.file_key,r.content_hash??w.IA.INVALID,r.oldSubscribedKeysToUpdate,r.localIdsToUpdate,s,i)}),(0,ei.GA)(l.library,a,r.localIdsToUpdate,r.oldSubscribedKeysToUpdate,l.library.used__LIVEGRAPH.styles)&&o.add(r.file_key)}q.Y5.triggerAction("commit");let s=n.map(e=>e.id);(0,V.ds)("Styles Updated",null==(r=l.openFile)?void 0:r.key,e.getState(),{styles:s}),o.size&&tZ(e,o)}catch(t){e.dispatch(C.s.error("An error occurred while updating this style.")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t)}}),eq=(0,D.nF)((e,t)=>{let r=J.BXd.getTimestampForLibraryUpdateStart(),{styleUpdateInfo:n,oldStyleGUID:i,consumerGUIDsToUpdate:a}=t,{updateAsset:o,inheritStyleKeyFields__DEPRECATED:l}=n;j.Eo.getCanvas(o).then(t=>{var n;let s=e.getState(),{content_hash:c}=o;if(!i)throw Error("guid to update can not be empty");if(!c)throw Error("content_hash not specified on style");let d=X.l7.user("update-selected-shared-style-consumers",()=>J.BXd.updateSelectedSharedStyleConsumers(o.key,o.file_key,c,o.oldSubscribedKeysToUpdate,o.localIdsToUpdate,l||[],a,i,t,r));if(q.Y5.triggerAction("commit"),!d)throw Error("unable to update");(0,V.ds)("Styles Updated",null==(n=s.openFile)?void 0:n.key,e.getState(),{styles:[o.id]})}).catch(t=>{e.dispatch(C.s.error("An error occurred while updating this style.")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t)})}),eJ=(0,D.nF)(e=>{(0,ei.KQ)(e)}),eX=(0,D.nF)((e,t)=>{let{variableSets:r,updateStartTime:n}=t;if(e.getState().openFile){if((0,h.kc)().ds_update_batching_ui)return Promise.all(r.map(e=>j.Eo.getCanvas(e))).then(t=>eK(e.dispatch,r,(e,r)=>{let i=t[r];X.l7.user("update-shared-variable-set",()=>{J.BXd.updateSharedVariableSet(e.node_id,(0,ey.GI)(e)?[]:e.libraryVariableIdsForUpdate,i,n)})})).then(()=>{q.Y5.triggerAction("commit")}).catch(t=>{e.dispatch(C.s.error("An error occurred while updating this variable collection")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t)});Promise.all(r.map(e=>j.Eo.getCanvas(e))).then(e=>{for(let t=0;t<r.length;t++){let i=r[t],a=e[t];X.l7.user("update-shared-variable-set",()=>{J.BXd.updateSharedVariableSet(i.node_id,(0,ey.GI)(i)?[]:i.libraryVariableIdsForUpdate,a,n)})}q.Y5.triggerAction("commit")}).catch(t=>{e.dispatch(C.s.error("An error occurred while updating this variable collection")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t)})}});async function eQ(e){let t=await j.Eo.getCanvas(e);if(!X.l7.system("upsert-shared-variable",()=>J.BXd.upsertSharedVariable(e.node_id,J.zol.NO,t)).fileUpdateRequired)return{buffer:t}}let e0=(0,D.nF)((e,t)=>{let{item:r,callback:n,bufferCallback:i,errorCallback:a}=t;if(!(0,G.d1)(e.getState())){null==a||a(Error("editing file not found"));return}if("LIBRARY"===r.subscriptionStatus){let t=async()=>{try{let e=await eQ(r);e&&(null==n||n(r.node_id),null==i||i(e.buffer))}catch(t){e.dispatch(C.s.error("An error occurred while retrieving the variable.")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t),null==a||a(t)}};e.dispatch((0,eP.vQ)({assetResourceId:r.file_key,onInsertAsset:t}))}else null==n||n(r.node_id)}),e1=(0,D.nF)((e,t)=>new Promise((r,n)=>{e.dispatch(e0({item:t,callback:r,errorCallback:n}))}));async function e2(e){let t=await j.Eo.getCanvas(e);if(!X.l7.system("upsert-shared-variable-set",()=>J.BXd.upsertSharedVariableSet(e.node_id,J.zol.NO,t)).fileUpdateRequired)return{buffer:t}}let e3=(0,D.nF)((e,t)=>{let{item:r,callback:n,bufferCallback:i,errorCallback:a}=t;if((0,G.d1)(e.getState())){if("LIBRARY"===r.subscriptionStatus){let t=async()=>{try{let e=await e2(r);e&&(null==n||n(r.node_id),null==i||i(e.buffer))}catch(t){e.dispatch(C.s.error("An error occurred while retrieving the variable collection.")),(0,v.$D)(I.e.DESIGN_SYSTEMS_EDITOR,t),null==a||a()}};e.dispatch((0,eP.vQ)({assetResourceId:r.file_key,onInsertAsset:t}))}else null==n||n(r.node_id)}}),e5=(e,t,r)=>{let n={[ey.Yu]:{}};t.forEach(e=>{e=(0,eo.aV)(e),n[ey.Yu][e.file_key]=n[ey.Yu][e.file_key]||{},n[ey.Yu][e.file_key][e.node_id]=e}),e.dispatch(x.Ho({publishedItemsByTeamId:n,type:r}))};async function e4(e,t){var r,n;let i=(0,em.zg)(e.getState().selectedView),a=!(0,h.Ay)().user_data;if(a&&!i)return;let o=(0,eC.yD)(t);if(!(0,ec.Sc)(e.getState().loadingState,o)){(0,ei.LC)();return}e.dispatch(eO.Cx({key:o}));let l=e.getState();try{let i=l.selectedView.editorType===ef.nT.Whiteboard?"figjam":"design",s=eT.Z.getLibrarySubscribedComponentsEditorType({key:t,editorType:i}),c=await (0,K.iJ)((null==(r=l.user)?void 0:r.created_at)??null,e.dispatch,(0,eh.H7)(l),(null==(n=l.openFile)?void 0:n.parentOrgId)||null,l.userFlags[K.q3]),d=(0,Y.MO)(l),u=c||d?eI.f.getCommunityLibrarySubscribedComponents({key:t}).catch(t=>((0,v.$D)(I.e.COMMUNITY,t),e.dispatch(C.s.error((0,O.t)("community.library.error_fetching_subscribed_components"))),null)):Promise.resolve(null),[p,m]=await Promise.all([s,u]);a||await eg.kb.promise,e.dispatch(M.uo({files:p.data.meta.files,subscribeToRealtime:!0})),p.data.meta.files.forEach(e=>{(0,ei.WY)(e.key)});let _=e.getState().fileByKey,f=g.zl.get(z.qp),E=p.data.meta.hub_files;E&&(E.forEach(e=>{(0,ei.WY)(e.id)}),e.dispatch((0,k.D3)(E)));let y=p.data.meta.state_groups.map(e=>{var t,r;return{...e,team_id:(0,h.kc)().ds_use_lib_keys?null==(t=f[e.library_key])?void 0:t.team_id:null==(r=_[(0,L.hH)(e)])?void 0:r.team_id}}),b=p.data.meta.components.map(e=>{var t,r;return{...e,team_id:(0,h.kc)().ds_use_lib_keys?null==(t=f[e.library_key])?void 0:t.team_id:null==(r=_[(0,L.hH)(e)])?void 0:r.team_id}});e.dispatch(x.uo({items:y,type:ey.PW.STATE_GROUP})),e.dispatch(x.uo({items:b,type:ey.PW.COMPONENT})),e.dispatch(x.t2({libraries:p.data.meta.libraries})),m&&(e.dispatch((0,k.D3)(m.data.meta.hub_files)),m.data.meta.hub_files.forEach(e=>{(0,ei.WY)(e.id)}),e.dispatch(x.uo({items:m.data.meta.state_groups,type:ey.PW.STATE_GROUP})),e.dispatch(x.uo({items:m.data.meta.components,type:ey.PW.COMPONENT})),e.dispatch(x.t2({libraries:m.data.meta.libraries}))),(0,ei.LC)(),e.dispatch(eO.x2({key:o})),ea.YG.queryDidChange(e)}catch(t){(0,ei.LC)(),e.dispatch(eO.of({key:o}))}}let e8=(e,t)=>`GET_DEFAULT_LIBRARIES_FOR_${e}_FV${t}`;async function e6(e){let t=e.getState().openFile,r=e.getState().fileVersion;if(!t||!r)return;let n=e8(t.key,r),i=e.getState().loadingState;if(!((0,ec.D2)(i,n)||(0,ec.VP)(i,n))){e.dispatch(eO.Cx({key:n}));try{let t;let r=e.getState(),i="fullscreen"===r.selectedView.view&&r.selectedView.editorType===ef.nT.Whiteboard;t=(0,h.kc)().figjam_ngima_stickers&&i?await e9():await e7(),e5(e,t.data.meta.components,ey.PW.COMPONENT),e5(e,t.data.meta.state_groups,ey.PW.STATE_GROUP),t.data.meta.files.forEach(t=>{t.team_id=ey.Yu,e.dispatch(M.yJ({file:t}))});let a=t.data.meta.files.map(e=>e.key);e.dispatch(x.Vk({fileKeys:a})),e.dispatch(x.t2({libraries:t.data.meta.libraries})),(0,ei.kG)(),e.dispatch(eO.x2({key:n}))}catch(t){(0,ei.kG)(),e.dispatch(eO.of({key:n})),ea.YG.queryDidChange(e)}}}async function e7(){return await eT.Z.getDefaultLibraries()}async function e9(){let e;async function t(){try{return await eT.Z.getLibraryPublishedComponents({fileKey:e})}catch{return null}}e=window.location.origin.includes("staging.figma.com")?"3oeQNbicdVK70ytqmfZJhR":"Lm2ooVlwRmnYh0BpyxwZSZ";let[r,n]=await Promise.all([e7(),t()]);return n&&(r.data.meta.components.push(...n.data.meta.components),r.data.meta.state_groups.push(...n.data.meta.state_groups),r.data.meta.files.push(n.data.meta.file),r.data.meta.libraries.push(n.data.meta.library),r.data.meta.thumbnails.push(n.data.meta.library.thumbnail_url)),r}let te=(0,D.nF)((e,t)=>{let r=e.getState().fileVersion||eE.O;e.dispatch(eO.yH({key:(0,eC.yD)(t.openFileKey)})),e.dispatch(eO.yH({key:e8(t.openFileKey,r)}))}),tt=new Set,tr=new Set;function tn(){tt=new Set,tr=new Set}let ti=(0,D.nF)(async e=>{let t=e.getState();t.user&&(await eu.gi,ta((0,e_.OQ)(t),(0,e_.LL)(t),e))}),ta=async(e,t,r,n)=>{var i,a;if(0===e.length&&0===t.length)return;let o=r.getState().openFile,l=r.getState().fileVersion;if(!o||!l)return;let s=(n=n??(0,ei.lG)(r)).loadingKey;(0,ec.VP)(r.getState().loadingState,s)&&await n.promise,r.dispatch(eO.Cx({key:s})),"whiteboard"===o.editorType&&await ei.kw;let c=r.getState(),d=[];if(e.length>0){let t=new Set((0,ei.kD)(c.library.published.components).map(e=>e.component_key).concat((0,ei.kD)(c.library.defaultPublished.components).map(e=>e.component_key)));d=e.filter(e=>!t.has(e)&&!tt.has(e))}let u=[];if(t.length>0){let e=new Set((0,ei.kD)(c.library.published.stateGroups).map(e=>e.key).concat((0,ei.kD)(c.library.defaultPublished.stateGroups).map(e=>e.key)));u=t.filter(t=>!e.has(t)&&!tr.has(t))}try{if(d.length>0||u.length>0){let e=await S.Ay.post("/api/design_systems/components_state_groups",{component_keys:d,state_group_keys:u,org_id:o.parentOrgId,fv:l});d.forEach(e=>{tt.add(e)}),u.forEach(e=>{tr.add(e)});let t=e.data.meta.components,n=e.data.meta.state_groups,i=e.data.meta.files;r.dispatch(M.uo({files:i,subscribeToRealtime:!0})),r.dispatch(x.dC({subscribedOldKeyToNewKey:e.data.meta.move_remappings,localOldGuidToNewKey:{}}));let a=r.getState().fileByKey,s=g.zl.get(z.qp);(0,ei.VF)(t,ey.PW.COMPONENT,a,s,r.dispatch),(0,ei.VF)(n,ey.PW.STATE_GROUP,a,s,r.dispatch)}null==(i=n.callbackForComponent)||i.call(n,!0)}catch(e){null==(a=n.callbackForComponent)||a.call(n,!1)}n.resetPromise(),r.dispatch(eO.yH({key:s})),n.callback()},to=null,tl=null;async function ts(e,t,r){var n,i,a,o;try{let l=e.getState().fileVersion||0,s=await eT.Z.getLibraryComponentV2({componentKey:t,source:r,fv:l}),c=s.data.meta.file;c&&e.dispatch(M.yJ({file:c}));let d=s.data.meta.component||null,u=s.data.meta.component_set||null,p=e.getState().fileByKey,m=g.zl.get(z.qp);if(d&&(d.team_id=(0,h.kc)().ds_use_lib_keys?null==(n=m[d.library_key])?void 0:n.team_id:null==(i=p[(0,L.hH)(d)])?void 0:i.team_id),u&&(u.team_id=(0,h.kc)().ds_use_lib_keys?null==(a=m[u.library_key])?void 0:a.team_id:null==(o=p[(0,L.hH)(u)])?void 0:o.team_id),c){let t={};t[d.node_id]=d,s.data.meta.state_components.forEach(e=>{t[e.node_id]=e}),e.dispatch(x.yJ({itemsById:t,fileKey:c.key,libraryKey:(0,L.lt)(c.library_key),teamId:c.team_id,type:ey.PW.COMPONENT})),s.data.meta.component_set&&e.dispatch(x.yJ({itemsById:{[s.data.meta.component_set.key]:s.data.meta.component_set},fileKey:c.key,libraryKey:(0,L.lt)(c.library_key),teamId:c.team_id,type:ey.PW.STATE_GROUP})),d&&j.Eo.getCanvas(d)}return{component:d,parentStateGroup:s.data.meta.component_set||null}}catch(e){if((null==e?void 0:e.status)===403){let e=Error("Permissions error for /api/design_systems/library/component_v2/key");(0,b.t)("component"),console.error(e)}return{component:null,parentStateGroup:null}}}let tc=(0,D.nF)((e,t)=>{to=t.componentKey,tl=ts(e,t.componentKey,t.callsite)}),td=null,tu=null;async function tp(e,t){try{let r=e.getState().fileVersion||0,n=(await eT.Z.getLibraryStateGroupFv({stateGroupKey:t,fileVersion:r})).data.meta,i={[n.node_id]:n},a=g.zl.get(z.qp),o=(0,h.kc)().ds_use_lib_keys?a[n.library_key]:e.getState().fileByKey[(0,L.hH)(n)];if(!o)return n;return n.team_id=o.team_id,e.dispatch(x.yJ({itemsById:i,fileKey:o.key,libraryKey:(0,L.lt)(o.library_key),teamId:o.team_id,type:ey.PW.STATE_GROUP})),j.Eo.getCanvas(n),n}catch(e){if((null==e?void 0:e.status)===403){let e=Error("Permissions error for /api/design_systems/library/state_group/key");(0,b.t)("state"),console.error(e)}return null}}async function tm(e,t){try{let{style:r,file:n}=(await eT.Z.getLibraryStyleByKey({styleKey:t})).data.meta;return n&&e.dispatch(M.yJ({file:n})),j.Eo.getCanvas(r),r}catch(e){if((null==e?void 0:e.status)===403){let e=Error("Permissions error for /api/design_systems/library/styles/key");(0,b.t)("style"),console.error(e)}return null}}let t_=(0,D.nF)((e,t)=>{td=t.stateGroupKey,tu=tp(e,t.stateGroupKey)}),th="FETCH_RECENTLY_USED_LIBRARY_ITEMS";async function tg(e,t){var r,n,i,a,o;let l;if((0,ec.VP)(e.getState().loadingState,th))return;e.dispatch(eO.Cx({key:th})),await ei.NW;let s=e.getState();if("fullscreen"!==s.selectedView.view){e.dispatch(eO.x2({key:th}));return}let c=new Set,d=new Set;for(let e of s.recentlyUsed.libraryItems[t])e.type!==ey.PW.COMPONENT||!e.key||(null==(n=null==(r=s.library.published.components[e.team_id])?void 0:r[e.file_key])?void 0:n[e.node_id])?e.type!==ey.PW.STATE_GROUP||!e.key||(null==(a=null==(i=s.library.published.stateGroups[e.team_id])?void 0:i[e.file_key])?void 0:a[e.node_id])||d.add(e.key):c.add(e.key);if(0===c.size&&0===d.size){e.dispatch(eO.x2({key:th}));return}try{l=await S.Ay.post("/api/design_systems/components_state_groups",{component_keys:Array.from(c),state_group_keys:Array.from(d),org_id:null==(o=s.openFile)?void 0:o.parentOrgId,fv:s.fileVersion})}catch(t){e.dispatch(eO.of({key:th}));return}e.dispatch(eO.x2({key:th})),e.dispatch(M.uo({files:l.data.meta.files,subscribeToRealtime:!1})),e.dispatch(x.dC({subscribedOldKeyToNewKey:l.data.meta.move_remappings,localOldGuidToNewKey:{}}));let u=e.getState().fileByKey,p=g.zl.get(z.qp);(0,ei.VF)(l.data.meta.components,ey.PW.COMPONENT,u,p,e.dispatch),(0,ei.VF)(l.data.meta.state_groups,ey.PW.STATE_GROUP,u,p,e.dispatch)}async function tf(e){let{loadingState:t}=e.getState(),r=e.getState().openFile,n=e.getState().fileVersion;if(null==r||null===n)return;let i=(0,ei.Mb)(r.key,n);if(!(0,ec.Sc)(t,i))return;let a=eT.Z.getLibraryPublishedAndMovedComponentsFv({openFileKey:r.key,fileVersion:n});(0,ep.N)(a,{dispatch:e.dispatch},i),ei.Ys.add(i);try{let t=await a;e.dispatch(M.uo({files:t.data.meta.files,subscribeToRealtime:!0})),(0,ei.WY)(r.key);let n=e.getState().fileByKey,i=g.zl.get(z.qp);(0,ei.VF)(t.data.meta.state_groups,ey.PW.STATE_GROUP,n,i,e.dispatch),(0,ei.VF)(t.data.meta.components,ey.PW.COMPONENT,n,i,e.dispatch),e.dispatch(x.dC({subscribedOldKeyToNewKey:{},localOldGuidToNewKey:t.data.meta.move_remappings}))}catch(e){console.warn("Failed to get published and moved components for editing file")}(0,ei._B)()}function tE(e,t,r=!1){let{loadingState:n}=e.getState();return r?(0,ei.Fz)(t,n,e.getState().fileVersion,e.dispatch):(0,ei.AA)(t,n,e.getState().fileVersion,e.dispatch)}let ty=es.M4.Query({fetch:async e=>(await eS.P.getOrgMigrationStatus({orgId:e})).data.meta,enabled:e=>!!e}),tb=es.M4.Query({fetch:async e=>await tv(m.D.dispatch,e),key:"libraryStats"}),tv=async(e,t)=>{let r=eS.P.getLibraries({orgId:t,fv:eE.O}),n=function(e){return`LIBRARY${e?"_"+e:""}'_STATS'`}(t);(0,ep.N)(r,{dispatch:e},n);try{let t=await r,n=t&&t.data&&t.data.meta||[],i=0,a=0,o=0,l=0,s=0,c=0,d=0,u=[],p=[],m=[],_=new Set;for(let e of n)(0!==e.num_components||0!==e.num_styles||0!==e.num_variable_collections||0!==e.num_variables||0!==e.num_module_assets)&&(e.team_id&&!_.has(e.team_id)&&(_.add(e.team_id),c++),u.push(e),p.push(e.file),e.thumbnail_url&&m.push({file_key:e.library_file_key,thumbnail_url:e.thumbnail_url}),i+=e.num_components,o+=e.num_styles,l+=e.num_variable_collections,e.num_state_groups=0,a+=e.num_state_groups,s+=e.num_module_assets,d++);return p.length>0&&e(M.uo({files:p,subscribeToRealtime:!1})),m.length>0&&e(x.t2({libraries:m})),{totalComponents:i,totalStateGroups:a,totalStyles:o,totalVariableCollections:l,totalModuleAssets:s,teamsWithLibraries:c,totalLibraries:d,files:u}}catch(e){return ey.wg}},tI=es.M4.Query({fetch:e=>tS(e),key:"libraryInfo"});function tT(e,t={}){let r=(0,es.IT)(tI(e),t),n=(0,i.wA)(),[a]=r;return(0,y.DC)(a,e=>{let t=e.files.map(e=>e.file);t.length>0&&n(M.uo({files:t,subscribeToRealtime:!1})),e.libraries.length>0&&n(x.t2({libraries:e.libraries}))}),r}let tS=(0,eN.D)(async({currentOrgId:e,excludeDrafts:t,subscriptionFileKey:r,includeThumbnails:n})=>{let i=eT.Z.getLibraries({orgId:e,fv:eE.O,subscriptionFileKey:r||void 0,includeThumbnails:n});try{let e=await i,r=e&&e.data&&e.data.meta||[],a=0,o=0,l=0,s=0,c=0,d=0,u=0,p=[],m=[],_=[],h=new Set;for(let e of r)e.num_state_groups=0,(0!==e.num_components||0!==e.num_styles||0!==e.num_variable_collections||0!==e.num_variables||0!==e.num_module_assets)&&(!t||e.team_id)&&(e.team_id&&!h.has(e.team_id)&&(h.add(e.team_id),d++),p.push(n?{...e,thumbnail_url:e.file.thumbnail_url}:e),m.push(e.file),e.thumbnail_url&&_.push({file_key:e.library_file_key,thumbnail_url:e.thumbnail_url}),a+=e.num_components,l+=e.num_styles,s+=e.num_variable_collections,o+=e.num_state_groups,c+=e.num_module_assets,u++);return{totalComponents:a,totalStateGroups:o,totalStyles:l,totalVariableCollections:s,totalModuleAssets:c,teamsWithLibraries:d,totalLibraries:u,files:p,libraries:_}}catch(e){return{...ey.wg,libraries:[]}}});function tw(e){var t,r;let n=e.communityLibrary&&(null==(t=(0,E.oA)(e.communityLibrary))?void 0:t.hubFileId),i=e.library&&(null==(r=(0,E.oA)(e.library))?void 0:r.fileKey);return n??i}function tA(e){var t;return e.communityLibrary&&!!(null==(t=(0,E.oA)(e.communityLibrary))?void 0:t.hubFileId)}function tC(e,t){let r=(null==t?void 0:t.ignoreCommunitySubs)??!1,n={};for(let t of e)tA(t)&&r||(n[tw(t)]={design:!!t.isSubscribed,figjam:!!t.figJamSubscribed,slides:!!t.slidesSubscribed});return n}function tN(e,t,r){if(!t||!r)return;let n=o()(t,tw);for(let t of r){let r=tw(t),i=n[r];i&&i.isSubscribed===t.isSubscribed&&i.figJamSubscribed===t.figJamSubscribed&&i.slidesSubscribed===t.slidesSubscribed||tG(e,r,{design:!!t.isSubscribed,figjam:!!t.figJamSubscribed,slides:!!t.slidesSubscribed},tA(t))}}function tO(e,t,r){tN(e,null==t?void 0:t.map(tR),null==r?void 0:r.map(tR))}let tL=function(e){let t=(0,H.Ck)(),r=(0,i.wA)(),a=(0,i.Pj)(),o=(0,E.Rs)(el.u2o,{fileKey:e},{enabled:!!e}),{data:l,status:s}=(0,n.useMemo)(()=>o.transform(e=>{var t;return(null==(t=null==e?void 0:e.file)?void 0:t.libraryFileSubscriptionOverrides)??[]}),[o]);(0,n.useEffect)(()=>{if("loaded"!==s)return;let n={};for(let e of l)(!tA(e)||t())&&(n[tw(e)]=!!e.isSubscribed);r(tF({fileKey:e,fileSubscriptionsByFileKey:n}))},[e,l,r,t,s]);let c=(0,_.ZC)(l);(0,n.useEffect)(()=>{c&&l&&tN(a,c,l)},[a,l,c])},tR=e=>({...e,slidesSubscribed:e.slidesSubscribed.status===E.tT.Loaded?e.slidesSubscribed.data:void 0}),tP=function(){let e=(0,i.wA)(),t=(0,i.Pj)(),r=(0,H.n1)(),a=(0,H.Ck)(),o=(0,ei.LH)(),{data:l}=(0,E.Rs)(el.Lew,{});(0,n.useEffect)(()=>{var t;let r=null==(t=null==l?void 0:l.currentUser)?void 0:t.libraryUserSubscriptions;r&&e(tU({subscriptions:tC(r.map(tR),{ignoreCommunitySubs:!a()})}))},[a,l,e]);let c=(0,_.ZC)(l);(0,n.useEffect)(()=>{var e,r;if(!c||!l)return;let n=null==(e=null==l?void 0:l.currentUser)?void 0:e.libraryUserSubscriptions;tO(t,null==(r=null==c?void 0:c.currentUser)?void 0:r.libraryUserSubscriptions,n)},[t,l,c]);let{data:d}=(0,E.Rs)(el.lTH,{},{enabled:r}),u=(0,n.useMemo)(()=>{if(!d)return;let e=(0,E.oA)(d.libraryPresetSubscriptions);if(e)return o?[]:e},[o,d]);(0,n.useEffect)(()=>{if(!u)return;let t={};for(let e of u)t[e.hubFileId]={design:!0,figjam:!1,slides:!1};e(tH({subscriptions:t}))},[u,e]);let p=(0,_.ZC)(u);(0,n.useEffect)(()=>{if(!u||!p)return;let e=e=>({communityLibrary:(0,E.Wk)({hubFileId:e.hubFileId}),library:(0,E.Wk)(null),isSubscribed:!0}),r=u.map(e);tN(t,p.map(e),r)},[t,u,p]);let{data:m}=(0,E.Rs)(el.AXx,{orgId:o},{enabled:!!o});(0,n.useEffect)(()=>{let t=null==m?void 0:m.orgLibrarySubscriptions;t&&e(tB({subscriptions:tC(t.map(tR),{ignoreCommunitySubs:!a()})}))},[a,m,e]);let h=(0,_.ZC)(m);(0,n.useEffect)(()=>{if(!h||!m)return;let e=null==m?void 0:m.orgLibrarySubscriptions;tO(t,null==h?void 0:h.orgLibrarySubscriptions,e)},[t,m,h]);let g=(0,eh.cD)(),f=(0,E.Rs)(el.f19,{}),{data:y}=(0,n.useMemo)(()=>f.transform(e=>{var t;let n=(e.allTeamRoles||[]).filter(e=>e.team&&!e.team.deletedAt&&(e.team.orgId===o||e.team.id===g)).map(e=>e.team),i=[];if(a()&&!r)for(let r of e.communityQuickstartLibraries??[]){let e=(null==(t=r.communityLibrary)?void 0:t.hubFileId)??null;e&&i.push({library:(0,E.Wk)(null),communityLibrary:(0,E.Wk)({hubFileId:e}),isSubscribed:!0})}let l={};for(let e of n){let t=[...e.libraryTeamSubscriptionOverrides.map(tR).filter(e=>a()||!tA(e)),...i],r=s()(t,tw);l[e.id]=r}return l}),[a,o,g,f,r]);(0,n.useEffect)(()=>{if(!y)return;let t={};for(let[e,r]of Object.entries(y)){let n=tC(r,{ignoreCommunitySubs:!a()});t[e]=n}e(tx({fileSubscriptionsByTeamId:t}))},[a,y,e]);let b=(0,_.ZC)(y);(0,n.useEffect)(()=>{b&&y&&tN(t,Object.values(b).flat(),Object.values(y).flat())},[t,y,b])},tk=(0,D.nF)(async e=>{if(await eg.kb.promise,!e.getState().user)return;let t=Promise.resolve(null),r=Promise.resolve(null),n=Promise.resolve(null);try{await Promise.all([t,n,r])}catch(e){}});async function tD(e){if(!e)return 0;try{return(await eS.P.getNumTeams({orgId:e})).data.meta.num_teams}catch(e){}return 0}let tM=(0,D.nF)(e=>{var t;let r=e.getState(),n=!!r.user;if(!(null==(t=r.openFile)?void 0:t.key))return;let i=e.getState().selectedView;i&&"fullscreen"===i.view&&(i.editorType===ef.nT.Whiteboard?e6(e):(0,ei.kG)(),n&&tg(e,i.editorType===ef.nT.Whiteboard?eb.$A.FigJam:eb.$A.Design)),n&&(e.dispatch(ti()),tf(e))}),tx=(0,c.N)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_TEAM"),tF=(0,c.N)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_FILE"),tU=(0,c.N)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_USER"),tB=(0,c.N)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_ORG"),tH=(0,c.N)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_PRESET"),tV=(0,c.N)("ADD_ASSET_TO_RECENTS"),tG=(0,eN.D)((e,t,r,n=!1)=>{if(!r||(0,ei.td)(e.getState().library,t))return;let i=(0,G.d1)(e.getState());if(i){let a=i.editor_type??"design";(!0===r||"design"===a&&r.design||"whiteboard"===a&&r.figjam)&&(e.getState().leftPanel.activeTab===J.xae.ASSETS||e.getState().universalInsertModal.showing?tE(e,t,n):e.dispatch(eO.yH({key:(0,eC.yD)(i.key)})))}}),tW=(0,D.MM)("LIBRARY_SUBSCRIPTION_POST_ORG",(e,t,{optimistId:r})=>{var n,i;let{libraryOrgSubscription:a,libraryTeamId:o,userInitiated:l}=t,{isCommunityLibrary:s,orgId:c,resourceId:u,subscriptions:p}=a;if(tG(e,u,p,s),l){if(t.currentSubscription){let e=a.subscriptions.design;!((null==(n=t.currentSubscription)?void 0:n.design)||(null==(i=t.currentSubscription)?void 0:i.figjam))&&e?(0,d.sx)("Team Library File Enabled",{orgId:c,fileKey:u,fileTeamId:o}):(0,d.sx)("Org Library File Disabled",{orgId:c,fileKey:u,fileTeamId:o}),d.az.trackDefinedEvent("library_preferences_modal.library_subscription_toggle",{designSubscribed:a.subscriptions.design,figjamSubscribed:a.subscriptions.figjam,slidesSubscribed:a.subscriptions.slides,subscriptionType:"org",libraryType:s?"community":"file"})}S.Ay.post(`/api/library_org_subscriptions/${u}`,{subscriptions:p,is_community_library:s,org_id:c}).then(()=>{e.dispatch(D.hp.commit(r)),e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.settings_updated_for",{libraryName:t.libraryName,orgOrWorkspaceName:t.orgName})})),d.az.trackDefinedEvent("library_preferences_modal.library_subscription_toggle.outcome",{designSubscribed:a.subscriptions.design,figjamSubscribed:a.subscriptions.figjam,slidesSubscribed:a.subscriptions.slides,subscriptionType:"org",libraryType:s?"community":"file",outcome:"success"})}).catch(t=>{e.dispatch(D.hp.revert(r)),e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0})),d.az.trackDefinedEvent("library_preferences_modal.library_subscription_toggle.outcome",{designSubscribed:a.subscriptions.design,figjamSubscribed:a.subscriptions.figjam,slidesSubscribed:a.subscriptions.slides,subscriptionType:"org",libraryType:s?"community":"file",outcome:"error"}),(0,v.$D)(I.e.DESIGN_SYSTEMS_ECOSYSTEM,t,{tags:{fileKey:u,designSubscribed:p.design,figjamSubscribed:p.figjam,slidesSubscribed:p.slides,isCommunityLibrary:s}})})}}),tK=(0,D.MM)("LIBRARY_SUBSCRIPTION_POST_WORKSPACE",async(e,t,{optimistId:r})=>{let{libraryWorkspaceSubscription:n,libraryName:i,workspaceName:a}=t,{isCommunityLibrary:o,resourceId:l,subscriptions:s,workspaceId:c}=n,d=S.Ay.post(`/api/library_workspace_subscriptions/${l}`,{subscriptions:s,workspace_id:c,is_community_library:o});n.id?(0,f.WB)().optimisticallyUpdate({LibraryWorkspaceSubscription:{[n.id]:{isSubscribed:s.design,figJamSubscribed:s.figjam,slidesSubscribed:s.slides}}},d):(0,f.WB)().optimisticallyCreate({LibraryWorkspaceSubscription:{[`library-workspace-sub-${performance.now()}`]:{fileKey:l,workspaceId:c,isSubscribed:s.design,figJamSubscribed:s.figjam,slidesSubscribed:s.slides,canRead:!0,hubFileId:o?l:null}}},d);try{await d,e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.settings_updated_for",{libraryName:i,orgOrWorkspaceName:a})}))}catch(t){e.dispatch(R.F.enqueue({message:(null==t?void 0:t.message)??(0,O.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))}}),tY=(0,D.MM)("LIBRARY_SUBSCRIPTION_DEL_WORKSPACE",async(e,t,{optimistId:r})=>{let{libraryWorkspaceSubscription:n,libraryName:i,workspaceName:a}=t,{isCommunityLibrary:o,resourceId:l,workspaceId:s}=n,c=S.Ay.del(`/api/library_workspace_subscriptions/${l}`,{workspace_id:s,is_community_library:o});n.id&&(0,f.WB)().optimisticallyDelete({LibraryWorkspaceSubscription:{[n.id]:null}},c);try{await c,e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.settings_updated_for",{libraryName:i,orgOrWorkspaceName:a})}))}catch(t){e.dispatch(R.F.enqueue({message:(null==t?void 0:t.message)??(0,O.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))}}),tj=(0,D.MM)("LIBRARY_SUBSCRIPTION_POST_TEAM",(e,t,{optimistId:r})=>{let{libraryTeamSubscription:n,userInitiated:i,isCommunityLibrary:a}=t,{file_key:o,subscriptions:l,team_id:s}=n;tG(e,o,l,a),i&&(a?eI.f.createCommunityLibraryTeamSubscription({libraryHubFileId:o,subscriptions:l,teamId:s}):S.Ay.post(`/api/library_team_subscriptions/${o}`,{subscriptions:l,team_id:s})).then(()=>{e.dispatch(D.hp.commit(r)),d.az.trackDefinedEvent("library_preferences_modal.library_subscription_toggle.outcome",{designSubscribed:l.design,figjamSubscribed:l.figjam,slidesSubscribed:l.slides,subscriptionType:"team",libraryType:a?"community":"file",outcome:"success"})}).catch(t=>{e.dispatch(D.hp.revert(r)),e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0})),d.az.trackDefinedEvent("library_preferences_modal.library_subscription_toggle.outcome",{designSubscribed:l.design,figjamSubscribed:l.figjam,slidesSubscribed:l.slides,subscriptionType:"team",libraryType:a?"community":"file",outcome:"error"}),(0,v.$D)(I.e.DESIGN_SYSTEMS_ECOSYSTEM,t,{tags:{fileKey:o,designSubscribed:l.design,figjamSubscribed:l.figjam,slidesSubscribed:l.slides,isCommunityLibrary:a}})})}),tz=(0,D.MM)("LIBRARY_SUBSCRIPTION_POST_USER",(e,t,{optimistId:r})=>{let{libraryUserSubscription:n,isCommunityLibrary:i,userInitiated:a}=t,{file_key:o,subscriptions:l}=n;tG(e,o,l),a&&S.Ay.post(`/api/library_user_subscriptions/${o}`,{subscriptions:l,is_community_library:i}).then(()=>{e.dispatch(D.hp.commit(r)),d.az.trackDefinedEvent("library_preferences_modal.library_subscription_toggle.outcome",{designSubscribed:l.design,figjamSubscribed:l.figjam,slidesSubscribed:l.slides,subscriptionType:"user",libraryType:i?"community":"file",outcome:"success"})}).catch(t=>{e.dispatch(D.hp.revert(r)),e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0})),d.az.trackDefinedEvent("library_preferences_modal.library_subscription_toggle.outcome",{designSubscribed:l.design,figjamSubscribed:l.figjam,slidesSubscribed:l.slides,subscriptionType:"user",libraryType:i?"community":"file",outcome:"error"}),(0,v.$D)(I.e.DESIGN_SYSTEMS_ECOSYSTEM,t,{tags:{fileKey:o,designSubscribed:l.design,figjamSubscribed:l.figjam,slidesSubscribed:l.slides,isCommunityLibrary:i}})})}),t$=(0,D.MM)("LIBRARY_SUBSCRIPTION_POST_FILE",(e,t,{optimistId:r})=>{var n;let{libraryFileSubscription:i,userInitiated:a,isCommunityLibrary:o}=t,{file_key:l,library_file_key:s,is_subscribed:c}=i,u=(null==(n=e.getState().openFile)?void 0:n.key)||null;u===l&&tG(e,s,c,o);let p=e.getState().library.subscriptions.byFile[l];p&&s in p&&p[s]===c||!a||(o?eI.f.createCommunityLibraryFileSubscription({fileKey:l,libraryHubFileId:s,isSubscribed:c}):S.Ay.post(`/api/library_file_subscriptions/${l}/${s}`,{is_subscribed:c})).then(()=>{e.dispatch(D.hp.commit(r)),o&&d.az.trackDefinedEvent("library_preferences_modal.community_library_file_subscription_toggle.outcome",{isSubscribed:c,fileKey:l,libraryFileKey:s,outcome:"success"})}).catch(t=>{e.dispatch(D.hp.revert(r)),e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0})),d.az.trackDefinedEvent("library_preferences_modal.community_library_file_subscription_toggle.outcome",{isSubscribed:c,fileKey:l,libraryFileKey:s,outcome:"error"}),(0,v.$D)(I.e.DESIGN_SYSTEMS_ECOSYSTEM,t,{tags:{openFileKey:u,fileKey:l,libraryFileKey:s,isSubscribed:c,isCommunityLibrary:o}})})}),tZ=(e,t)=>{var r;let n=(null==(r=e.getState().openFile)?void 0:r.key)||null;n&&t.forEach(t=>{t!==n&&e.dispatch(t$({libraryFileSubscription:{file_key:n,library_file_key:t,is_subscribed:!0},userInitiated:!0}))})},tq="LIBRARY_REMAPPING_PROGRESS_VISUAL_BELL",tJ=null,tX=(0,D.nF)((e,t)=>{tJ={done:0,total:t.total},e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.remap_connecting_fraction",{current:0,total:t.total}),type:tq,icon:P.zX.SPINNER,timeoutOverride:1/0}))}),tQ=(0,D.nF)((e,t)=>{tJ&&(tJ.done+=t.done,e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.remap_connecting_fraction",{current:tJ.done,total:tJ.total}),type:tq,icon:P.zX.SPINNER,timeoutOverride:1/0})))}),t0=(0,D.nF)(e=>{tJ=null,e.dispatch(R.F.dequeue({matchType:tq})),e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.remap_connected"),type:tq,icon:P.zX.CHECK}))}),t1=(0,D.nF)(e=>{tJ=null,e.dispatch(R.F.enqueue({message:(0,O.t)("design_systems.subscriptions.remap_connection_failed"),type:tq,error:!0}))}),t2=(0,D.nF)(e=>{e.getState().userFlags.has_inserted_component||e.dispatch(U.b({has_inserted_component:!0}))}),t3=(0,D.nF)(e=>{e.getState().userFlags.has_opened_libraries_modal||e.dispatch(U.b({has_opened_libraries_modal:!0}))})},876401:(e,t,r)=>{"use strict";r.d(t,{De:()=>F,Sb:()=>D,TS:()=>x,ZS:()=>j,aB:()=>z,df:()=>M,dh:()=>Y,sb:()=>H});var n=r(636149),i=r.n(n),a=r(167249),o=r(776250),l=r(966712),s=r(742808),c=r(572174),d=r(717037),u=r(776621),p=r(304783),m=r(939863),_=r(934533),h=r(980820),g=r(395281),f=r(632430),E=r(662275),y=r(931828),b=r(974105),v=r(151283),I=r(599280),T=r(642481),S=r(852800),w=r(416095),A=r(962155),C=r(973131),N=r(284321),O=r(173454),L=r(656012),R=r(776047),P=r(114721),k=r(765431);let D=(0,a.N)("START_PUBLISH"),M=(0,a.N)("PUBLISH_PROGRESS"),x=(0,a.N)("PUBLISH_REQUEST_FINISHED"),F=(0,a.N)("SAVE_PUBLISH_DESCRIPTION"),U="library publish SSP";var B=(e=>(e.PublishStart="publish_start",e.CreateSavepoint="create_savepoint",e.GetPresignedPost="get_presigned_post",e.UploadThumbnails="upload_thumbnails",e.UploadParams="upload_params",e.AssetValidation="asset_validation",e.NonS3Error="non_s3_error",e.GenericError="generic_error",e))(B||{});let H=(0,h.nF)((e,{hubFileId:t})=>{let r=e.getState(),n=(0,l.kc)().ds_remove_redux_library_status;if(!n){let t=e=>{for(let t in e={...e})(0,w.HF)(e[t].status)?e[t].status=O.E8.DELETED:e[t].status===O.E8.NEW&&(e[t].status=O.E8.NOT_STAGED);return e},n=t(r.library.local.components),i=t(r.library.local.stateGroups),a=t(r.library.local.styles);e.dispatch(g.I0({local:n,type:O.PW.COMPONENT})),e.dispatch(g.I0({local:i,type:O.PW.STATE_GROUP})),e.dispatch(g.I0({local:a,type:O.PW.STYLE}))}e.dispatch(M({state:O.Qx.NONE})),e.dispatch(j({unpublishAll:n,hubFileId:t}))});async function V(e,t,r,n){let i=performance.now();if(!e.length)return{s3Paths:[],failedThumbnailNodeIds:[],styleMetaByNodeId:{},uploadDurationMs:0,encounteredNonS3PresignedPostError:!1};let a=e.length,l=0,c=()=>{!function(e,t,r){e.dispatch(M({state:O.Qx.ASSEMBLING_COMPONENTS,progress:t,publishType:r,publishStartMs:G(e.getState().library.publishProgress)}))}(n,(l+=1)/a,t?O.M$.UNPUBLISH:O.M$.PUBLISH)},m=Object.create(null),_=[],h=[];if(await Promise.all(e.map(async e=>{var t,n;try{let t=await scheduler.postTask(()=>(0,P.I6)(e,r),{priority:"user-blocking"});if(!t||0===t.length)throw Error("Unable to generate thumbnail");let[n,i]=e.node_id.split(":").map(e=>Number(e));if(isNaN(n))throw Error("Unable to parse sessionId");if(isNaN(i))throw Error("Unable to parse localId");h.push({sessionId:n,localId:i,thumbnail:t}),e.type===O.PW.STYLE&&(m[e.node_id]=JSON.stringify((0,P.fn)(e,r)))}catch(r){(0,u.x1)("publish","Failed to upload thumbnail for asset",{guid:e.node_id},{reportAsSentryError:!0}),_.push(e.type===O.PW.COMPONENT&&(null==(n=null==(t=e.containing_frame)?void 0:t.containingStateGroup)?void 0:n.nodeId)||e.node_id)}finally{c()}})),0===h.length)return{s3Paths:[],failedThumbnailNodeIds:_,styleMetaByNodeId:{},uploadDurationMs:0,encounteredNonS3PresignedPostError:!1};let g=[];for(;h.length;)g.push(h.splice(0,O.v$));let f=R.b.getThumbnailsBufferPresignedPostUrl(g.length),E=g.map(e=>e.reduce(({buffer:e,offset:t,guids:r},{sessionId:n,localId:i,thumbnail:a})=>(e.set([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n,(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i,(4278190080&a.byteLength)>>24,(16711680&a.byteLength)>>16,(65280&a.byteLength)>>8,255&a.byteLength],t),t+=12,e.set(a,t),t+=a.byteLength,r.push(`${n}:${i}`),{buffer:e,offset:t,guids:r}),{buffer:new Uint8Array(e.reduce((e,{thumbnail:t})=>e+t.byteLength+12,0)),offset:0,guids:[]})),y=[],b=(await f).data.meta.presigned_posts,v=!1;await Promise.allSettled(b.map(async({url:e,fields:t})=>{let r=E.shift();if(!r){(0,u.$D)(p.e.DESIGN_SYSTEMS_EDITOR,Error("Popped a concatenated buffer that does not exist"));return}try{y.push(await (0,d.E)(p.e.DESIGN_SYSTEMS_EDITOR,"uploadThumbnails",e,t,r.buffer,"application/octet-stream")),(0,s.S3)("publish.thumbnails_buffer.bytes",r.buffer.byteLength)}catch(e){e instanceof d.q&&(v=!0),_.push(...r.guids)}})),v&&(0,u.$D)(p.e.DESIGN_SYSTEMS_EDITOR,Error("uploadThumbnails: encountered non-S3 presigned POST error"));let I=performance.now()-i;return(0,o.sx)("Library generate and upload thumbnails",{duration:I}),{s3Paths:y,styleMetaByNodeId:m,failedThumbnailNodeIds:_,uploadDurationMs:I,encounteredNonS3PresignedPostError:v}}function G(e){return e.state===O.Qx.NONE?((0,u.x1)(U,"Attempted to update progress while not assembling components",e),null):e.publishStartMs}function W(e,t,r,n){let i=G(e);if(i){let e=performance.now()-i;(0,o.sx)(t,{duration:e}),(0,s.S3)(r,e,{error:n})}else(0,u.x1)(U,"Publish start time was null")}function K(e,t,r,n,i,a,l,c){0===t?function(e,t,r,n){if(t.state===O.Qx.UPLOADING){let e=G(t);if(e){let n=performance.now(),i=n-e,a=r?{totalDurationMs:i}:{totalDurationMs:i,uploadBuffersDurationMs:n-t.commitUpdatesDurationMs,clientPreWorkDurationMs:t.clientPreWorkDurationMs,createSavePointDurationMs:t.createSavePointDurationMs};for(let[e,r]of((0,o.sx)(`Client perceived ${t.publishType} duration`,a),Object.entries(a))){let n=`${t.publishType}.success.${e}`;(0,s.S3)(n,r)}}else(0,u.x1)(U,"Publish start time was null")}n({publishProgress:t,publishType:r?O.M$.UNPUBLISH:O.M$.PUBLISH,dispatch:e}),e(F(""))}(n,e,r,i):function(e,t,r,n,i,a,o){let l=n?O.M$.UNPUBLISH:O.M$.PUBLISH;if(a&&e(F(a)),o){i({error:k.jO.NonS3PresignedPost,publishType:l,dispatch:e});return}"number"!=typeof r?i({error:k.jO.GenericError,publishType:l,dispatch:e}):(W(t,"Partial publish failure",`${l}.error.duration`,"asset_validation"),i({error:k.jO.PartialPublish,publishType:l,dispatch:e,numPublishSkippedDueToError:r}))}(n,e,t,r,a,l,c)}function Y(e,t,r,n,i,a,l,s){(0,o.sx)("Publish ended",{savepointId:i.id,hadException:a}),K(e,t,r,n,l,s,i.description),n(x())}let j=(0,h.T8)("PUBLISH_CHANGES",async(e,t={})=>{var r,n;let a,h,g,R,F,B,H;let Y=e.getState(),j=t.onPublishSuccess??k.cc,$=t.onPublishProgress??k.UN,Z=t.onPublishError??k.tZ;if(Y.library.publishProgress.state!==O.Qx.NONE){e.dispatch(x());return}let q=(0,b.d1)(Y);if(!q){console.error("library publishChanges: file is null"),Z({error:k.jO.NoFile,dispatch:e.dispatch}),e.dispatch(x());return}let J=t.itemsToPublish;if(void 0!==J&&0===J.size){console.error("No items selected to publish"),Z({error:k.jO.NoItemsToPublish,dispatch:e.dispatch}),e.dispatch(x());return}let X=t.unpublishAll||z(Object.values((0,N.MH)(Y)),J)&&z(Object.values((0,N.dM)(Y)),J)&&z(Object.values((0,N.cM)(Y)),J)&&z(Object.values((0,N.bh)(Y)),J)&&(!(0,l.kc)().dse_module_publish||z(Object.values((0,N.x6)(Y)),J));if(!navigator.onLine){Z({error:k.jO.Offline,publishType:X?O.M$.UNPUBLISH:O.M$.PUBLISH,dispatch:e.dispatch}),e.dispatch(x());return}(0,s.Rh)(`${X?O.M$.UNPUBLISH:O.M$.PUBLISH}.start`),e.dispatch(D({unpublishAll:!!X})),e.dispatch(y.b({has_published_library_items:!0}));let Q=(r,n,i,a)=>{e.dispatch(f.Nf());let l=(null==a?void 0:a.encounteredNonS3PresignedPostError)?"non_s3_error":n;W(e.getState().library.publishProgress,r,`${X?O.M$.UNPUBLISH:O.M$.PUBLISH}.error.duration`,l);let s=null==a?void 0:a.error;(0,u.x1)(U,r,{...t,name:null==s?void 0:s.name,message:null==s?void 0:s.message,stack:null==s?void 0:s.stack},{logToConsole:S.NUh.ALWAYS,reportAsSentryError:!0,forwardToDatadog:!0}),null!==i&&(0,o.sx)("Publish ended",{savepointId:i,hadException:!0}),K(e.getState().library.publishProgress,(null==a?void 0:a.numSkippedDueToError)??{__tag:"UNKNOWN"},X,e.dispatch,j,Z,t.savepointDescription,null==a?void 0:a.encounteredNonS3PresignedPostError),e.dispatch(x()),e.dispatch(E.Ce())},ee=performance.now();try{a=await (0,C.m)(q.key,X?(0,m.t)("design_systems.publish_actions.savepoint_for_unpublish"):(0,m.t)("design_systems.publish_actions.savepoint_for_publish"),t.savepointDescription,e.dispatch,!0)}catch(e){Q("Unable to create savepoint during library publish","create_savepoint",null,{error:e});return}if(!a){Q("Created savepoint is null","create_savepoint",null);return}let et=performance.now()-ee;(0,o.sx)("Publish start: savepoint successfully created",{savepointId:a.id});let er=i()(Object.values(Y.library.local.components).filter(e=>e.isLocal),e=>(0,w.E2)(e)||O.Nv),{orderedUpdates:en}=function(e){let t=[],r=e=>{e.assets.length&&t.push(e)},n=e[O.PW.VARIABLE_SET][O.M$.PUBLISH];r({publishType:O.M$.PUBLISH,assetType:O.PW.VARIABLE_SET,assets:n}),r({publishType:O.M$.UNPUBLISH,assetType:O.PW.VARIABLE_SET,assets:e[O.PW.VARIABLE_SET][O.M$.UNPUBLISH]}),r({publishType:O.M$.UNPUBLISH,assetType:O.PW.VARIABLE,assets:e[O.PW.VARIABLE][O.M$.UNPUBLISH]});let i=e[O.PW.STATE_GROUP][O.M$.PUBLISH],a=e[O.PW.COMPONENT][O.M$.UNPUBLISH].filter(e=>null===(0,w.E2)(e));return r({publishType:O.M$.PUBLISH,assetType:O.PW.STATE_GROUP,assets:i}),r({publishType:O.M$.UNPUBLISH,assetType:O.PW.STATE_GROUP,assets:e[O.PW.STATE_GROUP][O.M$.UNPUBLISH]}),r({publishType:O.M$.PUBLISH,assetType:O.PW.COMPONENT,assets:e[O.PW.COMPONENT][O.M$.PUBLISH].filter(e=>!(0,w.E2)(e))}),r({publishType:O.M$.UNPUBLISH,assetType:O.PW.COMPONENT,assets:a}),r({publishType:O.M$.PUBLISH,assetType:O.PW.STYLE,assets:e[O.PW.STYLE][O.M$.PUBLISH]}),r({publishType:O.M$.UNPUBLISH,assetType:O.PW.STYLE,assets:e[O.PW.STYLE][O.M$.UNPUBLISH]}),(0,l.kc)().dse_module_publish&&(r({publishType:O.M$.PUBLISH,assetType:O.PW.MODULE,assets:e[O.PW.MODULE][O.M$.PUBLISH]}),r({publishType:O.M$.UNPUBLISH,assetType:O.PW.MODULE,assets:e[O.PW.MODULE][O.M$.UNPUBLISH]})),{orderedUpdates:t}}((0,A.j)((0,N.dM)(Y),(0,N.MH)(Y),(0,N.cM)(Y),(0,N.tK)(Y),(0,N.bh)(Y),(0,N.x6)(Y),q,Y.teams,{overridePublishPermissions:!!t.hubFileId,moveRemappings:(null==(r=t.moveInformation)?void 0:r.moveRemappings)??{},itemsToPublish:J,forcePublish:t.forcePublish,unpublishAll:t.unpublishAll})),ei=en.reduce((e,{publishType:t,assetType:r,assets:n})=>{let i="";switch(r){case O.PW.COMPONENT:i="numComponentBuffers";break;case O.PW.STATE_GROUP:i="numStateGroupBuffers";break;case O.PW.STYLE:i="numStyleBuffers";break;case O.PW.VARIABLE_SET:i="numVariableSetBuffers";break;case O.PW.MODULE:i="numTemplateBuffers";case O.PW.VARIABLE:}t===O.M$.UNPUBLISH&&(i=`${i}Unpublished`);let a=i;return a in e&&(e[a]=n.length),e},{numComponentBuffers:0,numStateGroupBuffers:0,numStyleBuffers:0,numVariableSetBuffers:0,numTemplateBuffers:0,numComponentBuffersUnpublished:0,numStateGroupBuffersUnpublished:0,numStyleBuffersUnpublished:0,numVariableSetBuffersUnpublished:0,numTemplateBuffersUnpublished:0});(0,o.sx)("Library publish upload",{fileKey:q.key,publishMode:(0,v.z)((0,N.Io)(Y)),...ei});let ea=en.flatMap(e=>e.publishType===O.M$.PUBLISH?e.assets:[]).reduce((e,t)=>t.type===O.PW.VARIABLE||t.type===O.PW.VARIABLE_SET?e:t.type===O.PW.MODULE&&(0,l.kc)().dse_module_publish?e.concat(t):e.concat(t).concat(er[t.node_id]||[]),[]);try{h=await V(ea,X,Y.library.local.thumbnails,e)}catch(e){Q("Unable to upload thumbnails during library publish","upload_thumbnails",a.id,{error:e});return}let{failedThumbnailNodeIds:eo,s3Paths:el,styleMetaByNodeId:es,uploadDurationMs:ec,encounteredNonS3PresignedPostError:ed}=h,eu=en.flatMap(e=>e.assets).length;if(eo.length===eu){Q("All thumbnails failed to upload"+(ed?" (non-s3 error)":""),"upload_thumbnails",a.id,{numSkippedDueToError:eu,encounteredNonS3PresignedPostError:ed});return}let ep=en.map(({publishType:e,assetType:t,assets:r})=>{let n=r.filter(e=>!eo.includes(e.node_id));return n.length>0?{publishType:e,assetType:t,assets:n}:null}).filter(c.Vq);if((0,l.kc)().first_draft_publish_ux){let e=S.XJn.getLocalDesignSystemKits();e.length>1?(0,u.xi)("first_draft","Attempting to publish a file with multiple kits",{kitNames:e.map(e=>e.name)}):1===e.length&&(H=await (0,I.H)(e[0].pageId,e[0].name,{publishType:T.tf.LIBRARY_PUBLISH,localComponents:(0,N.MH)(Y),localStateGroups:(0,N.dM)(Y),localVariableSets:(0,N.bh)(Y)},t.firstDraftVariablesForTheme))}let em={updates:ep.map(e=>({publishType:e.publishType,assetType:e.assetType,guids:e.assets.map(e=>{let t=(0,P.p$)(e);return t||(console.warn("Asset with null nodeId:",e),(0,u.$D)(p.e.DESIGN_SYSTEMS_EDITOR,Error("Asset with null node ID found during publish"))),t}).filter(c.Vq)})),moveRemappings:(null==(n=t.moveInformation)?void 0:n.moveRemappings)??{},s3ThumbnailBufferPaths:el,styleMetaByNodeId:es,clientProtocolVersion:window.mpGlobal.version,themeMetaData:t.themePublishData??{},...H?{kitMetaData:H}:{}};try{let e=(await L.Z.postUploadPublishParams()).data.meta;g=e.url,R=e.fields}catch(e){Q("Unable to get presigned post url for params","get_presigned_post",a.id,{error:e});return}try{let e=new TextEncoder;F=await (0,d.E)(p.e.DESIGN_SYSTEMS_EDITOR,"publishChanges.params",g,R,e.encode(JSON.stringify(em)),"application/json")}catch(t){let e=t instanceof d.q;Q("Unable to upload publishing params"+(e?" (non-s3 error)":""),"upload_params",a.id,{error:t,encounteredNonS3PresignedPostError:e});return}try{B=(await L.Z.postLibraryPublish({fileKey:q.key,checkpointKey:a.checkpoint_key,paramsPath:F,publishToCommunity:!!t.hubFileId})).data.meta.library_publish_id}catch(e){Q("Unable to publish","generic_error",a.id,{error:e});return}try{!function(e,t,r,n,i,a,o,l){let s=performance.now(),c=t?O.M$.UNPUBLISH:O.M$.PUBLISH;e.dispatch(M({state:O.Qx.UPLOADING,publishType:c,progress:0,libraryPublishId:r,savepoint:n,numSkippedPriorToPublish:i,publishStartMs:G(e.getState().library.publishProgress),commitUpdatesDurationMs:s,clientPreWorkDurationMs:a,createSavePointDurationMs:o})),l({publishType:c,dispatch:e.dispatch,icon:_.zX.SPINNER})}(e,X,B,a,eo.length,ec,et,$)}catch(e){Q("Unable to notify publish start","generic_error",a.id,{error:e});return}});function z(e,t){return Object.values(e).filter(e=>(0,A.h)(e,t)).every(e=>!(0,w.Hb)(e.status))}},145519:(e,t,r)=>{"use strict";r.d(t,{F6:()=>u,Ho:()=>d,mu:()=>p,sm:()=>c,sp:()=>_,wE:()=>m});var n=r(167249),i=r(988022),a=r(852800),o=r(805286),l=r(301922),s=r(980820);let c=(0,n.N)("MULTIPLAYER_EMOJI_UPDATE_EMOJI_WHEEL_POSITION"),d=(0,s.T8)("MULTIPLAYER_EMOJI_CLEAR_STATE",()=>{a.glU.setIsInCursorChat(!1)}),u=(0,s.T8)("MULTIPLAYER_EMOJI_START_CHATTING",(e,t)=>{let r=e.getState();0>[a.NLJ.HAND,a.NLJ.SELECT,a.NLJ.HAND_SELECT].indexOf(r.mirror.appModel.currentTool)&&a.glU.triggerAction("set-tool-default",null),(0,l.q)().then(e=>{var n;e||(a.glU.setIsInCursorChat(!0),(0,i.ds)("Started chatting",null==(n=r.openFile)?void 0:n.key,r,{source:t.source}))})}),p=(0,n.N)("MULTIPLAYER_EMOJI_STOP_REACTING"),m=(0,s.T8)("MULTIPLAYER_EMOJI_START_REACTING",()=>{o.R9.resetReactions()}),_=(0,s.T8)("MULTIPLAYER_EMOJI_TOGGLE_EMOJI_WHEEL",(e,t)=>{var r;let n=e.getState();(0,i.ds)("Toggled emoji wheel",null==(r=n.openFile)?void 0:r.key,n,{wheelType:t.wheelType,...t.source&&{source:t.source}})})},492379:(e,t,r)=>{"use strict";r.d(t,{Hq:()=>x,Jd:()=>O,Kc:()=>M,OT:()=>U,QC:()=>C,Tf:()=>H,UF:()=>L,Xw:()=>k,Y4:()=>F,aJ:()=>w,hi:()=>D,kN:()=>A,lT:()=>N,q4:()=>B,xF:()=>R,ye:()=>V,yo:()=>P});var n=r(776250),i=r(309225),a=r(746746),o=r(27087),l=r(881388),s=r(939863),c=r(392592),d=r(980820),u=r(662275),p=r(99403),m=r(982957),_=r(964258),h=r(99506),g=r(279453),f=r(935757),E=r(657193),y=r(668860),b=r(410436),v=r(679892),I=r(171267),T=r(738269),S=r(936500);let w="team_join_request_submitted",A="permission_request_submitted",C=(0,d.nF)(async(e,t)=>{var r;let i={team_id:t.teamId,level:t.level,message:t.message},a=e.getState().user,c=e.getState().roles.byTeamId,d=a&&c&&c[t.teamId]?null==(r=c[t.teamId][a.id])?void 0:r.level:null,u={level:t.level,team_id:t.teamId,team_type:t.teamOrgAccess,source:t.source,folder_id:t.folderId};t.actionType===A?(0,n.sx)(A,u):(0,n.sx)(w,u),await o.Ay.post("/api/team_role_requests",i).then(({data:r})=>{let n=r.meta;n.status===b.c.APPROVED?e.dispatch((0,_.vr)({teamId:n.team_id,joinedUser:a||void 0})):t.level===y.e6.EDITOR&&d===y.e6.VIEWER?e.dispatch(l.s.flash((0,s.t)("org_actions.you_ve_requested_to_edit_files_in_this_team"))):e.dispatch(l.s.flash((0,s.t)("org_actions.you_ve_requested_to_join_this_team")))}).catch(t=>{e.dispatch(l.s.error((0,s.Jv)(t.message)||(0,s.t)("org_actions.an_error_occurred")))})}),N=(0,d.nF)((e,t)=>{o.Ay.del(`/api/team_role_requests/${t.requestId}`).then(t=>{e.dispatch(l.s.flash((0,s.t)("org_actions.request_withdrawn")))}).catch(t=>{e.dispatch(l.s.error((0,s.Jv)(t.message)||(0,s.t)("org_actions.an_error_occurred")))})}),O=(0,d.nF)((e,t)=>{let r=o.Ay.post(`/api/team_role_requests/${t.requestId}/approve`,{level:`${t.level}`});r.then(({data:t})=>{e.dispatch(l.s.flash((0,s.t)("org_actions.request_approved"))),e.dispatch(S.bE({role:t.meta}))}).catch(t=>{e.dispatch(l.s.error((0,s.Jv)(t)||(0,s.t)("org_actions.an_error_occurred")))});let n={id:`temp-role-${t.email}`,created_at:Date.now(),user_id:t.user.id,user:t.user,resource_type:h.vt.TEAM,resource_id_or_key:t.teamId,level:t.level,pending:!1,updated_at:`${new Date}`};(0,i.WB)().deprecatedOptimisticallyDeleteByView(g.Cb9,{TeamRoleRequest:{[t.requestId]:null}},r),(0,a.f)(r,e.dispatch,S.bE({role:n}))}),L=(0,d.nF)((e,t)=>{o.Ay.post(`/team_role_requests/${t.requestId}/deny`).then(t=>{e.dispatch(l.s.flash((0,s.t)("org_actions.request_denied")))}).catch(t=>{e.dispatch(l.s.error((0,s.Jv)(t.message)||(0,s.t)("org_actions.an_error_occurred")))})}),R=(0,d.MM)("ORGS_OPT_IN_TO_PUBLIC_PLUGINS",(e,{orgId:t},{optimistId:r})=>{o.Ay.put(`/api/orgs/${t}`,{public_plugins_allowed:!0}).then(({data:t})=>{e.dispatch(d.hp.commit(r)),e.dispatch(p.yJ({org:t.meta}))}).catch(()=>{e.dispatch(d.hp.revert(r))})}),P=(0,d.MM)("ORGS_UPDATE",(e,{payload:t,successMessage:r},{optimistId:n})=>{let i=e.getState().currentUserOrgId;o.Ay.put(`/api/orgs/${i}`,t).then(t=>{e.dispatch(d.hp.commit(n)),e.dispatch(p.yJ({org:t.data.meta})),r&&e.dispatch(c.F.enqueue({message:r,type:"orgs.update",error:!1}))}).catch(t=>{e.dispatch(l.s.error((0,s.Jv)(t)||(0,s.t)("org_actions.an_error_occurred"),5e3)),e.dispatch(d.hp.revert(n))})}),k=(0,d.nF)((e,{orgId:t,googleSsoOnly:r})=>{o.Ay.put(`/api/orgs/${t}`,{google_sso_only:r}).then(({data:t})=>{e.dispatch(l.s.flash((0,s.t)("org_actions.updated_authentication_settings"))),e.dispatch(p.yJ({org:t.meta}))}).catch(t=>{e.dispatch(l.s.error((0,s.Jv)(t)||(0,s.t)("org_actions.an_error_occurred"),5e3))})}),D=(0,d.nF)((e,{orgId:t,samlSsoOnly:r})=>{o.Ay.put(`/api/orgs/${t}`,{saml_sso_only:r}).then(t=>{e.dispatch(l.s.flash((0,s.t)("org_actions.updated_authentication_settings"))),e.dispatch(p.yJ({org:t.data.meta}))}).catch(t=>{e.dispatch(l.s.error((0,s.Jv)(t)||(0,s.t)("org_actions.an_error_occurred"),5e3))})}),M=(0,d.nF)((e,{orgId:t,attribute:r})=>{o.Ay.put(`/api/orgs/${t}`,{featured_scim_metadata:r}).then(t=>{e.dispatch(p.yJ({org:t.data.meta}))}).catch(t=>{e.dispatch(l.s.error((0,s.Jv)(t)||(0,s.t)("org_actions.an_error_occurred"),5e3))})});function x(e){let{org:t,dispatch:r}=e,n=async(e,n,i)=>{let a=!1;return await o.Ay.put(`/api/orgs/${t.id}`,{vat_gst_id:e,regional_vat_gst_id:i}).then(()=>{a=!0,r(p.F6({id:t.id,vat_gst_id:e}))}).catch(e=>{n(e.toString())}),a};r((0,u.to)({type:I.YO,data:{org:t,updateVatGstId:n}}))}let F=(0,d.nF)((e,{onFailure:t,onSuccess:r,orgId:n,timeoutDurationInSecs:i})=>{o.Ay.put(`/api/orgs/${n}`,{idle_timeout_duration_in_secs:i}).then(t=>{e.dispatch(l.s.flash((0,s.t)("org_actions.updated_idle_session_timeout"))),e.dispatch(p.yJ({org:t.data.meta})),r()}).catch(r=>{t(),e.dispatch(l.s.error((0,s.Jv)(r)||(0,s.t)("org_actions.an_error_occurred")))})}),U=(0,d.nF)((e,{orgId:t,ipAllowlistEnabled:r,ipAllowlistRanges:n,onSuccess:i})=>o.Ay.put(`/api/orgs/${t}/ip_allowlist_ranges`,{ip_ranges:r?n:void 0,ip_allowlist_enabled:r}).then(n=>{let a={...e.getState().orgById[t].shared_org_license_group_settings,ip_allowlist:r};e.dispatch(p.F6({id:t,shared_org_license_group_settings:a})),e.dispatch(l.s.flash("Updated IP allowlist settings")),i()}).catch(t=>{e.dispatch(l.s.error((0,s.Jv)(t)||(0,s.t)("org_actions.an_error_occurred")))})),B=(0,d.nF)((e,{orgId:t})=>{o.Ay.post(`/api/org/${t}/deletion_request`).then(t=>{e.dispatch(l.s.flash((0,s.t)("orgs_middleware.deletion_request_submitted")))}).catch(t=>{var r;e.dispatch(l.s.error((null==(r=t.data)?void 0:r.message)||(0,s.t)("orgs_middleware.an_error_occurred_while_enqueeing_deletion_request"),5e3)),console.error(t)})}),H=(0,d.nF)((e,t)=>{let r=t.successMessage,n=t.autogenPasswordControl,a=t.settingsId,o=v.Eh.apiAutogenControls({orgId:t.orgId,autogen_password_controls:n});o.then(()=>{r&&e.dispatch(c.F.enqueue({message:r,type:"orgs.update",error:!1}))}).catch(t=>{e.dispatch(l.s.error((0,s.Jv)(t)||(0,s.t)("org_actions.an_error_occurred"),5e3))}),a?(0,i.WB)().optimisticallyUpdate({SharedOrgLicenseGroupSetting:{[a]:{autogenPasswordControls:n}}},o):(0,i.WB)().optimisticallyCreate({SharedOrgLicenseGroupSetting:{[`optimistic-id-${t.orgId}`]:{autogenPasswordControls:n,externalCollaborationControls:!1,publicLinkControlsSetting:null,teamCreationControls:null,publicLinkControlsMaxExpiration:null,resourceType:"Org",resourceId:t.orgId}}},o)}),V=(0,d.nF)((e,t)=>{o.Ay.post(`/api/org/${t.orgId}/delete_org_users`,{org_user_ids:t.orgUserIds}).then(t=>{e.dispatch(l.s.flash((0,s.t)("orgs_middleware.user_data_deleted")))}).catch(t=>{var r;e.dispatch(l.s.error((null==(r=t.data)?void 0:r.message)||(0,s.t)("orgs_middleware.an_error_occurred_while_enqueeing_deletion_request"),5e3)),console.error(t)})});(0,d.nF)((e,t)=>{(0,E.yP)(e.getState(),t.selectedView)?((0,f.nt)(t.orgId),(0,n.sx)("file-browser-hydrate",{location:"selectViewAndLoadItsResources"}),(0,f._X)("orgSelectViewAndLoadItsResources").then(r=>{e.dispatch(m.cL()),e.dispatch(T.Qv(r.data.meta)),e.dispatch(T.$T(t.selectedView))})):(t.actionsIfNotHydrating&&t.actionsIfNotHydrating.forEach(e.dispatch),e.dispatch(T.$T(t.selectedView)))})},783162:(e,t,r)=>{"use strict";r.d(t,{Fb:()=>u,MB:()=>d,hZ:()=>_,wc:()=>p,yH:()=>m});var n=r(167249),i=r(27087),a=r(881388),o=r(939863),l=r(392592),s=r(980820),c=r(662275);(0,s.nF)((e,t)=>{let{idpUser:r}=t,n=e.getState();i.Ay.put(`/api/org_invites/${r.id}`,{org_id:n.currentUserOrgId,account_type:r.account_type}).then(({data:t})=>{e.dispatch(_([t.meta])),e.dispatch(a.s.flash((0,o.t)("org_invite.org_invite_update_success",{email:r.email})))}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||(0,o.t)("org_invite.org_invite_update_error");e.dispatch(a.s.flash(n))})});let d=(0,s.nF)((e,t)=>{let r=e.getState(),{emails:n,accountType:a,isResentInvite:s,licenseGroupId:d,workspaceId:u}=t;e.dispatch(p({creating:!0})),i.Ay.post("/api/org_invites",{org_id:r.currentUserOrgId,emails:n,account_type:a,license_group_id:d,workspace_id:u}).then(({data:t})=>{let r=t.meta;e.dispatch(_(r)),e.dispatch(p({creating:!1})),e.dispatch(c.Lo());let i=(0,o.t)("org_invite.invite_resent");if(!s){let e=(0,o.t)("org_invite.new_members_message",{numInvites:r.length}),t=n.length-r.length,a=(0,o.t)("org_invite.existing_members_message",{numExisting:t});r.length>0?(i=e,t>0&&(i=[i,a].join(" "))):i=a}e.dispatch(l.F.enqueue({message:i}))}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||(0,o.t)("org_invite.org_invite_creation_error");e.dispatch(p({creating:!1})),e.dispatch(l.F.enqueue({message:n,error:!0}))})}),u=(0,s.nF)((e,t)=>{let{idpUser:r}=t,n=e.getState();i.Ay.del(`/api/org_invites/${r.id}`,{org_id:n.currentUserOrgId}).then(t=>{e.dispatch(m({org_invite_id:r.id})),e.dispatch(a.s.flash((0,o.t)("org_invite.org_invite_deletion_success",{email:r.email})))}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||(0,o.t)("org_invite.org_invite_deletion_error");e.dispatch(a.s.flash(n))})}),p=(0,n.N)("IS_CREATING_ORG_INVITES"),m=(0,n.N)("DELETE_ORG_INVITE"),_=(0,n.N)("SET_ORG_INVITES")},377090:(e,t,r)=>{"use strict";r.d(t,{GR:()=>L,HD:()=>w,Jt:()=>A,Lx:()=>C,MT:()=>N,ZT:()=>T,Zi:()=>I,c5:()=>b,hZ:()=>O,lH:()=>R,xM:()=>v});var n=r(411855),i=r(188507),a=r(88823),o=r.n(a),l=r(368832),s=r(167249),c=r(27087),d=r(881388),u=r(939863),p=r(980820),m=r(902957),_=r(964258),h=r(937294),g=r(320741),f=r(679892),E=r(56342),y=r(182976);(0,p.MM)("CHANGE_TEAM_ORG_ACCESS",async(e,t,{optimistId:r})=>{let n=t.team.id;try{let i=(await c.Ay.put(`/api/teams/${n}`,{org_access:t.orgAccess})).data.meta;e.dispatch(p.hp.commit(r)),e.dispatch(O({teams:[i]}))}catch(t){e.dispatch(p.hp.revert(r)),e.dispatch(d.s.error((0,u.Jv)(t,(0,u.t)("org_team_actions.an_error_occurred_while_changing_team_s_org_access"))))}});let b=(0,p.MM)("UNASSIGN_WORKSPACE_TO_TEAM",async(e,t,{optimistId:r})=>{let n={};if(t.teams.forEach(e=>{let t=e.workspace_id;t&&(t in n||(n[t]=[]),n[t].push(e.id))}),Object.keys(n).length)try{let t=Object.keys(n).map(e=>{let t=n[e];return c.Ay.del(`/api/workspace/${e}/teams`,{team_ids:t})}),i=await Promise.all(t),a=[].concat(...i.map(e=>e.data.meta));e.dispatch(p.hp.commit(r)),e.dispatch(O({teams:a})),e.dispatch(d.s.flash((0,u.t)("org_team_actions.teams_were_unassigned",{numTeams:a.length})))}catch(t){e.dispatch(p.hp.revert(r)),e.dispatch(d.s.error((0,u.Jv)(t,(0,u.t)("org_team_actions.an_error_occurred_while_unassigning_team_s_from_a_workspace"))))}}),v=(0,p.MM)("ASSIGN_WORKSPACE_TO_TEAM",async(e,t,{optimistId:r})=>{let n=t.teams.map(e=>e.id),i=t.workspaceId;try{let a=(await c.Ay.post(`/api/workspace/${i}/teams`,{team_ids:n})).data.meta;e.dispatch(p.hp.commit(r)),e.dispatch(O({teams:a})),e.dispatch(d.s.flash((0,u.t)("org_team_actions.teams_were_assigned_to_workspace",{numTeams:a.length,workspaceName:t.workspaceName})))}catch(t){e.dispatch(p.hp.revert(r)),e.dispatch(d.s.error((0,u.Jv)(t,(0,u.t)("org_team_actions.an_error_occurred_while_assigning_team_s_to_a_workspace"))))}}),I=(0,p.MM)("GET_TEAMS_IN_WORKSPACE",async(e,t,{optimistId:r})=>{let n=t.workspaceId;e.dispatch(C("loading"));try{let t=(await E.u.getTeams({includeSecretTeams:!0,workspaceId:n})).data.meta;e.dispatch(p.hp.commit(r)),e.dispatch(O({teams:t})),e.dispatch(C("loaded"))}catch(t){e.dispatch(p.hp.revert(r)),e.dispatch(d.s.error((0,u.Jv)(t,(0,u.t)("org_team_actions.an_error_occurred_while_fetching_teams")))),e.dispatch(C("errors"))}}),T=(0,p.MM)("ORG_BATCH_JOIN_TEAMS",(e,t,{optimistId:r})=>{let n=e.getState().currentUserOrgId,i=e.getState().user,a=t.teamIds,o={team_ids:a};t.level&&(o.level=t.level);let l=(0,h.n1)(a);e.dispatch(y.Cx({key:l})),c.Ay.post(`/api/orgs/${n}/teams/join`,o).then(()=>{e.dispatch(p.hp.commit(r)),e.dispatch((0,_.UM)({teamIds:a,joinedUser:i||void 0,level:t.level}))}).catch(t=>{e.dispatch(p.hp.revert(r)),e.dispatch(d.s.error((0,u.Jv)(t,(0,u.t)("org_team_actions.an_error_occurred_while_joining_teams")))),e.dispatch(y.of({key:l}))})}),S=(0,p.MM)("ORG_JOIN_TEAMS",(e,t,{optimistId:r})=>{let n=e.getState().currentUserOrgId,i=e.getState().user,a=t.teamId,o={team_ids:[a]};t.level&&(o.level=t.level);let l=(0,h.p9)(a);e.dispatch(y.Cx({key:l})),c.Ay.post(`/api/orgs/${n}/teams/join`,o).then(()=>{e.dispatch(p.hp.commit(r)),e.dispatch((0,_.vr)({teamId:a,joinedUser:i||void 0,level:t.level}))}).catch(t=>{e.dispatch(p.hp.revert(r)),e.dispatch(d.s.error((0,u.Jv)(t,(0,u.t)("org_team_actions.an_error_occurred_while_joining")))),e.dispatch(y.of({key:l}))})}),w=(0,p.T8)("ORG_FETCH_TEAM",(e,t,{loadingKey:r})=>{let n=e.getState().currentUserOrgId,{teamId:i,disableFlashError:a}=t,o=f.Eh.getTeam({orgId:n,teamId:i});(0,g.N)(o,e,r),o.then(t=>{let r=t.data.meta;e.dispatch(m.yJ({team:r,userInitiated:!1}))}).catch(t=>{a||e.dispatch(d.s.error((0,u.Jv)(t,(0,u.t)("org_team_actions.an_error_occurred_while_trying_to_fetch_this_team"))))})},({teamId:e})=>`ORG_FETCH_TEAM_${e}`),A=(0,p.T8)("ORG_FETCH_DISCOVERABLE_TEAMS",(e,t)=>{let r=e.getState().currentUserOrgId,{includeProjectCount:n,includeMemberCount:i,includeTopMembers:a,includeSecretTeams:o}=t||{};f.Eh.getTeams({orgId:r,includeMemberCount:i,includeProjectCount:n,includeTopMembers:a,includeSecretTeams:o}).then(t=>{let r=t.data.meta;e.dispatch(O({teams:r}))}).catch(t=>{e.dispatch(d.s.error((0,u.Jv)(t,(0,u.t)("org_team_actions.an_error_occurred_while_trying_to_fetch_teams_within_the_organization"))))})}),C=(0,s.N)("SET_ORG_TEAMS_STATUS"),N=(0,s.N)("RESET_ORG_TEAMS"),O=(0,s.N)("ORGS_SET_DISCOVERABLE_TEAMS");function L(e,t,r){return o()(()=>e(S({teamId:t,level:r})),500,{leading:!0,trailing:!1})}function R(e,t,r){let a=(0,i.wA)(),o=(0,l.A)(()=>{a(S({teamId:e,level:t})),r&&r(e)},500,{leading:!0,trailing:!1});return(0,n.useCallback)(o,[o])}},193360:(e,t,r)=>{"use strict";r.d(t,{$V:()=>E,AW:()=>y,I1:()=>w,IJ:()=>v,Pg:()=>T,cN:()=>I,hZ:()=>g,lk:()=>S,uo:()=>b,yJ:()=>f});var n=r(167249),i=r(966712),a=r(27087),o=r(881388),l=r(939863),s=r(123026),c=r(392592),d=r(980820),u=r(750293),p=r(336599),m=r(320741),_=r(379791),h=r(679892);let g=s.setOrgUsers,f=(0,d.MM)("ORG_USER_PUT",async(e,t,{optimistId:r})=>{var n;if(t.userInitiated)try{let n=await _.G.updateOrgUser({id:t.orgUser.id,changes:{description:t.orgUser.description}});e.dispatch(d.hp.commit(r)),e.dispatch(f({orgUser:n.data.meta,userInitiated:!1}))}catch(t){e.dispatch(d.hp.revert(r)),e.dispatch(o.s.error((null==(n=t.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred")))}});(0,d.MM)("ORG_USER_UPDATE_ONBOARDING",async(e,t,{optimistId:r})=>{var n;try{let n={...!1===t.showUserOnboarding&&{show_figjam_user_onboarding:!1},...t.shownPreLaunchAdminOnboarding&&{has_shown_figjam_admin_onboarding:!0},...t.shownPostLaunchAdminOnboarding&&{has_shown_figjam_admin_launch_onboarding:!0}},i=await _.G.updateOrgUser({id:t.orgUserId,changes:n});e.dispatch(d.hp.commit(r)),e.dispatch(f({orgUser:i.data.meta,userInitiated:!1}))}catch(t){e.dispatch(d.hp.revert(r)),e.dispatch(o.s.error((null==(n=t.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred_closing_onboarding")))}});let E=(0,d.MM)("ORG_USER_REQUEST_ACCOUNT_TYPE",async(e,t,{optimistId:r})=>{var n,s;try{(0,i.kc)().edit_action_vr?await _.G.requestOrgAccountTypeRequest({org_id:t.orgId,entry_point:t.entryPoint,message:t.message,admin_ids:t.adminIds,editor_type:t.licenseType,file_key:t.fileKey}):await a.Ay.put(`/api/org_account_type_request/${t.orgUserId}`,{entry_point:t.entryPoint,message:t.message,admin_ids:t.adminIds,editor_type:t.licenseType,file_key:t.fileKey}),e.dispatch(d.hp.commit(r));let n=t.entryPoint===u.PE.CreateFileProjectView?(0,l.t)("org_user_actions.user_upgrade_request_submitted"):(0,l.t)("org_user_actions.upgrade_request_sent");e.dispatch(c.F.enqueue({message:n,type:"upgrade-request-sent"}))}catch(i){console.error(i),e.dispatch(d.hp.revert(r)),e.dispatch(o.s.error((null==(n=i.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred_requesting_account_type"))),null==(s=t.onError)||s.call(t)}}),y=(0,d.MM)("ORG_USER_LEAVE_ORG",async(e,t,{optimistId:r})=>{var n;try{await a.Ay.del(`/api/org_user/${t.orgId}`),e.dispatch(d.hp.commit(r)),e.dispatch(c.F.enqueue({type:"org_guest_leave",message:(0,l.t)("org_user_actions.you_successfully_left_organization",{orgName:t.orgName})}))}catch(i){console.error(i),e.dispatch(d.hp.revert(r)),e.dispatch(o.s.error((null==(n=i.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred_leaving_organization",{orgName:t.orgName})))}}),b=(0,d.MM)("ORG_USER_BATCH_UPDATE_ORG_USERS",async(e,t,{optimistId:r})=>{var n;let i,a;let s=e.getState();if(t.lastUpdateTimestampOverride)i=t.lastUpdateTimestampOverride,a=t.lastUpdateTimestampOverride;else{let e=Object.values(s.orgUsersByOrgId.orgUsers[t.orgId]).filter(e=>t.params.org_user_ids.includes(e.id));if(0===e.length)return;if(a=new Date(Math.max(...e.map(e=>+new Date(e.updated_at)))).toISOString(),void 0!==t.params.license_group_id){let t=e.map(e=>{var t;return null==(t=e.license_group_member)?void 0:t.updated_at}).filter(Boolean);i=t.length>0?new Date(Math.max(...t.map(e=>+new Date(e)))).toISOString():null}}try{let n=(await _.G.updateOrgUsers({orgId:t.orgId,...t.params,latest_ou_update:a,latest_lg_member_update:i,showing_billing_groups:!0})).data.meta;e.dispatch(d.hp.commit(r)),e.dispatch(g({orgUsers:n,orgId:t.orgId})),t.successCallback&&t.successCallback()}catch(t){console.error("Batch Update Failed",t),e.dispatch(d.hp.revert(r)),e.dispatch(o.s.error((null==(n=t.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred_updating_org_users")))}}),v=(0,d.T8)("ORG_USER_BATCH_DELETE_ORG_USERS",async(e,t)=>{var r;if(t.userInitiated)try{await a.Ay.del(`/api/orgs/${t.orgId}/org_users`,t.params);let r=t.params.org_user_ids.length,n=(0,l.t)("org_user_actions.user_has_been_removed_from_organization",{deletedOrgUserCount:r});e.dispatch(o.s.flash(n))}catch(t){e.dispatch(o.s.error((null==(r=t.data)?void 0:r.message)||(0,l.t)("org_user_actions.an_error_occurred")));return}}),I=({orgId:e})=>`ORG_USER_GET_ADMINS_${e}`,T=(0,d.T8)("ORG_USER_GET_ADMINS",async(e,{orgId:t},{loadingKey:r})=>{let n=e.getState();if(!p.Sc(n.loadingState,r))return;let i=h.Eh.getAdmins({includeLicenseAdmins:!0,orgId:t});(0,m.N)(i,e,r);try{let r=await i;e.dispatch(g({orgUsers:r.data.meta,orgId:t}))}catch(t){e.dispatch(o.s.error(t.message||(0,l.t)("org_user_actions.an_error_occurred_fetching_org_admins")))}},I),S=(0,n.N)("LOAD_ORG_DRAFTS_OWNERS"),w=(0,d.T8)("ORG_USER_GET_BY_USER_ID",async(e,t,{loadingKey:r})=>{let n=h.Eh.getUser({orgId:t.orgId,userId:t.userId});(0,m.N)(n,e,r);try{let r=[(await n).data.meta];return e.dispatch(g({orgUsers:r,orgId:t.orgId})),r.find(e=>e.user_id===t.userId)||null}catch(t){return console.error(t),e.dispatch(o.s.error(t.message||(0,l.t)("org_user_actions.an_error_occurred_fetching_org_users"))),null}},e=>`ORG_USER_GET_BY_USER_ID_${e.orgId}_${e.userId}`)},995852:(e,t,r)=>{"use strict";r.d(t,{$h:()=>_,Ay:()=>u,Az:()=>S,Bq:()=>N,Ef:()=>h,I2:()=>v,Je:()=>I,Lj:()=>p,Lo:()=>A,M2:()=>T,MN:()=>s,MV:()=>m,Nj:()=>g,Qg:()=>E,Ts:()=>C,Vm:()=>o,WG:()=>c,WX:()=>O,Wc:()=>f,XF:()=>y,eK:()=>l,i:()=>d,js:()=>w,yy:()=>b});var n=r(167249),i=r(738269),a=r(622139);let o=(0,r(980820).nF)((e,{teamId:t,showBreadcrumbs:r,onCloseOrComplete:n})=>{e.dispatch(i.$T({view:"eduReview",teamId:t,showBreadcrumbs:r,onCloseOrComplete:n})),e.dispatch(A({billingPeriod:a.tY.STUDENT}))}),l=(0,n.N)("PAYMENT_RESTORE_SAVED_CART"),s=(0,n.N)("PAYMENT_SET_CURRENCY"),c=(0,n.N)("PAYMENT_SET_TOKEN"),d=(0,n.N)("PAYMENT_SET_TAXES"),u=(0,n.N)("PAYMENT_SET_PROMO"),p=(0,n.N)("PAYMENT_SET_SUBMIT_PUT_ANNUAL_QUANTITY_PENDING"),m=(0,n.N)("PAYMENT_PUT_ANNUAL_QUANTITY"),_=(0,n.N)("PAYMENT_SET_VAT_GST_ID"),h=(0,n.N)("PAYMENT_SET_REGIONAL_VAT_GST_ID"),g=(0,n.N)("PAYMENT_MAKE_STUDENT_TEAM"),f=(0,n.N)("PAYMENT_DOWNGRADE"),E=(0,n.N)("PAYMENT_SHOW_ERROR"),y=(0,n.N)("PAYMENT_SUBMIT_ADD_ANNUAL_CONFIRMATION"),b=(0,n.N)("PAYMENT_SET_COMPANY_DETAILS"),v=(0,n.N)("PAYMENT_SET_SUBMIT_PENDING"),I=(0,n.N)("PAYMENT_SET_EDITOR_STATUS_CHANGES"),T=(0,n.N)("PAYMENT_SET_NUM_FIGMA_EMAIL_TEAM_USERS"),S=(0,n.N)("PAYMENT_SET_NUM_WHITEBOARD_EDITORS"),w=(0,n.N)("PAYMENT_SET_NUM_EDITORS"),A=(0,n.N)("PAYMENT_SET_BILLING_PERIOD"),C=(0,n.N)("PAYMENT_INIT"),N=(0,n.N)("PAYMENT_START_ORG_UPGRADE_FLOW"),O=(0,n.N)("PAYMENT_START_PRO_UPGRADE_FLOW")},986270:(e,t,r)=>{"use strict";r.d(t,{F9:()=>I,HQ:()=>T,Hx:()=>O,KA:()=>f,Kq:()=>x,Ks:()=>w,RH:()=>D,TN:()=>B,Vg:()=>P,Vu:()=>A,aF:()=>S,ay:()=>y,cu:()=>L,f0:()=>R,fR:()=>U,gU:()=>k,gr:()=>v,lD:()=>M,nM:()=>C,pj:()=>N,v8:()=>b,vZ:()=>E});var n=r(167249),i=r(157663),a=r(27087),o=r(939863),l=r(667231),s=r(980820),c=r(941381),d=r(233675),u=r(697551),p=r(72274),m=r(215822),_=r(331626),h=r(555328),g=r(809073);let f=(0,s.T8)("SET_RECENT_WHITEBOARD_TOOLS",(e,t)=>{}),E=(0,s.T8)("SYNC_RECENT_WHITEBOARD_TOOLS",(e,t)=>{let r=(0,_.gJ)(t.storeInRecentsKey,g.dB.WHITEBOARD_TOOL);e.dispatch(f({storeInRecentsKey:t.storeInRecentsKey,recentWhiteboardTools:r}))}),y=(0,s.T8)("ADD_WHITEBOARD_TOOL_TO_RECENTS",(e,t)=>{}),b=(0,s.T8)("SET_RECENT_FACE_STAMPS",(e,t)=>{}),v=(0,s.T8)("SYNC_RECENT_FACE_STAMPS",(e,t)=>{let r=(0,_.gJ)(t.storeInRecentsKey,g.dB.FACE_STAMP);e.dispatch(b({storeInRecentsKey:t.storeInRecentsKey,recentFaceStamps:r}))}),I=(0,s.T8)("ADD_FACE_STAMP_TO_RECENTS",(e,t)=>{}),T=(0,s.T8)("SYNC_RECENT_PLUGINS",(e,t)=>{let r=(0,_.gJ)(t.storeInRecentsKey,h.bD.PLUGIN);e.dispatch(w({storeInRecentsKey:t.storeInRecentsKey,recentResources:r}));let n=r.map(e=>e.id);e.dispatch(P({resourceType:h.bD.PLUGIN,resourceIds:n}))}),S=(0,s.T8)("SYNC_RECENT_WIDGETS",(e,t)=>{let r=(0,_.gJ)(t.storeInRecentsKey,h.bD.WIDGET);e.dispatch(A({storeInRecentsKey:t.storeInRecentsKey,recentResources:r}));let n=r.map(e=>e.id);e.dispatch(P({resourceType:h.bD.WIDGET,resourceIds:n}))}),w=(0,s.T8)("SET_RECENT_PLUGINS",async(e,t)=>{}),A=(0,s.T8)("SET_RECENT_WIDGETS",async(e,t)=>{}),C=l.nM,N=l.pj,O=l.Hx,L=(0,s.T8)("ADD_FETCHED_PLUGIN_VERSION",async(e,t)=>{}),R=(0,s.T8)("ADD_FETCHED_WIDGET_VERSION",async(e,t)=>{}),P=(0,s.nF)((e,t)=>{B(e,t)}),k=(0,s.T8)("ADD_PLUGIN_TO_RECENTS",(e,t)=>{e.dispatch(P({resourceType:h.bD.PLUGIN,resourceIds:[t.id]})),t.skipPluginRun||F(t.id,t.currentUserId,e.getState().currentUserOrgId,e.getState().publishedPlugins[t.id],e.getState().recentlyUsed.plugins[t.storeInRecentsKey],!!t.isDevelopment,e.dispatch)}),D=(0,s.T8)("ADD_WIDGETS_TO_RECENTS",(e,t)=>{e.dispatch(P({resourceType:h.bD.WIDGET,resourceIds:[t.id]})),F(t.id,t.currentUserId,e.getState().currentUserOrgId,e.getState().publishedWidgets[t.id],e.getState().recentlyUsed.widgets[t.storeInRecentsKey],!!t.isDevelopment,e.dispatch)}),M=(0,n.N)("REMOVE_RECENTLY_USED_PLUGIN"),x=(0,n.N)("REMOVE_RECENTLY_USED_WIDGET"),F=(e,t,r,n,l,s,c)=>{var u;if(n&&n.current_user_has_run||!t||(0,p.Vi)(e)||s)return;let m=l.find(t=>t.id===e);(null==(u=null==m?void 0:m.run_by_user_ids)?void 0:u.includes(t))||a.Ay.post(`/api/plugin_runs/${e}`,{org_id:r}).then(({data:t})=>{c(d.R({resourceId:e,userFirstRanAt:t.meta.created_at}))}).catch(e=>{i.k.error((0,o.Jv)(e))})},U=(e,t)=>r=>{var n;let i=(0,m.uF)(e),a=((null==(n=i.manifest)?void 0:n.editorType)??[]).map(e=>"figma"===e?g.$A.Design:g.$A.FigJam),o=(0,h.xQ)(e)?D:k;a.forEach(n=>r(o({storeInRecentsKey:n,id:e.id,version:i.id,currentUserId:t})))};function B(e,t){let r={},n=({id:n,version:i,status:a})=>{let o=t.resourceType===h.bD.PLUGIN?L:R;return i&&(r[n]=i),e.dispatch(o({id:n,version:i,status:a}))},i=[];if(t.resourceIds.forEach(a=>{let o=t.resourceType===h.bD.PLUGIN?e.getState().installedPluginVersions.plugins[a]:void 0;if(o){n({id:a,version:o,status:g.Lx.FETCHED});return}let l=t.resourceType===h.bD.PLUGIN?e.getState().recentlyUsed.plugins.fetchedResources[a]:e.getState().recentlyUsed.widgets.fetchedResources[a];l&&l.status!==g.Lx.NOT_FETCHED&&l.version?l.version&&(r[a]=l.version):i.push(a)}),!i.length)return Promise.resolve(r);i.forEach(e=>{n({id:e,status:g.Lx.FETCHING})});let o={ids:i,org_id:e.getState().currentUserOrgId,include_pending:!0};return a.Ay.post(`/api/${(0,u.n)(t.resourceType)}/batch`,o).then(({data:t})=>(e.dispatch(c.Qi({publishedPlugins:t.meta,src:"fetchExtensionVersions",overrideInstallStatus:!0})),i.forEach(e=>{let r;let i=t.meta.find(t=>t.id===e);i&&(r=(0,_.ul)(i)),n({id:e,version:r,status:g.Lx.FETCHED})}),r)).catch(()=>(i.forEach(e=>{n({id:e,status:g.Lx.NOT_FETCHED})}),{}))}},750293:(e,t,r)=>{"use strict";r.d(t,{PE:()=>a,QH:()=>l,Wc:()=>i,i$:()=>o,tc:()=>n});var n=(e=>(e.EDIT_FILE="edit_file_button",e.DOWNGRADE_EMAIL="downgrade_email",e.SHARE_DRAFTS="share_drafts",e))(n||{}),i=(e=>(e.CREATE_FILE_PROJECT_VIEW="create-file-project-view",e.DEPRECATED_VR_SHARE_MODAL="vr_share_modal",e))(i||{}),a=(e=>(e.Teams="teams",e.CreateBranch="create-branch",e.Settings="settings",e.CreateFile="create-file",e.CreateFileProjectView="create-file-project-view",e.DEPRECATED_RequestToEditNudge="request-to-edit-nudge",e.DEPRECATED_Plugin="plugin",e.DEPRECATED_RequestToEdit="request-to-edit",e.DEPRECATED_Drafts="drafts",e.DEPRECATED_Recents="recents",e))(a||{}),o=(e=>(e.DevMode="dev_mode",e.TopBanner="dev_mode_top_banner",e.BetaOver="dev_mode_beta_over",e.Inspection="dev_mode_inspection",e.Navigation="dev_mode_navigation",e.TrackChanges="dev_mode_track_changes",e.QuickHandoff="dev_mode_quick_handoff",e.Plugin="dev_mode_plugin",e.SuperModal="dev_mode_super_modal",e.DowngradeEmail="dev_mode_downgrade_email",e.BlockingModal="dev_mode_blocking_modal",e))(o||{});let l=["dev_mode_inspection","dev_mode_track_changes","dev_mode_quick_handoff","dev_mode_plugin","dev_mode_super_modal","dev_mode_blocking_modal"]},650769:(e,t,r)=>{"use strict";r.d(t,{Gv:()=>_,MV:()=>g,QA:()=>E,Xk:()=>d,cq:()=>u,hh:()=>m,lX:()=>h,q0:()=>p,zT:()=>f});var n=r(167249),i=r(686759),a=r(286640),o=r(852800),l=r(707465),s=r(442617),c=r(980820);let d="seen_try_onboarding",u=(0,c.T8)("SET_WORKSHOP_USER_NAME",(e,t)=>{let r=t.name.trim().substring(0,170),n=e.getState(),i="fullscreen"===n.selectedView.view&&n.selectedView.workshopModeInfo;i&&(E(r),(0,s.Vv)(i.id,r))}),p=(0,n.N)("SET_STARTER_KIT_HAS_BEEN_HIDDEN"),m=(0,n.N)("SET_FIGJAM_EDITOR_ONBOARDING_FINISHED_OR_DISMISSED"),_=(0,c.T8)("SET_FIGJAM_EDITOR_ONBOARDING_STARTED",()=>{(0,a.DN)().set(d,!0)}),h=(0,n.N)("SET_WORKSHOP_MODE_UNTIL"),g=(0,n.N)("CLEAR_TRY_PLUGIN"),f=(0,c.nF)((e,t)=>{let r=e.getState();return(0,i.Dk)((0,l.xS)(r,t))});function E(e){o.h3O.setName(e)}},906899:(e,t,r)=>{"use strict";r.d(t,{FL:()=>_,YG:()=>p,Zs:()=>m,nH:()=>g,rk:()=>h,sw:()=>u});var n=r(167249),i=r(966712),a=r(374626),o=r(572174),l=r(453681),s=r(754168),c=r(980820),d=r(944682);let u=(0,c.T8)("FULLSCREEN_HIDE_STYLE_PREVIEW",e=>{}),p=(0,c.nF)(e=>{let t=e.getState().stylePreviewShown;t.isShown&&!t.isCreating&&e.dispatch(u())}),m=(0,c.nF)((e,t)=>{let{rowTop:r,rowLeft:n,styleType:i,inheritStyleKeyField:a,styleNameInputPrefix:o,nodeId:l}=t;e.dispatch(_({rowTop:r,rowLeft:n,styleType:i,inheritStyleKeyField:a,styleNameInputPrefix:o,nodeId:l}))}),_=(0,n.N)("SHOW_CREATE_STYLE_PREVIEW"),h=(0,c.T8)("FULLSCREEN_SHOW_STYLE_PREVIEW",(e,t)=>{let r=t.style.file_key,n=a.zl.get(l.qp);((0,i.kc)().ds_use_lib_keys?(0,o.Vq)(n[t.style.library_key]):null!=e.getState().fileByKey[r])||s.S.getFiles({fileKey:r}).then(t=>e.dispatch(d.yJ({file:t.data.meta})))}),g=(0,n.N)("STYLE_FILE_PUT_STYLE_SET");(0,n.N)("STYLE_FILE_GET_STYLE_SET")},902957:(e,t,r)=>{"use strict";r.d(t,{$V:()=>y,$w:()=>N,AJ:()=>m,I9:()=>h,Jt:()=>k,TI:()=>I,WC:()=>T,_E:()=>_,aB:()=>A,bE:()=>P,bQ:()=>C,ii:()=>b,m$:()=>E,mw:()=>v,n9:()=>w,r1:()=>S,tk:()=>f,ub:()=>g,uo:()=>O,yH:()=>R,yJ:()=>L});var n=r(167249),i=r(737947),a=r(27087),o=r(881388),l=r(939863),s=r(123026),c=r(392592),d=r(980820),u=r(320741),p=r(845213);let m=(0,d.MM)("TEAM_REMOVE_FROM_TEAM",(e,{teamId:t,userId:r,userInitiated:n},{optimistId:i})=>{n&&a.Ay.del(`/api/teams/${t}/users/${r}`).then(()=>{e.dispatch(d.hp.commit(i))}).catch(t=>{e.dispatch(d.hp.revert(i));let r=(0,l.t)("file_browser.file_browser_actions.error_on_team_member_removal");e.dispatch(o.s.error(r)),console.error(t)})}),_=(0,d.MM)("BATCH_DEL_TEAM_MEMBERS",(e,{teamId:t,userIds:r},{optimistId:n})=>{a.Ay.del(`/api/teams/${t}/users`,{user_ids:r}).then(()=>{e.dispatch(d.hp.commit(n))}).catch(t=>{e.dispatch(d.hp.revert(n))})}),h=(0,d.nF)(async(e,t)=>{let{teamId:r}=t;await a.Ay.put(`/api/teams/${r}/restore`).then(()=>{let t=`/files/team/${r}`;i.Ay.redirect(t),e.dispatch(o.s.flash((0,l.t)("file_browser.file_browser_actions.restore_team_success")))}).catch(t=>{e.dispatch(o.s.error((0,l.t)("file_browser.file_browser_actions.restore_team_error",{errorMsg:t.data.message||(0,l.t)("file_browser.file_browser_actions.unknown_error")})))})}),g=(0,d.nF)(async(e,t)=>{await a.Ay.put(`/api/teams/${t.teamId}`,{description:t.description}).then(()=>{e.dispatch(L({team:{id:t.teamId,description:t.description},userInitiated:!0}))}).catch(()=>{e.dispatch(o.s.error((0,l.t)("file_browser.file_browser_actions.update_description_error")))})}),f=(0,d.nF)(async(e,t)=>{let r=t.figma_provided_libraries_disabled;await p.$.updatePresetsDisabled({teamId:t.teamId,presetsDisabled:r}).then(()=>{e.dispatch(c.F.enqueue({message:r?(0,l.t)("settings_tab.ui_kits_disabled"):(0,l.t)("settings_tab.ui_kits_enabled"),type:"team.ui_kit_toggle",error:!1})),e.dispatch(L({team:{id:t.teamId,figma_provided_libraries_disabled:r},userInitiated:!0}))}).catch(()=>{e.dispatch(o.s.error((0,l.t)("file_browser.error_try_again")))})});(0,d.T8)("TEAM_GET_CMTY_PUBLISH_AS_USER_ENABLED",(e,{teamId:t},{loadingKey:r})=>{let n=p.$.getTeam({teamId:t});(0,u.N)(n,e,r),n.then(({data:t})=>{e.dispatch(L({team:t.meta,userInitiated:!1}))}).catch(()=>{e.dispatch(o.s.error((0,l.t)("file_browser.error_try_again")))})});let E=(0,d.T8)("TEAM_FETCH_MEMBERS_LIST",(e,{teamId:t,userInitiated:r=!0},{loadingKey:n})=>{let i=p.$.getMembers({teamId:t});r&&(0,u.N)(i,e,n),i.then(({data:r})=>{let n={};r.meta.forEach(e=>{n[e.email]=e}),e.dispatch(y({members:n,teamId:t}))},t=>{console.error(t),e.dispatch(o.s.error((0,l.t)("file_browser.file_browser_actions.team_member_fetch_error")))})},e=>`TEAM_FETCH_MEMBERS_LIST::teamId::${e.teamId}`),y=(0,n.N)("TEAM_SET_MEMBERS"),b=(0,n.N)("TEAM_BATCH_JOIN"),v=(0,n.N)("TEAM_JOIN"),I=(0,n.N)("TEAM_STOP_RENAME"),T=(0,n.N)("TEAM_BEGIN_RENAME"),S=(0,n.N)("TEAM_CREATION_SET_LOADING"),w=(0,n.N)("TEAM_CHANGE_DEFAULT_PERMISSION"),A=(0,n.N)("TEAM_CHANGE_SHARING_SETTINGS"),C=(0,n.N)("TEAM_CHANGE_ORG_ACCESS");(0,n.N)("TEAM_LOADED");let N=(0,n.N)("TEAM_RENAME"),O=(0,n.N)("TEAM_BATCH_PUT"),L=s.putTeam,R=s.delTeam,P=(0,n.N)("TEAM_POST"),k=(0,n.N)("TEAM_GET")},446297:(e,t,r)=>{"use strict";r.d(t,{NY:()=>_,Pg:()=>f,Pp:()=>c,UJ:()=>I,XS:()=>m,bY:()=>v,dS:()=>u,o1:()=>h,pF:()=>g,pP:()=>y,u1:()=>p,ve:()=>E,yX:()=>s,zA:()=>d,zn:()=>b});var n=r(167249),i=r(939863),a=r(392592),o=r(662275),l=r(171267);let s=(0,r(980820).nF)((e,{memberEmails:t,team:r})=>{let{id:n}=r,s=new Set(t),c=e.getState().teamMembersByTeamId[n],u=[];Object.keys(c).forEach(e=>{let t=c[e];s.has(t.email)&&t.id&&u.push(t)});let p=u.map(e=>({nameOrEmail:e.name??e.email,id:e.id}));e.dispatch((0,o.to)({type:l.WX,data:{editors:u,team:r,onConfirm:()=>{u.forEach(t=>{let r=t.last_active?new Date(1e3*t.last_active).toDateString():"never",i={id:t.id,img_url:t.img_url,name:t.name??"",email:t.email,last_active:r,team_id:n};e.dispatch(d({editor:i}))}),e.dispatch(a.F.enqueue({type:"team-editors-downgraded",message:(0,i.t)("downgrade_member_visual_bell.text",{numMembers:u.length,userName:p[0].nameOrEmail})}))}}}))}),c=(0,n.N)("TEAM_ADMIN_SET_MEMBER_EDU_GRACE_PERIOD"),d=(0,n.N)("TEAM_ADMIN_DEMOTE_EDITOR_ROLES"),u=(0,n.N)("TEAM_ADMIN_SET_USER_ROLES"),p=(0,n.N)("TEAM_ADMIN_INIT_USER_DETAILS"),m=(0,n.N)("TEAM_ADMIN_SET_SEARCH_RESULTS"),_=(0,n.N)("TEAM_ADMIN_SET_QUERY"),h=(0,n.N)("TEAM_ADMIN_SORT_EDITORS_BY"),g=(0,n.N)("TEAM_ADMIN_SET_ADMINS_BY_ID"),f=(0,n.N)("TEAM_ADMIN_GET_ADMINS"),E=(0,n.N)("TEAM_ADMIN_SET_EDITORS"),y=(0,n.N)("TEAM_ADMIN_SET_SUMMARY_DEPRECATED"),b=(0,n.N)("TEAM_ADMIN_FETCH_SUMMARY"),v=(0,n.N)("TEAM_ADMIN_FETCH_EDITORS"),I=(0,n.N)("TEAM_ADMIN_INIT_BILLING_DETAILS")},114961:(e,t,r)=>{"use strict";r.d(t,{BO:()=>E,Be:()=>b,C8:()=>w,Hq:()=>A,NP:()=>y,OP:()=>S,Q:()=>v,l0:()=>T,ot:()=>C,tp:()=>I});var n=r(167249),i=r(27087),a=r(881388),o=r(939863),l=r(392592),s=r(980820),c=r(662275),d=r(789586),u=r(336599),p=r(820113),m=r(320741),_=r(622139),h=r(659969),g=r(171267),f=r(205371);function E(e){let{teamId:t,dispatch:r,email:n}=e;return i.Ay.put(`/api/subscriptions/team/${t}/billing_contact`,{email:n}).then(e=>{r(S({summary:{billing_contact:e.data.meta}})),r(l.F.enqueue({message:(0,o.t)("visual_bell.team_billing_contact_updated"),type:"team-billing-contact-changed"}))}).catch(e=>{var t;throw r(a.s.error((null==(t=e.data)?void 0:t.message)||(0,o.t)("payments.change_billing_contact_error"),5e3)),e})}let y=(0,s.T8)("TEAM_ADMIN_FETCH_INVOICES",(e,{teamId:t},{loadingKey:r})=>{let n=h.T.getTeamInvoices({teamId:t});(0,m.N)(n,e,r),n.then(({data:t})=>{t.meta.forEach(e=>{e.design_quantity||(e.design_quantity=e.quantity)}),e.dispatch(I({invoices:t.meta}))}).catch(()=>{e.dispatch(a.s.error((0,o.t)("flash.team_invoices_fetching_error")))})},e=>`TEAM_ADMIN_FETCH_INVOICES::teamId::${e.teamId}`),b=(0,s.T8)("TEAM_ADMIN_FETCH_BILLING_SUMMARY",(e,{teamId:t},{loadingKey:r})=>{let n=h.T.getTeamSummary({teamId:t});(0,m.N)(n,e,r),n.then(({data:t})=>{e.dispatch(T({summary:t.meta}))}).catch(()=>{e.dispatch(a.s.error((0,o.t)("flash.team_billing_summary_fetching_error")))})},e=>`TEAM_ADMIN_FETCH_BILLING_SUMMARY::teamId::${e.teamId}`),v=(0,s.nF)((e,{teamId:t,shouldForceFetch:r})=>{let n=b.loadingKeyForPayload({teamId:t}),i=e.getState();(0,u.VP)(i.loadingState,n)||!r&&(0,u.D2)(i.loadingState,n)||e.dispatch(b({teamId:t}));let a=y.loadingKeyForPayload({teamId:t});(0,u.VP)(i.loadingState,a)||!r&&(0,u.D2)(i.loadingState,a)||e.dispatch(y({teamId:t}))}),I=(0,n.N)("TEAM_ADMIN_POST_INVOICE"),T=(0,n.N)("TEAM_ADMIN_SET_SUMMARY"),S=(0,n.N)("TEAM_ADMIN_UPDATE_INVOICE_RECEIVER");function w(e){let{team:t,dispatch:r,cancelling:n,monthlySub:i,annualSub:a,currency:o,canSeeBillingAddressExp:l}=e,s=Math.max((0,f.Qo)((null==i?void 0:i.design_quantity)??0,_.tY.MONTHLY,o||"usd")+(0,f.PK)((null==i?void 0:i.whiteboard_quantity)??0,_.tY.MONTHLY,o||"usd"),(0,f.Qo)((null==a?void 0:a.design_quantity)??0,_.tY.ANNUAL,o||"usd")+(0,f.PK)((null==a?void 0:a.whiteboard_quantity)??0,_.tY.ANNUAL,o||"usd"));r((0,c.to)({type:g.so,data:{currency:o,defaultCountry:(0,p.ub)(),estimatedChargeCents:s,customerInfo:{teamId:t.id},isReactivating:n,canSeeBillingAddressExp:l}}))}function A(e){let{team:t,dispatch:r}=e,n=async(e,r,n)=>{let a=!1;return await i.Ay.put(`/api/subscriptions/team/${t.id}/vat_gst`,{vat_gst_id:e,regional_vat_gst_id:n}).then(()=>{a=!0}).catch(e=>{r(e.toString())}),a};r((0,c.to)({type:g.YO,data:{team:t,updateVatGstId:n}}))}function C(e){let{team:t,updatedDisplayName:r,updatedLegalName:n,canSeeBillingAddressExp:i,dispatch:a}=e;a((0,c.to)({type:d.L,data:{modalTitle:i?(0,o.t)("settings_table.update_team_profile"):(0,o.t)("settings_table.edit_names"),displayName:r,legalName:n,updateNameImmediately:!0,team:t,canSeeBillingAddressExp:i}}))}},569172:(e,t,r)=>{"use strict";r.d(t,{BC:()=>b,EF:()=>O,FJ:()=>w,Oy:()=>C,Wy:()=>h,Y9:()=>g,Zo:()=>_,au:()=>f,cx:()=>v,gX:()=>I,hK:()=>y,t9:()=>T,v6:()=>R,yu:()=>E});var n=r(167249),i=r(776250),a=r(609494),o=r(966712),l=r(309225),s=r(743282),c=r(27087),d=r(980820),u=r(320741),p=r(440535),m=r(888592);let _=(0,d.MM)("UNFOLLOW_FEED_TAG",(e,t,{optimistId:r})=>{let n=e.getState().user,i=(0,l.WB)();if(!i||!n)return;let a=c.Ay.post("/api/feed_tags/unfollow",{hashtag:t.hashtag,org_id:t.orgId}).then(t=>{e.dispatch(d.hp.commit(r))}).catch(t=>{e.dispatch(d.hp.revert(r))});i.optimisticallyDelete({FeedTagFollower:{[t.feedTagFollowerId]:null}},a)}),h=(0,d.MM)("FOLLOW_FEED_TAG",(e,t,{optimistId:r})=>{let n=e.getState().user,i=(0,l.WB)();if(!i||!n)return;let a=c.Ay.post("/api/feed_tags/follow",{hashtag:t.hashtag,org_id:t.orgId}).then(t=>{e.dispatch(d.hp.commit(r))}).catch(t=>{e.dispatch(d.hp.revert(r))});i.optimisticallyCreate({FeedTagFollower:{[`optimistic-${r.toString()}`]:{userId:n.id,feedTagId:t.tagId}}},a)}),g=(0,n.N)("REFRESH_FEED"),f=(0,d.nF)((e,t,{loadingKey:r})=>{if(!(0,o.kc)().xr_debounce_threshold)return;let n=m.K.getFeedBellStates();(0,u.N)(n,e,r),n.then(t=>{e.dispatch(y({bellStates:t.data.meta}))})}),E=(0,n.N)("TEAM_FEED_SET_BELL_STATE"),y=(0,n.N)("TEAM_FEED_SET_INITIAL_BELL_STATES"),b=(0,d.MM)("DELETE_FEED_POST_COMMENT",(e,t,{optimistId:r})=>{let n=e.getState().user,i=(0,l.WB)(),a=t.uuid;if(!n||!i||!a||t.commentId.startsWith(R))return;let o=i.getIdFromUuid("FeedComment",a).then(e=>c.Ay.del(`/api/feed_posts/comments/${e}`)).then(()=>{e.dispatch(d.hp.commit(r))}).catch(()=>{e.dispatch(d.hp.revert(r))});i.optimisticallyDeleteWithUUID({FeedComment:{[a]:null}},o)}),v=(0,d.MM)("EDIT_FEED_POST_COMMENT",(e,t,{optimistId:r})=>{t.messageMeta=(0,a.Pq)(t.messageMeta);let n=e.getState().user,o=(0,l.WB)(),s=t.uuid;if(!n||!o||!s)return;let u=o.getIdFromUuid("FeedComment",s).then(e=>c.Ay.put(`/api/feed_posts/comments/${e}`,{message_meta:t.messageMeta,attachment_updates:(0,p.Gq)(t.attachmentUpdates)})).then(()=>{e.dispatch(d.hp.commit(r))}).catch(()=>{e.dispatch(d.hp.revert(r))});(0,i.sx)("Team Feed Comment Edited",{text:(0,a._Z)(t.messageMeta)});let m=(0,a.Rc)(t.messageMeta);o.optimisticallyUpdateWithUUID({FeedComment:{[s]:{messageMeta:m}}},u)}),I=(0,d.MM)("NEW_FEED_POST_COMMENT",(e,t,{optimistId:r})=>{t.messageMeta=(0,a.Pq)(t.messageMeta);let n=e.getState().user,o=(0,l.WB)();if(!n||!o)return;let u=(0,s.g)(),p=c.Ay.post(`/api/feed_posts/${t.postUuid}/comments`,{message_meta:t.messageMeta,uuid:u,attachment_ids:t.attachmentIds}).then(()=>{e.dispatch(d.hp.commit(r))}).catch(()=>{e.dispatch(d.hp.revert(r))}),m=!!t.messageMeta.find(e=>(0,a.l5)(e)===a.vj.EMOJI),_=!!t.messageMeta.find(e=>(0,a.l5)(e)===a.vj.EDITOR_MENTION);(0,i.sx)("Team Feed Comment Added",{emojiUsed:m,mentionUsed:_,text:(0,a._Z)(t.messageMeta),postUuid:t.postUuid});let h=(0,a.Rc)(t.messageMeta);o.optimisticallyCreateWithUUID({FeedComment:{[u]:{feedPostPublicUuid:t.postUuid,uuid:u,userId:n.id,user:{id:n.id,handle:n.handle,imgUrl:n.img_url},messageMeta:h,createdAt:new Date,reactions:[]}}},p)}),T=(0,d.MM)("REMOVE_FEED_REACTION_COMMENT",(e,t,{optimistId:r})=>{let{commentUuid:n,emoji:i,reactionId:a}=t,o=S(e.dispatch,n,i,r);e.getState().user&&(0,l.WB)().optimisticallyDelete({FeedReaction:{[a]:null}},o)}),S=(e,t,r,n)=>(0,l.WB)().getIdFromUuid("FeedComment",t).then(e=>c.Ay.del(`/api/feed_posts/comments/${e}/reactions`,{emoji:r})).then(()=>{e(d.hp.commit(n))}).catch(()=>{e(d.hp.revert(n))}),w=(0,d.MM)("ADD_FEED_REACTION_COMMENT",(e,t,{optimistId:r})=>{let{commentUuid:n,commentId:a,emoji:o}=t,s=e.getState().user;if(!s||a.startsWith(R))return;let c=A(e.dispatch,n,o,r);(0,i.sx)("Team Feed Reaction Added",{commentId:a,type:o});let d=`optimistic-id-comment-${a}-${o}-${s.id}`;(0,l.WB)().optimisticallyCreate({FeedReaction:{[d]:{createdAt:new Date,emoji:o,feedResourceId:a,feedResourceType:"FeedComment",userId:s.id}}},c)}),A=(e,t,r,n)=>(0,l.WB)().getIdFromUuid("FeedComment",t).then(e=>c.Ay.post(`/api/feed_posts/comments/${e}/reactions`,{emoji:r})).then(t=>{e(d.hp.commit(n))}).catch(t=>{e(d.hp.revert(n))}),C=(0,d.MM)("REMOVE_FEED_REACTION_DETAIL",(e,t,{optimistId:r})=>{let{feedPostUuid:n,emoji:i,reactionId:a}=t,o=N(e.dispatch,n,i,r);e.getState().user&&(0,l.WB)().optimisticallyDelete({FeedReaction:{[a]:null}},o)}),N=(e,t,r,n)=>c.Ay.del(`/api/feed_posts/${t}/reactions`,{emoji:r}).then(()=>{e(d.hp.commit(n))}).catch(()=>{e(d.hp.revert(n))}),O=(0,d.MM)("ADD_FEED_REACTION_POST",(e,t,{optimistId:r})=>{let{feedPostUuid:n,feedPostId:a,emoji:o}=t,s=e.getState().user;if(!s)return;let c=L(e.dispatch,n,o,r);(0,i.sx)("Team Feed Reaction Added",{postUuid:n,type:o});let d=`optimistic-id-${n}-${o}-${s.id}`;(0,l.WB)().optimisticallyCreate({FeedReaction:{[d]:{createdAt:new Date,emoji:o,feedResourceId:a,feedResourceType:"FeedPost",userId:s.id,user:{id:s.id,handle:s.handle,imgUrl:s.img_url}}}},c)}),L=(e,t,r,n)=>c.Ay.post(`/api/feed_posts/${t}/reactions`,{emoji:r}).then(()=>{e(d.hp.commit(n))}).catch(()=>{e(d.hp.revert(n))}),R="pending-feed-comment"},229403:(e,t,r)=>{"use strict";r.d(t,{Nu:()=>h,O2:()=>g,Xw:()=>E,my:()=>f,pE:()=>b,yJ:()=>y});var n=r(167249),i=r(27087),a=r(881388),o=r(939863),l=r(392592),s=r(980820),c=r(662275),d=r(336599),u=r(320741),p=r(36816),m=r(845213),_=r(171267);let h=(0,s.nF)((e,{adminIds:t,editorType:r,fileKey:n,message:s,teamId:c,entryPoint:d,onError:u})=>{i.Ay.post(`/api/teams/${c}/team_users/request_upgrade`,{admin_ids:t,editor_type:r,file_key:n,message:s,team_id:c,entry_point:d}).then(function(t){let r="create-file-project-view"===d?(0,o.t)("team_user.actions.team_members_request_to_upgrade_from_project_view_succeeded"):(0,o.t)("team_user.actions.team_members_request_to_upgrade_succeeded");e.dispatch(l.F.enqueue({message:r,type:"pro-upgrade-request-sent"}))}).catch(function(t){e.dispatch(a.s.error((0,o.t)("team_user.actions.team_members_request_to_upgrade_failed"))),null==u||u()})}),g=(0,s.nF)((e,{members:t,team:r,teamUsers:n,usersWithNoTeamUserIds:i=[],paidStatusType:a,paidStatus:s,entryPoint:d})=>{e.dispatch((0,c.to)({type:_.jo,data:{onConfirm:()=>{let c;e.dispatch(f({teamId:r.id,teamUsers:n,usersWithNoTeamUserIds:i,paidStatus:s,paidStatusType:a,userInitiated:!0,entryPoint:d}));let u=t.length,m={productName:a===p.j4.WHITEBOARD?(0,o.t)("general.figjam"):(0,o.t)("general.figma_design"),nameOrEmail:t[0].name||t[0].email,numTeamMembers:u};switch(s){case p.Zf.FULL:c=(0,o.t)("team_user.actions.team_members_upgraded.seat_rename",m);break;case p.Zf.STARTER:c=(0,o.t)("team_user.actions.team_members_downgraded_to_viewer.seat_rename",m);break;case p.Zf.RESTRICTED:c=(0,o.t)("team_user.actions.team_members_downgraded_to_viewer_restricted.seat_rename",m)}e.dispatch(l.F.enqueue({type:"team-paid-status-updated",message:c}))},members:t,team:r,paidStatusType:a,paidStatus:s}}))}),f=(0,s.MM)("TEAM_USER_UPDATE_DESIGN_PAID_STATUS",async(e,{teamId:t,teamUsers:r,usersWithNoTeamUserIds:n,paidStatus:l,paidStatusType:c,userInitiated:d,entryPoint:u},{optimistId:m})=>{if(d){let d=r.map(e=>e.user_id).concat(n||[]);await i.Ay.put(`/api/teams/${t}/team_user_batch`,{team_user_deltas:d.map(e=>{let t={user_id:e};return c===p.j4.WHITEBOARD?t.whiteboard_paid_status=l:t.design_paid_status=l,t}),entry_point:u}).then(function({data:r}){e.dispatch(s.hp.commit(m)),e.dispatch(y({teamUsers:r.meta,teamId:t}))}).catch(function(t){e.dispatch(s.hp.revert(m));let r=(0,o.t)("team_user.actions.an_error_occurred_while_changing_a_team_member_s_billing_status");e.dispatch(a.s.error(r)),console.error(t)})}},e=>`$TEAM_USER_UPDATE_DESIGN_PAID_STATUS::teamId::${e.teamId}`),E=(0,s.T8)("TEAM_USER_INITIALIZED_FOR_TEAM",(e,{teamId:t},{loadingKey:r})=>{if(!t)return;let n=e.getState(),i="team"===n.selectedView.view&&("members"===n.selectedView.teamViewTab||"billing"===n.selectedView.teamViewTab)||"teamUpgrade"===n.selectedView.view||"eduReview"===n.selectedView.view;if(!(0,d.Sc)(n.loadingState,r)&&!i)return;let l=m.$.getTeamUsers({teamId:t});(0,u.N)(l,e,r),l.then(r=>{e.dispatch(b({teamUsers:r.data.meta,teamId:t}))},t=>{console.error(t),t&&403!==t.status&&e.dispatch(a.s.error((0,o.t)("team_user.actions.an_error_occurred_while_retrieving_fetching_the_list_of_users_on_this_team")))})},({teamId:e})=>`TEAM_USER_INITIALIZED_FOR_TEAM_${e}`),y=(0,n.N)("TEAM_USER_PUT"),b=(0,n.N)("TEAM_USER_INITIAL_SET")},340159:(e,t,r)=>{"use strict";r.d(t,{Lb:()=>m,c0:()=>p,dY:()=>h,vt:()=>_});var n=r(167249),i=r(966712),a=r(27087),o=r(881388),l=r(980820),s=r(410424),c=r(944682),d=r(320741),u=r(301400);let p=(0,n.N)("ONBOARDING_TEMPLATES_PUT_ALL"),m=(0,l.nF)(e=>{u.H.getTemplates({type:"onboarding"}).then(({data:t})=>{let r=t.meta;Object.keys(r).forEach(t=>{e.dispatch((0,s.Sb)({hubFiles:r[t],src:"getOnboardingTemplates"}))}),e.dispatch(p(r))})}),_=(0,l.nF)((e,t)=>a.Ay.post("/api/files/first_template_type",{template_type:t.type})),h=(0,l.nF)((e,t,{loadingKey:r})=>{let n;let l=e.getState();n=(0,i.kc)().ps_benchmark?{current_org_id:l.currentUserOrgId,current_team_id:l.currentTeamId}:{current_org_id:l.currentUserOrgId};let s=a.Ay.post("/api/figjam_template",n);(0,d.N)(s,e,r),s.then(({data:t})=>{let r=t.meta.file;r&&e.dispatch(c.yJ({file:r}))}).catch(t=>{var r;e.dispatch(o.s.error((null==(r=t.data)?void 0:r.message)||"An error occurred while fetching the template file"))})})},196495:(e,t,r)=>{"use strict";r.d(t,{C$:()=>k,FY:()=>w,S5:()=>A,WJ:()=>P,hz:()=>R,ql:()=>N,yJ:()=>D});var n=r(167249),i=r(776250),a=r(517333),o=r(737947),l=r(187623),s=r(776621),c=r(304783),d=r(27087),u=r(939863),p=r(123026),m=r(392592),_=r(632376),h=r(738269),g=r(662275),f=r(988022),E=r(788811),y=r(697551),b=r(540351),v=r(52571),I=r(268816),T=r(980820),S=r(507877);let w=(0,T.nF)(async()=>{var e;try{await d.Ay.post("/api/user/migrate_personal_drafts")}catch(r){let t=(null==(e=null==r?void 0:r.data)?void 0:e.message)||"undefined";(0,s.$D)(c.e.SHARING_AND_ACCESS,Error(`Failed to migrate starter drafts for user: ${t}`))}}),A=(0,T.nF)(async e=>{try{let t=e.getState();for(let r of t.authedUsers.orderedIds)if(await (0,E.z$)(r)){O(),e.dispatch(g.to({type:_.xv,data:{users:Object.values(t.authedUsers.byId),onLogOut:()=>{e.dispatch(C())}}}));return}}catch(e){(0,s.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("Failed to get autosave files for user"))}e.dispatch(C())}),C=(0,T.nF)(e=>{if(a.eD){o.Ay.redirect("/logout");return}let t=(0,y.d9)(e.getState().selectedView);v.H.logoutAllUsers().then(()=>{(0,f.Pg)(),I.U2.clear(),new l.P().sendToAllTabs(b.y,b.J),o.Ay.redirect(`${t?"/community":""}/?fuid=`)}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||(0,u.t)("file_browser.file_browser_actions.logout_error_without_email");e.dispatch(m.F.enqueue({error:!0,message:n}))})}),N=(0,T.nF)(async(e,t)=>{try{await (0,E.z$)(t.user.id)?(O(),e.dispatch(g.to({type:_.xv,data:{users:[t.user],onLogOut:()=>{e.dispatch(L(t))}}}))):e.dispatch(L(t))}catch(r){(0,s.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("Failed to get autosave files for user")),e.dispatch(L(t))}}),O=()=>{try{(0,i.sx)("autosave_modal_shown",{},{forwardToDatadog:!0,batchRequest:!0})}catch(e){}},L=(0,T.nF)((e,t)=>{v.H.logoutOneUser(t.user.id).then(r=>{var n,i,a,l,s;e.dispatch(h.os(r.data.meta)),e.dispatch(S.q0(r.data.meta)),(null==(a=null==(i=null==(n=r.data)?void 0:n.meta)?void 0:i.users)?void 0:a.length)===0&&((0,f.Pg)(),I.U2.clear());let c=null==(s=null==(l=r.data)?void 0:l.meta)?void 0:s.redirect_url;c?o.Ay.redirect(c):e.dispatch(m.F.enqueue({message:(0,u.t)("file_browser.file_browser_actions.successfully_logged_out",{emailAddress:t.user.email})}))}).catch(r=>{var n;let i=(null==(n=r.data)?void 0:n.message)||(0,u.t)("file_browser.file_browser_actions.logout_error_with_email",{emailAddress:t.user.email});e.dispatch(m.F.enqueue({error:!0,message:i}))})}),R=(0,n.N)("DELETE_USER_LOADING"),P=(0,n.N)("USER_ERASE_SECRETS"),k=(0,n.N)("USER_TOGGLE_TWO_FACTOR"),D=p.putUser},725561:(e,t,r)=>{"use strict";r.d(t,{DO:()=>O,EJ:()=>S,G_:()=>M,Oo:()=>N,Q$:()=>T,X0:()=>P,Z_:()=>v,cL:()=>L,hd:()=>k,jK:()=>A,ku:()=>D,l4:()=>C,ni:()=>w,uR:()=>R});var n=r(167249),i=r(737947),a=r(966712),o=r(27087),l=r(939863),s=r(265746),c=r(696808),d=r(392592),u=r(980820),p=r(974105),m=r(356390),_=r(852800),h=r(320741),g=r(239671),f=r(176469),E=r(917701),y=r(975350),b=r(738269);let v=(0,u.T8)("USER_NOTIFICATIONS_MARK_COMMUNITY_AS_READ",async e=>{try{await o.Ay.post("/api/user_notifications/community/mark_read",{currentView:e.getState().selectedView.view})}catch(t){e.dispatch(d.F.enqueue({message:(0,l.t)("community.actions.unable_to_mark_all_as_read_error_message",{error:(0,l.Jv)(t,t.message)}),type:"mark-as-read",error:!0}))}}),I=e=>{let t=e.getState();e.dispatch(y.UU({force:!0})),t.mirror.appModel.showUi||m.Y5.triggerAction("toggle-ui"),t.mirror.appModel.currentTool!==_.NLJ.COMMENTS&&m.Y5.triggerAction("set-tool-comments"),requestAnimationFrame(()=>{e.dispatch(b.j7({type:E.a}))})},T=(0,n.N)("USER_NOTIFICATIONS_SET_COMMUNITY_PROFILE_BELL"),S=(0,u.nF)((e,t)=>{var r;let n=e.getState(),i=(0,p.d1)(n);if(i&&t.fileKey===i.key&&(null==(r=null==n?void 0:n.user)?void 0:r.id)===t.userId){let r={text:(0,l.t)("comments.manage"),action:()=>I(e)},n="all"===t.preference?(0,l.t)("comments.you_will_be_notified_about_file_comments"):(0,l.t)("comments.you_will_be_notified_about_replies_and_at_mentions");e.dispatch(d.F.enqueue({message:n,type:"comments-opted-in",button:r,onDismiss:()=>{},timeoutOverride:15e3}))}}),w=(0,u.nF)((e,t)=>{var r;let n=e.getState(),i=(0,p.d1)(n);if(i&&t.fileKey===i.key&&(null==(r=null==n?void 0:n.user)?void 0:r.id)===t.userId){let r;"exp_notification_catfile"===t.experimentName?r=`/api/user_notifications/catfile_optin/${t.fileKey}`:"exp_notification_catfic"===t.experimentName&&(r=`/api/user_notifications/catfic_optin/${t.fileKey}`);let i=e=>{o.Ay.post(r,{opted_in:e})};if("fullscreen"===n.selectedView.view&&n.selectedView.editorType===g.nT.Whiteboard){let t={text:(0,l.t)("comments.turn_on"),action:()=>{i(!0)}};setTimeout(()=>{e.dispatch(d.F.enqueue({message:(0,l.t)("comments.get_notified_about_all_comments_prompt"),type:"get_notified_about_all_comments_prompt",button:t,onDismiss:()=>i(!1),timeoutOverride:15e3}))},5e3)}else setTimeout(()=>{e.dispatch(c.Q.enqueue({notification:{type:s._.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS,message:(0,l.t)("comments.get_notified_about_all_comments_prompt"),acceptCallback:()=>i(!0),dismissCallback:()=>i(!1)}}))},5e3)}}),A=(0,u.nF)((e,t)=>{var r;let n=e.getState(),i=(0,p.d1)(n);if(i&&t.fileKey===i.key&&(null==(r=null==n?void 0:n.user)?void 0:r.id)===t.userId){let t={text:(0,l.t)("comments.manage"),action:()=>I(e)},r=(0,l.t)("dev_mode.you_will_be_notified_about_status_changes");e.dispatch(d.F.enqueue({message:r,type:"dev-mode-opted-in",button:t,onDismiss:()=>{},timeoutOverride:15e3}))}}),C=(0,u.nF)(async(e,t,{loadingKey:r})=>{var n;if(!i.Ay.location.pathname.startsWith("/proto/"))try{let t=f.T.getUserNotificationBells();(0,h.N)(t,e,r);let i=await t;if(null==(n=null==i?void 0:i.data)?void 0:n.meta){let{profile_bells:t,user_bells:r}=i.data.meta;(0,a.kc)().notif_bell_livegraph_read?e.dispatch(N({profileBells:t,userBells:{}})):e.dispatch(N({profileBells:t,userBells:r}))}}catch(e){}}),N=(0,n.N)("USER_NOTIFICATIONS_SET_ALL_INITIAL_BELLS"),O=(0,n.N)("USER_NOTIFICATIONS_SET_FETCHING"),L=(0,n.N)("USER_NOTIFICATIONS_RESET"),R=(0,n.N)("USER_NOTIFICATIONS_SET_BELL"),P=(0,n.N)("USER_NOTIFICATIONS_MARK_ALL_AS_READ"),k=(0,n.N)("USER_NOTIFICATIONS_RESOLVE"),D=(0,n.N)("USER_NOTIFICATIONS_REJECT"),M=(0,n.N)("USER_NOTIFICATIONS_INSERT")},625651:(e,t,r)=>{"use strict";r.d(t,{$c:()=>A,$l:()=>C,D6:()=>D,Ev:()=>N,H1:()=>O,Ho:()=>M,PK:()=>T,U6:()=>L,Vw:()=>y,au:()=>R,cx:()=>I,gA:()=>E,hL:()=>k,rT:()=>b,vt:()=>w,w9:()=>v,wQ:()=>S});var n=r(138020),i=r(167249),a=r(776250),o=r(374626),l=r(309225),s=r(746746),c=r(27087),d=r(881388),u=r(939863),p=r(392592),m=r(980820),_=r(852800),h=r(843495),g=r(900073),f=r(182976);let E=(0,i.N)("UNSET_HOVERED_IN_MODAL_VOTE_PIN"),y=(0,i.N)("SET_HOVERED_IN_MODAL_VOTE_PIN"),b=(0,i.N)("DESELECT_VOTE_PIN"),v=(0,i.N)("SELECT_VOTE_PIN"),I=(0,i.N)("INITIATED_VOTING_SESSION"),T=(0,m.nF)(async(e,{uiSurface:t})=>{let r=e.getState(),{fileKey:n}=r.selectedView,i=r.mirror.appModel.votingSessionInfo.sessionId;if(!n||!i)return;let a=S(n),l="end-voting-session-failed",s=()=>{e.dispatch(f.of({key:a})),e.dispatch(p.F.enqueue({type:l,message:(0,u.t)("voting.visual_bell.end_voting_session_failed")}))};e.dispatch(f.Cx({key:a})),e.dispatch(p.F.dequeue({matchType:l})),await c.Ay.put(`/api/file/${n}/voting_sessions/${i}`,{in_progress:!1}).then(({status:r})=>{200===r?(e.dispatch(f.x2({key:a})),"MeetingsPanel"===t&&o.zl.set(g.Qs,{type:"SET_VIEW",payload:g.iN.PAST_VOTES})):s()}).catch(e=>{throw s(),e})}),S=e=>`end_voting_session_${e}`,w=(0,m.nF)((e,{source:t,usedCustomTitle:r,requestBody:n,uiSurface:i})=>{let{fileKey:l}=e.getState().selectedView;if(!l)return;let s=A(l),d=()=>{e.dispatch(f.of({key:s})),e.dispatch(p.F.enqueue({type:"start-voting-session-failed",message:(0,u.t)("voting.visual_bell.start_voting_session_failed")}))};e.dispatch(f.Cx({key:s})),e.dispatch(p.F.dequeue({matchType:"start-voting-session-failed"})),c.Ay.post(`/api/file/${l}/voting_sessions`,n).then(n=>{200===n.status?(e.dispatch(I({votingSessionId:n.data.meta.id})),"MeetingsPanel"===i&&o.zl.get(g.Qs).activeToolModal===g.sx.VOTING&&o.zl.set(g.Qs,{type:"SET_TOOL",payload:null}),e.dispatch(f.x2({key:s})),(0,a.sx)("start_voting_session",{source:t,usedCustomTitle:r,votingSessionId:n.data.meta.id,fileKey:l})):d()}).catch(e=>{throw d(),e})}),A=e=>`create_voting_session_${e}`,C=(0,m.nF)((e,{votingSessionId:t})=>{let r=e.getState().selectedView;if(!r.fileKey)return null;let n=c.Ay.del(`/api/file/${r.fileKey}/voting_sessions/${t}`);e.dispatch((0,d.Q)({promise:n,fallbackError:(0,u.t)("voting.modal.delete_voting_session_error")})),e.dispatch(p.F.enqueue({message:(0,u.t)("voting.modal.delete_voting_session_visual_bell")})),(0,s.f)(n,e.dispatch,P({votingSessionId:t})),(0,l.WB)().optimisticallyDelete({VotingSession:{[t]:null}},n)});function N(e,t){var r,n;let i=null==(n=null==(r=null==e?void 0:e.openFile)?void 0:r.votingSessions)?void 0:n.find(e=>e.id===t);if(!i)return;let a=function(e){let t=e.createdAt.toISOString().split("T")[0];return e.title?(0,u.t)("voting.csv_export.filename_with_session_title",{date:t,votingSessionTitle:e.title}):(0,u.t)("voting.csv_export.filename_no_session_title",{date:t})}(i);_.ofk.exportVotingSessionAsCsv(t,a)}let O=(0,m.nF)((e,t)=>{var r,i,a,o;let l;let s=t.votingStage,c=e.getState(),d=null==(i=null==(r=null==c?void 0:c.mirror)?void 0:r.appModel)?void 0:i.currentPage;if(s===_.W8Y.NO_SESSION){_.ofk.setVotingSessionInfo("",_.W8Y.NO_SESSION,0,d);return}let u=null==(a=null==c?void 0:c.openFile)?void 0:a.votingSessions;if(s===_.W8Y.ENDED){let e=t.sessionId;l=null==u?void 0:u.find(t=>t.id===e&&!t.inProgress)}else l=null==u?void 0:u.find(e=>e.inProgress);if(!l)return;let p=(0,n.oA)(l.pageNodeId);p&&(_.ofk.setVotingSessionInfo(l.id,s,l.userVoteLimit,p),s===_.W8Y.JOINED&&(e.dispatch(L()),(null==(o=c.mirror.selectionProperties.whiteboardNumSelectedByType)?void 0:o.STAMP)&&(0,h.wr)()))}),L=(0,i.N)("DISMISS_JOIN_CONFIRMATION"),R=(0,i.N)("HIDE_JOIN_VOTING_SESSION_MODAL"),P=(0,i.N)("DELETE_VOTING_SESSION"),k=(0,i.N)("SET_VOTES_PER_USER_LIMIT"),D=(0,i.N)("SET_TITLE"),M=(0,i.N)("CLEAR_STATE")},103907:(e,t,r)=>{"use strict";r.d(t,{$J:()=>o.qZS,AK:()=>h,H5:()=>l,I_:()=>f,Tv:()=>g,_9:()=>c,j9:()=>s,jp:()=>u,n6:()=>E,nD:()=>p,qN:()=>m,wq:()=>_});var n=r(411855),i=r(934480),a=r(499737),o=r(279453);let l="You are trying to use comments functionality but didn't wire a provider for comments",s=(0,n.createContext)(void 0);function c(){return(0,n.useContext)(s)}let d={};function u(){return function(e,t){let r=(0,n.useMemo)(()=>(null==e?void 0:e.status)!=="loaded"?d:t(e.data),[e,t]),i=(null==e?void 0:e.status)||"loading",o=(null==e?void 0:e.errors)||[];return(0,n.useMemo)(()=>r===d||"loading"===i?(0,a.Xm)():"errors"===i?{status:i,data:null,errors:o}:{status:"loaded",errors:o,data:r},[i,o,r])}((0,n.useContext)(s),e=>{var t;return(null==(t=e.file)?void 0:t.currentUserFileFollower)||null})}function p(){let e=c();return!!e&&e.isResolvedLoaded}function m(){let e=c();return!!e&&e.isUnresolvedLoaded}function _(){let e=c();return e?e.threads:(0,a.Xm)()}function h(e){let t=(0,n.useContext)(s);return(0,n.useMemo)(()=>{var r;if(!t)throw Error(l);if("loaded"!==t.status||!t.data||!t.api.reactionsApi)return 0;let n=null==(r=t.api.reactionsApi)?void 0:r.getReactions(e);return(null==n?void 0:n.length)||0},[e,t])}function g(e,t){let r=(0,n.useContext)(s);return(0,n.useMemo)(()=>{var n;if(!r)throw Error(l);return"loaded"===r.status&&r.data?{status:"loaded",data:function(e,t){if(!t)return{typed:[],users:[],yours:0,total:0};let r={};return t.sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime()).reduce((t,n)=>{let[a,o]=(0,i.Kh)(n.emoji);t.total++;let l=r[a];if(!l){let e={count:0,selected:!1,users:[],emoji:a,skinTonesToUsers:{}};t.typed.push(e),l=e,r[a]=e}let s={id:n.user.id,handle:n.user.handle,img_url:n.user.imgUrl};return null!==o&&(void 0===l.skinTonesToUsers[o]&&(l.skinTonesToUsers[o]=[]),l.skinTonesToUsers[o].push(s)),l.count++,l.users.push(s),l.selected=l.selected||n.userId===e,t},{typed:[],yours:0,total:0,users:[]})}(t,null==(n=r.api.reactionsApi)?void 0:n.getReactions(e)),errors:r.errors}:(0,a.Xm)()},[e,t,r])}function f(){let e=(0,n.useContext)(s);if(!e)throw Error(l);return e.api}function E(){return function(e){if("loaded"!==e.status)return 0;let t=0;for(let r of e.data)if((r.anchored||r.isCanvasMention)&&!r.comments[0].resolved_at)for(let e of r.comments)e.isUnread&&t++;return t}(_())}},696097:(e,t,r)=>{"use strict";r.d(t,{NX:()=>V,dr:()=>H});var n=r(411855),i=r(188507),a=r(776250),o=r(609494),l=r(531664),s=r(358145),c=r(966712),d=r(309225),u=r(499737),p=r(886653),m=r(776621),_=r(437304),h=r(743282),g=r(455396),f=r(27087),E=r(975350),y=r(309249),b=r(809831),v=r(277810),I=r(654034),T=r(661843),S=r(912924),w=r(860178),A=r(279453),C=r(239671),N=r(860007),O=r(103907),L=r(736239),R=r(859624),P=r(297586),k=r(792608);class D{constructor(e){this.client=e}toggleReaction(e,t,r){if("loaded"!==this.client.subscription.status)throw Error("Unable to toggle reactions for unloaded subscription");return this.getReactions(e).find(r=>r.emoji===t&&r.fileCommentId===e&&r.userId===this.client.user.id)?this.removeReaction(e,t):this.addReaction(e,t,r)}async addReaction(e,t,r){let n=f.Ay.post(`/api/file/${this.client.fileKey}/comments/${e}/reactions`,{emoji:t,prototype_mode:(null==r?void 0:r.prototype_mode)||!1,selected_view:(null==r?void 0:r.selectedView)||"",quick_reply:(null==r?void 0:r.quickReply)||!1});return this.client.optimistically(async(r,i,a)=>{let o=new Date,l=`${e}_${t}_${a.id}`;await i.optimisticallyCreate({CommentReaction:{[l]:{id:l,fileCommentId:e,emoji:t,fileKey:r.file.id,userId:a.id,user:{id:a.id,handle:a.handle,imgUrl:a.img_url},createdAt:o,sortTimestamp:o}}},n)}),await n}async removeReaction(e,t){let r=f.Ay.del(`/api/file/${this.client.fileKey}/comments/${e}/reactions`,{emoji:t});return this.client.optimistically(async(n,i,a)=>{let o=a.id,l=this.getReactions(e).filter(e=>e.emoji===t&&e.userId===o).map(e=>e.id),s=null==l?void 0:l.reduce((e,t)=>({...e,[t]:null}),Object.create(null));await i.optimisticallyDelete({CommentReaction:s},r)}),await r}getReactions(e){if("loaded"!==this.client.subscription.status)throw Error("Unable to get reaction for unloaded subscription");let t=this.client.subscription.data.file;if(!t)throw Error("Unable to get reaction for unloaded subscription");if("reactions"in t)return t.reactions.filter(t=>t.fileCommentId===e);{let r=t.mobileCommentThread.find(t=>t.id===e);return r?r.reactions:[]}}}function M(e){return e.map(e=>({...e,id:e.id.toString()}))}class x{constructor(e){this.client=e}trackMissingCommentData(e,t,r,n,i,a){let o=!1;k.O.records[r.id]={parentId:r.parent_id,report:(t,l)=>{var s;if(!o&&(o=!0,(0,m.kF)("comments_optimistic_updates","true"),(0,m.kF)("isLoadedComments",i.isLoadedComments?"true":"false"),(0,m.kF)("commentType",e),(0,m.x1)(t,l,{id:r.id,fileKey:this.client.fileKey,parentId:r.parent_id,pageId:null==(s=r.client_meta)?void 0:s.page_id,userId:this.client.user.id,clientMeta:r.client_meta,...a}),this.client.livegraphClient)){let e=n(),r=null,i=null,a=null;for(let n of e)if("VIEW_QUERY_NODE.REMOVE_RESULT"===n.type||"STORE.ADD_INSTANCE"===n.type||"STORE.REMOVE_INSTANCE"===n.type||"SESSION.APPLY_MUTATIONS"===n.type||"SESSION.APPLY_SHADOW_MUTATIONS"===n.type||"SESSION.REMOVE_SHADOW_MUTATIONS"===n.type||"REQUEST_MESSAGE"===n.type&&"sync"===n.message.messageType||"RESPONSE_MESSAGE"===n.type&&"synced"===n.message.messageType||"RESPONSE_MESSAGE"===n.type&&"pendingMutations"===n.message.messageType)(0,m.Lo)(t,JSON.stringify(n));else if("VIEW_QUERY_NODE.ADD_RESULT"===n.type||"VIEW_QUERY_NODE.UPDATE_RESULT"===n.type){if(n.type===r&&n.queryId===i&&n.instance===a)continue;(0,m.Lo)(t,JSON.stringify(n)),r=n.type,i=n.queryId,a=n.instance}else"SESSION.NOTIFY_OBSERVERS"===n.type&&n.view._name.includes("Comments")&&(0,m.Lo)(t,JSON.stringify({type:"SESSION.NOTIFY_OBSERVERS",viewName:n.view._name}));(0,m.x1)(t,l)}}},setTimeout(()=>{let i=k.O.records[r.id];if(i||n(),delete k.O.records[r.id],"loaded"!==this.client.subscription.status)return;let a=this.client.loadedComments.some(e=>e.id===r.id||e.id===t);i&&!a?i.report(`${e} Never Appeared`,"Comment failed to appear within ten seconds of creation"):n()},1e4)}create(e,t){var r,n;let i=(0,d.S6)(),{fileKey:l,messageMeta:s,attachments:u,clientMeta:p,pageId:m,uuid:_}=e;(0,a.sx)("New comment API create",{uuid:_});let h=(0,c.kc)().show_at_mention_invited_users?[...new Set((0,o.cs)(s))]:[],g=async e=>{var r;let n=null==(r=e.data)?void 0:r.reason;if(!n||"comment_validation_failure"!==n.reason||!(null==t?void 0:t.onValidationError))throw e;let i=n.failure_info,o=await t.onValidationError(M(i.users_without_view),M(i.ext_users_without_view),M(i.uninvitable_users));return o?((0,a.sx)("New comment API handling validation",{uuid:_}),f.Ay.post(`/api/file/${l}/comments`,{file_key:l,message_meta:s,attachments:u.map(e=>e.id),client_meta:p,page_id:m,prototype_mode:null==t?void 0:t.prototypeMode,share_to_mentions:o.forceWithInvite,force:o.forceMentions,uuid:_,pending_mentions:h}).catch(g)):null},E=(0,R.e)(this.client.subscription),y=null==(n=null==(r=this.client.subscription.data)?void 0:r.file)?void 0:n.currentUserCommentReadStatus,b=f.Ay.post(`/api/file/${l}/comments`,{file_key:l,message_meta:s,attachments:u.map(e=>e.id),client_meta:p,page_id:m,prototype_mode:null==t?void 0:t.prototypeMode,share_to_mentions:null===t.onValidationError,force:null===t.onValidationError,pending_mentions:h,uuid:_,...!y&&{all_read_at:I.gj.allReadAt}});return this.client.optimistically((e,t)=>{let r=this.client.loadedComments.map(e=>e.orderId||0),n=r.length>0?Math.max(...r):0,i=(0,o.Rc)(s);t.optimisticallyCreateWithUUID({Comment:{[_]:{uuid:_,key:l,userId:this.client.user.id,parentId:null,orderId:n+1,createdAt:new Date,resolvedAt:null,deletedAt:null,authorMeta:null,clientMeta:{x:p.x,y:p.y,nodeId:p.node_id||null,pageId:p.page_id||null,nodeOffset:p.node_offset||null,inFrame:p.in_frame||null,selectionBoxAnchor:p.selection_box_anchor||null,stablePath:p.stable_path||null},messageMeta:i,messageMetaStylized:i,user:{id:this.client.user.id,handle:this.client.user.handle,imgUrl:this.client.user.img_url},reactions:[],thumbnailUrl:null,isCanvasMention:!1,commentPin:null}}},b);let a=(0,v.Mu)(u,l,_);if(a&&t.optimisticallyCreate({CommentAttachment:a},b),!e.file.currentUserCommentReadStatus){let e=new Date;t.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${e.getTime()}`]:{userId:this.client.user.id,fileKey:this.client.fileKey,createdAt:e,allReadAt:I.gj.allReadAt,readComments:{},unreadComments:{}}}},b)}}),[b.catch(g).then(e=>{if(!e)return null;try{let r=e.data.meta;this.trackMissingCommentData("New Comment",_,r,i,{isLoadedComments:E},t)}catch{}return e}),_]}reply(e,t){let r=(0,d.S6)(),{threadId:n,threadUuid:i,messageMeta:l,attachments:s,uuid:c}=e,{fileKey:u}=this.client,p=(0,o.cs)(l),m=f.Ay.post(`/api/file/${u}/comments/${e.threadId}`,{file_key:u,uuid:c,message_meta:l,attachments:s.map(e=>e.id),prototype_mode:null==t?void 0:t.prototypeMode,share_to_mentions:t.forceWithInvite||!1,force:t.forceMention||!1,tracking_context:t.trackingContext,pending_mentions:p}),_=(0,o.Rc)(l),h=(0,R.e)(this.client.subscription),{user:g}=this.client;return this.client.optimistically((e,t)=>{i?t.optimisticallyUpdateWithUUID({Comment:{[i]:{uuid:i,resolvedAt:null}}},m):t.optimisticallyUpdate({Comment:{[n]:{resolvedAt:null}}},m),(0,a.sx)("Livegraph Optimistic Comment Update",{flow:"reply",isOptimistic:!!i}),t.optimisticallyCreateWithUUID({Comment:{[c]:{uuid:c,key:u,userId:g.id,parentId:n,orderId:null,createdAt:new Date,resolvedAt:null,deletedAt:null,authorMeta:null,clientMeta:null,messageMeta:_,messageMetaStylized:_,user:{id:g.id,handle:g.handle,imgUrl:g.img_url},reactions:[],thumbnailUrl:null,isCanvasMention:!1,commentPin:null,attachments:s.map(e=>(0,v.QG)(e,u,c))}}},m);let r=(0,v.Mu)(s,u,c);r&&t.optimisticallyCreate({CommentAttachment:r},m)}),[m.then(e=>{if(!e)return null;let n=e.data.meta;return this.trackMissingCommentData("Reply Comment",c,n,r,{isLoadedComments:h},t),e}),c]}}class F{constructor(e){this.client=e}get commentReceipts(){return this}async markAsUnread(e){var t,r;let n=null==(r=null==(t=this.client.subscription.data)?void 0:t.file)?void 0:r.currentUserCommentReadStatus,i=f.Ay.post(`/api/file/${this.client.fileKey}/unread_comments`,{comment_ids:[e],...!n&&{all_read_at:I.gj.allReadAt}});return this.client.optimistically(async(t,r,n)=>{let a=t.file.currentUserCommentReadStatus,o=new Date;if(a){let{[e]:t,...n}=a.readComments;await r.optimisticallyUpdate({CommentReadStatus:{[a.id]:{...a,allReadAt:I.gj.allReadAt,readComments:n,unreadComments:{...a.unreadComments,[e]:"true"}}}},i)}else await r.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${o.getTime()}`]:{userId:n.id,fileKey:this.client.fileKey,createdAt:o,allReadAt:I.gj.allReadAt,readComments:{},unreadComments:{[e]:"true"}}}},i)}),await i}async markAllAsRead(){var e,t;let r=null==(t=null==(e=this.client.subscription.data)?void 0:e.file)?void 0:t.currentUserCommentReadStatus,n=f.Ay.del(`/api/file/${this.client.fileKey}/unread_comments`,{...!r&&{all_read_at:I.gj.allReadAt}});return this.client.optimistically(async(e,t,r)=>{let i=e.file.currentUserCommentReadStatus,a=new Date;i?await t.optimisticallyUpdate({CommentReadStatus:{[i.id]:{...i,allReadAt:a,readComments:{},unreadComments:{}}}},n):await t.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${a.getTime()}`]:{userId:r.id,fileKey:this.client.fileKey,createdAt:a,allReadAt:a,readComments:{},unreadComments:{}}}},n)}),await n}async markAsRead(e){var t,r;let n=null==(r=null==(t=this.client.subscription.data)?void 0:t.file)?void 0:r.currentUserCommentReadStatus,i=f.Ay.del(`/api/file/${this.client.fileKey}/unread_comments`,{comment_ids:e,...!n&&{all_read_at:I.gj.allReadAt}});return this.client.optimistically(async(t,r,n)=>{let a=t.file.currentUserCommentReadStatus,o=new Date,l=e.reduce((e,t)=>({...e,[t]:o.toUTCString()}),{});a?await r.optimisticallyUpdate({CommentReadStatus:{[a.id]:{...a,readComments:{...a.readComments,...l},unreadComments:Object.keys(a.unreadComments).filter(t=>!e.includes(t)).reduce((e,t)=>(e[t]="true",e),{})}}},i):await r.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${o.getTime()}`]:{userId:n.id,fileKey:this.client.fileKey,createdAt:o,allReadAt:I.gj.allReadAt,readComments:l,unreadComments:{}}}},i)}),await i}}let U=(0,p.xx)(e=>{let t=e=>(e.hasOwnProperty("transform")||Object.defineProperty(e,"transform",{get:function(){return{filter:r=>t(e.filter(r)),map:r=>t(e.map(r)),join:r=>t([...e,...r||[]])}}}),e);return t(e)});function B(e,t,r){let i=n.useMemo(()=>{if("loaded"!==r.status)return new Set([]);let e=r.data.file;return new Set(e?"comments"in e?e.comments.map(e=>e.id):e.resolvedComments.map(e=>e.id):[])},[r]),a=(0,s.ZC)(i),{removed:o}=n.useMemo(()=>(0,_.Zv)(i,a),[i,a]),l=n.useCallback(e,t);n.useEffect(()=>{o.forEach(e=>{l(e)})},[l,o])}function H(e){let t=(0,d.ZA)(),r=(0,w.iZ)(),{args:i,subscription:a}=e,[o,s]=n.useState(()=>{if(r)return new R.I(i,a,r)});return n.useEffect(()=>{if(!r){s(void 0);return}if(!o||!(0,l.c2)(o.args,i)){s(new R.I(i,a,r));return}},[o,i,a,r,t]),o&&(r&&(o.user=r),o.subscription=a,o.livegraphClient=t),n.useMemo(()=>o?{commentReceipts:new F(o),reactionsApi:new D(o),writeAPI:new x(o),pinApi:new P.xI(o)}:{},[o])}function V(e){let{userId:t,file:r,activeId:a,anchorPositions:o,boundingBoxPositions:l,DEPRECATED_updateWatchedNodeIds:s,updateWatchedStablePaths:d,getPageIdsForNodes:p,children:m}=e,_=n.useRef({}),f=(0,b.E3)()===C.nT.Whiteboard,v=!!(0,c.kc)().xr_debounce_threshold,I=!!(0,c.kc)().async_spotlight,w=null==r?void 0:r.key,R=!!w,P=n.useMemo(()=>({fileKey:w??""}),[w]),D=n.useMemo(()=>(0,h.g)(),[P]),M=(0,u.Rs)(O.$J,P,{enabled:R,traceId:D}),x=(0,u.Rs)(A.ZBn,P,{enabled:R}),F=(0,u.Rs)(A.qRE,P,{enabled:v&&R}),V=(0,u.Rs)(A.OTc,P,{enabled:I&&R}),G=(0,u.Rs)(A.gkf,P,{enabled:f&&R}),W=(0,i.d4)(e=>e.comments.lgPendingUuidToServerIdMap),K=(0,i.wA)(),Y=n.useMemo(()=>{var e;if("loaded"!==M.status||!M.data.file)return M;let t=U(M.data.file.comments).transform.filter(e=>null===e.resolvedAt);if("loaded"===x.status){let r=null==(e=x.data.file)?void 0:e.resolvedComments;t=t.transform.join(r)}let r={...M.data.file,comments:t};return{...M,data:{...M.data,file:r}}},[M,x]);n.useMemo(()=>{var e,t,r;"loaded"===Y.status&&(null==(r=null==(t=null==(e=Y.data)?void 0:e.file)?void 0:t.comments)||r.forEach(e=>{e.id in W?(_.current[e.id]=e,e.id=W[e.id]):e.uuid&&e.uuid in W&&_.current[e.uuid]&&_.current[e.uuid]!==e&&(K((0,E.pI)({commentUuid:e.uuid})),delete _.current[e.uuid])}))},[K,Y,W]);let j=(0,i.d4)(e=>e.mirror.appModel.pagesList),{commentsAttachedToNodes:z,commentThreadNodeIds:$,commentThreadStablePaths:Z}=n.useMemo(()=>{if("loaded"!==Y.status||!Y.data.file)return{commentThreadsNodeIds:[],commentsAttachedToNodes:[]};let e=[],t=new Set,r=new Set;return Y.data.file.comments.forEach(n=>{var i,a;if(null===n.parentId){let o=null==(i=n.clientMeta)?void 0:i.nodeId,l=null==(a=n.clientMeta)?void 0:a.stablePath;l&&d?(e.push(n),r.add(`[${l.join(",")}]`)):o&&s&&(e.push(n),t.add(o))}}),{commentsAttachedToNodes:e,commentThreadNodeIds:t,commentThreadStablePaths:r}},[Y,s,d]),q=n.useMemo(()=>{var e;if("loaded"!==Y.status||!Y.data.file||v&&!(null==(e=F.data)?void 0:e.file))return[];let t=new Set($);return v&&(0,S.N)(F.data.file.feedPosts).forEach(e=>{t.add(e)}),Array.from(t)},[Y,F,v,$]),J=n.useMemo(()=>"loaded"===Y.status&&Y.data.file?Array.from(new Set(Z)):[],[Y,Z]);n.useEffect(()=>{s&&s(q),d&&d(J)},[s,q,d,J]);let X=(0,T.W9)(t,Y,a,o,p,j),Q=(0,T.gu)(t,G,e.activeId),ee=(0,N.i)(F,e.activeId,p,l),et=(0,g.Z)(V),er=n.useMemo(()=>{if("loaded"!==Y.status||v&&"loaded"!==F.status||f&&"loaded"!==G.status)return(0,u.gB)([]);let e=[];return X.data&&(e=e.concat(X.data)),Q.data&&(e=e.concat(Q.data)),ee.data&&(e=e.concat(ee.data)),et.data&&(e=e.concat(et.data)),(0,u.gB)(e)},[Y.status,v,F.status,f,G.status,X.data,Q.data,ee.data,et.data]),en=H({args:P,subscription:Y}),ei=(0,L.r)({args:P,subscription:F});en.canvasMentionReceipts=(0,y.pf)({canvasMentionArgs:P,canvasMentionSubscription:G}),(0,T.Hu)(z,{enabled:!!(0,c.kc)().comments_absolute_positioning}),B(e=>{var t,r;null==(r=null==(t=k.O.records[e])?void 0:t.report)||r.call(t,"New Comment Missing","Comment disappeared within ten seconds of creation")},[],M),B(e=>{var t,r;null==(r=null==(t=k.O.records[e])?void 0:t.report)||r.call(t,"New Resolved Comment Missing","Resolved comment disappeared within ten seconds of creation")},[],x);let ea=n.useMemo(()=>R?{...Y,api:en,feedApi:ei,threads:er,isUnresolvedLoaded:"loaded"===M.status,isResolvedLoaded:"loaded"===x.status}:{status:"loading",data:null,errors:null,threads:(0,u.Xm)(),api:{},isUnresolvedLoaded:!1,isResolvedLoaded:!1},[R,Y,en,ei,er,M.status,x.status]);return n.createElement(O.j9.Provider,{value:ea},m)}},107877:(e,t,r)=>{"use strict";r.d(t,{E2:()=>N,EX:()=>S,Ep:()=>k,M5:()=>l,M6:()=>E,QB:()=>y,Tb:()=>A,Un:()=>R,V9:()=>p,VK:()=>O,W_:()=>c,XG:()=>u,YW:()=>w,ZO:()=>o,_O:()=>C,aY:()=>I,dz:()=>P,eg:()=>_,oS:()=>f,s0:()=>s,vY:()=>v,w3:()=>T,zn:()=>L});var n=r(330654),i=r(762194),a=r(99506),o=(e=>(e.USERS="users",e.TEAMS="teams",e.ORGS="orgs",e.PLUGINS="plugins",e.WIDGETS="widgets",e.HUB_FILES="hub_files",e.PROFILES="profiles",e.CATEGORIES="community_categories",e))(o||{}),l=(e=>(e.HUB_FILE_DUPLICATED="Hub File Duplicated",e.PLUGIN_INSTALLED="Hub Plugin Installed",e.PLUGIN_UNINSTALLED="Hub Plugin Uninstalled",e.WIDGET_INSTALLED="Hub Widget Installed",e.WIDGET_UNINSTALLED="Hub Widget Uninstalled",e))(l||{}),s=(e=>(e.PLUGIN_INSTALL="community_hub_plugin_install",e.PLUGIN_UNINSTALL="community_hub_plugin_uninstall",e.PROFILE_FOLLOW="community_hub_follow",e.PROFILE_UNFOLLOW="community_hub_unfollow",e.HUB_FILE_LIKE="community_hub_file_like",e.HUB_FILE_UNLIKE="community_hub_file_unlike",e.PLUGIN_LIKE="community_plugin_like",e.PLUGIN_UNLIKE="community_plugin_unlike",e.WIDGET_LIKE="community_widget_like",e.WIDGET_UNLIKE="community_widget_unlike",e.SHARE_TWITTER="community_hub_share_twitter",e.LANDING_PAGE_TO_CURATED_PAGE_BUTTON="landing_page_to_curated_page_button",e.SHARE_FACEBOOK="community_hub_share_facebook",e.SHARE_LINK="community_hub_share_link",e.CREATE_PROFILE="community_hub_create_profile",e.COMMUNITY_OPT_IN="community_hub_opt_in",e.UPDATE_PROFILE_HANDLE="community_hub_update_handle",e.PLUGIN_INSTALL_CONFIRMATION_MODAL_SHOWN="community_hub_plugin_install_warning_shown",e.PLUGIN_INSTALL_CONFIRMATION_MODAL_CANCEL="community_hub_plugin_install_warning_cancel",e.SEE_MORE_IN_COMMUNITY="see_more_in_community",e.FIND_MORE_PLUGINS="find_more_plugins",e))(s||{}),c=(e=>(e.PROFILE_ADMIN_MENU_OPEN="Community browse menu opened",e))(c||{}),d=(e=>(e.FIGJAM="figjam",e))(d||{}),u=(e=>(e.PLUGINS="plugins",e.FILES="files",e.CREATORS="creators",e.FIGJAM_PLUGINS="figjam_plugins",e.FIGMA_DESIGN_PLUGINS="figma_design_plugins",e.WIDGETS="widgets",e.FIGJAM_WIDGETS="figjam_widgets",e.FIGMA_DESIGN_WIDGETS="figma_design_widgets",e))(u||{});function p(e){switch(e){case"figjam_plugins":case"figjam_widgets":return a._Y.WHITEBOARD;case"figma_design_plugins":case"figma_design_widgets":return a._Y.DESIGN;default:return(0,i.r)()}}var m=(e=>(e.HAS_RESTORED="has_restored",e.RESTORE_SMOOTH="restore_smooth",e.RESTORE="restore",e))(m||{}),_=(e=>(e.POPULAR="popular",e.CREATED_AT="created_at",e.FOLLOWING_FEED="feed",e.INSTALLS_DESC="installs",e.RUNS_DESC="runs",e.LAST_UPDATED_DESC="updated_at",e.INSTALLS_ASC="installs_asc",e.RUNS_ASC="runs_asc",e.LAST_UPDATED_ASC="updated_at_asc",e))(_||{}),h=(e=>(e.CREATED_AT="created_at",e.FOLLOWING_FEED="feed",e))(h||{}),g=(e=>(e.DESC="desc",e.ASC="asc",e))(g||{}),f=(e=>(e.by_creator="by_creator",e.by_tags="by_tags",e))(f||{});function E(e){return n.object({types:n.array(n.nativeEnum(f)),content:n.array(e)})}function y(e){switch(e){case"installs_asc":return{sort:"installs",order:"asc"};case"installs":return{sort:"installs",order:"desc"};case"runs_asc":return{sort:"runs",order:"asc"};case"runs":return{sort:"runs",order:"desc"};case"updated_at_asc":return{sort:"last_updated",order:"asc"};case"updated_at":return{sort:"last_updated",order:"desc"};default:return{sort:e,order:"desc"}}}let b={resourceIds:{},unmergedResourceIds:[],loading:!1};({...b});var v=(e=>(e.NAME="name",e.PUBLISHER="publisher",e.INSTALLS="installs",e.RUNS="runs",e.CREATED_AT="created_at",e.LAST_UPDATED="last_updated",e))(v||{}),I=(e=>(e.FREE_HUB_FILE_LICENSE="https://creativecommons.org/licenses/by/4.0/",e.FREE_PLUGIN_LICENSE="https://www.figma.com/community-resource-license/",e.FREE_RESOURCE_LICENSE="https://www.figma.com/community-free-resource-license/",e.PAID_RESOURCE_LICENSE="https://www.figma.com/community-paid-resource-license/",e))(I||{});let T=906,S=769,w=645,A="checkout",C="freemium_preview",N="1",O=25,L=60,R=640,P=300,k=["a","span","sub","sup","p","b","i","pre","code","em","strike","strong","h1","h2","h3","ul","ol","li","hr","br"]},992271:(e,t,r)=>{"use strict";r.d(t,{$X:()=>E,$w:()=>h,AG:()=>_,BG:()=>I,Fh:()=>C,Gn:()=>A,J_:()=>m,L_:()=>S,UV:()=>b,bq:()=>y,dr:()=>u,hY:()=>c,ln:()=>T,qt:()=>v,r6:()=>p,yr:()=>g});var n=r(935283),i=r(630372),a=r(969468),o=r(831474),l=r(45259);let s=[{deviceName:"Slide 16:9",framePresetSize:{x:1920,y:1080}},{deviceName:"Slide 4:3",framePresetSize:{x:1024,y:768}}],c=Object.create(null);for(let e of[a.eo,o.o,l.t,i.E])for(let t of e)c[t.presetIdentifier]=t;function d(e,t){let r=new Set,n=[];for(let i of e)r.has(i.deviceName)||(r.add(i.deviceName),i.archived?t.push(i.deviceName):n.push(i.deviceName));return n}let u=[],p=d(a.eo,u),m=d(o.o,u),_=d(l.t,u),h=d(i.E,u),g=Object.create(null);for(let e in c){let t=c[e],r=t.deviceName;r in g||(g[r]=[]),g[r].push(t)}let f=(e,t)=>{for(let r of[a.eo,o.o,l.t,i.E])for(let n of r)if(n.framePresetSize.x===e&&n.framePresetSize.y===t)return n;return null};function E(e,t){if("NONE"===e||"PRESENTATION"===e)return!1;if("CUSTOM"===e)return!0;if("PRESET"===e&&null!=t){let e=c[t];if(null!=e){let t=-1!==_.indexOf(e.deviceName),r=-1!==h.indexOf(e.deviceName);return!t&&!r}}return!1}var y=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.PHONE=1]="PHONE",e[e.TABLET=2]="TABLET",e[e.WATCH=3]="WATCH",e[e.DESKTOP=4]="DESKTOP",e))(y||{});let b={1:p,2:m,3:_,4:h,0:[]};function v(e){let t=c[e];if(null==t)return 0;let r=t.deviceName;return -1!==p.indexOf(r)?1:-1!==m.indexOf(r)?2:-1!==_.indexOf(r)?3:-1!==h.indexOf(r)?4:0}function I(e,t){for(let r of s)if(r.framePresetSize.x===e&&r.framePresetSize.y===t)return{type:"PRESENTATION",presetIdentifier:"",portraitDeviceSize:{x:0,y:0},rotation:"NONE"};let r=f(e,t);return null!=r?{type:"PRESET",presetIdentifier:r.presetIdentifier,portraitDeviceSize:r.framePresetSize,rotation:"NONE"}:null!=(r=f(t,e))&&E("PRESET",r.presetIdentifier)?{type:"PRESET",presetIdentifier:r.presetIdentifier,portraitDeviceSize:r.framePresetSize,rotation:"CCW_90"}:null}function T(e){let t=v(e||"");return 4!==t&&0!==t}let S=e=>!!function(e){let t=c[e];return(null==t?void 0:t.inlinePreviewInfo)||null}(e),w=e=>{new Image().src=e};function A(e){if(!e)return;let t=c[e];(0,n.B1)(null==t?void 0:t.inlinePreviewInfo,"inline preview device info should not be null if we're preloading the device image. (presetDeviceSupportsInlinePreview == true)"),w(t.url),w(t.inlinePreviewInfo.hitTargetSvgUrl)}function C(e,t){let r=c[e]||g[e][0];if(t&&"PRESET"===t.type){let n=c[t.presetIdentifier],i=n.hideUnlessActive&&!n.archived&&r.framePresetSize.x===n.framePresetSize.x&&r.framePresetSize.y===n.framePresetSize.y;if(n&&n.deviceName===e)r=n;else if(!i&&r.hideUnlessActive&&!r.archived)return null}else if(r.hideUnlessActive&&!r.archived)return null;return r}},457858:(e,t,r)=>{"use strict";r.d(t,{$W:()=>c,EZ:()=>s,fS:()=>d,sE:()=>l});var n=r(939863);let i=[{name:"iPhone 14 & 15 Pro Max",width:430,height:932,i18nName:()=>(0,n.t)("presets.i_phone_14_and_15_pro_max")},{name:"iPhone 14 & 15 Pro",width:393,height:852,i18nName:()=>(0,n.t)("presets.i_phone_14_and_15_pro")},{name:"iPhone 13 & 14",width:390,height:844,i18nName:()=>(0,n.t)("presets.i_phone_13_and_14")},{name:"iPhone 14 Plus",width:428,height:926,i18nName:()=>(0,n.t)("presets.i_phone_14_plus")},{name:"iPhone 13 mini",width:375,height:812,i18nName:()=>(0,n.t)("presets.i_phone_13_mini")},{name:"iPhone SE",width:320,height:568,i18nName:()=>(0,n.t)("presets.i_phone_se")},{name:"iPhone 8 Plus",width:414,height:736,i18nName:()=>(0,n.t)("presets.i_phone_8_plus")},{name:"iPhone 8",width:375,height:667,i18nName:()=>(0,n.t)("presets.i_phone_8")},{name:"Android Small",width:360,height:640,i18nName:()=>(0,n.t)("presets.android_small")},{name:"Android Large",width:360,height:800,i18nName:()=>(0,n.t)("presets.android_large")}],a=[{name:"MacBook Air",width:1280,height:832,i18nName:()=>(0,n.t)("presets.mac_book_air_m2")},{name:'MacBook Pro 14"',width:1512,height:982,i18nName:()=>(0,n.t)("presets.mac_book_pro_14")},{name:'MacBook Pro 16"',width:1728,height:1117,i18nName:()=>(0,n.t)("presets.mac_book_pro_16")},{name:"Desktop",width:1440,height:1024,i18nName:()=>(0,n.t)("presets.desktop")},{name:"Wireframe",width:1440,height:1024,i18nName:()=>(0,n.t)("community.categories.wireframe")},{name:"TV",width:1280,height:720,i18nName:()=>(0,n.t)("presets.tv")}],o=[{name:"Slide 16:9",width:1920,height:1080,i18nName:()=>(0,n.t)("presets.slide_16_9")},{name:"Slide 4:3",width:1024,height:768,i18nName:()=>(0,n.t)("presets.slide_4_3")}],l={phonePresets:i,tabletPresets:[{name:"Surface Pro 8",width:1440,height:960,i18nName:()=>(0,n.t)("presets.surface_pro_8")},{name:"iPad mini 8.3",width:744,height:1133,i18nName:()=>(0,n.t)("presets.i_pad_mini_8_3")},{name:'iPad Pro 11"',width:834,height:1194,i18nName:()=>(0,n.t)("presets.i_pad_pro_11")},{name:'iPad Pro 12.9"',width:1024,height:1366,i18nName:()=>(0,n.t)("presets.i_pad_pro_12_9")}],desktopPresets:a,presentationPresets:o,watchPresets:[{name:"Apple Watch 41mm",width:176,height:215,i18nName:()=>(0,n.t)("presets.apple_watch_41_mm")},{name:"Apple Watch 45mm",width:198,height:242,i18nName:()=>(0,n.t)("presets.apple_watch_45_mm")},{name:"Apple Watch 44mm",width:184,height:224,i18nName:()=>(0,n.t)("presets.apple_watch_44_mm")},{name:"Apple Watch 40mm",width:162,height:197,i18nName:()=>(0,n.t)("presets.apple_watch_40_mm")}],paperPresets:[{name:"A4",width:595,height:842,i18nName:()=>(0,n.t)("presets.a_4")},{name:"A5",width:420,height:595,i18nName:()=>(0,n.t)("presets.a_5")},{name:"A6",width:297,height:420,i18nName:()=>(0,n.t)("presets.a_6")},{name:"Letter",width:612,height:792,i18nName:()=>(0,n.t)("presets.letter")},{name:"Tabloid",width:792,height:1224,i18nName:()=>(0,n.t)("presets.tabloid")}],socialMediaPresets:[{name:"Twitter post",width:1200,height:675,i18nName:()=>(0,n.t)("presets.twitter_post")},{name:"Twitter header",width:1500,height:500,i18nName:()=>(0,n.t)("presets.twitter_header")},{name:"Facebook post",width:1200,height:630,i18nName:()=>(0,n.t)("presets.facebook_post")},{name:"Facebook cover",width:820,height:312,i18nName:()=>(0,n.t)("presets.facebook_cover")},{name:"Instagram post",width:1080,height:1080,i18nName:()=>(0,n.t)("presets.instagram_post")},{name:"Instagram story",width:1080,height:1920,i18nName:()=>(0,n.t)("presets.instagram_story")},{name:"Dribbble shot",width:400,height:300,i18nName:()=>(0,n.t)("presets.dribbble_shot")},{name:"Dribbble shot HD",width:800,height:600,i18nName:()=>(0,n.t)("presets.dribbble_shot_hd")},{name:"LinkedIn cover",width:1584,height:396,i18nName:()=>(0,n.t)("presets.linked_in_cover")}],figmaPresets:[{name:"Plugin icon",width:128,height:128,i18nName:()=>(0,n.t)("presets.plugin_icon")},{name:"Profile banner",width:1680,height:240,i18nName:()=>(0,n.t)("presets.profile_banner")},{name:"Plugin / file cover",width:1920,height:1080,i18nName:()=>(0,n.t)("presets.plugin_file_cover")}],archivedPresets:[{name:"iPhone 13 Pro Max",width:428,height:926,i18nName:()=>(0,n.t)("presets.i_phone_13_pro_max")},{name:"iPhone 13 / 13 Pro",width:390,height:844,i18nName:()=>(0,n.t)("presets.i_phone_13_13_pro")},{name:"iPhone 11 Pro Max",width:414,height:896,i18nName:()=>(0,n.t)("presets.i_phone_11_pro_max")},{name:"iPhone 11 Pro / X",width:375,height:812,i18nName:()=>(0,n.t)("presets.i_phone_11_pro_x")},{name:"Google Pixel 2",width:411,height:731,i18nName:()=>(0,n.t)("presets.google_pixel_2")},{name:"Google Pixel 2 XL",width:411,height:823,i18nName:()=>(0,n.t)("presets.google_pixel_2_xl")},{name:"iPad mini 5",width:768,height:1024,i18nName:()=>(0,n.t)("presets.i_pad_mini_5")},{name:"Surface Pro 4",width:1368,height:912,i18nName:()=>(0,n.t)("presets.surface_pro_4")},{name:"MacBook",width:1152,height:700,i18nName:()=>(0,n.t)("presets.mac_book")},{name:"MacBook Pro",width:1440,height:900,i18nName:()=>(0,n.t)("presets.mac_book_pro")},{name:"Surface Book",width:1500,height:1e3,i18nName:()=>(0,n.t)("presets.surface_book")},{name:"Apple Watch 42mm",width:156,height:195,i18nName:()=>(0,n.t)("presets.apple_watch_42_mm")},{name:"Apple Watch 38mm",width:136,height:170,i18nName:()=>(0,n.t)("presets.apple_watch_38_mm")},{name:"iMac",width:1280,height:720,i18nName:()=>(0,n.t)("presets.i_mac")},{name:"Macintosh 128k",width:512,height:342,i18nName:()=>(0,n.t)("presets.mac_128k")}]},s=u(Object.values(l)),c=u([i,a,o]);function d(e){let t=null;for(let r of Object.values(s)){if(e.width===r.width&&e.height===r.height)return r;e.width===r.height&&e.height===r.width&&(t=r)}return t}function u(e){return e.reduce((e,t)=>{for(let r of t)e[r.name]=r;return e},{})}},259927:(e,t,r)=>{"use strict";r.d(t,{$O:()=>O,$T:()=>d,AB:()=>u,AO:()=>h,C9:()=>_,DT:()=>H,Dm:()=>n,F:()=>l,F7:()=>g,J6:()=>m,J7:()=>G,K9:()=>S,LO:()=>P,Rb:()=>T,SA:()=>C,Sl:()=>L,U3:()=>V,Uu:()=>i,VJ:()=>U,WJ:()=>x,W_:()=>w,XX:()=>F,Yr:()=>E,Z7:()=>M,ZR:()=>o,_V:()=>y,aN:()=>v,ak:()=>s,bx:()=>N,d2:()=>A,h2:()=>p,i:()=>R,k8:()=>c,ku:()=>k,o$:()=>b,s4:()=>a,si:()=>B,t4:()=>D,wi:()=>I,yJ:()=>f});let n="js-fullscreen-prevent-event-capture",i="js-fullscreen-wheel-event-passthrough",a="js-fullscreen-wheel-event-capture",o="js-fullscreen-no-mod-wheel-event-capture",l=2147483647,s=1e-4,c="background-panel-color-picker",d="prototype-background-panel-color-picker",u="type-settings",p="style-preview-type-settings",m="font-picker",_="export-picker",h="scroll-behavior-modal",g="selection-paint-item",f="selection-style-item",E=`${g}-slides`,y="stacking-advanced-sizing",b="prototype-interaction-settings",v="accessible-reading-order",I="DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU",T="DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU",S="DROPDOWN_TYPE_SELECTION_CONTEXT_MENU",w="DROPDOWN_TYPE_CANVAS_CONTEXT_MENU",A="DROPDOWN_TYPE_PAGE_CONTEXT_MENU",C="DROPDOWN_TYPE_DEV_HANDOFF_PAGE_CONTEXT_MENU",N="DROPDOWN_TYPE_DEV_HANDOFF_OVERVIEW_ENTRY_CONTEXT_MENU",O="DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU",L="DROPDOWN_TYPE_DEV_HANDOFF_CODE_CONTEXT_MENU",R="DROPDOWN_TYPE_DEV_HANDOFF_LAYER_CONTEXT_MENU",P="DROPDOWN_TYPE_PLUGIN_RUN_CONTEXT_MENU",k="DROPDOWN_TYPE_TEXT_EDIT_MODE_CONTEXT_MENU",D="DROPDOWN_TYPE_RULER_GUIDE_CONTEXT_MENU",M="DROPDOWN_TYPE_COMMENT_CONTEXT_MENU",x="DROPDOWN_TYPE_READY_STATUS_CONTEXT_MENU",F="DROPDOWN_TYPE_ANNOTATIONS_BUTTON_CONTEXT_MENU",U="DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU",B="DROPDOWN_TYPE_SECTION_PRESET_PICKER_CONTEXT_MENU",H="DROPDOWN_TYPE_COMMENT_ATTACHMENT_CONTEXT_MENU",V="DROPDOWN_TYPE_SLIDE_CAROUSEL_CONTEXT_MENU",G="DROPDOWN_TYPE_WEBPAGE_CONTEXT_MENU"},324597:(e,t,r)=>{"use strict";r.d(t,{Dz:()=>ev,M3:()=>eS,MH:()=>eA,TV:()=>em,WJ:()=>ey,Zj:()=>eE,_o:()=>e_,_p:()=>eT,f4:()=>eb,gN:()=>eg,hV:()=>eO,id:()=>ef,k$:()=>eh,lW:()=>eN,pB:()=>eL,pn:()=>eC,rH:()=>eI,u2:()=>ew});var n=r(411855),i=r(292856),a=r(593961),o=r(538649),l=r(594462),s=r(620055),c=r(821871),d=r(599741),u=r(776250),p=r(38329),m=r(966712),_=r(374626),h=r(588169),g=r(453418),f=r(563706),E=r(712366),y=r(939863),b=r(681808),v=r(46415),I=r(738269),T=r(293017),S=r(662275),w=r(640262),A=r(196495),C=r(679915),N=r(888429),O=r(355513),L=r(516398),R=r(875847),P=r(356390),k=r(949632),D=r(852800),M=r(617453),x=r(369870),F=r(213190),U=r(730956),B=r(850168),H=r(477047),V=r(829555),G=r(471224),W=r(494668),K=r(451e3),Y=r(198868),j=r(279145),z=r(143678),$=r(997710),Z=r(726732),q=r(102930),J=r(176019),X=r(123749),Q=r(947968),ee=r(892730),et=r(302608),er=r(415408),en=r(443958),ei=r(472034),ea=r(707461),eo=r(225719),el=r(972283),es=r(900073),ec=r(487392),ed=r(368702),eu=r(589584),ep=r(113490);function em(e){return"children"in e||"childDropdown"in e}function e_(e){return"action"in e||"callback"in e}function eh(e){return"separator"in e}function eg(e){return"header"in e}function ef(e){return"render"in e}function eE(e){let t="propertyValue"in e&&void 0!==e.propertyValue;return"checked"in e||t}function ey(e,t){var r;return!!t.checked||null!=t.property&&("string"==typeof(r=t.property)?e[r]:r.getCopy())===t.propertyValue}function eb(e,t){return"string"==typeof t?e[t]:t.getCopy()}function ev(e){return e.action||e.name}let eI="edit-menu",eT="view-menu",eS="object-menu",ew="vector-menu",eA="text-menu",eC="arrange-menu",eN="preferences-menu",eO="figma-account-menu";function eL(e){let{fileMenuArgs:t,pluginAndWidgetMenuArgs:em,additionalDebugItems:e_,theme:eh,backToFileArgs:eg,zoomArgs:ef,publishingModalArgs:eE}=e;return[...eg.shouldShowBackToFiles?[{callback:(e,t,r,n)=>{var i;if(null==n||n.preventDefault(),(0,u.sx)("Back to files button clicked",{source:"fullscreen_menu"}),!(0,E.LR)()){if(n.metaKey||1===n.button){let e=p.D.getState().openFile,t=(null==(i=null==e?void 0:e.project)?void 0:i.id)||null;(0,R.N5)(p.D.getState().folders,t)?(0,O.Wq)((0,K.EE)(t,(null==e?void 0:e.parentOrgId)??null),r):(0,O.Wq)("/",r)}else r(T.eH()),r(I.oB())}},name:"back-to-files",recordingKey:"back-to-files","data-onboarding-key":"back-to-files",disabled:eg.isDisabled},{separator:!0}]:[],{action:"toggle-menu",displayText:(0,X.gn)()?(0,y.t)("fullscreen_actions.toggle-actions-menu"):(0,y.t)("fullscreen_actions.toggle-menu"),hideForQuickCommand:!0,iconType:"search"},{separator:!0},...t?function(e,t,r,i,o){let l=[{action:"place",flags:["edit","design","slides"]},{action:"import",flags:["edit","whiteboard"]},{separator:!0},...(0,m.tl)().integration_host?[]:[{name:"save-as",callback:(e,r,n)=>{(0,G.Dc)(G.hV.SaveLocalFile,t,n,e,["0:0"],"save-as"),v.ce()},flags:["view_restricted","!recovery"]}],{action:"create-savepoint",flags:["edit","!integration","!recovery"]},{action:"toggle-version-history",flags:["edit","!integration","!recovery"],property:"topLevelMode"},{separator:!0},{action:"export-selected-exportables",iconType:n.createElement(a.b),callback:(e,t,r)=>{P.Y5.triggerAction(e,{source:"menu"})},flags:["view_restricted","design","dev_handoff","!recovery","!limited_dev_mode","!slides"]},{action:"export-selection-or-current-page",callback:(e,t,r)=>{P.Y5.triggerAction(e,{source:"menu"})},flags:["view_restricted","!slides","whiteboard","!limited_dev_mode"]},{name:"export-all-frames-to-pdf",callback:(e,r,n)=>{(0,G.mU)(t,n,e)},flags:["view_restricted","design","!slides","dev_handoff","!recovery","!limited_dev_mode"]},{name:"export-all-slides-to-pdf",callback:(e,r,n)=>{(0,G.mU)(t,n,e)},flags:["view_restricted","slides"]},{separator:!0},...(0,N.m)(e,z.e0.EDITOR_MENU,r,o),...(0,N.t)(e,z.e0.EDITOR_MENU,r),...(0,w.x)({isOrgMember:i}),{separator:!0}];return[{name:"file-menu",flags:["design","dev_handoff","!integration"],children:[{action:"new-design",iconType:"external_link"},{action:"new-whiteboard",iconType:"external_link"},{action:"new-slides",iconType:"external_link",featureFlags:["piper"]},{action:"new-from-sketch"},{separator:!0},...l]},{name:"file-menu",flags:["whiteboard","!integration"],children:[{action:"new-whiteboard",iconType:"external_link"},{action:"new-design",iconType:"external_link"},{action:"new-slides",iconType:"external_link",featureFlags:["piper"]},{separator:!0},...l]},{name:"file-menu",flags:["slides","!integration"],children:[{action:"new-slides",iconType:"external_link"},{action:"new-design",iconType:"external_link"},{action:"new-whiteboard",iconType:"external_link"},{separator:!0},...l]},{name:"file-menu",flags:["integration","slides"],children:l}]}(t.branchingActionsStatus,t.saveAsState,t.topLevelMode,t.isOrgMember,t.unreadCommentCount):[],{name:eI,flags:["!edit","!dev_handoff"],children:[{action:"undo",flags:["recovery"]},{action:"redo",flags:["recovery"]},{separator:!0},{action:"focus-mode",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"focus-mode-exit",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"canvas-search"},{action:"canvas-search-next"},{action:"canvas-search-prev"},{separator:!0},{action:"toggle-dropper"},{action:"copy-properties",flags:["view_restricted"]},{separator:!0},{action:"select-all"},{action:"deselect-all"},{action:"select-inverse"},{separator:!0},{action:"select-matching"},{name:"select-all-with-menu-options",flags:["design"],children:[{action:"select-same-style",flags:["design"]},{action:"select-same-fill",flags:["design"]},{action:"select-same-stroke",flags:["design"]},{action:"select-same-effect",flags:["design"]},{action:"select-same-text",flags:["design"]},{action:"select-same-font",flags:["design"]},{action:"select-same-instance",flags:["design"]},{action:"select-same-variant",flags:["design"]}]},{name:"request-to-edit",flags:["design","!edit"],searchOnly:!0,callback:(e,t,r)=>{var n;let i=null==(n=p.D.getState().openFile)?void 0:n.key;i&&(0,ee.E)(r,i)}}]},{name:eI,flags:["!edit","dev_handoff"],children:[{name:"copy",flags:["desktop_os_menu"]},{name:"paste",flags:["desktop_os_menu"]},{name:"cut",flags:["desktop_os_menu"]},{action:"copy-as-menu",flags:["view_restricted"],children:[{action:"copy-text"},{action:"copy-as-svg"},{action:"copy-as-png"},{action:"copy-layer-name"}]},{separator:!0},{action:"focus-mode",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"focus-mode-exit",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"canvas-search"},{action:"canvas-search-next"},{action:"canvas-search-prev"},{separator:!0},{action:"select-all"},{action:"deselect-all"}]},{name:eI,flags:["edit","!dev_handoff"],children:[{action:"undo"},{action:"redo"},{separator:!0},{name:"cut",flags:["desktop_os_menu"]},{name:"copy",flags:["desktop_os_menu"]},{action:"copy-as-menu",flags:["view_restricted"],children:[{action:"copy-text",flags:["design","slides"]},{action:"copy-as-css",flags:["design"],callback:()=>{(0,u.sx)("edit_menu_copy_as_css_clicked")}},{action:"copy-as-css-recursive",flags:["design"],callback:()=>{(0,u.sx)("edit_menu_copy_as_css_all_layers_clicked")}},{action:"copy-as-svg",flags:["design"]},{action:"copy-as-png"}]},{name:"paste",flags:["desktop_os_menu"]},{action:"paste-over-selection"},{action:"paste-to-replace"},{action:"duplicate-in-place"},{action:"delete-selection"},{separator:!0},{action:"focus-mode",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"focus-mode-exit",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"canvas-search"},{action:"canvas-search-next"},{action:"canvas-search-prev"},{action:"canvas-search-replace"},{separator:!0},{action:"set-default-style",flags:["design"]},{action:"copy-properties",flags:["design"]},{action:"paste-properties",flags:["design"]},{separator:!0},{action:"toggle-dropper",flags:["design"]},{separator:!0},{action:"select-all"},{action:"select-matching",flags:["design"]},{action:"deselect-all"},{action:"select-inverse"},{name:"select-all-with-menu-options",flags:["design"],children:[{action:"select-same-style",flags:["design"]},{action:"select-same-fill",flags:["design"]},{action:"select-same-stroke",flags:["design"]},{action:"select-same-effect",flags:["design"]},{action:"select-same-text",flags:["design"]},{action:"select-same-font",flags:["design"]},{action:"select-same-instance",flags:["design"]},{action:"select-same-variant",flags:["design"]}]}]},{name:eT,children:[{action:"toggle-grid",flags:["design","dev_handoff"],property:(0,M.UK)().renderGrid,propertyValue:!0,displayForQuickCommand:"show-pixel-grid"},{action:"toggle-show-dot-grid",flags:["whiteboard"],property:(0,M.UK)().showDotGrid,propertyValue:!0,displayForQuickCommand:"toggle-show-dot-grid"},{action:"toggle-shown-layout-grids",flags:["edit","design","slides","dev_handoff"],property:(0,M.UK)().showFrameGrids,propertyValue:!0,displayForQuickCommand:"show-layout-grids"},{action:"toggle-shown-layout-grids",flags:["!edit","design","slides","dev_handoff"],property:(0,k.d)().showFrameGridsViewOnly,propertyValue:!0,displayForQuickCommand:"show-layout-grids"},{action:"toggle-rulers",flags:["design","dev_handoff"],property:(0,M.UK)().renderRulers,propertyValue:!0,displayForQuickCommand:"show-rulers"},{action:"toggle-stack-debug-mode",flags:["design"],property:(0,M.UK)().stackInsertionDebugMode,propertyValue:!0,displayForQuickCommand:"toggle-stack-debug-mode",featureFlags:["ce_al_experiments_disabled"]},{action:"toggle-stack-shadows",flags:["design"],property:(0,M.UK)().renderStackShadows,propertyValue:!0,displayForQuickCommand:"toggle-stack-shadows",featureFlags:["ce_al_experiments_disabled"]},{action:"toggle-dynamic-insertion-points",flags:["design"],property:(0,M.UK)().renderDynamicInsertionPoints,propertyValue:!0,displayForQuickCommand:"toggle-dynamic-insertion-points",featureFlags:["ce_al_experiments_disabled"]},{action:"toggle-auto-fill-full-width-children",flags:["design"],property:(0,M.UK)().shouldSetFullWidthChildToFill,propertyValue:!0,displayForQuickCommand:"toggle-auto-fill-full-width-children",featureFlags:["ce_al_experiments_disabled"]},{action:"toggle-alu-visual-indicators",flags:["design"],property:(0,M.UK)().renderALUVisualIndicators,propertyValue:!0,displayForQuickCommand:"toggle-alu-visual-indicators",featureFlags:["ce_al_experiments_on"]},{action:"toggle-alu-hints",flags:["design"],property:(0,M.UK)().renderALUHints,propertyValue:!0,displayForQuickCommand:"toggle-alu-hints",featureFlags:["ce_al_experiments_on"]},{action:"toggle-show-slices",flags:["design"],property:(0,M.UK)().showSlices,propertyValue:!0,displayForQuickCommand:"show-slices"},{action:"toggle-show-comments",flags:["design","dev_handoff","slides"],property:"showComments",propertyValue:!0,displayForQuickCommand:"show-comments",hideForQuickCommand:f.Ay.isIpadNative},{action:"toggle-show-annotations",flags:["dev_handoff"],property:D.Ez5.uiState().showAnnotations,propertyValue:!0,displayForQuickCommand:"show-annotations",hideForQuickCommand:f.Ay.isIpadNative},{name:"outline-mode",flags:["design","dev_handoff"],children:[{action:"toggle-outlines",property:(0,k.d)().showOutlines,propertyValue:!0,shortcutText:(0,j.c1)(p.D.getState().mirror.appModel.keyboardShortcuts,"toggle-outlines-with-migration-notice")||(0,j.c1)(p.D.getState().mirror.appModel.keyboardShortcuts,"toggle-outlines")},{separator:!0},{action:"toggle-outline-mode-hidden-layers",property:(0,k.d)().showOutlineHiddenLayers,propertyValue:!0,displayForQuickCommand:"toggle-outline-mode-hidden-layers-qc"},{action:"toggle-outline-mode-object-bounds",property:(0,k.d)().showOutlineObjectBounds,propertyValue:!0,displayForQuickCommand:"toggle-outline-mode-object-bounds-qc"}]},{action:"toggle-pixel-preview",flags:["design","dev_handoff"],property:(0,M.UK)().activeCanvasPixelPreview,propertyValue:!0,displayForQuickCommand:"show-pixel-preview"},{action:"toggle-show-masks",flags:["design"],property:(0,M.UK)().showMasks,propertyValue:!0,displayForQuickCommand:"show-mask-outlines"},{action:"toggle-show-artboard-outlines",flags:["design"],property:(0,M.UK)().showArtboardOutlines,propertyValue:!0,displayForQuickCommand:"show-frame-outlines"},{action:"toggle-memory-usage-indicator",property:D.Ez5.uiState().showMemoryUsage,flags:["design"],propertyValue:!0},{action:"toggle-resource-use",property:D.Ez5.uiState().renderResourceUse,flags:["whiteboard"],propertyValue:!0},{action:"toggle-icon-detection",property:D.Ez5.devHandoffState().automaticIconDetection,propertyValue:!0,flags:["dev_handoff","!limited_dev_mode"]},{action:"toggle-dropper",flags:["dev_handoff"]},{separator:!0},...F.L.ui3MinimizeUILabValue()?[{action:"toggle-sidebar",displayText:(0,y.t)("fullscreen_actions.minimize-ui"),displayForQuickCommand:"minimize-ui",checked:F.L.isMinimizedInUI3(),searchSynonyms:[(0,y.t)("fullscreen_actions.expand-ui")]}]:[],{action:"toggle-ui",property:"showUi",propertyValue:!0},{action:"toggle-multiplayer-cursors",property:"hideMultiplayerCursors",propertyValue:!1},...F.L.ui3MinimizeUILabValue()?[]:[D.Ez5.uiState().isUI3.getCopy()?{action:"toggle-sidebar",property:D.Ez5.uiState().leftPanelCollapsedUI3,propertyValue:!1,flags:["dev_handoff","whiteboard"]}:{action:"toggle-sidebar",property:(0,M.UK)().showSidebar,propertyValue:!0,flags:["dev_handoff"]}],{action:"enter-design-mode",flags:["dev_handoff"]},{action:"enter-inspect-mode",flags:["!dev_handoff","!recovery","!slides","!sites"],disabled:(0,x.MP)()},{action:"panels-menu",flags:["design","view_restricted","!dev_handoff"],children:[{action:"toggle-layers"},{action:"toggle-publish"},{action:"show-design-panel"},{action:"show-prototype-panel",notFeatureFlags:["prototype_modality"]},{action:"toggle-prototyping-info",searchOnly:!0,flags:["edit"]},{action:"toggle-prototyping-info",searchOnly:!0,flags:["!edit"],displayForQuickCommand:"toggle-prototyping-information"},{action:"show-inspect-panel",flags:["!edit"]},{action:"toggle-variables"},{separator:!0},...F.L.ui3MinimizeUILabValue()?[]:[D.Ez5.uiState().isUI3.getCopy()?{action:"toggle-sidebar",property:D.Ez5.uiState().leftPanelCollapsedUI3,propertyValue:!1}:{action:"toggle-sidebar",property:(0,M.UK)().showSidebar,propertyValue:!0}]]},{separator:!0},{action:"zoom-in",disabled:!(null==ef?void 0:ef.canZoomIn)},{action:"zoom-out",disabled:!(null==ef?void 0:ef.canZoomOut)},{action:"zoom-reset"},{action:"zoom-to-fit",iconType:n.createElement(o.O)},{action:"zoom-to-selection"},{separator:!0},{action:"page-previous",flags:["design","whiteboard","dev_handoff"]},{action:"page-next",flags:["design","whiteboard","dev_handoff"]},{action:"previous-artboard",flags:["design","dev_handoff"]},{action:"next-artboard",flags:["design","dev_handoff"]},{action:"previous-artboard-same-zoom",flags:["design","dev_handoff"]},{action:"next-artboard-same-zoom",flags:["design","dev_handoff"]},{separator:!0},{name:"interface-scale-menu",flags:["desktop_os_menu"]},{separator:!0},{name:"toggle-full-screen",flags:["desktop_os_menu"]},{name:"always-show-tabs-when-presenting",flags:["desktop_os_menu"]}]},{name:eS,flags:["!dev_handoff"],children:[{action:"frame-selection",flags:["design","edit"]},{action:"group-selection",flags:["edit"]},{action:"ungroup-selection",flags:["edit"]},{separator:!0},{action:"create-section-from-selection",flags:["edit","!slides"]},{action:"replace-selected-frame-with-section",flags:["edit","!slides"]},{action:"replace-selected-section-with-frame",flags:["edit","!slides"]},{separator:!0},{action:"create-section",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,L.FT)()}},{action:"mask-selection",flags:["design","edit","slides"],get displayText(){switch(D.Ez5.editorState().selectionIsMask.getCopy()){case D.F84.OFF:case D.F84.MIXED:return(0,y.t)("fullscreen_actions.mask-selection");case D.F84.ON:return(0,y.t)("fullscreen.menu.remove_mask")}}},{action:"create-comment",flags:["whiteboard","edit"],searchOnly:!0},{action:"create-sticky",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,L.FT)()}},{action:"create-text-node",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,L.FT)()}},{action:"create-ellipse",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,L.FT)()}},{action:"create-diamond",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,L.FT)()}},{action:"create-triangle",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,L.FT)()}},{action:"create-rounded-rectangle",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,L.FT)()}},{action:"create-responsive-set",flags:["design"],featureFlags:["sites"],searchOnly:!0},{action:"convert-table-to-sticky-grid",flags:["whiteboard","edit"],searchOnly:!0},{get name(){return P.Y5.getFileThumbnailMenuItemName()},callback:()=>P.Y5.handleFileThumbnailMenuItem(),get disabled(){return P.Y5.disableFileThumbnailMenu()},flags:["edit"]},{separator:!0},{action:"stack-selection",flags:["design","edit"]},{action:"run-single-stack-auto-layout",flags:["design","edit"],featureFlags:["auto_auto_layout"]},{action:"create-symbol",flags:["design","edit"]},{action:"create-template",flags:["design","edit"],featureFlags:["dse_templates_proto"]},{action:"create-module",flags:["design","edit"],featureFlags:["dse_editor_templates_v1","dse_module_publish"]},{action:"reset-symbol",flags:["design","edit"]},{action:"detach-instance",flags:["design","edit"]},{action:"main-component",flags:["design"],children:[{action:"find-symbol"},{action:"push-changes-to-main",flags:["edit"]},{action:"restore-symbol-or-state-group",flags:["edit"]}]},{separator:!0},{action:"bring-to-front",flags:["edit"]},{action:"bring-forward",flags:["edit"]},{action:"send-backward",flags:["edit"]},{action:"send-to-back",flags:["edit"]},{separator:!0},{action:"flip-horizontal",flags:["edit"]},{action:"flip-vertical",flags:["edit"]},{separator:!0},{action:"rotate-180",flags:["edit"]},{action:"rotate-90-counterclockwise",flags:["edit"]},{action:"rotate-90-clockwise",flags:["edit"]},{separator:!0},{action:"flatten-selection",flags:["design","edit","slides"]},{action:"outline-stroke",flags:["design","edit"],shortcutText:(0,j.c1)(p.D.getState().mirror.appModel.keyboardShortcuts,"outline-stroke-with-migration-notice")||(0,j.c1)(p.D.getState().mirror.appModel.keyboardShortcuts,"outline-stroke")},{name:"boolean-menu",flags:["design","edit"],children:[{action:"live-boolean-union"},{action:"live-boolean-subtract"},{action:"live-boolean-intersect"},{action:"live-boolean-xor"}]},{action:"convert-to-raster",flags:["design","edit"]},{separator:!0},{action:"toggle-shown-for-selected-nodes",flags:["design","edit"]},{action:"toggle-locked-for-selected-nodes",flags:["edit"]},{action:"unlock-all",flags:["whiteboard","edit"]},{action:"hide-sibling-layers",flags:["design","edit"]},{action:"collapse-layers",flags:["design","edit"]},{separator:!0},{action:"remove-fill",flags:["design","edit"]},{action:"remove-stroke",flags:["design","edit"]},{action:"swap-fill-and-stroke",flags:["design","edit"]},{action:"remove-interactions-on-selection",flags:["design","edit"]}]},{name:eA,flags:["edit","!dev_handoff"],children:[{action:"toggle-bold"},{action:"text-toggle-italic"},{action:"text-toggle-underline"},{action:"text-toggle-strikethrough"},{action:"text-edit-hyperlink"},{action:"text-upgrade-to-bidi",searchOnly:!0},{action:"text-upgrade-explicit-layout-version",featureFlags:["ce_textlinedata_styleid"],searchOnly:!0},{separator:!0},{action:"text-toggle-unordered-list"},{action:"text-toggle-ordered-list"},{separator:!0},{action:"text-align-menu",children:[{action:"text-align-left"},{action:"text-align-center"},{action:"text-align-right"},{action:"text-align-justified",flags:["design","slides"]},{separator:!0,flags:["design","slides"]},{action:"text-align-top",flags:["design","slides"]},{action:"text-align-middle",flags:["design","slides"]},{action:"text-align-bottom",flags:["design","slides"]}]},{action:"text-adjust-menu",children:[{action:"text-indent-list"},{action:"text-dedent-list"},{action:"text-font-size-increase",flags:["design","slides"]},{action:"text-font-size-decrease",flags:["design","slides"]},{action:"text-bold-increase",flags:["design"]},{action:"text-bold-decrease",flags:["design"]},{action:"text-line-height-increase",flags:["design"]},{action:"text-line-height-decrease",flags:["design"]},{action:"text-letter-spacing-increase",flags:["design"]},{action:"text-letter-spacing-decrease",flags:["design"]}]},{action:"text-case-menu",flags:["design"],children:[{action:"text-original-case",callback:()=>{(0,J.i4)("ORIGINAL","menu")},flags:["design"]},{action:"text-upper-case",callback:()=>{(0,J.i4)("UPPER","menu")},flags:["design"]},{action:"text-lower-case",callback:()=>{(0,J.i4)("LOWER","menu")},flags:["design"]},{action:"text-title-case",callback:()=>{(0,J.i4)("TITLE","menu")},flags:["design"],searchOnly:!0},{action:"text-small-caps",callback:()=>{(0,J.i4)("SMALL_CAPS","menu")},flags:["design"],searchOnly:!0},{action:"text-forced-small-caps",callback:()=>{(0,J.i4)("SMALL_CAPS_FORCED","menu")},flags:["design"],searchOnly:!0}]},{action:"text-directionality-menu",children:[{action:"text-set-directionality-ltr",hideForQuickCommand:!0},{action:"text-set-directionality-rtl",hideForQuickCommand:!0},{action:"text-set-directionality-ltr-qa",searchOnly:!0},{action:"text-set-directionality-rtl-qa",searchOnly:!0}]},{separator:!0},{name:"spell-check-menu",flags:["design","whiteboard","slides"],children:[(0,B.x)(),{separator:!0},...(0,B.A)()]},...r(636807).dL(em,"filemenu")]},{name:eC,flags:["edit","!dev_handoff"],children:[{action:"round-to-pixels",flags:["design"]},{separator:!0},{action:"align-left"},{action:"align-horizontal-center"},{action:"align-right"},{action:"align-top"},{action:"align-vertical-center"},{action:"align-bottom"},{separator:!0},{action:"tidy-up"},{separator:!0},{action:"pack-horizontal",flags:["design"]},{action:"pack-vertical",flags:["design"]},{separator:!0},{action:"distribute-horizontal-spacing"},{action:"distribute-vertical-spacing"},{separator:!0},{action:"distribute-left",flags:["design"]},{action:"distribute-horizontal-center",flags:["design"]},{action:"distribute-right",flags:["design"]},{action:"distribute-top",flags:["design"]},{action:"distribute-vertical-center",flags:["design"]},{action:"distribute-bottom",flags:["design"]}]},{name:ew,flags:["edit","design","!dev_handoff"],children:[{action:"join-selection"},{action:"smooth-join-selection"},{action:"delete-and-heal-selection"}]},{separator:!0},...em?function(e){{if(!e||!e.userCanRunPlugins)return[];let t=r(636807).qz(e,"filemenu");return t?[t]:[]}}(em):[],...em&&em&&!em.isReadOnly?[r(486846).Vd(em,"filemenu")]:[],{action:"browse-all-resources-modal",flags:["whiteboard","slides","edit"],searchOnly:!0},{action:"set-tool-code-block",flags:["whiteboard","edit"],searchOnly:!0},{name:eN,children:[{name:"dev-handoff-code-settings-language",flags:["dev_handoff","!limited_dev_mode"],children:(0,b.R)(p.D.getState().mirror.appModel)},{name:"dev-handoff-code-settings-unit",flags:["dev_handoff","!limited_dev_mode"],children:(0,b.y)(p.D.getState().mirror.appModel)},{separator:!0,flags:["dev_handoff","!limited_dev_mode"]},{action:"toggle-snapping-to-geometry",property:(0,M.UK)().snapToGeometry,propertyValue:!0,flags:["edit","design"]},{action:"toggle-snapping-to-objects",property:(0,M.UK)().snapToObjects,propertyValue:!0,flags:["edit","design"]},{action:"toggle-snapping-to-pixels",property:(0,M.UK)().snapToPixelGrid,propertyValue:!0,flags:["edit","design"]},{action:"toggle-snapping-to-dots",property:(0,m.kc)().figjam_snap_to_dot_grid_reset?(0,M.UK)().snapToDotGridStagingReset:(0,M.UK)().snapToDotGrid,propertyValue:!0,flags:["edit","whiteboard"]},{separator:!0,flags:["edit"]},{action:"toggle-sticky-tools",property:(0,M.UK)().stickyTools,propertyValue:!0,flags:["design","dev_handoff"],hideForQuickCommand:!0},{action:"disable-pinch-zoom-fix",property:(0,M.UK)().disablePinchZoomFix,propertyValue:!0,platforms:["windows"],hideForQuickCommand:!0},{action:"toggle-layer-hover",property:(0,M.UK)().layerHover,propertyValue:!0,flags:["design","dev_handoff"],hideForQuickCommand:!0},{action:"toggle-copy-renaming",property:(0,M.UK)().copyRenaming,propertyValue:!0,flags:["edit","design"],hideForQuickCommand:!0},{action:"toggle-annotations",property:(0,M.UK)().renderAnnotations,propertyValue:!0,flags:["design"],hideForQuickCommand:!0},{action:"toggle-viewport-overlay-hiding",property:(0,M.UK)().temporarilyHideViewportOverlay,propertyValue:!0,flags:["design"],hideForQuickCommand:!0},{action:"toggle-smart-quotes",property:(0,M.UK)().smartQuotes,propertyValue:!0,flags:["edit","design"],hideForQuickCommand:!0},{action:"toggle-flip-during-resize",property:(0,M.UK)().flipDuringResize,propertyValue:!0,flags:["edit","design"],hideForQuickCommand:!0},{separator:!0,flags:["edit","whiteboard"]},{action:"toggle-keyboard-zoom-to-selection",property:(0,M.UK)().keyboardZoomToSelection,propertyValue:!0,hideForQuickCommand:!0},{action:"toggle-invert-zoom",property:(0,M.UK)().invertZoom,propertyValue:!0,hideForQuickCommand:!0},{action:"toggle-ctrl-click-context-menu",property:(0,M.UK)().ctrlClickContextMenu,propertyValue:!0,hideForQuickCommand:!0},{separator:!0,flags:["edit","whiteboard"]},{action:"toggle-cursor-high-five-wiggle",property:(0,M.UK)().cursorHighFiveWiggle,propertyValue:!0,flags:["whiteboard"],hideForQuickCommand:!0},{action:"toggle-use-numbers-for-opacity",property:D.Ez5.editorState().useNumbersForOpacity,propertyValue:!0,flags:["edit","design","slides"],hideForQuickCommand:!0},{action:"toggle-use-old-outline-shortcuts",property:(0,M.UK)().useOldOutlineShortcuts,propertyValue:!0,featureFlags:["ce_outline_mode_shortcut_pref"],flags:["design","dev_handoff"],hideForQuickCommand:!0},{name:"open-links-in-desktop-app",get checked(){return q.N.isAutoOpenEnabled()},callback:()=>{q.N.toggleAutoOpen()},flags:["!desktop"],get platforms(){return q.N.shouldShowOnce()?[]:["mac","windows"]}},...(0,Q.go)(),{name:"show-templates-for-new-figjam-files",get checked(){return!(0,eu.J)()},callback:(e,t,r)=>{r((0,eu.x)({hide:!(0,eu.J)(),triggeredFrom:"fullscreen_menu"}))},flags:["whiteboard"]},...(0,g.Sd)(),{separator:!0,flags:["edit"]},{separator:!0,flags:["dev_handoff"]},{name:"theme-menu-option",flags:["design","dev_handoff","slides"],children:(0,W.YA)(eh)},...(0,V.r)(),(0,en.WB)(),...(0,h.xt)(),{name:"accessibility-settings",flags:(0,m.u4)("a11y_design_dom_mirror",["design","whiteboard"],["whiteboard"]),callback:(e,t,r)=>{r((0,S.to)({type:$.L}))}},{action:"show-nudge-amount-picker",flags:["edit","design"]}]},{action:"open-preferences-modal",flags:["design"]},{separator:!0},{get name(){return P.Y5.getDesktopAppMenuItemName()},callback:e=>P.Y5.handleDesktopAppMenuItem(e),flags:["!desktop"],platforms:["mac","windows"]},{name:eO,children:[{action:"open-help",iconType:"external_link"},{action:"open-shortcuts"},{action:"open-support-forum",iconType:"external_link"},{action:"open-tutorials",iconType:"external_link"},{action:"open-release-notes",iconType:"external_link"},{action:"open-font-settings",flags:["!desktop","!integration","design"],iconType:"external_link"},{separator:!0},{name:"troubleshooting-menu",flags:["desktop_os_menu"]},{separator:!0},{action:"open-legal-summary",iconType:"external_link"},{action:"open-account-settings",flags:["!integration"],iconType:"external_link"},{name:"sign-out",flags:["!integration"],callback:(e,t,r)=>{r(A.S5())},hideForQuickCommand:!0}]},{action:"set-tool-mindmap-tree-nucleus",flags:["whiteboard","edit"],featureFlags:["figjam_mindmaps_entry_enable"],searchOnly:!0},{action:"set-tool-arrow",flags:["design"],searchOnly:!0},{action:"set-tool-default",flags:["design"],searchOnly:!0},{action:"set-tool-default-figjam",flags:["whiteboard"],searchOnly:!0},{action:"set-tool-hand",searchOnly:!0},{action:"set-tool-comments",iconType:n.createElement(l.S),searchOnly:!0,disabled:f.Ay.isIpadNative},{action:"spotlight-me",searchOnly:!0},{action:"follow-presenter",searchOnly:!0},...ep.J,{action:"restore-autolayout-position",flags:["design"],searchOnly:!0,isLowPriorityMatch:!0},{action:"republish-selected-components",flags:["design"],searchOnly:!0},{action:"component-insert",flags:["design"],searchOnly:!0},{action:"republish-auto-layout-components",flags:["design"],searchOnly:!0,isLowPriorityMatch:!0},{action:"select-broken-fixed-scrolling-nodes",flags:["design"],searchOnly:!0,isLowPriorityMatch:!0},{action:"text-relayout",searchOnly:!0,isLowPriorityMatch:!0},{action:"disable-all-unframed-masks",flags:["whiteboard"],searchOnly:!0},{action:"resize-to-fit",flags:["design"],searchOnly:!0},{action:"toggle-frame-clipping",flags:["design"],searchOnly:!0},{action:"set-tool-bend",flags:["edit","design"],searchOnly:!0},{action:"set-tool-ellipse",flags:["edit","design"],searchOnly:!0},{action:"set-tool-frame",flags:["edit","design"],searchOnly:!0},{action:"set-tool-line",flags:["edit","design"],searchOnly:!0},{action:"set-tool-paint-bucket",flags:["edit"],searchOnly:!0},{action:"set-tool-pen",flags:["edit","design"],searchOnly:!0},{action:"set-tool-pencil",flags:["edit","design"],searchOnly:!0},{name:"set-tool-marker",shortcutText:"M",callback:()=>{P.Y5.triggerAction("set-tool-pencil")},flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-rectangle",flags:["edit","design"],searchOnly:!0},{action:"set-tool-regular-polygon",flags:["edit","design"],searchOnly:!0},{action:"set-tool-scale",flags:["edit","design"],searchOnly:!0},{action:"set-tool-slice",flags:["edit","design"],searchOnly:!0},{action:"set-tool-star",flags:["edit","design"],searchOnly:!0},{action:"set-tool-sticky",flags:["edit","whiteboard"],searchOnly:!0},{name:"set-tool-stamp",flags:["edit","whiteboard"],searchOnly:!0,callback:(e,t,r)=>{(0,el.AH)({source:"quick-actions"})}},{action:"set-tool-connector-elbowed",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-connector-straight",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-square",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-ellipse",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-diamond",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-triangle-up",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-triangle-down",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-rounded-rectangle",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-type",flags:["edit"],searchOnly:!0},{action:"set-tool-eraser",flags:["whiteboard"],searchOnly:!0},{action:"set-tool-highlighter",flags:["whiteboard"],searchOnly:!0},{action:"toggle-custom-cursor",flags:["whiteboard"],featureFlags:["multiplayer_figjam_fun_cursors"],searchOnly:!0},{action:"set-tool-washi-tape",flags:["edit","whiteboard"],searchOnly:!0},{action:"sort-by-text-content",flags:["edit","whiteboard"],searchOnly:!0,featureFlags:["figjam_sort_by"]},{action:"sort-by-stamps",flags:["edit","whiteboard"],searchOnly:!0,featureFlags:["figjam_sort_by"]},{action:"sort-by-color",flags:["edit","whiteboard"],searchOnly:!0,featureFlags:["figjam_sort_by"]},{action:"sort-by-author",flags:["edit","whiteboard"],searchOnly:!0,featureFlags:["figjam_sort_by"]},{action:"set-tool-table",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-measure",iconType:n.createElement(s.L),flags:["dev_handoff"],searchOnly:!0},{action:"set-tool-annotate",iconType:n.createElement(c.r),flags:["dev_handoff"],searchOnly:!0},{action:"open-timer",flags:["whiteboard"],searchOnly:!0,callback:()=>{_.zl.set(es.Qs,{type:"OPEN"}),(0,u.sx)(ec.Fn.OPEN,{source:ec.OO.QUICK_ACTIONS}),(0,ed.D)(()=>{_.zl.set(es.Qs,{type:"CLOSE"})})}},{action:"toggle-help-widget",searchOnly:!0,property:(0,M.UK)().hideHelpWidget,propertyValue:!0},{action:"toggle-multiplayer-cursors",searchOnly:!0,property:"hideMultiplayerCursors",propertyValue:!1},{action:"unlock-all",flags:["edit"],searchOnly:!0},{action:"unhide-all",flags:["edit","design"],searchOnly:!0},{action:"toggle-library",flags:["edit"],searchOnly:!0},{action:"crop-image",flags:["edit"],searchOnly:!0},{action:"reset-transform",flags:["edit","design","whiteboard","slides"],searchOnly:!0,isLowPriorityMatch:!0},{action:"copy-link",flags:["edit","design","whiteboard","slides"],searchOnly:!0},{action:"sites-copy-link",flags:["sites"],searchOnly:!0},{name:"report-issue",featureFlags:["bug_reporter"],callback:(e,t,r)=>{r((0,S.to)({type:et.bb,data:{},showModalsBeneath:!0}))},searchOnly:!0,searchSynonyms:["report a bug"]},{name:"set-commit-sha",featureFlags:["set_frontend_commit_sha"],callback:(e,t,r)=>{r((0,S.to)({type:ea.sS,data:{},showModalsBeneath:!0}))},searchOnly:!0},{name:"debug-menu",flags:(0,m.kc)().internal_only_debug_tools?[]:["!ship"],children:[{action:"add-default-cell-styles-to-tables",searchOnly:!0},{action:"toggle-memory-usage-indicator",property:D.Ez5.uiState().showMemoryUsage,flags:["design"],propertyValue:!0},{name:"download-memory-profile",featureFlags:["memory_profiling_local"],callback:async()=>{window.MemoryDebug&&await window.MemoryDebug.downloadPprof(),alert("Profile downloaded!")}},{action:"toggle-resource-use",property:D.Ez5.uiState().renderResourceUse,propertyValue:!0},{action:"debug-toggle-show-canvas-axis",property:D.Ez5.uiState().showCanvasXYAxis,propertyValue:!0,featureFlags:["internal_only_debug_tools"]},{action:"debug-toggle-show-mouse-position",property:D.Ez5.uiState().showMousePosition,propertyValue:!0,featureFlags:["internal_only_debug_tools"]},{action:"debug-toggle-whiteboard-pdf-import-node-replacement",property:(0,M.UK)().disableWhiteboardPdfImportNodeReplacement,propertyValue:!1,isLowPriorityMatch:!0,featureFlags:["internal_only_debug_tools"]},{action:"debug-selection"},{action:"change-document-color-profile-to-display-p3",displayForQuickCommand:"change-document-color-profile-to-display-p3-quick-action"},{action:"change-document-color-profile-to-srgb",displayForQuickCommand:"change-document-color-profile-to-srgb-quick-action"},{action:"assign-document-color-profile-legacy",displayForQuickCommand:"assign-document-color-profile-legacy-quick-action",featureFlags:["ee_color_management_debug"]},{action:"toggle-recording-interactions"},{action:"toggle-perf-hud"},{action:"toggle-fake-mp-activity"},{action:"toggle-tsmer-config"},{action:"toggle-debug-doc-sync-logs",isLowPriorityMatch:!0},{action:"toggle-debug-user-sync-logs",isLowPriorityMatch:!0},{action:"toggle-debug-page-sync-logs",isLowPriorityMatch:!0},{action:"debug-incremental-loading-all-pages",isLowPriorityMatch:!0},{action:"debug-incremental-loading-current-only",isLowPriorityMatch:!0},{action:"toggle-debug-layout-logs",isLowPriorityMatch:!0},{action:"toggle-show-guids",property:(0,M.UK)().showGuids,propertyValue:!0,isLowPriorityMatch:!0},{action:"debug-toggle-figma-scope",property:(0,M.UK)().showFigmaScope,propertyValue:!0,isLowPriorityMatch:!0,featureFlags:["internal_only_debug_tools"]},{action:"debug-print-as-test-code",isLowPriorityMatch:!0},{action:"debug-print-vector-network-as-test-code",isLowPriorityMatch:!0},{action:"force-publish-state-group",isLowPriorityMatch:!0,featureFlags:["ds_force_publish_cmd"]},{action:"toggle-canvas-search-debug",property:(0,M.UK)().canvasSearchDebug,propertyValue:!0,isLowPriorityMatch:!0},{action:"toggle-accessibility-dom-debug",property:(0,M.UK)().accessibilityDomDebug,flags:["whiteboard"],propertyValue:!0,isLowPriorityMatch:!0},{action:"toggle-fpl-debug",property:(0,M.UK)().fplDebug,propertyValue:!0,isLowPriorityMatch:!0},{action:"toggle-show-quick-command-rank-debug",property:(0,M.UK)().showQuickCommandRankDebug,propertyValue:!0},{action:"toggle-show-immutable-frame-sublayers",flags:["design"],property:(0,M.UK)().showImmutableFrameSublayers,propertyValue:!0},{action:"toggle-force-publish-flattened",property:"forcePublishFlattened",propertyValue:!0},{action:"toggle-pen-tool-avoid-single-handles",property:(0,M.UK)().penToolAvoidSingleHandles,propertyValue:!0},{action:"purge-all-memory",isLowPriorityMatch:!0},{action:"export-for-framer",flags:["design"]},{action:"simulate-back-to-files",flags:["!integration"]},{action:"test-multiplayer-upgrade"},{action:"test-multiplayer-reject-too-old"},{action:"test-multiplayer-reject-invalid-permissions"},{action:"test-multiplayer-reject-not-logged-in"},{action:"test-multiplayer-reject-too-many-connections"},{action:"download-webgl-trace",featureFlags:["webgl_recorder"]},{action:"print-render-tree"},{action:"print-image-diagnostics"},{action:"test-action"},{action:"toggle-display-dirty-rects",property:(0,M.UK)().toggleDisplayDirtyRects,propertyValue:!0},{action:"toggle-display-dirty-tiles",property:(0,M.UK)().toggleDisplayDirtyTiles,propertyValue:!0},{action:"toggle-display-gpu-metrics",property:(0,M.UK)().toggleDisplayGpuMetrics,propertyValue:!0},{name:"set-missing-font",callback:()=>P.Y5.dispatch(S.$O({type:ei.o,data:{}}))},{name:"detach-multiplayer",callback:(e,t,r)=>{(0,U.K7)()}},{name:"reattach-multiplayer",callback:(e,t,r)=>{(0,U.dh)()}},{name:"abandon-reattach",callback:(e,t,r)=>{(0,U.IZ)()}},{action:"reflow-immutable-frames",searchOnly:!0},{action:"swap-nodes",searchOnly:!0,featureFlags:["ce_swap_nodes"]},{action:"toggle-overlay-ui-rendering",property:(0,k.d)().overlayUiRendering,propertyValue:!0,isLowPriorityMatch:!0},{action:"toggle-allow-time-sliced-edit-rendering-optimization",property:(0,k.d)().allowTimeSlicedEditRenderingOptimization,flags:["whiteboard"],propertyValue:!0,isLowPriorityMatch:!0},{action:"toggle-sync-cursor-rendering",property:(0,k.d)().syncCursorRenderingToSceneGraph,flags:["whiteboard"],propertyValue:!0,isLowPriorityMatch:!0},{name:"apply-palette-to-selection",callback:eo.db,flags:["whiteboard"],isLowPriorityMatch:!0},{action:"similar-includes-matching",flags:["design"],property:(0,M.UK)().similarIncludesMatching,propertyValue:!0},{action:"toggle-similar-highlights",flags:["design"],property:(0,M.UK)().toggleSimilarHighlights},{name:"toggle-figment-debugger",searchOnly:!0,featureFlags:["figment_debugger"],callback:Z.Y},{action:"debug-toggle-diagram-layout-paused",featureFlags:["figjam_mindmaps_behavior_enable"],searchOnly:!0},{action:"test-independent-layer-animation"},{action:"test-independent-layer-animation-eased",featureFlags:["fullscreen_flanimations"]},{action:"test-independent-layer-animation-opacity",featureFlags:["fullscreen_flanimations"]},{name:"magic-link-debug-group",children:[{action:"toggle-magic-link-use-vision",property:(0,M.UK)().toggleMagicLinkUseVision,featureFlags:["prototype_ai_magic_link"],propertyValue:!0},{action:"toggle-debug-show-magic-link-clustering",property:(0,M.UK)().toggleDebugShowMagicLinkClustering,featureFlags:["prototype_ai_magic_link"],searchOnly:!0,propertyValue:!0},{action:"debug-magic-link-ai-model",featureFlags:["prototype_ai_magic_link","internal_only_debug_tools"],searchOnly:!0}]},{name:"typescript-animations",children:[{name:"test-typescript-bezier-animation",featureFlags:["fullscreen_flanimations"],callback:()=>{(0,H.aZ)(H._E.forBezier(D.mgy.INOUT_CUBIC,2))}},{name:"test-typescript-oscillating-opacity-animation",featureFlags:["fullscreen_flanimations"],callback:()=>{(0,H.lE)(H._E.forOpacityOscillation(2,.25,1,2))}},{name:"test-typescript-jiggle-animation",featureFlags:["fullscreen_flanimations"],callback:H.Oo},{name:"test-typescript-spring-animation",featureFlags:["fullscreen_flanimations"],callback:()=>{(0,H.aZ)(H._E.forBouncySpring())}},{name:"test-typescript-spring-animation-low-bounciness",featureFlags:["fullscreen_flanimations"],callback:()=>{(0,H.aZ)(H._E.forSpringBounciness(.2,2))}},{name:"test-typescript-spring-animation-high-bounciness",featureFlags:["fullscreen_flanimations"],callback:()=>{(0,H.aZ)(H._E.forSpringBounciness(.8,2))}}]},{name:"cancel-last-animation",featureFlags:["fullscreen_flanimations"],callback:H.vt},{action:"test-non-independent-layer-animation",featureFlags:["fullscreen_flanimations"]},{action:"toggle-noodles-without-dragging",property:(0,M.UK)().toggleNoodlesWithoutDragging,featureFlags:["prototype_on_canvas_improvements"],searchOnly:!0,propertyValue:!0},{action:"start-magic-link",featureFlags:["prototype_ai_magic_link"],searchOnly:!0},{action:"end-magic-link",featureFlags:["prototype_ai_magic_link"],searchOnly:!0},...e_||[]]},{action:"select-all-text",flags:["design"],searchOnly:!0},{action:"select-parent",searchOnly:!0},{action:"select-child",searchOnly:!0},{action:"select-next-sibling",flags:["design"],searchOnly:!0},{action:"select-previous-sibling",flags:["design"],searchOnly:!0},{action:"rename-selection",flags:["design"],searchOnly:!0},{action:"set-opacity-1",flags:["design"],searchOnly:!0},{action:"set-opacity-5",flags:["design"],searchOnly:!0},{action:"set-opacity-0",flags:["design"],searchOnly:!0},{action:"unstack-selection",flags:["design"],searchOnly:!0},{action:"create-multiple-symbols",flags:["design"],searchOnly:!0},{action:"create-multiple-symbols-and-state-group",flags:["design"],searchOnly:!0},{action:"publish-selection",flags:["design"],searchOnly:!0},{action:"publish-changes-to-library",flags:["design"],searchOnly:!0,disabled:eE.isPublishingModalDisabled},{action:"reset-variable-modes",flags:["design"],searchOnly:!0},{action:"detach-deleted-variables",flags:["design"],searchOnly:!0},{action:"back-to-files",callback:(e,t,r)=>{r(T.eH())},searchOnly:!0,flags:["!desktop","!integration"]},{action:"present-as-prototype",iconType:n.createElement(d.H),searchOnly:!0,flags:["design","dev_handoff"]},{action:"toggle-inline-preview",searchOnly:!0,flags:["design","dev_handoff"]},{action:"present-slides-audience-view",searchOnly:!0,flags:["slides"]},{action:"present-slides-presenter-view",searchOnly:!0,flags:["slides"]},{action:"toggle-animate-info",searchOnly:!0,flags:["slides"]},{action:"toggle-slide-view",searchOnly:!0,flags:["slides"]},{action:"simplify-selected-instance-panels",callback:(e,t,r)=>{D.glU.setSimplifyInstancePanels(!0)},searchOnly:!0,flags:["edit","design"]},{name:"check-network-compatibility",callback:(e,t,r)=>(0,er.x9)(r),searchOnly:!0},{name:"run-auto-auto-layout",featureFlags:["auto_auto_layout_debug"],callback:(e,t)=>{let r=(0,Y.D)();(0,i.runMSALOnSelection)(r,{recurseOnlySingleLayer:!0})},searchOnly:!0},{name:"run-auto-auto-layout-skip-responsive",featureFlags:["auto_auto_layout_debug"],callback:(e,t)=>{let r=(0,Y.D)();(0,i.runMSALOnSelection)(r,{skipResponsive:!0,recurseOnlySingleLayer:!0})},searchOnly:!0},{action:"run-set-responsive-settings",featureFlags:["auto_auto_layout"],searchOnly:!0},{action:"destroy-all-auto-layout",featureFlags:["auto_auto_layout"],searchOnly:!0},{name:"run-auto-auto-layout-with-section-detection",featureFlags:["auto_auto_layout_debug"],callback:(e,t)=>{(0,C.f)()},searchOnly:!0},{name:"run-auto-auto-layout-section-detection",featureFlags:["auto_auto_layout"],callback:(e,t)=>{(0,C.R)()},searchOnly:!0},{action:"content-fill",flags:["design"],searchOnly:!0},{action:"add-selection-ready-status",flags:["design","dev_handoff","edit"],featureFlags:["dt_frame_status_canvas"],searchOnly:!0}]}},235629:(e,t,r)=>{"use strict";r.d(t,{pd:()=>T,q4:()=>v,t0:()=>I});var n=r(411855),i=r(188507),a=r(935283),o=r(38329),l=r(794272),s=r(939863),c=r(392592),d=r(164185),u=r(662275),p=r(931828),m=r(756085),_=r(215822),h=r(555328),g=r(96557),f=r(193948),E=r(943970),y=r(305281),b=r(142045);function v(e,t){switch(e.type){case"run-menu-action":{let r="set-text-review-plugin"===e.menuAction.type;switch(e.name.type){case"string-key":return{name:e.name.key,callback:t(e.menuAction),disabled:e.disabled,property:e.property,propertyValue:e.propertyValue,hideForQuickCommand:r};case"plugin-name-string":return{name:e.name.key,args:{plugin_name:e.name.plugin},callback:t(e.menuAction),hideForQuickCommand:r};case"plugin-name":return{name:"plugins-menu-item",args:{plugin_name:e.name.plugin},callback:t(e.menuAction),disabled:e.disabled,checked:e.checked,visuallyDisabledWithSelection:e.requiresPurchase&&e.pluginId?()=>{var t,r;return t=!!e.isWidget,r=e.pluginId,void o.D.dispatch(c.F.enqueue({message:t?(0,s.t)("community.buyer.paid_widgets_cannot_be_added_to_the_canvas_before_purchase"):(0,s.t)("community.buyer.paid_plugins_cannot_be_run_before_purchase"),error:!0,button:{text:(0,s.t)("community.buyer.buy"),action:()=>{r&&(0,d.e)({id:r,isWidget:t},n.createElement(y.Ct,{extensionId:r,extensionType:E.Ag.COMMUNITY}))}},type:t?"widget_requires_payment":"plugin_requires_payment"}))}:void 0,rightText:e.rightText,hideForQuickCommand:r};default:return(0,a.xb)(e.name)}}case"separator":return{separator:!0};case"header":return{header:!0,name:e.name};case"submenu":{let r=[];return e.submenu.forEach(e=>{r.push(v(e,t))}),{name:"labeled-menu-item",args:{label:e.name},children:r}}default:(0,a.xb)(e)}}function I(e,t,r){let{appModel:n,selectedView:a}=(0,l.R)(e=>({appModel:e.mirror.appModel,selectedView:e.selectedView})),o=(0,i.wA)(),s=(0,m.cW)()[e],c=(0,_.uF)(s),d=(0,m.Be)(),E=d.plugins[e]||d.orgPlugins[e]||c,y=Object.values((0,m.$1)()).find(t=>t.plugin_id===e),I=(null==y?void 0:y.manifest.menu)&&y.manifest.menu.length>0&&!(0,_.LW)(y)?(0,b.z)(y.manifest.menu,{localFileId:y.localFileId}):[],T=E.manifest.menu&&E.manifest.menu.length>0&&!(0,_.LW)(E)?(0,b.z)(E.manifest.menu,{pluginId:E.plugin_id}):[],S=(0,f.jv)(T.map(e=>v(e,e=>()=>t(e))),{appModel:n,selectedView:a}),w=(0,f.jv)(I.map(e=>v(e,e=>()=>r(e))),{appModel:n,selectedView:a});if(!y)return S;if(!s||s&&!s.current_plugin_version_id)return w;let A=[];return y.error?A.push({displayText:"\u26A0 In-development version",callback:()=>{o((0,u.to)({type:g.r,data:{dispatch:o,error:y.error,resourceType:h.bD.PLUGIN},showModalsBeneath:!0}))}}):A.push({displayText:"In-development version",...w.length>0?{children:w}:{callback:()=>{"figma"===(0,_.T)()&&(o(p.b({seen_published_plugin_onboarding_modal:!0})),o(p.b({seen_development_plugin_onboarding_modal:!0}))),r()}}}),A.push({displayText:"Published version",...S.length>0?{children:S}:{callback:()=>{"figma"===(0,_.T)()&&(o(p.b({seen_published_plugin_onboarding_modal:!0})),o(p.b({seen_development_plugin_onboarding_modal:!0}))),t()}}}),A}function T(e,t){let r=(0,i.d4)(e=>e.mirror.appModel),n=(0,i.d4)(e=>e.selectedView),a=(0,m.cW)()[e],o=(0,_.uF)(a),l=o.manifest.menu&&o.manifest.menu.length>0?(0,b.z)(o.manifest.menu,{pluginId:o.plugin_id}):[];return(0,f.jv)(l.map(e=>v(e,e=>()=>t(e))),{appModel:r,selectedView:n})}},349410:(e,t,r)=>{"use strict";r.d(t,{CS:()=>R,Fr:()=>Q,H5:()=>U,H6:()=>J,IF:()=>q,Ik:()=>v,Mh:()=>X,Mk:()=>S,Mx:()=>k,OT:()=>A,Ot:()=>et,PP:()=>Y,Qk:()=>H,Uz:()=>B,WQ:()=>z,WZ:()=>x,XP:()=>L,Yz:()=>er,b1:()=>y,ct:()=>V,dS:()=>G,e5:()=>I,ex:()=>Z,fn:()=>K,hn:()=>N,ih:()=>W,jb:()=>P,ji:()=>F,kO:()=>O,kX:()=>M,mw:()=>w,nz:()=>f,oI:()=>$,sh:()=>b,uL:()=>D,vU:()=>C,y:()=>E,zq:()=>en});var n=r(411855),i=r(989626),a=r(737947),o=r(966712),l=r(563706),s=r(218881),c=r(6949),d=r(875847),u=r(694687),p=r(99506),m=r(243987),_=r(984968),h=r(668860);function g({showExpAtMentionInvite:e,isDraftFile:t,isFigmaDesign:r,inOrg:n,isMobile:i}){return!(t||i||!e||!r||n)}async function f(e){return!!g(e)&&"variant"===(await (0,s.hW)("exp_at_mention_invited_users")).get("treatment","")}function E(){let{getConfig:e}=(0,s.I7)("exp_at_mention_invited_users");return(0,n.useCallback)(t=>!!g(t)&&"variant"===e().get("treatment",""),[e])}function y(e={}){let{signupSource:t,isEduVerified:r,isJamboardSignup:n}=e;return!r&&t!==p._Y.WHITEBOARD&&!n&&!!(0,o.kc)().nux_dynamic_preview}function b(e){let{getConfig:t}=(0,s.I7)("exp_library_upsells_v1");return!!e&&!!t().getValue("show_library_upsell",!1)}function v(){let{getConfig:e}=(0,s.I7)("exp_cart_optimizations_sticker_shock");return!!e().getValue("enabled",!1)}function I({userId:e,teams:t,rolesByTeamId:r,getM0Config:n,getM1Config:i}){if(!(0,o.kc)().close_starter_team_loophole)return!1;let a=T(e,t,r);return 0!==a&&(1===a?n().get("should_block_second_starter_team",!1):i().get("should_block_more_than_one_starter_team",!1))}function T(e,t,r){let n=0,i={};for(let a of(t.forEach(e=>i[e.id]=e),Object.keys(r))){let t=i[a],o=r[a][e];t&&o&&o.level===h.e6.OWNER&&t.starter_team&&!t.org_team&&!t.student_team&&null===t.subscription&&null===t.deleted_at&&n++}return n}function S(e,t,r){return!!(0,o.kc)().close_starter_team_loophole&&0===T(e,t,r)&&(0,o.kc)().close_starter_loophole_team_one}function w(e,t){return!!e&&(!(0,o.kc)().ps_benchmark||!t)}function A(){let{getConfig:e}=(0,s.I7)("exp_mobile_web_nux_v2");return(0,n.useCallback)(t=>{let r=new URLSearchParams(a.Ay.location.search),n=t.startsWith("/education/apply"),i=t.startsWith("/proto")||a.Ay.location.href.includes("/proto/"),s=!!r.get("with_community_header"),c=!!r.get("app_auth_id")||t.startsWith("/app_auth");return![!(0,o.kc)().exp_mobile_web_nux_ff,!(0,l.C8)(),n,i,s,c].some(e=>e)&&"variant"===e().getValue("treatment","")},[e])}function C(){let{getConfig:e}=(0,s.I7)("exp_mobile_web_signal_nux");return(0,n.useCallback)(()=>!!(0,l.o4)()&&"variant"===e().getValue("treatment",""),[e])}function N(){let e=(0,s.I7)("exp_adv_prototyping_upsell");return(0,n.useCallback)(()=>!!e.getConfig().getValue("showUpsell",!1),[e])}function O(){let{getConfig:e}=(0,s.I7)("exp_pro_tier_onboarding");return(0,n.useCallback)(()=>e().get("show_pro_onboarding",!1),[e])}function L(e){return!!e().get("hide_checkbox",!1)}function R(){let e=(0,u.sZ)(),t=(0,c.a9)(),r=(0,_.ol)(),a=(0,_.$w)(),o=(0,m.w5)(r)&&!(null==r?void 0:r.org_id),{getConfig:l}=(0,s.I7)("exp_dev_mode_grace_period_org"),{getConfig:d}=(0,s.I7)("exp_dev_mode_grace_period_team");return(0,n.useCallback)(()=>e&&t?e.bigma_enabled?i.Hw9:l().get("dev_mode_grace_day",i.Hw9):o&&a?d().get("dev_mode_grace_day",i.Hw9):i.Hw9,[e,t,o,a,l,d])}function P(){let{getConfig:e}=(0,s.I7)("exp_pro_viewer_to_editor_v1");return(0,n.useCallback)(()=>e().get("show_viewer_editor_nudge",!1),[e])}function k(){let{getConfig:e}=(0,s.I7)("exp_in_product_sales_contact_form");return!!e().getValue("has_updated_sales_contact_form",!1)}function D(){let{getConfig:e}=(0,s.I7)("exp_org_viewer_to_editor_v1");return(0,n.useCallback)(()=>e().get("show_viewer_editor_nudge",!1),[e])}function M(e){return e().get("switch_button_hierarchy",!1)}function x(e,t){return!!t.subscription&&!t.org_team&&e().get("hide_toolbar_request_cta",!1)}function F(e){return!!(0,o.tl)().org_id&&e().get("hide_toolbar_request_cta",!1)}function U(){let{getConfig:e}=(0,s.I7)("exp_edu_offboarding_bootcamps");return(0,n.useCallback)(()=>!!(0,o.kc)().edu_offboarding_bootcamps&&e().get("has_edu_offboarding_bootcamps",!1),[e])}var B=(e=>(e.CONTROL="control",e.VARIANT_WITH_ORG="variant_with_org",e.VARIANT_WITHOUT_ORG="variant_without_org",e))(B||{});function H(){let{getConfig:e}=(0,s.I7)("exp_org_plan_in_nux");return(0,n.useCallback)(({isGen0:t,isStarterUser:r,treatment:n})=>!!t&&!!r&&e().getValue("treatment","control")===n,[e])}var V=(e=>(e.CONTROL="control",e.TREATMENT_WITHOUT_PLUGIN="without_plugin",e.TREATMENT_WITH_PLUGIN="with_plugin",e))(V||{});function G(){let{getConfig:e}=(0,s.I7)("exp_lightweight_imports_plugin");return(0,n.useCallback)(({isStarterUser:t,treatment:r,locale:n})=>!!((0,o.kc)().is_html_to_design_exp_enabled&&t&&n.startsWith("en"))&&e().getValue("treatment","control")===r,[e])}var W=(e=>(e.CONTROL="control",e.VARIANT_A="variantA",e.VARIANT_B="variantB",e))(W||{});function K(){let{getConfig:e}=(0,s.I7)("exp_fbg_navigation_updates"),t=(0,_.ol)(),r=t&&(0,o.kc)().ps_benchmark,n=t&&!(0,m.w5)(t);return r&&n?e().getValue("treatment","control"):"control"}function Y(){let{getConfig:e}=(0,s.I7)("exp_consumption_limit_overview");return(0,n.useCallback)(()=>e().getValue("show_upsell",!1),[e])}function j(e){let{isInDevMode:t,isProCurrent:r,hasFeatureListOverride:n}=e;return!t&&!r&&!n}function z(e){let{getConfig:t}=(0,s.I7)("exp_plan_comparison_updates_v1");return!!j(e)&&!!t().getValue("show_full_feature_set",!1)}function $(e){let{getConfig:t}=(0,s.I7)("exp_plan_comparison_updates_v1");return!!j(e)&&!!t().getValue("show_full_screen_modal",!1)}var Z=(e=>(e.CONTROL="control",e.DYNAMIC_NUX="dynamic_nux",e.SIGNAL_NUX="signal_nux",e))(Z||{});function q(){let{getConfig:e}=(0,s.I7)("exp_gen1_nux_polish");return(0,l.C8)()?"control":e().getValue("treatment","control")}function J(){let{getConfig:e}=(0,s.I7)("exp_org_checkout_seat_management");return!!e().getValue("isVariant",!1)}function X(){let{getConfig:e}=(0,s.I7)("exp_separate_billing_and_shipping_addresses");return!!e().getValue("is_enabled",!1)}function Q(){let{getConfig:e}=(0,s.I7)("exp_drafts_page_limit_v1");return(0,n.useCallback)(t=>!!((0,o.kc)().ps_benchmark&&(0,o.kc)().exp_drafts_page_limit_v1_new_user&&!t.parentOrgId&&t.editorType===p._Y.DESIGN&&(0,d.jd)(t.project))&&!!t.team&&!(0,m.XX)(t.team)&&!!t.canEdit&&e().get("apply_drafts_page_limit",!1),[e])}let ee=new Set(["US","BR","MX","NG","SG","JP","MY","PH"]);function et(){let{getConfig:e}=(0,s.I7)("exp_auto_marketing_email_opt_in");return(0,n.useCallback)(t=>!!ee.has(t)&&!!e().getValue("enabled",!1),[e])}function er(){let{getConfig:e}=(0,s.I7)("exp_resurrect_locked_teams");return(0,n.useCallback)(t=>!!t&&!!e().getValue("show_locked_state_redesign",!1),[e])}function en(){let{getConfig:e}=(0,s.I7)("exp_viewer_upgrade_awareness");return(0,n.useCallback)(()=>!!e().getValue("enabled",!1),[e])}},140908:(e,t,r)=>{"use strict";r.d(t,{Am:()=>k,Gf:()=>f,Hz:()=>y,LV:()=>_,NC:()=>E,Ow:()=>O,Pc:()=>m,S$:()=>L,U6:()=>w,Un:()=>D,XN:()=>h,XX:()=>v,_3:()=>b,d$:()=>g,dQ:()=>S,eZ:()=>R,jg:()=>P,k3:()=>C,qO:()=>T,ro:()=>N,wN:()=>I,yo:()=>A});var n=r(367253),i=r(38329),a=r(966712),o=r(38580),l=r(374626),s=r(218881),c=r(648467),d=r(309798),u=r(99506),p=r(479296);let m=e=>(0,c.P)("exp_simple_sharing_v2",e.id).defaultValue(!1).treatment("variant",!0).get();function _(e){return!e.bigma_enabled}function h(e){return!!e&&(0,c.P)("exp_google_one_tap_v2",e).defaultValue(!1).treatment("variant",!0).get()}function g({userId:e,currentOrgId:t,tracked:r=!0}){if(!t&&e){let t=(0,c.P)("exp_google_contacts_import_v1",e).defaultValue(!1).treatment("variant",!0);return r||(t=t.disableTracking()),t.get()}return!1}function f(){return(0,a.kc)().figjam_mini_home_v0}function E(e){return(0,a.kc)().figjam_mini_home_v0}function y(e){return!!e}function b(){let e=(0,d.f)("has_tooltips_plus_onboarding_file_no_nav"),t=(0,d.f)("has_tooltips_plus_onboarding_file_with_nav");return v({has_tooltips_plus_onboarding_file_no_nav:e,has_tooltips_plus_onboarding_file_with_nav:t,has_cursor_bot_onboarding:(0,d.f)("has_cursor_bot_onboarding"),has_cursor_bot_onboarding_v2:(0,d.f)("has_cursor_bot_onboarding_v2"),has_tooltips_plus_no_basics_file:(0,d.f)("has_tooltips_plus_no_basics_file")})}function v(e){return!!e.has_tooltips_plus_onboarding_file_no_nav||!!e.has_tooltips_plus_onboarding_file_with_nav||!!e.has_cursor_bot_onboarding||!!e.has_tooltips_plus_no_basics_file||!!e.has_cursor_bot_onboarding_v2}function I(e){return e&&(0,c.P)("exp_pro_trials_v3",e).defaultValue(!1).treatment("variant",!0).get()}function T(e){var t;if(!e||!(0,a.kc)().exp_figjam_onboarding_make_tmpl)return!1;if(i.D){let r=null==(t=i.D.getState().userFlags.figjam_editor_onboarded)?void 0:t.createdAt;return!!(!r||new Date(r)>new Date("2023-01-30T15:00:00.000Z"))&&(0,c.P)("exp_figjam_onboarding_make_tmpl",e).defaultValue(!1).treatment("variant",!0).get()}return!1}function S(e){return(0,c.P)("exp_fj_participant_onboarding",e).defaultValue(!1).treatment("variant",!0).get()}function w(){return!!(0,a.kc)().rollout_pinned_comments_ff}function A({user:e,file:t,numPinnedCommentThreads:r}={}){return!!w()&&!!e&&!!t&&t.editorType===u._Y.DESIGN&&(!!r&&r>0||!!((0,a.b5)()&&(0,n.jm)(e.email))||!!t.team&&!t.parentOrgId)}function C(){let{getConfig:e}=(0,s.I7)("rollout_pinned_comments_ff");return e().getValue("can_pin_comments",!1)}function N(){let{getConfig:e}=(0,s.I7)("exp_notif_revamp");return(0,a.kc)().notif_revamp_staging||e().getValue("use_revamp_notifications",!1)}function O(){let{getConfig:e}=(0,s.I7)("exp_high_priority_notifs");return e().getValue("has_high_priority_filter",!1)}function L(){return(0,a.kc)().google_federated_cm??!1}function R(){let{getConfig:e}=(0,s.I7)("exp_user_initiated_request_nudges");return!!e().getValue("has_user_initiated_request_nudges_enabled",!1)}(0,p.n)(e=>(0,c.P)("exp_figjam_fb_templates_by_role",e).defaultValue(!1).treatment("variant",!0).get());var P=(e=>(e.DEFAULT="default",e.PZ_THEN_PRODUCT="pz_then_product",e.PRODUCT_THEN_PZ="product_then_pz",e))(P||{});let k=(0,o.eU)(null);function D(){let e=(0,l.md)(k);return"product_then_pz"===e||"pz_then_product"===e}},363659:(e,t,r)=>{"use strict";let n;r.d(t,{Sc:()=>O,WC:()=>T,b6:()=>w,eD:()=>S,ib:()=>v});var i=r(411855),a=r(776250),o=r(935283),l=r(367253),s=r(38329),c=r(966712),d=r(563706),u=r(286640),p=r(674965),m=r(582488),_=r(688476),h=r(479296),g=r(343279),f=r(833792),E=r(20709);let y=(0,h.D)((e,t)=>e.type===t.type&&(e.type===g.L4.USER||t.type===g.L4.USER||e.id===t.id)),b=(e,t,r,n,i)=>{let a=s.D;(0,c.b5)()&&(a?Promise.resolve().then(()=>{a.dispatch(m.n({event:{experimentId:e,treatmentId:t,seed:r,isWinner:n,fromOverride:!1}}))}):console.error(`The experiment ${e} is being called before the store is initialized. This is likely the result of calling the experiment() function in a constant definition, and will result in overexposure.`))},v=new class{constructor(e){this.trackedSeedsByExperiment={},this.trackExperimentSeedForSession=(e,t,r)=>{let n=this.trackedSeedsByExperiment[e]||[];n.findIndex(e=>(function(e,t){return"object"==typeof e&&"object"==typeof t?y(e,t):"object"!=typeof e&&"object"!=typeof t&&e===t})(e,r))>-1||(this.reportingHandler(e,t,r),n.push(r),this.trackedSeedsByExperiment[e]=n)},this.resetTrackedSeedsForSession=()=>{this.trackedSeedsByExperiment={}},this.reportingHandler=e}}((e,t,r)=>{let n=(0,f.J_)(),i=n&&n[e],o=c.mV(e),l=!!(null==o?void 0:o.winner),s="set_experiment_treatment";if(i||l)(0,f.jV)(e,t),b(e,t,r,!1,!0);else{if("object"==typeof r){let n=c.tl().user_data;(0,a.sx)(s,{experimentId:e,treatmentId:t,seedResourceType:r.type,seedResourceId:r.type===g.L4.USER?null==n?void 0:n.id:r.id})}else(0,a.sx)(s,{experimentId:e,treatmentId:t,seed:r.toString()});b(e,t,r,l,!1)}});class I{constructor(e,t,r,n){this.treatmentToValue=new Map,this.trackingEnabled=!0,this.mobileEnabled=!1,this.requireSeedProp=!1,this.reportOnce=(e,t)=>{t&&null!=e&&this.trackingEnabled&&this.report(this.experimentId,t,e)},this.experimentId=e,this.defaultValue=t,this.report=r,this.seed=n}}class T{constructor(e,t,r,n){this.state=new I(e,t,r,n)}enableMobile(){return this.state.mobileEnabled=!0,this}treatment(e,t){return this.state.treatmentToValue.set(e,t),this}disableTracking(){return this.state.trackingEnabled=!1,this}requireSeedProp(){return this.state.requireSeedProp=!0,this}build(){let e=this.state.reportOnce,t=this.state.experimentId,r=this.state.defaultValue,n=this.state.seed,a=this.state.treatmentToValue,o=this.state.mobileEnabled,l=this.state.requireSeedProp;return class extends i.Component{experimentSeed(){if(l&&!this.props.experimentSeed)throw Error(`Experiment seed is a required prop for experiment builder with experimentId: ${t}`);return this.props.experimentSeed||n}treatment(){return A(t,this.experimentSeed(),o)}componentDidMount(){e(this.experimentSeed(),this.treatment())}render(){let e=r,t=this.treatment();if(t){let r=a.get(t);r&&(e=r)}return i.createElement(e,{...this.props})}}}}class S{constructor(e,t,r,n){this.state=new I(e,t,r,n)}enableMobile(){return this.state.mobileEnabled=!0,this}treatment(e,t){return this.state.treatmentToValue.set(e,t),this}disableTracking(){return this.state.trackingEnabled=!1,this}get(){let e=A(this.state.experimentId,this.state.seed,this.state.mobileEnabled);return e&&(this.state.reportOnce(this.state.seed,e),this.state.treatmentToValue.has(e))?this.state.treatmentToValue.get(e):this.state.defaultValue}}function w({undefinedIfKnownDomain:e=!1}={}){let t=c.tl().user_data,r=null==t?void 0:t.email;if(r){let n=(0,l.zN)(r);if((0,l.qe)(r))return e?void 0:null==t?void 0:t.experiment_seed;if(n)return function(e){let t=e.toUpperCase().match(/[A-Z0-9]+/g),r=null==t?void 0:t.join("").match(/.{1,5}/g);if(r)return r.map(e=>parseInt(e,36)).reduce((e,t)=>e^t)}(n)}}function A(e,t=O(),r=!1){let n=(0,f.J_)();if(n&&n[e])return n[e];if(!c.kc()[e]||!r&&(0,d.o4)())return;if(null==t)return O();let i=c.mV(e);if(i){if(i.winner)return i.winner;if("object"==typeof t)return function(e,t){var r,n,i,a;let l;let c=s.D;if(!c)return;let d=c.getState();switch(e.type){case g.L4.USER:l=null==(r=d.user)?void 0:r.experiment_assignments;break;case g.L4.TEAM:l=null==(n=d.teams[e.id])?void 0:n.experiment_assignments;break;case g.L4.ORG:l=null==(i=d.orgById[e.id])?void 0:i.experiment_assignments;break;default:(0,o.xb)(e)}return null==(a=null==l?void 0:l.find(e=>e.experiment_id===t))?void 0:a.treatment_id}(t,e);switch(i.randomization_method){case _.x.MD5:return C(i,(0,E.R)(e,t));case _.x.MD5_BAD:if(void 0===(t=N(t)))return;return C(i,(0,E.R)(e,t));case _.x.LCG:let r=N(t);if(void 0===r)return;return r>1e8&&(r=Math.floor(r/1e5)),C(i,(0,E.L)(e,r));default:return}}}let C=(e,t)=>{if(e.assignment_weights){let r=Object.values(e.assignment_weights).reduce((e,t)=>e+t,0),n=0,i=t%r;for(let t of e.treatment_names){let r=n+e.assignment_weights[t];if(i<r)return t;n=r}}return e.treatment_names[t%e.treatment_names.length]},N=e=>{let t="string"==typeof e?parseInt(e,10):e;if(!isNaN(t))return t};function O(){var e;let t=function(){let e=c.tl().user_data;if(e)return e.experiment_seed}();if(t)return t;let r=(0,u.UG)(),i=encodeURIComponent("experiment_seed"),a=(0,c.bg)()?(0,p.W)("functional"):!!r;if(a&&!n)try{let t=null==(e=r.get(i))?void 0:e.toString();if(t)return t}catch(e){console.error("Failed to read local experiment seed.",e);return}if(n||(n=Math.floor(1e6*Math.random()).toString()),a)try{r.set(i,n)}catch(e){console.error("Failed to write local experiment seed",e)}return n}window.localSeed=O},325469:(e,t,r)=>{"use strict";r.d(t,{d:()=>d,n:()=>c});var n=r(411855),i=r(188507),a=r(218881),o=r(335682),l=r(643067);function s(){let e=(0,i.d4)(e=>(0,l.wA)(e)),t=(0,o.q5)();return{currentOrg:e,currentTeam:(null==t?void 0:t.team)??null,currentFile:t}}function c(){let{currentOrg:e,currentTeam:t,currentFile:r}=s(),i=(0,a.I7)("exp_aa_test_teamid_fullscreen_menu");(0,n.useEffect)(()=>{!e&&t&&r&&"design"===r.editorType&&i.getConfig()},[e,t,r,i])}function d({file:e}){let{currentOrg:t,currentTeam:r}=s();(0,n.useEffect)(()=>{if(t||!r||(null==e?void 0:e.editor_type)!=="design")return},[t,r,e])}},672517:(e,t,r)=>{"use strict";r.d(t,{$z:()=>y,Co:()=>v,L0:()=>T,QE:()=>_,T8:()=>f,fu:()=>h,h3:()=>b,j6:()=>w,jm:()=>I,kp:()=>g,o3:()=>S,tf:()=>E});var n=r(411855),i=r(188507),a=r(460845),o=r(776250),l=r(776621),s=r(47506),c=r(939863),d=r(10648),u=r(988022);let p=null;function m(){p=null}let _=n.createContext({properties:{},trackEvent:()=>null});function h({name:e,properties:t={},trackingTargets:r=d.K.ALL,enabled:a=!0,ignoreParent:c=!1,children:m}){let{name:h,properties:g}=(0,n.useContext)(_),f=(0,n.useRef)({}),E=(0,n.useRef)(null);f.current&&(0,i.bN)(f.current,t)||(f.current=t),t=f.current;let y=(0,n.useMemo)(()=>{let r=h&&!c?`${h} > ${e}`:e,n={...g,...t};return{name:r,properties:n,trackEvent:(e,t)=>(0,o.sx)(e,{trackingContext:r,...n,...t})}},[e,t,h,g,c]);return(0,n.useEffect)(()=>{if(!a||r===d.K.NONE)return;let e=y.name,t=y.properties;if(E.current&&E.current.name===e&&(0,i.bN)(E.current.properties,t))return;if(r===d.K.RCS){let r={};for(let e of Object.keys(t))null!==t[e]&&void 0!==t[e]&&(r[e]=t[e]);(0,s.YQ)({id:e,properties:r});return}let n={name:e,...null!=p&&{ctaClickedReferrer:p},...t};(0,l.ED)("Context Viewed",e,n),(0,u.qD)(n),E.current=y},[r,y,a]),n.createElement(_.Provider,{value:y},m)}function g(e,t){var r;return(r=class extends n.PureComponent{render(){return n.createElement(h,{name:t||e.displayName},n.createElement(e,{...this.props}))}}).displayName=e.displayName,r}function f(e,t,r={},i=!0){return n.createElement(h,{name:t,properties:r,enabled:i},e)}function E(e,t){let r=n.forwardRef((r,i)=>n.createElement(_.Consumer,null,a=>{let o=e=>{var i;if(r.disabled)return;let o={...a.properties,...r.trackingProperties};a.name&&(o.trackingContext=a.name);let l=function(e,t){if(t)return t;if(e&&"string"==typeof e)return e;{let t=n.Children.map(e,e=>{if((null==e?void 0:e.type)!==c.Tx)return e;{let{id:t,...r}=e.props;return(0,c.t)(t,r)}});if(null==t?void 0:t.every(e=>"string"==typeof e))return t.join("")}}(r.children,r.innerText);l&&(o.text=l),(0,u.Cu)(o,r.trackingEventName,t),p=`${o.trackingContext} : ${o.text}`,null==(i=r.onClick)||i.call(r,e),setTimeout(m,150)},{trackingProperties:l,innerText:s,useMouseDown:d,trackingEventName:_,...h}=r;return n.createElement(e,{ref:i,...h,...r.useMouseDown?{onMouseDown:o}:{onClick:o}})}));return r.displayName=`Tracked(${e.displayName||e.name})`,r}let y=E(({dataTestId:e,...t})=>n.createElement("button",{...t,"data-testid":e}));function b(e){return class extends n.Component{render(){return n.createElement(_.Consumer,null,t=>{let{trackingProperties:r,trackingPopulationLevel:i,trackingFieldName:a,...o}=this.props;return n.createElement(e,{...o,onBlur:e=>{let r={...t.properties,...this.props.trackingProperties,fieldName:this.props.trackingFieldName,populationLevel:this.props.trackingPopulationLevel};t.name&&(r.trackingContext=t.name),(0,u.fy)(r),this.props.onBlur&&this.props.onBlur(e)}})})}}}let v=E(e=>n.createElement("button",{...e})),I=E(e=>n.createElement("div",{...e})),T=E(e=>n.createElement("a",{...e},e.children),!0),S=E(e=>n.createElement(a.N_,{...e}));function w(){return(0,n.useContext)(_)}E(e=>n.createElement("input",{...e}))},808154:(e,t,r)=>{"use strict";r(461848),r(625609);var n,i,a,o,l=r(411855),s=r(775541),c=r(843407),d=r(922821),u=r(77909),p=r(737947),m=r(966712),_=r(179940),h=r(776621),g=r(304783),f=r(30637),E=r(469222),y=r(776250),b=r(693160),v=r(743282),I=r(99506),T=r(754168),S=r(664788);let w=performance.now();var A=r(142820),C=r(888572),N=r(226055),O=r(760640),L=r(488983),R=r(611978),P=r(776615),k=r(945020),D=r(188507),M=r(976404),x=r(149620),F=r(44948),U=r(374626),B=r(192437),H=r(28928),V=r(629019),G=r.n(V),W=r(568214),K=r(560945),Y=r(946689),j=r(553015),z=r(428654),$=r(726864),Z=r(860178),q=r(239671),J=r(979686),X=r(427472),Q=r(802755),ee=r(909595),et=r(108545),er=r(444077);let en=document.documentElement.style,ei=l.memo(function(e){let t,r;let n=(0,D.d4)(e=>{let t=e.mirror.selectionProperties.backgroundColor;return!!t&&(0,W.HD)(t)}),i=(0,D.d4)(e=>{if("fullscreen"===e.selectedView.view&&e.selectedView.editorType===q.nT.Whiteboard)return;let t=e.mirror.selectionProperties.backgroundColor;return z.F.format(t)}),a=(0,$.Yk)(),o=(0,J.hO)(),s=l.useRef(null),{width:c}=(0,K.w)(s)||{EMPTY_SIZE:K.c},d=o<(c||0)+32?a:0;return l.useEffect(()=>{en.setProperty("--cookie-banner-persistent-message-bottom-margin",`${d}px`)},[d]),l.useEffect(()=>()=>{en.setProperty("--cookie-banner-persistent-message-bottom-margin","0px")},[]),"implicit"===e.consentRegion?(t=Q.Ml,r=Q.e2):"explicit"===e.consentRegion&&(t=(0,X.aJ)(),r=(0,X.Sz)()),l.createElement("div",{role:"region","aria-label":t,style:{backgroundColor:i},className:G()(et.RO,n?et.ub:et.wI),ref:s},l.createElement(Y.Yo,{rel:"noopener",target:"_blank",href:r},t))}),ea=l.memo(function(){let e=(0,D.d4)(e=>e.mirror.appModel.isInitialized),t=(0,Z.TA)();return e&&!t&&(0,m.kc)().cookie_banners_file_viewer?"implicit"===(0,m.Ay)().consent_region?l.createElement(Q.C$,{variant:ee.a.FILE_VIEWER,dismissIcon:er.A,verticalPadding:32,SecondaryButton:e=>l.createElement(j.$,{variant:"secondary",...e}),persistentMessage:l.createElement(ei,{consentRegion:"implicit"})}):"explicit"===(0,m.Ay)().consent_region?l.createElement(X.ZQ,{variant:ee.a.FILE_VIEWER,dismissIcon:er.A,verticalPadding:32,PrimaryButton:e=>l.createElement(j.$,{variant:"primary",...e}),SecondaryButton:e=>l.createElement(j.$,{variant:"secondary",...e}),persistentMessage:l.createElement(ei,{consentRegion:"explicit"})}):null:null});var eo=r(986556),el=r(939863),es=r(883541),ec=r(135317),ed=r(498481),eu=r(265241);function ep(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M12.75 4.587c0-.296.255-.53.548-.482a7.943 7.943 0 0 1 1.526.408.478.478 0 0 1 .233.691.531.531 0 0 1-.645.223 6.948 6.948 0 0 0-1.214-.325.53.53 0 0 1-.448-.515ZM5.956 16.355a.53.53 0 0 1 .67.13c.269.323.566.62.889.89a.53.53 0 0 1 .13.669.478.478 0 0 1-.717.143 8.05 8.05 0 0 1-1.115-1.115.478.478 0 0 1 .143-.716Zm3.632 2.218a.531.531 0 0 0-.645.223.478.478 0 0 0 .233.691 7.94 7.94 0 0 0 1.526.408.478.478 0 0 0 .548-.482.53.53 0 0 0-.448-.515 6.947 6.947 0 0 1-1.214-.325Zm7.484-12.76a.478.478 0 0 0-.717.143.53.53 0 0 0 .13.67c.323.269.62.566.89.889a.53.53 0 0 0 .669.13.478.478 0 0 0 .143-.717 8.05 8.05 0 0 0-1.115-1.115Zm-2.248 13.674a.478.478 0 0 0 .233-.691.531.531 0 0 0-.645-.223c-.39.143-.795.253-1.214.325a.53.53 0 0 0-.448.515c0 .296.255.53.548.482a7.94 7.94 0 0 0 1.526-.408Zm3.972-4.43a.531.531 0 0 1-.223-.645 6.94 6.94 0 0 0 .325-1.214.53.53 0 0 1 .515-.448c.296 0 .53.255.482.548a7.944 7.944 0 0 1-.408 1.526.478.478 0 0 1-.691.233ZM5.956 7.644a.53.53 0 0 0 .67-.13c.269-.322.566-.62.889-.888a.53.53 0 0 0 .13-.67.478.478 0 0 0-.717-.143 8.049 8.049 0 0 0-1.115 1.115.478.478 0 0 0 .143.716ZM4.513 9.176a.478.478 0 0 1 .691-.234c.223.13.311.404.223.646a6.95 6.95 0 0 0-.325 1.214.53.53 0 0 1-.515.448.478.478 0 0 1-.482-.548 7.943 7.943 0 0 1 .408-1.526Zm13.53 7.18a.53.53 0 0 0-.669.13 7.04 7.04 0 0 1-.889.888.53.53 0 0 0-.13.67.478.478 0 0 0 .717.143 8.046 8.046 0 0 0 1.115-1.115.478.478 0 0 0-.143-.717ZM9.589 5.425a.531.531 0 0 1-.645-.222.478.478 0 0 1 .233-.691 7.943 7.943 0 0 1 1.526-.408.478.478 0 0 1 .548.482.53.53 0 0 1-.448.515 6.95 6.95 0 0 0-1.214.325Zm-5 7.324a.478.478 0 0 0-.483.548 7.94 7.94 0 0 0 .408 1.526.478.478 0 0 0 .691.233.531.531 0 0 0 .223-.645 6.952 6.952 0 0 1-.325-1.214.53.53 0 0 0-.515-.448Zm14.825-1.5a.53.53 0 0 1-.515-.448 6.947 6.947 0 0 0-.325-1.214.531.531 0 0 1 .223-.645.478.478 0 0 1 .691.233c.184.488.322.998.408 1.526a.478.478 0 0 1-.482.548Z",clipRule:"evenodd"}))}var em=r(243742),e_=r(935283),eh=r(794272),eg=r(662531),ef=r(457630),eE=r(507956),ey=r(392592),eb=r(698069),ev=r(934533),eI=r(735925),eT=r(538411),eS=r(844052);function ew(){let e=(0,D.wA)(),{bell:t,queueDepth:r}=(0,eh.R)(e=>({bell:e.visualBell[0],queueDepth:e.visualBell.length})),n=null==t?void 0:t.onDequeue,i=null==t?void 0:t.onDismiss,a=(0,l.useCallback)(t=>{if("dismiss"===t&&(null==i||i()),n)switch(t){case"dismiss":n(ev.WX.DISMISS);break;case"timeout":n(ev.WX.TIMEOUT);break;case"action":n(ev.WX.ACTION_BUTTON_CLICKED);break;default:(0,e_.xb)(t)}e(ey.F.dequeue({}))},[e,n,i]),o=(0,D.d4)(e=>(null==t?void 0:t.progressKey)?e.progress[t.progressKey]:void 0),s=t?(0,eb.zC)(t,o):null,[c,d]=(0,eb.hB)(t||null),u=function(e,t){let r=performance.now(),n=(0,l.useMemo)(()=>r,[e]);return(0,l.useMemo)(()=>e?(0,eb.L1)(e,t):1/0,[e,t])-(r-n)}(t,r),p=function(e){let t=(0,l.useRef)(void 0),r=!!e&&!e.delay,[n,i]=(0,l.useState)(r);return((0,l.useEffect)(()=>{if(null==e?void 0:e.delay){let t=setTimeout(()=>i(!0),e.delay);return()=>clearTimeout(t)}},[e]),e!==t.current)?(t.current=e,i(r),r):n}(t),m=!!(null==t?void 0:t.role);return l.createElement(eA,{shouldRequestMobileNativeBottomOffset:!1,offscreen:!p,srOnly:m},l.createElement(es.y.Root,{timeout:u,onClose:a,variant:(null==t?void 0:t.error)?"danger":void 0},l.createElement(es.y.Icon,null,(null==t?void 0:t.icon)&&l.createElement(eN,{error:t.error,iconShape:t.iconShape,iconURL:t.iconURL,progress:o,icon:t.icon})),l.createElement(es.y.Message,null,s),c&&l.createElement(eC,{bellId:t.id,...c}),d&&l.createElement(eC,{bellId:t.id,...d}),(null==t?void 0:t.onDismiss)&&l.createElement(es.y.DismissButton,null)))}function eA({children:e,offscreen:t,shouldRequestMobileNativeBottomOffset:r,srOnly:n}){let i,a;let o=(0,$.Yk)(),s=(0,$.uo)(),c=(0,eE.ks)(),d=(0,D.d4)(e=>!!e.modalShown),u=(0,ef.ni)(),[p,m]=l.useState(null);s&&r&&s().then(e=>{e!==p&&m(e)}).catch(()=>{}),t?i="translateY(100vh)":null===p&&(i=`translateY(-${o}px)`),null!==p&&(a=p);let _={...c?{position:"fixed",left:u.x,width:u.width}:{},transform:i,bottom:a};return l.createElement("div",{"aria-hidden":d,className:G()({[eS.E3]:!0,[eS.Oy]:!0,[eT.Q]:n}),style:_},e)}function eC({bellId:e,editScope:t,text:r,secondaryText:n,action:i,Initialize:a}){let o=null==a?void 0:a(),s=(0,l.useMemo)(()=>{let r=t=>{i(t,e,o)};return t&&(r=eg.nc.user(t,r)),r},[i,e,t,o]);return l.createElement(es.y.ActionButton,{onClick:s},r,n)}function eN(e){return"ui3"===(0,em.DP)().version&&e.icon!==ev.zX.FROM_URL?l.createElement(eO,{icon:e.icon}):l.createElement(eI.H,{...e})}function eO({icon:e}){switch(e){case ev.zX.CHECK:return l.createElement(ec.g,null);case ev.zX.EXCLAMATION:return l.createElement(ed.r,null);case ev.zX.UNDO:case ev.zX.RETURN_TO_INSTANCE:return l.createElement(eu.E,null);case ev.zX.SPINNER:case ev.zX.IMAGE_BACKED_SPINNER:case ev.zX.PROGRESS:case ev.zX.FROM_URL:return l.createElement(ep,null);case ev.zX.NONE:case void 0:return l.createElement(l.Fragment,null);default:(0,e_.xb)(e)}}var eL=r(565872),eR=r(910741),eP=r(302067),ek=r(601208),eD=r(38329),eM=r(784390),ex=r(499737),eF=r(279453),eU=r(697551);r(955035);var eB=r(852800),eH=r(100197);function eV(){document.body.removeAttribute("data-fpl-debug")}var eG=r(715879),eW=r(285381),eK=r(707465),eY=r(447532),ej=r(402465),ez=r(402766),e$=r(201888),eZ=r(322611);r(759341);var eq=r(574176),eJ=r(974397);class eX extends l.Component{render(){let e="whiteboard"===this.props.pageType,t="";switch(this.props.pageType){case"whiteboard":t="interstitial_page--whiteboardBackground--vCkUI";break;case"prototype":t="interstitial_page--prototypeBackground--WAYsr";break;case"design":t="interstitial_page--designBackground--2YNuc";break;case"external":t="interstitial_page--externalBackground--0J4ed"}return this.props.renderSimplifiedView&&(t="interstitial_page--simplifiedBackground--HPGkI"),l.createElement("div",{className:`interstitial_page--page--jxBjZ ${t}`},l.createElement("div",{className:`interstitial_page--navbar--4DoBt ${e&&"interstitial_page--navbarWhiteboardBackground--af-hd"}`},l.createElement("div",{className:`interstitial_page--logo--s9Fkg ${!this.props.staticLogo&&"interstitial_page--logoLink--IwtO9"} ${!e&&"interstitial_page--logoWhiteFill--nemQY"}`},this.props.staticLogo&&l.createElement(eq.B,{svg:eJ.A,autosize:!0}),!this.props.staticLogo&&l.createElement("a",{href:"/"},l.createElement(eq.B,{svg:eJ.A,autosize:!0})))),this.props.children,this.props.footer&&l.createElement("div",{className:"interstitial_page--footer--IGCrV"},this.props.footer))}}eX.defaultProps={title:"Figma"};var eQ=r(637590),e0=r(763459);function e1(){let e,t,r,n;let i=(0,R._6)();if(!(0,eU.uz)(i))return null;let{redirectUrl:a,interstitialType:o}=i;return o===eQ.U6.ONBOARDING&&(e=l.createElement(el.Tx,{id:"community.seller.setup_complete"}),t=l.createElement(el.Tx,{id:"community.seller.head_back_to_figma_to_start_selling"}),r=e0.A,n="community_monetization_desktop_interstitial--stripeToFigmaLogo--819Zk"),l.createElement(eX,{pageType:"external"},l.createElement(eZ.u,{useOriginalSrcFills:!0,imageSrc:r,imageClassName:n,headerText:e,secondaryText:t},l.createElement(Y.nD,{onClick:()=>{(0,e$.Sr)(a)},className:"community_monetization_desktop_interstitial--button--Eq1kl"},l.createElement(el.Tx,{id:"community.buyer.return_to_desktop_app"}))))}var e2=r(27087),e3=r(112967),e5=r(881388),e4=r(738269),e8=r(129318),e6=r(193212);function e7(){let e=(0,e6.aq)(),t=(0,D.wA)(),r=(0,e8.QL)("locale"),n=(0,e8.QL)("hub_file_id");return(0,l.useEffect)(()=>{e2.Ay.post("/api/try/figjam",{hub_file_id:n,locale:r}).then(r=>{e()&&(t(e4.$T({view:"fullscreen",fileKey:r.data.meta.file_key,editorType:q.nT.Whiteboard})),r.data.meta.missing_hub_file&&t(e5.s.error((0,el.t)("figjam_try.template_creation_failed"))))}).catch(e=>{console.error(e),t(e5.s.error((0,el.t)("figjam_try.failed_to_create_file"))),setTimeout(()=>window.history.go(-1),2e3)})},[t,e,n,r]),l.createElement(e3.A,{loaded:!1,loadingElementId:"loading-content-pane"})}var e9=r(939306),te=r(966159),tt=r(992405),tr=r(733556),tn=r(646240),ti=r(586459),ta=r(860601),to=r(448169),tl=r(501114),ts=r(693707),tc=r(168039),td=r(93536),tu=r(356390),tp=r(541524),tm=r(612389),t_=r(552657),th=r(572174),tg=r(96328),tf=r(886571),tE=r(442260),ty=r(983119);class tb{constructor(e){this.chunk=e}guid(){var e;return null==(e=this.chunk.displayNode)?void 0:e.guid}}var tv=r(618058),tI=r(220566),tT=r(614869),tS=r(794348),tw=r(494299),tA=r(117837);let tC=new Set(["backgroundPaints"]);function tN(e,t){return(0,tS.w_)({label:e,list:t.stack??[],buildChild:(e,t)=>({label:e,value:{type:tT.hy.EditScope,value:t},children:[],expandByDefault:!1}),expandByDefault:!0})}(0,e_.j)(tC);class tO extends tw.X{constructor({resourceMetadata:e,nodeChanges:t,schema:r,blobs:n,diffChunks:i,...a}){super(a),this.searchDB=new tE.V,this.diffChunksByDisplayGuid={},this.fieldNamesByFieldNumber=new Map,this.resourceMetadata=e,this.nodes=t.map(e=>new tL(e,this)),this.blobs=n,this.searchDB.indexNodes(this.nodes),this.rootNodes="multiplayer_journal"===this.type?this.nodes:this.nodes.filter(e=>{let t=e.parentGuid();return null==t||null==this.getNode(t)}),i&&i.forEach(e=>{var t;if(null==(t=e.displayNode)?void 0:t.guid){let t=(0,tv.qJ)(e.displayNode.guid);this.diffChunksByDisplayGuid[t]=new tb(e)}}),"multiplayer_journal"===this.type&&(this._shouldShowNodePhases=!0,this._shouldShowNodeTypes=this.nodes.some(e=>null!=e.nodeChange.type)),this.fieldNamesByFieldNumber=function(e){let t=new Map,r=e.definitions.find(e=>"NodeChange"===e.name);if(!r)return console.error("Couldn't find NodeChange definition in schema"),t;for(let e of r.fields)t.set(e.value,e.name);return t}(r)}getResourceMetadata(){return this.resourceMetadata}getResourceMetadataDisplayInfo(){return Object.entries(this.resourceMetadata).reduce((e,[t,r])=>("encodedKiwiSchemaUrl"===t||(e[(0,tg.vE)((0,tg.uc)(t))]=String(r)),e),{})}getRootNodes(){return this.rootNodes}getNode(e){return this.searchNodes({guid:(0,tv.qJ)(e)})[0]}getChildren(e){return this.searchNodes({parentGuid:(0,tv.qJ)(e)})}getStyle(e){return this.searchNodes({type:"style",styleId:e})[0]}getVariable(e){return this.searchNodes({type:"variable",variableId:e})[0]}getVariableCollection(e){return this.searchNodes({type:"variable_collection",variableCollectionId:e})[0]}getPrimaryInstances(e){return this.searchNodes({type:"instance",backingSymbolId:(0,tv.qJ)(e)})}getStyleConsumers(e){return this.searchNodes({consumedStyleIds:e})}getVariablesInCollection(e){return this.searchNodes({type:"variable",variableCollectionId:e})}getNodesWithExplicitModeForVariableSet(e){return[]}getVariableConsumers(e){return this.searchNodes({consumedVariableIds:e})}getChunkByDisplayGuid(e){return this.diffChunksByDisplayGuid[(0,tv.qJ)(e)]}getBlobByIndex(e){return this.blobs[e]??null}search(e,t){return Promise.resolve(this.searchDB.search(e,t))}searchNodes(e){let t=Object.entries(e).map(([e,t])=>`${e}=${t}`).join(" ");return this.searchDB.searchTokens((0,ty._)(t,"")).map(e=>e.node)}indexedProperties(){return this.searchDB.indexedProperties}}class tL extends tI.H{primaryInstances(){return this._scene.getPrimaryInstances(this.guid())}consumedStyleIds(){var e,t,r,n;let i=[];function a(e){for(let t of tA.ux){let r=e[t];r&&i.push(tf.PK.fromLocalNodeIdObj(r))}for(let t of tA.GP){let r=e[t];if(r){let e=tf.PK.fromKiwi(r);e&&i.push(e)}}}for(let t of(a(this.nodeChange),(null==(e=this.nodeChange.symbolData)?void 0:e.symbolOverrides)??[]))a(t);for(let e of(null==(t=this.nodeChange.textData)?void 0:t.styleOverrideTable)??[])a(e);for(let e of(null==(r=this.nodeChange.vectorData)?void 0:r.styleOverrideTable)??[])a(e);for(let e of(null==(n=this.nodeChange.nodeGenerationData)?void 0:n.overrides)??[])a(e);return i}consumedStyles(){return this.consumedStyleIds().map(e=>this._scene.getStyle(e)).filter(th.Vq)}consumedVariableIds(){var e,t,r,n,i;let a=new Set;function o(e){if(!e)return;let t=tf.sD.fromKiwi(e);t&&a.add(t)}for(let e of tC)!function(e){var t,r;for(let n of e??[])o(null==(r=null==(t=n.colorVar)?void 0:t.value)?void 0:r.alias)}(this.nodeChange[e]);for(let a of(null==(e=this.nodeChange.variableConsumptionMap)?void 0:e.entries)??[])o(null==(r=null==(t=a.variableData)?void 0:t.value)?void 0:r.alias),(null==(i=null==(n=a.variableData)?void 0:n.value)?void 0:i.expressionValue)&&function e(t){var r,n;for(let i of t.expressionArguments??[])o(null==(r=i.value)?void 0:r.alias),(null==(n=i.value)?void 0:n.expressionValue)&&e(i.value.expressionValue)}(a.variableData.value.expressionValue);return[...a.values()]}consumedVariables(){return this.consumedVariableIds().map(e=>this._scene.getVariable(e)).filter(th.Vq)}isPrimaryInstance(){return this.isInstance()}isNestedInstance(){return!1}generateComputedProperties(){var e,t,r;let n=[(0,tS.sq)(this.type())];"DOCUMENT"===this.nodeType()&&Object.entries(this._scene.getResourceMetadataDisplayInfo()).forEach(([e,t])=>{n.push((0,tS.Jt)(e,{type:tT.hy.String,value:t}))});let i=(0,tS.qU)(this);if(i&&n.push(i),this.isPrimaryInstance()){let e=(0,tS.az)(this);e&&n.push(e)}if(this.isInstance()&&n.push({label:"Instance Info",children:[(0,tS.VX)(this),(0,tS.fG)(this)].filter(th.Vq),expandByDefault:!0}),this.isSymbol()&&n.push((0,tS.w_)({label:"Primary Instances",list:this.primaryInstances(),buildChild:tS.lh,expandByDefault:!1})),this.isStyle()&&n.push((0,tS.cT)(this.styleConsumers())),this.isVariable()){let e=this._scene.getVariableCollection(this.variableCollectionId());n.push((0,tS.dW)(e)),n.push((0,tS.dL)(this.variableConsumers()))}let a=this.consumedStyles();a.length>0&&n.push((0,tS.Oj)(a));let o=this.consumedVariables();o.length>0&&n.push((0,tS.PT)(o)),this.isVariableCollection()&&(n.push((0,tS.SP)(this.variablesInCollection())),n.push((0,tS.Mx)(this.nodesWithExplicitModeForCollection())));let l=this.variablesDirectlyDependedOnByThisVariable();Object.values(l).some(e=>e.length>0)&&n.push((0,tS.q7)(l));let s=this.otherAssetVersions();s.length>0&&n.push((0,tS.nn)(s));let c=this._scene.getChunkByDisplayGuid(this.guid());if(c&&n.push((0,tS.x9)(c)),this.nodeChange.editScopeInfo){let{snapshots:t}=this.nodeChange.editScopeInfo;t&&n.push((e=this._scene.fieldNamesByFieldNumber,(0,tS.w_)({label:"Edit Scope Snapshots",list:t,buildChild:(t,r)=>r.nodeChangeFieldNumbers?{label:t,children:[(0,tS.w_)({label:"Frames",list:r.frames??[],buildChild:tN,expandByDefault:!0}),(0,tS.w_)({label:"Fields",list:r.nodeChangeFieldNumbers??[],buildChild:(t,r)=>{let n=e.get(r);return{label:t,value:n?{type:tT.hy.String,value:n}:{type:tT.hy.Error,value:`Unknown field (${r})`},children:[],expandByDefault:!0}},expandByDefault:!0})],expandByDefault:!0}:(0,tS.w_)({label:t,list:r.frames??[],buildChild:tN,expandByDefault:!0}),expandByDefault:!1})));let{editScopeStacks:r}=this.nodeChange.editScopeInfo;r&&n.push((0,tS.w_)({label:"Edit Scope Snapshots (Legacy)",list:r,buildChild:tN,expandByDefault:!1}))}return this.nodeChange.aiEditedNodeChangeFieldNumbers&&n.push((t=this.nodeChange.aiEditedNodeChangeFieldNumbers,r=this._scene.fieldNamesByFieldNumber,(0,tS.w_)({label:"AI Edited Fields",list:t||[],expandByDefault:!0,buildChild:(e,t)=>{let n=r.get(t);return{label:e,value:n?{type:tT.hy.String,value:n}:{type:tT.hy.Error,value:`Unknown field number ${t}`},children:[],expandByDefault:!0}}}))),n}}async function tR(e,t,r){var n,i;if((0,tm.F1)(e)){let i=r instanceof Array?r[0]:r,a=await (0,e9.wV)(i.buffer,null==(n=i.resourceMetadata)?void 0:n.migrationVersion);return[new tO({...a,sensitiveTextPolicy:t,resource:e,resourceMetadata:{migrationVersion:a.migrationVersion}})]}if((0,tm.HP)(e)){let n=r instanceof Array?r[0]:r,{before:a,after:o}=await (0,e9.wF)(n.buffer,null==(i=n.resourceMetadata)?void 0:i.migrationVersion);return[o,a].map(r=>new tO({...r,resource:e,sensitiveTextPolicy:t,resourceMetadata:{migrationVersion:r.migrationVersion}}))}if("multiplayer_journal"===e.type){let n=r instanceof Array?r[0]:r;return[new tO({...await (0,e9.Dp)(n.buffer,n.resourceMetadata),sensitiveTextPolicy:t,resource:e,resourceMetadata:n.resourceMetadata})]}if("multiplayer_journals"===e.type){let n=(r instanceof Array?r:[r]).map(async r=>new tO({...await (0,e9.Dp)(r.buffer,r.resourceMetadata),resource:{fileKey:e.fileKey,type:"multiplayer_journal",endSequenceNumber:r.resourceMetadata.endSequenceNumber},sensitiveTextPolicy:t,resourceMetadata:r.resourceMetadata}));return await Promise.all(n)}(0,e_.xb)(e)}var tP=r(853679),tk=r(863822);async function tD(e){var t,r,n;let i=await (0,e2.GD)(e),a=atob(decodeURIComponent((null==(n=null==(r=null==(t=null==i?void 0:i.data)?void 0:t.meta)?void 0:r.metadata)?void 0:n.figmascope_hash)||"")),o=await fetch(a,{headers:{"Cache-Control":"no-cache"}}),l=await o.blob(),s=new FileReader;return new Promise((e,t)=>{s.addEventListener("loadend",r=>{var n,a,o;s.result instanceof ArrayBuffer?e({buffer:new Uint8Array(s.result),resourceMetadata:{migrationVersion:null==(o=null==(a=null==(n=null==i?void 0:i.data)?void 0:n.meta)?void 0:a.metadata)?void 0:o.figmascope_migration_version}}):t(Error("bad file result type"))}),s.readAsArrayBuffer(l)})}async function tM(e){if(!e.endSequenceNumber)throw Error("Expected end_sequence_number to be present in URL params");let{entry:t,file_version:r,created_at:n,schema_url:i}=(await (0,e2.GD)(`/api/admin/multiplayer_journal/${e.fileKey}/${e.endSequenceNumber}`)).data.meta,a={migrationVersion:r,encodedKiwiSchemaUrl:i,createdAt:n,endSequenceNumber:e.endSequenceNumber};return{buffer:new Uint8Array(function(e){let t=atob(e),r=t.length,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t.charCodeAt(e);return n.buffer}(t)),resourceMetadata:a}}async function tx(e){let t={};e.startSequenceNumber&&(t.start_sequence_number=e.startSequenceNumber),e.endSequenceNumber&&(t.end_sequence_number=e.endSequenceNumber);let{journalEntries:r}=(await (0,e2.GD)(`/api/admin/multiplayer_journals/${e.fileKey}`,t)).data.meta.metadata,n=r.map(t=>tM({type:"multiplayer_journal",fileKey:e.fileKey,source:"server",endSequenceNumber:t.end_sequence_number.toString()}));return await Promise.all(n)}function tF(e){switch(e.type){case"server_file":return tD(`/api/admin/files/${e.key}`);case"server_checkpoint":return tD(`/api/admin/checkpoints/${e.key}`);case"server_checkpoint_diff":return tD(`/api/admin/checkpoint_diffs/${e.key}`);case"multiplayer_journal":return tM(e);case"multiplayer_journals":return tx(e);default:(0,e_.xb)(e)}}var tU=r(506563),tB=r(402759),tH=r(109022),tV=r(330845);function tG(){let e=(0,R._6)(),t=(0,D.wA)(),r=l.useCallback(e=>{t(e4.$T({view:"figmascope",resource:{type:"server_file",key:e,backend:"kiwi"}}))},[t]),n=l.useCallback(()=>{t(e4.$T({view:"figmascope",resource:null}))},[t]),i=(0,tc.dB)(),a=l.useRef(null);(0,ts.Z)("legacy"===i?"light":i,a,e);let o=(0,tV.E)(e),s=(0,F.zN)(o?e.resource:null);if(!o)return null;let c=null;return c=s?(0,tm._g)(s)?l.createElement(tK,{resource:s,onClose:n}):l.createElement(tW,{resource:s,onClose:n}):l.createElement(tY,{navigateToFile:r}),l.createElement("div",{ref:a,style:tl.sx.overflowHidden.m0.colorBg.colorText.add({height:"100vh"}).$},c)}function tW({resource:e,onClose:t}){let r=(0,tr.J)(async()=>{let t=await tF(e);return tR(e,"hide",t)},[e]);return tj(e,r),l.createElement(tH.J,{onClose:t})}function tK({resource:e,onClose:t}){let r=(0,tr.J)(async()=>{let t=await tF(e),r=t instanceof Array?t[0].buffer:t.buffer;await tu.Y5.loadAndStartFullscreenIfNecessary(),eB.glU.loadFigFileFromBuffer(r,eB.m1T.PREVIEW)},[e]),n=function(){let[e,t]=l.useState(tu.Y5.isReady());return l.useEffect(()=>{tu.Y5.isReady()||tu.Y5.onReady().then(()=>{t(!0)})},[]),e}(),i=(0,tn.Xr)(tk.o3);return l.useEffect(()=>{r.status===ti.r.FAILURE?i((0,te.uW)(r.error)):n&&r.status===ti.r.SUCCESS?i((0,te.NY)({resource:e,scenes:[new t_.I({resource:e,sensitiveTextPolicy:"hide",inPrototypeViewer:!1})]})):i((0,te.ux)())},[e,n,r,i]),l.createElement(tH.J,{onClose:t})}function tY({navigateToFile:e}){let[t,r]=l.useState({status:ti.r.INIT}),n=l.useCallback(()=>r({status:ti.r.INIT}),[]);tj(null,t);let i=t.status===ti.r.INIT||t.status===ti.r.FAILURE,a=l.useCallback(e=>!!i&&new td.le(e).isFile(),[i]),o=l.useCallback(async e=>{if(i){r({status:ti.r.LOADING});try{let t=Array.from(e.files),n=await Promise.all(t.map(async e=>{let t=await new Promise((t,r)=>{let n=new FileReader;n.addEventListener("loadend",e=>{n.result instanceof ArrayBuffer?t(new Uint8Array(n.result)):r(Error("bad file result type"))}),n.readAsArrayBuffer(e)});t=await (0,e9.BX)(t);let r=(0,e9.l0)(t)===e9.Eo?{type:"local_diff_file",name:e.name}:{type:"local_file",name:e.name};return tR(r,"show",{buffer:t})}));r({status:ti.r.SUCCESS,value:n.flat()})}catch(e){r({status:ti.r.FAILURE,error:e})}}},[i]);l.useEffect(()=>{if(!i)return;let t=async t=>{var n,i,a;r({status:ti.r.LOADING});try{if(null==(n=t.clipboardData)?void 0:n.files.length)await o(t.clipboardData);else if(null==(i=t.clipboardData)?void 0:i.getData("text/html")){let e=(0,tp.yH)(t.clipboardData);if(!e)throw Error("Unable to parse clipboard data");if(e=await (0,e9.BX)(e),(0,e9.l0)(e)===e9.Eo)throw Error("Unexpected figd data in clipboard");let n=await tR({type:"pasted_data"},"show",{buffer:e});r({status:ti.r.SUCCESS,value:n})}else if(null==(a=t.clipboardData)?void 0:a.getData("text/plain")){let r=t.clipboardData.getData("text/plain");try{let t=new URL(r),n=tt.j.exec(t.pathname);if(!n)throw Error("Unable to parse URL");e(n[1])}catch(e){throw Error("Unable to parse RL")}}}catch(e){r({status:ti.r.FAILURE,error:e})}};return document.addEventListener("paste",t),()=>document.removeEventListener("paste",t)},[i,o,e]);let s=l.useMemo(()=>l.createElement(tB.tV,null,l.createElement("h1",{style:tl.sx.font24.fontBold.mb16.$},"Welcome to FigmaScope!"),l.createElement("p",null,"This tool lets you inspect the internals of Fig files. Check out the Readme"," ",l.createElement("a",{href:tU.e,target:"_blank"},"here"),"."),l.createElement("h2",{style:tl.sx.font20.fontBold.mt32.mb16.$},"Getting started"),l.createElement("p",null,"Drag a .fig or .figd file here to view its contents. Or drag two files to diff them."),l.createElement("p",null,"Copy a selection from a Figma file and paste it here to view it."),l.createElement("p",null,"Copy a file key or URL and paste it here to view it."),l.createElement("h2",{style:tl.sx.font20.fontBold.mt32.mb16.$},"Other ways to access FigmaScope"),l.createElement("p",null,'Use the "Show in FigmaScope" menu option in the editor to open an embedded version of FigmaScope.'),l.createElement("p",null,'Click the "Open in FigmaScope" links from the admin pages for a file, diff, or checkpoint.')),[]);return l.createElement(to.Y,{isDragTarget:a,onTargetDrop:o,onTargetDragEnter:ta.lQ,onTargetDragLeave:ta.lQ,style:tl.sx.hFull.$},l.createElement(tH.J,{onClose:n,emptyStateContent:s}))}function tj(e,t){let r=(0,tn.Xr)(tk.o3),n=(0,tn.Xr)(tP.zy);l.useEffect(()=>{if(t.status!==ti.r.SUCCESS){r(t),n(null);return}let i=t.value;if(0===i.length){r((0,te.uW)("No scenes were fetched. This is probably a bug - please report in #figmascope.")),n(null);return}if(e&&(0,tm.HP)(e)){let[t,a]=i;r((0,te.NY)({resource:e,scenes:[t]})),n(a)}else if(e||2!==i.length)r((0,te.NY)({resource:e,scenes:i})),n(null);else{let[t,a]=i;r((0,te.NY)({resource:e,scenes:[t]})),n(a)}},[t,r,n,e])}var tz=r(180252),t$=r(755934),tZ=r(161394),tq=r(770760),tJ=r(503457),tX=r(196700),tQ=r(464382);r(253967);let t0=tX.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,72223)).then(e=>tQ.q.LoadablePage(e.FileBrowserView)),{loading:tQ.q.DependencyTracker,error:tJ.H4.NONE,componentName:"FileBrowserView"});r(59779),r(546962);var t1=r(127775);let t2=new(r(554630)).b({name:"fullscreen",enforce:!1,dependencies:[],exports:["views.ts*"],friendFiles:[],routeHints:["fullscreen","whiteboard","design"]}).createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(1418),r.e(8655),r.e(8044),r.e(137),r.e(8112),r.e(7012),r.e(9246),r.e(8840)]).then(r.bind(r,944238)).then(e=>e.FullscreenPageView),{loading:t1.xZ,error:tJ.H4.NONE,componentName:"LazyFullscreenPageView"});var t3=r(596),t5=r(643067),t4=r(819338),t8=r(91408),t6=r(181912),t7=r(320063),t9=r(498750),re=r(153234),rt=r(218881),rr=r(268537),rn=r(262896);let ri=class e extends l.PureComponent{constructor(e){super(e),this.state={loaded:!1,error:null,isOpen:!1}}componentDidMount(){e.singleton=this}componentWillUnmount(){e.singleton=null}init(){return(0,rn.L3)().then(()=>{this.state.loaded||(window.zE("webWidget","hide"),window.zE("webWidget:on","open",()=>{this.setState({isOpen:!0})}),window.zE("webWidget:on","close",()=>{this.setState({isOpen:!1}),this.close(!0)})),this.setState({loaded:!0,error:null})}).catch(e=>{throw e&&console.error("Unable to load Zendesk Web Widget:",e),this.setState({loaded:!1,error:e}),e})}open(e,t){this.init().then(()=>(0,rn.wB)({name:this.props.userName,email:this.props.userEmail},e)).then(()=>{this.state.isOpen||(0,rn.b_)()}).catch(()=>{this.props.dispatch(e5.s.flash((0,el.t)("help_widget.zendesk.unavailable_error_message",{supportEmail:(0,m.W4)()})))})}close(e=!1){this.state.loaded&&(this.state.isOpen||e)&&(window.zE("webWidget","hide"),window.zE("webWidget","close"))}isError(){return!!this.state.error}render(){return l.createElement("div",{className:"zendesk-web-widget"})}};ri.singleton=null;var ra=r(638889),ro=r(762638),rl=r(22774),rs=r(662275),rc=r(196495),rd=r(931828),ru=r(809831),rp=r(516398),rm=r(335682),r_=r(309798),rh=r(69961),rg=r(243987),rf=r(428467),rE=r(279145),ry=r(888699),rb=r(738456),rv=r(251960),rI=r(456104),rT=r(582947),rS=r(397065),rw=r(340514),rA=r(463546),rC=r(302608);let rN="seen_bug_reporter_modal",rO=(0,rT.r1)(rN);function rL(){let e=(0,D.wA)(),t=(0,U.md)(rO),r=(0,rI.e)({overlay:rA.lk2,priority:rS.N.SECONDARY_MODAL},[t]),n=(0,D.d4)(e=>{var t;return null==(t=e.user)?void 0:t.created_at}),i=(0,D.d4)(e=>{var t;return null==(t=e.user)?void 0:t.email}),a=!!n&&(0,t6.A)().diff((0,t6.A)(n),"days")>=14,o=!!i&&i.includes("@figma.com"),s=(0,U.md)(rC.jH);return((0,rv.E)(r.uniqueId,"Fullscreen Loaded",()=>{a&&o&&r.show({canShow:e=>!e,onShow:()=>e(rd.b({[rN]:!0}))})}),l.useEffect(()=>{s&&r.complete()},[r,s]),r.isShowing&&(0,m.kc)().bug_reporter)?l.createElement(rw.rq,{isShowing:r.isShowing,userFlagOnShow:rN,title:l.createElement(el.Tx,{id:"bug_reporter.announcement.title"}),description:l.createElement(el.Tx,{id:"bug_reporter.announcement.content"}),trackingContextName:"bug_reporter_modal",targetKey:"bug-reporter-modal-key",onClose:r.complete,emphasized:!0,disableHighlight:!0}):null}var rR=r(707461),rP=r(498480),rk=r(711117),rD=r(284111),rM=r(59530),rx=r(258751),rF=r(787523);function rU(...e){let t=(0,D.wA)(),r=(0,D.d4)(e=>e.userFlags),n=e.reduceRight((e,t)=>(e<<1)+(r[t]?1:0),0),i=r=>{let n=r,i=e.reduce((e,t)=>{let r=!!(1&n);return n>>=1,{...e,[t]:r}},{});t(rd.b(i))};return{flagNumberVal:n,incrementFlag:()=>{n+1>=Math.pow(2,e.length)||i(n+1)},decrementFlag:()=>{n<=0||i(n-1)},setFlagVal:t=>{let r=Math.max(0,t);i(r=Math.min(r,Math.pow(2,e.length)-1))}}}var rB=r(672517),rH=r(172115),rV=r(295296),rG=r(995852),rW=r(820113),rK=r(206193),rY=r(622139),rj=r(237870),rz=r(476932),r$=r(457215);let rZ=(0,rj.Ju)(function({teamId:e,dismissModal:t,maxSeenCount:r=1/0}){let n=(0,l.useMemo)(()=>(0,r$.hK)(),[]),i=(0,D.wA)(),{flagNumberVal:a,incrementFlag:o}=rU(...rM.h4);(0,t7.h)(()=>{r!==1/0&&a<=r&&o()});let s=l.createElement(j.V,{onClick:()=>{i(rs.to({type:rH.V,data:{teamId:e??void 0,upsellSource:rK.b.COLLECTIVE_UPSELLS_MODAL,openCheckoutInNewTab:!0}}))}},(0,el.t)("help_widget.collective_upsells.fullscreen.compare_plans"));return a>r?null:l.createElement(rB.fu,{name:"CollectiveUpsellsFullscreenModal"},l.createElement(rz.n,{...n,dismissModal:()=>{t?t():i(rs.Ce())},secondaryBtn:s,clickPrimaryBtn:()=>{e?i(rG.WX({teamId:e,openInNewTab:!0,currency:(0,rW.LN)(),billingPeriod:rY.tY.ANNUAL})):i(rs.to({type:rV.dR,data:{plan:rV.In.PRO,upsellSource:rK.b.COLLECTIVE_UPSELLS_MODAL}}))}}))},"CollectiveUpsellsFullscreenModal");var rq=r(799569),rJ=r(175290),rX=r(809840);function rQ({dismissModal:e,descriptionText:t,headerText:r,ctaPrimaryText:n,ctaSecondaryText:i,imgSrc:a,clickSecondaryBtn:o=e,clickPrimaryBtn:s}){return l.createElement(rB.fu,{name:"help_card_widget_base"},l.createElement(rk.P.div,{className:"help_card_widget_base--modal--w6-oq",initial:{translateY:500},animate:{translateY:0},transition:{duration:.6,ease:"easeInOut",translateY:{duration:1}}},l.createElement(rJ.Y,{verticalAlignItems:"center",padding:12},l.createElement(rX.E,{fontWeight:"medium",fontSize:13},r),l.createElement(rJ.M,null),l.createElement(rq.Jn,{onClick:e})),l.createElement(l.Suspense,{fallback:l.createElement("div",{className:ro.cx.w300.h150.colorBgSecondary.$})},l.createElement("img",{style:tl.sx.colorBorder.b1.colorBorder.bl0.br0.$,src:a,alt:"professional features animation"})),l.createElement("div",{style:tl.sx.p16.pb0.$},l.createElement(rX.E,{fontSize:11},t)),l.createElement(rJ.Y,{horizontalAlignItems:"end",spacing:8,padding:16},l.createElement(j.V,{onClick:o},i),l.createElement(j.V,{variant:"primary",onClick:s},n))))}function r0({shouldHide:e,dismissModal:t,maxSeenCount:r=1/0,teamId:n,editorType:i}){let{flagNumberVal:a,incrementFlag:o}=rU(...rM.WB),s=(0,D.wA)(),[c,d]=l.useState(e||a>r);return((0,t7.h)(()=>{!c&&r!==1/0&&a<=r&&o()}),c)?null:l.createElement(rB.fu,{name:"CollectiveUpsellsWidget",properties:{value:a}},l.createElement(rQ,{dismissModal:t,descriptionText:(0,el.t)("help_widget.collective_upsells_widget.description_text"),headerText:(0,el.t)("help_widget.collective_upsells_widget.header_text"),ctaSecondaryText:(0,el.t)("help_widget.collective_upsells_widget.cta_dismiss"),ctaPrimaryText:(0,el.t)("help_widget.collective_upsells_widget.cta_see_how"),imgSrc:"https://static.figma.com/uploads/14cf876ff6f8f44e32ebb92587d7d0b7a1c2704a",clickPrimaryBtn:()=>{s(rs.to({type:rZ,data:{teamId:n,editorType:i,dismissModal:()=>{t(),s(rs.Ce())}}})),d(!0)}}))}var r1=r(63666);function r2({targetKey:e,dismissModal:t}){return l.createElement(rB.fu,{name:"collective_upsells_widget_tooltip"},l.createElement(r1.NJ,{width:302,topOffset:-10,targetKey:e,dismissModal:t,shouldNotWrapInParagraphTag:!0},l.createElement(rJ.Y,{direction:"vertical"},l.createElement(rX.E,{i18nId:"help_widget.collective_upsells_widget_tooltip.header_text",fontWeight:"semi-bold",fontSize:13,color:"onbrand"}),l.createElement(rX.E,{i18nId:"help_widget.collective_upsells_widget_tooltip.description_text",fontSize:11,fontWeight:"medium",color:"onbrand"}))))}let r3="collective_upsell_widget_dismissed",r5="collective_upsell_first_file_created",r4=[r3,r5,...rM.WB,...rM.h4],r8=(0,rT.Fu)(r5),r6=(0,rD.Z1)(rT.qG,e=>Math.max(...[...rM.WB,...rM.h4].map(t=>{var r;return null==(r=e[t])?void 0:r.updatedAt}).filter(e=>null!=e).map(Number)));function r7({dropdownOpen:e}){let[t,r]=l.useState(!1),n=(0,U.md)(r8),i=(0,U.md)(r6),a=(0,D.wA)(),o=(0,rm.q5)(),s=(0,U.md)(rx.P),{flagNumberVal:c}=rU(...rM.WB),d=(0,rI.e)({overlay:rA.Yd_,priority:rS.N.SECONDARY_MODAL},[n,i]);(0,t7.h)(()=>{d.show({canShow:(e,t)=>{let r=Date.now()-864e5>t;return!!e&&r}})}),(0,rv.E)(d.uniqueId,"Reset Onboarding",()=>{let e=r4.reduce((e,t)=>({...e,[t]:!1}),{});a(rd.b({...e}))});let u=(0,l.useCallback)((e=!0)=>{c<=1&&r(e),d.isShowing&&a(rd.b({[r3]:!0})),d.complete()},[a,d,c]);if((0,l.useEffect)(()=>{e&&u(!1)},[e,u]),s!==rF.iH.FALSE);else if(t&&!d.isShowing&&!e)return l.createElement(rk.P.div,{initial:{opacity:1},animate:{opacity:0},transition:{delay:2.8,duration:.8},onAnimationComplete:()=>r(!1)},l.createElement(r2,{dismissModal:()=>r(!1),targetKey:"help-widget-zendesk"}));else if(d.isShowing)return l.createElement(r0,{shouldHide:e,dismissModal:u,maxSeenCount:3,teamId:null==o?void 0:o.teamId,editorType:null==o?void 0:o.editorType});return null}var r9=r(198868);let ne=/rgb\((\d+),\s*(\d+),\s*(\d+)\)/,nt=/rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*\.?\d+)\)/,nr=/color\(display-p3 ([0-9.]+) ([0-9.]+) ([0-9.]+)\)/,nn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function ni(e,t){if(!e)return null;if(e.match(nr))return function(e,t){let r=e.match(nr);if(!r)throw Error("Invalid P3 color string");let[n,i,a]=r.slice(1).map(Number),{red:o,green:l,blue:s}=eB.glU.applyConversionToColor({red:n,green:i,blue:a,alpha:t},eB.KXw.DISPLAY_P3_TO_SRGB);return{r:o,g:l,b:s,opacity:t}}(e,t);let r=e.match(ne);if(r)return{r:parseFloat(r[1])/255,g:parseFloat(r[2])/255,b:parseFloat(r[3])/255,opacity:t};let n=e.match(nt);if(n)return{r:parseFloat(n[1])/255,g:parseFloat(n[2])/255,b:parseFloat(n[3])/255,opacity:parseFloat(n[4])*t};let i=e.match(nn);return i?{r:parseInt(i[1],16)/255,g:parseInt(i[2],16)/255,b:parseInt(i[3],16)/255,opacity:t}:null}function na(e){let t={width:"0",color:null};return e.style.borderTopColor&&e.style.borderTopWidth&&(t.width=`${parseFloat(e.style.borderTopWidth)}`,t.color=ni(e.style.borderTopColor,1)),t}function no(e,t){let r;e.strokes=[{type:"SOLID",color:(r=t.color)?{r:r.r,g:r.g,b:r.b}:{r:0,g:0,b:0},opacity:r?r.opacity:1}],e.strokeWeight=parseFloat(t.width),e.strokeAlign="INSIDE"}function nl(e){switch(e.textTransform){case"uppercase":return"UPPER";case"lowercase":return"LOWER";case"capitalize":return"TITLE"}return null}function ns(e){switch(e.textDecorationLine){case"underline":return"UNDERLINE";case"line-through":return"STRIKETHROUGH"}return null}function nc(e,t){let r=nl(t);r&&(e.textCase=r);let n=ns(t);n&&(e.textDecoration=n);let i=function(e){switch(e.textAlign){case"left":return"LEFT";case"center":return"CENTER";case"right":return"RIGHT";case"justify":return"JUSTIFIED"}return null}(t);i&&(e.textAlignHorizontal=i)}async function nd(e,t,r,n,i){let a=await n_(e,i);t.setRangeFontSize(r,n,parseFloat(i.fontSize)),t.setRangeFontName(r,n,a);let o=nl(i);o&&t.setRangeTextCase(r,n,o);let l=ns(i);l&&t.setRangeTextDecoration(r,n,l);let{r:s,g:c,b:d,opacity:u}=ni(i.color,1)||{r:1,g:1,b:1,opacity:0};t.setRangeFills(r,n,[{type:"SOLID",color:{r:s,g:c,b:d},opacity:u}])}let nu=[],np={family:"Inter",style:"Regular"};async function nm(e,t,r){let n=`${e} ${t}`;if(nu.includes(n))return{family:e,style:t};try{return await r.loadFontAsync({family:e,style:t}),nu.push(n),{family:e,style:t}}catch(e){return nu.includes(`${np.family} ${np.style}`)||await r.loadFontAsync(np),np}}async function n_(e,t){let r=t.fontWeight||"normal",n=t.fontStyle||"normal",i={400:"Regular",normal:"Regular",500:"Medium",600:"SemiBold",700:"Bold",bold:"Bold",800:"ExtraBold",900:"Black"}[r];("italic"===n||"oblique"===n)&&("Regular"===i?i="Italic":i+="Italic");let a=t.fontFamily.replace(/"/g,"").trim().split(",").map(e=>e.trim()),o=[];for(;a.length>0;){let t=a.shift()||"Inter",r=i,n=await nm(t,r,e);n&&o.push(n)}return o[0]||np}async function nh(e,t,r){var n,i,a;let o;if(!t)return null;let{r:l,g:s,b:c,opacity:d}=ni((null==(n=t.style)?void 0:n.backgroundColor)||"",(null==(i=t.style)?void 0:i.hidden)?0:parseFloat(null==(a=t.style)?void 0:a.opacity)||1)||{r:1,g:1,b:1,opacity:0};try{switch(t.type){case"RECTANGLE":(o=e.createRectangle()).x=t.position.x,o.y=t.position.y,o.name=t.tagName,o.resize(t.size.width,t.size.height),t.style.borderRadius&&(o.cornerRadius=parseFloat(t.style.borderRadius)),o.fills=[{type:"SOLID",color:{r:l,g:s,b:c},opacity:d}],no(o,na(t));break;case"VECTOR":(o=e.createNodeFromSvg(t.svg)).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height);break;case"VECTOR_AS_IMAGE":(o=e.createNodeFromSvg(t.svg)).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height),o.findAll(e=>"VECTOR"===e.type&&Array.isArray(e.fills)&&0===e.fills.length).forEach(e=>{e.fills=[{type:"SOLID",color:{r:0,g:0,b:0},opacity:1}]});break;case"IMAGE":(o=e.createRectangle()).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height);let n="FILL"===t.style.scaleMode?"FILL":"FIT";if(t.base64){let r=Uint8Array.from(atob(t.base64),e=>e.charCodeAt(0)),i=e.createImage(r).hash;o.resize(t.size.width,t.size.height),o.fills=[{type:"IMAGE",scaleMode:n,imageHash:i}]}else{let r=await e.createImageAsync(t.url);o.resize(t.size.width,t.size.height),o.fills=[{type:"IMAGE",imageHash:r.hash,scaleMode:n}]}break;case"TEXT":(o=e.createText()).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height);let i=await n_(e,t.style);o.fontName=i,o.characters=t.value,o.fontSize=parseFloat(t.style.fontSize);let{r:a,g:u,b:p,opacity:m}=ni(t.style.color,1)||{r:1,g:1,b:1,opacity:0};o.fills=[{type:"SOLID",color:{r:a,g:u,b:p},opacity:m}],nc(o,t.style),o.textAutoResize="HEIGHT";let _=1;for(;o.height>t.size.height||o.width>t.size.width;){let e=parseFloat(t.style.fontSize);if(_>.3*e){console.warn("Exceeded max font size adjustments");break}_++;try{o.fontSize=o.fontSize-1}catch(e){console.warn("Error adjusting font size",e)}}break;case"TEXT_RANGE":(o=e.createText()).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height);let h=await n_(e,t.style);o.fontName=h;let g=t.ranges.reduce((e,t)=>e+t.value,"");o.characters=g,o.fontSize=parseFloat(t.style.fontSize);let f=ni(t.style.color,1);nc(o,t.style);let{r:E,g:y,b:b,opacity:v}=f||{r:1,g:1,b:1,opacity:0};o.fills=[{type:"SOLID",color:{r:E,g:y,b:b},opacity:v}];let I=0;for(let r of t.ranges){let t=r.value.length;await nd(e,o,I,I+t,r.style),I+=t}o.textAutoResize="HEIGHT";let T=1;for(;o.height>t.size.height||o.width>t.size.width;){let e=parseFloat(t.style.fontSize);if(T>.3*e){console.warn("Exceeded max font size adjustments");break}T++;try{o.fontSize=o.fontSize-1}catch(e){console.warn("Error adjusting font size",e)}}break;case"FRAME":(o=e.createFrame()).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height),o.name=t.tagName,o.layoutMode="NONE",t.style.borderRadius&&(o.cornerRadius=parseFloat(t.style.borderRadius)),o.fills=[{type:"SOLID",color:{r:l,g:s,b:c},opacity:d}],no(o,na(t)),o.clipsContent="HTML"!==t.tagName&&["hidden"].includes(t.style.overflow);break;default:return console.warn(`Unsupported node type: ${t.type}`),null}if(t.children&&Array.isArray(t.children))for(let n of t.children.sort((e,t)=>e.order-t.order))if("FRAME"===o.type){let t=await nh(e,n,o);t&&(o.appendChild(t),o.resize(o.width,o.height))}else{let t=await nh(e,n,r);t&&(null==r||r.appendChild(t))}return o}catch(e){return console.error(`Error creating node ${t.type}`,e,{nodeData:t}),o&&o.remove(),null}}let ng=async(e,t)=>await nh(e,t,null);async function nf(e){let t=(0,r9.D)(),r=await ng(t,e);return t.currentPage.appendChild(r),r}function nE({cardContents:e,onBackCardsHovered:t,onBackCardsUnhovered:r,onClick:n,swapping:i}){let[a,o]=(0,l.useState)(!1),[s,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)(0),[p,m]=(0,l.useState)([...e]);if((0,l.useEffect)(()=>{i&&_((d+1)%e.length)},[i]),(0,l.useEffect)(()=>{e.length<=3&&e.push(...e),m(e)},[e]),e.length<2)return null;let _=t=>{s||0===t||(c(!0),n&&n(d),setTimeout(()=>{o(!1),c(!1),u(t=>(t+1)%e.length)},1290))},h={0:{normal:"stack_of_cards--card0--bU9iy",fannedOutBig:"",swapping:"stack_of_cards--swappingCard0--U0eFK"},1:{normal:"stack_of_cards--card1--W1y63",fannedOutBig:"stack_of_cards--fannedOutBigCard1--9r-Kj",swapping:"stack_of_cards--swappingCard1--Wq2Yu"},2:{normal:"stack_of_cards--card2--i7TU7",fannedOutBig:"stack_of_cards--fannedOutBigCard2--amtxA",swapping:"stack_of_cards--swappingCard2--2Yscs"},3:{normal:"stack_of_cards--card3--enZkQ",fannedOutBig:"",swapping:"stack_of_cards--swappingCard3--hpYRP"}};return l.createElement("div",{className:"stack_of_cards--container--Rp8Rm"},p.map((e,n)=>{let i=(n-d+p.length)%p.length;return i>3?null:l.createElement("div",{role:"button",tabIndex:0,key:n,className:G()("stack_of_cards--card--MD18O",h[i].normal,{[h[i].fannedOutBig]:a,[h[i].swapping]:s}),onMouseEnter:()=>{0!==i&&(o(!0),t&&t(d))},onMouseLeave:()=>{0!==i&&(o(!1),r&&r(d))},onClick:()=>_(i)},e)}))}var ny=r(47506),nb=r(896474),nv=r(963067),nI=r(498270),nT=r(746869),nS=r(611047),nw=r(338400),nA=r(442617),nC=r(511443);let nN="stack_of_cards_widget--animated--YDWrQ",nO="stack_of_cards_widget--card--LDokR",nL="stack_of_cards_widget--hide--X1NzP";var nR=(e=>(e[e.IS_COLLAPSING=0]="IS_COLLAPSING",e[e.JUST_COLLAPSED=1]="JUST_COLLAPSED",e[e.COLLAPSED=2]="COLLAPSED",e[e.EXPANDED=3]="EXPANDED",e[e.IS_EXPANDING=4]="IS_EXPANDING",e))(nR||{});function nP({shouldHide:e,editorType:t,teamId:r}){let n=(0,D.wA)(),i=!!(0,r_.f)("dismissed_pro_trials_v3_stack_of_cards_onboarding"),a=(0,D.d4)(e=>e.universalInsertModal),o=(0,D.d4)(e=>e.multiplayerEmoji.type),s=!(0,nI.i)(r)||e||a.showing||"WHEEL"===o,c=(0,nw.Lk)(),d=(0,D.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),u=(0,nv.yy)()||null,p=(0,D.d4)(e=>e.teams[r])||null,m=(0,J.V8)(),_=(0,nA.M_)({team:p,org:u,editorType:t}),h=(0,l.useCallback)(e=>{let t=e.slice(1,-1);return[e[e.length-1],...t]},[]),g=(0,l.useCallback)(()=>{v(!0),setTimeout(()=>{y(e=>h(e)),v(!1)},1400)},[h]),f=(0,l.useCallback)(e=>{let t=nS.qQ.getOnboardingCardsStackContentProps({editorType:e,isVoiceEnabled:c,isWorkshopModeEnabled:_});return 3===t.length&&t[0].onboardingKey===nS.LP&&t.push(...t.slice(1)),t.map(e=>e.onboardingKey===nS.LP?{...e,showCta:!0,onCtaClicked:g}:{...e,showCta:!1,onCtaClicked:()=>{let t=nS.qQ.getOnboardingStepTriggerEventId(e.onboardingKey);(0,ny.YQ)({id:t})}})},[g,c,_]),[E,y]=(0,l.useState)(f(t)),[b,v]=(0,l.useState)(!1),[T,S]=(0,l.useState)(i?2:3),[w,A]=(0,l.useState)(!1),[C,N]=(0,l.useState)(0),O=(0,l.createRef)(),L=t===I._Y.WHITEBOARD&&m.right&&m.right<nC.lc,R=(0,l.useMemo)(()=>t===I._Y.WHITEBOARD&&m.right&&m.right<C+40+nC.Ug+20?{bottom:m.bottom?m.bottom-nC.Ug+12:0,right:m.right?m.right-nC.Ug-90:0}:{bottom:0,right:40},[m.bottom,m.right,t,C]);return((0,l.useEffect)(()=>{y(f(t))},[t,i,f]),(0,l.useEffect)(()=>{O&&O.current?N(O.current.clientWidth):N(0)},[O]),(0,l.useEffect)(()=>{i?0===T?S(1):S(2):S(3)},[i]),E.length<3||s)?null:l.createElement(rB.fu,{name:"Pro trials cards stack",properties:{fileTeamId:r,fileKey:d,productType:t,...nT.ng.getTrackingProperties()}},3!==T&&l.createElement("div",{className:"stack_of_cards_widget--iconWidgetContainer--pamNv"},w&&4!==T&&0!==T&&l.createElement(nD,null),l.createElement(rB.$z,{className:G()("stack_of_cards_widget--iconWidget--p49i8 help_widget--helpWidget--tXRGh text--_negText--j9g-L",{"stack_of_cards_widget--justCollapsed--7uRkw":1===T,"stack_of_cards_widget--isShowingUp--jjvWG":0===T,"stack_of_cards_widget--isDisappearing--USLnq":4===T,[nL]:L}),onClick:()=>{S(4),A(!1),setTimeout(()=>{n(rd.b({dismissed_pro_trials_v3_stack_of_cards_onboarding:!1}))},300)},onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),disabled:0===T,trackingProperties:nT.ng.getTrackingProperties("expand card stack")},l.createElement(nb.In,{icon:"gift-white-32-colored"}))),2!==T&&1!==T&&l.createElement("div",{ref:O,className:G()("stack_of_cards_widget--container--ArQBE",{"stack_of_cards_widget--figjamContainer--4AD9T":t===I._Y.WHITEBOARD,[nL]:L,"stack_of_cards_widget--collapsing--Omc10":0===T,"stack_of_cards_widget--expanding--Q74qE":4===T}),style:{...R}},l.createElement("div",{className:"stack_of_cards_widget--contentContainer--ECgFZ"},l.createElement(nE,{cardContents:E.map(e=>l.createElement(nk,{key:e.onboardingKey,onboardingKey:e.onboardingKey,header:e.header,imgSrc:e.imgSrc,showCta:e.showCta,description:e.description,hoverTitle:e.hoverTitle,hovered:e.hovered,onCtaClicked:e.onCtaClicked})),onClick:e=>{let t=E.map((t,r)=>r===(e+1)%E.length?{...t,showCta:!0}:{...t,showCta:!1});setTimeout(()=>{y(t)},1300/3),E[0].onboardingKey===nS.LP&&setTimeout(()=>{y(h(t))},1400)},onBackCardsHovered:e=>{y(E.map((t,r)=>r===(e+1)%E.length?{...t,hovered:!0}:{...t,hovered:!1}))},onBackCardsUnhovered:()=>{y(E.map(e=>({...e,hovered:!1})))},swapping:b}),l.createElement(rq.Jn,{trackingProperties:nT.ng.getTrackingProperties("collapse card stack"),className:"stack_of_cards_widget--closeButton--7dWaQ",onClick:()=>{S(0),A(!1),setTimeout(()=>{n(rd.b({dismissed_pro_trials_v3_stack_of_cards_onboarding:!0}))},300)}}))))}function nk({onboardingKey:e,imgSrc:t,showCta:r,header:n,description:i,hovered:a,hoverTitle:o,onCtaClicked:s}){return r?l.createElement(rB.fu,{name:e},l.createElement("div",{className:nO},l.createElement("div",{className:G()("stack_of_cards_widget--imgContainer--l4pVk",{[nN]:e!==nS.LP&&e!==nS.qv.COMPONENT_PUBLISHING})},l.createElement("img",{src:t,width:"100%",alt:e})),l.createElement("div",{className:G()("stack_of_cards_widget--frontCardContentContainer--14WHK",{[nN]:e!==nS.LP})},l.createElement("div",null,l.createElement("div",null,n),l.createElement("div",null,i)),l.createElement(j.V,{variant:"primary",onClick:s},e===nS.LP?l.createElement(el.Tx,{id:"help_widget.pro_trials.stack_of_cards_widget.cover_card_cta_text"}):l.createElement(el.Tx,{id:"help_widget.pro_trials.stack_of_cards_widget.cta_text"}))))):l.createElement("div",{className:nO},l.createElement("img",{src:t,width:"100%",alt:e}),a&&l.createElement("div",{className:"stack_of_cards_widget--hoverTextContainer--n048y"},o))}function nD(){return l.createElement("div",{className:"stack_of_cards_widget--tooltip--zMh2d help_widget--tooltip--ScNXy help_widget--tooltipPosition--XygMP"},l.createElement(el.Tx,{id:"help_widget.pro_trials.stack_of_cards_widget.tooltip"}))}var nM=r(106497);function nx(e){let[t,r]=l.useState(!1),n=function(){var e,t,r,n;let i=(0,D.d4)(e=>(0,rf.getPermissionsStateMemoized)(e)),a=!(0,D.d4)(e=>!!(e.openFile&&e.figFileDuplicatedFromHubFile[e.openFile.key])),o=(0,ex.Rs)(eF.cBX,{}),s=function(){let e=(0,r_.f)("dismissed_move_drafts_nudge"),t=(0,r_.f)("ran_move_drafts_nudge_v2_num_3");return!!e&&!!t&&Date.now()-t.updatedAt.getTime()>864e5}(),c=function(e){let t="collective_upsell_first_file_created",r=(0,l.useRef)((0,r_.f)(t)),n=(0,D.wA)();return(0,t7.h)(()=>{!r.current&&e&&n(rd.b({[t]:!0}))}),!!r.current&&Date.now()-r.current.updatedAt.getTime()>864e5}((null==(e=i.openFile)?void 0:e.creatorId)===(null==(t=i.user)?void 0:t.id)),{getConfig:d}=(0,rt.I7)("exp_collective_upsells_v2");if("loaded"!==o.status)return!1;let u=o.data.currentUser.teamRoles;if(!(null==u?void 0:u.length))return!1;let p=!!i.user&&(0,t6.A)().diff((0,t6.A)(i.user.created_at),"days")>=7,m=!!(null==(r=i.openFile)?void 0:r.teamId)&&(0,rf.canEditTeam)(null==(n=i.openFile)?void 0:n.teamId,i),_=!!i.openFile&&!i.openFile.teamId,h=u.some(e=>e.team&&!e.team.subscription&&e.team.canEdit),g=!u.some(e=>{var t;return(null==(t=e.team)?void 0:t.subscription)&&e.team.canEdit});return p&&c&&s&&(m||_&&h)&&a&&g&&h&&!!i.user&&d().get("isVariant",!1)}(),i=!!(0,r_.f)("collective_upsell_first_file_created"),a=n&&i,o=(0,tn.Xr)(ry.aG),s=(0,ru.ow)()?rh.nt.figjamUi3:rh.nt.ui3,c=(0,rh.o3)(s),d=(0,D.d4)(e=>e.userFlags),u=(0,rm.Cq)({useSinatraType:!0}),p=!!(0,r_.f)("not_gen_0"),_=(0,rm.q5)();return l.createElement("div",{className:ro.cx.if(e.shouldShowFigJamZoomSlider&&e.hide,ro.cx.hidden,ro.cx.flexColumn.gap12.justifyCenter.itemsEnd).$},n&&l.createElement(r7,{dropdownOpen:t}),_&&_.teamId&&_.editorType&&l.createElement(nP,{teamId:_.teamId,editorType:_.editorType,shouldHide:t||e.hide}),l.createElement(nU,{dispatch:e.dispatch,hide:e.hide,keyboardShortcuts:e.keyboardShortcuts,isEditingFile:e.isEditingFile,isUI3Enabled:c,ui3Lab:s,editorType:(0,q.RB)(null==_?void 0:_.editorType),selectedView:e.selectedView,modalShown:e.modalShown,orgUser:e.orgUser,user:e.user,userFlags:d,unsortedTeams:e.unsortedTeams,recordingKey:"helpWidget",dropDownOpen:t,setDropDownOpen:r,showDiscoverMoreOption:a,setSkipMakeSomethingOnboarding:o,showResetFileBrowserNuxOption:()=>(function({openFile:e,user:t,isGen0:r}){return!!(r&&(0,m.b5)())&&null===e&&null!=t&&!!t.profile.job_title})({openFile:u,user:e.user,isGen0:!p}),teamId:null==_?void 0:_.teamId}))}let nF=class e extends re.o6{constructor(e){super(e),this.rootRef=l.createRef(),this.zendeskRef=l.createRef(),this.dropdownID=(0,v.g)(),this.onKeyDown=e=>{switch(e.key){case"Divide":(0,t9.vN)(e,t9.xH.CONTROL|t9.xH.SHIFT)&&(e.preventDefault(),e.stopPropagation());break;case"Tab":this.closeDropdownAndLogEvent("help_widget_close_on_tab")}},this.documentMouseUp=e=>{var t,r;!this.props.dropDownOpen||(null==(t=this.rootRef.current)?void 0:t.contains(e.target))||this.props.setDropDownOpen(!1),null==(r=this.zendeskRef.current)||r.close()},this.logEvent=e=>{(0,y.sx)(e,{isEditingFile:this.props.isEditingFile,editorType:this.props.editorType,source:"help-widget-button"})},this.closeDropdownAndLogEvent=e=>{this.setState({discoverMoreOptionHovered:!1}),this.props.setDropDownOpen(!1),this.logEvent(e)},this.onClickKeyboardShortcuts=()=>{this.closeDropdownAndLogEvent("showing_keyboard_shortcuts_modal"),tu.Y5.isReady()&&tu.Y5.triggerAction("toggle-keyboard-shortcuts")},this.onClickLanguageSelector=()=>{this.logEvent("help_widget_change_languages"),this.props.dispatch((0,rs.to)({type:rb.kA,data:{source:rb.IO.HELP}}))},this.onClickKeyboardLayoutSelector=()=>{tu.Y5.isReady()&&(this.props.dispatch(rl.FU({tab:"layout"})),this.onClickKeyboardShortcuts())},this.onClickResetOnboarding=()=>{(0,m.tl)().user_data&&(this.props.setSkipMakeSomethingOnboarding(!1),this.closeDropdownAndLogEvent("Reset Onboarding"))},this.onClickResetFileBrowserNux=()=>{if(!(0,m.tl)().user_data)return!1;this.props.dispatch(rc.yJ({user:{id:(0,m.tl)().user_data.id,email_validated_at:new Date().toISOString(),job_title:""},userInitiated:!0})),setTimeout(()=>{p.Ay.reload("Nux reset")},1e3),this.closeDropdownAndLogEvent("Reset File Browser Nux")},this.onClickGetHelp=()=>{var e,t,r,n;this.closeDropdownAndLogEvent("help_widget_get_help"),0===this.props.unsortedTeams.filter(e=>(0,rg.w5)(e)).length?null==(t=this.zendeskRef.current)||t.open({ticketForms:rn.Fb.FREE,locale:null==(e=this.props.user)?void 0:e.locale}):null==(n=this.zendeskRef.current)||n.open({ticketForms:rn.Fb.PAID,locale:null==(r=this.props.user)?void 0:r.locale})},this.onClickBugReport=re.dp(this,re.Pt("bugReporter","click")||"",()=>{this.closeDropdownAndLogEvent("help_widget_bug_report"),this.props.dispatch((0,rs.to)({type:rC.bb,data:{},showModalsBeneath:!0}))}),this.onClickHtmlToFigma=()=>{let e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=()=>{var t;let r=null==(t=null==e?void 0:e.files)?void 0:t[0],n=new FileReader;n.onload=async function(e){var t;let r=null;try{console.log("starting import..."),r=JSON.parse(null==(t=e.target)?void 0:t.result),await nf(r),console.log("import complete!")}catch(e){console.error("Error parsing JSON file:",e)}},n.onerror=function(){console.error("Error reading file")},r&&n.readAsText(r)},e.click(),e.onclose=()=>{this.closeDropdownAndLogEvent("import_html_to_figma")}},this.onClickSetCommitSHA=re.dp(this,re.Pt("setCommitSHA","click")||"",()=>{this.closeDropdownAndLogEvent("help_widget_set_commit_sha"),this.props.dispatch((0,rs.to)({type:rR.sS,data:{},showModalsBeneath:!0}))}),this.onClick=re.cZ(this,"click",()=>{this.props.setDropDownOpen(!this.props.dropDownOpen),U.zl.set(rC.jH,!0)}),this.getDropdownOptions=()=>[{type:"option",onClick:this.onClickHtmlToFigma,label:l.createElement(el.Tx,{id:"help_widget.menu.import_html"}),shouldShow:()=>!!(0,m.kc)().babel_design_widget_entrypoint},{type:"option",onClick:this.onClickBugReport,label:l.createElement(el.Tx,{id:"help_widget.menu.report_issue"}),shouldShow:()=>!!(0,m.kc)().bug_reporter},{type:"option",onClick:this.onClickSetCommitSHA,label:l.createElement(el.Tx,{id:"help_widget.menu.set_commit_sha"}),shouldShow:()=>!!(0,m.kc)().set_frontend_commit_sha},{type:"option",target:"_blank",href:`https://deploys.figma.com/bisect?repro_url=${encodeURIComponent(window.location.href)}`,onClick:()=>this.closeDropdownAndLogEvent("help_widget_web_bisect"),label:l.createElement(el.Tx,{id:"help_widget.menu.web_bisect"}),shouldShow:()=>!!(0,m.kc)().web_bisect},{type:"option",onClick:this.onClickResetOnboarding,label:l.createElement("div",{"data-onboarding-key":"reset-onboarding"},l.createElement(el.Tx,{id:"help_widget.menu.reset_onboarding"})),shouldShow:()=>!!(0,m.kc)().show_reset_onboarding},{type:"separator",shouldShow:()=>!!(0,m.kc)().bug_reporter},{type:"option",target:"_blank",href:"https://help.figma.com/",onClick:()=>this.closeDropdownAndLogEvent("help_widget_help"),label:l.createElement(el.Tx,{id:"help_widget.menu.help_center"})},{type:"option",target:"_blank",href:"https://forum.figma.com/",onClick:()=>this.closeDropdownAndLogEvent("help_widget_forum"),label:l.createElement(el.Tx,{id:"help_widget.menu.support_forum"})},{type:"option",target:"_blank",href:"https://www.youtube.com/figmadesign",onClick:()=>this.closeDropdownAndLogEvent("help_widget_tutorials"),label:l.createElement(el.Tx,{id:"help_widget.menu.youtube_videos"})},{type:"option",target:"_blank",href:"https://releases.figma.com/",onClick:()=>this.closeDropdownAndLogEvent("help_widget_releases"),label:l.createElement(el.Tx,{id:"help_widget.menu.release_notes"})},{type:"option",target:"_blank",href:"/legal",label:l.createElement(el.Tx,{id:"help_widget.menu.legal_summary"})},{type:"separator"},{type:"option",target:"_blank",href:"https://forum.figma.com/submit-feedback",onClick:()=>this.closeDropdownAndLogEvent("help_widget_forum_feedback"),label:l.createElement(el.Tx,{id:"help_widget.menu.submit_feedback"}),shouldShow:()=>!(0,m.sL)()},{type:"option",target:"_blank",href:"https://forum.figma.com/ask-community",onClick:()=>this.closeDropdownAndLogEvent("help_widget_forum_ask"),label:l.createElement(el.Tx,{id:"help_widget.menu.ask_the_community"}),shouldShow:()=>!(0,m.sL)()},(0,m.sL)()?{type:"option",target:"_blank",href:"mailto:support-figgov@figma.com",onClick:()=>this.closeDropdownAndLogEvent("help_widget_get_help"),label:l.createElement(el.Tx,{id:"help_widget.menu.contact_support"})}:{type:"option",onClick:this.onClickGetHelp,label:l.createElement(el.Tx,{id:"help_widget.menu.contact_support"})},{type:"separator"},{type:"option",shouldShow:()=>tu.Y5.isReady(),onClick:this.onClickKeyboardShortcuts,label:l.createElement(l.Fragment,null,l.createElement(el.Tx,{id:"help_widget.menu.keyboard_shortcuts"}),l.createElement(ra.S,{shortcut:(0,rE.c1)(this.props.keyboardShortcuts,"open-shortcuts"),className:"help_widget--shortcut--H4xrS"}))},{type:"option",onClick:this.onClickResetFileBrowserNux,label:l.createElement("div",null,l.createElement(el.Tx,{id:"help_widget.menu.reset_file_browser_nux"})),shouldShow:this.props.showResetFileBrowserNuxOption},{type:"option",shouldShow:()=>this.props.showDiscoverMoreOption,onClick:()=>{this.props.dispatch(rs.to({type:rZ,data:{teamId:this.props.teamId,editorType:this.props.editorType?(0,q.oD)(this.props.editorType):null}})),this.closeDropdownAndLogEvent("help_widget_discover_more_features")},onHover:e=>{this.setState({discoverMoreOptionHovered:e})},label:l.createElement(l.Fragment,null,l.createElement(el.Tx,{id:"help_widget.menu.discover_more_features"}),l.createElement(rP.Ex,{className:`help_widget--proBadge--9d3JS ${this.state.discoverMoreOptionHovered?"help_widget--proBadgeHovered--KoXjg":""}`,text:(0,el.t)("help_widget.menu.discover_more_features.pro"),color:rP.zE.INVERT,subtle:!0}))},{type:"separator",shouldShow:()=>tu.Y5.isReady()},{type:"option",onClick:()=>{this.props.ui3Lab.toggleValue({user:this.props.user,userFlags:this.props.userFlags},this.props.dispatch,"help_menu"),this.props.setDropDownOpen(!1)},shouldShow:()=>{let{editorType:e,ui3Lab:t}=this.props;return!!t.canOverride()&&(e===q.nT.Design||e===q.nT.Whiteboard)},label:this.renderUI3ToggleLabel()},{type:"option",onClick:this.onClickKeyboardLayoutSelector,shouldShow:()=>tu.Y5.isReady(),label:l.createElement(el.Tx,{id:"help_widget.menu.change_keyboard_layout"})},{type:"option",onClick:this.onClickLanguageSelector,label:l.createElement(el.Tx,{id:"help_widget.menu.change_languages"})}],this.renderDropdownOptions=()=>this.getDropdownOptions().filter(e=>null==e.shouldShow||e.shouldShow&&e.shouldShow()).map((e,t)=>{if("option"===e.type){let{target:r,href:n,onClick:i,onHover:a,simulateHover:o}=e;return l.createElement(rr.W.Option,{key:t,target:r,href:n,onClick:i,onHover:a,simulateHover:o,"data-fullscreen-intercept":!0},l.createElement("div",{className:"help_widget--optionItem---2-vY"},e.label))}return"separator"===e.type&&l.createElement(rr.W.Separator,{key:t})}),this.state={discoverMoreOptionHovered:!1}}componentDidMount(){var e;super.componentDidMount(),document.addEventListener("mouseup",this.documentMouseUp),document.addEventListener("keydown",this.onKeyDown),(0,rp.QP)("help_widget",null==(e=this.rootRef)?void 0:e.current)}componentWillUnmount(){super.componentWillUnmount(),(0,rp.QP)("help_widget",null),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("mouseup",this.documentMouseUp)}componentDidUpdate(e,t){var r;super.componentDidUpdate(e,t),e.hide!=this.props.hide&&this.props.hide&&(null==(r=this.zendeskRef.current)||r.close())}renderUI3ToggleLabel(){let{editorType:e,isUI3Enabled:t}=this.props;return e===q.nT.Whiteboard?t?l.createElement(el.Tx,{id:"lab.ui3_figjam_disable"}):l.createElement(el.Tx,{id:"lab.ui3_figjam_enable"}):t?l.createElement(el.Tx,{id:"lab.ui3_disable"}):l.createElement(el.Tx,{id:"lab.ui3_enable"})}render(){var t,r;let n=(0,m.tl)().user_data&&!this.props.hide,i=this.props.editorType===q.nT.Whiteboard;return l.createElement(l.Fragment,null,l.createElement("section",{className:G()(n?"help_widget--helpWidget--tXRGh text--_negText--j9g-L":"help_widget--helpWidgetHidden--7myyk help_widget--helpWidget--tXRGh text--_negText--j9g-L",{"help_widget--lightHelpWidget--cPso-":i}),ref:this.rootRef,onFocusCapture:()=>{var e;null==(e=this.rootRef.current)||e.setAttribute("aria-hidden","false")},"data-onboarding-key":"bug-reporter-modal-key"},l.createElement(Y.RW,{"aria-haspopup":!0,"aria-controls":this.dropdownID,"aria-expanded":this.props.dropDownOpen,className:"help_widget--clickableSvg--hcIHQ",svg:nM.A,onClick:this.onClick,innerText:e.displayName,"data-onboarding-key":"help-widget-zendesk","aria-label":(0,el.t)("fullscreen.menu.help_menu"),role:"button",tabIndex:0,onKeyDown:e=>(0,rp.hx)({e,onClickHandler:this.onClick}),"data-fullscreen-intercept":!0}),l.createElement(ri,{ref:this.zendeskRef,dispatch:this.props.dispatch,userName:(null==(t=this.props.user)?void 0:t.name)||null,userEmail:(null==(r=this.props.user)?void 0:r.email)||null}),!this.props.dropDownOpen&&l.createElement(nB,null),this.props.dropDownOpen&&l.createElement("div",{className:"help_widget--dropdown--3SXN1 help_widget--tooltipPosition--XygMP"},l.createElement(rr.W.DropdownWithAutofocus,{hideDropdown:()=>{this.props.setDropDownOpen(!1)},id:this.dropdownID,options:this.renderDropdownOptions()})),l.createElement("div",{onFocus:rp.FT,tabIndex:0})),!!(0,m.kc)().bug_reporter&&n&&l.createElement(rL,null))}};nF.displayName="HelpWidget";let nU=nF;function nB(){return l.createElement("div",{"aria-hidden":!0,className:"help_widget--tooltip--ScNXy help_widget--tooltipPosition--XygMP"},l.createElement(el.Tx,{id:"help_widget.tooltip"}))}var nH=r(837324),nV=r(974105),nG=r(617453),nW=r(372174),nK=r(596607),nY=r(984968),nj=r(397863),nz=r(404095),n$=r(46481),nZ=r(227944),nq=r(29680),nJ=r(498606),nX=r(227795),nQ=r(69474);let n0="figjam_zoom_menu--enabled--gKjae",n1="figjam_zoom_menu--zoomIcon--mnHVV";var n2=r(349307),n3=r(179544),n5=r(98285),n4=r(539954);let n8=l.memo(function({recordingKey:e}){let t=(0,nZ.Zr)("zoom-out"),r=(0,nZ.Zr)("zoom-in"),n=(0,D.d4)(e=>!1===e.mirror.appModel.showUi),i=(0,nq.aV)(),a=(0,N.GS)();return!tu.Y5.isReady()||n?null:l.createElement("div",{role:"none",className:G()("figjam_zoom_menu--zoomControls--s3ykF",{[ro.cx.opacity0_3.eventsNone.$]:i}),onClick:e=>e.stopPropagation()},a?l.createElement(l.Fragment,null,l.createElement(n7,{recordingKey:e,canZoom:t}),l.createElement("div",{className:"figjam_zoom_menu--zoomMenuDivider--SMUbC"}),l.createElement(n6,{recordingKey:e,canZoom:r})):l.createElement(l.Fragment,null,l.createElement(n6,{recordingKey:e,canZoom:r}),l.createElement("div",{className:"figjam_zoom_menu--zoomSliderContainer--I6c2e"},l.createElement(nQ.X,null)),l.createElement(n7,{recordingKey:e,canZoom:t})))});function n6(e){let{recordingKey:t,canZoom:r}=e;return l.createElement(nX.K0,{recordingKey:re.Pt(t,"zoomInButton"),className:G()("figjam_zoom_menu--zoomPlus--DXjkV",{[n0]:r}),disabled:!r,onClick:()=>{tu.Y5.triggerAction("zoom-in")},"data-tooltip-type":nJ.Ib.LOOKUP,"data-tooltip":"zoom-in","aria-label":(0,el.t)("fullscreen_actions.zoom-in")},l.createElement("div",{className:"figjam_zoom_menu--zoomPlusIcon--w5RTc"},l.createElement(n$.U,{svg:n5.A,fallbackSvg:n4.A},l.createElement("span",{className:n1},l.createElement(nj.x,null)))))}function n7(e){let{recordingKey:t,canZoom:r}=e;return l.createElement(nX.K0,{recordingKey:re.Pt(t,"zoomOutButton"),className:G()("figjam_zoom_menu--zoomMinus--JBcE8",{[n0]:r}),disabled:!r,onClick:()=>{tu.Y5.triggerAction("zoom-out")},"data-tooltip-type":nJ.Ib.LOOKUP,"data-tooltip":"zoom-out","aria-label":(0,el.t)("fullscreen_actions.zoom-out")},l.createElement("div",{className:"figjam_zoom_menu--zoomMinusIcon--bGJ1s"},l.createElement(n$.U,{svg:n2.A,fallbackSvg:n3.A},l.createElement("span",{className:n1},l.createElement(nz.f,null)))))}var n9=r(860168);let ie=(0,t8.jz)(n9.if6),it=l.memo(function(){var e;let t=(0,D.wA)(),r=(null==(e=(0,t4.C)())?void 0:e.setBottomRightToolsNode)||ta.lQ,n=(0,nQ.O)(),i=window.FigmaMobile,{keyboardShortcuts:a,isEditingFile:o,selectedView:s,modalShown:c,orgUser:d,user:u,unsortedTeams:p}=(0,eh.R)(e=>({keyboardShortcuts:e.mirror.appModel.keyboardShortcuts,isEditingFile:!!(0,nV.d1)(e),selectedView:e.selectedView,modalShown:e.modalShown,orgUser:(0,nK.Yj)(e),user:e.user,unsortedTeams:(0,nY.dE)(e.user,e.roles,e.teams)})),m=(0,nG.D)(),_=(0,ru.Em)(),h=!(0,D.d4)(e=>e.mirror.appModel.showUi)||m,g=!!(null==i?void 0:i.shouldOptimizeForIpadApp)||nW.z4.getIsExtension()&&(0,eE.$A)(s)||h,f=function(){var e,t;let r=(0,$.Yk)(),n=(0,J.Op)(),i=null==(t=null==(e=(0,t4.C)())?void 0:e.bottomRightToolsNode)?void 0:t.getBoundingClientRect();return n&&i&&n.right+ie>i.left?r:0}();return(0,nH.jl)()||"fullscreen"===s.view&&s.postingToFeed||!n&&g?null:l.createElement("div",{ref:r,className:G()("bottom_right_tools_container--container--GhraJ",{"bottom_right_tools_container--design--Yvkzk":_}),style:{marginBottom:f}},n&&l.createElement(n8,{recordingKey:"figjamZoomMenu"}),!g&&l.createElement(nx,{dispatch:t,hide:h,keyboardShortcuts:a,isEditingFile:o,selectedView:s,modalShown:c,orgUser:d,user:u,unsortedTeams:p,shouldShowFigJamZoomSlider:n}))});var ir=r(410424),ii=r(820642),ia=r(336599),io=r(561746);class il extends l.PureComponent{constructor(){super(...arguments),this.isLoadingVersions=()=>ia.VP(this.props.loadingState,ir.ts.loadingKeyForPayload({hubFileId:this.props.hubFileId})),this.shouldRetryLoadingVersions=()=>ia.Sc(this.props.loadingState,ir.ts.loadingKeyForPayload({hubFileId:this.props.hubFileId}))}componentDidMount(){this.props.dispatch(ir.ts({hubFileId:this.props.hubFileId}))}render(){let e=!(this.isLoadingVersions()||this.shouldRetryLoadingVersions()),t=!!(0,ii.a6)(this.props.hubFile).id;return l.createElement(l.Fragment,null,e&&t?l.createElement(io.Z,{containerClassName:"hub_file_embed_view--container---KHBD",hubFile:this.props.hubFile,profileIdToAdminResourceAs:null,disableClickToExpand:!0,fullscreenState:eQ.G4.DEFAULT,dispatch:this.props.dispatch}):null)}}il.displayName="HubFileDetailView";let is=(0,D.Ng)((e,t)=>({hubFile:{...(0,ii.M3)(t.hubFileId,e.hubFiles),comments_setting:null},loadingState:e.loadingState}))(il);var ic=r(378260),id=r(835691),iu=r(147829),ip=(e=>(e[e.FIRST_QUESTION=0]="FIRST_QUESTION",e[e.SECOND_QUESTION=1]="SECOND_QUESTION",e[e.HOW_CAN_WE_IMPROVE=2]="HOW_CAN_WE_IMPROVE",e[e.COMPLETE=3]="COMPLETE",e))(ip||{}),im=(e=>(e[e.FREE_FORM_INPUT=0]="FREE_FORM_INPUT",e[e.COMPLETE=1]="COMPLETE",e))(im||{}),i_=(e=>(e[e.WHY_ABANDON_QUESTION=0]="WHY_ABANDON_QUESTION",e[e.FREE_FORM_INPUT=1]="FREE_FORM_INPUT",e[e.COMPLETE=2]="COMPLETE",e))(i_||{}),ih=(e=>(e[e.OPINION_QUESTION=0]="OPINION_QUESTION",e[e.IMPROVEMENT_QUESTION=1]="IMPROVEMENT_QUESTION",e[e.COMPLETE=2]="COMPLETE",e))(ih||{}),ig=(e=>(e.OVERALL_HELPFUL="OVERALL_HELPFUL",e.MISSING_COMPONENTS="MISSING_COMPONENTS",e.ANYTHING_ELSE="ANYTHING_ELSE",e.COMPLETE="COMPLETE",e))(ig||{}),iE=(e=>(e.INTRO="INTRO",e.FIGMA_USE="FIGMA_USE",e.USE_CASES="USE_CASES",e.NONE_APPLY="NONE_APPLY",e.INTENT_TO_UPGRADE="INTENT_TO_UPGRADE",e.LIKELIHOOD_OF_UPGRADING="LIKELIHOOD_OF_UPGRADING",e.REASON_FOR_FREE_PLAN="REASON_FOR_FREE_PLAN",e.NO_INTENT_TO_UPGRADE="NO_INTENT_TO_UPGRADE",e.COMPLETE="COMPLETE",e))(iE||{}),iy=r(109388),ib=r(773058),iv=r(659838),iI=r(101505),iT=r(70964);let iS="survey_view--progressText--CLyN0",iw="survey_view--footer--29H7u",iA="survey_view--submitButton--XM2mL",iC="survey_view--grid--8PjFO",iN="survey_view--question--tlccL",iO="survey_view--choice--qImxP",iL="survey_view--choiceLabel--NJ5QK",iR="survey_view--surveyButton--7ULK8",iP="survey_view--ratingSubtext--4eSXc";var ik=r(18961);(e=>{e.DEFAULT_WIDTH=340,e.useSurveyState=function(t){let{completeStates:r,dismissModal:n,heightProvider:i,initialState:a,autoDismissTime:o,widthProvider:s}=t,[c,d]=l.useState(a),[u,p]=l.useState(""),[m,_]=l.useState(!1),[h,g]=l.useState(i(c)),[f,E]=l.useState(s?s(c):e.DEFAULT_WIDTH),y=t=>{_(!0),setTimeout(()=>{g(i(t)),E(s?s(t):e.DEFAULT_WIDTH)},300),setTimeout(()=>{d(t),_(!1)},600),r.some(e=>e===t)&&setTimeout(n,o??2e3)};return{state:c,mostRecentAnswer:u,setNextState:y,clickAnswer:e=>{var t;p(e.answer),y(e.nextState),null==(t=e.onSubmit)||t.call(e)},fadingOut:m,height:h,width:f}},e.useAutosizedSurveyState=function(e){let{completeStates:t,dismissModal:r,initialState:n,autoDismissTime:i,offscreenBoundsRef:a}=e,[o,s]=l.useState(void 0),[c,d]=l.useState(n),[u,p]=l.useState(""),[m,_]=l.useState(!1),[h,g]=l.useState(void 0),[f,E]=l.useState(void 0);l.useEffect(()=>{var e,t;g(null==(e=a.current)?void 0:e.offsetHeight),E(null==(t=a.current)?void 0:t.offsetWidth),s(n)},[n,a]);let y=e=>{_(!0),d(e),setTimeout(()=>{var e,t;g(null==(e=a.current)?void 0:e.offsetHeight),E(null==(t=a.current)?void 0:t.offsetWidth)},300),setTimeout(()=>{s(e),d(void 0),_(!1)},600),t.some(t=>t===e)&&setTimeout(r,i??2e3)};return{state:o,upcomingState:c,mostRecentAnswer:u,setNextState:y,clickAnswer:e=>{var t;p(e.answer),y(e.nextState),null==(t=e.onSubmit)||t.call(e)},fadingOut:m,height:h,width:f}}})(i||(i={})),(e=>{function t(e){return l.createElement("div",{className:"survey_view--surveyContent--tFdrC text--fontPos11--2LvXf text--_fontBase--QdLsd",style:e.style},e.children)}function r(e){return l.createElement(Y.tM,{className:iR,onClick:()=>e.onClickAnswer(e.answer)},e.answer.answer)}function n(e){return l.createElement(Y.Us,{className:iR,onClick:()=>e.onClickAnswer(e.answer),trusted:!0},e.answer.answer)}function a(e){return l.createElement("div",{className:iC},l.createElement("div",{className:iN}),e.choices.map((e,t)=>l.createElement("p",{key:t,className:iO},e)))}function o(e){return l.createElement(ib.z,{value:e.currentChoice,onChange:e.onClickChoice,className:iC},l.createElement("legend",{className:iN},e.question),e.choices.map((e,t)=>l.createElement(ib.Z,{key:t,className:iO,labelClassName:iL,value:e})))}function s(e){return l.createElement(l.Fragment,null,l.createElement("legend",{className:iN},e.question),l.createElement(Y.Kz,{multiple:2}),l.createElement(ib.z,{value:e.currentChoice,onChange:e.onClickChoice,className:"survey_view--choicesRow--K8vz1"},e.choices.map((e,t)=>l.createElement(ib.Z,{key:t,className:iO,labelClassName:iL,value:e},e))))}function c(e){let r=e.height&&e.height-32,n=(e.width||i.DEFAULT_WIDTH)-32,a=l.createElement(t,{style:{height:r,width:n}},e.children);return l.createElement("div",{className:"survey_view--surveyModal--XsAuZ"},e.fadingOut?l.createElement("div",{className:"survey_view--fadeOut--8YBM0"},a):l.createElement("div",{className:"survey_view--fadeIn--CPaie"},a),!e.hideCloseButton&&l.createElement(rq.Jn,{className:"survey_view--closeButton--Z6aRE",onMouseDown:e=>e.stopPropagation(),onClick:e.dismissModal,innerText:(0,el.t)("rcs.surveys.close"),trackingProperties:e.trackingPropertiesOnClose}))}e.SurveyContent=t,e.SurveyButton=r,e.SurveyLink=n,e.QuestionView=function(e){let t=e.surveyAnswers.length>2?n:r;return l.createElement(l.Fragment,null,l.createElement("p",{className:iN},e.question),l.createElement(Y.Kz,{multiple:2}),e.surveyAnswers.map((r,n)=>l.createElement(l.Fragment,{key:r.answer},l.createElement(t,{answer:r,onClickAnswer:()=>e.onClickAnswer(r)}),n!==e.surveyAnswers.length-1&&l.createElement(Y.Kz,{multiple:2}))))},e.RatingView=function(e){let[t,r]=l.useState(null),[n,i]=l.useState(null),[a,o]=l.useState(!1);l.useEffect(()=>{n&&(null!==t||a)&&n.focus()},[t,a,n]);let s=(e,t)=>{a||r(e),t.stopPropagation()},c=(e,r,n)=>{let i="";return t===e?i+="survey_view--selectedRatingOption--ily33 survey_view--ratingOption--qOtfq":t===e-1?e!==n?i+="survey_view--ratingOptionAfterSelectionBeforeLast--25sYi survey_view--ratingOptionAfterSelection--iQdLt survey_view--ratingOption--qOtfq":i+="survey_view--ratingOptionAfterSelection--iQdLt survey_view--ratingOption--qOtfq":a?e!==n?i+="survey_view--disabledRatingOptionBeforeLast--1NC2q survey_view--disabledRatingOption--yKpRA survey_view--ratingOption--qOtfq":i+="survey_view--disabledRatingOption--yKpRA survey_view--ratingOption--qOtfq":e!==n?i+="survey_view--ratingOptionBeforeLast--MsodE survey_view--ratingOption--qOtfq":i+="survey_view--ratingOption--qOtfq",e===n&&(i+=" survey_view--borderRadiusRight--YoJzw"),e===r&&(i+=" survey_view--borderRadiusLeft--nfaRl"),i},d=e.nps?[0,1,2,3,4,5,6,7,8,9,10]:[1,2,3,4,5],u=d[d.length-1],p=d[0],m=e.surveyName||"rating_survey",_=e.lowRatingSubtext||l.createElement(el.Tx,{id:"rcs.surveys.very_dissatisfied"}),h=e.highRatingSubtext||l.createElement(el.Tx,{id:"rcs.surveys.very_satisfied"});return l.createElement("div",{className:"survey_view--ratingQuestionView--IXPnE",onClick:()=>r(null)},l.createElement("p",{className:iN},e.question),l.createElement(Y.Kz,{multiple:2}),l.createElement("div",{className:e.nps?"survey_view--ratingsNps--xMXsE survey_view--ratings--K-V5y":"survey_view--ratings--K-V5y"},d.map(t=>l.createElement("span",{key:t},l.createElement("div",{onClick:e=>s(t,e),className:c(t,p,u)},t),l.createElement(Y.Kz,{multiple:1}),!e.ratingSubtextInline&&1===t&&l.createElement("p",{className:iP},_),!e.ratingSubtextInline&&t===u&&l.createElement("p",{className:iP},h)))),e.ratingSubtextInline&&l.createElement(l.Fragment,null,l.createElement("div",{className:"survey_view--ratingSubtexts--rk-0c"},l.createElement("p",null,_),l.createElement("p",null,h))),!e.optOutText&&l.createElement(Y.Kz,{multiple:3}),e.optOutText&&l.createElement(l.Fragment,null,l.createElement(Y.Kz,{multiple:2}),l.createElement("div",{className:"survey_view--optOutSection--4xm2R",onClick:()=>{o(!a),r(null)}},l.createElement(Y.tB,{checked:a,readOnly:!0}),e.optOutText),l.createElement(Y.Kz,{multiple:2})),l.createElement("div",{className:"survey_view--divider--dxUiy"}),l.createElement(Y.Kz,{multiple:2}),l.createElement("div",{className:iw},e.progress&&l.createElement("p",{className:iS},l.createElement(el.Tx,{id:"rcs.surveys.question_counter",currentStep:e.progress.currentStep,totalSteps:e.progress.totalSteps})),l.createElement(Y.vd,{onClick:()=>{(!e.required||null!==t||a)&&e.onSubmit(t)},className:iA,disabled:e.required&&null===t&&!a,ref:e=>{e&&i(iy.findDOMNode(e))},autoFocus:null!==t||a,trackingProperties:{[m]:JSON.stringify({...e.trackingProperties,rating:t})}},e.buttonText||l.createElement(el.Tx,{id:"rcs.surveys.submit"}))))},e.MultipleChoiceQuestionsView=function(e){let t=Array(e.questions.length).fill(e.defaultChoice.displayValue),r={};for(let t of e.questions)r[t.trackingValue]=e.defaultChoice.trackingValue;let[n,i]=l.useState(t),[s,c]=l.useState(r),d=(t,r)=>{i(e=>{let n=[...e];return n[t]=r,n}),c(n=>{let i={...n},a=e.choices.find(e=>e.displayValue==r)||e.defaultChoice;return i[e.questions[t].trackingValue]=a.trackingValue,i})};return l.createElement("div",{className:"survey_view--multipleChoiceQuestionsView--YVIbT"},l.createElement("h1",null,e.header),l.createElement(Y.Kz,{multiple:1}),e.subHeader&&l.createElement("p",null,e.subHeader),l.createElement("div",{className:"survey_view--questionContainer--ySWAr"},l.createElement(a,{choices:e.choices.map(e=>e.displayValue)}),e.questions.map((t,r)=>l.createElement(o,{key:r,question:t.displayValue,choices:e.choices.map(e=>e.displayValue),currentChoice:n[r],onClickChoice:e=>d(r,e)}))),l.createElement(Y.Kz,{multiple:2}),l.createElement("div",{className:iw},e.progress&&l.createElement("p",{className:iS},l.createElement(el.Tx,{id:"rcs.surveys.question_counter",currentStep:e.progress.currentStep,totalSteps:e.progress.totalSteps})),l.createElement(Y.tM,{onClick:e.onSubmit,trackingProperties:{...e.trackingProperties,...s},innerText:(0,el.t)("rcs.surveys.submit_opinions")},l.createElement(el.Tx,{id:"rcs.surveys.next"}))))},e.EnterFreeFormView=function(e){var t;let[r,n]=l.useState(""),[i,a]=l.useState(void 0),[o,c]=l.useState(null==(t=e.followUpQuestion)?void 0:t.defaultChoice),d=l.useRef(null);l.useEffect(()=>{d.current&&d.current.focus()},[]);let u=e=>{n(e.target.value),a(void 0)},p=e.usePrimaryButton?Y.vd:Y.tM,m={freeFormInput:r,initialAnswer:e.subtext};o&&(m.followUpQuestionResponse=o);let _=e.customResponseFieldName?{[e.customResponseFieldName]:JSON.stringify(m)}:m;return l.createElement(l.Fragment,null,e.badge_text&&l.createElement(l.Fragment,null,l.createElement(rP.Ex,{color:rP.zE.DEFAULT,text:e.badge_text}),l.createElement(Y.Kz,{multiple:1.5})),l.createElement("div",{className:"survey_view--surveyOtherInput--68kbm"},l.createElement("p",{className:iN},e.question),l.createElement(Y.Kz,{multiple:2}),e.subtext&&l.createElement(l.Fragment,null,l.createElement("p",null,e.subtext),l.createElement(Y.Kz,{multiple:1.5})),e.label&&l.createElement(Y.Lf,{type:"textarea",htmlName:"enter-free-form",placeholder:e.placeholder_text||(0,el.t)("rcs.surveys.would_love_to_know"),label:e.label,className:"survey_view--labeledTextInput--GJSJP",value:r,onChange:u,maxLength:1e3}),!e.label&&l.createElement(iv.L,{type:"textarea",placeholder:e.placeholder_text||(0,el.t)("rcs.surveys.would_love_to_know"),ref:d,rows:5,className:`${i&&"survey_view--inputError---xPSn"||""}`,value:r,onChange:u,maxLength:1e3}),i&&l.createElement("p",{className:"survey_view--errorMessage--mkVJV"},i),e.followUpQuestion&&l.createElement(l.Fragment,null,l.createElement(Y.Kz,{multiple:2}),l.createElement(s,{question:e.followUpQuestion.question,choices:e.followUpQuestion.choices.map(e=>e.displayValue),currentChoice:o??null,onClickChoice:e=>{c(e)}})),l.createElement(Y.Kz,{multiple:2}),l.createElement("div",{className:iw},e.progress&&l.createElement("p",{className:iS},l.createElement(el.Tx,{id:"rcs.surveys.question_counter",currentStep:e.progress.currentStep,totalSteps:e.progress.totalSteps})),l.createElement(p,{onClick:()=>{!e.required||r?e.onSubmit():a((0,el.t)("rcs.surveys.this_field_is_required"))},trackingProperties:{...e.trackingProperties,..._,trackingDescriptor:iI.c.SUBMIT_FREE_FORM},innerText:(0,el.t)("rcs.surveys.submit_free_form"),className:iA,autoFocus:!e.required},l.createElement(el.Tx,{id:"rcs.surveys.submit"})))))},e.CompleteView=function({customSuccessMessage:e}){return l.createElement(l.Fragment,null,l.createElement("div",{className:"survey_view--surveyComplete--5LM73"},l.createElement(eq.B,{className:"survey_view--successIcon---l6LH",svg:ik.A}),l.createElement(Y.Kz,{direction:"x",multiple:1.5}),l.createElement("p",{className:"survey_view--completeViewText--hOTK2"},e||l.createElement(el.Tx,{id:"rcs.surveys.thanks_for_your_feedback"}))))},e.ModalView=function(e){let t=l.createElement(c,{...e});return"center"===e.position?l.createElement(iT.sb,null,t," "):l.createElement(iT.wz,null,t)},e.OffscreenModalView=l.forwardRef((e,t)=>l.createElement("div",{ref:t,"aria-hidden":!0,className:"survey_view--offscreenSurveyBoundsMeasurer--4y6x0"},l.createElement(c,{...e}))),e.AutosizedModalView=l.forwardRef((t,r)=>l.createElement(l.Fragment,null,void 0!==t.upcomingState&&l.createElement(e.OffscreenModalView,{fadingOut:!1,ref:r,dismissModal:ta.lQ,hideCloseButton:t.shouldHideCloseButton(t.upcomingState),width:t.getDefaultWidth?t.getDefaultWidth(t.upcomingState):void 0,height:t.getDefaultHeight?t.getDefaultHeight(t.upcomingState):void 0},t.view(t.upcomingState)),void 0!==t.state&&l.createElement(e.ModalView,{position:t.position,width:t.width,height:t.height,fadingOut:t.fadingOut,dismissModal:t.dismissModal,hideCloseButton:t.shouldHideCloseButton(t.state),trackingPropertiesOnClose:t.trackingPropertiesOnClose},t.view(t.state))))})(a||(a={}));let iD={[ih.OPINION_QUESTION]:622,[ih.IMPROVEMENT_QUESTION]:340,[ih.COMPLETE]:340},iM=()=>[{displayValue:(0,el.t)("org_admin_survey.n_a"),trackingValue:0},{displayValue:(0,el.t)("org_admin_survey.strongly_disagree"),trackingValue:1},{displayValue:(0,el.t)("org_admin_survey.disagree"),trackingValue:2},{displayValue:(0,el.t)("org_admin_survey.neither_agree_nor_disagree"),trackingValue:3},{displayValue:(0,el.t)("org_admin_survey.agree"),trackingValue:4},{displayValue:(0,el.t)("org_admin_survey.strongly_agree"),trackingValue:5}],ix=[{displayValue:l.createElement(el.Tx,{id:"org_admin_survey.figma_s_billing_model_is_fair"}),trackingValue:"billingModal"},{displayValue:l.createElement(el.Tx,{id:"org_admin_survey.figma_makes_it_efficient_to_give_users_the_access_they_need"}),trackingValue:"userAccess"},{displayValue:l.createElement(el.Tx,{id:"org_admin_survey.figma_makes_it_easy_to_manage_costs"}),trackingValue:"costManagement"}];function iF({dismissModal:e}){let t=(0,D.d4)(e=>e.currentUserOrgId),r=l.useRef(null),{state:n,upcomingState:o,setNextState:s,fadingOut:c,height:d}=i.useAutosizedSurveyState({initialState:ih.OPINION_QUESTION,completeStates:[ih.COMPLETE],offscreenBoundsRef:r,dismissModal:e}),u={orgId:t};return l.createElement(a.AutosizedModalView,{state:n,upcomingState:o,getDefaultWidth:e=>iD[e],width:iD[n],height:d,shouldHideCloseButton:e=>e===ih.COMPLETE,getDefaultHeight:e=>e===ih.COMPLETE?236:void 0,dismissModal:e,fadingOut:c,ref:r,view:e=>{switch(e){case ih.OPINION_QUESTION:return l.createElement(a.MultipleChoiceQuestionsView,{choices:iM(),defaultChoice:{displayValue:(0,el.t)("org_admin_survey.not_answered"),trackingValue:0},questions:ix,header:(0,el.t)("org_admin_survey.can_you_tell_us_about_your_experience_using_figma"),subHeader:(0,el.t)("org_admin_survey.rate_your_level_of_agreement_with_the_following_statements"),progress:{currentStep:1,totalSteps:2},trackingProperties:u,onSubmit:()=>s(ih.IMPROVEMENT_QUESTION)});case ih.IMPROVEMENT_QUESTION:return l.createElement(a.EnterFreeFormView,{question:(0,el.t)("org_admin_survey.what_would_improve_your_experience"),progress:{currentStep:2,totalSteps:2},trackingProperties:u,onSubmit:()=>s(ih.COMPLETE)});case ih.COMPLETE:return l.createElement(a.CompleteView,null)}}})}var iU=r(708277),iB=r(268223),iH=r(143678),iV=(e=>(e.AWAIT_ADMIN_PANEL="await_admin_panel",e.AWAIT_LEAVE_SETTINGS="await_leave_settings",e.COMPLETED="completed",e))(iV||{});let iG=(0,iU.Op)({initial:"await_admin_panel",states:[{id:"await_admin_panel",transitions:[(0,iU.nr)("Context Viewed","await_leave_settings",{condition:({event:e})=>e.properties.name===iH.e0.ORG_ADMIN_SETTINGS_PAGE})]},{id:"await_leave_settings",transitions:[(0,iU.nr)("Context Viewed","completed",{condition:({event:e})=>e.properties.name!==iH.e0.ORG_ADMIN_SETTINGS_PAGE})]},{id:"completed",terminal:!0}]}),iW=(0,iB.rn)("left_admin_settings",iG),iK="seen_org_admin_survey",iY=(0,rT.Fu)(iK);function ij(e){return(Date.now()-e.getTime())/864e5}function iz(e,t,r){let n=!!r&&r.canAdmin,i=e&&90>ij(new Date(e.updatedAt)),a=t&&7>=ij(t);return n&&!i&&!a}function i$(){let e=(0,id.zl)(iW),t=(0,U.md)(iY),r=(0,U.md)(rT.Hy),n=(0,U.md)(ic.ZS),i=(0,rI.e)({overlay:rA.GFz,priority:rS.N.SURVEY},[t,r,n]);return l.useEffect(()=>{e.completed&&(e.reset(),i.show({canShow:iz}))},[i,e]),l.createElement(iu.M,{isShowing:i.isShowing,userFlagOnShow:iK},l.createElement(rB.fu,{name:"Org Admin Survey Modal",properties:{surveyVersion:2}},l.createElement(iF,{dismissModal:i.complete,onClickPrimaryCta:i.complete,forceRender:ta.lQ})))}var iZ=r(723239),iq=r(218997),iJ=r(15839);function iX({dismissModal:e}){let t=l.useRef(null),{state:r,upcomingState:n,clickAnswer:o,setNextState:s,fadingOut:c,height:d,width:u}=i.useAutosizedSurveyState({initialState:i_.WHY_ABANDON_QUESTION,offscreenBoundsRef:t,completeStates:[i_.COMPLETE],dismissModal:e});return l.createElement(a.AutosizedModalView,{state:r,upcomingState:n,height:d,width:u,shouldHideCloseButton:e=>e===i_.COMPLETE,getDefaultHeight:e=>e===i_.COMPLETE?240:void 0,dismissModal:e,fadingOut:c,ref:t,view:e=>{switch(e){case i_.WHY_ABANDON_QUESTION:return l.createElement(a.QuestionView,{question:(0,el.t)("rcs.surveys.abandoned_org_upgrade_question"),surveyAnswers:[{answer:(0,el.t)("rcs.surveys.abandoned_org_upgrade_reason_cost"),nextState:i_.COMPLETE},{answer:(0,el.t)("rcs.surveys.abandoned_org_upgrade_reason_billing_complexity"),nextState:i_.COMPLETE},{answer:(0,el.t)("rcs.surveys.abandoned_org_upgrade_reason_annual_billing"),nextState:i_.COMPLETE},{answer:(0,el.t)("rcs.surveys.abandoned_org_upgrade_reason_just_looking"),nextState:i_.COMPLETE},{answer:(0,el.t)("rcs.surveys.abandoned_org_upgrade_reason_other"),nextState:i_.FREE_FORM_INPUT}],onClickAnswer:o});case i_.FREE_FORM_INPUT:return l.createElement(a.EnterFreeFormView,{question:(0,el.t)("rcs.surveys.abandoned_org_upgrade_question"),onSubmit:()=>s(i_.COMPLETE)});case i_.COMPLETE:return l.createElement(a.CompleteView,null)}}})}var iQ=r(593788);let i0=(0,iU.Op)({initial:"await_cart",states:[{id:"await_cart",transitions:[(0,iU.nr)("Context Viewed","await_abandon_cart",{condition:({event:e})=>e.properties.name===iH.e0.ORG_CART})]},{id:"await_abandon_cart",transitions:[(0,iU.nr)("Context Viewed","complete",{condition:({event:{properties:{name:e}}})=>e===iH.e0.FILE_BROWSER||e===iH.e0.TEAM_PAGE})]},{id:"complete",terminal:!0}]}),i1=(0,iQ.rn)("org_cart_abandon_survey",i0),i2="seen_org_cart_abandon_survey",i3=(0,rT.r1)("completed_org_cart_flow"),i5=(0,rT.r1)(i2),i4={surveyVersion:1};function i8(){let e=(0,U.md)(i3),t=(0,U.md)(rT.Hy),r=(0,U.md)(iZ.zN),n=(0,U.md)(iZ.nZ),i=(0,U.md)(i5),a=(0,id.zl)(i1),o=(0,rI.e)({overlay:rA.MYY,priority:rS.N.SURVEY},[e,t,r,n,i]),s=(0,l.useCallback)(()=>{o.show({canShow(e,t,r,n,i){let a=new Date(Date.now()-7776e6);return!e&&!r&&!n&&(null==t||t<a)&&!i}})},[o]);return(0,id.ST)(a,({to:e})=>{"complete"===e&&(s(),a.reset())}),l.createElement(iq.h,{element:iX,isShowing:o.isShowing,modalType:iJ.q3.SELF_CONTAINED,onClickPrimaryCta:o.complete,onClose:o.complete,onManualDismiss:o.complete,trackingContextName:"Org Cart Abandon Survey",trackingProperties:i4,userFlagOnShow:i2,testId:"org-cart-abandon-survey"})}var i6=r(112234),i7=r(895788),i9=r(488578),ae=r(387438);let at="org_trial_modal--modal--B-euv";function ar({orgTrial:e}){if(!e||e.status!==i7.Q.EXPIRED)return null;let t=e.planType===I.Lc.ENTERPRISE?l.createElement(el.Tx,{id:"payments_modal.org_trial.enterprise"}):l.createElement(el.Tx,{id:"payments_modal.org_trial.organization"});return l.createElement(i9.aF,{className:at,size:360,title:l.createElement(rX.E,{fontSize:11,fontWeight:"bold",i18nId:"payments_modal.org_trial_expired.title",i18nParams:{planText:t}}),disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,"data-testid":"org_trial_expired_modal"},l.createElement(rJ.Y,null,l.createElement(rX.E,{i18nId:"payments_modal.org_trial_expired.description"})),l.createElement(rJ.Y,{padding:{top:24}},l.createElement(ae.h,{text:l.createElement(el.Tx,{id:"payments_modal.org_trial.switch_my_workspace"}),dataTestId:"workspace-switcher-link"})))}function an(){let e=(0,D.d4)(e=>e.currentUserOrgId);return e?l.createElement(ai,{currentOrgId:e}):null}function ai({currentOrgId:e}){let t=(0,tn.md)((0,i6.U)(e)),r=(0,rI.e)({overlay:rA.Ujx,priority:rS.N.URGENT_ALERT},[t]);return(0,l.useEffect)(()=>{var e;r.isShowing&&(null==(e=t.data)?void 0:e.status)!==i7.Q.EXPIRED?r.complete():r.show({canShow:e=>!!e&&e.status===i7.Q.EXPIRED})},[r,t]),l.createElement(iq.h,{isShowing:r.isShowing,element:()=>l.createElement(ar,{orgTrial:t.data}),modalType:iJ.q3.SELF_CONTAINED,trackingContextName:"org_trial_expired_modal",onClose:r.complete,onClickPrimaryCta:r.complete,onManualDismiss:r.complete,testId:"org_trial_expired_overlay"})}var aa=r(752553),ao=r(701707),al=r(471569);function as(e){let{orgTrial:t}=e,[r,n]=l.useState(!1),i=(0,D.wA)(),a=(0,aa.n_)(al.A.validateOrgTrialMutation);if(t.status!==i7.Q.PENDING)return null;let o=t.planType===I.Lc.ENTERPRISE?l.createElement(el.Tx,{id:"payments_modal.org_trial.enterprise"}):l.createElement(el.Tx,{id:"payments_modal.org_trial.organization"}),s=t.canValidate,c=s?l.createElement(rX.E,{i18nId:"payments_modal.org_trial_pending.welcome_to_your_figma_trial",i18nParams:{planText:o}}):l.createElement(rX.E,{i18nId:"payments_modal.org_trial_pending.your_trial_is_almost_ready"}),d=(0,t6.A)(t.trialPeriodEnd).utc().format("ll"),u=al.A.getEstimatedEditorCount(t),p=l.createElement(Y.CY,{href:"/ssa/",target:"_blank",trusted:!0,"data-testid":"ssa-link"},l.createElement(el.Tx,{id:"payments_modal.org_trial_pending.ssa_link"})),m=l.createElement(el.Tx,{id:"payments_modal.org_trial_pending.i_agree"});return l.createElement(i9.aF,{className:at,size:s?380:360,title:l.createElement(rX.E,{fontSize:11,fontWeight:"bold"},c),disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,"data-testid":"org_trial_pending_modal"},s?l.createElement(rJ.Y,{direction:"vertical",spacing:16,padding:{right:8}},l.createElement(rX.E,{i18nId:"payments_modal.org_trial_pending.make_sure_things_look_right",i18nParams:{planText:o}}),l.createElement(ac,{text:l.createElement(rX.E,{i18nId:"payments_modal.org_trial_pending.expiration_date",i18nParams:{planText:o,endDate:d}})}),l.createElement(ac,{text:l.createElement(rX.E,{i18nId:"payments_modal.org_trial_pending.editor_count.seat_rename",i18nParams:{planText:o,editorCount:u}})}),l.createElement(ac,{text:l.createElement(rX.E,{i18nId:"payments_modal.org_trial_pending.no_obligation_to_purchase",i18nParams:{planText:o}})}),l.createElement(ac,{text:l.createElement(rX.E,{i18nId:"payments_modal.org_trial_pending.terms_and_conditions",i18nParams:{ssaLink:p}})}),l.createElement(rX.E,{i18nId:"payments_modal.org_trial_pending.by_clicking_agree",i18nParams:{agreeText:m,ssaLink:p}})):l.createElement("div",{className:ro.cx.pr8.$},l.createElement(rX.E,{i18nId:"payments_modal.org_trial_pending.trial_still_needs_admin_approval",i18nParams:{planText:o}})),l.createElement(rJ.Y,{direction:"horizontal",horizontalAlignItems:"space-between",verticalAlignItems:"center",padding:{top:24}},l.createElement(ae.h,{text:l.createElement(el.Tx,{id:"payments_modal.org_trial.switch_my_workspace"}),dataTestId:"workspace-switcher-link"}),s&&l.createElement(ao.$z,{disabled:r,variant:"primary",onClick:()=>{r||(n(!0),a({orgId:t.resourceId}).then(()=>{i(e5.s.flash((0,el.t)("payments_modal.org_trial_pending.success")))}).catch(e=>{console.error(e),i(e5.s.error((0,el.t)("payments_modal.org_trial_pending.error"))),n(!1)}))},dataTestId:"submit-validation-button",trackingProperties:{trackingDescriptor:iI.c.AGREE,orgId:e.orgTrial.resourceId}},m)))}function ac(e){return l.createElement(rJ.Y,{direction:"horizontal",spacing:8,verticalAlignItems:"start"},l.createElement("div",{className:ro.cx.h16.flex.flexColumn.justifyCenter.$},l.createElement("div",{className:ro.cx.colorBgInverse.h4.w4.$})),e.text)}function ad(){let e=(0,D.d4)(e=>e.currentUserOrgId);return e?l.createElement(au,{currentOrgId:e}):null}function au({currentOrgId:e}){let t=(0,U.md)((0,i6.U)(e)),r=(0,rI.e)({overlay:rA.aBI,priority:rS.N.URGENT_ALERT},[t]);return(0,l.useEffect)(()=>{var e;r.isShowing&&(null==(e=t.data)?void 0:e.status)!==i7.Q.PENDING?r.complete():r.show({canShow:e=>!!e&&e.status===i7.Q.PENDING})},[r,t]),l.createElement(iq.h,{isShowing:r.isShowing,element:()=>t.data?l.createElement(as,{orgTrial:t.data}):null,modalType:iJ.q3.SELF_CONTAINED,trackingContextName:"org_trial_pending_modal",onClose:r.complete,onClickPrimaryCta:r.complete,onManualDismiss:r.complete,testId:"org_trial_pending_overlay"})}let ap=(0,r(529928).bt)(e=>e.notifications.length);function am({dismissModal:e}){let t=l.useRef(null),{state:r,upcomingState:n,setNextState:o,fadingOut:s,height:c,width:d}=i.useAutosizedSurveyState({initialState:im.FREE_FORM_INPUT,offscreenBoundsRef:t,completeStates:[im.COMPLETE],dismissModal:e});return l.createElement(a.AutosizedModalView,{state:r,upcomingState:n,height:c,width:d,shouldHideCloseButton:e=>e===im.COMPLETE,getDefaultHeight:e=>e===im.COMPLETE?240:void 0,dismissModal:e,fadingOut:s,ref:t,view:e=>{switch(e){case im.FREE_FORM_INPUT:return l.createElement(a.EnterFreeFormView,{question:(0,el.t)("rcs.surveys.abandoned_pro_upgrade_question"),onSubmit:()=>o(im.COMPLETE)});case im.COMPLETE:return l.createElement(a.CompleteView,null)}}})}let a_=e=>"Upgrade Team"===e.properties.name&&("create"!==e.properties.teamFlowType||"choose_plan"===e.properties.step||"payment_and_address"===e.properties.step||"confirm_pay"===e.properties.step),ah=(0,iB.Op)({initial:"await_enter_pro_cart",states:[{id:"await_enter_pro_cart",transitions:[(0,iB.nr)("Context Viewed","complete",{condition:({event:e})=>a_(e)})]},{id:"complete",terminal:!0}]}),ag=(0,iB.rn)("enter_pro_cart",ah),af="seen_pro_cart_abandon_survey",aE=(0,rT.r1)("completed_pro_cart_flow"),ay=(0,rT.r1)(af),ab=iZ.zN;function av(){let e=(0,U.md)(ap),t=(0,U.md)(aE),r=(0,U.md)(ay),n=(0,U.md)(rT.Hy),i=(0,U.md)(ab),a=(0,rI.e)({overlay:rA.Hv9,priority:rS.N.SURVEY},[t,r,n,i]),o=(0,id.zl)(ag);return(0,rv.E)(a.uniqueId,"Context Viewed",t=>{var r;let n=null==(r=t.properties)?void 0:r.name;(n===iH.e0.FILE_BROWSER||n===iH.e0.TEAM_PAGE)&&o.completed&&a.show({canShow:(t,r,n,i)=>{let a=!!n&&n.getTime()+7776e6>Date.now();return a&&o.reset(),!t&&!i&&!r&&!a&&!e}})}),l.createElement(iq.h,{isShowing:a.isShowing,modalType:iJ.q3.SELF_CONTAINED,trackingContextName:"Pro Cart Abandon Survey",element:am,onClickPrimaryCta:ta.lQ,onClose:ta.lQ,onManualDismiss:a.complete,userFlagOnShow:af})}var aI=r(402609);let aT=l.memo(function(){return l.createElement(l.Fragment,null,l.createElement(aI.p,null,l.createElement(ad,null),l.createElement(an,null)),l.createElement(aI.p,null,l.createElement(i8,null)),l.createElement(aI.p,null,l.createElement(av,null)),l.createElement(aI.p,null,l.createElement(i$,null)))});var aS=r(540193),aw=r(358145),aA=r(67294),aC=r(134279),aN=r(56691),aO=r(349410),aL=r(788811),aR=r(857766),aP=r(477782),ak=r(798184),aD=r(594901),aM=r(636967),ax=r(441748),aF=r(944682),aU=r(915306),aB=r(717068),aH=r(822985),aV=r(564577),aG=r(67833),aW=r(386909),aK=r(54552),aY=r(835156),aj=r(27703),az=r(112235),a$=r(132135),aZ=r(177514),aq=r(907220),aJ=r(558185),aX=r(308548),aQ=r(42086),a0=r(449486),a1=r(302586),a2=r(396226),a3=r(300874),a5=r(851363),a4=r(872429),a8=r(453381),a6=r(884129),a7=r(414176);function a9(e,t){let r=[{editorType:I._Y.DESIGN}];return(0,a4.oz)()&&!oe(I._Y.SITES,t)&&r.push({editorType:I._Y.SITES}),r.push({editorType:I._Y.WHITEBOARD}),on()&&!oe(I._Y.SLIDES,t)&&r.push({editorType:I._Y.SLIDES}),r}function oe(e,t){if(!t)return!1;switch(e){case I._Y.DESIGN:return!(0,nY.rR)((0,a5.Z_)(t.team),{type:nY.sK.ADD_DESIGN_FILE});case I._Y.WHITEBOARD:return!(0,nY.rR)((0,a5.Z_)(t.team),{type:nY.sK.ADD_FIGJAM_FILE});case I._Y.SLIDES:return!(0,nY.rR)((0,a5.Z_)(t.team),{type:nY.sK.ADD_SLIDES_FILE});case I._Y.SITES:return!1;default:(0,e_.xb)(e)}}let ot=l.forwardRef(function({editorType:e,isSelected:t,folder:r,currentOrgId:n},i){let a,o;let s=(0,D.wA)(),c=(0,aD.Xx)(n||null)&&e===I._Y.WHITEBOARD;(0,tc.dB)();let d=e;switch(e){case I._Y.DESIGN:a=(0,el.t)("desktop_new_tab.design_card.title"),o=(0,el.t)("desktop_new_tab.design_card.subtitle");break;case I._Y.WHITEBOARD:a=(0,el.t)("desktop_new_tab.figjam_card.title"),o=(0,el.t)("desktop_new_tab.figjam_card.subtitle");break;case I._Y.SLIDES:a=(0,el.t)("desktop_new_tab.slide_card.title"),o=(0,el.t)("desktop_new_tab.slide_card.subtitle"),d="piper";break;case I._Y.SITES:a=(0,el.t)("desktop_new_tab.sites_card.title"),o=(0,el.t)("desktop_new_tab.sites_card.subtitle"),d="seascape";break;default:(0,e_.xb)(e)}let u=r?r.project.id:void 0,p=oe(e,r);return l.createElement("div",{ref:i,className:G()({"new_file_card--fileCard--O7OCx":!0,"new_file_card--disabledCard--HLDVs":c,"new_file_card--selectedCard--ia4R4":t}),onClick:function(){if(!c){if(p&&r&&(0,q.Nw)((0,q.wN)(e))){s(rs.to({type:a6.DV,data:{team:r.team,resource:a3.vL.FILE,action:a5.ZN.CREATE_FILE_FROM_DROPDOWN,editorType:e,currentPlan:a2.F.Plan.STARTER,upsellPlan:a2.F.Plan.PRO}}));return}s(aN.x3({editorType:e,projectId:u}))}},role:"button",tabIndex:0,"data-editor-theme":d,"data-preferred-theme":document.body.dataset.preferredTheme},l.createElement("div",{className:G()({"new_file_card--plus--W6UAz":!0})},(0,m.kc)().desktop_new_tab_new_ui?l.createElement(or,{editorType:e}):l.createElement(eq.B,{svg:a7.A,className:"new_file_card--plusIcon--myaLa"})),l.createElement("div",{className:"new_file_card--title---ZPHj"},a),l.createElement("div",{className:G()({"new_file_card--subtitle--2pjnm":!0})},o))});function or({editorType:e}){switch(e){case I._Y.DESIGN:return l.createElement(aX.k,null);case I._Y.WHITEBOARD:return l.createElement(aQ.A,null);case I._Y.SLIDES:return l.createElement(a0.g,null);case I._Y.SITES:return l.createElement(a1.Y,null);default:return null}}function on(){return(0,a8.i)()}let oi="recent_files--separator--Ww027",oa="recent_files--thumbnail--ApY9s",oo="recent_files--placeholdersContainer--mAriX",ol="recent_files--fadeOut--A045K";var os=(e=>(e[e.LOADING=0]="LOADING",e[e.TRANSITIONING=1]="TRANSITIONING",e[e.LOADED=2]="LOADED",e))(os||{});function oc(e){return e.type===aP.nb.FILE?e.file:e.mainFile}function od(e){let[t,r]=(0,l.useState)(e?2:0),n=(0,l.useRef)(null);return(0,l.useEffect)(()=>{e?(r(1),n.current=setTimeout(()=>{r(2),n.current=null},2e3)):(r(0),n.current&&clearTimeout(n.current))},[e,n]),t}function ou({recentItems:e,selectedItem:t}){let r=(0,D.wA)(),n=(0,Z.iZ)(),i=(0,D.d4)(e=>e.currentUserOrgId),a=(0,D.d4)(e=>(0,eK.Np)(e,{view:"recentFiles"})),o=(0,D.d4)(e=>e.activeFileUsers),s="loaded"===(0,aS.ql)(i).status,c=new Set;for(let t of e)c.add(aP.Tf.getOrgId(t)??null);let d=Array(...c).sort(),u=(0,F.k9)(()=>d.map(e=>({currentOrgId:e,currentTeamId:null})),[d]),p=(0,ex.p)(eF.$kt,u),m=(0,l.useMemo)(()=>{let e=new Set;for(let t of p){let r=t.result;if("loaded"!==r.status)continue;let n=r.data.currentUser.favoritedFiles??[],i=r.data.currentUser.favoritedPrototypes??[];for(let t of n)t.file&&e.add(t.file.key);for(let t of i)t.prototype&&e.add(t.prototype.id)}return e},[p]),_=(0,F.DD)(()=>(0,aB.WI)(e.map(e=>e.type===aP.nb.FILE||e.type===aP.nb.REPO?oc(e).key:null)),[e],(e,t)=>{let r=new Set(e);for(let e of t){if(!r.has(e))return!1;r.delete(e)}return 0===r.size}),h=l.useMemo(()=>_.map(e=>({fileKey:e})),[_]),g=(0,ex.p)(eF.hqi,h,{enabled:!0});(0,l.useEffect)(()=>{for(let e of g)if("loaded"===e.result.status&&e.result.data){let t=e.args.fileKey,n=(0,aY.Z)(e.result.data);r(aF.Lk({fileKey:t,users:n}))}},[r,_,g]);let f=0!==e.length,E=od(s),b=od(s&&f);return l.createElement("div",{className:G()({"recent_files--fileList--2lPcn":!0,"recent_files--fileListWidthWithSlides--R7NAa":on()})},l.createElement("div",{className:"recent_files--recentFilesHeaderContainer--bwBGr"},2!==E&&l.createElement(of,{state:E}),0!==E&&l.createElement(l.Fragment,null,l.createElement("p",{className:"recent_files--recentFilesHeader--cQ-VC"},f?l.createElement(el.Tx,{id:"desktop_new_tab.recent_files_header"}):l.createElement(el.Tx,{id:"desktop_new_tab.no_recent_files_header"})),f&&l.createElement("p",{className:"recent_files--recentFilesLastViewedHeader--vcJDc recent_files--primaryText--Csq5Q"},l.createElement(el.Tx,{id:"desktop_new_tab.last_viewed_header"})))),l.createElement("div",{className:"recent_files--recentFilesContainer--fCLN8"},2!==b&&l.createElement(oE,{state:b}),0!==b&&l.createElement("div",{className:"recent_files--loadedRecentFiles--lT-EL"},e.map(e=>{let r=aP.Tf.getId(e);return l.createElement(l.Fragment,{key:r},l.createElement(op,{item:e,activeFileUsers:o,favoritedItems:m,isSelected:t===r,user:n}))}))),0!==b&&l.createElement("a",{className:"recent_files--browseMoreLink--Ohk3y",href:a,onClick:function(e){(0,y.sx)("Desktop New Tab Browse More Recents"),e.preventDefault(),r(e4.$T({view:"recentFiles"}))}},l.createElement(el.Tx,{id:"desktop_new_tab.browser_more_recent_files_link"})))}function op({item:e,activeFileUsers:t,favoritedItems:r,isSelected:n,user:i}){let a;let o=(0,D.wA)(),s=aP.Tf.getName(e),c=(0,l.useRef)(null),[d,u]=(0,l.useState)(null);(0,l.useEffect)(()=>{c.current&&(c.current.offsetWidth<c.current.scrollWidth&&s?u(s):u(null))},[c,s]);let p=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(n&&p.current){let e=window.getComputedStyle(p.current),t=parseInt(e.getPropertyValue("scroll-margin-top"))||0,r=parseInt(e.getPropertyValue("scroll-margin-bottom"))||0,n=p.current.getBoundingClientRect(),i=n.top<t,a=n.bottom>window.innerHeight-r;i?p.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}):a&&p.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}},[n]);let _=(0,D.d4)(e=>e.dropdownShown),h=null,g=!1,f=[],E=null;if(e.type===aP.nb.FILE||e.type===aP.nb.REPO){let n=oc(e);a=(0,a$.rl)(n),g=r.has(n.key),h=l.createElement(om,{file:n,item:e}),f=(0,aY.g)(t,i.id,n.key),E=n.key}else e.type===aP.nb.PROTOTYPE&&(a=e.prototype.url,g=!!e.prototype.id&&r.has(e.prototype.id),h=l.createElement(o_,{prototype:e.prototype,item:e}),E=e.prototype.id);let y=(null==_?void 0:_.type)===aZ.jU&&(null==_?void 0:_.data.resourceId)===E,b=aP.Tf.getAccessedAt(e);return l.createElement("div",{className:G()("recent_files--fileListItemAndStarContainer--v-8Uz",g&&"recent_files--isFavorited--GsBmn")},l.createElement("div",{className:y?"recent_files--favoriteStarContainerVisible--SzmQa recent_files--favoriteStarContainer--yT5h4":"recent_files--favoriteStarContainer--yT5h4",onClickCapture:e=>e.preventDefault(),style:(0,m.kc)().desktop_new_tab_new_ui?{visibility:"hidden"}:{}},h),l.createElement("a",{className:G()("recent_files--fileListItem--Czr-8",n&&"recent_files--selectedItem--q3sit"),href:a,onClick:function(t){if(t.preventDefault(),e.type===aP.nb.FILE||e.type===aP.nb.REPO){let t=oc(e);o(aN.I$({fileKey:t.key}))}else e.type===aP.nb.PROTOTYPE&&o(aN.Mx({fileKey:e.prototype.file_key,pageId:e.prototype.page_id}))},ref:p},l.createElement(oh,{item:e}),l.createElement("p",{className:"recent_files--titleMetadata--G2Ju6 recent_files--primaryText--Csq5Q recent_files--metadata--MhlWS",ref:c,"data-tooltip-type":nJ.Ib.TEXT,"data-tooltip":d,dir:"auto"},s),l.createElement("p",{className:"recent_files--timestampMetadata--GvxiV recent_files--secondaryText---mq5y recent_files--metadata--MhlWS"},b?l.createElement(aV.h1,{date:b,capitalize:!0}):null),l.createElement(aq.W,{className:"recent_files--facePile--M1rjO",entityList:f,maxNumHeads:3,currentUser:i})))}function om({file:e,item:t}){let r=(0,D.wA)(),n=l.useCallback((n,i,a)=>{let o={entrypoint:"desktop_new_tab_recents",favoriteId:i,sectionId:a,file:e,repoId:t.type===aP.nb.REPO?t.repo.id:void 0,fileBrowserFavorite:!0};n?r(aK.Fb(o)):r(aK.qP(o))},[e,t,r]);return l.createElement(aW.r,{setFavorite:n,favoriteType:I.bk.FILE,resourceId:e.key,isDesktopNewTab:!0,orgId:aP.Tf.getOrgId(t)??null,teamId:aP.Tf.getFavoriteResourceTeamId(t)??null})}function o_({prototype:e,item:t}){let r=(0,D.wA)(),n=l.useCallback((t,n,i)=>{let a={entrypoint:"desktop_new_tab_recents",favoriteId:n,sectionId:i,prototype:e,fileBrowserEntryPoint:!0};t?r(aK.iN(a)):r(aK.X7(a))},[e,r]);return e.id?l.createElement(aW.r,{setFavorite:n,favoriteType:I.bk.PROTOTYPE,resourceId:e.id,isDesktopNewTab:!0,orgId:aP.Tf.getOrgId(t)??null,teamId:aP.Tf.getFavoriteResourceTeamId(t)??null}):null}function oh({item:e}){var t,r;let n=null,i=null,a=(0,az.p)(),o=(0,aD.FC)(),s=e.type===aP.nb.FILE||e.type===aP.nb.REPO?oc(e):null,c=(0,ex.Rs)(eF.sMs,{key:(null==s?void 0:s.key)||""},{enabled:!!s});if(s){let{url:e,fullWidth:d,isLocked:u}=(0,aj.yP)(s,o,!!(null==(r=null==(t=c.data)?void 0:t.file)?void 0:r.hasPermission)),p=a(s),m="whiteboard"===s.editor_type?"recent_files--figjamBadge--quekD recent_files--fileIconTypeBadge--DBApO":s.last_published_at?"recent_files--libraryBadge--Lg-ZG recent_files--fileIconTypeBadge--DBApO":"recent_files--designBadge--DX59C recent_files--fileIconTypeBadge--DBApO";n=l.createElement(aG.oS,{type:p,size:aG.LE.SMALL,className:m}),i=l.createElement(aH.N,{additionalClassName:oa,editor_type:s.editor_type,client_meta:s.client_meta,thumbnail_url:e,isLocked:u,fullWidth:d,listView:!0,loading:(0,aj.i4)(s)&&"loading"===c.status})}else e.type===aP.nb.PROTOTYPE&&(n=l.createElement(og,null),i=l.createElement(aJ.N,{additionalClassName:oa,isLocked:!!e.prototype.fig_file.has_proto_link_password,thumbnail_url:e.prototype.thumbnail_url}));return l.createElement("div",{className:"recent_files--thumbnailContainer--WJlvr"},i,n)}function og(){return l.createElement("div",{className:"recent_files--prototypeBadge--DKPgx recent_files--fileTypeBadge--XTpDJ"},l.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M0 2C0 0.89543 0.895431 0 2 0H12C13.1046 0 14 0.895431 14 2V12C14 13.1046 13.1046 14 12 14H2C0.89543 14 0 13.1046 0 12V2Z"}),l.createElement("path",{d:"M4.5 10.5V3.5L10.5 7L4.5 10.5Z",fill:"var(--color-icon, #ffffff)"})))}function of({state:e}){let t=G()(oo,"recent_files--headerPlaceholderContainer--II265",1===e&&ol);return l.createElement("div",{className:t},l.createElement("div",{className:"recent_files--headerPlaceholder--4W0ry recent_files--placeholder--C3q68"}))}function oE({state:e}){let t=[];for(let e=0;e<10;e++)t.push(l.createElement(l.Fragment,{key:e},l.createElement("div",{className:oi}),l.createElement("div",{className:"recent_files--placeholderRow--EKNLE"},l.createElement("div",{className:"recent_files--thumbnailPlaceholder--p3ZL6 recent_files--placeholder--C3q68"}),l.createElement("div",{className:"recent_files--titlePlaceholder--jISa4 recent_files--placeholder--C3q68"}),l.createElement("div",{className:"recent_files--timestampPlaceholder--SwyAW recent_files--placeholder--C3q68"}))));let r=G()(oo,1===e&&ol);return l.createElement("div",{className:r},t,l.createElement("div",{className:oi}))}let oy={type:"search",index:0},ob={type:"search",index:"see-all"};function ov(e){return{type:"selectItem",item:e}}function oI(e){return{type:"dispatchAction",callback:e}}function oT(){return{type:"stopEvent"}}function oS(){return{type:"ignore"}}var ow=r(440377),oA=r(427018);function oC(){var e,t;let r;let n=(0,m.kc)().desktop_new_tab_new_ui;(0,l.useLayoutEffect)(()=>(document.body.classList.toggle("desktopnewtab--newUI",!!n),()=>{document.body.classList.remove("desktopnewtab--newUI")}),[n]);let i=(0,D.wA)();(0,ow.b1)();let a=(0,D.d4)(e=>e.currentUserOrgId),o=(0,aD.Xx)(a),s=(0,aS.ql)(a,{revalidateOnMount:!0}).data,c=(0,aS.O8)(a).data,d=(0,D.d4)(e=>e.recentRepos),u=(0,D.d4)(e=>e.selectedBranchKeyByRepoId),p=(0,D.d4)(e=>e.desktopNewTab.isCreatingFile),_=(0,D.d4)(e=>e.desktopNewTab.loadingBackgroundColor),[h,g]=(0,l.useState)(oy),f=l.useRef(null),[E,y]=(0,l.useState)(0),b=l.useRef(null),{searchResults:v}=(0,ak.J)(),I=(0,ak.O)(),T=(0,U.md)(iZ.d2),S=(T.data?T.data:iH.qo.ORG)===iH.qo.ORG,w=(0,aO.mw)(!!(0,U.md)(iZ.t).data,S),[A,C]=(0,l.useState)(void 0),N=[],O=null,L=(0,ex.Rs)(eF._Dk,{orgId:null});if("loaded"===L.status){let t=(N=L.data.currentUser.teamEditRoles.map(e=>e.team).filter(e=>!!(e&&e.projects&&e.isStarterTeam&&!e.deletedAt&&e.projects.length>0)))[0],n=null==(e=N[0])?void 0:e.projects;r=N.length>0&&w,N.length>0&&n&&(null==n?void 0:n.length)>0&&(O=void 0===A?{team:t,project:n[0]}:A)}let R=r?O:null,P=a9(a,R),k=(0,l.useRef)([]),M=(0,l.useRef)([]),x=(0,l.useMemo)(()=>{if(p)return M.current;let e=[];for(let t of s??[])e.push({type:aP.nb.FILE,file:t});for(let t of c??[])e.push({type:aP.nb.PROTOTYPE,prototype:t});for(let t of d){let r=t.files.find(e=>(0,aR.SA)(e,t.repo));r&&e.push({type:aP.nb.REPO,repo:t.repo,branches:t.files,accessed_at:t.timestamp,mainFile:r,selectedBranchKey:u[t.repo.id]||""})}return e.sort((e,t)=>{let r=aP.Tf.getAccessedAt(e),n=aP.Tf.getAccessedAt(t);return r&&n?-r.localeCompare(n):n?1:r?-1:0}),e.slice(0,10)},[s,c,d,u,p,M]);M.current=x,(0,l.useEffect)(()=>{let e=e=>{let t=function(e,t){if(!(null!==t.selectedItem))return e===t9.Uz.UP_ARROW||e===t9.Uz.DOWN_ARROW||e===t9.Uz.LEFT_ARROW||e===t9.Uz.RIGHT_ARROW?ov({type:"card",item:0}):oS();switch(e){case t9.Uz.UP_ARROW:return function({selectedItem:e,recentItems:t,searchResults:r,showSearchResults:n}){if("recent"===e.type){let r=aP.Tf.getId(e.item),n=t.findIndex(e=>aP.Tf.getId(e)===r);return -1===n?ov(null):0===n?ov(oy):ov({type:"recent",item:t[n-1]})}return"card"===e.type?oT():"search"===e.type?n?0===r.length?oS():0===e.index?oT():"see-all"===e.index?ov({type:"search",index:Math.max(r.length-1,0)}):e.index-1<r.length?ov({type:"search",index:e.index-1}):ov(ob):ov({type:"card",item:0}):oS()}(t);case t9.Uz.DOWN_ARROW:return function({selectedItem:e,recentItems:t,searchResults:r,showSearchResults:n}){if("recent"===e.type){let r=aP.Tf.getId(e.item),n=t.findIndex(e=>aP.Tf.getId(e)===r);return -1===n?ov(null):n<t.length-1?ov({type:"recent",item:t[n+1]}):oT()}return"card"===e.type?ov(oy):"search"===e.type?n?0===r.length?oS():"see-all"===e.index?oT():e.index<r.length-1?ov({type:"search",index:e.index+1}):ov(ob):0!==t.length?ov({type:"recent",item:t[0]}):oS():oS()}(t);case t9.Uz.LEFT_ARROW:return function({selectedItem:e,cardsCount:t}){return"card"!==e.type?oS():ov({type:"card",item:(e.item-1+t)%t})}(t);case t9.Uz.RIGHT_ARROW:return function({selectedItem:e,cardsCount:t}){return"card"!==e.type?oS():ov({type:"card",item:(e.item+1)%t})}(t);case t9.Uz.ENTER:return function({selectedItem:e,searchResults:t}){if("card"===e.type)return{type:"clickCard",index:e.item};if("recent"===e.type)switch(e.item.type){case aP.nb.FILE:case aP.nb.REPO:{let t=e.item;return oI(e=>e(aN.I$({fileKey:oc(t).key})))}case aP.nb.PROTOTYPE:{let t=e.item.prototype;return oI(e=>e(aN.Mx({fileKey:t.file_key,pageId:t.page_id})))}}if("search"===e.type){let r=e.index;if("see-all"===r)return oI(e=>e(aN.ht()));if(r>=t.length)return oS();let n=t[r];return oI(e=>{e(aF.yJ({file:n.model})),e(aN.Gb({result:n,index:r,clickAction:aU.vj.Query.ClickAction.ENTER}))})}return oS()}(t);case t9.Uz.ESCAPE:return ov(null)}return oS()}(e.keyCode,{selectedItem:h,recentItems:x,searchResults:v,showSearchResults:I,cardsCount:P.length});switch(t.type){case"selectItem":g(t.item),e.stopPropagation(),e.preventDefault();break;case"dispatchAction":t.callback(i),e.stopPropagation(),e.preventDefault();break;case"clickCard":{let r=k.current[t.index];r&&r.click(),e.stopPropagation(),e.preventDefault();break}case"stopEvent":e.stopPropagation(),e.preventDefault()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,o,I,x,v,h,P.length]);let F=(0,aw.ZC)(h);(0,l.useEffect)(()=>{var e,t;let r=(null==h?void 0:h.type)==="search",n=(null==F?void 0:F.type)==="search";n&&!r?(null==(e=b.current)||e.blur(),i(aN.j3(!1))):!n&&r&&(null==(t=b.current)||t.focus(),i(aN.j3(!0)))},[i,h,F,b]),(0,l.useEffect)(()=>{let e=()=>g(null);return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),(0,l.useEffect)(()=>{let e=()=>{"visible"===document.visibilityState&&f.current&&f.current.scrollTo({top:0})};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[f]);let B=(0,l.useCallback)(()=>{f.current&&y(f.current.scrollTop)},[f]),H=(0,l.useCallback)(()=>g(oy),[]),V=(0,t8.jz)(oA.$G),W=(0,Z.TA)();return((0,aa.IT)((0,aL.OL)({userId:W??""}),{enabled:null!=W}),_)?l.createElement(oN,{backgroundColor:_}):l.createElement("div",{ref:f,className:G()("desktopNewTabViewHideable",oA.$z),onScroll:B},l.createElement("div",{className:G()({[oA.BH]:!0,[oA.ym]:E>-V,[oA.Yo]:r})},l.createElement("div",{className:on()?oA.qx:oA.O6},r?"loaded"===L.status?l.createElement("div",{className:oA.a4},l.createElement("div",{className:oA.MJ},(0,el.t)("desktop_new_tab.create_file_in")),l.createElement(aM.X8,{buttonText:(t=O,l.createElement(l.Fragment,null,t&&l.createElement("div",{className:ro.cx.h16.w16.flex.itemsCenter.justifyCenter.$},l.createElement(aA.nl,{size:{imgSize:aA.Pf.SMALL,fallbackSize:aA.Pf.XSMALL},fallbackDisplay:aC.U.HIDDEN,team:{id:t.team.id}})),l.createElement("div",{className:oA.GD},t?t.team.name+" / "+t.project.path:(0,el.t)("desktop_new_tab.drafts")))),teamsWithEditableProjects:N,dropdownType:aM.$c.DESKTOP_NEW_TAB,onSelectOverride:C})):l.createElement("div",{className:oA.a4},l.createElement("div",{className:oA.MJ},l.createElement("div",{className:oA.bD}))):"",l.createElement("div",{className:oA.Ve},a9(a,R).map((e,t)=>l.createElement(ot,{key:e.editorType,editorType:e.editorType,isSelected:(null==h?void 0:h.type)==="card"&&h.item===t,folder:R,currentOrgId:a,ref:e=>k.current[t]=e}))),l.createElement(ax.zj,{searchBarRef:b,selectedSearchResultIndex:(null==h?void 0:h.type)==="search"?h.index:0,onFocusSearchBar:H}))),l.createElement("div",{className:oA.nd},l.createElement(ou,{recentItems:x,selectedItem:(null==h?void 0:h.type)==="recent"?aP.Tf.getId(h.item):null})))}function oN({backgroundColor:e}){return l.createElement("div",{className:G()(oA.$z),style:{backgroundColor:e}})}var oO=r(343279),oL=r(630834);function oR(e){let[t,r]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=e=>{e.keyCode===t9.Uz.E&&e.ctrlKey&&e.shiftKey&&e.altKey&&(e.preventDefault(),e.stopPropagation(),r(!t))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t]);let n=(0,D.d4)(e=>e.experimentEvents);return t?l.createElement("div",{className:"experiment_debugger--modal--WDQ0L"},l.createElement("div",{className:"experiment_debugger--header--fCnJm"},l.createElement("div",{className:"experiment_debugger--modalTitle--SkCLK"},"Experiment debugger"),l.createElement("button",{onClick:()=>r(!1)},l.createElement(eq.B,{svg:oL.default}))),n.map(e=>l.createElement("div",{key:e.experimentId},l.createElement("div",{className:"experiment_debugger--experimentName--YrEp2"},e.experimentId),l.createElement("div",null,"treatment: ",e.treatmentId),"object"==typeof e.seed&&l.createElement(l.Fragment,null,l.createElement("div",null,"seedType: ",e.seed.type),l.createElement("div",null,"seedId:"," ",e.seed.type===oO.L4.USER?"currentUserId":e.seed.id)),"object"!=typeof e.seed&&l.createElement("div",null,"seed: ",e.seed),l.createElement("div",null,"isWinner: ",e.isWinner.toString()),l.createElement("div",null,"from override: ",e.fromOverride.toString())))):null}var oP=r(515009),ok=r(395281),oD=r(622896),oM=r(742808),ox=r(765431),oF=r(876401),oU=r(549067),oB=r(173454);r(290357),r(695956),r(876242);var oH=r(939683);let oV=l.createContext({shouldDiff:()=>!1,handleDiffReport:()=>({didDiff:!1})});function oG({children:e,onDiff:t}){let r=l.useRef({}),n=function(e){let t=(0,oH.U)();return l.useMemo(()=>e??((e,r,n)=>{t("LiveGraph Diff",{diffId:e,expectedIds:r.expectedIds,actualIds:r.actualIds,removedIds:r.removedIds,addedIds:r.addedIds,commonIds:r.commonIds,changedIds:r.changedIds,unchangedIds:r.unchangedIds,removedPaths:r.removedPaths,addedPaths:r.addedPaths,changedPaths:r.changedPaths,...n})}),[e,t])}(t),i=l.useMemo(()=>({shouldDiff:e=>!r.current[e],handleDiffReport:(e,t,i)=>(r.current[e]=!0,t.hasDiffs)?(n(e,t,i),{didDiff:!0,report:t,args:i}):{didDiff:!1}}),[n]);return l.createElement(oV.Provider,{value:i},e)}var oW=r(58032),oK=r(841563),oY=r.n(oK),oj=r(38580),oz=r(391388),o$=r(97395),oZ=r(298527),oq=r(830445),oJ=r(886653),oX=r(623746);let oQ=(0,oJ.cm)(e=>{var t,r,n,i,a;if("loaded"!==e.status)return{result:e};let o=e.data.styleWithDestinationAssetV2;if(!o)return{result:(0,ex.e1)([])};let{file:l,hubFile:s,...c}=o.destinationAsset||o,d=(0,ex.oA)(s),u=(0,oX.Zt)(l,d);return u?{result:(0,ex.gB)({...(0,oX.KC)(c,u),fileName:("team"===u.type?null==(t=u.file)?void 0:t.name:null==(n=null==(r=u.file)?void 0:r.currentHubFileVersion)?void 0:n.name)??""}),movedAssetData:o.destinationAsset?{sourceFileName:null==(i=o.file)?void 0:i.name,sourceKey:(0,oP.n3)(o.key),destinationKey:(0,oP.n3)(o.destinationAsset.key),destinationFileName:null==(a=o.destinationAsset.file)?void 0:a.name}:void 0,legacySourceStyle:o.movedByFigma?{key:(0,oP.n3)(o.key),version:(0,oP.IA)(o.contentHash)}:void 0}:{result:(0,ex.e1)([])}});var o0=r(875387),o1=r(696673),o2=r(234945),o3=r(388094);let o5=e=>{let t={};return e.forEach(({args:e,result:r})=>{t[e.key]=oQ(oz.Qw.from(r))}),t};function o4(){return function(){let e=(0,D.wA)(),t=function(){let e=(0,rm.tS)(),t=(0,oZ.n1)(),r=(0,U.md)(o0.q),[n,i]=(0,U.fp)(o6),a=(0,U.md)(o7),o=(0,D.d4)(o3.qC),s=l.useMemo(()=>o.filter(e=>!n.has(e)),[o,n]),c=l.useMemo(()=>s.map(t=>({key:t,openFileKey:e})),[s,e]),d=(0,ex.p)(eF.yFE,c),u=l.useMemo(()=>o5(d),[d]),p=l.useMemo(()=>({...a,...u}),[a,u]);return l.useEffect(()=>{if(t){let e=new Set(n);Object.entries(u).forEach(([t,{result:n}])=>{"loaded"===n.status&&(0,oq.lR)(r,n.data)&&e.add((0,oP.sg)(t))}),Object.entries(a).forEach(([t,{result:n}])=>{"loaded"!==n.status||(0,oq.lR)(r,n.data)||e.delete((0,oP.sg)(t))}),oY()(n,e)||i(e)}},[u,a,n,r,i,e,t]),p}(),{localUnpublishedStyles:r,unpublishedLocalStyleKeyToNodeIds:n,usedLocalStyles:i}=function(){let e=(0,rm.tS)(),t=(0,nq.eY)(),r=(0,oD.Bh)(e),n=(0,D.d4)(o2.RW),i=(0,D.d4)(o2.O1),a=l.useMemo(()=>{if(!t||"loaded"!==r.status)return{};let e=new Set((0,oD.z5)(r).map(e=>e.node_id));return o8({allStyles:[...new Set([...n,...i])],publishedStyleNodeIds:e,sceneGraph:t})},[n,r,t,i]),o=l.useMemo(()=>Object.keys(a).map(t=>({key:t,openFileKey:e})),[a,e]),s=(0,ex.p)(eF.yFE,o);return{localUnpublishedStyles:l.useMemo(()=>o5(s),[s]),unpublishedLocalStyleKeyToNodeIds:a,usedLocalStyles:i}}();l.useEffect(()=>{let a=Object.entries(r).filter(([e,{movedAssetData:t}])=>{let r=t&&n[t.sourceKey];return r&&i.includes(r)}),o=[...Object.entries(t),...a].reduce((e,[t,{result:r}])=>{if("loaded"===r.status){if(r.data.unpublished_at)return e;e[r.data.key]=r}else e[t]=r;return e},Object.create(null));e(ok.ow(o))},[e,i,r,t,n]),l.useEffect(()=>{let{sourceAssetKeyToDestinationKey:r,sourceAssetKeyToFileName:n,destinationStyleKeyToLegacySourceStyle:i}=function(e){let t=Object.create(null),r=Object.create(null),n=Object.create(null);for(let[i,{result:a,movedAssetData:o,legacySourceStyle:l}]of Object.entries(e))o&&(t[(0,oP.sg)(i)]=o.destinationKey,o.sourceFileName&&(r[(0,oP.sg)(i)]=o.sourceFileName)),l&&"loaded"===a.status&&(n[(0,oP.sg)(a.data.key)]=l);return{sourceAssetKeyToDestinationKey:t,sourceAssetKeyToFileName:r,destinationStyleKeyToLegacySourceStyle:n}}(t);e(ok.KQ(r)),e(ok.UA(n)),e(ok.Ty(i))},[e,t]),l.useEffect(()=>{let t=Object.create(null),i=Object.create(null);for(let{movedAssetData:e}of Object.values(r)){if(!e)continue;let r=n[e.sourceKey];r&&(t[r]=e.destinationKey,e.destinationFileName&&(i[r]=e.destinationFileName))}e(ok.WE(t)),e(ok.U$(i))},[e,i,r,n])}(),null}let o8=(0,o$.Zm)(({allStyles:e,publishedStyleNodeIds:t,sceneGraph:r})=>e.reduce((e,n)=>{var i;if(t.has(n))return e;let a=(null==(i=r.get(n))?void 0:i.styleKey)??null;return a&&(e[a]=n),e},Object.create(null))),o6=(0,oj.eU)(new Set),o7=(0,oj.eU)(e=>{if(!e(o1.JB))return{};let t=e(rm.ze),r=Array.from(e(o6)).map(e=>({key:e,openFileKey:t})),n=(0,oq.ku)(oq.ue,r,e);return n.data?o5(n.data):{}});function o9({children:e,maxSubscriptionsBeforeCleanup:t}){return!function(){let e=(0,D.wA)(),t=(0,rm.tS)(),r=(0,ex.Rs)(eF.ozA,{fileKey:t??""});l.useLayoutEffect(()=>{var t;if("loaded"!==r.status)return;let n=null==(t=r.data.file)?void 0:t.stylesWithLegacySourceAssets;if(!n)return;let i=Object.create(null);for(let e of n)e.legacySourceAsset&&(i[(0,oP.n3)(e.legacySourceAsset.key)]=(0,oP.n3)(e.key));e(ok.Cp(i))},[e,r])}(),l.createElement(le,{maxSubscriptionsBeforeCleanup:t},l.createElement(lr,null),l.createElement(o4,null),e)}function le({children:e,maxSubscriptionsBeforeCleanup:t}){var r;let n=null==(r=(0,rm.q5)())?void 0:r.canEdit;return l.createElement(oW.zN,null,n&&l.createElement(lt,null),l.createElement(oD.fN,{maxSubscriptionsBeforeCleanup:t},l.createElement(oG,null,e)))}function lt(){return(0,oW.je)(),null}function lr(){return!function(){let e=(0,D.wA)(),t=(0,ru.lg)(),r=(0,D.d4)(e=>e.library.publishProgress),[n,i]=l.useState(0),[a,o]=l.useState(void 0),[s,c]=l.useState(null),d=l.useRef(200),u=l.useMemo(()=>r.state===oB.Qx.UPLOADING?r.libraryPublishId:null,[r]);s!==u&&(c(u),i(0),o(void 0));let p=(0,ex.Rs)(eF.LYR,{id:u||""},{enabled:!!u}),m=l.useMemo(()=>{if("loaded"!==p.status)return p;let{libraryPublishV2:e}=p.data;return e?(0,ex.gB)({libraryPublishV2:{...e,assetSuccessCount:parseInt(e.assetSuccessCount??"0",10),assetFailureCount:parseInt(e.assetFailureCount??"0",10),assetPendingCount:parseInt(e.assetPendingCount??"0",10)}}):(0,ex.gB)({libraryPublishV2:null})},[p]),_=(0,rm.tS)();l.useEffect(()=>{e((0,oF.TS)())},[e,_]);let h=l.useMemo(()=>"publishStartMs"in r?r.publishStartMs:null,[r]),g=l.useRef(null);l.useEffect(()=>{if(!h)return;let e=new TaskController({priority:"user-blocking"}),t=()=>{let e=Math.floor((performance.now()-h)/36e5);e!==g.current&&(g.current=e,(0,oM.S3)("publish.periodic_progress.hours",e))},r=Symbol("__PUBLISH_COMPLETE__"),n=()=>{scheduler.postTask(()=>{t(),n()},{delay:36e5,signal:e.signal}).catch(e=>{if(e!==r)throw e})};return n(),()=>{t(),g.current=null,e.abort(r)}},[h]),l.useEffect(()=>{if(r.state!==oB.Qx.UPLOADING||"loading"===m.status||"disabled"===m.status||!u||"errors"===m.status)return;let e=m.data.libraryPublishV2;if(!e||e.error)return;let t=setInterval(()=>{i(t=>{if(e.count<0)return 0;let r=e.assetSuccessCount+e.assetFailureCount,n=t+1,i=Math.min((n+1)/(r+1),1);return d.current=200*i,Math.max(0,Math.min(n,Math.min(r+200,e.count)-1))})},d.current);return()=>{clearInterval(t)}},[u,r.state,m]),l.useEffect(()=>{if(r.state!==oB.Qx.UPLOADING||"loading"===m.status||"disabled"===m.status)return;if(!u){console.error("Expected libraryPublishId to be set during server-side publish");return}let{onPublishSuccess:i,onPublishError:l,onPublishProgress:s}=(0,ox.uE)(t),c=t=>{(0,oF.dh)(r,t??{__tag:"UNKNOWN"},r.publishType===oB.M$.UNPUBLISH,e,r.savepoint,!0,i,l)};if("errors"===m.status){c(),l({error:ox.jO.ErrorReason,publishType:r.publishType,dispatch:e,errorReason:(0,el.t)("design_systems.publish_actions.reload")});return}let d=m.data.libraryPublishV2;if(!d){console.error("Error fetching library publish data from LG",m.errors),c(),l({error:ox.jO.ErrorReason,publishType:r.publishType,dispatch:e,errorReason:(0,el.t)("design_systems.publish_actions.reload")});return}if(d.error){let t=(d.error,(0,el.t)("design_systems.publish_actions.reload"));c(d.assetFailureCount),l({error:ox.jO.ErrorReason,publishType:r.publishType,dispatch:e,errorReason:t});return}let p=d.count<0;if(p||(o(t=>(t||s({publishType:r.publishType,dispatch:e,icon:ev.zX.PROGRESS,progressKey:"library-publish"}),d.count)),e(oU.h({key:"library-publish",progress:n,total:a||0}))),p||d.count!==d.assetFailureCount+d.assetSuccessCount)return;if(d.firstAssetError){c(d.assetFailureCount);let t=(()=>{switch(d.firstAssetError){case"design_systems.publish_actions.reload":default:return(0,el.t)("design_systems.publish_actions.reload");case"design_systems.publish_actions.payload_too_large":return(0,el.t)("design_systems.publish_actions.payload_too_large");case"design_systems.publish_actions.validations_failed":return(0,el.t)("design_systems.publish_actions.validations_failed")}})();l({error:ox.jO.ErrorReason,publishType:r.publishType,dispatch:e,errorReason:t});return}let _=r.numSkippedPriorToPublish+d.assetFailureCount;(0,oF.dh)(r,_,r.publishType===oB.M$.UNPUBLISH,e,r.savepoint,!1,i,l)},[e,u,r,m,n,a,t])}(),null}var ln=r(393883),li=r(736782),la=r(233890),lo=r(706638);r(410004);var ll=(e=>(e[e.FILE_BROWSER_LOADED=0]="FILE_BROWSER_LOADED",e[e.CLOSE_MODAL=1]="CLOSE_MODAL",e))(ll||{});class ls{constructor(e){this.type=e}}function lc(e){preloadAuthIFrame(),window.removeEventListener("mousemove",lc),window.removeEventListener("scroll",lc),window.removeEventListener("keydown",lc),window.removeEventListener("click",lc),window.removeEventListener("touchstart",lc)}var ld=r(555328),lu=r(368361),lp=r(116746);function lm(e){let[t,r]=l.useState(!1),n=(0,D.d4)(e=>e.modalShown);(0,t7.h)(()=>{var t;e.showModal(),document.body.style.backgroundColor="transparent",null==(t=window.parent)||t.postMessage(new ls(ll.FILE_BROWSER_LOADED),"*")});let i=()=>{var e;null==(e=window.parent)||e.postMessage(new ls(ll.CLOSE_MODAL),"*")};return l.useEffect(()=>{!n&&t&&i(),n&&n.type===e.modalType&&r(!0)},[t,n,e.modalType]),l.createElement("div",{onClick:i})}(e=>{function t(e){let t=(0,D.wA)();return l.createElement(lm,{showModal:()=>t((0,rs.to)({type:lp.s,data:{tab:e.tab}})),modalType:lp.s.type})}e.AccountSettingsModalInIframe=function(){return l.createElement(t,{tab:lp.c.ACCOUNT})}})(o||(o={}));let l_={[eQ.ou.ACCOUNT_SETTINGS]:o.AccountSettingsModalInIframe,[eQ.ou.UNIVERSAL_PUBLISHING]:function(){let e=(0,D.wA)();return l.createElement(lm,{showModal:()=>e((0,rs.to)({type:lu.R,data:{source:ld.Zm.IFRAME}})),modalType:lu.R.type})}};var lh=r(572900),lg=r(265746),lf=r(13678),lE=r(611964),ly=r(522739),lb=r(701283),lv=(e=>(e[e.BOTTOM_RIGHT=0]="BOTTOM_RIGHT",e[e.TOP_CENTER=1]="TOP_CENTER",e))(lv||{});class lI extends re.o6{constructor(){super(...arguments),this.notificationStyle=()=>{switch(this.position()){case 0:return this.props.hideHelpWidget?lb.rV:lb.xT;case 1:return lb.s}},this.icon=()=>{throw Error("icon must be implemented in subclass.")},this.isError=()=>{throw Error("isError must be implemented in subclass.")},this.actionText=()=>{throw Error("actionText must be implemented in subclass.")},this.actionCallback=()=>{throw Error("actionCallback must be implemented in subclass.")},this.dequeueNotification=()=>{throw Error("dequeueNotification must be implemented in subclass.")},this.position=()=>{throw Error("position must be implemented in subclass.")},this.onDisplay=null,this.onAccept=re.cZ(this,"click",e=>{e.stopPropagation(),this.getCurrentNotif()&&(this.actionCallback(),this.dequeueNotification())}),this.onDismiss=e=>{e.stopPropagation();let t=this.getCurrentNotif();t&&(t.dismissCallback&&t.dismissCallback(),this.dequeueNotification())},this.getCurrentNotif=()=>this.props.notifications[0]||null}componentDidUpdate(e,t){super.componentDidUpdate(e,t);let r=this.getCurrentNotif();if(!r)return;let n=r.displayCallback;n&&n!==this.onDisplay&&n(),this.onDisplay=n||null}render(){let e=this.getCurrentNotif();if(!e)return null;let t=this.icon(),r=this.isError(),n=this.actionText(),i=1===this.position()?lb.iG:"";return l.createElement(ly.D8,{className:i},l.createElement(ly.D8,{className:this.notificationStyle(),recordingKey:re.Pt(this.props,"accept"),onClick:this.onAccept},t&&l.createElement(eq.B,{className:r?lb.m5:lb.Kk,svg:t}),l.createElement("div",{className:lb.iU},e.message),l.createElement(lT,{actionText:n,accept:this.onAccept,dismiss:this.onDismiss})))}}lI.displayName="NotificationView";class lT extends l.PureComponent{render(){return l.createElement("div",{className:lb.o1},this.props.actionText&&l.createElement("div",{className:lb.XI,onClick:this.props.accept},this.props.actionText),l.createElement("div",{className:lb.XI,onClick:this.props.dismiss},l.createElement(el.Tx,{id:"base_notifications.dismiss"})))}}lT.displayName="NotificationActions";var lS=r(370154),lw=r(684019),lA=r(400232),lC=r(264833),lN=r(279006),lO=r(957412);class lL extends lI{constructor(){super(...arguments),this.icon=()=>{let e=this.getCurrentNotif();if(!e)return null;switch(e.type){case lg._.COMPONENT_PUBLISH_ERROR:case lg._.DOWNTIME:return lO.A;case lg._.AUTOSAVE_CHANGES_RESTORED:return lS.A;case lg._.BRANCHING_SOURCE_FILE_UPDATED:return lC.A;case lg._.MOVE_COMPONENTS_PROMPT:return lA.A;case lg._.BRANCHING_OTHER_USER_MERGING:case lg._.SEE_WHATS_CHANGED:return lC.A;case lg._.CLIPBOARD_DATA_AVAILABLE:return lw.A;case lg._.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS:return lN.A}},this.actionText=()=>{let e=this.getCurrentNotif();if(!e)return null;let t=e.type;switch(t){case lg._.COMPONENT_PUBLISH_ERROR:return"Retry...";case lg._.DOWNTIME:return"Learn more";case lg._.AUTOSAVE_CHANGES_RESTORED:return null;case lg._.BRANCHING_SOURCE_FILE_UPDATED:return(0,el.t)("collaboration.branching.update");case lg._.MOVE_COMPONENTS_PROMPT:return(0,el.t)("design_systems.updates.publish");case lg._.BRANCHING_OTHER_USER_MERGING:return null;case lg._.SEE_WHATS_CHANGED:return(0,el.t)("collaboration.feedback.compare");case lg._.CLIPBOARD_DATA_AVAILABLE:return(0,el.t)("fullscreen_actions.paste");case lg._.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS:return(0,el.t)("comments.turn_on");default:(0,e_.xb)(t)}},this.actionCallback=()=>{let e=this.getCurrentNotif();if(!e)return;let t=e.type;switch(t){case lg._.COMPONENT_PUBLISH_ERROR:this.props.dispatch(rs.to({type:lf.dD,data:{entrypoint:lE.RR.COMPONENT_PUBLISH_ERROR_NOTIFICATION}}));return;case lg._.DOWNTIME:case lg._.BRANCHING_SOURCE_FILE_UPDATED:case lg._.MOVE_COMPONENTS_PROMPT:e&&e.acceptCallback&&e.acceptCallback();return;case lg._.AUTOSAVE_CHANGES_RESTORED:case lg._.BRANCHING_OTHER_USER_MERGING:return;case lg._.SEE_WHATS_CHANGED:case lg._.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS:e&&e.acceptCallback&&e.acceptCallback();return;case lg._.CLIPBOARD_DATA_AVAILABLE:e&&(eB.glU.pasteFromSerializedClipboardData(e.downloadUrl,e.deviceType,e.timestamp),e.acceptCallback&&e.acceptCallback());return;default:(0,e_.xb)(t)}},this.position=()=>{let e=this.getCurrentNotif();if(!e)return lv.BOTTOM_RIGHT;if(this.props.hasMobileNativeToolbar)return lv.TOP_CENTER;let t=e.type;switch(t){case lg._.COMPONENT_PUBLISH_ERROR:case lg._.DOWNTIME:case lg._.BRANCHING_SOURCE_FILE_UPDATED:case lg._.MOVE_COMPONENTS_PROMPT:case lg._.AUTOSAVE_CHANGES_RESTORED:case lg._.BRANCHING_OTHER_USER_MERGING:case lg._.SEE_WHATS_CHANGED:case lg._.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS:return lv.BOTTOM_RIGHT;case lg._.CLIPBOARD_DATA_AVAILABLE:return e.isFigJam?lv.TOP_CENTER:lv.BOTTOM_RIGHT;default:(0,e_.xb)(t)}},this.isError=()=>{let e=this.getCurrentNotif();if(!e)return!1;let t=e.type;switch(t){case lg._.COMPONENT_PUBLISH_ERROR:return!0;case lg._.DOWNTIME:case lg._.AUTOSAVE_CHANGES_RESTORED:case lg._.BRANCHING_SOURCE_FILE_UPDATED:case lg._.MOVE_COMPONENTS_PROMPT:case lg._.BRANCHING_OTHER_USER_MERGING:case lg._.SEE_WHATS_CHANGED:case lg._.CLIPBOARD_DATA_AVAILABLE:case lg._.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS:return!1;default:(0,e_.xb)(t)}},this.dequeueNotification=()=>{let e=this.getCurrentNotif();e&&this.props.dispatch(lh.$.dequeue({type:e.type}))}}}lL.displayName="NotificationsView";var lR=r(385326),lP=r(742482);function lk(e){var t;let r=(0,D.d4)(e=>e.notifications),n=(0,nG.D)(),i=(0,lP.W6)(),a=(0,D.wA)(),o=(0,U.md)(lR.D),s=(null==(t=r[0])?void 0:t.type)??null;return((0,l.useEffect)(()=>{o&&null!==s&&(0,y.sx)("curator_collision",{blocking_overlay_id:o,blocked_notif_type:lg._[s]})},[o,s]),o)?null:l.createElement(lL,{recordingKey:e.recordingKey,notifications:r,hideHelpWidget:n,hasMobileNativeToolbar:i,dispatch:a})}var lD=r(761870),lM=r(883679),lx=r(493323),lF=r(977468);let lU="locked_account_view--addAccountButton--M2CKK";var lB=r(860230);function lH(){let e=(0,D.wA)(),t=(0,D.d4)(e=>e.user),r=(0,D.d4)(e=>e.authedUsers),n=(0,D.d4)(e=>e.orgById),i=(0,D.d4)(e=>e.currentUserOrgId),a=i?n[i]:null,o=r.orderedIds.filter(e=>(null==t?void 0:t.id)!==e).map(e=>r.byId[e]);l.useEffect(()=>{!function(){let e=document.getElementById("filebrowser-loading-page");e&&(e.classList.add("fadeOut"),setTimeout(()=>{e.classList.add("hidden")},1e3))}()}),(0,y.sx)("browser_locked_account_screen_viewed",{user:null==t?void 0:t.id,org:i});let s=e=>l.createElement("div",{className:"locked_account_view--header--5ANme"},a?l.createElement("div",{className:"locked_account_view--loadingAvatarContainer--RcSO0"},l.createElement(lF.Ro,{entity:a,size:54}),l.createElement("div",{className:"locked_account_view--spinnerContainer--qmoqQ"},l.createElement(lx.kt,null))):l.createElement("div",{className:"locked_account_view--worldIllo--ZgRY9"},l.createElement(eq.B,{svg:lB.A,useOriginalSrcFills_DEPRECATED:!0})),l.createElement("div",{className:"locked_account_view--title--zZnPc"},l.createElement(el.Tx,{id:"locked_org.title"})),l.createElement("div",{className:"locked_account_view--description--FgKxX"},e())),c=()=>{p.Ay.redirect("/login?cont=","_blank")};return l.createElement(eX,{pageType:"external"},l.createElement("div",{className:"locked_account_view--pageContainer--fq6gF","data-testid":"LockedAccountView"},l.createElement("div",{className:"locked_account_view--contentContainer--pfiqF"},o.length>0?l.createElement(lM.a,{dispatch:e,header:s(()=>a?l.createElement(el.Tx,{id:"locked_org.description_no_other_accounts",orgName:a.name}):l.createElement(el.Tx,{id:"locked_org.description_no_other_accounts_no_org"})),users:o,onUserSelect:t=>{e(lD.I.complete({userId:t}))},onChangeAccount:c,footer:l.createElement(el.Tx,{id:"locked_org.footer",addAnotherLink:l.createElement(Y.u4,{defaultClass:lU,onClick:c,"data-testid":"add-account-button"},l.createElement(el.Tx,{id:"locked_org.footer_button"}))})}):l.createElement("div",{className:"locked_account_view--loginAccount--VEvAN"},s(()=>a?l.createElement(el.Tx,{id:"locked_org.description",orgName:a.name}):l.createElement(el.Tx,{id:"locked_org.description_no_org"})),l.createElement("div",{className:"locked_account_view--addAccountText--zFHaY"},l.createElement(el.Tx,{id:"locked_org.footer_no_other_accounts",addAnotherLink:l.createElement(Y.u4,{defaultClass:lU,onClick:c,"data-testid":"add-account-button"},l.createElement(el.Tx,{id:"locked_org.footer_no_other_accounts_button"}))}))))))}let lV=l.memo(function(){let e=(0,R._6)(),t=(0,D.d4)(t5.kY);if((0,eK.CR)(e)&&t)return l.createElement(lH,null);if("fullscreen"===e.view)return e.postingToFeed?l.createElement(lo.P,null):l.createElement(t2,null);if("figmascope"===e.view)return l.createElement(tG,null);if("figjamTry"===e.view)return l.createElement(e7,null);if("desktopNewTab"===e.view)return l.createElement(oC,null);if("prototype"===e.view)throw Error("Unexpected prototype view");if(e===ej.o0)return l.createElement(l.Fragment,null);else if("modalInIFrame"===e.view){let t=l_[e.modalInIFrameType];return l.createElement(t,null)}return l.createElement(t0,null)});function lG(e){let t=(0,R._6)(),r=(0,U.md)(eG.h);if("fullscreen"===t.view&&"ok"!==r){let{type:e,sentryId:t}=r;return"oom"===e?l.createElement(ez.V,null):l.createElement(B.S1,{sentryId:t})}return l.createElement(l.Fragment,null,e.children)}function lW({children:e}){return l.createElement(eR.GF,null,e)}let lK=l.memo(function(){let e=(0,D.wA)(),t=(0,D.d4)(e=>e.flashes),r=(0,R._6)(),n=(0,D.d4)(e=>e.interactionTestDialogShown),i=(0,D.d4)(e=>e.blockedUILoadingIndicator),a=(0,D.d4)(e=>e.mirror.appModel.showUi),o=(0,m.kc)().fpl_visual_bell;l.useLayoutEffect(()=>{let e=()=>{setTimeout(()=>la.F2.focusIfUnfocused())};return document.body.addEventListener("blur",e,!0),()=>{document.body.removeEventListener("blur",e,!0)}},[]),function(){var e,t,r;let n=(0,eH.ut)(null==(r=null==(t=null==(e=eB.Ez5)?void 0:e.editorPreferences)?void 0:t.call(e))?void 0:r.fplDebug,!1);(0,l.useEffect)(()=>(n?document.body.setAttribute("data-fpl-debug",""):eV(),()=>eV()),[n])}(),(0,ek.U)(),function(){let e=l.useMemo(()=>(0,v.g)(),[]),t=(0,ex.Rs)(eF.xaw,{cacheNonce:e},{enabled:!!(0,m.kc)().deprecate_ip_account_restriction_realtime});l.useEffect(()=>{var e,r;if("loaded"===t.status&&"loaded"===t.data.recentNetworkControlRejection.status&&(null==(e=t.data.recentNetworkControlRejection.data)?void 0:e.reason)){let e=null==(r=t.data.recentNetworkControlRejection.data)?void 0:r.reason,n=`/ip_account_restriction?reason=${e}&redirect_uri=${encodeURIComponent(window.location.href)}`;window.location.href=n}},[t])}(),function(){let e=eD.D,t=l.useMemo(()=>(0,v.g)(),[]),r=(0,ex.Rs)(eF.SCo,{cacheNonce:t},{enabled:!!(0,m.kc)().deprecate_idle_timeout_realtime});l.useEffect(()=>{var t,n,i,a,o,l;"loaded"===r.status&&"loaded"===r.data.recentIdleTimeoutSettingChange.status&&(null==(t=r.data.recentIdleTimeoutSettingChange.data)?void 0:t.durationInSecs)&&(null==(n=r.data.recentIdleTimeoutSettingChange.data)?void 0:n.orgName)&&(null==(i=r.data.recentIdleTimeoutSettingChange.data)?void 0:i.lastActiveAt)&&(0,eM.K7)(e,{duration_in_secs:null==(a=r.data.recentIdleTimeoutSettingChange.data)?void 0:a.durationInSecs,last_active_at:null==(o=r.data.recentIdleTimeoutSettingChange.data)?void 0:o.lastActiveAt,org_name:null==(l=r.data.recentIdleTimeoutSettingChange.data)?void 0:l.orgName})},[r,e])}();let s=(0,F.zN)({close:(0,el.t)("common.close"),mixed:(0,el.t)("common.mixed")});return(0,t$.d)()?l.createElement(t$.O,{dispatch:e}):(0,eU.pK)(r)?l.createElement(is,{hubFileId:r.hubFileId}):(0,eU.uz)(r)?l.createElement(e1,null):l.createElement(tz.K,{recordingKey:"inAppPage"},l.createElement(lG,null,l.createElement(t4.w,null,l.createElement(o9,null,l.createElement(eW.wG,null,l.createElement(lW,null,l.createElement(M.ds,null,l.createElement(x.AD,{strings:s},l.createElement(B.tH,{boundaryKey:"InAppPage",fallback:B.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:L.y4},l.createElement(lV,null)),l.createElement(eo.a,{flashes:t}),l.createElement(ez.V,null),a&&l.createElement(lk,{recordingKey:"notificationsView"}),o?l.createElement(ew,null):l.createElement(eL.z,{visualPulseEnabled:"fullscreen"===r.view}),l.createElement(li.pq,{getLinkMetadata:eP.MY}),l.createElement(H.V,{blockedUILoadingIndicator:i,dispatch:e}),l.createElement(tq.hG,{enableTracking:"fullscreen"===r.view&&r.editorType===q.nT.Design}),l.createElement(aT,null),l.createElement(it,null),(0,m.b5)()&&l.createElement(oR,null),n&&null,"fullscreen"===r.view&&l.createElement(tZ.U,null),l.createElement(eY.d,null,l.createElement(t3.Ji,null)),l.createElement(ea,null),l.createElement(ln.Cj,null)))))))))});var lY=r(517333),lj=r(563706),lz=r(348425),l$=r(507877),lZ=r(749336),lq=r(732695),lJ=r(988022),lX=r(395116),lQ=r(140908),l0=r(602834),l1=r(58024),l2=r(561899);let l3="user_notifications_desktop_dropdown_container--icon--GXtYp";function l5(e){let t;let{notificationFeedMap:r,isFetchingNotifications:n,markAllAsReadFn:i,updateNotification:a,initFilter:o}=(0,lq.ql)(!1,e.selectedPlan),[s,c]=l.useState([]),[d,u]=l.useState(o),p=(0,aw.ZC)(d),m=(0,lQ.ro)(),_=(0,D.wA)(),h=(0,lq.he)([...r.values()],s);l.useEffect(()=>{u(o)},[o]),l.useEffect(()=>{let e=(0,lX.Dd)();d!==p&&d===e&&(0,lJ.qD)({name:"user_notifications_filter_viewed",filter_type:d,dropdown_location:"desktop_tray"})},[p,d]);let[g,f]=l.useState(!1);switch(d){case"unread":t=h.filter(e=>e.is_unread);break;case"priority":t=h.filter(e=>e.filters.is_priority);break;default:t=h}!m&&g&&(t=h.filter(e=>e.is_unread));let E=l.useMemo(()=>({shouldShowChevron:l2.UC,onClick:e=>!!(0,l2.UC)(e)&&(_(e4.$T({view:"feed",quickReplyInfo:(0,l2.AS)(e)||void 0})),!0),onMouseEnter:ta.lQ,onMouseMove:ta.lQ,onRemove:ta.lQ}),[_]);return l.createElement(l0.H.Provider,{value:E},l.createElement("div",{className:"user_notifications_desktop_dropdown_container--scrollContainer--D-nb8",onMouseDown:e=>{e.stopPropagation()}},m?l.createElement(lq.fd.FilterToggle,{notificationFilter:d,toggleNotificationFilter:e=>{(0,lJ.Cu)({filter_type:e},"user_notifications_filter_clicked"),(0,lX.hI)(e),u(e)},isFetchingNotifications:n,notifications:h,markAllAsReadFn:i}):l.createElement(lq.fd.UnreadBar,{showOnlyUnreads:g,toggleUnreadFilter:e=>{f(e)},isFetchingNotifications:n,notifications:h,markAllAsReadFn:i}),l.createElement(lq.fd.Feed,{notifications:t,currentPlanFilter:e.selectedPlan===lq.td?l1.aT:e.selectedPlan,currentNotificationFilter:d,hiddenNotificationIds:s,setHiddenNotificationIds:c,isFetchingNotifications:n,inCommunity:!1,fillParent:!0,updateNotificationCallback:a,inDesktopTray:!0})))}var l4=r(828075),l8=r(636898),l6=r(605509);function l7(){let e=(0,D.wA)(),{userNotifications:t,currentOrgId:r,selectedView:n,userStateLoaded:i,user:a}=(0,eh.R)(e=>({userNotifications:e.userNotifications,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userStateLoaded:e.userStateLoaded,user:e.user}));(0,e_.vA)("feed"===n.view,"UserNotificationDesktopDropdownContainer: wrong view, quick replies may not work");let o=n.quickReplyInfo,[s,c]=l.useState("top"),d=(0,m.kc)().ps_benchmark;(0,l.useEffect)(()=>{var i,o,l,s;let c=a&&t&&!!(null==(s=null==(l=t.userBellStates)?void 0:l[a.id])?void 0:s[lq.td]);null==(i=lY.S8)||i.setBell(!!c),null==(o=lY.S8)||o.setListener({name:"changeOrg",listener:t=>{r!==t&&!d&&a&&e(l$._l({workspace:{orgId:t,userId:a.id},view:n}))}})},[r,e,a,t,t.userBellStates,n,d]);let[u,p]=l.useState(0);(0,l.useEffect)(()=>{var e;null==(e=lY.S8)||e.setListener({name:"openTray",listener:()=>{var e;p(u+1),c((null==(e=lY.S8)?void 0:e.getAlignment())||"top")}})},[e,c,p,u]);let[_,h]=l.useState(lq.td);return((0,l.useEffect)(()=>{let t=()=>{(0,lY.O_)(1)&&o&&e(e4.$T({view:"feed"}))};return window.addEventListener("blur",t),()=>{window.removeEventListener("blur",t)}}),i)?l.createElement("div",{className:"user_notifications_desktop_dropdown_container--page--Fae6Z"},l.createElement("div",{className:`user_notifications_desktop_dropdown_container--container--BaYko ${"top"===s?"user_notifications_desktop_dropdown_container--containerFromTop--sEplE":""} ${lj.Ay.windows?"user_notifications_desktop_dropdown_container--windows--29Gaf":""} ${"bottom"===s?"user_notifications_desktop_dropdown_container--containerFromBottom--yHzl-":""}`},l.createElement("div",{className:"user_notifications_desktop_dropdown_container--navbarContainer--IDPJD text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement("div",{className:"user_notifications_desktop_dropdown_container--title---9ewd ellipsis--ellipsis--Tjyfa"},l.createElement(l1.jy,{currentPlanFilter:_===lq.td?l1.aT:_,onPlanFilterUpdate:e=>{e===l1.aT&&(e=lq.td),h(e)}})),l.createElement("a",{href:"/files/recent",className:`${l3} user_notifications_desktop_dropdown_container--iconNoFill--f6O2W`},l.createElement(lz.t,{svg:l8.A,fallbackSvg:l6.A})),(0,lY.O_)(1)&&a&&l.createElement("a",{href:`/files/user/${a.id}/settings?tab=notifications`,className:`${l3}`},l.createElement(lz.t,{svg:l4.A,fallbackSvg:l4.A})),a&&l.createElement("div",{style:tl.sx.w24.h24.p8.pr0.$},l.createElement(aA.H8,{user:a}))),l.createElement("div",{className:"user_notifications_desktop_dropdown_container--notificationContainer--j2B9l text--fontPos11--2LvXf text--_fontBase--QdLsd"},o&&o.threadId&&o.fileKey?l.createElement(lZ.d,{quickReplyInfo:o,onClose:()=>{e(e4.$T({view:"feed"}))},closeIcon:"chevron-left-32"}):(!lY.S8||u>0)&&l.createElement(l5,{selectedPlan:_,key:u})))):null}var l9=r(794321),se=r(388186);(0,h.kF)("entrypoint","figma_app_entry");let st=(0,u.v)();!function(e){if(!(0,m.kc)().web_vitals_report)return;let t=p.Ay.location.pathname+p.Ay.location.search,r=!!document.querySelector('meta[name="is_preload_streaming"]'),n=!!document.querySelector('meta[name="is_serving_resized_image"]');function i(i){let a={name:i.name,google_rating:i.rating,navigation:i.navigationType,id:i.id,value:i.value,initialPath:t,normalized_current_path:(0,b.qR)(p.Ay.location.pathname),bundle:e,used_codesplitting:!0,bundle_streaming:r,resized_images:n,statsig_client_bootstrap:(0,m.w0)().statsig_client_bootstrap??!0,statsig_has_bootstrap_values:!!(0,m.tl)().statsig_bootstrap_values,is_webpack:!!(0,m.kc)().serve_webpack};(0,y.sx)("Web Vital Metrics",a,{forwardToDatadog:!0,sendAsBeacon:!0})}function a(i,a){let o={name:a,google_rating:"not-applicable",navigation:function(){let e=window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];return e?document.prerendering||(e.activationStart||0)>0?"prerender":document.wasDiscarded?"restore":e.type.replace(/_/g,"-"):"navigate"}(),value:i.timeStamp,initialPath:t,normalized_current_path:(0,b.qR)(p.Ay.location.pathname),id:(0,v.g)(),bundle:e,used_codesplitting:!0,bundle_streaming:r,resized_images:n};(0,y.sx)("Web Vital Metrics",o,{forwardToDatadog:!0,sendAsBeacon:!0})}(0,E.lt)(i),(0,E.fK)(i),(0,E.zB)(i),(0,E.IN)(i),(0,E.Ck)(i),(0,E.rH)(i),document.addEventListener("DOMContentLoaded",e=>a(e,"DCL")),window.addEventListener("load",e=>a(e,"LOAD"))}("figma_app"),n="figma_app",(0,m.kc)().potential_chunk_cache_metric&&window.addEventListener("load",()=>{let e=performance.getEntriesByType("resource"),t=[];{let r=new Set(Array.from(document.querySelectorAll('link[rel="preload"]')).filter(e=>e.href.includes("webpack")&&(e.href.endsWith(".js")||e.href.endsWith(".js.gz")||e.href.endsWith(".js.br"))).map(e=>e.href));t=e.filter(e=>r.has(e.name))}function r(e,t){return e.compressed+=t.encodedBodySize,e.uncompressed+=t.decodedBodySize,e}let i=t.reduce(r,{compressed:0,uncompressed:0}),a=t.filter(e=>0===e.transferSize),o=a.reduce(r,{compressed:0,uncompressed:0});console.log(`Loaded ${t.length} scripts (${i.compressed}b), ${a.length} from cache (${o.compressed}b)`),(0,y.sx)("scripts_loaded",{entry:n,totalScripts:t.length,totalSizeCompressed:i.compressed,totalSizeUncompressed:i.uncompressed,cachedScripts:a.length,cachedSizeCompressed:o.compressed,cachedSizeUncompressed:o.uncompressed,is_webpack:!0},{forwardToDatadog:!0})}),(0,L.LH)();let sr=!1;function sn({selectedView:e}){return"prototype"!==e.view?null:e.file.editor_type===I._Y.SLIDES?l.createElement(S.fi,null):l.createElement(se.V,null)}function si(){let e=(0,R._6)(),t=(0,R.z3)(),r=(0,C.s)();return(0,N.yw)(),"prototype"!==t||(0,f.PN)()||sr||((0,h.$D)(g.e.PROTOTYPING,Error("Loading PrototypeAppView as part of AppView")),sr=!0),l.createElement(P.uW.Provider,{value:r},"prototype"===t?l.createElement(sn,{selectedView:e}):"feed"===t?l.createElement(l7,null):l.createElement(lK,null))}function sa(){let e=(0,R._6)(),t=(0,R.z3)(),r=(0,C.s)();return l.createElement(P.uW.Provider,{value:r},"prototype"===t?l.createElement(sn,{selectedView:e}):"feed"===t?l.createElement(l7,null):l.createElement(lK,null))}function so(){let e=(0,_.v6)(p.Ay.location.search),t=I._Y.DESIGN;"whiteboard"===e.editor_type||"whiteboard"===e.type||"/jam"===p.Ay.location.pathname||"/board/new"===p.Ay.location.pathname?t=I._Y.WHITEBOARD:(0,m.kc)().piper&&("/slides/new"===p.Ay.location.pathname||"slides"===e.type||"slides"===e.editor_type)&&(t=I._Y.SLIDES),"whiteboard"!==t&&(0,s.H)(document.getElementById("react-page")).render(l.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"48px",backgroundColor:"#2c2c2c"}}));let r=e.localFileKey&&(0,c.T)(e.localFileKey)?e.localFileKey:void 0,n=e.figjamAiNewFile_prompt?{prompt:e.figjamAiNewFile_prompt,useCaseCategory:e.figjamAiNewFile_useCaseCategory,subtitle:e.figjamAiNewFile_subtitle,entrypoint:e.figjamAiNewFile_entrypoint}:void 0,i=Object.values(l9.fD).some(t=>t===e.figjam_make_something_use_case)?e.figjam_make_something_use_case:void 0;(0,A.n)(si,{newFileInfo:{editorType:t,folder_id:e.folder_id,org_id:e.org_id,trackingInfo:null,openNewFileIn:k.ai.SAME_TAB,framePresetName:e.frame_preset_name,fileName:e.name,localFileKey:r,viewport:e.viewport,nodeId:e["node-id"],figjamAiNewFileData:n,figjamMakeSomethingUseCase:i,slideTemplateLibraryKey:e["slide-template-library-key"],libraryHubFileId:e["library-hub-file-id"]}})}let sl=performance.now();(0,d.t)(async()=>{if("/preload-editor"===p.Ay.location.pathname)(0,L.F$)("prototype-lib").then(()=>{O.xK.start("editorPreloaded"),window.startPreloadedTab=function(e){if(window.preloadedTabStart=performance.now(),!(0,m.Ay)().user_data){p.Ay.replace(e.path,null),p.Ay.reload("preloaded tab not logged in");return}let t=!1;e.params&&(e.path+=e.params,t="1"===(0,_.qg)(e.params).new),T.S.getIncludeFolderTeamCanEdit({includeFolderTeamCanEdit:!0,fileKey:e.fileKey}).then(({data:{meta:r}})=>{let n=r.parent_org_id;(0,m.Hk)(r),console.log(`Opening file ${e.fileKey} in a preloaded tab at ${e.path} with org ${n}`),(0,m.Ay)().org_id=n,window.startUserStateXHR(),p.Ay.replace(e.path,null),(0,A.n)(sa,{loadBlank:t})},t=>{console.error("Reloading because of",t),p.Ay.replace(e.path,null),p.Ay.reload("preloaded tab error")})}});else if("/file/new"===p.Ay.location.pathname||"/design/new"===p.Ay.location.pathname||"/board/new"===p.Ay.location.pathname||"/slides/new"===p.Ay.location.pathname||"/jam"===p.Ay.location.pathname){if("prerender"===document.visibilityState)document.addEventListener("visibilitychange",function e(){"prerender"!==document.visibilityState&&(so(),document.removeEventListener("visibilitychange",e))});else{let e=(0,_.qg)(p.Ay.location.search);e["try-plugin-id"]&&e["try-plugin-version-id"]&&e["try-plugin-name"]?await (0,A.n)(si):so()}}else O.xK.updateAppEntryTimeEvents(w,sl),await (0,A.n)(si),window.FigmaMobile&&document.body.classList.add("FigmaMobile");st.resolve()})},723081:(e,t,r)=>{"use strict";r.d(t,{Cr:()=>L,D:()=>p,EX:()=>C,Eq:()=>O,Ge:()=>D,J:()=>R,JV:()=>N,Od:()=>f,Rk:()=>x,SU:()=>k,UY:()=>_,VG:()=>A,WO:()=>m,Xi:()=>I,Z6:()=>v,ZB:()=>u,_X:()=>E,_r:()=>c,cP:()=>g,js:()=>b,kv:()=>P,mj:()=>y,qj:()=>h,ro:()=>d,sX:()=>T,wi:()=>M});var n=r(935283),i=r(157663),a=r(987918),o=r(939863),l=r(848661),s=r(973149);class c{constructor(){this.format=e=>e?e.replace(/_/g," ").toLowerCase().replace(/^./g,e=>e.toUpperCase()):""}}class d{constructor(){this.format=e=>{switch(e){case"PASS_THROUGH":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.pass_through");case"NORMAL":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.normal");case"DARKEN":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.darken");case"MULTIPLY":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.multiply");case"LINEAR_BURN":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.linear_burn");case"COLOR_BURN":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.color_burn");case"LIGHTEN":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.lighten");case"SCREEN":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.screen");case"LINEAR_DODGE":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.linear_dodge");case"COLOR_DODGE":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.color_dodge");case"OVERLAY":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.overlay");case"SOFT_LIGHT":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.soft_light");case"HARD_LIGHT":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.hard_light");case"DIFFERENCE":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.difference");case"EXCLUSION":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.exclusion");case"HUE":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.hue");case"SATURATION":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.saturation");case"COLOR":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.color");case"LUMINOSITY":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.luminosity");default:return""}}}}class u{constructor(e){this.getPaint=e,this.format=e=>{switch(e){case"SOLID":return(0,o.t)("fullscreen.properties_panel.solid");case"VIDEO":return(0,o.t)("fullscreen.properties_panel.video");case"IMAGE":return null!=this.getPaint().animatedImage?(0,o.t)("fullscreen.properties_panel.gif"):(0,o.t)("fullscreen.properties_panel.image");case"GRADIENT_LINEAR":return(0,o.t)("fullscreen.properties_panel.linear");case"GRADIENT_RADIAL":return(0,o.t)("fullscreen.properties_panel.radial");case"GRADIENT_ANGULAR":return(0,o.t)("fullscreen.properties_panel.angular");case"GRADIENT_DIAMOND":return(0,o.t)("fullscreen.properties_panel.diamond");default:return""}}}}class p{constructor(){this.format=e=>{switch(e){case"FILL":return(0,o.t)("fullscreen.properties_panel.image_scale.fill");case"FIT":return(0,o.t)("fullscreen.properties_panel.image_scale.fit");case"STRETCH":return(0,o.t)("fullscreen.properties_panel.image_scale.crop");case"TILE":return(0,o.t)("fullscreen.properties_panel.image_scale.tile");default:return""}}}}class m{constructor(){this.format=e=>{switch(e){case"MIN":return(0,o.t)("fullscreen.properties_panel.constraints.left");case"MAX":return(0,o.t)("fullscreen.properties_panel.constraints.right");case"STRETCH":return(0,o.t)("fullscreen.properties_panel.constraints.left_and_right");case"CENTER":return(0,o.t)("fullscreen.properties_panel.constraints.center");case"SCALE":return(0,o.t)("fullscreen.properties_panel.constraints.scale");default:return""}}}}class _{constructor(){this.format=e=>{switch(e){case"MIN":return(0,o.t)("fullscreen.properties_panel.constraints.top");case"MAX":return(0,o.t)("fullscreen.properties_panel.constraints.bottom");case"STRETCH":return(0,o.t)("fullscreen.properties_panel.constraints.top_and_bottom");case"CENTER":return(0,o.t)("fullscreen.properties_panel.constraints.center");case"SCALE":return(0,o.t)("fullscreen.properties_panel.constraints.scale");default:return""}}}}class h{constructor(){this.format=e=>{switch(e){case"INNER_SHADOW":return(0,o.t)("fullscreen.properties_panel.effects.inner_shadow");case"DROP_SHADOW":return(0,o.t)("fullscreen.properties_panel.effects.drop_shadow");case"FOREGROUND_BLUR":return(0,o.t)("fullscreen.properties_panel.effects.layer_blur");case"BACKGROUND_BLUR":return(0,o.t)("fullscreen.properties_panel.effects.background_blur");default:return""}}}}class g{constructor(e){this.scene=e}hasNameForNode(e){return e===a.AD||null==e||!!this.scene.get(e)}format(e){if((0,l.gl)(e))return(0,o.t)("fullscreen.mixed");if(e===a.AD||null==e)return(0,o.t)("proto.node_name_formatter.none");let t=this.scene.get(e);return t?t.stateAbbreviatedName||t.name:(0,o.t)("proto.node_name_formatter.missing")}}function f(e){if(!(0,l.hS)(e.connectionType))return l.oV;let t=(0,l._W)(e.connectionType,"NONE"),r=(0,l._W)(e.mediaAction,"PLAY");switch(t){case"NONE":return"NONE";case"INTERNAL_NODE":if(!(0,l.hS)(e.navigationType))return l.oV;switch((0,l._W)(e.navigationType,"NAVIGATE")){case"NAVIGATE":return"NAVIGATE_TO";case"OVERLAY":return"OPEN_OVERLAY";case"SCROLL_TO":return"SCROLL_TO";case"SWAP":return"SWAP_WITH";case"SWAP_STATE":return"SWAP_STATE_TO"}case"BACK":return"GO_BACK";case"CLOSE":return"CLOSE_OVERLAY";case"URL":return"OPEN_URL";case"SET_VARIABLE":return"SET_VARIABLE";case"SET_VARIABLE_MODE":return"SET_VARIABLE_MODE";case"UPDATE_MEDIA_RUNTIME":switch(r){case"PLAY":return"UPDATE_MEDIA_PLAY";case"PAUSE":return"UPDATE_MEDIA_PAUSE";case"TOGGLE_PLAY_PAUSE":return"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE";case"MUTE":return"UPDATE_MEDIA_MUTE";case"UNMUTE":return"UPDATE_MEDIA_UNMUTE";case"TOGGLE_MUTE_UNMUTE":return"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE";case"SKIP_FORWARD":return"UPDATE_MEDIA_SKIP_FORWARD";case"SKIP_BACKWARD":return"UPDATE_MEDIA_SKIP_BACKWARD";case"SKIP_TO":return"UPDATE_MEDIA_SKIP_TO"}case"CONDITIONAL":return"CONDITIONAL"}}function E(e){if("UPDATE_MEDIA_RUNTIME"===e.connectionType){if((0,l.gl)(e.mediaAction))return l.oV;switch((0,l._W)(e.mediaAction,"PLAY")){case"PLAY":case"PAUSE":case"TOGGLE_PLAY_PAUSE":return"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS";case"MUTE":case"UNMUTE":case"TOGGLE_MUTE_UNMUTE":return"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS";case"SKIP_FORWARD":case"SKIP_BACKWARD":return"UPDATE_MEDIA_SKIP_BY_OPTIONS";case"SKIP_TO":return"UPDATE_MEDIA_SKIP_TO"}}return f(e)}function y(e){if(!e)return"NONE";if("URL"===e.connectionType)return"OPEN_URL";if("BACK"===e.connectionType)return"GO_BACK";if("CLOSE"===e.connectionType)return"CLOSE_OVERLAY";if("INTERNAL_NODE"===e.connectionType)switch(e.navigationType){case void 0:case null:case"NAVIGATE":return"NAVIGATE_TO";case"SCROLL_TO":return"SCROLL_TO";case"OVERLAY":return"OPEN_OVERLAY";case"SWAP":return"SWAP_WITH";case"SWAP_STATE":return"SWAP_STATE_TO"}if("SET_VARIABLE"===e.connectionType)return"SET_VARIABLE";if("SET_VARIABLE_MODE"===e.connectionType)return"SET_VARIABLE_MODE";if("UPDATE_MEDIA_RUNTIME"===e.connectionType)switch(e.mediaAction){case void 0:case"PLAY":return"UPDATE_MEDIA_PLAY";case"PAUSE":return"UPDATE_MEDIA_PAUSE";case"TOGGLE_PLAY_PAUSE":return"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE";case"MUTE":return"UPDATE_MEDIA_MUTE";case"UNMUTE":return"UPDATE_MEDIA_UNMUTE";case"TOGGLE_MUTE_UNMUTE":return"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE";case"SKIP_FORWARD":return"UPDATE_MEDIA_SKIP_FORWARD";case"SKIP_BACKWARD":return"UPDATE_MEDIA_SKIP_BACKWARD";case"SKIP_TO":return"UPDATE_MEDIA_SKIP_TO"}return"CONDITIONAL"===e.connectionType?"CONDITIONAL":("NONE"===e.connectionType||console.warn("Unknown connection type",e.connectionType),"NONE")}class b{format(e){switch(e){case"NONE":return(0,o.t)("proto.action_none");case"NAVIGATE_TO":return(0,o.t)("proto.action_navigate_to");case"OPEN_OVERLAY":return(0,o.t)("proto.action_open_overlay");case"SCROLL_TO":return(0,o.t)("proto.action_scroll_to");case"SWAP_WITH":return(0,o.t)("proto.action_swap_overlay");case"SWAP_STATE_TO":return(0,o.t)("proto.action_change_to");case"GO_BACK":return(0,o.t)("proto.action_back");case"CLOSE_OVERLAY":return(0,o.t)("proto.action_close_overlay");case"OPEN_URL":return(0,o.t)("proto.action_open_link");case"SET_VARIABLE":return(0,o.t)("proto.action_set_variable");case"SET_VARIABLE_MODE":return(0,o.t)("proto.action_set_variable_mode");case"UPDATE_MEDIA_PLAY":return(0,o.t)("proto.action_update_media_play_only");case"UPDATE_MEDIA_PAUSE":return(0,o.t)("proto.action_update_media_pause_only");case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":return(0,o.t)("proto.action_update_media_toggle");case"UPDATE_MEDIA_MUTE":return(0,o.t)("proto.action_update_media_mute_only");case"UPDATE_MEDIA_UNMUTE":return(0,o.t)("proto.action_update_media_unmute_only");case"UPDATE_MEDIA_SKIP_FORWARD":return(0,o.t)("proto.action_update_media_jump_forward");case"UPDATE_MEDIA_SKIP_BACKWARD":return(0,o.t)("proto.action_update_media_jump_backward");case"UPDATE_MEDIA_SKIP_TO":return(0,o.t)("proto.action_update_media_set_to_specific_time");case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":return(0,o.t)("proto.action_update_media_play_pause_video");case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":return(0,o.t)("proto.action_update_media_mute_unmute_video");case"UPDATE_MEDIA_SKIP_BY_OPTIONS":return(0,o.t)("proto.action_update_media_jump_forward_backward");case"CONDITIONAL":return(0,o.t)("proto.action_conditional");default:return""}}}class v{format(e){switch(e){case"NONE":return(0,o.t)("proto.action_none");case"NAVIGATE_TO":return(0,o.t)("proto.action_navigate_to");case"OPEN_OVERLAY":return(0,o.t)("proto.action_open_overlay");case"SCROLL_TO":return(0,o.t)("proto.action_scroll_to");case"SWAP_WITH":return(0,o.t)("proto.action_swap_overlay");case"SWAP_STATE_TO":return(0,o.t)("proto.action_change_to");case"GO_BACK":return(0,o.t)("proto.action_back");case"CLOSE_OVERLAY":return(0,o.t)("proto.action_close_overlay");case"OPEN_URL":return(0,o.t)("proto.action_open_link");case"SET_VARIABLE":return(0,o.t)("proto.action_set_variable");case"SET_VARIABLE_MODE":return(0,o.t)("proto.action_set_variable_mode");case"UPDATE_MEDIA_PLAY":return(0,o.t)("proto.action_update_media_play");case"UPDATE_MEDIA_PAUSE":return(0,o.t)("proto.action_update_media_pause");case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":return(0,o.t)("proto.action_update_media_toggle");case"UPDATE_MEDIA_MUTE":return(0,o.t)("proto.action_update_media_mute");case"UPDATE_MEDIA_UNMUTE":return(0,o.t)("proto.action_update_media_unmute");case"UPDATE_MEDIA_SKIP_FORWARD":return(0,o.t)("proto.action_update_media_forward");case"UPDATE_MEDIA_SKIP_BACKWARD":return(0,o.t)("proto.action_update_media_backward");case"UPDATE_MEDIA_SKIP_TO":return(0,o.t)("proto.action_update_media_set_time");case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":return(0,o.t)("proto.action_update_media_play_pause");case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":return(0,o.t)("proto.action_update_media_mute_unmute");case"UPDATE_MEDIA_SKIP_BY_OPTIONS":return(0,o.t)("proto.action_update_media_jump_time");case"CONDITIONAL":return(0,o.t)("proto.action_conditional");default:return""}}}class I{format(e){switch(e){case"NONE":return(0,o.t)("proto.action_none_interaction");case"NAVIGATE_TO":return(0,o.t)("proto.action_navigate_to_interaction");case"OPEN_OVERLAY":return(0,o.t)("proto.action_open_overlay_interaction");case"SCROLL_TO":return(0,o.t)("proto.action_scroll_to_interaction");case"SWAP_WITH":return(0,o.t)("proto.action_swap_overlay_interaction");case"SWAP_STATE_TO":return(0,o.t)("proto.action_change_to_interaction");case"GO_BACK":return(0,o.t)("proto.action_back_interaction");case"CLOSE_OVERLAY":return(0,o.t)("proto.action_close_overlay_interaction");case"OPEN_URL":return(0,o.t)("proto.action_open_link_interaction");case"SET_VARIABLE":return(0,o.t)("proto.action_set_variable_interaction");case"SET_VARIABLE_MODE":return(0,o.t)("proto.action_set_variable_mode_interaction");case"UPDATE_MEDIA_PLAY":return(0,o.t)("proto.action_update_media_play_interaction");case"UPDATE_MEDIA_PAUSE":return(0,o.t)("proto.action_update_media_pause_interaction");case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":return(0,o.t)("proto.action_update_media_toggle_interaction");case"UPDATE_MEDIA_MUTE":return(0,o.t)("proto.action_update_media_mute_interaction");case"UPDATE_MEDIA_UNMUTE":return(0,o.t)("proto.action_update_media_unmute_interaction");case"UPDATE_MEDIA_SKIP_FORWARD":return(0,o.t)("proto.action_update_media_forward_interaction");case"UPDATE_MEDIA_SKIP_BACKWARD":return(0,o.t)("proto.action_update_media_backward_interaction");case"UPDATE_MEDIA_SKIP_TO":return(0,o.t)("proto.action_update_media_set_time_interaction");case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":return(0,o.t)("proto.action_update_media_play_pause_interaction");case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":return(0,o.t)("proto.action_update_media_mute_unmute_interaction");case"UPDATE_MEDIA_SKIP_BY_OPTIONS":return(0,o.t)("proto.action_update_media_jump_time_interaction");case"CONDITIONAL":return(0,o.t)("proto.action_conditional_interaction");default:return""}}}class T{constructor(){this.oneHourInSeconds=3600,this.secondsFormatter=new s.ag(s.i5.SECONDS,this.oneHourInSeconds),this.timestampFormatter=new s.f0(this.oneHourInSeconds,!0)}format(e){if(!e||!(0,l.hS)(e))return(0,o.t)("proto.action_none");let t=(0,l.hS)(e.mediaSkipToTime)?e.mediaSkipToTime??0:0,r=(0,l.hS)(e.mediaSkipByAmount)?e.mediaSkipByAmount??5:5,n=this.secondsFormatter.format(r),a=this.timestampFormatter.format(t);if("UPDATE_MEDIA_RUNTIME"===e.connectionType)switch(e.mediaAction){case"TOGGLE_PLAY_PAUSE":return(0,o.t)("proto.action_update_media_play_pause");case"PLAY":return(0,o.t)("proto.action_update_media_play");case"PAUSE":return(0,o.t)("proto.action_update_media_pause");case"TOGGLE_MUTE_UNMUTE":return(0,o.t)("proto.action_update_media_mute_unmute");case"MUTE":return(0,o.t)("proto.action_update_media_mute");case"UNMUTE":return(0,o.t)("proto.action_update_media_unmute");case"SKIP_FORWARD":return`${(0,o.t)("proto.action_update_media_jump")} (+${n})`;case"SKIP_BACKWARD":return`${(0,o.t)("proto.action_update_media_jump")} (-${n})`;case"SKIP_TO":return`${(0,o.t)("proto.action_update_media_set")} (${a})`}return i.k.error("You should not be using PrototypeVideoActionSidebarFormatter to format non-video actions!"),""}}let S=()=>(0,o.t)("proto.interaction.type.mouse_enter_deprecated"),w=()=>(0,o.t)("proto.interaction.type.mouse_leave_deprecated");class A{constructor(){this.format=e=>{if(null==e)return(0,o.t)("proto.interaction.type.none");switch(e){case"NONE":return(0,o.t)("proto.interaction.type.none");case"ON_CLICK":return(0,o.t)("proto.interaction.type.on_click");case"ON_HOVER":return(0,o.t)("proto.interaction.type.while_hovering");case"ON_PRESS":return(0,o.t)("proto.interaction.type.while_pressing");case"DRAG":return(0,o.t)("proto.interaction.type.on_drag");case"MOUSE_IN":return S();case"MOUSE_OUT":return w();case"MOUSE_ENTER":return(0,o.t)("proto.interaction.type.mouse_enter");case"MOUSE_LEAVE":return(0,o.t)("proto.interaction.type.mouse_leave");case"MOUSE_DOWN":return(0,o.t)("proto.interaction.type.mouse_down");case"MOUSE_UP":return(0,o.t)("proto.interaction.type.mouse_up");case"AFTER_TIMEOUT":return(0,o.t)("proto.interaction.type.after_delay");case"ON_KEY_DOWN":return(0,o.t)("proto.interaction.type.key_gamepad");case"ON_VOICE":return(0,o.t)("proto.interaction.type.on_voice");case"ON_MEDIA_HIT":return(0,o.t)("proto.interaction.type.when_video_hits");case"ON_MEDIA_END":return(0,o.t)("proto.interaction.type.when_video_ends");default:(0,n.xb)(e)}}}}class C{constructor(){this.format=e=>{if(null==e)return(0,o.t)("proto.interaction.type.none");switch(e){case"NONE":return(0,o.t)("proto.interaction.type.none");case"ON_CLICK":return(0,o.t)("proto.interaction.type.on_tap");case"ON_HOVER":return(0,o.t)("proto.interaction.type.while_hovering");case"ON_PRESS":return(0,o.t)("proto.interaction.type.while_pressing");case"DRAG":return(0,o.t)("proto.interaction.type.on_drag");case"MOUSE_IN":return S();case"MOUSE_OUT":return w();case"MOUSE_ENTER":return(0,o.t)("proto.interaction.type.mouse_enter");case"MOUSE_LEAVE":return(0,o.t)("proto.interaction.type.mouse_leave");case"MOUSE_DOWN":return(0,o.t)("proto.interaction.type.touch_down");case"MOUSE_UP":return(0,o.t)("proto.interaction.type.touch_up");case"AFTER_TIMEOUT":return(0,o.t)("proto.interaction.type.after_delay");case"ON_KEY_DOWN":return(0,o.t)("proto.interaction.type.key_gamepad");case"ON_VOICE":return(0,o.t)("proto.interaction.type.on_voice");case"ON_MEDIA_HIT":return(0,o.t)("proto.interaction.type.when_video_hits");case"ON_MEDIA_END":return(0,o.t)("proto.interaction.type.when_video_ends");default:(0,n.xb)(e)}}}}class N{constructor(){this.format=e=>{if(null==e)return(0,o.t)("proto.interaction.type.none");switch(e){case"NONE":return(0,o.t)("proto.interaction.type.none");case"ON_CLICK":return(0,o.t)("proto.interaction.type.click");case"ON_HOVER":return(0,o.t)("proto.interaction.type.hover");case"ON_PRESS":return(0,o.t)("proto.interaction.type.press");case"DRAG":return(0,o.t)("proto.interaction.type.drag");case"MOUSE_IN":return S();case"MOUSE_OUT":return w();case"MOUSE_ENTER":return(0,o.t)("proto.interaction.type.mouse_enter");case"MOUSE_LEAVE":return(0,o.t)("proto.interaction.type.mouse_leave");case"MOUSE_DOWN":return(0,o.t)("proto.interaction.type.mouse_down");case"MOUSE_UP":return(0,o.t)("proto.interaction.type.mouse_up");case"AFTER_TIMEOUT":return(0,o.t)("proto.interaction.type.delay");case"ON_KEY_DOWN":return(0,o.t)("proto.interaction.type.key");case"ON_VOICE":return(0,o.t)("proto.interaction.type.voice");case"ON_MEDIA_HIT":return(0,o.t)("proto.interaction.type.video_hits");case"ON_MEDIA_END":return(0,o.t)("proto.interaction.type.video_ends");default:return(0,n.xb)(e)}}}}class O{constructor(){this.format=e=>{if(null==e)return(0,o.t)("proto.interaction.type.none");switch(e){case"NONE":return(0,o.t)("proto.interaction.type.none");case"ON_CLICK":return(0,o.t)("proto.interaction.type.tap");case"ON_HOVER":return(0,o.t)("proto.interaction.type.hover");case"ON_PRESS":return(0,o.t)("proto.interaction.type.press");case"DRAG":return(0,o.t)("proto.interaction.type.drag");case"MOUSE_IN":return S();case"MOUSE_OUT":return w();case"MOUSE_ENTER":return(0,o.t)("proto.interaction.type.mouse_enter");case"MOUSE_LEAVE":return(0,o.t)("proto.interaction.type.mouse_leave");case"MOUSE_DOWN":return(0,o.t)("proto.interaction.type.touch_down");case"MOUSE_UP":return(0,o.t)("proto.interaction.type.touch_up");case"AFTER_TIMEOUT":return(0,o.t)("proto.interaction.type.delay");case"ON_KEY_DOWN":return(0,o.t)("proto.interaction.type.key");case"ON_VOICE":return(0,o.t)("proto.interaction.type.voice");case"ON_MEDIA_HIT":return(0,o.t)("proto.interaction.type.video_hits");case"ON_MEDIA_END":return(0,o.t)("proto.interaction.type.video_ends");default:return(0,n.xb)(e)}}}}class L{constructor(){this.format=e=>{switch(e){case"CENTER":return(0,o.t)("proto.overlay_position_centered");case"TOP_LEFT":return(0,o.t)("proto.overlay_position_top_left");case"TOP_CENTER":return(0,o.t)("proto.overlay_position_top_center");case"TOP_RIGHT":return(0,o.t)("proto.overlay_position_top_right");case"BOTTOM_LEFT":return(0,o.t)("proto.overlay_position_bottom_left");case"BOTTOM_CENTER":return(0,o.t)("proto.overlay_position_bottom_center");case"BOTTOM_RIGHT":return(0,o.t)("proto.overlay_position_bottom_right");case"MANUAL":return(0,o.t)("proto.overlay_position_manual");default:return""}}}}class R{constructor(){this.format=e=>{switch(e){case"SQUARE":return(0,o.t)("whiteboard.shapes.square");case"ROUNDED_RECTANGLE":return(0,o.t)("whiteboard.shapes.rounded_rectangle");case"DIAMOND":return(0,o.t)("whiteboard.shapes.diamond");case"ELLIPSE":return(0,o.t)("whiteboard.shapes.ellipse");case"TRIANGLE_UP":return(0,o.t)("whiteboard.shapes.triangle");case"TRIANGLE_DOWN":return(0,o.t)("whiteboard.shapes.downward_pointing_triangle");case"PARALLELOGRAM_LEFT":return(0,o.t)("whiteboard.shapes.left_leaning_parallelogram");case"PARALLELOGRAM_RIGHT":return(0,o.t)("whiteboard.shapes.right_leaning_parallelogram");case"ENG_DATABASE":return(0,o.t)("whiteboard.shapes.cylinder");case"ENG_QUEUE":return(0,o.t)("whiteboard.shapes.horizontal_cylinder");case"ENG_FILE":return(0,o.t)("whiteboard.shapes.file");case"ENG_FOLDER":return(0,o.t)("whiteboard.shapes.folder");case"TRAPEZOID":return(0,o.t)("whiteboard.shapes.trapezoid");case"STAR":return(0,o.t)("whiteboard.shapes.star");case"SHIELD":return(0,o.t)("whiteboard.shapes.shield");case"HEXAGON":return(0,o.t)("whiteboard.shapes.hexagon");case"PENTAGON":return(0,o.t)("whiteboard.shapes.pentagon");case"OCTAGON":return(0,o.t)("whiteboard.shapes.octagon");case"PLUS":return(0,o.t)("whiteboard.shapes.plus");case"PREDEFINED_PROCESS":return(0,o.t)("whiteboard.shapes.predefined_process");case"MANUAL_INPUT":return(0,o.t)("whiteboard.shapes.manual_input");case"CHEVRON":return(0,o.t)("whiteboard.shapes.chevron");case"DOCUMENT_SINGLE":return(0,o.t)("whiteboard.shapes.document_single");case"DOCUMENT_MULTIPLE":return(0,o.t)("whiteboard.shapes.document_multiple");case"ARROW_LEFT":return(0,o.t)("whiteboard.shapes.arrow_left");case"ARROW_RIGHT":return(0,o.t)("whiteboard.shapes.arrow_right");case"SUMMING_JUNCTION":return(0,o.t)("whiteboard.shapes.summing_junction");case"OR":return(0,o.t)("whiteboard.shapes.or");case"SPEECH_BUBBLE":return(0,o.t)("whiteboard.shapes.speech_bubble");case"INTERNAL_STORAGE":return(0,o.t)("whiteboard.shapes.internal_storage");case"MINDMAP_TREE_NUCLEUS":return(0,o.t)("whiteboard.shapes.mindmap");default:return""}}}}class P{constructor(){this.format=e=>{switch(e){case"BASIC":return(0,o.t)("whiteboard.shape_collection_type.basic");case"DIAGRAMMING":return(0,o.t)("whiteboard.shape_collection_type.flowchart");case"MISC":return(0,o.t)("whiteboard.shape_collection_type.misc");default:return""}}}}class k{constructor(){this.format=e=>{switch(e){case"PASS_THROUGH":return(0,o.t)("fullscreen.properties_panel.blend_mode.pass_through");case"NORMAL":return(0,o.t)("fullscreen.properties_panel.blend_mode.normal");case"DARKEN":return(0,o.t)("fullscreen.properties_panel.blend_mode.darken");case"MULTIPLY":return(0,o.t)("fullscreen.properties_panel.blend_mode.multiply");case"LINEAR_BURN":return(0,o.t)("fullscreen.properties_panel.blend_mode.linear_burn");case"COLOR_BURN":return(0,o.t)("fullscreen.properties_panel.blend_mode.color_burn");case"LIGHTEN":return(0,o.t)("fullscreen.properties_panel.blend_mode.lighten");case"SCREEN":return(0,o.t)("fullscreen.properties_panel.blend_mode.screen");case"LINEAR_DODGE":return(0,o.t)("fullscreen.properties_panel.blend_mode.linear_dodge");case"COLOR_DODGE":return(0,o.t)("fullscreen.properties_panel.blend_mode.color_dodge");case"OVERLAY":return(0,o.t)("fullscreen.properties_panel.blend_mode.overlay");case"SOFT_LIGHT":return(0,o.t)("fullscreen.properties_panel.blend_mode.soft_light");case"HARD_LIGHT":return(0,o.t)("fullscreen.properties_panel.blend_mode.hard_light");case"DIFFERENCE":return(0,o.t)("fullscreen.properties_panel.blend_mode.difference");case"EXCLUSION":return(0,o.t)("fullscreen.properties_panel.blend_mode.exclusion");case"HUE":return(0,o.t)("fullscreen.properties_panel.blend_mode.hue");case"SATURATION":return(0,o.t)("fullscreen.properties_panel.blend_mode.saturation");case"COLOR":return(0,o.t)("fullscreen.properties_panel.blend_mode.color");case"LUMINOSITY":return(0,o.t)("fullscreen.properties_panel.blend_mode.luminosity")}}}}let D={format(e){switch(e){case"SCROLLS":return(0,o.t)("proto.scroll_panel.position_dropdown.scroll_with_parent");case"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME":return(0,o.t)("proto.scroll_panel.position_dropdown.fixed_stay_in_place");case"STICKY_SCROLLS":return(0,o.t)("proto.scroll_panel.position_dropdown.sticky_stop_at_top_edge")}}},M={format(e){switch(e){case"SCROLLS":return(0,o.t)("proto.scroll_panel.position_dropdown.scroll_with_parent");case"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME":return(0,o.t)("proto.scroll_panel.position_dropdown.fixed");case"STICKY_SCROLLS":return(0,o.t)("proto.scroll_panel.position_dropdown.sticky")}}},x={format(e){switch(e){case"NONE":return(0,o.t)("proto.scroll_panel.overflow_dropdown.no_scrolling");case"HORIZONTAL":return(0,o.t)("proto.scroll_panel.overflow_dropdown.horizontal");case"VERTICAL":return(0,o.t)("proto.scroll_panel.overflow_dropdown.vertical");case"BOTH":return(0,o.t)("proto.scroll_panel.overflow_dropdown.both_directions")}}}},297336:(e,t,r)=>{"use strict";r.d(t,{OU:()=>a,mc:()=>o,vx:()=>i});var n=r(531664);function i(e,t){return null!=e[t]&&e[t]>0}function a(e,t){for(let r in e)if(!t.includes(r))return!1;return!0}function o(e,t){return Object.keys(e).some(r=>r in e&&!(0,n.c2)(t[r],e[r],!1))}r(848661)},74930:(e,t,r)=>{"use strict";r.d(t,{B:()=>c,M:()=>d});var n=r(411855),i=r(178323),a=r(497306),o=r(341860);class l{constructor(){this.allTemplateInfo=new Set,this.nodeGUIDsToTemplate=new Map,l.instance=this}static removeInstance(){l.instance=void 0}trackNodesAsTemplate(e,t,r,n){let i=o.qo.instance;if(Array.from(t).forEach(e=>{s(i.get(e))||t.delete(e)}),0===t.size)return;let a=Math.floor(.1*t.size),l={templateId:e,fileKey:r,nodeGUIDs:t,trackedNodeCount:t.size,deletionThreshold:a,creationMethod:n};this.allTemplateInfo.add(l),t.forEach(e=>this.nodeGUIDsToTemplate.set(e,l))}checkForTemplateNodesDeletion(e){0!==this.allTemplateInfo.size&&e.forEach(e=>this.checkForTemplateNodeDeletion(e))}checkForTemplateNodeDeletion(e){let t=this.nodeGUIDsToTemplate.get(e);if(!t)return;this.nodeGUIDsToTemplate.delete(e);let r=t.nodeGUIDs;r.delete(e),r.size<=t.deletionThreshold&&(this.stopTrackingTemplate(t),(0,i._)("template_deleted",{templateId:t.templateId,fileKey:t.fileKey,productType:"figjam",trackedNodeCount:t.trackedNodeCount,creationMethod:t.creationMethod}))}stopTrackingTemplate(e){this.allTemplateInfo.delete(e),e.nodeGUIDs.forEach(e=>this.nodeGUIDsToTemplate.delete(e))}}let s=e=>!!e&&("CANVAS"===e.type?e.visible:s(e.parentNode));async function c(e,t,r,n,{enableTracking:i=!0}={}){let o=l.instance;if(!i||!o)return await n();let s=(0,a.UP)(),c=await n(),d=new Set((0,a.UP)());return s.forEach(e=>d.delete(e)),t||(t="null"),o.trackNodesAsTemplate(e(),d,t,r),c}function d(){(0,n.useEffect)(()=>{let e=new l,t=o.qo.instance.onDelete(t=>e.checkForTemplateNodesDeletion(t));return()=>{t(),l.removeInstance()}},[])}},521033:(e,t,r)=>{"use strict";r.d(t,{J:()=>p,c:()=>m});var n=r(411855),i=r(188507),a=r(243742),o=r(568214),l=r(428654),s=r(809831),c=r(774191),d=r(852800),u=r(168039);function p(){var e;let t=(0,s.ow)(),r=(0,i.d4)(e=>e.mirror.appModel.currentPage),a=(0,i.d4)(e=>{var t,n;return null==(n=null==(t=e.mirror.sceneGraph)?void 0:t.get(r))?void 0:n.backgroundColor}),p=(0,u.DP)(),m=(0,n.useMemo)(()=>l.F.format(a),[a]);if(t){let t=null==(e=d.DV9)?void 0:e.getWhiteboardCanvasColor();return t?l.F.format((0,c.aH)(t)):"#ffffff"}return a?m:(0,o.Bx)(p)}function m(){let e="ui3"===(0,a.DP)().version,t=p();(0,n.useLayoutEffect)(()=>{e&&document.documentElement.style.setProperty("--canvas-color",t)},[t,e])}},601208:(e,t,r)=>{"use strict";r.d(t,{Jt:()=>p,U:()=>m,mg:()=>u});var n=r(411855),i=r(188507),a=r(776250),o=r(966712),l=r(499737),s=r(743282),c=r(738269),d=r(279453),u=(e=>(e[e.ReloadNow=0]="ReloadNow",e[e.ReloadWhenConvenient=1]="ReloadWhenConvenient",e))(u||{});function p(e,t){var r;let n=null==(r=(0,o.Ay)().user_data)?void 0:r.id;if(n&&e.target_user_id===n){let r=(0,a.pp)();if((0,a.sx)("lg_realtime_client_reload",{userId:n,msgTargetUserId:e.target_user_id,analyticsAnonymousId:r,source:t,msgClientId:e.client_id}),!e.client_id||!r||e.client_id!==r)return 0}else if(e.target_version&&e.target_version!==(0,o.Ay)().release_manifest_hash)return 1}function m(){let e=(0,i.wA)(),t=function(){var e;let t=n.useMemo(()=>(0,s.g)(),[]),r=(0,l.Rs)(d.oMw,{cacheNonce:t},{enabled:!!(0,o.kc)().livegraph_client_reload_migration_dark_reads});return n.useMemo(()=>{if("loaded"===r.status){let e=r.data.clientReload;if(e)return 0===p({target_user_id:e.targetUserId,client_id:e.clientId},"livegraph")}return!1},[r.status,null==(e=r.data)?void 0:e.clientReload])}();n.useEffect(()=>{(0,o.kc)().livegraph_client_reload_migration_full_reads&&t&&e(c.Dl({now:!0}))},[e,t])}},484653:(e,t,r)=>{"use strict";r.d(t,{LO:()=>g,Oo:()=>m,ff:()=>p});var n=r(188507),i=r(243742),a=r(91408),o=r(374626),l=r(489604),s=r(617453),c=r(100197),d=r(507956),u=r(146935);function p(){let e=(0,o.md)(l.uc);return(0,c.J2)((0,s.UK)().renderRulers)||e}function m(){return(0,o.md)(l.uc)}let _=(0,a.jz)(u.leftNavLeftMarginUI3),h=(0,a.jz)(u.propertiesPanelRightMarginUI3);function g(){let e="ui3"===(0,i.DP)().version,t=(0,d.ks)(),r=(0,n.d4)(({mirror:{appModel:e}})=>e.showUi),o=(0,s.dP)()+_,l=(0,s.qw)(),c=(0,s.UX)(),p=e&&r?o:0;return(0,s.lK)()&&r&&(p+=e?(0,a.jz)(u.ui3RulerMargin):(0,a.jz)(u.rulerThickness)),{left:p,right:e&&r?(t?c:l)+h:0}}},809831:(e,t,r)=>{"use strict";r.d(t,{AU:()=>l,E3:()=>m,Em:()=>p,HW:()=>s,JV:()=>h,N2:()=>d,lg:()=>c,my:()=>_,ow:()=>u,u8:()=>g});var n=r(188507),i=r(529928),a=r(99506),o=r(239671);function l(e){return e&&"fullscreen"===e.view?(0,o.oD)(e.editorType):a._Y.DESIGN}function s(){return"prototype"===(0,n.d4)(e=>e.selectedView).view}function c(){return l((0,n.d4)(e=>e.selectedView))}let d=(0,i.bt)(e=>l(e.selectedView));function u(){return c()===a._Y.WHITEBOARD}function p(){return c()===a._Y.DESIGN}function m(){let e=(0,n.d4)(e=>e.selectedView);return"fullscreen"!==e.view?o.nT.Design:e.editorType}function _(){return h((0,n.d4)(e=>e.selectedView))}function h(e){return"fullscreen"!==e.view?null:e.editorType}let g=(0,i.bt)(e=>h(e.selectedView))},984472:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>d,bT:()=>u,xy:()=>c});var n=r(411855),i=r(374626),a=r(86538),o=r(809831),l=r(215822),s=r(507956);function c(e,t){let r=(0,o.my)();return(0,n.useMemo)(()=>(0,l.NW)(r,e,t),[r,t,e])}function d(e){let t=(0,o.my)();return(0,n.useMemo)(()=>(0,l.AG)(t,e),[t,e])}function u(e){let t=(0,s.ks)(),r=(0,i.md)(a.RB)&&t;return(0,n.useMemo)(()=>r?e.filter(e=>(0,l.pk)(e)):e,[r,e])}},151166:(e,t,r)=>{"use strict";r.d(t,{B:()=>u,N:()=>p});var n=r(188507),i=r(511617),a=r(737947),o=r(761870),l=r(939863),s=r(662275),c=r(344202),d=r(601538);function u(){let e=(0,n.wA)();return({origin:t,formState:r})=>{e(o.I.init({origin:t,formState:r,redirectUrl:(0,i.dR)(a.Ay.location.pathname,{[d.ao.key]:d.ao.value}),signedUpFromOpenSession:!0})),e(s.to({type:c.x,data:{headerText:(0,l.t)("fullscreen.toolbar.to_save_this_board_create_an_account")}}))}}let p=()=>(0,n.d4)(e=>{var t;return!!(null==(t=e.openFile)?void 0:t.isTryFile)})},198371:(e,t,r)=>{"use strict";r.d(t,{$D:()=>m,DG:()=>u,Kc:()=>d,dk:()=>_,nF:()=>p});var n=r(411855),i=r(188507),a=r(38580),o=r(374626),l=r(499737),s=r(279453),c=r(479296);let d=(0,a.eU)(null),u=(0,c.D)((e,t=!1)=>{let r=(0,l.Rs)(s.JKh,{fileKey:e},{enabled:!!e});return(0,n.useMemo)(()=>"loaded"!==r.status?t?{enabled:!0,until:new Date,id:"fallback"}:{enabled:!1}:r.data.figFileWorkshopMode&&new Date<r.data.figFileWorkshopMode.expiresAt?{enabled:!0,until:r.data.figFileWorkshopMode.expiresAt,id:r.data.figFileWorkshopMode.id}:{enabled:!1},[r,t])});function p(e=!1){let t=(0,i.d4)(e=>e.openFile);return u((null==t?void 0:t.key)||"",e)}function m(e=!1){return p(e).enabled}function _(e){let t=o.zl.get(d);return!!e&&!!t&&new Date<t&&!e.isTryFile}},480952:(e,t,r)=>{"use strict";r.d(t,{VA:()=>L,b$:()=>A,c4:()=>S,uj:()=>O});var n=r(411855),i=r(188507),a=r(302245),o=r(794272),l=r(966712),s=r(103907),c=r(324597),d=r(12493),u=r(697551),p=r(678340),m=r(335682),_=r(694687),h=r(147206),g=r(428467),f=r(284321),E=r(984968),y=r(239671),b=r(279145),v=r(963067),I=r(756085),T=r(886119);function S(){let e=(0,I.Be)(),t=(0,T.BF)(),r=(0,T.km)(),i=(0,I.ll)(),a=(0,o.R)(e=>A(e));return(0,n.useMemo)(()=>{let n=(0,l.kc)().wqa_include_org_plugins?{orgSavedPlugins:e.orgPlugins,orgSavedWidgets:e.orgWidgets,orgPrivatePlugins:t,orgPrivateWidgets:r}:{},o=e.plugins;return{...a,...n,allSavedPlugins:o,pluginAllowlist:i}},[a,i,t,r,e.orgPlugins,e.orgWidgets,e.plugins])}let w={};function A(e){var t;let r=(0,y.oD)(e.selectedView.editorType);return{openFile:e.openFile,publishedPlugins:e.publishedPlugins,allSavedPlugins:w,recentlyUsedPlugins:(0,u.gS)((0,y.wN)(r),e.recentlyUsed,e.localPlugins),localExtensions:e.localPlugins,orgEntity:(0,u.Jl)(e),org:(0,_.td)(e.currentUserOrgId,e.orgById)??null,isReadOnly:e.mirror.appModel.isReadOnly,userCanRunPlugins:(0,h.GP)(e),editorType:(0,y.wN)(r),widgetSelectionInfo:null==(t=e.mirror.selectionProperties)?void 0:t.selectedWidgetInfo,activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin,publishedWidgets:e.publishedWidgets}}let C=(0,a.Mz)([m.tB,g.getPermissionsStateMemoized,e=>e.selectedView.editorType,e=>e.mirror.appModel.topLevelMode,e=>e.mirror.appModel.multiplayerSessionState,e=>(0,E.ZT)(e)||null,(e,t)=>t],(e,t,r,n,i,a,o)=>(0,d.gW)(e,t,r,o.warningLevel,n,i,o.isRecovery,a)),N=(0,a.Mz)([C,e=>e.saveAsState,e=>e.mirror.appModel.topLevelMode,(e,t)=>t],(e,t,r,n)=>({branchingActionsStatus:e,saveAsState:t,topLevelMode:r,unreadCommentCount:n.unreadCommentCount,isOrgMember:n.isOrgMember}));function O(){let{warningLevel:e}=(0,p.Mk)(),t=(0,s.n6)(),r=(0,d.TY)(),a=(0,v.U5)(),l=(0,n.useMemo)(()=>({warningLevel:e,unreadCommentCount:t,isRecovery:r,isOrgMember:a||!1}),[a,r,t,e]),u=(0,i.d4)(e=>N(e,l)),m=S(),_=(0,i.d4)(e=>e.theme.themePreference),h=(0,o.R)(e=>({canZoomIn:(0,b.Yh)(e.mirror.appModel,"zoom-in"),canZoomOut:(0,b.Yh)(e.mirror.appModel,"zoom-out")})),g=(0,o.R)(e=>({isPublishingModalDisabled:(0,f.LD)(e)}));return(0,n.useMemo)(()=>(0,c.pB)({fileMenuArgs:u,pluginAndWidgetMenuArgs:m,theme:_,backToFileArgs:{shouldShowBackToFiles:!1},zoomArgs:h,publishingModalArgs:g}),[u,m,g,_,h])}function L(e,{fullscreenMemoryWarningLevel:t,unreadCommentCount:r,pluginAndWidgetMenuArgs:n,isRecovery:i}){let a=(0,E.ZT)(e)||null;return(0,c.pB)({fileMenuArgs:{branchingActionsStatus:(0,d.gW)((0,m.tB)(e),(0,g.getPermissionsState)(e),e.selectedView.editorType,t,e.mirror.appModel.topLevelMode,e.mirror.appModel.multiplayerSessionState,i,a),saveAsState:e.saveAsState,topLevelMode:e.mirror.appModel.topLevelMode,unreadCommentCount:r,isOrgMember:(0,g.canMemberOrg)(e.currentUserOrgId,e)},pluginAndWidgetMenuArgs:n,theme:e.theme.themePreference,backToFileArgs:{shouldShowBackToFiles:!1},zoomArgs:{canZoomIn:(0,b.Yh)(e.mirror.appModel,"zoom-in"),canZoomOut:(0,b.Yh)(e.mirror.appModel,"zoom-out")},publishingModalArgs:{isPublishingModalDisabled:(0,f.LD)(e)}})}},877645:(e,t,r)=>{"use strict";r.d(t,{B:()=>u,v:()=>d});var n=r(411855),i=r(841563),a=r.n(i),o=r(499737),l=r(857766),s=r(279453),c=r(971646);function d(e){let t=(0,o.Rs)(s.ZzU,{figFileKey:null!=e?(0,l.Kz)(e)?e.sourceFileKey:e.key:""},{enabled:null!=e});return n.useMemo(()=>{var e,r,n;if("loaded"!==t.status)return;let i=null==(e=t.data)?void 0:e.figFileLinkExpirationConfig,a=null==(r=t.data)?void 0:r.file;if(!i)return;let o=(0,c.d4)(i);return{file:a,accessReverted:!!i.accessReverted,expiresAt:null==(n=i.expiresAt)?void 0:n.toISOString(),activeExpiration:null==o?void 0:o.toISOString()}},[t])}function u(e,t){let r=(0,o.Rs)(s.L1I,{fileKey:e.key,teamId:e.teamId,projectId:e.folderId,repoId:e.fileRepoId,currentOrgId:t}),i=(0,l.Kz)(e);return n.useMemo(()=>{var e,n;if(!t||"loaded"!==r.status)return;let o=null==(e=r.data)?void 0:e.file;if(!o)return;let l=p(o),s=!1;return i&&(s=a()(l,p(o,!1))),{filePermissionsData:l,isBranch:i,branchMatchesRepo:s,linkExpiresAt:o.fileLinkExpirationConfig?o.fileLinkExpirationConfig.expiresAt:null==(n=o.sourceFileLinkExpirationConfig)?void 0:n.expiresAt}},[r,t,i])}function p(e,t=!0){let r=t&&e.repo?e.repo:e;return{link_access:r.linkAccess,proto_link_access:r.protoLinkAccess,org_audience:!!r.orgAudience,org_browsable:!!r.orgBrowsable,has_file_link_password:!!r.hasFileLinkPassword,has_proto_link_password:!!e.hasProtoLinkPassword,parent_org_id:e.parentOrgId}}},475820:(e,t,r)=>{"use strict";r.d(t,{Gq:()=>c,cQ:()=>l,fQ:()=>d,q3:()=>o,tU:()=>u});var n=r(99506),i=r(679892);let a=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{1,9})?Z?$/;function o(e,t,r){let n=new Set(t.map(e=>e[r])),i=new Set(e.map(e=>e[r]));return{missingIds:[...i].filter(e=>!n.has(e)),extraIds:[...n].filter(e=>!i.has(e))}}function l(e,t,r=()=>!1,n){let i=[],a=[],o={},l=t.reduce((e,t)=>(e.set(t[n],t),e),new Map),s=e.reduce((e,t)=>(e.set(t[n],t),e),new Map);for(let t of e){let e=t[n],a=l.get(e);if(a){let i=c(t,a,r,[],"",e);i.length&&(o[t[n]]=i)}else i.push(e);l.delete(t[n])}for(let e of l.values()){let t=e[n],i=s.get(t);if(i){let n=c(i,e,r,[],"",t);n.length&&(o[t]=n)}else a.push(t)}return{lgMissingIds:i,lgExtraIds:a,differences:o}}function s(e){return"object"==typeof e&&null!==e}function c(e,t,r,n,i,o){if(Array.isArray(e)||Array.isArray(t)){if(!Array.isArray(e)||!Array.isArray(t))return n.push({id:o,key:i,sinatraValue:e,lgValue:t}),n;let a=Math.max(e.length,t.length);for(let l=0;l<a;l++){let a=e[l],d=t[l];if(s(a)&&s(d)){c(a,d,r,n,`${i}[${l}]`,o);continue}a!==d&&n.push({id:o,key:`${i}[${l}]`,sinatraValue:a,lgValue:d})}return n}for(let l of new Set([...Object.keys(e),...Object.keys(t)])){if(r(l))continue;let d=e[l],u=t[l],p=i?`${i}.${l}`:l;if(s(d)&&s(u)){c(d,u,r,n,p,o);continue}l.endsWith("_at")&&"string"==typeof d&&"string"==typeof u&&a.test(d)&&a.test(u)&&(null==d?void 0:d.substring(0,17))===(null==u?void 0:u.substring(0,17))||d===u||n.push({id:o,key:p,sinatraValue:d,lgValue:u})}return n}function d(e,t,r=!1){var a,o,l;let s;let c=e.user.idpUsersInOrg[0];return{type:i.Wd.ORG_USER,user:{id:e.user.id,handle:e.user.handle,img_url:e.user.imgUrl,email:e.user.email},account_type:e.accountType,is_email_validated:null!==e.user.emailValidatedAt,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.user.id,permission:e.permission,created_at:e.createdAt.toISOString(),updated_at:e.updatedAt.toISOString(),show_figjam_user_onboarding:e.showFigjamUserOnboarding,has_shown_figjam_admin_onboarding:e.hasShownFigjamAdminOnboarding,has_shown_figjam_admin_launch_onboarding:e.hasShownFigjamAdminLaunchOnboarding,account_type_changed_at:e.accountTypeChangedAt?e.accountTypeChangedAt.toISOString():void 0,description:e.description,user_state_changed_at:e.userStateChangedAt?e.userStateChangedAt.toISOString():void 0,agreed_to_community_tos_at:e.agreedToCommunityTosAt?e.agreedToCommunityTosAt.toISOString():null,license_admin:!!(null==(a=e.licenseGroupAdmins)?void 0:a.length),license_group_member:e.licenseGroupMember?{id:e.licenseGroupMember.id,license_group_id:null==(o=e.licenseGroupMember)?void 0:o.licenseGroupId,org_user_id:e.licenseGroupMember.orgUserId,created_at:e.licenseGroupMember.createdAt.toISOString(),updated_at:e.licenseGroupMember.updatedAt.toISOString(),assigned_at:e.licenseGroupMember.assignedAt?e.licenseGroupMember.assignedAt.toISOString():"",update_reason:e.licenseGroupMember.updateReason,actor_user_id:e.licenseGroupMember.actorUserId}:void 0,ecc_upgrading_locked:e.permission===n._D.GUEST&&null!==e.user.externalRestrictedOrgId,scim_metadata:c?function(e){let t={};return e?(e.costCenter&&(t[n.U0.COST_CENTER]=e.costCenter),e.department&&(t[n.U0.DEPARTMENT]=e.department),e.division&&(t[n.U0.DIVISION]=e.division),e.organization&&(t[n.U0.ORGANIZATION]=e.organization),t):{}}(c.scim.enterpriseFields):null,last_seen:null==t?void 0:t.lastSeen,last_design_seen:null==t?void 0:t.lastDesignSeen,last_whiteboard_seen:null==t?void 0:t.lastWhiteboardSeen,last_edit:null==t?void 0:t.lastEdit,last_design_edit:null==t?void 0:t.lastDesignEdit,last_whiteboard_edit:null==t?void 0:t.lastWhiteboardEdit,last_dev_mode_seen:null==t?void 0:t.lastDevModeSeen,whiteboard_paid_status:e.whiteboardPaidStatus||n.El.STARTER,drafts_folder_id:e.draftsFolderId,disabled_at:e.disabledAt?e.disabledAt.toISOString():void 0,scim_account_type:c?m(c.scim,n.G_.DESIGN,r):null,scim_whiteboard_paid_status:c?m(c.scim,n.G_.WHITEBOARD,r):null,scim_dev_mode_paid_status:c?m(c.scim,n.G_.DEV_MODE,r):null,scim_is_admin:c?(l=c.scim,s=null,r&&l.figmaEnterpriseFields&&(s=l.figmaEnterpriseFields.figmaAdmin),s):null,dev_mode_paid_status:e.devModePaidStatus||n.El.RESTRICTED,design_upgrade_reason:_(e.mostRecentDesignUserUpgrade),whiteboard_upgrade_reason:_(e.mostRecentWhiteboardUserUpgrade),dev_mode_upgrade_reason:_(e.mostRecentDevModeUserUpgrade),workspace_users:e.workspaceUsers.map(p),is_dev_mode_beta_user:!!e.devModeBetaUsedEvent}}function u(e){let t=[],r=e.orgAdminUsersInfo.canRoleSetWithScim;for(let a of e.orgAdminUsers)switch(a.type){case"org_user":let e=a.orgUser;if(!e)continue;t.push(d(e,a,r));break;case"idp_user":let o=a.idpUser;if(!o)continue;t.push({id:o.id,type:i.Wd.IDP_USER,email:o.userName.toLowerCase(),name:function(e){let t=e.scim;if(t.displayName)return t.displayName;if(t.name){let e=`${t.name.givenName} ${t.name.familyName}`.trim();if(e)return e}return t.userName?t.userName:null}(o),account_type:m(o.scim,n.G_.DESIGN,r),scim_metadata:o.scim.enterpriseFields||{},whiteboard_paid_status:m(o.scim,n.G_.WHITEBOARD,r),dev_mode_paid_status:m(o.scim,n.G_.DEV_MODE,r)});break;case"org_invite":let l=a.orgInvite;if(!l)continue;t.push({type:i.Wd.ORG_INVITE,id:l.id,org_id:l.orgId,email:l.email,account_type:l.accountType,created_at:l.createdAt.toISOString(),updated_at:l.updatedAt.toISOString(),license_group_id:l.licenseGroupId,workspace_id:l.workspaceId})}return t}function p(e){return{actor_user_id:e.actorUserId,assigned_at:e.assignedAt,created_at:e.createdAt,id:e.id,is_main_workspace:e.isMainWorkspace,org_user_id:e.orgUserId,permission:e.permission,update_reason:e.updateReason,updated_at:e.updatedAt,uuid:e.uuid,workspace_id:e.workspaceId}}function m(e,t,r){var i,a,o;let l=null;switch(t){case n.G_.DESIGN:l=(null==(i=e.figmaEnterpriseFields)?void 0:i.figmaPermission)||e.figmaPermission;break;case n.G_.WHITEBOARD:l=(null==(a=e.figmaEnterpriseFields)?void 0:a.figjamPermission)||e.figjamPermission;break;case n.G_.DEV_MODE:l=(null==(o=e.figmaEnterpriseFields)?void 0:o.devModePermission)||e.devModePermission}return l&&!r?null:"editor"===l||"full"===l?n.El.FULL:"viewerRestricted"===l||"lockLimited"===l?n.El.RESTRICTED:null}function _(e){var t,r,i,a,o,l;if(!e)return null;let s=null;e.resourceType===n._5.FILE?s=null==(t=e.resourceFile)?void 0:t.file:e.resourceType===n._5.FOLDER?s=null==(r=e.resourceProject)?void 0:r.project:e.resourceType===n._5.TEAM?s=null==(i=e.resourceTeam)?void 0:i.team:e.resourceType===n._5.FILE_REPO?s=null==(a=e.resourceRepo)?void 0:a.repo:e.resourceType===n._5.ORG&&(s=null==(o=e.resourceOrg)?void 0:o.org);let c=null;return s&&null!==s.name?c=s.name:e.resourceId&&e.resourceType&&(c=`resource ${e.resourceId}`),{org_user_id:e.orgUserId,reason:e.reason,created_at:e.createdAt.toISOString(),actor_id:e.actorId,actor_name:(null==(l=e.actor)?void 0:l.handle)||null,resource_type:e.resourceType,resource_id_or_key:e.resourceId,resource_name:c,editor_type:e.licenseType}}},892677:(e,t,r)=>{"use strict";r.d(t,{s:()=>m,v:()=>h});var n=r(38329),i=r(374626),a=r(38580),o=r(499737),l=r(195847),s=r(335682),c=r(860178),d=r(279453),u=r(479296),p=r(151166);let m=(0,u.D)(()=>{let e=(0,i.md)(s.ze);return(0,o.Rs)(d.jmg,{fileKey:e||""})}),_=(0,a.eU)(!1);function h(){var e;let t=n.D.getState().selectedView,r=(null==t?void 0:t.view)==="fullscreen"?t.claim:null,a=(0,p.B)(),s=(0,c.iZ)(),d=m(),[u,h]=(0,i.fp)(_);if("loaded"!==d.status)return()=>{};if((0,o.oA)(null==(e=d.data)?void 0:e.deviceTryFile)&&t&&r&&!s&&!u){if("signup"===r)return()=>{h(!0),a({origin:"google_hardware_claim_file",formState:l.qB.SIGN_UP})};if("login"===r)return()=>{h(!0),a({origin:"google_hardware_claim_file",formState:l.qB.SIGN_IN})}}return()=>{}}},529982:(e,t,r)=>{"use strict";r.d(t,{m:()=>o,z:()=>l});var n=r(411855),i=r(717068);function a(e,t,r){if(!t.getSortValue)return;let n=r.isReversed,a=n;t.sortReversed&&(n=!n),t.sortSecondaryReversed&&(a=!a),t.sortNumerically?(0,i.hR)(e,t.getSortValue,n,t.getSecondarySortValue,a):(0,i.v7)(e,t.getSortValue,{isDescending:n,isSecondaryDescending:a},t.getSecondarySortValue)}function o(e,t,r,n){if(0===t.length)return e;let i=new Set(t),o=[...e,...t];a(o,r,n);let l=new Map,s={},c=s;o.forEach(e=>{i.has(e)?(l.has(c)||l.set(c,[]),l.get(c).push(e)):c=e});let d=[];return l.has(s)&&d.push(...l.get(s)),e.forEach(e=>{d.push(e),l.has(e)&&d.push(...l.get(e))}),d}function l(e,t,r){let[i,o]=n.useState(e),l=n.useCallback(e=>{o({columnName:e,isReversed:i.columnName===e&&!i.isReversed})},[i.columnName,i.isReversed]),s=n.useMemo(()=>{let e=[...t],n=r.find(e=>e.name===i.columnName);return n&&n.getSortValue&&a(e,n,i),e},[r,t,i]);return[i,l,s]}},963067:(e,t,r)=>{"use strict";r.d(t,{Cb:()=>c,U5:()=>d,W$:()=>p,Yo:()=>s,yy:()=>u});var n=r(188507),i=r(207286),a=r(697551),o=r(694687),l=r(99506);function s(){let e=(0,n.d4)(e=>e);return(0,a.Jl)(e)}function c(){let e=(0,o.sZ)();return(0,n.d4)(t=>{var r;return e&&(null==(r=t.orgUsersByOrgId.orgUsers[e.id][t.user.id])?void 0:r.permission)===l._D.GUEST})}function d(){let e=(0,o.sZ)(),t=(0,n.d4)(t=>{var r;return e&&(null==(r=t.orgUsersByOrgId.orgUsers[e.id][t.user.id])?void 0:r.permission)});return t&&t!==l._D.GUEST}function u(){return(0,n.d4)(e=>{var t;return(null==(t=e.openFile)?void 0:t.parentOrgId)&&e.orgById[e.openFile.parentOrgId]||void 0})}function p(){var e;let t=(0,o.dq)(),r=(0,i.Xf)(t);return"loaded"!==r.status?[]:(null==(e=r.data)?void 0:e.invoices)||[]}},6949:(e,t,r)=>{"use strict";r.d(t,{B8:()=>Q,Ew:()=>Z,LQ:()=>X,YM:()=>H,a9:()=>F,hC:()=>q,n:()=>W,oj:()=>U,oo:()=>Y,vu:()=>B});var n=r(411855),i=r(188507),a=r(841563),o=r.n(a),l=r(776250),s=r(935283),c=r(966159),d=r(157663),u=r(358145),p=r(733556),m=r(966712),_=r(309225),h=r(499737),g=r(586459),f=r(179940),E=r(743282),y=r(881388),b=r(939863),v=r(581063),I=r(783162),T=r(193360),S=r(582410),w=r(720647),A=r(694687),C=r(99506),N=r(279453),O=r(296796),L=r(912458),R=r(596607),P=r(916525),k=r(66037),D=r(679892),M=r(475820);let x=1e4;function F(){return(0,i.d4)(e=>(0,R.xw)(e))}function U(e){let[t,r]=n.useState(!1),[a,o]=n.useState(!1),[l,s]=n.useState(!1),[c,d]=n.useState(null),u=(0,i.wA)();return n.useEffect(()=>{(async()=>{if(!t&&!a&&!l){r(!0);try{let t=await D.Eh.getOrgUsersCount({orgId:e});d(t.data.meta.org_user_count),o(!0),r(!1)}catch(e){u(y.s.error((0,b.t)("org_user_actions.an_error_occurred_while_fetching_member_counts"))),r(!1),o(!1),s(!0)}}})()},[e,a,t,l,u]),[a,c]}function B(e,t,r){let[i,a]=n.useState((0,h.Xm)()),o=n.useRef(null),l=()=>{o.current&&(clearTimeout(o.current),o.current=null)},s=n.useCallback(async()=>await D.Eh.getOrgUsersFilterCounts({searchQuery:t,product:r.productFilter?r.productFilter:void 0,licenseGroupId:r.licenseGroupFilter||void 0,workspaceId:r.workspaceFilter||void 0,permission:r.permissionFilter||void 0,role:r.roleFilter||void 0,orgId:e}),[r.licenseGroupFilter,r.workspaceFilter,r.permissionFilter,r.productFilter,r.roleFilter,e,t]),d=(0,p.J)(()=>(l(),s()),[s]);return n.useEffect(()=>{(0,c.xj)(d)?a((0,h.gB)(d.value.data.meta)):(0,c.ok)(d)?a((0,h.e1)([])):a((0,h.Xm)())},[d]),{filterCountsViewResult:i,queueFilterCountsRefetch:n.useCallback(()=>{l(),o.current=setTimeout(async()=>{a((0,h.Xm)());try{let e=await s();a((0,h.gB)(e.data.meta))}catch(e){a((0,h.e1)([]))}},x)},[s])}}function H({orgId:e,includeLicenseAdmins:t=!0}){let[r,a]=n.useState(!1),[o,l]=n.useState(!1),[s,c]=n.useState(!1),[d,u]=n.useState([]),p=(0,i.wA)();return n.useEffect(()=>{(async()=>{if(!r&&!o&&!s){a(!0);try{let r=await D.Eh.getAdmins({includeLicenseAdmins:!!t,orgId:e});u(r.data.meta),l(!0),a(!1)}catch(e){p(y.s.error((0,b.t)("org_user_actions.an_error_occurred_fetching_org_admins"))),a(!1),l(!1),c(!0)}}})()},[e,t,o,r,s,p]),{isFetched:o,orgAdmins:d}}class V extends Error{}let G=async(e,t,r)=>{var n,i;let{cursor:a,searchQuery:o,sort:s,filter:c,firstPageSize:d,signal:u,minimalFields:p}=r,m=null===a?(d||25).toString():null;try{let e=Date.now();(0,l.sx)("Org Admin Members V2 Fetch Initiated",{orgId:t,...r.extraLoggingData,isInitialLoad:null===a,minimalFields:p});let n=D.Eh.getOrgUsersPaginatedV2({orgId:t,pageSize:m,after:a,searchQuery:o,sort:s?(0,L.n)(s):void 0,filter:c?(0,O.nG)(c):void 0,minimalFields:p}),i=await n;(0,l.sx)("Org Admin Members V2 Fetch Succeeded",{orgId:t,durationMs:Date.now()-e,...r.extraLoggingData,isInitialLoad:null===a,minimalFields:p});let d=[...i.data.meta.users||[]],_=i.data.meta.cursor,h=S.kH.withOverrides({[w.lM.DEV_MODE]:"devMode",[w.lM.FIGJAM]:"whiteboard"}).withSuffix("EditorCutoff").dict(e=>i.data.meta[e]),g=i.data.meta.totalUserCount;if(null==u?void 0:u.aborted)throw new V;return{users:d,newCursor:_,editorCutoffs:h,totalUserCount:g}}catch(t){if(!(t instanceof V)){let r=(null==(n=t.data)?void 0:n.status)===422?null==(i=t.data)?void 0:i.message:t.message;e(y.s.error(r||(0,b.t)("org_user_actions.an_error_occurred_fetching_org_users")))}return t}};async function W(e,t,r){let{users:n,newCursor:i,editorCutoffs:a,totalUserCount:o}=await G(e,t,r);return K(t,e,n),{users:n,newCursor:i,editorCutoffs:a,totalUserCount:o}}let K=(e,t,r)=>{let n=[],i=[],a=[];r.forEach(e=>{switch(e.type){case D.Wd.ORG_USER:if(!("org_id"in e))break;n.push(e);break;case D.Wd.IDP_USER:i.push(e);break;case D.Wd.ORG_INVITE:a.push(e)}}),t(T.hZ({orgUsers:n,orgId:e})),i&&t(v.$({idpUsers:i})),a&&t(I.hZ(a))};function Y({searchQuery:e,sort:t,filter:r,firstPageSize:a,setDesignEditorDiff:c,setWhiteboardEditorDiff:p,setDevModeEditorDiff:_}){let h=(0,i.wA)(),f=(0,i.d4)(({currentUserOrgId:e})=>e),[E,y]=n.useState(void 0),[b,v]=n.useState(void 0),[I,T]=n.useState(void 0),S=(0,u.ZC)(e),A=(0,u.ZC)(t),N=(0,u.ZC)(r),O=S!==e||!o()(A,t)||!o()(N,r),[L,R]=n.useState("hidden"===document.visibilityState),[P,x]=n.useState(!navigator.onLine);n.useEffect(()=>{let e=()=>x(!0);return window.addEventListener("offline",e),()=>window.removeEventListener("offline",e)},[]),n.useEffect(()=>{let e=()=>{"hidden"===document.visibilityState&&R(!0)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]);let F=!!(0,m.kc)().org_admin_lg_dark_read2,U=!!(0,m.kc)().org_admin_livegraph,B=$(f,O,h,!U,{searchQuery:e,sort:t,filter:r,firstPageSize:a,extraLoggingData:{hasBeenOffline:P,hasBeenBackgrounded:L}}),H=j(f,O,h,U,{searchQuery:e,sort:t,filter:r,firstPageSize:a,extraLoggingData:{hasBeenOffline:P,hasBeenBackgrounded:L}}),[V,G]=n.useState(!1);n.useEffect(()=>{if(B.status!==g.r.SUCCESS||H.status!==g.r.SUCCESS||V)return;let{missingIds:e,extraIds:t}=(0,M.q3)(B.sortedUsers,H.sortedUsers,"id");(e.length>0||t.length>0)&&((0,l.sx)("Org Admin Members Table Sinatra vs LG Comparison",{orgId:f,lgMissingIds:JSON.stringify(e),lgExtraIds:JSON.stringify(t)}),console.log(e,t)),G(!0)},[V,H.sortedUsers,H.status,f,B.sortedUsers,B.status]);let[W,K]=n.useState(0);n.useEffect(()=>{O&&(G(!1),K(0))},[O]),n.useEffect(()=>{if(B.status===g.r.SUCCESS&&H.status===g.r.SUCCESS)try{let e=B.sortedUsers.slice(W);if(0===e.length)return;let{differences:t}=(0,M.cQ)(e.slice(0,H.sortedUsers.length),H.sortedUsers,e=>"redeemed_by"===e||"license_group_admins"===e||e.endsWith("_internal_only_written_by_backfill"),"id");K(B.sortedUsers.length);let r=(0,M.Gq)(B.editorCutoffs||{},H.editorCutoffs||{},()=>!1,[],"",""),n={userDiscrepancies:t,editorCutoffDiscrepancies:r};(0,l.sx)("Org Admin Members Table Sinatra vs LG Comparison",{orgId:f,differences:JSON.stringify(n)}),console.log("Org Admin discrepancies:",n)}catch(e){(0,l.sx)("Org Admin Members Table Sinatra vs LG Comparison",{orgId:f,error:JSON.stringify(e)}),console.log(e)}},[V,W,H.editorCutoffs,H.sortedUsers,H.status,f,B.editorCutoffs,B.sortedUsers,B.status]);let Y=U?H.status:B.status,z=U?H.editorCutoffs:B.editorCutoffs,Z=U?H.sortedUsers:B.sortedUsers,q=U?H.queueRefetch:B.queueRefetch,J=n.useCallback(()=>{var e,t;null==(e=B.fetchMore)||e.call(B),F&&(null==(t=H.fetchMore)||t.call(H))},[F,H,B]),X=n.useCallback(()=>{var e,t;null==(e=H.fetchMore)||e.call(H),null==(t=B.fetchMore)||t.call(B)},[H,B]),ee=U?H.fetchMore?X:void 0:B.fetchMore?J:void 0,et=(0,i.d4)(e=>{let t=e.currentUserOrgId;return e.orgUsersByOrgId.orgUsers[t]}),er=(0,i.d4)(e=>e.idpUserById),en=n.useMemo(()=>(function(e,t,r){let n=[],i=new Set,a=[];return e.forEach(e=>{if(e.type===D.Wd.ORG_USER){let r=t[e.user_id];r?i.has(e.user_id)?a.push(e.user_id):(n.push(r),i.add(e.user_id)):d.k.warn(`sortedUsers returned a user (${e.type}-${e.id}) that is not in redux`)}else{let t=r.idpUsers[e.id];t&&(e.type===D.Wd.ORG_INVITE&&t.isOrgInvite||e.type===D.Wd.IDP_USER&&!t.isOrgInvite)?i.has(e.id)?a.push(e.id):(n.push(t),i.add(e.id)):d.k.warn(`sortedUsers returned a user (${e.type}-${e.id}) that is not in redux`)}}),a.length&&d.k.error(`ERROR: Duplicate user result in sortedUsers: ${a}.`),n})(Z,et,er),[er,et,Z]),ei=n.useCallback(e=>{switch(e){case w.lM.DESIGN:return y;case w.lM.FIGJAM:return v;case w.lM.DEV_MODE:return T;default:(0,s.xb)(e)}},[y,v,T]),ea=n.useCallback(e=>{switch(e){case w.lM.DESIGN:return c;case w.lM.FIGJAM:return p;case w.lM.DEV_MODE:return _;default:(0,s.xb)(e)}},[c,p,_]),eo=n.useCallback((e,t,r)=>{let n=[];if(r===w.lM.DESIGN&&t===C.El.FULL){let i=e.map(e=>(0,k.x0)(e,r));n.push({licenseType:w.lM.DESIGN,fromAccountTypes:i,toAccountType:t});let a=e.map(e=>(0,k.x0)(e,w.lM.DEV_MODE));n.push({licenseType:w.lM.DEV_MODE,fromAccountTypes:a,toAccountType:C.El.RESTRICTED})}else n.push({licenseType:r,fromAccountTypes:e.map(e=>(0,k.x0)(e,r)),toAccountType:t});return n},[]),el=n.useCallback((e,t,r,n)=>{eo(e,t,r).forEach(e=>{let t=e.licenseType,r=ei(t),i=ea(t);r(t=>(function(e,t,r,n,i){let a=0,o=r!==C.El.FULL;if(t.forEach(e=>{e===C.El.FULL&&(a-=1)}),r===C.El.FULL&&(a+=t.length),0!==a&&(null==i||i(a)),e&&!Q(e)){let t=e.buffer-a,r=e.orgUserIds||[];return{buffer:t,orgUserIds:(o?r.filter(e=>!n.includes(e)):[...new Set(r.concat(n))]).slice(t)}}if(!e||!o)return e;{let t=e.editor_count+a;return t<=0?{buffer:-1*t,orgUserIds:t?n.slice(-1*t):[]}:{...e,editor_count:t}}})(t,e.fromAccountTypes,e.toAccountType,n,i))})},[eo,ei,ea]);return n.useEffect(()=>{Y===g.r.SUCCESS&&(y(null==z?void 0:z.design),v(null==z?void 0:z.figjam),T(null==z?void 0:z.dev_mode))},[z,Y]),{status:Y,sortedUsers:en,fetchMore:ee,queueRefetch:q,newDesignEditorCutoff:E,newWhiteboardEditorCutoff:b,newDevModeEditorCutoff:I,updateNewEditorBuffer:el}}let j=(e,t,r,a,o)=>{var s,c,d,u;let p=!!(0,m.kc)().org_admin_lg_dark_read2,h=!!(0,m.kc)().org_admin_livegraph,f=function({searchQuery:e,sort:t,filter:r,firstPageSize:a},o){let s=(0,i.d4)(({currentUserOrgId:e})=>e),c=n.useMemo(()=>({stuckMs:1e4,onEvent:(e,t,r,n)=>(function(e,t,r,n,i){let a={lgEvent:t,traceId:n.traceId,hasBeenOffline:n.wasOffline,hasBeenBackgrounded:n.wasBackgrounded,timeElapsedMs:n.timeElapsedMs,orgId:e,errors:JSON.stringify(r.errors)};if("initiated"===t)a.viewArgs=JSON.stringify(n.viewArgs);else if("stuck"===t){let e=(0,_.WB)().session.getViewSubscriptionsForDebugging(),t=[];for(let r in e)r.includes("OrgAdminUserView")&&t.push(e[r]);a.lgInfraLayerSubs=JSON.stringify(t)}else"canceled"===t&&(a.nextTraceId=null==i?void 0:i.nextTraceId);(0,l.sx)("Org Admin Members Table LG",a)})(s,e,t,r,n)}),[s]),d=n.useMemo(()=>ee(s,{searchQuery:e,filter:r,sort:t,firstPageSize:a}),[r,a,s,e,t]);return(0,_.oS)(N.w2r,d,{enabled:o,subscriptionLogger:c})}(o,p||h),[y,b]=n.useState([]),[v,I]=n.useState(g.r.LOADING);n.useEffect(()=>{if("loaded"===f.status){I(g.r.SUCCESS);let t=(0,M.tU)(f.data);b(t),a&&K(e,r,t)}else"errors"===f.status&&I(g.r.FAILURE)},[r,f.data,f.status,e,a,v]);let T=n.useCallback(()=>{var e,t;null==(t=null==(e=f.data)?void 0:e.orgAdminUsers)||t.loadNext(100)},[null==(s=f.data)?void 0:s.orgAdminUsers]),S=(null==(d=null==(c=f.data)?void 0:c.orgAdminUsers)?void 0:d.hasNextPage())?T:void 0;return{sortedUsers:y,editorCutoffs:n.useMemo(()=>{if("loaded"!==f.status||!f.data.org)return;let e=z(f.data.org.newDesignEditors),t=z(f.data.org.newFigjamEditors),r=z(f.data.org.newDevmodeEditors);if(e&&t&&r)return{design:e,figjam:t,dev_mode:r}},[null==(u=f.data)?void 0:u.org,f.status]),queueRefetch:n.useCallback((t=x)=>{setTimeout(()=>{(0,_.Ek)(N.w2r,ee(e,o,(0,E.g)())).then(t=>{if("loaded"!==t.status)return;let n=(0,M.tU)(t.data);K(e,r,n),b(n)},e=>{throw e})},t)},[r,o,e]),status:v,fetchMore:S}};function z(e){return e.cutoff?{editor_count:e.cutoff.editorCount,org_user_id:e.cutoff.orgUserId,timestamp:e.cutoff.timestamp}:e.buffer?{buffer:e.buffer.buffer,orgUserIds:e.buffer.orgUserIds||[]}:null}let $=(e,t,r,i,a)=>{let{searchQuery:o,sort:l,filter:s,firstPageSize:d,extraLoggingData:u}=a,[m,_]=n.useState([]),[h,g]=n.useState(void 0),[f,E]=n.useState(null),y=n.useRef(),b=n.useRef(null),v=()=>{b.current&&(clearTimeout(b.current),b.current=null)};n.useEffect(()=>{t&&_([])},[t]);let I=(0,p.J)(({reset:n})=>{var a,c;return n(),v(),null==(a=y.current)||a.abort(),y.current=new AbortController,G(r,e,{cursor:t?null:f,searchQuery:o,sort:l,filter:s,firstPageSize:d,signal:null==(c=y.current)?void 0:c.signal,minimalFields:!1,extraLoggingData:u}).then(n=>{let{users:a}=n;return i&&K(e,r,a),_([...t?[]:m,...a]),g(n.editorCutoffs),n})},[r,e,f,o,JSON.stringify(l),JSON.stringify(s),d]),T=n.useCallback((t=x)=>{v(),b.current=setTimeout(()=>{var t;return W(r,e,{cursor:null,searchQuery:o,sort:l,filter:s,firstPageSize:d,minimalFields:!1,signal:null==(t=y.current)?void 0:t.signal}).then(e=>{let{users:t,editorCutoffs:r}=e;return _([...t]),g(r),e})},t)},[r,e,f,o,JSON.stringify(l),JSON.stringify(s),d]),S=(0,c.xj)(I)&&I.value.newCursor?()=>E(I.value.newCursor):void 0;return{sortedUsers:m,editorCutoffs:h,queueRefetch:T,status:I.status,fetchMore:S}};function Z({searchQuery:e,filter:t,selectedAll:r}){let a=(0,i.wA)(),l=(0,i.d4)(({currentUserOrgId:e})=>e),[s,d]=n.useState(null),[m,_]=n.useState({}),[h,f]=n.useState(null),E=(0,u.ZC)(e),y=(0,u.ZC)(t),b=(0,u.ZC)(r),v=E!==e||!o()(y,t)||!b&&r,I={...P.J0,...t},T=!r||"provisional"===I.permissionFilter;n.useEffect(()=>{v&&(_({}),f(null))},[v]);let S=(0,p.J)(({reset:t})=>(t(),T)?Promise.resolve({users:[],newCursor:null,totalUserCount:0}):(null===I.permissionFilter&&(I.permissionFilter="not_provisional"),W(a,l,{cursor:v?null:s,searchQuery:e,filter:I,minimalFields:!0})),[a,l,s,e,r,JSON.stringify(t)]);n.useEffect(()=>{if((0,c.xj)(S)){let{users:e,newCursor:t,totalUserCount:r}=S.value;_(t=>{let r={...v?{}:t};return e.forEach(e=>r[e.id]=e),r}),f(r),t&&d(t)}},[v,S]);let w=(0,c.xj)(S)&&null===S.value.newCursor,A=Object.values(m);return{status:w?g.r.SUCCESS:(0,c.xj)(S)?g.r.LOADING:S.status,users:A,totalSelectable:w&&!T?A.length:h}}function q(){let e=F();return J((0,A.sZ)(),e)}function J(e,t){return!!(e&&e.are_custom_templates_allowed&&t)}function X(e){let t=(0,R.xw)(e);return J(e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,t)}function Q(e){return!!e&&"org_user_id"in e&&void 0!==e.org_user_id}function ee(e,{searchQuery:t,sort:r,filter:n,firstPageSize:i},a){return{orgId:e,firstPageSize:i||25,refetchToken:a||null,queryParams:`${(0,f.lF)({...t&&{search_query:t},...r&&(0,L.n)(r),...n&&(0,O.nG)(n)})}`}}},884484:(e,t,r)=>{"use strict";r.d(t,{NV:()=>v,OX:()=>b,Pt:()=>I,qi:()=>w,qu:()=>S,x2:()=>T});var n=r(188507),i=r(935283),a=r(939863),o=r(545941),l=r(71425),s=r(442597),c=r(662275),d=r(483990),u=r(860178),p=r(4564),m=r(215822),_=r(555328),h=r(813408),g=r(376485),f=r(749449),E=r(180881),y=r(774620);function b(e){let t;let r=(0,n.wA)(),i=(0,u.TA)();if(!e||i!==e.creator.id)return null;if((0,o.AC)(e))t=(0,a.t)("community.plugins.cancel_review");else if((0,_.m3)(e)){if((0,o.Pg)(e))return null;t=(0,a.t)("community.resource.delist")}else t=(0,a.t)("community.resource.unpublish");return{displayText:t,callback:()=>{r((0,c.to)({type:E.H,data:{plugin:e},showModalsBeneath:!0}))}}}function v(e,t){let r=(0,n.wA)();if(e&&!(0,g.ZQ)(e))return null;let i=e&&!e.error?t?(0,a.t)("community.plugins.publish_new_version"):(0,a.t)("community.resource.publish"):t?t.is_widget?(0,a.t)("community.plugins.edit_resource_details.widget"):(0,a.t)("community.plugins.edit_resource_details.plugin"):void 0;return i?{displayText:i,callback:()=>{r((0,s.r)({localFileId:null==e?void 0:e.localFileId,publishedPluginId:null==t?void 0:t.id,entryPoint:h.k2.EDITOR}))}}:null}function I(e,t){let r=(0,n.wA)();if(!e||!t)return null;switch(e){case g.ho.LOAD:return{action:()=>{let e=t.localFileId;r((0,l.JZ)({resourceType:(0,g.k0)(t)?"widget":"plugin",localFileIdToRemove:e}))},msg:(0,a.t)("universal_insert.missing_manifest"),buttonText:(0,a.t)("universal_insert.locate")};case g.ho.VALIDATE:case g.ho.PARSE:return{action:()=>{r((0,c.to)({type:y.K,data:{localPlugin:t}}))},msg:(0,a.t)("universal_insert.manifest_error"),buttonText:(0,a.t)("universal_insert.see_details")};default:(0,i.xb)(e)}}function T(e,t,r){let i=(0,n.wA)();return{displayText:(0,a.t)("universal_insert.manage_permissions"),callback:()=>{r&&r();let n=e&&(0,g.ZQ)(e)?e.localFileId:void 0;i((0,s.r)({localFileId:n,publishedPluginId:null==t?void 0:t.id,initialTab:f.KM.PERMISSIONS,entryPoint:h.k2.EDITOR}))}}}function S(e){let t=(0,p.M)();return e&&(0,g.ZQ)(e)?{displayText:(0,d.A)((0,m.YQ)()),callback:()=>{t&&t.openExtensionDirectory(e.localFileId)}}:null}function w(e,t){return{displayText:e?(0,a.t)("universal_insert.remove_local_version"):(0,a.t)("universal_insert.remove"),callback:t}}},964197:(e,t,r)=>{"use strict";r.d(t,{a:()=>l});var n=r(411855),i=r(499737),a=r(279453);let o=(e,t,r)=>{let o=(0,i.Rs)(a.i1D,{orgId:e},{enabled:!!e});return n.useMemo(()=>{var e,n,i;if("loaded"===o.status){let a=null==(i=null==(n=null==(e=o.data)?void 0:e.currentUser)?void 0:n.baseOrgUser)?void 0:i.pluginRequests;if(a)return a.filter(e=>{let n=r?e.workspaceId===r:!!e.workspaceId==!!r;return e.pluginId===t&&n})}return[]},[o,r,t])};function l(e,t,r){return o(e,t,r).filter(e=>"pending"===e.status).length>0}},780700:(e,t,r)=>{"use strict";r.d(t,{Gt:()=>w,RK:()=>S,dR:()=>A});var n=r(411855),i=r(188507),a=r(794272),o=r(374626),l=r(776621),s=r(304783),c=r(979385),d=r(785315),u=r(370934),p=r(693897),m=r(738269),_=r(978811),h=r(912177),g=r(809831),f=r(697551),E=r(147206),y=r(215822),b=r(239671),v=r(16774),I=r(756085);function T(){let e=(0,g.E3)(),{orgEntity:t,org:r,openFile:i,isReadOnly:o,userCanRunPlugins:l,activeTextReviewPlugin:s,publishedPlugins:c,publishedWidgets:d}=(0,a.R)(e=>({orgEntity:(0,f.Jl)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,openFile:e.openFile,isReadOnly:e.mirror.appModel.isReadOnly,userCanRunPlugins:(0,E.GP)(e),activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets})),u=(0,I.$1)();return n.useMemo(()=>({openFile:i,localExtensions:u,orgEntity:t,org:r,isReadOnly:o,userCanRunPlugins:l,editorType:e,allSavedPlugins:{},activeTextReviewPlugin:s,publishedPlugins:c,publishedWidgets:d}),[i,u,t,r,o,l,e,s,c,d])}function S(e){let t=(0,I.Be)(),r=t.plugins[e]||t.orgPlugins[e],n=(0,I.cW)()[e];return r||(n?(0,y.Ar)(n):null)}function w(e,t){let r=S(e),a=T(),p=(0,v.b)(),m=(0,c.gB)(),g=(0,i.Pj)(),[f,E]=(0,o.fp)(d.H);return n.useCallback(e=>{if(!r){console.error("Plugin version not found"),(0,l.$D)(s.e.EXTENSIBILITY,Error("Plugin version not found"));return}let n={type:"run-installed-plugin",pluginId:r.plugin_id,command:void 0,parameterOnly:r.manifest.parameters&&!1!==r.manifest.parameterOnly,parameterEntry:(0,_.c)(r.manifest.parameters,r.name)};if((0,y.YG)(r)&&C(g),(0,y.mx)(r)){m((0,u.$n)(r)),C(g),E(d._.PRIMARY);return}(0,h.Im)({...a,allSavedPlugins:{[r.plugin_id]:r}},t,e||n),p()},[r,a,t,p,g,m,E])}function A(e,t){let r=T(),a=Object.values((0,I.$1)()).find(t=>t.plugin_id===e),l=(0,v.b)(),s=(0,c.gB)(),p=(0,i.Pj)(),[m,g]=(0,o.fp)(d.H);return n.useCallback(e=>{if(!a){console.error("Plugin not found");return}let n={type:"run-local-plugin",localFileId:null==a?void 0:a.localFileId,command:void 0,parameterOnly:a.manifest.parameters&&!1!==a.manifest.parameterOnly,parameterEntry:(0,_.c)(a.manifest.parameters,a.name)};if((0,y.YG)(a)&&C(p),(0,y.mx)(a)){s((0,u.$n)(a)),C(p),g(d._.PRIMARY);return}(0,h.Im)(r,t,e||n),l()},[a,r,t,l,p,s,g])}function C(e){let{selectedView:t}=e.getState();"fullscreen"===t.view&&t.editorType===b.nT.Design&&(e.dispatch(m.$T({...t,view:"fullscreen",editorType:b.nT.DevHandoff})),(0,p.Ym)(e.getState(),b.nT.DevHandoff,"plugin_run"))}},756085:(e,t,r)=>{"use strict";r.d(t,{$1:()=>B,B7:()=>ea,Be:()=>e_,CI:()=>J,Dy:()=>en,E$:()=>et,I5:()=>eU,Im:()=>W,JI:()=>ej,LR:()=>q,Lq:()=>z,N3:()=>es,NU:()=>eT,S0:()=>eV,SG:()=>eB,Tg:()=>eA,U6:()=>eD,Ud:()=>eo,WK:()=>G,YN:()=>eY,YO:()=>eO,YW:()=>eb,Ys:()=>ez,ZT:()=>j,_P:()=>eE,b4:()=>eN,bI:()=>Q,bh:()=>ee,cW:()=>Y,cd:()=>ef,f6:()=>X,fG:()=>eG,j1:()=>e$,j8:()=>eW,jA:()=>eZ,jg:()=>K,kd:()=>$,ll:()=>ek,mf:()=>ec,nl:()=>H,op:()=>eq,pR:()=>eg,q3:()=>eh,qT:()=>el,qr:()=>eS,sp:()=>eH,tB:()=>eL,uf:()=>ey,wH:()=>eI,wW:()=>ei,yQ:()=>V});var n=r(411855),i=r(188507),a=r(889012),o=r.n(a),l=r(776250),s=r(531664),c=r(794272),d=r(966712),u=r(499737),p=r(395900),m=r(776621),_=r(304783),h=r(939863),g=r(321476),f=r(392592),E=r(545941),y=r(971120),b=r(956143),v=r(941381),I=r(809831),T=r(258237),S=r(641638),w=r(737499),A=r(335682),C=r(694687),N=r(860178),O=r(99506),L=r(279453),R=r(336599),P=r(147206),k=r(215822),D=r(376485),M=r(508567),x=r(507956),F=r(984472),U=r(720289);function B(e){let t=(0,i.d4)(e=>e.localPlugins);return(0,F.xy)(t,e)}function H(e){let t=B(e);return(0,n.useMemo)(()=>{let e={};for(let r in t){let n=t[r];(0,D.k0)(n)||(e[r]=n)}return e},[t])}function V(){let e=B();return(0,n.useMemo)(()=>{let t={};for(let r in e){let n=e[r];(0,D.k0)(n)&&(t[r]=n)}return t},[e])}function G(e){return Object.values(B()).find(t=>t.plugin_id===e)}function W(){let e=B();return(0,n.useMemo)(()=>{let t={};for(let r in e){let n=e[r];t[n.plugin_id]=n}return t},[e])}function K(){return(0,i.d4)(e=>e.publishingPlugins)}function Y(){let e=(0,i.d4)(e=>e.publishedPlugins),t=(0,I.my)();return(0,n.useMemo)(()=>(0,k.xC)(t,e),[e,t])}let j=()=>(0,i.d4)(e=>e.publishedWidgets);function z(e){let t=Y()[e.id],r=j()[e.id];return e.isWidget?r:t}function $({includePendingPublishers:e=!0}={}){let t=(0,N.TA)(),r=Y();return(0,n.useMemo)(()=>{if(!t)return[];let n=(0,k.i8)(Object.values(r));return(0,k.Q4)((0,k.ky)(n,t,e))},[r,t,e])}function Z(){let e=$(),t=H();return(0,n.useMemo)(()=>Object.values(t).filter(t=>e.every(e=>e.id!==t.plugin_id)),[e,t])}function q(){let e=(0,N.TA)(),t=$(),r=Z();return(0,n.useMemo)(()=>t.reduce((t,r)=>{var n;if(((null==(n=r.plugin_publishers)?void 0:n.pending)??[]).find(t=>t.id===e)){let e=[...t.invitedPlugins,r];return{...t,invitedPlugins:e}}if((0,E.AC)(r)){let e=[...t.pendingReviewPlugins,r];return{...t,pendingReviewPlugins:e}}let i=[...t.approvedPlugins,r];return{...t,approvedPlugins:i}},{invitedPlugins:[],approvedPlugins:[],pendingReviewPlugins:[],developmentPlugins:r}),[e,r,t])}function J(){let e=$(),t=Z();return e.length+t.length}function X(){let e=(0,N.TA)(),t=$();return null!=e?t.filter(t=>(0,T.dN)(t,e)):[]}function Q(e){let t=(0,N.TA)(),r=Y()[e],n=j();if(r)return(0,T.dN)(r,t??"");let i=n[e];return(0,T.dN)(i,t??"")}function ee({includePendingPublishers:e=!0}={}){let t=(0,N.TA)(),r=j();if(!t)return[];let n=(0,k.i8)(Object.values(r));return(0,k.Q4)((0,k.ky)(n,t,e))}function et(){let e=(0,N.TA)(),t=ee(),r=er();return(0,n.useMemo)(()=>t.reduce((t,r)=>{var n;if(((null==(n=r.plugin_publishers)?void 0:n.pending)??[]).find(t=>t.id===e)){let e=[...t.invitedWidgets,r];return{...t,invitedWidgets:e}}if((0,E.AC)(r)){let e=[...t.pendingReviewWidgets,r];return{...t,pendingReviewWidgets:e}}let i=[...t.approvedWidgets,r];return{...t,approvedWidgets:i}},{invitedWidgets:[],approvedWidgets:[],pendingReviewWidgets:[],developmentWidgets:r}),[e,r,t])}function er(){let e=ee(),t=V();return(0,n.useMemo)(()=>Object.values(t).filter(t=>e.every(e=>e.id!==t.plugin_id)),[e,t])}function en(){let e=ee(),t=er();return e.length+t.length}function ei(){let e=(0,N.TA)(),t=ee();return null!=e?t.filter(t=>(0,T.dN)(t,e)):[]}function ea(e){return Object.values($({includePendingPublishers:!1})).find(t=>t.id===e)}function eo(e){return Object.values(ee({includePendingPublishers:!1})).find(t=>t.id===e)}function el(e){try{let t="string"==typeof e?JSON.parse(e):e;t.documentAccess&&"dynamic-page"!==t.documentAccess&&delete t.documentAccess;let r=D.pL.safeParse(t);if(!r.success)return(0,m.$D)(_.e.EXTENSIBILITY,Error("manifest schema parse error"),{extra:{jsonParsedResult:JSON.stringify(t,null,2),rawManifest:JSON.stringify(e,null,2),errors:r.error.format()}}),t;return r.data}catch(t){(0,m.$D)(_.e.EXTENSIBILITY,Error("manifest JSON parse error"),{extra:{rawManifest:e}});return}}function es(e,t){var r,n;if(null===e.current_plugin_version_id)return null;let i=e.versions[e.current_plugin_version_id],a={id:e.current_plugin_version_id,pluginId:e.id,resourceStagingSignature:null,updatedAt:new Date(Date.now()),iconUrl:i.redirect_icon_url,coverImageUrl:i.redirect_cover_image_url,name:i.name,version:i.version,releaseNotes:i.release_notes,description:i.description,tagline:i.tagline,creatorPolicy:i.creator_policy,manifest:JSON.stringify(i.manifest),createdAt:new Date(i.created_at),iconPath:i.redirect_icon_url,coverImagePath:i.redirect_cover_image_url,codePath:i.redirect_code_url,plugin:{currentPluginVersionId:i.id},playgroundFigFileKey:i.playground_fig_file_key??null,hasPlaygroundFile:!!i.playground_fig_file_key,playgroundFileVersionId:i.playground_file_version_id??null,userId:"",snapshotPath:""},o={id:e.id,currentPluginVersionId:e.current_plugin_version_id,publishingStatus:e.publishing_status,isWidget:e.is_widget,orgId:e.org_id,thumbnailUrl:"",userId:"",updatedAt:new Date(Date.now()),createdAt:new Date(e.created_at),unpublishedAt:null,supportContact:e.support_contact,approvedAt:new Date(Date.now()),approvalStatus:null,installCount:e.install_count,likeCount:0,viewCount:e.view_count,blockedAt:null,profileId:"",commentCount:e.comment_count,hideRelatedContentByOthers:e.hide_related_content_by_others??null,isPublic:e.publishing_status===O.KB.APPROVED_PUBLIC,isInspect:"inspect"===e.editor_type,widgetsWhitelistEnforced:null,pluginsWhitelistEnforced:null,installStatus:null,monetizedResourceMetadataId:(null==(r=e.monetized_resource_metadata)?void 0:r.id)??null,thirdPartyM10nStatus:e.third_party_m10n_status??null,monetizationStatus:e.monetization_status??null,canRead:!0,categoryId:"",uniqueRunCount:0,pluginEditorType:0,commentsSetting:"",currentUserFirstRanAt:"",profileInstallStatus:2,redirectThumbnailUrl:"",communityPublishers:(null==(n=e.community_publishers)?void 0:n.accepted.map(t=>({id:t.id,isPending:!1,role:O.un.CREATOR,userId:t.primary_user_id,profileId:t.id,pluginId:e.id,hubFileId:null,profile:{id:t.id,profileHandle:t.profile_handle,team:"team"===t.entity_type?{id:t.id,name:t.name}:null,org:"org"===t.entity_type?{id:t.id,name:t.name}:null,user:"user"===t.entity_type?{id:t.primary_user_id,name:t.name}:null,teamId:"team"===t.entity_type?t.id:null,orgId:"org"===t.entity_type?t.id:null,primaryUserId:"user"===t.entity_type?t.primary_user_id:null,publicAt:new Date(Date.now()),website:null,description:null,location:null,twitter:null,instagram:null,createdAt:new Date(Date.now()),updatedAt:new Date(Date.now()),followerCount:0,followingCount:0,coverImagePath:null,pronouns:null,badges:[],communityUserIsFollowing:t.current_user_is_following,communityUserIsFollowed:t.current_user_is_followed,entityType:t.entity_type,currentUserIsFollowing:!1,currentUserIsFollowed:!1,name:t.name}})))||[],currentPluginVersion:a,viewableInEditor:!0};return{pluginId:e.id,createdAt:new Date(Date.now()),userId:t.userId,orgId:t.orgId,pluginVersionId:e.current_plugin_version_id,plugin:o,pinnedStatus:O.hM.UNPINNED}}function ec(e,t,r,n){var i;if(!e||e.publishingStatus&&[O.KB.ORG_PRIVATE,O.KB.ORG_PRIVATE_PENDING_PUBLIC].includes(e.publishingStatus)&&(!e.orgId||e.orgId!==t)&&!(0,d.kc)().community_hub_admin)return;let a=e.currentPluginVersion;if(!a)return;if(!a.manifest){(0,m.$D)(_.e.EXTENSIBILITY,Error("manifest missing"),{extra:{plugin:e}});return}let o=e.isWidget?"widget":"plugin",l=el(a.manifest);if(!l)return;let s=`?resource_type=${o}&resource_id=${e.id}`;r&&(s+=`&fuid=${r}`);let c={id:a.id,plugin_id:e.id,name:a.name||"",current_plugin_version_id:(null==(i=a.plugin)?void 0:i.currentPluginVersionId)||void 0,version:a.version||"",release_notes:a.releaseNotes||"",is_private:!!e.orgId,description:a.description||"",creator_policy:a.creatorPolicy??"",manifest:l,installed_by:n,tagline:a.tagline||"",created_at:a.createdAt.toString(),redirect_icon_url:`/community/icon${s}`,redirect_cover_image_url:`/community/thumbnail${s}`,redirect_code_url:`/community/${o}/${e.id}/code`};return e.communityPublishers&&(c.community_publishers=e.communityPublishers),e.isWidget&&(c.redirect_snapshot_url=`/community/snapshot${s}`),e.orgId&&(c.org_id=e.orgId),c}let ed=(e,t,r)=>{var n,i;let a={},o={},l={},s={},c={},d={};if("loaded"!==e.status)return{plugins:{},widgets:{},orgPlugins:{},orgWidgets:{},userPlugins:{},userWidgets:{}};let u=e.data;for(let e of[{source:"org",savedExtensions:null==(n=u.org)?void 0:n.installedPlugins},{source:"user",savedExtensions:null==(i=u.currentUser)?void 0:i.installedPlugins}]){let{source:n,savedExtensions:i}=e;if(i)for(let e of i){let{plugin:i}=e;if(!i||!i.viewableInEditor)continue;let u=ec(i,t,r,n);u&&(i.isWidget?(o[e.pluginId]=u,"org"===n?s[e.pluginId]=u:"user"===n&&(d[e.pluginId]=u)):(a[e.pluginId]=u,"org"===n?l[e.pluginId]=u:"user"===n&&(c[e.pluginId]=u)))}}return{plugins:a,widgets:o,orgPlugins:l,orgWidgets:s,userPlugins:c,userWidgets:d}},eu=new Set,ep=new Set,em=o()(e=>{eu.size>0&&(e(v.f1({pluginIds:Array.from(eu)})),eu.clear()),ep.size>0&&(e(v.O8({widgetIds:Array.from(ep)})),ep.clear())},300);function e_(){let e=(0,i.wA)(),t=(0,i.d4)(e=>e.currentUserOrgId),r=(0,u.Rs)(L.BB3,{orgId:t}),a=(0,N.TA)();return n.useMemo(()=>{if("loaded"!==r.status)return{loaded:!1,plugins:{},widgets:{},orgWidgets:{},orgPlugins:{},userWidgets:{},userPlugins:{}};let{plugins:n,widgets:i,orgPlugins:o,orgWidgets:l,userPlugins:s,userWidgets:c}=ed(r,t,a);return!function(e,t,r){let n=Object.keys(t),i=Object.keys(r);n.forEach(e=>eu.add(e)),i.forEach(e=>ep.add(e)),em(e)}(e,n,i),{loaded:!0,plugins:n,widgets:i,orgPlugins:o,orgWidgets:l,userPlugins:s,userWidgets:c}},[e,r,t,a])}function eh(){let e=(0,I.E3)();return function(e){let t=e_(),{plugins:r,widgets:i,orgPlugins:a,orgWidgets:o,userPlugins:l,userWidgets:s}=t,c=(0,n.useMemo)(()=>e(r),[e,r]),d=(0,n.useMemo)(()=>e(i),[e,i]),u=(0,n.useMemo)(()=>e(a),[e,a]),p=(0,n.useMemo)(()=>e(o),[e,o]),m=(0,n.useMemo)(()=>e(l),[e,l]),_=(0,n.useMemo)(()=>e(s),[e,s]);return{loaded:t.loaded,plugins:c,widgets:d,orgPlugins:u,orgWidgets:p,userPlugins:m,userWidgets:_}}(t=>(0,k.NW)(e,t))}function eg(e){let t=(0,I.E3)();return n.useMemo(()=>ef(e,{editorType:t}),[e,t])}function ef(e,{editorType:t}){let{plugins:r,widgets:n,orgPlugins:i,orgWidgets:a,userPlugins:o,userWidgets:l}=e,s=[r,n,i,a,o,l].map(e=>Object.fromEntries(Object.entries(e).filter(([e,r])=>{let{canRun:n}=(0,k.JT)({plugin:r,editorType:t});return n})));return{loaded:!0,plugins:s[0],widgets:s[1],orgPlugins:s[2],orgWidgets:s[3],userPlugins:s[4],userWidgets:s[5]}}function eE(e,t){var r,i;let a=(null==(r=(0,C.sZ)())?void 0:r.id)??null,o=(0,N.TA)(),l=(0,u.Rs)(L.k_1,{orgId:a,pluginId:e},{enabled:t}),s=null==(i=l.data)?void 0:i.plugin,c=l.status;return n.useMemo(()=>"loaded"===c&&s?{loaded:!0,plugin:ec(s,a,o,null)||null}:{loaded:!1,plugin:null},[c,s,a,o])}function ey(e,{enabled:t}){var r;let i=(null==(r=(0,C.sZ)())?void 0:r.id)??null,a=(0,N.TA)(),o=n.useMemo(()=>e.map(e=>({orgId:i,pluginId:e})),[e,i]),l=(0,u.p)(L.k_1,o,{enabled:t}),s=[];return l.forEach(e=>{var t;let r=e.result;if("loaded"!==r.status)return;let n=null==(t=r.data)?void 0:t.plugin;if(!n)return;let o=ec(n,i,a,null);o&&s.push(o)}),s}function eb(e,t){return e.name.localeCompare(t.name)}let ev={loaded:!0,plugins:{}};function eI(){let e=(0,i.d4)(e=>e.selectedView),t=(0,i.d4)(e=>e.installedPluginVersions);if("fullscreen"!==e.view)return ev;let r=(0,k.GX)(e.editorType);if(!t.loaded)return t;let n={};for(let i of Object.values(t.plugins))(0,k.EK)(r,i.manifest.editorType)?n[i.plugin_id]=i:((0,x.$A)(e)&&(0,k.M5)(i)||"figma"===r&&(0,k.M5)(i))&&(n[i.plugin_id]=i);let a="fullscreen"===e.view?e.editorType:null;return{loaded:!0,plugins:(0,k.NW)(a,n)}}function eT(){let{widgets:e}=e_(),t=(0,i.d4)(e=>e.selectedView),r=(0,F.xy)(e);return n.useMemo(()=>"fullscreen"!==t.view?{}:r,[t,r])}function eS(){let e=(0,i.d4)(e=>e.recentlyUsed.widgets),t=V(),r=(0,U.o)(),a=(0,N.TA)(),o=(0,d.kc)().ext_filter_recents_by_user_id;return(0,n.useMemo)(()=>{let n=[];return r&&(a||!o)?(e[r].forEach(r=>{var i;if(o&&a&&!(null==(i=r.run_by_user_ids)?void 0:i.includes(a)))return;let l=e.fetchedResources[r.id];if(l&&l.version){n.push(l.version);return}if(t[r.id]){n.push(t[r.id]);return}}),eC(n)):n},[r,t,e,a,o])}function ew(){let e=(0,i.d4)(e=>e.recentlyUsed.plugins),t=H(),r=(0,U.o)(),a=(0,N.TA)(),o=(0,d.kc)().ext_filter_recents_by_user_id,l=(0,n.useMemo)(()=>{let n=[];return r&&(a||!o)&&e[r].forEach(r=>{var i;if(o&&a&&!(null==(i=r.run_by_user_ids)?void 0:i.includes(a)))return;let l=e.fetchedResources[r.id];if(l&&l.version){n.push(l.version);return}if(t[r.id]){n.push(t[r.id]);return}}),n},[r,e,t,a,o]);return(0,F.Ol)(l)}function eA(){return eC(ew())}function eC(e){let t={};return e.filter(e=>!t[e.plugin_id]&&(t[e.plugin_id]=!0,!0))}function eN(){let e=eA();return n.useMemo(()=>{let t={};return e.forEach(e=>t[e.plugin_id]=e),t},[e])}function eO(){let e=eS();return n.useMemo(()=>{let t={};return e.forEach(e=>t[e.plugin_id]=e),t},[e])}function eL(){let e=(0,i.d4)(e=>e.recentlyUsed.plugins),t=(0,i.d4)(e=>e.recentlyUsed.widgets),r=(0,N.TA)(),a=(0,U.o)();return(0,n.useMemo)(()=>{let n={};return a&&r&&(e[a].forEach(e=>{var t;let i=null==(t=e.last_added_at_by_user_id)?void 0:t[r];i&&(n[e.id]=i)}),t[a].forEach(e=>{var t;let i=null==(t=e.last_added_at_by_user_id)?void 0:t[r];i&&(n[e.id]=i)})),n},[a,r,e,t])}function eR(e,t,r){let n=Object.keys(e).reduce((e,r)=>{if(t[r]){let n=t[r],i=(0,k.Ar)(n);if(!i)return e;e[r]=i}return e},{});return(0,k.NW)(r,n)}function eP(e){var t;let r=(null==(t=(0,C.sZ)())?void 0:t.id)??"",n=(0,i.wA)(),a=(0,i.d4)(t=>"plugin"===e?t.whitelistedPlugins:t.whitelistedWidgets),o=!!r&&(0,d.kc)().plugins_lg_allowlist,l=function(e,t=!0){var r;let n=(null==(r=(0,C.sZ)())?void 0:r.id)??"",i=(0,A.tS)(),a=(0,S.CR)(e,t&&!!i),o=(0,S.kA)(n??"",e,t&&!!n&&!i);return i?a:o}(e,o),c=l.loaded?l.data:[];if(!o)return a;if(!l.loaded)return{};let u={};return c.forEach(e=>{e&&(u[e]=!0)}),(0,s.c2)(u,a)||n(("plugin"===e?g.P:g.o)(u)),u}function ek(){let e=(0,I.my)(),t=(0,C.sZ)(),r=Y(),a=!!(t&&t.plugins_whitelist_enforced),o=eP("plugin"),l=(0,i.wA)(),s=(0,A.tS)(),c=(0,D.Gb)((null==t?void 0:t.id)??"",s),d=(0,i.d4)(e=>!!t&&(0,R.mn)(e.loadingState,c));return n.useEffect(()=>{a&&!d&&l(b.Vl({}))},[a,l,d]),n.useMemo(()=>eR(o,r,e),[e,o,r])}function eD(){let e=(0,I.my)(),t=(0,C.sZ)(),r=j(),a=!!(t&&t.widgets_whitelist_enforced),o=eP("widget"),l=(0,i.wA)(),s=(0,A.tS)(),c=(0,D.n_)((null==t?void 0:t.id)??"",s),d=(0,i.d4)(e=>!!t&&(0,R.mn)(e.loadingState,c));return n.useEffect(()=>{a&&!d&&l(b.mV({}))},[a,l,d]),n.useMemo(()=>eR(o,r,e),[o,r,e])}let eM="plugin_search_duration",ex="widget_search_duration";function eF(e,t){t.elapsedMs&&(0,l.sx)(e,t,{forwardToDatadog:!0})}function eU(e){let[t,r]=n.useState(!1),[a,o]=n.useState(!1),[l,s]=n.useState(null),c=(0,i.d4)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]),u=c&&c.id,_=(0,i.d4)(e=>{var t;return!!(u&&e.user&&(null==(t=e.orgUsersByOrgId.orgUsers[u][e.user.id])?void 0:t.permission)!==O._D.GUEST)}),g=(0,i.wA)(),E=eI().plugins,b=(0,w.BI)(),I=(null==b?void 0:b.shouldOptimizeForIpadApp)||(0,d.kc)().cmty_m10n_test_apple_os?"free":"all",T=(0,x.ks)();return{pluginServerSideSearch:n.useCallback((t,n,i,a)=>{let l=new p.jk(eM,{});l.start();let[c,d]=M.$W.getCommunityPlugins(t,u,I,e,T,_);r(!0),o(!1),Promise.all([c,d]).then(([c,d])=>{o(!0);let u=[],p=c.data.meta.results.map(e=>(u.push(e.model),e.model.id)),m=d?d.map(e=>(u.push(e.model),e.model.id)):[];g(v.Qi({publishedPlugins:u,src:"universalInsert"}));let _=p.filter(e=>E[e]),h=p.filter(e=>!E[e]),f=m.filter(e=>E[e]),y=m.filter(e=>!E[e]);n(h),i(y),a([...f,..._]),s(t),r(!1),eF(eM,{elapsedMs:l.stop(),editorType:e,query:t,numPublicResults:p.length,numOrgResults:m.length})}).catch(r=>{let n={query:t,current_org_id:u||"",resource_type:y.L.BrowseResourceTypes.PLUGINS,editor_type:e,did_org_search:_,error:null==r?void 0:r.message,status:null==r?void 0:r.status};(0,m.x1)("search","Search error for Community resources in inserts modal",n,{reportAsSentryError:!0});let i=(0,h.t)("community.actions.an_error_occurred_while_searching_for_plugins");g(f.F.enqueue({error:!0,message:i}))})},[g,e,E,T,u,I,_]),pluginSearchIsLoading:t,pluginSearchHasResolved:a,setLastPluginSearchQuery:s,lastPluginSearchQuery:l}}function eB(e){let[t,r]=n.useState(!1),[a,o]=n.useState(!1),[l,s]=n.useState(null),c=(0,i.d4)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]),u=c&&c.id,_=(0,i.d4)(e=>{var t;return!!(u&&e.user&&(null==(t=e.orgUsersByOrgId.orgUsers[u][e.user.id])?void 0:t.permission)!==O._D.GUEST)}),g=eT(),E=(0,i.wA)(),b=(0,w.BI)(),I=(null==b?void 0:b.shouldOptimizeForIpadApp)||(0,d.kc)().cmty_m10n_test_apple_os?"free":"all";return{widgetServerSideSearch:n.useCallback((t,n,i,a)=>{let l=new p.jk(ex,{});l.start();let[c,d]=M.$W.getCommunityWidgets(t,u,I,e,_);r(!0),o(!1),Promise.all([c,d]).then(([c,d])=>{o(!0);let u=[],p=c.data.meta.results.map(e=>(u.push(e.model),e.model.id)),m=d.map(e=>(u.push(e.model),e.model.id));E(v.Qi({publishedPlugins:u,src:"universalInsert"}));let _=p.filter(e=>g[e]),h=p.filter(e=>!g[e]),f=m.filter(e=>g[e]),y=m.filter(e=>!g[e]);n(h),i(y),a([...f,..._]),r(!1),s(t),eF(ex,{elapsedMs:l.stop(),editorType:e,query:t,numPublicResults:p.length,numOrgResults:m.length})}).catch(r=>{let n={query:t,current_org_id:u||"",resource_type:y.L.BrowseResourceTypes.WIDGETS,editor_type:e,did_org_search:_,error:null==r?void 0:r.message,status:null==r?void 0:r.status};(0,m.x1)("search","Search error for Community resources in inserts modal",n,{reportAsSentryError:!0});let i=(0,h.t)("community.actions.an_error_occurred_while_searching_for_widgets");E(f.F.enqueue({error:!0,message:i}))})},[E,e,u,I,g,_]),widgetSearchIsLoading:t,widgetSearchHasResolved:a,setLastWidgetSearchQuery:s,lastWidgetSearchQuery:l}}function eH(e){let t=$({includePendingPublishers:!1}),r=ee({includePendingPublishers:!1}),n=W();return(e?r:t).filter(e=>!n[e.id])}function eV(e,{searchLocalPlugins:t,searchSavedPlugins:r,searchPublishedPlugins:i,searchRecentPlugins:a}){let o=B(),l=eI(),s=Y(),c=eN();return n.useMemo(()=>(0,k.te)({idToSearch:e,savedPlugins:r?l:void 0,localPluginsByFileId:t?o:void 0,publishedPlugins:i?s:void 0,recentPlugins:a?c:void 0}),[e,l,o,s,c,r,t,i,a])}function eG({searchLocalPlugins:e,searchSavedPlugins:t,searchPublishedPlugins:r,searchRecentPlugins:i}){let a=B(),o=eI(),l=Y(),s=eN();return n.useCallback(n=>(0,k.te)({idToSearch:n,savedPlugins:t?o:void 0,localPluginsByFileId:e?a:void 0,publishedPlugins:r?l:void 0,recentPlugins:i?s:void 0}),[o,a,l,s,t,e,r,i])}function eW(){let e=eI(),t=$(),r=ew(),n={};return Object.values(e.plugins).forEach(e=>{n[e.plugin_id]||(n[e.plugin_id]=e)}),Object.values(t).map(k.uF).forEach(e=>{n[e.plugin_id]||(0,D.ZQ)(e)||(n[e.plugin_id]=e)}),r.forEach(e=>{n[e.plugin_id]||(0,D.ZQ)(e)||(n[e.plugin_id]=e)}),n}function eK(e){let t={};return Object.keys(e).forEach(e=>{t[e]=!0}),t}function eY(){let e=(0,I.E3)(),t=eK(ek()),r=eK(eD()),i=(0,c.R)(e=>({currentUserOrgId:e.currentUserOrgId,orgById:e.orgById,mirror:e.mirror,selectedView:e.selectedView,openFile:e.openFile}));return n.useCallback(n=>{let{canRun:a}=(0,k.JT)({plugin:n,editorType:e,canRunPluginState:{...i,whitelistedPlugins:t,whitelistedWidgets:r}});return a},[e,i,t,r])}function ej(){return(0,i.d4)(P.GP)}function ez(e){let t=(0,C.sZ)(),r=!!(t&&t.widgets_whitelist_enforced),a=(0,i.d4)(e=>e.whitelistedWidgets)[e],o=V(),l=n.useMemo(()=>Object.values(o).find(t=>t.plugin_id===e),[o,e]),s=(0,i.d4)(t=>t.publishedWidgets[e]),c=!r||l||(null==s?void 0:s.org_id);return{isWidgetBlockedByAllowlist:!a&&!c}}function e$(e){let t=(0,i.wA)(),r=(0,C.sZ)(),a=!!(r&&r.plugins_whitelist_enforced),o=(0,i.d4)(e=>e.whitelistedPlugins)[e],l=B(),s=n.useMemo(()=>Object.values(l).find(t=>t.plugin_id===e),[l,e]),c=(0,i.d4)(t=>t.publishedPlugins[e]),d=!a||s||(null==c?void 0:c.org_id),u=!o&&!d;return{validatePublishedPluginInOrgAllowlist:n.useCallback(()=>!u||(t(f.F.enqueue({message:(0,h.t)("universal_insert.plugin_not_in_allowlist"),error:!0})),!1),[u,t]),isPluginBlockedByAllowlist:u}}function eZ(e){let t=(0,C.sZ)(),r=!!(t&&t.plugins_whitelist_enforced),i=!!(t&&t.widgets_whitelist_enforced),a=!!t&&!t.public_plugins_allowed,o=ek(),l=eD(),s=e?l:o,c=e?i:r,d=(null==t?void 0:t.id)??"",u=(0,A.tS)(),p=(0,R.oh)(e?(0,D.n_)(d,u):(0,D.Gb)(d,u)),m=n.useCallback(e=>c?e.filter(e=>!(0,D.LR)(e)||!!s[e.plugin_id]):e,[s,c]),_=n.useCallback(e=>a?e.filter(e=>!(0,D.LR)(e)):e,[a]);return{publicExtensionsDisallowed:a,allowList:s,hasAllowList:c,allowListIsLoading:p,hasPluginAllowList:r,hasWidgetAllowList:i,filterByPublicResourcesAllowed:_,filterByAllowlist:m}}function eq(){let{filterByAllowlist:e,filterByPublicResourcesAllowed:t}=eZ(!1);return e(t(eA()))}},726864:(e,t,r)=>{"use strict";r.d(t,{Ii:()=>T,Yk:()=>A,hX:()=>C,uo:()=>S,xn:()=>w});var n=r(411855),i=r(188507),a=r(243742),o=r(91408),l=r(38580),s=r(374626),c=r(111538),d=r(85304),u=r(964881),p=r(809831),m=r(852800),_=r(457630),h=r(737499),g=r(100197),f=r(258159),E=r(607170),y=r(202232),b=r(979686),v=r(860168);let I=(0,l.eU)(0);function T(){return(0,_.TZ)({subscribeToUpdates_expensive:!0})}function S(){let e=(0,h.kd)();return(0,n.useCallback)(async()=>(null==e?void 0:e.toastBottomInset)?await e.toastBottomInset():Promise.reject(),[e])}function w(){var e,t;let r=(0,p.ow)(),n=(0,s.md)(c.P4),a=(0,s.md)(I),l=(0,g.ut)(null==(t=null==(e=m.Ez5)?void 0:e.editorPreferences())?void 0:t.showFigmaScope,!1),d=(0,i.d4)(e=>e.mirror.appModel.showKeyboardShortcuts),_=(0,y.lq)(),h=(0,s.md)(f.O),E=!!(0,u.hA)(),b=0;return d&&(b=(0,o.jz)(v.yNw)),b+=(l?h:0)+a,r&&(b+=n,_&&(b-=(0,o.jz)(v.ea4))),E&&(b+=2*(0,o.jz)(v.M$q)-(0,o.jz)(v.j4N)),b}function A(){let e=(0,b.FF)(),t=(0,b.bz)(),r=(0,b.oV)(),n=(0,b.rD)(),l=(0,E.z)(),s=(0,d.e)(),c=(0,i.d4)(e=>{var t;return!!(null==(t=e.prototype)?void 0:t.isFooterVisible)}),u="ui3"===(0,a.DP)().version,m=(0,p.ow)(),_=(0,i.d4)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi}),h=u?v.LQy:v.IuL;return m?e&&(t||r||n)?(0,o.jz)(h)+(0,o.jz)(v.jl4):e?(0,o.jz)(h):0:s?(0,o.jz)(v.ZB$):c?(0,o.jz)(v.P4e):u&&_?64+l+(l>0?8:0):0}function C(e){let[t,r]=(0,n.useState)(null);return(0,n.useEffect)(()=>{function t(){let t=document.querySelector(e);r((null==t?void 0:t.getBoundingClientRect())??null)}t();let n=setInterval(()=>t(),500);return()=>clearInterval(n)},[e]),t}},506599:(e,t,r)=>{"use strict";r.d(t,{i:()=>p,t:()=>u});var n=r(411855),i=r(188507),a=r(358145),o=r(438741),l=r(852800),s=r(100197),c=r(476710),d=r(226055);function u(){!function(e){let t=(0,d.GS)(),r=(0,c.s)(),i=(0,s.J2)(l.Ez5.singleSlideView().isInSingleSlideView),{isPropertiesPanelCollapsed:o,setPropertiesPanelCollapsed:u,togglePropertiesPanelCollapsed:m}=p(),_=(0,a.ZC)(e),h=(0,a.ZC)(i),g=(0,n.useRef)();(0,n.useEffect)(()=>{if(t&&(e!==_||i!==h)&&void 0!==_){if(e){if(r){let e=!i;u(e),g.current=e}else o?g.current=!1:(m(),g.current=!0)}else g.current&&o&&m()}},[e,_,o,m,u,t,r,i,h])}((0,i.d4)(e=>(0,o.L3)(e.multiplayer)))}function p(){var e;let t=(0,d.GS)(),r=!(0,s.ut)(null==(e=l.Ez5)?void 0:e.uiState().showPropertiesPanel,!0),i=t&&r,a=(0,n.useCallback)(e=>{var t;null==(t=l.Ez5)||t.uiState().showPropertiesPanel.set(!e)},[]),o=(0,n.useCallback)(()=>{a(!i)},[i,a]);return{isPropertiesPanelCollapsed:i,setPropertiesPanelCollapsed:a,togglePropertiesPanelCollapsed:o}}},529906:(e,t,r)=>{"use strict";r.d(t,{e_:()=>c,hu:()=>u,s5:()=>p,yR:()=>d});var n=r(411855),i=r(188507),a=r(38329),o=r(37943),l=r(988022),s=r(707465);function c(){return(0,i.d4)(e=>!!e.screenreader.enabled)}function d(){let e=(0,i.wA)(),t=(0,i.d4)(e=>e.screenreader.enabled),r=(0,i.d4)(e=>e.user||void 0);return[t,(0,n.useCallback)((t,n)=>{e((0,o.X7)({enabled:t,scope:n,user:r}))},[e,r])]}var u=(e=>(e.TOGGLE_DOM_ON_MENU="toggle_dom_on_menu",e.TOGGLE_DOM_OFF_MENU="toggle_dom_off_menu",e.PROTOTYPE_BUTTON_CLICKED="prototype_button_clicked",e.SKIP_TO_CONTENT="skip_to_content",e.ENABLE_AND_SKIP_TO_CONTENT="enable_and_skip_to_content",e.FOCUS_CYCLE_NEXT_AREA="focus_cycle_next_area",e.FOCUS_CYCLE_PREVIOUS_AREA="focus_cycle_previous_area",e.DESIGN_INITIAL_TREE_LOAD="design_initial_tree_load",e.DESIGN_UPDATE_NODE="design_update_tree",e.FIGJAM_UPDATE_TREE="figjam_update_tree",e.FIGJAM_UPDATE_NODE="figjam_update_node",e.FIGJAM_INITIAL_TREE_LOAD="figjam_initial_tree_load",e.FIGJAM_INCREMENTAL_UPDATE_DISCREPANCY="figjam_incremental_update_discrepancy",e.TOGGLE_DEFAULT_APPLICATION_ON_MENU="toggle_default_application_on_menu",e.TOGGLE_DEFAULT_APPLICATION_OFF_MENU="toggle_default_application_off_menu",e))(u||{});function p(){return(0,n.useCallback)((e,t)=>{let r=a.D.getState(),n=(0,s.U2)(r.selectedView);(0,l.ds)("accessibility_actions",n,r,{actionName:e,...t},{forwardToDatadog:!0})},[])}},763223:(e,t,r)=>{"use strict";r.d(t,{w:()=>a,y:()=>o});var n=r(966712),i=r(963067);function a(){let e=(0,i.U5)();return(0,n.kc)().xr_debounce_threshold&&e}function o(){return(0,n.kc)().xr_debounce_threshold}},965480:(e,t,r)=>{"use strict";r.d(t,{E$:()=>A,GT:()=>R,J3:()=>S,JT:()=>C,JU:()=>w,ZV:()=>O,ac:()=>M,b2:()=>D,kD:()=>N,kN:()=>T,qI:()=>L,wv:()=>k});var n=r(411855),i=r(188507),a=r(126049),o=r(935283),l=r(436408),s=r(794272),c=r(38580),d=r(374626),u=r(499737),p=r(335682),m=r(694687),_=r(99506),h=r(279453),g=r(643067),f=r(428467),E=r(284321),y=r(694517),b=r(383986),v=r(576144),I=r(809831),T=(e=>(e.NOT_ENABLED="NOT_ENABLED",e.CAN_PUBLISH="CAN_PUBLISH",e.FILE_IN_DRAFTS="FILE_IN_DRAFTS",e.FILE_IN_DRAFTS_CANNOT_MOVE="FILE_IN_DRAFTS_CANNOT_MOVE",e.DISABLED_IN_SETTINGS="DISABLED_IN_SETTINGS",e.CANNOT_PUBLISH="CANNOT_PUBLISH",e))(T||{});function S(){var e;let t=(0,m.sZ)(),r=(0,i.d4)(e=>e.openFile),n=!!(null==r?void 0:r.canPublishTemplate),a=!!(null==r?void 0:r.canEdit),o=!!(null==t?void 0:t.are_custom_templates_allowed),l=!(null==r?void 0:r.teamId);return t&&(null==r?void 0:r.editorType)!==_._Y.DESIGN?n?"CAN_PUBLISH":a?o?l?(null==(e=null==r?void 0:r.currentPartialOrgUser)?void 0:e.draftsFolderId)===(null==r?void 0:r.folderId)?"FILE_IN_DRAFTS":"FILE_IN_DRAFTS_CANNOT_MOVE":"CANNOT_PUBLISH":"DISABLED_IN_SETTINGS":"CANNOT_PUBLISH":"NOT_ENABLED"}function w(e){switch(e){case"CAN_PUBLISH":case"FILE_IN_DRAFTS":return!0;case"DISABLED_IN_SETTINGS":case"NOT_ENABLED":case"CANNOT_PUBLISH":case"FILE_IN_DRAFTS_CANNOT_MOVE":return!1;default:(0,o.xb)(e)}}function A({fileKey:e,editor_type:t,team_id:r,state:n}){let i=(0,f.canEditFile)(e,n),a=n.currentUserOrgId&&n.orgById[n.currentUserOrgId];return!!(a&&i&&(t===_._Y.WHITEBOARD||t===_._Y.SLIDES)&&a.are_custom_templates_allowed&&r)}function C({fileCanEdit:e,editor_type:t,team_id:r,state:n}){let i=n.currentUserOrgId&&n.orgById[n.currentUserOrgId];return!!(i&&e&&t===_._Y.WHITEBOARD&&i.are_custom_templates_allowed&&r)}function N(){let e=(0,m.sZ)(),t=(0,p.q5)(),r=null==t?void 0:t.template;return r&&O(r,e)?r:null}function O(e,t){return!!e&&!e.unpublishedAt&&!!t&&!!t.are_custom_templates_allowed}function L(e){return e.id===b.s}function R(e,t=_._Y.WHITEBOARD){let[r,i]=(0,n.useState)(null),[o,l]=(0,n.useState)(!1),[s,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[p,m]=(0,n.useState)(0),[h,f]=(0,n.useState)(!0),E=(0,g.G7)(e),y=(0,n.useCallback)(({ids:r,myTeamsOnly:n,offset:i=0})=>{e&&v.q.getFilteredTeamTemplates({orgId:e.id,from:i,size:5,template_type:t,...E?{my_teams_only:n,workspace_ids:r}:{team_ids:r}}).then(({data:e})=>{u("filterable_workspaces"in e.meta?e.meta.filterable_workspaces:e.meta.filterable_teams),c(t=>0===i?e.meta.templates_by_team:[...t,...e.meta.templates_by_team]),m(e.meta.templates_by_team.length),f(!1)})},[e,t,E]);(0,n.useEffect)(()=>{y({ids:null,myTeamsOnly:!1})},[y]);let b=(0,a.A)(y,300),I=(0,n.useCallback)(t=>{e&&(T.current={},f(!0),i(t.ids),l(t.myTeamsOnly),b(t))},[e,b]),T=(0,n.useRef)({}),S=(0,n.useCallback)(()=>{5===p&&y({ids:r,myTeamsOnly:o,offset:s.length})},[r,o,s,p,y]),w=(0,n.useCallback)(t=>{let r=s.find(e=>e.team_id===t);if((null==e?void 0:e.id)&&r&&r.templates.length<r.total){let n=r.templates.length;if((T.current[t]||0)>=n)return;T.current[t]=n,v.q.getTeamBrowsePaginated({orgId:e.id,teamId:t,from:n,size:10}).then(({data:e})=>{c(r=>r.map(r=>r.team_id===t?{...r,templates:[...r.templates,...e.meta.templates]}:r))})}},[null==e?void 0:e.id,s]);return{selectedTeamOrWorkspaceOrLicenseGroupIds:r,isMyTeamsOnly:o,onFilterChange:I,userTeamOrWorkspaceIds:P(e),templatesByTeam:s,filterOptions:d,requestLoadMore:S,requestLoadMoreForTeam:w,isLoadingTeamTemplates:h}}let P=e=>{var t;let r=(0,g.G7)(e),n=(0,u.Rs)(h.z8m,{currentOrgId:(null==e?void 0:e.id)||""},{enabled:!!e});if("loaded"!==n.status||!e)return null;if(r){let e=null==(t=n.data.currentUser.privilegedOrgUser)?void 0:t.workspaceUsers.find(e=>e.isMainWorkspace);return e?[e.workspaceId]:null}return n.data.currentUser.orgAwareTeamRoles.reduce((e,t)=>t.team?[...e,t.team.id]:e,[])};function k(e,t=2,r=_._Y.WHITEBOARD){let[i,a]=(0,n.useState)(null),o=(0,l.T)();return(0,n.useEffect)(()=>{o(v.q.getSearchPaginated({orgId:e.id,size:t,from:0,template_type:r}),e=>{a(e.data.meta.templates)})},[e.id,o,t,r]),i}let D=(0,c.eU)(null);function M(){var e;let t=(null==(e=N())?void 0:e.fileVersionId)??"",r=(0,i.Pj)(),[a,o]=(0,d.fp)(D),l=(0,I.lg)(),c=(0,s.R)(e=>l===_._Y.SLIDES?(0,E.AC)(e):[]),u=c.length;return(0,n.useEffect)(()=>{if(l===_._Y.SLIDES){o(u>0);return}t&&null===a&&(0,y.ke)(t,r).then(({numPagesWithChanges:e})=>{o(e>0)}).catch(()=>o(!1))},[t,r,a,o,l,c.length,c,u]),a}},777078:(e,t,r)=>{"use strict";r.d(t,{Fz:()=>G,WS:()=>$,Zg:()=>U,_R:()=>J,b4:()=>z,dT:()=>B,eE:()=>W,jd:()=>j,qY:()=>Z});var n=r(411855),i=r(188507),a=r(776250),o=r(935283),l=r(737947),s=r(436408),c=r(733556),d=r(586459),u=r(395900),p=r(27087),m=r(939863),_=r(392592);r(370855);var h=r(980820),g=r(182976),f=r(875458),E=r(986270),y=r(931828),b=r(74930),v=r(178323),I=r(128765),T=r(852800),S=r(662531),w=r(694687),A=r(860178),C=r(820642),N=r(132135),O=r(99506),L=r(336599),R=r(106112);r(555328);var P=r(809073),k=r(576144);let D=(e,t)=>{switch(e.type){case R.n.HubFile:return`/api/hub_files/${x(e)}/${t}/prepare_insert`;case R.n.TeamTemplate:return`/api/templates/${x(e)}/${t}/prepare_insert`}},M=e=>{switch(e.type){case R.n.HubFile:return`/api/hub_files/${x(e)}/template_canvas`;case R.n.TeamTemplate:return`/api/templates/${x(e)}/template_canvas`}},x=({type:e,template:t})=>{switch(e){case R.n.HubFile:return t.id;case R.n.TeamTemplate:return t.file_key;default:(0,o.xb)(e)}},F=({template:e,type:t})=>{switch(t){case R.n.HubFile:return{type:P.vt.CommunityResource,id:e.id};case R.n.TeamTemplate:return{type:P.vt.TeamTemplate,file_key:e.file_key};default:(0,o.xb)(t)}};async function U({insert:e,dispatch:t,fileKey:r,template:n,onSuccess:i,onFailure:o,userTriggered:l=!0,isPreview:s=!1,triggeredFrom:c}){let d=new u.jk(`template_insert.${c}`,{key:r??""});d.start();let p=e=>{let t=d.stop();(0,a.sx)(e,{elapsedMs:t,triggeredFrom:c,isPreview:s},{forwardToDatadog:!0,batchRequest:!0})},h=x(n);try{await (0,b.B)(()=>h,r,v.T.STANDARD,async()=>{await e()&&(i&&i(),p("template_insert_success"),(0,v._)(s?"resource_previewed":"resource_inserted",{fileKey:r,resourceType:"template",resourceName:(0,I.gY)(n),resourceId:h,triggeredFrom:c,templateType:n.type,templateCategory:n.type===R.n.HubFile?n.category:void 0}),l)&&(t(y.b({inserted_figjam_template:!0})),n.type===R.n.TeamTemplate&&t(f.D([n.template])),"section-preset"!==c&&t(E.Hx({storeInRecentsKey:P.$A.FigJam,...F(n)})))},{enableTracking:!s})}catch(e){t(_.F.enqueue({message:(0,m.t)("whiteboard.inserts.insert_template_failed_v2"),error:!0})),o&&o(),p("template_insert_failure")}}async function B({template:e,fileKey:t,fileVersion:r}){if(!t)throw Error("Missing file key");if(!r)throw Error("Missing file version");let n=D(e,t),i=M(e),a=e.type===R.n.HubFile?{fv:`${r}`}:void 0,o=p.Ay.post(i,{fv:`${r}`},{responseType:"arraybuffer"});return await Promise.all([o,p.Ay.post(n,a)]).then(([{data:e}])=>e)}async function H(e){let{userTriggered:t=!0,templateInsertionDirection:r=T.hKj.RIGHT,templateCustomPosition:n,selectTemplateAfterInsertion:i}=e,a=e.editScopeType;a||(a=t?T.zkO.USER:T.zkO.SYSTEM),await U({insert:async()=>await B(e).then(e=>((0,S.l7)(a,"insert-figjam-template",()=>T.glU.insertTemplateInCanvas(e,r,i??t,!n,n?n.x:null,n?n.y:null)),!0)),...e})}function V(e,t){return`INSERT_FIGJAM_TEMPLATE_${e}_${t}`}function G(){let e=(0,i.wA)(),t=(0,i.d4)(e=>e.openFile?e.openFile.key:null),r=(0,i.d4)(e=>e.fileVersion),n=(0,i.d4)(e=>e.loadingState);return{insertTemplate:async({onSuccess:i,onFailure:a,...o})=>{let l=V(t,x(o.template));(0,L.VP)(n,l)||(e(g.Cx({key:l})),await H({dispatch:e,fileKey:t,fileVersion:r,...o,onSuccess:()=>{e(g.yH({key:l})),i&&i()},onFailure:()=>{e(g.yH({key:l})),a&&a()}}))},isInsertingTemplate:e=>{let r=V(t,e);return(0,L.VP)(n,r)}}}function W(e){let t=(0,i.d4)(e=>e.recentlyUsed.templates),r=(0,i.d4)(e=>e.hubFiles),a=(0,i.d4)(e=>e.recentCustomTemplates);return(0,n.useMemo)(()=>t[e].map(e=>{let{type:t}=e;switch(t){case P.vt.CommunityResource:return{type:R.n.HubFile,template:r[e.id]};case P.vt.TeamTemplate:return{type:R.n.TeamTemplate,template:a[e.key]};default:(0,o.xb)(t)}}).filter(({template:e})=>!!e),[t,r,a,e])}async function K({dispatch:e,templateIdentifier:t,onSuccess:r,onFailure:n,templateName:i,openInNewTab:a,folderId:o}){await p.Ay.post(`/api/templates/${t.file_key}/duplicate`,{folder_id:o}).then(({data:n})=>{let{fig_file:i,template:o}=n.meta;r(),e(f.D([o])),e(E.Hx({storeInRecentsKey:P.$A.FigJam,...t})),l.Ay.redirect((0,N.to)(i),a?"_blank":void 0)}).catch(()=>{let t={error:!0,message:(0,m.t)("community.actions.failed_to_create_a_new_file_from_hub_file_name",{hubFileName:i})};e(_.F.enqueue(t)),n()})}function Y(e){return`DUPLICATE_FIGJAM_TEMPLATE_${e}`}let j=(0,h.nF)((e,t)=>{let r=Y(t.templateIdentifier.file_key),{dispatch:n}=e,{loadingState:i}=e.getState();(0,L.VP)(i,r)||(n(g.Cx({key:r})),K({...t,dispatch:n,onSuccess:()=>{n(g.yH({key:r})),t.onSuccess&&t.onSuccess()},onFailure:()=>{n(g.yH({key:r})),t.onFailure&&t.onFailure()}}))});function z(){let e=(0,i.wA)();return(0,n.useCallback)(t=>e(j(t)),[e])}function $(){let e=(0,i.d4)(e=>e.loadingState);return t=>{let r=Y(t);return(0,L.VP)(e,r)}}function Z(e,t,r=O._Y.WHITEBOARD){let[i,a]=(0,n.useState)(null),[o,l]=(0,n.useState)(0),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)([]),m=(0,s.T)(),_=(0,w.sZ)();(0,n.useEffect)(()=>{a({offset:0,searchTerm:e})},[e]),(0,n.useEffect)(()=>{if(!(null==i?void 0:i.searchTerm)||!_||!t){p([]),l(0);return}let e=k.q.getSearchPaginated({orgId:_.id,query:i.searchTerm,from:i.offset,size:10,template_type:r});d(!0),m(e,e=>{i.offset>0?p(t=>[...t,...e.data.meta.templates]):p(e.data.meta.templates),l(e.data.meta.total),d(!1)})},[_,t,i,m,r]);let h=(0,n.useCallback)(()=>u.length<o&&(a(e=>e?{...e,offset:e.offset+10}:null),!0),[u.length,o]);return{templates:u,requestLoadMore:h,total:o,isLoading:c}}let q={url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdj+P///38ACfsD/QVDRcoAAAAASUVORK5CYII=",buffer:null};function J(e){let t=(0,A.iZ)(),r=(0,c.J)(()=>t?(0,C.$2)(e,t):Promise.reject(Error("User not logged in")),[e,t]),[i,a]=(0,n.useState)(q);return(0,n.useEffect)(()=>{r.status===d.r.SUCCESS&&a(r.value),r.status===d.r.FAILURE&&a(q)},[r]),i}},226055:(e,t,r)=>{"use strict";r.d(t,{GS:()=>E,Ou:()=>b,fq:()=>v,yw:()=>y});var n=r(411855),i=r(243742),a=r(878227),o=r(737947),l=r(966712),s=r(259829),c=r(563706),d=r(809831),u=r(852800),p=r(372174),m=r(114716),_=r(69961),h=r(239671),g=r(872429),f=r(476710);function E(){return"ui3"===(0,i.DP)().version}function y(){let e=function(){let e=(0,d.my)(),t=e===h.nT.Design,r=(0,s.F5)(o.Ay.location.pathname),n=e===h.nT.DevHandoff,i=(0,s.yA)(o.Ay.location.pathname),a=e===h.nT.Whiteboard,u=!!(0,l.kc)().figjam_pages_in_figjam,m=(0,_.o3)(_.nt.figjamUi3),E=(0,g.cJ)(),y=(0,f.s)(),b=(0,_.o3)(_.nt.ui3ExpNonDesign),v=(0,_.o3)(_.nt.ui3),I=n&&p.z4.getIsExtension();return(0,s.hs)({isDesign:t,isDesignPrototypeViewer:r,isDevMode:n,isEmbed:i,isFigjam:a,isFigjamPagesInFigjam:u,isFigjamUi3LabEnabled:m,isMobileDevice:c.Xb,isSites:E,isSlides:y,isUi3ExpNonDesignLabEnabled:b,isUi3LabEnabled:v,isVSCodeExtension:I})}(),{updateMode:t}=(0,i.DP)();(0,n.useEffect)(()=>{let r=e?"ui3":"ui2";t({version:r}),(0,a.v)({uiVersion:r})},[e,t])}function b(){let e=E(),t=(0,m.g)();(0,n.useEffect)(()=>{queueMicrotask(()=>{var t;return null==(t=u.Ez5)?void 0:t.uiState().isUI3.set(e)})},[e,t])}function v(){let e=(0,_.o3)(_.nt.figjamUi3Colors),t=E(),r=(0,m.g)();(0,n.useEffect)(()=>{queueMicrotask(()=>{var r;return null==(r=u.Ez5)?void 0:r.uiState().showUI3Colors.set(e&&t)})},[e,t,r])}},298527:(e,t,r)=>{"use strict";r.d(t,{Ck:()=>u,Ke:()=>m,O_:()=>_,n1:()=>p});var n=r(411855),i=r(188507),a=r(218881),o=r(639135),l=r(696673),s=r(335682),c=r(309798),d=r(984968);function u(){let e=(0,o.dP)(),t=p();return n.useCallback(()=>!!(e()||t),[t,e])}function p(){let e=(0,d.ol)(),t=(0,i.d4)(({orgById:e,openFile:t,currentUserOrgId:r})=>{let n=t?t.parentOrgId:r;return n?e[n]:null});return(0,l.MJ)(t,e)}function m(){var e;let t=(0,d.ol)(),r=null==(e=(0,s.q5)())?void 0:e.parentOrgId,i=(0,c.f)(o.q3),{getConfig:l}=(0,a.I7)("exp_presets_baseline_existing"),u=p();return n.useCallback(()=>u||(0,o.aQ)(t,r,i,l),[u,t,r,i,l])}function _(){let e=(0,i.d4)(({teams:e})=>e),t=(0,i.d4)(({orgById:e})=>e);return Object.values(e).some(e=>(0,l.MJ)(null,e))||Object.values(t).some(e=>(0,l.MJ)(e,null))}},837378:(e,t,r)=>{"use strict";r.d(t,{K:()=>o,O:()=>i});var n=r(411855);let i=50;function a(e,t){if(!t)return e;let r=new Set(t.map(e=>e.id)),n=e.filter(e=>!r.has(e));return n.length===e.length?e:n}function o(e,t=i){let[r,o]=n.useState([]),l=n.useMemo(()=>a(r,e),[e,r]);return n.useEffect(()=>{o(l)},[l]),{optimisticIds:l,addOptimisticIds:n.useCallback(e=>o(r=>{let n=[...r,...e];return n.length>t?n.slice(n.length-t):n}),[t]),setServerData:n.useCallback(e=>{o(t=>a(t,e))},[])}}},835156:(e,t,r)=>{"use strict";function n(e,t,r){let n=[];if(e&&e[r]){let i,a=-1;(n=Object.keys(e[r]).map(t=>e[r][t])).sort((e,t)=>e.handle.toLowerCase()<t.handle.toLowerCase()?-1:1),n.forEach((e,r)=>{t===e.id&&(a=r,i=e)}),-1!=a&&(n.splice(a,1),n.unshift(i))}return n}function i(e){var t,r;return(null==(r=null==(t=null==e?void 0:e.file)?void 0:t.activeFileUsers)?void 0:r.map(e=>e))??[]}r.d(t,{Z:()=>i,g:()=>n})},156367:(e,t,r)=>{"use strict";r.d(t,{Bd:()=>a,H3:()=>o,KJ:()=>l});var n=r(181912),i=r(367253);function a(){let e=new Date;return{today:(0,n.A)(e).format("YYYY-MM-DD"),minDate:(0,n.A)(e).subtract(366,"days").format("YYYY-MM-DD")}}function o(e){return e?(0,n.A)(e).add(1,"day").subtract(1,"second").format():null}function l(e,t){if(t)for(let e of t){let t=function(e){let t=(e||"").trim();return t&&!(0,i.xf)(t)?{message:"An email is invalid",field:"email"}:null}(e);if(t)return t}return function(e){let t=(0,n.A)(e.start),r=(0,n.A)(e.end);if(!t.isValid())return{message:"The start date is invalid",field:"startDate"};if(!r.isValid())return{message:"The end date is invalid",field:"endDate"};if(t.diff(r,"days")>0)return{message:"The start date cannot be greater than the end date",field:"startDate"};let{today:i,minDate:o}=a();return t.diff(i,"days")>0||0>t.diff(o,"days")?{message:"The start date is out of range",field:"startDate"}:r.diff(i,"days")>0?{message:"The end date is out of range",field:"endDate"}:null}(e)}},988022:(e,t,r)=>{"use strict";r.d(t,{Cu:()=>K,Dc:()=>p,E9:()=>S,FE:()=>N,Fr:()=>x,GS:()=>T,I0:()=>A,Nb:()=>y,OH:()=>L,PB:()=>R,Pg:()=>b,WL:()=>q,Ws:()=>W,Yg:()=>Z,_J:()=>M,_R:()=>Y,ak:()=>k,ds:()=>v,f5:()=>I,fy:()=>j,jd:()=>$,k1:()=>w,nX:()=>O,o5:()=>C,oP:()=>V,pf:()=>P,pi:()=>m,qD:()=>z,uE:()=>F,v5:()=>_,xr:()=>D,ye:()=>H,ys:()=>f,z_:()=>B});var n=r(776250),i=r(966712),a=r(776621),o=r(852800),l=r(99506),s=r(239671),c=r(935938),d=r(479296),u=r(140047);function p(e){switch(e){case s.nT.Design:return"design";case s.nT.Whiteboard:return"figjam";case s.nT.DevHandoff:return"dev_handoff";case s.nT.Slides:return"slides";case s.nT.Sites:return"sites";default:return"unknown"}}function m(e){switch(e&&e.editorType){case l._Y.DESIGN:return"design";case l._Y.WHITEBOARD:return"figjam";case l._Y.SLIDES:return"slides";case l._Y.SITES:return"sites";default:return"unknown"}}function _(e,t){return(null==e?void 0:e.view)==="fullscreen"?p(e.editorType):t?m({editorType:t}):"unknown"}let h=(e,t)=>{var r,n;switch(null==(r=null==t?void 0:t.selectedView)?void 0:r.view){case"prototype":case"mobileViewer":if((null==(n=t.selectedView.file)?void 0:n.key)===e)return t.selectedView.file||null;return null;default:return e&&t.fileByKey[e]||null}},g=null;function f(e){g=e}let E=(e,t,r,n={})=>{var a,l,s,c;let d=_(null==r?void 0:r.selectedView,t&&t.editor_type),u={...n,...y(d,null==(a=null==r?void 0:r.selectedView)?void 0:a.view)};return u.productType=d,u.fileKey=e||"new",u.fileParentOrgId=t&&t.parent_org_id,u.fileTeamId=t&&t.team_id,t&&t.file_repo_id&&(u.fileRepoId=t.file_repo_id),u.fileTeamId=t&&t.team_id,u.containingFolderId=t&&t.folder_id,u.entrypoint=n.entrypoint,u.figmaBasicsExperiment=null==(l=null==t?void 0:t.track_tags)?void 0:l.figma_basics_experiment,g&&(u.loadID=g),u.fileIsIncremental=null!=(s=o.h3O)&&!!s.isIncrementalSession(),u.fileIsValidatingIncremental=null!=(c=o.h3O)&&!!c.isValidatingIncremental(),u.lazify_more_defaults=!!(0,i.kc)().lazify_more_defaults,u};function y(e,t){var r,n;return e===l._Y.SLIDES&&"fullscreen"===t?{slide_view:(null==(n=null==(r=o.Ez5)?void 0:r.singleSlideView())?void 0:n.isSingleSlideViewEnabled())?"ssv":"grid"}:{}}function b(){(0,n.Pg)()}let v=(0,d.n)((e,t,r,i={},a)=>{let o=h(t,r),l=E(t,o,r,i);(0,n.sx)(e,l,a)}),I=(0,d.n)((e,t,r,i={},a)=>{let o=E(t.key,t,r,i);(0,n.sx)(e,o,a)}),T=(0,d.n)((e,t,r,i)=>{let a=h(t,r),o=E(t,a,r,i);n.az.trackDefinedEvent(e,o)});function S(e,t,r={},i){r.productType=t&&m(t),r.fileKey=(null==t?void 0:t.key)||"new",r.fileParentOrgId=null==t?void 0:t.parentOrgId,r.fileTeamId=null==t?void 0:t.teamId,r.containingFolderId=null==t?void 0:t.folderId,t&&t.fileRepoId&&(r.fileRepoId=t.fileRepoId),(0,n.sx)(e,r,i)}function w(e,t,r){let i="File Browser File Clicked";if(t.state){var a,o;v(i,e,t.state,{selectedView:"recentsAndSharing"===(a=t.state).selectedView.view?a.selectedView.tab||c.G.RECENTLY_VIEWED:"folder"===a.selectedView.view&&a.selectedView.folderId===(null==(o=a.user)?void 0:o.drafts_folder_id)?"drafts":a.selectedView.view,entrypoint:t.entrypoint,planFilterId:t.planFilterId,planFilterType:t.planFilterType,sharedByFilter:t.sharedByFilter,viewMode:t.viewMode},r)}else t.selectedViewName?(0,n.sx)(i,{fileKey:e,selectedView:t.selectedViewName,entrypoint:t.entrypoint},r):(0,n.sx)(i,{fileKey:e,entrypoint:t.entrypoint},r)}function A(e){(0,n.sx)("file_browser_loaded",{selectedView:e.view})}function C(e){(0,n.sx)("file_browser_page_visit",{selectedView:e.view})}function N(e,t,r){(0,n.sx)("file_browser_plan_filter_selected",{planId:e,entryPoint:t,planType:r})}function O(e,t){(0,n.sx)("file_browser_sharer_filter_selected",{sharerId:e,entryPoint:t})}function L(e,t,r={},i){r.fileKeys=t.map(e=>e.key),r.fileParentOrgIds=[],r.fileTeamIds=[],r.containingFolderIds=[],t.forEach(e=>{r.fileParentOrgIds.push(e.parent_org_id),r.fileTeamIds.push(e.team_id),r.containingFolderIds.push(e.folder_id)}),(0,n.sx)(e,r,i)}function R(e,t,r,i={},a){let o=t.map(e=>r.fileByKey[e]);i.fileKeys=t,i.fileParentOrgIds=[],i.fileTeamIds=[],i.containingFolderIds=[],o.forEach(e=>{i.fileParentOrgIds.push(e.parent_org_id),i.fileTeamIds.push(e.team_id),i.containingFolderIds.push(e.folder_id)}),(0,n.sx)(e,i,a)}function P(e,t,r={},i){r.fileKeys=[],r.fileParentOrgIds=[],r.fileTeamIds=[],r.containingFolderIds=[],t.forEach(e=>{r.fileKeys.push(e.key),r.fileParentOrgIds.push(e.parentOrgId),r.fileTeamIds.push(e.teamId),r.containingFolderIds.push(e.folderId)}),(0,n.sx)(e,r,i)}function k(e,t,r,n){let i=e.map(e=>e.key),a=[],o=[],l=[];i.forEach((e,r)=>{let n=t[r];a.push(n.key),o.push(n.folder_id),l.push(n.team_id)}),R("File Copied",i,r,{copiedFileKeys:a,copiedContainingFolderIds:o,copiedFileTeamIds:l},n)}function D(e,t,r,i,a={},o){let l=i.folders[t];a.folderId=(null==l?void 0:l.id)||t,a.folderTeamId=(null==l?void 0:l.team_id)||r,(0,n.sx)(e,a,o)}function M(e,t,r,i={},a){let o=(0,u._)(t,r);i.teamId=null==o?void 0:o.id,i.teamName=null==o?void 0:o.name,(0,n.sx)(e,i,a)}function x(e,t,r,i={},a){let o=r.orgById[t];i.orgId=o.id,i.orgName=o.name,(0,n.sx)(e,i,a)}function F(e,t,r={},i){let a=t.user;r.userId=a&&a.id,(0,n.sx)(e,r,i)}let U={[l.vt.FILE]:"fileKey",[l.vt.FILE_REPO]:"fileRepoId",[l.vt.FOLDER]:"folderId",[l.vt.TEAM]:"teamId"};function B(e,t,r={},i){let a=U[t.resource_type];r.roleId=t.id,r[a]=t.resource_id_or_key,t.user_id&&(r.roleUserId=t.user_id),(0,n.sx)(e,r,i)}function H(e,t){(0,n.sx)(e,t)}function V(e){return{canEdit:e.canEdit,fileKey:e.key,productType:m(e)}}var G=(e=>(e.DESIGN="DESIGN",e.WHITEBOARD="WHITEBOARD",e))(G||{});let W="CTA Clicked";function K(e,t,r){let i=t||W;(0,a.Lo)(i,e.text||"",e,{logToConsole:a.NU.NEVER});let o={...e,nonInteraction:0};(0,n.sx)(i,o,{forwardToDatadog:!0,sendAsBeacon:r})}var Y=(e=>(e.NOT_POPULATED="not_populated",e.POPULATED_INCOMPLETE="populated_incomplete",e.POPULATED_COMPLETE="populated_complete",e))(Y||{});function j(e,t){let r={...e,nonInteraction:0};(0,n.sx)("Input Blurred",r,t)}function z(e,t={}){(0,n.sx)("Context Viewed",e,{forwardToDatadog:!0,...t})}let $="Disabled Team Creation Button Hovered",Z="User Submits Reupgrade Request",q=5e3},974105:(e,t,r)=>{"use strict";r.d(t,{Kl:()=>u,d1:()=>c,e9:()=>d,l$:()=>m,xA:()=>p,yt:()=>s});var n=r(966712),i=r(99506),a=r(243987),o=r(428467),l=r(707465);function s(e){if("fullscreen"===e.selectedView.view){let t=e.selectedView.fileKey;if(t)return e.fileByKey[t]??null}return null}function c(e){let t=(0,l.U2)(e.selectedView);return t?e.fileByKey[t]??null:null}function d(e){return"folder"===e.selectedView.view?e.folders[e.selectedView.folderId]:null}function u(e){return{...(0,o.getPermissionsState)(e),selectedView:e.selectedView,currentOrgId:e.currentUserOrgId}}function p(e,t,r=null,o,l=i._Y.DESIGN,s,c,u,p){let m=null;if(null===r){let t=d(e);t&&!(0,a.ZZ)(t,e)&&(m=t.id)}else"drafts"!==r&&(m=r.folderId);let _=null,h=e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null;h&&(_=h.id);let g=null;if((0,n.kc)().ps_benchmark){let t=e.currentTeamId?e.teams[e.currentTeamId]:null;t&&(g=t.id)}return{folder_id:m,org_id:_,openNewFileIn:t,trackingInfo:o||null,editorType:l,fileName:s,figjamAiNewFileData:u,figjamMakeSomethingUseCase:p,callback:c,team_id:g}}function m(e){return{...e,optimist:void 0}}},788811:(e,t,r)=>{"use strict";r.d(t,{$3:()=>eo,GT:()=>eL,Gc:()=>eD,JI:()=>Z,OL:()=>ew,QM:()=>en,R0:()=>ea,Rp:()=>ex,Ww:()=>ed,ZG:()=>eb,ZW:()=>q,_S:()=>ei,bD:()=>G,b_:()=>eC,dm:()=>eP,go:()=>es,gp:()=>eS,kl:()=>J,lu:()=>eO,mu:()=>ev,oE:()=>eA,t:()=>eI,vn:()=>er,wI:()=>el,yn:()=>eT,z$:()=>Q});var n,i=r(843407),a=r(194812),o=r(776250),l=r(717068),s=r(38329),c=r(966712),d=r(374626),u=r(38580),p=r(572174),m=r(395900),_=r(563706),h=r(776621),g=r(304783),f=r(825871),E=r(47506),y=r(939863),b=r(265746),v=r(696808),I=r(944682),T=r(106757),S=r(852800),w=r(314809),A=r(760640),C=r(691205),N=r(428467),O=r(973131),L=r(565167),R=r(988022),P=r(662531),k=r(493862),D=r(546312),M=r(786701),x=r(154823),F=r(823699),U=r(63104),B=r(132367),H=r(153297);function V(e,t){let r="unknown";e?"string"==typeof e?r=e:"message"in e&&(r=e.message):r="no error message",(0,h.x1)("Autosave",r,{message:t})}function G(){return 7776e6}async function W(e,t,r,n){let i=n.objectStore(F.Sp),a=await i.index(F.SW).get([e,t,r]);return a&&a.id?{id:a.id,...a}:void 0}async function K(e,t,r,n){let i=await W(e,t,r,n);return null==i?void 0:i.id}async function Y(e,t,r){let n=e.objectStore(F.Sp),i=e.objectStore(F.jP),a=e.objectStore(F.DV),o=e.objectStore(F.w8),l=[];for(let e of r){let t=await n.index(F.SW).get([e.userID,e.fileKey,e.sessionID]);t&&t.id&&l.push(t)}if(0===l.length)return await e.done,{changesByNode:new Map,referencedNodeMap:new Map,fileVersion:-1};l.sort((e,t)=>t.fileVersion-e.fileVersion);let s=l[0],c=new Map,d=new Map;for(let e of(await i.getAll((0,F.iM)(s.id))))c.set(e.nodeID,[e.changes,e.snapshots]);for(let e of(await o.getAll((0,F.iM)(s.id))))d.set(e.nodeID,e.buffer);let u=s.lastUpdatedAt;for(let e of l.slice(1)){let t=e.fileVersion===s.fileVersion;if(t){for(let t of(await i.getAll((0,F.iM)(e.id)))){let e=c.get(t.nodeID),r=t.changes,n=t.snapshots;if(e){let[i,a]=e;r=S.i6g.mergeMultiplayerMessages(i,t.changes,s.fileVersion),n={...a,...t.snapshots}}c.set(t.nodeID,[r,n]),i.put({editorSessionID:s.id,nodeID:t.nodeID,changes:r,snapshots:n}).catch(e=>V(e,"mergeAndClaimChanges: updating session IDs"))}for(let t of(await o.getAll((0,F.iM)(e.id))))d.set(t.nodeID,t.buffer),o.put({editorSessionID:s.id,nodeID:t.nodeID,buffer:t.buffer}).catch(e=>V(e,"mergeAndClaimChanges: merge referenced nodes"));u=Math.max(u,e.lastUpdatedAt)}i.delete((0,F.iM)(e.id)).catch(e=>V(e,"mergeAndClaimChanges: node changes for session")),o.delete((0,F.iM)(e.id)).catch(e=>V(e,"mergeAndClaimChanges: referenced nodes for session"));let r=await a.openCursor((0,F.iM)(e.id));for(;r;)t&&a.put({...r.value,editorSessionID:s.id}).catch(e=>V(e,"mergeAndClaimChanges: merge images")),r.delete().catch(e=>V(e,"mergeAndClaimChanges: remove old image")),r=await r.continue();n.delete(e.id).catch(e=>V(e,"mergeAndClaimChanges: delete old session id"))}return await n.put({...s,sessionID:t,lastUpdatedAt:u}),(0,F.dU)(e),await e.done,(0,h.Lo)("Autosave",`Found claimed autosave changes from ${l.length} sessions`,void 0,{logToConsole:S.NUh.ALWAYS}),{changesByNode:c,referencedNodeMap:d,fileVersion:s.fileVersion}}async function j(e,t){let r=(0,F.Zt)(e,t),n=[];return await A.xK.timeAsync("checkForAutosave",async()=>{let e=await (0,F.Z4)();if(!e)return;let t=e.transaction(F.Sp),i=t.objectStore(F.Sp),a=await i.index(F.SW).openCursor(r);for(;a;)n.push(a.value),a=await a.continue();await t.done}),n.length>0&&(0,h.ED)("Autosave","Found auto-saved data for this file",void 0,{logToConsole:S.NUh.ALWAYS}),n}async function z(e){return await A.xK.timeAsync("filterAutosaveSessions",async()=>{let t=await Promise.all(e.map(e=>(0,H.mc)(e))),r=Date.now()-G(),n=e.filter((e,n)=>!t[n]&&e.lastUpdatedAt>r);return 0===n.length&&(0,h.Lo)("Autosave","Changes not available or already claimed by another tab",void 0,{logToConsole:S.NUh.ALWAYS}),n})}let $=null;async function Z(e){async function t(){for(let e of["figma-autosave-v2","figma-autosave-darklaunch-v2"])(0,a.MR)(e).catch(()=>{});try{let t=await es((0,F.cu)(e),e=>Date.now()-e.lastUpdatedAt<G());if(t.length>0){let e=t.map(e=>e.lastUpdatedAt);(0,o.sx)("autosave garbage collect",{numSessions:t.length,localSessionCount:t.reduce((e,t)=>e+(t.isLocalFile?1:0),0),nodeCount:t.reduce((e,t)=>e+t.nodeCount,0),imageCount:t.reduce((e,t)=>e+t.imageCount,0),referencedNodeCount:t.reduce((e,t)=>e+t.referencedNodeCount,0),oldestSession:Math.min(...e),newestSession:Math.max(...e)})}}catch(e){(0,U.Lf)("Failed to garbage collect autosave changes",e)}(0,D.L_)()}$||($=t()),await $}async function q(e){let t={};for(let r of e){let e=await J(r);(e.unsyncedFiles.length>0||e.newFiles.length>0)&&(t[r]=e)}return t}async function J(e){let t=await (0,F.Z4)();if(!t)return{unsyncedFiles:[],newFiles:[],nextGarbageCollectionTimestamp:-1};let{editorSessionRowsWithChanges:r,newFilesByKey:n,newFilesWithChanges:a}=await X(t,e),o=new Set,l=new Map,s=-1,c=[];for(let t of r)o.has(t.fileKey)||c.push((0,H.mc)({userID:e,fileKey:t.fileKey,sessionID:t.sessionID}).then(e=>{if(!e){o.add(t.fileKey);let e=Math.max(l.get(t.fileKey)||0,t.lastUpdatedAt);l.set(t.fileKey,e),s=-1===s?t.lastUpdatedAt:Math.min(s,t.lastUpdatedAt)}}));return await Promise.all(c),{unsyncedFiles:Array.from(o).filter(e=>!(0,i.T)(e)).map(e=>({type:"autosave-file",fileKey:e,lastUpdatedAt:l.get(e)})),newFiles:Array.from(o).filter(e=>(0,i.T)(e)&&n.has(e)).map(e=>{let t=n.get(e);return et(t,l,a.has(t.fileKey))}).filter(({hasChanges:e})=>e),nextGarbageCollectionTimestamp:s}}async function X(e,t){let r=e.transaction([F.Sp,F.jP,F.JR]),n=Error("original async stack");r.done.catch(e=>{e.cause=n,(0,h.$D)(g.e.UNOWNED,e)});let i=r.objectStore(F.Sp),a=await i.index(F.SW).getAll((0,F.cu)(t)),o=[],l=r.objectStore(F.jP);for(let e of a)if(await l.count((0,F.iM)(e.id))>0){for(let t of(await l.getAll((0,F.iM)(e.id))))if(!((0,c.kc)().suppress_unsaved_changes_ui&&(0,c.kc)().incremental_loading_validation)||S.i6g&&!S.i6g.changesAreOnlyNewFileSystemChanges(t.changes,e.fileVersion)){o.push(e);break}}let s=new Map,d=r.objectStore(F.JR),u=new Set;for(let e of(await d.getAll((0,F.cu)(t)))){s.set(e.fileKey,e);let t=a.find(t=>t.fileKey===e.fileKey);if(t){let r=await l.getAll((0,F.iM)(t.id));(em(e.fileKey,r)||e.hasChangedMetadata)&&u.add(e.fileKey)}}return{editorSessionRowsWithChanges:o,newFilesByKey:s,newFilesWithChanges:u}}async function Q(e){let t=await J(e);return t.unsyncedFiles.length>0||t.newFiles.length>0}async function ee(e){var t,r;if((0,U.rQ)())return[];let n=await (0,F.Z4)();if(!n)return[];let{editorSessionRowsWithChanges:i,newFilesByKey:a,newFilesWithChanges:o}=await X(n,e),l=new Set,s=new Map;for(let e of i)l.add(e.fileKey),s.set(e.fileKey,Math.max(s.get(e.fileKey)||0,e.lastUpdatedAt));let c=Array.from(l).map(e=>{let t=a.get(e);return t?et(t,s,o.has(t.fileKey)):null}).filter(p.Vq);return null==(r=null==(t=ey)?void 0:t.fileCreationManager)||r.updateNewFileInfoFromFiles(c),c}function et(e,t,r){return{type:"new-autosave-file",fileKey:e.fileKey,editorType:e.editorType,name:e.name,creatorId:e.userID,createdAt:e.createdAt,lastUpdatedAt:t.get(e.fileKey),orgId:e.orgID??null,hasChanges:r,hasChangedMetadata:e.hasChangedMetadata??!1}}function er(e,t){return(0,l.WI)(e.map(e=>{let r=t[e.fileKey];return r&&!r.trashed_at?e:null}))}function en(e,t){return e.filter(e=>(0,N.canEditFileMemoized)(e.fileKey,t))}function ei(e,t){return(0,l.WI)(e.map(e=>{let r=t[e.fileKey];if(r)return{type:"autosave-file",fileKey:e.fileKey,lastUpdatedAt:e.lastUpdatedAt,file:r}}))}async function ea(e,t,r){await es((0,F.Zt)(e,t),e=>e.sessionID!==r)}async function eo(e,t){if((0,U.rQ)())return;let r=async(e,r)=>{let n=r.objectStore(F.jP);return em(t,await n.getAll((0,F.iM)(e.id)))};await es((0,F.Zt)(e,t),r)}async function el(e,t){await es((0,F.cu)(e),e=>!t.includes(e.fileKey))}async function es(e,t){let r=await (0,F.Z4)();if(!r)return[];let n=r.transaction([F.Sp,F.jP,F.DV,F.w8,F.JR],"readwrite"),a=Error("original async stack");n.done.catch(e=>{e.cause=a,(0,h.$D)(g.e.UNOWNED,e)});let o=n.objectStore(F.Sp),l=n.objectStore(F.jP),s=n.objectStore(F.DV),c=n.objectStore(F.w8),d=n.objectStore(F.JR),u=!1,p=await o.index(F.SW).getAll(e),m=[],_=[];for(let e of p)if(!(t&&await t(e,n))){let[t,r,n]=await Promise.all([l.count((0,F.iM)(e.id)),s.count((0,F.iM)(e.id)),c.count((0,F.iM)(e.id))]);_.push({userID:e.userID,fileKey:e.fileKey,sessionID:e.sessionID,isLocalFile:(0,i.T)(e.fileKey),nodeCount:t,imageCount:r,referencedNodeCount:n,lastUpdatedAt:e.lastUpdatedAt}),o.delete(e.id).catch(e=>V(e,"deleteAutosaveDataForSessions: delete editor session")),l.delete((0,F.iM)(e.id)).catch(e=>V(e,"deleteAutosaveDataForSessions: delete node changes")),s.delete((0,F.iM)(e.id)).catch(e=>V(e,"deleteAutosaveDataForSessions: delete images")),c.delete((0,F.iM)(e.id)).catch(e=>V(e,"deleteAutosaveDataForSessions: delete referenced nodes")),u=!0,(0,i.T)(e.fileKey)&&m.push({localFileKey:e.fileKey,userID:e.userID})}for(let{localFileKey:e,userID:t}of m)0===await o.index(F.SW).count((0,F.Zt)(t,e))?await d.delete((0,F.Zt)(t,e)):(0,U.W6)("Local file has remaining sessions");return await o.count()===0&&(await l.count()>0&&((0,U.W6)("Found leftover node changes in IDB"),l.delete((0,F.BE)()).catch(e=>V(e,"deleteAutosaveDataForSessions: delete leftover node changes"))),await s.count()>0&&((0,U.W6)("Found leftover images in IDB"),s.delete((0,F.IE)()).catch(e=>V(e,"deleteAutosaveDataForSessions: delete leftover images"))),await c.count()>0&&((0,U.W6)("Found leftover referenced node buffers in IDB"),c.delete((0,F.Ab)()).catch(e=>V(e,"deleteAutosaveDataForSessions: delete leftover referenced nodes")))),(0,F.dU)(n),await n.done,u&&(0,B.HZ)(),_}async function ec(e,t){await t.objectStore(F.jP).count((0,F.iM)(e))===0&&await t.objectStore(F.DV).count((0,F.iM)(e))===0&&await t.objectStore(F.w8).count((0,F.iM)(e))===0&&t.objectStore(F.Sp).delete(e).catch(e=>V(e,"deleteEditorSessionRowIfUnused: delete editor session"))}async function ed(e,t){let r=await (0,F.Z4)();if(!r)throw Error("Could not open autosave data");let n=r.transaction([F.Sp,F.jP,F.DV,F.w8]),i=n.objectStore(F.Sp),a=n.objectStore(F.jP),o={};for(let e of(await i.getAll()))o[e.id]=e,o[e.id].changes={},o[e.id].snapshots={};for(let r of(o.unknown={changes:{},snapshots:{}},(await a.getAll()).slice(0,e)))r.editorSessionID in o?(o[r.editorSessionID].changes[r.nodeID]=JSON.parse(S.i6g.encodeChangesAsJson(r.changes,o[r.editorSessionID].fileVersion,!!t)),o[r.editorSessionID].snapshots[r.nodeID]=r.snapshots):(o.unknown.changes[r.nodeID]=JSON.parse(S.i6g.encodeChangesAsJson(r.changes,1,!!t)),o.unknown.snapshots[r.nodeID]=r.snapshots);return await n.done,o}async function eu(e){let{transaction:t,commitPolicy:r,userID:n,fileKey:a,fileVersion:o,sessionID:l,oldSessionID:s,pendingChanges:d,pendingImages:u,pendingReferencedNodes:p,reason:m,isFirstCommitOfAutosaveSession:_}=e,h=t.objectStore(F.Sp),g=t.objectStore(F.jP),E=t.objectStore(F.DV),y=t.objectStore(F.w8),b=await W(n,a,s,t),v=0;b&&(v=(b.offlineEditingTime||0)+(_?0:Date.now()-b.lastUpdatedAt));let I=null==b?void 0:b.id,T={userID:n,fileKey:a,sessionID:l,lastUpdatedAt:Date.now(),releaseTag:(0,c.Ay)().release_git_tag||"",fileVersion:o,lastCommitReason:m,offlineEditingTime:v,originalTrackingSessionId:(0,f.f)()};for(let e of(null==I?I=await h.add(T):(r===S.W2B.REPLACE_CHANGES&&(g.delete((0,F.iM)(I)).catch(e=>V(e,"commitChanges: replace node changes")),y.delete((0,F.iM)(I)).catch(e=>V(e,"commitChanges: replace referenced nodes"))),h.put({id:I,...T}).catch(e=>V(e,"commitChanges: update session"))),d))e.changes?g.put({editorSessionID:I,nodeID:e.nodeID,changes:e.changes,snapshots:e.snapshots||void 0}).catch(e=>V(e,"commitChanges: put node changes")):g.delete([I,e.nodeID]).catch(e=>V(e,"commitChanges: clear node changes"));for(let e of u)if(await E.count([I,e])===0){let t=S.Bko.getCompressedImage(e);t&&E.add({editorSessionID:I,hash:e,blob:t}).catch(e=>V(e,"commitChanges: add images"))}for(let e of p)y.add({editorSessionID:I,nodeID:e.nodeID,buffer:e.buffer}).catch(e=>V(e,"commitChanges: add referenced nodes"));let w=await g.count((0,F.iM)(I));return 0===w&&(await E.delete((0,F.iM)(I)),await y.delete((0,F.iM)(I))),await ec(I,t),(0,F.dU)(t),await t.done,(0,i.T)(a)&&(0,B.HZ)(),w}async function ep(e,t,r){(0,h.Lo)("Autosave","assigning file key for new file",{localFileKey:t,newFileKey:r}),await (0,F.DB)([F.Sp,F.JR],async n=>{let i=n.objectStore(F.Sp);(await i.index(F.SW).getAll((0,F.Zt)(e,t))).map(e=>{e.fileKey=r,i.put(e)}),n.objectStore(F.JR).delete((0,F.Zt)(e,t))},"readwrite"),(0,B.HZ)()}function em(e,t){if(!(0,i.T)(e))return t.length>0;if(t.length>2)return!0;for(let{nodeID:e}of t)if(!["0:0","0:1"].includes(e))return!0;return!1}class e_{constructor(){this.nextEventPromise=new Promise(e=>{this.nextEventPromiseResolve=e})}onCommitEvent(){this.nextEventPromiseResolve(),this.nextEventPromise=new Promise(e=>{this.nextEventPromiseResolve=e})}waitForNextCommit(){return this.nextEventPromise}}class eh{constructor(e,t){this.userID=e,this._state={type:"connecting"},this._fileKey="",this.fileCreationManager=null,this.fileKey=t,(0,U.rQ)()?(this._sessionsToRestore=Promise.resolve([]),this._state={type:"terminated"}):(0,i.T)(t)?this._sessionsToRestore=j(e,t):this._sessionsToRestore=j(e,t).then(e=>z(e))}get fileKey(){return this._fileKey}get managerState(){return this._state.type}session(){return"connected"===this._state.type?this._state.session:null}set fileKey(e){this._fileKey=e;let t=(0,i.T)(e)?e:null;d.zl.set(x.h,t)}async assignFileKeyForLocalFile(e){if("connected"!==this._state.type){"connecting"===this._state.type&&(0,U.W6)("Still connecting");return}try{await this._state.session.enqueueAssignFileKeyForLocalFile(e,()=>{this.fileKey=e,this.fileCreationManager=null})}catch(e){this.terminateDueToError("unable to update file key",!0)}}async terminateAndWaitForCleanup(){let e="connected"===this._state.type?this._state.session:null;this._state={type:"terminated"},d.zl.set(x.h,null),await (null==e?void 0:e.destroy().catch(()=>(0,U.W6)("Failed to destroy autosave session")))}terminateDueToError(e,t){(0,h.xi)("Autosave","autosave disabled",{message:e}),t&&(0,U.W6)(e);let r="connected"===this._state.type;(0,o.sx)("autosave_disabled",{message:e,hasSessionInProgress:r},{forwardToDatadog:!0}),this.terminateAndWaitForCleanup().catch(t=>(0,U.W6)("Failed to terminate autosave",{message:e,error:t.message}))}async onConnect(e){if("connecting"!==this._state.type)return;try{await (0,F.Fy)()}catch(e){(0,h.Lo)("Autosave","IDB is not available in the current browser session.",void 0,{logToConsole:S.NUh.ALWAYS}),(0,o.sx)("autosave_db_failure",{message:e.message}),this.terminateDueToError("unable to open DB",!1);return}let t=new m.M4;t.start();let r=await this._sessionsToRestore;(0,i.T)(this.fileKey)&&(r.length>1?((0,U.W6)("Local file has multiple sessions",{sessionCount:r.length,sessionIds:r.map(e=>e.sessionID).slice(0,5).join(", ")}),this.terminateDueToError("Local file has multiple sessions",!1)):1===r.length&&0!==r[0].sessionID&&((0,U.W6)("Local file with changes from non-zero session",{existingSessionId:r[0].sessionID}),this.terminateDueToError("Local file with changes from non-zero session",!1)));let n=await (0,H.A2)({userID:this.userID,fileKey:this.fileKey,sessionID:e});if(!n){this.terminateDueToError("unable to acquire lock",!0);return}this._state={type:"connected",session:new eE(e,this,t,r,n)}}async onConnectNewFile(e){let t=this.fileKey;if((0,i.T)(t))try{await (0,F.DB)([F.JR],async r=>{let n=r.objectStore(F.JR);if(await n.get((0,F.Zt)(this.userID,t)))return;let i={fileKey:t,userID:this.userID,editorType:e.editorType,name:e.fileName??(0,y.t)("fullscreen.fullscreen_view_selector.untitled"),createdAt:Date.now(),orgID:e.org_id};await n.put(i)},"readwrite"),this.fileCreationManager&&(0,U.W6)("File creation manager already exists",{fileKey:t}),this.fileCreationManager=new ef(t,e)}catch(e){this.terminateDueToError("unable to set new file info",!0);return}await this.onConnect(0)}}async function eg(e,t,r){if((0,i.T)(t)&&e)try{await (0,F.DB)([F.JR],async n=>{let i=n.objectStore(F.JR),a=await i.get((0,F.Zt)(e,t));a&&await i.put({...a,name:r,hasChangedMetadata:!0})},"readwrite"),(0,B.HZ)()}catch(e){(0,h.$D)(g.e.SCENEGRAPH_AND_SYNC,Error("unable to update new file info"))}}class ef{constructor(e,t){this._pendingRealFileKey=null,this.fileKey=e,this._newFileInfo=t}get newFileInfo(){return this._newFileInfo}updateNewFileInfo(e){this._newFileInfo={...this._newFileInfo,...e}}updateNewFileInfoFromFiles(e){let t=e.find(e=>e.fileKey===this.fileKey);if(t){let e=(0,L.B)(t,this.newFileInfo.openNewFileIn);this.updateNewFileInfo(e)}}get pendingRealFileKey(){return this._pendingRealFileKey}assignPendingRealFileKey(e){this._pendingRealFileKey=e,B.hp.sendToAllTabs(B.m6,{localFileKey:this.fileKey,realFileKey:e})}}class eE{constructor(e,t,r,i,a){this.sessionID=e,this.manager=t,this.restoreTimer=r,this.changesToRestore=i,this.webLock=a,this.transactionQueue=new M.O,this.commitEventListener=new e_,this.restoring=!1,this.consecutiveCommitsAddingChanges=0,this.activityLogger=(null==(n=navigator.storage)?void 0:n.estimate)?new D.hS:null,this.restoreAnalytics={hadChangesToRestore:!1,fileKey:"",time:0,timeToStartSession:0,timeToApply:0,timeToSync:0,sessionsCheckTime:0,numberOfBytes:0,numberOfNodes:0,numberOfReferencedNodes:0,numberOfRestoredReferencedNodes:0,numberOfSessions:0,numberOfImages:0,neededToMigrate:!1,persistentStorage:!1,changesAreAllDerivedData:!1,nodeFields:[],stagingDump:void 0,lastUpdatedAt:void 0,releaseTag:void 0,isLocalFile:!1,offlineEditingTime:void 0,lastCommitReason:void 0,originalTrackingSessionId:void 0,storageUsageBytes:void 0,storageQuotaBytes:void 0,isIncremental:!1},this.reportedFullQueue=!1,this.reportedStorageError=!1,this.hasCommitted=!1,this.restoreAnalytics.timeToStartSession=this.restoreTimer.getElapsedTime()}getActivityLogger(){return this.activityLogger}async destroy(){await this.webLock.release().catch(e=>V(e,"AutosaveSession.destroy: releasing session lock"))}sessionTransaction(e,t,r,n){let i=(0,F.DB)(t,r,n);return i.catch(t=>{(0,o.sx)("autosave_transaction_failure",{transactionName:e,message:t.message}),this.manager.terminateDueToError(`${e} transaction failed`,!1)}),i}readyToAcceptChanges(){let e=this.transactionQueue.length>=10;return e&&!this.reportedFullQueue&&(this.reportedFullQueue=!0,(0,U.W6)("Autosave transaction queue is backed up.")),!this.restoring&&!e}hasOngoingCommitTask(){return!this.transactionQueue.isComplete()}async tryToFlushAutosave(){this.readyToAcceptChanges()&&(S.i6g.flushAutosave(),await this.transactionQueue.waitForCompletion())}async enqueueAutosaveCommit(e){await this.transactionQueue.enqueue(()=>this.commitAutosave(e))}async commitAutosave(e){var t;let{changes:r,commitPolicy:n,fileVersion:i,fileKey:a,newSessionID:o,numberOfUncleanRegisters:l,reason:c}=e;if(!this.readyToAcceptChanges()){this.manager.terminateDueToError("Committing, but not ready to accept changes",!0);return}if(o<0){this.manager.terminateDueToError("Unexpected sessionID < 0",!0);return}if(a&&a!==this.manager.fileKey){(0,U.W6)("Web file key out of sync with fullscreen file key",{"web file key":this.manager.fileKey,"fullscreen file key":a}),this.manager.terminateDueToError("Web file key out of sync with fullscreen file key",!1);return}null==(t=this.activityLogger)||t.recordAutosaveCommit(this.manager.fileKey,this.manager.userID,this.sessionID,e);let d=this.sessionID,u=null;if(o!==this.sessionID){u=this.webLock,this.sessionID=o;let e=await (0,H.A2)({userID:this.manager.userID,fileKey:this.manager.fileKey,sessionID:this.sessionID});if(!e){this.manager.terminateDueToError("unable to acquire lock",!0);return}this.webLock=e}if(!(0,H.LX)(this.webLock,{userID:this.manager.userID,fileKey:this.manager.fileKey,sessionID:this.sessionID})){this.manager.terminateDueToError("lock is not for the current session",!1);return}let p=r.changedNodes.length,m=r.changedNodes.map(e=>({nodeID:e.nodeID,changes:e.changes,snapshots:e.snapshots})).concat(r.clearedNodes.map(e=>({nodeID:e,changes:null,snapshots:null}))),_=[];for(let e of r.referencedNodes)_.push({nodeID:e.nodeID,buffer:e.changes});let g=new Set;for(let e of r.imageHashes)g.add(e);let f=await this.sessionTransaction("commit",[F.Sp,F.jP,F.DV,F.w8],async e=>await eu({transaction:e,commitPolicy:n,userID:this.manager.userID,fileKey:this.manager.fileKey,fileVersion:i,oldSessionID:d,sessionID:this.sessionID,pendingChanges:m,pendingImages:g,pendingReferencedNodes:_,reason:c,isFirstCommitOfAutosaveSession:!this.hasCommitted}),"readwrite");this.hasCommitted=!0;let y={stored_node_changes:f,unclean_registers:l,changed_nodes:p,cleared_nodes:r.clearedNodes.length,referenced_nodes:_.length,pending_images:g.size,commit_policy:S.W2B[n],session_id:this.sessionID,new_session_id:o,commit_reason:void 0!==c?S.uXP[c]:void 0,file_key:a,manager_file_key:this.manager.fileKey};if((0,h.Lo)("Autosave","commit completed",y),(0,R.ds)("autosave_commit_completed",a,s.D.getState(),y),!this.reportedStorageError&&void 0!==l&&l!==f){if(f>0&&0===l){let e=e=>{if(!(e.length>5))return e;{let t=e.slice(0,5);return t.push("..."),t}},t=await ed(5,!0);(0,h.x1)("Autosave","Dumping autosave since we expect IDB to be empty",{debug:t,changedNodes:e(r.changedNodes.map(e=>e.nodeID)),clearedNodes:e(r.clearedNodes),referencedNodes:e(r.referencedNodes.map(e=>e.nodeID)),imageHashes:e(r.imageHashes),currentSessionID:S.h3O.currentSessionID(),commitQueueLength:this.transactionQueue.length}),this.manager.terminateDueToError("Expected IDB to be empty after synchronizing with multiplayer",!0)}else f>l?this.manager.terminateDueToError("Expected IDB to have at many node changes as registers (currently has more)",!0):f<l&&this.manager.terminateDueToError("Expected IDB to have at many node changes as registers (currently has less)",!0);this.reportedStorageError=!0}null!=u&&u.release().catch(e=>V(e,"commitAutosave: release lock")),this.commitEventListener.onCommitEvent(),n===S.W2B.ADD_CHANGES?(this.consecutiveCommitsAddingChanges++,this.consecutiveCommitsAddingChanges>=4&&(0,E.YQ)({id:B.Cr})):this.consecutiveCommitsAddingChanges=0}async restoreAutosaveIfNeeded(){if(S.i6g.fileIsReadOnly())return;this.restoreAnalytics.fileKey=this.manager.fileKey,this.restoreAnalytics.isLocalFile=(0,i.T)(this.manager.fileKey),this.restoring=!0;let e=function(){var e;if(!_.Ay.chrome||!(null==(e=navigator.storage)?void 0:e.persist))return Promise.resolve(!1);let t=new Promise(e=>setTimeout(()=>e(!1),200));return Promise.race([navigator.storage.persist(),t])}(),t=(0,U.U4)(),r=this.changesToRestore;if(this.changesToRestore=[],this.restoreAnalytics.sessionsCheckTime=this.restoreTimer.getElapsedTime(),this.restoreAnalytics.numberOfSessions=r.length,r.length>0){let e=r[0];this.restoreAnalytics.lastUpdatedAt=e.lastUpdatedAt,this.restoreAnalytics.offlineEditingTime=e.offlineEditingTime,this.restoreAnalytics.originalTrackingSessionId=e.originalTrackingSessionId,this.restoreAnalytics.lastCommitReason=e.lastCommitReason?S.uXP[e.lastCommitReason]:void 0,this.restoreAnalytics.releaseTag=e.releaseTag,await this.restoreChangesForSessionRows(r)}this.restoreAnalytics.persistentStorage=await e;let{usageBytes:n,quotaBytes:a}=await t;this.restoreAnalytics.storageUsageBytes=n,this.restoreAnalytics.storageQuotaBytes=a,this.restoreAnalytics.isIncremental=S.h3O.isIncrementalSession(),this.restoreTimer.stop(),this.restoreAnalytics.time=this.restoreTimer.getElapsedTime(),(0,R.ds)("autosave_restore_on_load",this.restoreAnalytics.fileKey,s.D.getState(),this.restoreAnalytics,{forwardToDatadog:!0}),this.restoring=!1}async restoreChangesForSessionRows(e){if(!(0,H.LX)(this.webLock,{userID:this.manager.userID,fileKey:this.manager.fileKey,sessionID:this.sessionID})){this.manager.terminateDueToError("lock is not for the current session",!1);return}let{changesByNode:t,referencedNodeMap:r,fileVersion:n}=await this.sessionTransaction("restore",[F.Sp,F.jP,F.DV,F.w8],async t=>await Y(t,this.sessionID,e),"readwrite"),a=t.size>0;for(let e of(a?((0,i.T)(this.manager.fileKey)||await (0,O.m)(this.manager.fileKey,"Offline sync","Before syncing changes",s.D.dispatch).catch(e=>{var t;return(0,U.W6)("Failed to create before savepoint",{status:e.status,message:null==(t=e.data)?void 0:t.message})}),(0,h.Lo)("Autosave","Restoring auto-saved data",void 0,{logToConsole:S.NUh.ALWAYS}),await this.restoreChanges(t,r,n)):(0,h.Lo)("Autosave","Changes are empty!",void 0,{logToConsole:S.NUh.ALWAYS}),this.commitEventListener.waitForNextCommit().then(()=>{B.hp.sendToOtherTabs(B.a)}).catch(e=>V(e,"restoreChangesForSessionRows: waitForNextCommit")),this.restoreAnalytics.hadChangesToRestore=a,this.restoreAnalytics.numberOfBytes=0,this.restoreAnalytics.numberOfNodes=t.size,this.restoreAnalytics.numberOfReferencedNodes=r.size,t.values()))this.restoreAnalytics.numberOfBytes+=e.length}async restoreChanges(e,t,r){let n=Array.from(e.entries()).sort(([e,t],[r,n])=>e<r?-1:1),a=(0,c.kc)().suppress_unsaved_changes_ui&&(0,c.kc)().incremental_loading_validation&&n.every(([e,[t]])=>S.i6g.changesAreOnlyNewFileSystemChanges(t,r));for(let[e,[t,i]]of n)S.i6g.loadAutosavedNodeChanges(e,t,i,r);if(this.restoreAnalytics.changesAreAllDerivedData=S.i6g.changesAreAllDerivedData(),this.restoreAnalytics.nodeFields=S.i6g.restoredNodeFieldNames(),this.restoreAnalytics.neededToMigrate=S.i6g.currentFileVersion()>r,(0,k.Ff)()){(0,R.ds)("autosave_load_containing_pages_start",this.manager.fileKey,s.D.getState(),{node_count:e.size,fileKey:this.manager.fileKey});let t=performance.now(),r=new Set(e.keys());for(let e of S.i6g.getParentIndexChanges())r.add(e);await (0,k.Xl)(r),(0,R.ds)("autosave_load_containing_pages_end",this.manager.fileKey,s.D.getState(),{node_count:e.size,timeElapsed:performance.now()-t,fileKey:this.manager.fileKey})}let o=S.i6g.getImagesUsedInAutosavedChanges().split(" ");this.restoreAnalytics.numberOfImages=await this.restoreImagesIfAvailable(o);let l=this.restoreAvailableReferencedNodes(t);S.i6g.migrateAndSetAutosaveChanges(l,r),P.l7.autosave("autosave",()=>S.i6g.applyAutosavedChanges()),this.restoreAnalytics.timeToApply=this.restoreTimer.getElapsedTime(),(0,h.Lo)("Autosave","Successfully applied auto-saved changes",void 0,{logToConsole:S.NUh.ALWAYS});let d=()=>{s.D.dispatch(v.Q.enqueueFront({notification:{type:b._.AUTOSAVE_CHANGES_RESTORED,message:"Your offline changes were synced"}})),(0,h.Lo)("Autosave","Successfully synced auto-saved changes",void 0,{logToConsole:S.NUh.ALWAYS})};(0,i.T)(this.manager.fileKey)?(0,w.l)().then(()=>{var e;this.manager.fileKey!==(null==(e=s.D.getState().openFile)?void 0:e.key)||a||d()}):(await (0,w.l)(),this.restoreAnalytics.timeToSync=this.restoreTimer.getElapsedTime(),await (0,O.m)(this.manager.fileKey,"Offline sync","After syncing changes",s.D.dispatch).catch(e=>{var t,r;(0,R.ds)("autosave_skip_after_checkpoint",this.manager.fileKey,s.D.getState(),{error:null==(t=e.data)?void 0:t.message}),(0,U.W6)("Failed to create after savepoint",{status:e.status,message:null==(r=e.data)?void 0:r.message})}),a||d())}async restoreImagesIfAvailable(e){let t=0;return await this.sessionTransaction("restore images",[F.Sp,F.DV],async r=>{let n=await this.currentEditorSessionID(r);if(!n)return;let i=r.objectStore(F.DV);for(let r of e){let e=await i.get([n,r]);e&&(S.i6g.restoreImageBytes(r,e.blob),t++)}await r.done}),t}restoreAvailableReferencedNodes(e){let t=[];for(let[r,n]of e)S.i6g.restoreReferencedNodeFile(r,n),t.push(r);return t}currentEditorSessionID(e){return K(this.manager.userID,this.manager.fileKey,this.sessionID,e)}async getNodeChangesForSession(){let e=await (0,F.Z4)();if(!e)throw Error("Unable to get DB");let t=e.transaction([F.Sp,F.jP],"readonly"),r=t.objectStore(F.jP),n=await this.currentEditorSessionID(t);return n?await r.getAll((0,F.iM)(n)):[]}async getNodeChangeCount(){return(await this.getNodeChangesForSession()).length}async hasPersistedUserChanges(){let e=await this.getNodeChangesForSession();return em(this.manager.fileKey,e)}async enqueueAssignFileKeyForLocalFile(e,t){let r=this.manager.fileKey;if(!(0,i.T)(r)){(0,U.W6)("Only local file keys can be reassigned");return}if((0,i.T)(e)){(0,U.W6)("Cannot reassign file key to a local file key");return}await this.transactionQueue.enqueue(async()=>{let n=this.webLock,i=await (0,H.A2)({userID:this.manager.userID,fileKey:e,sessionID:this.sessionID});if(!i){this.manager.terminateDueToError("unable to acquire lock",!0);return}this.webLock=i,await ep(this.manager.userID,r,e),t(),await (null==n?void 0:n.release())})}}let ey=null;function eb(){return ey}function ev(e,t){if(ey){if(ey.fileKey===e)return(0,h.Lo)("Autosave","Autosave manager already exists"),ey;(0,U.W6)("Manager already exists. Updating file key",{"current fileKey":ey.fileKey,"new fileKey":e}),ey.terminateAndWaitForCleanup(),ey=null}return(0,h.ED)("Autosave","Create autosave manager",{fileKey:e}),ey=new eh(t,e)}function eI(){eT().catch(e=>V(e,"failed to destroy autosave manager"))}async function eT(){if((0,h.ED)("Autosave","Destroy autosave manager"),!ey){(0,h.Lo)("Autosave","No manager to destroy");return}let e=ey;ey=null,await e.terminateAndWaitForCleanup()}function eS(e,{offlineFiles:t}){let r={};for(let n in e){let e=t[n];e&&(r[n]=e)}return r}let ew=C.M4.Query({async fetch({userId:e}){if(!e)return{};let t=await ee(e),r={};for(let e of t)r[e.fileKey]=e;return r}});var eA=(e=>(e.OFFLINE_FILE_TILE="OFFLINE_FILE_TILE",e.EDITOR="EDITOR",e))(eA||{});let eC=C.M4.Mutation(({fileKey:e,name:t,source:r},{atomStore:n,query:i,reduxStore:a})=>{var l,c;if(n.set(eR,null),!t)return;let d=(null==(l=a.getState().user)?void 0:l.id)??null;i.mutate(ew({userId:d}),r=>{let n=r[e];n&&(n.name=t)});let u=null==(c=ey)?void 0:c.fileCreationManager;return u&&(u.fileKey===e?(u.updateNewFileInfo({fileName:t}),u.pendingRealFileKey&&s.D.dispatch(I.yJ({file:{key:u.pendingRealFileKey,name:t},userInitiated:!0}))):(0,U.W6)("File key in rename mutation does not match current FileCreationManager file key",{mutationFileKey:e,fileCreationManagerFileKey:u.fileKey})),(0,o.sx)("Rename New Autosave File",{source:r,isOffline:!navigator.onLine}),eg(d,e,t)}),eN=(0,u.eU)(e=>{let t=e(T.kS),r={};if(t){let n=e(ew({userId:t}));for(let[e,t]of Object.entries((null==n?void 0:n.data)??{}))t.hasChanges&&(r[e]=t)}return r}),eO=(0,u.eU)(e=>{let t=e(x.h),r=e(T.kS);if(t&&r){let n=e(ew({userId:r})),i=(null==n?void 0:n.data)??{};if(t in i)return i[t]}return null});function eL(){return d.zl.get(eO)}let eR=(0,u.eU)(null);function eP(e){d.zl.set(eR,e.fileKey)}let ek=(0,u.eU)({});function eD(e,t){let r=d.zl.get(ek);d.zl.set(ek,{...r,[e]:t})}let eM=(0,u.eU)(e=>{let t={...e(eN)},r=e(eR),n=e(ek),i={};for(let e in t)e in n||(i[e]=t[e]);if(r&&r in i){let e=i[r];i[r]={...e,isRenaming:!0}}return i});function ex(){return(0,d.md)(eM)}},742809:(e,t,r)=>{"use strict";r.d(t,{X:()=>c,o:()=>d});var n=r(762638),i=r(980820),a=r(113853),o=r(662275),l=r(731078),s=r(648834);let c=(0,i.nF)((e,{entity:t,entityType:r,shape:i})=>{let l=document.createElement("input");l.type="file",l.accept="image/*",l.className=n.cx.hidden.$,l.style.display="none",l.onchange=()=>{let n=l.files;null!==n&&n.length>0&&(e.dispatch(a.s6({entity:t,entityType:r,file:n[0],shape:i||"CIRCLE"})),e.dispatch(o.to({type:s._,showModalsBeneath:!0})))},document.body.appendChild(l),l.click()}),d=(0,i.nF)((e,{team:t})=>{e.dispatch(c({entity:t,entityType:l.ck.TEAM,shape:"SQUARE"}))})},789586:(e,t,r)=>{"use strict";r.d(t,{L:()=>y});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(946689),s=r(762638),c=r(939863),d=r(662275),u=r(995852),p=r(845213),m=r(237870),_=r(585878),h=r(881388),g=r(552985),f=r(209590);let E=n.memo(function(e){let t=(0,i.wA)(),{displayName:r,legalName:a}=e,[m,E]=n.useState(r||""),[y,b]=n.useState(a||""),{isLoading:v,withLoading:I}=(0,g.R)(),T=()=>{t(d.Ce())},S=async r=>{r.preventDefault(),await I(async()=>{if(e.updateNameImmediately&&e.team)try{e.canSeeBillingAddressExp?await p.$.updateDisplayName({teamId:e.team.id,updatedDisplayName:m}):await p.$.updateTeamName({teamId:e.team.id,updatedDisplayName:m,updatedLegalName:y})}catch(n){let r=e.canSeeBillingAddressExp?(0,c.t)("update_company_details_modal.update_display_name.error"):(0,c.t)("update_company_details_modal.update_team_name.error");throw t(h.s.error((0,c.Jv)(n)||r)),n}else t(u.yy({legalName:y,displayName:m}));T()})};return n.createElement(_.XV,{onClose:T,title:e.modalTitle,minWidth:448,maxWidth:448,fixedTop:!0},n.createElement("form",{onSubmit:S,className:s.cx.p16.$},n.createElement("div",{className:s.cx.mt4.$},n.createElement("label",{htmlFor:"teamName",className:s.cx.colorTextSecondary.$},n.createElement("strong",{className:s.cx.block.colorText.$},n.createElement(c.Tx,{id:"pro_cart.review.edit_details.team_name_label"})),n.createElement(c.Tx,{id:"pro_cart.review.edit_details.team_name_description"})),n.createElement(l.ks,{value:m,id:"teamName",onChange:e=>{E(e.target.value)},dataTestId:"company-team-name",className:s.cx.block.mt8.wFull.$})),!e.canSeeBillingAddressExp&&n.createElement("div",{className:s.cx.mt20.$},n.createElement("label",{htmlFor:"legalName",className:s.cx.colorTextSecondary.$},n.createElement("strong",{className:s.cx.block.colorText.$},n.createElement(c.Tx,{id:"pro_cart.review.edit_details.company_name_label"})),n.createElement(c.Tx,{id:"pro_cart.review.edit_details.company_name_description"})),n.createElement(l.ks,{value:y,id:"legalName",onChange:e=>{b(e.target.value)},dataTestId:"company-name",className:s.cx.block.mt8.wFull.$})),n.createElement("div",{className:o()(f.v0,f.hF)},n.createElement(l.tM,{onClick:T,disabled:v},n.createElement(c.Tx,{id:"pro_cart.review.edit_details.cancel"})),n.createElement(l.vd,{className:f.pL,disabled:v,type:"submit"},n.createElement(c.Tx,{id:"pro_cart.review.edit_details.save"})))))}),y=(0,m.Ju)(E,"UpdateCompanyDetailsModal")},582410:(e,t,r)=>{"use strict";r.d(t,{AG:()=>l,JT:()=>o,kH:()=>a});var n=r(545697),i=r(720647);new n.X([i.lM.DESIGN,i.lM.FIGJAM]),new n.X([i.lM.DESIGN,i.Mg]);let a=new n.X([i.lM.DESIGN,i.lM.FIGJAM,i.lM.DEV_MODE]),o=new n.X([i.lM.DESIGN,i.Mg,i.lM.DEV_MODE]);function l(e,t){let r={[i.vu]:0,[i.PE]:1,[i.Mg]:2,[i.tL]:2};return r[e]-r[t]}},720647:(e,t,r)=>{"use strict";r.d(t,{G_:()=>d,Mg:()=>s,PE:()=>c,Td:()=>g,Te:()=>u,lM:()=>p,lh:()=>h,oM:()=>m,px:()=>f,tL:()=>l,vc:()=>_,vu:()=>o});var n=r(935283),i=r(99506),a=(e=>(e.DESIGN="design",e.FIGJAM="figjam",e.WHITEBOARD="whiteboard",e.DEV_MODE="dev_mode",e.SLIDES="slides",e.SITES="sites",e))(a||{});let o="design",l="figjam",s="whiteboard",c="dev_mode",d={DESIGN:"design",FIGJAM:"figjam"},u={DESIGN:"design",WHITEBOARD:"whiteboard"},p={DESIGN:"design",FIGJAM:"figjam",DEV_MODE:"dev_mode"},m={DESIGN:"design",WHITEBOARD:"whiteboard",DEV_MODE:"dev_mode"};function _(e){switch(e){case i._Y.DESIGN:case i._Y.SLIDES:case i._Y.SITES:return u.DESIGN;case i._Y.WHITEBOARD:return u.WHITEBOARD;default:(0,n.xb)(e)}}function h(e){return e===d.FIGJAM?u.WHITEBOARD:e}function g(e){return e===m.WHITEBOARD?p.FIGJAM:e}function f(e){let t=function(e){switch(e){case"design":return p.DESIGN;case"figjam":case"whiteboard":return p.FIGJAM;case"dev_mode":return p.DEV_MODE}return null}(e);return t===p.FIGJAM?m.WHITEBOARD:t}},12493:(e,t,r)=>{"use strict";r.d(t,{$n:()=>I,TY:()=>v,ac:()=>w,gW:()=>b});var n=r(411855),i=r(188507),a=r(499737),o=r(391388),l=r(857766),s=r(809511),c=r(678340),d=r(335682),u=r(99506),p=r(279453),m=r(428467),_=r(239671),h=r(66037),g=r(775099),f=r(100197),E=r(147206),y=r(984968);function b(e,t,r,n,i,a,o,d){return{createBranch:T(e,t,o,d,r,n),openBranchSource:e&&(0,l.Kz)(e)?{status:"enabled"}:{status:"hidden"},viewBranches:e&&e.fileRepoId?o?{status:"hidden",reason:"Recovery mode"}:{status:"enabled"}:{status:"hidden"},viewBranchDiff:function(e,t,r,n,i){if(!e)return{status:"hidden"};if(!(0,l.Kz)(e))return{status:"hidden",reason:"Not a branch"};let a=(0,m.canViewFile)(e.key,t,!1),o=e.sourceFileKey,d=o&&(0,m.canViewFile)(o,t,!1);return a?d?i?{status:"hidden",reason:"Recovery mode"}:n!==s.lyf.BRANCHING&&r!==c.Wy.SAFE?{status:"disabled",reason:"Low memory"}:{status:"enabled"}:{status:"hidden",reason:"Can't view source"}:{status:"hidden",reason:"Can't view branch"}}(e,t,n,i,o),mergeBranch:function(e,t,r,n,i,a){if(!e)return{status:"hidden"};if(!(0,l.Kz)(e))return{status:"hidden",reason:"Not a branch"};let o=(0,m.canManageFile)(e.key,t,!1),d=e.sourceFileKey,u=d&&(0,m.canManageFile)(d,t,!1);if(!o)return{status:"hidden",reason:"Can't edit branch"};if(!u)return{status:"hidden",reason:"Can't edit source"};if(e.trashedAt)return{status:"hidden",reason:"Branch is archived"};if(a)return{status:"hidden",reason:"Recovery mode"};if(n!==s.lyf.BRANCHING){if(r!==c.Wy.SAFE)return{status:"disabled",reason:"Low memory"};if(i!==s.kul.JOINED)return{status:"disabled",reason:"Offline"}}return{status:"enabled"}}(e,t,n,i,a,o),viewSourceDiff:function(e,t,r,n,i,a){if(!e)return{status:"hidden"};if(!(0,l.Kz)(e))return{status:"hidden",reason:"Not a branch"};if(!(0,m.canViewFile)(e.key,t,!1))return{status:"disabled",reason:"Can't view branch"};let o=e.sourceFileKey;if(!(o&&(0,m.canViewFile)(o,t,!1)))return{status:"disabled",reason:"Can't view source"};if(e.trashedAt)return{status:"hidden",reason:"Branch is archived"};if(a)return{status:"hidden",reason:"Recovery mode"};let d=e.sourceFileKey&&t.fileByKey[e.sourceFileKey],u=t.fileByKey[e.key];if(!d||!S(u,d))return{status:"disabled",reason:"No changes"};if(n!==s.lyf.BRANCHING){if(r!==c.Wy.SAFE)return{status:"disabled",reason:"Low memory"};if(i!==s.kul.JOINED)return{status:"disabled",reason:"Offline"}}return{status:"enabled"}}(e,t,n,i,a,o),updateBranch:function(e,t,r,n,i,a){if(!e||!(0,l.Kz)(e))return{status:"hidden"};if(!(0,m.canManageFile)(e.key,t,!0))return{status:"hidden",reason:"Can't edit branch"};let o=e.sourceFileKey;if(!(o&&(0,m.canViewFile)(o,t,!1)))return{status:"hidden",reason:"Can't view source"};if(e.trashedAt)return{status:"hidden",reason:"Branch is archived"};if(a)return{status:"hidden",reason:"Recovery mode"};let d=e.sourceFileKey&&t.fileByKey[e.sourceFileKey],u=t.fileByKey[e.key];if(!d||!S(u,d))return{status:"disabled",reason:"No changes"};if(n!==s.lyf.BRANCHING){if(r!==c.Wy.SAFE)return{status:"disabled",reason:"Low memory"};if(i!==s.kul.JOINED)return{status:"disabled",reason:"Offline"}}return{status:"enabled"}}(e,t,n,i,a,o)}}function v(){var e;return(0,f.ut)(null==(e=s.Ez5)?void 0:e.uiState().isRecovery,!1)}function I(){let e=(0,m.useMemoizedPermissionsState)(),t=(0,d.q5)(),r=(0,i.d4)(e=>e.selectedView.editorType),a=v(),{warningLevel:o}=(0,c.Mk)(),l=(0,i.d4)(e=>e.mirror.appModel.topLevelMode),s=(0,i.d4)(e=>e.mirror.appModel.multiplayerSessionState),u=(null==t?void 0:t.teamId)??null;return(0,n.useMemo)(()=>b(t,e,r,o,l,s,a,u),[t,e,r,o,l,s,a,u])}function T(e,t,r,n,i,a){if(!e)return{status:"hidden",reason:"No file"};if(r)return{status:"hidden",reason:"Recovery"};if(i!==_.nT.Design)return{status:"hidden",reason:"Invalid editor type"};if(void 0!==a&&a!==c.Wy.SAFE)return{status:"disabled",reason:"Low memory"};if((0,E.Pe)(e))return{status:"disabled",reason:"File is copy/export restricted"};if((0,m.isOrgUserExternallyRestrictedFromState)(t))return{status:"hidden",reason:"Your organization doesn't allow you to create branches in external spaces."};if((0,g.XD)({currentTeamId:n,hasCurrentOrg:!!t.currentUserOrgId}))return{status:"upsell-org",reason:"Not in org but can upsell into it"};if(!e.parentOrgId)return{status:"hidden",reason:"File is not in org"};if(!t.currentUserOrgId)return{status:"hidden",reason:"Not in org"};let o=(0,l.up)(e,t.repos);if(o&&!(0,l.SA)(e,o))return{status:"hidden",reason:"Not the main file"};let s=t.user&&t.currentUserOrgId&&t.orgUsersByOrgId.orgUsers[t.currentUserOrgId]&&t.orgUsersByOrgId.orgUsers[t.currentUserOrgId][t.user.id]?t.orgUsersByOrgId.orgUsers[t.currentUserOrgId][t.user.id]:null,d=s&&s.design_paid_status;if(null===d)return{status:"hidden",reason:"Unknown account type"};switch(d){case u.El.RESTRICTED:if(s&&(0,E.Ay)(s.permission)===h.jh.GUEST)return{status:"hidden",reason:"Guests cannot see upsell"};return{status:"upsell-org-seat"};case u.El.STARTER:return{status:"hidden",reason:"Invalid account type"};case u.El.FULL:return{status:"enabled"}}}function S(e,t){return t.checkpoint_id&&e.source_checkpoint_id&&e.source_checkpoint_id!==t.checkpoint_id}function w(e){let t=(0,y.cD)(),r=null==e?void 0:e.key,i=(0,a.Rs)(p.XRI,{fileKey:r},{enabled:!!r}),l=(0,m.usePermissionsState)(),s=v();return(0,n.useMemo)(()=>e?o.Qw.from(i).transform(r=>T(r.file&&e?{key:e.key,parentOrgId:e.parent_org_id||null,fileRepoId:e.file_repo_id,canEdit:r.file.canEdit,viewerExportRestricted:r.file.viewerExportRestricted}:null,l,!!s,t,(0,_.RB)(e.editor_type))):o.Qw.loaded({status:"hidden",reason:"No file"}),[t,s,l,e,i])}},654034:(e,t,r)=>{"use strict";r.d(t,{CR:()=>C,F$:()=>F,G9:()=>O,GV:()=>y,JG:()=>T,PK:()=>E,Zz:()=>U,eR:()=>S,gj:()=>R,hx:()=>f,k0:()=>M,o8:()=>w,rN:()=>b,ro:()=>P,t$:()=>I,us:()=>x,vl:()=>k,wB:()=>g});var n=r(935283),i=r(609494),a=r(91408),o=r(966712),l=r(499737),s=r(886653),c=r(572206),d=r(309249),u=r(226055),p=r(457630),m=r(440535),_=r(911259),h=r(860168);let g=1,f={x:16,y:-4},E={top:0,right:0,bottom:0,left:0,width:0,height:0},y={messageMeta:[],attachments:{},state:m.EB.READY,anchorPosition:null,selectionBoxAnchor:null,discardAttempt:0};function b(e,t){return!t||(0,c.gR)(t,e)}function v(e){return(0,a.jz)(e?h.NJv:h.QP5)}function I(){return v((0,u.GS)())}function T(e,t,r){let{messageMeta:n,attachments:i,anchorPosition:a,selectionBoxAnchor:o}=t;return{id:m.hm,key:m.hm,uuid:m.hm,anchored:!0,canvasPosition:a,selectionAnchorCanvasPosition:o,page:r,isActive:e===m.hm,comments:[],messageMeta:n,attachments:Object.values(i),pageName:null,isCanvasMention:!1,sidebarItemType:m.kT.COMMENT_THREAD}}function S(e){return e===m.hm}let w=(0,s.cm)(e=>e.map(e=>{var t;return e.user?{user_id:e.user.id,user_annotated:{id:e.user.id,handle:e.user.handle,img_url:e.user.imgUrl}}:{t:null!==e.t?e.t:void 0,link:e.link?e.link:void 0,styles:e.styles?e.styles:void 0,children:(null==(t=e.children)?void 0:t.length)?w(e.children):void 0,is_hashtag:"isHashtag"in e&&e.isHashtag?e.isHashtag:void 0}})),A=(0,s.cm)(e=>({x:e.x,y:e.y,...e.nodeId?{node_id:e.nodeId}:{},...e.inFrame?{in_frame:e.inFrame}:{},...e.nodeOffset?{node_offset:e.nodeOffset}:{},...e.selectionBoxAnchor?{selection_box_anchor:e.selectionBoxAnchor}:{},...e.stablePath?{stable_path:e.stablePath}:{}})),C=(0,s.cm)(e=>({id:e.id,handle:e.handle,img_url:e.imgUrl})),N=(e,t,r)=>{if("publicUuid"in e&&e.publicUuid)return!1;if(t.unreadComments[e.id])return!0;if(t.readComments[e.id])return!1;let n=t.allReadAt||t.createdAt;return!(e.createdAt.getTime()<=n.getTime())&&e.user.id!==r};function O(e,t,r,n,a,l,s){var c;let d=N(r,n,e),u=(0,i.L4)(r.id),p=r.messageMeta;(null==(c=r.messageMetaStylized)?void 0:c.length)&&(p=r.messageMetaStylized);let m=(0,o.kc)().comments_faster_saving_ux?!!r.uuid&&a.has(r.uuid):void 0,_=(0,o.kc)().comments_faster_saving_ux_v2?u||!!t.uuid&&t.uuid in l:void 0;return{id:r.id,uuid:r.uuid,key:t.key,parent_id:r.parentId,user_id:r.user.id,created_at:r.createdAt.toISOString(),resolved_at:t.resolvedAt?t.resolvedAt.toISOString():null,deleted_at:null,message_meta:w(p),attachments:s,client_meta:r.clientMeta?A(r.clientMeta):null,order_id:null!==r.orderId?r.orderId.toString():null,isUnread:d,isPendingFromSinatra:u,isSaving:m,isPendingFromLg:_,user:C(r.user)}}let L=new Date,R={id:"",userId:"",fileKey:"",createdAt:L,allReadAt:L,readComments:{},unreadComments:{}};function P(e,t,r,n,a,s,c,d){if("loaded"!==t.status)return t;let u=t.data.file;if(!u)return(0,l.gB)([]);let p=null==u?void 0:u.comments.filter(e=>!e.parentId),_=u.comments.filter(e=>e.parentId).reduce((e,t)=>{let r=e[t.parentId]||[];return r.push(t),e[t.parentId]=r,e},{}),h=u.commentAttachments.reduce((e,t)=>{if(!t.fileCommentId)return e;let r=e[t.fileCommentId]||[];return r.push(t),e[t.fileCommentId]=r,e},{}),g=a(p.filter(e=>{var t;return null==(t=e.clientMeta)?void 0:t.nodeId}).map(e=>e.clientMeta.nodeId)),f=p.map(t=>{var a,l,p;let f=t.clientMeta&&t.clientMeta.nodeId,E=n[t.id]||t.uuid&&n[t.uuid],y=null;if(E&&(null==(a=t.clientMeta)?void 0:a.selectionBoxAnchor)){let e=t.clientMeta.x-t.clientMeta.selectionBoxAnchor.x,r=t.clientMeta.y-t.clientMeta.selectionBoxAnchor.y;y={x:E.x-e,y:E.y-r}}let b=f?g[f]||(null==(l=t.clientMeta)?void 0:l.pageId)||null:(null==(p=t.clientMeta)?void 0:p.pageId)||"0:1",v=_[t.id]||[],I=[t,...v.sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime())],T=u.currentUserCommentReadStatus||R,S=I.map(r=>{let n=h[r.id]??(r.uuid&&h[r.uuid]);return O(e,t,r,T,c,d,n)}),w=(0,i.L4)(t.id),A=(0,o.kc)().comments_faster_saving_ux?!!t.uuid&&c.has(t.uuid):void 0,C=(0,o.kc)().comments_faster_saving_ux_v2?w||!!t.uuid&&t.uuid in d:void 0;return{id:t.id,uuid:t.uuid||void 0,key:t.key,anchored:!!E,canvasPosition:E,selectionAnchorCanvasPosition:y,page:b,pageName:b&&s[b]||null,isActive:r===t.id,isPendingFromSinatra:w,isSaving:A,isPendingFromLg:C,comments:S,messageMeta:[],attachments:[],isCanvasMention:!1,sidebarItemType:m.kT.COMMENT_THREAD,commentPin:t.commentPin}});return(0,l.gB)(f)}function k(e,t,r,i){let{canvasPosition:a}=t,o=a&&e?(0,p.Z0)(e,a):null,l=function(e,t,r,i,a,o){if(!e||!t)return null;let l=(function(e){switch(e){case m.kT.COMMENT_THREAD:return _.XC;case m.kT.FEED_POST:case m.kT.WALKTHROUGH_MEDIA:return _.b1;default:(0,n.xb)(e)}})(i).getPinSize(r).width,s=l+f.x+v(a)+25;return e.width-t.x-(o??0)<s?{x:-1*v(a)-f.x,y:-55}:{x:l+f.x,y:-55}}(e,o,new Set(t.comments.map(e=>e.user_id)).size,t.sidebarItemType,r,i),s=o&&l?c.Mi.add(o,l):null;return{...t,anchorPosition:o,threadPosition:s,threadOffset:l}}let D=(e,t,r)=>{let n=e.id;if(t.unreadCanvasMentions[n])return!0;if(t.readCanvasMentions[n])return!1;let i=t.allReadAt||t.createdAt;return!(e.createdAt.getTime()<=i.getTime())&&r!==e.id};function M(e,t,r){if("loaded"!==t.status)return t;let n=t.data.file;if(!n)return(0,l.gB)([]);let i=n.fileCanvasMentions,a=n.currentUserFileCanvasMentionReadStatus||d.ih,o=i.map(t=>(function(e,t,r,n){let i=`canvas_mention_${t.id.replace(/-/g,"_")}`,a=t.id,o=D(t,r,e);return{id:i,uuid:a,key:t.fileKey,anchored:!1,canvasPosition:null,selectionAnchorCanvasPosition:null,page:null,pageName:null,isActive:n===i,isPendingFromSinatra:void 0,comments:[{id:i,uuid:a,key:a,parent_id:null,user_id:t.fileKey,created_at:t.createdAt.toISOString(),resolved_at:null,deleted_at:null,message_meta:w(t.messageMeta),client_meta:null,order_id:null,isUnread:o,isPendingFromSinatra:!1,user:C(t.mentionedByUser)}],messageMeta:w(t.messageMeta),attachments:[],isCanvasMention:!0,replyCount:void 0,sidebarItemType:m.kT.COMMENT_THREAD,nodeId:t.nodeIdPath[0]}})(e,t,a,r));return(0,l.gB)(o)}function x(){return{reply:{messageMeta:[],attachments:{}},state:m.EB.READY}}function F(e){let t=[];for(let r=0;r<e.message_meta.length;r++){let n=e.message_meta[r];n.hasOwnProperty("user_id")&&t.push(n.user_id)}return t}function U(e){return e.some(e=>null!=e.commentPin&&e.comments.some(e=>e.isUnread))}},661843:(e,t,r)=>{"use strict";r.d(t,{Cn:()=>O,Hu:()=>N,Kq:()=>k,Nz:()=>L,W9:()=>R,gu:()=>P});var n=r(411855),i=r(188507),a=r(636149),o=r.n(a),l=r(776250),s=r(966712),c=r(886653),d=r(572206),u=r(975350),p=r(763223),m=r(912924),_=r(356390),h=r(852800),g=r(29680),f=r(514736),E=r(788256),y=r(654034),b=r(289032),v=r(114716),I=r(74505),T=r(341860),S=r(547465);let w=(0,s.kc)().comments_new_observer,A=(e,t)=>({anchorPositionById:t(n.useMemo(()=>{if("loaded"!==e.status||!e.data.file)return{commentNodeInfoById:{},commentNodeIds:new Set,commentThreads:[]};let t=e.data.file,r=Object.create(null),n=new Set,i=t.comments.filter(e=>null===e.parentId);for(let e of i)if(e.clientMeta){let{x:t,y:i,nodeId:a,nodeOffset:o,stablePath:l}=e.clientMeta;r[e.id]={canvasPosition:{x:t,y:i},nodeId:a,nodeOffset:o,stablePath:l?`[${l.join(",")}]`:void 0},null!=a&&n.add(a)}return{commentNodeInfoById:r,commentNodeIds:n,commentThreads:i}},[e]).commentNodeInfoById)}),C="COMMENTS_ABSOLUTE_POSITIONING_UPDATER";function N(e,t){let r=n.useMemo(()=>o()(e,e=>{var t;return null==(t=e.clientMeta)?void 0:t.nodeId}),[e]),a=n.useMemo(()=>Object.keys(r),[r]),l=n.useRef({}),s=(0,i.wA)(),c=(0,v.g)(),p=n.useCallback(e=>{var t;let{nodeId:n,position:i,eventOrigins:a}=e,o=l.current[n],c=a.includes("LOCAL"),p=navigator.onLine;if(c&&p){if(null===i){let e=r[n]||[];o&&e.forEach(e=>{var t;let r=e.clientMeta;if(r){let n=(null==(t=e.clientMeta)?void 0:t.nodeOffset)||{x:0,y:0},i=d.Mi.add(o.position,n);(r.x!==i.x||r.y!==i.y)&&s(u.hY({thread:{id:e.id,uuid:e.uuid||void 0,key:e.key},clientMeta:{x:i.x,y:i.y,page_id:r.pageId||void 0,node_id:r.nodeId||void 0,node_offset:r.nodeOffset||void 0,in_frame:r.inFrame||void 0,selection_box_anchor:r.selectionBoxAnchor||void 0,stable_path:r.stablePath||void 0}}))}})}else i&&i.page!==(null==(t=null==o?void 0:o.position)?void 0:t.page)&&(r[n]||[]).forEach(e=>{var t;let r=e.clientMeta;if(r){let n=(null==(t=e.clientMeta)?void 0:t.nodeOffset)||{x:0,y:0},a=d.Mi.add(i,n);s(u.hY({thread:{id:e.id,uuid:e.uuid||void 0,key:e.key},clientMeta:{x:a.x,y:a.y,page_id:i.page,node_id:r.nodeId||void 0,node_offset:r.nodeOffset||void 0,in_frame:r.inFrame||void 0,selection_box_anchor:r.selectionBoxAnchor||void 0,stable_path:r.stablePath||void 0}}))}})}l.current[n]=e},[r,l,s]);n.useEffect(()=>{if(t.enabled&&h.glU&&c){let{currentNodePosition:e}=(0,I.EE)(C,a,p);l.current=e}return()=>{h.glU&&c&&(0,I.lB)(C)}},[a,p,t.enabled,c])}function O(){let[e,t]=n.useState(new Date);n.useEffect(()=>{if(_.Y5)return w?()=>{(0,I.lB)("comments")}:(_.Y5.onWatchedNodeBoundsChange(()=>{t(new Date)}),()=>{_.Y5.onWatchedNodeBoundsChange(()=>{})})},[t]);let r=n.useCallback(e=>{var r;(null==(r=_.Y5)?void 0:r.isReady())&&(w?(0,I.EE)("comments",e,e=>{t(new Date)}):_.Y5.DEPRECATED_sendMessage("watchBoundsForNodes",{nodeIDs:e}))},[]),i=n.useCallback(e=>{var t;(null==(t=_.Y5)?void 0:t.isReady())&&_.Y5.DEPRECATED_sendMessage("watchBoundsForStablePaths",{stablePaths:e})},[]);return{anchorPositions:n.useCallback((0,c.xx)(t=>{var r;return(null==(r=_.Y5)?void 0:r.isReady())&&e?h.glU.getCanvasSpaceCommentLocations(t):{}}),[e]),boundingBoxPositions:n.useCallback((0,c.xx)((t,r,n)=>{if(!(0,p.y)()||!r||!e)return{};let i={},a=(0,m.j)(t,r);return n.forEach(e=>{if(e.content){let t=(0,m.N)([e]).reduce((e,t)=>a[t]?{...e,[t]:a[t]}:e,{});i[e.publicUuid]=t}}),i}),[e]),DEPRECATED_updateWatchedNodeIds:r,updateWatchedStablePaths:i}}function L(e){return n.useCallback(t=>t.reduce((t,r)=>(t[r]=(null==e?void 0:e.pageIdForNodeId(r))||null,t),{}),[e])}function R(e,t,r,a,o,s){let c=A(t,a),d=(0,i.d4)(e=>e.comments.savingCommentUuids),u=(0,i.d4)(e=>e.comments.lgPendingUuidToServerIdMap);n.useEffect(()=>{if("errors"===t.status){let e=JSON.stringify(t.errors.map(e=>{var t;return{code:e.code,path:e.path,message:(null==(t=e.error)?void 0:t.message)||""}}));console.error(`Failed to load comments: ${e}`),(0,l.sx)("Livegraph Comments Errors",{errors:e})}},[t]),(0,S.t)(e=>{var r,n,i;if("loading"!==t.status){if("errors"===t.status){e("comments_fetched",{status:t.status});return}e("comments_fetched",{count:null==(i=null==(n=null==(r=t.data)?void 0:r.file)?void 0:n.comments)?void 0:i.length,status:t.status})}},[t]);let p=n.useMemo(()=>s.filter(e=>!!("nodeId"in e?e.nodeId:e.id)).reduce((e,t)=>(e["nodeId"in t?t.nodeId:t.id]=t.name,e),{}),[s]),m=n.useMemo(()=>(0,y.ro)(e,t,r,c.anchorPositionById,o,p,d,u),[e,t,r,c.anchorPositionById,o,p,d,u]);return(0,b.E)("loaded"===m.status&&m.data||[]),m}function P(e,t,r){return n.useEffect(()=>{if(t.errors&&t.errors.length){let e=JSON.stringify(t.errors.map(e=>{var t;return{code:e.code,path:e.path,message:(null==(t=e.error)?void 0:t.message)||""}}));console.error(`Failed to load canvas mentions: ${e}`),(0,l.sx)("Livegraph Canvas Mention Comments Errors",{errors:e})}},[t.errors]),n.useMemo(()=>(0,y.k0)(e,t,r),[r,t,e])}function k(e){var t,r;let n;let i=(0,f.s)(),a=(0,g.eY)();if(!(0,E.Qf)(a))return!1;switch(i.orphanedBy){case"deleted_pages":return!e.pageName;case"deleted_anchors":if(0===e.comments.length||!(n=null==(t=e.comments[0].client_meta)?void 0:t.node_id))return!1;return!a.get(n);case"non_slide_anchors":if(0===e.comments.length||!(n=null==(r=e.comments[0].client_meta)?void 0:r.node_id))return!0;let o=T.qo.instance.get(n);if(!o)return!0;return!(0,T.fn)(o.findContainingSlideOrSelf());default:return!1}}},697551:(e,t,r)=>{"use strict";r.d(t,{CR:()=>F,Cj:()=>eO,D:()=>ei,DC:()=>ew,E1:()=>O,Gg:()=>eL,Gk:()=>eN,Gq:()=>q,HE:()=>z,HN:()=>ea,HR:()=>ec,Hc:()=>w,IZ:()=>es,Ih:()=>eH,Jl:()=>D,KH:()=>eM,Kj:()=>eB,LI:()=>eu,Lg:()=>Y,M0:()=>ee,MZ:()=>er,Pk:()=>eU,T9:()=>eb,Tm:()=>ef,UK:()=>P,UP:()=>eI,Uc:()=>$,Wh:()=>K,Wi:()=>en,YU:()=>B,Yo:()=>M,Yp:()=>A,Zi:()=>ek,Zs:()=>et,ax:()=>S,b:()=>j,c0:()=>V,cJ:()=>ep,cV:()=>eR,cs:()=>em,d9:()=>eT,e5:()=>ed,eg:()=>ey,gS:()=>x,gZ:()=>X,gc:()=>eE,jG:()=>R,kc:()=>e_,n:()=>eD,nF:()=>ex,nR:()=>eG,oH:()=>C,ou:()=>L,pH:()=>J,pK:()=>eC,qA:()=>eP,sD:()=>ev,s_:()=>eh,si:()=>eg,uz:()=>eA,vr:()=>N,x1:()=>el,xj:()=>Q,xp:()=>U,yO:()=>Z,zU:()=>eS,zd:()=>eV});var n=r(188507),i=r(776250),a=r(531664),o=r(886653),l=r(939863),s=r(837324),c=r(22863),d=r(107877),u=r(661976),p=r(521010),m=r(560718),_=r(860178),h=r(99506),g=r(428467),f=r(23001),E=r(555328),y=r(239671),b=r(813408),v=r(66037),I=r(809073),T=r(837502);function S(e,t){return{...e&&e.versions||{},...t&&t.versions||{}}}function w(e,t,r){return e&&t&&t[e]||r}function A(e){return e&&e.trim()||""}function C(e){return e&&e.status||{code:b.aP.EDIT}}function N(e,t){let r=(0,l.t)("community.profiles.your_handle_text");return e&&0!==e.length?e.length>15?(0,l.t)("community.profiles.profile_max_15_characters_in_length",{errorStringPrefix:r}):/^[a-zA-Z0-9_]{1,15}$/.test(e)?null:(0,l.t)("community.profiles.profile_cannot_contain_special_characters",{errorStringPrefix:r}):(0,l.t)("community.publishing.profile_handle_cannot_be_empty",{errorStringPrefix:r})}function O(e,t){var r;return(null==(r=t.authedActiveCommunityProfile)?void 0:r.id)===e.id}function L(e,t){var r;let n=t.authedProfilesById[e];return(null==n?void 0:n.primary_user_id)?!!t.user&&!!(null==(r=n.associated_users)?void 0:r.find(e=>e.user_id===t.user.id)):(null==n?void 0:n.team_id)?!!(t.user&&t.teamAdminRolesForAuthedUsers[t.user.id].some(e=>e.team_id===n.team_id))||(0,g.hasAdminRoleAccessOnTeam)(n.team_id,t):null!=n&&!!n.org_id&&(0,g.canAdminOrg)(n.org_id,t)}function R(e,t){var r;return!!e&&"authedActiveCommunityProfile"in t&&e.id===(null==(r=t.authedActiveCommunityProfile)?void 0:r.id)&&L(e.id,t)}function P(e,t){return!!e.primary_user_id||"communityHub"!==t.view||"landing"!==t.subView||t.category!==u.aH&&t.sortState!==d.eg.FOLLOWING_FEED}let k=(0,o.xx)((e,t,r,n)=>{let i=null;if(e&&t[e]){let a=(0,g.canAdminOrg)(e,{currentUserOrgId:e,user:r,orgById:t,orgUsersByOrgId:n,fileByKey:{}}),o=t[e];i={isAdmin:a,id:o.id,name:o.name,publicLinksBanned:(0,T.Bg)(o.shared_org_license_group_settings)}}return i});function D(e){return k(e.currentUserOrgId,e.orgById,e.user,e.orgUsersByOrgId)}function M(){let e=(0,n.d4)(e=>e.currentUserOrgId);return k(e,(0,n.d4)(e=>e.orgById),(0,n.d4)(e=>e.user),(0,n.d4)(e=>e.orgUsersByOrgId))}let x=(0,o.xx)((e,t,r)=>{let n;let i=t.plugins.fetchedResources;switch(e){case y.nT.Design:n=I.$A.Design;break;case y.nT.DevHandoff:n=I.$A.Handoff;break;case y.nT.Slides:n=I.$A.Slides;break;default:n=I.$A.FigJam}let a=[];for(let e of t.plugins[n]){let t=i[e.id];if(t&&t.version){a.push(t.version);continue}let n=r[e.id];n&&a.push(n)}return a});function F(e){return x(e.selectedView.editorType,e.recentlyUsed,e.localPlugins)}function U(e){return!!(e.plugin_install||e.plugin||e.widget||e.whitelisted_plugin||e.hub_file||e.community_comment||e.community_resource_payment)}function B(e){if(!e)throw Error((0,l.t)("community.publishing.cover_image_not_found"));if(0>["image/jpeg","image/png"].indexOf(e.type))throw Error((0,l.t)("community.publishing.cover_image_requirements"));if(e.size>$)throw Error((0,l.t)("community.publishing.cover_image_exceeds_max_size",{maxResourceSize:Math.floor($/1e6)}));return e.size}let H=e=>e.trim().toLocaleLowerCase().replace(/^#/,"");function V(e,t){return{content:e=H(e),state:G(e)||function(e,t){for(let r=0;r<t.length;r++)if(t[r]===e)return W(e);return null}(e,t.map(e=>e.content))?f.d.ERROR:f.d.OK}}function G(e){return e.match(/^[\P{Script_Extensions=Common} _\-0-9]*$/gu)?e.match(/^[\P{Script_Extensions=Common}0-9](.*[\P{Script_Extensions=Common}0-9])?$/gu)?e.toLocaleLowerCase()!==e?(0,l.t)("community.publishing.tags_can_only_contain_lowercase_characters"):e.length>25?(0,l.t)("community.publishing.tags_can_only_have_up_to_25_characters"):e.match(/[ _-]{2,}/)?(0,l.t)("community.publishing.tags_cannot_have_consecutive_dashes_underscores_or_spaces"):(e.match(/[ _-]/g)||[]).length>2?(0,l.t)("community.publishing.tags_cannot_be_longer_than_3_words"):null:(0,l.t)("community.publishing.tags_must_begin_and_end_with_a_letter_or_number"):(0,l.t)("community.publishing.tags_can_only_contain_certain_characters")}let W=e=>(0,l.t)("community.publishing.tag_is_repeated_more_than_once",{tag:`'${e}'`});function K(e){if(e.length>12)return(0,l.t)("community.publishing.cannot_have_more_than_12_tags");let t=function(e){let t={};for(let r=0;r<e.length;r++){if(t[e[r]])return W(e[r]);t[e[r]]=!0}return null}(e);if(t)return t;for(let t=0;t<e.length;t++){let r=G(H(e[t]));if(r)return r}return null}function Y(e){return e.length>ea?(0,l.t)("community.publishing.tagline_must_be_at_most_100_characters_long"):null}let j={name:"",description:"",tags:{inputValue:"",errorMessage:"",tokens:[]},categoryId:null,creatorPolicy:"",viewerMode:h.y4.CANVAS,scalingMode:null,author:{user_id:""},commentsSetting:m.Ni.ENABLED,publishers:{inputValue:"",tokens:[],errorMessage:""},blockPublishingOnToS:!1},z=["Tab","Enter",","],$=5242880,Z=15728640,q=104857600,J=100,X=240,Q=240,ee=4096,et=1024,er=12,en=10,ei=60,ea=100;function eo(e){return"is_widget"in e&&e.is_widget?E.vt.WIDGET:"current_plugin_version_id"in e?E.vt.PLUGIN:E.vt.HUB_FILE}function el(e){return"profile_handle"in e?E.Ug.PROFILE:eo(e)===E.vt.HUB_FILE?E.Ug.HUB_FILE:eo(e)===E.vt.WIDGET?E.Ug.WIDGET:E.Ug.PLUGIN}function es(e){return e>=en-1?(0,l.t)("community.publishing.cannot_have_more_than_max_publishers",{MAX_PUBLISHERS_PER_RESOURCE:en}):null}function ec(e){let t={},r={},n=e.map(e=>(t[e.id]=e,r[e.author.id]=e.author,e.id));return{commentsById:t,authorsById:r,feed:n}}function ed(e){return e.publishing_status===h.KB.APPROVED_PUBLIC&&e.comments_setting!==m.Ni.ALL_DISABLED}function eu(e,t){return!!(t.comments_setting!==m.Ni.ALL_DISABLED&&!t.commenting_is_restricted&&!(null==e?void 0:e.community_commenting_blocked_at))}function ep(e){return!!(e&&e.primary_user_id&&e.public_at)}d.eg.POPULAR;let em=c.c;function e_(){return(0,n.d4)(e=>e.authedActiveCommunityProfile)}function eh(){let e=(0,n.d4)(e=>e.authedActiveCommunityProfile),t=(0,n.d4)(e=>e.authedProfilesById),r=(0,n.d4)(e=>e.authedUsers.byId),i=(0,n.d4)(e=>e.orgById);if(!e)return null;if(!e.public_at){if(e.primary_user_id)return r[e.primary_user_id];if(e.org_id)return i[e.org_id]}return t[e.id]}function eg(e){let t=(0,_.iZ)(),r=(0,n.d4)(e=>eE(e),a.c2),i=(0,n.d4)(e=>ef(e)),o=(0,n.d4)(e=>"authedProfilesById"in e?e.authedProfilesById:{});if(!e)return!1;let l=o[e.id];return!!l&&((null==t?void 0:t.community_profile_id)===l.id||!!l.team_id&&!!r[l.team_id]||!!(l.org_id&&i[l.org_id]))}function ef(e){if(!("orgById"in e))return{};let t=e.orgById,r={};return Object.keys(t).forEach(n=>{(0,g.canAdminOrg)(n,e)&&(r[n]=t[n])}),r}function eE(e){if(!("user"in e)||!e.user)return{};let t=e.teamAdminRolesForAuthedUsers[e.user.id];if(!t)return{};let r={};return t.forEach(t=>{e.authedTeamsById[t.team_id]&&(r[t.team_id]=e.authedTeamsById[t.team_id])}),r}function ey(e,t){let r=e.authedProfilesById,n=e.teamAdminRolesForAuthedUsers,i={};return Object.keys(r).forEach(e=>{let a=r[e];if(a.team_id){if(t){let r=n[t];(null==r?void 0:r.some(e=>e.user_id===t&&e.team_id===a.team_id))&&(i[e]=a)}else i[e]=a}}),i}function eb({authedProfilesById:e,profileId:t,userId:r,orgId:n,teamId:i}){return t?e[t]:n?Object.values(e).find(e=>e.org_id===n)||null:i?Object.values(e).find(e=>e.team_id===i)||null:r&&Object.values(e).find(e=>{var t;return null==(t=e.associated_users)?void 0:t.find(e=>e.user_id===r)})||null}function ev(e,t){return Object.values(t).find(t=>{var r;return null==(r=t.associated_users)?void 0:r.find(r=>r.user_id===e.id&&t.public_at)})||null}function eI(){return(0,n.d4)(e=>eT(e.selectedView))}function eT(e){return"communityHub"===e.view||eS(e)||s.FG}function eS(e){return"search"===e.view&&("url:community"===e.entryPoint||"community"===e.entryPoint||"community:header"===e.entryPoint)}function ew(e){return"communityHub"===e.view&&("hubFile"===e.subView||"plugin"===e.subView)}function eA(e){return"communityHub"===e.view&&"monetizationRedirectView"===e.subView}function eC(e){return"communityHub"===e.view&&"hubFileEmbed"===e.subView}function eN(e){return"communityHub"===e.view&&"landing"===e.subView}function eO(e){return"communityHub"===e.view&&"handle"===e.subView}function eL(e){return(0,p.G)(e)}function eR(e){var t;return(null==(t=e.community_publishers)?void 0:t.accepted.find(e=>em(e)))||null}function eP(e,t){var r;let n=eR(t);if(n)return e.authedProfilesById[n.id]||null;let i=e.user&&ev(e.user,e.authedProfilesById);return i&&(null==(r=t.community_publishers)?void 0:r.accepted.find(e=>e.id===i.id))?i:null}function ek(e,t){var r;if(!t.user)return null;let n=eL(t),i=t.user,a=t.authedProfilesById[e.id];if(n.length<0)return null;if(null==a?void 0:a.org_id){let e=[...n,i].find(e=>{let r=a.org_id;if(!r)return!1;let n=t.orgById[r],i=t.orgUsersByOrgId.orgUsers[r][e.id];return(0,g.hasOrgAccess)(i,n,v.jh.ADMIN)})||null;return e?{userId:e.id,orgId:a.org_id}:null}if(null==a?void 0:a.team_id){let e=n.find(e=>(0,g.hasAdminRoleAccessOnTeam__DEPRECATED)(a.team_id,t,e.id))||null,i=(null==(r=t.teams[a.team_id])?void 0:r.org_id)||null;return e?{userId:e.id,orgId:i}:null}let o=n.find(t=>t.id===e.primary_user_id);return o?{userId:o.id,orgId:null}:null}function eD(e){switch(e){case E.bD.PLUGIN:return"plugins";case E.bD.WIDGET:return"widgets";case E.bD.COMMENT:return"comments";case E.bD.HUB_FILE:return"hub_files";default:throw Error("Unsupported Type")}}function eM(e,{pluralized:t,capitalized:r}={}){return function(e,{pluralized:t,capitalized:r}={}){return eF((()=>{switch(e){case E.vt.PLUGIN:return"plugin";case E.vt.WIDGET:return"widget";case"comment":return"comment";case E.vt.HUB_FILE:return"hub file";default:throw Error("Unsupported Type")}})(),{pluralized:t,capitalized:r})}((0,s.Vm)(e),{pluralized:t,capitalized:r})}function ex(e,{pluralized:t,capitalized:r}={}){return e?eF(E.bD.WIDGET,{pluralized:t,capitalized:r}):eF(E.bD.PLUGIN,{pluralized:t,capitalized:r})}function eF(e,{pluralized:t,capitalized:r}={}){return e+=t?"s":"",r&&(e=e[0].toUpperCase()+e.substr(1)),e}let eU={threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300},eB=[{name:"name",weight:1},{name:"description",weight:1}],eH={...eU,keys:[{name:"name",weight:1},{name:"localFilePath",weight:.5}]},eV={...eU,keys:[{name:"text",weight:1}]};function eG(e,t){(0,i.sx)(d.W_.PROFILE_ADMIN_MENU_OPEN,{source:e,view:t})}},61057:(e,t,r)=>{"use strict";r.d(t,{D:()=>s,VH:()=>l,eg:()=>o});var n=r(96328),i=r(939863),a=r(697551);function o(e,t,r){if(0===e.length)return"";if(1===e.length)return r(e[0]);let a=e.slice(0,t-1),o=e.slice(t-1);0===o.length&&(o=[a[a.length-1]],a=a.slice(0,a.length-1));let l=1===o.length?r(o[0]):(0,i.t)("community.resource.by_x_others",{numPublishers:o.length}),s=a.map(r);return l&&s.push(l),(0,n.Yx)(s)}function l(e){let t=(0,a.cV)(e);if(t)return t.name;let r=e.community_publishers.accepted;return o(r,r.length,e=>e.name)}function s(e){let t=e.community_publishers.accepted;return e.community_publishers.pending&&(t=t.concat(e.community_publishers.pending)),t.reduce((e,t)=>{var r;let n=(null==(r=t.associated_users)?void 0:r.map(e=>e.user_id))||[];return t.primary_user_id&&e.push(t.primary_user_id),e.concat(n)},[])}},258237:(e,t,r)=>{"use strict";r.d(t,{Ro:()=>o,dN:()=>a,jY:()=>l,o0:()=>s});var n=r(27087),i=r(697551);function a(e,t){var r,n;return!!e&&!!(null==(n=null==(r=e.plugin_publishers)?void 0:r.pending)?void 0:n.some(e=>e.id===t))}function o(e,t){var r,n;return!!e&&!!(null==(n=null==(r=e.plugin_publishers)?void 0:r.accepted)?void 0:n.some(e=>e.id===t))}function l(e,t){return a(e,t)||o(e,t)}async function s(e,t){let{data:r}=await n.Ay.post(`/api/${(0,i.KH)(e,{pluralized:!0})}/${e.id}/publisher_invites`,{emails:t});return{resource:r.meta.plugin,errors:r.meta.errors}}},986323:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,E3:()=>s,jT:()=>l});var n=r(99506),i=r(596607),a=(e=>(e[e.NONE=0]="NONE",e[e.PENDING=1]="PENDING",e[e.ACCEPTED=2]="ACCEPTED",e[e.ADMIN=3]="ADMIN",e))(a||{});function o(e,t){let{user:r}=e,{plugin_publishers:a}=t;if(!a||!r)return 0;let{accepted:o,pending:l}=a;if(o.some(e=>e.id===r.id))return 2;if(l&&l.some(e=>e.id===r.id))return 1;let s=(0,i.xw)(e);return s&&s.permission===n._D.ADMIN&&s.org_id===t.org_id?3:0}function l(e){return 1===e}function s(e){return 2===e||3===e}},782501:(e,t,r)=>{"use strict";r.d(t,{$W:()=>eg,$x:()=>eo,Cw:()=>A,Dd:()=>B,En:()=>H,G_:()=>er,Gl:()=>N,Gp:()=>el,Ii:()=>q,Kg:()=>eu,MK:()=>k,N8:()=>es,PR:()=>U,RB:()=>P,Rd:()=>ep,Rv:()=>j,UU:()=>Z,Vo:()=>w,Wd:()=>R,Wl:()=>en,cN:()=>L,ck:()=>et,f7:()=>G,gO:()=>F,j4:()=>J,kJ:()=>D,kN:()=>X,l8:()=>ei,mH:()=>ee,n1:()=>z,nK:()=>em,o1:()=>Q,oB:()=>x,of:()=>$,ot:()=>C,vC:()=>ec,xw:()=>eh});var n=r(188507),i=r(354703),a=r(38329),o=r(966712),l=r(776621),s=r(881396),c=r(304783),d=r(939863),u=r(837324),p=r(545941),m=r(697551),_=r(411916),h=r(428467),g=r(555328),f=r(813408),E=r(28588),y=r(376485),b=r(986323),v=r(691205),I=r(204279),T=r(596607),S=r(837502);let w=10;var A=(e=>(e[e.NONE=0]="NONE",e[e.PENDING=1]="PENDING",e[e.DISPLAY_ONLY=2]="DISPLAY_ONLY",e[e.ADMIN_IN_DIFFERENT_WORKSPACE=3]="ADMIN_IN_DIFFERENT_WORKSPACE",e[e.ADMIN=4]="ADMIN",e[e.NONE_WITH_INHERITED_ADMIN=5]="NONE_WITH_INHERITED_ADMIN",e[e.PENDING_WITH_INHERITED_ADMIN=6]="PENDING_WITH_INHERITED_ADMIN",e[e.DISPLAY_ONLY_WITH_INHERITED_ADMIN=7]="DISPLAY_ONLY_WITH_INHERITED_ADMIN",e[e.EXPLICIT_ADMIN=8]="EXPLICIT_ADMIN",e))(A||{});let C=[1,6],N=[2,7],O=[5,6,7];function L(e,t,r){var n,i;if((0,o.kc)().cmty_deprecate_browse_as_admin)return r>=4;if((0,m.cs)(e.authedActiveCommunityProfile)){let i=(0,m.cV)(t);return(null==i?void 0:i.id)===(null==(n=e.authedActiveCommunityProfile)?void 0:n.id)&&O.includes(r)}return null!=(i=e.authedActiveCommunityProfile)&&!!i.primary_user_id&&8===r}function R(e,t){var r;let n=(0,m.Gg)(e),i=!!(t.creator.id&&n.some(e=>e.id===t.creator.id));if(i&&(0,m.cs)(e.authedActiveCommunityProfile)){let n=(0,m.cV)(t);return(null==n?void 0:n.id)===(null==(r=e.authedActiveCommunityProfile)?void 0:r.id)}return i}function P(e){var t;let r=(0,n.d4)(t=>k(t,e)),i=(0,n.d4)(t=>(0,g.U)(e)?L(t,e,r):R(t,e)),a=(0,n.d4)(t=>(0,g.I0)(e)||(0,g.xQ)(e)?(0,b.A)(t,e):null),o=(0,g.Uz)(e)?null==(t=e.fig_file_metadata)?void 0:t.key:null,l=v.M4.File.useValue(o),s=!!o&&!!l;return(0,g.U)(e)?i&&s:!!((0,g.I0)(e)||(0,g.xQ)(e))&&(i||(0,b.E3)(a))}function k(e,t){var r,n,i,a,o;let l=(0,m.qA)(e,t),s=!!((null==l?void 0:l.org_id)||(null==l?void 0:l.team_id)),c=l&&(0,m.Zi)(l,e),d=c&&e.user&&(0,_.O_)(e,c),p=(0,u.Vm)(t);return p!==g.vt.PLUGIN&&p!==g.vt.WIDGET||c&&c.userId!==(null==(r=e.user)?void 0:r.id)||t.creator.id!==(null==(n=e.user)?void 0:n.id)?(null==(i=t.community_publishers)?void 0:i.accepted.some(t=>{var r;return t.id===(null==(r=e.user)?void 0:r.community_profile_id)}))?s||(0,u.Vm)(t)!==g.vt.HUB_FILE?c?d?s?7:2:3:2:8:(null==(o=null==(a=t.community_publishers)?void 0:a.pending)?void 0:o.some(t=>{var r;return t.id===(null==(r=e.user)?void 0:r.community_profile_id)}))?c&&d?6:1:c?d?5:3:0:8}function D(e,t){var r;if("user"in e){if(t.primary_user_id===(null==(r=e.user)?void 0:r.id))return 4;if((0,m.cs)(t)){let r=(0,m.Zi)(t,e),n=r&&e.user&&(0,_.O_)(e,r);if(r&&n)return 4;if(r&&!n)return 3}}return 0}let M=e=>!0===e.is_public||null!=e.org;function x(e,t,r,n){return(0,g.m3)(e)||n?y.Lu.PUBLIC:M(e.roles)?e.roles.is_public||(0,p.AC)(e)?y.Lu.PUBLIC:y.Lu.ORG:null!=t&&r?y.Lu.ORG:y.Lu.PUBLIC}function F(e,t,r,n){var i;let a=j(t.team_id,r,e,t.parent_org_id||null);if(0===a.length)throw Error("Called getDefaultHubFilePublishingMetadataAuthor when no valid author exists");return V(e,a,r.authedProfilesById,null==(i=r.user)?void 0:i.id,n)}function U(e,t){if(!e)return!1;let r=e.author.id;return(0,p.XU)(r,t)}function B(e,t){return e.creator.id===t}function H(e,t){var r;if(e){let r=$(t,e);if(r)return r}let n=Z(t,e);if(0===n.length)throw Error("Called getDefaultPluginPublishingMetadataAuthor when no valid author exists");return V(e,n,t.authedProfilesById,null==(r=t.user)?void 0:r.id)}let V=(e,t,r,i,a)=>{if(0===t.length)throw Error("Called getDefaultPublishingMetadataAuthor when no valid author exists");let o=(null==e?void 0:e.id)&&Object.keys(e.versions).length>0?function(e,t,r){var n;if(((null==(n=e.community_publishers)?void 0:n.accepted)||[]).length>0){let n=(0,m.cV)(e),i=n&&t[n.id];return(null==i?void 0:i.team_id)?{team_id:i.team_id}:(null==i?void 0:i.org_id)?{org_id:i.org_id}:{user_id:r||e.creator.id}}let i=t[e.publisher.id];return i.org_id?{org_id:i.org_id}:i.team_id?{team_id:i.team_id}:{user_id:i.primary_user_id}}(e,r,i):null;if(o&&t.some(e=>G(e,o)))return o;if(a&&t.find(e=>(0,n.bN)(e,a)))return a;let l=t.find(Y);if(l)return l;let s=t.find(W);return s?s:t.find(K)||t[0]};function G(e,t){return"team_id"in e?"team_id"in t&&e.team_id===t.team_id:"org_id"in e?"org_id"in t&&e.org_id===t.org_id:"user_id"in e&&"user_id"in t&&e.user_id===t.user_id}let W=e=>"org_id"in e,K=e=>"team_id"in e,Y=e=>"user_id"in e;function j(e,t,r,n){var i;let a=[];if(((null==(i=null==r?void 0:r.community_publishers)?void 0:i.accepted)||[]).length>0){if(!e&&!n)return[{user_id:t.user.id}];let i=r&&(0,m.cV)(r),a=i?t.authedProfilesById[i.id]:null;if(null==a?void 0:a.team_id)return(0,h.hasAdminRoleAccessOnTeam)(null==a?void 0:a.team_id,t)?[{team_id:a.team_id}]:[];if(null==a?void 0:a.org_id)return(0,h.canAdminOrg)(null==a?void 0:a.org_id,t)?[{org_id:a.org_id}]:[]}if(t.currentUserOrgId){let r=t.orgById[t.currentUserOrgId];if(!r)return[];if((0,h.canAdminOrg)(t.currentUserOrgId,t)&&(a.push({org_id:t.currentUserOrgId}),r.cmty_publish_as_user_enabled&&a.push({user_id:t.user.id})),e&&t.teams[e]){if("secret"===t.teams[e].org_access)return[];((0,S.Bg)(r.shared_org_license_group_settings)?(0,h.canAdminOrg)(t.currentUserOrgId,t):(0,h.hasAdminRoleAccessOnTeam)(e,t))&&a.push({team_id:e})}return a}return e?((0,h.hasAdminRoleAccessOnTeam)(e,t)&&a.push({team_id:e}),a.push({user_id:t.user.id}),a):[{user_id:t.user.id}]}function z(e,t,r){var n,i;let a;let o=e.has_file_link_password||e.hasFileLinkPassword;a="parent_org_id"in e?e.parent_org_id:"parentOrgId"in e?e.parentOrgId:null;let l=j("team_id"in e?e.team_id:e.teamId,t,r,a||null),s=!!t.figFileDuplicatedFromHubFile[e.key],c=!r;return(0,h.canEditFile)(e.key,t)&&!("is_template"in e&&e.is_template||null!=(n=e.trackTags)&&n.isTemplate||"is_new_user_playground_library"in e&&e.is_new_user_playground_library||(null==(i=e.track_tags)?void 0:i.source)==="default")&&!o&&l.length>0&&!(s&&c)}function $(e,t){if(t.publisher.id&&e.user)switch(t.publisher.entity_type){case f.o1.ORG:{let r=Object.values(e.orgById).find(e=>e.community_profile_id===t.publisher.id);return{org_id:(null==r?void 0:r.id)??e.currentUserOrgId??""}}case f.o1.TEAM:{let r=Object.values(e.teams).find(e=>e.community_profile_id===t.publisher.id);return{team_id:(null==r?void 0:r.id)||""}}default:return{user_id:t.creator.id}}return null}function Z(e,t,r=!0){let n=[],i=r&&t?$(e,t):null;return e.currentUserOrgId&&(0,h.canAdminOrg)(e.currentUserOrgId,e)&&n.push({org_id:e.currentUserOrgId}),Object.keys(e.teams).forEach(t=>{let r=e.teams[t];r&&"secret"!==r.org_access&&(0,h.hasAdminRoleAccessOnTeam)(t,e)&&n.push({team_id:t})}),n.push({user_id:e.user.id}),i&&!n.some(e=>G(e,i))&&n.unshift(i),n}function q(e,t){if(!e)return!1;let{team_id:r,org_id:n}=e;if("user_id"in t){let r=e.associated_users;return!!t.user_id&&t.user_id===e.primary_user_id||(null==r?void 0:r.some(e=>e.user_id===t.user_id))}return"team_id"in t&&r===t.team_id||"org_id"in t&&n===t.org_id}function J(e){let t=a.D.getState();return"user_id"in e?t.authedUsers.byId[e.user_id]:"org_id"in e?t.orgById[e.org_id]:"team_id"in e?t.teams[e.team_id]:void 0}function X(e,t){var r,n,i;if("org_id"in e)return(null==(r=t.orgById[e.org_id])?void 0:r.name)??null;if("team_id"in e)return(null==(n=t.teams[e.team_id])?void 0:n.name)??null;{let e=t.user&&(0,m.sD)(t.user,t.authedProfilesById);return(null==e?void 0:e.public_at)&&(null==e?void 0:e.name)?e.name:(null==e?void 0:e.public_at)&&(null==e?void 0:e.profile_handle)?`@${e.profile_handle}`:(null==(i=t.user)?void 0:i.handle)||null}}function Q(e,t){if("org_id"in e){let r=t.orgById[e.org_id];return r?(0,d.t)("community.publishing.org_name",{org:r.name}):(0,d.t)("general.fallback_org_name")}if("team_id"in e){let r=t.teams[e.team_id];return r?(0,d.t)("community.publishing.team_name",{team:r.name}):(0,d.t)("general.fallback_team_name")}{let r=t.authedUsers.byId[e.user_id]??t.user,n=(0,m.sD)(r,t.authedProfilesById);return n?n.name:(null==r?void 0:r.name)||(0,d.t)("general.fallback_user_name")}}function ee(e,t){if("org_id"in e){let r=t.orgById[e.org_id];return(null==r?void 0:r.community_profile_handle)||""}if("team_id"in e){let r=t.teams[e.team_id];return(null==r?void 0:r.community_profile_handle)||""}{let r=t.authedUsers.byId[e.user_id]??t.user,n=(0,m.sD)(r,t.authedProfilesById);return n?n.profile_handle||"":(null==r?void 0:r.community_profile_handle)||""}}function et(e){return new Promise((t,r)=>{if(!e){r(Error("Failed to load image bytes without file object"));return}let n=new FileReader;function i(e){if("load"!==e.type||"string"==typeof n.result||!n.result){r(Error(`Failed to load image bytes: event=${e.type}`));return}t(n.result)}n.addEventListener("load",i),n.addEventListener("abort",i),n.addEventListener("error",i),n.readAsArrayBuffer(e)})}function er(e,t){var[r,n]=e.split(",");let i=atob(n),a=[];for(var o=0;o<i.length;o++)a.push(i.charCodeAt(o));let l=r.split(/;|:/)[1];return new Blob([new Uint8Array(a)],{type:l})}function en(e,t="Image",r=E.xp){if(!e)throw Error((0,d.t)("community.publishing.error_thumbnail_image_not_found",{filename:t}));if(0>r.indexOf(e.type))throw Error((0,d.t)("community.publishing.error_thumbnail_image_wrong_format",{filename:t}));if(e.size>m.Uc)throw Error((0,d.t)("community.publishing.error_thumbnail_image_too_large",{filename:t,max_size:Math.floor(m.Uc/1e6)}));return e.size}function ei(e){return new Promise((t,r)=>{let n=new Image;n.onload=()=>t(n),n.onerror=r,n.src=e})}let ea=new Set;async function eo(e,t){if(null===e.files||0===e.files.length)throw Error((0,d.t)("community.publishing.error_thumbnail_image_not_found_no_filename"));t&&em(t);let r=e.files[0];en(r,(0,d.t)("community.publishing.thumbnail_image"),[...E.xp,"image/svg+xml"]);let[n,i]=await Promise.all([ei(URL.createObjectURL(r)),et(r)]);return ea.add(n.src),{url:n.src,buffer:new Uint8Array(i)}}async function el(e,t){let r=[];for(let n=0;n<Math.min(w,e.length);n++){let i=e[n];if(t&&i.type.startsWith("video/")){!function(e,t,r="Video"){if(!e)throw Error((0,d.t)("community.publishing.error_thumbnail_image_not_found",{filename:r}));if(!E.VY.includes(e.type))throw Error((0,d.t)("community.publishing.error_video_wrong_format",{filename:r}));if(e.size>m.Gq)throw Error((0,d.t)("community.publishing.error_thumbnail_image_too_large",{filename:r,max_size:Math.floor(m.Gq/1e6)}))}(i,i.name);let e=URL.createObjectURL(i);await Promise.all([e_(i),(0,I.jm)(e),ed(e,i.name)]).then(([t,n])=>{let i=URL.createObjectURL(new Blob([n]));ea.add(e),ea.add(i),r.push({url:e,buffer:t.bytes,sha1:t.sha1,type:"video",thumbnail_url:i,thumbnail_buffer:n,thumbnail_sha1:(0,s.Et)(n)})}).catch(e=>{throw Error(e)})}else en(i,(0,d.t)("community.publishing.carousel_media_image"),[...E.xp,"image/svg+xml"]),await Promise.all([ei(URL.createObjectURL(i)),et(i)]).then(([e,t])=>{ea.add(e.src);let n=new Uint8Array(t);r.push({url:e.src,buffer:n,sha1:(0,s.Et)(n),type:"image"})}).catch(e=>{throw Error(e)})}return r}async function es(e,t){return null===e.files||0===e.files.length?Promise.resolve([]):await el(e.files,t)}function ec(e){if(!e||!e.length)return(0,d.t)("community.publishing.upload_at_least_one_image")}let ed=(e,t)=>new Promise((r,n)=>{let i=document.createElement("video");i.preload="metadata",i.addEventListener("error",e=>{n(e.message)}),i.addEventListener("loadedmetadata",()=>{i.duration>30&&n((0,d.t)("community.publishing.error_video_too_long",{filename:t,max_length:30})),r(i)}),i.src=e,i.currentTime=0,i.load(),setTimeout(()=>{n("Video load timeout during video length validation")},1e4)});function eu(e){let t=[],r=[],n=[];if(!e)return{uploadImages:t,uploadVideos:r,allMedia:n};for(let i=0;i<e.length;i++){let a=e[i];if(a.buffer&&a.buffer.length){if("video"===a.type){if(!a.thumbnail_buffer)throw Error((0,d.t)("community.publishing.error_video_thumbnail_not_found"));let e={carousel_position:i,sha1:(0,s.Et)(a.buffer),bytes:a.buffer,video_thumbnail_buffer:a.thumbnail_buffer,video_thumbnail_sha1:(0,s.Et)(a.thumbnail_buffer)};r.push(e)}else{let e={carousel_position:i,sha1:(0,s.Et)(a.buffer)};t.push(e),n.push(e)}}else if(a.sha1){let e="video"===a.type?{carousel_position:i,sha1:a.sha1,video_file_uuid:a.video_file_uuid,video_thumbnail_sha1:a.thumbnail_sha1}:{carousel_position:i,sha1:a.sha1};n.push(e)}}return{uploadImages:t,uploadVideos:r,allMedia:n}}function ep(e,t){return t&&(null==t?void 0:t.length)&&(null==e?void 0:e.length)?e.map(({url:e,fields:r,carousel_position:n})=>{let a=t[n];if(!a||!a.buffer)return Promise.resolve(!1);let o=new FormData;return Object.entries(r).forEach(([e,t])=>o.append(e,t)),o.set("content-type",(0,i.i)(a.buffer)??"image/png"),o.append("file",new Blob([a.buffer])),fetch(e,{method:"POST",body:o}).then(()=>!0).catch(e=>{var t;throw(0,l.$D)(c.e.COMMUNITY,e),Error((0,d.t)("community.actions.error_uploading_carousel_image_error",{error:(0,d.Jv)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))})}):[]}function em(e){e&&ea.has(e.url)&&(URL.revokeObjectURL(e.url),ea.delete(e.url),"type"in e&&"video"===e.type&&ea.has(e.thumbnail_url)&&(URL.revokeObjectURL(e.thumbnail_url),ea.delete(e.thumbnail_url)))}async function e_(e){let t=new Uint8Array(await et(e));return{sha1:(0,s.Et)(t),bytes:t}}function eh(e){if(!e.currentUserOrgId)return!1;let t=(0,T.xw)(e);return!(t&&t.agreed_to_community_tos_at)}function eg(e,t){return Object.entries(t).reduce((t,[r,n])=>t+Number(e.includes(r)&&!!n),0)}},639135:(e,t,r)=>{"use strict";r.d(t,{DX:()=>M,Nz:()=>P,aQ:()=>x,dP:()=>R,iJ:()=>F,q3:()=>T});var n=r(411855),i=r(188507),a=r(228975),o=r(181912),l=r(38329),s=r(966712),c=r(374626),d=r(38580),u=r(684107),p=r(572174),m=r(218881),_=r(931828),h=r(723239),g=r(582947),f=r(106757),E=r(335682),y=r(860178),b=r(309798),v=r(984968);let I=(0,s.b5)()?"2030-06-30T23:00:00.000Z":"2024-03-11T23:00:00.000Z",T="presets_baseline_enabled",S=(0,a.A)(()=>(0,m.hW)("exp_presets_baseline_new",void 0,!0)),w=(0,a.A)(()=>(0,m.hW)("exp_presets_baseline_existing",void 0,!0));function A(e,t,r,n,i){return!(null===n||i||!(0,s.kc)().presets_baseline||(0,p.uy)(e)||!r&&!n||(0,o.A)(e)<(0,o.A)(I)||(0,p.Vq)(t)&&!t.starter_team&&!(t.pro_team&&r))&&(null==t||!t.org_id)}function C(e,t,r,n){if(t)return!0;let i=!1;return(i="assets"===n?"treatment_assets_default"===e.getValue("treatment",""):"layers"===n?"treatment_layers_default"===e.getValue("treatment",""):String(e.getValue("treatment","")).startsWith("treatment"))&&!t&&r(_.b({[T]:!0})),i}async function N(e,t,r,n,i,a){if((0,s.kc)().dse_preset_libraries)return!1;try{let o=await (0,u.QO)(h.t,(e,t)=>{let r=c.zl.get(h.t);"loaded"===r.status?e(r):t(r)});if(!A(e,t,r,null==o?void 0:o.data,i))return!1;let l=await S();return C(l,r,n,a)}catch(e){return console.error(e),!1}}async function O(e,t,r){let n=await w();return x(e,t,r,()=>n)}function L({currentUserCreatedAt:e,currentTeam:t,overrideFlag:r,dispatch:n,treatment:i,getConfig:a,isFreeUser:o,openFileParentOrgId:l}){return!(0,s.kc)().dse_preset_libraries&&!!A(e,t,r,o,l)&&C(a(),r,n,i)}function R(e){var t,r;let a=(0,y.iZ)(),o=(0,v.ol)(),l=(null==(t=(0,E.q5)())?void 0:t.parentOrgId)||null,s=(0,i.wA)(),d=(0,b.f)(T),u=null==(r=(0,c.md)(h.t))?void 0:r.data,{getConfig:p}=(0,m.I7)("exp_presets_baseline_new"),{getConfig:_}=(0,m.I7)("exp_presets_baseline_existing");return n.useCallback(()=>L({currentUserCreatedAt:(null==a?void 0:a.created_at)??null,currentTeam:o,overrideFlag:d,dispatch:s,treatment:e,getConfig:p,isFreeUser:u,openFileParentOrgId:l})||x(o,l,d,_),[null==a?void 0:a.created_at,o,l,d,s,e,p,u,_])}function P(){var e,t;let r=(0,y.iZ)(),a=(0,v.ol)(),o=(0,i.wA)(),l=(0,b.f)(T),s=null==(e=(0,c.md)(h.t))?void 0:e.data,d=(null==(t=(0,E.q5)())?void 0:t.parentOrgId)||null,{getConfig:u}=(0,m.I7)("exp_presets_baseline_new");return n.useCallback(()=>L({currentUserCreatedAt:(null==r?void 0:r.created_at)??null,currentTeam:a,overrideFlag:l,dispatch:o,getConfig:u,isFreeUser:s,openFileParentOrgId:d}),[null==r?void 0:r.created_at,a,d,o,l,u,s])}let k=(0,m.S$)({experimentName:"exp_presets_baseline_new"}),D=(0,m.S$)({experimentName:"exp_presets_baseline_existing"}),M=(0,d.eU)(async e=>{var t;let r=e(f.p9),n=e(v.Me),i=(null==(t=e(E.yV))?void 0:t.parentOrgId)||null,a=e((0,g.Fu)(T)),o=e(h.t),s=await e(k),c=await e(D);return()=>L({currentUserCreatedAt:(null==r?void 0:r.created_at)??null,currentTeam:n,overrideFlag:a.data??void 0,dispatch:l.D.dispatch,treatment:void 0,getConfig:s,isFreeUser:o.data,openFileParentOrgId:i})||x(n,i,a.data??void 0,c)});function x(e,t,r,n){return!r&&(!e||!e.org_team)&&!t&&"has_presets"===n().getValue("treatment","")}async function F(e,t,r,n,i){return await N(e,r,i,t,n||null)||await O(r,n,i)}},696673:(e,t,r)=>{"use strict";r.d(t,{$Q:()=>y,GS:()=>v,JB:()=>S,MJ:()=>T,MO:()=>w,N4:()=>b,Pd:()=>C,bH:()=>N,ce:()=>A,hT:()=>I,tz:()=>f,wJ:()=>E});var n=r(411855),i=r(188507),a=r(966712),o=r(38580),l=r(837324),s=r(173454),c=r(479296),d=r(639135),u=r(378260),p=r(335682),m=r(694687),_=r(984968);let h=["1341960932129965145","1341958841682444374","1341960613427075160"],g=["1344465555686977718","1344465264817347765","1344464949811785908"];function f(e){return h.includes(e)||g.includes(e)}let E=(0,c.D)(e=>22!==e.length&&!e.match(/\D/));function y(e){return(0,n.useMemo)(()=>e&&E(e)?e:null,[e])}function b(e){let{name:t}=(0,l.qD)(e),{id:r,thumbnail_url:n}=e;return{name:t,key:r,type:s.PP,thumbnail_url:n}}function v(e){let{library_file_name:t,library_file_key:r,thumbnail_url:n}=e;return{name:t,key:r,type:s.PP,thumbnail_url:n}}function I(e){let{file:t,components:r,stateGroups:n,styles:i,variables:a,variableSets:o}=e,{name:l,key:s,type:c,thumbnail_url:d}=t;return{library_file_key:s,library_file_name:l,thumbnail_url:d,num_components:r.length,num_state_groups:n.length,num_styles:i.length,num_variable_collections:o.length,num_variables:a.length,num_module_assets:0,type:c}}function T(e,t){return!!((0,a.kc)().dse_preset_libraries&&!((null==e?void 0:e.figma_provided_libraries_disabled)||(null==t?void 0:t.figma_provided_libraries_disabled)))}let S=(0,o.eU)(e=>{let t=e(_.Me),r=e(m.h0),n=e(p.yV),i=n?n.parentOrgId:r,a=e(u.mQ);return T(i?a[i]:null,t)});function w(e){let t=e.openFile?e.openFile.parentOrgId:e.currentUserOrgId;return T(t?e.orgById[t]:null,(0,_.H7)(e))}let A=(0,o.eU)(async e=>{let t=await e(d.DX),r=e(S);return()=>!!(t()||r)});async function C(e,t){var r,n;let i=await (0,d.iJ)((null==(r=e.user)?void 0:r.created_at)??null,t,(0,_.H7)(e),(null==(n=e.openFile)?void 0:n.parentOrgId)||null,e.userFlags[d.q3]),a=w(e);return!!(i||a)}function N(){var e;let t=null==(e=(0,p.q5)())?void 0:e.teamId,r=(0,i.d4)(e=>t&&e.library.subscriptions.byTeam[t]);return!!r&&((0,a.b5)()?g.some(e=>r[e]&&!0===r[e].design):h.some(e=>r[e]&&!0===r[e].design))}},269167:(e,t,r)=>{"use strict";r.d(t,{EO:()=>G,FP:()=>V,FV:()=>U,J$:()=>et,OY:()=>W,Qj:()=>$,R$:()=>F,Rm:()=>K,Y8:()=>X,Zk:()=>x,aQ:()=>ee,ej:()=>M,gn:()=>er,kA:()=>D,lt:()=>q,tw:()=>en,ul:()=>Q,vl:()=>B,xp:()=>J,y1:()=>z,zH:()=>j});var n=r(411855),i=r(188507),a=r(776250),o=r(157663),l=r(38329),s=r(737947),c=r(966712),d=r(286640),u=r(761870),p=r(881388),m=r(939863),_=r(654923),h=r(837324),g=r(466636),f=r(545941),E=r(376441),y=r(662275),b=r(986270),v=r(756085),I=r(521010),T=r(555328),S=r(401730),w=r(376485),A=r(344202),C=r(248144),N=r(638541),O=r(541158),L=r(479296),R=r(860178),P=r(215822);function k(e,t,r,n){return i=>{i(y.$O({type:C.h.type,data:{userId:e.id,resource:t,onSuccess:()=>{i(r=>{((0,T.I0)(t)||(0,T.xQ)(t))&&r(b.fR(t,e.id))}),r&&r()},onCancel:n}}))}}let D=(0,L.n)((e,t,r,n,i,a)=>{let l=(0,c.kc)().community_hub_admin&&r&&(0,f.AC)(r);return new Promise(c=>{let d=()=>{if(t){if(n||l){var i;e((i=()=>{$({type:"PAID"}),c()},e=>{e(y.$O({type:C.h.type,data:{userId:t.id,resource:r,localResource:n,onSuccess:i,onCancel:c,noInteractionMode:!0}}))}));return}(0,T.m3)(r)?e(k(t,r,()=>c(),()=>c())):o.k.error("Can only initiate checkout for a monetized or local resource.")}else{e(e=>{e(u.I.init({origin:"freemium_checkout_modal_in_open_session",redirectUrl:s.Ay.location.pathname,signedUpFromOpenSession:!0})),e((0,y.to)({type:A.x,data:{headerText:(0,m.t)("fullscreen.toolbar.log_in_to_do_more_with_figjam")}}))});return}};a===N.P.SKIP?d():e(y.$O({type:N.V.type,data:{type:t?a||N.P.PAID_FEATURE:N.P.LOGGED_OUT,onContinue:d,onClose:c,plugin:r&&(0,P.uF)(r)||n||i,monetizedResourceMetadata:null==r?void 0:r.monetized_resource_metadata}}))})});function M(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.authedActiveCommunityProfile),o=(0,i.d4)(e=>e.authedUsers),l=(0,_.I)(e);return n.useCallback(()=>{if(!e)return;let n=(0,g.QQ)(l),i=(0,T.m3)(e);if((0,a.sx)("cmty_resource_usage_action",{resourceType:(0,h.Dl)(e),resourceId:e.id,profileId:null==r?void 0:r.id,hasActiveCommunityResourcePayment:n,isMonetizedResource:i}),!i||n||!1===x(r,o,e))return;let s=(0,I.G)({authedActiveCommunityProfile:r,authedUsers:o}),{usersCanPurchase:c,publishers:d}=(0,g.V4)(s,e);if((0,a.sx)("Checkout Flow Entered",{resourceType:(0,h.Dl)(e),resourceId:e.id,numLoggedInAssociatedUsersThatCanPurchase:c.length,numLoggedInAssociatedPublishers:d.length}),1===c.length&&0===d.length){t(k(c[0],e));return}t((0,y.to)({type:O.I,data:{onUserSelect:r=>{(0,a.sx)("Pre Purchase User Selector Modal - User Selected",{resourceType:(0,h.Dl)(e),resourceId:e.id,userIdForPurchase:r.id}),t(k(r,e))},resource:e}}))},[e,l,r,o,t])}function x(e,t,r){if(!(0,T.m3)(r))return!1;let n=(0,I.G)({authedActiveCommunityProfile:e,authedUsers:t}),{usersCanPurchase:i,publishers:a}=(0,g.V4)(n,r);return(0!==i.length||0!==a.length)&&(0!==i.length||0===a.length)}function F(e){let t=(0,i.wA)(),r=(0,_.I)(e);return n.useCallback(()=>{e&&(0,g.QQ)(r)&&(t(p.s.flash((0,m.t)("community.buyer.redirecting_to_stripe"))),t(E.v({})))},[e,r,t])}function U(e,t){let r=(null==t?void 0:t[e.monetized_resource_metadata.id])||e.community_resource_payment;return(0,g.QQ)(r)}function B(e,t){let{publishers:r}=(0,g.V4)([t],e);return r.length>0}function H(e,t,r){return!(!e||!(0,T.m3)(e)||(0,T.PM)(e)||!(0,T.U)(e)&&((0,w.f5)(e)||(0,T.zF)(e))||r&&B(e,r))&&!U(e,t)}function V(){return(0,i.d4)(e=>e.communityPayments)}function G(e){return H(e,V(),(0,R.iZ)()||void 0)}function W(e){let t=V();return(0,T.m3)(e)&&U(e,t)}function K(e){return H(e,l.D&&l.D.getState().communityPayments,l.D&&l.D.getState().user||void 0)}let Y="local-resource-payment";var j=(e=>(e.PAID="PAID",e.UNPAID="UNPAID",e.NOT_SUPPORTED="NOT_SUPPORTED",e))(j||{});function z(){return(0,d.DN)().get(Y)}function $(e){(0,d.DN)().set(Y,e)}function Z(e,t){if(t&&(0,T.m3)(t))return(null==e?void 0:e[t.monetized_resource_metadata.id])||t.community_resource_payment}function q(e){return Z(V(),e)}function J(e){let t=(0,i.d4)(t=>(0,P.my)(e,t.publishedPlugins)),r=q(t);return n.useMemo(()=>t?{...t,community_resource_payment:r}:t,[r,t])}function X({extension:e,publishedPlugins:t,publishedWidgets:r,communityPaymentsState:n}){let i=((0,w.k0)(e)?r:t)[e.plugin_id];if(!i)return;let a=Z(n,i);return{...i,community_resource_payment:a}}function Q(e){let t=(0,v.cW)()[e],r=q(t);return n.useMemo(()=>t?{...t,community_resource_payment:r}:t,[r,t])}function ee(e){let t=(0,i.d4)(t=>t.publishedWidgets[e]),r=q(t);return n.useMemo(()=>t?{...t,community_resource_payment:r}:t,[r,t])}function et(e){let t=(0,v.ZT)()[e],r=q(t);return n.useMemo(()=>t?{...t,community_resource_payment:r}:t,[r,t])}function er(e){let t=q(e);return!!t&&(0,g.UO)(t)}function en(e){let t=q(e);return!!t&&(0,g.WJ)(t,S.G3.PENDING)}},44892:(e,t,r)=>{"use strict";r.d(t,{$X:()=>R,Eo:()=>eo,F1:()=>er,J_:()=>G,Jl:()=>H,MJ:()=>L,O9:()=>K,OM:()=>w,P$:()=>x,Po:()=>B,Qx:()=>V,R8:()=>W,UB:()=>U,UE:()=>O,Vu:()=>P,WZ:()=>ea,aV:()=>A,ah:()=>C,g4:()=>en,jh:()=>M,oU:()=>N,qv:()=>k,r2:()=>I,r8:()=>T,u0:()=>S,uj:()=>es,y3:()=>F,zR:()=>el});var n=r(776250),i=r(717068),a=r(568214),o=r(38329),l=r(218549),s=r(886653),c=r(776621),d=r(539130),u=r(27087),p=r(852800),m=r(237929),_=r(666068),h=r(173454),g=r(478655),f=r(757702),E=r(479296),y=r(662531);let b=e=>{let t=p.glU.getDefaultStateForLocalStateGroup(e)||e,[r,n]=p.Vzr.generateThumbnailForNode(t,768,768,2,{});return n},v=Object.create(null);function I(e){return R(b(e))}let T="FAILED_THUMBNAIL",S="LOADING_THUMBNAIL";function w(e){return!(!e||e===T||e===S||e.startsWith("blob:")&&!v[e])}function A(e,t){let[r,n]=p.Vzr.generateThumbnailFromStyleMaster(e,t,18,18,2);return r&&r.status===S?S:R(n)||(console.error(`failed to generate thumbnail for node ${e}`),T)}function C(e,t){let[r,n]=p.Vzr.generateThumbnailFromStyleConsumer(e,t,18,18);return R(n)||(console.error(`failed to generate thumbnail for node ${e}`),T)}function N(e,t,r){if(!(0,_.Kb)(e))return{type:"INVALID"};let n=p.Vzr.generateSerializableThumbnailForStyle(t||"",e,r||""),i=n.length>0?d.w.decodeMessage(n):null,a=i&&i.nodeChanges&&i.nodeChanges[0]||null;return a?(0,_.No)(a,e):(console.error(`failed to generate serializable thumbnail for node ${t}`),{type:"INVALID"})}function O(e){return!!L(e)}function L(e){if("FILL"!==e.type)return null;let t=e.fillPaints;if(!t||1!==t.length)return null;let r=t[0];return"SOLID"!==r.type||null==r.color||null==r.opacity?null:{...r.color,a:r.opacity}}function R(e){if(e.length>0){let t=URL.createObjectURL(new Blob([e]));return v[t]=e,t}return null}function P(e){let t=v[e];if(!t)throw Error(`No buffer in cache for thumbnail url ${e}`);return t}function k(e){v[e]&&(URL.revokeObjectURL(e),delete v[e])}let D=null;(()=>{if(!document)return;let e=document.createElement("canvas");e.width=1,e.height=1,e.toBlob&&e.toBlob(e=>{let t=new FileReader;t.onload=()=>{D=R(new Uint8Array(t.result))},t.readAsArrayBuffer(e)},"image/png")})();let M=()=>D;function x(e){let t=e=>{let t=e.toFixed(1);return"0"===t.slice(-1)?e.toFixed(0):t};if(!(e.metrics&&e.metrics.fontSize&&e.metrics.lineHeight))return"";let r=" \xb7 "+t(e.metrics.fontSize),n=e.metrics.lineHeight;return"PERCENT"===n.units&&100===n.value?r+"/Auto":"RAW"===n.units?r+"/"+t(100*n.value):r+"/"+t(n.value)}function F(e){let t=Object.keys(e).map(t=>e[t]).filter(e=>!e.unpublished_at);return(0,i.KQ)(t,"name"),t}let U=(0,E.n)(e=>e===h.E8.CURRENT||e===h.E8.CHANGED||e===h.E8.DELETED),B=(0,s.xx)(e=>{let t={};return Object.keys(e).forEach(r=>{t[r]={},Object.keys(e[r]).forEach(n=>{t[r][n]=H(e[r][n])})}),t});function H(e){var t;let r={};for(let n in e){let i=e[n];(null==(t=i.containing_frame)?void 0:t.containingStateGroup)==null&&(r[n]={...i})}return r}let V=(0,s.xx)(e=>{let t=H(e.local.components);for(let r in e.local.stateGroups)t[r]=e.local.stateGroups[r];return t});function G(e){return(0,m.ke)(e).join("/")}function W(e,t){var r,n;let i=t.some(t=>{var r,n,i,a;return(null==(r=t.containing_frame)?void 0:r.pageId)===(null==(n=e.containing_frame)?void 0:n.pageId)&&(null==(i=t.containing_frame)?void 0:i.nodeId)!==(null==(a=e.containing_frame)?void 0:a.nodeId)}),a=[];i&&(null==(n=null==(r=e.containing_frame)?void 0:r.name)?void 0:n.trim().length)&&a.push(e.containing_frame.name);let o=(0,m.ke)(e.name).map(e=>e.trim()).filter(e=>""!==e);return o.pop(),a.push(...o),a}function K(e,t){var r,n,i,a;let o=W(e,t);return t.some(t=>{var r,n,i,a;return(null==(n=null==(r=t.containing_frame)?void 0:r.pageName)?void 0:n.trim())!==(null==(a=null==(i=e.containing_frame)?void 0:i.pageName)?void 0:a.trim())})&&(null==(n=null==(r=e.containing_frame)?void 0:r.pageName)?void 0:n.trim().length)&&o.unshift(null==(a=null==(i=e.containing_frame)?void 0:i.pageName)?void 0:a.trim()),o}async function Y(e,t){return await Z(e,t,h.PW.COMPONENT)}async function j(e,t){return await Z(e,t,h.PW.STATE_GROUP)}async function z(e,t){return await Z(e,t,h.PW.VARIABLE)}async function $(e,t){return await Z(e,t,h.PW.VARIABLE_SET)}async function Z(e,t,r){let n="",i="";switch(r){case h.PW.VARIABLE:n="/api/variable_log_data",i="variables";break;case h.PW.VARIABLE_SET:n="/api/variable_set_log_data",i="variable_sets";break;case h.PW.STATE_GROUP:n="/api/state_group_log_data",i="state_groups";break;case h.PW.COMPONENT:n="/api/component_log_data",i="components"}let a=[],o=(await u.Ay.post(n,{[i]:e,fv:t.toString()})).data.meta[i];if(o.length<e.length)for(let t of e)(r===h.PW.COMPONENT?o.find(e=>e.component_key===t.key&&e.content_hash===t.version):o.find(e=>e.key===t.key&&e.version===t.version))||console.error(`Asset data for ${r} key ${t.key} version ${t.version} is missing. Does the user have proper access to the asset?`);for(let e of o)r!==h.PW.VARIABLE_OVERRIDE&&(e.type=r,e.canvas_url&&0!==e.canvas_url.length?a.push(e):e.type===h.PW.COMPONENT?console.error(`Canvas URL missing from ${r} ${e.component_key} version ${e.content_hash}.`):console.error(`Canvas URL missing from ${r} ${e.key} version ${e.version}.`));return a}function q(e){let t=e&&e.status;return Number.isInteger(t)&&t>=0?t:-1}function J(e){let t=q(e);return t>=400&&t<500}let X=e=>{let t=function(e,t){let r=e&&e.data&&e.data.message;return"string"==typeof r&&r.length>0?r:t}(e,"please try again later"),r=q(e);return r>0?t+=` (status ${e.data.status})`:0===r&&(t+=" (must be online)"),t};function Q(e){switch(e.type){case h.PW.COMPONENT:return`component/${e.component_key}/${e.content_hash}`;case h.PW.STATE_GROUP:return`state_groups/${e.key}/${e.version}`;case h.PW.VARIABLE:case h.PW.VARIABLE_SET:return`variable_set/${e.key}/${e.version}`;case h.PW.MODULE:return`module/${e.key}/${e.version}`}}var ee=(e=>(e.PERMANENT_ERROR="permanent-error",e.TRANSIENT_ERROR="transient-error",e.UPSERT_SHARED_SYMBOL_ERROR="shared-symbol-error",e.UPSERT_SHARED_STATE_GROUP_ERROR="shared-state-group-error",e.UPSERT_SHARED_VARIABLE_SET_ERROR="shared-variable-set-error",e.UPSERT_SHARED_VARIABLE_ERROR="shared-variable-error",e.UPSERT_SHARED_MODULE_ERROR="shared-module-error",e.UNCAUGHT_ERROR="uncaught-error",e.SUCCESS="success",e))(ee||{});async function et(e,t,r){try{let n;try{n=await eo.getCanvas({canvas_url:function(e,t){switch(e.type){case h.PW.COMPONENT:return e.canvas_url+"&fv="+t.toString();case h.PW.STATE_GROUP:return`/state_group/${e.key}/version/${e.version}/canvas?fv=${t}`;case h.PW.VARIABLE:case h.PW.VARIABLE_SET:case h.PW.MODULE:return e.canvas_url}}(e,t)})}catch(t){if(J(t))return console.warn("Permanent error",t,"status",q(t),"for entry",Q(e)),{resultType:"permanent-error"};return console.warn("Transient error",t,"status",q(t),"for entry",Q(e)),{resultType:"transient-error",transientError:t}}return{resultType:y.l7.system("upsert-asset-from-log",()=>(function(e,t,r){let n,i;switch(e.type){case h.PW.COMPONENT:n=p.BXd.upsertSharedSymbol(e.component_key,e.content_hash,e.file_key,t,r,p.ZiZ.ACTIVE_SCENE),i="shared-symbol-error";break;case h.PW.STATE_GROUP:n=p.BXd.upsertSharedStateGroup(e.key,e.version,e.file_key,t,r,p.ZiZ.ACTIVE_SCENE),i="shared-state-group-error";break;case h.PW.VARIABLE:n=p.BXd.upsertSharedVariable(g.Hc(e.key,e.version),t,r),i="shared-variable-error";break;case h.PW.VARIABLE_SET:n=p.BXd.upsertSharedVariableSet(f.Hc(e.key,e.version),t,r),i="shared-variable-set-error";break;case h.PW.MODULE:n=void 0,i="shared-module-error"}if(!n||n.fileUpdateRequired)return i;if(!n.localGUID){if(e.type===h.PW.COMPONENT)return console.error(`Couldn't upsert shared component in scene for key ${e.component_key} version ${e.content_hash}.`),i;if(e.type===h.PW.STATE_GROUP)return console.error(`Couldn't upsert shared state group in scene for key ${e.key} version ${e.version}.`),i}return"success"})(e,r,n)),bytesAdded:n.byteLength}}catch(t){return console.error("Uncaught error",t,"during buffer processing of",Q(e)),{resultType:"uncaught-error"}}}async function er(e,t,r,i,a){try{let e;let o=Date.now(),l=0,s={"permanent-error":0,"transient-error":0,"shared-symbol-error":0,"shared-state-group-error":0,"uncaught-error":0,success:0,"shared-variable-error":0,"shared-variable-set-error":0,"shared-module-error":0},c=-1,d=[];if(t.length>0)try{d=await Y(t,a)}catch(t){J(t)?s["permanent-error"]++:(s["transient-error"]++,e=t),c=q(t),d=[]}for(let t of d){let{resultType:r,bytesAdded:n,transientError:o}=await et(t,a,i);s[r]++,l+=n??0,o&&(e=o)}let u=[];if(r.length>0)try{u=await j(r,a)}catch(t){J(t)?s["permanent-error"]++:(s["transient-error"]++,e=t),c=q(t),u=[]}for(let t of u){let{resultType:r,bytesAdded:n,transientError:o}=await et(t,a,i);s[r]++,l+=n??0,o&&(e=o)}if((0,n.sx)("publishing_buffer_fetch",{latency:Date.now()-o,num_versions_fetched:d.length+u.length,num_success:s.success,total_bytes:l,failed_to_upsert_in_scene:s["shared-symbol-error"]+s["shared-state-group-error"],permanent_errors:s["permanent-error"],transient_errors:s["transient-error"],uncaught_errors:s["uncaught-error"],log_data_error_status:c}),s["transient-error"]>0)return Promise.reject(Error(X(e)));return Promise.resolve(!0)}catch(e){return Promise.reject(Error(X(e)))}}async function en(e,t,r,i){try{let a;let o=Date.now(),l=0,s={"permanent-error":0,"transient-error":0,"shared-variable-error":0,"shared-variable-set-error":0,"uncaught-error":0,success:0,"shared-symbol-error":0,"shared-state-group-error":0,"shared-module-error":0},c=-1,d=[];if(e.length>0)try{d=await $(e,i)}catch(e){J(e)?s["permanent-error"]++:(s["transient-error"]++,a=e),c=q(e),d=[]}for(let e of d){let{resultType:t,bytesAdded:n,transientError:o}=await et(e,i,r);s[t]++,l+=n??0,o&&(a=o)}let u=[];if(t.length>0)try{u=await z(t,i)}catch(e){J(e)?s["permanent-error"]++:(s["transient-error"]++,a=e),c=q(e),u=[]}for(let e of u){let{resultType:t,bytesAdded:n,transientError:o}=await et(e,i,r);s[t]++,l+=n??0,o&&(a=o)}if((0,n.sx)("variable_publishing_buffer_fetch",{latency:Date.now()-o,num_versions_fetched:d.length+u.length,num_success:s.success,total_bytes:l,failed_to_upsert_in_scene:s["shared-variable-set-error"]+s["shared-variable-error"],permanent_errors:s["permanent-error"],transient_errors:s["transient-error"],uncaught_errors:s["uncaught-error"],log_data_error_status:c}),s["transient-error"]>0)return Promise.reject(Error(X(a)));return Promise.resolve(!0)}catch(e){return Promise.reject(Error(X(e)))}}let ei=class e{constructor(){this.canvasCache=Object.create(null),this.canvasRequestsInFlight=Object.create(null),this.thumbnailCache=new l.q(e.MAX_VARIABLE_SET_THUMBNAILS),this.thumbnailRequestsInFlight=Object.create(null),this.getCanvas=({canvas_url:t})=>{if(!t)return Promise.reject(Error("No canvas URL"));let r=e.augmentUrlWithFileVersion(t);if(r in this.canvasCache)return Promise.resolve(this.canvasCache[r]);if(r in this.canvasRequestsInFlight)return this.canvasRequestsInFlight[r];{let e=(0,u.GD)(r,null,{responseType:"arraybuffer"}).then(({data:e})=>(this.canvasCache[r]=e,e)).catch(e=>{throw console.warn("Team library cache error on get() with status",q(e),"with error",e),e}).finally(()=>{delete this.canvasRequestsInFlight[r]});return this.canvasRequestsInFlight[r]=e,e}},this.getVariableSetThumbnails=e=>{if(!e)return Promise.reject(Error("No canvas URL"));if(this.thumbnailCache.has(e))return Promise.resolve(this.thumbnailCache.get(e));if(e in this.thumbnailRequestsInFlight)return this.thumbnailRequestsInFlight[e];{let t,r;let n=(0,u.GD)(e,null,{responseType:"arraybuffer"}).then(({data:n,status:i})=>{t=new TextDecoder("utf-8").decode(n),r=i;let a=function(e){let t={};for(let r of Object.keys(e)){let n=f.sH(r);n?t[f.dI(n)]=e[r]:console.error(`Received invalid collection ID in thumbnails response: ${r}`)}return t}(JSON.parse(t));return this.thumbnailCache.set(e,a),a}).catch(n=>{throw console.warn("Team library cache error on get() with status",q(n),"with error",n),(0,c.xi)("teamLibraryItemSeceneGraphCache","unable to get variable set thumbnails",{decodedData:t,thumbnailUrl:e,requestStatus:r}),n}).finally(()=>{delete this.thumbnailRequestsInFlight[e]});return this.thumbnailRequestsInFlight[e]=n,n}},this.putCanvas=(e,t)=>{this.canvasCache[e]=t},this.hasKeyInCache=e=>e in this.canvasCache||this.thumbnailCache.has(e),this.clearCache=()=>{this.canvasCache=Object.create(null),this.thumbnailCache.reset(),this.canvasRequestsInFlight=Object.create(null),this.thumbnailRequestsInFlight=Object.create(null)},this.getCacheValueOrNull=e=>this.thumbnailCache.get(e)??null,this.clearCache()}};ei.MAX_VARIABLE_SET_THUMBNAILS=20,ei.augmentUrlWithFileVersion=e=>{var t;let r=new URL(e,location.origin),n=(null==(t=o.D)?void 0:t.getState().fileVersion)||0;return r.searchParams.set("fv",n.toString()),r.toString()};let ea=ei,eo=new ea;function el(e,t=null){var r,n;let i;if(e.type===h.PW.COMPONENT&&(null==(r=e.containing_frame)?void 0:r.backgroundColor))i=e.containing_frame.backgroundColor;else if(e.type===h.PW.STATE_GROUP&&e.fill_color)i=e.fill_color;else if(e.type===h.PW.STATE_GROUP&&(null==(n=e.containing_frame)?void 0:n.backgroundColor))i=e.containing_frame.backgroundColor;else{if(!t)return null;i=t}let o=(0,a.H0)(i);return o&&0!==o.a?(0,a.X9)(o,1):null}function es(e){let t=null;return e.every(e=>{if(null===t)t=e.file_key;else if(t!==e.file_key)return t=null,!1;return!0}),t}},574724:(e,t,r)=>{"use strict";r.d(t,{c6:()=>m,hI:()=>_,GP:()=>i.G,Ay:()=>p,nU:()=>d,Jm:()=>o.J,rG:()=>a.Z});var n=r(102337),i=r(239074),a=r(536118),o=r(291516),l=r(10061),s=(e=>(e[e.STARTING=0]="STARTING",e[e.FRONTMATTER=1]="FRONTMATTER",e[e.BODY=2]="BODY",e[e.FOOTER=3]="FOOTER",e))(s||{});class c{constructor(e){this.onParse=e}state=0;buffer="";cursor=0;parseLine(e){if(e.startsWith("# ")){let t=e.slice(2);return{type:"h1",content:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}}return e.startsWith("## ")?{type:"h2",content:e.slice(3)}:e.startsWith("### ")?{type:"h2",content:e.slice(4)}:e.startsWith("- ")?{type:"li",content:e.slice(2)}:{type:"p",content:e}}feed(e){this.buffer+=e;let t=e=>{this.buffer=this.buffer.slice(e),this.cursor+=e};for(;this.buffer.length>0;){let e=this.buffer.indexOf("\n");if(0===this.state){if(-1===e)return;this.buffer.slice(0,e)===l.z6&&(this.state=1),t(e+1)}else if(1===this.state){if(-1===e)return;this.buffer.slice(0,e).startsWith(l.fV)&&(this.state=2),t(e+1)}else if(2===this.state){if(this.buffer.startsWith(l.if)){this.state=3;return}if(-1===e){if(this.buffer.length>=4){let e=this.parseLine(this.buffer);this.onParse(e,this.cursor)}return}{let r=this.buffer.slice(0,e);r.length>0&&this.onParse(this.parseLine(r),this.cursor),t(e+1)}}else if(3===this.state)return}}}function d(){let e,t;let r=[];return new TransformStream({start(n){e=new c((e,i)=>{(null==t?void 0:t.start)===i?r[r.length-1]=e:(r.push(e),t={start:i,primitive:e}),n.enqueue([...r])})},transform(t,r){e.feed(t.delta)}})}var u=r(742808);let p=(0,n.yu)({onError:e=>{(0,u.Rh)("web.cortex.error",{route:e})}});class m{constructor(e){this.stream=e}async *[Symbol.asyncIterator](){let e=this.stream.getReader();try{for(;;){let t=e.read(),{done:r,value:n}=await t;if(r)break;yield n}}finally{e.releaseLock()}}}class _{constructor(e,t){this.stream=e,this.timeoutMs=t}async *[Symbol.asyncIterator](){let e=this.stream.getReader();try{for(;;){let t=e.read();try{let e=new Promise((e,t)=>{setTimeout(()=>{t(Error("Timeout"))},this.timeoutMs)}),{done:r,value:n}=await Promise.race([t,e]);if(r)break;yield n}catch(e){if(e instanceof Error&&"Timeout"===e.message)break;throw e}}}finally{e.releaseLock()}}}},385326:(e,t,r)=>{"use strict";r.d(t,{D:()=>a,a:()=>o});var n=r(38580),i=r(288706);let a=(0,n.eU)(null),o=(0,i.um)([],(e,t)=>{switch(t.type){case"mount":return[...e,null==t?void 0:t.uniqueOverlayId];case"unmount":return e.filter(e=>e!==(null==t?void 0:t.uniqueOverlayId))}})},458565:(e,t,r)=>{"use strict";r.d(t,{$5:()=>g,E6:()=>_,d9:()=>p,th:()=>d});var n=r(38580),i=r(106757),a=r(335682),o=r(529928),l=r(284111),s=r(582947);let c=(0,o.bt)(e=>e.multiplayer.allUsers),d=(0,n.eU)(e=>{let t=e(i.p9),r=e(c);if(t&&0!==r.length)return r.filter(e=>e.userID!==t.id)}),u=(0,o.bt)(e=>e.multiplayer.deviceNameFilter),p=(0,n.eU)(e=>{let t=e(c),r=e(u);return null!=e(a.yV)&&null!=r&&new Set(t.filter(e=>e.deviceName===r).map(e=>e.userID)).size>1}),m=(0,s.r1)("seen_spotlight_hint"),_=(0,l.Z1)(m,(e,t)=>{let r=t(c),n=t(u);if(t(h))return!1;let i=r.filter(e=>e.deviceName===n),a=Math.max(...Object.values(i).map(e=>e.joinedAtS))-300,o=new Set;for(let e of i)e.joinedAtS>=a&&o.add(e.userID);return!(o.size<5)&&!e}),h=(0,o.bt)(e=>{let t="fullscreen"===e.selectedView.view&&!e.mirror.appModel.showUi,r="prototype"===e.selectedView.view&&e.selectedView.hideUI;return t||r}),g=(0,o.bt)(e=>{let t="fullscreen"===e.selectedView.view&&e.mirror.appModel.showUi,r="prototype"===e.selectedView.view&&!e.selectedView.hideUI;return t||r})},683694:(e,t,r)=>{"use strict";r.d(t,{$q:()=>E,J1:()=>w,JM:()=>T,NZ:()=>C,PD:()=>g,Sb:()=>b,aT:()=>A,pQ:()=>f,wg:()=>N,zo:()=>I});var n=r(38580),i=r(988022),a=r(408405),o=r(335682),l=r(529928),s=r(243987),c=r(746869),d=r(442617),u=r(986060),p=r(284111),m=r(378260),_=r(723239),h=r(582947);let g=(0,p.Z1)(_.Z_,(e,t)=>{let r=t(o.yV);if(null==r||null==e)return!1;let n=e.map(e=>e.team).find(e=>null!=e&&e.id===r.teamId);return null!=n&&c.ng.getProTrialStatus({grace_period_end:n.gracePeriodEnd?n.gracePeriodEnd.toISOString():null,grace_period_type:n.gracePeriodType})===u.a.IN_TRIAL}),f=(0,p.J9)([_.Hh],([e],t)=>{let r=t(o.yV),n=t(m._s)?null:e;return!!r&&!!n&&!r.teamId&&!r.parentOrgId&&r.folderId===n}),E=(0,l.bt)(({openFile:e})=>{let t=(null==e?void 0:e.parentOrgId)!=null,r=(null==e?void 0:e.team)==null;return t&&r}),y=(0,l.bt)(({progressBarState:e})=>(0,a.T)(null==e?void 0:e.mode)),b=(0,n.eU)(e=>new Promise(t=>{e(y)||t(!1)})),v=(0,h.r1)("editor_onboarded"),I=(0,h.r1)("figjam_editor_onboarded"),T=(0,p.J9)([v,I],([e,t],r)=>{let n=r(o.yV),i=null==n?void 0:n.editorType;return"design"===i?e:"whiteboard"===i&&t}),S=(0,p.Z1)(_.Vm,(e,t)=>{let r=t(o.yV);return(null==r?void 0:r.teamId)?null==e?void 0:e.find(e=>e.id===(null==r?void 0:r.teamId)):null}),w=(0,p.J9)([m.KI,S],([e,t],r)=>{var n;let i=r(o.yV),a=(null==i?void 0:i.parentOrgId)?e[i.parentOrgId]:null,l=t?{id:t.id,subscription:t.subscription,student_team:!!t.studentTeamAt,grace_period_end:(null==(n=t.gracePeriodEnd)?void 0:n.toDateString())||null}:null;return(0,d.M_)({editorType:(null==i?void 0:i.editorType)??null,org:a,team:l})}),A=(0,l.bt)(({openFile:e})=>(null==e?void 0:e.showEditButton)??!1),C=(0,n.eU)(e=>{var t;let r=e(o.yV);if(!r)return!1;let{team:n}=r;return null!=n&&null==n.orgId&&!(0,s.w5)({subscription:n.subscription,student_team:null!=n.studentTeamAt,grace_period_end:(null==(t=n.gracePeriodEnd)?void 0:t.toISOString())??null})}),N=(0,n.eU)(e=>{let t=e(o.yV);return(null==t?void 0:t.canEdit)??!1});(0,n.eU)(e=>{let t=e(o.yV);return(null==t?void 0:t.editorType)!=null?(0,i.pi)({editorType:t.editorType}):null})},378260:(e,t,r)=>{"use strict";r.d(t,{KI:()=>d,UC:()=>_,ZS:()=>p,_s:()=>u,mQ:()=>m,rg:()=>c,uA:()=>h});var n=r(374626),i=r(529928),a=r(99506),o=r(279453),l=r(502665),s=r(284111);let c=(0,s.Z1)((0,o.Tej)({}),e=>e.currentUser.orgUsers),d=(0,s.Z1)(c,e=>{let t=null==e?void 0:e.map(e=>e.org);if(void 0===t)return{};let r={};for(let e of t)null!=e&&(r[e.id]={...e,bigmaEnabled:!!e.bigmaEnabledAt,voiceEnabled:!e.voiceDisabledAt,widgetsWhitelistEnforced:!!e.widgetsWhitelistEnforced});return r}),u=(0,i.bt)(e=>e.currentUserOrgId),p=(0,s.J9)([d],([e],t)=>{let r=t(u);return null!=r?e[r]:null}),m=(0,i.bt)(e=>e.orgById),_=(0,n.Iz)(e=>(0,s.Z1)((0,o.s5h)({orgId:e}),e=>{var t,r,n;return!!(null==(r=null==(t=e.org)?void 0:t.workspaces)?void 0:r.length)&&!!(null==(n=e.org)?void 0:n.bigmaEnabledAt)})),h=(0,s.J9)([p,c,l.N],([e,t,r],n)=>{if(!e)return!1;let i=n(m)[e.id];if(!i.bigma_enabled||!i.workspaces_nux_active_at)return!1;let o=null==t?void 0:t.find(t=>t.orgId===e.id&&t.userId===r);return!!o&&o.permission!==a._D.GUEST})},543312:(e,t,r)=>{"use strict";r.d(t,{I:()=>l,e:()=>s});var n=r(99506),i=r(243987),a=r(284111),o=r(723239);let l=(0,a.Z1)(o.Vm,e=>(e??[]).some(e=>null!=e&&!(0,i.w5)({subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toISOString():null})&&!e.orgId&&e.canEdit)),s=(0,a.Z1)(o.Vm,e=>(e??[]).filter(e=>null!=e&&e.subscription===n.Qh.OK&&null==e.gracePeriodEnd&&!e.orgId&&e.canEdit))},723239:(e,t,r)=>{"use strict";r.d(t,{Fy:()=>y,GQ:()=>D,Hh:()=>b,M$:()=>N,NT:()=>L,Ot:()=>U,Qm:()=>I,Vm:()=>S,Z_:()=>T,d2:()=>f,fg:()=>P,fu:()=>R,g5:()=>M,mp:()=>E,nZ:()=>O,t:()=>C,tH:()=>F,zN:()=>v});var n=r(367253),i=r(966712),a=r(314866),o=r(38580),l=r(374626),s=r(288706),c=r(140908),d=r(529928),u=r(279453),p=r(243987),m=r(605228),_=r(143678),h=r(284111),g=r(378260);let f=(0,h.J9)([(0,u.Tej)({}),g.ZS],([e,t])=>null!=e.currentUser.id&&(null==t?void 0:t.canRead)?_.qo.ORG:_.qo.PERSONAL),E=(0,h.Z1)((0,u.Tej)({}),e=>e.currentUser.createdAt),y=(0,h.Z1)(E,e=>e.getTime()<=Date.now()-12096e5),b=(0,h.J9)([g.rg,(0,u.Tej)({})],([e,t],r)=>{let n=r(g._s);if(!n)return t.currentUser.draftsFolderId;{let t=null==e?void 0:e.find(e=>e.orgId===n);return(null==t?void 0:t.draftsFolderId)||null}});(0,h.Z1)((0,u.Tej)({}),e=>{let t=e.currentUser.email;return(0,n.jm)(t)||!!(null==t?void 0:t.endsWith("@dev.figma.com"))});let v=(0,h.Z1)((0,u.Tej)({}),e=>null!=e.currentUser.studentValidatedAt),I=(0,h.Z1)((0,u.UpR)({}),e=>e.currentUser.eduPeriodEnd),T=(0,h.Z1)((0,u.Tej)({}),e=>e.currentUser.teamRoles),S=(0,h.Z1)(T,e=>null==e?void 0:e.map(e=>e.team).filter(e=>null!=e)),w=(0,d.bt)(e=>e.isFreeUser),A=(0,h.J9)([g.rg,S],([e,t])=>(null==e||!e.length||!(e.length>0))&&(null==t||!t.some(e=>e.canEdit&&(0,p.w5)({subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toISOString():null})))),C=(0,h.Z1)(A,(e,t)=>(0,i.kc)().ps_benchmark?t(w):e),N=(0,h.Z1)(g.rg,e=>null!=e&&!!e.length&&e.length>0),O=(0,h.Z1)((0,u.Tej)({}),e=>{let t=e.currentUser.email;return null!=t?(0,n.qe)(t):void 0}),L=(0,h.Z1)((0,u.Tej)({}),e=>{var t;return null==(t=e.currentUser.profile)?void 0:t.jobTitle}),R=(0,h.Z1)(L,e=>{let t=void 0!==e&&a.s_.includes(e)?e:"other";return"design"!==t&&"other"!==t}),P=(0,h.Z1)((0,u.Tej)({}),e=>{var t;return null==(t=e.currentUser.profile)?void 0:t.usagePurpose}),k=(0,d.bt)(e=>e.authedProfilesById),D=(0,o.eU)(e=>Object.values(e(k)).some(e=>!!e.org_id||!!e.team_id));(0,h.Z1)((0,u.Tej)({}),e=>e.currentUser.email);let M=(0,h.Z1)((0,u.Tej)({}),e=>e.currentUser.emailValidatedAt),x=(0,d.bt)(e=>e.userAnalyticsData),F=(0,l.Iz)(e=>(0,s.mg)(x,t=>{if(null==t)return;let r=t[e];return m.bW.includes(e)&&r?new Date(r):r}));(0,h.Z1)((0,u.Tej)({}),e=>(0,c.qO)(e.currentUser.id));let U=(0,h.J9)([(0,u.Tej)({}),g.ZS],([e,t])=>{let r="loaded"===e.currentUser.externalRestrictedOrgId.status?e.currentUser.externalRestrictedOrgId.data:null;return!!(e.currentUser&&r&&(null==t?void 0:t.id)!==r)})},582947:(e,t,r)=>{"use strict";r.d(t,{$B:()=>m,Fu:()=>s,GW:()=>p,Hy:()=>d,qG:()=>l,r1:()=>u});var n=r(374626),i=r(279453),a=r(59530),o=r(284111);let l=(0,o.Z1)((0,i.Tej)({}),e=>e.currentUser.userFlags.reduce((e,t)=>({...e,[t.name]:t}),{})),s=(0,n.Iz)(e=>(0,o.Z1)(l,t=>t[e])),c=e=>e.length>0?new Date(Math.max(...e.map(Number))):void 0,d=(0,o.Z1)(l,e=>c(Array.from(a.V5).map(t=>{var r;return null==(r=e[t])?void 0:r.updatedAt}).filter(e=>null!=e))),u=(0,n.Iz)(e=>(0,o.Z1)(l,t=>null!=t[e])),p=u("file_browser_onboarded"),m=s("not_gen_0")},205548:(e,t,r)=>{"use strict";r.d(t,{KI:()=>c,MS:()=>l,jj:()=>o,kd:()=>a,mW:()=>s,of:()=>d});var n=r(966712),i=r(99506);function a(e){return e.currentUser.userFlags.reduce((e,t)=>(e[t.name]=t,e),{})||{}}function o(e,t){var r;let n=null==(r=e[t])?void 0:r.updatedAt;if(!n)return!1;let i=Date.now()-864e5;return n.getTime()>i}function l(e){return e.signed_up_from_figjam_jamboard||e.signed_up_from_figjam_page?i._Y.WHITEBOARD:e.signed_up_from_figma_page?i._Y.DESIGN:e.signed_up_from_community?"community":void 0}function s(e,t){return!!e[t]}function c(e){return document.querySelectorAll(`[data-onboarding-key=${JSON.stringify(e)}]`).length>0}function d(e){let t=l(e);return(!e.signed_up_from_figjam_jamboard||!(0,n.kc)().figjam_3p_file_importer)&&("whiteboard"===t||"community"===t)}r(986060),r(59530),r(143678),r(243987),r(746869),r(442617)},116723:(e,t,r)=>{"use strict";r.d(t,{X:()=>n,Y:()=>i});let n="curator_global_request_close";var i=(e=>(e.FigjamUniversalInsertsMenuOpen="figjam_universal_inserts_menu_open",e.FigjamDLTSubmenuOpen="figjam_DLT_submenu_open",e))(i||{})},708277:(e,t,r)=>{"use strict";r.d(t,{MR:()=>o,Op:()=>i,gV:()=>a,nr:()=>l});var n=r(43538);function i(e){let t=new Map,r=new Map;for(let{id:n,...i}of e.states){if(t.has(n))throw Error(`Duplicate state ID ${n.toString()} found when building state machine`);if(t.set(n,i),null==i.transitions)continue;let e=new Map;for(let{event:t,...a}of(r.set(n,e),i.transitions)){let r=e.get(t);null==r&&(r=[],e.set(t,r)),null==r||r.push(a)}}return{config:e,isComplete(e){let r=t.get(e);return(null==r?void 0:r.terminal)??!1},isInitial:t=>t===e.initial,start:()=>e.initial,transition(e,t){var n;let i=null==(n=r.get(e))?void 0:n.get(t.id);if(null==i)return null;for(let r of i)if(null==r.condition||r.condition({from:e,to:r.target,event:t}))return r.target;return null}}}function a(e){var t;let r=new Set;for(let i of e.config.states)if(null!=i.transitions)for(let e of i.transitions)e.event===n.b&&(null==(t=e.meta)?void 0:t.userEvents)!=null&&e.meta.userEvents.forEach(e=>r.add(e));return r}function o(e,t,r){return{event:e,target:t,condition:null==r?void 0:r.condition,meta:null==r?void 0:r.meta}}function l(e,t,r){let i=new Set("string"==typeof e?[e]:e),a={userEvents:[...i]};return o(n.b,t,{condition:e=>{var t;return i.has(e.event.type)&&((null==(t=null==r?void 0:r.condition)?void 0:t.call(r,e))??!0)},meta:a})}},835691:(e,t,r)=>{"use strict";r.d(t,{ST:()=>u,eD:()=>d,zl:()=>c});var n=r(411855),i=r(374626),a=r(47506),o=r(708277),l=r(43538),s=r(642474);function c({_atom:e,machine:t}){let[{currentState:r,lastEvent:a,previousState:o},l]=(0,i.fp)(e),s=t.isComplete(r);return(0,n.useMemo)(()=>({completed:s,currentState:r,lastEvent:a,previousState:o,reset:l}),[s,r,a,o,l])}function d(e){let[{currentState:t,lastEvent:r,previousState:c},d]=(0,n.useState)({currentState:e.start(),lastEvent:null,previousState:null}),u=(0,i.md)(a.az),p=e.isComplete(t),m=(0,n.useCallback)(()=>{d({currentState:e.start(),lastEvent:null,previousState:null})},[e,d]),_=(0,n.useCallback)(t=>{d(r=>{let n=e.transition(r.currentState,t);return null!=n?{currentState:n,lastEvent:t,previousState:r.currentState}:r})},[e,d]);return(0,n.useEffect)(()=>{let t=(0,o.gV)(e);if(0===t.size)return;let r=e=>{let{id:r,properties:n}="properties"in e?e:{id:e.id,properties:void 0};(0,s.Tl)(r,t)&&_({id:l.b,type:r,properties:n??{}})};return(0,s.eR)(u,t,r),()=>(0,s.BD)(u,t,r)},[e,d,_,u]),(0,n.useMemo)(()=>({completed:p,currentState:t,lastEvent:r,previousState:c,reset:m,transition:_}),[p,t,r,c,m,_])}function u(e,t){let r=(0,n.useRef)(null),{currentState:i,lastEvent:a,previousState:o}=e;(0,n.useEffect)(()=>{r.current!==a&&(r.current=a,null!=a&&null!=o&&t({event:a,from:o,to:i}))},[i,a,o,t])}},268223:(e,t,r)=>{"use strict";r.d(t,{Op:()=>n.Op,nr:()=>n.nr,rn:()=>i.rn,zl:()=>a.zl});var n=r(708277),i=r(593788),a=r(835691)},788744:(e,t,r)=>{"use strict";r.d(t,{Fl:()=>u,cm:()=>c,kL:()=>s,rB:()=>o,x6:()=>l});var n=r(411855),i=r(374626),a=r(555301);function o(){(0,i.md)(a.d$),(0,i.md)(a.S0)}function l(e,t){let r=d(t);return!!e&&r.has(e)}function s(e){let t=(0,i.md)(a.S0);return!!e&&t.has(e)}function c(e,t){let r=l(e,t),n=s(e);return r||n}function d(e){return(0,i.md)(e?a.Gg:a.bJ)}function u(e){let t=d(e),r=(0,i.md)(a.S0);return n.useMemo(()=>({workspaceApprovedLibraryKeys:t,orgApprovedLibraryKeys:r}),[t,r])}},756317:(e,t,r)=>{"use strict";r.d(t,{FX:()=>v,KP:()=>y,L1:()=>b,cX:()=>E,uF:()=>f});var n=r(411855),i=r(902634),a=r(132361),o=r(629019),l=r.n(o),s=r(374626),c=r(46481),d=r(762638),u=r(694687),p=r(788744),m=r(680681),_=r(555301),h=r(154113),g=r(109903);let f=16;function E({isForSelect:e,orgNameForTooltip:t,workspaceNameForTooltip:r,tooltipDelay:o=250,tooltipLocation:s="above",size:d="small",variant:u}){let p=t||r?(0,m.wZ)({orgName:t,workspaceName:r,tooltipLocation:s,tooltipDelay:o}):{};return n.createElement(c.U,{className:l()("secondary"===u?h.Wo:h.Kk,e?h.cH:void 0),svg:g.A,...p},n.createElement("div",{className:l()("secondary"===u?h.Wo:h.Kk,e?h.cH:void 0),...p},"large"===d?n.createElement(i.U,null):n.createElement(a.x,null)))}function y(e){let t=(0,s.md)(_.d$),r=(0,u.sZ)(),i=(0,p.kL)(e.fileKey);return n.createElement(E,{...e,orgNameForTooltip:i?null==r?void 0:r.name:void 0,workspaceNameForTooltip:null==t?void 0:t.name})}function b(e){let t=(0,s.md)(_.G7),r=(0,u.sZ)(),i=(0,p.kL)(e.fileKey);return n.createElement(E,{...e,orgNameForTooltip:i?null==r?void 0:r.name:void 0,workspaceNameForTooltip:null==t?void 0:t.name})}function v(){return n.createElement("div",{className:d.cx.flex.alignCenter.justifyCenter.flexShrink0.ml4.mr4.$},n.createElement(E,{isForSelect:!0}))}},680681:(e,t,r)=>{"use strict";r.d(t,{CA:()=>f,NX:()=>b,Qy:()=>m,XF:()=>E,k9:()=>p,vR:()=>y,wZ:()=>g});var n=r(133554),i=r(91408),a=r(374626),o=r(708389),l=r(498606),s=r(416095),c=r(555301),d=r(860168);let u=(0,i.jz)(d.UEm);function p({libraries:e,approvedLibraryKeysByResourceType:t,currentTeamId:r=null,shouldSortByTeam:n=!1}){e.sort((e,i)=>m({libraryA:e,libraryB:i,approvedLibraryKeysByResourceType:t,currentTeamId:r,shouldSortByTeam:n}))}function m({libraryA:e,libraryB:t,approvedLibraryKeysByResourceType:r,currentTeamId:n=null,shouldSortByTeam:i=!1}){let{workspaceApprovedLibraryKeys:a,orgApprovedLibraryKeys:l}=r;if(i&&"file"in e&&"file"in t&&e.team_id!==t.team_id)return(0,s.r9)(e,t,n);let c=_(e),d=_(t),u=l.has(c)?1:0,p=l.has(d)?1:0;if(u!==p)return p-u;let m=a.has(c)?1:0,g=a.has(d)?1:0;return m!==g?g-m:o.f.LEXICOGRAPHICALLY(h(e),h(t))}function _(e){return"key"in e?e.key:e.library_file_key}function h(e){return"name"in e?e.name:e.library_file_name}function g({orgName:e,workspaceName:t,tooltipLocation:r,tooltipDelay:n}){let i=e??t;if(!i)return{};let a=function(e){try{if(e){let t=function(e){let t=document.createElement("span");t.textContent=e,t.style.visibility="hidden",t.style.fontWeight="bold",t.style.display="inline-block",document.body.appendChild(t);let r=t.offsetWidth;return document.body.removeChild(t),r}(e);if(t){if(t>u)return u;if(t>u/2)return Math.max(116,t);return 116}}}catch(e){console.error(e)}return u}(i);return{"data-tooltip-type":l.Ib.SPECIAL,"data-tooltip":l.MW.APPROVED_LIBRARY,..."below"===r?{"data-tooltip-show-below":!0}:{"data-tooltip-show-above":!0},...n?{"data-tooltip-timeout-delay":n}:{"data-tooltip-show-immediately":!0},"data-tooltip-max-width":a,"data-tooltip-workspace-name":t,"data-tooltip-org-name":e}}function f(e,t){return e.find(e=>e.resourceType===n.Y.Workspace&&e.resourceId===t)}function E(e,t){if(t)return e.find(e=>e.resourceType===n.Y.Org&&e.resourceId===t)}function y(e){if(!e)return!1;let t=a.zl.get(c.bJ).has(e),r=a.zl.get(c.S0).has(e);return t||r}function b({workspaceApprovedLibraryKeys:e,orgApprovedLibraryKeys:t}){return e.size>0||t.size>0}},146817:(e,t,r)=>{"use strict";r.d(t,{V:()=>a,q:()=>o});var n=r(173454),i=r(416095);function a(e){return e.isLocal?(0,i.Gj)(e):(0,i.Av)(e)??(0,i.Gj)(e)}function o(e){switch(e){case n.PW.COMPONENT:case n.PW.STATE_GROUP:case n.PW.MODULE:return e;default:return}}},733169:(e,t,r)=>{"use strict";r.d(t,{J:()=>c,v:()=>d});var n=r(966712),i=r(696673),a=r(335682),o=r(243987),l=r(428467),s=r(532888);function c({openFile:e,permissionsState:t,sourceLibraryFile:r,user:a,sourceLibraryFileKey:s}){return!!(!(0,n.kc)().ds_limit_go_to_source||s&&(0,i.wJ)(s))||!!r&&(!!(0,l.canEditFile)(r.key,t)||((null==e?void 0:e.parentOrgId)?e.parentOrgId===(null==r?void 0:r.parent_org_id):(0,o.XX)(null==e?void 0:e.team)?!!((null==r?void 0:r.team_id)&&(null==r?void 0:r.team_id)===(null==e?void 0:e.teamId)):(null==a?void 0:a.drafts_folder_id)!=null&&a.drafts_folder_id===(null==e?void 0:e.folderId)&&function(e,t,r){if(!(null==t?void 0:t.team_id)||!e)return!1;let n=r.teams[t.team_id];return!!(n&&(0,o.w5)(n)&&(0,l.canViewTeam)(n.id,r))}(a,r,t)))}function d(e,t){let r=e.user,n=(0,a.tB)(e),i=(0,s.t_)(e);return!!c({openFile:n,permissionsState:(0,l.getPermissionsState)(e),user:r,sourceLibraryFile:t?null==i?void 0:i[t]:null,sourceLibraryFileKey:t})}},999881:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var n=r(966712),i=r(99506);function a(){return(0,n.kc)().dse_preset_libraries?(0,n.kc)().dse_preset_group_internal?i.wl.INTERNAL:(0,n.kc)().dse_preset_group_apple?i.wl.APPLE_ALPHA:(0,n.kc)().dse_preset_group_google?i.wl.GOOGLE_ALPHA:i.wl.DEFAULT:null}},830445:(e,t,r)=>{"use strict";r.d(t,{E_:()=>v,HA:()=>f,Os:()=>L,TX:()=>I,Xx:()=>g,ee:()=>h,fn:()=>y,ku:()=>R,lR:()=>E,nT:()=>N,p9:()=>C,qA:()=>b,ue:()=>O});var n=r(776250),i=r(38580),a=r(374626),o=r(309225),l=r(173748),s=r(75224),c=r(279453),d=r(137459),u=r(875387),p=r(696673),m=r(99506),_=r(691205);function h(e,t){return"fileKey"===t?{fileKey:e,type:t}:{hubFileId:e,type:t}}function g(e,t){let{type:r,...n}=t;return{...e,...n}}function f(e,t,r){var n,i,a;if("loaded"===e.status){let r=null==(n=e.data.libraryPresetSubscriptionsV2)?void 0:n.find(e=>e.hubFileId===t);if(r)return r.partner_type??void 0}if(null==r)return;let o=r.publisher.profile_handle.toLowerCase(),l=(0,d.oA)(r);return"apple"===o?m.Pn.APPLE:(null==(a=null==(i=null==l?void 0:l.toLowerCase)?void 0:i.call(l))?void 0:a.includes("material"))?m.Pn.GOOGLE:m.Pn.FIGMA}function E(e,t){return t.hub_file_id?e.has(t.hub_file_id):!!(0,p.wJ)(t.file_key)&&e.has(t.file_key)}let y=(0,i.eU)(null),b=(0,i.eU)({value:(0,l.N)(),updateSource:"page_load"});function v(e){let t=(0,a.md)(u.q);return!!e&&t.has((0,s.lt)(e))}function I(e){return!!e&&a.zl.get(u.q).has((0,s.lt)(e))}let T=[c.Lom,c.bsh,c.yFE,c.vsj],S=e=>T.some(t=>t._name===e),w=e=>S(e)?e:void 0,A=e=>_.M4.Query({fetch:async t=>{let r=(0,o.S8)(e,t.arguments);return n.az.trackDefinedEvent("preset_libraries.static_update_fetch",{viewName:w(e._name),batchSize:t.arguments.length,updateSource:t.nonce.updateSource}),await r}}),C=A(c.Lom),N=A(c.bsh),O=A(c.yFE),L=A(c.vsj);function R(e,t,r){let n=r(y),i=r(b),a=r(e({arguments:t,nonce:i}));return"loading"===a.status&&null!==n&&(a=r(e({arguments:t,nonce:n}))),a}},450225:(e,t,r)=>{"use strict";r.d(t,{Ci:()=>o,WJ:()=>i,tq:()=>s,vO:()=>l,yc:()=>a});var n=r(939683),i=(e=>(e.PASTE="PASTE",e.MODAL="MODAL",e.PLUGIN="PLUGIN",e))(i||{}),a=(e=>(e.ATTEMPT="figjam_link_metadata_attempt",e.ERROR="figjam_link_metadata_error",e.SUCCESS="figjam_link_metadata_success",e.EMBED_CLICK="figjam_link_embed_click",e.CONVERT_TO_TEXT="figjam_link_metadata_convert_to_text",e.OPEN_PREVIEW="figjam_link_preview_open",e.EMBED_EXPAND="figjam_link_embed_expand",e.COPY_LINK="figjam_link_metadata_copy_url",e.SWITCH_ORIENTATION_VERTICAL="figjam_link_preview_orientation_vertical",e.SWITCH_ORIENTATION_HORIZONTAL="figjam_link_preview_orientation_horizontal",e.EMBED_DEACTIVATE="figjam_embed_deactivate",e))(a||{}),o=(e=>(e.EMBED="embed",e.LINK_PREVIEW="preview",e))(o||{});function l(e){try{return new URL(e).hostname}catch(e){return"Could not parse"}}function s(e){let t=(0,n.am)();return r=>{let n=null!=e&&"url"in e?e.url:"";t(r,{domain:null!=n?l(n):"",linkRenderType:"embed"})}}},641638:(e,t,r)=>{"use strict";r.d(t,{BF:()=>m,CR:()=>c,Cs:()=>u,RW:()=>_,XL:()=>d,XV:()=>p,kA:()=>s});var n=r(499737),i=r(763185),a=r(279453),o=r(335682);function l(e,t,r){let n=[],i=[];for(let t of e){let e=t.plugin;if(!e)continue;let a="Workspace"===t.allowlistGroupType,o=t.allowlistedWorkspace;if(a&&!o)continue;let l=null==o?void 0:o.id;r&&l&&l!==r||(e.isWidget?i.push(e.id):n.push(e.id))}return"plugin"===t?n:i}function s(e,t,r=!0){var i,o;let s=_(),c=(0,n.Rs)(a.M9I,{orgId:e},{enabled:r}),d=null==(i=c.data)?void 0:i.org;return"loading"!==c.status&&s.loaded?"errors"!==c.status&&d?{loaded:!0,data:l(d.allowlistedPlugins,t,null==(o=s.data)?void 0:o.workspaceId)}:{loaded:!0,data:[]}:{loaded:!1}}function c(e,t=!0){var r;let n=(0,i.c)(t);if(!n.loaded)return{loaded:!1};let a=n.data;return{loaded:!0,data:l((null==a?void 0:a.allowlistedExtensions)??[],e,null==(r=null==a?void 0:a.workspace)?void 0:r.id)}}function d({workspace:e,hasPendingRequest:t,extension:r}){return!!(e.publicPluginsOrWidgetDisabled&&!t&&e.extensionRequestsAllowed&&!(null==r?void 0:r.roles.org))}function u({org:e,isWidget:t}){if(!e)return!1;let r=t?e.widgets_whitelist_enforced:e.plugins_whitelist_enforced,n=t?e.widget_requests_allowed:e.plugin_requests_allowed;return r&&n}function p({org:e,extension:t,allowlistedExtensions:r}){return!!e&&!!t&&!!(u({org:e,isWidget:t.is_widget})&&!t.roles.org&&!r[t.id])}function m({org:e,extensionVersion:t,isWidget:r,allowlistedExtensions:n}){return!!e&&!!t&&!!(u({org:e,isWidget:r})&&!t.is_private&&!n[t.plugin_id])}function _(){var e,t,r;let i=(0,o.q5)(),l=!!i,s=(0,n.Rs)(a.iJD,{fileKey:(null==i?void 0:i.key)??""},{enabled:l});if(!l)return{loaded:!0,data:void 0};if("loaded"!==s.status)return{loaded:!1};let c=null==(r=null==(t=null==(e=s.data)?void 0:e.file)?void 0:t.team)?void 0:r.workspace;return{loaded:!0,data:{workspaceId:null==c?void 0:c.id,workspaceName:null==c?void 0:c.name,fileKey:i.key,fileName:i.name}}}},723245:(e,t,r)=>{"use strict";r.d(t,{D6:()=>d,FS:()=>g,R3:()=>u,T0:()=>m,TF:()=>y,UL:()=>A,ds:()=>b,eU:()=>_,gV:()=>I,kK:()=>p,sb:()=>w,t$:()=>S,tW:()=>T,tx:()=>h});var n=r(776250),i=r(935283),a=r(966712),o=r(286098),l=r(738269),s=r(477782),c=r(99506);function d(e){return null!=e||(0,a.kc)().ps_benchmark}function u(e){return""===e.name}function p(e){return e?1e3:(0,a.kc)().ps_benchmark?50:20}function m(e,t){return b(e.currentUser.favoritedFiles,e.currentUser.favoritedPrototypes,e.currentUser.favoritedProjects,e.currentUser.favoritedTeams,e.currentUser.favoritedWorkspaces).find(e=>e.resource.resourceId===t)}function _(e,t){var r,n,i,a,o,l,s,d,u,p,m,_,h,g,f;switch(t){case c.bk.FILE:return(null==(r=e.favoritedResource)?void 0:r.favoritedFile)!=null?{id:null==(n=e.favoritedResource)?void 0:n.id,resourceType:c.bk.FILE,resource:null==(i=e.favoritedResource)?void 0:i.favoritedFile}:void 0;case c.bk.PROTOTYPE:return(null==(a=e.favoritedResource)?void 0:a.favoritedPrototype)!=null?{id:null==(o=e.favoritedResource)?void 0:o.id,resourceType:c.bk.PROTOTYPE,resource:null==(l=e.favoritedResource)?void 0:l.favoritedPrototype}:void 0;case c.bk.FOLDER:return(null==(s=e.favoritedResource)?void 0:s.favoritedProject)?{id:null==(d=e.favoritedResource)?void 0:d.id,resourceType:c.bk.FOLDER,resource:null==(u=e.favoritedResource)?void 0:u.favoritedProject}:void 0;case c.bk.TEAM:return(null==(p=e.favoritedResource)?void 0:p.favoritedTeam)?{id:null==(m=e.favoritedResource)?void 0:m.id,resourceType:c.bk.TEAM,resource:null==(_=e.favoritedResource)?void 0:_.favoritedTeam}:void 0;case c.bk.WORKSPACE:return(null==(h=e.favoritedResource)?void 0:h.favoritedWorkspace)?{id:null==(g=e.favoritedResource)?void 0:g.id,resourceType:c.bk.WORKSPACE,resource:null==(f=e.favoritedResource)?void 0:f.favoritedWorkspace}:void 0;default:return}}function h(e,t){var r,n;return(null==(n=null==(r=e.currentUser)?void 0:r.projectSubscriptions)?void 0:n.find(e=>{var r;return(null==(r=e.projectV2)?void 0:r.id)===t}))!==void 0}function g(e,t){let r=(0,o.A2)(t.prototype);r&&e(l.$T({view:"prototype",file:r,nodeId:t.prototype.pageId}))}function f(e,t,r,i,a,o){(0,n.sx)("data_drift_favorited_resource_corrected",{favoritedResourceId:e,resourceType:t,resourceTeamId:r,underlyingResourceTeamId:i,resourceOrgId:a,underlyingResourceOrgId:o},{forwardToDatadog:!0})}function E(e,t){return e.has(t.resourceId)?null:(e.add(t.resourceId),t)}function y(e,t,r){var n,i,o;if(!(0,a.kc)().ps_benchmark_favorites_data_client_side_fix||!(0,a.kc)().ps_benchmark)return{favoritedFiles:null==(n=e.currentTeamUser)?void 0:n.favoritedFiles,favoritedProjects:null==(i=e.currentTeamUser)?void 0:i.favoritedProjects,favoritedPrototypes:null==(o=e.currentTeamUser)?void 0:o.favoritedPrototypes,favoritedFilesKeySet:new Set,favoritedPrototypesIdSet:new Set,favoritedFoldersIdSet:new Set};let l=new Set((r??[]).map(e=>e.plan_id)),s=new Set,c=new Set,d=new Set;return{favoritedFiles:((null==e?void 0:e.favoritedFiles)??[]).map(e=>{var r,n,i,a;if(null!=t){if(t===(null==(r=e.file)?void 0:r.teamId))return e.teamId!==(null==(n=e.file)?void 0:n.teamId)&&(f(e.resourceId,"file",e.teamId,e.file.teamId,null,null),e.teamId=null==(i=e.file)?void 0:i.teamId),E(s,e);if(e.teamId===t&&!l.has((null==(a=e.file)?void 0:a.teamId)??""))return E(s,e)}}).filter(e=>null!=e),favoritedProjects:((null==e?void 0:e.favoritedProjects)??[]).map(e=>{var r,n,i,a,o,s;if(null!=t){if(t===(null==(r=e.project)?void 0:r.teamId))return e.teamId!==(null==(n=e.project)?void 0:n.teamId)&&(f(e.resourceId,"folder",e.teamId,null==(i=e.project)?void 0:i.teamId,null,null),e.teamId=null==(a=e.project)?void 0:a.teamId),E(d,e);if((null==(o=e.project)?void 0:o.orgId)===null&&e.teamId===t&&!l.has((null==(s=e.project)?void 0:s.teamId)??""))return E(d,e)}}).filter(e=>null!=e),favoritedPrototypes:((null==e?void 0:e.favoritedPrototypes)??[]).map(e=>{var r,n,i,a,o,s,d,u,p,m,_,h;if(null!=t){if(t===(null==(n=null==(r=e.prototype)?void 0:r.file)?void 0:n.teamId))return e.teamId!==(null==(a=null==(i=e.prototype)?void 0:i.file)?void 0:a.teamId)&&(f(e.resourceId,"prototype",e.teamId,null==(s=null==(o=e.prototype)?void 0:o.file)?void 0:s.teamId,null,null),e.teamId=null==(u=null==(d=e.prototype)?void 0:d.file)?void 0:u.teamId),E(c,e);if((null==(m=null==(p=e.prototype)?void 0:p.file)?void 0:m.parentOrgId)===null&&e.teamId===t&&!l.has((null==(h=null==(_=e.prototype)?void 0:_.file)?void 0:h.teamId)??""))return E(c,e)}}).filter(e=>null!=e),favoritedFilesKeySet:s,favoritedPrototypesIdSet:c,favoritedFoldersIdSet:d}}function b(e,t,r,n,i){return v((null==e?void 0:e.filter(e=>{var t;return null==(t=e.file)?void 0:t.canView}))??[],t??[],(null==r?void 0:r.filter(e=>e.project&&!e.project.deletedAt))??[],(null==n?void 0:n.filter(e=>e.team&&!e.team.deletedAt))??[],i??[])}let v=(e,t,r,n,i)=>{let a=e.map(e=>({id:e.id,resourceType:c.bk.FILE,resource:e})),o=t.map(e=>({id:e.id,resourceType:c.bk.PROTOTYPE,resource:e}));return[...a,...o,...r.map(e=>({id:e.id,resourceType:c.bk.FOLDER,resource:e})),...n.map(e=>({id:e.id,resourceType:c.bk.TEAM,resource:e})),...i.map(e=>({id:e.id,resourceType:c.bk.WORKSPACE,resource:e}))]};function I(e,t){let r=p(t);return b(e.currentUser.favoritedFiles,e.currentUser.favoritedPrototypes,(0,a.kc)().ps_benchmark||t?e.currentUser.favoritedProjects:[],e.currentUser.favoritedTeams,e.currentUser.favoritedWorkspaces).length>=r}function T(e){return!!e&&e>=1e3}function S(e,t){var r;let n={};e.forEach(e=>{n[e.id]=e});let i=null==(r=e.find(e=>""===e.name))?void 0:r.id,a=(null==t?void 0:t.map(e=>n[e]).filter(e=>e))??[],o=e.filter(e=>!(t&&t.includes(e.id))),l=o.findIndex(e=>""===e.name);return -1!==l&&o.splice(l,1),o.sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()),-1!==l&&i?[n[i],...a,...o]:[...a,...o]}function w(e,t){let r={};e.forEach(e=>{r[e.resource.id]=e});let n=(null==t?void 0:t.map(e=>r[e]).filter(e=>e))??[],i=e.filter(e=>!(t&&t.includes(e.resource.id)));return i.sort((e,t)=>new Date(e.resource.createdAt).getTime()-new Date(t.resource.createdAt).getTime()),[...n,...i]}function A(e){switch(e){case s.nb.FILE:case s.nb.PINNED_FILE:case s.nb.REPO:return c.bk.FILE;case s.nb.PROTOTYPE:return c.bk.PROTOTYPE;case s.nb.PROJECT:return c.bk.FOLDER;case s.nb.OFFLINE_FILE:return c.bk.FILE;default:(0,i.xb)(e)}}},912924:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,j:()=>a});var n=r(852800);function i(e){let t=[];return e.forEach(e=>{e.content.forEach(e=>{let r=JSON.parse(e);r.nodeId&&t.push(r.nodeId)})}),t}function a(e,t){return[...new Set(e)].reduce((e,r)=>{var i;let a=t(r),o=((null==(i=n.Egt)?void 0:i.nodeIsPage(r))?null==a?void 0:a.absoluteRenderBounds:null==a?void 0:a.absoluteBoundingBox)??null;return e[r]=o?{x:o.x,y:o.y,width:o.w,height:o.h}:o,e},{})}},355513:(e,t,r)=>{"use strict";let n;r.d(t,{D4:()=>W,OR:()=>U,Qr:()=>D,Tq:()=>H,U8:()=>V,Vr:()=>B,Wq:()=>K,hL:()=>x,jm:()=>Y,nz:()=>G,pE:()=>F});var i=r(188507),a=r(776250),o=r(627776),l=r(517333),s=r(737947),c=r(966712),d=r(563706),u=r(939863),p=r(848680),m=r(742580),_=r(980820),h=r(738269),g=r(507877),f=r(293017),E=r(662275),y=r(296559),b=r(445092),v=r(809831),I=r(356390),T=r(239671),S=r(608902),w=r(723127),A=r(648658),C=r(453381),N=r(974105),O=r(788811),L=r(857766),R=r(487342),P=r(860178),k=r(707465);function D(){return(0,c.Ay)().release_manifest_git_commit}function M(e,t){if((0,o.ce)()){document.title=t??e;return}if(e!==(n?n+document.title:document.title)){let r=d.Ay.browserType;if((0,c.kc)().fig_icons&&"safari"!==r){let t;let r=(0,R.AE)(e);t=document.getElementById("custom-emoji-favicon"),r?(n=r,t||((t=document.createElement("link")).id="custom-emoji-favicon",t.rel="icon",document.head.appendChild(t)),t.href="data:image/svg+xml,"+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">{text}</text></svg>'.replace("{text}",r)):(t&&t.remove(),n=void 0),r&&(e=(0,R.Nn)(e,r))}document.title=e,l.eD&&t&&l.eD.setTitle(t)}}function x(e){M(`${e} \u2013 Figma`,e)}function F(e,t){M(`${e}${"whiteboard"===t?" \u2013 FigJam":" \u2013 Figma"}`,e)}function U(e,t){let r=(0,k.Iu)(e,t);if(!r){M("Figma",null);return}if("fullscreen"===t.view&&t.tryPluginName){e.openFile?M(e.openFile.name,r):M((0,u.t)("community.try.plugin_name_with_community",{pluginName:t.tryPluginName}),r);return}if("prototype"===t.view){let n="",i=null;if((0,C.f)(t.file.editor_type))i=n=`${t.isPresenterView?(0,u.t)("slides.general.notes"):(0,u.t)("slides.general.presentation")} \xb7 ${r} - ${(0,u.t)("slides.general.slides")}`;else{let t=function(e){let t=e.prototype;for(let e of t.pages)if(e.nodeId===t.currentPageId)return e.name;return""}(e);t?(n=`\u25B6 ${t} - ${r}`,i=`${t} - ${r}`):n=`\u25B6 ${r}`}M(n,i);return}if("fullscreen"===t.view&&!e.openFile){let e=(0,O.GT)();(null==e?void 0:e.name)?r=e.name:(null==t?void 0:t.localFileName)&&(r=t.localFileName)}let n=(0,N.yt)(e);if(n&&(0,L.Xm)(n)){M(`\u2325 ${r}`,`${r}`);return}if("fullscreen"===t.view&&"whiteboard"===(0,v.AU)(e.selectedView)){M(`${r} \u2013 FigJam`,r);return}x(r)}let B=(0,_.nF)(e=>{s.Ay.listen(t=>{"POP"===t&&function(t){if(t){let r=e.getState(),n=r.selectedView;if((0,A.U)())return;let i=t.jsCommitHash,a={...t};if(delete a.jsCommitHash,void 0!==i&&i!==D()){s.Ay.reload("Navigating to a state that was pushed by an older version of this application");return}if("fullscreen"===n.view&&!I.Y5.isReady()){s.Ay.reload("User navigated before fullscreen fully initialized");return}if("fullscreen"===a.view&&!a.fileKey){window.history.back();return}if("fullscreen"===n.view&&("fullscreen"!==a.view||n.fileKey!==a.fileKey))e.dispatch(f.VB({oldSelectedView:n,newSelectedView:a}));else{if(e.dispatch(E.Ce()),"communityHub"===a.view&&"searchAndBrowse"===a.subView&&(0,m.OE)(a.data)){let t=(0,p.Z)(r);(null==t?void 0:t.searchSessionId)&&e.dispatch(b.NR({sessionId:t.searchSessionId}))}e.dispatch(h.$T({...a,fromPopstate:!0})),U(r,a)}}}(s.Ay.location.state)})});function H(e,t,r,n){e(g.UN({fileKey:t.key}));let i=r||n,a=r?S.O.ORG:S.O.TEAM;e((0,c.kc)().ps_benchmark&&i?y.c5({planId:i,planType:a}):y.p4({planId:r||w.P})),e(h.$T({view:"fullscreen",fileKey:t.key,editorType:t.editor_type?(0,T.wN)(t.editor_type):T.nT.Design}))}function V(e,t){t(g.gN(e))}function G(e,t,r,n){(0,a.sx)("Open File in New Tab Click",{fileKey:t,uiSelectedView:JSON.stringify(r)}),n(g.UN({fileKey:t})),s.Ay.redirect(e,"_blank")}function W(e,t,r,n){(0,a.sx)("Open Prototype in New Tab Click",{fileKey:t,pageId:r,uiSelectedView:JSON.stringify(n)}),s.Ay.redirect(e,"_blank")}function K(e,t){t(g.V3({url:e}))}function Y(e,t){let r=(0,P.TA)(),n=e||t,a=(0,i.d4)(e=>{var t;return r?null==(t=e.authedUsers.byId[r])?void 0:t.plans:null});return!!(null==a?void 0:a.find(e=>e.plan_id===n))}},688083:(e,t,r)=>{"use strict";r.d(t,{BU:()=>Y,Ic:()=>H,LK:()=>W,Nr:()=>Q,Q3:()=>J,SX:()=>et,Xg:()=>z,g$:()=>V,iT:()=>q,jl:()=>j,mq:()=>Z,tO:()=>$,xT:()=>X});var n=r(188507),i=r(309225),a=r(752553),o=r(572174),l=r(27087),s=r(330654),c=r(881388),d=r(939863),u=r(392592),p=r(980820),m=r(944682),_=r(738269),h=r(270056),g=r(662275),f=r(782656),E=r(936500),y=r(178160),b=r(300874),v=r(696915),I=r(451e3),T=r(945020),S=r(644344),w=r(668860),A=r(637590),C=r(851363),N=r(290750),O=r(845213),L=r(835703),R=r(884129),P=r(915592),k=r(171267),D=r(988022),M=r(396226),x=r(875847),F=r(691205),U=r(392830),B=r(984968);let H=(0,p.nF)((e,{folderId:t})=>{(0,n.vA)(()=>{e.dispatch(h.IU({folderId:t})),e.dispatch(h.Kc({folderId:t,state:null}))})}),V=(0,p.nF)((e,{folderId:t,folderData:r})=>{(0,n.vA)(()=>{e.getState().folders[t]?e.dispatch(h.yJ({folder:r.folder})):e.dispatch(h.bE(r.folder)),e.dispatch(m.uo({files:r.files,subscribeToRealtime:!1})),e.dispatch(f.nX({repos:r.repos})),e.dispatch(E.uo({roles:r.roles})),e.dispatch(h.Kc({folderId:t,state:"loaded"}))})}),G=F.M4.Query({fetch:async(e,{reduxStore:t})=>{let r=await N.W.getFiles({folderId:e.folderId});return t.dispatch(m.uo({files:r.data.meta.files})),t.dispatch(f.nX({repos:r.data.meta.repos})),t.dispatch(E.uo({roles:r.data.meta.roles})),t.dispatch(h.Kc({folderId:e.folderId,state:"loaded"})),r.data.meta},schema:e=>e.object({folder:I.lH.nullable(),files:e.array(v.L),repos:e.array(S.z)}),sync:({folderId:e},{mutate:t,reduxStore:r,livegraphClient:n})=>y.O9.subscribe(e,r=>{r.forEach(r=>{if(!r.file||!("post"===r.method||"put"===r.method))return;let n=r.file;n.folder_id===e&&t(e=>{e.files.find(e=>e.key===n.key)||e.files.push(n)})})},{store:r,lgClient:n}),syncObjects:!0,output:({data:e,args:t})=>{let r=e.files.filter(e=>e.folder_id===t.folderId&&!e.trashed_at&&!e.file_repo_id),n=e.repos.filter(e=>e.folder_id===t.folderId&&!e.trashed_at),i=e.repos.filter(e=>!e.trashed_at&&!e.deleted_at).map(t=>e.files.find(e=>e.key===t.default_file_key)).filter(o.Vq),a={};return e.repos.forEach(t=>{let r=e.files.filter(e=>e.file_repo_id===t.id).sort((e,t)=>new Date(t.touched_at).getTime()-new Date(e.touched_at).getTime());a[t.id]=r}),{folder:e.folder,files:r,repos:n,previewFiles:[...r,...i],filesByRepoId:a}}});function W(e,t=!0){let[r]=(0,F.IT)(G({folderId:e}),{enabled:t});return r}let K=s.object({folder:I.lH,files:s.array(v.L),repos:s.array(S.z),roles:s.array(w.an)}),Y=F.M4.PaginatedQuery({fetch:async(e,{pageParam:t,reduxStore:r})=>{var n,i;let a;if(t)a=t;else{let{folderId:t,...r}=e,n=new URLSearchParams({...r,page_size:"50"}).toString();a=`/api/folders/${t}/paginated_files?${n}`}let o=await (0,l.GD)(a),s=o.data.meta;return r.dispatch(m.uo({files:s.files})),r.dispatch(f.nX({repos:s.repos})),r.dispatch(E.uo({roles:s.roles})),r.dispatch(h.Kc({folderId:e.folderId,state:"loaded"})),{data:o.data.meta,nextPage:null==(n=o.data.pagination)?void 0:n.next_page,prevPage:null==(i=o.data.pagination)?void 0:i.prev_page}},joinPages:e=>({files:e.flatMap(e=>e.data.files),repos:e.flatMap(e=>e.data.repos),roles:e.flatMap(e=>e.data.roles),folder:e[e.length-1].data.folder}),sync:({folderId:e},{mutate:t,reduxStore:r,livegraphClient:n})=>y.O9.subscribe(e,r=>{r.forEach(r=>{if(!r.file||!("post"===r.method||"put"===r.method)||r.file.folder_id!==e)return;let n=r.file;t(e=>{e.files.find(e=>e.key===n.key)||e.files.unshift(n)})})},{store:r,lgClient:n}),output:({data:e,args:t})=>{let r=e.files.filter(e=>e.folder_id===t.folderId&&!e.trashed_at&&!e.file_repo_id),n=e.repos.filter(e=>e.folder_id===t.folderId&&!e.trashed_at),i={};return e.repos.forEach(t=>{let r=e.files.filter(e=>e.file_repo_id===t.id).sort((e,t)=>new Date(t.touched_at).getTime()-new Date(e.touched_at).getTime());i[t.id]=r}),{folder:e.folder,files:r,repos:n,filesByRepoId:i}},schema:K,syncObjects:!0}),j=(0,p.nF)(async(e,{folderId:t,loadedFolders:r})=>{if(!r[t]){e.dispatch(h.Kc({folderId:t,state:"loading"}));try{let r=(await N.W.getFiles({folderId:t})).data.meta;e.dispatch(V({folderId:t,folderData:r}))}catch(r){404===r.status||403===r.status?e.dispatch(_.$T({view:"resourceUnavailable",resourceType:A.Ft.PROJECT})):r.status>=400&&r.status<500?e.dispatch(h.Kc({folderId:t,state:"loaded"})):e.dispatch(h.Kc({folderId:t,state:null}))}}}),z=F.M4.Query({fetch:async e=>(await O.$.getFolders({teamId:e.teamId})).data.meta.folder_rows,schema:e=>e.array(I.lH.extend({touched_at:e.string()})),syncObjects:!0,enabled:e=>!!e.teamId}),$=F.M4.Mutation(e=>N.W.delete({folderId:e.folderId})),Z=F.M4.Mutation(({folderId:e,folderName:t},{objects:r,reduxStore:n})=>{let a=(0,x.SS)(t);if(a){n.dispatch(c.s.error(a));return}r.Folder.update(e,e=>{e.name=t,e.path=t}),(0,D.xr)("Folder Renamed",e,null,n.getState(),{folderName:t});let o=l.Ay.put("/api/folders/rename",{folder_id:e,name:t});return n.dispatch((0,c.Q)({promise:o,fallbackError:(0,d.t)("file_browser.api_folder.an_error_occurred_while_renaming_this_project")})),(0,i.WB)().optimisticallyUpdate({Project:{[e]:{name:t,path:t}}},o),o}),q=(0,p.MM)("FOLDER_UPDATE_FOLDER_ACCESS",(e,t,{optimistId:r})=>{let n=l.Ay.put(`/api/folders/${t.folderId}`,{is_invite_only:t.isInviteOnly,is_view_only:t.isViewOnly}).then(()=>{e.dispatch(p.hp.commit(r))}).catch(()=>{e.dispatch(p.hp.revert(r))});(0,c.Q)({promise:n,fallbackError:(0,d.t)("file_browser.api_folder.an_error_while_updating_the_folder_s_access")})}),J=(0,p.MM)("FOLDER_UPDATE_SHARING_AUDIENCE_CONTROLS",(e,t,{optimistId:r})=>{let n=N.W.updateFolderSharingAudienceControls({folderId:t.folder.id,sharingAudienceControl:t.sharingAudienceControl}).then(()=>{e.dispatch(p.hp.commit(r)),(0,D.xr)("Folder Share Settings Updated",t.folder.id,t.folder.team_id,e.getState(),{share_settings_type:"sharing_audience",oldSharingAudienceControl:t.folder.sharing_audience_control,newSharingAudienceControl:t.sharingAudienceControl})}).catch(()=>{e.dispatch(p.hp.revert(r))});(0,c.Q)({promise:n,fallbackError:(0,d.t)("file_browser.api_folder.an_error_while_updating_the_folder_s_sharing_audience_control")})}),X=(0,p.MM)("FOLDER_UPDATE_TEAM_ACCESS",(e,t,{optimistId:r})=>{let n=N.W.updatedFolderTeamAccess({folderId:t.folder.id,teamAccess:t.teamAccess}).then(()=>{e.dispatch(p.hp.commit(r)),(0,D.xr)("Folder Share Settings Updated",t.folder.id,t.folder.team_id,e.getState(),{share_settings_type:"team_access",oldTeamAccess:t.folder.team_access,newTeamAccess:t.teamAccess})}).catch(()=>{e.dispatch(p.hp.revert(r))});(0,c.Q)({promise:n,fallbackError:(0,d.t)("file_browser.api_folder.an_error_while_updating_the_folder_s_team_access")})}),Q=(0,p.nF)(async(e,t)=>{var r,n,i,o,l;let s=t.folder,d=t.team,u=(0,T.Ws)(d);if(s.inviteOnlyAt||s.viewOnlyAt){e.dispatch(g.to({type:L.r,data:{folder:s}}));return}try{await N.W.getCanMove({teamId:d.id,folderId:s.id})}catch(t){(null==(n=null==(r=t.data)?void 0:r.failure_info)?void 0:n.code)==="ERR_FILE_LIMIT"||(null==(o=null==(i=t.data)?void 0:i.failure_info)?void 0:o.code)==="ERR_PROJECT_LIMIT"?e.dispatch(g.to({type:R.DV,data:{team:u,resource:b.vL.FOLDER,action:C.ZN.MOVE_FOLDER,currentPlan:M.F.Plan.STARTER,upsellPlan:M.F.Plan.PRO,editorType:null}})):e.dispatch(c.s.error(null==(l=t.data)?void 0:l.message));return}s.teamId&&u?e.dispatch(g.to({type:P.o,data:{folder:s,destinationTeam:u,onConfirm:()=>{(0,a.Jl)(ee)({folder:s,team:u})}}})):(0,a.Jl)(ee)({folder:s,team:u})}),ee=F.M4.Mutation((e,{query:t,objects:r,reduxStore:n})=>{var a;let{folder:o,team:s}=e;(0,D.xr)("Folder Moved",o.id,null,n.getState(),{destTeamId:s.id});let p=l.Ay.put("/api/folders/move",{folder_id:o.id,team_id:s.id}).then(()=>{n.dispatch(u.F.enqueue({message:(0,d.t)("file_browser.folder_move.project_moved_toast",{folderName:o.path,teamName:s.name})}))});return n.dispatch((0,c.Q)({promise:p,fallbackError:(0,d.t)("file_browser.api_folder.an_error_occurred_while_moving_this_project")})),null==(a=(0,i.WB)())||a.optimisticallyUpdate({Project:{[o.id]:{teamId:s.id}}},p),o.teamId&&(t.mutate(z({teamId:o.teamId}),e=>{let t=e.findIndex(e=>e.id===o.id);-1!==t&&e.splice(t,1)}),r.Folder.update(o.id,e=>{e.team_id=s.id})),p}),et=(0,p.nF)((e,t)=>{let r=e.getState(),n=t.where,i=t.team.id,a=r.creatingNewFolder&&r.creatingNewFolder.where===n&&r.creatingNewFolder.team.id==i,o=t.team;if(!a){if((0,U.D)(null==o?void 0:o.id,null==o?void 0:o.org_id)?o.canEdit:o.canEditTeamContents)(0,B.rR)(o,{type:B.sK.ADD_PROJECT})?(e.dispatch(_.sf({where:n,team:o})),(0,U.D)((null==o?void 0:o.id)||null,(null==o?void 0:o.org_id)||null)?e.dispatch(g.to({type:k.p2,data:{teamId:o.id,modalShown:r.modalShown}})):e.dispatch(g.to({type:k.WO}))):e.dispatch(g.to({type:R.DV,data:{team:o,resource:b.vL.FOLDER,action:C.ZN.CREATE_FOLDER,currentPlan:M.F.Plan.STARTER,upsellPlan:M.F.Plan.PRO,editorType:null}}));else{let t=o?(0,d.t)("file_browser.api_folder.no_create_permissions_team_name",{teamName:o.name}):(0,d.t)("file_browser.api_folder.no_create_permissions_this_team");e.dispatch(c.s.flash(t))}}})},935308:(e,t,r)=>{"use strict";r.d(t,{hr:()=>m,nm:()=>_});var n=r(966712),i=r(374626),a=r(586459),o=r(980820),l=r(99403),s=r(296559),c=r(902957),d=r(389643),u=r(516056),p=r(6974);let m=(0,o.nF)(async(e,{loadedPlans:t})=>{if(!t||!(t.length>0))try{let t=await u.k.getPlans();e.dispatch(s.uo({plans:t.data.meta.plans})),e.dispatch(c.uo({teams:t.data.meta.teams})),e.dispatch(l.uo({orgs:t.data.meta.orgs}));let r=t.data.meta.teams,i=(0,n.kc)().ps_benchmark,a=(0,n.kc)().close_starter_team_loophole;i&&a&&await Promise.all(r.map(t=>(0,d.xN)(t.id,e)))}catch(e){}}),_=(e=!1)=>async t=>{try{return await h(t,e)}catch(e){return Promise.reject(e)}};async function h(e,t=!1){if(!(0,n.kc)().ps_benchmark)return Promise.reject();let r=i.zl.get(p.g);if(!t&&r!==a.r.INIT&&r!==a.r.LOADING)return r;try{r===a.r.INIT&&i.zl.set(p.g,a.r.LOADING);let t=await u.k.getPlansForAuthedUsers();return i.zl.set(p.g,t),e(c.uo({teams:t.teams})),e(l.uo({orgs:t.orgs})),t}catch(e){return r===a.r.LOADING&&i.zl.set(p.g,a.r.INIT),Promise.reject(e)}}},964258:(e,t,r)=>{"use strict";r.d(t,{Go:()=>L,IA:()=>N,KQ:()=>A,P8:()=>C,Rw:()=>D,Sb:()=>R,UM:()=>k,vr:()=>P,zK:()=>O});var n=r(776250),i=r(309225),a=r(790724),o=r(27087),l=r(881388),s=r(939863),c=r(392592),d=r(980820),u=r(738269),p=r(182976),m=r(936500),_=r(902957),h=r(816858),g=r(99506),f=r(668860),E=r(637590),y=r(344950),b=r(248970),v=r(988022),I=r(937294),T=r(416618),S=r(392830),w=r(935757);let A=(0,d.nF)((e,t)=>{let{teamName:r,orgAccess:n,workspaceId:i,description:a,defaultPermission:c,sharingAudienceControl:d,orgBrowsable:u,hidden:p,ignoreCurrentPlan:m}=t,h=e.getState().currentUserOrgId,g={team_name:r},f=(0,S.D)(null,h);!h||m||(g.org_id=h,d&&f||(g.org_access=n)),i&&(g.workspace_id=i),a&&(g.description=a),!c||d&&f||(g.default_permission=c),d&&f&&(g.sharing_audience_control=d),u&&(g.org_browsable=u),p&&(g.hidden=p),e.dispatch(_.r1({loading:!0})),o.Ay.post("/api/teams/create",g).then(({data:r})=>{let n="team"in r.meta?r.meta.team:r.meta;(0,v._J)("Team Created",n.id,e.getState(),{sharing_audience_control:d,org_browsable:u,hidden:p}),C(n,e,t)}).catch(t=>{var r;let n=(0,s.Jv)(t,(null==(r=null==t?void 0:t.response)?void 0:r.message)||(0,s.t)("team_creation.an_error_occurred_while_creating_this_team"));e.dispatch(l.s.error(n)),e.dispatch(_.r1({loading:!1}))})});function C(e,t,r){var n,i;let a=t.getState().user,o=t.getState().currentUserOrgId;t.dispatch(_.bE({team:e}));let{ignoreCurrentPlan:l}=r;return o&&!l&&(null==(n=r.inviteEmails)?void 0:n.length)&&r.inviteLevel?t.dispatch((0,T.rq)({emails:r.inviteEmails,emailsToExclude:a?new Set([a.email]):void 0,resourceType:g.vt.TEAM,resourceIdOrKey:e.id,level:r.inviteLevel,source:"new_team_creation_modal"})):r.teamFlowType===E.SC.CREATE&&(null==(i=r.inviteEmails)?void 0:i.length)&&t.dispatch((0,T.rq)({emails:r.inviteEmails,emailsToExclude:a?new Set([a.email]):void 0,resourceType:g.vt.TEAM,resourceIdOrKey:e.id,level:f.e6.EDITOR,source:"team_creation_flow"})),y.G.getTeam({teamId:e.id}).then(({data:n})=>{for(let e of n.meta)t.dispatch(m.bE({role:e}));t.dispatch(_.r1({loading:!1}));let i=t.getState().currentUserOrgId&&!l;r.dontRedirect||(r.onSuccess&&r.onSuccess(),i||r.teamFlowType===E.SC.CREATE?(t.dispatch(u.$T({view:"team",teamId:e.id})),t.dispatch(c.F.enqueue({type:"new_team_created",message:(0,s.t)("team_creation.you_have_created_a_new_team")}))):t.dispatch(u.$T({view:"addCollaborators",teamId:e.id})))})}let N=(0,d.nF)((e,t)=>{var r;let n=t.team,l=n.id,d=n.name,u=t.name;(0,v._J)("Team Renamed",l,e.getState());let p=o.Ay.put(`/api/teams/${l}`,{name:t.name}).then(({data:r})=>{t.skipVisualBell||e.dispatch(c.F.enqueue({message:(0,s.t)("change_team_name_visual_bell.text",{oldTeamName:d,newTeamName:u}),button:{text:(0,s.t)("change_team_name_visual_bell.undo"),action:()=>{e.dispatch(N({team:r.meta,name:d,skipVisualBell:!0}))}}}))});return null==(r=(0,i.WB)())||r.optimisticallyUpdate({Team:{[l]:{name:u}}},p),(0,a.Q)({requestPromise:p,fallbackError:"An error occurred while renaming this team.",store:e,next:e.dispatch,action:_.$w(t)})}),O=(0,d.nF)((e,t)=>{let r=t.team.id;return(0,v._J)("Team Share Settings Updated",r,e.getState(),{share_settings_type:"share_audience",oldSharingAudienceControl:t.team.sharing_audience_control,newSharingAudienceControl:t.sharingAudienceControl,oldOrgBrowsable:t.team.org_browsable,newOrgBrowsable:t.orgBrowsable,oldHidden:t.team.hidden,newHidden:t.hidden}),(0,a.Q)({requestPromise:o.Ay.put(`/api/teams/${r}`,{sharing_audience_control:t.sharingAudienceControl,org_browsable:t.orgBrowsable,hidden:t.hidden}),fallbackError:"An error occurred while changing the sharing settings of this team.",store:e,next:e.dispatch,action:_.aB(t)})}),L=(0,d.nF)((e,t)=>{let r=t.team.id;return(0,v._J)("Team Org Access Changed",r,e.getState(),{oldOrgAccess:t.team.org_access,newOrgAcccess:t.orgAccess}),(0,a.Q)({requestPromise:o.Ay.put(`/api/teams/${r}`,{org_access:t.orgAccess}),fallbackError:"An error occurred while changing the org access of this team.",store:e,next:e.dispatch,action:_.bQ(t)})}),R=(0,d.nF)((e,t)=>{let r=t.team.id;return(0,v._J)("Org Team Default Member Permission Changed",r,e.getState(),{oldDefaultPermission:t.team.default_permission,newDefaultPermission:t.defaultPermission}),(0,a.Q)({requestPromise:o.Ay.put(`/api/teams/${r}`,{default_permission:t.defaultPermission}),fallbackError:(0,s.t)("file_browser.team_settings.an_error_occurred_while_changing_default_permission"),store:e,next:e.dispatch,action:_.n9(t)})}),P=(0,d.nF)((e,t)=>{(0,n.sx)("file-browser-hydrate",{location:"team.onJoin"});let r=(0,I.p9)(t.teamId);(0,w._X)("onJoinTeam").then(n=>{let i=t.teamId;e.dispatch(u.Qv(n.data.meta));let a=e.getState().teams[i].name;switch(t.level){case f.e6.OWNER:e.dispatch(l.s.flash((0,s.t)("join_team_flash.as_owner.text",{teamName:a})));break;case f.e6.ADMIN:e.dispatch(l.s.flash((0,s.t)("join_team_flash.as_admin.text",{teamName:a})));break;default:e.dispatch(l.s.flash((0,s.t)("join_team_flash.text",{teamName:a})))}e.dispatch(p.x2({key:r}))}).catch(()=>{e.dispatch(p.of({key:r}))}),e.dispatch(_.mw(t))}),k=(0,d.nF)((e,t)=>{(0,n.sx)("file-browser-hydrate",{location:"team.onBatchJoin"});let r=(0,I.n1)(t.teamIds);(0,w._X)("onBatchJoinTeams").then(n=>{e.dispatch(u.Qv(n.data.meta));let i=t.teamIds.length;switch(t.level){case f.e6.OWNER:e.dispatch(l.s.flash((0,s.t)("join_team_batch_flash.as_owner.text",{teamCount:i})));break;case f.e6.ADMIN:e.dispatch(l.s.flash((0,s.t)("join_team_batch_flash.as_admin.text",{teamCount:i})));break;default:e.dispatch(l.s.flash((0,s.t)("join_team_batch_flash.text",{teamCount:i})))}e.dispatch(p.x2({key:r}))}).catch(()=>{e.dispatch(p.of({key:r}))}),e.dispatch(_.ii(t))}),D=(0,d.nF)(e=>{let t=e.getState().currentUserOrgId;b.c.getTeamRoleRequestsOrgId({orgId:t}).then(t=>{e.dispatch(h.b({teamRoleRequests:t.data.meta}))})})},411916:(e,t,r)=>{"use strict";r.d(t,{HE:()=>h,O_:()=>p,Pn:()=>u,Pt:()=>g,Tt:()=>f,U8:()=>_,pZ:()=>m,vp:()=>d});var n=r(966712),i=r(886653),a=r(776621),o=r(939863),l=r(473624),s=r(428467),c=r(697551);function d(e,t,r){if(!e)return null;let i={userId:e.id,orgId:t};return(0,n.kc)().ps_benchmark&&(i.teamId=r||null),i}let u=(0,i.xx)(d);function p(e,t){let r=d(e.user,e.currentUserOrgId,e.currentTeamId);return(0,n.kc)().ps_benchmark?!!r&&r.userId===t.userId&&(!!r.orgId&&r.orgId===t.orgId||!!r.teamId&&r.teamId===t.teamId):!!r&&r.userId===t.userId&&r.orgId===t.orgId}let m=l.p;function _(e,t){let r={};return t.forEach(t=>{r[t]=m(e,t)}),r}function h(e,t,r,i){var l;let c=(0,o.t)("navbar.workspaces.default_workspace_name");if(!t)return c;if(t.orgId){let n=(null==r?void 0:r[t.orgId])||e.orgById[t.orgId];return(null==n?void 0:n.name)||(0,o.t)("navbar.workspaces.default_org_workspace_name")}let d=(0,n.kc)().ps_benchmark;if(d&&t.teamId){let r=(null==i?void 0:i[t.teamId])||e.teams[t.teamId];return(null==r?void 0:r.name)||(0,o.t)("navbar.workspaces.default_team_workspace_name")}return d&&(null==(l=e.user)?void 0:l.id)!=="-1"&&(0,a.Lo)("planSpaces","User with Plan Spaces enabled saw External Teams."),(0,s.userIsAMemberOfAnOrg)(e,t.userId)?(0,o.t)("navbar.profile_switcher.external_teams"):(0,o.t)("navbar.profile_switcher.your_teams")}function g(e){let t=d(e.user,e.currentUserOrgId,e.currentTeamId);if(!t)return(0,o.t)("navbar.workspaces.notifications_label");if((0,c.d9)(e.selectedView))return(0,o.t)("navbar.workspaces.community_notifications_label");if(t.orgId){let r=e.orgById[t.orgId],n=null==r?void 0:r.name;return n?(0,o.t)("user_notifications.org_notifications",{orgName:n}):(0,o.t)("navbar.workspaces.notifications_label")}return(0,s.userIsAMemberOfAnOrg)(e,t.userId)?(0,o.t)("navbar.workspaces.external_teams_notifications_label"):(0,o.t)("navbar.workspaces.notifications_label")}function f(e,t){return 0!==e.length&&(e.length>1||m(t,e[0]).length>1)}},67085:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>C,Ch:()=>U,Ir:()=>F,RS:()=>M,XO:()=>L,Xm:()=>P,bj:()=>x,dE:()=>D,m1:()=>A,nZ:()=>R,nk:()=>T,zE:()=>k});var n=r(138020),i=r(512495),a=r.n(i),o=r(935283),l=r(181912),s=r(964881),c=r(944682),d=r(782656),u=r(99506),p=r(623746),m=r(239671),_=r(279145),h=r(723856),g=r(339436),f=r(939863),E=r(857766),y=r(27703),b=r(875847),v=r(820642),I=r(243987),T=(e=>(e.fileBrowserContextMenu="file_browser_context_menu",e.fileBrowserFavoritedContextMenu="file_browser_favorited_context_menu",e.fileBrowserTileActionMenu="file_browser_tile_action_menu",e.prototypeHeader="prototype_header",e.fullscreenToolbar="fullscreen_toolbar",e.expFigJamOnboardingShareVariant="exp_figjam_onboarding_share_variant",e.fullscreenCopyLinkButtonVisualBell="fullscreen_copy_link_button_visual_bell",e.prototypeCopyLinkButtonVisualBell="prototype_copy_link_button_visual_bell",e.customTemplatePublishNudge="custom_template_publish_nudge",e.expProTrialsV3CardStackWidget="exp_pro_trials_v3_card_stack_widget",e.editRequestTooltip="edit_request_tooltip",e.editRequestExternal="edit_request_external",e.teamFeedNux="team_feed_nux",e))(T||{});function S(e,t,r,n){var i;let a;let o=t.user;if(t.mirror&&t.mirror.appModel.pagesList&&t.mirror.appModel.pagesList.length>1){let e=t.mirror.sceneGraph.get((0,_.Nf)(t.mirror.appModel));e&&(a=e.name)}let l=e&&t.figFilePublishedAsHubFile[e.key],s=l?(0,v.M3)(l,t.hubFiles):null,c=(0,E.L8)(e,t.repos),d=c?c.team_id:e.team_id,u=d?null==(i=t.teamUserByTeamId)?void 0:i[d]:null;return{user:o,pageName:a,editingHubFile:s,prototype:t.prototype,mirror:t.mirror,selectedView:t.selectedView,contacts:t.contacts,currentUserOrgId:t.currentUserOrgId,autocomplete:t.autocomplete,orgDomains:t.orgDomains,dropdownShown:t.dropdownShown,modalShown:t.modalShown,teamUserByUserId:u,isFreeUserOnly:n,editorType:e.editor_type?(0,m.wN)(e.editor_type):m.nT.Design,attributionContextKey:t.sharingAttributionContextKey,dispatch:r}}function w(e,t,r,n){return{file:{...e,canEdit:!1,canEditCanvas:!1,hasEditRole:!1,hasViewRole:!1,canView:!1,canViewPrototype:!1,canViewPrototypeLinks:!1,isOwner:!1,mainFileLinkExpirationConfig:null,passwordSetAt:null,passwordSetByUser:null,isPublishedHubFile:!1,folderAccessEnabled:!0,scFileExperienceEnabled:!1,isDraftFileLG:!1},repo:null,rolesByUserId:{},fileRoleRequests:[],folder:null,folderRoles:[],isInDraftsFolder:!1,orgDraftsOwner:null,org:null,orgUser:null,currentOrg:null,team:null,orgs:{},dataLoaded:!1,fileSeenStatesByUserId:{},currentUser:null,sharedOrgLicenseGroupSetting:null,...S(e,t,r,n)}}function A(e,t,r,i,a){if("loaded"!==e.status)return w(t,r,i,a);let o=e.data.file;if(!o)return w(t,r,i,a);let l=o.fileLinkExpirationConfig||o.sourceFileLinkExpirationConfig,s=(null==(C=o.repo)?void 0:C.defaultFileKey)===o.key,c=(null==(N=o.pwdConfig)?void 0:N.updatedAt)||null,d=(null==(L=o.pwdConfig)?void 0:L.setByUser)?(0,p.Um)(o.pwdConfig.setByUser):null,m={canEdit:o.canEdit,canEditCanvas:o.canEditCanvas,hasEditRole:o.hasEditRole,hasViewRole:o.hasViewRole,canView:o.canView,canViewPrototype:o.canViewPrototype,canViewPrototypeLinks:o.hasViewPrototypeRole,passwordSetAt:c,passwordSetByUser:d,isOwner:s?!!(null==(P=null==(R=o.repo)?void 0:R.roleOnObjectForUser)?void 0:P.isOwnerOfResource):!!(null==(k=o.roleOnObjectForUser)?void 0:k.isOwnerOfResource),isPublishedHubFile:!!o.publishedHubFile&&!o.publishedHubFile.unpublishedAt,mainFileLinkExpirationConfig:(0,p.Nl)(l),folderAccessEnabled:o.folderAccessEnabled&&(0,n.oA)(o.folderAccessEnabled)||!1,scFileExperienceEnabled:o.scFileExperienceEnabled&&(0,n.oA)(o.scFileExperienceEnabled)||!1,isDraftFileLG:o.isDraftFile&&(0,n.oA)(o.isDraftFile)||!1,...(0,p.k9)(o)},_={};o.repo&&o.repo.roles.forEach(e=>{e.userId&&(_[e.userId]=e)});let h={};o.project&&o.project.roles.forEach(e=>{e.userId&&(h[e.userId]=e)});let g={};o.team&&o.team.roles.forEach(e=>{e.userId&&(g[e.userId]=e)});let f={};(s?o.repo.roles:o.roles).forEach(e=>{var t,r,n;let i=e.user?(0,p.Um)(e.user):null;if(i){let a=(null==(t=e.user)?void 0:t.orgUser)||(null==(r=e.user)?void 0:r.guestOrgUser),o=_[i.id],l=g[i.id],s=h[i.id],c=(null==(n=e.user)?void 0:n.teamUser)?{...e.user.teamUser,designPaidStatus:e.user.teamUser.designPaidStatus,whiteboardPaidStatus:e.user.teamUser.whiteboardPaidStatus}:null,d=(0,p.aU)(e,i,a||null,c||null);f[i.id]=d.pending?d:{...d,folderLevel:(null==s?void 0:s.level)||null,teamLevel:(null==l?void 0:l.level)||null,repoLevel:(null==o?void 0:o.level)||null}}else e.pending&&(f[`pending-${e.id}`]=(0,p.aU)(e,null,null,null))});let E={};(0,y.zb)(t)&&o.fileSeenStates.forEach(e=>{let t=e.user?(0,p.Um)(e.user):null;if(t){let r=_[t.id],n=g[t.id],i=h[t.id],a=(0,p.WP)(e,t);E[a.user_id]={...a,folderLevel:(null==i?void 0:i.level)||null,teamLevel:(null==n?void 0:n.level)||null,repoLevel:(null==r?void 0:r.level)||null}}});let v={};(null==(D=e.data.currentUser)?void 0:D.allBaseOrgUsers)&&e.data.currentUser.allBaseOrgUsers.forEach(e=>{e.org&&(v[e.org.id]={})});let I=o.repo?{...(0,p.YT)(o.repo),canEdit:o.repo.canEdit,mainFileLinkExpirationConfig:(0,p.Nl)(l)}:null;if(O(l)){let e={link_access:l.prevPrivateLinkAccess,proto_link_access:l.prevPrivateProtoLinkAccess,org_browsable:l.prevOrgBrowsable};m={...m,...e},I&&(I={...I,...e})}let T=(null==(M=o.project)?void 0:M.orgDraftsFolderOwnerBaseOrgUser)?{id:o.project.orgDraftsFolderOwnerBaseOrgUser.id,design_paid_status:o.project.orgDraftsFolderOwnerBaseOrgUser.accountType,whiteboard_paid_status:o.project.orgDraftsFolderOwnerBaseOrgUser.whiteboardPaidStatus||u.El.STARTER,user_id:o.project.orgDraftsFolderOwnerBaseOrgUser.userId,user:(0,p.Um)(o.project.orgDraftsFolderOwnerBaseOrgUser.user)}:null,A=o.project;var C,N,L,R,P,k,D,M,x,F,U,B,H,V,G,W,K=void 0;o.org&&"loaded"===o.org.imgUrl.status&&null!==o.org.imgUrl.data&&(K=o.org.imgUrl.data);let Y=o.org&&o.org.k12GoogleOrg&&(0,n.oA)(o.org.k12GoogleOrg);return{file:m,repo:I,rolesByUserId:f,fileSeenStatesByUserId:E,fileRoleRequests:o.fileRoleRequests,folder:A&&{name:A.path,is_view_only:!!A.viewOnlyAt,is_invite_only:!!A.inviteOnlyAt,team_id:A.teamId,team_access:"loaded"===A.teamAccess.status?A.teamAccess.data:null,canRead:A.canRead&&(0,n.oA)(A.canRead)||!1},folderRoles:A&&A.roles||[],isInDraftsFolder:(0,b.VA)(A),orgDraftsOwner:T,org:o.org?{id:o.org.id,name:o.org.name,img_url:K,domain_capture:!!o.org.domainCapture,workshop_enabled:!o.org.workshopDisabledAt,invite_whitelist_guest_invite_setting:null==(x=o.org.inviteWhitelist)?void 0:x.guestInviteSetting,figjam_disabled_at:o.org.figjamDisabledAt,org_domains:(0,p.vy)(o.org.orgDomains),bigma_enabled:!!o.org.bigmaEnabledAt,k12_google_org:!!Y}:null,orgUser:(null==(F=o.org)?void 0:F.currentBaseOrgUser)?{id:o.org.currentBaseOrgUser.id,org_id:o.org.id,user_id:null==(U=e.data.currentUser)?void 0:U.id,permission:o.org.currentBaseOrgUser.permission,license_group_member:o.org.currentBaseOrgUser.licenseGroupMember?{license_group_id:o.org.currentBaseOrgUser.licenseGroupMember.licenseGroupId}:void 0,design_paid_status:o.org.currentBaseOrgUser.designPaidStatus,whiteboard_paid_status:o.org.currentBaseOrgUser.whiteboardPaidStatus}:null,currentOrg:e.data.org?{domain_capture:!!e.data.org.domainCapture,id:e.data.org.id,invite_whitelist_guest_invite_setting:(null==(B=e.data.org.inviteWhitelist)?void 0:B.guestInviteSetting)||null,figjam_disabled_at:e.data.org.figjamDisabledAt}:null,team:o.team?{id:o.team.id,name:o.team.name,img_url:"loaded"===o.team.imgUrl.status&&o.team.imgUrl.data||void 0,subscription:o.team.subscription,student_team:!!o.team.studentTeamAt,grace_period_end:o.team.gracePeriodEnd?o.team.gracePeriodEnd.toISOString():null,canRead:o.team.canRead,org_access:o.team.orgAccess}:null,orgs:v,dataLoaded:!0,currentUser:e.data.currentUser,sharedOrgLicenseGroupSetting:(0,p.Td)(o.org?{id:o.org.id,bigma_enabled:!!(null==(H=o.org)?void 0:H.bigmaEnabledAt)}:null,(null==(V=o.org)?void 0:V.sharedOrgLicenseGroupSetting)??(null==(G=e.data.org)?void 0:G.sharedOrgLicenseGroupSetting),null==(W=o.team)?void 0:W.workspaceSharedSetting),...S(m,r,i,a)}}function C(e,t){let r;let n=null,i=null;return"loaded"===e.status&&"loaded"===t.status?(r="loaded",n=a()(e.data,t.data)):"errors"===e.status||"errors"===t.status?(r="errors",i=a()(e.errors||[],t.errors||[])):r="loading",{status:r,data:n,errors:i}}function N(e){var t;return{dispatch:e.dispatch,dropdownShown:e.dropdownShown,modalShown:e.modalShown,currentUserOrgId:e.currentUserOrgId,orgDomains:e.orgDomains,user:e.user,orgUser:e.orgUser,org:e.org,orgs:e.orgs,hideLinkAccessInfo:F(e.file),team:e.team,inWorkshop:"fullscreen"===e.selectedView.view&&((null==(t=e.selectedView.workshopModeInfo)?void 0:t.until)||new Date)>new Date}}let O=e=>{if(!e)return!1;let{accessReverted:t,expiresAt:r}=e;return!t&&!!r&&(0,l.A)().isAfter(r)};function L(e){var t;let r=e.editorType!==m.nT.Whiteboard&&e.org&&e.org.bigma_enabled?(null==(t=e.file.mainFileLinkExpirationConfig)?void 0:t.id)??"optimistic":null;return{fileKey:e.file.key,isBranch:(0,E.Xm)(e.file),containingRepo:e.repo,hasEditRole:(0,y.QZ)(e.file.hasEditRole,e.file,e.isFreeUserOnly,e.isInDraftsFolder),noun:(0,E.Pn)(e.file),onUpdate:(t,n,i)=>{e.dispatch(c.og({file:{...t,key:e.file.key},onError:n,onSuccess:i,linkExpirationConfigId:r,currentUser:e.currentUser}))},permissions:e.file,mainFileLinkExpirationConfig:e.file.mainFileLinkExpirationConfig,passwordSetAt:e.file.passwordSetAt,passwordSetByUser:e.file.passwordSetByUser,isFreeUserOnly:e.isFreeUserOnly,isInDraftsFolder:e.isInDraftsFolder,isOwner:e.file.isOwner,isPublishedHubFile:e.file.isPublishedHubFile,editorType:e.editorType,sharedOrgLicenseGroupSetting:e.sharedOrgLicenseGroupSetting,isUI3:e.isUI3,...N(e)}}function R(e){var t;let r=e.repo;if(!r)throw Error("repoAccessRowProps called on a non-repo");let n=e.org&&e.org.bigma_enabled?(null==(t=e.file.mainFileLinkExpirationConfig)?void 0:t.id)??"optimistic":null;return{isBranch:(0,E.Xm)(e.file),containingRepo:r,hasEditRole:r.canEdit,noun:"file",onUpdate:(t,i,a)=>{e.dispatch(d.og({repo:{...t,id:r.id,default_file_key:r.default_file_key},onError:i,onSuccess:a,linkExpirationConfigId:n,currentUser:e.currentUser}))},permissions:{...r,has_file_link_password:e.file.has_file_link_password,has_proto_link_password:e.file.has_proto_link_password},passwordSetAt:e.file.passwordSetAt,passwordSetByUser:e.file.passwordSetByUser,isFreeUserOnly:e.isFreeUserOnly,isInDraftsFolder:e.isInDraftsFolder,isOwner:e.file.isOwner,editorType:e.editorType,mainFileLinkExpirationConfig:e.file.mainFileLinkExpirationConfig,sharedOrgLicenseGroupSetting:e.sharedOrgLicenseGroupSetting,...N(e)}}function P(e,t,r,n,i){var a;let o=e.repo,l=e.editorType!==m.nT.Whiteboard&&e.org&&e.org.bigma_enabled?(null==(a=e.file.mainFileLinkExpirationConfig)?void 0:a.id)??"optimistic":null,s=(o?o.link_access:e.file.link_access)||u.PQ.INVITE_ONLY;e.org||s!==u.PQ.ORG_EDIT&&s!==u.PQ.ORG_VIEW||(s=u.PQ.INVITE_ONLY);let p={discoverable:(o?o.org_browsable:e.file.org_browsable)||!1,linkAccess:s,protoLinkAccess:o?o.proto_link_access:e.file.proto_link_access,filePasswordEnabled:e.file.has_file_link_password??!1,protoPasswordEnabled:e.file.has_proto_link_password??!1},_=o&&e.file.key===o.default_file_key?(t,r,n)=>{e.dispatch(d.og({repo:{...t,id:o.id,default_file_key:o.default_file_key},onError:r,onSuccess:n,linkExpirationConfigId:l,currentUser:e.currentUser}))}:(t,r,n)=>{e.dispatch(c.og({file:{...t,key:e.file.key},onError:r,onSuccess:n,linkExpirationConfigId:l,currentUser:e.currentUser}))};return{org:e.org||void 0,team:e.team||void 0,folder:e.folder||void 0,goBack:t,goToSettings:r,onUpdate:_,permissions:p,isPrototype:i,editorType:e.editorType,bigmaEnabled:!!(e.org&&e.org.bigma_enabled),mainFileLinkExpirationConfig:e.file.mainFileLinkExpirationConfig,user:e.user,sharedOrgLicenseGroupSetting:e.sharedOrgLicenseGroupSetting,hasEditRole:o?o.canEdit:e.file.hasEditRole,dropdownShown:e.dropdownShown,modalShown:e.modalShown,isBranch:(0,E.Xm)(e.file),passwordSetAt:e.file.passwordSetAt,passwordSetByUser:e.file.passwordSetByUser,fileKey:e.file.key,canEdit:e.file.canEdit,viewerExportRestricted:e.file.viewer_export_restricted,canAccessProFeature:(0,I.w5)(e.team),isFreeUserOnly:e.isFreeUserOnly,isDraftFile:e.file.isDraftFileLG,numRoles:n,fileName:e.file.name}}function k(e,t){return{folderRoles:e.folderRoles,team:e.team,folder:e.folder,fileName:e.file.name,goBack:t}}function D({startingPointNodeId:e,startingPointsData:t}){if(t&&t.length>1&&e){let r=t.find(t=>t.id===e);if(r)return(0,f.t)("permissions.copy_link_button.visual_bell.copy_prototype_link_name",{name:r.name})}return(0,f.t)("permissions.copy_link_button.visual_bell.copy_prototype_link")}function M({nodeType:e,selectedView:t,startingPointsData:r,numPages:n}){let i="prototype"===t.view,a="fullscreen"===t.view,o=(0,f.t)("permissions.copy_link_button.visual_bell.copy_file_link");if(i){let{startingPointNodeId:e}=t;o=D({startingPointNodeId:e,startingPointsData:r})}else a&&((0,s.Wl)(t)?o=(0,f.t)("permissions.copy_link_button.visual_bell.copy_summary_link"):"FRAME"===e&&t.editorType===m.nT.Design?o=(0,f.t)("permissions.copy_link_button.visual_bell.copy_frame_link"):"CANVAS"===e&&n>1?o=(0,f.t)("permissions.copy_link_button.visual_bell.copy_page_link"):e&&"CANVAS"!==e&&(o=(0,f.t)("permissions.copy_link_button.visual_bell.copy_selection_link")));return o}function x(e,t){if(!e)return null;let r=e.repo&&(0,E.Ns)(e,e.repo),n=(0,b.VA)(e.project),{filePermissions:i,repoPermissions:a,orgPermissions:o,projectPermissions:l,teamPermissions:s}=function(e){var t;let r=e=>({link_access:e.linkAccess,proto_link_access:e.protoLinkAccess,org_audience:e.orgAudience,org_browsable:e.orgBrowsable,has_file_link_password:e.hasFileLinkPassword,has_proto_link_password:e.hasProtoLinkPassword,team_id:e.teamId});return{filePermissions:{file_repo_id:e.fileRepoId,source_file_key:e.sourceFileKey,...r(e)},repoPermissions:e.repo&&{default_file_key:e.repo.defaultFileKey,...r(e.repo)},orgPermissions:e.org?{id:e.org.id,name:e.org.name,domain_capture:!!e.org.domainCapture,workshop_enabled:!e.org.workshopDisabledAt,invite_whitelist_guest_invite_setting:null==(t=e.org.inviteWhitelist)?void 0:t.guestInviteSetting,figjam_disabled_at:e.org.figjamDisabledAt,shared_org_license_group_settings:(0,p.Td)({id:e.org.id,bigma_enabled:!!e.org.bigmaEnabledAt},e.org.sharedOrgLicenseGroupSetting),bigma_enabled:!!e.org.bigmaEnabledAt}:null,teamPermissions:e.team&&{name:e.team.name,canRead:e.team.canRead,org_access:e.team.orgAccess},projectPermissions:e.project&&{name:e.project.path,is_invite_only:!!e.project.inviteOnlyAt}}}(e),{level:c,audience:d,publicProto:u}=(0,h.vp)(r?a:i),m={file_repo_id:i.file_repo_id,source_file_key:null,team_id:i.team_id};if(t&&"on"===u)return{tooltipText:(0,f.t)("permissions.copy_link_button.tooltip.public_view"),access:g.zl.PUBLIC_VIEW};if("inherit"===d&&!n||!t&&"proto-view-only"===c){let{copyLinkDisclaimer:e,access:r}=(0,g.Ee)({file:(0,E.Xm)(i)?m:i,team:s,org:o,folder:l,repo:a,isInDraftsFolder:n,isProtoView:t});return{tooltipText:e,access:r}}let _="view"===c;switch(d){case"public":if(t||_)return{tooltipText:t?(0,f.t)("permissions.copy_link_button.tooltip.public_view_prototype"):(0,f.t)("permissions.copy_link_button.tooltip.public_view"),access:g.zl.PUBLIC_VIEW};return{tooltipText:(0,f.t)("permissions.copy_link_button.tooltip.public_edit"),access:g.zl.PUBLIC_EDIT};case"public-password":if(t||_)return{tooltipText:t?(0,f.t)("permissions.copy_link_button.tooltip.public_password_view_prototype"):(0,f.t)("permissions.copy_link_button.tooltip.public_password_view"),access:g.zl.PUBLIC_PASSWORD_VIEW};return{tooltipText:(0,f.t)("permissions.copy_link_button.tooltip.public_password_edit"),access:g.zl.PUBLIC_PASSWORD_EDIT};case"org":case"org-browsable":if(null==o?void 0:o.name){if(t||_)return{tooltipText:t?(0,f.t)("permissions.copy_link_button.tooltip.org_view_prototype",{org:o.name}):(0,f.t)("permissions.copy_link_button.tooltip.org_view",{org:o.name}),access:g.zl.ORG_VIEW};return{tooltipText:(0,f.t)("permissions.copy_link_button.tooltip.org_edit",{org:o.name}),access:g.zl.ORG_EDIT}}if(t||_)return{tooltipText:t?(0,f.t)("permissions.copy_link_button.tooltip.org_view_no_name_prototype"):(0,f.t)("permissions.copy_link_button.tooltip.org_view_no_name"),access:g.zl.ORG_VIEW};return{tooltipText:(0,f.t)("permissions.copy_link_button.tooltip.org_edit_no_name"),access:g.zl.ORG_EDIT};case"inherit":return t?{tooltipText:(0,f.t)("permissions.copy_link_button.tooltip.people_invited_can_view_prototype"),access:g.zl.INVITE_VIEW}:{tooltipText:(0,f.t)("permissions.copy_link_button.tooltip.people_invited_can_access"),access:g.zl.INVITE_ACCESS}}}function F(e){return!!(!e.canEdit&&e.viewer_export_restricted&&e.link_access===u.PQ.INHERIT)}function U(e,t){let r=function(e,t){let{audience:r}=(0,h.vp)(e);switch(r){case"inherit":return(0,f.t)("file_access_row.only_people_invited_to_this_noun",{noun:(0,f.t)("file_info_row.file")});case"public":return(0,f.t)("file_access_row.anyone_with_the_link");case"public-password":return(0,f.t)("file_access_row.anyone_with_the_link_and_password");case"org":return(0,f.t)("file_access_row.anyone_at_org_name_with_the_link",{orgName:t.name});case"org-browsable":return(0,f.t)("file_access_row.anyone_at_org_name",{orgName:t.name});default:(0,o.xb)(r)}}(e,t),n=function(e){let{audience:t,level:r}=(0,h.vp)(e);if("inherit"===t)return(0,f.t)("file_access_row.can_access");switch(r){case"view":return(0,f.t)("file_access_row.can_view");case"edit":return(0,f.t)("file_access_row.can_edit");case"proto-view-only":return(0,f.t)("file_access_row.can_view_prototypes");default:(0,o.xb)(r)}}(e);return`${r} ${n}`}},247368:(e,t,r)=>{"use strict";r.d(t,{DY:()=>N,NC:()=>C,Ye:()=>S,Z1:()=>w,i8:()=>O});var n=r(935283),i=r(966712),a=r(776621),o=r(304783),l=r(852800),s=r(202655),c=r(853069),d=r(801886),u=r(747202);let p="CustomImage",m=`/**
 * This image description must be in objective visual language to describe a vivid and immersive scene that will passed to an AI image generation model. Follow these rules:
 * - Choose a subject that is a physical object. Avoid abstract representations like icons, logos, infographics, graphs, or charts.
 * - Use precise nouns, active verbs, and sensory adjectives to describe the subject and what the subject is doing.
 * - Use generic descriptions instead of proper names, trademarked brands, or copyrighted material.
 */
type ${p} = {description: string};`,_={typeName:"string"},h={typeName:"boolean"},g={typeName:"React.ReactNode"},f={typeName:p,referencedTypes:[{type:"IMAGE"}]};function E({component:e,parsedDefs:t}){let r=[],n=[];for(let e of(0,s.ep)(t)){e.typeRepr.referencedTypes&&n.push(...e.typeRepr.referencedTypes);let t=(0,s.GN)(e),i=(0,s.Hd)(e);t&&i&&r.push(`${t}: ${i}`)}return{typeName:(0,s.L_)(e.name),typeDefBody:`{${r.join("; ")}}`,prefixComments:function(e){let t=[];for(let r of(0,s.ep)(e)){let n=r.devFriendlyProp;if("ARRAY"===n.type&&(0,i.kc)().first_draft_ts_arrays){let r=0,i=0;for(let t of e)"ARRAY"===t.devFriendlyProp.type&&t.devFriendlyProp.key===n.key&&(r++,!t.isOptional&&i++);r===i?t.push(`@param ${n.key} - Specify ${r} items`):t.push(`@param ${n.key} - Specify between ${i} and ${r} items`)}}return t}(t),referencedTypes:n}}function y({component:e,rawProp:t}){let r=v(e),n=r.propsTypeRepr.typeName,{omit:a,pick:o}=(0,s.rB)(t);if((0,i.kc)().first_draft_inline_nested_props)return{typeName:E({component:e,parsedDefs:(0,s.ep)(r.parsedDefs).filter(e=>!(a&&a.includes((0,s.aX)(e.rawProp)))&&(!o||!!o.includes((0,s.aX)(e.rawProp))))}).typeDefBody??"{}",referencedTypes:[{type:"COMPONENT",componentId:r.componentId}]};if(a){let e=[];for(let t of(0,s.ep)(r.parsedDefs))"key"in t.devFriendlyProp&&a.includes((0,s.aX)(t.rawProp))&&e.push(t.devFriendlyProp.key);let t=e.map(e=>`"${e}"`).join(" | ");n=`Omit<${n}, ${t}>`}if(o){let e=[];for(let t of(0,s.ep)(r.parsedDefs))"key"in t.devFriendlyProp&&o.includes((0,s.aX)(t.rawProp))&&e.push(t.devFriendlyProp.key);let t=e.map(e=>`"${e}"`).join(" | ");n=`Pick<${n}, ${t}>`}return{typeName:n,referencedTypes:[{type:"COMPONENT",componentId:r.componentId}]}}let b={};function v(e){try{return b[(e=e.isState?e.parentNode:e).guid]||(b[e.guid]=I(e)),b[e.guid]}catch(e){throw e}}function I(e){let t=(0,s.WG)(e.name),r=function(e){let t=function(e){var t;let r=e.componentPropertyDefinitions(),n=Object.keys(r);n.reverse();let i=[];for(let e of n){let t=r[e];if("INSTANCE_SWAP"===t.type){let r=(0,u.Ny)(t.defaultValue);if(r&&"SYMBOL"===r.type){if("Slot"===r.name){i.push({rawProp:e,def:{type:"SLOT"}});continue}if(l.Egt.nodeIsSubscribedSymbolOrStateGroup(r.guid)&&!r.isState){i.push({rawProp:e,def:{type:"GROUPED_INSTANCE_SWAP",defaultValue:r.guid,groupName:c.$x}});continue}{let t=v(r),n=(0,c.vR)(t);if(n){i.push({rawProp:e,def:{type:"GROUPED_INSTANCE_SWAP",defaultValue:r.guid,groupName:n}});continue}}}}i.push({rawProp:e,def:t})}let o=(0,s._j)(e);for(let[e,t]of Object.entries((0,s._e)(o,"IMAGE"))){let r={};for(let[e,n]of Object.entries(t.tagsByParentComponentId))r[e]={},"true"===n.transparent&&(r[e].transparent=!0),n.desc&&(r[e].desc=n.desc),n.prompt&&(r[e].prompt=n.prompt);i.push({rawProp:e,def:{type:"IMAGE",guidByParentComponentId:t.guidByParentComponentId,tagsByParentComponentId:r}})}let d=(0,u.g5)(e.guid).filter(e=>{var t;return!e.isInstanceSublayer&&!!e.isBubbled&&(null==(t=e.componentPropertyReferences())||!t.mainComponent||((0,a.xi)("getComponentInfo","Nested is both exposed as NESTED and as INSTANCE_SWAP",{instanceId:e.guid}),!1))});for(let[e,r]of Object.entries((0,s._e)(d,"NESTED_INSTANCE"))){let n=r.componentIdOrNull;if(!n)continue;let a={};for(let[e,i]of Object.entries(r.tagsByParentComponentId)){a[e]={};let r={};if(i.fixed){let o=(0,u.Ny)(n);if(o){let n=v(o),l=(null==(t=i.fixed)?void 0:t.split(",").map(e=>e.trim()))??[];for(let e of n.parsedDefs)if("key"in e.devFriendlyProp&&"VARIANT"===e.def.type){let t=e.devFriendlyProp.key;("true"===i.fixed||l.includes(t))&&(r[t]=!0)}a[e].fixedVariantProperties=r}}}let o={type:"NESTED_INSTANCE",componentId:n,tagsByParentComponentId:a,guidByParentComponentId:r.guidByParentComponentId};i.push({rawProp:e,def:o})}let p={};for(let e of i){if(p[e.rawProp]){console.error("Unexpected repeated rawProp value",{rawProp:e.rawProp});continue}p[e.rawProp]=e}return p}(e);for(let e of(0,s.go)(t))for(let t=0;t<e.length;t++){let r=e[t];r.usagePropOverride=(0,s.fy)({index:t,rawProp:r.rawProp})}let r={},i={},o={},d={},p=new Set;for(let[a,l]of Object.entries(t)){let t=(0,s.aX)(l.usagePropOverride??a);p.has(t)&&(t=(0,s.R0)({usageProp:t,usedUsageProps:p}));let m=l.def,E=function({component:e,rawProp:t,definition:r}){var i;switch(r.type){case"TEXT":return _;case"BOOLEAN":return h;case"SLOT":return g;case"IMAGE":return f;case"VARIANT":return{typeName:(0,s.Vv)({component:e,rawProp:t}),typeDefBody:(null==(i=r.variantOptions)?void 0:i.map(e=>`"${e}"`).join(" | "))??"null"};case"GROUPED_INSTANCE_SWAP":return{typeName:(0,c.VV)(r.groupName),typeDefBody:"{description: string}",prefixComments:["@param description - Specify a 1 sentence description"]};case"INSTANCE_SWAP":{let e=(0,u.Ny)(r.defaultValue);if(e&&"SYMBOL"===e.type)return y({component:e,rawProp:t});break}case"NESTED_INSTANCE":{let e=r.componentId,n=(0,u.Ny)(e);if(n&&("SYMBOL"===n.type||n.isStateGroup))return y({component:n,rawProp:t});break}default:(0,n.xb)(r)}return null}({component:e,rawProp:a,definition:m});if(E){p.add(t),o[a]=t;let e=E.typeName;d[e]=d[e]||[],d[e].push(t);let l={def:m,devFriendlyProp:function({usageProp:e,rawProp:t,definition:r}){let i={key:e};switch((0,s.aX)(t)!==e&&(i.originalKey=(0,s.aX)(t)),r.type){case"VARIANT":return{type:"SIMPLE_CHOICE",validOptions:r.variantOptions??[],valueType:"STRING",...i};case"INSTANCE_SWAP":case"NESTED_INSTANCE":case"SLOT":return{type:"SIMPLE",valueType:"OBJECT",...i};case"BOOLEAN":return{type:"SIMPLE",valueType:"BOOLEAN",...i};case"TEXT":return{type:"SIMPLE",valueType:"STRING",...i};case"IMAGE":return{type:"IMAGE",valueType:"OBJECT",...i};case"GROUPED_INSTANCE_SWAP":{let e=(0,u.Ny)(r.defaultValue);if(!e||"SYMBOL"!==e.type)return{type:"SIMPLE",valueType:"UNKNOWN",...i};return{type:"GROUPED_INSTANCE_SWAP",groupName:r.groupName,valueType:"OBJECT",...i}}default:(0,n.xb)(r)}}({usageProp:t,rawProp:a,definition:m}),componentId:(0,s.O7)(m),isOptional:(0,s.QJ)(a),rawProp:a,typeRepr:E};i[a]=l,r[t]=l}}for(let e of Object.values(d))for(let[t,n]of Object.entries((0,s.hM)(e)))if((0,s.xb)(n.map(e=>r[e])))for(let e=0;e<n.length;e++){let i=n[e],a=r[i].devFriendlyProp,o={type:"ARRAY",key:t,index:e,nonArrayKey:"key"in a?a.key:"",valueType:a.valueType};"originalKey"in a&&(o.originalKey=a.originalKey),r[i].devFriendlyProp=o}let m=Object.keys(r),E=[],b={};for(let e of m){let t=r[e].devFriendlyProp;if("DERIVED_BOOLEAN"!==t.type)switch(t.type){case"SIMPLE":case"SIMPLE_CHOICE":case"IMAGE":case"GROUPED_INSTANCE_SWAP":b[e]=t;break;case"ARRAY":b[e]=t,b[t.key]={type:"SIMPLE",key:t.key,valueType:t.valueType};break;default:(0,n.xb)(t)}}for(let e of m){let t=r[e];if("SIMPLE"===t.devFriendlyProp.type){let r="Visible";if(e.endsWith(r)){let n=e.slice(0,-r.length);n&&b[n]&&(t.devFriendlyProp={type:"DERIVED_BOOLEAN",valueType:"BOOLEAN",devFriendlyProp:b[n]})}}E.push(t)}return E.sort(s.Ho)}(e),o=E({component:e,parsedDefs:r}),p=`type ${t} = React.FC<${o.typeDefBody??"{}"}>`,b=(0,s.yu)(e.guid),I=(0,s.Se)(b,s.vh),S=(0,c.iR)(b),w=I?d.I5.BUILDING_BLOCK:S?d.I5.GROUPED_COMPONENT:d.I5.NONE,A=I?s.vh:S??void 0,C=(0,u.Uk)(e);return{componentId:e.guid,name:e.name,defaultNodeId:"SYMBOL"===e.type?e.guid:(0,u.l8)(e).guid,jsxName:t,componentGroupPath:b,groupName:A,componentType:w,defs:e.componentPropertyDefinitions(),parsedDefs:r,prefixTypes:function(e){let t={};for(let r of(0,s.ep)(e)){let e=r.devFriendlyProp;if("DERIVED_BOOLEAN"===e.type)continue;let a=T(r.typeRepr);if(a){t[e.key]=a;continue}Object.assign(t,function(e,t){let r={};if(t.referencedTypes)for(let a of t.referencedTypes)switch(a.type){case"IMAGE":r[e]=m;break;case"COMPONENT":{let t=(0,u.Ny)(a.componentId);if(t){let n=v(t);for(let[t,i]of Object.entries(n.prefixTypes))r[`${e}${t}`]=i;if(!(0,i.kc)().first_draft_inline_nested_props){let t=T(n.propsTypeRepr);t&&(r[e]=t)}}break}default:(0,n.xb)(a)}return r}(e.key,r.typeRepr))}return t}(r),prefixComments:o.prefixComments??[],typeStr:p,propsTypeRepr:o,description:e.description,key:l.Egt.getAssetKeyForPublish(e.guid),version:C,typeInfoVersion:d.Od}}function T(e){var t;let r=[];if(e.typeDefBody){if(null==(t=e.prefixComments)?void 0:t.length){for(let t of(r.push("/**"),e.prefixComments))r.push(` * ${t}`);r.push(" */")}return r.push(`type ${e.typeName} = ${e.typeDefBody};`),r.join("\n")}return null}function S(e){let t=(0,u.cl)(e);return t?t.isState?v(t.parentNode):v(t):null}function w(e){let t=(0,u.cl)(e);return t?t.isState?I(t.parentNode):I(t):null}function A(e){return e.map(e=>{try{return v(e)}catch(t){(0,a.$D)(o.e.FEEDBACK,t,{extra:{nodeId:e.guid}})}}).filter(Boolean)}function C(e,t,r){let n=(0,s.__)(r);for(let r of(0,s.tJ)([...n],{followInstances:!1}))if(e===l.Egt.getAssetKeyForPublish(r.guid)&&(!t||t===(0,u.Uk)(r)))try{return v(r)}catch(e){(0,a.$D)(o.e.FEEDBACK,e,{extra:{nodeId:r.guid}});break}return null}function N(e,t){let r=(0,s.__)(t);return A((0,s.tJ)([...r],{followInstances:!1}).filter(t=>e.toLowerCase()===(0,s.WG)(t.name).toLowerCase()))}function O(e){return b={},{info:function(e){let t=(0,s.__)(e);return A((0,s.tJ)([...t],{followInstances:!1}))}(e)}}},202655:(e,t,r)=>{"use strict";r.d(t,{BB:()=>D,FE:()=>c,GN:()=>B,Hd:()=>H,Ho:()=>U,L_:()=>w,O7:()=>O,QJ:()=>I,R0:()=>P,Se:()=>m,Vv:()=>T,WG:()=>S,__:()=>C,_e:()=>E,_j:()=>x,aX:()=>p,ep:()=>V,fy:()=>f,go:()=>k,hM:()=>A,i2:()=>d,lS:()=>u,rB:()=>y,tJ:()=>M,vh:()=>s,wn:()=>R,xb:()=>L,yu:()=>N});var n=r(935283),i=r(966712),a=r(776621),o=r(341860),l=r(747202);let s="Building Blocks",c="Component",d="Presets",u="\u2726/";function p(e){return function(e){let t=e.match(/^\d+/),r=e;if(t&&t.length>0){let e=t[0];r=r.replace(e,"")+e}return r}(e=(e=(e=v(e=function(e){e.endsWith("?")&&(e=e.substring(0,e.length-1));let t=e.indexOf("{");return -1!==t&&(e=e.substring(0,t)),e}(e=b(e)))).replace(/[^0-9a-z]/gi," ").split(" ").map((e,t)=>0===t?e.charAt(0).toLowerCase()+e.substr(1):(0,l.Sn)(e)).join("")).replace(/[^0-9a-z]/gi,""))}function m(e,t){for(let r of e.split(" / "))if((0,l.n6)(r,t))return!0;return!1}let _=/\[(\w+)(\: ?([^\[\]]+))?\]/,h=RegExp(`(${_.source})*$`),g=new RegExp(/^Image ?(\(.+\))?/.source+h.source);function f({index:e,rawProp:t}){let[r,n]=t.split("#");if(!r||!n)throw Error(`Unexpected rawProp format: ${t}`);let i=p(r);return i.match(/\d+$/)&&(i=i.replace(/\d+$/,"")),[`${i} ${e+1}`,n].join("#")}function E(e,t){let r={},n={},i={};for(let t of e){let e=t.guid,a=(0,l.j_)(e);a&&(n[e]=t,i[e]=a,r[a]=r[a]||[],r[a].push(e))}let o=new Set,s={};for(let e of Object.values(r)){let t=new Set;for(let r of e){let e=n[r];if(!e)continue;let i=p(e.name);t.has(i)&&(i=P({usageProp:i,usedUsageProps:t})),t.add(i),o.add(i),s[r]=i}}let c={};for(let r of e){let e=i[r.guid],n=s[r.guid];if(e&&n){let i=null,o=n;if("NESTED_INSTANCE"===t){if("INSTANCE"!==r.type){(0,a.xi)("getComponentInfoHelpers","Expected node type to be INSTANCE",{nodeType:r.type});continue}if(!(i=(0,l.yu)(r))){(0,a.xi)("getComponentInfoHelpers","Could not find mainComponent for instance",{nodeId:r.guid});continue}o+="/"+i}let s=function(e,t){let r=e.replace(/#/g,"");return[r=v(r),t].join("#")}(r.name,o);c[s]||(c[s]={componentIdOrNull:i,guidByParentComponentId:{},tagsByParentComponentId:{}}),c[s].guidByParentComponentId[e]=r.guid;let d=function(e){var t,r;let n=b(e),i=null==(t=h.exec(n))?void 0:t[0];if(!i)return{};let a=(null==(r=i.match(RegExp(_,"g")))?void 0:r.map(e=>{let t=_.exec(e);return t?[t[1],t[3]||"true"]:[]}).filter(e=>2===e.length))||[];return n.startsWith("Image[transparent]")&&a.push(["transparent","true"]),Object.fromEntries(a)}(r.name);Object.keys(d).length>0&&(c[s].tagsByParentComponentId[e]=d)}}return c}function y(e){let t=e.match(/\{(.+)\}/);if(!t)return{};let r=t[1].split(",");return r[0].startsWith("-")?{omit:r.map(e=>e.replace("-",""))}:{pick:r}}function b(e){let[t]=e.split("#");return t}function v(e){e=e.startsWith("Image[transparent]")?e.replace("[transparent]",""):e;let t=h.exec(e);return(null==t?void 0:t[0])?e.replace(t[0],"").trim():e}function I(e){return b(e).endsWith("?")}function T({component:e,rawProp:t}){let r=p(t);return(0,l.Sn)(e.name)+(0,l.Sn)(r)}function S(e){return(0,l.Sn)(e,c)}function w(e){return(0,l.Sn)(e)+"Props"}function A(e){let t={};if(!Array.isArray(e)||e.length<2)return t;let r=e.map(p);for(let n=0;n<r.length;n++){let i=r[n].replace(/\d+$/,"");t[i]||(t[i]=[]),-1===t[i].indexOf(e[n])&&t[i].push(e[n])}let n={};for(let e in t){let r=t[e].sort((e,t)=>{let r=e.match(/\d+$/),n=t.match(/\d+$/);return r&&n?parseInt(r[0],10)-parseInt(n[0],10):e.localeCompare(t)}),i=function(e){if(!Array.isArray(e)||e.length<2)return null;let t=e[0].replace(/\d+$/,"");for(let r=0;r<e.length;r++)if(!e[r].startsWith(t)||parseInt(e[r].slice(t.length))!==r+1)return null;return t+"s"}(r);i&&(n[i]=r)}return n}function C({rootNodes:{includeSelection:e,dsKitKey:t,pageChildrenName:r}={}}){let n=(0,l.lI)();if((null==t?void 0:t.type)==="LOCAL"?n=(0,l.Ny)(t.pageId)??n:(null==t?void 0:t.type)==="LIBRARY"&&(n=o.qo.instance.getInternalCanvas()??n),!n||"CANVAS"!==n.type)return[];let i=[];if(e&&i.push(...n.directlySelectedNodes),r)for(let e of n.reversedChildrenNodes)(0,l.n6)(e.name,r)&&i.push(e);else i.push(n);return i}function N(e){let t=(0,l.Ny)(e);if(!t)return"";let r=[],n=t.parentNode;for(;n&&(("CANVAS"===n.type||"SECTION"===n.type)&&r.push(n.name),"CANVAS"!==n.type&&"DOCUMENT"!==n.type);)n=n.parentNode;return r.reverse(),r.join(" / ")}function O(e){return"INSTANCE_SWAP"===e.type&&"string"==typeof e.defaultValue?e.defaultValue:"NESTED_INSTANCE"===e.type?e.componentId:null}function L(e){if(0===e.length)return!0;let t=e[0],r=O(t.def);return e.every(e=>t.def.type===e.def.type&&r===O(e.def))}function R(e,t){var r;let n=[];for(let i of(0,l.g5)(e))!i.isInstanceSublayer&&(("SLOT"===t.def.type||"INSTANCE_SWAP"===t.def.type||"GROUPED_INSTANCE_SWAP"===t.def.type)&&(null==(r=i.componentPropertyReferences())?void 0:r.mainComponent)===t.rawProp&&n.push(i.guid),"NESTED_INSTANCE"===t.def.type&&i.isBubbled&&Object.values(t.def.guidByParentComponentId).includes(i.guid)&&t.def.componentId===(0,l.yu)(i)&&n.push(i.guid));return n}function P({usageProp:e,usedUsageProps:t}){if(!t.has(e))return e;let r=e.match(/^(.*?)(\d*)$/),n=r?r[1]:e,i=1;return t.forEach(e=>{if(e.startsWith(n)){let t=parseInt(e.slice(n.length),10);!isNaN(t)&&t>i&&(i=t)}}),`${n}${i+1}`}function k(e){let t={};for(let r of Object.keys(e)){let e=p(r);t[e]=t[e]||[],t[e].push(r)}let r=[];for(let n of Object.values(t)){let t=function(e){if(e.length<3)return[];let t=e[0];if(!t||!("guidByParentComponentId"in t.def)||!L(e))return[];let r={};for(let t of e){if(!("guidByParentComponentId"in t.def))return[];for(let e of Object.keys(t.def.guidByParentComponentId))r[e]=r[e]||[],r[e].push(t)}let n=null;for(let[t,i]of Object.entries(r))if(i.length===e.length){n=t;break}if(!n)return[];let i={};for(let t of e){if(!("guidByParentComponentId"in t.def))return[];let e=t.def.guidByParentComponentId[n];if(!e)return[];i[e]=t}let a={};for(let e of Object.keys(i)){let t=(0,l.Ny)(e),r=null==t?void 0:t.parentNode;for(;r&&"NONE"!==r.stackMode&&(a[r.guid]=a[r.guid]||[],a[r.guid].push(e),(null==r?void 0:r.type)!=="SYMBOL");)r=r.parentNode}let o=Object.entries(a);for(let[e,t]of(o.sort((e,t)=>t[1].length-e[1].length),o)){if(t.length<3)continue;let r=new Set(t);return(0,l.Au)(e,["INSTANCE"]).filter(e=>r.has(e.guid)).map(e=>i[e.guid])}return[]}(n.map(t=>e[t]));t.length<3||r.push(t)}return r}function D(e,t){var r;let n=[],i=new Set,a=[...e];for(;0!==a.length;){let e=a.pop();if(!(!e||i.has(e.guid))){if(i.add(e.guid),(null==(r=e.parentNode)?void 0:r.isStateGroup)?a.push(e.parentNode):"SYMBOL"===e.type&&n.push(e.guid),e.isStateGroup&&n.push(e.guid),t.followInstances){if("INSTANCE"===e.type&&e.symbolId){let t=(0,l.Ny)(e.symbolId);t&&a.push(t)}a.push(...(0,l.Au)(e.guid,["INSTANCE","COMPONENT","COMPONENT_SET"]))}else a.push(...(0,l.Au)(e.guid,["COMPONENT","COMPONENT_SET"]))}}return n.map(e=>(0,l.cl)(e)).filter(Boolean)}function M(e,t){return D(e,t)}function x(e){return(0,l.Au)(e.guid,["FRAME","INSTANCE"]).filter(e=>g.test(e.name)&&!(0,l.oJ)(e))}function F(e){switch(e){case"VARIANT":return 0;case"TEXT":return 1;case"BOOLEAN":return 2;case"INSTANCE_SWAP":return 3;case"GROUPED_INSTANCE_SWAP":return 4;case"IMAGE":return 5;case"NESTED_INSTANCE":return 6;default:return 7;case"SLOT":return 8}}function U(e,t){let r=F(e.def.type),n=F(t.def.type);return r!==n?r-n:"ARRAY"===e.devFriendlyProp.type&&"ARRAY"===t.devFriendlyProp.type?e.devFriendlyProp.index-t.devFriendlyProp.index:0}function B(e,t=!0){let r=e.devFriendlyProp,a=t&&e.isOptional?"?":"";switch(r.type){case"SIMPLE":case"SIMPLE_CHOICE":case"IMAGE":case"GROUPED_INSTANCE_SWAP":return`${r.key}${a}`;case"ARRAY":if((0,i.kc)().first_draft_ts_arrays)return`${r.key}${a}`;return`${r.nonArrayKey}${a}`;case"DERIVED_BOOLEAN":return"";default:(0,n.xb)(r)}}function H(e){switch(e.devFriendlyProp.type){case"DERIVED_BOOLEAN":return"";case"SIMPLE":case"SIMPLE_CHOICE":case"IMAGE":case"GROUPED_INSTANCE_SWAP":return e.typeRepr.typeName;case"ARRAY":if((0,i.kc)().first_draft_ts_arrays){if((0,i.kc)().first_draft_inline_nested_props)return`(${e.typeRepr.typeName})[]`;return`${e.typeRepr.typeName}[]`}return e.typeRepr.typeName;default:(0,n.xb)(e.devFriendlyProp)}}function V(e){let t=[],r=new Set;for(let n of e){let e=B(n,!1);!e||r.has(e)||(t.push(n),r.add(e))}return t}},853069:(e,t,r)=>{"use strict";r.d(t,{$x:()=>l,C:()=>a,Lq:()=>u,PJ:()=>p,VV:()=>s,iR:()=>d,vR:()=>c});var n=r(202655),i=r(747202);let a="Icons",o=[a],l="Unknown";function s(e){return p(e)}function c(e){return d(e.componentGroupPath)}function d(e){for(let t of o)if((0,n.Se)(e,t))return t;return null}function u(e,t,r){let n=function(e,t){let r=t.parentNode;for(;r&&!(0,i.n6)(r.name,e);)r=r.parentNode;return r}(e,t);if(!n)return null;for(let e of(0,i.K)(n.guid??""))if((0,i.n6)(e.name,r))return e.guid;return null}function p(e){return e=e.endsWith("s")?e.slice(0,e.length-1):e,`Custom${(0,i.Sn)(e)}`}},545252:(e,t,r)=>{"use strict";r.d(t,{EF:()=>A,IK:()=>C,Og:()=>N,jr:()=>S,mF:()=>D});var n=r(341092),i=r(966712),a=r(776621),o=r(881396),l=r(96328),s=r(304783),c=r(198868),d=r(118034),u=r(77843),p=r(479296),m=r(574724),_=r(662531),h=r(241395),g=r(15859),f=r(558409),E=r(894443),y=r(747202);let b=e=>({prompt_data:e.description,negative_prompt_data:"first-draft"===e.source?"blurry, bad, text, words, numbers, letters":"blurry, bad",cfg_scale:10,seed:Math.floor(1e4*Math.random()),steps:50,style_preset:"photographic",height:e.size.height,width:e.size.width,additionalPrefix:""}),v=e=>({prompt:e.description,negativePrompt:"first-draft"===e.source?"blurry, bad, text, words, numbers, letters":"blurry, bad",cfgScale:8,seed:Math.floor(1e4*Math.random()),height:e.size.height,width:e.size.width,numImages:1});async function I(e){try{let t=await m.Ay.openai.completeChat({model:"gpt-3.5-turbo-0125",messages:[{role:"system",content:T},{role:"user",content:e}],stream:!1,max_tokens:4096,use_cache:!0});if(t.choices.length>0&&null!=t.choices[0].message.content){let r=t.choices[0].message.content,n=r.match(/```json([\s\S]*?)(```|$)/);return JSON.parse(n?n[1].trim():r).description||e}return e}catch(t){return console.error(`Error: ${t.message}`),(0,a.$D)(s.e.FEEDBACK,t),e}}let T=`The image description provided to you has been blocked by content safety and moderation filters. These filters block the following:
- Violence and aggression such as fighting, weapons, and explosions
- Illegal activity such as drugs, black markets, and underground or shady dealings
- Explicit adult and suggestive content such as nudity or revealing clothing
- Hate symbols like Nazi symbols and Confederate flags
- Proper names and copyrighted material such as superheroes and pop culture icons
Think through which parts of the description are causing the filters to be triggered. Explain your reasoning and then rewrite the description to describe a similar scene with those parts removed. If nothing seems like it would trigger the filters, then rewrite the description to be more generic. Always respond in the following format:

\`\`\`json
{
  "reasoning": string,
  "description": string
}
\`\`\``;async function S(e,t,r=!1){let n=(0,y.Lp)();void 0!==t&&(n.clientLifecycleId=t);try{let t=("first-draft"===e.source?await m.Ay.design.firstDraftGenerateImages({...v(e),markUserAction:r},n):await m.Ay.design.generateImages({...v(e),markUserAction:r},n)).images[0];return`data:image/png;base64,${t}`}catch(t){if(!(0,i.kc)().first_draft_use_sdxl_demo_only)throw t;return(await m.Ay.design.firstDraftGenerateImage(b({...e,size:(0,f.DA)(e.size,"sdxl")}),n)).image}}let w=(0,p.n)(async function(e,t=0,r=()=>!0){if(!r())return"";try{return await S(e)}catch(o){if(t>=4)throw o;let i={...e},a=1e3*t;return o instanceof n.G1&&"unsafe_or_harmful_content"===o.type&&(i.description=await I(e.description),a=0),await new Promise(e=>setTimeout(e,a)),w(i,t+1,r)}});function A({node:e,description:t,transparent:r}){return{description:t,size:(0,f.DA)({width:e.size.x,height:e.size.y},"awsTitan"),source:"first-draft",transparent:r}}let C=(0,p.n)(async function({node:e,metadata:t,shouldGenerateImages:r,shouldContinueStream:n=()=>!0}){if(!r){(0,i.kc)().first_draft_debug&&await R(e,t.description);return}try{let r=await w(t,0,n);if(!n()||!r)return;await O({node:e,base64:r,metadata:t,shouldContinueStream:n})}catch(e){throw e}});async function N({node:e,description:t,transparent:r}){let n=A({node:e,description:t,transparent:r});return await C({node:e,metadata:n,shouldGenerateImages:!0}),!0}async function O({node:e,base64:t,metadata:r,shouldContinueStream:n}){var p,m;let h=await (0,d.xF)(t,["*"]),f=await (0,g.UD)(h,"image/png",r.description);if(!n())return;let E=e.fills;_.l7.ai("first-draft-set-image-fill",()=>{e.appendImageFillPaint(f),e.setFillPaintEnabled(e.fills.length-1,!1)});let y=e.fills[e.fills.length-1],b=null;if(r.transparent&&!((0,i.kc)().first_draft_image_pass&&(0,i.kc)().eai_bgrem_vendor)){_.l7.ai("first-draft-set-image-fill",()=>{});try{if(null==(p=y.image)?void 0:p.hash){let t=y.image.hash,r=(0,o.B9)(t),i=(0,l.H9)(t);if(await L(r,5e3),!n())return;await (0,u.hS)(e,{source:"first-draft",imageHash:i}),b=e.fills[e.fills.length-1]}}catch(e){(0,a.$D)(s.e.FEEDBACK,e)}}let v=b?[y,b]:[y];_.l7.ai("first-draft-set-image-fill",()=>{let t=E.findIndex(e=>"IMAGE"===e.type);for(let n of(t>=0?(e.fills=E.map((e,r)=>r===t?v:e).flat(),e.setFillPaintEnabled(t+v.length-1,!0)):(e.fills=v,e.setFillPaintEnabled(v.length-1,!0)),e.name=r.description,e.childrenNodes))n.visible=!1});let I=(0,o.B9)((null==(m=v[v.length-1].image)?void 0:m.hash)||[]),T=(0,c.D)();T.skipInvisibleInstanceChildren=!0;let S=T.getNodeById(e.guid);S&&(S.setSharedPluginData("jsx","isImage","true"),S.setSharedPluginData("jsx","description",r.description),S.setSharedPluginData("jsx","hash",I),r.transparent&&S.setSharedPluginData("jsx","transparent","true"))}let L=(e,t)=>{let r=Date.now();return new Promise(n=>{let i=setInterval(()=>{((0,g.Jr)().getSignedUrls([e]).get(e)||Date.now()-r>t)&&(clearInterval(i),n())},100)})};async function R(e,t){await P({node:e,bgColorHex:"#DDDDDD50",textStr:t})}async function P({node:e,bgColorHex:t,textStr:r}){if(!(0,i.kc)().first_draft_debug)return;let n=(0,c.D)();n.skipInvisibleInstanceChildren=!0;let a=n.getNodeById(e.guid);if(!a||!("fills"in a)||!("parent"in a))return;a.fills=[n.util.solidPaint(t)];let o=a.parent;if(!o)return;let l=k(a.relativeTransform);for(;o&&o.parent&&("relativeTransform"in o)&&!o.getSharedPluginData(E.SV,"jsx");){let e=k(o.relativeTransform);e.multiply(l),l=e,o=o.parent}if("FRAME"!==o.type)return;let s=n.createText(),d={family:"Inter",style:"Bold"};await n.loadFontAsync(d),s.fontName=d,s.fontSize=12,s.characters=r,s.resize(a.width-16,a.height-16),s.textTruncation="ENDING",l.translate(8,8),s.relativeTransform=function(e){let t=e.axisX(),r=e.axisY(),n=e.offset();return[[t.x,r.x,n.x],[t.y,r.y,n.y]]}(l),o.appendChild(s),"layoutMode"in o&&"NONE"!==o.layoutMode&&(s.layoutPositioning="ABSOLUTE")}function k(e){return h.s.fromNumbers(...e[0],...e[1])}async function D({id:e,desc:t,initialUserPrompt:r,jsxJSON:n,prompt:a,node:o,transparent:l=!1,shouldContinueStream:s=()=>!0,imagesTrace:c}){let d=JSON.stringify(n,(e,t)=>{if("sharedPluginData"!==e&&"isPartial"!==e&&(!t||"object"!=typeof t||0!==Object.keys(t).length))return t}),u=(0,f.DA)({width:o.size.x,height:o.size.y},"awsTitan"),p=(0,y.Lp)(),{image:_,description:h,trace:g}=await m.Ay.design.firstDraftCreateImage({id:e,desc:t,initialUserPrompt:r,prompt:a,...u,jsxJSON:d,transparent:l&&!!(0,i.kc)().eai_bgrem_vendor},p);if(c&&g&&(c[o.guid]=g),!s())return;let E=`data:image/png;base64,${_}`;await O({node:o,base64:E,metadata:{description:h,size:u,source:"first-draft",transparent:l},shouldContinueStream:s})}},207204:(e,t,r)=>{"use strict";r.d(t,{D9:()=>D,Ms:()=>M,OJ:()=>B,RY:()=>H,U_:()=>y,fE:()=>x,nY:()=>k,oT:()=>U,qV:()=>P,tG:()=>function e(t,r){for(let n of((null==r?void 0:r.isRecursiveCall)||u.l7.ai("first-draft-auto-fill-parent",()=>{let e=t.parentNode;if((null==e?void 0:e.getSharedPluginData("jsx","type"))==="VStack")try{e.stackReverseZIndex=!0,t.stackChildAlignSelf="STRETCH",t.stackHorizontalLayoutSize=d.mKm.FILL_CONTAINER}catch(e){(0,i.$D)(a.e.FEEDBACK,e)}if((null==e?void 0:e.getSharedPluginData("jsx","type"))==="HStack")try{t.stackChildAlignSelf="STRETCH",t.stackVerticalLayoutSize=d.mKm.FILL_CONTAINER}catch(e){(0,i.$D)(a.e.FEEDBACK,e)}}),"FRAME"===t.type&&u.l7.ai("first-draft-auto-fill-parent",()=>{if("VStack"===t.getSharedPluginData("jsx","type")){t.stackReverseZIndex=!0;let e=t.childrenNodes[0],r=(null==e?void 0:e.type)==="INSTANCE"&&e.symbolId?p.qo.instance.get(e.symbolId):null,n=(null==r?void 0:r.size.x)||null;if(n)try{if(e)for(let e of(t.stackHorizontalLayoutSize===d.mKm.HUG_CONTENT&&(t.minWidth=n),t.childrenNodes))try{e.stackChildAlignSelf="STRETCH",e.stackHorizontalLayoutSize=d.mKm.FILL_CONTAINER}catch(e){(0,i.$D)(a.e.FEEDBACK,e)}}catch(e){(0,i.$D)(a.e.FEEDBACK,e)}}if("HStack"===t.getSharedPluginData("jsx","type")){t.stackReverseZIndex=!0;let e=t.childrenNodes[0],r=(null==e?void 0:e.type)==="INSTANCE"&&e.symbolId?p.qo.instance.get(e.symbolId):null,n=(null==r?void 0:r.size.y)||null;if(n)try{if(e)for(let e of(t.stackVerticalLayoutSize===d.mKm.HUG_CONTENT&&(t.minHeight=n),t.childrenNodes))try{e.stackChildAlignSelf="STRETCH",e.stackVerticalLayoutSize=d.mKm.FILL_CONTAINER}catch(e){(0,i.$D)(a.e.FEEDBACK,e)}}catch(e){(0,i.$D)(a.e.FEEDBACK,e)}}}),t.childrenNodes))e(n,{isRecursiveCall:!0})},us:()=>T,xF:()=>b});var n=r(966712),i=r(776621),a=r(304783),o=r(27087),l=r(640209),s=r(479296),c=r(44892),d=r(852800),u=r(662531),p=r(341860),m=r(247368),_=r(853069),h=r(545252),g=r(747202);async function f(e){await new Promise(t=>setTimeout(t,e))}async function E({fromVal:e,toVal:t,duration:r,mutateFn:n}){let i=Math.floor(r/16),a=t-e;if(a<.2)return;let o=0;for(;o++<i;)n(e+a*(1-Math.pow(1-o/i,4))),await f(16)}async function y(e,t){var r;let n=p.qo.instance,i=t.createNewSitesWebpage?{x:0,y:0}:d.XJn.getInsertionLocation();u.l7.ai("first-draft-position-node",()=>{e.relativeTransform={...e.relativeTransform,m02:i.x,m12:i.y}}),e.removeLocalOpacity();let a=d.NfO.getViewportZoomScale();"inline"!==t.insertBehavior&&(d.NfO.scrollAndZoomIntoView([e.guid]),u.l7.ai("first-draft-position-node",()=>{let t=n.getCurrentPage();t&&(t.directlySelectedNodes=[e])})),(null==(r=t.insertBehavior)?void 0:r.endsWith("-ease"))&&await E({fromVal:a,toVal:1,duration:300,mutateFn:e=>{d.NfO.setViewportZoomScale(e)}})}function b(e){let t=p.qo.instance.get(e);if(t&&("FRAME"===t.type&&"VStack"!==t.getSharedPluginData("jsx","type")&&1===t.childrenNodes.length&&"VStack"===t.childrenNodes[0].getSharedPluginData("jsx","type")&&(t=t.childrenNodes[0]),"FRAME"===t.type&&"VStack"===t.getSharedPluginData("jsx","type")&&t.stackVerticalLayoutSize===d.mKm.HUG_CONTENT)){let e=t.childrenNodes.find(e=>"true"===e.getSharedPluginData("jsx","fillContainerHeight"));if(!e)return;u.l7.ai("first-draft-fill-main-content-container",()=>{t.stackVerticalLayoutSize=d.mKm.FIXED,e.stackChildAlignSelf="STRETCH",e.stackVerticalLayoutSize=d.mKm.FILL_CONTAINER})}}function v(e){return"true"===e.getSharedPluginData("jsx","isDone")}function I(e){let t=e.parentNode;for(;t;){if(v(t))return!0;t=t.parentNode}return!1}function T(e){return v(e)||I(e)}function S(e){let t=new Set,r=p.qo.instance.get(e);if(r){for(let e of(0,g._F)(r,["FRAME"],{sharedPluginData:{namespace:"jsx",keys:["isDone"]}}))v(e)&&t.add(e.guid);for(let e of(0,g._F)(r,["INSTANCE"]))T(e)&&t.add(e.guid)}return Array.from(t)}async function w({nodeId:e,shouldContinueStream:t,shouldGenerateImages:r,imagesTrace:n,jsxJSON:i,initialUserPrompt:a}){let o=p.qo.instance.get(e);(null==o?void 0:o.type)==="INSTANCE"&&await C({node:o,shouldContinueStream:t,imagesTrace:n,jsxJSON:i,initialUserPrompt:a,shouldGenerateImages:r}),(null==o?void 0:o.type)==="FRAME"&&await A({node:o,shouldContinueStream:t,shouldGenerateImages:r})}async function A({node:e,shouldContinueStream:t,shouldGenerateImages:r}){let n="true"===e.getSharedPluginData("jsx","isImage"),i=e.getSharedPluginData("jsx","description")??"";if(!n||!i)return;let a=!!e.getSharedPluginData("jsx","transparent"),o=(0,h.EF)({node:e,description:i,transparent:a});await (0,h.IK)({node:e,metadata:o,shouldGenerateImages:r,shouldContinueStream:t})}async function C({node:e,shouldGenerateImages:t,shouldContinueStream:r,imagesTrace:o,jsxJSON:l,initialUserPrompt:s}){if(!e||!e.symbolId)return;let c=p.qo.instance,d=c.get(e.symbolId??"");if(!d)return;let u=(0,m.Ye)(d.guid);if(!u)return;let _=[];for(let a of u.parsedDefs)if("IMAGE"===a.def.type){let u=a.def.guidByParentComponentId[d.guid];if(!u){(0,i.xi)("first-draft","Could not find an image guid on the main component",{instanceNodeId:e.guid,mainComponentId:d.guid,guidByParentComponentId:a.def.guidByParentComponentId});continue}let p=(0,g.uN)(e.guid,u);if(!p){(0,i.xi)("first-draft","No image sublayer found for",{guid:e.guid});continue}let m=c.get(p);if(!m){(0,i.xi)("first-draft","No image node found for",{imageNodeId:p});continue}let f=a.rawProp,E=e.getSharedPluginData("jsx",f)??"";if(!E){(0,i.xi)("first-draft","No description found for image",{rawProp:f});continue}let y=a.def.tagsByParentComponentId[d.guid];if((0,n.kc)().first_draft_image_pass)_.push((0,h.mF)({id:E,desc:(null==y?void 0:y.desc)??"",prompt:(null==y?void 0:y.prompt)??"",initialUserPrompt:s,jsxJSON:l,node:m,transparent:!!(null==y?void 0:y.transparent),imagesTrace:o}));else{let e=(0,h.EF)({node:m,description:E,transparent:!!(null==y?void 0:y.transparent)});_.push((0,h.IK)({node:m,metadata:e,shouldContinueStream:r,shouldGenerateImages:t}))}}(await Promise.allSettled(_)).forEach(e=>{"rejected"===e.status&&(0,i.$D)(a.e.FEEDBACK,e.reason)})}function N(e){let t=p.qo.instance,r=S(e),n=[];for(let e of r){let r=t.get(e);if((null==r?void 0:r.type)!=="INSTANCE")continue;let a=r.componentPropertyReferences();if(!(null==a?void 0:a.mainComponent)||!r.symbolId)continue;let o=t.get(r.symbolId);if(!o){(0,i.xi)("first_draft","Could not find component for instance",{nodeId:e});continue}if(o&&(null==o||!o.isState)){if(!d.Egt.getAssetKeyForPublish(o.guid)){let e=(0,m.Ye)((null==o?void 0:o.guid)??"");if(!e||(0,_.vR)(e)!==_.C)continue}I(r)&&n.push(r.guid)}}return n}async function O(e){if(!e.options.dsKitKey){(0,i.$D)(a.e.FEEDBACK,Error("Need to supply a design system kit to replace icons from"),{extra:{nodeIds:e.nodeIds,dsKit:e.options.dsKitKey}});return}let t=p.qo.instance;for(let r of e.nodeIds){let n=t.get(r);if(!n||"INSTANCE"!==n.type)continue;let i=n.componentPropertyReferences(),a=null==i?void 0:i.mainComponent;if(!a)continue;let o=n.parentNode;for(;o&&"INSTANCE"!==o.type;)o=o.parentNode;if(!o||!o.componentProperties()[a])continue;let l=o.getSharedPluginData("jsx",a);l&&("LOCAL"===e.options.dsKitKey.type?await R({dsKit:e.options.dsKitKey,instanceNode:n,iconDescription:l}):await L({dsKit:e.options.dsKitKey,instanceNode:n,iconDescription:l}))}}let L=(0,s.n)(async function({dsKit:e,instanceNode:t,iconDescription:r}){let n;if(!t.symbolId)return;let o=p.qo.instance,s=o.get(t.symbolId);if(!s||s.isState)return;let{key:m,version:h}=(await l.Gh.getFirstDraftMatchGroup({kit_key:e.key,is_local:!1,group_name:_.C,description:r})).data.meta;if(!m){(0,i.$D)(a.e.FEEDBACK,Error("first-draft: Grouped components: Could not find component for grouped component"),{extra:{dsKit:e,iconDescription:r,mainComponentId:s.guid}});return}let g=h?`/component/${m}/canvas?ver=${h}`:`/component/${m}/canvas`;if(!(n=await c.Eo.getCanvas({canvas_url:g})))return;let f=d.NfO.deserializeProductComponentFromBuffer(m,n),E=o.get(f);E&&"SYMBOL"===E.type&&u.l7.ai("first-draft-swap-grouped-component",()=>{t.swapComponent(E)})});async function R({dsKit:e,instanceNode:t,iconDescription:r}){let{key:n,version:i=null}=(await l.Gh.getFirstDraftMatchGroup({kit_key:d.XJn.getKitKey(e.pageId)??"",is_local:!0,group_name:_.C,description:r})).data.meta;if(!n)return;let a=(0,m.NC)(n,i,{rootNodes:{dsKitKey:e}});if(a){let e=p.qo.instance.get(a.defaultNodeId);e&&"SYMBOL"===e.type&&u.l7.ai("first-draft-swap-grouped-component",()=>{t.swapComponent(e)})}}async function P({containingNodeId:e,batchSize:t,options:r}){let n=N(e);for(let e=0;e<n.length;e+=t){let a=n.slice(e,e+t);if(0===a.length)return;try{await O({nodeIds:a,options:r})}catch(e){(0,i.xi)("first-draft","Failed to insert icons",{e})}}}async function k({containingNodeArgs:e,batchSize:t,imagesTrace:r}){let n=e.flatMap(({id:e,userPrompt:t,jsxJSON:n})=>(r[e]=r[e]||{},S(e).map(i=>({nodeId:i,shouldGenerateImages:!0,imagesTrace:r[e],initialUserPrompt:t,jsxJSON:n}))));for(let e=0;e<n.length;e+=t){let r=n.slice(e,e+t);if(0===r.length)return;try{await Promise.all(r.map(w))}catch(e){(0,i.xi)("first-draft","Failed to insert images",{e})}}}function D(e,t,r){if(!p.qo.instance.get(e)){(0,i.$D)(a.e.FEEDBACK,Error("first-draft: Icons: Could not find containing node with id=containingNodeId"),{extra:{containingNodeId:e,...r}});return}let n=N(e).filter(e=>!t[`icon-${e}`]);if(0===n.length)return;let o=O({nodeIds:n,options:r});for(let e of n)t[`icon-${e}`]=o}function M({containingNodeId:e,queuedEffects:t,shouldContinueStream:r,shouldGenerateImages:n,imagesTrace:o,jsxJSON:l,initialUserPrompt:s}){if(!p.qo.instance.get(e)){(0,i.$D)(a.e.FEEDBACK,Error("First Draft: Add Images: Could not find containing node with id=containingNodeId"),{extra:{containingNodeId:e}});return}let c=S(e).filter(e=>!t[`image-${e}`]);if(0!==c.length)for(let e of c)t[`image-${e}`]=w({nodeId:e,shouldContinueStream:r,shouldGenerateImages:n,imagesTrace:o,jsxJSON:l,initialUserPrompt:s})}function x({containingNodeId:e}){let t=p.qo.instance;if(!t.get(e)){(0,i.$D)(a.e.FEEDBACK,Error("First Draft: Hide Empty Grid Rows: Could not find containing node with id=containingNodeId"),{extra:{containingNodeId:e}});return}let r=S(e),n=new Set;for(let e of r){let r=t.get(e);if(r)for(let e of(0,g._F)(r,["FRAME"]).filter(e=>"NONE"!==e.stackMode)){let t=e.childrenNodes;t&&t.length>0&&t.every(e=>!e.visible)&&n.add(e.guid)}}u.l7.ai("first-draft-hide-empty-grid-rows",()=>{for(let e of n){let r=t.get(e);r&&(r.visible=!1)}})}let F=(0,s.n)(async function(e,t){var r,n;return(null==(n=null==(r=(await o.Ay.post(`/api/first_draft/kit_contents/${e.key}/detach_info`,{keys:t})).data)?void 0:r.meta)?void 0:n.should_detach)??[]});async function U(e,t,r){if("LOCAL"===e.type||!t)return;let o=p.qo.instance.get(t);if(o){if((0,n.kc)().first_draft_partial_detach){let r=(0,g._F)(o,["INSTANCE"]),n=new Set;for(let e of r){let t=(0,g.yu)(e);if(t){let e=d.Egt.getAssetKeyForPublish(t);e&&n.add(e)}}if(0===n.size)return;try{let r=await F(e,Array.from(n));u.l7.ai("first-draft-detach-generation",()=>{d.XJn.detachGeneratedDesignPartial(t,r)})}catch(e){(0,i.$D)(a.e.FEEDBACK,e)}}else u.l7.ai("first-draft-detach-generation",()=>{d.XJn.detachGeneratedDesign(t)});r.detachVariables&&u.l7.ai("first-draft-detach-variables",()=>{d.XJn.detachVariablesInGeneration(t)})}}function B(e){let t=p.qo.instance.get(e);t&&u.l7.ai("first-draft-lock-node",()=>{t.locked=!0})}function H(e){if(!e)return;let t=p.qo.instance.get(e);t&&u.l7.ai("first-draft-unlock-node",()=>{t.locked=!1})}},599280:(e,t,r)=>{"use strict";r.d(t,{B:()=>h,H:()=>_});var n=r(717037),i=r(776621),a=r(304783),o=r(852800),l=r(173454),s=r(640209),c=r(776047),d=r(999202),u=r(642481);function p(e,t){if(!t)return{publishAssets:[],unpublishAssets:[]};let r=new Set(t.added.concat(t.modified)),n=[],i=t.removed;return e.forEach(e=>{r.has(e.key)&&n.push(e)}),{publishAssets:n,unpublishAssets:i}}function m(e){return e&&e!==l.E8.DELETED&&e!==l.E8.NOT_STAGED}async function _(e,t,r,n){var a;let l=o.XJn.getKitKey(e);if(!l)return;let c=(0,d.LQ)(e);if(0===c.length)return;let _=r.publishType,h=_===u.tf.LOCAL_GENERATION,f=c.reduce((e,t)=>{var n;return(_!==u.tf.LIBRARY_PUBLISH||m(null==(n=r.localComponents[t.componentId]||r.localStateGroups[t.componentId])?void 0:n.status))&&t.version&&(e[t.key]=t.version),e},{}),E=(0,d.vg)(e),y=E.reduce((e,t)=>{var n;return(_!==u.tf.LIBRARY_PUBLISH||m(null==(n=r.localComponents[t.componentId])?void 0:n.status))&&t.version&&(e[t.key]=t.version),e},{}),b=h?[]:o.XJn.getLocalExamples(e,c),v=b.reduce((e,t)=>(e[t.key]=t.version,e),{}),I=(0,d.pX)(),T={};I&&(_===u.tf.LIBRARY_PUBLISH&&m(null==(a=r.localVariableSets[I.nodeId])?void 0:a.status),T[I.key]=I.version);let S=await s.Gh.postFirstDraftPublishStatus({productComponentKeyToVersion:f,groupedComponentKeyToVersion:y,exampleKeyToVersion:v,variableSetKeyToVersion:T,publishType:_,kitKey:l}),{publishAssets:w,unpublishAssets:A}=p(c,S.data.meta.product_component_status),{publishAssets:C,unpublishAssets:N}=p(E,S.data.meta.grouped_component_status),{publishAssets:O,unpublishAssets:L}=p(b,S.data.meta.example_status),R=await g(O),{publishSets:P,unpublishSets:k}=function(e,t){if(!t)return{publishSets:[],unpublishSets:[]};let r=t.removed;return{publishSets:e.filter(e=>!r.includes(e.key)),unpublishSets:r}}(I?[I]:[],S.data.meta.variable_set_status);if(P.length>0&&!n){(0,i.x1)("First draft publish","Skipping kit publish because no theme variables were supplied");return}return{kit:{name:t,key:l,is_local:h},publish_product_components:w.map(e=>({name:e.name,jsx_name:e.jsxName,key:e.key,version:e.version,description:e.description,type_info:{jsx_name:e.jsxName,type_str:e.typeStr,prefix_types:e.prefixTypes,prefix_comments:e.prefixComments,description:e.description,type_info_version:u.Q6}})),unpublish_product_components:A,publish_grouped_components:C.map(e=>({name:e.name,key:e.key,version:e.version,description:e.description,group_name:e.groupName})),unpublish_grouped_components:N,publish_examples:O.map(e=>({key:e.key,version:e.version,example_info:{componentKeys:e.componentKeys,componentJsxNames:e.componentJsxNames},thumbnail_url:R[e.key]})),unpublish_examples:L,publish_variable_sets:n?P.map(e=>({key:e.key,name:e.name,version:e.version,theme_info:{theme_info_version:u.$5,customizable_variables:n,modes:e.modes}})):[],unpublish_variable_sets:k}}function h(e){return e.publish_product_components.length>0||e.publish_grouped_components.length>0||e.unpublish_product_components.length>0||e.unpublish_grouped_components.length>0||e.publish_variable_sets.length>0||e.unpublish_variable_sets.length>0}async function g(e){let t={};if(0===e.length)return t;let r={};for(let t of e){let[e,n]=o.Vzr.generateThumbnailForNode(t.nodeId,768,768,1,{});r[t.key]=n}let l=(await c.b.getUploadThumbnailsPresignedPostUrls(Object.keys(r).length)).data.meta.presigned_posts;return l.length<Object.keys(r).length?(0,i.$D)(a.e.FEEDBACK,Error("Mismatch between number of thumbnails and presigned URLs")):await Promise.allSettled(Object.entries(r).map(async([e,r],o)=>{let{url:s,fields:c}=l[o];try{let i=await (0,n.E)(a.e.FEEDBACK,"uploadThumbnails",s,c,r,"application/octet-stream");t[e]=i}catch(e){(0,i.$D)(a.e.FEEDBACK,Error("Unable to upload example thumbnail to S3"))}})),t}},104064:(e,t,r)=>{"use strict";r.d(t,{$L:()=>u,HS:()=>h,UO:()=>s,YB:()=>E,nV:()=>_,nd:()=>p,oP:()=>c,uq:()=>g});var n=r(568214),i=r(662531),a=r(341860),o=r(552010);function l(e,t){return Math.round(e/t)*t}function s(e,t,r){return l(Math.max(0,Math.min(t<r?e/r*t:(22-e)/(o.Ne-r)*t+22-o.Ne*((22-e)/(o.Ne-r)),22)),2)}function c(e,t,r){let n=a.qo.instance;for(let a in e){let o=n.get(a);o&&function(e,t,r,n){i.l7.user("first-draft-theme-modal-adjust-radius",()=>{switch(e.type){case"FRAME":case"INSTANCE":case"SYMBOL":case"RECTANGLE":e.rectangleCornerRadiiIndependent?(e.rectangleTopLeftCornerRadius=s(r.rectangleTopLeftCornerRadius,t,n),e.rectangleTopRightCornerRadius=s(r.rectangleTopRightCornerRadius,t,n),e.rectangleBottomLeftCornerRadius=s(r.rectangleBottomLeftCornerRadius,t,n),e.rectangleBottomRightCornerRadius=s(r.rectangleBottomRightCornerRadius,t,n)):e.cornerRadius=s(e.cornerRadius,t,n)}})}(o,t,e[o.guid],r)}}function d(e,t){for(let r in t)void 0!==t[r]&&(e[r]=t[r])}function u(e){var t,r;let i={};if(!e||void 0===e.size)return i;for(let a of function e(t,r,i){let a=[];if(!t)return a;switch(t.type){case"FRAME":case"INSTANCE":case"SYMBOL":case"RECTANGLE":let o=t.strokePaints.data.length>0,l=1===t.fills.length&&"SOLID"===t.fills[0].type&&t.fills[0].visible&&t.fills[0].color||void 0,s=t.fills&&t.fills.length>0&&t.fills.some(e=>e.visible),c=!s||!!l&&i&&(0,n.DA)(l,i);void 0!==i&&t.size.x<r&&(o||!c||t.cornerRadius>0||t.rectangleTopLeftCornerRadius>0||t.rectangleTopRightCornerRadius>0||t.rectangleBottomLeftCornerRadius>0||t.rectangleBottomRightCornerRadius>0)&&a.push(t),!l||i&&(0,n.DA)(l,i)?!l&&s&&(i={r:-1,g:-1,b:-1,a:1},r=t.size.x):(i=l,r=t.size.x)}if("childrenNodes"in t)for(let n of t.childrenNodes)a.push(...e(n,r,i));return a}(e,null==(t=e.size)?void 0:t.x,null==(r=e.fills[0])?void 0:r.color))switch(a.type){case"FRAME":case"INSTANCE":case"SYMBOL":case"RECTANGLE":let e={};d(e,{rectangleBottomLeftCornerRadius:a.rectangleBottomLeftCornerRadius,rectangleBottomRightCornerRadius:a.rectangleBottomRightCornerRadius,rectangleTopLeftCornerRadius:a.rectangleTopLeftCornerRadius,rectangleTopRightCornerRadius:a.rectangleTopRightCornerRadius,cornerRadius:a.cornerRadius}),Object.keys(e).length>0&&(i[a.guid]=e)}return i}function p(e){if(0===e.length)return o.Ne/2;let t=[];for(let r of e){let e=Math.max(0,Math.min(22,r));t.push(e/22)}return y(t.reduce((e,t)=>e+t,0)/t.length*o.Ne,o.jF)}function m(e,t){return e.reduce((e,r)=>Math.abs(r-t)<Math.abs(e-t)?r:e)}function _(e,t,r){let n;if(e<4||e>96)return e;let i=f[e];if(!i){let t=m(Object.keys(f).map(Number),e);i=f[t]}return n=t<r?(e-i.min)/r*t+i.min:(i.max-e)/(o.Ne-r)*t+i.max-o.Ne*((i.max-e)/(o.Ne-r)),l(n=Math.max(i.min,Math.min(n,i.max)),2)}function h(e,t,r){let n=a.qo.instance;for(let a in e){let o=n.get(a);o&&function(e,t,r,n){i.l7.user("first-draft-theme-modal-adjust-spacing",()=>{switch(e.type){case"FRAME":case"INSTANCE":case"SYMBOL":e.stackTopPadding=_(r.stackTopPadding,t,n),e.stackRightPadding=_(r.stackRightPadding,t,n),e.stackBottomPadding=_(r.stackBottomPadding,t,n),e.stackLeftPadding=_(r.stackLeftPadding,t,n),e.stackSpacing=_(r.stackSpacing,t,n)}})}(o,t,e[a],r)}}function g(e){let t={};if(!e)return t;let r=[e];for(;r.length>0;){let n=r.pop();if(n){switch(n.type){case"FRAME":case"INSTANCE":case"SYMBOL":if("VERTICAL"!==e.stackMode&&"HORIZONTAL"!==e.stackMode)break;let i={};d(i,{stackTopPadding:n.stackTopPadding,stackRightPadding:n.stackRightPadding,stackBottomPadding:n.stackBottomPadding,stackLeftPadding:n.stackLeftPadding,stackSpacing:n.stackSpacing}),Object.keys(i).length>0&&(t[n.guid]=i)}if("childrenNodes"in n)for(let e of n.childrenNodes)r.push(e)}}return t}let f={4:{min:4,max:6},8:{min:6,max:12},12:{min:8,max:16},16:{min:12,max:24},24:{min:16,max:40},32:{min:24,max:48},48:{min:32,max:56},64:{min:56,max:72},96:{min:72,max:96}};function E(e){if(0===(e=e.filter(e=>e>=4&&e<=96)).length)return o.Ne/2;let t=[];for(let r of e){let e=f[r],n=r;if(!e){let t=m(Object.keys(f).map(Number),r);e=f[t],n=t}r===e.min?t.push(0):r===e.max?t.push(1):r===n?t.push(.5):r<n?t.push((r-e.min)/(n-e.min)*.5):r>n&&t.push(.5+(r-n)/(e.max-n)*.5)}return y(t.reduce((e,t)=>e+t,0)/t.length*o.Ne,o.jF)}function y(e,t){let r=1/t;return Math.round(e*r)/r}},850213:(e,t,r)=>{"use strict";r.d(t,{Cr:()=>v,DP:()=>A,V5:()=>y,ZO:()=>b,k_:()=>E,xk:()=>w});var n=r(966712),i=r(776621),a=r(304783),o=r(572206),l=r(356390),s=r(852800),c=r(662531),d=r(931770),u=r(341860),p=r(220441),m=r(202655),_=r(207204),h=r(894443),g=r(747202),f=r(33604);let E=6;function y(e){if("FRAME"===e.type&&"true"===e.getSharedPluginData("jsx","isLayoutNode")){let t=e.childrenNodes[0];t&&"INSTANCE"===t.type&&c.l7.ai("first-draft-override-layout-node",()=>{e.fills=t.fills})}}let b={fontFamilyTitle:"\u2726/font/title/bold/family",fontFamilyBody:"\u2726/font/body/regular/family",fontFamilyLabel:"\u2726/font/label/medium/family",textColor:"\u2726/color/1/content-primary",cornerRadius:"\u2726/cornerRadius/small",bgBrandColor:"\u2726/color/1/bg-brand",bgColor:"\u2726/color/2/bg-primary"},v={fontFamilyTitle:"\u2726/font/title/bold/family",fontFamilyBody:"\u2726/font/body/regular/family",fontFamilyLabel:"\u2726/font/label/medium/family",textColor:"\u2726/color/1/text-default",cornerRadius:"\u2726/cornerRadius/medium",bgBrandColor:"\u2726/color/1/bg-brand",bgColor:"\u2726/color/2/bg-primary"};function I(e,t,r,n,i){if(!r&&(r||i[e])){let t=i[e];if(t)return t}else{let r=t.resolveVariable(e);if((null==r?void 0:r.type)===n)return r.value}return null}async function T(e,t,r,n){let o=new u.qo(u.ju.FIRST_DRAFT),l=o.createNode("FRAME");if(l.resizeWithoutConstraints(56,56),r.bgColor){let i=I(r.bgColor,e,t,s.Z_n.COLOR,n);i&&(l.fills=[{type:"SOLID",color:i}])}let c=o.createNode("TEXT");if(l.appendChild(c),c.fontSize=18,c.spliceCharacters(0,0,"Aa","BEFORE"),c.relativeTransform={...c.relativeTransform,m02:8,m12:4},r.fontFamilyTitle){let o=I(r.fontFamilyTitle,e,t,s.Z_n.STRING,n);if(o){let e={...c.fontName,family:o};try{await (0,p.E)(e)}catch(t){(0,i.$D)(a.e.FEEDBACK,t,{extra:{fontName:e}})}c.fontName=e}}else if(r.fontFamilyBody){let o=I(r.fontFamilyBody,e,t,s.Z_n.STRING,n);if(o){let e={...c.fontName,family:o};try{await (0,p.E)(e)}catch(t){(0,i.$D)(a.e.FEEDBACK,t,{extra:{fontName:e}})}c.fontName=e}}else if(r.fontFamilyLabel){let o=I(r.fontFamilyLabel,e,t,s.Z_n.STRING,n);if(o){let e={...c.fontName,family:o};try{await (0,p.E)(e)}catch(t){(0,i.$D)(a.e.FEEDBACK,t,{extra:{fontName:e}})}c.fontName=e}}if(r.textColor){let i=I(r.textColor,e,t,s.Z_n.COLOR,n);i&&(c.fills=[{type:"SOLID",color:i}])}if(r.bgBrandColor){let i=o.createNode("RECTANGLE");l.appendChild(i),i.resizeWithoutConstraints(56,28),i.relativeTransform={...i.relativeTransform,m02:8,m12:32};let a=I(r.bgBrandColor,e,t,s.Z_n.COLOR,n);if(a&&(i.fills=[{type:"SOLID",color:a}]),r.cornerRadius){let a=I(r.cornerRadius,e,t,s.Z_n.FLOAT,n);null!==a&&(i.cornerRadius=a)}}return l}function S(e){let t=(0,g.Gy)(e).filter(e=>e.name===m.i2);if(t&&0!==t.length)return t.length>1&&(0,i.$D)(a.e.FEEDBACK,Error("Multiple Presets collections found, returning the first one")),t[0]}async function w(e,t,r){let n=u.qo.instance.get(e);if(!n)return(0,i.$D)(a.e.FEEDBACK,Error("Node not found")),[];let l=s.XJn.updateFDSceneFromNode(e,E),c=new u.qo(u.ju.FIRST_DRAFT),p=l.map(e=>c.get(e));if(p.some(e=>!e))return(0,i.$D)(a.e.FEEDBACK,Error("Copied node not found")),[];let m=[],_=S(u.ju.FIRST_DRAFT);if(!_||0===_.modes.length)return[];let h=function(e,t){let r=new u.qo(u.ju.FIRST_DRAFT),n=r.get(s.UNF.getGUIDFromVariableCollectionID(r.scene,e.id));if(!n)return null;let i={fontFamilyTitle:null,fontFamilyBody:null,fontFamilyLabel:null,textColor:null,cornerRadius:null,bgBrandColor:null,bgColor:null},a=t===f.bq.Website?b:v;return n.variableIdsInCollection.forEach(e=>{let t=r.get(s.UNF.getGUIDFromVariableID(r.scene,e));t&&Object.entries(a).forEach(([r,n])=>{t.name===n&&(i[r]=e)})}),i}(_,(0,f.BY)(n));if(!h)return[];let g=function(e,t){let r=u.qo.instance,n=new u.qo(u.ju.FIRST_DRAFT),i=n.get(s.UNF.getGUIDFromVariableCollectionID(n.scene,t.id));if(!i)return{};let a={},o=function(e,t){let r={};return t.variableIdsInCollection.forEach(t=>{let n=e.get(s.UNF.getGUIDFromVariableID(e.scene,t));if(!n)return null;r[n.name]={id:t,name:n.name,variableResolvedType:n.variableResolvedType}}),r}(n,i);for(let t in e){let n=r.get(s.UNF.getGUIDFromVariableID(r.scene,t));n&&o[n.name]&&(a[o[n.name].id]=e[t])}return a}(r,_),I=_.modes[0].id,w=t.filter(e=>_.modes.some(t=>t.id===e)&&e!==I).slice(0,E-1);if(w.length<E-1){let e=_.modes.slice(1).map(e=>e.id).filter(e=>!w.includes(e)),t=E-1-w.length;w.push(...e.slice(0,t))}if(0===w.length)return[];try{let e=0;for(let t of p.slice(0,w.length+1)){let r=0===e?null:w[e-1];e>0&&r&&(t.setExplicitVariableModeForCollection(_.id,r),y(t));let n=await T(t,r,h,g),i=function(e,t,r){let n=s.Vzr.generateThumbnailForNode(t.guid,0,0,1,{inFirstDraftScene:!0,type:"UNCOMPRESSED",scale:184/t.size.x});return n&&n[0]?{attachedNodeId:e.guid,modeId:r,dataURI:(0,d.Pv)(n[1],new o.Mi(n[0].width,n[0].height))}:null}(t,n,r);i&&m.push(i),e++}}catch(e){return(0,i.$D)(a.e.FEEDBACK,e),[]}return m}async function A(e,t,r){let i=new u.qo(u.ju.FIRST_DRAFT).get(e.attachedNodeId);if(!i)throw Error("Attached node not found");if(e.modeId){let t=S(u.ju.FIRST_DRAFT);if(!t)throw Error("Preset collection not found");i.setExplicitVariableModeForCollection(t.id,e.modeId),y(i)}let a=c.l7.ai("first-draft-apply-theme-preset",()=>s.XJn.insertFromFDScene(e.attachedNodeId)),o=u.qo.instance,d=o.get(a);if(!d)throw Error("Inserted preset node not found");c.l7.ai("first-draft-apply-theme-preset",()=>{d.locked=!1});let p=JSON.parse(d.getSharedPluginData(h.SV,"dsKitKey"));return c.l7.ai("first-draft-apply-theme-preset",()=>{var e;let n=o.get(t);n&&((null==(e=n.parentNode)?void 0:e.type)==="CANVAS"&&(d.relativeTransform=n.relativeTransform),n.removeSelfAndChildren()),r&&r.forEach(e=>{let t=o.get(e);t&&t.removeSelfAndChildren()})}),await (0,_.oT)(p,d.guid,{detachVariables:!0}),(0,n.kc)().first_draft_partial_detach&&l.Y5.commit(),a}},763764:(e,t,r)=>{"use strict";r.d(t,{Ap:()=>m,EA:()=>s,JD:()=>h,M:()=>d,ed:()=>c,gU:()=>u,oR:()=>f,re:()=>E,uJ:()=>g,x7:()=>_});var n=r(568214),i=r(138392),a=r(755887),o=r(776621),l=r(774191);function s(e,t){return(0,n.HD)(e,.25)!==(0,n.HD)(t,.25)}function c(e){let t=(0,i.Wn)(e);return null===t?0:(0,a.qE)(t,0,1e3)}function d(e){return Math.abs(1e3-Math.min(1e3,e))}function u(e,t){let r=e.filter(e=>e.visible).map(e=>"SOLID"===e.type&&e.opacity&&e.color?{...e,color:{...e.color,a:e.opacity}}:e),i=(0,n.AW)(r);return i&&i.a<1&&t?(0,n.sN)(t,i):i||t||void 0}function p(e){return Math.min(Math.max(.02,1-e),.98)}function m(e){let t=(0,l.oB)(e);return(0,l.In)({...t,l:p(t.l)})}function _(e){let t={...(0,l.oB)(e)};return t.l=Math.min(Math.max(.25,t.l),.85),(0,l.In)(t)}function h(e){return e.l>.23&&e.l<.87}function g(e,t,r={updateSaturation:!1,invertLightness:!1}){let n=(0,l.oB)(t),i=(0,l.oB)(e),a={...n};return a.h=i.h,r.updateSaturation&&(a.s=i.s),h(n)?(a.l=i.l,a.s=i.s):r.invertLightness&&(a.l=p(n.l)),(0,l.In)(a)}function f(e){return e.map(e=>({...e,colorVar:{value:{colorValue:e.color},dataType:"COLOR",resolvedDataType:"COLOR"}}))}function E(e){let{contentColor:t,backgroundColor:r}=e,a=e.isText?i.uv:i.Yw,s=Math.abs((0,n.yi)(t,r));if(s>=a)return t;let c=(0,l.oB)(t);if(c.l>.95||c.l<.05){let i=m(t),l=Math.abs((0,n.yi)(i,r)),c=Math.max(s,l),d=l>s?i:t;return c<a&&(0,o.xi)("first-draft",`Failed to meet minimum ${e.isText?"text":"non-text"} contrast. Using ${d} on ${(0,n.F_)(r)} with contrast ${c}.`),d}let{adjustedColor:d,contrastMet:u}=(0,i.zq)(t,{contrastMinimum:a,colorForContrastCheck:r,isCustomColorForeground:!0});return u||(0,o.xi)("first-draft",`Failed to meet minimum ${e.isText?"text":"non-text"} contrast. Using ${(0,n.F_)(d)} on ${(0,n.F_)(r)} with contrast ${Math.abs((0,n.yi)(d,r))}.`),d}},33604:(e,t,r)=>{"use strict";r.d(t,{BY:()=>T,Mz:()=>S,bq:()=>I,jR:()=>E,k5:()=>v,p3:()=>g,pF:()=>_});var n=r(568214),i=r(138392),a=r(708389),o=r(662531),l=r(220441),s=r(801886),c=r(104064),d=r(763764);function u(e){let t=[];for(let r of e)switch(r.type){case"SOLID":if(!r.color)continue;t.push((0,n.F_)({...r.color,a:1}));break;case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":if(!r.stops)continue;for(let e of r.stops)t.push((0,n.F_)({...e.color,a:1}))}return t}function p(e,t){t.fills=u(e.fills),t.strokes=u(e.strokePaints.data)}function m(e){let t={};switch(e.type){case"FRAME":case"INSTANCE":case"SYMBOL":case"RECTANGLE":case"ROUNDED_RECTANGLE":case"ELLIPSE":case"REGULAR_POLYGON":case"STAR":case"VECTOR":case"LINE":case"BOOLEAN_OPERATION":p(e,t);break;case"TEXT":!function(e,t){if("TEXT"!==e.type)return;let r=e.fontName;"object"==typeof r&&(t.fontName=r)}(e,t),p(e,t)}return t}function _(e,t){let r=S(e,t),n=(0,c.$L)(e),i=Object.values((0,c.uq)(e)).flatMap(e=>Object.values(e)),a={fontFamilies:{title:r.title.map(e=>e.family),body:r.body.map(e=>e.family),label:r.label.map(e=>e.family)},colors:{text:[],background:[],border:[]},spacing:i,borderRadii:Object.values(n).map(e=>Object.values(e)).flat()},o=[e];for(;o.length>0;){let e=o.pop();if(!e)continue;let t=m(e);"TEXT"===e.type?a.colors.text.push(...t.fills??[]):a.colors.background.push(...t.fills??[]),a.colors.border.push(...t.strokes??[]),"childrenNodes"in e&&o.push(...e.childrenNodes)}return a}function h(e){return Array.from(new Set(e))}function g(e,t){let r=_(e,t);return{colors:{text:h(r.colors.text),background:h(r.colors.background),border:h(r.colors.border)},spacing:h(r.spacing),borderRadii:h(r.borderRadii),fontFamilies:{title:h(r.fontFamilies.title),body:h(r.fontFamilies.body),label:h(r.fontFamilies.label)}}}function f(e,t){return e.map(e=>{switch(e.type){case"SOLID":if(!e.color)return e;let r=(0,n.F_)({...e.color,a:1});if(r in t){let i=(0,n.tK)(t[r]);if(i)return{...e,color:{...i,a:e.color.a}}}return e;case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":if(!e.stops)return e;let i=e.stops.map(e=>{let r=(0,n.F_)({...e.color,a:1});if(r in t){let i=(0,n.tK)(t[r]);if(i)return{...e,color:{...i,a:e.color.a}}}return e});return{...e,stops:i,stopsVar:(0,d.oR)(i)};default:return e}})}async function E(e,t,r){let n=S(e,r),i=new Map;for(let e of n.title)for(let t of e.nodeIds)i.set(t,"title");for(let e of n.body)for(let t of e.nodeIds)i.set(t,"body");for(let e of n.label)for(let t of e.nodeIds)i.set(t,"label");let a=[{node:e}];for(;a.length>0;){let e=a.pop();if(!e)continue;let r=e.node,n=m(r),{colors:s,borderRadii:c,spacing:d,fontFamilies:u}=t,p="TEXT"===r.type?null==s?void 0:s.text:null==s?void 0:s.background;if(p&&!1!==e.updateColors&&n.fills&&"fills"in r){let t=f(r.fills,p);o.l7.user("first-draft-make-changes-theme-fills",()=>{r.fills=t}),e.updateColors=!r.fills.some(e=>"IMAGE"===e.type)}if(s&&n.strokes&&"strokePaints"in r){let e=f(r.strokePaints.data,s.border);o.l7.ai("first-draft-make-changes-theme-strokes",()=>{r.strokePaints={data:e,blobs:[]}})}if(o.l7.ai("first-draft-make-changes-theme-radius",()=>{if(!c||!function(e){let t=e.fills.length>0,r=e.strokePaints.data.length>0;return t||r}(r))return;let e=r.cornerRadiusOrMixed;if(e&&"mixed"!==e&&e in c)r.cornerRadiusOrMixed=c[e];else{let e;(e=r.rectangleTopLeftCornerRadius)in c&&(r.rectangleTopLeftCornerRadius=c[e]),(e=r.rectangleTopRightCornerRadius)in c&&(r.rectangleTopRightCornerRadius=c[e]),(e=r.rectangleBottomLeftCornerRadius)in c&&(r.rectangleBottomLeftCornerRadius=c[e]),(e=r.rectangleBottomRightCornerRadius)in c&&(r.rectangleBottomRightCornerRadius=c[e]),(e=r.cornerRadius)in c&&(r.cornerRadius=c[e])}}),o.l7.ai("first-draft-make-changes-theme-spacing",()=>{let e;d&&("HORIZONTAL"===r.stackMode||"VERTICAL"===r.stackMode)&&((e=r.stackSpacing)in d&&(r.stackSpacing=d[e]),(e=r.stackTopPadding)in d&&(r.stackTopPadding=d[e]),(e=r.stackBottomPadding)in d&&(r.stackBottomPadding=d[e]),(e=r.stackLeftPadding)in d&&(r.stackLeftPadding=d[e]),(e=r.stackRightPadding)in d&&(r.stackRightPadding=d[e]))}),n.fontName){let e=r.guid,t=i.get(e);if(!u||!t)continue;let a=u[t];if(!a)continue;if(n.fontName.family in a){let e={family:a[n.fontName.family],style:n.fontName.style,postscript:""};try{await (0,l.E)(e),o.l7.ai("first-draft-make-changes-theme-font",()=>{r.fontName=e})}catch(n){let t={...e,style:"Regular"};await (0,l.E)(t),o.l7.ai("first-draft-make-changes-theme-font",()=>{r.fontName=t})}}}"childrenNodes"in r&&a.push(...r.childrenNodes.map(t=>({node:t,updateColors:e.updateColors})))}}function y(e,t){let r={};for(let n=0;n<Math.max(e.length,t.length);n++){if(e.length<n)continue;let i=e[n],a=t[n];t.length<n&&("number"==typeof i&&(a=0),"string"==typeof i&&(a="")),void 0!==a&&void 0!==i&&(r[i]=a)}return r}function b(e,t,r){let a=y(e,t);for(let[e,t]of Object.entries(a)){if(!r||"#ffffff"===t||"#000000"===t){a[e]=t;continue}let o=(0,n.tK)(t),l=(0,n.tK)(e);if(!o||!l)continue;let s=(0,d.ed)(l),c=(0,d.EA)(l,o)?(0,d.M)(s):s,u=(0,i.jA)(o,c);a[e]=u?(0,n.F_)(u):t}return a}function v(e,t,r=!0){return{fontFamilies:{title:y(e.fontFamilies.title,t.fontFamilies.title),body:y(e.fontFamilies.body,t.fontFamilies.body),label:y(e.fontFamilies.label,t.fontFamilies.label)},colors:{text:b(e.colors.text,t.colors.text,r),background:b(e.colors.background,t.colors.background,r),border:b(e.colors.border,t.colors.border,r)},borderRadii:y(e.borderRadii,t.borderRadii),spacing:y(e.spacing,t.spacing)}}var I=(e=>(e.Mobile="mobile",e.Website="website",e))(I||{});function T(e){return e.size&&e.size.x<=768?"mobile":"website"}function S(e,t){var r;let n={};!function e(t,r,n){if(t.name.toLowerCase().includes("button")&&(r=!0),"TEXT"===t.type&&r&&(n[t.fontName.family]||(n[t.fontName.family]=[]),n[t.fontName.family].push(t.fontSize)),("FRAME"===t.type||"INSTANCE"===t.type||"SYMBOL"===t.type)&&"childrenNodes"in t)for(let i of t.childrenNodes)e(i,r,n)}(e,!1,n);let i={},a={},o={},l=[e];for(;l.length>0;){let e=l.pop();if(e&&e.visible){if("TEXT"===e.type){let l;if(null==(r=n[e.fontName.family])?void 0:r.includes(e.fontSize))l=o;else switch(function(e,t){let r=e.fontSize;switch(t){case"website":if(r<15)return s.lu.LABEL;if(r<24)return s.lu.BODY;if(!(r<=28)||"Bold"===e.fontName.style)return s.lu.TITLE;return s.lu.BODY;case"mobile":if(r<15)return s.lu.LABEL;if(r<20)return s.lu.BODY;return s.lu.TITLE;default:return s.lu.BODY}}(e,t)){case s.lu.LABEL:l=o;break;case s.lu.BODY:l=i;break;case s.lu.TITLE:l=a}void 0!==l&&(l[e.fontName.family]||(l[e.fontName.family]=[]),l[e.fontName.family].push(e.guid))}"childrenNodes"in e&&l.push(...e.childrenNodes)}}return{title:w(a),body:w(i),label:w(o)}}function w(e){return Object.entries(e).map(([e,t])=>({family:e,nodeIds:t})).sort((e,t)=>-(0,a._)(e.nodeIds.length,t.nodeIds.length))}},801886:(e,t,r)=>{"use strict";r.d(t,{GS:()=>P,I5:()=>S,Od:()=>H,lu:()=>k,u7:()=>R});var n=r(330654);let i=n.object({type:n.union([n.literal("BOOLEAN"),n.literal("TEXT"),n.literal("VARIANT"),n.literal("INSTANCE_SWAP")]),defaultValue:n.any(),preferredValues:n.array(n.any()).optional(),variantOptions:n.array(n.string()).optional()}),a=n.object({type:n.literal("GROUPED_INSTANCE_SWAP"),defaultValue:n.string(),groupName:n.string()}),o=n.object({type:n.literal("SLOT")}),l=n.object({guidByParentComponentId:n.record(n.string())}),s=l.extend({type:n.literal("IMAGE"),tagsByParentComponentId:n.record(n.object({desc:n.string().optional(),prompt:n.string().optional(),transparent:n.boolean().optional()}))}),c=l.extend({type:n.literal("NESTED_INSTANCE"),componentId:n.string(),tagsByParentComponentId:n.record(n.object({fixedVariantProperties:n.record(n.string(),n.boolean()).optional()}))}),d=n.union([i,c,a,o,s]),u=n.union([n.literal("STRING"),n.literal("BOOLEAN"),n.literal("OBJECT"),n.literal("UNKNOWN")]),p=n.object({key:n.string(),originalKey:n.string().optional(),valueType:u}),m=p.extend({type:n.literal("SIMPLE")}),_=p.extend({type:n.literal("SIMPLE_CHOICE"),validOptions:n.array(n.string())}),h=p.extend({type:n.literal("ARRAY"),nonArrayKey:n.string(),index:n.number()}),g=p.extend({type:n.literal("IMAGE")}),f=p.extend({type:n.literal("GROUPED_INSTANCE_SWAP"),groupName:n.string()}),E=n.union([m,_,h,g,f]),y=n.object({type:n.literal("DERIVED_BOOLEAN"),devFriendlyProp:E,valueType:n.literal("BOOLEAN")}),b=n.union([E,y]),v=n.union([n.object({type:n.literal("IMAGE")}),n.object({type:n.literal("COMPONENT"),componentId:n.string()})]),I=n.object({typeName:n.string(),typeDefBody:n.string().optional(),prefixComments:n.array(n.string()).optional(),referencedTypes:n.array(v).optional()}),T=n.object({def:d,devFriendlyProp:b,componentId:n.string().nullable(),isOptional:n.boolean(),rawProp:n.string(),typeRepr:I});var S=(e=>(e.BUILDING_BLOCK="BUILDING_BLOCK",e.GROUPED_COMPONENT="GROUPED_COMPONENT",e.NONE="NONE",e))(S||{});let w=n.object({type:n.literal("LOCAL"),pageId:n.string()}),A=n.object({type:n.literal("LIBRARY"),key:n.string()}),C=n.union([w,A]);n.object({dsKitKey:n.union([w,A]).optional(),pageChildrenName:n.string().optional(),includeSelection:n.boolean().optional()}).optional();let N=n.object({type:n.string(),props:n.record(n.any())}).extend({children:n.lazy(()=>n.union([n.string().array(),N.array()]))}),O=n.union([n.object({status:n.literal("success"),key:n.string(),version:n.string(),jsxName:n.string()}),n.object({status:n.literal("error")})]),L=n.object({prevNodeId:n.string().nullable(),parentNodeId:n.string().nullable(),insertAtIndex:n.number().optional(),isIncomplete:n.boolean(),loadingComponentType:n.string(),autoFillParent:n.boolean(),insertBehavior:n.enum(["inline","viewport","default","viewport-ease","default-ease"]),frameName:n.string(),sharedPluginData:n.record(n.string()),theme:n.lazy(()=>U),isEval:n.boolean(),shouldGenerateImages:n.boolean(),componentNameToInsertResult:n.record(O),createNewSitesWebpage:n.boolean(),imageArgs:n.object({initialUserPrompt:n.string()}).optional(),shouldAnimateLoading:n.boolean(),doneTextLayerIds:n.set(n.string())}).partial().extend({dsKitKey:C});n.object({jsxStr:n.string(),jsxJSON:n.array(N),prevJsxJSON:n.array(N),options:L});var R=(e=>(e.SPACING="spacing",e.CORNER_RADIUS="cornerRadius",e.FONT="font",e.COLOR="color",e.DARK_MODE="dark",e))(R||{}),P=(e=>(e.DEFAULT="default",e.MODERN="modern",e.FRIENDLY="friendly",e))(P||{}),k=(e=>(e.TITLE="title",e.BODY="body",e.LABEL="label",e))(k||{});let D=n.object({value:n.number(),units:n.enum(["RAW","PIXELS","PERCENT"])}),M=n.object({fontName:n.object({family:n.string(),style:n.string()}),letterSpacing:D.optional()}),x=n.object({r:n.number(),g:n.number(),b:n.number(),a:n.number()}),F=n.object({colorVariableMap:n.record(n.string(),x),numberVariableMap:n.record(n.string(),n.number()),fontVariableMap:n.record(n.string(),M).optional()}),U=n.object({accentColor:x.optional(),darkMode:n.boolean(),variableMaps:F.optional()}),B=n.object({isCopilot:n.boolean().optional(),includeInstanceOverrides:n.boolean().optional(),includeName:n.boolean().optional(),includeComponentDependencies:n.boolean().optional(),skipNodeIds:n.boolean().optional(),skipInstanceComponentProps:n.boolean().optional(),skipClassNames:n.boolean().optional(),includeSelectionMarker:n.boolean().optional(),detachInstances:n.boolean().optional(),selectedNodeId:n.string().optional(),componentUsageOrDefinition:n.union([n.literal("USAGE"),n.literal("DEFINITION")]).optional(),componentDefinitionTypeInfo:n.lazy(()=>G.optional()),classNameOptions:n.union([n.literal("layout-only"),n.literal("position-only"),n.literal("ignore-position")]).nullable().optional()});n.object({nodeIds:n.array(n.string()),options:B}),n.object({options:B});let H=2,V=n.object({children:n.string().optional(),className:n.string().optional()});n.object({componentName:n.string().optional(),overrides:n.record(V)}),n.object({key:n.string(),nodeId:n.string(),version:n.string(),descriptionLegacy:n.string(),componentKeys:n.array(n.string()),componentJSXNames:n.array(n.string())});let G=n.object({componentId:n.string(),defaultNodeId:n.string(),name:n.string(),jsxName:n.string(),typeStr:n.string(),propsTypeRepr:I,defs:n.record(d),parsedDefs:n.array(T),prefixTypes:n.record(n.string()),prefixComments:n.array(n.string()),description:n.string(),componentGroupPath:n.string(),groupName:n.string().optional(),componentType:n.nativeEnum(S),key:n.string(),version:n.string(),typeInfoVersion:n.number()})},25108:(e,t,r)=>{"use strict";r.d(t,{Ml:()=>d,rZ:()=>l});var n=r(852800),i=r(335682),a=r(691205),o=r(640209);function l(e){let t=n.XJn.getLocalDesignSystemKits(),r=[];for(let n of t)r.push({fileKey:e,name:n.name,dsKitKey:{pageId:n.pageId,type:"LOCAL"}});return r}let s=(0,r(479296).n)(async function(){let e=(await o.Gh.getFirstDraftAllKits()).data.meta.kits.map(e=>({name:e.name,dsKitKey:{type:"LIBRARY",key:e.key}}));return e.sort((e,t)=>e.name.localeCompare(t.name)),e}),c=a.M4.Query({fetch:s});function d(){let e=(0,i.tS)(),[t]=(0,a.IT)(c(null)),r=[];if("loaded"===t.status)for(let n of t.data)n.fileKey!==e&&r.push(n);let n=e?l(e):[];return{libraryKitsQueryStatus:t.status,localKits:n,libraryKits:r}}},894443:(e,t,r)=>{"use strict";r.d(t,{Mb:()=>d,Q$:()=>p,SV:()=>l,W9:()=>s,Z$:()=>c,_J:()=>u,iS:()=>m});var n=r(574724),i=r(747202),a=r(640209),o=r(479296);let l="plugin_playground",s="genId";function c(e){let t=e.match(/```jsx([\s\S]*?)(```|$)/);return t?t[1].trim():""}async function d(e){await new Promise(t=>{setTimeout(()=>{t()},e)})}let u=(0,o.n)(async function(e,t,r=()=>!0){let a=(await n.Ay.design.firstDraftGenerateV2Stream(e,(0,i.Lp)())).getReader(),o={};try{for(;;){let e=a.read(),{done:n,value:i}=await e;if(n||(i.theme&&(o.theme=i.theme??{}),i.dsKit&&(o.dsKit=i.dsKit),i.jsx&&(o.jsx+=i.jsx),i.trace&&(o.trace=i.trace),!r()))break;t(o)}}finally{a.releaseLock()}});function p(e){return Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})}let m=(0,o.n)(async function(e){return(await a.Gh.postFirstDraftMatchPresetModes({kit_key:e.kitKey,is_local:e.isLocal,user_prompt:e.userPrompt})).data.meta})},747202:(e,t,r)=>{"use strict";r.d(t,{Au:()=>h,EJ:()=>R,Gy:()=>C,K:()=>y,Kp:()=>w,Lp:()=>N,Ny:()=>E,Ol:()=>D,Sn:()=>A,So:()=>L,Uk:()=>O,_F:()=>P,cl:()=>I,g5:()=>g,j_:()=>v,l8:()=>T,lI:()=>f,n6:()=>S,oJ:()=>function e(t){let r=t.parentNode;return!!r&&("INSTANCE"===r.type||e(r))},uN:()=>k,yu:()=>b});var n=r(38329),i=r(374626),a=r(776621),o=r(825871),l=r(378260),s=r(324433),c=r(106757),d=r(335682),u=r(49116);r(227838),r(15270),r(886571);var p=r(852800),m=r(993789),_=r(341860);function h(e,t,r){if(!e)return[];let n=_.qo.instance,i=n.get(e);if(!i)return[];let a=i.findAllWithCriteriaGUIDs({types:t,...r}),o=[];for(let e of a){let t=n.get(e);t&&o.push(t)}return o}function g(e){let t=m.z.instance.get(e);return t?h(t.guid,["INSTANCE"]):[]}function f(){return _.qo.instance.getCurrentPage()}function E(e){return _.qo.instance.get(e)}function y(e){if(!e)return[];let t=_.qo.instance,r=t.get(e);if(!r)return[];let n=h(r.guid,["COMPONENT","INSTANCE"]),i=new Set,a=[];for(let e of n)if(!i.has(e.guid)){if("SYMBOL"===e.type){a.push(e),i.add(e.guid);continue}if("INSTANCE"===e.type&&!e.isInstanceSublayer&&e.symbolId){let r=t.get(e.symbolId);r&&!i.has(r.guid)&&(a.push(r),i.add(r.guid))}}return a}function b(e){if(!e.symbolId)return null;let t=_.qo.instance.get(e.symbolId);return t?t.isState?t.parentGuid:t.guid:null}function v(e){let t=_.qo.instance.get(e);for(;t&&"SYMBOL"!==t.type;)t=t.parentNode;return(null==t?void 0:t.guid)??null}function I(e){let t=_.qo.instance.get(e);return(null==t?void 0:t.type)==="SYMBOL"||(null==t?void 0:t.isStateGroup)?t:null}function T(e){let t=_.qo.instance,r=p.Egt.getAssetKeyForPublish(e.guid),i=(0,u.m3)(n.D.getState())[r];if(i)for(let r of e.reversedChildrenGuids){let e=t.get(r);if(e&&e.componentKey===i.default_state_key)return e}let a=p.glU.getDefaultStateForLocalStateGroup(e.guid);return a&&void 0!==t.get(a)?t.get(a):null}function S(e,t){return(e=e.replace(/[^0-9a-z]/gi,"").toLowerCase())===(t=t.replace(/[^0-9a-z]/gi,"").toLowerCase())}function w(e,t){return{description:t.name||""}}function A(e,t){return e=(e=e.replace(/[^0-9a-z]/gi,"")).charAt(0).toUpperCase()+e.substr(1),!t||e.startsWith(t)?e:`${t}${e}`}function C(e){let t=new _.qo(e);return p.XJn.getSubscribedVariableCollectionsInScene(t.scene)}function N(){return{orgId:i.zl.get(l._s)||null,teamId:i.zl.get(d.As)||null,fileKey:i.zl.get(d.ze)||null,userId:i.zl.get(c.kS)||null,clientLifecycleId:i.zl.get(s.p)||null,trackingSessionId:(0,o.f)()}}function O(e){return(e.isStateGroup?e.sharedStateGroupVersion:e.sharedSymbolVersion)??""}function L(e,t){let r=E(e);if(!r||r.type!==t)throw Error(`Unexpected node type for id=${e}. Expected ${t} got: ${null==r?void 0:r.type}`);return r}function R(e){let t=_.qo.instance.get(e);return(null==t?void 0:t.overrideKey)||e}function P(e,t,r){let n=[];if(t.includes(e.type)){if(r){if(r.sharedPluginData){let t=e.getSharedPluginDataKeys(r.sharedPluginData.namespace),i=r.sharedPluginData.keys||[];(0===i.length&&t.length>0||t.some(e=>i.includes(e)))&&n.push(e)}}else n.push(e)}return n.push(...h(e.guid,t,r)),n}function k(e,t){let r=_.qo.instance.get(t);return r?r.getSublayerIdForInstanceOfSymbol(e):((0,a.xi)("first-draft","No component sublayer found for",{symbolSublayer:r}),null)}function D(e){if("LOCAL"!==e.dsKitKey.type)return null;let t=p.XJn.getKitKey(e.dsKitKey.pageId);return t?{...e,dsKitKey:{key:t,type:"LIBRARY"}}:null}},516398:(e,t,r)=>{"use strict";r.d(t,{FT:()=>y,Jt:()=>g,LD:()=>C,QP:()=>E,ZY:()=>b,dz:()=>h,fB:()=>T,hx:()=>N,yt:()=>v});var n=r(411855),i=r(188507),a=r(38329),o=r(498750),l=r(563706),s=r(738269),c=r(22774),d=r(529906),u=r(239671),p=r(274071),m=r(611978);let _=["canvas","inline_menu","comment_thread","help_widget","delightful_toolbar","main_toolbar"],h="focus-next-area",g="focus-previous-area",f={canvas:null,inline_menu:null,comment_thread:null,main_toolbar:null,delightful_toolbar:null,help_widget:null};function E(e,t){f[e]=t}function y(){let e=f.canvas;return null==e||e.focus(),e}function b(e){var t;let r=null==(t=f.canvas)?void 0:t.querySelector(`[id^="accessibility-comment-pin-${e}"]`);null==r||r.focus()}function v(){var e;let t=null==(e=f.main_toolbar)?void 0:e.querySelector('[data-tooltip^="set-tool-comments"]');null==t||t.focus()}function I(e){let t,r=function(){for(let e of _)if(function(e){var t;return null!=(t=f[e])&&!!t.contains(document.activeElement)}(e))return e;return"canvas"}();for(;null==t;){let n="forward"===e?function(e){let t=(_.indexOf(e)+1)%_.length;return _[t]}(r):function(e){let t;let r=_.indexOf(e);return t=0===r?_.length-1:(r-1)%_.length,_[t]}(r);if(t=function(e){var t,r;let n=null;switch(e){case"canvas":n=null==(t=f[e])?void 0:t.querySelector('[tabindex]:not([tabindex="-1"])');break;case"comment_thread":return null;default:n=(null==(r=f[e])?void 0:r.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))||null}return n||null}(n)||f[n],r=n,"canvas"===n&&null==t){t=(0,p.lo)();break}}return null==t||t.focus(),t}function T(e){return S(e)||w(e)}function S(e){let t=l.Ay.mac&&(0,o.vN)(e,o.xH.CONTROL|o.xH.META);return"F6"===e.key&&(0,o.vN)(e,o.xH.CONTROL)||l.Ay.mac&&"F6"===e.key&&0===(0,o.sN)(e)||t&&"ArrowRight"===e.key}function w(e){let t=l.Ay.mac&&(0,o.vN)(e,o.xH.CONTROL|o.xH.META);return"F6"===e.key&&(0,o.vN)(e,o.xH.SHIFT|o.xH.CONTROL)||l.Ay.mac&&"F6"===e.key&&(0,o.vN)(e,o.xH.SHIFT)||t&&"ArrowLeft"===e.key}let A=(e,t,r)=>{let n=e=>{var r;e&&(null==(r=a.D)?void 0:r.getState().dropdownShown)&&t(s.oB())};w(e)?(e.preventDefault(),e.stopPropagation(),n(I("backward")),r(d.hu.FOCUS_CYCLE_PREVIOUS_AREA,{key:e.key}),t(c.v6({key:g}))):S(e)&&(e.preventDefault(),e.stopPropagation(),n(I("forward")),r(d.hu.FOCUS_CYCLE_NEXT_AREA,{key:e.key}),t(c.v6({key:h})))};function C(){let e=(0,m._6)(),t=(0,i.wA)(),r=(0,d.s5)();(0,n.useEffect)(()=>{if(!("fullscreen"===e.view&&e.editorType===u.nT.Whiteboard))return;let n=e=>A(e,t,r);return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t,e,r])}function N(e){let{e:t,onClickHandler:r,onEscapeHandler:n}=e;r&&t.keyCode===o.Uz.ENTER&&r(t),n&&t.keyCode===o.Uz.ESCAPE&&n(t)}},875847:(e,t,r)=>{"use strict";r.d(t,{B_:()=>v,CI:()=>w,D:()=>h,Gi:()=>f,N5:()=>O,S:()=>A,SS:()=>P,T9:()=>g,VA:()=>b,ZN:()=>D,c8:()=>U,cU:()=>M,d:()=>y,gj:()=>I,jd:()=>F,n3:()=>S,oq:()=>R,pr:()=>N,qF:()=>E,r$:()=>k,sp:()=>T,wc:()=>L,ye:()=>x});var n=r(966712),i=r(499737),a=r(391388),o=r(99506),l=r(279453),s=r(243987),c=r(428467),d=r(451e3);r(945020);var u=r(173454),p=r(668860),m=r(671653);let _="temp-";function h(e,t){return f(e[t])}function g(e){let t=!!e&&""===e.path;return(0,n.kc)().ps_benchmark?t:t&&!e.teamId}function f(e){let t=!!e&&""===e.path;return(0,n.kc)().ps_benchmark?t:t&&!e.team_id}function E(e){return e.startsWith(_)}function y(){return`${_}${+new Date}`}function b(e){return(0,n.kc)().ps_benchmark?(null==e?void 0:e.path)==="":(null==e?void 0:e.path)===""&&!(null==e?void 0:e.teamId)}function v(e){return(null==e?void 0:e.path)===""&&!!(null==e?void 0:e.teamId)}function I(e,t,r,n){if(!e)return null;if(n)return t[n.drafts_folder_id]||null;for(let n in t){let i=t[n],a=r[n]?r[n][e]:null;if(!i.teamId&&""===i.path&&null==i.orgId&&a&&a.level===p.e6.OWNER)return i}return null}function T(e){return e&&!e.team_id&&""!==e.path&&!!e.org_id}function S(e){return e&&!e.teamId&&""!==e.path&&!!e.orgId}function w(e){return(null==e?void 0:e.path)===""?(0,u.Tb)():null==e?void 0:e.path}function A(e){return void 0===e?null:""===e?(0,u.Tb)():e}function C(e,t,r){let n=r.byFolderId[e.id],i=(n?Object.keys(n).map(e=>n[e]):[]).find(e=>e.level===p.e6.OWNER);return{folderId:e.id,folderName:w(e),teamName:e.teamId&&t[e.teamId]?t[e.teamId].name:"",ownerHandle:i&&!1===i.pending?i.user.handle:""}}function N(e,t,r,n){t=t.filter(t=>t.id!==e.id);let i=C(e,r,n),a=t.map(e=>C(e,r,n)).filter(e=>e.folderName===i.folderName);if(0===a.length)return;let o=a.filter(e=>e.teamName===i.teamName);if(i.teamName&&0===o.length)return i.teamName;let l=o.filter(e=>e.ownerHandle===i.ownerHandle);if(i.ownerHandle&&0===l.length)return i.ownerHandle}function O(e,t){return null!=t&&t in e}function L(e,t){return t.fileKeysByFolderId[e]&&0===t.fileKeysByFolderId[e].length&&t.repoIdsByFolderId[e]&&0===t.repoIdsByFolderId[e].length}function R(e,t){let r=t.folders[e];if(r&&r.org_id)return r.org_id;if(r&&r.team_id){let e=t.teams[r.team_id];if(e&&e.org_id)return e.org_id}}function P(e){return e.length<=0?"Please provide a name":e.length>255?"Sorry, name must be at max 255 characters.":e.match(/[\/\\:?*"|]/)?'The following characters are not allowed:  / : ? * " |':void 0}function k(e,t,r,n,i,a,l,d){let u=t[e]||{id:e},p=n[e]||[],m=l[e]||[],_={};return m.forEach(e=>{_[e]=(i[e]||[]).map(e=>r[e]).filter(Boolean).sort((e,t)=>new Date(t.touched_at).getTime()-new Date(e.touched_at).getTime())}),{...u,files:p.map(e=>r[e]).filter(Boolean).sort((e,t)=>new Date(t.touched_at).getTime()-new Date(e.touched_at).getTime()),repos:m.map(e=>a[e]).filter(Boolean),filesByRepoId:_,canEdit:(0,c.canEditFolder)(u.id,d),canCreateWhiteboardFile:(0,c.canCreateFile)(u.id,d,o._Y.WHITEBOARD),canCreateDesignFile:(0,c.canCreateFile)(u.id,d,o._Y.DESIGN),canView:(0,c.canViewFolder_DEPRECATED)(u.id,d),isEditingLocked:(0,s.ZZ)(u,d),team:u.team_id&&d.teams[u.team_id]||null}}function D(e,t){return{tileSortFilterConfig:t.folders.byId[e]||t.folders.default,sortKeys:[m.C0.NAME,m.C0.CREATED_AT,m.C0.TOUCHED_AT]}}function M(e,t,r,i){var a;if(!(0,n.kc)().ps_benchmark)return(0,d.EE)(e,t);let o=r&&(0,c.canViewTeam)(r,i);return t?`${location.origin}/files/${t}/project/${e}`:o?`${location.origin}/files/team/${r}/project/${e}`:(null==(a=i.user)?void 0:a.personal_drafts_folder_id)===e?`${location.origin}/files/drafts-to-move`:`${location.origin}/files/project/${e}`}function x(e){return!!e&&!!e.team_id&&!e.path}function F(e){return!!e&&!!e.teamId&&!e.path}function U(e,t,r){let n=(0,i.Rs)(l.Hji,{projectId:e});return"loaded"===n.status&&"loaded"!==n.data.project.status?a.Qw.loading():n.transform(e=>{var n;return"loaded"===e.project.status&&!(null==(n=e.project.data)?void 0:n.ownerRole)&&!!t&&(0,c.hasAdminRoleAccessOnTeam)(t,r)})}},21067:(e,t,r)=>{"use strict";let n;r.d(t,{Lj:()=>n,Zb:()=>E,lU:()=>m,xM:()=>p});var i=r(568214),a=r(297666),o=r(939863),l=r(392592),s=r(852800),c=r(279145),d=r(913964),u=r(774191);let p="accessibility-screen-reader-announcement",m="selection";var _=(e=>(e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.RIGHT=4]="RIGHT",e[e.LEFT=8]="LEFT",e[e.UP_RIGHT=5]="UP_RIGHT",e[e.UP_LEFT=9]="UP_LEFT",e[e.DOWN_RIGHT=6]="DOWN_RIGHT",e[e.DOWN_LEFT=10]="DOWN_LEFT",e))(_||{}),h=(e=>(e[e.NONE=0]="NONE",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.BOTH=3]="BOTH",e))(h||{}),g=(e=>(e[e.NONE=0]="NONE",e[e.DECREASED=1]="DECREASED",e[e.INCREASED=2]="INCREASED",e))(g||{});class f{constructor(e){this.store=e,this.debounceNodeResizeUpdate=(0,a.s)(e=>{this.announceDomChange(s.x8F.NODE_RESIZED,e);let t=s.AlE.getActiveDocument();s.yGz.resetStoredSelectedNodeBounds(t)},200),this.debounceNodeMovementUpdate=(0,a.s)(e=>{this.announceDomChange(s.x8F.NODE_MOVED,e);let t=s.AlE.getActiveDocument();s.yGz.resetStoredSelectedNodeBounds(t)},200)}announceDomChange(e,t){let r=this.store.getState();if(!r.screenreader.enabled)return;let n=function(e,t,r){let n=t.targetNodeType?y(t.targetNodeType):"";switch(e){case s.x8F.NODE_CREATED:if(t.targetNodeType===s.Z6A.STAMP&&t.stickableHostType)return(0,o.t)("fullscreen.accessibility.stamp_attached_announcement",{hostType:y(t.stickableHostType)});return(0,o.t)("fullscreen.accessibility.node_created_announcement",{node_type:n});case s.x8F.NODE_DELETED:return t.multiSelection?(0,o.t)("fullscreen.accessibility.multiple_node_deleted_announcement"):(0,o.t)("fullscreen.accessibility.node_deleted_announcement",{node_type:n});case s.x8F.TEXT_SELECTION:return(0,o.t)("fullscreen.accessibility.next_text_node_announcement",{nodeType:n});case s.x8F.TOOL:if(t.targetNodeType===s.Z6A.STAMP)return;return t.targetNodeType!==s.Z6A.NONE?(0,o.t)("fullscreen.accessibility.tool_selected",{nodeType:n,shortcut:(0,c.c1)(r,"toggle-menu")}):(0,o.t)("fullscreen.accessibility.tool_unselected");case s.x8F.TABLE_CELL_TEXT_SELECTION:if(null!=t.tableCellCol&&null!=t.tableCellRow)return(0,o.t)("fullscreen.accessibility.next_table_cell_announcement",{r:t.tableCellRow,c:t.tableCellCol});return(0,o.t)("fullscreen.accessibility.next_text_node_announcement",{nodeType:n});case s.x8F.NODE_RESIZED:let i,a,l;let d=t.nodeSizeDelta;if(!d)return;let u=0,p=0,m=0;switch(0!==d.x&&(u|=1,p=d.x>0?2:1),0!==d.y&&(u|=2,m=d.y>0?2:1),u){case 0:return;case 1:i=(0,o.t)("fullscreen.accessibility.node_resize_horizontal"),a=b(p),l=Math.abs(d.x);break;case 2:i=(0,o.t)("fullscreen.accessibility.node_resize_vertical"),a=b(m),l=Math.abs(d.y);break;default:let _=Math.abs(d.x),h=b(p),g=Math.abs(d.y),f=b(m);return(0,o.t)("fullscreen.accessibility.node_resize_bidirectional",{nodeType:n,resizedComparisonX:h,nodeResizeXDelta:(0,o.t)("fullscreen.accessibility.node_unit",{numUnits:_}),resizedComparisonY:f,nodeResizeYDelta:(0,o.t)("fullscreen.accessibility.node_unit",{numUnits:g})})}return(0,o.t)("fullscreen.accessibility.node_resize_unidirectional",{nodeType:n,nodeSizeDelta:l,resizeComparison:a,nodeDirection:i});case s.x8F.NODE_MOVED:let E,v,I=0,T=t.nodeMovementDelta;if(!T)return;switch(T.x>0?I|=4:T.x<0&&(I|=8),T.y<0?I|=1:T.y>0&&(I|=2),I){case 0:return;case 1:E=(0,o.t)("fullscreen.accessibility.node_movement_up"),v=Math.abs(T.y);break;case 2:E=(0,o.t)("fullscreen.accessibility.node_movement_down"),v=Math.abs(T.y);break;case 4:E=(0,o.t)("fullscreen.accessibility.node_movement_right"),v=Math.abs(T.x);break;case 8:E=(0,o.t)("fullscreen.accessibility.node_movement_left"),v=Math.abs(T.x);break;default:let S=(4&I)==4?(0,o.t)("fullscreen.accessibility.node_movement_right"):(0,o.t)("fullscreen.accessibility.node_movement_left"),w=Math.abs(T.x),A=(1&I)==1?(0,o.t)("fullscreen.accessibility.node_movement_up"):(0,o.t)("fullscreen.accessibility.node_movement_down"),C=Math.abs(T.y);return(0,o.t)("fullscreen.accessibility.node_movement_bidirectional",{nodeType:n,nodePositionXDelta:(0,o.t)("fullscreen.accessibility.node_unit",{numUnits:w}),nodeDirectionX:S,nodePositionYDelta:(0,o.t)("fullscreen.accessibility.node_unit",{numUnits:C}),nodeDirectionY:A})}return(0,o.t)("fullscreen.accessibility.node_movement_unidirectional",{nodeType:n,nodePositionDelta:v,nodeDirection:E});default:return}}(e,t,r.mirror.appModel.keyboardShortcuts),i=function(e){switch(e){case s.x8F.NODE_CREATED:case s.x8F.NODE_DELETED:return"creation-deletion";case s.x8F.NODE_RESIZED:return"resize";case s.x8F.NODE_MOVED:return"movement";case s.x8F.TEXT_SELECTION:case s.x8F.TABLE_CELL_TEXT_SELECTION:return m;case s.x8F.TOOL:return"tool";default:return}}(e);n&&i&&this.store.dispatch(l.F.enqueue({type:`${p}-${i}`,message:n,role:"status",timeoutOverride:500}))}debounceNodeResizeUpdate(e){this.store.getState().screenreader.enabled&&this.debouncedResizeUpdate(e)}debounceNodeMovementUpdate(e){this.store.getState().screenreader.enabled&&this.debouncedMovementUpdate(e)}prefersReducedMotion(){return matchMedia("(prefers-reduced-motion: reduce)").matches}getAPCAContrast(e,t){return(0,i.yi)((0,u.aH)(e),(0,u.aH)(t))}}function E(e){n=new f(e)}function y(e){let t=s.Z6A[e];return(0,d.r)(t)}function b(e){switch(e){case 1:return(0,o.t)("fullscreen.accessibility.node_resize_decrease");case 2:return(0,o.t)("fullscreen.accessibility.node_resize_increase");default:return(0,o.t)("fullscreen.accessibility.node_resize_none")}}},960884:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(694687),i=r(529928);let a=(0,i.bt)(({currentUserOrgId:e,orgById:t})=>(0,n.td)(e,t));(0,i.bt)(({orgUsersByOrgId:e})=>e)},106757:(e,t,r)=>{"use strict";r.d(t,{UQ:()=>s,kS:()=>o,mp:()=>l,p9:()=>a});var n=r(38580),i=r(529928);let a=(0,i.bt)(e=>e.user),o=(0,n.eU)(e=>{var t;return null==(t=e(a))?void 0:t.id}),l=(0,n.eU)(e=>{var t;return null==(t=e(a))?void 0:t.created_at});(0,i.bt)(e=>e.userStateLoaded);let s=(0,i.bt)(e=>e.isStarterUser)},541524:(e,t,r)=>{"use strict";r.d(t,{C4:()=>h,D2:()=>u,Er:()=>d,FJ:()=>l,H3:()=>c,cB:()=>_,cu:()=>p,fG:()=>E,fb:()=>m,gU:()=>s,gk:()=>f,l7:()=>y,yH:()=>g});var n=r(763142),i=r(96328),a=r(539130),o=r(852800);let l="<!--(figma)",s="(/figma)-->",c='<span data-buffer="'+l,d=s+'"></span>',u="<!--(figmeta)",p="(/figmeta)-->",m='<span data-metadata="'+u,_=p+'"></span>';function h(e,t,r){let a='<meta charset="utf-8">'+c+(0,n.lF)(t)+d+(0,i.hX)(r);try{e.setData("text/html",a)}catch(e){console.warn("DataTransfer failed in clipboard event")}}function g(e){let t;try{t=e.getData("text/html")}catch(e){return console.warn("DataTransfer failed in clipboard event"),null}return function(e){let t=e.indexOf(l),r=e.indexOf(s);return t>=0&&r>=0&&t<r?(0,n.D4)(e.slice(t+l.length,r)):null}(t)}function f(e){var t;return!!(null==(t=e.clipboardData)?void 0:t.getData("text/html").includes(l))}function E(e,t){let r=a.w.encodeMessage({type:"STYLE",pasteFileKey:null!=e?e:void 0,sessionID:0,ackID:0,nodeChanges:[{guid:{sessionID:0,localID:0},phase:"CREATED",...t}]});return o.glU.encodeClipboardData(r)}function y(e){return a.w.decodeMessage(o.glU.decodeClipboardData(e))}},774191:(e,t,r)=>{"use strict";function n(e){if(0===e.s)return{r:e.l,g:e.l,b:e.l,a:e.a};let t=e.l<.5?e.l*(1+e.s):e.l+e.s-e.l*e.s,r=2*e.l-t,n=[0,0,0];for(let i=0;i<3;i++){let a=e.h+-(1/3*(i-1));a<0&&a++,a>1&&a--,6*a<1?n[i]=r+(t-r)*6*a:2*a<1?n[i]=t:3*a<2?n[i]=r+(t-r)*(2/3-a)*6:n[i]=r}return{r:n[0],g:n[1],b:n[2],a:e.a}}function i(e){let t=e.r,r=e.g,n=e.b,i=Math.min(Math.min(t,r),n),a=Math.max(Math.max(t,r),n),o=a-i,l=0;a===i?l=0:t===a?l=(r-n)/o:r===a?l=2+(n-t)/o:n===a&&(l=4+(t-r)/o),(l=Math.min(60*l,360))<0&&(l+=360);let s=(i+a)/2;return{h:l/=360,s:a===i?0:s<=.5?o/(a+i):o/(2-a-i),l:s,a:e.a}}function a(e){let t=(e.h-Math.floor(e.h))*6,r=e.v*e.s,n=r*(1-Math.abs(t%2-1)),i=e.s<=0?0:t<1?r:t<2?n:t<3?0:t<4?0:t<5?n:r,a=e.s<=0?0:t<1?n:t<2?r:t<3?r:t<4?n:0,o=e.s<=0?0:t<1?0:t<2?0:t<3?n:t<4?r:t<5?r:n,l=e.v-r;return{r:i+l,g:a+l,b:o+l,a:e.a}}function o(e){let t=Math.max(Math.max(e.r,e.g),e.b),r=t-Math.min(Math.min(e.r,e.g),e.b);return{h:(0===r?0:t===e.r?((e.g-e.b)/r+6)%6:t===e.g?(e.b-e.r)/r+2:(e.r-e.g)/r+4)/6,s:0===t?0:r/t,v:t,a:e.a}}function l(e){return"l"in e?n(e):a(e)}function s(e){return"l"in e?{...e,s:1,l:.5,a:1}:{...e,s:1,v:1,a:1}}function c(e){return 255&(e>0?255*e+.5:0)}function d(e,t,r,n){return c(e)|c(t)<<8|c(r)<<16|c(n)<<24}function u(e,t,r){return c(e)|c(t)<<8|c(r)<<16|-16777216}function p(e){return c(e.red)|c(e.green)<<8|c(e.blue)<<16|c(e.alpha)<<24}function m(e){return{red:(255&e)/255,green:(e>>8&255)/255,blue:(e>>16&255)/255,alpha:(e>>24&255)/255}}function _(e,t){let r=e.alpha,n=t.alpha,i=r*(1-n),a=i+n,o=i/a,l=n/a;return{red:e.red*o+t.red*l,green:e.green*o+t.green*l,blue:e.blue*o+t.blue*l,alpha:a}}function h(e,t){return!!e&&!!t&&d(e.r,e.g,e.b,e.a)===d(t.r,t.g,t.b,t.a)}function g(e){return{red:e.r,green:e.g,blue:e.b,alpha:e.a}}function f(e){return{r:e.red,g:e.green,b:e.blue,a:e.alpha}}function E(e,t){let r=[];for(let n=0;n<3;n++)r.push(e[n][0]*t[0]+e[n][1]*t[1]+e[n][2]*t[2]);return r}function y(e){return b({l:e.l,ax:e.c*Math.cos(360*e.h*Math.PI/180),bx:e.c*Math.sin(360*e.h*Math.PI/180),a:e.a})}function b(e){let t=E([[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]],[e.l,e.ax,e.bx]),r=E([[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],t.map(e=>e**3)),n=E([[12831/3959,-329/214,-1974/3959],[-851781/878810,1648619/878810,36519/878810],[705/12673,-2585/12673,705/667]],r).map(function(e){let t=Math.abs(e);return t>.0031308?(e<0?-1:1)*(1.055*Math.pow(t,1/2.4)-.055):12.92*e});return{r:n[0],g:n[1],b:n[2],a:e.a}}r.d(t,{I0:()=>y,Ih:()=>s,In:()=>n,QR:()=>u,R0:()=>m,Vm:()=>h,aH:()=>f,au:()=>_,bi:()=>p,kE:()=>a,oB:()=>i,oU:()=>g,oq:()=>b,qN:()=>o,w_:()=>l})},601978:(e,t,r)=>{"use strict";r.d(t,{Eh:()=>c,dM:()=>u,dX:()=>p});var n,i=r(966712),a=r(776621),o=r(460187),l=(e=>(e[e.Unknown=0]="Unknown",e[e.No=1]="No",e[e.Yes=2]="Yes",e))(l||{});let s=0;function c(e,t){if("srgb"===t)return e.getContext("2d");{let r=(0,o.p3)();return e.getContext("2d",{colorSpace:r?"srgb":t})}}let d=null==(n=document.createElement("canvas").getContext("2d",{colorSpace:"srgb",willReadFrequently:!0}))?void 0:n.canvas;function u({canvas:e,canvasWidth:t,canvasHeight:r,renderCanvas:n,value:c,colorSpace:u,initializeCanvasColorSpace:p=!1}){if(p&&e.getContext("2d",{colorSpace:u}),((0,i.kc)().ee_color_management_force_canvas||(0,o.p3)())&&1!==s){if(d){d.width=t,d.height=r,n(d,c);let u=d.getContext("2d"),p=e.getContext("2d");if(u&&p)try{!function(e,t){if(e.canvas.width!==t.canvas.width||e.canvas.height!==t.canvas.height)throw Error("source ctx and target ctx dimensions don't match");if("getContextAttributes"in e&&"srgb"!==e.getContextAttributes().colorSpace)throw Error("source ctx is not srgb");if("getContextAttributes"in t&&"display-p3"!==t.getContextAttributes().colorSpace&&!((0,i.kc)().ee_color_management_force_canvas&&"srgb"===t.getContextAttributes().colorSpace))throw Error("target ctx is not display-p3");let[r,n]=[t.canvas.width,t.canvas.height],a=e.getImageData(0,0,r,n),o=new ImageData(a.data,a.width,a.height,{colorSpace:"getContextAttributes"in e?t.getContextAttributes().colorSpace:"srgb"});t.clearRect(0,0,r,n),t.putImageData(o,0,0)}(u,p),0===s&&(s=2)}catch{(0,a.Lo)("color management","polyfill failed",{ee_color_management_force_canvas:(0,i.kc)().ee_color_management_force_canvas,shouldUseCssColorLevel4Polyfill:(0,o.p3)(),is2dCanvasPolyfillSupportedByBrowser:l[s]}),n(e,c),s=1}}}else n(e,c)}function p(e){switch(e){case"fullscreen":case"mobile-viewer":return document.querySelector("#fullscreen-root canvas");case"prototype":return document.querySelector("#viewerContainer canvas");case"mirror":return document.querySelector("#mobileAppView canvas")}}},794950:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});var n=r(776621),i=r(852800),a=r(399512);let o=new class{constructor(){this.onFrameCb=null,this.switchWebglColorSpace=(e,t)=>{let r=e.drawingBufferColorSpace;switch(t){case i.RYP.SRGB:if("srgb"===r)return;e.drawingBufferColorSpace="srgb",a.l.setCanvasColorProfile(i.RYP.SRGB);break;case i.RYP.DISPLAY_P3:if("display-p3"===r)return;e.drawingBufferColorSpace="display-p3",a.l.setCanvasColorProfile(i.RYP.DISPLAY_P3);break;default:(0,n.x1)("color management","unsupported color space",{targetColorSpace:t})}}}onFrame(){this.onFrameCb&&this.onFrameCb(),this.onFrameCb=null}queueSwitchWebglColorSpace(e,t,r){"mirror"===r?this.switchWebglColorSpace(e,t):this.onFrameCb=()=>{this.switchWebglColorSpace(e,t)}}}},285381:(e,t,r)=>{"use strict";r.d(t,{ZH:()=>v,wG:()=>T,ED:()=>A,il:()=>C,Ep:()=>y,R6:()=>b});var n=r(411855),i=r(374626),a=r(15220),o=r(192437),l=r(356390),s=r(852800),c=r(488983),d=r(100197),u=r(601978),p=r(436576),m=r(162620),_=r(794950);let h=(0,r(38580).eU)(!1);function g(e){let[t,r]=(0,i.fp)(h);return n.useEffect(()=>{t&&r(!1)},[t,r]),t?null:n.createElement(n.Fragment,null,e.children)}var f=r(665723);let E=n.createContext({canvasColorProfile:s.RYP.SRGB,documentColorProfile:s.ywP.LEGACY,documentExportColorProfile:s.RYP.SRGB});function y(){return n.useContext(E).canvasColorProfile}function b(){return n.useContext(E).documentColorProfile}let v=E.Consumer;function I(e){let{children:t,colorManagementStateJs:r}=e,i=(0,d.ut)(null==r?void 0:r.documentColorProfile(),s.ywP.LEGACY),a=(0,p.H)(i),{colorProfilePreference:o}=(0,f.jK)(),l=n.useMemo(()=>({documentColorProfile:i,documentExportColorProfile:(0,m.j)(i,o),canvasColorProfile:a}),[o,i,a]);return n.createElement(E.Provider,{value:l},t)}function T(e){return(0,f.jK)(),n.createElement(I,{colorManagementStateJs:s.H4l},e.children)}function S({target:e,viewer:t}){let[r,i]=n.useState(null),o=n.useCallback(()=>{if(r)return!0;let t=(0,u.dX)(e);if(t){let r=null;switch(e){case"fullscreen":case"mobile-viewer":r=(0,a.ap)()?t.getContext("webgl2"):t.getContext("webgl");break;case"prototype":case"mirror":r=(0,a.WQ)()?t.getContext("webgl2"):t.getContext("webgl")}return i(r),!0}return!1},[e,r]);n.useEffect(()=>{if(!o())switch(e){case"fullscreen":case"mobile-viewer":l.Y5.onReady().then(()=>{o()});break;case"prototype":case"mirror":t&&t.on("documentIsLoaded",()=>{o()})}},[o,e,t]);let s=y();return n.useEffect(()=>{r&&_.q.queueSwitchWebglColorSpace(r,s,e)},[s,e,r]),null}function w({viewer:e,target:t}){return n.createElement(o.tH,{boundaryKey:"color-management",fallback:o.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:c.y4},n.createElement(i.An,null,n.createElement(g,null,n.createElement(T,null,n.createElement(S,{target:t,viewer:e})))))}function A(){return n.createElement(w,{target:"fullscreen"})}function C({viewer:e}){return n.createElement(w,{target:"prototype",viewer:e})}},460187:(e,t,r)=>{"use strict";r.d(t,{Av:()=>v,Pv:()=>m,VG:()=>s,p3:()=>h,tK:()=>f});var n=r(411855),i=r(517333),a=r(966712),o=r(852800),l=r(479296);function s(e){switch(e){case o.RYP.SRGB:return"srgb";case o.RYP.DISPLAY_P3:return"display-p3";default:throw Error(`unrecognized color profile: ${e}`)}}let c=e=>{try{if(e===o.RYP.SRGB)return!0;let t=document.createElement("canvas").getContext("webgl");if(!t)throw Error("failed to create webgl canvas context to determine support");if(!("drawingBufferColorSpace"in t))throw Error("webgl context does not contain drawingBufferColorSpace attribute");let r=s(e);if(t.drawingBufferColorSpace=r,t.drawingBufferColorSpace!==r)throw Error(`webgl context does not support color space: ${r}`);return!0}catch(e){return!1}},d=new Map,u=(0,l.n)(e=>{if(d.has(e)&&(0,a.kc)().gsod_fix)return d.get(e);let t=c(e);return d.set(e,t),t}),p=(0,l.n)(e=>{try{if(e===o.RYP.SRGB)return!0;let t=document.createElement("canvas"),r=s(e),n=t.getContext("2d",{colorSpace:r});if(n){if("getContextAttributes"in n){if(n.getContextAttributes().colorSpace!==r)throw Error("2d canvas context does not match the desired color space")}else throw Error("2d canvas context does not support getContextAttributes")}else throw Error("failed to create 2d canvas context to determine support");if(h()){let e=new ImageData(new Uint8ClampedArray([0,0,0,0]),1,1,{colorSpace:r});if(!("colorSpace"in e)||e.colorSpace!==r)throw Error(`image does not support color space: ${r}`)}return!0}catch(e){return!1}}),m=()=>"undefined"!=typeof CSS&&"function"==typeof CSS.supports&&CSS.supports("color","color(display-p3 1 1 1)"),_=()=>window.matchMedia("(color-gamut: p3)").matches,h=()=>!m();async function g(){if(!i.eD)return;let e=await i.eD.getActiveNSScreens();if(e){for(let t of e)if(!t.isCurrentWindow&&t.canRepresentDisplayGamutP3)return t.localizedName}}function f(e){switch(e.status){case"SupportedNatively":case"SupportedWithPolyfill":return!0;case"MonitorNotSupported":case"ClientNotSupported":return!1}}let E=()=>{let[e,t]=n.useState();return n.useEffect(()=>{g().then(t)},[]),e},y=()=>{let[e,t]=n.useState(_());return n.useEffect(()=>{let e=setInterval(()=>{t(_())},5e3);return()=>{clearInterval(e)}},[]),e},b=()=>i.eD&&"unmanaged"===i.eD.getColorSpace();function v(){let e=n.useMemo(()=>u(o.RYP.DISPLAY_P3),[]),t=n.useMemo(()=>p(o.RYP.DISPLAY_P3),[]),r=n.useMemo(()=>m(),[]),a=b(),l=E(),s=y();return e&&t?a?{status:"ClientNotSupported",diagnostics:{client:"desktop-app",shouldRestartDesktopAppInManagedColorSpace:!0}}:s?r?{status:"SupportedNatively",diagnostics:null}:{status:"SupportedWithPolyfill",diagnostics:null}:{status:"MonitorNotSupported",diagnostics:{alternativeMonitorName:l}}:{status:"ClientNotSupported",diagnostics:{client:i.eD?"desktop-app":"browser"}}}},665723:(e,t,r)=>{"use strict";r.d(t,{C$:()=>I,YN:()=>y,eu:()=>g,hP:()=>E,it:()=>v,jK:()=>b});var n=r(411855),i=r(167249),a=r(38329),o=r(38580),l=r(374626),s=r(684107),c=r(309225),d=r(27087),u=r(988022),p=r(99506),m=r(852800),_=r(585575);let h={colorProfilePreference:p.E9.DEFAULT,id:""},g=(0,i.N)("USER_UPDATE_COLOR_PROFILE"),f=(0,o.eU)(e=>{var t,r,n,i,o,l,c,d,u,m,f,E,y;let b=e((0,s.Zx)({})),v=h.colorProfilePreference;"loading"===b.status&&void 0!==a.D&&(null==(n=null==(r=null==(t=a.D)?void 0:t.getState())?void 0:r.user)?void 0:n.color_profile)?v=null==(i=a.D.getState().user)?void 0:i.color_profile:(null==(l=null==(o=b.data)?void 0:o.userColorProfilePreference)?void 0:l.colorProfilePreference)&&(v=null==(d=null==(c=b.data)?void 0:c.userColorProfilePreference)?void 0:d.colorProfilePreference);let I={colorProfilePreference:function(e){switch(e){case p.E9.DEFAULT:return _.M.DEFAULT;case p.E9.SRGB:return _.M.SRGB;case"display-p3":case p.E9.DISPLAY_P3:return _.M.DISPLAY_P3}}(v),id:(null==(m=null==(u=b.data)?void 0:u.userColorProfilePreference)?void 0:m.id)??h.id};return void 0!==a.D&&(null==(y=null==(E=null==(f=a.D)?void 0:f.getState())?void 0:E.user)?void 0:y.color_profile)!==I.colorProfilePreference&&a.D.dispatch(g({color_profile:I.colorProfilePreference})),I});function E(e){switch(e){case _.M.DEFAULT:case _.M.SRGB:return m.RYP.SRGB;case _.M.DISPLAY_P3:return m.RYP.DISPLAY_P3}}function y(){return l.zl.get(f)}function b(){return(0,l.md)(f)}function v({colorProfilePreference:e,id:t,eventName:r="user_manual_change",additionalDataToLog:n}){var i,o,l;if(e===h.colorProfilePreference)return;!function(e){let t=a.D.getState();(0,u.uE)("color_profile_preference",t,{userColorProfile:e.userColorProfilePreference.colorProfilePreference,userColorProfileId:e.userColorProfilePreference.id,eventName:e.eventName,...e.additionalDataToLog??{}})}({userColorProfilePreference:{colorProfilePreference:e,id:t},eventName:r,additionalDataToLog:n});let s=void 0!==t,p=d.Ay.put("/api/user",{color_profile:e});if(s)null==(i=(0,c.WB)())||i.optimisticallyUpdate({UserColorProfilePreference:{[t]:{colorProfilePreference:e}}},p);else{let t=null==(o=a.D.getState().user)?void 0:o.id;if(!t)return;null==(l=(0,c.WB)())||l.optimisticallyCreate({UserColorProfilePreference:{"optimistic-id":{colorProfilePreference:e,userId:t,createdAt:new Date,updatedAt:new Date}}},p)}}function I(){let e=b();return n.useCallback((t,r)=>{e.colorProfilePreference===_.M.DEFAULT&&v({colorProfilePreference:t,id:e.id,eventName:`default_to_${t===_.M.SRGB?"srgb":"p3"}`,additionalDataToLog:{desktopSetting:r.desktopSetting,p3Plugins:r.p3Plugins?Object.values(r.p3Plugins):null,canSeeP3:r.canSeeP3}})},[e.colorProfilePreference,e.id])}},968783:(e,t,r)=>{"use strict";r.d(t,{HR:()=>m,vk:()=>p});var n=r(951158),i=r(980820),a=r(402603),o=r(497306),l=r(341860),s=r(279145),c=r(378762);class d{constructor(){this.indexer={}}next(e){return null==this.indexer[e]?this.indexer[e]=0:this.indexer[e]++,this.indexer[e]}}let u={PNG:".png",JPEG:".jpg",SVG:".svg",PDF:".pdf"};function p(e,t,r,n){let i,a;if("CANVAS"===e)""===(i=r).trim()&&(i="Untitled"),a=i=i.replace(/\//g,"_");else{(i=t).endsWith("/")&&(i=i.substr(0,i.length-1));let e=i.lastIndexOf("/");for(let t of(a=-1!==e?i.substr(e+1,i.length):i,n)){let e=t.substr(0,t.lastIndexOf("/"));e.length>0&&(i=e+"/"+i)}}return{name:i,title:a}}let m=(0,i.nF)(e=>{let t=e.getState(),r=[],i=[],m=t.mirror,_=m.sceneGraph,h=e=>{(null!=e.exportSettings&&e.exportSettings.length>0||(0,l.db)(e))&&r.push(e)};if((0,n.Im)(m.sceneGraphSelection)){let e=_.get((0,s.Nf)(m.appModel));e&&((0,o.hV)(_,e,h),(0,o.hV)(_,e,e=>{let t=e.parentNode;(0,l.db)(e)&&null!=t&&"CANVAS"===t.type&&i.push({nodeID:e.guid,name:e.name})}))}else(0,c.y2)(_,m.sceneGraphSelection,h),(0,c.YI)(_,m.sceneGraphSelection,e=>{(0,l.db)(e)&&i.push({nodeID:e.guid,name:e.name})});let g="Untitled";t.openFile&&(g=t.openFile.name);let f=[],E=new d,y=new d;for(let e of r){let t=(0,o.DS)(m.sceneGraph,e.guid).filter(e=>!e.visible);if(!e.visible||t.length>0)continue;let r=e.exportSettings;if(null!=r)for(let t of r){if(null==t.imageType)continue;let r=(0,o.DS)(m.sceneGraph,e.guid).map(e=>e.name),{name:n,title:i}=p(e.type,e.name,g,r),a=function(e,t,r,n){let i=`${e}-${t}-${r.imageType}-${r.suffix}`;return`${i}-${n.next(i)}`}(e.guid,n,t,y),{filename:l,isDuplicate:s}=function(e,t,r,n){let i;let a=!1;""===e.trim()&&(e="Untitled"),i=`${e}${t}${r}`;let o=n.next(`${i}`);return o>0&&(i=`${e}${t}-${o}${r}`,a=!0),{filename:i,isDuplicate:a}}(n,t.suffix||"",u[t.imageType],E);f.push({itemID:a,nodeID:e.guid,title:i,filename:l,exportSetting:t,warning:s?"Name duplicated":void 0,warningTooltip:s?`Renamed to ${l}`:void 0})}}e.dispatch(a.j({items:f,frames:i}))})},852800:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u,p,m,_,h,g,f,E,y,b,v,I,T,S,w,A,C,N,O,L,R,P,k,D,M,x,F,U,B,H,V,G,W,K,Y,j,z,$,Z,q,J,X,Q,ee,et,er,en,ei,ea,eo,el,es,ec,ed,eu,ep,em,e_,eh,eg,ef,eE,ey,eb,ev,eI,eT,eS,ew,eA,eC,eN,eO,eL,eR,eP,ek,eD,eM,ex,eF,eU,eB,eH,eV,eG,eW,eK,eY,ej,ez,e$,eZ,eq,eJ,eX,eQ,e0,e1,e2,e3,e5,e4,e8,e6,e7,e9,te,tt,tr,tn,ti,ta,to,tl,ts,tc,td,tu,tp,tm,t_,th,tg,tf,tE,ty,tb,tv,tI,tT,tS,tw,tA,tC,tN,tO,tL,tR,tP,tk,tD,tM,tx,tF,tU,tB,tH,tV,tG,tW,tK,tY,tj,tz,t$,tZ,tq,tJ,tX,tQ,t0,t1,t2,t3,t5,t4,t8,t6,t7;r.d(t,{$6Y:()=>o3,$mk:()=>eT,A$i:()=>aD,AWq:()=>U,AiE:()=>eF,AjQ:()=>as,AlE:()=>tt,Ats:()=>le,BFW:()=>oy,BLp:()=>e1,BXd:()=>j,Bko:()=>eY,BtE:()=>av,Bx4:()=>sN,CUU:()=>el,CWU:()=>eE,CeL:()=>k,D1Y:()=>ai,DPQ:()=>lt,DV9:()=>eA,Dje:()=>aE,E63:()=>lE,EMA:()=>at,EPK:()=>aH,EUU:()=>oT,EW4:()=>aa,EYD:()=>a4,Egt:()=>eo,ElO:()=>sr,Ez5:()=>a,F84:()=>a2,FAf:()=>og,Fk7:()=>e9,G6k:()=>lg,GUn:()=>eN,H$z:()=>ap,H4l:()=>eG,HG$:()=>sg,HS4:()=>lh,Hcu:()=>tr,Hdj:()=>lO,Hur:()=>ep,Hyj:()=>eS,HzA:()=>lZ,IPZ:()=>sc,IcQ:()=>o4,Ifi:()=>an,J0O:()=>ot,J5D:()=>lb,JA:()=>aF,JTp:()=>sb,KAf:()=>la,KO7:()=>sR,KWd:()=>ak,KXw:()=>lG,KjJ:()=>lm,KpW:()=>lI,Krs:()=>e_,L5V:()=>lX,LQj:()=>sL,Liw:()=>l4,Lov:()=>ao,MoD:()=>lj,MoP:()=>o1,NFK:()=>ld,NLJ:()=>a8,NUh:()=>lD,NVY:()=>au,NaZ:()=>oj,NfO:()=>J,OR7:()=>si,Oin:()=>oR,Osy:()=>es,P2e:()=>P,PHu:()=>aM,Pdb:()=>eu,Pls:()=>lN,PoC:()=>ss,QCv:()=>l2,QJQ:()=>u,QOV:()=>a1,QOd:()=>lC,Qa7:()=>M,QeU:()=>aq,QjO:()=>o7,RN9:()=>aJ,RY1:()=>a6,RYP:()=>lB,SES:()=>o$,SKs:()=>e$,Sie:()=>l$,SmY:()=>C,SoG:()=>sh,SpR:()=>lJ,Sqb:()=>a9,T4N:()=>ek,Tcr:()=>ov,UNF:()=>ez,Ubo:()=>b,UcW:()=>lo,Une:()=>eB,Uze:()=>s_,V$M:()=>oP,VDs:()=>y,VIy:()=>lT,VQu:()=>on,VtE:()=>oW,Vzr:()=>eh,W2B:()=>lf,W8Y:()=>ox,WXh:()=>om,X3B:()=>ee,XJn:()=>O,XQq:()=>l7,XpJ:()=>aV,XpX:()=>lx,Xts:()=>a_,Xxv:()=>eW,Y8A:()=>eZ,YCs:()=>ew,YCw:()=>aC,YEY:()=>m,YIO:()=>oC,YMM:()=>eJ,YnC:()=>op,YyC:()=>eH,Z6A:()=>li,ZHy:()=>lQ,ZRE:()=>ow,Z_n:()=>sy,Zbk:()=>so,ZiZ:()=>aL,_0v:()=>oq,_YF:()=>oO,_em:()=>lr,_q7:()=>o8,aTl:()=>oA,aTn:()=>oN,b3I:()=>aS,bOM:()=>lp,bQY:()=>ax,baT:()=>l9,biQ:()=>h,bk:()=>ls,bpS:()=>to,bq3:()=>lu,bst:()=>oG,bwI:()=>oa,cNS:()=>oh,cQy:()=>st,ccR:()=>ly,cfv:()=>ad,cgc:()=>D,ckP:()=>A,cxo:()=>lL,d8m:()=>lz,dBj:()=>oB,dNx:()=>ac,dPJ:()=>ln,dTb:()=>o9,dYj:()=>aU,daH:()=>aR,eL2:()=>l3,eVK:()=>oU,ed1:()=>aT,egF:()=>I,eii:()=>sf,f2e:()=>lR,fHP:()=>lc,fOf:()=>l0,fp8:()=>$,fsn:()=>sO,gEE:()=>o0,gSS:()=>o2,glU:()=>x,gw5:()=>ev,h3O:()=>q,hJs:()=>ok,hKj:()=>oL,hMR:()=>eM,i0e:()=>ah,i1K:()=>oZ,i6g:()=>o,iCO:()=>oi,iIc:()=>ll,ibQ:()=>a7,idw:()=>aB,j0r:()=>l8,jWk:()=>te,jXp:()=>lK,jkn:()=>aw,kTx:()=>ec,kul:()=>o_,kz3:()=>ab,lMj:()=>oQ,lyf:()=>a0,m1T:()=>aQ,m7W:()=>aA,mKm:()=>ol,mSn:()=>eq,mgy:()=>i9,miP:()=>lA,miS:()=>o5,mov:()=>eU,mrc:()=>oe,msz:()=>ta,nzw:()=>od,oXo:()=>ed,oeV:()=>lF,ofk:()=>eC,pWM:()=>oV,phr:()=>g,pxg:()=>lY,qmM:()=>K,rCR:()=>lP,rXF:()=>sE,rau:()=>lM,rpt:()=>al,rrT:()=>a5,sFD:()=>lS,sYL:()=>af,t2E:()=>en,t8O:()=>L,tHB:()=>ey,tKW:()=>oz,tbL:()=>sn,tvY:()=>oS,tzO:()=>oE,u4j:()=>tn,uCV:()=>sm,uPi:()=>lU,uXP:()=>ar,uXg:()=>or,v8u:()=>oI,vRS:()=>a3,vXe:()=>eK,vhv:()=>aG,vlL:()=>eI,vwB:()=>lw,w3z:()=>F,wzW:()=>Z,x8F:()=>sa,xLh:()=>ae,xOL:()=>se,xSx:()=>ay,xae:()=>aP,xal:()=>ob,xbm:()=>aN,xc1:()=>l_,y0x:()=>l6,yDE:()=>l,yFm:()=>er,yGz:()=>e2,yTM:()=>oc,yuz:()=>eV,ywP:()=>lH,yxn:()=>os,z7E:()=>lv,zIx:()=>lq,zdR:()=>eb,zkO:()=>lW,zol:()=>aO,zuo:()=>i,zvt:()=>oM});class t9{constructor(e){this.handle=e}get someBool(){return s.__getProperty_someBool(this.handle)}}class re extends t9{constructor(e){super(e),this.handle=e}set someBool(e){s.__setProperty_someBool(this.handle,e)}get someBool(){return super.someBool}}class rt{constructor(e){this.handle=e}get someNumber(){return c.__getProperty_someNumber(this.handle)}get nested(){return c.__getProperty_nested(this.handle)}}class rr extends rt{constructor(e){super(e),this.handle=e}set someNumber(e){c.__setProperty_someNumber(this.handle,e)}get someNumber(){return super.someNumber}}class rn{constructor(e){this.handle=e}}class ri extends rn{constructor(e){super(e),this.handle=e}}class ra{constructor(e){this.handle=e}get showOutlines(){return _.__getProperty_showOutlines(this.handle)}get showOutlineObjectBounds(){return _.__getProperty_showOutlineObjectBounds(this.handle)}get showOutlineHiddenLayers(){return _.__getProperty_showOutlineHiddenLayers(this.handle)}get activeCanvasCurrentZoom(){return _.__getProperty_activeCanvasCurrentZoom(this.handle)}get activeCanvasRetinaMode(){return _.__getProperty_activeCanvasRetinaMode(this.handle)}get showFrameGridsViewOnly(){return _.__getProperty_showFrameGridsViewOnly(this.handle)}get overlayUiRendering(){return _.__getProperty_overlayUiRendering(this.handle)}get lockMouseMoves(){return _.__getProperty_lockMouseMoves(this.handle)}get allowTimeSlicedEditRenderingOptimization(){return _.__getProperty_allowTimeSlicedEditRenderingOptimization(this.handle)}get syncCursorRenderingToSceneGraph(){return _.__getProperty_syncCursorRenderingToSceneGraph(this.handle)}get showTimeSlicingEditRenderingDot(){return _.__getProperty_showTimeSlicingEditRenderingDot(this.handle)}get editFrameExtraSeconds(){return _.__getProperty_editFrameExtraSeconds(this.handle)}get editFrameExtraFramebufferSwitches(){return _.__getProperty_editFrameExtraFramebufferSwitches(this.handle)}get maxEditTimeSeconds(){return _.__getProperty_maxEditTimeSeconds(this.handle)}get selectionBoundingRect(){return _.__getProperty_selectionBoundingRect(this.handle)}get devHandoffEntryPointBoundingRect(){return _.__getProperty_devHandoffEntryPointBoundingRect(this.handle)}get inlineMenuTarget(){return _.__getProperty_inlineMenuTarget(this.handle)}get focusedStackRegion(){return _.__getProperty_focusedStackRegion(this.handle)}get scaleToolLastCanvasAnchorPoint(){return _.__getProperty_scaleToolLastCanvasAnchorPoint(this.handle)}get temporarilyHoveredNodes(){return _.__getProperty_temporarilyHoveredNodes(this.handle)}get thumbnailNodeId(){return _.__getProperty_thumbnailNodeId(this.handle)}}class ro extends ra{constructor(e){super(e),this.handle=e}}class rl{constructor(e){this.handle=e}get requestedPageChange(){return f.__getProperty_requestedPageChange(this.handle)}}class rs extends rl{constructor(e){super(e),this.handle=e}}class rc{constructor(e){this.handle=e}get pageToNumNodesWithStatus(){return E.__getProperty_pageToNumNodesWithStatus(this.handle)}get nodesWithStatusForFile(){return E.__getProperty_nodesWithStatusForFile(this.handle)}}class rd extends rc{constructor(e){super(e),this.handle=e}}class ru{constructor(e){this.handle=e}get focusAnimationIsRunning(){return v.__getProperty_focusAnimationIsRunning(this.handle)}get currentNodeId(){return v.__getProperty_currentNodeId(this.handle)}get nodeIds(){return v.__getProperty_nodeIds(this.handle)}get focusNodeVisuallySortedChildren(){return v.__getProperty_focusNodeVisuallySortedChildren(this.handle)}get readySectionItems(){return v.__getProperty_readySectionItems(this.handle)}get automaticIconDetection(){return v.__getProperty_automaticIconDetection(this.handle)}get focusNodeId(){return v.__getProperty_focusNodeId(this.handle)}get focusMode(){return v.__getProperty_focusMode(this.handle)}get selectedMeasurementId(){return v.__getProperty_selectedMeasurementId(this.handle)}}class rp extends ru{constructor(e){super(e),this.handle=e}}class rm{constructor(e){this.handle=e}get selectionEmpty(){return T.__getProperty_selectionEmpty(this.handle)}get selectionIsHyperlink(){return T.__getProperty_selectionIsHyperlink(this.handle)}get selectionIsMask(){return T.__getProperty_selectionIsMask(this.handle)}get shouldBlockUserEvents(){return T.__getProperty_shouldBlockUserEvents(this.handle)}get figmaScopeHighlightedNode(){return T.__getProperty_figmaScopeHighlightedNode(this.handle)}get keyboardLayoutPreference(){return T.__getProperty_keyboardLayoutPreference(this.handle)}get inPlaygroundMode(){return T.__getProperty_inPlaygroundMode(this.handle)}get shiftStraightLine(){return T.__getProperty_shiftStraightLine(this.handle)}get pencilStraightLine(){return T.__getProperty_pencilStraightLine(this.handle)}get handToolTemporarilyEnabled(){return T.__getProperty_handToolTemporarilyEnabled(this.handle)}get useNumbersForOpacity(){return T.__getProperty_useNumbersForOpacity(this.handle)}get activeCommentAnchorData(){return T.__getProperty_activeCommentAnchorData(this.handle)}}class r_ extends rm{constructor(e){super(e),this.handle=e}}class rh{constructor(e){this.handle=e}get activeEmbedData(){return S.__getProperty_activeEmbedData(this.handle)}}class rg extends rh{constructor(e){super(e),this.handle=e}}class rf{constructor(e){this.handle=e}get activeCanvasPixelPreview(){return w.__getProperty_activeCanvasPixelPreview(this.handle)}get renderRulers(){return w.__getProperty_renderRulers(this.handle)}get stackInsertionDebugMode(){return w.__getProperty_stackInsertionDebugMode(this.handle)}get renderStackShadows(){return w.__getProperty_renderStackShadows(this.handle)}get renderDynamicInsertionPoints(){return w.__getProperty_renderDynamicInsertionPoints(this.handle)}get shouldSetFullWidthChildToFill(){return w.__getProperty_shouldSetFullWidthChildToFill(this.handle)}get renderALUVisualIndicators(){return w.__getProperty_renderALUVisualIndicators(this.handle)}get renderALUHints(){return w.__getProperty_renderALUHints(this.handle)}get renderGrid(){return w.__getProperty_renderGrid(this.handle)}get showDotGrid(){return w.__getProperty_showDotGrid(this.handle)}get showSingleSlideView(){return w.__getProperty_showSingleSlideView(this.handle)}get snapToPixelGrid(){return w.__getProperty_snapToPixelGrid(this.handle)}get snapToDotGrid(){return w.__getProperty_snapToDotGrid(this.handle)}get snapToDotGridStagingReset(){return w.__getProperty_snapToDotGridStagingReset(this.handle)}get showPropertyLabels(){return w.__getProperty_showPropertyLabels(this.handle)}get showFrameGrids(){return w.__getProperty_showFrameGrids(this.handle)}get showMasks(){return w.__getProperty_showMasks(this.handle)}get showArtboardOutlines(){return w.__getProperty_showArtboardOutlines(this.handle)}get showSlices(){return w.__getProperty_showSlices(this.handle)}get hideHelpWidget(){return w.__getProperty_hideHelpWidget(this.handle)}get flipDuringResize(){return w.__getProperty_flipDuringResize(this.handle)}get renderAnnotations(){return w.__getProperty_renderAnnotations(this.handle)}get renderRedlines(){return w.__getProperty_renderRedlines(this.handle)}get layerHover(){return w.__getProperty_layerHover(this.handle)}get showSidebar(){return w.__getProperty_showSidebar(this.handle)}get keyboardZoomToSelection(){return w.__getProperty_keyboardZoomToSelection(this.handle)}get penToolAvoidSingleHandles(){return w.__getProperty_penToolAvoidSingleHandles(this.handle)}get snapToGeometry(){return w.__getProperty_snapToGeometry(this.handle)}get snapToObjects(){return w.__getProperty_snapToObjects(this.handle)}get stickyTools(){return w.__getProperty_stickyTools(this.handle)}get disablePinchZoomFix(){return w.__getProperty_disablePinchZoomFix(this.handle)}get copyRenaming(){return w.__getProperty_copyRenaming(this.handle)}get smartQuotes(){return w.__getProperty_smartQuotes(this.handle)}get temporarilyHideViewportOverlay(){return w.__getProperty_temporarilyHideViewportOverlay(this.handle)}get rightClickPan(){return w.__getProperty_rightClickPan(this.handle)}get scrollWheelZoom(){return w.__getProperty_scrollWheelZoom(this.handle)}get expandedFramePresetType(){return w.__getProperty_expandedFramePresetType(this.handle)}get sidebarSplitPosition(){return w.__getProperty_sidebarSplitPosition(this.handle)}get devHandoffInspectSplitPosition(){return w.__getProperty_devHandoffInspectSplitPosition(this.handle)}get propertiesPanelSplitPosition(){return w.__getProperty_propertiesPanelSplitPosition(this.handle)}get pagesPanelHeight(){return w.__getProperty_pagesPanelHeight(this.handle)}get pagesPanelIsOpen(){return w.__getProperty_pagesPanelIsOpen(this.handle)}get colorFormat(){return w.__getProperty_colorFormat(this.handle)}get invertZoom(){return w.__getProperty_invertZoom(this.handle)}get cursorHighFiveWiggle(){return w.__getProperty_cursorHighFiveWiggle(this.handle)}get lowPower(){return w.__getProperty_lowPower(this.handle)}get showGuids(){return w.__getProperty_showGuids(this.handle)}get showFigmaScope(){return w.__getProperty_showFigmaScope(this.handle)}get canvasSearchDebug(){return w.__getProperty_canvasSearchDebug(this.handle)}get accessibilityDomDebug(){return w.__getProperty_accessibilityDomDebug(this.handle)}get fplDebug(){return w.__getProperty_fplDebug(this.handle)}get showQuickCommandRankDebug(){return w.__getProperty_showQuickCommandRankDebug(this.handle)}get showImmutableFrameSublayers(){return w.__getProperty_showImmutableFrameSublayers(this.handle)}get smallNudgeAmount(){return w.__getProperty_smallNudgeAmount(this.handle)}get bigNudgeAmount(){return w.__getProperty_bigNudgeAmount(this.handle)}get spellCheckPreference(){return w.__getProperty_spellCheckPreference(this.handle)}get enablePrototypingTabMerge(){return w.__getProperty_enablePrototypingTabMerge(this.handle)}get defaultEmojiSkinTone(){return w.__getProperty_defaultEmojiSkinTone(this.handle)}get handoffOutputFormat(){return w.__getProperty_handoffOutputFormat(this.handle)}get handoffPlatformTarget(){return w.__getProperty_handoffPlatformTarget(this.handle)}get ctrlClickContextMenu(){return w.__getProperty_ctrlClickContextMenu(this.handle)}get customCursor(){return w.__getProperty_customCursor(this.handle)}get similarIncludesMatching(){return w.__getProperty_similarIncludesMatching(this.handle)}get toggleSimilarHighlights(){return w.__getProperty_toggleSimilarHighlights(this.handle)}get exportSelectionSettings(){return w.__getProperty_exportSelectionSettings(this.handle)}get toggleNoodlesWithoutDragging(){return w.__getProperty_toggleNoodlesWithoutDragging(this.handle)}get toggleDebugShowMagicLinkClustering(){return w.__getProperty_toggleDebugShowMagicLinkClustering(this.handle)}get useOldOutlineShortcuts(){return w.__getProperty_useOldOutlineShortcuts(this.handle)}get toggleDisplayDirtyRects(){return w.__getProperty_toggleDisplayDirtyRects(this.handle)}get toggleDisplayDirtyTiles(){return w.__getProperty_toggleDisplayDirtyTiles(this.handle)}get toggleDisplayGpuMetrics(){return w.__getProperty_toggleDisplayGpuMetrics(this.handle)}get slidesLayersPanelHeight(){return w.__getProperty_slidesLayersPanelHeight(this.handle)}get slidesLayersPanelExpanded(){return w.__getProperty_slidesLayersPanelExpanded(this.handle)}get speakerNotesHeight(){return w.__getProperty_speakerNotesHeight(this.handle)}get disableWhiteboardPdfImportNodeReplacement(){return w.__getProperty_disableWhiteboardPdfImportNodeReplacement(this.handle)}get toggleMagicLinkUseVision(){return w.__getProperty_toggleMagicLinkUseVision(this.handle)}}class rE extends rf{constructor(e){super(e),this.handle=e}}class ry{constructor(e){this.handle=e}}class rb extends ry{constructor(e){super(e),this.handle=e}}class rv{constructor(e){this.handle=e}}class rI extends rv{constructor(e){super(e),this.handle=e}}class rT{constructor(e){this.handle=e}showBigSectionNamePills(){return H.showBigSectionNamePills(this.handle)}sectionNestedZoomLevel(){return H.sectionNestedZoomLevel(this.handle)}showTidyUpButtonsOnCanvas(){return H.showTidyUpButtonsOnCanvas(this.handle)}}class rS extends rT{constructor(e){super(e),this.handle=e}}class rw{constructor(e){this.handle=e}viewportSpaceSelectionBounds(){return V.viewportSpaceSelectionBounds(this.handle)}currentDragBehaviorIsNullOr(e){return V.currentDragBehaviorIsNullOr(this.handle,e)}currentDragBehaviorIs(e){return V.currentDragBehaviorIs(this.handle,e)}canvasSpaceViewportRect(){return V.canvasSpaceViewportRect(this.handle)}canvasScale(){return V.canvasScale(this.handle)}isMouseOverCanvas(){return V.isMouseOverCanvas(this.handle)}canvasSpaceToViewportSpace(e){return V.canvasSpaceToViewportSpace(this.handle,e)}viewportSpaceToCanvasSpace(e){return V.viewportSpaceToCanvasSpace(this.handle,e)}}class rA extends rw{constructor(e){super(e),this.handle=e}invalidate(){V.invalidate(this.handle)}}class rC{constructor(e){this.handle=e}canvasSpaceMouse(){return G.canvasSpaceMouse(this.handle)}viewportSpaceMouse(){return G.viewportSpaceMouse(this.handle)}invalidateViewport(){G.invalidateViewport(this.handle)}viewport(){return G.viewport(this.handle)}canvasGUID(){return G.canvasGUID(this.handle)}selectionNodeGUIDs(){return G.selectionNodeGUIDs(this.handle)}isMetaPressed(){return G.isMetaPressed(this.handle)}isOverSelection(){return G.isOverSelection(this.handle)}isStandardShortcutKeyPressed(){return G.isStandardShortcutKeyPressed(this.handle)}canvasSpaceMouseThreshold(){return G.canvasSpaceMouseThreshold(this.handle)}canvasSpaceSnappingThreshold(){return G.canvasSpaceSnappingThreshold(this.handle)}isShiftPressed(){return G.isShiftPressed(this.handle)}wasCanceled(){return G.wasCanceled(this.handle)}clickCount(){return G.clickCount(this.handle)}}class rN extends rC{constructor(e){super(e),this.handle=e}accept(){G.accept(this.handle)}findHoveredNodeId(){return G.findHoveredNodeId(this.handle)}canvasScene(){return G.canvasScene(this.handle)}setOwnedBySelection(e){G.setOwnedBySelection(this.handle,e)}}class rO{constructor(e){this.handle=e}}class rL extends rO{constructor(e){super(e),this.handle=e}fillRoundedRect(e,t,r){W.fillRoundedRect(this.handle,e,t,r)}fillRect(e,t){W.fillRect(this.handle,e,t)}fillCircle(e,t,r){W.fillCircle(this.handle,e,t,r)}strokeCircle(e,t,r,n){W.strokeCircle(this.handle,e,t,r,n)}fillAndStrokeCircle(e,t,r,n,i,a){W.fillAndStrokeCircle(this.handle,e,t,r,n,i,a)}fillText(e,t,r,n,i,a){W.fillText(this.handle,e,t,r,n,i,a)}renderFillAndStrokeRoundedRect(e,t,r,n,i,a,o){W.renderFillAndStrokeRoundedRect(this.handle,e,t,r,n,i,a,o)}renderContentFillIcon(e){W.renderContentFillIcon(this.handle,e)}renderDashedLines(e,t,r,n,i){W.renderDashedLines(this.handle,e,t,r,n,i)}}class rR{constructor(e){this.handle=e}}class rP extends rR{constructor(e){super(e),this.handle=e}clearCache(){Y.clearCache(this.handle)}clearSnappingVisualizations(){Y.clearSnappingVisualizations(this.handle)}addPostSnappingVisualizations(){Y.addPostSnappingVisualizations(this.handle)}}class rk{constructor(e){this.handle=e}get publishableSymbols(){return z.__getProperty_publishableSymbols(this.handle)}get subscribedSymbols(){return z.__getProperty_subscribedSymbols(this.handle)}get localSymbolsThatHaveUsages(){return z.__getProperty_localSymbolsThatHaveUsages(this.handle)}get publishableStateGroups(){return z.__getProperty_publishableStateGroups(this.handle)}get subscribedStateGroups(){return z.__getProperty_subscribedStateGroups(this.handle)}get publishableStyles(){return z.__getProperty_publishableStyles(this.handle)}get directlySubscribedStyles(){return z.__getProperty_directlySubscribedStyles(this.handle)}get indirectlySubscribedStyles(){return z.__getProperty_indirectlySubscribedStyles(this.handle)}get localStylesThatHaveUsages(){return z.__getProperty_localStylesThatHaveUsages(this.handle)}get publishableModules(){return z.__getProperty_publishableModules(this.handle)}get subscribedSymbolsOnCurrentPage(){return z.__getProperty_subscribedSymbolsOnCurrentPage(this.handle)}get subscribedStateGroupsOnCurrentPage(){return z.__getProperty_subscribedStateGroupsOnCurrentPage(this.handle)}get directlySubscribedStylesOnCurrentPage(){return z.__getProperty_directlySubscribedStylesOnCurrentPage(this.handle)}get localSymbolsThatHaveUsagesOnCurrentPage(){return z.__getProperty_localSymbolsThatHaveUsagesOnCurrentPage(this.handle)}get localStylesThatHaveUsagesOnCurrentPage(){return z.__getProperty_localStylesThatHaveUsagesOnCurrentPage(this.handle)}get fileLevelVariableSetsSubscribed(){return z.__getProperty_fileLevelVariableSetsSubscribed(this.handle)}get fileLevelVariablesSubscribed(){return z.__getProperty_fileLevelVariablesSubscribed(this.handle)}get fileLevelVariableSetsLocal(){return z.__getProperty_fileLevelVariableSetsLocal(this.handle)}get fileLevelVariablesLocal(){return z.__getProperty_fileLevelVariablesLocal(this.handle)}}class rD extends rk{constructor(e){super(e),this.handle=e}}class rM{constructor(e){this.handle=e}get propertiesPanelTab(){return X.__getProperty_propertiesPanelTab(this.handle)}get typeDetailsPanelOpen(){return X.__getProperty_typeDetailsPanelOpen(this.handle)}get shownPropertiesPanels(){return X.__getProperty_shownPropertiesPanels(this.handle)}get isVertexSelectionAndHasEndpoints(){return X.__getProperty_isVertexSelectionAndHasEndpoints(this.handle)}get shownTransformControls(){return X.__getProperty_shownTransformControls(this.handle)}get enabledTransformControls(){return X.__getProperty_enabledTransformControls(this.handle)}get enabledTypePanelControls(){return X.__getProperty_enabledTypePanelControls(this.handle)}get strokePanelMode(){return X.__getProperty_strokePanelMode(this.handle)}get strokePanelTerminalPointCount(){return X.__getProperty_strokePanelTerminalPointCount(this.handle)}}class rx extends rM{constructor(e){super(e),this.handle=e}}class rF{constructor(e){this.handle=e}get activePrototypeDevice(){return Q.__getProperty_activePrototypeDevice(this.handle)}get prototypeViewMode(){return Q.__getProperty_prototypeViewMode(this.handle)}get nodeWithPlusBubble(){return Q.__getProperty_nodeWithPlusBubble(this.handle)}get colorPickerEyedropperVarData(){return Q.__getProperty_colorPickerEyedropperVarData(this.handle)}}class rU extends rF{constructor(e){super(e),this.handle=e}}class rB{constructor(e){this.handle=e}get scale(){return et.__getProperty_scale(this.handle)}get width(){return et.__getProperty_width(this.handle)}get height(){return et.__getProperty_height(this.handle)}get anchorPoint(){return et.__getProperty_anchorPoint(this.handle)}}class rH extends rB{constructor(e){super(e),this.handle=e}}class rV{constructor(e){this.handle=e}}class rG extends rV{constructor(e){super(e),this.handle=e}invalidateConnectorForReparenting(e){ei.invalidateConnectorForReparenting(this.handle,e)}updateImmutableFrameInternal(){ei.updateImmutableFrameInternal(this.handle)}}class rW{constructor(e){this.handle=e}immutableFrameObserverReference(){return ea.immutableFrameObserverReference(this.handle)}getIncidentConnectorIDsArray(e){return ea.getIncidentConnectorIDsArray(this.handle,e)}sitesPreviewObserverReference(){return ea.sitesPreviewObserverReference(this.handle)}}class rK extends rW{constructor(e){super(e),this.handle=e}}class rY{constructor(e){this.handle=e}get showMissingFontsButton(){return eg.__getProperty_showMissingFontsButton(this.handle)}get showMemoryUsage(){return eg.__getProperty_showMemoryUsage(this.handle)}get showPropertiesPanel(){return eg.__getProperty_showPropertiesPanel(this.handle)}get leftPanelCollapsedUI3(){return eg.__getProperty_leftPanelCollapsedUI3(this.handle)}get renderResourceUse(){return eg.__getProperty_renderResourceUse(this.handle)}get showCanvasXYAxis(){return eg.__getProperty_showCanvasXYAxis(this.handle)}get showMousePosition(){return eg.__getProperty_showMousePosition(this.handle)}get showInFileMemoryPercentage(){return eg.__getProperty_showInFileMemoryPercentage(this.handle)}get showCanvasSearch(){return eg.__getProperty_showCanvasSearch(this.handle)}get showOutOfDateWall(){return eg.__getProperty_showOutOfDateWall(this.handle)}get backgroundPickerOpen(){return eg.__getProperty_backgroundPickerOpen(this.handle)}get gradientPaintPickerOpen(){return eg.__getProperty_gradientPaintPickerOpen(this.handle)}get minMaxModalShown(){return eg.__getProperty_minMaxModalShown(this.handle)}get isRecovery(){return eg.__getProperty_isRecovery(this.handle)}get hoveredComponentPropDef(){return eg.__getProperty_hoveredComponentPropDef(this.handle)}get isOffline(){return eg.__getProperty_isOffline(this.handle)}get isUI3(){return eg.__getProperty_isUI3(this.handle)}get showUI3Colors(){return eg.__getProperty_showUI3Colors(this.handle)}get showAnnotations(){return eg.__getProperty_showAnnotations(this.handle)}get focusModeState(){return eg.__getProperty_focusModeState(this.handle)}get shouldShowAutoLayoutHintsIfExist(){return eg.__getProperty_shouldShowAutoLayoutHintsIfExist(this.handle)}get autoLayoutShortcutHints(){return eg.__getProperty_autoLayoutShortcutHints(this.handle)}get reparentIntoStackInfo(){return eg.__getProperty_reparentIntoStackInfo(this.handle)}}class rj extends rY{constructor(e){super(e),this.handle=e}}class rz{constructor(e){this.handle=e}get nodeIds(){return eO.__getProperty_nodeIds(this.handle)}get nodeThumbnailEditCount(){return eO.__getProperty_nodeThumbnailEditCount(this.handle)}}class r$ extends rz{constructor(e){super(e),this.handle=e}}class rZ{constructor(e){this.handle=e}get isInSingleSlideView(){return eL.__getProperty_isInSingleSlideView(this.handle)}get focusedSlideId(){return eL.__getProperty_focusedSlideId(this.handle)}get isCarouselFocused(){return eL.__getProperty_isCarouselFocused(this.handle)}get dragHandleInHeightViewport(){return eL.__getProperty_dragHandleInHeightViewport(this.handle)}isSingleSlideViewEnabled(){return eL.isSingleSlideViewEnabled(this.handle)}isSingleSlideViewFocused(){return eL.isSingleSlideViewFocused(this.handle)}defaultPaddingInViewport(){return eL.defaultPaddingInViewport(this.handle)}bottomToolbeltHeightInViewport(){return eL.bottomToolbeltHeightInViewport(this.handle)}singleSlideThumbnailHeight(){return eL.singleSlideThumbnailHeight(this.handle)}singleSlideThumbnailWidth(){return eL.singleSlideThumbnailWidth(this.handle)}singleSlideThumbnailNumberWidth(){return eL.singleSlideThumbnailNumberWidth(this.handle)}singleSlideThumbnailNumberMargin(){return eL.singleSlideThumbnailNumberMargin(this.handle)}singleSlideThumbnailPadding(){return eL.singleSlideThumbnailPadding(this.handle)}initialSpeakerNotesHeightInViewport(){return eL.initialSpeakerNotesHeightInViewport(this.handle)}}class rq extends rZ{constructor(e){super(e),this.handle=e}focusSlideInSingleSlideView(e,t){eL.focusSlideInSingleSlideView(this.handle,e,t)}exitSingleSlideView(){eL.exitSingleSlideView(this.handle)}recenterSlide(){eL.recenterSlide(this.handle)}isSlideCurrentlyCentered(){return eL.isSlideCurrentlyCentered(this.handle)}animateToSlide(e,t,r){eL.animateToSlide(this.handle,e,t,r)}animateToGrid(e){eL.animateToGrid(this.handle,e)}}class rJ{constructor(e){this.handle=e}}class rX extends rJ{constructor(e){super(e),this.handle=e}generateTextPreview(e,t,r,n,i){return eP.generateTextPreview(this.handle,e,t,r,n,i)}}class rQ{constructor(e){this.handle=e}}class r0 extends rQ{constructor(e){super(e),this.handle=e}}class r1{constructor(e){this.handle=e}getOrCreateJsCopy(){return e$.getOrCreateJsCopy(this.handle)}getOrCreateSkewCopy(){return e$.getOrCreateSkewCopy(this.handle)}}class r2 extends r1{constructor(e){super(e),this.handle=e}}class r3{constructor(e){this.handle=e}getOrCreateSkewCopy(){return eJ.getOrCreateSkewCopy(this.handle)}getOrCreateJsCopy(){return eJ.getOrCreateJsCopy(this.handle)}}class r5 extends r3{constructor(e){super(e),this.handle=e}}class r4{constructor(e){this.handle=e}getOrCreateSkewCopy(){return eX.getOrCreateSkewCopy(this.handle)}}class r8 extends r4{constructor(e){super(e),this.handle=e}}class r6{constructor(e){this.handle=e}bounds(){return eQ.bounds(this.handle)}getHash(){return eQ.getHash(this.handle)}isRect(){return eQ.isRect(this.handle)}loopBlinnCompile(){return eQ.loopBlinnCompile(this.handle)}}class r7 extends r6{constructor(e){super(e),this.handle=e}}class r9{constructor(e){this.handle=e}getOrCreateSkewCopy(){return e1.getOrCreateSkewCopy(this.handle)}getOrCreateJsCopy(){return e1.getOrCreateJsCopy(this.handle)}}class ne extends r9{constructor(e){super(e),this.handle=e}}class nt{constructor(e){this.handle=e}}class nr extends nt{constructor(e){super(e),this.handle=e}}class nn{constructor(e){this.handle=e}get slideGrid(){return e5.__getProperty_slideGrid(this.handle)}get isDraggingSlides(){return e5.__getProperty_isDraggingSlides(this.handle)}slideWidth(){return e5.slideWidth(this.handle)}slideHeight(){return e5.slideHeight(this.handle)}gridRowSpacing(){return e5.gridRowSpacing(this.handle)}gridSlideSpacing(){return e5.gridSlideSpacing(this.handle)}gridPadding(){return e5.gridPadding(this.handle)}gridWidth(){return e5.gridWidth(this.handle)}gridHeight(){return e5.gridHeight(this.handle)}maxColsPerRow(){return e5.maxColsPerRow(this.handle)}getLastSlideCoord(){return e5.getLastSlideCoord(this.handle)}slidesWrappedInModule__TEST_ONLY__(){return e5.slidesWrappedInModule__TEST_ONLY__(this.handle)}}class ni extends nn{constructor(e){super(e),this.handle=e}coordForSlide(e){return e5.coordForSlide(this.handle,e)}gridGUID(){return e5.gridGUID(this.handle)}setAreSlidesManuallyIndented(e){e5.setAreSlidesManuallyIndented(this.handle,e)}getClosestGridCoord(e,t){return e5.getClosestGridCoord(this.handle,e,t)}duplicateAsBlankSlide(e,t,r,n){return e5.duplicateAsBlankSlide(this.handle,e,t,r,n)}addBlankSlideAtCoord(e,t,r){return e5.addBlankSlideAtCoord(this.handle,e,t,r)}insertSlideAtCoord(e,t,r,n){e5.insertSlideAtCoord(this.handle,e,t,r,n)}moveRow(e,t){e5.moveRow(this.handle,e,t)}moveSlidesToCoord(e,t){e5.moveSlidesToCoord(this.handle,e,t)}selectRow(e){e5.selectRow(this.handle,e)}addOrRemoveRowFromSelection(e){e5.addOrRemoveRowFromSelection(this.handle,e)}setGridOrder(e){e5.setGridOrder(this.handle,e)}rectForCoord(e,t){return e5.rectForCoord(this.handle,e,t)}rowBoundsInCanvas(e,t){return e5.rowBoundsInCanvas(this.handle,e,t)}createRow(e){return e5.createRow(this.handle,e)}setSlidesWrappedInModule__TEST_ONLY__(e){e5.setSlidesWrappedInModule__TEST_ONLY__(this.handle,e)}}class na{constructor(e){this.handle=e}getThemeName(e){return e4.getThemeName(this.handle,e)}getBlackColorVariableId(e){return e4.getBlackColorVariableId(this.handle,e)}getWhiteColorVariableId(e){return e4.getWhiteColorVariableId(this.handle,e)}doesAssetBelongToTheme(e){return e4.doesAssetBelongToTheme(this.handle,e)}}class no extends na{constructor(e){super(e),this.handle=e}addTextStyleToLocalTheme(e,t){e4.addTextStyleToLocalTheme(this.handle,e,t)}setThemeColorVariableFromSubscribedVariableColorValue(e,t,r){return e4.setThemeColorVariableFromSubscribedVariableColorValue(this.handle,e,t,r)}setActiveTheme(e){e4.setActiveTheme(this.handle,e)}insertDefaultLocalTheme(e){e4.insertDefaultLocalTheme(this.handle,e)}upsertLocalThemeFromModule(e){return e4.upsertLocalThemeFromModule(this.handle,e)}remapSlideToLocalTheme(e){return e4.remapSlideToLocalTheme(this.handle,e)}swapSelectedSlidesToNewTheme(e,t){e4.swapSelectedSlidesToNewTheme(this.handle,e,t)}detachThemesForTemplatePublish(e){e4.detachThemesForTemplatePublish(this.handle,e)}setDocumentTemplateLibraryKey(e){e4.setDocumentTemplateLibraryKey(this.handle,e)}doesSlideDeckHaveMultipleThemes(){return e4.doesSlideDeckHaveMultipleThemes(this.handle)}}class nl{constructor(e){this.handle=e}getSlideTransition(e){return e8.getSlideTransition(this.handle,e)}}class ns extends nl{constructor(e){super(e),this.handle=e}setSlideTransition(e,t){e8.setSlideTransition(this.handle,e,t)}setSlideTransitionForAll(e){e8.setSlideTransitionForAll(this.handle,e)}}class nc{constructor(e){this.handle=e}}class nd extends nc{constructor(e){super(e),this.handle=e}setPreviewedNodeID(e){e6.setPreviewedNodeID(this.handle,e)}}class nu{constructor(e){this.handle=e}get annotationInfoByTlf(){return e7.__getProperty_annotationInfoByTlf(this.handle)}}class np extends nu{constructor(e){super(e),this.handle=e}}class nm{constructor(e){this.handle=e}}class n_ extends nm{constructor(e){super(e),this.handle=e}getCopy(){return tl.getCopy(this.handle)}subscribeFromJs(e){return tl.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tl.unsubscribeFromJs(this.handle,e)}}class nh{constructor(e){this.handle=e}}class ng extends nh{constructor(e){super(e),this.handle=e}getCopy(){return ts.getCopy(this.handle)}set(e){ts.set(this.handle,e)}subscribeFromJs(e){return ts.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ts.unsubscribeFromJs(this.handle,e)}}class nf{constructor(e){this.handle=e}}class nE extends nf{constructor(e){super(e),this.handle=e}getCopy(){return tc.getCopy(this.handle)}subscribeFromJs(e){return tc.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tc.unsubscribeFromJs(this.handle,e)}}class ny{constructor(e){this.handle=e}}class nb extends ny{constructor(e){super(e),this.handle=e}getCopy(){return td.getCopy(this.handle)}subscribeFromJs(e){return td.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){td.unsubscribeFromJs(this.handle,e)}}class nv{constructor(e){this.handle=e}}class nI extends nv{constructor(e){super(e),this.handle=e}getCopy(){return tu.getCopy(this.handle)}subscribeFromJs(e){return tu.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tu.unsubscribeFromJs(this.handle,e)}}class nT{constructor(e){this.handle=e}}class nS extends nT{constructor(e){super(e),this.handle=e}getCopy(){return tp.getCopy(this.handle)}subscribeFromJs(e){return tp.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tp.unsubscribeFromJs(this.handle,e)}}class nw{constructor(e){this.handle=e}}class nA extends nw{constructor(e){super(e),this.handle=e}getCopy(){return tm.getCopy(this.handle)}subscribeFromJs(e){return tm.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tm.unsubscribeFromJs(this.handle,e)}}class nC{constructor(e){this.handle=e}}class nN extends nC{constructor(e){super(e),this.handle=e}getCopy(){return t_.getCopy(this.handle)}set(e){t_.set(this.handle,e)}subscribeFromJs(e){return t_.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t_.unsubscribeFromJs(this.handle,e)}}class nO{constructor(e){this.handle=e}}class nL extends nO{constructor(e){super(e),this.handle=e}getCopy(){return th.getCopy(this.handle)}set(e){th.set(this.handle,e)}subscribeFromJs(e){return th.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){th.unsubscribeFromJs(this.handle,e)}}class nR{constructor(e){this.handle=e}}class nP extends nR{constructor(e){super(e),this.handle=e}getCopy(){return tg.getCopy(this.handle)}set(e){tg.set(this.handle,e)}subscribeFromJs(e){return tg.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tg.unsubscribeFromJs(this.handle,e)}}class nk{constructor(e){this.handle=e}}class nD extends nk{constructor(e){super(e),this.handle=e}getCopy(){return tf.getCopy(this.handle)}subscribeFromJs(e){return tf.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tf.unsubscribeFromJs(this.handle,e)}}class nM{constructor(e){this.handle=e}}class nx extends nM{constructor(e){super(e),this.handle=e}getCopy(){return tE.getCopy(this.handle)}set(e){tE.set(this.handle,e)}subscribeFromJs(e){return tE.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tE.unsubscribeFromJs(this.handle,e)}}class nF{constructor(e){this.handle=e}}class nU extends nF{constructor(e){super(e),this.handle=e}getCopy(){return ty.getCopy(this.handle)}subscribeFromJs(e){return ty.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ty.unsubscribeFromJs(this.handle,e)}}class nB{constructor(e){this.handle=e}}class nH extends nB{constructor(e){super(e),this.handle=e}getCopy(){return tb.getCopy(this.handle)}set(e){tb.set(this.handle,e)}subscribeFromJs(e){return tb.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tb.unsubscribeFromJs(this.handle,e)}}class nV{constructor(e){this.handle=e}}class nG extends nV{constructor(e){super(e),this.handle=e}getCopy(){return tv.getCopy(this.handle)}set(e){tv.set(this.handle,e)}subscribeFromJs(e){return tv.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tv.unsubscribeFromJs(this.handle,e)}}class nW{constructor(e){this.handle=e}}class nK extends nW{constructor(e){super(e),this.handle=e}getCopy(){return tI.getCopy(this.handle)}set(e){tI.set(this.handle,e)}subscribeFromJs(e){return tI.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tI.unsubscribeFromJs(this.handle,e)}}class nY{constructor(e){this.handle=e}}class nj extends nY{constructor(e){super(e),this.handle=e}getCopy(){return tT.getCopy(this.handle)}subscribeFromJs(e){return tT.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tT.unsubscribeFromJs(this.handle,e)}}class nz{constructor(e){this.handle=e}}class n$ extends nz{constructor(e){super(e),this.handle=e}getCopy(){return tS.getCopy(this.handle)}subscribeFromJs(e){return tS.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tS.unsubscribeFromJs(this.handle,e)}}class nZ{constructor(e){this.handle=e}}class nq extends nZ{constructor(e){super(e),this.handle=e}getCopy(){return tw.getCopy(this.handle)}subscribeFromJs(e){return tw.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tw.unsubscribeFromJs(this.handle,e)}}class nJ{constructor(e){this.handle=e}}class nX extends nJ{constructor(e){super(e),this.handle=e}getCopy(){return tA.getCopy(this.handle)}subscribeFromJs(e){return tA.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tA.unsubscribeFromJs(this.handle,e)}}class nQ{constructor(e){this.handle=e}}class n0 extends nQ{constructor(e){super(e),this.handle=e}getCopy(){return tC.getCopy(this.handle)}subscribeFromJs(e){return tC.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tC.unsubscribeFromJs(this.handle,e)}}class n1{constructor(e){this.handle=e}}class n2 extends n1{constructor(e){super(e),this.handle=e}getCopy(){return tN.getCopy(this.handle)}subscribeFromJs(e){return tN.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tN.unsubscribeFromJs(this.handle,e)}}class n3{constructor(e){this.handle=e}}class n5 extends n3{constructor(e){super(e),this.handle=e}getCopy(){return tO.getCopy(this.handle)}set(e){tO.set(this.handle,e)}subscribeFromJs(e){return tO.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tO.unsubscribeFromJs(this.handle,e)}}class n4{constructor(e){this.handle=e}}class n8 extends n4{constructor(e){super(e),this.handle=e}getCopy(){return tL.getCopy(this.handle)}set(e){tL.set(this.handle,e)}subscribeFromJs(e){return tL.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tL.unsubscribeFromJs(this.handle,e)}}class n6{constructor(e){this.handle=e}}class n7 extends n6{constructor(e){super(e),this.handle=e}getCopy(){return tR.getCopy(this.handle)}subscribeFromJs(e){return tR.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tR.unsubscribeFromJs(this.handle,e)}}class n9{constructor(e){this.handle=e}}class ie extends n9{constructor(e){super(e),this.handle=e}getCopy(){return tP.getCopy(this.handle)}set(e){tP.set(this.handle,e)}subscribeFromJs(e){return tP.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tP.unsubscribeFromJs(this.handle,e)}}class it{constructor(e){this.handle=e}}class ir extends it{constructor(e){super(e),this.handle=e}getCopy(){return tk.getCopy(this.handle)}set(e){tk.set(this.handle,e)}subscribeFromJs(e){return tk.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tk.unsubscribeFromJs(this.handle,e)}}class ii{constructor(e){this.handle=e}}class ia extends ii{constructor(e){super(e),this.handle=e}getCopy(){return tD.getCopy(this.handle)}set(e){tD.set(this.handle,e)}subscribeFromJs(e){return tD.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tD.unsubscribeFromJs(this.handle,e)}}class io{constructor(e){this.handle=e}}class il extends io{constructor(e){super(e),this.handle=e}getCopy(){return tM.getCopy(this.handle)}set(e){tM.set(this.handle,e)}subscribeFromJs(e){return tM.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tM.unsubscribeFromJs(this.handle,e)}}class is{constructor(e){this.handle=e}}class ic extends is{constructor(e){super(e),this.handle=e}getCopy(){return tx.getCopy(this.handle)}set(e){tx.set(this.handle,e)}subscribeFromJs(e){return tx.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tx.unsubscribeFromJs(this.handle,e)}}class id{constructor(e){this.handle=e}}class iu extends id{constructor(e){super(e),this.handle=e}getCopy(){return tF.getCopy(this.handle)}set(e){tF.set(this.handle,e)}subscribeFromJs(e){return tF.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tF.unsubscribeFromJs(this.handle,e)}}class ip{constructor(e){this.handle=e}}class im extends ip{constructor(e){super(e),this.handle=e}getCopy(){return tU.getCopy(this.handle)}set(e){tU.set(this.handle,e)}subscribeFromJs(e){return tU.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tU.unsubscribeFromJs(this.handle,e)}}class i_{constructor(e){this.handle=e}}class ih extends i_{constructor(e){super(e),this.handle=e}getCopy(){return tB.getCopy(this.handle)}subscribeFromJs(e){return tB.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tB.unsubscribeFromJs(this.handle,e)}}class ig{constructor(e){this.handle=e}}class iE extends ig{constructor(e){super(e),this.handle=e}getCopy(){return tH.getCopy(this.handle)}subscribeFromJs(e){return tH.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tH.unsubscribeFromJs(this.handle,e)}}class iy{constructor(e){this.handle=e}}class ib extends iy{constructor(e){super(e),this.handle=e}getCopy(){return tV.getCopy(this.handle)}subscribeFromJs(e){return tV.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tV.unsubscribeFromJs(this.handle,e)}}class iv{constructor(e){this.handle=e}}class iI extends iv{constructor(e){super(e),this.handle=e}getCopy(){return tG.getCopy(this.handle)}subscribeFromJs(e){return tG.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tG.unsubscribeFromJs(this.handle,e)}}class iT{constructor(e){this.handle=e}}class iS extends iT{constructor(e){super(e),this.handle=e}getCopy(){return tW.getCopy(this.handle)}subscribeFromJs(e){return tW.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tW.unsubscribeFromJs(this.handle,e)}}class iw{constructor(e){this.handle=e}}class iA extends iw{constructor(e){super(e),this.handle=e}getCopy(){return tK.getCopy(this.handle)}subscribeFromJs(e){return tK.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tK.unsubscribeFromJs(this.handle,e)}}class iC{constructor(e){this.handle=e}}class iN extends iC{constructor(e){super(e),this.handle=e}getCopy(){return tY.getCopy(this.handle)}subscribeFromJs(e){return tY.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tY.unsubscribeFromJs(this.handle,e)}}class iO{constructor(e){this.handle=e}}class iL extends iO{constructor(e){super(e),this.handle=e}getCopy(){return tj.getCopy(this.handle)}subscribeFromJs(e){return tj.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tj.unsubscribeFromJs(this.handle,e)}}class iR{constructor(e){this.handle=e}}class iP extends iR{constructor(e){super(e),this.handle=e}getCopy(){return tz.getCopy(this.handle)}subscribeFromJs(e){return tz.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tz.unsubscribeFromJs(this.handle,e)}}class ik{constructor(e){this.handle=e}}class iD extends ik{constructor(e){super(e),this.handle=e}getCopy(){return t$.getCopy(this.handle)}subscribeFromJs(e){return t$.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t$.unsubscribeFromJs(this.handle,e)}}class iM{constructor(e){this.handle=e}}class ix extends iM{constructor(e){super(e),this.handle=e}getCopy(){return tZ.getCopy(this.handle)}subscribeFromJs(e){return tZ.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tZ.unsubscribeFromJs(this.handle,e)}}class iF{constructor(e){this.handle=e}}class iU extends iF{constructor(e){super(e),this.handle=e}getCopy(){return tq.getCopy(this.handle)}set(e){tq.set(this.handle,e)}subscribeFromJs(e){return tq.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tq.unsubscribeFromJs(this.handle,e)}}class iB{constructor(e){this.handle=e}}class iH extends iB{constructor(e){super(e),this.handle=e}getCopy(){return tJ.getCopy(this.handle)}subscribeFromJs(e){return tJ.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tJ.unsubscribeFromJs(this.handle,e)}}class iV{constructor(e){this.handle=e}}class iG extends iV{constructor(e){super(e),this.handle=e}getCopy(){return tX.getCopy(this.handle)}subscribeFromJs(e){return tX.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tX.unsubscribeFromJs(this.handle,e)}}class iW{constructor(e){this.handle=e}}class iK extends iW{constructor(e){super(e),this.handle=e}getCopy(){return tQ.getCopy(this.handle)}subscribeFromJs(e){return tQ.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tQ.unsubscribeFromJs(this.handle,e)}}class iY{constructor(e){this.handle=e}}class ij extends iY{constructor(e){super(e),this.handle=e}getCopy(){return t0.getCopy(this.handle)}set(e){t0.set(this.handle,e)}subscribeFromJs(e){return t0.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t0.unsubscribeFromJs(this.handle,e)}}class iz{constructor(e){this.handle=e}}class i$ extends iz{constructor(e){super(e),this.handle=e}getCopy(){return t1.getCopy(this.handle)}subscribeFromJs(e){return t1.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t1.unsubscribeFromJs(this.handle,e)}}class iZ{constructor(e){this.handle=e}}class iq extends iZ{constructor(e){super(e),this.handle=e}getCopy(){return t2.getCopy(this.handle)}subscribeFromJs(e){return t2.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t2.unsubscribeFromJs(this.handle,e)}}class iJ{constructor(e){this.handle=e}}class iX extends iJ{constructor(e){super(e),this.handle=e}getCopy(){return t3.getCopy(this.handle)}set(e){t3.set(this.handle,e)}subscribeFromJs(e){return t3.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t3.unsubscribeFromJs(this.handle,e)}}class iQ{constructor(e){this.handle=e}}class i0 extends iQ{constructor(e){super(e),this.handle=e}getCopy(){return t5.getCopy(this.handle)}subscribeFromJs(e){return t5.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t5.unsubscribeFromJs(this.handle,e)}}class i1{constructor(e){this.handle=e}}class i2 extends i1{constructor(e){super(e),this.handle=e}getCopy(){return t4.getCopy(this.handle)}subscribeFromJs(e){return t4.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t4.unsubscribeFromJs(this.handle,e)}}class i3{constructor(e){this.handle=e}}class i5 extends i3{constructor(e){super(e),this.handle=e}getCopy(){return t8.getCopy(this.handle)}subscribeFromJs(e){return t8.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t8.unsubscribeFromJs(this.handle,e)}}class i4{constructor(e){this.handle=e}}class i8 extends i4{constructor(e){super(e),this.handle=e}getCopy(){return t6.getCopy(this.handle)}subscribeFromJs(e){return t6.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t6.unsubscribeFromJs(this.handle,e)}}class i6{constructor(e){this.handle=e}}class i7 extends i6{constructor(e){super(e),this.handle=e}getCopy(){return t7.getCopy(this.handle)}subscribeFromJs(e){return t7.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t7.unsubscribeFromJs(this.handle,e)}}var i9=(e=>(e[e.IN_CUBIC=0]="IN_CUBIC",e[e.OUT_CUBIC=1]="OUT_CUBIC",e[e.INOUT_CUBIC=2]="INOUT_CUBIC",e))(i9||{}),ae=(e=>(e[e.LINEAR=0]="LINEAR",e[e.BEZIER=1]="BEZIER",e[e.OSCILLATION=2]="OSCILLATION",e[e.SPRING=3]="SPRING",e))(ae||{}),at=(e=>(e[e.SLIDES=0]="SLIDES",e[e.DESIGN=1]="DESIGN",e))(at||{}),ar=(e=>(e[e.SYNCED=0]="SYNCED",e[e.OFFLINE=1]="OFFLINE",e[e.SESSION_START=2]="SESSION_START",e[e.FORCED=3]="FORCED",e[e.LIMBOED_CHANGES=4]="LIMBOED_CHANGES",e))(ar||{}),an=(e=>(e[e.TEXT_MATCH=0]="TEXT_MATCH",e[e.LAYER_MATCH=1]="LAYER_MATCH",e[e.PAGE_MATCH=2]="PAGE_MATCH",e))(an||{}),ai=(e=>(e[e.TEXT=0]="TEXT",e[e.FRAME_OR_GROUP=1]="FRAME_OR_GROUP",e[e.COMPONENT=2]="COMPONENT",e[e.INSTANCE=3]="INSTANCE",e[e.IMAGE=4]="IMAGE",e[e.SHAPE=5]="SHAPE",e[e.OTHER=6]="OTHER",e))(ai||{}),aa=(e=>(e[e.FIND=0]="FIND",e[e.REPLACE=1]="REPLACE",e))(aa||{}),ao=(e=>(e[e.ACTIVE_PAGE=0]="ACTIVE_PAGE",e[e.ALL_PAGES=1]="ALL_PAGES",e))(ao||{}),al=(e=>(e[e.ONLY_ACTIVE=0]="ONLY_ACTIVE",e[e.ALL=1]="ALL",e))(al||{}),as=(e=>(e[e.NONE=0]="NONE",e[e.UPPER_FIRST=1]="UPPER_FIRST",e[e.UPPER_ALL=2]="UPPER_ALL",e))(as||{}),ac=(e=>(e[e.NONE=0]="NONE",e[e.SELECT_ACTIVE=1]="SELECT_ACTIVE",e))(ac||{}),ad=(e=>(e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e))(ad||{}),au=(e=>(e[e.HEX=0]="HEX",e[e.RGB=1]="RGB",e[e.CSS=2]="CSS",e[e.HSB=3]="HSB",e[e.HSL=4]="HSL",e[e.UIColor=5]="UIColor",e))(au||{}),ap=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.MERGE_IN_PROGRESS=1]="MERGE_IN_PROGRESS",e[e.PARSE_ERROR=2]="PARSE_ERROR",e[e.VERSION_MISMATCH=3]="VERSION_MISMATCH",e[e.INTERNAL_ERROR=4]="INTERNAL_ERROR",e))(ap||{}),am=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.PARSE_ERROR=1]="PARSE_ERROR",e[e.VERSION_MISMATCH=2]="VERSION_MISMATCH",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR",e))(am||{}),a_=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.NO_MERGE_IN_PROGRESS=1]="NO_MERGE_IN_PROGRESS",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e[e.MISSING_BACKING_SYMBOL=3]="MISSING_BACKING_SYMBOL",e))(a_||{}),ah=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.NO_MERGE_IN_PROGRESS=1]="NO_MERGE_IN_PROGRESS",e[e.INVALID_INDEX=2]="INVALID_INDEX",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR",e[e.INVALID_STATE_TRANSITION=4]="INVALID_STATE_TRANSITION",e))(ah||{}),ag=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.FAILURE=1]="FAILURE",e))(ag||{}),af=(e=>(e[e.SOURCE=0]="SOURCE",e[e.BRANCH=1]="BRANCH",e[e.COMPARE=2]="COMPARE",e))(af||{}),aE=(e=>(e[e.UPDATED_LIBRARY=0]="UPDATED_LIBRARY",e[e.CREATED=1]="CREATED",e[e.REMOVED=2]="REMOVED",e[e.UPDATED=3]="UPDATED",e[e.UNMODIFIED=4]="UNMODIFIED",e))(aE||{}),ay=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.NO_MERGE_IN_PROGRESS=1]="NO_MERGE_IN_PROGRESS",e[e.UNABLE_TO_UNDO_CHANGES=2]="UNABLE_TO_UNDO_CHANGES",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR",e))(ay||{}),ab=(e=>(e[e.BASIS_PARENT=0]="BASIS_PARENT",e[e.PARENT=1]="PARENT",e))(ab||{}),av=(e=>(e[e.PREVIEW=0]="PREVIEW",e[e.STAGE=1]="STAGE",e))(av||{}),aI=(e=>(e[e.FRAME_WITH_BACKGROUND_IMAGE=0]="FRAME_WITH_BACKGROUND_IMAGE",e[e.IMAGE=1]="IMAGE",e[e.STICKER=2]="STICKER",e))(aI||{}),aT=(e=>(e[e.APPLE=0]="APPLE",e[e.NOTO=1]="NOTO",e))(aT||{}),aS=(e=>(e[e.PNG=0]="PNG",e[e.SVG=1]="SVG",e[e.RASTERIZE=2]="RASTERIZE",e))(aS||{}),aw=(e=>(e[e.CURRENT_TAB=0]="CURRENT_TAB",e[e.NEW_TAB=1]="NEW_TAB",e))(aw||{}),aA=(e=>(e[e.SEARCH=0]="SEARCH",e[e.PREFERENCES=1]="PREFERENCES",e[e.HIDE_UI=2]="HIDE_UI",e))(aA||{}),aC=(e=>(e[e.COPY_PASTE=0]="COPY_PASTE",e[e.COMPONENT_IMPORT=1]="COMPONENT_IMPORT",e[e.STATE_GROUP_IMPORT=2]="STATE_GROUP_IMPORT",e[e.STYLE_IMPORT=3]="STYLE_IMPORT",e[e.BRANCH_MERGE=4]="BRANCH_MERGE",e[e.TEMPLATE_INSERTION=5]="TEMPLATE_INSERTION",e[e.VARIABLE_IMPORT=6]="VARIABLE_IMPORT",e[e.VARIABLE_SET_IMPORT=7]="VARIABLE_SET_IMPORT",e[e.PLAYGROUND_INSERT=8]="PLAYGROUND_INSERT",e[e.MODULE_IMPORT=9]="MODULE_IMPORT",e))(aC||{}),aN=(e=>(e[e.SOLID=0]="SOLID",e[e.DASHED=1]="DASHED",e[e.NONE=2]="NONE",e))(aN||{}),aO=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e))(aO||{}),aL=(e=>(e[e.ACTIVE_SCENE=0]="ACTIVE_SCENE",e[e.PLAYGROUND_SCENE=1]="PLAYGROUND_SCENE",e))(aL||{}),aR=(e=>(e[e.NONE=0]="NONE",e[e.BLACK=1]="BLACK",e[e.GRAY_DARK=2]="GRAY_DARK",e[e.GRAY=3]="GRAY",e[e.GRAY_LIGHT=4]="GRAY_LIGHT",e[e.RED=5]="RED",e[e.RED_LIGHT=6]="RED_LIGHT",e[e.ORANGE=7]="ORANGE",e[e.ORANGE_LIGHT=8]="ORANGE_LIGHT",e[e.YELLOW=9]="YELLOW",e[e.YELLOW_LIGHT=10]="YELLOW_LIGHT",e[e.GREEN=11]="GREEN",e[e.GREEN_LIGHT=12]="GREEN_LIGHT",e[e.BLUE=13]="BLUE",e[e.BLUE_LIGHT=14]="BLUE_LIGHT",e[e.VIOLET=15]="VIOLET",e[e.VIOLET_LIGHT=16]="VIOLET_LIGHT",e[e.WHITE=17]="WHITE",e[e.PINK=18]="PINK",e[e.PINK_LIGHT=19]="PINK_LIGHT",e[e.INDIGO=20]="INDIGO",e[e.INDIGO_LIGHT=21]="INDIGO_LIGHT",e[e.COBALT=22]="COBALT",e[e.COBALT_LIGHT=23]="COBALT_LIGHT",e[e.TEAL=24]="TEAL",e[e.TEAL_LIGHT=25]="TEAL_LIGHT",e[e.OLIVE=26]="OLIVE",e[e.OLIVE_LIGHT=27]="OLIVE_LIGHT",e[e.STICKY_GRAY=28]="STICKY_GRAY",e[e.STICKY_RED=29]="STICKY_RED",e[e.STICKY_ORANGE=30]="STICKY_ORANGE",e[e.STICKY_YELLOW=31]="STICKY_YELLOW",e[e.STICKY_GREEN=32]="STICKY_GREEN",e[e.STICKY_BLUE=33]="STICKY_BLUE",e[e.STICKY_VIOLET=34]="STICKY_VIOLET",e[e.STICKY_PINK=35]="STICKY_PINK",e[e.STICKY_GRAY_LIGHT=36]="STICKY_GRAY_LIGHT",e[e.STICKY_INDIGO=37]="STICKY_INDIGO",e[e.STICKY_COBALT=38]="STICKY_COBALT",e[e.STICKY_TEAL=39]="STICKY_TEAL",e[e.STICKY_OLIVE=40]="STICKY_OLIVE",e[e.HIGHLIGHT_GRAY=41]="HIGHLIGHT_GRAY",e[e.HIGHLIGHT_RED=42]="HIGHLIGHT_RED",e[e.HIGHLIGHT_YELLOW=43]="HIGHLIGHT_YELLOW",e[e.HIGHLIGHT_GREEN=44]="HIGHLIGHT_GREEN",e[e.HIGHLIGHT_BLUE=45]="HIGHLIGHT_BLUE",e[e.HIGHLIGHT_VIOLET=46]="HIGHLIGHT_VIOLET",e[e.HIGHLIGHT_ORANGE=47]="HIGHLIGHT_ORANGE",e[e.HIGHLIGHT_WHITE=48]="HIGHLIGHT_WHITE",e[e.CUSTOM=49]="CUSTOM",e))(aR||{}),aP=(e=>(e[e.LAYERS=0]="LAYERS",e[e.ASSETS=1]="ASSETS",e[e.KITS_SITES=2]="KITS_SITES",e))(aP||{}),ak=(e=>(e[e.NEXT=0]="NEXT",e[e.PREVIOUS=1]="PREVIOUS",e[e.COMMIT=2]="COMMIT",e[e.CANCEL=3]="CANCEL",e[e.CLEAR=4]="CLEAR",e))(ak||{}),aD=(e=>(e[e.VISIBLE=0]="VISIBLE",e[e.TRANSPARENT=1]="TRANSPARENT",e[e.TRANSPARENT_CUSTOM=2]="TRANSPARENT_CUSTOM",e[e.HIDDEN=3]="HIDDEN",e))(aD||{}),aM=(e=>(e[e.COPY_TO_CLIPBOARD=0]="COPY_TO_CLIPBOARD",e[e.COMPOSE_EMAIL=1]="COMPOSE_EMAIL",e))(aM||{}),ax=(e=>(e[e.RULER=0]="RULER",e[e.GUIDE=1]="GUIDE",e[e.BOTH=2]="BOTH",e))(ax||{}),aF=(e=>(e[e.GENERIC=0]="GENERIC",e[e.SNAP=1]="SNAP",e[e.LEVEL=2]="LEVEL",e))(aF||{}),aU=(e=>(e[e.YES=0]="YES",e[e.NO=1]="NO",e))(aU||{}),aB=(e=>(e[e.FIGMA=0]="FIGMA",e[e.SITE=1]="SITE",e))(aB||{}),aH=(e=>(e[e.TRANSLATE_TEXT=0]="TRANSLATE_TEXT",e[e.REWRITE_TEXT=1]="REWRITE_TEXT",e[e.SHORTEN_TEXT=2]="SHORTEN_TEXT",e[e.FIRST_DRAFT=3]="FIRST_DRAFT",e[e.FIRST_DRAFT_MAKE_CHANGES=4]="FIRST_DRAFT_MAKE_CHANGES",e[e.FIND_INSPIRATION=5]="FIND_INSPIRATION",e[e.REMOVE_BACKGROUND=6]="REMOVE_BACKGROUND",e[e.AUTO_RENAME_LAYERS=7]="AUTO_RENAME_LAYERS",e[e.GENERATE_IMAGE=8]="GENERATE_IMAGE",e[e.MAGIC_LINK=9]="MAGIC_LINK",e[e.CONTENT_FILL=10]="CONTENT_FILL",e[e.SLIDES_REWRITE_TEXT=11]="SLIDES_REWRITE_TEXT",e))(aH||{}),aV=(e=>(e[e.EMPTY=0]="EMPTY",e[e.RESIZING_WIDTH_AND_HEIGHT=1]="RESIZING_WIDTH_AND_HEIGHT",e[e.RESIZING_HEIGHT=2]="RESIZING_HEIGHT",e[e.RESIZING_NONE=3]="RESIZING_NONE",e[e.TRUNCATION_DISABLED=4]="TRUNCATION_DISABLED",e[e.TRUNCATION_ENABLED=5]="TRUNCATION_ENABLED",e[e.ALIGNMENT_LEFT=6]="ALIGNMENT_LEFT",e[e.ALIGNMENT_CENTER=7]="ALIGNMENT_CENTER",e[e.ALIGNMENT_RIGHT=8]="ALIGNMENT_RIGHT",e[e.ALIGNMENT_JUSTIFIED=9]="ALIGNMENT_JUSTIFIED",e[e.DECORATION_NONE=10]="DECORATION_NONE",e[e.DECORATION_UNDERLINE=11]="DECORATION_UNDERLINE",e[e.DECORATION_STRIKETHROUGH=12]="DECORATION_STRIKETHROUGH",e[e.LIST_STYLE_PLAIN=13]="LIST_STYLE_PLAIN",e[e.LIST_STYLE_UNORDERED=14]="LIST_STYLE_UNORDERED",e[e.LIST_STYLE_ORDERED=15]="LIST_STYLE_ORDERED",e[e.TEXT_CASE_ORIGINAL=16]="TEXT_CASE_ORIGINAL",e[e.TEXT_CASE_UPPER=17]="TEXT_CASE_UPPER",e[e.TEXT_CASE_LOWER=18]="TEXT_CASE_LOWER",e[e.TEXT_CASE_TITLE=19]="TEXT_CASE_TITLE",e[e.TEXT_CASE_SMALL_CAPS=20]="TEXT_CASE_SMALL_CAPS",e[e.TEXT_CASE_SMALL_CAPS_FORCED=21]="TEXT_CASE_SMALL_CAPS_FORCED",e[e.FRACTIONS_ON=22]="FRACTIONS_ON",e[e.FRACTIONS_OFF=23]="FRACTIONS_OFF",e[e.DISCRETIONARY_LIGATURES_ON=24]="DISCRETIONARY_LIGATURES_ON",e[e.DISCRETIONARY_LIGATURES_OFF=25]="DISCRETIONARY_LIGATURES_OFF",e[e.HISTORICAL_LIGATURES_ON=26]="HISTORICAL_LIGATURES_ON",e[e.HISTORICAL_LIGATURES_OFF=27]="HISTORICAL_LIGATURES_OFF",e[e.NUMERIC_STYLE_ORIGINAL=28]="NUMERIC_STYLE_ORIGINAL",e[e.NUMERIC_STYLE_UPPER_PROPORTIONAL=29]="NUMERIC_STYLE_UPPER_PROPORTIONAL",e[e.NUMERIC_STYLE_UPPER_MONOSPACE=30]="NUMERIC_STYLE_UPPER_MONOSPACE",e[e.NUMERIC_STYLE_LOWER_PROPORTIONAL=31]="NUMERIC_STYLE_LOWER_PROPORTIONAL",e[e.NUMERIC_STYLE_LOWER_MONOSPACE=32]="NUMERIC_STYLE_LOWER_MONOSPACE",e[e.NUMERIC_POSITION_SUB=33]="NUMERIC_POSITION_SUB",e[e.NUMERIC_POSITION_SUPER=34]="NUMERIC_POSITION_SUPER",e[e.NUMERIC_POSITION_NORMAL=35]="NUMERIC_POSITION_NORMAL",e[e.OPENTYPE_FEATURE_ON=36]="OPENTYPE_FEATURE_ON",e[e.OPENTYPE_FEATURE_OFF=37]="OPENTYPE_FEATURE_OFF",e[e.FONT_VARIATIONS=38]="FONT_VARIATIONS",e[e.LEADING_TRIM_CAP_HEIGHT=39]="LEADING_TRIM_CAP_HEIGHT",e[e.LEADING_TRIM_NONE=40]="LEADING_TRIM_NONE",e[e.HANGING_PUNCTUATION_ON=41]="HANGING_PUNCTUATION_ON",e[e.HANGING_PUNCTUATION_OFF=42]="HANGING_PUNCTUATION_OFF",e[e.HANGING_LISTS_ON=43]="HANGING_LISTS_ON",e[e.HANGING_LISTS_OFF=44]="HANGING_LISTS_OFF",e))(aV||{}),aG=(e=>(e[e.CURRENT_PAGE=0]="CURRENT_PAGE",e[e.ALL_PAGES=1]="ALL_PAGES",e))(aG||{}),aW=(e=>(e[e.AUTOMATIC=0]="AUTOMATIC",e[e.WHEN_REQUESTED=1]="WHEN_REQUESTED",e))(aW||{}),aK=(e=>(e[e.NONE=0]="NONE",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e))(aK||{}),aY=(e=>(e[e.MIN=0]="MIN",e[e.CENTER=1]="CENTER",e[e.MAX=2]="MAX",e[e.SPACE_EVENLY=3]="SPACE_EVENLY",e[e.SPACE_BETWEEN=4]="SPACE_BETWEEN",e))(aY||{}),aj=(e=>(e[e.MIN=0]="MIN",e[e.CENTER=1]="CENTER",e[e.MAX=2]="MAX",e[e.BASELINE=3]="BASELINE",e))(aj||{}),az=(e=>(e[e.MIN=0]="MIN",e[e.CENTER=1]="CENTER",e[e.MAX=2]="MAX",e[e.STRETCH=3]="STRETCH",e[e.AUTO=4]="AUTO",e[e.BASELINE=5]="BASELINE",e))(az||{}),a$=(e=>(e[e.AUTO=0]="AUTO",e[e.ABSOLUTE=1]="ABSOLUTE",e))(a$||{}),aZ=(e=>(e[e.FIXED=0]="FIXED",e[e.RESIZE_TO_FIT=1]="RESIZE_TO_FIT",e[e.RESIZE_TO_FIT_WITH_IMPLICIT_SIZE=2]="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE",e))(aZ||{}),aq=(e=>(e[e.PACKED=0]="PACKED",e[e.SPACE_BETWEEN=1]="SPACE_BETWEEN",e))(aq||{}),aJ=(e=>(e[e.PADDING_TOP=0]="PADDING_TOP",e[e.PADDING_RIGHT=1]="PADDING_RIGHT",e[e.PADDING_BOTTOM=2]="PADDING_BOTTOM",e[e.PADDING_LEFT=3]="PADDING_LEFT",e[e.PADDING_HORIZONTAL=4]="PADDING_HORIZONTAL",e[e.PADDING_VERTICAL=5]="PADDING_VERTICAL",e[e.PADDING_ALL=6]="PADDING_ALL",e[e.SPACING=7]="SPACING",e[e.COUNTER_SPACING=8]="COUNTER_SPACING",e))(aJ||{}),aX=(e=>(e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT",e))(aX||{}),aQ=(e=>(e[e.DESIGN_LAYOUT=0]="DESIGN_LAYOUT",e[e.WHITEBOARD_LAYOUT=1]="WHITEBOARD_LAYOUT",e[e.VECTOR=2]="VECTOR",e[e.TEXT=3]="TEXT",e[e.RASTER=4]="RASTER",e[e.GRADIENT=5]="GRADIENT",e[e.PLACE_IMAGE=6]="PLACE_IMAGE",e[e.HISTORY=7]="HISTORY",e[e.PREVIEW=8]="PREVIEW",e[e.COMMENTS=9]="COMMENTS",e[e.BRANCHING=10]="BRANCHING",e[e.DEV_HANDOFF=11]="DEV_HANDOFF",e[e.COMPARE_CHANGES=12]="COMPARE_CHANGES",e[e.LIBRARY=13]="LIBRARY",e[e.DEV_HANDOFF_HISTORY=14]="DEV_HANDOFF_HISTORY",e[e.SLIDE_LAYOUT=15]="SLIDE_LAYOUT",e[e.MAGIC_LINK=16]="MAGIC_LINK",e))(aQ||{}),a0=(e=>(e[e.LAYOUT=0]="LAYOUT",e[e.HISTORY=1]="HISTORY",e[e.PREVIEW=2]="PREVIEW",e[e.BRANCHING=3]="BRANCHING",e[e.DEV_HANDOFF=4]="DEV_HANDOFF",e[e.LIBRARY=5]="LIBRARY",e))(a0||{}),a1=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.DRAGGING=1]="DRAGGING",e[e.RESIZING=2]="RESIZING",e[e.ROTATING=3]="ROTATING",e[e.SELECTING_TEXT=4]="SELECTING_TEXT",e[e.CLICKING_TO_CHANGE_SELECTION=5]="CLICKING_TO_CHANGE_SELECTION",e))(a1||{}),a2=(e=>(e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.MIXED=2]="MIXED",e))(a2||{}),a3=(e=>(e[e.NONE=0]="NONE",e[e.COLOR=1]="COLOR",e))(a3||{}),a5=(e=>(e[e.NONE=0]="NONE",e[e.FILL=1]="FILL",e[e.STROKE=2]="STROKE",e[e.STROKE_PRESET=3]="STROKE_PRESET",e[e.EFFECT=4]="EFFECT",e[e.EXPORT=5]="EXPORT",e[e.LAYOUT_GRID=6]="LAYOUT_GRID",e[e.PLUGIN=7]="PLUGIN",e[e.PROTOTYPE_INTERACTION=8]="PROTOTYPE_INTERACTION",e[e.PROTOTYPE_INHERITED_INTERNAL_INTERACTION=9]="PROTOTYPE_INHERITED_INTERNAL_INTERACTION",e[e.PROTOTOTYPE_STARTING_POINT=10]="PROTOTOTYPE_STARTING_POINT",e[e.BEHAVIOR=11]="BEHAVIOR",e))(a5||{}),a4=(e=>(e[e.NONE=0]="NONE",e[e.PHONE=1]="PHONE",e[e.TABLET=2]="TABLET",e[e.DESKTOP=3]="DESKTOP",e[e.WATCH=4]="WATCH",e[e.PAPER=5]="PAPER",e[e.SOCIALMEDIA=6]="SOCIALMEDIA",e[e.FIGMA=7]="FIGMA",e[e.PRESENTATION=8]="PRESENTATION",e[e.ARCHIVE=9]="ARCHIVE",e))(a4||{}),a8=(e=>(e[e.NONE=0]="NONE",e[e.SELECT=1]="SELECT",e[e.HAND=2]="HAND",e[e.COMMENTS=3]="COMMENTS",e[e.DROPPER_COLOR=4]="DROPPER_COLOR",e[e.FRAME=5]="FRAME",e[e.SLICE=6]="SLICE",e[e.STACK=7]="STACK",e[e.SHAPE_STAR=8]="SHAPE_STAR",e[e.SHAPE_LINE=9]="SHAPE_LINE",e[e.SHAPE_ARROW=10]="SHAPE_ARROW",e[e.SHAPE_ELLIPSE=11]="SHAPE_ELLIPSE",e[e.SHAPE_RECTANGLE=12]="SHAPE_RECTANGLE",e[e.SHAPE_REGULAR_POLYGON=13]="SHAPE_REGULAR_POLYGON",e[e.VECTOR_PEN=14]="VECTOR_PEN",e[e.VECTOR_PENCIL=15]="VECTOR_PENCIL",e[e.VECTOR_BEND=16]="VECTOR_BEND",e[e.VECTOR_PAINT_BUCKET=17]="VECTOR_PAINT_BUCKET",e[e.TYPE=18]="TYPE",e[e.SCALE=19]="SCALE",e[e.STICKY=20]="STICKY",e[e.STAMP=21]="STAMP",e[e.SHAPE_WHITEBOARD_SQUARE=22]="SHAPE_WHITEBOARD_SQUARE",e[e.SHAPE_WHITEBOARD_ELLIPSE=23]="SHAPE_WHITEBOARD_ELLIPSE",e[e.SHAPE_WHITEBOARD_DIAMOND=24]="SHAPE_WHITEBOARD_DIAMOND",e[e.SHAPE_WHITEBOARD_TRIANGLE_UP=25]="SHAPE_WHITEBOARD_TRIANGLE_UP",e[e.SHAPE_WHITEBOARD_TRIANGLE_DOWN=26]="SHAPE_WHITEBOARD_TRIANGLE_DOWN",e[e.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE=27]="SHAPE_WHITEBOARD_ROUNDED_RECTANGLE",e[e.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT=28]="SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT",e[e.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT=29]="SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT",e[e.CONNECTOR_ELBOWED=30]="CONNECTOR_ELBOWED",e[e.CONNECTOR_STRAIGHT=31]="CONNECTOR_STRAIGHT",e[e.CODE_BLOCK=32]="CODE_BLOCK",e[e.SHAPE_WHITEBOARD_ENG_DATABASE=33]="SHAPE_WHITEBOARD_ENG_DATABASE",e[e.SHAPE_WHITEBOARD_ENG_QUEUE=34]="SHAPE_WHITEBOARD_ENG_QUEUE",e[e.SHAPE_WHITEBOARD_ENG_FILE=35]="SHAPE_WHITEBOARD_ENG_FILE",e[e.SHAPE_WHITEBOARD_ENG_FOLDER=36]="SHAPE_WHITEBOARD_ENG_FOLDER",e[e.ERASER=37]="ERASER",e[e.HIGHLIGHTER=38]="HIGHLIGHTER",e[e.SECTION=39]="SECTION",e[e.WASHI_TAPE=40]="WASHI_TAPE",e[e.TABLE=41]="TABLE",e[e.SHAPE_WHITEBOARD_TRAPEZOID=42]="SHAPE_WHITEBOARD_TRAPEZOID",e[e.SHAPE_WHITEBOARD_STAR=43]="SHAPE_WHITEBOARD_STAR",e[e.SHAPE_WHITEBOARD_SHIELD=44]="SHAPE_WHITEBOARD_SHIELD",e[e.SHAPE_WHITEBOARD_HEXAGON=45]="SHAPE_WHITEBOARD_HEXAGON",e[e.SHAPE_WHITEBOARD_PENTAGON=46]="SHAPE_WHITEBOARD_PENTAGON",e[e.SHAPE_WHITEBOARD_OCTAGON=47]="SHAPE_WHITEBOARD_OCTAGON",e[e.SHAPE_WHITEBOARD_PLUS=48]="SHAPE_WHITEBOARD_PLUS",e[e.SHAPE_WHITEBOARD_PREDEFINED_PROCESS=49]="SHAPE_WHITEBOARD_PREDEFINED_PROCESS",e[e.SHAPE_WHITEBOARD_MANUAL_INPUT=50]="SHAPE_WHITEBOARD_MANUAL_INPUT",e[e.SHAPE_WHITEBOARD_CHEVRON=51]="SHAPE_WHITEBOARD_CHEVRON",e[e.SHAPE_WHITEBOARD_DOCUMENT_SINGLE=52]="SHAPE_WHITEBOARD_DOCUMENT_SINGLE",e[e.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE=53]="SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE",e[e.SHAPE_WHITEBOARD_ARROW_LEFT=54]="SHAPE_WHITEBOARD_ARROW_LEFT",e[e.SHAPE_WHITEBOARD_ARROW_RIGHT=55]="SHAPE_WHITEBOARD_ARROW_RIGHT",e[e.SHAPE_WHITEBOARD_SUMMING_JUNCTION=56]="SHAPE_WHITEBOARD_SUMMING_JUNCTION",e[e.SHAPE_WHITEBOARD_OR=57]="SHAPE_WHITEBOARD_OR",e[e.SHAPE_WHITEBOARD_SPEECH_BUBBLE=58]="SHAPE_WHITEBOARD_SPEECH_BUBBLE",e[e.SHAPE_WHITEBOARD_INTERNAL_STORAGE=59]="SHAPE_WHITEBOARD_INTERNAL_STORAGE",e[e.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS=60]="SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS",e[e.ANNOTATE=61]="ANNOTATE",e[e.IMAGE_OR_VIDEO=62]="IMAGE_OR_VIDEO",e[e.MEASURE=63]="MEASURE",e[e.SLIDES_POLL=64]="SLIDES_POLL",e[e.SLIDES_EMBED=65]="SLIDES_EMBED",e[e.SLIDES_FACEPILE=66]="SLIDES_FACEPILE",e[e.SLIDES_ALIGNMENT_SCALE=67]="SLIDES_ALIGNMENT_SCALE",e[e.HAND_SELECT=68]="HAND_SELECT",e[e.MULTISELECT=69]="MULTISELECT",e[e.LASSO=70]="LASSO",e[e.SITES_LAYOUT_SET=71]="SITES_LAYOUT_SET",e))(a8||{}),a6=(e=>(e[e.MISSING=0]="MISSING",e[e.PRESENT=1]="PRESENT",e[e.MIXED=2]="MIXED",e[e.MIXED_VALUES_FIRST=3]="MIXED_VALUES_FIRST",e[e.MIXED_VALUES_NEXT=4]="MIXED_VALUES_NEXT",e))(a6||{}),a7=(e=>(e[e.FRAME_PRESETS=0]="FRAME_PRESETS",e[e.PENCIL_TOOL=1]="PENCIL_TOOL",e[e.CANVAS_ITEM=2]="CANVAS_ITEM",e[e.TRANSFORM_ITEM=3]="TRANSFORM_ITEM",e[e.TEMPLATE_ITEM=4]="TEMPLATE_ITEM",e[e.COMPONENT_ITEM=5]="COMPONENT_ITEM",e[e.INSTANCE_ITEM=6]="INSTANCE_ITEM",e[e.STATE_GROUP_ITEM=7]="STATE_GROUP_ITEM",e[e.CONSTRAINTS_ITEM=8]="CONSTRAINTS_ITEM",e[e.VECTOR_ITEM=9]="VECTOR_ITEM",e[e.GRIDS_ITEM=10]="GRIDS_ITEM",e[e.MASK_ITEM=11]="MASK_ITEM",e[e.LAYER_ITEM=12]="LAYER_ITEM",e[e.TYPE_ITEM=13]="TYPE_ITEM",e[e.FILL_ITEM=14]="FILL_ITEM",e[e.STROKE_ITEM=15]="STROKE_ITEM",e[e.EFFECTS_ITEM=16]="EFFECTS_ITEM",e[e.EXPORT_ITEM=17]="EXPORT_ITEM",e[e.STACK_ITEM=18]="STACK_ITEM",e[e.SCALE_ITEM=19]="SCALE_ITEM",e[e.REMOVE_GROUP_BACKGROUND_ITEM=20]="REMOVE_GROUP_BACKGROUND_ITEM",e[e.OVERFLOW_ITEM=21]="OVERFLOW_ITEM",e[e.SELECTION_COLORS=22]="SELECTION_COLORS",e[e.VARIABLE_MODE_ITEM=23]="VARIABLE_MODE_ITEM",e[e.VARIABLE_PAGE_LEVEL_MODE_ITEM=24]="VARIABLE_PAGE_LEVEL_MODE_ITEM",e[e.SLIDES_ANIMATION=25]="SLIDES_ANIMATION",e[e.SLIDES_EMBED=26]="SLIDES_EMBED",e[e.SLIDES_INTERACTIVE_WIDGET=27]="SLIDES_INTERACTIVE_WIDGET",e[e.IMAGE_ITEM=28]="IMAGE_ITEM",e[e.SITES_POSITION_ITEM=29]="SITES_POSITION_ITEM",e[e.SITES_LINK_ITEM=30]="SITES_LINK_ITEM",e[e.SITES_PAGE_METADATA_ITEM=31]="SITES_PAGE_METADATA_ITEM",e[e.SITES_ACCESSIBILITY_ITEM=32]="SITES_ACCESSIBILITY_ITEM",e[e.SITES_HTML_WIDGET_ITEM=33]="SITES_HTML_WIDGET_ITEM",e[e.SITES_INTERACTIONS_ITEM=34]="SITES_INTERACTIONS_ITEM",e[e.NUM_VALUES=35]="NUM_VALUES",e))(a7||{}),a9=(e=>(e[e.FRAME_PRESETS_ITEM=0]="FRAME_PRESETS_ITEM",e[e.CORNER_RADIUS=1]="CORNER_RADIUS",e[e.FRAME_OPTIONS=2]="FRAME_OPTIONS",e[e.COUNT=3]="COUNT",e[e.STAR_INNER_SCALE=4]="STAR_INNER_SCALE",e[e.RECTANGLE_CORNER_RADII=5]="RECTANGLE_CORNER_RADII",e[e.FIXED_FRAME_OPTIONS=6]="FIXED_FRAME_OPTIONS",e[e.ARC_DATA=7]="ARC_DATA",e[e.TRANSFORM=8]="TRANSFORM",e[e.SIZE=9]="SIZE",e[e.ANGLE=10]="ANGLE",e[e.SECTION_ITEM=11]="SECTION_ITEM",e[e.NUM_VALUES=12]="NUM_VALUES",e))(a9||{}),oe=(e=>(e[e.TEXT_ALIGN_HORIZONTAL=0]="TEXT_ALIGN_HORIZONTAL",e[e.TEXT_ALIGN_VERTICAL=1]="TEXT_ALIGN_VERTICAL",e[e.TEXT_AUTO_RESIZE=2]="TEXT_AUTO_RESIZE",e[e.TEXT_STYLE=3]="TEXT_STYLE",e[e.NUM_VALUES=4]="NUM_VALUES",e))(oe||{}),ot=(e=>(e[e.NONE=0]="NONE",e[e.BOOL=1]="BOOL",e[e.TEXT=2]="TEXT",e[e.INSTANCE_SWAP=3]="INSTANCE_SWAP",e[e.VARIANT=4]="VARIANT",e))(ot||{}),or=(e=>(e[e.NONE=0]="NONE",e[e.UNUSED_DEF_ERROR=1]="UNUSED_DEF_ERROR",e[e.CONFLICTING_NAMES_ERROR=2]="CONFLICTING_NAMES_ERROR",e[e.CONFLICTING_NAMES_WITH_VARIANT_ERROR=3]="CONFLICTING_NAMES_WITH_VARIANT_ERROR",e))(or||{}),on=(e=>(e[e.NOT_APPLICABLE=0]="NOT_APPLICABLE",e[e.YES=1]="YES",e[e.NO=2]="NO",e))(on||{}),oi=(e=>(e[e.STATE_GROUP=0]="STATE_GROUP",e[e.STATE=1]="STATE",e[e.STATE_INSTANCE=2]="STATE_INSTANCE",e[e.STATE_OR_STATE_INSTANCE_SUBLAYER=3]="STATE_OR_STATE_INSTANCE_SUBLAYER",e[e.NON_STATE_COMPONENTS=4]="NON_STATE_COMPONENTS",e[e.NONE=5]="NONE",e))(oi||{}),oa=(e=>(e[e.NONE=0]="NONE",e[e.TOO_MANY_STATES_ERROR=1]="TOO_MANY_STATES_ERROR",e[e.MISSING_PROPERTIES_ERROR=2]="MISSING_PROPERTIES_ERROR",e[e.DUPLICATE_STATE_ERROR=3]="DUPLICATE_STATE_ERROR",e[e.PARSE_ERROR=4]="PARSE_ERROR",e))(oa||{}),oo=(e=>(e[e.NONE=0]="NONE",e[e.SINGLE_NODE=1]="SINGLE_NODE",e[e.MULTI_NODE=2]="MULTI_NODE",e))(oo||{}),ol=(e=>(e[e.FIXED=0]="FIXED",e[e.HUG_CONTENT=1]="HUG_CONTENT",e[e.FILL_CONTAINER=2]="FILL_CONTAINER",e))(ol||{}),os=(e=>(e[e.CANVAS=0]="CANVAS",e[e.PROPERTIES_PANEL=1]="PROPERTIES_PANEL",e[e.DRAG_TO_CREATE=2]="DRAG_TO_CREATE",e))(os||{}),oc=(e=>(e[e.NONE=0]="NONE",e[e.CONNECTOR=1]="CONNECTOR",e[e.LINE=2]="LINE",e[e.VECTOR=3]="VECTOR",e[e.VERTEX=4]="VERTEX",e[e.ENDPOINT=5]="ENDPOINT",e[e.PENCIL=6]="PENCIL",e[e.WASHI_TAPE=7]="WASHI_TAPE",e[e.SECTION=8]="SECTION",e))(oc||{}),od=(e=>(e[e.NONE=0]="NONE",e[e.FRAME_NAME=1]="FRAME_NAME",e[e.FLOW_STARTING_POINT_NAME=2]="FLOW_STARTING_POINT_NAME",e[e.SECTION_NAME=3]="SECTION_NAME",e))(od||{}),ou=(e=>(e[e.NONE=0]="NONE",e[e.INT=1]="INT",e[e.BOOL=2]="BOOL",e[e.FLOAT=3]="FLOAT",e[e.STRING=4]="STRING",e[e.JSON=5]="JSON",e[e.GRADIENT_STOP_SELECTION=7]="GRADIENT_STOP_SELECTION",e[e.SELECTED_PROPERTY=8]="SELECTED_PROPERTY",e[e.BOOL_ARRAY=9]="BOOL_ARRAY",e[e.GUID=10]="GUID",e[e.ON_CANVAS_NAME_EDITOR_INFO=11]="ON_CANVAS_NAME_EDITOR_INFO",e[e.EXPORT_SELECTION_SETTINGS=12]="EXPORT_SELECTION_SETTINGS",e[e.ACTIVE_EMBED_DATA=13]="ACTIVE_EMBED_DATA",e[e.VOTING_SESSION_INFO=14]="VOTING_SESSION_INFO",e[e.HOVERED_COMPONENT_PROP_DEF=15]="HOVERED_COMPONENT_PROP_DEF",e[e.TEXT_REVIEW_PLUGIN_INFO=16]="TEXT_REVIEW_PLUGIN_INFO",e[e.DEV_HANDOFF_CODE_LANGUAGE=17]="DEV_HANDOFF_CODE_LANGUAGE",e[e.DEV_HANDOFF_PREFERENCES=18]="DEV_HANDOFF_PREFERENCES",e))(ou||{}),op=(e=>(e[e.OVERRIDES_FOR_LAYER_AND_SUBLAYERS=0]="OVERRIDES_FOR_LAYER_AND_SUBLAYERS",e[e.EXPORTS=1]="EXPORTS",e[e.EFFECTS=2]="EFFECTS",e[e.LAYER=3]="LAYER",e[e.VISIBLE=4]="VISIBLE",e[e.NAME=5]="NAME",e[e.FILL=6]="FILL",e[e.STROKE=7]="STROKE",e[e.TEXT=8]="TEXT",e[e.TEXT_STYLE=9]="TEXT_STYLE",e[e.SIZE=10]="SIZE",e[e.OVERRIDDEN_SYMBOL=11]="OVERRIDDEN_SYMBOL",e[e.PROTOTYPE_INTERACTIONS=12]="PROTOTYPE_INTERACTIONS",e[e.OVERLAY=13]="OVERLAY",e[e.NUM_VALUES=14]="NUM_VALUES",e))(op||{}),om=(e=>(e[e.ALWAYS=0]="ALWAYS",e[e.ONLY_WHEN_NOT_EMPTY=1]="ONLY_WHEN_NOT_EMPTY",e[e.ONLY_WHEN_NOT_DISABLED=2]="ONLY_WHEN_NOT_DISABLED",e))(om||{}),o_=(e=>(e[e.UNJOINED=0]="UNJOINED",e[e.UNJOINED_FROM_ERROR=1]="UNJOINED_FROM_ERROR",e[e.UNJOINED_FROM_VALIDATION_FAILURE=2]="UNJOINED_FROM_VALIDATION_FAILURE",e[e.GOT_SCHEMA=3]="GOT_SCHEMA",e[e.JOINING_INITIAL_LOAD=4]="JOINING_INITIAL_LOAD",e[e.JOINING_RECONNECT=5]="JOINING_RECONNECT",e[e.JOINING_RECONNECT_AWAITING_QUERY_REPLY=6]="JOINING_RECONNECT_AWAITING_QUERY_REPLY",e[e.JOINED=7]="JOINED",e[e.SHOULD_UPGRADE=8]="SHOULD_UPGRADE",e[e.UPGRADING=9]="UPGRADING",e[e.WAITING_FOR_RELOAD=10]="WAITING_FOR_RELOAD",e[e.DETACHED=11]="DETACHED",e))(o_||{}),oh=(e=>(e[e.COMMENT=0]="COMMENT",e[e.EMPTY_LINE=1]="EMPTY_LINE",e[e.DECLARATION=2]="DECLARATION",e[e.BLOCK_COMMENT=3]="BLOCK_COMMENT",e))(oh||{}),og=(e=>(e[e.DESIGN=0]="DESIGN",e[e.PROTOTYPE=1]="PROTOTYPE",e[e.INSPECT=2]="INSPECT",e[e.COMMENT=3]="COMMENT",e[e.EXPORT=4]="EXPORT",e[e.SLIDE=5]="SLIDE",e[e.SLIDE_ANIMATION=6]="SLIDE_ANIMATION",e[e.SITE=7]="SITE",e))(og||{}),of=(e=>(e[e.PAN=0]="PAN",e[e.ZOOM=1]="ZOOM",e))(of||{}),oE=(e=>(e[e.CSS=0]="CSS",e[e.IOS=1]="IOS",e[e.ANDROID=2]="ANDROID",e))(oE||{}),oy=(e=>(e[e.TABULAR=0]="TABULAR",e[e.CODE=1]="CODE",e))(oy||{}),ob=(e=>(e[e.NOT_LOADED=0]="NOT_LOADED",e[e.REQUESTED=1]="REQUESTED",e[e.LOADED=2]="LOADED",e))(ob||{}),ov=(e=>(e[e.NONE=0]="NONE",e[e.DIVIDER=1]="DIVIDER",e[e.WHITEBOARD_COLOR=2]="WHITEBOARD_COLOR",e[e.STICKY_COLOR=3]="STICKY_COLOR",e[e.HIGHLIGHT_COLOR=4]="HIGHLIGHT_COLOR",e[e.PENCIL_COLOR=5]="PENCIL_COLOR",e[e.WHITEBOARD_STROKE=6]="WHITEBOARD_STROKE",e[e.WHITEBOARD_SHAPE=7]="WHITEBOARD_SHAPE",e[e.TEXT_DECORATION=8]="TEXT_DECORATION",e[e.HYPERLINK=9]="HYPERLINK",e[e.BULLETED_LIST=10]="BULLETED_LIST",e[e.WHITEBOARD_TEXT_STYLE=11]="WHITEBOARD_TEXT_STYLE",e[e.TEXT_ALIGN=12]="TEXT_ALIGN",e[e.FONT_FAMILY=13]="FONT_FAMILY",e[e.CONNECTOR_LINE_STYLE=14]="CONNECTOR_LINE_STYLE",e[e.CONNECTOR_START_CAP=15]="CONNECTOR_START_CAP",e[e.CONNECTOR_END_CAP=16]="CONNECTOR_END_CAP",e[e.AUTHOR_VISIBILITY=17]="AUTHOR_VISIBILITY",e[e.ADD_TEXT=18]="ADD_TEXT",e[e.CODE_BLOCK_LANGUAGE=19]="CODE_BLOCK_LANGUAGE",e[e.IMAGE=20]="IMAGE",e[e.BORDER=21]="BORDER",e[e.DESCRIPTION=22]="DESCRIPTION",e[e.EMBED_OPEN_EXTERNAL=23]="EMBED_OPEN_EXTERNAL",e[e.EMBED_MAXIMIZE=24]="EMBED_MAXIMIZE",e[e.EMBED_CONVERT_TO_TEXT=25]="EMBED_CONVERT_TO_TEXT",e[e.SECTION_SHOW_HIDE=26]="SECTION_SHOW_HIDE",e[e.SECTION_RENAME=27]="SECTION_RENAME",e[e.RESIZE_TO_FIT=28]="RESIZE_TO_FIT",e[e.WASHI_TAPE_PATTERN=29]="WASHI_TAPE_PATTERN",e[e.FACE_STAMP=30]="FACE_STAMP",e[e.START_MIND_MAP=31]="START_MIND_MAP",e[e.WIDGET=32]="WIDGET",e))(ov||{}),oI=(e=>(e[e.PNG=0]="PNG",e[e.JPEG=1]="JPEG",e[e.PDF=2]="PDF",e[e.CSV=3]="CSV",e))(oI||{}),oT=(e=>(e[e.STICKY=0]="STICKY",e[e.TABLE=1]="TABLE",e))(oT||{}),oS=(e=>(e[e.TRANSPARENT=0]="TRANSPARENT",e[e.WHITE=1]="WHITE",e[e.CHECKERBOARD=2]="CHECKERBOARD",e[e.HALF_CHECKERBOARD=3]="HALF_CHECKERBOARD",e[e.HALF_WHITE=4]="HALF_WHITE",e[e.CUSTOM_COLOR=5]="CUSTOM_COLOR",e))(oS||{}),ow=(e=>(e[e.SOLID=0]="SOLID",e[e.TRANSPARENT=1]="TRANSPARENT",e[e.GRID=2]="GRID",e))(ow||{}),oA=(e=>(e[e.ATTACHED_FILE_TIP=0]="ATTACHED_FILE_TIP",e[e.DETACHED_FILE_TIP=1]="DETACHED_FILE_TIP",e[e.DETACHED_BRANCH_TIP=2]="DETACHED_BRANCH_TIP",e[e.BRANCH_POINT=3]="BRANCH_POINT",e[e.PREVIEW_BRANCH_TIP=4]="PREVIEW_BRANCH_TIP",e[e.STAGED_BRANCH_TIP=5]="STAGED_BRANCH_TIP",e[e.STAGED_FILE_TIP=6]="STAGED_FILE_TIP",e))(oA||{}),oC=(e=>(e[e.NONE=0]="NONE",e[e.BEGIN_PREVIEW=1]="BEGIN_PREVIEW",e[e.RECREATE_BRANCH_POINT=2]="RECREATE_BRANCH_POINT",e[e.PREVIEW_CHANGES=3]="PREVIEW_CHANGES",e[e.STAGE_CHANGES=4]="STAGE_CHANGES",e[e.RESET_TO_BRANCH_POINT=5]="RESET_TO_BRANCH_POINT",e[e.COMMIT=6]="COMMIT",e[e.ABANDON=7]="ABANDON",e[e.STAGE_CHANGES_WHILE_ATTACHED=8]="STAGE_CHANGES_WHILE_ATTACHED",e[e.BEGIN_MERGE=9]="BEGIN_MERGE",e))(oC||{}),oN=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.US_QWERTY=1]="US_QWERTY",e[e.DVORAK=2]="DVORAK",e[e.GERMAN=3]="GERMAN",e[e.FRENCH_AZERTY=4]="FRENCH_AZERTY",e[e.HIRAGANA_KANA=5]="HIRAGANA_KANA",e[e.UK_MAC=6]="UK_MAC",e[e.UK_PC=7]="UK_PC",e[e.SWEDISH=8]="SWEDISH",e[e.FINNISH=9]="FINNISH",e[e.DANISH=10]="DANISH",e[e.NORWEGIAN=11]="NORWEGIAN",e[e.ITALIAN=12]="ITALIAN",e[e.SPANISH=13]="SPANISH",e[e.SPANISH_LATAM=14]="SPANISH_LATAM",e[e.CHINESE=15]="CHINESE",e[e.PORTUGUESE=16]="PORTUGUESE",e[e.KOREAN=17]="KOREAN",e))(oN||{}),oO=(e=>(e[e.DESIGN=0]="DESIGN",e[e.WHITEBOARD=1]="WHITEBOARD",e[e.SLIDES=2]="SLIDES",e[e.DEV_HANDOFF=3]="DEV_HANDOFF",e[e.SITES=4]="SITES",e))(oO||{}),oL=(e=>(e[e.RIGHT=0]="RIGHT",e[e.ABOVE=1]="ABOVE",e[e.CUSTOM_POSITION=2]="CUSTOM_POSITION",e[e.BELOW=3]="BELOW",e))(oL||{}),oR=(e=>(e[e.OFF=0]="OFF",e[e.ON_AND_LOCKED=1]="ON_AND_LOCKED",e[e.KEEP_UI=2]="KEEP_UI",e[e.HIDE_UI=3]="HIDE_UI",e))(oR||{}),oP=(e=>(e[e.NONE=0]="NONE",e[e.FRAME=1]="FRAME",e[e.GROUP=2]="GROUP",e[e.STACK=3]="STACK",e[e.SECTION=4]="SECTION",e[e.RESPONSIVE_SET=5]="RESPONSIVE_SET",e))(oP||{}),ok=(e=>(e[e.SELECTION=0]="SELECTION",e[e.SNAPPING=1]="SNAPPING",e))(ok||{}),oD=(e=>(e[e.MISSING=0]="MISSING",e[e.CORNER_RADIUS=1]="CORNER_RADIUS",e[e.PARAGRAPH_SPACING=2]="PARAGRAPH_SPACING",e[e.PARAGRAPH_INDENT=3]="PARAGRAPH_INDENT",e[e.STROKE_WEIGHT=4]="STROKE_WEIGHT",e[e.STACK_SPACING=5]="STACK_SPACING",e[e.STACK_PADDING_LEFT=6]="STACK_PADDING_LEFT",e[e.STACK_PADDING_TOP=7]="STACK_PADDING_TOP",e[e.STACK_PADDING_RIGHT=8]="STACK_PADDING_RIGHT",e[e.STACK_PADDING_BOTTOM=9]="STACK_PADDING_BOTTOM",e[e.VISIBLE=10]="VISIBLE",e[e.TEXT_DATA=11]="TEXT_DATA",e[e.WIDTH=12]="WIDTH",e[e.HEIGHT=13]="HEIGHT",e[e.RECTANGLE_TOP_LEFT_CORNER_RADIUS=14]="RECTANGLE_TOP_LEFT_CORNER_RADIUS",e[e.RECTANGLE_TOP_RIGHT_CORNER_RADIUS=15]="RECTANGLE_TOP_RIGHT_CORNER_RADIUS",e[e.RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS=16]="RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS",e[e.RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS=17]="RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS",e[e.BORDER_TOP_WEIGHT=18]="BORDER_TOP_WEIGHT",e[e.BORDER_BOTTOM_WEIGHT=19]="BORDER_BOTTOM_WEIGHT",e[e.BORDER_LEFT_WEIGHT=20]="BORDER_LEFT_WEIGHT",e[e.BORDER_RIGHT_WEIGHT=21]="BORDER_RIGHT_WEIGHT",e[e.VARIANT_PROPERTIES=22]="VARIANT_PROPERTIES",e[e.STACK_COUNTER_SPACING=23]="STACK_COUNTER_SPACING",e[e.MIN_WIDTH=24]="MIN_WIDTH",e[e.MAX_WIDTH=25]="MAX_WIDTH",e[e.MIN_HEIGHT=26]="MIN_HEIGHT",e[e.MAX_HEIGHT=27]="MAX_HEIGHT",e))(oD||{}),oM=(e=>(e[e.DONT_MERGE=0]="DONT_MERGE",e[e.TEXT_EDIT=1]="TEXT_EDIT",e[e.TEXT_LINE_HEIGHT=2]="TEXT_LINE_HEIGHT",e[e.TEXT_FONT_SIZE=3]="TEXT_FONT_SIZE",e[e.TEXT_LETTER_SPACING=4]="TEXT_LETTER_SPACING",e[e.LAYER_OPACITY=5]="LAYER_OPACITY",e[e.NUDGE=6]="NUDGE",e[e.SELECTION_PROPERTY=7]="SELECTION_PROPERTY",e[e.STYLE_SELECTION_PROPERTY=8]="STYLE_SELECTION_PROPERTY",e[e.CONTENT_FILL_INSERT_AND_GENERATE=9]="CONTENT_FILL_INSERT_AND_GENERATE",e))(oM||{}),ox=(e=>(e[e.NO_SESSION=0]="NO_SESSION",e[e.JOINED=1]="JOINED",e[e.NOT_JOINED=2]="NOT_JOINED",e[e.ENDED=3]="ENDED",e))(ox||{}),oF=(e=>(e[e.NONE=0]="NONE",e[e.FILL=1]="FILL",e[e.TEXT=2]="TEXT",e[e.EFFECT=3]="EFFECT",e[e.GRID=4]="GRID",e))(oF||{}),oU=(e=>(e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_CENTER=1]="TOP_CENTER",e[e.TOP_RIGHT=2]="TOP_RIGHT",e[e.MIDDLE_LEFT=3]="MIDDLE_LEFT",e[e.MIDDLE_CENTER=4]="MIDDLE_CENTER",e[e.MIDDLE_RIGHT=5]="MIDDLE_RIGHT",e[e.BOTTOM_LEFT=6]="BOTTOM_LEFT",e[e.BOTTOM_CENTER=7]="BOTTOM_CENTER",e[e.BOTTOM_RIGHT=8]="BOTTOM_RIGHT",e))(oU||{}),oB=(e=>(e[e.PRESENT=0]="PRESENT",e[e.PREVIEW=1]="PREVIEW",e))(oB||{}),oH=(e=>(e[e.MOBILE_NATIVE_NAVBAR=0]="MOBILE_NATIVE_NAVBAR",e))(oH||{}),oV=(e=>(e[e.DEFINITELY_COVERED_ONLY=0]="DEFINITELY_COVERED_ONLY",e[e.DEFINITELY_COVERED_AND_OUTDATED=1]="DEFINITELY_COVERED_AND_OUTDATED",e))(oV||{}),oG=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.ERROR_TEXT_SIZE=1]="ERROR_TEXT_SIZE",e[e.TIMEOUT=2]="TIMEOUT",e[e.ERROR_OTHER=3]="ERROR_OTHER",e))(oG||{}),oW=(e=>(e[e.MIRO=0]="MIRO",e[e.MURAL=1]="MURAL",e[e.LUCID=2]="LUCID",e[e.UNKNOWN=3]="UNKNOWN",e))(oW||{}),oK=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.YOUTUBE=1]="YOUTUBE",e[e.GOOGLE_MAP=2]="GOOGLE_MAP",e[e.MAILCHIMP=3]="MAILCHIMP",e))(oK||{}),oY=(e=>(e[e.NONE=0]="NONE",e[e.IGNORE_COMMIT_FOR_CONTENT_FILL=1]="IGNORE_COMMIT_FOR_CONTENT_FILL",e))(oY||{}),oj=(e=>(e[e.CURRENT_PAGE=0]="CURRENT_PAGE",e[e.ALL_PAGES=1]="ALL_PAGES",e))(oj||{}),oz=(e=>(e[e.PIXEL=0]="PIXEL",e[e.SCALED=1]="SCALED",e))(oz||{}),o$=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.UNDO_REDO=1]="UNDO_REDO",e[e.ANNOTATIONS=2]="ANNOTATIONS",e[e.NODE_STATUS=3]="NODE_STATUS",e))(o$||{}),oZ=(e=>(e[e.FIT_TO_SCREEN=0]="FIT_TO_SCREEN",e[e.FIT_TO_WIDTH=1]="FIT_TO_WIDTH",e[e.FILL_SCREEN=2]="FILL_SCREEN",e))(oZ||{}),oq=(e=>(e[e.X=0]="X",e[e.Y=1]="Y",e))(oq||{}),oJ=(e=>(e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT",e[e.JUSTIFIED=3]="JUSTIFIED",e))(oJ||{}),oX=(e=>(e[e.TOP=0]="TOP",e[e.CENTER=1]="CENTER",e[e.BOTTOM=2]="BOTTOM",e))(oX||{}),oQ=(e=>(e[e.CLICK=0]="CLICK",e[e.DRAG=1]="DRAG",e))(oQ||{}),o0=(e=>(e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT",e))(o0||{}),o1=(e=>(e[e.YES=0]="YES",e[e.NO=1]="NO",e))(o1||{}),o2=(e=>(e[e.ROW=0]="ROW",e[e.COLUMN=1]="COLUMN",e))(o2||{}),o3=(e=>(e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD",e))(o3||{}),o5=(e=>(e[e.HIDE=0]="HIDE",e[e.REORDER_AND_APPEND_ONLY=1]="REORDER_AND_APPEND_ONLY",e[e.FULL=2]="FULL",e))(o5||{}),o4=(e=>(e[e.AXIS=0]="AXIS",e[e.POINT=1]="POINT",e))(o4||{}),o8=(e=>(e[e.UNSELECTED_NODES=0]="UNSELECTED_NODES",e[e.UNSELECTED_NODES_AND_SELECTED_FRAME_CONTENT=1]="UNSELECTED_NODES_AND_SELECTED_FRAME_CONTENT",e))(o8||{}),o6=(e=>(e[e.NONE=0]="NONE",e[e.PIXEL_GRID=1]="PIXEL_GRID",e[e.DOT_GRID=16]="DOT_GRID",e))(o6||{}),o7=(e=>(e[e.EDITOR_TEMPLATE=0]="EDITOR_TEMPLATE",e[e.SLIDES_TEMPLATE=1]="SLIDES_TEMPLATE",e[e.SITES_TEMPLATE=2]="SITES_TEMPLATE",e))(o7||{}),o9=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.TRIGGERED_DETACH=1]="TRIGGERED_DETACH",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e))(o9||{}),le=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.NOT_DETACHED_ERROR=1]="NOT_DETACHED_ERROR",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e))(le||{}),lt=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.CONTAINING_PAGE=1]="CONTAINING_PAGE",e[e.PLUGIN=2]="PLUGIN",e))(lt||{}),lr=(e=>(e[e.LEGACY_PLUGIN=0]="LEGACY_PLUGIN",e[e.PLUGIN_VALIDATION=1]="PLUGIN_VALIDATION",e[e.DYNAMIC_PLUGIN_LOAD_ALL=2]="DYNAMIC_PLUGIN_LOAD_ALL",e[e.SAVE_LOCAL_COPY=3]="SAVE_LOCAL_COPY",e[e.LEGACY_IMAGES_CODE=4]="LEGACY_IMAGES_CODE",e[e.FIND_AND_REPLACE=5]="FIND_AND_REPLACE",e[e.REPLACE_LIBRARIES=6]="REPLACE_LIBRARIES",e[e.LIBRARY_UPDATES=7]="LIBRARY_UPDATES",e[e.MISSING_FONTS=8]="MISSING_FONTS",e[e.BRANCHING_MODAL_OPEN=9]="BRANCHING_MODAL_OPEN",e[e.BRANCHING_MERGE_TO_MAIN=10]="BRANCHING_MERGE_TO_MAIN",e[e.DEBUG_TOOL=11]="DEBUG_TOOL",e))(lr||{}),ln=(e=>(e[e.ASSET_UPDATE=0]="ASSET_UPDATE",e[e.AUTOSAVE=1]="AUTOSAVE",e[e.DEV_HANDOFF_STATUS=2]="DEV_HANDOFF_STATUS",e[e.HYPERLINK_PRELOAD=3]="HYPERLINK_PRELOAD",e[e.PAGE_INITIAL_LOAD=4]="PAGE_INITIAL_LOAD",e[e.PAGE_CHANGE=5]="PAGE_CHANGE",e[e.PAGE_DELETE=6]="PAGE_DELETE",e[e.PAGE_DIVIDER_CHECK=7]="PAGE_DIVIDER_CHECK",e[e.PAGE_DUPLICATE=8]="PAGE_DUPLICATE",e[e.PAGE_MOVE_TO=9]="PAGE_MOVE_TO",e[e.PLUGIN=10]="PLUGIN",e))(ln||{}),li=(e=>(e[e.NONE=0]="NONE",e[e.DOCUMENT=1]="DOCUMENT",e[e.CANVAS=2]="CANVAS",e[e.GROUP_DEPRECATED=3]="GROUP_DEPRECATED",e[e.FRAME=4]="FRAME",e[e.SYMBOL=5]="SYMBOL",e[e.INSTANCE=6]="INSTANCE",e[e.STICKY=7]="STICKY",e[e.SHAPE_WITH_TEXT=8]="SHAPE_WITH_TEXT",e[e.CONNECTOR=9]="CONNECTOR",e[e.CODE_BLOCK=10]="CODE_BLOCK",e[e.WIDGET=11]="WIDGET",e[e.STAMP=12]="STAMP",e[e.MEDIA=13]="MEDIA",e[e.SECTION=14]="SECTION",e[e.SECTION_OVERLAY=15]="SECTION_OVERLAY",e[e.TABLE=16]="TABLE",e[e.TABLE_CELL=17]="TABLE_CELL",e[e.SLIDE=18]="SLIDE",e[e.SLIDE_GRID=19]="SLIDE_GRID",e[e.SLIDE_ROW=20]="SLIDE_ROW",e[e.MODULE=21]="MODULE",e[e.VECTOR_OPERATION=22]="VECTOR_OPERATION",e[e.VECTOR=23]="VECTOR",e[e.HIGHLIGHT=24]="HIGHLIGHT",e[e.STAR=25]="STAR",e[e.LINE=26]="LINE",e[e.ELLIPSE=27]="ELLIPSE",e[e.RECTANGLE=28]="RECTANGLE",e[e.REGULAR_POLYGON=29]="REGULAR_POLYGON",e[e.ROUNDED_RECTANGLE=30]="ROUNDED_RECTANGLE",e[e.TEXT=31]="TEXT",e[e.SLICE=32]="SLICE",e[e.WASHI_TAPE=33]="WASHI_TAPE",e[e.VARIABLE=34]="VARIABLE",e[e.VARIABLE_SET=35]="VARIABLE_SET",e[e.ASSISTED_LAYOUT_DEPRECATED=36]="ASSISTED_LAYOUT_DEPRECATED",e[e.INTERACTIVE_SLIDE_ELEMENT=37]="INTERACTIVE_SLIDE_ELEMENT",e[e.VARIABLE_OVERRIDE=38]="VARIABLE_OVERRIDE",e))(li||{}),la=(e=>(e[e.EMBED=0]="EMBED",e[e.LINK_PREVIEW=1]="LINK_PREVIEW",e[e.WIDGET=2]="WIDGET",e))(la||{}),lo=(e=>(e[e.LOCAL=0]="LOCAL",e[e.REMOTE=1]="REMOTE",e))(lo||{}),ll=(e=>(e[e.CREATE=0]="CREATE",e[e.DELETE=1]="DELETE",e[e.PROPERTY_CHANGE=2]="PROPERTY_CHANGE",e[e.STYLE_PROPERTY_CHANGE=3]="STYLE_PROPERTY_CHANGE",e[e.STYLE_CREATE=4]="STYLE_CREATE",e[e.STYLE_DELETE=5]="STYLE_DELETE",e))(ll||{}),ls=(e=>(e[e.LOADED=0]="LOADED",e[e.LOADING=1]="LOADING",e[e.FAILED=2]="FAILED",e))(ls||{}),lc=(e=>(e[e.GROUP=0]="GROUP",e[e.UNION=1]="UNION",e[e.SUBTRACT=2]="SUBTRACT",e[e.INTERSECT=3]="INTERSECT",e[e.XOR=4]="XOR",e[e.STATE_GROUP=5]="STATE_GROUP",e))(lc||{}),ld=(e=>(e[e.UNLOADED=0]="UNLOADED",e[e.NOT_ANIMATED=1]="NOT_ANIMATED",e[e.ANIMATED=2]="ANIMATED",e))(ld||{}),lu=(e=>(e[e.NONE=0]="NONE",e[e.PRESET=1]="PRESET",e[e.CUSTOM=2]="CUSTOM",e[e.PRESENTATION=3]="PRESENTATION",e))(lu||{}),lp=(e=>(e[e.VALID=0]="VALID",e[e.NO_FRAMES=1]="NO_FRAMES",e[e.INVALID_START_NODE=2]="INVALID_START_NODE",e))(lp||{}),lm=(e=>(e[e.SCROLLS=0]="SCROLLS",e[e.FIXED=1]="FIXED",e[e.STICKY_SCROLLS=2]="STICKY_SCROLLS",e))(lm||{}),l_=(e=>(e[e.INACTIVE=0]="INACTIVE",e[e.ALL_FRAMES=1]="ALL_FRAMES",e[e.COMPONENT_SET=2]="COMPONENT_SET",e[e.RESPONSIVE_SET=3]="RESPONSIVE_SET",e))(l_||{}),lh=(e=>(e[e.VARIABLES_MODAL=0]="VARIABLES_MODAL",e[e.VARIABLE_PICKER=1]="VARIABLE_PICKER",e[e.SLIDES_THEME=2]="SLIDES_THEME",e))(lh||{}),lg=(e=>(e[e.AUTOMATIC_FIRST_COLLECTION=0]="AUTOMATIC_FIRST_COLLECTION",e[e.VARIABLES_MODAL=1]="VARIABLES_MODAL",e))(lg||{}),lf=(e=>(e[e.ADD_CHANGES=0]="ADD_CHANGES",e[e.REPLACE_CHANGES=1]="REPLACE_CHANGES",e))(lf||{}),lE=(e=>(e[e.NONE=0]="NONE",e[e.DISCONNECTED_AUTOSAVE_DISABLED=1]="DISCONNECTED_AUTOSAVE_DISABLED",e[e.DISCONNECTED_SERVER_ISSUES=2]="DISCONNECTED_SERVER_ISSUES",e[e.DISCONNECTED_OTHER=3]="DISCONNECTED_OTHER",e[e.SYNCING_AUTOSAVE_DISABLED=4]="SYNCING_AUTOSAVE_DISABLED",e[e.SYNCING_SERVER_ISSUES=5]="SYNCING_SERVER_ISSUES",e[e.SYNCING_OTHER=6]="SYNCING_OTHER",e[e.SUPPRESS_UNSAVED_CHANGES_UI=7]="SUPPRESS_UNSAVED_CHANGES_UI",e))(lE||{}),ly=(e=>(e[e.NONE=0]="NONE",e[e.SCENEGRAPH_VALIDATION_ERROR=1]="SCENEGRAPH_VALIDATION_ERROR",e[e.NON_ATOMIC_SYNC_ERROR=2]="NON_ATOMIC_SYNC_ERROR",e))(ly||{}),lb=(e=>(e[e.NEW_FILE=0]="NEW_FILE",e[e.INITIAL_LOAD=1]="INITIAL_LOAD",e[e.RECONNECT=2]="RECONNECT",e))(lb||{}),lv=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.CROSSHAIR=1]="CROSSHAIR",e[e.EYEDROPPER=2]="EYEDROPPER",e[e.HAND=3]="HAND",e[e.PAINT_BUCKET=4]="PAINT_BUCKET",e[e.PEN=5]="PEN",e[e.PENCIL=6]="PENCIL",e[e.MARKER=7]="MARKER",e[e.ERASER=8]="ERASER",e[e.HIGHLIGHTER=9]="HIGHLIGHTER",e[e.HIGH_FIVE=10]="HIGH_FIVE",e[e.LASSO=11]="LASSO",e))(lv||{}),lI=(e=>(e[e.NONE=0]="NONE",e[e.STICKY=1]="STICKY",e[e.SHAPE_WITH_TEXT=2]="SHAPE_WITH_TEXT",e[e.SECTION=3]="SECTION",e[e.BUG_BASH=4]="BUG_BASH",e[e.STANDUP=5]="STANDUP",e[e.DESIGN_CRIT=6]="DESIGN_CRIT",e[e.USER_JOURNEY=7]="USER_JOURNEY",e[e.MAKE_SOMETHING_BRAINSTORM=8]="MAKE_SOMETHING_BRAINSTORM",e[e.MAKE_SOMETHING_TEAM_CHART=9]="MAKE_SOMETHING_TEAM_CHART",e[e.MAKE_SOMETHING_TEAM_UPDATES=10]="MAKE_SOMETHING_TEAM_UPDATES",e[e.MAKE_SOMETHING_PLANNING=11]="MAKE_SOMETHING_PLANNING",e[e.RETRO=12]="RETRO",e))(lI||{}),lT=(e=>(e[e.BASIC=0]="BASIC",e[e.EXPANDED=1]="EXPANDED",e))(lT||{}),lS=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.BLUE=1]="BLUE",e[e.GREEN=2]="GREEN",e[e.PURPLE=3]="PURPLE",e[e.RED=4]="RED",e[e.YELLOW=5]="YELLOW",e))(lS||{}),lw=(e=>(e[e.DIAGRAM=0]="DIAGRAM",e[e.ORG_CHART=1]="ORG_CHART",e))(lw||{}),lA=(e=>(e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL",e))(lA||{}),lC=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.PURPLE=1]="PURPLE",e[e.BLUE=2]="BLUE",e[e.GREEN=3]="GREEN",e))(lC||{}),lN=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.BLUE=1]="BLUE",e[e.GREEN=2]="GREEN",e[e.PURPLE=3]="PURPLE",e[e.RED=4]="RED",e[e.YELLOW=5]="YELLOW",e))(lN||{}),lO=(e=>(e[e.V100=0]="V100",e[e.V200=1]="V200",e[e.V300=2]="V300",e[e.V400=3]="V400",e[e.V500=4]="V500",e[e.V600=5]="V600",e[e.V700=6]="V700",e[e.V800=7]="V800",e[e.V900=8]="V900",e[e.V1000=9]="V1000",e))(lO||{}),lL=(e=>(e[e.SELECTION=0]="SELECTION",e[e.PENCIL_TOOL=1]="PENCIL_TOOL",e[e.SHAPE_TOOL=2]="SHAPE_TOOL",e[e.EDIT_PALETTE_MODAL=3]="EDIT_PALETTE_MODAL",e))(lL||{}),lR=(e=>(e[e.ALL=0]="ALL",e[e.SECTION_STATUS_LABEL=1]="SECTION_STATUS_LABEL",e[e.SECTION_PRESET_PICKER=2]="SECTION_PRESET_PICKER",e[e.LAYOUT_SET_PLAY_BUTTON=3]="LAYOUT_SET_PLAY_BUTTON",e[e.LAYOUT_SET_PLUS_BUTTON=4]="LAYOUT_SET_PLUS_BUTTON",e))(lR||{}),lP=(e=>(e[e.LEGACY=0]="LEGACY",e[e.DEFAULT=1]="DEFAULT",e[e.MERGE_MODAL=2]="MERGE_MODAL",e[e.RECOVERY=3]="RECOVERY",e[e.MAXIMUM=4]="MAXIMUM",e))(lP||{}),lk=(e=>(e[e.GL_VERTEX_BUFFER=0]="GL_VERTEX_BUFFER",e[e.GL_TEXTURE_FAILURE=1]="GL_TEXTURE_FAILURE",e[e.GL_RENDERBUFFER_FAILURE=2]="GL_RENDERBUFFER_FAILURE",e[e.GL_UNIFORM_BUFFER_FAILURE=3]="GL_UNIFORM_BUFFER_FAILURE",e))(lk||{}),lD=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.ALWAYS=1]="ALWAYS",e[e.NEVER=2]="NEVER",e))(lD||{}),lM=(e=>(e[e.AFTER_INITIAL_JOIN_END=0]="AFTER_INITIAL_JOIN_END",e[e.AFTER_FIRST_RENDER=1]="AFTER_FIRST_RENDER",e[e.DOCUMENT_STARTED_SAVING=2]="DOCUMENT_STARTED_SAVING",e[e.DOCUMENT_FINISHED_SAVING=3]="DOCUMENT_FINISHED_SAVING",e))(lM||{}),lx=(e=>(e[e.FULLSCREEN=0]="FULLSCREEN",e[e.NON_FULLSCREEN=1]="NON_FULLSCREEN",e))(lx||{}),lF=(e=>(e[e.IGNORE_AUTOLAYOUT=0]="IGNORE_AUTOLAYOUT",e[e.FORCE_INSERTION=1]="FORCE_INSERTION",e[e.PREVENT_NESTING=2]="PREVENT_NESTING",e))(lF||{}),lU=(e=>(e[e.NONE=0]="NONE",e[e.FAST=1]="FAST",e[e.DEFAULT=6]="DEFAULT",e[e.BEST=9]="BEST",e))(lU||{}),lB=(e=>(e[e.SRGB=0]="SRGB",e[e.DISPLAY_P3=1]="DISPLAY_P3",e))(lB||{}),lH=(e=>(e[e.LEGACY=0]="LEGACY",e[e.SRGB=1]="SRGB",e[e.DISPLAY_P3=2]="DISPLAY_P3",e))(lH||{}),lV=(e=>(e[e.DOCUMENT=0]="DOCUMENT",e[e.SRGB=1]="SRGB",e[e.DISPLAY_P3_V4=2]="DISPLAY_P3_V4",e))(lV||{}),lG=(e=>(e[e.NO_CONVERSION=0]="NO_CONVERSION",e[e.SRGB_TO_DISPLAY_P3=1]="SRGB_TO_DISPLAY_P3",e[e.DISPLAY_P3_TO_SRGB=2]="DISPLAY_P3_TO_SRGB",e))(lG||{}),lW=(e=>(e[e.INVALID=0]="INVALID",e[e.TEST_SETUP=1]="TEST_SETUP",e[e.USER=2]="USER",e[e.PLUGIN=3]="PLUGIN",e[e.SYSTEM=4]="SYSTEM",e[e.REST_API=5]="REST_API",e[e.ONBOARDING=6]="ONBOARDING",e[e.AUTOSAVE=7]="AUTOSAVE",e[e.AI=8]="AI",e))(lW||{}),lK=(e=>(e[e.LOCAL=0]="LOCAL",e[e.GOOGLE=1]="GOOGLE",e[e.SHARED=2]="SHARED",e))(lK||{}),lY=(e=>(e[e.FILL=0]="FILL",e[e.FIT=1]="FIT",e[e.STRETCH=2]="STRETCH",e[e.TILE=3]="TILE",e))(lY||{}),lj=(e=>(e[e.NON_ANIMATED_ONLY=0]="NON_ANIMATED_ONLY",e[e.LOW_RES_ONLY=1]="LOW_RES_ONLY",e[e.ALL=2]="ALL",e))(lj||{}),lz=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.UNSUPPORTED_MEDIA=1]="UNSUPPORTED_MEDIA",e[e.OTHER_FAILURE=2]="OTHER_FAILURE",e))(lz||{}),l$=(e=>(e[e.REDUX=0]="REDUX",e[e.PLUGIN=1]="PLUGIN",e[e.PROTOTYPE_LIB=2]="PROTOTYPE_LIB",e))(l$||{}),lZ=(e=>(e[e.IGNORE=0]="IGNORE",e[e.TRACK=1]="TRACK",e))(lZ||{}),lq=(e=>(e[e.NONE=0]="NONE",e[e.BUILD=1]="BUILD",e[e.COMPLETED=2]="COMPLETED",e))(lq||{}),lJ=(e=>(e[e.NONE=0]="NONE",e[e.AUTO=1]="AUTO",e[e.TOP=2]="TOP",e[e.LEFT=3]="LEFT",e[e.BOTTOM=4]="BOTTOM",e[e.RIGHT=5]="RIGHT",e[e.CENTER=6]="CENTER",e))(lJ||{}),lX=(e=>(e[e.FILL=0]="FILL",e[e.STROKE=1]="STROKE",e[e.WIDTH=2]="WIDTH",e[e.HEIGHT=3]="HEIGHT",e[e.MIN_WIDTH=4]="MIN_WIDTH",e[e.MIN_HEIGHT=5]="MIN_HEIGHT",e[e.MAX_WIDTH=6]="MAX_WIDTH",e[e.MAX_HEIGHT=7]="MAX_HEIGHT",e[e.STROKE_WIDTH=8]="STROKE_WIDTH",e[e.CORNER_RADIUS=9]="CORNER_RADIUS",e[e.EFFECT=10]="EFFECT",e[e.TEXT_STYLE=11]="TEXT_STYLE",e[e.TEXT_ALIGN_HORIZONTAL=12]="TEXT_ALIGN_HORIZONTAL",e[e.FONT_FAMILY=13]="FONT_FAMILY",e[e.FONT_SIZE=14]="FONT_SIZE",e[e.FONT_WEIGHT=15]="FONT_WEIGHT",e[e.LINE_HEIGHT=16]="LINE_HEIGHT",e[e.LETTER_SPACING=17]="LETTER_SPACING",e[e.STACK_SPACING=18]="STACK_SPACING",e[e.STACK_PADDING=19]="STACK_PADDING",e[e.STACK_MODE=20]="STACK_MODE",e[e.STACK_ALIGNMENT=21]="STACK_ALIGNMENT",e[e.OPACITY=22]="OPACITY",e[e.COMPONENT=23]="COMPONENT",e[e.FONT_STYLE=24]="FONT_STYLE",e))(lX||{}),lQ=(e=>(e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e))(lQ||{}),l0=(e=>(e[e.COMPONENT=0]="COMPONENT",e[e.STATE_GROUP=1]="STATE_GROUP",e))(l0||{}),l1=(e=>(e[e.NONE=0]="NONE",e[e.CAP_HEIGHT=1]="CAP_HEIGHT",e))(l1||{}),l2=(e=>(e[e.FILL=0]="FILL",e[e.STROKE=1]="STROKE",e[e.BACKGROUND__NO_LONGER_USED=2]="BACKGROUND__NO_LONGER_USED",e[e.TEXT=3]="TEXT",e[e.EFFECT=4]="EFFECT",e[e.GRID=5]="GRID",e[e.DEPRECATED_STROKE=6]="DEPRECATED_STROKE",e[e.NOT_SUPPORTED=7]="NOT_SUPPORTED",e))(l2||{}),l3=(e=>(e[e.TOGGLE_BOLD=0]="TOGGLE_BOLD",e[e.INCREASE_BOLD=1]="INCREASE_BOLD",e[e.DECREASE_BOLD=2]="DECREASE_BOLD",e[e.TOGGLE_ITALIC=3]="TOGGLE_ITALIC",e[e.TOGGLE_UNDERLINE=4]="TOGGLE_UNDERLINE",e[e.TOGGLE_STRIKETHROUGH=5]="TOGGLE_STRIKETHROUGH",e[e.REMOVE_DECORATION=6]="REMOVE_DECORATION",e[e.SET_ORIGINAL_CASE=7]="SET_ORIGINAL_CASE",e[e.SET_UPPER_CASE=8]="SET_UPPER_CASE",e[e.SET_LOWER_CASE=9]="SET_LOWER_CASE",e[e.SET_TITLE_CASE=10]="SET_TITLE_CASE",e[e.INCREASE_LETTER_SPACING=11]="INCREASE_LETTER_SPACING",e[e.DECREASE_LETTER_SPACING=12]="DECREASE_LETTER_SPACING",e[e.INCREASE_LINE_HEIGHT=13]="INCREASE_LINE_HEIGHT",e[e.DECREASE_LINE_HEIGHT=14]="DECREASE_LINE_HEIGHT",e))(l3||{}),l5=(e=>(e[e.SET_BOLD=0]="SET_BOLD",e[e.SET_UNBOLD=1]="SET_UNBOLD",e[e.INCREASE_BOLD=2]="INCREASE_BOLD",e[e.DECREASE_BOLD=3]="DECREASE_BOLD",e[e.SET_ITALIC=4]="SET_ITALIC",e[e.SET_UNITALIC=5]="SET_UNITALIC",e[e.SET_UNDERLINE=6]="SET_UNDERLINE",e[e.SET_STRIKETHROUGH=7]="SET_STRIKETHROUGH",e[e.REMOVE_DECORATION=8]="REMOVE_DECORATION",e[e.SET_ORIGINAL_CASE=9]="SET_ORIGINAL_CASE",e[e.SET_UPPER_CASE=10]="SET_UPPER_CASE",e[e.SET_LOWER_CASE=11]="SET_LOWER_CASE",e[e.SET_TITLE_CASE=12]="SET_TITLE_CASE",e[e.INCREASE_LETTER_SPACING=13]="INCREASE_LETTER_SPACING",e[e.DECREASE_LETTER_SPACING=14]="DECREASE_LETTER_SPACING",e[e.INCREASE_LINE_HEIGHT=15]="INCREASE_LINE_HEIGHT",e[e.DECREASE_LINE_HEIGHT=16]="DECREASE_LINE_HEIGHT",e))(l5||{}),l4=(e=>(e[e.NONE=0]="NONE",e[e.CREATED=1]="CREATED",e[e.EDITED=2]="EDITED",e[e.REMOVED=3]="REMOVED",e[e.INDIRECTLY_EDITED=4]="INDIRECTLY_EDITED",e[e.AFFECTED=5]="AFFECTED",e[e.LIBRARY_UPDATES=6]="LIBRARY_UPDATES",e))(l4||{}),l8=(e=>(e[e.ALL_SCOPES=0]="ALL_SCOPES",e[e.TEXT_CONTENT=1]="TEXT_CONTENT",e[e.CORNER_RADIUS=2]="CORNER_RADIUS",e[e.WIDTH_HEIGHT=3]="WIDTH_HEIGHT",e[e.GAP=4]="GAP",e[e.ALL_FILLS=5]="ALL_FILLS",e[e.FRAME_FILL=6]="FRAME_FILL",e[e.SHAPE_FILL=7]="SHAPE_FILL",e[e.TEXT_FILL=8]="TEXT_FILL",e[e.STROKE=9]="STROKE",e[e.STROKE_FLOAT=10]="STROKE_FLOAT",e[e.EFFECT_FLOAT=11]="EFFECT_FLOAT",e[e.EFFECT_COLOR=12]="EFFECT_COLOR",e[e.OPACITY=13]="OPACITY",e[e.FONT_STYLE=14]="FONT_STYLE",e[e.FONT_FAMILY=15]="FONT_FAMILY",e[e.FONT_SIZE=16]="FONT_SIZE",e[e.LINE_HEIGHT=17]="LINE_HEIGHT",e[e.LETTER_SPACING=18]="LETTER_SPACING",e[e.PARAGRAPH_SPACING=19]="PARAGRAPH_SPACING",e[e.PARAGRAPH_INDENT=20]="PARAGRAPH_INDENT",e[e.FONT_VARIATIONS=21]="FONT_VARIATIONS",e))(l8||{}),l6=(e=>(e[e.WEB=0]="WEB",e[e.ANDROID=1]="ANDROID",e[e.iOS=2]="iOS",e))(l6||{}),l7=(e=>(e[e.NONE=0]="NONE",e[e.PRESET=1]="PRESET",e[e.CUSTOM=2]="CUSTOM",e[e.PRESENTATION=3]="PRESENTATION",e))(l7||{}),l9=(e=>(e[e.ALL=0]="ALL",e[e.BASE_SCREENS=1]="BASE_SCREENS",e[e.SCROLL_TO=2]="SCROLL_TO",e[e.STATES=3]="STATES",e))(l9||{}),se=(e=>(e[e.NONE=0]="NONE",e[e.CCW_90=1]="CCW_90",e))(se||{}),st=(e=>(e[e.PLAIN=0]="PLAIN",e[e.ORDERED_LIST=1]="ORDERED_LIST",e[e.UNORDERED_LIST=2]="UNORDERED_LIST",e[e.BLOCKQUOTE=3]="BLOCKQUOTE",e[e.HEADER=4]="HEADER",e))(st||{}),sr=(e=>(e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e))(sr||{}),sn=(e=>(e[e.NONE=0]="NONE",e[e.SEMANTIC_WEIGHT=1]="SEMANTIC_WEIGHT",e[e.SEMANTIC_ITALIC=2]="SEMANTIC_ITALIC",e))(sn||{}),si=(e=>(e[e.CENTER=0]="CENTER",e[e.INSIDE=1]="INSIDE",e[e.OUTSIDE=2]="OUTSIDE",e))(si||{}),sa=(e=>(e[e.NODE_CREATED=0]="NODE_CREATED",e[e.NODE_DELETED=1]="NODE_DELETED",e[e.NODE_MOVED=2]="NODE_MOVED",e[e.NODE_RESIZED=3]="NODE_RESIZED",e[e.TEXT_SELECTION=4]="TEXT_SELECTION",e[e.TOOL=5]="TOOL",e[e.TABLE_CELL_TEXT_SELECTION=6]="TABLE_CELL_TEXT_SELECTION",e))(sa||{}),so=(e=>(e[e.NONE=0]="NONE",e[e.FIGJAM=1]="FIGJAM",e[e.VIEWER=2]="VIEWER",e))(so||{}),sl=(e=>(e[e.READ=0]="READ",e[e.ELIDE=1]="ELIDE",e[e.SKIP=2]="SKIP",e))(sl||{}),ss=(e=>(e[e.ELBOWED=0]="ELBOWED",e[e.STRAIGHT=1]="STRAIGHT",e))(ss||{}),sc=(e=>(e[e.SWT_CREATED=0]="SWT_CREATED",e[e.SWT_DELETED=1]="SWT_DELETED",e[e.SWT_EDITED=2]="SWT_EDITED",e[e.SWT_RESIZED=3]="SWT_RESIZED",e[e.STICKY_DELETED=4]="STICKY_DELETED",e[e.STICKY_EDITED=5]="STICKY_EDITED",e[e.STICKY_RESIZED=6]="STICKY_RESIZED",e))(sc||{}),sd=(e=>(e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e))(sd||{}),su=(e=>(e[e.LIGHT=0]="LIGHT",e[e.DARK=1]="DARK",e))(su||{}),sp=(e=>(e[e.NONE=0]="NONE",e[e.DISSOLVE=1]="DISSOLVE",e[e.SLIDE_FROM_LEFT=2]="SLIDE_FROM_LEFT",e[e.SLIDE_FROM_RIGHT=3]="SLIDE_FROM_RIGHT",e[e.SLIDE_FROM_TOP=4]="SLIDE_FROM_TOP",e[e.SLIDE_FROM_BOTTOM=5]="SLIDE_FROM_BOTTOM",e[e.PUSH_FROM_LEFT=6]="PUSH_FROM_LEFT",e[e.PUSH_FROM_RIGHT=7]="PUSH_FROM_RIGHT",e[e.PUSH_FROM_TOP=8]="PUSH_FROM_TOP",e[e.PUSH_FROM_BOTTOM=9]="PUSH_FROM_BOTTOM",e[e.MOVE_FROM_LEFT=10]="MOVE_FROM_LEFT",e[e.MOVE_FROM_RIGHT=11]="MOVE_FROM_RIGHT",e[e.MOVE_FROM_TOP=12]="MOVE_FROM_TOP",e[e.MOVE_FROM_BOTTOM=13]="MOVE_FROM_BOTTOM",e[e.SLIDE_OUT_TO_LEFT=14]="SLIDE_OUT_TO_LEFT",e[e.SLIDE_OUT_TO_RIGHT=15]="SLIDE_OUT_TO_RIGHT",e[e.SLIDE_OUT_TO_TOP=16]="SLIDE_OUT_TO_TOP",e[e.SLIDE_OUT_TO_BOTTOM=17]="SLIDE_OUT_TO_BOTTOM",e[e.MOVE_OUT_TO_LEFT=18]="MOVE_OUT_TO_LEFT",e[e.MOVE_OUT_TO_RIGHT=19]="MOVE_OUT_TO_RIGHT",e[e.MOVE_OUT_TO_TOP=20]="MOVE_OUT_TO_TOP",e[e.MOVE_OUT_TO_BOTTOM=21]="MOVE_OUT_TO_BOTTOM",e[e.SMART_ANIMATE=22]="SMART_ANIMATE",e))(sp||{}),sm=(e=>(e[e.FullscreenApp=0]="FullscreenApp",e[e.PrototypeLib=1]="PrototypeLib",e[e.InteractionTest=2]="InteractionTest",e))(sm||{}),s_=(e=>(e[e.FROM=0]="FROM",e[e.TO=1]="TO",e))(s_||{}),sh=(e=>(e[e.INVALID=0]="INVALID",e[e.PRIMARY_INSTANCE_BACKED_BY_SYMBOL=1]="PRIMARY_INSTANCE_BACKED_BY_SYMBOL",e[e.PRIMARY_INSTANCE_WITH_NESTED_SWAP_TO_SYMBOL=2]="PRIMARY_INSTANCE_WITH_NESTED_SWAP_TO_SYMBOL",e[e.PRIMARY_INSTANCE_WITH_TOP_LEVEL_PROP_ASSIGNMENT_TO_SYMBOL=3]="PRIMARY_INSTANCE_WITH_TOP_LEVEL_PROP_ASSIGNMENT_TO_SYMBOL",e[e.PRIMARY_INSTANCE_WITH_NESTED_PROP_ASSIGNMENT_TO_SYMBOL=4]="PRIMARY_INSTANCE_WITH_NESTED_PROP_ASSIGNMENT_TO_SYMBOL",e[e.PRODUCT_COMPONENT_WITH_PROP_DEF_TO_SYMBOL=5]="PRODUCT_COMPONENT_WITH_PROP_DEF_TO_SYMBOL",e[e.STATE_WITH_PROP_DEF_TO_SYMBOL=6]="STATE_WITH_PROP_DEF_TO_SYMBOL",e[e.SYMBOL_CONTAINING_PRIMARY_INSTANCE=7]="SYMBOL_CONTAINING_PRIMARY_INSTANCE",e))(sh||{}),sg=(e=>(e[e.NONE=0]="NONE",e[e.TOO_MANY_VARIABLES_ERROR=1]="TOO_MANY_VARIABLES_ERROR",e[e.TOO_MANY_MODES_ERROR=2]="TOO_MANY_MODES_ERROR",e))(sg||{}),sf=(e=>(e[e.NONE=0]="NONE",e[e.LESS_THAN_MIN_WIDTH=1]="LESS_THAN_MIN_WIDTH",e[e.LESS_THAN_MIN_HEIGHT=2]="LESS_THAN_MIN_HEIGHT",e[e.GREATER_THAN_MAX_WIDTH=3]="GREATER_THAN_MAX_WIDTH",e[e.GREATER_THAN_MAX_HEIGHT=4]="GREATER_THAN_MAX_HEIGHT",e))(sf||{}),sE=(e=>(e[e.BOOLEAN=0]="BOOLEAN",e[e.FLOAT=1]="FLOAT",e[e.STRING=2]="STRING",e[e.COLOR=3]="COLOR",e[e.MAP=4]="MAP",e[e.SYMBOL_ID=5]="SYMBOL_ID",e[e.FONT_STYLE=6]="FONT_STYLE",e[e.TEXT_DATA=7]="TEXT_DATA",e))(sE||{}),sy=(e=>(e[e.BOOLEAN=0]="BOOLEAN",e[e.FLOAT=1]="FLOAT",e[e.STRING=2]="STRING",e[e.ALIAS=3]="ALIAS",e[e.COLOR=4]="COLOR",e[e.EXPRESSION=5]="EXPRESSION",e[e.MAP=6]="MAP",e[e.SYMBOL_ID=7]="SYMBOL_ID",e[e.FONT_STYLE=8]="FONT_STYLE",e[e.TEXT_DATA=9]="TEXT_DATA",e[e.INVALID=10]="INVALID",e[e.NODE_FIELD_ALIAS=11]="NODE_FIELD_ALIAS",e))(sy||{}),sb=(e=>(e[e.ADDITION=0]="ADDITION",e[e.SUBTRACTION=1]="SUBTRACTION",e[e.RESOLVE_VARIANT=2]="RESOLVE_VARIANT",e[e.MULTIPLY=3]="MULTIPLY",e[e.DIVIDE=4]="DIVIDE",e[e.EQUALS=5]="EQUALS",e[e.NOT_EQUAL=6]="NOT_EQUAL",e[e.LESS_THAN=7]="LESS_THAN",e[e.LESS_THAN_OR_EQUAL=8]="LESS_THAN_OR_EQUAL",e[e.GREATER_THAN=9]="GREATER_THAN",e[e.GREATER_THAN_OR_EQUAL=10]="GREATER_THAN_OR_EQUAL",e[e.AND=11]="AND",e[e.OR=12]="OR",e[e.NOT=13]="NOT",e[e.STRINGIFY=14]="STRINGIFY",e[e.TERNARY=15]="TERNARY",e[e.VAR_MODE_LOOKUP=16]="VAR_MODE_LOOKUP",e[e.NEGATE=17]="NEGATE",e[e.IS_TRUTHY=18]="IS_TRUTHY",e))(sb||{}),sv=(e=>(e[e.INTERACTION_TEST=0]="INTERACTION_TEST",e[e.VIEWER_TEST=1]="VIEWER_TEST",e))(sv||{}),sI=(e=>(e[e.ALLOWED=0]="ALLOWED",e[e.DISALLOWED_CYCLE=1]="DISALLOWED_CYCLE",e[e.DISALLOWED_OTHER=2]="DISALLOWED_OTHER",e))(sI||{}),sT=(e=>(e[e.MATERIALIZE_SWAPPED_OUT_TREE=0]="MATERIALIZE_SWAPPED_OUT_TREE",e[e.SKIP_MATERIALIZATION=1]="SKIP_MATERIALIZATION",e))(sT||{}),sS=(e=>(e[e.PENDING_INITIAL_LOAD=0]="PENDING_INITIAL_LOAD",e[e.PENDING_LOAD_AFTER_RECONNECT=1]="PENDING_LOAD_AFTER_RECONNECT",e[e.LOADED=2]="LOADED",e))(sS||{}),sw=(e=>(e[e.NONE=0]="NONE",e[e.CONTAIN=1]="CONTAIN",e[e.SCALE_DOWN=2]="SCALE_DOWN",e[e.MIN_ZOOM=3]="MIN_ZOOM",e[e.FREE=4]="FREE",e[e.SCALE_DOWN_TO_FIT_WIDTH=5]="SCALE_DOWN_TO_FIT_WIDTH",e[e.FIT_WIDTH=6]="FIT_WIDTH",e[e.RESPONSIVE=7]="RESPONSIVE",e))(sw||{}),sA=(e=>(e[e.FIXED=0]="FIXED",e[e.RESPONSIVE=1]="RESPONSIVE",e))(sA||{}),sC=(e=>(e[e.MISSING_FONTS_ONLY=0]="MISSING_FONTS_ONLY",e[e.MISSING_OR_LOCAL_FONTS=1]="MISSING_OR_LOCAL_FONTS",e))(sC||{}),sN=(e=>(e[e.TEXT=0]="TEXT",e[e.KEY_PRESS=1]="KEY_PRESS",e[e.KEY_RELEASE=2]="KEY_RELEASE",e[e.MOUSE_MOVE=3]="MOUSE_MOVE",e[e.MOUSE_ENTER=4]="MOUSE_ENTER",e[e.MOUSE_LEAVE=5]="MOUSE_LEAVE",e[e.MOUSE_PRESS=6]="MOUSE_PRESS",e[e.MOUSE_DRAG=7]="MOUSE_DRAG",e[e.MOUSE_RELEASE=8]="MOUSE_RELEASE",e[e.MOUSE_WHEEL=9]="MOUSE_WHEEL",e[e.MOUSE_DROP=10]="MOUSE_DROP",e[e.MOUSE_ROTATE=11]="MOUSE_ROTATE",e[e.MOUSE_SCALE=12]="MOUSE_SCALE",e[e.MOUSE_SCALE_END=13]="MOUSE_SCALE_END",e[e.FOCUS_GAINED=14]="FOCUS_GAINED",e[e.FOCUS_LOST=15]="FOCUS_LOST",e[e.CLIPBOARD=16]="CLIPBOARD",e[e.MOUSE_MOVE_COALESCED=17]="MOUSE_MOVE_COALESCED",e[e.MOUSE_DRAG_COALESCED=18]="MOUSE_DRAG_COALESCED",e[e.CONTEXT_MENU_OPEN=19]="CONTEXT_MENU_OPEN",e[e.MOUSE_CANCEL=20]="MOUSE_CANCEL",e))(sN||{});function sO(e,t){switch(e){case"Actions":n=t;break;case"AnimationBindings":i=t;break;case"AppStateTsApi":a=t;break;case"AutosaveHelpers":o=t;break;case"BindingsPerfBench":l=t;break;case"NestedCppObject_Internal":s=t,window.NestedCppObject=t9,window.MutableNestedCppObject=re;break;case"TestCppObject_Internal":c=t,window.TestCppObject=rt,window.MutableTestCppObject=rr;break;case"CppBindingsTestHelpers":d=t;break;case"BranchingHelpers":u=t;break;case"BranchingState_Internal":p=t,window.BranchingState=rn,window.MutableBranchingState=ri;break;case"CanvasSearchHelpers":m=t;break;case"CanvasViewState_Internal":_=t,window.CanvasViewState=ra,window.MutableCanvasViewState=ro;break;case"ComponentPropsAiCPPBindings":h=t;break;case"CSSExportHelpers":g=t;break;case"CurrentPageState_Internal":f=t,window.CurrentPageState=rl,window.MutableCurrentPageState=rs;break;case"CurrentSceneState_Internal":E=t,window.CurrentSceneState=rc,window.MutableCurrentSceneState=rd;break;case"CustomFocusHelpers":y=t;break;case"DebuggingHelpers":b=t;break;case"DevHandoffState_Internal":v=t,window.DevHandoffState=ru,window.MutableDevHandoffState=rp;break;case"DiffImpl":I=t;break;case"EditorState_Internal":T=t,window.EditorState=rm,window.MutableEditorState=r_;break;case"EmbedUiState_Internal":S=t,window.EmbedUiState=rh,window.MutableEmbedUiState=rg;break;case"EditorPreferences_Internal":w=t,window.EditorPreferences=rf,window.MutableEditorPreferences=rE;break;case"JamboardImporterCppBindings":A=t;break;case"EmojiCppBindings":C=t;break;case"FigjamState_Internal":N=t,window.FigjamState=ry,window.MutableFigjamState=rb;break;case"FirstDraftHelpers":O=t;break;case"FontHelpers":L=t;break;case"FullscreenInteractionTestHelpers":R=t;break;case"FullscreenPerfInfo":P=t,window.FullscreenPerfInfo=P;break;case"FullscreenPerfMetrics":k=t;break;case"FullscreenWebSocketTsApi":D=t;break;case"StackBindingsCpp":M=t;break;case"Fullscreen":x=t;break;case"HandoffBindingsCpp":F=t;break;case"HistoryChangesBindings":U=t;break;case"HoverState_Internal":B=t,window.HoverState=rv,window.MutableHoverState=rI;break;case"EditorTypeConfig_Internal":H=t,window.EditorTypeConfig=rT,window.MutableEditorTypeConfig=rS;break;case"Viewport_Internal":V=t,window.Viewport=rw,window.MutableViewport=rA;break;case"MouseBehaviorEvent_Internal":G=t,window.MouseBehaviorEvent=rC,window.MutableMouseBehaviorEvent=rN;break;case"CanvasContext_Internal":W=t,window.CanvasContext=rO,window.MutableCanvasContext=rL;break;case"InteractionCpp":K=t;break;case"CanvasSnapper_Internal":Y=t,window.CanvasSnapper=rR,window.MutableCanvasSnapper=rP;break;case"LibraryPubSub":j=t;break;case"LibraryAssets_Internal":z=t,window.LibraryAssets=rk,window.MutableLibraryAssets=rD;break;case"MentionsCppBindings":$=t;break;case"MindmapCppBindings":Z=t;break;case"Multiplayer":q=t;break;case"PluginHelpers":J=t;break;case"PropertiesPanelState_Internal":X=t,window.PropertiesPanelState=rM,window.MutablePropertiesPanelState=rx;break;case"PrototypingEditorState_Internal":Q=t,window.PrototypingEditorState=rF,window.MutablePrototypingEditorState=rU;break;case"PrototypingTsApi":ee=t;break;case"ScaleToolState_Internal":et=t,window.ScaleToolState=rB,window.MutableScaleToolState=rH;break;case"ScaleToolTsApi":er=t;break;case"GradientToolApi":en=t;break;case"ImmutableFrameObserver_Internal":ei=t,window.ImmutableFrameObserver=rV,window.MutableImmutableFrameObserver=rG;break;case"SceneGraph_Internal":ea=t,window.SceneGraph=rW,window.MutableSceneGraph=rK;break;case"SceneGraphHelpers":eo=t;break;case"SceneNodeCpp":el=t;break;case"SelectionPaintHelpers":es=t;break;case"SelectionStylesHelpers":ec=t;break;case"StateManagementCPPBindings":ed=t;break;case"SharedStyle":eu=t;break;case"StickyClusteringCppBindings":ep=t;break;case"TestFullscreenMultiplayerDocument":em=t;break;case"TextStyleOverridesBindings":e_=t;break;case"Thumbnail":eh=t;break;case"UiState_Internal":eg=t,window.UiState=rY,window.MutableUiState=rj;break;case"UserPreferencesTestHelpers":ef=t;break;case"VariablesBindings":eE=t;break;case"VideoCppBindings":ey=t;break;case"WhiteboardAgendaCppBindings":eb=t;break;case"WhiteboardStarterKitCppBindings":ev=t;break;case"WhiteboardAiTemplatePreviewCppBindings":eI=t;break;case"WhiteboardAiVisualCppBindings":eT=t;break;case"WhiteboardTemplatePreviewCppBindings":eS=t;break;case"WhiteboardThumbnailGeneratorCppBindings":ew=t;break;case"WhiteboardTsApi":eA=t;break;case"WhiteboardVotingCppBindings":eC=t;break;case"HitTestBindings":eN=t;break;case"FlappData_Internal":eO=t,window.FlappData=rz,window.MutableFlappData=r$;break;case"SingleSlideView_Internal":eL=t,window.SingleSlideView=rZ,window.MutableSingleSlideView=rq;break;case"SlidesAiBindings":eR=t;break;case"SlideThemeStylePreview_Internal":eP=t,window.SlideThemeStylePreview=rJ,window.MutableSlideThemeStylePreview=rX;break;case"WhiteboardSectionPresetPickerCppBindings":ek=t;break;case"StylesBindings":eD=t;break;case"CorePerfInfo":eM=t,window.CorePerfInfo=eM;break;case"FeatureFlagsCppApi":ex=t;break;case"FullscreenOptimizationExposureLoggingBinding":eF=t;break;case"WeakHandleHelpers":eU=t;break;case"WebAsyncCallback":eB=t;break;case"PerformanceEventCounters":eH=t;break;case"GpuMetricsLoggingBinding":eV=t;break;case"ColorManagementStateJs":eG=t;break;case"EditScopeBindings":eW=t;break;case"Fonts":eK=t;break;case"ImageCppBindings":eY=t;break;case"BindingsNode_Internal":ej=t,window.BindingsNode=rQ,window.MutableBindingsNode=r0;break;case"NodeTsApi":ez=t;break;case"PrototypeInteractions_Internal":e$=t,window.PrototypeInteractions=r1,window.MutablePrototypeInteractions=r2;break;case"RevisionNumberAccessor":eZ=t;break;case"SceneGraphTsApi":eq=t;break;case"TextData_Internal":eJ=t,window.TextData=r3,window.MutableTextData=r5;break;case"DerivedTextData_Internal":eX=t,window.DerivedTextData=r4,window.MutableDerivedTextData=r8;break;case"UniquePath_Internal":eQ=t,window.UniquePath=r6,window.MutableUniquePath=r7;break;case"UniquePathHelpers":e0=t;break;case"CompiledVectorData_Internal":e1=t,window.CompiledVectorData=r9,window.MutableCompiledVectorData=ne;break;case"AccessibilityHelpers":e2=t;break;case"CanvasSelection_Internal":e3=t,window.CanvasSelection=nt,window.MutableCanvasSelection=nr;break;case"SlideDeck_Internal":e5=t,window.SlideDeck=nn,window.MutableSlideDeck=ni;break;case"SlideThemeLibBindings_Internal":e4=t,window.SlideThemeLibBindings=na,window.MutableSlideThemeLibBindings=no;break;case"SlideAnimationBindings_Internal":e8=t,window.SlideAnimationBindings=nl,window.MutableSlideAnimationBindings=ns;break;case"SitesPreviewObserver_Internal":e6=t,window.SitesPreviewObserver=nc,window.MutableSitesPreviewObserver=nd;break;case"AnnotationObserver_Internal":e7=t,window.AnnotationObserver=nu,window.MutableAnnotationObserver=np;break;case"NodeTsApiGenerated":e9=t;break;case"Bindings":te=t;break;case"DocumentStateTsApi":tt=t;break;case"FigmaScopeBindings":tr=t;break;case"VariablesMirrorManager":tn=t;break;case"SharedDebuggingHelpers":ti=t;break;case"InteractionTestHelpers":ta=t;break;case"Prototype":to=t,window.Prototype=to;break;case"ObservableValue_Map_GUID_Int_Internal":tl=t,window.ObservableValue_Map_GUID_Int=nm,window.MutableObservableValue_Map_GUID_Int=n_;break;case"WritableObservableValue_SlidesToolMode__Internal":ts=t,window.WritableObservableValue_SlidesToolMode_=nh,window.MutableWritableObservableValue_SlidesToolMode_=ng;break;case"ObservableValue_TestCounter__Internal":tc=t,window.ObservableValue_TestCounter_=nf,window.MutableObservableValue_TestCounter_=nE;break;case"ObservableValue_Array_TestCounter__Internal":td=t,window.ObservableValue_Array_TestCounter_=ny,window.MutableObservableValue_Array_TestCounter_=nb;break;case"ObservableValue_Array_Bool_Internal":tu=t,window.ObservableValue_Array_Bool=nv,window.MutableObservableValue_Array_Bool=nI;break;case"ObservableValue_Bool_Internal":tp=t,window.ObservableValue_Bool=nT,window.MutableObservableValue_Bool=nS;break;case"ObservableValue_Float_Internal":tm=t,window.ObservableValue_Float=nw,window.MutableObservableValue_Float=nA;break;case"WritableObservableValue_Bool_Internal":t_=t,window.WritableObservableValue_Bool=nC,window.MutableWritableObservableValue_Bool=nN;break;case"WritableObservableValue_Double_Internal":th=t,window.WritableObservableValue_Double=nO,window.MutableWritableObservableValue_Double=nL;break;case"WritableObservableValue_Int_Internal":tg=t,window.WritableObservableValue_Int=nR,window.MutableWritableObservableValue_Int=nP;break;case"ObservableValue_BoundingRect__Internal":tf=t,window.ObservableValue_BoundingRect_=nk,window.MutableObservableValue_BoundingRect_=nD;break;case"WritableObservableValue_Optional_InlineMenuTarget__Internal":tE=t,window.WritableObservableValue_Optional_InlineMenuTarget_=nM,window.MutableWritableObservableValue_Optional_InlineMenuTarget_=nx;break;case"ObservableValue_Optional_FocusedStackRegion__Internal":ty=t,window.ObservableValue_Optional_FocusedStackRegion_=nF,window.MutableObservableValue_Optional_FocusedStackRegion_=nU;break;case"WritableObservableValue_AnchorPoint__Internal":tb=t,window.WritableObservableValue_AnchorPoint_=nB,window.MutableWritableObservableValue_AnchorPoint_=nH;break;case"WritableObservableValue_Array_GUID_Internal":tv=t,window.WritableObservableValue_Array_GUID=nV,window.MutableWritableObservableValue_Array_GUID=nG;break;case"WritableObservableValue_Optional_GUID_Internal":tI=t,window.WritableObservableValue_Optional_GUID=nW,window.MutableWritableObservableValue_Optional_GUID=nK;break;case"ObservableValue_String_Internal":tT=t,window.ObservableValue_String=nY,window.MutableObservableValue_String=nj;break;case"ObservableValue_Array_DevHandoffOverviewNode__Internal":tS=t,window.ObservableValue_Array_DevHandoffOverviewNode_=nz,window.MutableObservableValue_Array_DevHandoffOverviewNode_=n$;break;case"ObservableValue_GUID_Internal":tw=t,window.ObservableValue_GUID=nZ,window.MutableObservableValue_GUID=nq;break;case"ObservableValue_Array_GUID_Internal":tA=t,window.ObservableValue_Array_GUID=nJ,window.MutableObservableValue_Array_GUID=nX;break;case"ObservableValue_Json_Internal":tC=t,window.ObservableValue_Json=nQ,window.MutableObservableValue_Json=n0;break;case"ObservableValue_PropertyState__Internal":tN=t,window.ObservableValue_PropertyState_=n1,window.MutableObservableValue_PropertyState_=n2;break;case"WritableObservableValue_GUID_Internal":tO=t,window.WritableObservableValue_GUID=n3,window.MutableWritableObservableValue_GUID=n5;break;case"WritableObservableValue_KeyboardLayout__Internal":tL=t,window.WritableObservableValue_KeyboardLayout_=n4,window.MutableWritableObservableValue_KeyboardLayout_=n8;break;case"ObservableValue_CommentAnchorData__Internal":tR=t,window.ObservableValue_CommentAnchorData_=n6,window.MutableObservableValue_CommentAnchorData_=n7;break;case"WritableObservableValue_ActiveEmbedData__Internal":tP=t,window.WritableObservableValue_ActiveEmbedData_=n9,window.MutableWritableObservableValue_ActiveEmbedData_=ie;break;case"WritableObservableValue_PresetType__Internal":tk=t,window.WritableObservableValue_PresetType_=it,window.MutableWritableObservableValue_PresetType_=ir;break;case"WritableObservableValue_ColorFormat__Internal":tD=t,window.WritableObservableValue_ColorFormat_=ii,window.MutableWritableObservableValue_ColorFormat_=ia;break;case"WritableObservableValue_Float_Internal":tM=t,window.WritableObservableValue_Float=io,window.MutableWritableObservableValue_Float=il;break;case"WritableObservableValue_HandoffOutputFormat__Internal":tx=t,window.WritableObservableValue_HandoffOutputFormat_=is,window.MutableWritableObservableValue_HandoffOutputFormat_=ic;break;case"WritableObservableValue_HandoffPlatformTarget__Internal":tF=t,window.WritableObservableValue_HandoffPlatformTarget_=id,window.MutableWritableObservableValue_HandoffPlatformTarget_=iu;break;case"WritableObservableValue_ExportSelectionSettings__Internal":tU=t,window.WritableObservableValue_ExportSelectionSettings_=ip,window.MutableWritableObservableValue_ExportSelectionSettings_=im;break;case"ObservableValue_Array_PublishableSymbolForWeb__Internal":tB=t,window.ObservableValue_Array_PublishableSymbolForWeb_=i_,window.MutableObservableValue_Array_PublishableSymbolForWeb_=ih;break;case"ObservableValue_Array_SubscribedSymbolForWeb__Internal":tH=t,window.ObservableValue_Array_SubscribedSymbolForWeb_=ig,window.MutableObservableValue_Array_SubscribedSymbolForWeb_=iE;break;case"ObservableValue_Array_PublishableStateGroupForWeb__Internal":tV=t,window.ObservableValue_Array_PublishableStateGroupForWeb_=iy,window.MutableObservableValue_Array_PublishableStateGroupForWeb_=ib;break;case"ObservableValue_Array_SubscribedStateGroupForWeb__Internal":tG=t,window.ObservableValue_Array_SubscribedStateGroupForWeb_=iv,window.MutableObservableValue_Array_SubscribedStateGroupForWeb_=iI;break;case"ObservableValue_Array_PublishableStyleForWeb__Internal":tW=t,window.ObservableValue_Array_PublishableStyleForWeb_=iT,window.MutableObservableValue_Array_PublishableStyleForWeb_=iS;break;case"ObservableValue_Array_SubscribedStyleForWeb__Internal":tK=t,window.ObservableValue_Array_SubscribedStyleForWeb_=iw,window.MutableObservableValue_Array_SubscribedStyleForWeb_=iA;break;case"ObservableValue_Array_PublishableModuleForWeb__Internal":tY=t,window.ObservableValue_Array_PublishableModuleForWeb_=iC,window.MutableObservableValue_Array_PublishableModuleForWeb_=iN;break;case"ObservableValue_Array_IDLSubscribedVariableSetInfo__Internal":tj=t,window.ObservableValue_Array_IDLSubscribedVariableSetInfo_=iO,window.MutableObservableValue_Array_IDLSubscribedVariableSetInfo_=iL;break;case"ObservableValue_Array_IDLSubscribedVariableInfo__Internal":tz=t,window.ObservableValue_Array_IDLSubscribedVariableInfo_=iR,window.MutableObservableValue_Array_IDLSubscribedVariableInfo_=iP;break;case"ObservableValue_Array_IDLLocalVariableSetInfo__Internal":t$=t,window.ObservableValue_Array_IDLLocalVariableSetInfo_=ik,window.MutableObservableValue_Array_IDLLocalVariableSetInfo_=iD;break;case"ObservableValue_Array_IDLLocalVariableInfo__Internal":tZ=t,window.ObservableValue_Array_IDLLocalVariableInfo_=iM,window.MutableObservableValue_Array_IDLLocalVariableInfo_=ix;break;case"WritableObservableValue_PropertiesPanelTab__Internal":tq=t,window.WritableObservableValue_PropertiesPanelTab_=iF,window.MutableWritableObservableValue_PropertiesPanelTab_=iU;break;case"ObservableValue_Int_Internal":tJ=t,window.ObservableValue_Int=iB,window.MutableObservableValue_Int=iH;break;case"ObservableValue_StrokePanelMode__Internal":tX=t,window.ObservableValue_StrokePanelMode_=iV,window.MutableObservableValue_StrokePanelMode_=iG;break;case"ObservableValue_PrototypeDevice__Internal":tQ=t,window.ObservableValue_PrototypeDevice_=iW,window.MutableObservableValue_PrototypeDevice_=iK;break;case"WritableObservableValue_PrototypeViewMode__Internal":t0=t,window.WritableObservableValue_PrototypeViewMode_=iY,window.MutableWritableObservableValue_PrototypeViewMode_=ij;break;case"ObservableValue_Double_Internal":t1=t,window.ObservableValue_Double=iz,window.MutableObservableValue_Double=i$;break;case"ObservableValue_AnchorPoint__Internal":t2=t,window.ObservableValue_AnchorPoint_=iZ,window.MutableObservableValue_AnchorPoint_=iq;break;case"WritableObservableValue_HoveredComponentPropDef__Internal":t3=t,window.WritableObservableValue_HoveredComponentPropDef_=iJ,window.MutableWritableObservableValue_HoveredComponentPropDef_=iX;break;case"ObservableValue_FocusModeState__Internal":t5=t,window.ObservableValue_FocusModeState_=iQ,window.MutableObservableValue_FocusModeState_=i0;break;case"ObservableValue_Map_Int_AutoLayoutShortcutHint__Internal":t4=t,window.ObservableValue_Map_Int_AutoLayoutShortcutHint_=i1,window.MutableObservableValue_Map_Int_AutoLayoutShortcutHint_=i2;break;case"ObservableValue_Optional_ReparentIntoStackInfo__Internal":t8=t,window.ObservableValue_Optional_ReparentIntoStackInfo_=i3,window.MutableObservableValue_Optional_ReparentIntoStackInfo_=i5;break;case"ObservableValue_DocumentColorProfile__Internal":t6=t,window.ObservableValue_DocumentColorProfile_=i4,window.MutableObservableValue_DocumentColorProfile_=i8;break;case"ObservableValue_Array_Array_GUID_Internal":t7=t,window.ObservableValue_Array_Array_GUID=i6,window.MutableObservableValue_Array_Array_GUID=i7}}function sL(e){n=e.Actions,i=e.AnimationBindings,a=e.AppStateTsApi,o=e.AutosaveHelpers,l=e.BindingsPerfBench,s=e.NestedCppObject_Internal,window.NestedCppObject=t9,window.MutableNestedCppObject=re,c=e.TestCppObject_Internal,window.TestCppObject=rt,window.MutableTestCppObject=rr,d=e.CppBindingsTestHelpers,u=e.BranchingHelpers,p=e.BranchingState_Internal,window.BranchingState=rn,window.MutableBranchingState=ri,m=e.CanvasSearchHelpers,_=e.CanvasViewState_Internal,window.CanvasViewState=ra,window.MutableCanvasViewState=ro,h=e.ComponentPropsAiCPPBindings,g=e.CSSExportHelpers,f=e.CurrentPageState_Internal,window.CurrentPageState=rl,window.MutableCurrentPageState=rs,E=e.CurrentSceneState_Internal,window.CurrentSceneState=rc,window.MutableCurrentSceneState=rd,y=e.CustomFocusHelpers,b=e.DebuggingHelpers,v=e.DevHandoffState_Internal,window.DevHandoffState=ru,window.MutableDevHandoffState=rp,I=e.DiffImpl,T=e.EditorState_Internal,window.EditorState=rm,window.MutableEditorState=r_,S=e.EmbedUiState_Internal,window.EmbedUiState=rh,window.MutableEmbedUiState=rg,w=e.EditorPreferences_Internal,window.EditorPreferences=rf,window.MutableEditorPreferences=rE,A=e.JamboardImporterCppBindings,C=e.EmojiCppBindings,N=e.FigjamState_Internal,window.FigjamState=ry,window.MutableFigjamState=rb,O=e.FirstDraftHelpers,L=e.FontHelpers,R=e.FullscreenInteractionTestHelpers,P=e.FullscreenPerfInfo,window.FullscreenPerfInfo=P,k=e.FullscreenPerfMetrics,D=e.FullscreenWebSocketTsApi,M=e.StackBindingsCpp,x=e.Fullscreen,F=e.HandoffBindingsCpp,U=e.HistoryChangesBindings,B=e.HoverState_Internal,window.HoverState=rv,window.MutableHoverState=rI,H=e.EditorTypeConfig_Internal,window.EditorTypeConfig=rT,window.MutableEditorTypeConfig=rS,V=e.Viewport_Internal,window.Viewport=rw,window.MutableViewport=rA,G=e.MouseBehaviorEvent_Internal,window.MouseBehaviorEvent=rC,window.MutableMouseBehaviorEvent=rN,W=e.CanvasContext_Internal,window.CanvasContext=rO,window.MutableCanvasContext=rL,K=e.InteractionCpp,Y=e.CanvasSnapper_Internal,window.CanvasSnapper=rR,window.MutableCanvasSnapper=rP,j=e.LibraryPubSub,z=e.LibraryAssets_Internal,window.LibraryAssets=rk,window.MutableLibraryAssets=rD,$=e.MentionsCppBindings,Z=e.MindmapCppBindings,q=e.Multiplayer,J=e.PluginHelpers,X=e.PropertiesPanelState_Internal,window.PropertiesPanelState=rM,window.MutablePropertiesPanelState=rx,Q=e.PrototypingEditorState_Internal,window.PrototypingEditorState=rF,window.MutablePrototypingEditorState=rU,ee=e.PrototypingTsApi,et=e.ScaleToolState_Internal,window.ScaleToolState=rB,window.MutableScaleToolState=rH,er=e.ScaleToolTsApi,en=e.GradientToolApi,ei=e.ImmutableFrameObserver_Internal,window.ImmutableFrameObserver=rV,window.MutableImmutableFrameObserver=rG,ea=e.SceneGraph_Internal,window.SceneGraph=rW,window.MutableSceneGraph=rK,eo=e.SceneGraphHelpers,el=e.SceneNodeCpp,es=e.SelectionPaintHelpers,ec=e.SelectionStylesHelpers,ed=e.StateManagementCPPBindings,eu=e.SharedStyle,ep=e.StickyClusteringCppBindings,em=e.TestFullscreenMultiplayerDocument,e_=e.TextStyleOverridesBindings,eh=e.Thumbnail,eg=e.UiState_Internal,window.UiState=rY,window.MutableUiState=rj,ef=e.UserPreferencesTestHelpers,eE=e.VariablesBindings,ey=e.VideoCppBindings,eb=e.WhiteboardAgendaCppBindings,ev=e.WhiteboardStarterKitCppBindings,eI=e.WhiteboardAiTemplatePreviewCppBindings,eT=e.WhiteboardAiVisualCppBindings,eS=e.WhiteboardTemplatePreviewCppBindings,ew=e.WhiteboardThumbnailGeneratorCppBindings,eA=e.WhiteboardTsApi,eC=e.WhiteboardVotingCppBindings,eN=e.HitTestBindings,eO=e.FlappData_Internal,window.FlappData=rz,window.MutableFlappData=r$,eL=e.SingleSlideView_Internal,window.SingleSlideView=rZ,window.MutableSingleSlideView=rq,eR=e.SlidesAiBindings,eP=e.SlideThemeStylePreview_Internal,window.SlideThemeStylePreview=rJ,window.MutableSlideThemeStylePreview=rX,ek=e.WhiteboardSectionPresetPickerCppBindings,eD=e.StylesBindings,eM=e.CorePerfInfo,window.CorePerfInfo=eM,ex=e.FeatureFlagsCppApi,eF=e.FullscreenOptimizationExposureLoggingBinding,eU=e.WeakHandleHelpers,eB=e.WebAsyncCallback,eH=e.PerformanceEventCounters,eV=e.GpuMetricsLoggingBinding,eG=e.ColorManagementStateJs,eW=e.EditScopeBindings,eK=e.Fonts,eY=e.ImageCppBindings,ej=e.BindingsNode_Internal,window.BindingsNode=rQ,window.MutableBindingsNode=r0,ez=e.NodeTsApi,e$=e.PrototypeInteractions_Internal,window.PrototypeInteractions=r1,window.MutablePrototypeInteractions=r2,eZ=e.RevisionNumberAccessor,eq=e.SceneGraphTsApi,eJ=e.TextData_Internal,window.TextData=r3,window.MutableTextData=r5,eX=e.DerivedTextData_Internal,window.DerivedTextData=r4,window.MutableDerivedTextData=r8,eQ=e.UniquePath_Internal,window.UniquePath=r6,window.MutableUniquePath=r7,e0=e.UniquePathHelpers,e1=e.CompiledVectorData_Internal,window.CompiledVectorData=r9,window.MutableCompiledVectorData=ne,e2=e.AccessibilityHelpers,e3=e.CanvasSelection_Internal,window.CanvasSelection=nt,window.MutableCanvasSelection=nr,e5=e.SlideDeck_Internal,window.SlideDeck=nn,window.MutableSlideDeck=ni,e4=e.SlideThemeLibBindings_Internal,window.SlideThemeLibBindings=na,window.MutableSlideThemeLibBindings=no,e8=e.SlideAnimationBindings_Internal,window.SlideAnimationBindings=nl,window.MutableSlideAnimationBindings=ns,e6=e.SitesPreviewObserver_Internal,window.SitesPreviewObserver=nc,window.MutableSitesPreviewObserver=nd,e7=e.AnnotationObserver_Internal,window.AnnotationObserver=nu,window.MutableAnnotationObserver=np,e9=e.NodeTsApiGenerated,te=e.Bindings,tt=e.DocumentStateTsApi,tr=e.FigmaScopeBindings,tn=e.VariablesMirrorManager,ti=e.SharedDebuggingHelpers,ta=e.InteractionTestHelpers,to=e.Prototype,window.Prototype=to,tl=e.ObservableValue_Map_GUID_Int_Internal,window.ObservableValue_Map_GUID_Int=nm,window.MutableObservableValue_Map_GUID_Int=n_,ts=e.WritableObservableValue_SlidesToolMode__Internal,window.WritableObservableValue_SlidesToolMode_=nh,window.MutableWritableObservableValue_SlidesToolMode_=ng,tc=e.ObservableValue_TestCounter__Internal,window.ObservableValue_TestCounter_=nf,window.MutableObservableValue_TestCounter_=nE,td=e.ObservableValue_Array_TestCounter__Internal,window.ObservableValue_Array_TestCounter_=ny,window.MutableObservableValue_Array_TestCounter_=nb,tu=e.ObservableValue_Array_Bool_Internal,window.ObservableValue_Array_Bool=nv,window.MutableObservableValue_Array_Bool=nI,tp=e.ObservableValue_Bool_Internal,window.ObservableValue_Bool=nT,window.MutableObservableValue_Bool=nS,tm=e.ObservableValue_Float_Internal,window.ObservableValue_Float=nw,window.MutableObservableValue_Float=nA,t_=e.WritableObservableValue_Bool_Internal,window.WritableObservableValue_Bool=nC,window.MutableWritableObservableValue_Bool=nN,th=e.WritableObservableValue_Double_Internal,window.WritableObservableValue_Double=nO,window.MutableWritableObservableValue_Double=nL,tg=e.WritableObservableValue_Int_Internal,window.WritableObservableValue_Int=nR,window.MutableWritableObservableValue_Int=nP,tf=e.ObservableValue_BoundingRect__Internal,window.ObservableValue_BoundingRect_=nk,window.MutableObservableValue_BoundingRect_=nD,tE=e.WritableObservableValue_Optional_InlineMenuTarget__Internal,window.WritableObservableValue_Optional_InlineMenuTarget_=nM,window.MutableWritableObservableValue_Optional_InlineMenuTarget_=nx,ty=e.ObservableValue_Optional_FocusedStackRegion__Internal,window.ObservableValue_Optional_FocusedStackRegion_=nF,window.MutableObservableValue_Optional_FocusedStackRegion_=nU,tb=e.WritableObservableValue_AnchorPoint__Internal,window.WritableObservableValue_AnchorPoint_=nB,window.MutableWritableObservableValue_AnchorPoint_=nH,tv=e.WritableObservableValue_Array_GUID_Internal,window.WritableObservableValue_Array_GUID=nV,window.MutableWritableObservableValue_Array_GUID=nG,tI=e.WritableObservableValue_Optional_GUID_Internal,window.WritableObservableValue_Optional_GUID=nW,window.MutableWritableObservableValue_Optional_GUID=nK,tT=e.ObservableValue_String_Internal,window.ObservableValue_String=nY,window.MutableObservableValue_String=nj,tS=e.ObservableValue_Array_DevHandoffOverviewNode__Internal,window.ObservableValue_Array_DevHandoffOverviewNode_=nz,window.MutableObservableValue_Array_DevHandoffOverviewNode_=n$,tw=e.ObservableValue_GUID_Internal,window.ObservableValue_GUID=nZ,window.MutableObservableValue_GUID=nq,tA=e.ObservableValue_Array_GUID_Internal,window.ObservableValue_Array_GUID=nJ,window.MutableObservableValue_Array_GUID=nX,tC=e.ObservableValue_Json_Internal,window.ObservableValue_Json=nQ,window.MutableObservableValue_Json=n0,tN=e.ObservableValue_PropertyState__Internal,window.ObservableValue_PropertyState_=n1,window.MutableObservableValue_PropertyState_=n2,tO=e.WritableObservableValue_GUID_Internal,window.WritableObservableValue_GUID=n3,window.MutableWritableObservableValue_GUID=n5,tL=e.WritableObservableValue_KeyboardLayout__Internal,window.WritableObservableValue_KeyboardLayout_=n4,window.MutableWritableObservableValue_KeyboardLayout_=n8,tR=e.ObservableValue_CommentAnchorData__Internal,window.ObservableValue_CommentAnchorData_=n6,window.MutableObservableValue_CommentAnchorData_=n7,tP=e.WritableObservableValue_ActiveEmbedData__Internal,window.WritableObservableValue_ActiveEmbedData_=n9,window.MutableWritableObservableValue_ActiveEmbedData_=ie,tk=e.WritableObservableValue_PresetType__Internal,window.WritableObservableValue_PresetType_=it,window.MutableWritableObservableValue_PresetType_=ir,tD=e.WritableObservableValue_ColorFormat__Internal,window.WritableObservableValue_ColorFormat_=ii,window.MutableWritableObservableValue_ColorFormat_=ia,tM=e.WritableObservableValue_Float_Internal,window.WritableObservableValue_Float=io,window.MutableWritableObservableValue_Float=il,tx=e.WritableObservableValue_HandoffOutputFormat__Internal,window.WritableObservableValue_HandoffOutputFormat_=is,window.MutableWritableObservableValue_HandoffOutputFormat_=ic,tF=e.WritableObservableValue_HandoffPlatformTarget__Internal,window.WritableObservableValue_HandoffPlatformTarget_=id,window.MutableWritableObservableValue_HandoffPlatformTarget_=iu,tU=e.WritableObservableValue_ExportSelectionSettings__Internal,window.WritableObservableValue_ExportSelectionSettings_=ip,window.MutableWritableObservableValue_ExportSelectionSettings_=im,tB=e.ObservableValue_Array_PublishableSymbolForWeb__Internal,window.ObservableValue_Array_PublishableSymbolForWeb_=i_,window.MutableObservableValue_Array_PublishableSymbolForWeb_=ih,tH=e.ObservableValue_Array_SubscribedSymbolForWeb__Internal,window.ObservableValue_Array_SubscribedSymbolForWeb_=ig,window.MutableObservableValue_Array_SubscribedSymbolForWeb_=iE,tV=e.ObservableValue_Array_PublishableStateGroupForWeb__Internal,window.ObservableValue_Array_PublishableStateGroupForWeb_=iy,window.MutableObservableValue_Array_PublishableStateGroupForWeb_=ib,tG=e.ObservableValue_Array_SubscribedStateGroupForWeb__Internal,window.ObservableValue_Array_SubscribedStateGroupForWeb_=iv,window.MutableObservableValue_Array_SubscribedStateGroupForWeb_=iI,tW=e.ObservableValue_Array_PublishableStyleForWeb__Internal,window.ObservableValue_Array_PublishableStyleForWeb_=iT,window.MutableObservableValue_Array_PublishableStyleForWeb_=iS,tK=e.ObservableValue_Array_SubscribedStyleForWeb__Internal,window.ObservableValue_Array_SubscribedStyleForWeb_=iw,window.MutableObservableValue_Array_SubscribedStyleForWeb_=iA,tY=e.ObservableValue_Array_PublishableModuleForWeb__Internal,window.ObservableValue_Array_PublishableModuleForWeb_=iC,window.MutableObservableValue_Array_PublishableModuleForWeb_=iN,tj=e.ObservableValue_Array_IDLSubscribedVariableSetInfo__Internal,window.ObservableValue_Array_IDLSubscribedVariableSetInfo_=iO,window.MutableObservableValue_Array_IDLSubscribedVariableSetInfo_=iL,tz=e.ObservableValue_Array_IDLSubscribedVariableInfo__Internal,window.ObservableValue_Array_IDLSubscribedVariableInfo_=iR,window.MutableObservableValue_Array_IDLSubscribedVariableInfo_=iP,t$=e.ObservableValue_Array_IDLLocalVariableSetInfo__Internal,window.ObservableValue_Array_IDLLocalVariableSetInfo_=ik,window.MutableObservableValue_Array_IDLLocalVariableSetInfo_=iD,tZ=e.ObservableValue_Array_IDLLocalVariableInfo__Internal,window.ObservableValue_Array_IDLLocalVariableInfo_=iM,window.MutableObservableValue_Array_IDLLocalVariableInfo_=ix,tq=e.WritableObservableValue_PropertiesPanelTab__Internal,window.WritableObservableValue_PropertiesPanelTab_=iF,window.MutableWritableObservableValue_PropertiesPanelTab_=iU,tJ=e.ObservableValue_Int_Internal,window.ObservableValue_Int=iB,window.MutableObservableValue_Int=iH,tX=e.ObservableValue_StrokePanelMode__Internal,window.ObservableValue_StrokePanelMode_=iV,window.MutableObservableValue_StrokePanelMode_=iG,tQ=e.ObservableValue_PrototypeDevice__Internal,window.ObservableValue_PrototypeDevice_=iW,window.MutableObservableValue_PrototypeDevice_=iK,t0=e.WritableObservableValue_PrototypeViewMode__Internal,window.WritableObservableValue_PrototypeViewMode_=iY,window.MutableWritableObservableValue_PrototypeViewMode_=ij,t1=e.ObservableValue_Double_Internal,window.ObservableValue_Double=iz,window.MutableObservableValue_Double=i$,t2=e.ObservableValue_AnchorPoint__Internal,window.ObservableValue_AnchorPoint_=iZ,window.MutableObservableValue_AnchorPoint_=iq,t3=e.WritableObservableValue_HoveredComponentPropDef__Internal,window.WritableObservableValue_HoveredComponentPropDef_=iJ,window.MutableWritableObservableValue_HoveredComponentPropDef_=iX,t5=e.ObservableValue_FocusModeState__Internal,window.ObservableValue_FocusModeState_=iQ,window.MutableObservableValue_FocusModeState_=i0,t4=e.ObservableValue_Map_Int_AutoLayoutShortcutHint__Internal,window.ObservableValue_Map_Int_AutoLayoutShortcutHint_=i1,window.MutableObservableValue_Map_Int_AutoLayoutShortcutHint_=i2,t8=e.ObservableValue_Optional_ReparentIntoStackInfo__Internal,window.ObservableValue_Optional_ReparentIntoStackInfo_=i3,window.MutableObservableValue_Optional_ReparentIntoStackInfo_=i5,t6=e.ObservableValue_DocumentColorProfile__Internal,window.ObservableValue_DocumentColorProfile_=i4,window.MutableObservableValue_DocumentColorProfile_=i8,t7=e.ObservableValue_Array_Array_GUID_Internal,window.ObservableValue_Array_Array_GUID=i6,window.MutableObservableValue_Array_Array_GUID=i7}function sR(){return{actions:n,animationBindings:i,appStateTsApi:a,autosaveHelpers:o,bindingsPerfBench:l,cppBindingsTestHelpers:d,branchingHelpers:u,canvasSearchHelpers:m,componentPropsAiCPPBindings:h,cSSExportHelpers:g,customFocusHelpers:y,debuggingHelpers:b,diffImpl:I,jamboardImporterCppBindings:A,emojiCppBindings:C,firstDraftHelpers:O,fontHelpers:L,fullscreenInteractionTestHelpers:R,fullscreenPerfInfo:P,fullscreenPerfMetrics:k,fullscreenWebSocketTsApi:D,stackBindingsCpp:M,fullscreen:x,handoffBindingsCpp:F,historyChangesBindings:U,interactionCpp:K,libraryPubSub:j,mentionsCppBindings:$,mindmapCppBindings:Z,multiplayer:q,pluginHelpers:J,prototypingTsApi:ee,scaleToolTsApi:er,gradientToolApi:en,sceneGraphHelpers:eo,sceneNodeCpp:el,selectionPaintHelpers:es,selectionStylesHelpers:ec,stateManagementCPPBindings:ed,sharedStyle:eu,stickyClusteringCppBindings:ep,testFullscreenMultiplayerDocument:em,textStyleOverridesBindings:e_,thumbnail:eh,userPreferencesTestHelpers:ef,variablesBindings:eE,videoCppBindings:ey,whiteboardAgendaCppBindings:eb,whiteboardStarterKitCppBindings:ev,whiteboardAiTemplatePreviewCppBindings:eI,whiteboardAiVisualCppBindings:eT,whiteboardTemplatePreviewCppBindings:eS,whiteboardThumbnailGeneratorCppBindings:ew,whiteboardTsApi:eA,whiteboardVotingCppBindings:eC,hitTestBindings:eN,slidesAiBindings:eR,whiteboardSectionPresetPickerCppBindings:ek,stylesBindings:eD,corePerfInfo:eM,featureFlagsCppApi:ex,fullscreenOptimizationExposureLoggingBinding:eF,weakHandleHelpers:eU,webAsyncCallback:eB,performanceEventCounters:eH,gpuMetricsLoggingBinding:eV,colorManagementStateJs:eG,editScopeBindings:eW,fonts:eK,imageCppBindings:eY,nodeTsApi:ez,revisionNumberAccessor:eZ,sceneGraphTsApi:eq,uniquePathHelpers:e0,accessibilityHelpers:e2,nodeTsApiGenerated:e9,bindings:te,documentStateTsApi:tt,figmaScopeBindings:tr,variablesMirrorManager:tn,sharedDebuggingHelpers:ti,interactionTestHelpers:ta,prototype:to,nestedCppObject_Internal:s,testCppObject_Internal:c,branchingState_Internal:p,canvasViewState_Internal:_,currentPageState_Internal:f,currentSceneState_Internal:E,devHandoffState_Internal:v,editorState_Internal:T,embedUiState_Internal:S,editorPreferences_Internal:w,figjamState_Internal:N,hoverState_Internal:B,editorTypeConfig_Internal:H,viewport_Internal:V,mouseBehaviorEvent_Internal:G,canvasContext_Internal:W,canvasSnapper_Internal:Y,libraryAssets_Internal:z,propertiesPanelState_Internal:X,prototypingEditorState_Internal:Q,scaleToolState_Internal:et,immutableFrameObserver_Internal:ei,sceneGraph_Internal:ea,uiState_Internal:eg,flappData_Internal:eO,singleSlideView_Internal:eL,slideThemeStylePreview_Internal:eP,bindingsNode_Internal:ej,prototypeInteractions_Internal:e$,textData_Internal:eJ,derivedTextData_Internal:eX,uniquePath_Internal:eQ,compiledVectorData_Internal:e1,canvasSelection_Internal:e3,slideDeck_Internal:e5,slideThemeLibBindings_Internal:e4,slideAnimationBindings_Internal:e8,sitesPreviewObserver_Internal:e6,annotationObserver_Internal:e7,observableValue_Map_GUID_Int_Internal:tl,writableObservableValue_SlidesToolMode__Internal:ts,observableValue_TestCounter__Internal:tc,observableValue_Array_TestCounter__Internal:td,observableValue_Array_Bool_Internal:tu,observableValue_Bool_Internal:tp,observableValue_Float_Internal:tm,writableObservableValue_Bool_Internal:t_,writableObservableValue_Double_Internal:th,writableObservableValue_Int_Internal:tg,observableValue_BoundingRect__Internal:tf,writableObservableValue_Optional_InlineMenuTarget__Internal:tE,observableValue_Optional_FocusedStackRegion__Internal:ty,writableObservableValue_AnchorPoint__Internal:tb,writableObservableValue_Array_GUID_Internal:tv,writableObservableValue_Optional_GUID_Internal:tI,observableValue_String_Internal:tT,observableValue_Array_DevHandoffOverviewNode__Internal:tS,observableValue_GUID_Internal:tw,observableValue_Array_GUID_Internal:tA,observableValue_Json_Internal:tC,observableValue_PropertyState__Internal:tN,writableObservableValue_GUID_Internal:tO,writableObservableValue_KeyboardLayout__Internal:tL,observableValue_CommentAnchorData__Internal:tR,writableObservableValue_ActiveEmbedData__Internal:tP,writableObservableValue_PresetType__Internal:tk,writableObservableValue_ColorFormat__Internal:tD,writableObservableValue_Float_Internal:tM,writableObservableValue_HandoffOutputFormat__Internal:tx,writableObservableValue_HandoffPlatformTarget__Internal:tF,writableObservableValue_ExportSelectionSettings__Internal:tU,observableValue_Array_PublishableSymbolForWeb__Internal:tB,observableValue_Array_SubscribedSymbolForWeb__Internal:tH,observableValue_Array_PublishableStateGroupForWeb__Internal:tV,observableValue_Array_SubscribedStateGroupForWeb__Internal:tG,observableValue_Array_PublishableStyleForWeb__Internal:tW,observableValue_Array_SubscribedStyleForWeb__Internal:tK,observableValue_Array_PublishableModuleForWeb__Internal:tY,observableValue_Array_IDLSubscribedVariableSetInfo__Internal:tj,observableValue_Array_IDLSubscribedVariableInfo__Internal:tz,observableValue_Array_IDLLocalVariableSetInfo__Internal:t$,observableValue_Array_IDLLocalVariableInfo__Internal:tZ,writableObservableValue_PropertiesPanelTab__Internal:tq,observableValue_Int_Internal:tJ,observableValue_StrokePanelMode__Internal:tX,observableValue_PrototypeDevice__Internal:tQ,writableObservableValue_PrototypeViewMode__Internal:t0,observableValue_Double_Internal:t1,observableValue_AnchorPoint__Internal:t2,writableObservableValue_HoveredComponentPropDef__Internal:t3,observableValue_FocusModeState__Internal:t5,observableValue_Map_Int_AutoLayoutShortcutHint__Internal:t4,observableValue_Optional_ReparentIntoStackInfo__Internal:t8,observableValue_DocumentColorProfile__Internal:t6,observableValue_Array_Array_GUID_Internal:t7}}},149374:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>R,BT:()=>b,eJ:()=>I,jX:()=>C,tS:()=>v});var n=r(717068),i=r(38329),a=r(374626),o=r(395900),l=r(776621),s=r(96328),c=r(304783),d=r(988022),u=r(574724),p=r(284615),m=r(36127),_=r(781374),h=r(641305),g=r(662531),f=r(341860),E=r(792590),y=r(890723);class b extends Error{constructor(){super(),this.name="NoNameableLayersError"}}class v extends Error{constructor(){super(),this.name="NoSelectedLayersError"}}class I extends Error{constructor(){super(),this.name="LayerLimitExceededError"}}class T extends Error{constructor(){super(),this.name="LayerNotRenamedError"}}let S={RECTANGLE:["Rectangle","Image","image"],ROUNDED_RECTANGLE:["Rectangle","Image","image"],TEXT:["Text"],FRAME:["Frame","Group"],GROUP:["Group"],REGULAR_POLYGON:["Polygon","Vector"],STAR:["Star"],LINE:["Line"],ELLIPSE:["Ellipse"],VECTOR:["Vector"],INSTANCE:["Instance"]},w=new Set(["RECTANGLE","ROUNDED_RECTANGLE","TEXT","FRAME","GROUP","INSTANCE"]);function A(e){if(e.type in S){let t=S[e.type];if(t)for(let r of t){let t=RegExp(`^${r}[ ()\\d]*$`,"i");if(e.name.match(t))return!0}}if("INSTANCE"===e.type&&e.symbolId){let t=f.qo.instance.get(e.symbolId);if(t&&e.name===t.name)return!0}return"TEXT"===e.type&&!!e.autoRename}function C(e,t){return!!(!e.locked&&!e.isInstanceSublayer&&w.has(e.type)&&(t||A(e)))}async function N(e){let t=await e.loadImagesAndExport([{imageType:"JPEG",suffix:"jpeg",constraint:{type:"CONTENT_WIDTH",value:512}}]);return"data:image/png;base64,"+(0,s.H9)(t)}let O=(e,t)=>{if(t.push(e),e.children)for(let r of e.children)O(r,t)};async function L({task:e,workerID:t,authInfo:r,timer:n,onLayerRenamed:i,abortController:a,matchingNodes:o,overwriteNames:l,renamedSet:s,isMeteringRequest:c}){let{node:d,nodeRep:p,imageURL:h}=e,y=null;d.isExpanded=!0;let b=await u.Ay.design.generateRenameLayers({nodeRepresentation:p,imageB64:h,isMeteringRequest:c},r),v=0,I=0,T=new Set,S=b.getReader(),w=[];async function A(){for(;;){let{done:e,value:r}=await S.read();if(null===y&&(y=n.getElapsedTime()),a.signal.aborted){S.cancel();break}if(r){let[e,n]=r.split(",");for(let t of(e=e.trim(),n=n.trim(),E.F))if(n.toUpperCase().includes(t)){I++;break}let a=f.qo.instance.get(e);if(a&&C(a,l)){a.parentNode&&function e(t,r){"isExpanded"in t&&(t.isExpanded||(t.isExpanded=!0,r.add(t.guid)),t.parentNode&&e(t.parentNode,r))}(a.parentNode,T);let r=[a];for(let t of(o.has(e)&&r.push(...o.get(e).filter(t=>t.guid!==e&&C(a,l)&&!s.has(t.guid))),r)){let e=(0,m.bK)(t,n);w.push(e),g.l7.ai("rename-layers",()=>{t.name=n}),s.add(t.guid),i&&i(t.guid)}0===t&&_.uK.emit({guid:e})}else!a&&v++}if(e)break}}return await A(),await Promise.all(w),{numItemsHallucinated:v,numItemsWithOrdinals:I,timeToFirstToken:y}}let R=async({abortController:e,onTasksUpdate:t,params:r,clientLifecycleId:s})=>{var u,_;let{source:g,overwriteNames:E}=r,S=new o.M4;S.start();let w=null,R=i.D.getState(),P=null==(u=R.openFile)?void 0:u.key,k=null==(_=f.qo.instance.getCurrentPage())?void 0:_.directlySelectedNodes;if(!k||0===k.length)throw new v;let D=0,M=0,x=0,F=[],U=(0,y.a)(f.qo.instance.getCurrentPage(),k),B=new Set,H=await (0,n.lX)(k,async e=>{let t=function e(t,r){let n=C(t,r),i=A(t),a=t.fills.length>0&&t.fills.some(e=>"IMAGE"===e.type),o=t.type,l=!1;if(a)o="IMAGE";else if("INSTANCE"===t.type&&t.symbolId){let e=f.qo.instance.get(t.symbolId);e&&!A(e)&&(o=e.name,l=!0)}let s={name:i||l?void 0:t.name,type:o,id:n?t.guid:void 0,text:t.characters||void 0,autolayout:"NONE"!==t.stackMode?t.stackMode:void 0,x:Math.floor(t.absoluteBoundingBox.x),y:Math.floor(t.absoluteBoundingBox.y),w:Math.floor(t.absoluteBoundingBox.w),h:Math.floor(t.absoluteBoundingBox.h)};return s.children=(function(e){let t=e.childrenNodes;return e.uiOrderedChildren.map(e=>t.find(t=>t.guid===e)).filter(e=>void 0!==e)})(t).filter(e=>e.visible&&e.opacity>0).map(t=>e(t,r)),s}(e,E),r=await N(e),n=[];O(t,n);let i=n.filter(e=>void 0!==e.id);for(let e of(D+=n.length,i))F.push({nodeGuid:e.id,state:h.z8.INCOMPLETE});return{node:e,nodeRep:t,imageURL:r,allNodes:n}}),V=F.length;if(0===V)throw new b;if(D>200)throw new I;t&&t(F),a.zl.set(m.uK,{autoScroll:!0}),(0,d.ds)("ai_rename_layers_started",P,R,{numItemsTotal:D,numItemsNameable:V,source:g});let G=!1,W=async r=>{if(0===H.length||e.signal.aborted)return;let n=!G;n&&(G=!0);let i=H.shift(),a=new Set(i.allNodes.map(e=>e.id));try{let o=await L({task:i,workerID:r,authInfo:{...(0,p.Ay)(),clientLifecycleId:s},timer:S,onLayerRenamed:e=>{F=F.map(t=>(t.nodeGuid===e&&(t.state=h.z8.SUCCEEDED),t)),a.delete(e),t&&t(F)},abortController:e,matchingNodes:U,overwriteNames:!!E,renamedSet:B,isMeteringRequest:n});M+=o.numItemsHallucinated,x+=o.numItemsWithOrdinals,(null===w||null!==o.timeToFirstToken&&w>o.timeToFirstToken)&&(w=o.timeToFirstToken)}catch(e){a.size>0&&(F=F.map(t=>(a.has(t.nodeGuid)&&(t={...t,state:h.z8.FAILED,error:e}),t)),t&&t(F))}await W(r)};try{let t=[,,,,,].fill(0).map((e,t)=>t).map(e=>W(e));await Promise.all(t);let r=S.getElapsedTime();if(S.stop(),F.length>0&&F[0].state===h.z8.FAILED){let e=F[0].error;if(F.every(e=>e.state===h.z8.FAILED))throw e}e.signal.aborted?(0,d.ds)("ai_rename_layers_cancelled",P,R,{timeToFirstToken:w,timeToCompletion:r,numItemsTotal:D,numItemsNameable:V,numItemsNamed:F.filter(e=>e.state===h.z8.SUCCEEDED).length,numItemsHallucinated:M,numItemsWithOrdinals:x,source:g}):(0,d.ds)("ai_rename_layers_completed",P,R,{timeToFirstToken:w,timeToCompletion:r,numItemsTotal:D,numItemsNameable:V,numItemsNamed:F.filter(e=>e.state===h.z8.SUCCEEDED).length,numItemsHallucinated:M,numItemsWithOrdinals:x,source:g})}catch(e){throw(0,m.oZ)(),(0,l.$D)(c.e.EDITOR_AI,e,{extra:{numItemsTotal:D,numItemsNameable:V,source:g}}),(0,d.ds)("ai_rename_layers_failed",P,R,{error:e,numItemsTotal:D,numItemsNameable:V,source:g}),e}finally{let e=F.map(e=>(e.state===h.z8.INCOMPLETE&&(e={...e,state:h.z8.FAILED,error:new T}),e));t&&t(e)}}},617453:(e,t,r)=>{"use strict";r.d(t,{D:()=>_,EU:()=>b,Ku:()=>h,RU:()=>y,S0:()=>T,UK:()=>m,UX:()=>f,W_:()=>w,dP:()=>g,lK:()=>I,qw:()=>E,sT:()=>v});var n=r(966712),i=r(939863),a=r(287010),o=r(396697),l=r(507956),s=r(100197),c=r(949632),d=r(852800),u=r(567245),p=r(652051);function m(){return d.Ez5.editorPreferences()}function _(){var e;return(0,s.ut)(null==(e=d.Ez5)?void 0:e.editorPreferences().hideHelpWidget,!1)}function h(){let e=(0,l.ks)(),t=(0,s.J2)(m().colorFormat);return t===d.NVY.CSS&&e||t===d.NVY.UIColor&&!e?d.NVY.RGB:t}function g(){var e;return(0,s.ut)(null==(e=d.Ez5)?void 0:e.editorPreferences().sidebarSplitPosition,o.R.sidebarSplitPosition)}function f(){var e;return(0,s.ut)(null==(e=d.Ez5)?void 0:e.editorPreferences().devHandoffInspectSplitPosition,320)}function E(){var e;return(0,s.ut)(null==(e=d.Ez5)?void 0:e.editorPreferences().propertiesPanelSplitPosition,o.R.propertiesPanelSplitPosition)}function y(){var e;return(0,s.ut)(null==(e=d.Ez5)?void 0:e.editorPreferences().bigNudgeAmount,a._q)}function b(){var e;return(0,s.ut)(null==(e=d.Ez5)?void 0:e.editorPreferences().smallNudgeAmount,a.bA)}function v(){return{smallNudgeAmount:b(),bigNudgeAmount:y()}}function I(){var e;return(0,s.ut)(null==(e=d.Ez5)?void 0:e.editorPreferences().renderRulers,!1)}function T(){return(0,s.J2)(m().useOldOutlineShortcuts)}let S=[{getObservable:()=>m().activeCanvasPixelPreview,getMessage:e=>({message:e?(0,i.t)("visual_bell.pixel_preview_enabled",{scaling:(0,c.d)().activeCanvasRetinaMode.getCopy()?"2x":"1x"}):(0,i.t)("visual_bell.pixel_preview_disabled")})},{getObservable:()=>m().renderGrid,getMessage:e=>({message:e?(0,i.t)("visual_bell.render_grid_visible"):(0,i.t)("visual_bell.render_grid_hidden")})},{getObservable:()=>m().snapToPixelGrid,getMessage:e=>({message:e?(0,i.t)("visual_bell.snap_to_pixel_grid_enabled"):(0,i.t)("visual_bell.snap_to_pixel_grid_disabled")})},{getObservable:()=>m().showMasks,getMessage:e=>({message:e?(0,i.t)("visual_bell.show_masks_visible"):(0,i.t)("visual_bell.show_masks_hidden")})},{getObservable:()=>(0,n.kc)().figjam_snap_to_dot_grid_reset?m().snapToDotGridStagingReset:m().snapToDotGrid,getMessage:e=>({message:e?(0,i.t)("visual_bell.snap_to_dot_grid_enabled"):(0,i.t)("visual_bell.snap_to_dot_grid_disabled")})},{getObservable:()=>m().snapToGeometry,getMessage:e=>({message:e?(0,i.t)("visual_bell.snap_to_geometry_enabled"):(0,i.t)("visual_bell.snap_to_geometry_disabled")})},{getObservable:()=>m().snapToObjects,getMessage:e=>({message:e?(0,i.t)("visual_bell.snap_to_objects_enabled"):(0,i.t)("visual_bell.snap_to_objects_disabled")})},{getObservable:()=>m().showFrameGrids,getMessage:e=>(0,u.jH)()?((0,u.Gk)(),{message:(0,i.t)("visual_bell.show_frame_grids_visible"),button:{text:(0,i.t)("visual_bell.show_frame_grids_hide_button"),action:e=>{e.stopPropagation(),d.Ez5.editorPreferences().showFrameGrids.set(!1)}}}):{message:e?(0,i.t)("visual_bell.show_frame_grids_visible"):(0,i.t)("visual_bell.show_frame_grids_hidden")}}];function w(){(0,p.Mo)(S)}},326069:(e,t,r)=>{"use strict";let n;r.d(t,{XR:()=>p,_Q:()=>d,jm:()=>n});var i=r(27050),a=r(377750),o=r(966712),l=r(374626),s=r(883211),c=r(531827);function d(e){let t=a.il.getDefaultSkin()||1;return String.fromCodePoint(...(e.skins[t-1]?e.skins[t-1].unified:e.skins[0].unified).split("-").map(e=>parseInt(e,16)))}class u{convertEmojiNameToString(e){let t=e.toLocaleLowerCase(),r=((0,o.kc)().emoji_15_upgrade?a.dN:i.dN).searchSynchronized(t).filter(e=>e.id===t);return 0===r.length?"":d(r[0])}setEmojiTypeaheadQuery(e){let t=e&&e.length>1?(0,c.oQ)(e):null;l.zl.set(s.ph,t)}clearEmojiTypeaheadQuery(){l.zl.set(s.ph,null)}isShowingEmojiTypeaheadResults(){var e;let t=l.zl.get(s.ph);return!!(null==(e=null==t?void 0:t.emojis)?void 0:e.length)}setEmojiTypeaheadImageSet(e){l.zl.set(s.KG,e)}setEmojiTypeaheadTargetRect(e,t,r){l.zl.set(s.kh,{x:e,y:t,height:r,width:0})}}function p(){n=new u}},812821:(e,t,r)=>{"use strict";let n;r.d(t,{CB:()=>n,eY:()=>u});var i=r(38329),a=r(145519),o=r(852800),l=r(460289),s=r(239671),c=r(301922);class d{constructor(){this._wheelActivatedAtMs=-1,this._triggerActiveWheelButtonListeners=[]}startChat(e,t,r){(0,c.q)().then(n=>{n||i.D.dispatch(a.F6({position:{x:e,y:t},source:r}))})}closeWheel(){i.D.dispatch(a.Ho())}handleShortcutPressWithType({viewportX:e,viewportY:t,source:r,openedViaHover:n,wheelType:c}){let d=i.D.getState();if("fullscreen"!==d.selectedView.view||d.selectedView.editorType!==s.nT.Whiteboard||this._wheelActivatedAtMs>0)return;this._wheelActivatedAtMs=window.performance.now();let u=d.multiplayerEmoji;"WHEEL"===u.type?(e=u.viewportX,t=u.viewportY,n=n??u.openedViaHover):n||o.glU.triggerAction("set-tool-default",null),i.D.dispatch(a.sp({wheelType:c&&("STAMP"===c?"STAMP2":"REACTION1"),isReadonly:d.mirror.appModel.isReadOnly,isJoinedToActiveVotingSession:(0,l.gR)(d),viewportX:e,viewportY:t,source:r,openedViaHover:n}))}handleShortcutPress(e,t,r){this.handleShortcutPressWithType({viewportX:e,viewportY:t,source:r})}addTriggerActiveWheelButtonListener(e){this._triggerActiveWheelButtonListeners.push(e)}removeTriggerActiveWheelButtonListener(e){let t=this._triggerActiveWheelButtonListeners.indexOf(e);t>=0&&this._triggerActiveWheelButtonListeners.splice(t,1)}handleShortcutRelease(e,t){if(this._wheelActivatedAtMs<0)return;let r=window.performance.now()-this._wheelActivatedAtMs;if(this._wheelActivatedAtMs=-1,r>300)for(let r of this._triggerActiveWheelButtonListeners)r({x:e,y:t})}updateEmojiWheelPosition(e,t){let r=i.D.getState();"fullscreen"===r.selectedView.view&&r.selectedView.editorType===s.nT.Whiteboard&&i.D.dispatch(a.sm({viewportX:e,viewportY:t}))}}function u(){n=new d}},283942:(e,t,r)=>{"use strict";r.d(t,{U5:()=>p,VA:()=>u,W0:()=>d,f7:()=>_,jr:()=>m});var n=r(498750),i=r(588169),a=r(563706),o=r(946689),l=r(551608);r(801161);var s=r(356390),c=r(852800),d=(e=>(e[e.YES=0]="YES",e[e.NO=1]="NO",e))(d||{}),u=(e=>(e[e.YES=0]="YES",e[e.NO=1]="NO",e))(u||{});function p(e,t=0,r=1){if(!s.Y5||!s.Y5.isRootElementVisible())return!1;let i=e.keyCode,o=(0,n.Fo)(e);if(i===n.Uz.TAB&&(0,n.sC)(e,n.xH.SHIFT));else if(a.Ay.mac&&e.ctrlKey&&(i===n.Uz.A||i===n.Uz.B||i===n.Uz.D||i===n.Uz.E||i===n.Uz.F||i===n.Uz.H||i===n.Uz.K||i===n.Uz.L||i===n.Uz.N||i===n.Uz.O||i===n.Uz.P||i===n.Uz.T||i===n.Uz.V));else if(i===n.Uz.DELETE||i===n.Uz.BACKSPACE||i===n.Uz.NUMPAD_DELETE||i===n.Uz.SPACE||i===n.Uz.ENTER||i===n.Uz.HOME||i===n.Uz.END||i===n.Uz.PAGE_UP||i===n.Uz.PAGE_DOWN||i===n.Uz.A&&1===r);else if(o&&i===n.Uz.Z&&1===t);else if(o||e.ctrlKey)return!0;return!1}function m(e,t=0,r=1){return!!p(e,t,r)&&_(e,!0)}function _(e,t=!1){var r;let a;if("keydown"===e.type)a=c.Bx4.KEY_PRESS;else{if("keyup"!==e.type)return console.error("Invalid event passed to forwardKeyboardEvent"),!1;a=c.Bx4.KEY_RELEASE}let o=(0,i.v7)(),l=s.Y5.DEPRECATED_sendMessage(t?"handleKeyboardShortcut":"handleKeyboardEvent",{type:a,which:e.which,modifierKeys:(0,n.sN)(e),isRepeat:e.repeat,code:e.code??(null==(r=e.nativeEvent)?void 0:r.code),shouldUseLayoutAndCode:o!==c.aTn.UNKNOWN,layout:o}),d=null==l?void 0:l.args.accepted;return d&&e.preventDefault(),d}(0,o.ny)(m),(0,l.n)(m)},457025:(e,t,r)=>{"use strict";r.d(t,{$K:()=>o,U2:()=>l,mr:()=>a,oW:()=>i});var n=r(785052);let i=new n.b("action");function a(e){i.trigger("action",e)}let o=new n.b("action");function l(e,t){o.trigger("action",[e,t])}},484387:(e,t,r)=>{"use strict";r.d(t,{Wp:()=>K,_G:()=>Y,cu:()=>U});var n=r(776250),i=r(935283),a=r(540193),o=r(367253),l=r(966712),s=r(752553),c=r(717037),d=r(776621),u=r(881396),p=r(304783),m=r(877432),_=r(27087),h=r(939863),g=r(392592),f=r(507877),E=r(782656),y=r(128751),b=r(988022),v=r(356390),I=r(578730),T=r(809511),S=r(477782),w=r(891049),A=r(428467),C=r(303454),N=r(239671),O=r(472503),L=r(378356),R=r(415408),P=r(977965),k=r(372174),D=r(697630),M=r(530132),x=r(175467);let F={bytes:new Uint8Array([137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,0,1,0,0,0,1,8,6,0,0,0,31,21,196,137,0,0,0,10,73,68,65,84,120,156,99,0,1,0,0,5,0,1,13,10,45,180,0,0,0,0,73,69,78,68,174,66,96,130]),clientMeta:{background_color:{r:0,g:0,b:0,a:0},thumbnail_size:{width:1,height:1}}};function U(e,t,r){return t?(0,h.t)("fullscreen.file_import.fig_jam_has_been_disabled_by_your_organization"):r?(0,h.t)("fullscreen.file_import.user_externally_restricted"):e?(0,h.t)("fullscreen.file_import.you_don_t_have_permissions_to_import_in_folder_name",{folderName:e}):(0,h.t)("fullscreen.file_import.you_don_t_have_permissions_to_import")}function B(e){switch(e){case T.VtE.MIRO:return(0,h.t)("fullscreen.file_import.import_miro_pdf_failed");case T.VtE.MURAL:return(0,h.t)("fullscreen.file_import.import_mural_pdf_failed");case T.VtE.LUCID:return(0,l.kc)().figjam_lucid_import?(0,h.t)("fullscreen.file_import.import_lucid_pdf_failed"):(0,h.t)("fullscreen.file_import.import_unknown_pdf_failed");case T.VtE.UNKNOWN:return(0,h.t)("fullscreen.file_import.import_unknown_pdf_failed");default:(0,i.xb)(e)}}async function H(e,t,r,n){v.Y5.resetLoadedFigFile(),await (0,D.U_)(e,N.nT.Whiteboard);let{status:a,detectedPDFType:o}=await M.IY.convertPDFToScene(r,n);switch(a){case T.bst.SUCCESS:break;case T.bst.ERROR_TEXT_SIZE:throw new x.zX((0,h.t)("fullscreen.file_import.file_contains_text_either_too_big_or_too_small"));case T.bst.TIMEOUT:throw new x.zX((0,l.kc)().figjam_import_timeout_strings?(0,h.t)("fullscreen.file_import.file_timed_out"):B(o));case T.bst.ERROR_OTHER:throw new x.zX(B(o));default:(0,i.xb)(a)}return{result:{file:{name:t,type:"jam",bytes:T.glU.getScene(),thumbnail:{bytes:new Uint8Array,clientMeta:{}},version:15},images:[],videos:[],warnings:[]},detectedPDFType:o}}async function V(e,t,r,n,i,o,l,c,u){var m,b=null;try{let v;let I=await function(e,t,r,n,i,a,o){if(e.hasCanceled())return Promise.reject(Error("canceled"));let l=Error((0,h.t)("fullscreen.file_import.oops_this_service_is_temporarily_unavailable")),s=function(e,t,r,n,i,a){let o=new FormData;return o.append("manifest",JSON.stringify({canvas_count:1,parts:[{name:"canvas",mime:"application/x-figma",length:t.length},{name:"thumbnail",mime:"image/png",length:r.bytes.length}],folder_id:a,file_type:e,client_meta:r.clientMeta,max_session_id:n,import_file_format:i})),o.append("canvas",new Blob([t],{type:"application/x-figma"})),o.append("thumbnail",new Blob([r.bytes],{type:"image/png"})),o}(t,r,n,i,a,o);return _.Ay.post("/api/upnode/checkpoint?st=import",s,{raw:!0,retryCount:3}).catch(e=>{throw(0,d.$D)(p.e.SCENEGRAPH_AND_SYNC,e),l}).then(e=>{if(e.error)throw Error(e.error);try{return JSON.parse(e.data)}catch(e){throw(0,d.$D)(p.e.SCENEGRAPH_AND_SYNC,Error("Unparseable canvas upload response")),l}})}(t,n,i,o||F,l,c,u);if(b=I.meta.file.key,t.hasCanceled())throw Error("Import canceled.");if(!b)throw Error("Null fileKey.");let T=e.getState();if(!(0,A.canCreateFile)(I.meta.file.folder_id,T,I.meta.file.editor_type)){let t=null==(m=T.user)?void 0:m.drafts_folder_id,r=T.folders[I.meta.file.folder_id],n=r&&(0,A.isFigJamDisabledForFolder)(r,T),i=(0,A.isOrgUserExternallyRestrictedFromState)(T),a=U(null==r?void 0:r.name,n,i);throw e.dispatch(g.F.enqueue({message:a,type:"restricted-import-type",error:!0,...!t||n||i?{}:{button:{text:(0,h.t)("fullscreen.file_import.go_to_drafts"),action:()=>{e.dispatch(f.gN(t))}}}})),Error(a)}if(I.meta.file.file_repo_id){let t=await _.Ay.put(`/api/repo/${I.meta.file.file_repo_id}`,{name:r});e.dispatch(E.bE({repo:t.data.meta})),v={file:{...I.meta.file,accessed_at:new Date().toISOString()}}}else await _.Ay.put(`/api/files/${b}`,{name:r}),v={file:{...I.meta.file,accessed_at:new Date().toISOString(),name:r}};return await (0,s.Jl)(a._v)({orgId:T.currentUserOrgId,newFile:v.file}),e.dispatch(y.y$({type:L.F.FILES,tiles:[{type:S.nb.FILE,file:v.file}]})),{fileKey:b}}catch(e){throw b&&_.Ay.del("/api/files_batch",{files:[{key:b}]}),e}}async function G(e,t,r){let i=t.length,a=0,o=0;try{for(let n=0;n<t.length;n+=5){let s=[];for(let c=n;c<n+5&&c<t.length;c++){let n=t[c];if(e.hasCanceled())throw Error("Import canceled.");let d="application/octet-stream";if(e.isProbablyPNGFile(n.bytes))d="image/png";else if(e.isProbablyJPEGFile(n.bytes))d="image/jpeg";else if(e.isProbablyGIFFile(n.bytes))d="image/gif";else{console.warn("warning: ignoring image with unknown type ("+Array.prototype.slice.call(n.bytes,0,10).map(e=>(256|e).toString(16).slice(-2))+"...)");continue}e.callUpdateProgressCallback(20+(0===i?0:80*c/i)),s.push(new Promise((e,t)=>{let i=s=>{var c;let p=new XMLHttpRequest,m=!1;p.onloadend=()=>{let r=x.pl.indexOf(p);if(r>-1&&x.pl.slice(r,1),4===p.readyState&&200===p.status)e();else if(m)t(Error("Import canceled."));else if(413===p.status)a++,e();else if(400===p.status)o++,e();else if(401!==p.status){let e=3-s;if(--s>0){let t=1e3*Math.pow(2,e),r=t+t*Math.random();(429===p.status||503===p.status)&&(r*=2),console.warn("Image upload failed, retrying..."),setTimeout(()=>{i(s)},r);return}}let n=new x.oo((0,h.t)("fullscreen.file_import.image_import_failed"));n.imageUploadError=!0,t(n)},p.onabort=()=>{m=!0},p.open("POST",`/api/upnode/image?purpose=canvas&sha1=${u.nj(n.sha1Bytes)}&fileKey=${r.fileKey}`);let _=null==(c=(0,l.tl)().user_data)?void 0:c.id;_&&p.setRequestHeader("X-Figma-User-ID",_),p.setRequestHeader("Content-Type",d),x.pl.push(p),p.send(n.bytes||null)};i(3)})),await (0,m.fm)(0)}await Promise.all(s)}}catch(e){throw _.Ay.del("/api/files_batch",{files:[{key:r.fileKey}]}),e}let s=[];return a>0&&s.push((0,h.t)("fullscreen.file_import.oversized_files_image_s_were_too_large_64_mb_and_did_not_successfully_import",{oversizedFiles:a})),o>0&&s.push((0,h.t)("fullscreen.file_import.invalid_images_on_import",{invalidFiles:o})),(0,n.sx)("file_import_image_upload_complete",{oversizedFiles:a,invalidFiles:o}),s}function W(e){let t=(0,I.yF)([T.jXp.LOCAL,T.jXp.GOOGLE,T.jXp.SHARED]);return{getFont:async function(r){var n;let i=await t;for(let t of[i.localFontsList,i.indexFontsList,i.sharedFontsList])if(void 0!==t)for(let i of t){let t=function(e,t){if(e===t)return!0;let r=e.toLowerCase().trim(),n=t.toLowerCase().trim();if(r===n)return"lower";let i=r.split("-"),a=n.split("-");return 0!==i.length&&0!==a.length&&a[0]===i[0]&&(1===i.length&&2===a.length&&"regular"===a[1]||2===i.length&&1===a.length&&"regular"===i[1])&&"assume-regular"}(i.postscript,r);if(t){!0!==t&&console.warn(`Fuzzy font name match: ${i.postscript} = ${r} (${t})`);let a=e.getState(),o=null;if("folder"===a.selectedView.view){let e=a.folders[a.selectedView.folderId];o=e&&e.team_id}let l=await (0,I.M1)({source:i.source,id:i.id,postscriptName:i.postscript,fileKey:(null==(n=a.openFile)?void 0:n.key)||null,teamId:o,orgId:a.currentUserOrgId});if(l)return{name:i.postscript,font:l}}}return new Promise((e,t)=>t(null))}}}async function K(e,t,r,i,a,s,u,m,_){var g,f,E;let y;if(".svg"===r)throw new x.zX((0,h.t)("fullscreen.file_import.to_import_an_svg_drag_it_directly_into_an_open_figma_file"));let v=s.blob;if(!v)throw(0,d.x1)("convertAndUploadFile","attempted to convert a file with no blob"),new x.oo((0,h.t)("fullscreen.file_import.could_not_convert_file"));let I=(0,o.jm)(null==(f=null==(g=(0,l.tl)())?void 0:g.user_data)?void 0:f.email),T={entrypoint:"file_browser",fileLength:v.size};if(".pdf"===r){if((0,n.sx)("pdf_import_started",T,{forwardToDatadog:!0}),v.size>52428800)throw new x.zX((0,h.t)("fullscreen.file_import.your_pdf_is_larger_than_50mb"));let r=new Uint8Array(await v.arrayBuffer()),i=await H(e,t,r,m);y=i.result,T={...T,pdf_source:(0,O.Wb)(i.detectedPDFType)}}else if(".jamboard"===r){if((0,n.sx)("file_import_started",{...T,extension:r},{forwardToDatadog:!0}),null==(E=s.metadata)?void 0:E.fileId){let r=new Uint8Array(await v.arrayBuffer());y=await (0,w.XU)(e,t,r,s.metadata.fileId)}else throw new x.zX((0,h.t)("fullscreen.file_import.jamboard_supported_only_via_menu"))}else y=await a.convertFile({blob:v,featureFlags:i,fontLoader:W(e),isUserFigmaEmployee:I,fileExtension:r});let S=y.file;if(!S)throw new x.oo((0,h.t)("fullscreen.file_import.could_not_convert_file"));if(a.hasCanceled())return{warnings:["Canceled"],file:null};let{fileKey:A}=await V(e,a,t,S.type,S.bytes,S.thumbnail,S.maxSessionID||0,u,_);A&&".pdf"===r&&(0,b.ds)("pdf_import_successful",A,e.getState(),T,{forwardToDatadog:!0}),A&&".jamboard"===r&&(0,b.ds)("file_created",A,e.getState(),{ui_triggered_from:P.L3,extension:r,...T},{forwardToDatadog:!0});let N={fileKey:A,sketchMeta:S.sketchMeta},L=(0,C.Cb)(y.videos,N.fileKey,a),D=await G(a,y.images,N);try{await L}catch(t){throw t instanceof c.q&&(0,R.MZ)(e.dispatch,(0,h.t)("check_network_compatibility.error_bell.video_upload.message")),t}try{if(S.developerRelatedLinks){let e=new k.GK,t=S.developerRelatedLinks.map(e=>({fileKey:A,nodeId:e.nodeId,linkName:e.linkName,linkUrl:e.linkUrl}));await e.addLinks(t)}}catch(e){(0,d.$D)(p.e.DEVELOPER_TOOLS,e)}return{warnings:y.warnings.concat(D),file:N}}async function Y(e,t,r,n){var i,a;let s=(0,o.jm)(null==(a=null==(i=(0,l.tl)())?void 0:i.user_data)?void 0:a.email),c=await r.convertFile({blob:n,featureFlags:t,fontLoader:W(e),isUserFigmaEmployee:s,fileExtension:".fig"});if(!c.file)throw Error("Could not convert file");return c.file}},769977:(e,t,r)=>{"use strict";r.d(t,{Aq:()=>C,Ax:()=>s,Ay:()=>R,Bb:()=>v,E_:()=>_,Fx:()=>E,Gw:()=>w,H0:()=>m,IM:()=>O,JT:()=>l,NY:()=>A,QU:()=>T,Re:()=>h,Ub:()=>d,WN:()=>S,Yc:()=>N,ZG:()=>L,_t:()=>u,bH:()=>y,co:()=>b,iL:()=>I,ju:()=>c,kO:()=>g,pA:()=>p,xe:()=>f});var n=r(966712),i=r(939863),a=r(341860),o=r(113237);let l=[],s=(0,n.kc)().figjam_summarization_ui2?8:16,c=436,d=36,u=72+2*s+436,p=4,m=24,_=24,h=6,g=18,f=12,E="#C4C4C4",y=4,b=[{type:"drop-shadow",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:1},blur:3},{type:"drop-shadow",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:3},blur:8},{type:"drop-shadow",color:{r:0,g:0,b:0,a:.18},offset:{x:0,y:0},blur:.5}],v={fontFamily:"Inter",fontSize:14,fontWeight:400,lineHeight:24,letterSpacing:-.084,width:436},I=8*v.fontSize/14,T={fontFamily:"Roboto Mono",fontSize:11,fontWeight:400,lineHeight:24,width:c};function S(e,t,r=!0){e.isAlive()&&(e.setWidgetSyncedState("syncedState:ai-summary-items",JSON.stringify(t)),r&&o.x.renderFirstPartyWidget(e.widgetId,e.guid))}function w(e,t,r=!0){e.isAlive()&&(e.setWidgetSyncedState("syncedState:summarized-at",`${t.getTime()}`),r&&o.x.renderFirstPartyWidget(e.widgetId,e.guid))}class A{static copySummaryDataToClipboard(e,t){let r=C(e,t);navigator.clipboard.writeText(r)}}function C(e,t){let r="";return r+=`${O(t)}

`,e.forEach(e=>{switch("h2"===e.type&&(r+="\n"),e.type){case"p":case"h1":case"h2":default:r+=e.content+"\n";break;case"li":r+=`\u2022 ${e.content}
`}}),r+=`
${(0,i.t)("whiteboard.ai.summary.summary_footer_disclaimer")}`}function N(e){return e.endsWith("...")?L():e+"."}function O(e){let t=new Date,r=parseInt(e,10);return r?(t.setTime(r),(0,i.t)("whiteboard.ai.summary.summary_header_disclaimer",{summaryGenerationDate:t})):(0,i.t)("whiteboard.ai.summary.summary_header_disclaimer_no_date")}function L(){return(0,i.t)("whiteboard.ai_summary.loading_text")}function R(e,t,r){let n=t.length>0,i=r&&r.length>0;if(!n||i)return!1;let o=new a.qo().get(e);return!!o&&(S(o,function(e){let t=JSON.parse(e),r=[{type:"p",context:"tldr",content:t.summary}];return t.supporting_points.forEach(({header:e,two_to_five_supporting_points:t})=>{r.push({type:"h2",content:e,context:"main_theme"}),t.forEach(e=>{r.push({type:"li",content:e,context:"supporting_point"})})}),r}(t)),!0)}},128803:(e,t,r)=>{"use strict";r.d(t,{HP:()=>h,Nd:()=>T,Rm:()=>_});var n=r(323762),i=r(38329),a=r(939863),o=r(677664),l=r(988022),s=r(974105),c=r(450225),d=r(852800),u=r(476560),p=r(306133),m=r(781779);function _(e,t){var r,n;let a=(null==(r=(0,s.d1)(i.D.getState()))?void 0:r.key)??"";(0,l.ds)(e,a,i.D.getState(),{domain:null!=t?(0,c.vO)(t):"",linkRenderType:c.Ci.LINK_PREVIEW,userId:null==(n=i.D.getState().user)?void 0:n.id})}var h=(e=>(e.OPEN="open",e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.CONVERT_TO_TEXT="convert_to_text",e))(h||{});let g=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 12H16V13H13V27H27V24H28V27V28H13H12V27V13V12ZM27.0001 13H26.9913L27.0001 13.0088V13ZM20.0001 13H26.2999L17.0251 22.2747L17.7323 22.9818L27.0001 13.714V20H28.0001V12.5V12H27.5001H20.0001V13Z" fill="white" fill-opacity="0.8"/>
</svg>
`,f=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.7072 14L20.3536 16.6465L19.6465 17.3536L16.1465 13.8536L15.793 13.5L16.1465 13.1465L19.6465 9.64648L20.3536 10.3536L17.7072 13H21.5001C25.0762 13 28.0001 15.9239 28.0001 19.5C28.0001 21.3202 27.167 22.5686 26.3445 23.35C25.9353 23.7387 25.5272 24.0141 25.2208 24.1929C25.0671 24.2825 24.9377 24.3486 24.8448 24.393C24.7983 24.4153 24.7608 24.4322 24.7339 24.444C24.7204 24.4499 24.7095 24.4545 24.7014 24.4579L24.6914 24.462L24.688 24.4634L24.6868 24.4639L24.6862 24.4641C24.686 24.4642 24.6858 24.4643 24.5001 24C24.3144 23.5358 24.3142 23.5359 24.314 23.536L24.316 23.5351L24.3337 23.5275C24.3506 23.5201 24.3776 23.508 24.4131 23.491C24.4843 23.457 24.5893 23.4035 24.7169 23.3291C24.9729 23.1797 25.3148 22.9489 25.6557 22.625C26.3332 21.9814 27.0001 20.9799 27.0001 19.5C27.0001 16.4762 24.5239 14 21.5001 14H17.7072Z" fill="white" fill-opacity="0.8"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 20H12V21H16.5V29H17.5V21H22V20H17.5H16.5Z" fill="white" fill-opacity="0.8"/>
</svg>
`,E=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="40" height="40" fill="#9747FF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M13 29V22H27V29H13ZM12 11C12 10.4477 12.4477 10 13 10H27C27.5523 10 28 10.4477 28 11V29C28 29.5523 27.5523 30 27 30H13C12.4477 30 12 29.5523 12 29V11Z" fill="white"/>
</svg>
`,y=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13 29V22H27V29H13ZM12 11C12 10.4477 12.4477 10 13 10H27C27.5523 10 28 10.4477 28 11V29C28 29.5523 27.5523 30 27 30H13C12.4477 30 12 29.5523 12 29V11Z" fill="white" fill-opacity="0.8"/>
</svg>
`,b=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="40" height="40" fill="#9747FF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17 16H31V24H17V16ZM8 16C8 15.4477 8.44772 15 9 15H31C31.5523 15 32 15.4477 32 16V24C32 24.5523 31.5523 25 31 25H9C8.44772 25 8 24.5523 8 24V16Z" fill="white"/>
</svg>
`,v=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M17 16H31V24H17V16ZM8 16C8 15.4477 8.44772 15 9 15H31C31.5523 15 32 15.4477 32 16V24C32 24.5523 31.5523 25 31 25H9C8.44772 25 8 24.5523 8 24V16Z" fill="white" fill-opacity="0.8"/>
</svg>
`,I=`
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.52518 13.6568L8.17683 11.0052L8.88394 11.7123L6.23229 14.3639C4.96308 15.6331 2.9053 15.6331 1.63609 14.3639C0.366889 13.0947 0.366889 11.0369 1.63609 9.76772L4.28774 7.11607L4.99485 7.82317L2.3432 10.4748C1.46452 11.3535 1.46452 12.7781 2.3432 13.6568C3.22188 14.5355 4.6465 14.5355 5.52518 13.6568ZM11.7124 8.88383L11.0053 8.17673L13.6569 5.52508C14.5356 4.6464 14.5356 3.22177 13.6569 2.34309C12.7782 1.46441 11.3536 1.46442 10.4749 2.34309L7.82328 4.99475L7.11617 4.28764L9.76782 1.63599C11.037 0.366784 13.0948 0.366784 14.364 1.63599C15.6332 2.90519 15.6332 4.96298 14.364 6.23218L11.7124 8.88383ZM6.26175 10.5043L10.5044 6.26164L9.73836 5.49561L5.49572 9.73825L6.26175 10.5043Z" fill="black" fill-opacity="0.5"/>
</svg>
`;function T({figma:e}){let{widget:t}=e,{Frame:r,AutoLayout:l,Text:s,SVG:h}=t;t.register(function(){let T=t.useWidgetId(),[S]=t.useSyncedState("url",null),w=S?decodeURIComponent(S):"null",A=(0,u.l)(e,t,"thumbnailImageHash"),[C]=t.useSyncedState("thumbnailImageWidth",null),[N]=t.useSyncedState("thumbnailImageHeight",null),O=C&&N?C/N:void 0,L=(0,u.l)(e,t,"faviconImageHash"),R=!!A,P=480-(R?112:8)-32-16,[k]=t.useSyncedState("title",null),[D]=t.useSyncedState("description",null),[M]=t.useSyncedState("provider",""),x=!!k,F=!!D,U=x||F,B=!(x||F||R),H=x!==F,[V,G]=t.useSyncedState("orientation",B?"horizontal":"vertical"),W=(0,p.H)(t,"title",{name:"Inter Medium",size:16,lineHeight:22},"vertical"===V?240:P,("vertical"===V?2:1)+(H?1:0)+("Twitter"===M?4:0),!1),K=(0,p.H)(t,"description",{name:"Inter",size:W?13:14,lineHeight:20},"vertical"===V?240:P,("vertical"===V?2:1)+(H?1:0),!1),Y=(0,p.H)(t,"url",{name:"Inter",size:16,lineHeight:22},("vertical"===V?240:P)-24,1+(U?0:1),!0),j=U?(0,n.Js)(w):Y,z=()=>{_(c.yc.OPEN_PREVIEW,w),i.D.dispatch((0,o.RK)({rawInput:w}))};t.usePropertyMenu([{itemType:"action",propertyName:"open",tooltip:(0,a.t)("whiteboard.embeds.inline_menu.open_link"),icon:g},{itemType:"separator"},{itemType:"action",propertyName:"vertical",tooltip:(0,a.t)("whiteboard.embeds.inline_menu.display_vertical"),icon:"vertical"===V?E:y},{itemType:"action",propertyName:"horizontal",tooltip:(0,a.t)("whiteboard.embeds.inline_menu.display_horizontal"),icon:"horizontal"===V?b:v},{itemType:"separator"},{itemType:"action",propertyName:"convert_to_text",tooltip:(0,a.t)("whiteboard.embeds.inline_menu.change_back_to_text"),icon:f}],({propertyName:e})=>{switch(e){case"open":z();break;case"convert_to_text":_(c.yc.CONVERT_TO_TEXT,w),d.glU.replaceNodeWithText(T,w);break;case"vertical":_(c.yc.SWITCH_ORIENTATION_VERTICAL,w),G("vertical");break;case"horizontal":_(c.yc.SWITCH_ORIENTATION_HORIZONTAL,w),G("horizontal");break;default:console.error("Unhandled property name for LinkPreview widget: %s",e)}});let $={fontFamily:"Inter",horizontalAlignText:"left",verticalAlignText:"bottom",width:"fill-parent",fill:{type:"solid",color:{r:0,g:0,b:0,a:.8},blendMode:"normal"}},Z=t=>{let n=t?e.widget.h(r,{name:"container-frame",width:16,height:16,fill:{type:"image",imageHash:t,scaleMode:"fill"},cornerRadius:3}):e.widget.h(h,{src:I});return e.widget.h(l,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"start",padding:{left:0,right:0,top:U?0:3,bottom:0}},n)},q=(t,n,i)=>e.widget.h(r,{name:"container-frame",width:t,height:n,fill:i?{type:"image",imageHash:i,scaleMode:"fill"}:m.Deq,effect:[{type:"inner-shadow",color:{r:0,g:0,b:0,a:.1},offset:"vertical"===V?{x:0,y:-1}:{x:-1,y:0},blur:0}],onClick:z}),J=t=>{if(t)return e.widget.h(s,{fontSize:16,fontWeight:500,lineHeight:22,...$},t)},X=(t,r)=>{if(r)return e.widget.h(s,{fontSize:t?13:14,lineHeight:20,fontWeight:400,...$,fill:{...$.fill,color:{r:0,g:0,b:0,a:t?.5:.8}}},r)},Q=(t,r)=>e.widget.h(s,{fontSize:t?13:16,lineHeight:t?20:22,fontWeight:400,textDecoration:"underline",...$,fill:{...$.fill,color:{r:0,g:0,b:0,a:.5}},onClick:z},r);return"vertical"===V?function(...t){return e.widget.h(l,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"center",width:"hug-contents",height:"hug-contents",fill:m.VmQ,cornerRadius:12,stroke:{type:"solid",color:{r:0,g:0,b:0,a:.2},blendMode:"normal"},effect:[{type:"drop-shadow",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:2},blur:6}]},...t)}(!R&&e.widget.h(r,{width:304,height:.01}),R&&q(304,O?Math.max(Math.min(304/O,608),160):160,A),U&&((t,...r)=>e.widget.h(l,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"start",width:"fill-parent",height:"hug-contents",fill:m.VmQ,spacing:4,padding:{left:24,right:24,bottom:0,top:t?16:24}},...r))(R,J(W),X(x,K)),((t,...r)=>e.widget.h(l,{name:"service-name-autolayout",direction:"horizontal",verticalAlignItems:t?"center":"start",horizontalAlignItems:"start",width:"fill-parent",spacing:8,padding:t?{left:24,right:24,top:8,bottom:24}:20},...r))(U,Z(L),Q(U,j))):"horizontal"===V?function(t,...r){return e.widget.h(l,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"start",width:480,height:"hug-contents",fill:m.VmQ,cornerRadius:12,spacing:t?16:0,stroke:{type:"solid",color:{r:0,g:0,b:0,a:.2},blendMode:"normal"},effect:[{type:"drop-shadow",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:2},blur:6},{type:"drop-shadow",color:{r:0,g:0,b:0,a:.08},offset:{x:0,y:0},blur:2}]},...r)}(R,!R&&e.widget.h(r,{width:.01,height:.01}),R&&q(112,112,A),((t,...r)=>e.widget.h(l,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"start",width:"fill-parent",height:"fill-parent",fill:m.VmQ,spacing:t?4:8,padding:t?{left:0,right:0,bottom:16,top:16}:20},...r))(R,U&&((...t)=>e.widget.h(l,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"start",width:"fill-parent",height:"hug-contents",fill:m.VmQ,spacing:4,padding:0},...t))(J(W),X(x,K)),((...t)=>e.widget.h(l,{name:"service-name-autolayout",direction:"horizontal",verticalAlignItems:U?"center":"start",horizontalAlignItems:"center",width:"fill-parent",spacing:8},...t))(Z(L),Q(U,j)))):void 0})}},369870:(e,t,r)=>{"use strict";r.d(t,{MP:()=>l,U1:()=>o,ck:()=>i,eM:()=>a});var n=r(966712);function i(){var e;return(null==(e=(0,n.Ay)().frame_context)?void 0:e.type)==="integration"}function a(){return i()&&"google-meet"===(0,n.Ay)().integration_host}function o(){return a()&&!!(0,n.Ay)().is_meet_hardware}function l(){return i()&&"zoom"===(0,n.Ay)().integration_host}},217071:(e,t,r)=>{"use strict";r.d(t,{F:()=>l,R:()=>a});var n=r(852438),i=r(47506);let a="Selection Changed",o=new Set;function l(e,t,r){let l=function(e){let t=Object.keys(e);return 0===t.length?new Set:new Set(t)}(t),s=!(0,n.yZ)(l,o);(0,i.YQ)({id:a,properties:{...r,numSelectedTextNodes:r.numSelectedByType&&r.numSelectedByType.TEXT||0,didSelectedNodeIdsChange:s}}),o=l}},732156:(e,t,r)=>{"use strict";r.d(t,{E:()=>h,z:()=>g});var n=r(411855),i=r(188507),a=r(776250),o=r(181912),l=r(733334),s=r(939863),c=r(392592),d=r(934533),u=r(662275),p=r(694517),m=r(8623),_=r(852800);function h(){let e=(0,i.wA)(),t=(0,i.d4)(e=>e.versionHistory.compareId),r=(0,i.d4)(e=>(0,p.HF)(t,e.versionHistory));return n.useCallback(t=>{g(t,e,r)},[e,r])}function g(e,t,r){let n=(0,l.F)(null==r?void 0:r.user.handle);if(n&&(null==r?void 0:r.touched_at)&&_.glU.getChunkChangeMap().has(e)){if(!_.glU.getChangesToCompareFromHistoryChangesState().has(e)){t(c.F.dequeue({matchType:"view_changes"}));return}t(c.F.dequeue({})),t(c.F.enqueue({message:(0,s.t)("collaboration.feedback.compare_changes_modal.action_text",{lastEditedBy:n,lastEditedAt:(0,o.A)(r.touched_at).fromNow()}),type:"view_changes",button:{text:(0,s.t)("collaboration.feedback.compare_changes_modal.action_button"),action:()=>{(0,a.sx)("version_diffing_performance_metrics",{name:"diffing_modal_cta_clicked",entrypoint:"figma_design_version_history"}),t(u.to({type:m.m,data:{nodeId:e}}))}},icon:""!==r.user.img_url?d.zX.FROM_URL:d.zX.NONE,iconShape:d.Ox.CIRCLE,iconURL:r.user.img_url}))}}},114716:(e,t,r)=>{"use strict";r.d(t,{N:()=>s,g:()=>c});var n=r(411855),i=r(288706),a=r(374626),o=r(356390);let l=(0,i.t_)(()=>o.Y5.isReady()||o.Y5.onReady());function s(){(0,a.md)(l)}function c(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(o.Y5.isReady()){t(!0);return}let e=!1;return o.Y5.onReady().then(()=>{e||t(!0)}),()=>{e=!0}},[t]),e}},15859:(e,t,r)=>{"use strict";r.d(t,{Jr:()=>w,Mj:()=>g,UD:()=>A,j5:()=>S,xY:()=>T});var n=r(776250),i=r(297666),a=r(77909),o=r(966712),l=r(994190),s=r(776621),c=r(304783),d=r(27087),u=r(852800),p=r(294868),m=r(801204),_=r(356390),h=r(493862);async function g(e,t,r){let n="figFile"===t.type?`/file/${t.fileKey}/image/batch`:`/community/file/${t.hubFileId}/image/batch`;try{let t=await d.Ay.post(n,{sha1s:e,max_size:r},{retryCount:1/0});if(200!==t.status||t.data.error)throw Error("api error while resolving images");return t.data.meta.s3_urls}catch(t){throw console.warn(`Couldn't download image(s) with hashes ${e}`),t}}class f extends Error{constructor(e="IMAGE_MISSING"){super(e),Object.setPrototypeOf(this,f.prototype)}}class E extends Error{constructor(e="FILE_KEY_MISSING"){super(e),Object.setPrototypeOf(this,E.prototype)}}class y extends Error{constructor(e="IMAGE_EXPIRED"){super(e),Object.setPrototypeOf(this,y.prototype)}}var b=(e=>(e[e.AWAITING_SINATRA_LOOKUP=0]="AWAITING_SINATRA_LOOKUP",e[e.LOOKUP=1]="LOOKUP",e[e.UPLOADING=2]="UPLOADING",e[e.READY=3]="READY",e[e.MISSING=4]="MISSING",e[e.FAILED=5]="FAILED",e[e.PRESENT=6]="PRESENT",e))(b||{});let v=class e{constructor(e,t){this.hash=e,this._priority=t,this.retries=0,this.state=0,this._downloadPromise=null,this._imageIsReady=()=>{},this._readyPromise=new Promise(e=>{this._imageIsReady=e})}set priority(t){this._priority!==e.MAX_PRIORITY&&(this._priority=t)}get priority(){return this._priority}imageIsReady(){this._imageIsReady()}readyPromise(){return this._readyPromise}isExpired(){let e=null;try{if(!(e=new URL(this.s3Path).searchParams.get("Expires")))return!1;e=parseInt(e,10)}catch{return!1}return e<Date.now()/1e3}downloadFromS3(){if(null==this.s3Path)throw Error("Called downloadFromS3 without s3Path");return d.Ay.crossOriginGetAny(this.s3Path,null,{responseType:"arraybuffer"}).then(e=>e.data).catch(e=>{if(this.isExpired())throw new y;throw 0!==e.status&&e.status<500&&((0,s.x1)("image","Image is missing from S3!",{hash:this.hash,status:e.status}),(0,s.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("Image missing from S3"))),e})}download(e){if(!this._downloadPromise){let e=this.downloadFromS3();e.finally(()=>{this._downloadPromise=null}).catch(e=>{}),this._downloadPromise=e}return this._downloadPromise}};v.MAX_PRIORITY=Number.MAX_SAFE_INTEGER;class I{constructor(){this.queue=[],this.byHash=new Map,this.needsSort=!1}get length(){return this.queue.length}ensureSorted(){this.needsSort&&(this.queue.sort((e,t)=>t.priority-e.priority),this.needsSort=!1)}numEligible(e){this.ensureSorted();let t=this.queue.findIndex(t=>t.priority<e);return t<0?this.queue.length:t}push(...e){for(let t of(this.queue.push(...e),e))this.byHash.set(t.hash,t);this.needsSort=!0}updatePriority(e,t){let r=this.byHash.get(e);return null!=r&&(r.priority=t,this.needsSort=!0,!0)}pop(e){if(this.ensureSorted(),0===this.queue.length||this.queue[0].priority<e)return null;let t=Date.now(),r=1/0;for(let e=0;e<this.queue.length;e++){let n=this.queue[e].retryTime;if(null==n||t>=n){let[t]=this.queue.splice(e,1);return this.byHash.delete(t.hash),{found:!0,image:t}}r=n<r?n:r}return{found:!1,retryDelay:r-t}}find(e){return this.byHash.get(e)??null}erase(e){let t=this.byHash.get(e);if(t){this.byHash.delete(e);let r=this.queue.findIndex(e=>e===t);r>=0&&this.queue.splice(r,1)}}debugString(){return this.queue.map(e=>`${e.hash}(${e.priority})`).join(",")}}class T{constructor(){this.pendingPasteRequests={},this.pendingImagesToRecord={},this.pendingRecordImagesTasks={},this.imagesNeedingDirectUpload=new Set,this.MAX_REQUESTS=3,this.SINATRA_BATCH_SIZE=100,this.verbose=(0,o.kc)().image_verbose,this.incomingImages=new Map,this.pendingLookupCallback=null,this.downloadQueue=new I,this.minPriority=0,this.downloadsPaused=!1,this.allImages=new Map,this.pendingDecodes=new Set,this.pendingDownloads=new Set,this.cancelDownloads=new Set,this.alreadyDownloaded=new Set,this.pendingUploads=new Set,this.uploadedImagesNeedingUrl=new Set,this.pendingImagesCallback=null,this.imageQueueEmpty=null,this.incomingImagesLookedUp=null,this.allImagesUploaded=null,this.progressCallbacks=[],this.imageMaxSize=void 0,this.flushPendingRecordImages=(0,i.s)(async()=>{let e=this.pendingImagesToRecord,t=this.pendingRecordImagesTasks,r=Object.keys(e);this.pendingImagesToRecord={},this.pendingRecordImagesTasks={};let i=await this.getEditingFileKey();r.forEach(async r=>{if(i===r){t[r].resolve();return}if(!r){t[r].reject("Invalid originFileKey");return}let a=1,o=e[r];for(;;){try{let e=await d.Ay.put(`/api/files/${i}`,{image_sha1s:o,image_origin_file_key:r}),{success:a,failed:l}=T.parseFileUpdateResponseForImages(o,e);for(let e of(u.Bko.imagePermissionsCopied(a),l))this.markImageMissing(e);for(let e of(l.length>0&&(0,n.sx)("image_permission_copy_failed",{shas:l.join(",")}),o))delete this.pendingPasteRequests[e];t[r].resolve();return}catch(e){if(e.status>=400&&e.status<500){for(let e of((0,l.Jj)(),(0,n.sx)("image_permission_copy_failed",{shas:o.join(",")}),o))this.markImageMissing(e),delete this.pendingPasteRequests[e];t[r].reject(`4xx error when pasting images ${e}`);return}}let e=1e3*a*Math.random();await new Promise(t=>setTimeout(t,e)),a=Math.min(2*a,64)}})},100)}getEditingFileKey(){return _.Y5.openFileKeyPromise()}recordImages(e,t){if(0===t.length)return Promise.resolve();if(!e)throw Error("No originFileKey specified");if(this.pendingImagesToRecord[e]=this.pendingImagesToRecord[e]||[],this.pendingImagesToRecord[e].push(...t),!this.pendingRecordImagesTasks[e]){let t,r;let n=new Promise((e,n)=>{t=e,r=n});this.pendingRecordImagesTasks[e]={promise:n,resolve:t,reject:r}}for(let r of t)this.pendingPasteRequests[r]=this.pendingRecordImagesTasks[e].promise;let r=this.pendingRecordImagesTasks[e].promise;return this.flushPendingRecordImages(),r}static parseFileUpdateResponseForImages(e,t){var r,n;try{if(null==(n=null==(r=null==t?void 0:t.data)?void 0:r.meta)?void 0:n.missing_shas){let r=new Set(t.data.meta.missing_shas);return{success:e.filter(e=>!r.has(e)),failed:Array.from(r)}}}catch{}return{success:e,failed:[]}}async resolveImageUrls(e){let t=await _.Y5.openFilePromise(),r=await g(e,t,this.imageMaxSize),n=e.filter(e=>!(e in r));if(n.length>0){let e=await _.Y5.sourceFileKeyPromise();if(e){let t=await g(n,{type:"figFile",fileKey:e});return{...r,...t}}}return r}queueImageForLookup(e){let t=e.hash;this.verbose&&(0,s.Lo)("image","incoming",{hash:t}),e.state=0,this.incomingImages.set(t,e),null==this.pendingLookupCallback&&(this.pendingLookupCallback=setTimeout(()=>{this.pendingLookupCallback=null,this.lookupImages().catch(e=>(0,s.$D)(c.e.SCENEGRAPH_AND_SYNC,e))},0))}setExternalSource(e,t){let r=new v(e,v.MAX_PRIORITY);r.s3Path=t,this.allImages.set(e,r),this.downloadQueue.push(r),this.imagesNeedingDirectUpload.add(e),this.maybeDownloadMoreImages()}setImageDownloadPriority(e,t){if(!e){(0,s.xi)("setImageDownloadPriority","invalid hash");return}let r=this.allImages.get(e);if(null==r){r=new v(e,t),this.allImages.set(e,r),this.queueImageForLookup(r);return}2===r.state&&(0,s.x1)("image","Got download request for currently uploading image",{hash:e},{reportAsSentryError:!0}),r.priority=t,this.downloadQueue.updatePriority(e,t)&&this.maybeDownloadMoreImages()}setMinimumImagePriority(e){this.minPriority=e,this.maybeDownloadMoreImages()}pauseImageDownloads(){this.downloadsPaused=!0}resumeImageDownloads(){this.downloadsPaused=!1,this.maybeDownloadMoreImages()}maybeDownloadMoreImages(){for(var e;this.pendingDownloads.size<this.MAX_REQUESTS&&this.downloadQueue.length>0&&!this.downloadsPaused;){let e=this.downloadQueue.pop(this.minPriority);if(null==e)break;if(!e.found){let t=e.retryDelay;!Number.isFinite(t)||t<=0?(0,s.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("Logic error in download queue, cannot compute next retry")):setTimeout(()=>this.maybeDownloadMoreImages(),t);break}let t=e.image;t.hash&&(this.verbose&&(0,s.Lo)("image","download start",{hash:t.hash,ok:!this.pendingDownloads.has(t.hash)}),this.pendingDownloads.add(t.hash)),t.download(this.imageMaxSize).then(e=>{!this.cancelDownloads.delete(t.hash)&&(this.verbose&&(0,s.Lo)("image","download done",{hash:t.hash,ok:!this.alreadyDownloaded.has(t.hash)}),this.alreadyDownloaded.add(t.hash),this.imagesNeedingDirectUpload.has(t.hash)?(u.Bko.imageDownloadedForPaste(t.hash,e),this.imagesNeedingDirectUpload.delete(t.hash)):u.Bko.imageDownloaded(t.hash,e),this.pendingDecodes.has(t.hash)||((0,s.xi)("ImageManager","missing pending decode after download",{hash:t.hash}),(0,s.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("missing pending decode after image marked as downloaded")),t.imageIsReady()))},e=>{if(this.pendingDecodes.delete(t.hash)&&this.maybeResolveImageQueueEmptyAndPendingImages(),!this.cancelDownloads.delete(t.hash)){if(e instanceof f)this.markImageMissing(t.hash);else if(e instanceof E)(0,s.$D)(c.e.SCENEGRAPH_AND_SYNC,e),this.markImageFailed(t.hash);else if(e instanceof y)this.queueImageForLookup(t);else{if(e instanceof d.Dr&&403===e.status){this.markImageFailed(t.hash);return}let r=5e3*(1<<Math.min(t.retries,4));r+=r*Math.random(),t.retries+=1,(429===e.status||503===e.status)&&(r*=4),t.retryTime=Date.now()+r,this.downloadQueue.push(t)}}}).finally(()=>{this.pendingDownloads.delete(t.hash),this.maybeDownloadMoreImages()})}null==(e=this.pendingImagesCallback)||e.call(this,this.pendingImages),this.maybeResolveImageQueueEmptyAndPendingImages()}forceDownloadImage(e){this.setImageDownloadPriority(e,v.MAX_PRIORITY)}setImageDecodePending(e){this.verbose&&(0,s.Lo)("image","decode start",{hash:e,ok:!this.pendingDecodes.has(e)}),this.pendingDecodes.add(e)}getSignedUrls(e){let t=new Map;for(let r of e){let e=this.allImages.get(r);e&&e.s3Path&&t.set(r,e.s3Path)}return t}clearImageDecodePending(e,t){this.verbose&&(0,s.Lo)("image","decode done",{hash:e,ok:this.pendingDecodes.has(e)}),this.pendingDecodes.delete(e)&&this.maybeResolveImageQueueEmptyAndPendingImages(),t?this.markImageReady(e):this.markImageFailed(e)}markImagePresent(e){let t=this.allImages.get(e);t&&(t.state=6,u.Bko.imageIsPresent(e))}markImageMissing(e){let t=this.allImages.get(e);t&&(t.state=4,u.Bko.imageIsMissing(e),t.imageIsReady())}markImageFailed(e){let t=this.allImages.get(e);t&&(t.state=5,t.imageIsReady())}markImageReady(e){let t=this.allImages.get(e);t&&(t.state=3,t.imageIsReady())}async lookupImages(){let e=[];for(let t of this.incomingImages.values())0===t.state&&(e.push(t),t.state=1,this.verbose&&(0,s.Lo)("image","lookup",{hash:t.hash}));try{for(;e.length>0;){let t=e.splice(0,this.SINATRA_BATCH_SIZE);for(let e of t){let t=this.pendingPasteRequests[e.hash];if(t)try{await t}catch(t){(0,s.x1)("lookupImages","pastePromise failed",{hash:e.hash})}}let r=await this.resolveImageUrls(t.map(e=>e.hash));for(let e of t){let t=r[e.hash];t?(e.s3Path=t,this.markImagePresent(e.hash),this.downloadQueue.push(e),this.verbose&&(0,s.Lo)("image","enqueued-batch",{hash:e.hash})):(this.markImageMissing(e.hash),this.verbose&&(0,s.Lo)("image","missing",{hash:e.hash})),this.incomingImages.delete(e.hash)}}}finally{for(let t of e)this.incomingImages.delete(t.hash)&&(0,s.xi)("image","incoming fallback delete",{hash:t.hash});null!=this.incomingImagesLookedUp&&this.incomingImagesLookedUp.resolve()}this.maybeDownloadMoreImages()}forgetImage(e){if(this.imagesNeedingDirectUpload.has(e))return;this.verbose&&(0,s.Lo)("image","forget",{hash:e}),this.incomingImages.delete(e),this.downloadQueue.erase(e),this.pendingDownloads.has(e)&&this.cancelDownloads.add(e),this.alreadyDownloaded.delete(e),this.pendingDecodes.delete(e),this.maybeResolveImageQueueEmptyAndPendingImages(),this.maybeResolveImagesLookedUp();let t=this.allImages.get(e);t&&(this.allImages.delete(e),3!==t.state&&t.imageIsReady())}getNumEligibleForDownload(){return this.downloadQueue.numEligible(this.minPriority)}get pendingImages(){let e=this.getNumEligibleForDownload();return this.verbose&&(0,s.Lo)("image","pendingImages",{incoming:this.incomingImages.size,eligible:e,downloads:this.pendingDownloads.size,decode:this.pendingDecodes.size}),this.incomingImages.size+e+this.pendingDownloads.size+this.pendingDecodes.size}setPendingImagesCallback(e){this.pendingImagesCallback=e}imageQueueEmptyPromise(){if(!this.imageQueueEmpty){let e=performance.now();this.imageQueueEmpty=(0,a.v)(),this.verbose&&(0,s.Lo)("image","queue empty defer installed",{start:e}),this.imageQueueEmpty.promise.finally(()=>{this.imageQueueEmpty=null;let t=performance.now()-e;this.verbose?(0,s.Lo)("image","queue empty defer cleared",{start:e,elapsed:t}):t>1e4&&(0,s.xi)("image","queue empty finished after a long time",{start:e,elapsed:t})}),this.emptyQueueCheck(this.imageQueueEmpty,e,3e4)}let e=this.imageQueueEmpty.promise;return this.maybeResolveImageQueueEmptyAndPendingImages(),e}imageLookupPromise(){this.incomingImagesLookedUp||(this.incomingImagesLookedUp=(0,a.v)(),this.incomingImagesLookedUp.promise.finally(()=>{this.incomingImagesLookedUp=null}));let e=this.incomingImagesLookedUp.promise;return this.maybeResolveImagesLookedUp(),e}emptyQueueCheck(e,t,r){setTimeout(()=>{if(e===this.imageQueueEmpty){let n=Math.round(.001*(performance.now()-t));(0,s.xi)("image","queue empty is taking a long time",{elapsedSec:n,pending:this.pendingImages,downloads:this.pendingDownloads.size,decodes:this.pendingDecodes.size}),this.verbose&&(0,s.Lo)("image","slow",{downloads:this.pendingDownloads,decodes:this.pendingDecodes});let i=Math.min(2*r,9e5);this.emptyQueueCheck(e,t,i)}},r)}maybeResolveImageQueueEmptyAndPendingImages(){let e=this.pendingImages;for(let t of this.progressCallbacks)t(e);this.imageQueueEmpty&&0===e&&(this.verbose&&(0,s.Lo)("image","resolve queue empty!"),this.imageQueueEmpty.resolve(),this.progressCallbacks=[]),this.maybeResolveImagesLookedUp()}maybeResolveImagesLookedUp(){var e;0===this.incomingImages.size&&(null==(e=this.incomingImagesLookedUp)||e.resolve())}unresolvedImagesUnder(e,t,r){let n=r??u.AlE.getMutableActiveDocument();return u.Bko.findImagesUnder(n,e,t).map(e=>this.allImages.get(e)).filter(e=>void 0!==e&&3!==e.state&&2!==e.state)}loadAllImagesUnder(e,t,r,n=null,i){return this.loadAllImages(e,t,r,n,!0,i)}waitForImagesUnder(e,t,r,n=null,i){return this.loadAllImages(e,t,r,n,!1,i)}async loadAllImages(e,t,r,n=null,i,a){let o=performance.now();if(this.verbose&&(0,s.Lo)("image","loadAllImagesUnder",{reason:r,guids:e,start:o}),e.includes("0:0")&&"playground.initialLoad"!==r){(0,s.x1)("image","loadAllImagesUnder called with full document",{reason:r}),this.verbose&&(0,s.Lo)("image","waitForAllPages start");let e=(0,h.qd)(u._em.LEGACY_IMAGES_CODE);await e,e.catch(()=>{(0,s.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("image_manager: waitForAllPagesPromise rejected"))}),this.verbose&&(0,s.Lo)("image","waitForAllPages done")}let l=0,d=new Promise(r=>{let o=this.unresolvedImagesUnder(e,t,a);if(0===(l=o.length))r({totalImages:l});else{var s;let e=l;for(let t of(s=e,n&&n(s,l),o))i&&this.setImageDownloadPriority(t.hash,v.MAX_PRIORITY),t.readyPromise().finally(()=>{var t;t=--e,n&&n(t,l),0===e&&r({totalImages:l})})}});return await d}async loadImageByHash(e){this.verbose&&(0,s.Lo)("image","loadImageByHash",{hash:e}),this.setImageDownloadPriority(e,v.MAX_PRIORITY),await this.imageQueueEmptyPromise()}setImageMaxSize(e){this.imageMaxSize=e}markImageUploading(e){this.pendingUploads.add(e)}markImageUploaded(e){this.pendingUploads.has(e)||(0,s.xi)("image","markImageUploaded called for unknown image",{imageHash:e}),this.pendingUploads.delete(e),this.uploadedImagesNeedingUrl.add(e),this.maybeResolveImagesUploaded()}startUploadingImage(e,t,r,n){if(this.pendingUploads.has(n))return;this.pendingUploads.add(n);let i=new v(n,0);i.state=2,this.allImages.set(n,i);let a=`/api/upnode/image?purpose=canvas&sha1=${n}&fileKey=${e}`,o=0;d.Ay.post(a,t,{retryCount:1/0,headers:{...d.Ay.defaults.headers,"Content-Type":r},rawBody:!0,uploadEvents:{loadstart:()=>{i.retries=o,o+=1}}}).then(e=>{if(200!==e.status){(0,s.x1)("image","unexpected status code from image upload",{hash:n,status:e.status},{reportAsSentryError:!0});return}(0,s.Lo)("image","uploaded new image",{hash:n}),this.pendingUploads.delete(n),u.Bko.imageUploadFinished(n,u.d8m.SUCCESS),i.state=3,this.uploadedImagesNeedingUrl.add(n),this.maybeResolveImagesUploaded()},e=>{let t;415===e.status?((0,s.x1)("image","image upload failed, removing invalid image",{hash:n}),t=u.d8m.UNSUPPORTED_MEDIA):t=u.d8m.OTHER_FAILURE,this.pendingUploads.delete(n),u.Bko.imageUploadFinished(n,t),this.maybeResolveImagesUploaded()})}pendingUploadStats(){let e=new Set;for(let t of this.pendingUploads){let r=this.allImages.get(t);r&&r.retries>0&&e.add(t)}return[this.pendingUploads,e]}async maybeResolveImagesUploaded(){var e;if(0===this.pendingUploads.size){let t=Array.from(this.uploadedImagesNeedingUrl);this.uploadedImagesNeedingUrl.clear();for(let e=0;e<t.length;e+=this.SINATRA_BATCH_SIZE){let r=t.slice(e,e+this.SINATRA_BATCH_SIZE),n=await this.resolveImageUrls(r);for(let e of r){let t=n[e];if(t){let r=this.allImages.get(e);if(r)r.s3Path=t;else{let r=new v(e,0);r.s3Path=t,r.state=3,this.allImages.set(e,r)}}}}null==(e=this.allImagesUploaded)||e.resolve()}}imageUploadPromise(){this.allImagesUploaded||(this.allImagesUploaded=(0,a.v)(),this.allImagesUploaded.promise.finally(()=>{this.allImagesUploaded=null}));let e=this.allImagesUploaded.promise;return this.maybeResolveImagesUploaded(),e}logDebugInfo(e){for(let t of e){let e=this.allImages.get(t),r=new Set;for(let e of Object.values(this.pendingImagesToRecord))for(let t of e)r.add(t);(0,s.Lo)("ImageManager","Blocking image info",{hash:t,state:e?e.state:"NO IMAGE",inIncoming:t in this.incomingImages,inQueue:null!=this.downloadQueue.find(t),inPending:t in this.pendingDownloads,inFinished:t in this.alreadyDownloaded,inPendingRecord:t in r})}let[t,r]=this.pendingUploadStats(),n=Array.from(this.incomingImages.values()).map(e=>e.hash).join(","),i=Array.from(this.pendingDownloads).join(","),a=Array.from(this.alreadyDownloaded).join(","),o=this.downloadQueue.debugString(),l=Array.from(t).join(","),c=Array.from(r).join(",");(0,s.Lo)("ImageManager","ImageManager debug info",{incomingImages:n,downloadQueue:o,pendingDownloads:i,alreadyDownloaded:a,pendingUploads:l,uploadBackoffs:c,pendingImagesToRecord:this.pendingImagesToRecord})}getDebugState(){let e=u.Bko.getImageResourceDebugInfo(),t=new Map;return e.forEach(e=>{var r;t.set(e.hash,{...e,tsState:null==(r=this.allImages.get(e.hash))?void 0:r.state})}),this.allImages.forEach((e,r)=>{t.has(r)||t.set(r,{hash:r,tsState:e.state})}),t}static includeOutsideContents(e){return e.some(e=>!1===e.contentsOnly)}}let S=new class{constructor(){this.imageManager=new T}copyImagePermissions(e,t){return this.imageManager.recordImages(e,t)}setImageDownloadPriority(e,t){this.imageManager.setImageDownloadPriority(e,t)}forceDownloadImage(e){this.imageManager.forceDownloadImage(e)}setMinimumImagePriority(e){this.imageManager.setMinimumImagePriority(e)}forgetImage(e){this.imageManager.forgetImage(e)}setImageDecodePending(e){this.imageManager.setImageDecodePending(e)}clearImageDecodePending(e,t){this.imageManager.clearImageDecodePending(e,t)}async downloadEmoji(e){return(await d.Ay.crossOriginGetAny(e,null,{responseType:"arraybuffer"})).data}markImageUploading(e){this.imageManager.markImageUploading(e)}markImageUploaded(e){this.imageManager.markImageUploaded(e)}startUploadingImage(e,t,r,n){this.imageManager.startUploadingImage(e,t,r,n)}pendingUploadStats(){return this.imageManager.pendingUploadStats()}logDebugInfo(e){this.imageManager.logDebugInfo(e)}pauseImageDownloads(){this.imageManager.pauseImageDownloads()}resumeImageDownloads(){this.imageManager.resumeImageDownloads()}getSignedUrls(e){return this.imageManager.getSignedUrls(e)}getImageHostDomain(){return window.location.hostname}setExternalSource(e,t){this.imageManager.setExternalSource(e,t)}};function w(){return S.imageManager}async function A(e,t,r){let n=await p.EC.decodeAsync(e,t,p.d$,p.d$,!1),i=await crypto.subtle.digest("SHA-1",e),a={width:n.width,height:n.height,compressedData:e,hash:new Uint8Array(i),bitmap:n.bitmap?n.bitmap:void 0,mimeType:t,rgba:n.rgba?n.rgba:new Uint8Array,name:r},o=p.EC.thumbnailSize(n.width,n.height),l={width:o.w,height:o.h,compressedData:new Uint8Array,hash:new Uint8Array,bitmap:void 0,mimeType:t,rgba:null,name:r};if(n.bitmap){let e=await p.EC.scaleImageBitmapAsync(n.bitmap,o.w,o.h,t),r=await crypto.subtle.digest("SHA-1",e.compressedData);l.compressedData=e.compressedData,l.hash=new Uint8Array(r),l.bitmap=e.bitmap}return{fullResolution:a,thumbnail:l}}async function C(e,t){let r=!!T.includeOutsideContents(t);await w().loadAllImagesUnder([r?e.containingCanvas||"-1:-1":e.guid],u.MoD.NON_ANIMATED_ONLY,"plugins.loadImagesAndExport")}(0,m.cP)(C)},855418:(e,t,r)=>{"use strict";r.d(t,{GG:()=>tA,LW:()=>tN,SD:()=>tC,Yy:()=>tw,ZI:()=>tL,bs:()=>tS,c3:()=>tO});var n=r(411855),i=r(842700),a=r(763293),o=r(774844),l=r(10640),s=r(971015),c=r(138712),d=r(146085),u=r(694568),p=r(359419),m=r(583087),_=r(973332),h=r(575722),g=r(335125),f=r(143984),E=r(470370),y=r(163011),b=r(210163),v=r(704327),I=r(341987),T=r(897379),S=r(599741),w=r(921211),A=r(472604),C=r(766503),N=r(416580),O=r(826785),L=r(583602),R=r(593961),P=r(304173),k=r(841368),D=r(737834),M=r(516371),x=r(891326),F=r(975798),U=r(710752),B=r(914756),H=r(205478),V=r(615777),G=r(966712),W=r(729816),K=r(809511),Y=r(923e3),j=r(353598),z=r(279207),$=r(770184),Z=r(348119),q=r(615780),J=r(931853),X=r(704728),Q=r(661865),ee=r(400232),et=r(805869),er=r(732431),en=r(638157),ei=r(721935),ea=r(809586),eo=r(206186),el=r(963563),es=r(713122),ec=r(342811),ed=r(309620),eu=r(396090),ep=r(805538),em=r(394757),e_=r(297745),eh=r(457272),eg=r(338659),ef=r(81297),eE=r(507721),ey=r(403203),eb=r(527920),ev=r(952545),eI=r(91521),eT=r(593865),eS=r(380586),ew=r(607055),eA=r(577777),eC=r(416799),eN=r(733715),eO=r(964854),eL=r(199409),eR=r(593727),eP=r(435651),ek=r(319782),eD=r(257693),eM=r(944752),ex=r(692801),eF=r(267433),eU=r(116198),eB=r(861310),eH=r(941283),eV=r(491233),eG=r(436762),eW=r(715840),eK=r(522075),eY=r(21458),ej=r(399329),ez=r(535149),e$=r(551251),eZ=r(270745),eq=r(180516),eJ=r(15248),eX=r(146820),eQ=r(35510),e0=r(416014),e1=r(386765),e2=r(140592),e3=r(453151),e5=r(447757),e4=r(348844),e8=r(521391),e6=r(944237),e7=r(73345),e9=r(969537),te=r(769420),tt=r(354510),tr=r(960340),tn=r(724202),ti=r(670077),ta=r(756055),to=r(485508),tl=r(855723),ts=r(990846),tc=r(811275),td=r(294622),tu=r(189948),tp=r(575641),tm=r(713148),t_=r(66690),th=r(288849),tg=r(868059),tf=r(301719),tE=r(861995),ty=r(510335),tb=r(757744),tv=r(227460);let tI={place:{svg:X.A,ui3Icon:n.createElement(i.V,null)},"crop-image":{svg:et.A,ui3Icon:n.createElement(a.V,null)},"create-section-from-selection":{svg:Q.A,ui3Icon:n.createElement(o.c,null)},"add-selection-ready-status":{svg:(0,G.kc)().dt_frame_status_canvas?ew.A:eS.A,ui3Icon:n.createElement(l.i,null)},"remove-selection-status":{svg:(0,G.kc)().dt_frame_status_canvas?ew.A:eS.A,ui3Icon:n.createElement(l.i,null)},"export-selected-exportables":{svg:ei.A,ui3Icon:n.createElement(i.V,null)},"live-boolean-intersect":{svg:es.A,ui3Icon:n.createElement(s.U,null)},"live-boolean-subtract":{svg:ec.A,ui3Icon:n.createElement(c.R,null)},"live-boolean-union":{svg:ed.A,ui3Icon:n.createElement(d.A,null)},"live-boolean-xor":{svg:eu.A,ui3Icon:n.createElement(u.N,null)},"mask-selection":{svg:ep.A,ui3Icon:n.createElement(p.n,null)},"request-edit-mode-via-toolbar":{svg:ef.A,ui3Icon:n.createElement(m.y,null)},"toggle-menu":{svg:eA.A,ui3Icon:n.createElement(i.V,null)},"create-multiple-symbols":{svg:null,ui3Icon:n.createElement(_.p,null)},"create-multiple-symbols-and-state-group":{svg:null,ui3Icon:n.createElement(h.E,null)},"toggle-pixel-preview":{svg:eC.A,ui3Icon:n.createElement(i.V,null)},"toggle-show-resolved-comments":{svg:eN.A,ui3Icon:n.createElement(i.V,null)},"zoom-in":{svg:eO.A,ui3Icon:n.createElement(i.V,null)},"zoom-out":{svg:eL.A,ui3Icon:n.createElement(i.V,null)},"align-bottom":{svg:j.A,ui3Icon:n.createElement(i.V,null)},"align-horizontal-center":{svg:z.A,ui3Icon:n.createElement(i.V,null)},"align-left":{svg:$.A,ui3Icon:n.createElement(i.V,null)},"align-right":{svg:Z.A,ui3Icon:n.createElement(i.V,null)},"align-top":{svg:q.A,ui3Icon:n.createElement(i.V,null)},"align-vertical-center":{svg:J.A,ui3Icon:n.createElement(i.V,null)},"distribute-horizontal-spacing":{svg:er.A,ui3Icon:n.createElement(i.V,null)},"distribute-vertical-spacing":{svg:en.A,ui3Icon:n.createElement(i.V,null)},"flatten-selection":{svg:ea.A,ui3Icon:n.createElement(g.p,null)},"create-symbol":{svg:ee.A,ui3Icon:n.createElement(f.K,null)},"reset-symbol":{svg:eE.A,ui3Icon:n.createElement(E.N,null)},"add-variant":{svg:Y.A,ui3Icon:n.createElement(y.m,null)},"multi-edit-text":{svg:em.A,ui3Icon:n.createElement(b.P,null)},"focus-mode-component-set-toggle":{svg:eo.A,ui3Icon:n.createElement(v.a,null)},"select-matching":{svg:ev.A,ui3Icon:n.createElement(I.i,null)},"text-edit-hyperlink":{svg:el.A,ui3Icon:n.createElement(T.r,null)},"component-insert":{svg:ey.A,ui3Icon:n.createElement(i.V,null)},"present-as-prototype":{svg:e_.A,ui3Icon:n.createElement(S.H,null),ui3FlyoutIcon:n.createElement(w.K,null)},"present-slides-audience-view":{svg:eI.A,ui3Icon:n.createElement(W.V,null),ui3FlyoutIcon:n.createElement(w.K,null)},"present-slides-presenter-view":{svg:eT.A,ui3Icon:n.createElement(W.y,null),ui3FlyoutIcon:n.createElement(w.K,null)},"toggle-inline-preview":{svg:eh.A,ui3Icon:n.createElement(A.F,null)},"toggle-inline-html-preview":{svg:eg.A,ui3Icon:n.createElement(S.H,null),ui3FlyoutIcon:n.createElement(w.K,null)},"resize-to-fit":{svg:e9.A,ui3Icon:n.createElement(C.F,null)},"detach-instance":{svg:null,ui3Icon:n.createElement(N.U,null)},"push-changes-to-main":{svg:null,ui3Icon:n.createElement(O.m,null)},"reset-size":{svg:null,ui3Icon:n.createElement(L.m,null)},"reset-exports":{svg:null,ui3Icon:n.createElement(R.b,null)},"reset-effects":{svg:null,ui3Icon:n.createElement(P.n,null)},"reset-layer":{svg:null,ui3Icon:n.createElement(k.J,null)},"reset-visible":{svg:null,ui3Icon:n.createElement(D._,null)},"reset-name":{svg:null,ui3Icon:n.createElement(M.U,null)},"reset-fill":{svg:null,ui3Icon:n.createElement(x.a,null)},"reset-stroke":{svg:null,ui3Icon:n.createElement(F.E,null)},"reset-text":{svg:null,ui3Icon:n.createElement(U.e,null)},"reset-text-style":{svg:null,ui3Icon:n.createElement(B.U,null)},"reset-prototype-interactions":{svg:null,ui3Icon:n.createElement(H.V,null)},"reset-overlay":{svg:null,ui3Icon:n.createElement(V.x,null)}},tT={"component-insert":eb.A};function tS(e){return tI[e]??null}function tw(e){var t;return(null==(t=tS(e))?void 0:t.svg)??null}function tA(e){return tT[e]??null}function tC(e){var t;return(null==(t=tN(e))?void 0:t.svg)??null}function tN(e){switch(e){case K.NLJ.NONE:break;case K.NLJ.SELECT:return{svg:tl.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.HAND:return{svg:ta.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.COMMENTS:return{svg:tr.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.DROPPER_COLOR:break;case K.NLJ.FRAME:return{svg:ti.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.STACK:return{svg:tu.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SLICE:return{svg:td.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SECTION:return{svg:tc.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_STAR:return{svg:e4.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_LINE:return{svg:eY.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_ARROW:return{svg:eR.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_ELLIPSE:return{svg:eU.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_RECTANGLE:return{svg:e0.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_REGULAR_POLYGON:return{svg:e1.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_SQUARE:return{svg:e0.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_ELLIPSE:return{svg:eU.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_DIAMOND:return{svg:eM.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_TRIANGLE_UP:return{svg:e1.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_TRIANGLE_DOWN:return{svg:e7.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE:return{svg:e2.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT:return{svg:eq.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT:return{svg:eZ.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_ENG_DATABASE:return{svg:eB.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_ENG_QUEUE:return{svg:eG.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_ENG_FILE:return{svg:eH.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_ENG_FOLDER:return{svg:eV.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_TRAPEZOID:return{svg:e6.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_SHIELD:return{svg:e3.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_HEXAGON:return{svg:eW.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_PENTAGON:return{svg:eJ.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_OCTAGON:return{svg:ez.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_PLUS:return{svg:eX.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_PREDEFINED_PROCESS:return{svg:eQ.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_MANUAL_INPUT:return{svg:ej.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_CHEVRON:return{svg:eD.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_DOCUMENT_SINGLE:return{svg:eF.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE:return{svg:ex.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_ARROW_LEFT:return{svg:eP.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_ARROW_RIGHT:return{svg:ek.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_SUMMING_JUNCTION:return{svg:e8.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_OR:return{svg:e$.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_SPEECH_BUBBLE:return{svg:e5.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SHAPE_WHITEBOARD_INTERNAL_STORAGE:return{svg:eK.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.VECTOR_PEN:return{svg:tf.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.VECTOR_PENCIL:return{svg:tE.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.ERASER:return{svg:tn.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.VECTOR_BEND:return{svg:th.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.VECTOR_PAINT_BUCKET:return{svg:tg.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.TYPE:return{svg:t_.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.SCALE:return{svg:ts.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.STICKY:return{svg:tp.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.STAMP:return{svg:te.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.CONNECTOR_ELBOWED:return{svg:tb.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.CONNECTOR_STRAIGHT:return{svg:tv.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.CODE_BLOCK:return{svg:ti.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.WASHI_TAPE:return{svg:ty.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.TABLE:return{svg:tm.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.ANNOTATE:return{svg:tt.A,ui3Icon:n.createElement(i.V,null)};case K.NLJ.MEASURE:return{svg:to.A,ui3Icon:n.createElement(i.V,null)}}return null}let tO=new Path2D("M5 0C2.23857 0 0 2.23857 0 5V35C0 37.7614 2.23857 40 5 40H35C37.7614 40 40 37.7614 40 35V5C40 2.23857 37.7614 0 35 0H5ZM16.2875 29.6971L21.2875 9.69726L23.7127 10.3035L18.7127 30.3034L16.2875 29.6971ZM11.6163 14.1165L6.61626 19.1165L5.73251 20.0005L6.61626 20.8843L11.6163 25.8843L13.384 24.1165L9.268 20.0005L13.384 15.8843L11.6163 14.1165ZM28.384 14.1165L33.384 19.1165L34.268 20.0005L33.384 20.8843L28.384 25.8843L26.6163 24.1165L30.7326 20.0005L26.6163 15.8843L28.384 14.1165Z"),tL=40},154979:(e,t,r)=>{"use strict";let n;r.d(t,{Gm:()=>n,_p:()=>h,t4:()=>m});var i=r(623738),a=r(324597),o=r(480952),l=r(69961),s=r(631378),c=r(678340),d=r(126911);let u="None",p={ALT:256,META:512,SHIFT:1024,CONTROL:2048,RIGHTALT:4096};function m(e){let t=[];return 2048&e.modifierMask&&t.push("Control"),256&e.modifierMask&&t.push("Alt"),1024&e.modifierMask&&t.push("Shift"),512&e.modifierMask&&t.push("Meta"),4096&e.modifierMask&&t.push("RightAlt"),e.key!==u&&t.push(e.key),t.join("+")}class _{constructor(e){this.getFullscreenMenuItem=e=>{var t;let n=null==(t=this.store)?void 0:t.getState();if(!n){console.warn("[CustomKeyboardShortcuts] no state found");return}if("fullscreen"!==n.selectedView.view){console.warn("[CustomKeyboardShortcuts] attempted to dispatch an action outside of fullscreen");return}let i=(0,o.b$)(n),a=(0,o.VA)(n,{isRecovery:!1,fullscreenMemoryWarningLevel:c.Wy.SAFE,unreadCommentCount:void 0,pluginAndWidgetMenuArgs:i}),l=r(548459).M({isReadOnly:n.mirror.appModel.isReadOnly,extensionMenuProps:i,includeDisabled:!1});return new s.x(n.mirror.appModel,n.selectedView,[...a,...l]).getItem(n.mirror.appModel,e)},this.getCallback=e=>{var t;let r=this.getFullscreenMenuItem(e);return r&&r.callback&&(null==(t=this.store)?void 0:t.dispatch)?(console.log("[CustomKeyboardShortcut] found action and running callback",{menuItem:r,itemDisplayText:e}),()=>r.callback((0,a.Dz)(r),r.args,this.store.dispatch)):(console.warn("[CustomKeyboardShortcut] could not find item for given action",{menuItem:r,itemDisplayText:e}),null)},this.store=e.store}getCustomKeyboardShortcuts(){if(!this.store)return[];let{userFlags:e}=this.store.getState();if(!l.nt.customKeyboardShortcuts.getEffectiveValue(e))return[];let t=(0,i.Uc)(),r=[];return Object.entries(t).forEach(([e,{type:t,action:n}])=>{let a;try{a=this.getKeyboardShortcutFromText(e,null)}catch(e){a=null}let o=i.iZ.get(t);if(null===a||void 0===o){console.warn("[CustomKeyboardShortcuts] unable to parse shortcut or shortcutActionType",{actionType:o,text:e});return}r.push({keyboardShortcut:a,type:o,action:n})}),console.log("[CustomKeyboardShortcuts] received request to fetch custom keyboard shortcuts",{shortcutsStorage:t,shortcuts:r}),r}dispatchAction(e){console.log("[CustomKeyboardShortcuts] received request to dispatch",{action:e});let t=this.getCallback(e);return!!t&&(t(),!0)}getDisplayStringFromKey(e){let t=d.y.isApple();switch(e.toUpperCase()){case"'":return"\u2032";case"-":return"\u2013";case"ESCAPE":return"\u238B";case"ENTER":return"\u21A9";case"RETURN":return"\u23CE";case"TAB":return"\u21E5";case"LEFT":return"\u2190";case"RIGHT":return"\u2192";case"UP":return"\u2191";case"DOWN":return"\u2193";case"DELETE":return"\u2326";case"BACKSPACE":return"\u232B";case"CAPS LOCK":return"\u21EA";case"CONTROL":return t?"\u2303":"Ctrl";case"ALT":case"RIGHTALT":return t?"\u2325":"Alt";case"SHIFT":return t?"\u21E7":"Shift";case"META":return t?"\u2318":d.y.isWindows()?"Win":"Meta";default:return e}}getKeyboardShortcutFromText(e,t){let r=u,n=0,i=e.split("+");for(let e of(i.length>0&&""===i[i.length-1]&&(i.pop(),i.length>0&&(i[i.length-1]=i[i.length-1]+"+")),i)){if(""===e)continue;let t=p[e.toUpperCase()];if(e===u||t&&(n&t)>0)return null;if(t&&(7936&t)!=0)n|=t;else{if(r!==u)return null;r=e}}return r===u&&0===n?null:{key:r,modifierMask:n,originalText:e,displayName:t}}getTextFromKeyboardShortcut(e){let t=d.y.isApple(),r=(e.displayName?this.getKeyboardShortcutFromText(e.displayName,null):null)??e,n=[];return 2048&r.modifierMask&&n.push(this.getDisplayStringFromKey("Control")),256&r.modifierMask&&n.push(this.getDisplayStringFromKey("Alt")),1024&r.modifierMask&&n.push(this.getDisplayStringFromKey("Shift")),512&r.modifierMask&&n.push(this.getDisplayStringFromKey("Meta")),4096&r.modifierMask&&n.push(this.getDisplayStringFromKey("RightAlt")),r.key!==u&&n.push(this.getDisplayStringFromKey(r.key)),t?n.join(""):n.join("+")}}function h(e){n=new _({store:e})}},692609:(e,t,r)=>{"use strict";r.d(t,{$K:()=>m,F0:()=>T,Fx:()=>y,GN:()=>M,QI:()=>w,Qu:()=>V,RG:()=>F,Te:()=>h,ax:()=>f,cQ:()=>R,ck:()=>k,co:()=>G,db:()=>B,hu:()=>C,lR:()=>O,uN:()=>v});var n=r(411855),i=r(188507),a=r(297666),o=r(966712),l=r(632430),s=r(529928),c=r(416095),d=r(100197),u=r(852800);let{action:p,reducer:m}=(0,s.B5)("SYNC_PUBLISHABLE_SYMBOLS",[]),{action:_,reducer:h}=(0,s.B5)("SYNC_PUBLISHABLE_STATE_GROUPS",[]),{action:g,reducer:f}=(0,s.B5)("SYNC_PUBLISHABLE_STYLES",[]),{action:E,reducer:y}=(0,s.B5)("SYNC_PUBLISHABLE_MODULES",[]),{action:b,reducer:v}=(0,s.B5)("SYNC_SUBSCRIBED_SYMBOLS",[]),{action:I,reducer:T}=(0,s.B5)("SYNC_SUBSCRIBED_SYMBOLS_ON_CURRENT_PAGE",[]),{action:S,reducer:w}=(0,s.B5)("SYNC_SUBSCRIBED_STATE_GROUPS",[]),{action:A,reducer:C}=(0,s.B5)("SYNC_SUBSCRIBED_STATE_GROUPS_ON_CURRENT_PAGE",[]),{action:N,reducer:O}=(0,s.B5)("SYNC_DIRECTLY_SUBSCRIBED_STYLES",[]),{action:L,reducer:R}=(0,s.B5)("SYNC_DIRECTLY_SUBSCRIBED_STYLES_ON_CURRENT_PAGE",[]),{action:P,reducer:k}=(0,s.B5)("SYNC_INDIRECTLY_SUBSCRIBED_STYLES",[]),{action:D,reducer:M}=(0,s.B5)("SYNC_LOCAL_SYMBOLS_THAT_HAVE_USAGES",[]),{action:x,reducer:F}=(0,s.B5)("SYNC_LOCAL_SYMBOLS_THAT_HAVE_USAGES_ON_CURRENT_PAGE",[]),{action:U,reducer:B}=(0,s.B5)("SYNC_LOCAL_STYLES_THAT_HAVE_USAGES",[]),{action:H,reducer:V}=(0,s.B5)("SYNC_LOCAL_STYLES_THAT_HAVE_USAGES_ON_CURRENT_PAGE",[]);function G(){let e=(0,o.kc)().dse_module_publish,t=(0,i.Pj)();n.useEffect(()=>(function(e){let t=()=>(0,c.KQ)(e),r=(0,a.e)(t),n="normal",i=e.subscribe(()=>{let{activeUserAction:r,multiplayerSessionState:i}=e.getState().mirror.appModel,a=function(e){switch(e){case u.QOV.DEFAULT:case u.QOV.SELECTING_TEXT:case u.QOV.CLICKING_TO_CHANGE_SELECTION:return!1;case u.QOV.DRAGGING:case u.QOV.RESIZING:case u.QOV.ROTATING:return!0}}(r)||i===u.kul.DETACHED;"normal"===n&&a?n="paused":"paused"!==n||a?"enqueued"!==n||a||(t(),n="normal"):n="normal"}),{publishableSymbols:l,publishableStateGroups:s,publishableStyles:d,publishableModules:m}=u.Ez5.libraryAssets(),h=W(e,[{observable:l,action:p},{observable:s,action:_},{observable:d,action:g},...(0,o.kc)().dse_module_publish?[{observable:m,action:E}]:[]],()=>{"normal"===n?r():n="enqueued"});return()=>{h(),i(),r.cancel()}})(t),[t,e]),n.useEffect(()=>(function(e){let{subscribedSymbols:t,subscribedStateGroups:r}=u.Ez5.libraryAssets();return W(e,[{observable:t,action:b},{observable:r,action:S}],()=>e.dispatch((0,l.tg)()))})(t),[t]),n.useEffect(()=>(function(e){let{localSymbolsThatHaveUsages:t,directlySubscribedStyles:r,indirectlySubscribedStyles:n,localStylesThatHaveUsages:i}=u.Ez5.libraryAssets();return W(e,[{observable:r,action:N},{observable:n,action:P},{observable:t,action:D},{observable:i,action:U}])})(t),[t]),n.useEffect(()=>(function(e){let{subscribedSymbolsOnCurrentPage:t,subscribedStateGroupsOnCurrentPage:r,directlySubscribedStylesOnCurrentPage:n,localSymbolsThatHaveUsagesOnCurrentPage:i,localStylesThatHaveUsagesOnCurrentPage:a}=u.Ez5.libraryAssets();return W(e,[{observable:t,action:I},{observable:r,action:A},{observable:n,action:L},{observable:i,action:x},{observable:a,action:H}])})(t),[t])}function W(e,t,r){let n=[];for(let{observable:i,action:a}of t)e.dispatch(a(i.getCopy())),null==r||r(),n.push((0,d.lu)(i,{onChangeDeferred:()=>{e.dispatch(a(i.getCopy())),null==r||r()}}));return()=>{for(let e of n)e()}}},213190:(e,t,r)=>{"use strict";r.d(t,{L:()=>s,q:()=>l});var n=r(38329),i=r(69961),a=r(100197),o=r(852800);function l(){var e,t,r;let n=(0,a.ut)(null==(e=o.Ez5)?void 0:e.uiState().leftPanelCollapsedUI3,!1);return r=!(0,a.ut)(null==(t=o.Ez5)?void 0:t.uiState().showPropertiesPanel,!0),n||r}let s=new class{isMinimizedInUI3(){var e,t;return!!o.Ez5&&(e=o.Ez5.uiState().leftPanelCollapsedUI3.getCopy(),t=!o.Ez5.uiState().showPropertiesPanel.getCopy(),e||t)}ui3MinimizeUILabValue(){return!!o.Ez5&&o.Ez5.uiState().isUI3.getCopy()&&i.nt.ui3MinimizeUI.getEffectiveValue(n.D.getState().userFlags)}}},843495:(e,t,r)=>{"use strict";r.d(t,{Br:()=>G,D$:()=>y,Dh:()=>E,G9:()=>N,GL:()=>I,Hr:()=>f,Ir:()=>C,NT:()=>V,Sn:()=>L,T8:()=>j,Uc:()=>M,XP:()=>X,Yu:()=>T,aB:()=>B,aY:()=>H,bd:()=>F,bw:()=>U,dH:()=>x,gX:()=>D,hq:()=>R,i:()=>w,iT:()=>O,kH:()=>S,n_:()=>J,pr:()=>K,sK:()=>P,sq:()=>A,tJ:()=>b,tU:()=>W,wr:()=>v,yF:()=>k});var n=r(776250),i=r(344780),a=r(935283),o=r(297666),l=r(517333),s=r(585654),c=r(38329),d=r(539130),u=r(987918),p=r(356390),m=r(852800),_=r(848661),h=r(279702),g=r(83909);let f=u.dI(u.Hr);function E(e){m.Egt.addToSelection(e)}function y(e){m.Egt.removeFromSelection(e)}function b(e,t=!0){m.Egt.replaceSelection(e,t)}function v(){m.Egt.clearSelection()}function I(e,t){m.Egt.selectNodesInRange(e,t)}function T(e,t,r=m.KjJ.SCROLLS){m.Egt.transferSelection(e,t,r),g.wt.reportEditAction("reorder-layers")}function S(e,t,r=m.KjJ.SCROLLS){m.Egt.duplicateSelection(e,t,r),g.wt.reportEditAction("duplicate-layers")}function w(e,t){var r;let n=null==(r=c.D)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.name=t)}function A(e,t){var r;let n=null==(r=c.D)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.isExpanded=t)}function C(e,t){var r;let n=null==(r=c.D)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.isTemporarilyExpanded=t)}function N(e,t){var r;let n=null==(r=c.D)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.isSymbolPublishable=t)}function O(e,t){var r;let n=null==(r=c.D)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.isPublishable=t)}function L(e,t){var r;let n=null==(r=c.D)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.styleDescription=t)}function R(e){m.Egt.expandUpToRoot(e)}function P(e,t){m.Egt.setExpandedRecursive(e,t)}function k(e,t){m.Egt.setSelectionExpanded(e,t)}function D(e){var t;null==(t=m.glU)||t.updateAppModel(e)}function M(e){D({hoveredNode:e})}function x(e){m.Ez5.uiState().hoveredComponentPropDef.set(e)}function F(e){D({temporarilyExpandedInstanceLayers:e})}function U(e){D({devHandoffCodeLanguage:e})}function B(e){D({devHandoffPreferences:e})}function H(){var e,t;return null==(t=null==(e=m.Ez5)?void 0:e.propertiesPanelState())?void 0:t.propertiesPanelTab}function V(e){var t;return null==(t=H())?void 0:t.set(e)}function G(e){D({activeTextReviewPlugin:e})}function W(e,t,r){m.Egt.setNodeLocked(e,t,r)}function K(e,t,r){m.Egt.setNodeVisible(e,t,r)}let Y=["x","y","width","height","minWidth","minHeight","maxWidth","maxHeight","angle","canBecomeFrame","canBecomeGroup","canBecomeSection","miterLimitAngle","terminalCap","dashCap","availableOTFeaturesForSelection","availableOTFeaturesForFonts","toggledOnOTFeaturesForSelection","toggledOffOTFeaturesForSelection","mixedStateOTFeaturesForSelection","detectedList","destinationOverlayPositionType","destinationOverlayBackgroundInteraction","destinationOverlayBackgroundType","destinationOverlayBackgroundColor","name","numSelected","numSelectedByType","arcStart","arcSweep","arcRadius","fontFamily","previewFontFamily","fontStyle","fontVariations","intrinsicLineHeight","textContent","prototypeInteractions","prototypeInheritedInternalInteractions","isValidPrototypingSourceSelected","selectionIsHyperlink","whiteboardControls","whiteboardColor","whiteboardDividedSwatchColors","whiteboardFontFamilies","whiteboardFontSizes","whiteboardTextAlignHorizontal","whiteboardStrokeStyle","whiteboardNumSelected","whiteboardNumSelectedByType","whiteboardSelectionCanSummarize","whiteboardSelectionCanCluster","whiteboardSelectionCanShowAiOnboardingBadge","whiteboardStickyAIControlsShown","whiteboardMindmapAIControlsShown","nodeSelectedValidForQuickAdd","whiteboardStrokeWeight","whiteboardCodeBlockLanguage","washiTapePaint","washiTapePaintIsMixed","connectorLineStyleForSelection","connectorStartCapForSelection","connectorEndCapForSelection","connectorTextBackgroundTransparent","leftEndCap","rightEndCap","maxStrokeWeight","shapeWithTextTypeForSelection","shapeWithTextFillType","shapeWithTextOpacityOverride","authorVisibility","imageAspectRatio","imageHasNoStroke","imageOverlayColor","sectionContentsHidden","isSection","variableConsumptionInfo","borderTopVisible","borderRightVisible","borderBottomVisible","borderLeftVisible","borderSharedWeight","stackCounterSpacing","directlySubscribedAssetKeys","numVideosSelected","videoAutoplay","videoMediaLoop","videoMuted","themeId","shadow","blur","fillOpacity","htmlWidgetYouTubeVideoURL","htmlWidgetGoogleMapLocation","htmlWidgetGoogleMapZoom","htmlWidgetMailchimpFormURL","htmlWidgetMailchimpInputPlaceholder","htmlWidgetMailchimpSubmitButtonLabel","htmlWidgetMailchimpLayoutIsVertical"];function j(e,t,r,n,o){i.rH.start("update-selection-properties");try{!function(e,t,r,n,i){var o,l;let s={...e},c=function(e){let t=Object.create(null);for(let r of Y)if(r in e){let n=e[r];n!==_.oV&&(t[r]=n),delete e[r]}return t}(s),u=function(e){let t={guid:{sessionID:0,localID:0}};for(let r in e){let n=e[r];n!==_.oV&&(t[r]=n)}return t}(s);if(n=function(e){switch(e){case h.zk.YES:case h.zk.YES_FORCE_TRACKING_AS_EDIT:case h.zk.YES_WITHOUT_TRACKING_AS_EDIT:return h.zk.YES;default:return h.zk.NO}}(n),null==t?void 0:t.guid){if(c){let e=c.fontFamily&&c.fontStyle;if((0,a.KF)(!e,"UI should never simultaneously update font family and style"),c.fontFamily&&t.fontStyle&&(u.fontName={family:c.fontFamily,style:t.fontStyle,postscript:""}),t.fontFamily&&c.fontStyle&&(u.fontName={family:t.fontFamily,style:c.fontStyle,postscript:""}),c.fontVariations&&(u.fontVariations=c.fontVariations),null==(o=c.variableConsumptionInfo)?void 0:o.variableConsumptionMap){let e=c.variableConsumptionInfo.variableConsumptionMap;u.variableConsumptionMap=(0,h.w3)(e)}}let e=d.w.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[u]});null==(l=m.glU)||l.updateSelectedStyleProperties(e,r,n===h.zk.YES),(0,a.KF)(null!=t.styleType,"unknown style type"),z(t.styleType)}else{let e=d.w.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[u]});m.Egt.updateSelectionProperties(c,r,i,n===h.zk.YES,e)}}(e,t,r,n,o)}catch(e){throw e}finally{i.rH.stop("update-selection-properties")}}let z=(0,o.s)(e=>{(0,n.sx)("Style Edited",{styleType:e})},500),$=Object.create(null);var Z=(e=>(e[e.SceneGraph=0]="SceneGraph",e[e.AppModel=1]="AppModel",e[e.Selection=2]="Selection",e[e.SelectionProperties=3]="SelectionProperties",e))(Z||{});let q=new Set([0,1,2,3]);function J(e=q){e.has(0)&&p.Y5.fromFullscreen.on("sceneGraphMirrorUpdate",Q),e.has(2)&&(p.Y5.fromFullscreen.on("selection:addSelectors",et),p.Y5.fromFullscreen.on("selection:removeSelectors",er),p.Y5.fromFullscreen.on("selection:replaceSelectors",en)),e.has(1)&&p.Y5.fromFullscreen.on("updateAppModel",ei),e.has(3)&&p.Y5.fromFullscreen.on("selectionPropertiesUpdate",ea)}function X(){let e=$;return $=Object.create(null),e}function Q(e){(0,a.KF)(!$.invalidateSceneGraph,"We should get at most one sceneGraphMirrorUpdate per frame. We got two."),$.invalidateSceneGraph={rebuildRows:!e||e.rebuildRows}}function ee(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function et(e){var t,r,n;(0,a.KF)(!(null==(t=$.selection)?void 0:t.replace),"addSelectors and replaceSelectors called on the same frame"),$.selection||($.selection=Object.create(null)),(r=$.selection).add||(r.add=Object.create(null)),(n=$.selection).userTriggered||(n.userTriggered=e.userTriggered);let i=e.buffer;if(i)for(let e=0;e<i.length;e+=8){let t=ee(i,e),r=ee(i,e+4),n=u.dI({sessionID:t,localID:r});$.selection.add[n]=!0}}function er(e){var t,r,n;(0,a.KF)(!(null==(t=$.selection)?void 0:t.replace),"removeSelectors and replaceSelectors called on the same frame"),$.selection||($.selection=Object.create(null)),(r=$.selection).remove||(r.remove=Object.create(null)),(n=$.selection).userTriggered||(n.userTriggered=e.userTriggered);let i=e.buffer;if(i)for(let e=0;e<i.length;e+=8){let t=ee(i,e),r=ee(i,e+4),n=u.dI({sessionID:t,localID:r});$.selection.remove[n]=!0}}function en(e){var t,r,n,i;(0,a.KF)(!(null==(t=$.selection)?void 0:t.add),"addSelectors and replaceSelectors called on the same frame"),(0,a.KF)(!(null==(r=$.selection)?void 0:r.remove),"removeSelectors and replaceSelectors called on the same frame"),$.selection||($.selection=Object.create(null)),(n=$.selection).replace||(n.replace=Object.create(null)),(i=$.selection).userTriggered||(i.userTriggered=e.userTriggered);let o=e.buffer;if(o)for(let e=0;e<o.length;e+=8){let t=ee(o,e),r=ee(o,e+4),n=u.dI({sessionID:t,localID:r});$.selection.replace[n]=!0}}function ei({changes:e,shouldIgnoreUserPrefs:t}){if(l.eD){let t={},r={},n="actionEnabled__";for(let i of Object.keys(e))if(i.startsWith(n))t[i.substr(n.length)]=e[i].value;else{let t=(0,s.m)(i);if(void 0!==t){let n=e[i].value;for(let{name:e,propertyValue:i}of t.actions)r[e]=n===i}}let i=Object.keys(t).length>0,a=Object.keys(r).length>0;(i||a)&&l.eD.updateFullscreenMenuState({actionEnabledState:i?t:void 0,actionCheckedState:a?r:void 0})}let r=Object.create(null),n=Object.create(null);for(let i in e)r[i]=e[i].value,n[i]=null==t?void 0:t[i];$.appModelChanges={...$.appModelChanges,...r},$.appModelChangesShouldIgnoreUserPrefs={...$.appModelChangesShouldIgnoreUserPrefs,...n}}function ea(e){let t=e.buffer&&e.buffer.length>0?d.w.decodeMessage(e.buffer):null;delete e.buffer,(0,a.KF)(!$.selectionProperties,"Updating selectionProperties multiple times on a frame"),$.selectionProperties={message:t,derivedProperties:e}}},493862:(e,t,r)=>{"use strict";r.d(t,{AW:()=>g,Ak:()=>T,Cd:()=>f,Ff:()=>b,IL:()=>C,Ki:()=>S,LD:()=>h,PV:()=>w,Tj:()=>y,Xk:()=>A,Xl:()=>N,qd:()=>E}),r(966712);var n=r(374626),i=r(776621),a=r(30637),o=r(356390),l=r(852800),s=r(554294),c=r(479296),d=r(730956);r(341860);let u=null,p=0,m=!1,_=!1;function h(e){switch(e){case l.kul.UNJOINED:return"unjoined";case l.kul.UNJOINED_FROM_ERROR:return"unjoined_from_error";case l.kul.UNJOINED_FROM_VALIDATION_FAILURE:return"unjoined_from_validation_failure";case l.kul.GOT_SCHEMA:return"got_schema";case l.kul.JOINING_INITIAL_LOAD:return"joining_initial_load";case l.kul.JOINING_RECONNECT:return"joining_reconnect";case l.kul.JOINING_RECONNECT_AWAITING_QUERY_REPLY:return"joining_reconnect_awaiting_query_reply";case l.kul.JOINED:return"joined";case l.kul.SHOULD_UPGRADE:return"should_upgrade";case l.kul.UPGRADING:return"upgrading";case l.kul.WAITING_FOR_RELOAD:return"waiting_for_reload";case l.kul.DETACHED:return"detached";default:return"unknown"}}function g(){_||(_=!0,setInterval(()=>o.Y5.isReady()&&l.h3O.updateConnectionStateIfNeeded(!1),250),window.addEventListener("online",()=>{navigator.onLine&&o.Y5.isReady()&&l.h3O.updateConnectionStateIfNeeded(!0)}),window.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&o.Y5.isReady()&&l.h3O.updateConnectionStateIfNeeded(!0)}))}function f(e){u||(u=function(){try{let e=new Blob(["("+function(){onmessage=e=>setTimeout(()=>self.postMessage(""),e.data)}+")()"],{type:"text/javascript"}),t=new Worker(URL.createObjectURL(e));return(e,r)=>{t.onmessage||(t.onmessage=()=>{t.onmessage=null,e()},t.postMessage(r))}}catch(e){return console.error(e),(e,t)=>{setTimeout(e,t)}}}()),p=e,m||function e(){p&&(m=!0,u(function(){m=!1,p&&l.h3O.flush(),e()},p))}()}function E(e){let t=T(),r=S(t);return l.h3O.startLoadingAllPages(t,e),r.then(()=>{n.zl.set(s.nc,!1)}),r}function y(e,t){let r=T(),n=S(r);return l.h3O.subscribeToGuids(e,r,t),n}let b=(0,c.n)(()=>l.h3O.isIncrementalSession()||l.h3O.isValidatingIncremental()),v=1,I=new Map,T=()=>v++;function S(e){return new Promise((t,r)=>{I.set(e,[t,r])})}function w(e){let t=I.get(e);if(t){let[r,n]=t;r(),I.delete(e)}}function A(){I.forEach((e,t)=>{let[r,n]=e;n()}),I.clear()}function C(e,t,r=l.DPQ.CONTAINING_PAGE){(0,a.nl)();let n=T(),i=S(n),o=r===l.DPQ.PLUGIN;return l.h3O.subscribeToContainingPage__DO_NOT_USE_DIRECTLY(e,n,t,o),i}function N(e){let t=()=>{let r=T();return new Promise(async(t,n)=>{e.delete("0:0"),(0,i.Lo)("Autosave",`Requesting dependencies for ${e.size} nodes while loading incrementally`,void 0,{logToConsole:l.NUh.ALWAYS}),await (0,d.oJ)(l.kul.JOINED),I.set(r,[t,n]),l.h3O.autosaveSubscribeToContainingPages(e,r)}).catch(()=>t())};return t()}},74505:(e,t,r)=>{"use strict";r.d(t,{EE:()=>a,Om:()=>l,lB:()=>o});var n=r(852800);let i={};function a(e,t,r){return i[e]=r,n.glU.addNodePositionSubscription(e,t)}function o(e){delete i[e],n.glU.removeNodePositionSubscription(e)}function l(e,t){let r=i[e];r&&r(t)}},177505:(e,t,r)=>{"use strict";r.d(t,{$P:()=>F,CQ:()=>M,HZ:()=>D,dh:()=>H,nn:()=>V,rE:()=>k,re:()=>U,zC:()=>B,zO:()=>P});var n=r(411855),i=r(188507),a=r(966712),o=r(572174),l=r(331972),s=r(662275),c=r(31913),d=r(349410),u=r(83909),p=r(396226),m=r(356390),_=r(852800),h=r(662531),g=r(843495),f=r(493862),E=r(341860),y=r(457630),b=r(29680),v=r(678340),I=r(335682),T=r(99506),S=r(243987),w=r(301462),A=r(694517),C=r(300874),N=r(851363),O=r(286723),L=r(884129),R=r(601607);async function P({openFile:e,pageNode:t,pageName:r}){return!!(!(!(0,a.kc)().ce_page_separators||!t||!e||(0,S.KI)(e))&&r.match(/^(-+|\u2013+|\u2014+|\*+|\s+)$/))&&(_.h3O.isIncrementalSession()&&await (0,f.IL)(t.guid,_.dPJ.PAGE_DIVIDER_CHECK),(null==t?void 0:t.childrenGuids.length)===0)}function k(){let e=(0,I.q5)(),t=function(){let e=(0,I.q5)(),t=(0,b.p8)("pagesList").length,r=D();return!!(e&&((0,S.J9)({openFile:e,pageCount:t})||r({openFile:e,pageCount:t})))}(),r=(0,i.wA)(),a=p.F.useShouldHideStarterCtaForOpenFile();return(0,n.useCallback)(n=>{if(t&&e)return r((0,s.to)({type:L.DV,data:{team:e.team,resource:C.vL.PAGE,action:N.ZN.CREATE_PAGE,editorType:e.editorType,currentPlan:p.F.Plan.STARTER,upsellPlan:p.F.Plan.PRO,hideUpsellPlanCta:a}})),!1;let i=(0,o.Vq)(n)?{args:{editorType:n}}:{};return m.Y5.triggerActionInUserEditScope("page-new",i),m.Y5.commit(),!0},[e,r,a,t])}function D(){let e=(0,d.Fr)();return(0,n.useCallback)(({openFile:t,pageCount:r})=>t.editorType===T._Y.DESIGN&&r>=S.LF[T._Y.DESIGN]&&e(t),[e])}async function M({openFile:e,pageId:t,newName:r,oldName:n,trackRenamePage:i}){let o=E.qo.instance.get(t),l=await P({openFile:e,pageNode:o,pageName:r});o&&r!==n&&h.l7.system("set-is-page-divider",()=>o.isPageDivider=l),(0,a.kc)().ce_page_separators&&l?h.l7.user("set-page-name",()=>(0,g.i)(t,"---")):h.l7.user("set-page-name",()=>(0,g.i)(t,r)),m.Y5.commit(),u.wt.reportEditActionIf(r!==n,"rename-page"),r!==n&&i()}let x=0;async function F(e,t,r,n,i,a,o,s,d,u){var p,m;if(u&&(0,l._)(n,u),e===t)return;let h=performance.now(),g=x+=1;if(a("action_page_switch_initiated",{pageSwitchId:x,oldPageNodeId:t,newPageNodeId:e,isIncremental:_.h3O.isIncrementalSession(),isAlreadyLoaded:i,currentNodeCount:null==(p=_.CeL)?void 0:p.getFileNodeCount()}),await E.qo.instance.setCurrentPageFromNodeAsync(e),t!==e){let i=(0,A.vw)(r),{memoryUsedPercent:a}=(0,v.IJ)(),l=a>=75,u=l?new Set:r.fetchedPageIds||new Set;if(i&&(l&&n((0,c.EB)({fetchedPageIds:u})),n((0,c.SR)({isLoadingPage:!0})),n((0,A.yH)({version:i,currentPageNodeId:e,fetchedPageIds:u,eventType:"INCREMENTALLY_LOAD_NEW_PAGE"}))),d&&o&&s){let t=_.glU.navigateToFirstVisibleOrClosestChangeForPage(e);_.Egt.setSelectedNodeAndCanvas(t,!0),o((0,y.QZ)({nodeId:t,...O.Mf})),s(t)}w.FZ.trackFromFullscreen("action_page_switch",{oldPageNodeId:t,newPageNodeId:e,pageSwitchIdForTracking:g,duration:performance.now()-h,currentNodeCount:null==(m=_.CeL)?void 0:m.getFileNodeCount()})}}function U(e,t){let r=e.get(t);if(!r)return!1;let n=void 0===r,i=0===r.childrenGuids.length,a=r.childrenAreAllGhosts;return!n&&!i&&a}function B(e,t){let r=e.get(t),n=void 0===r;return(null==r?void 0:r.childrenGuids.length)===0&&!n}function H(){return(0,R.Fk)(e=>{var t;return(null==(t=e.getCurrentPage())?void 0:t.guid)||"0:1"})}function V(){return(0,R.Fk)(e=>{var t;return(null==(t=e.getCurrentPage())?void 0:t.name)||null})}},618056:(e,t,r)=>{"use strict";r.d(t,{E3:()=>I,Em:()=>m,Lt:()=>L,N9:()=>w,Ou:()=>b,Tm:()=>C,bn:()=>v,c4:()=>P,iC:()=>R,n_:()=>O,qg:()=>A,rC:()=>p,sb:()=>T,wQ:()=>f,x$:()=>y,y7:()=>S});var n=r(935283),i=r(966712),a=r(572174),o=r(539130),l=r(356390),s=r(774191),c=r(241395),d=r(247908),u=r(848661);let p={r:196/255,g:196/255,b:196/255,a:1},m={r:0,g:0,b:0,a:1},_=[{position:0,color:{r:1,g:1,b:1,a:1}},{position:1,color:{r:1,g:1,b:1,a:0}}],h=_.map(d.Ug),g=e=>{let t=c.s.identity();return t.translate(.5,.5),e&&(f(e.leftEndCap)||f(e.rightEndCap))&&(e.angle>=90||e.angle<-90)?t.rotate(Math.PI):!e||e.height>0&&e.width/e.height<=3?(t.rotate(-Math.PI/2),e&&(e.angle<-45&&e.angle>=-135?t.rotate(Math.PI/2):e.angle<-135||e.angle>135?t.rotate(Math.PI):e.angle>45&&e.angle<=135&&t.rotate(-Math.PI/2))):(e.angle>45||e.angle<-135)&&t.rotate(Math.PI),e&&e.hasReflection&&t.rotate(Math.PI),t.translate(-.5,-.5),t.toFigMatrix()};function f(e){if(!e)return!1;switch(e){case"ARROW_LINES":case"ARROW_EQUILATERAL":case"TRIANGLE_FILLED":case"CIRCLE_FILLED":case"DIAMOND_FILLED":return!0;case"ROUND":case"SQUARE":case"NONE":case"HIGHLIGHT":case"WASHI_TAPE_1":case"WASHI_TAPE_2":case"WASHI_TAPE_3":case"WASHI_TAPE_4":case"WASHI_TAPE_5":case"WASHI_TAPE_6":return!1}}let E=null;function y(e){return v(e.type)?e:null}function b(e){return T(e.type)?e:null}function v(e){return null!=e&&-1!==["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"].indexOf(e)}function I(e){return null!=e&&-1!==["IMAGE","VIDEO"].indexOf(e)}function T(e){return null!=e&&"SOLID"===e}function S(e){return"IMAGE"!==e.type&&"VIDEO"!==e.type?null:e}function w(e){return!e||(0,u.gl)(e)?null:e.map(S).filter(a.Vq)}function A(e){return Array.from(e.hash).map(e=>(e<16?"0":"")+e.toString(16)).join("")}let C=new class{constructor(){this.clearCache=e=>{null!=e?delete this.cache[e]:this.cache={}},this.getId=(e,t,r)=>`${r}-${t}-${e}`,this.initPaint=(e,t,r,n,i,a)=>this.initPaintWithDefaultImagePaint(e,t,r,n,E,a??!1,i),this.getPaintStopsAndStopsVar=(e,t,r,n)=>{let i=n?[{position:0,color:r},{position:1,color:e}]:[{position:0,color:e},{position:1,color:r}],a=i.map(d.Ug);return t&&(a[n?1:0].colorVar=t),{stops:i,stopsVar:a}},this.initPaintWithDefaultImagePaint=(e,t,r,n,a,o,l)=>{let s={type:e,opacity:1,visible:!0,blendMode:"NORMAL"};if("SOLID"===e?s.color=t:v(e)?(s.stops=_,s.stopsVar=h,s.transform=g(l)):I(e)&&a&&("VIDEO"===e?this.transferVideoAttributes(a,s):this.transferImageAttributes(a,s)),!r)return s;let c=this.cachePaint(r,n);if(this.transferGeneralAttributes(c,s),"SOLID"===e)c.color?this.transferColorAttributes(c,s):c.stops&&c.stops.length&&this.transferColorAttributes(c.stops[0],s);else if(v(e)){if(c.stops)this.transferGradientAttributes(c,s);else if(c.color){let e=P(c.color,o),t=(l&&f(l.rightEndCap))??!1,r=(0,i.kc)().gradient_tool_improvements??!1,{stops:n,stopsVar:a}=this.getPaintStopsAndStopsVar({...c.color,a:1},c.colorVar,e,!!r&&(o?!t:t));s.stops=n,s.stopsVar=a}}else"IMAGE"===e?c.image&&c.imageThumbnail&&(this.transferImageAttributes(c,s),s.transform=c.imageTransform):"VIDEO"===e&&c.video&&this.transferVideoAttributes(c,s);return s},this.cachePaint=(e,t)=>(this.cache[t]=this.cache[t]||e,v(e.type)?this.transferGradientAttributes(e,this.cache[t]):"SOLID"===e.type?this.transferColorAttributes(e,this.cache[t]):"IMAGE"===e.type?(this.transferImageAttributes(e,this.cache[t]),this.cache[t].imageTransform=e.transform):"VIDEO"===e.type&&this.transferVideoAttributes(e,this.cache[t]),this.cache[t]),this.transferGeneralAttributes=(e,t)=>{t.opacity=e.opacity,t.blendMode=e.blendMode,t.visible=e.visible},this.transferColorAttributes=(e,t)=>{t.color=e.color},this.transferGradientAttributes=(e,t)=>{t.stops=e.stops,t.stopsVar=e.stopsVar,t.transform=e.transform},this.transferImageAttributes=(e,t)=>{t.image=e.image,t.imageThumbnail=e.imageThumbnail,t.animatedImage=e.animatedImage,t.animationFrame=e.animationFrame,t.imageScaleMode=e.imageScaleMode,t.rotation=e.rotation,t.scale=e.scale,t.paintFilter=e.paintFilter,t.imageShouldColorManage=e.imageShouldColorManage,t.video=void 0},this.transferVideoAttributes=(e,t)=>{t.imageThumbnail=e.imageThumbnail,t.animationFrame=e.animationFrame,t.imageScaleMode=e.imageScaleMode,t.rotation=e.rotation,t.scale=e.scale,t.paintFilter=e.paintFilter,t.video=e.video,t.image=void 0},this.clearCache()}},N=!1;function O(){N||(N=!0,l.Y5.fromFullscreen.on("handleDefaultImageStyle",e=>{let t=o.w.decodeMessage(e.buffer);t.nodeChanges&&t.nodeChanges.length>0&&t.nodeChanges[0].fillPaints&&(E=t.nodeChanges[0].fillPaints[0])}),l.Y5.onReady().then(()=>{l.Y5.DEPRECATED_sendMessage("requestDefaultImageStyle")}))}function L(e,t){let r=S(e);if(!r)return e;if("STRETCH"===r.imageScaleMode){let e=c.s.identity();return e.translate(.5,.5),e.rotate(-(Math.PI/180*t)),e.translate(-.5,-.5),e.multiply(c.s.fromFigMatrix(r.transform)),{...r,transform:e.toFigMatrix()}}return{...r,rotation:r.rotation+t}}function R(e,t){let r=y(e);if(r){let e=r.stops;return t.index<e.length?e[t.index].color:r.stops[0].color}{let t=b(e);return(0,n.KF)(!!t,"paint is neither a gradient nor a solid"),{...t.color,a:t.opacity??1}}}function P(e,t=!1){var r={...e,a:0};if((0,i.kc)().gradient_tool_improvements&&!t){let t=(0,s.qN)(e),n=t.v>=.5?t.v-.4:t.v+.4;r=(0,s.kE)({...t,v:n})}return r}},630331:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>W,B8:()=>H,Cd:()=>Q,Dd:()=>B,Dg:()=>G,E7:()=>er,H0:()=>z,HF:()=>j,JA:()=>X,LH:()=>J,NB:()=>R,P2:()=>ee,PY:()=>ea,Ts:()=>e_,Ug:()=>V,V:()=>U,Zp:()=>ei,fl:()=>ep,gf:()=>$,iW:()=>K,jp:()=>el,k6:()=>F,o3:()=>eo,p7:()=>q,se:()=>Z,sl:()=>en,vK:()=>Y,w4:()=>et,ye:()=>N,zw:()=>O});var n=r(776250),i=r(344780),a=r(513654),o=r(269584),l=r(966712),s=r(572174),c=r(951158),d=r(574705),u=r(84917),p=r(964172),m=r(988022),_=r(356390),h=r(122983),g=r(852800),f=r(15859);let E={"frame.react-render":.1,"frame.scene-render":.2,"frame.scene-render.render-tree-generation":.2},y=["react","frame","frame.react-render","frame.scene-render","frame.scene-render.render-tree-generation","frame.style-updater","frame.symbol-updater","frame.trigger-action","fullscreen-handle-event","fullscreen-handle-event.trigger-action","frame.comments-render"],b=1,v=!1,I=null,T=0,S=null,w=0,A=-1/0,C=0,N=null,O=null,L=null,R=null,P=new o.Jy,k=new o.Jy,D=new o.xV,M={},x=!1;function F(e,t){b=e,v=(0,s.Vq)(t),N&&N.setMultiplayerPerfInfo({multiplayerUserCount:b,ongoingSpotlight:v})}function U(){I=null,S=null,null==N||N.stopRecordingAndLog("closing-file"),null==N||N.setFileInfo(null,"unknown")}function B(e,t){N&&(N.setFileInfo(e,(0,m.Dc)(t)),N.startRecording(!0),(0,f.Jr)().setPendingImagesCallback(N.pendingImagesChanged)),I=e,S=performance.now(),T++;let r=(0,l.tl)().editing_file;1===T&&r&&(0,n.sx)("Cold Boot Document Load",{fileKey:I,fileVersion:g.i6g.currentFileVersion(),loadedTime:S,fileNodeCount:g.CeL.getFileNodeCount(),fileTeamId:r.team_id,fileParentOrgId:(0,l.tl)().org_id})}function H(e){null==N||N.setFileInfo(I,(0,m.Dc)(e))}function V(){null==N||N.stopRecordingAndLog("about-to-rebuild-scene")}function G(){null==N||N.startRecording(!1)}function W(){null==N||N.recordSingleFrameNamedEvent("tileRenderingActive")}function K(){null==N||N.recordSingleFrameNamedEvent("createTableActive")}function Y(){null==N||N.recordSingleFrameNamedEvent("editTableTextActive")}function j(){null==N||N.recordSingleFrameNamedEvent("reorderTableSpanActive")}function z(){null==N||N.recordSingleFrameNamedEvent("connectDiagramShapeWithConnectorActive")}function $(){null==N||N.recordSingleFrameNamedEvent("accessibilityDomActive")}function Z(){null==N||N.onNodeDragStart()}function q(){null==N||N.onNodeDragEnd()}function J(e){null==N||N.onTileRendererChanged(e)}function X(){null==N||N.onContextRestored()}function Q(e){null==N||N.updateMaxRenderLayerCount(e)}function ee(e){null==N||N.updateMaxRenderedTileBytesUsed(e)}function et(){null==N||N.incrementNumAnimationsFromCpp()}function er(){null==N||N.incrementNumAnimationsFromTs()}function en(){P.setIsActive()}function ei(){k.setIsActive()}function ea(){null==N||N.recordSingleFrameNamedEvent("createStickyActive")}function eo(){null==N||N.recordSingleFrameNamedEvent("differentSectionClicked")}function el(e){null==N||N.recordSingleFrameNamedEvent((0,a.jY)(e))}let es=["ALT","META","SHIFT","CONTROL","RIGHT_ALT"];function ec(e){let{fileKey:t,fileNodeCount:r,multiplayerUserCount:n,ongoingSpotlight:i,recentInteractions:a,secondsSinceLoaded:o,version:l,randomID:s}=e,u={fileKey:t,fileNodeCount:r,multiplayerUserCount:n,ongoingSpotlight:i,secondsSinceLoaded:o,version:l,randomID:s,reportCount:w};for(let e=0;e<a.length;e++)u[`recentInteractions.${e}`]=JSON.stringify(a[e]);return(0,d.U)(e.deviceInfo,u),(0,c.Dy)(e.nodeTypeHistogram,u,"nodeTypeHistogram"),u}function ed(e){(0,n.sx)("Slow Editor Interaction",e),A=performance.now(),C=e.duration}function eu(...e){}function ep(){var e;if(!(null==(e=_.Y5)?void 0:e.isReady()))return;let t={},r=i.rH.report(),n=0;for(let e of r)!function e(r,n=""){let i=n.length>0?`${n}.${r.name}`:r.name,a=M[i]||r.hitCount,o=r.hitCount-a;o>r.elapsedTimes.length&&(x||(console.warn(`Too many elapsed hits of ${i} since last report`),x=!0),o=r.elapsedTimes.length);let l=0,s=r.elapsedTimes.length;for(let e=s-o;e<s;e++)l+=r.elapsedTimes[e];for(let n of(t[i]=l,M[i]=r.hitCount,r.children))e(n,i)}(e),n+=t[e.name];!function(){var e;if(n/1e3<.2)return;let[r,i]=null===I||null===S?[null,[]]:[{deviceInfo:(0,d.N)(),fileKey:I,fileNodeCount:g.CeL.getFileNodeCount(),multiplayerUserCount:b,ongoingSpotlight:v,nodeTypeHistogram:g.CeL.getNodeTypeHistogram(),recentInteractions:g.CeL.getRecentInteractions(),secondsSinceLoaded:(performance.now()-S)/1e3,version:1,randomID:(0,h.ds)(),reportCount:w},g.CeL.getSlowInteractions()];if(null==r)return;let a={};for(let e in t)-1!==y.indexOf(e)&&(a[e]=t[e]/1e3);let o=i.map(e=>{let t=e.interaction,n={kind:"interaction",type:t.type,subtype:t.subtype,frame:e.frame,collapsed:!1,duration:e.duration,...ec(r)};if(es.forEach(e=>n["modifier."+e]=null),"MOUSE"===t.type)for(let e of(n.collapsed=t.collapsed,es))n["modifier."+e]=-1!==t.modifiers.indexOf(e);return(0,c.Dy)(a,n,"timer"),n});for(let e in t){let n=t[e]/1e3,i=E[e];if("number"==typeof i&&n>=i){let t={kind:"timer",type:e,subtype:null,frame:null,collapsed:!1,duration:n,...ec(r)};(0,c.Dy)(a,t,"timer"),es.forEach(e=>t["modifier."+e]=null),o.push(t)}}if(0===o.length)return;let l=[],s=o,u=60-(performance.now()-A)/1e3;if(0===(s=s.filter(e=>u<=0||e.duration>=2*C)).length&&l.push(`we're in the report cooldown period (${u}s to go) and no reports were long enough to override it (the last report duration was ${C}s)`),u>0&&s.length,null===S)return;let p=60-(performance.now()-S)/1e3;p>0&&l.push(`we're in the document loading cooldown period (${p}s to go)`),l.length>0?1===(e=l).length?e[0]:2===e.length?(e[0],e[1]):(e.slice(0,e.length-1).join(", "),e[2]):((s=s.sort((e,t)=>e.duration-t.duration)).forEach(ed),w++)}(),g.CeL.clearNodeTypeHistogram(),g.CeL.clearSlowInteractions()}function em(e){let t=0,r=0,n=[];for(let i of e)1===i.path.length&&"frame"===i.path[0]?(r=i.elapsedTime,n.push(i)):i.path.length>1&&"frame"===i.path[0]?(t+=i.elapsedTime,n.push(i)):1===i.path.length&&n.push(i);if(t>0){let e=r-t;n.push({path:["frame","unaccounted-time"],elapsedTime:e})}return n}function e_(){if(!N&&(0,l.kc)().frame_distribution_tracker_edit){let e=e=>{let t=g.AiE.getAndClearHistogramBatchFields(),r=new Map;t.forEach((e,t)=>{r.set(t,e>0)}),e.optimizationExposures=JSON.stringify(Object.fromEntries(r))};(N=new a.AH("editor_frame_distributions",em,2,!0,new p.s,t=>{e(t)},!1,(e,t=!1)=>{let r=g.AiE.getAndClearSlowFrameTrackerFields(),n=new Map;r.forEach((e,t)=>{n.set(t,e>0)}),e[u.N.optimizationExposuresKey]=JSON.stringify(n);let i=g.yuz.getFullscreenCurrentFrameGpuMetricsJSON();if(e[u.N.gpuMetricsCurrentFrameKey]=i.toString(),t){let t=g.yuz.getFullscreenPreviousFrameGpuMetricsJSON();e[u.N.gpuMetricsPreviousFrameKey]=t.toString()}let a=g.Ez5.activeRunningAnimations();e[u.N.activeAnimationsKey]=a},()=>{g.AiE.clearSlowFrameTrackerFields()})).addEventTracker("zoomActive",new o.vu),N.addEventTracker("panActive",new o.H0),N.addEventTracker("viewportHasGaps",new o.as(g.pWM.DEFINITELY_COVERED_ONLY)),N.addEventTracker("viewportIncludingOutdatedHasGaps",new o.as(g.pWM.DEFINITELY_COVERED_AND_OUTDATED)),N.addEventTracker("multipleMultiplayerUsersInFile",new o.nc(2,()=>b)),N.addEventTracker("multipleMultiplayerUsersInFileAndPanningOrZooming",new o.Pn(2,()=>b)),N.addEventTracker("viewportHasBlurryRegions",new o.eO(1)),N.addEventTracker("viewportHasVeryBlurryRegions",new o.eO(.5)),N.addEventTracker("viewportIsBlurry",new o.I7(1)),N.addEventTracker("viewportIsVeryBlurry",new o.I7(.5)),N.addEventTracker("timeSlicedEditRenderingActive",new o.t8),N.addEventTracker("stalenessIsHigh",new o.bF(1e3)),N.addEventTracker("stalenessIsVeryHigh",new o.bF(2e3)),N.addEventTracker("moveCursorActive",new o.vw),O=new o.Ti,N.addEventTracker("cursorChatActive",O),L=new o.W,N.addEventTracker("cursorReactionActive",L),N.trackOtherUserCursorMoved(),R=new o.Fy,N.addEventTracker("devModeAnnotationsVisible",R),N.addEventTracker("independentLayerAnimationActive",P),N.addEventTracker("nonIndependentLayerAnimationActive",k),N.addEventTracker("isTypingTextActive",D)}}},927657:(e,t,r)=>{"use strict";r.d(t,{U:()=>o,k:()=>a});var n=r(852800);let i=[];function a(e){return i.push(e),()=>{i=i.filter(t=>t!==e)}}function o(e){for(let t of i)t(e===n.dYj.YES)}},46878:(e,t,r)=>{"use strict";r.d(t,{Yb:()=>$,av:()=>Z,dq:()=>J,e7:()=>q});var n=r(411855),i=r(318381),a=r(265241),o=r(387644),l=r(615777),s=r(897379),c=r(773959),d=r(821498),u=r(468242),p=r(599741),m=r(533589),_=r(511960),h=r(974502),g=r(473199),f=r(93207),E=r(636540),y=r(583719),b=r(205478),v=r(910242),I=r(824228),T=r(573341),S=r(617509),w=r(264844),A=r(793417),C=r(895862),N=r(721359),O=r(427113),L=r(570370),R=r(642450),P=r(484621),k=r(432600),D=r(797310),M=r(425853),x=r(884871),F=r(45200),U=r(346780),B=r(786679),H=r(508576),V=r(499327),G=r(942345),W=r(504616),K=r(812720),Y=r(524726),j=r(676671),z=r(135174);function $(e){switch(e){case"CLOSE_OVERLAY":return k.A;case"GO_BACK":return M.A;case"NAVIGATE_TO":default:return x.A;case"OPEN_OVERLAY":return U.A;case"OPEN_URL":return B.A;case"SCROLL_TO":return H.A;case"SWAP_WITH":return P.A;case"SWAP_STATE_TO":return W.A;case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":case"UPDATE_MEDIA_PLAY":case"UPDATE_MEDIA_PAUSE":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":return j.A;case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":case"UPDATE_MEDIA_MUTE":case"UPDATE_MEDIA_UNMUTE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":return Y.A;case"UPDATE_MEDIA_SKIP_BY_OPTIONS":case"UPDATE_MEDIA_SKIP_FORWARD":case"UPDATE_MEDIA_SKIP_BACKWARD":return K.A;case"UPDATE_MEDIA_SKIP_TO":return z.A;case"SET_VARIABLE":return V.A;case"SET_VARIABLE_MODE":return G.A;case"CONDITIONAL":return D.A;case"NONE":return F.A}}function Z(e){switch(e){case"CLOSE_OVERLAY":return n.createElement(i.r,null);case"GO_BACK":return n.createElement(a.E,null);case"NAVIGATE_TO":default:return n.createElement(o.N,null);case"OPEN_OVERLAY":return n.createElement(l.x,null);case"OPEN_URL":return n.createElement(s.r,null);case"SCROLL_TO":return n.createElement(c.M,null);case"SWAP_WITH":return n.createElement(d.M,null);case"SWAP_STATE_TO":return n.createElement(u.x,null);case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":case"UPDATE_MEDIA_PLAY":case"UPDATE_MEDIA_PAUSE":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":return n.createElement(p.H,null);case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":case"UPDATE_MEDIA_MUTE":case"UPDATE_MEDIA_UNMUTE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":return n.createElement(m.D,null);case"UPDATE_MEDIA_SKIP_BY_OPTIONS":case"UPDATE_MEDIA_SKIP_FORWARD":case"UPDATE_MEDIA_SKIP_BACKWARD":return n.createElement(_.s,null);case"UPDATE_MEDIA_SKIP_TO":return n.createElement(h.C,null);case"SET_VARIABLE":return n.createElement(g.D,null);case"SET_VARIABLE_MODE":return n.createElement(f.E,null);case"CONDITIONAL":return n.createElement(E.$,null);case"NONE":return n.createElement(y.i,null)}}function q(e){switch(e){case"NONE":default:return n.createElement(y.i,null);case"ON_CLICK":return n.createElement(b.V,null);case"DRAG":return n.createElement(v.P,null);case"ON_HOVER":return n.createElement(I.R,null);case"ON_PRESS":return n.createElement(T.i,null);case"ON_KEY_DOWN":return n.createElement(S.S,null);case"MOUSE_ENTER":return n.createElement(w.V,null);case"MOUSE_LEAVE":return n.createElement(A.k,null);case"MOUSE_DOWN":return n.createElement(C.w,null);case"MOUSE_UP":return n.createElement(N.r,null);case"AFTER_TIMEOUT":return n.createElement(O.A,null);case"ON_MEDIA_HIT":return n.createElement(L.s,null);case"ON_MEDIA_END":return n.createElement(R.q,null)}}function J(e){return 1===e.numSelected&&!!e.numVideosSelected}},497306:(e,t,r)=>{"use strict";r.d(t,{DS:()=>c,E6:()=>v,F0:()=>u,GI:()=>g,H_:()=>E,M1:()=>p,MT:()=>h,PA:()=>o,Ql:()=>b,Si:()=>l,UP:()=>w,WY:()=>S,X4:()=>y,cy:()=>T,hD:()=>s,hV:()=>a,kh:()=>I,nO:()=>m,oY:()=>_,qT:()=>function e(t,r,i=[]){let a=t.get(r);for(let r of a.childrenNodes)a&&("CANVAS"===a.type||"SECTION"===a.type)&&a.visible&&(0,n.F9)(r.type)&&r.visible&&("SECTION"===r.type?e(t,r.guid,i):i.push(r));return i},rV:()=>d});var n=r(801204),i=r(341860);function a(e,t,r){if("stop"===r(t))return"stop";for(let n of t.childrenGuids)if("stop"===a(e,e.get(n),r))return"stop"}function o(e,t){var r;return(null==(r=e.get(t))?void 0:r.parentNode)||null}function l(e,t,r){let n=o(e,t);for(;n;){if("CANVAS"===n.type||"DOCUMENT"===n.type)return;if("stop"===r(n))break;n=n.parentNode}}function s(e,t,r){let n=e.get(t);n&&"stop"!==r(n)&&l(e,t,r)}function c(e,t){let r=[];return l(e,t,e=>{r.push(e)}),r}function d(e,t,r){if(t===r)return!0;let n=o(e,r);for(;n;){if(n.guid===t)return!0;n=n.parentNode}return!1}function u(e,t){let r=0,n=e.get(t)||null;for(;n&&"CANVAS"!==n.type&&"DOCUMENT"!==n.type;)r++,n=o(e,n.guid);return r}function p(e,t){return[...new Set(t)].reduce((t,r)=>(t[r]=function(e,t){if(!t)return null;let r=e.get(t);if(!r)return null;for(;"CANVAS"!==r.type;){let e=r.parentNode;if(!e)break;r=e}return r.guid}(e,r),t),{})}function m(e){return("DOCUMENT"===e||"CANVAS"===e||"GROUP"===e||"FRAME"===e||"SYMBOL"===e||"INSTANCE"===e||"BOOLEAN_OPERATION"===e||"STICKY"===e||"SHAPE_WITH_TEXT"===e||"CONNECTOR"===e||"CODE_BLOCK"===e||"TABLE"===e||"TABLE_CELL"===e||"VARIABLE_SET"===e||"MODULE"===e||"SLIDE"===e||"SLIDE_ROW"===e||"SLIDE_GRID"===e)&&!h(e)}function _(e){return"VECTOR"===e||"STAR"===e||"LINE"===e||"ELLIPSE"===e||"RECTANGLE"===e||"REGULAR_POLYGON"===e||"ROUNDED_RECTANGLE"===e}function h(e){return"STICKY"===e||"SHAPE_WITH_TEXT"===e||"CONNECTOR"===e||"CODE_BLOCK"===e||"MEDIA"===e||"SECTION_OVERLAY"===e||"TABLE"===e}function g(e){return"STAMP"===e.type||"ROUNDED_RECTANGLE"===e.type&&e.name.includes("FigJam Stamp Icon")}function f(e,t){return t&&"CANVAS"===t.type&&t.visible&&(0,n.F9)(e.type)&&e.visible}function E(e,t){let r=null,n=null;for(let i=0;i<t.length;i++){let a=e.get(t[i]),l=o(e,t[i]);if(a&&l&&f(a,l)){r=t[i],n=i;break}}return{tlfId:r,index:n}}function y(e,t){e.sort((e,r)=>{let n=t(e),i=t(r);return n<i?-1:n>i?1:0})}function b(e,t){let r=null;return l(e,t,e=>{if(!r){if("NONE"!==e.scrollDirection)return r=e,"stop";{let t=e.parentNode;if(t&&f(e,t))return r=e,"stop"}}}),r}function v(e,t){let r=null;return s(e,t,e=>{let t=e.parentNode;t&&f(e,t)&&(r=e)}),r}function I(e,t){let r=null;return s(e,t,e=>{let t=e.parentNode;t&&t&&("CANVAS"===t.type||"SECTION"===t.type)&&t.visible&&(0,n.F9)(e.type)&&e.visible&&"SECTION"!==e.type&&(r=e)}),r}function T(e,t,r){let n;if(!r){let e=t.getCurrentPage();if(!e)return;r=e}return a(t,r,r=>{if(e(r,t))return n=r,"stop"}),n}function S(e,t){let r;let n=t.getCurrentPage();if(n)return a(t,n,n=>{if(e(n,t)){if(void 0===r)r=n;else{let[e,t]=n.guid.split(":").map(Number),[i,a]=r.guid.split(":").map(Number);r=e===i?t>a?n:r:e>i?n:r}}}),r}function w(){let e=i.qo.instance,t=[];return a(e,e.getRoot(),e=>{t.push(e.guid)}),t}},279994:(e,t,r)=>{"use strict";r.d(t,{H:()=>i,h:()=>a});let n=[];function i(e){return n.push(e),()=>{n=n.filter(t=>t!==e)}}function a(e){for(let t of n)t(e)}},990922:(e,t,r)=>{"use strict";r.d(t,{$4:()=>b,Xw:()=>f,jI:()=>E,up:()=>y});var n=r(776250),i=r(517333),a=r(38329),o=r(218549),l=r(988022),s=r(356390),c=r(150944),d=r(976269),u=r(109381),p=r(376142),m=r(253999),_=r(26277),h=r(264126);let g=new class{constructor(){this._suggestionsCache=new o.q(100),this._textReviewPluginRunner=new _.X,this._currentPromise=null}async setCurrentImplementation(e,t){var r,i;let o=await (0,u.LJ)(),s=await (0,u.N_)(),c=(0,u.oz)();await e.initialize(t,[...o,...s,...c]),this._current=e;let d=await (0,u.LE)();console.log(`[spell-check] using implementation: ${null==(r=this._current)?void 0:r.name}. Current language: ${t}. Supported languages: ${d}`);let p=a.D.getState().selectedView,m=(0,l.Dc)(p.editorType);(0,n.sx)("Spell Check Ready",{productType:m,language:t,implementationName:null==(i=this._current)?void 0:i.name,userIgnoreWordsCount:(o||[]).length})}get current(){return this._currentPromise||(this._currentPromise=(async()=>(await this.ensureImplementationLoaded(),this._current))()),this._currentPromise}async ensureImplementationLoaded(){if(this._current)return;let e=await (0,u.x5)(),t=(0,m.up)(e),r=(0,u.Ev)(t);switch(e){case h.QC.DESKTOP:await this.setCurrentImplementation(new d.f,r);break;case h.QC.AGENT:await this.setCurrentImplementation(new c.UV,r);break;case h.QC.HUNSPELL:await this.setCurrentImplementation(new p.mz,r)}}async getSuggestionsForWord(e){return this._suggestionsCache.has(e)?Promise.resolve(this._suggestionsCache.get(e)||[]):(await this.current).getSuggestionsForWord(e).then(t=>(this._suggestionsCache.set(e,t),t))}async spellCheckText(e){return(await this.current).spellCheckText(e)}async runTextReviewPlugin(e){return _.X.shouldUsePluginForSpellChecking()?await this._textReviewPluginRunner.reviewText(e):[]}getAPIName(){var e;return(null==(e=this._current)?void 0:e.name)||"N/A"}shouldEnableWhenFirstActivated(){let e=navigator.languages||[navigator.language];return function(e,t){if(e)return!0;try{let e=t.map(e=>(e||"").toLowerCase()).map(e=>e.split("-")[0]);if(!(e.includes("en")||e.includes("ru")))return!1}catch(e){}return!0}(!!i.eD,e)}reset(){this._current=void 0,this._currentPromise=null,this._suggestionsCache.reset()}};async function f(){return await g.ensureImplementationLoaded(),g._current}async function E(e){return await g.ensureImplementationLoaded(),g._suggestionsCache.reset(),g._current.setLanguage(e)}async function y(e){await E((0,u.Ev)(e)),s.Y5&&s.Y5.isReady()&&s.Y5.triggerAction("redo-spell-checking")}let b=g},912666:(e,t,r)=>{"use strict";r.d(t,{$P:()=>d,M7:()=>u,Ms:()=>s,UC:()=>c,Wx:()=>o,Zk:()=>l,eX:()=>m,nM:()=>p,s4:()=>i,sg:()=>a});var n=r(515009),i=(e=>(e.NONE="NONE",e.FILL="FILL",e.STROKE="STROKE",e.TEXT="TEXT",e.EFFECT="EFFECT",e.GRID="GRID",e))(i||{});function a(e){switch(e){case"inheritTextStyleKey":return"TEXT";case"inheritFillStyleKey":case"inheritFillStyleKeyForStroke":return"FILL";case"inheritEffectStyleKey":return"EFFECT";case"inheritGridStyleKey":return"GRID";case"inheritExportStyleKey":return"EXPORT"}}function o(e){switch(e){case"NONE":default:return[];case"FILL":return["inheritFillStyleKey","inheritFillStyleKeyForStroke"];case"TEXT":return["inheritTextStyleKey"];case"EFFECT":return["inheritEffectStyleKey"];case"GRID":return["inheritGridStyleKey"]}}function l(e){switch(e){case"NONE":default:return null;case"FILL":return"inheritFillStyleKey";case"TEXT":return"inheritTextStyleKey";case"EFFECT":return"inheritEffectStyleKey";case"GRID":return"inheritGridStyleKey"}}let s={inheritEffectStyleKey:"inheritEffectStyleName",inheritExportStyleKey:"inheritExportStyleName",inheritFillStyleKey:"inheritFillStyleName",inheritFillStyleKeyForStroke:"inheritFillStyleNameForStroke",inheritGridStyleKey:"inheritGridStyleName",inheritTextStyleKey:"inheritTextStyleName"},c={inheritEffectStyleKey:"softDeletedEffectStyleId",inheritExportStyleKey:"softDeletedExportStyleId",inheritFillStyleKey:"softDeletedFillStyleId",inheritFillStyleKeyForStroke:"softDeletedFillStyleForStrokeId",inheritGridStyleKey:"softDeletedGridStyleId",inheritTextStyleKey:"softDeletedTextStyleId"};function d(e){return!!(null==e?void 0:e.key)}function u(e){return e.startsWith("S:")}function p(e){return e&&d(e)?`S:${e.key},${e.version||""}`:""}function m(e){if(!e||!u(e))return null;let t=e.substring(2).split(",");if(!t||2!==t.length)return null;let r=(0,n.n3)(t[0]),i=(0,n.IA)(t[1]);return r===n.n3.INVALID?null:{key:r,version:i}}},809511:(e,t,r)=>{"use strict";r.d(t,{BLp:()=>n.BLp,BtE:()=>n.BtE,D1Y:()=>n.D1Y,Egt:()=>n.Egt,Ez5:()=>n.Ez5,F84:()=>n.F84,J0O:()=>n.J0O,JA:()=>n.JA,NLJ:()=>n.NLJ,NVY:()=>n.NVY,Oin:()=>n.Oin,QOV:()=>n.QOV,QeU:()=>n.QeU,SKs:()=>n.SKs,Tcr:()=>n.Tcr,VtE:()=>n.VtE,W8Y:()=>n.W8Y,YCw:()=>n.YCw,YIO:()=>n.YIO,YnC:()=>n.YnC,Z_n:()=>n.Z_n,_0v:()=>n._0v,aTl:()=>n.aTl,aTn:()=>n.aTn,bst:()=>n.bst,bwI:()=>n.bwI,dBj:()=>n.dBj,daH:()=>n.daH,gEE:()=>n.gEE,glU:()=>n.glU,hMR:()=>n.hMR,iCO:()=>n.iCO,j0r:()=>n.j0r,jXp:()=>n.jXp,kul:()=>n.kul,lMj:()=>n.lMj,lyf:()=>n.lyf,m1T:()=>n.m1T,m7W:()=>n.m7W,mKm:()=>n.mKm,nzw:()=>n.nzw,qmM:()=>n.qmM,rXF:()=>n.rXF,rrT:()=>n.rrT,tHB:()=>n.tHB,uCV:()=>n.uCV,vRS:()=>n.vRS,w3z:()=>n.w3z,xae:()=>n.xae,xal:()=>n.xal,xc1:()=>n.xc1,z7E:()=>n.z7E});var n=r(852800)},424863:(e,t,r)=>{"use strict";r.d(t,{nd:()=>l,zb:()=>o});var n=r(47506),i=r(852800);let a=null,o="Upsell Libraries Valid Paste For Nudge";function l(e,t){a&&a.pasteID===e&&a.fileKey===t?a.offset=a.offset+1:a={pasteID:e,fileKey:t,offset:1},2===a.offset&&i.glU.shouldNudgeComponentCreationForSelection()&&(0,n.YQ)({id:o})}},227944:(e,t,r)=>{"use strict";r.d(t,{Ku:()=>l,Zr:()=>o,vm:()=>s,yU:()=>c});var n=r(188507),i=r(794272),a=r(279145);function o(e){return(0,n.d4)(t=>(0,a.Yh)(t.mirror.appModel,e))}function l(e){return(0,i.R)(t=>{let r={};for(let n of e)r[n]=(0,a.Yh)(t.mirror.appModel,n);return r})}function s(e){return(0,n.d4)(t=>e.every(e=>(0,a.Yh)(t.mirror.appModel,e)))}function c(e){return(0,n.d4)(t=>e.some(e=>(0,a.Yh)(t.mirror.appModel,e)))}},555074:(e,t,r)=>{"use strict";r.d(t,{A5:()=>s,kl:()=>l,lJ:()=>c});var n=r(411855),i=r(794272),a=r(356390),o=r(279702);function l(e){return(0,i.R)(t=>t.mirror.selectionProperties[e])}function s(e){return n.useCallback((t,r=o.zk.YES)=>{a.Y5.updateSelectionProperties({[e]:t},{shouldCommit:r})},[e])}function c(e){return[l(e),s(e)]}},289704:(e,t,r)=>{"use strict";r.d(t,{c:()=>a,k:()=>o});var n=r(499737),i=r(623746);function a(e,t){var r,a;let o=(e,r)=>{let n=[];return null==r||r.forEach(r=>{var a;null==(a=r.variables)||a.forEach(r=>{n.push((0,i.GA)(r,e,t))})}),n};if("team"===e.type&&(null==(r=e.value)?void 0:r.status)==="loaded"){let t=e.value.data.file;if(t)return o({type:"team",file:t},null==t?void 0:t.variableCollections)}if("community"===e.type&&(null==(a=e.value)?void 0:a.status)==="loaded"){let t=(0,n.oA)(e.value.data.communityLibraryByHubFileId);if(t)return o({type:"hubFile",file:{id:t.hubFileId}},null==t?void 0:t.variableCollections)}return[]}function o(e,t){var r,a;if("team"===e.type&&(null==(r=e.value)?void 0:r.status)==="loaded"){let r=e.value.data.file;if(r&&r.variableCollections)return r.variableCollections.map(e=>(0,i.cE)(e,{type:"team",file:r},t))}if("community"===e.type&&(null==(a=e.value)?void 0:a.status)==="loaded"){let r=(0,n.oA)(e.value.data.communityLibraryByHubFileId);if(r&&r.variableCollections)return r.variableCollections.map(e=>(0,i.cE)(e,{type:"hubFile",file:{id:r.hubFileId}},t))}return[]}},869156:(e,t,r)=>{"use strict";r.d(t,{AZ:()=>w,BQ:()=>W,D1:()=>K,EP:()=>er,G6:()=>k,K6:()=>x,L5:()=>en,M6:()=>ei,Pt:()=>L,Rb:()=>O,SG:()=>ee,SR:()=>C,UT:()=>X,bL:()=>F,el:()=>et,h6:()=>M,hE:()=>z,hg:()=>V,iC:()=>J,jI:()=>Z,kf:()=>j,lC:()=>P,nN:()=>A,nR:()=>R,o3:()=>D,pN:()=>q,qd:()=>G,rW:()=>S,tZ:()=>B,u:()=>H,u5:()=>$,wM:()=>Y,wX:()=>U,yp:()=>N});var n=r(411855),i=r(677469),a=r.n(i),o=r(44948),l=r(966712),s=r(374626),c=r(38580),d=r(391388),u=r(572174),p=r(515009),m=r(987918),_=r(75224),h=r(173454),g=r(533573),f=r(875157),E=r(859703),y=r(696673),b=r(335682),v=r(58032),I=r(852800),T=r(289704);function S(e){let t=(0,s.md)(E.Gc);return Q(e?t[e]??[]:[])}function w(e){return(0,s.md)((0,E.A6)(e))}function A(){return(0,s.md)(E.qy)}function C(){O(),N(),(0,s.md)(E.xA),L(),R(),(0,s.md)(E.jt)}function N(){return Q((0,s.md)(E.TD))}function O(){return Q((0,s.md)(E.uk))}function L(){return(0,s.md)(E.bO)}function R(){return(0,s.md)(E.LC)}function P(e){return(0,s.md)((0,E.ZG)(e))}function k(e){let t=(0,n.useMemo)(()=>e?(0,E.Eo)(e):(0,c.eU)(null),[e]),r=(0,s.md)(t);if(r)return r;if(!e)return;let i=I.CWU.getSubscribedVariableSetInfo(e);if(i)return(0,h.Rn)(i)}function D(e){let t=(0,n.useMemo)(()=>(0,E.JB)(e),[e]);return(0,s.md)(t)??null}function M(){let e=(0,n.useMemo)(()=>(0,E.Tg)(),[]);return(0,s.md)(e)}function x(e,t){var r;let n=function(e){let t=e?(0,E.hy)(e):(0,c.eU)(null);return(0,s.md)(t)}(e);return(null==(r=null==n?void 0:n.modeValues)?void 0:r[t])??void 0}function F(e,t){var r,n;return(null==(n=null==(r=H(e))?void 0:r.modeValues)?void 0:n[t])??void 0}function U(e){let t=(0,o.wm)(()=>e,[e]),r=(0,n.useMemo)(()=>(0,c.eU)(e=>t.map(t=>(0,u.Vq)(t)?e(E.Cg)[t]??null:null)),[t]);return(0,s.md)(r)}function B(e){var t;return(null==(t=H(e))?void 0:t.name)||(e?I.CWU.getVariableNameInStyleSelection(e)??void 0:void 0)}function H(e){let t=(0,n.useMemo)(()=>e?(0,E.Ev)(e):(0,c.eU)(null),[e]),r=(0,s.md)(t);if(r)return r;if(!e)return null;let i=I.CWU.getSubscribedVariableInfo(e);return i?(0,h.ZI)(i):null}function V(e,t){let r=(0,o.wm)(()=>e,[e]),i=(0,n.useMemo)(()=>(0,c.eU)(e=>r.map(r=>{if(!r)return null;let n=e((0,E.Ev)(r));if(n)return n;if(t){let e=I.CWU.getSubscribedVariableInfo(r);if(e)return(0,h.ZI)(e)}return null})),[t,r]);return(0,s.md)(i)}function G(e,t){let r=(0,o.wm)(()=>e,[e]),i=(0,n.useMemo)(()=>(0,c.eU)(e=>{let n={};return r.forEach(r=>{if(!r)return;let i=(0,E.BJ)(r,t??m.AD);if(i){n[r]=e(i);return}n[r]=null}),n}),[r,t]);return(0,s.md)(i)}function W(e,t){let r=(0,n.useMemo)(()=>e?(0,E.BJ)(e,t??m.AD):(0,c.eU)(null),[e,t]);return(0,s.md)(r)}function K(){let e=(0,b.tS)(),t=(0,n.useMemo)(()=>e?(0,E.cp)(e):(0,c.eU)(null),[e]),r=(0,s.md)(t);return(0,n.useMemo)(()=>{let e=r&&d.Qw.from(r);return(0,T.c)({type:"team",value:e},!0)},[r])}function Y(e){let t=(0,n.useMemo)(()=>(0,E.Oj)(e),[e]),r=(0,s.md)(t);return(0,o.k9)(()=>{var e;let t={};for(let n of Object.values(r))if("loaded"===n.status)for(let r of(null==(e=n.data.variableCollection)?void 0:e.variables)??[])t[(0,p.ey)(r.key)]=r;return t},[r])}function j(e){var t;let r=(0,n.useMemo)(()=>!e||(0,y.wJ)(e)?(0,c.eU)(null):(0,E.cp)(e),[e]),i=(0,y.$Q)(e),a=(0,E.Ri)(i),l=(0,s.md)(r),u=(0,s.md)(a),p=!!(null==(t=(0,v.je)().data)?void 0:t.find(t=>t.fileKey===e));return(0,o.wm)(()=>{if(!p||!l&&!u)return d.Qw.loaded([]);if((null==l?void 0:l.status)==="loading"||(null==l?void 0:l.status)==="disabled"||(null==u?void 0:u.status)==="loading")return d.Qw.loading();let e=l&&d.Qw.from(l),t=e?{type:"team",value:e}:{type:"community",value:u};return d.Qw.loaded((0,T.c)(t,!1))},[p,l,u])}function z(){let e=(0,b.tS)(),t=(0,n.useMemo)(()=>e?(0,E.cp)(e):(0,c.eU)(null),[e]),r=(0,s.md)(t);return(0,n.useMemo)(()=>{let e=r&&d.Qw.from(r);return(0,T.k)({type:"team",value:e},!0)},[r])}function $(e){var t;let r=(0,n.useMemo)(()=>!e||(0,y.wJ)(e)?(0,c.eU)(null):(0,E.cp)(e),[e]),i=(0,y.$Q)(e),a=(0,E.Ri)(i),l=(0,s.md)(r),u=(0,s.md)(a),p=null==(t=(0,v.je)().data)?void 0:t.find(t=>t.fileKey===e);return(0,o.wm)(()=>{if(!p||!l&&!u)return d.Qw.loaded([]);if((null==l?void 0:l.status)==="loading"||(null==u?void 0:u.status)==="loading")return d.Qw.loading();let e=l&&d.Qw.from(l),t=e?{type:"team",value:e}:{type:"community",value:u};return d.Qw.loaded((0,T.k)(t,!1))},[p,l,u])}function Z(){let e=(0,v.je)(),t=(0,o.wm)(()=>{var t;return(null==(t=e.data)?void 0:t.map(e=>e.fileKey))??[]},[e.data]),r=(0,n.useMemo)(()=>(0,E.H2)(t),[t]),i=(0,s.md)(r);return(0,o.wm)(()=>{let e=d.Qw.all(Object.values(i));return"loaded"!==e.status?e:d.Qw.loaded({items:a()(Object.values(i).map(e=>(0,T.k)({type:"team",value:e},!1)))})},[i])}function q(e){let t=(0,v.je)(),r=(0,o.wm)(()=>{var e;return(null==(e=t.data)?void 0:e.filter(e=>!(0,y.wJ)(e.fileKey)).map(e=>e.fileKey))??[]},[t.data]),i=(0,o.wm)(()=>{var e;return(null==(e=t.data)?void 0:e.filter(e=>(0,y.wJ)(e.fileKey)).map(e=>e.fileKey))??[]},[t.data]),l=(null==e?void 0:e.enabled)===!1,u=(0,n.useMemo)(()=>{if(l){let e={};return r.forEach(t=>{e[t]=d.Qw.disabled()}),(0,c.eU)(e)}return(0,E.Yt)(r)},[l,r]),p=(0,s.md)(u),m=(0,n.useMemo)(()=>{if(l){let e={};return i.forEach(t=>{e[t]=d.Qw.disabled()}),(0,c.eU)(e)}return(0,E.hz)(i)},[l,i]),_=(0,s.md)(m);return(0,o.wm)(()=>{let e=d.Qw.all(Object.values({...p,..._}));return"loaded"!==e.status?e.transform(()=>({libraryVariableSets:[],libraryVariables:[]})):d.Qw.loaded({libraryVariableSets:[...a()(Object.values(p).map(e=>(0,T.k)({type:"team",value:e},!1))),...a()(Object.values(_).map(e=>(0,T.k)({type:"community",value:e},!1)))],libraryVariables:[...a()(Object.values(p).map(e=>(0,T.c)({type:"team",value:e},!1))),...a()(Object.values(_).map(e=>(0,T.c)({type:"community",value:e},!1)))]})},[p,_])}function J(e,t,r){if(e)return I.w3z.getIdsOfVariablesWithValue(e,t,{type:r.type,value:r.value})}function X(e,t,r){if(!e)return;let n=I.w3z.getIdsOfVariablesWithValue(e,t,{type:r.type,value:r.value});if(1===n.length)return n[0]}function Q(e){return n.useMemo(()=>e.filter(e=>!(0,g.eF)(e)),[e])}function ee(e,t){let r=(0,f.iG)(e),i=function(e){let t=O(),r=q(e);return(0,n.useMemo)(()=>{var e;return(null==r?void 0:r.status)!=="loaded"?r.transform(()=>[]):d.Qw.loaded([...(null==(e=r.data)?void 0:e.libraryVariables)??[],...t??[]])},[t,r])}(t);return(0,n.useMemo)(()=>{var t;if("loaded"!==i.status)return i.transform(()=>[]);let n=(null==(t=i.data)?void 0:t.filter(e=>(0,f.AQ)(e,r)))??[],a=[];for(let t of e){let e=g.Io[t];e&&i&&(a=a.concat(n.filter(t=>e.includes(t.resolvedType))))}return d.Qw.loaded([...a])},[e,i,r])}function et(e){let t={},r=(0,v.je)();if(r.data){for(let n of e)for(let e of r.data)if(e.fileKey===n){t[n]=e.name;break}}return t}function er(e){let t=(null==e?void 0:e.subscriptionStatus)==="SUBSCRIBED"?(0,_.hH)(e):void 0,r=et(t?[t]:[]),n=(null==e?void 0:e.subscriptionStatus)==="SUBSCRIBED"?e.library_key:void 0,i=function(e){let t=(0,v.je)();if(0===e.length)return{};let r={};if(t.data)for(let n of t.data){let t=(0,_.$A)(n.fileKey);for(let i of e)if(t===i){r[i]=n.name;break}}return r}(n?[n]:[]);return(0,l.kc)().ds_use_lib_keys?n?i[n]:void 0:t?r[t]:void 0}function en(e){let t=e&&(0,h.GI)(e),r=k(t?e.rootVariableSetId:void 0);return(t?r:e)??null}function ei(){return(ee(["FONT_STYLE"]).data??[]).length>0}},815485:(e,t,r)=>{"use strict";r.d(t,{M:()=>i,i:()=>a});let n=[];function i(e){return n.push(e),()=>{n=n.filter(t=>t!==e)}}function a(e,t){for(let r of n)r(e,t)}},457630:(e,t,r)=>{"use strict";let n;r.d(t,{$$:()=>b,$g:()=>f,Cj:()=>G,D6:()=>O,HD:()=>w,LE:()=>x,MG:()=>R,PD:()=>N,Pl:()=>M,QU:()=>k,QZ:()=>H,Qt:()=>y,RU:()=>D,TZ:()=>P,UN:()=>T,Yb:()=>v,Z0:()=>g,ZT:()=>I,_X:()=>F,bs:()=>C,gc:()=>n,kE:()=>E,lc:()=>B,ni:()=>U,qc:()=>S,th:()=>A});var i=r(411855),a=r(109388),o=r(91408),l=r(886653),s=r(776621),c=r(572206),d=r(809511),u=r(651963),p=r(433861),m=r(356390),_=r(617453),h=r(146935);function g(e,t,r=!0){let n={x:e.width/2+(t.x-e.offsetX)*e.zoomScale,y:e.height/2+(t.y-e.offsetY)*e.zoomScale};return r?c.Mi.rounded(n):n}function f(e,t){let r=new c.Mi(e.x,e.y),n=g(e,t);return c.Mi.add(n,r)}function E(e,t){return Math.round(e/t-.5)}function y(e,t,r,n){return Math.round(n/2+(e-t)*r)}function b(e,t){return c.Mi.rounded({x:(t.x-e.width/2)/e.zoomScale+e.offsetX,y:(t.y-e.height/2)/e.zoomScale+e.offsetY})}function v(e,t,r){let n=g(e,{x:t.x,y:t.y},r);return{x:n.x,y:n.y,width:t.width*e.zoomScale,height:t.height*e.zoomScale}}function I(e,t){return!(e.x+e.width<0)&&!(e.x>t.width)&&!(e.y+e.height<0)&&!(e.y>t.height)}function T(e,t){let{offsetX:r,offsetY:n,zoomScale:i,width:a,height:o}=t;return!(e.x<r-a/2/i)&&!(e.x+e.width>r+a/2/i)&&!(e.y<n-o/2/i)&&!(e.y+e.height>n+o/2/i)}function S(e){if(e.height<0||e.width<0||e.zoomScale<=0)throw(0,s.x1)("Viewport","invalid values",{info:e}),Error("Invalid Viewport");return{x:e.offsetX-e.width/e.zoomScale/2,y:e.offsetY-e.height/e.zoomScale/2,width:e.width/e.zoomScale,height:e.height/e.zoomScale}}function w(e,t){return{x:e.x+t.x,y:e.y+t.y,width:e.width,height:e.height}}function A(e){return(0,l.xx)((e,t,r,n)=>({x:e,y:t,height:r,width:n}))(e.x,e.y,e.height,e.width)}function C(e){let t=F(e),r=i.useRef(t);return i.useEffect(()=>{r.current=t},[r,t]),r}function N({subscribeToUpdates_expensive:e}){let t=F({subscribeToUpdates_expensive:e}),r=i.useContext(p.QZ).current||t,n=t.offsetX-r.offsetX,a=t.offsetY-r.offsetY,o=t.zoomScale-r.zoomScale;return{...t,deltaOffsetX:n,deltaOffsetY:a,deltaZoomScale:o}}function O(e,t){i.useEffect(()=>{var r;(null==(r=m.Y5)?void 0:r.isReady())&&e.subscribeToUpdates_expensive&&(t(m.Y5.getViewportInfo()),(0,u.H)())},[t,e.subscribeToUpdates_expensive]),i.useEffect(()=>{if(m.Y5&&e.subscribeToUpdates_expensive){let e=e=>{(0,a.flushSync)(()=>{t(e)})};return m.Y5.viewport.on("onSetViewport",e),()=>{m.Y5.viewport.removeListener("onSetViewport",e)}}},[t,e.subscribeToUpdates_expensive])}function L(e){return i.useContext(e),i.useContext(p.HA).current||p.t4}function R(e){return L(e.subscribeToUpdates_expensive?p.k9:p.cY).x}function P(e){return L(e.subscribeToUpdates_expensive?p.lG:p.cY).y}function k(e){return L(e.subscribeToUpdates_expensive?p.Os:p.cY).width}function D(e){return L(e.subscribeToUpdates_expensive?p.zE:p.cY).height}function M(e){return L(e.subscribeToUpdates_expensive?p.zx:p.cY).zoomScale}function x(e){return L(e.subscribeToUpdates_expensive?p.l9:p.Vl).isPanning}function F(e){let t=R(e),r=P(e),n=k(e),a=D(e),o=L(e.subscribeToUpdates_expensive?p.j0:p.cY).offsetX,l=L(e.subscribeToUpdates_expensive?p.u7:p.cY).offsetY,s=M(e),c=x(e),d=L(e.subscribeToUpdates_expensive?p.b8:p.Vl).isZooming;return i.useMemo(()=>({x:t,y:r,width:n,height:a,offsetX:o,offsetY:l,zoomScale:s,isPanning:c,isZooming:d}),[t,r,n,a,o,l,s,c,d])}function U(){let e={subscribeToUpdates_expensive:!0},t=R(e),r=P(e),n=k(e),a=D(e);return i.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a])}function B(){n=void 0}function H(e){let t=new Promise(e=>{n=e});return d.glU.computeViewportSettingsForNode__DO_NOT_USE_DIRECTLY(e),t}let V=(0,o.jz)(h.rulerThickness);function G(){let e={subscribeToUpdates_expensive:!0},t=(0,_.lK)()?V:0,r=R(e)+t,n=P(e)+t,a=k(e)-t,o=D(e)-t;return i.useMemo(()=>({x:r,y:n,width:a,height:o}),[r,n,a,o])}},805286:(e,t,r)=>{"use strict";let n;r.d(t,{R9:()=>n,pO:()=>h});var i=r(776250),a=r(344780),o=r(531664),l=r(38329),s=r(47014),c=r(966712),d=r(145519),u=r(852800);let p=0;class m{constructor(){this._currentSessionId=-1,this._infoBySessionId=new s.N({}),this._voiceMetadataBySessionId=new s.B({},o.c2),this._reactionsBySessionId=new s.N({}),this._reactionTimeout=-1,this._onReactionsUpdated=void 0,this._onInfoBySessionIdUpdated=void 0,this._onOtherUserMouseMoved=void 0,this._cursorChatLoggerTimerID=null,this.currentTrackIsSoundEffect=e=>{var t;if(!(0,c.kc)().figjam_more_tracks)return!1;let r=null==(t=e.music)?void 0:t.selectedSongID;return!e.activeSongs.some(e=>e.song_id===r)}}infoBySessionId(){return{...this._infoBySessionId.get()}}voiceMetadataBySessionId(){return{...this._voiceMetadataBySessionId.get()}}reactionsBySessionId(){return{...this._reactionsBySessionId.get()}}handleConnect(e){-1!==this._currentSessionId&&this.removeUser(this._currentSessionId),this._currentSessionId=e,this.addUser(this._currentSessionId)}addUser(e){let t=this._infoBySessionId.get(),r={sessionId:e.toString(),mouse:null,isHoveringWidgetWithHiddenCursors:!1,chatMessage:[null,null],highFiveStatus:!1,cursorType:u.z7E.DEFAULT,lastMouseMoveMs:-1};this.setInfoBySessionId({...t,[e]:r});let n=this._voiceMetadataBySessionId.get();this._voiceMetadataBySessionId.set({...n,[e]:{connectedCallId:""}});let i=this._reactionsBySessionId.get();this.setReactionsBySessionId({...i,[e]:{}})}removeUser(e){let t={...this._infoBySessionId.get()};delete t[e],this.setInfoBySessionId(t);let r={...this._voiceMetadataBySessionId.get()};delete r[e],this._voiceMetadataBySessionId.set(r);let n={...this._reactionsBySessionId.get()};delete n[e],this.setReactionsBySessionId(n)}setMouseCursor(e,t){let r=this._infoBySessionId.get();this.setInfoBySessionId({...r,[e]:{...r[e],cursorType:t}})}setMousePosition(e,t,r,n){var i;let a=this._infoBySessionId.get();if(e in a){let o=a[e],l={...o,mouse:{canvasSpacePosition:{x:r,y:n},pageId:t},lastMouseMoveMs:window.performance.now()};this.otherUserMouseMoved(e,l,o)&&(null==(i=this._onOtherUserMouseMoved)||i.call(this)),this.setInfoBySessionId({...a,[e]:l})}}setIsHoveringWidgetWithHiddenCursors(e,t){let r=this._infoBySessionId.get();e in r&&this.setInfoBySessionId({...r,[e]:{...r[e],isHoveringWidgetWithHiddenCursors:t}})}otherUserMouseMoved(e,t,r){var n,i;return e!==this._currentSessionId&&(null==(n=t.mouse)?void 0:n.canvasSpacePosition)!==(null==(i=r.mouse)?void 0:i.canvasSpacePosition)}setFocusOnTextCursor(e,t){let r=this._infoBySessionId.get();this.setInfoBySessionId({...r,[e]:{...r[e],focusOnTextCursor:t}})}setChatMessage(e,t,r){let n=this._infoBySessionId.get(),{eventName:o,sendToDataDogEveryMs:l}=_.CURSOR_CHAT;a.sn.start(`${o}_${e}_${t}`),null===this._cursorChatLoggerTimerID&&(this._cursorChatLoggerTimerID=setTimeout(()=>{let e=a.Vq.analyticsProperties(o);(0,i.sx)(o,e,{forwardToDatadog:!0}),a.Vq.reset(o),this._cursorChatLoggerTimerID=null},l)),e in n&&this.setInfoBySessionId({...n,[e]:{...n[e],chatMessage:[t,r]}})}setHighFiveStatus(e,t){let r=this._infoBySessionId.get();e in r&&this.setInfoBySessionId({...r,[e]:{...r[e],highFiveStatus:t}})}sendHighFiveStatus(e){u.h3O.sendHighFiveStatus(e)}setVoiceMetadata(e,t){let r=this._voiceMetadataBySessionId.get();e in r&&this._voiceMetadataBySessionId.set({...r,[e]:{...r[e],connectedCallId:t}})}sendVoiceMetadata(e){u.h3O.sendVoiceMetadata(e)}addReactionForSessionId(e,t,r,n){let i=++p+"",a=this._reactionsBySessionId.get();return e in a&&this.setReactionsBySessionId({...a,[e]:{...a[e],[i]:{localId:i,reactionId:t,canvasSpacePosition:r,pageId:n}}}),i}removeReactionWithId(e,t){let r=this._reactionsBySessionId.get();if(e in r){let n={...r[e]};delete n[t],this.setReactionsBySessionId({...r,[e]:n})}}setOnReactionsUpdatedCallback(e){this._onReactionsUpdated=e}setInfoBySessionIdUpdatedCallback(e){this._onInfoBySessionIdUpdated=e}setOtherUserMouseMovedCallback(e){this._onOtherUserMouseMoved=e}setReactionsBySessionId(e){this._reactionsBySessionId.set(e),this._onReactionsUpdated&&this._onReactionsUpdated()}setInfoBySessionId(e){this._infoBySessionId.set(e),this._onInfoBySessionIdUpdated&&this._onInfoBySessionIdUpdated()}resetReactions(){clearTimeout(this._reactionTimeout)}sendReaction(e){u.h3O.sendReaction(e),this.handleReactionForSession(u.h3O.currentSessionID(),e)}playSoundEffectOnce(e){this.startPlayingSoundEffect(e),setTimeout(()=>{this.stopPlayingSoundEffect()},1e3)}startPlayingSoundEffect(e){var t,r,n;if(!(0,c.kc)().figjam_more_tracks||!e)return;let i="",a=l.D.getState().music,o=a.allSongs.reduce((e,t)=>{let r=t.title;return r in e||(e[r]=[]),e[r].push(t.song_id),e},{});if(e in o){let t=o[e],r=Math.floor(Math.random()*t.length);i=t[r]}""!==i&&(null==(t=a.music)?void 0:t.isPaused)&&(null==(r=a.music)?void 0:r.isStopped)&&u.h3O.sendMusic(!1,((null==(n=null==a?void 0:a.music)?void 0:n.musicMessageID)||0)+1,i,Date.now(),!1)}stopPlayingSoundEffect(){var e;let t=l.D.getState().music;this.currentTrackIsSoundEffect(t)&&u.h3O.sendMusic(!0,((null==(e=null==t?void 0:t.music)?void 0:e.musicMessageID)||0)+1,"",Date.now(),!0)}handleReactionFromServer(e,t){e!==u.h3O.currentSessionID()&&this.handleReactionForSession(e,t)}handleReactionForSession(e,t){var r,n;let i=this._infoBySessionId.get()[e],a=null==(r=null==i?void 0:i.mouse)?void 0:r.canvasSpacePosition,o=null==(n=null==i?void 0:i.mouse)?void 0:n.pageId;if(null==i||null==a||null==o)return null;let s=this.addReactionForSessionId(e,t,a,o);return setTimeout(()=>this.removeReactionWithId(e,s),2500),u.h3O&&e===u.h3O.currentSessionID()&&(this._reactionTimeout=setTimeout(()=>{0===Object.keys(this._reactionsBySessionId.get()[e+""]||[]).length&&l.D.dispatch(d.mu())},2500)),s}useInfoBySessionId(e){return this._infoBySessionId.use(e)}useInfoBySessionIdSubscription(e){return this._infoBySessionId.useSubscription(e)}useVoiceMetadataBySessionId(){return this._voiceMetadataBySessionId.use()}useReactionsBySessionId(){return this._reactionsBySessionId.use()}}let _={CURSOR_CHAT:{eventName:"view_cursor_chat_message",bins:[1,9,17,19,20,23,25,29,32,48,64,80,96,112,224,448,896,1792,3584,1e4],sendToDataDogEveryMs:6e4}};function h(){Object.entries(_).forEach(([e,t])=>{a.Vq.create(t.eventName,t.bins)}),n=new m}},72274:(e,t,r)=>{"use strict";r.d(t,{Vi:()=>u,kZ:()=>p,uE:()=>c});var n=r(939863),i=r(383006),a=r(162740),o=r(164782),l=r(128803),s=r(248639);let c={[s.k.EMBED_WIDGET]:o.g,[s.k.LINK_PREVIEW_WIDGET]:l.Nd,[s.k.AI_SUMMARY_WIDGET]:a.V,[s.k.HTML_WIDGET]:i.u},d={[s.k.EMBED_WIDGET]:{propertyMenuItemNameToI18nId:{[o.w.OPEN]:()=>(0,n.t)("whiteboard.embeds.inline_menu.open_link"),[o.w.CONVERT_TO_TEXT]:()=>(0,n.t)("whiteboard.embeds.inline_menu.change_back_to_text")}},[s.k.LINK_PREVIEW_WIDGET]:{propertyMenuItemNameToI18nId:{[l.HP.OPEN]:()=>(0,n.t)("whiteboard.embeds.inline_menu.open_link"),[l.HP.VERTICAL]:()=>(0,n.t)("whiteboard.embeds.inline_menu.display_vertical"),[l.HP.HORIZONTAL]:()=>(0,n.t)("whiteboard.embeds.inline_menu.display_horizontal"),[l.HP.CONVERT_TO_TEXT]:()=>(0,n.t)("whiteboard.embeds.inline_menu.change_back_to_text")}},[s.k.AI_SUMMARY_WIDGET]:{propertyMenuItemNameToI18nId:{"":function(){throw Error("Function not implemented.")}}},[s.k.HTML_WIDGET]:{propertyMenuItemNameToI18nId:{"":function(){throw Error("Function not implemented.")}}}};function u(e){return!!s.k[e]}function p(e,t){let r=d[e];if(r.propertyMenuItemNameToI18nId[t])return r.propertyMenuItemNameToI18nId[t]()}},488983:(e,t,r)=>{"use strict";r.d(t,{Bz:()=>P,F$:()=>k,LH:()=>F,e3:()=>H,g4:()=>x,wl:()=>R,y4:()=>V});var n=r(776250),i=r(517333),a=r(686759),o=r(737947),l=r(966712),s=r(563706),c=r(110727),d=r(776621),u=r(304783),p=r(30637),m=r(129318),_=r(852800),h=r(860707),g=r(760640),f=r(534601),E=r(809511);function y(e){return"prototype-lib"===e?Fig.prototypeLibURLs["compiled_wasm.wasm"]:Fig.fullscreenURLs["compiled_wasm.wasm"]}function b(e){return"prototype-lib"===e?Fig.prototypeLibURLs["compiled_wasm.js"]:Fig.fullscreenURLs["compiled_wasm.js"]}async function v(e,t){await (0,a.k0)(b(t));let r=window.executeFullscreenEmscriptenCode;delete window.executeFullscreenEmscriptenCode;let n={wasmBinaryFile:y(t),preRun(){n.emscripten_realloc_buffer(1610612736)}};window.Module=n,window.tsapi_init=(r,n)=>{e.tsapi_init(r),(0,f.vw)(t,n)},window.tsApisForCpp=e.tsApisForCpp,r()}async function I(e){let t,r;try{await g.xK.timeAsync("loadingCode",()=>{var t;return(null==(t=window.FULLSCREEN_PRELOADS)?void 0:t.js)||(0,a.k0)(b(e))})}catch(e){throw Error("Failed to load fullscreen JS code")}let n=window.executeFullscreenEmscriptenCode;delete window.executeFullscreenEmscriptenCode;let i={instantiateWasm:(e,n)=>(t=e,r=n,{}),wasmMemory:(0,h.LH)(e)};window.Module=i;try{n()}finally{delete window.Module}if(void 0===t)throw Error('Expected WebAssembly code to set "imports"');if(void 0===r)throw Error('Expected WebAssembly code to set "receiveInstance"');return{imports:t,receiveInstance:r}}async function T(e,t){let r=g.xK.time("instantiateStreaming",async()=>{try{return await WebAssembly.instantiateStreaming(e,t)}catch(e){if("string"==typeof e)throw Error(e);throw e}});return await g.xK.timeAsync("awaitInstantiateStreaming",()=>r)}async function S(e,t){if(!e.ok)throw Error(`Downloading wasm failed with ${e.status}`);let r=await e.arrayBuffer(),n=g.xK.time("instantiate",async()=>{try{return await WebAssembly.instantiate(r,t)}catch(e){if("string"==typeof e)throw Error(e);throw e}});return await g.xK.timeAsync("awaitInstantiate",()=>n)}let w=!1,A=null;async function C(e){var t;!A||A===e||(0,p.nl)()||R()||("fullscreen-app"===A?(0,d.$D)(u.e.CLIENT_PLATFORM,Error("Previously downloaded fullscreen wasm, but is now downloading prototype-lib")):"prototype-lib"===A&&(0,d.$D)(u.e.CLIENT_PLATFORM,Error("Previously downloaded prototype-lib wasm, but is now downloading fullscreen")));let r=y(e);g.xK.start("loadingBinaryStart");let[n,i]=await Promise.all([(null==(t=window.FULLSCREEN_PRELOADS)?void 0:t.wasm)||fetch(r),I(e)]);delete window.FULLSCREEN_PRELOADS;let{imports:a,receiveInstance:o}=i;if("true"===n.headers.get("x-figma-local-build")&&(w=!0),WebAssembly.instantiateStreaming)try{let t=await T(n,a);return A=e,{receiveInstance:o,wasmResult:t}}catch(e){if(e&&(!e.message||e.message.includes("Incorrect response MIME type")||e.message.includes("Unexpected response MIME type")))console.warn('Detected a proxy interfering with the "application/wasm" MIME type. Falling back to a slower WebAssembly instantiation method instead.'),(0,d.$D)(u.e.UNOWNED,Error(`Working around error instantiating streaming fullscreen WASM: ${e}`)),n=await fetch(r);else throw(0,d.xi)("loader","Error loading wasm",{url:r,message:null==e?void 0:e.message}),e}let l=await S(n,a);return A=e,{receiveInstance:o,wasmResult:l}}let N=(0,c.Kt)(async()=>await C("fullscreen-app")),O=(0,c.Kt)(async()=>await C("prototype-lib")),L=async e=>{switch(e){case"fullscreen-app":return await N();case"prototype-lib":return await O()}};function R(){let e=o.Ay.location.pathname;for(let t of["/c","/community","/@","/user","/org","/team"])if(e.startsWith(t))return!0;return!1}let P=!/Mobi/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent);function k(e="fullscreen-app"){return L(e).then(()=>{})}let D=document.location.pathname;function M(e){return"/preload-editor"===e||"/preload-android-proto"===e}function x(){return M(D)&&(0,s.KR)()&&s.m0||D.startsWith("/proto/")||i.eD&&!i.eD.isFileTab()||i.S8||R()||M(o.Ay.location.pathname)&&!i.eD?"never":!(0,l.kc)().preload_fullscreen_on_load||"complete"===document.readyState||(0,o.Cs)()?"immediately":"eventually"}function F(){function e(){L("fullscreen-app").catch(e=>{})}let t=x();"immediately"===t?e():"eventually"===t&&window.addEventListener("load",()=>{e()})}let U=null,B=null;async function H(e,t="fullscreen-app"){if(B&&B!==t&&!(0,p.nl)()&&("fullscreen-app"===B?(0,d.$D)(u.e.UNOWNED,Error("Previously initialized fullscreen wasm, but is now initializing prototype-lib")):"prototype-lib"===B&&(0,d.$D)(u.e.UNOWNED,Error("Previously initialized prototype-lib wasm, but is now initializing fullscreen"))),!y(t)||!window.WebAssembly)return location.href="/unsupported_browser",new Promise(()=>null);if((0,m.QL)("asan"))return B=t,v(e,t);try{U&&U!==e&&await o.Ay.reloadAndWaitForever("wasmBindings changed",{from:E.uCV[U.tsApisForCpp.CommonApp().appType()],to:E.uCV[e.tsApisForCpp.CommonApp().appType()]}),U=e;let{receiveInstance:r,wasmResult:i}=await L(t);(0,f.mh)(()=>{g.xK.time("callMain",()=>r(i.instance,i.module))},U,t),B=t,(0,p.nl)()&&_.msz.setIsRunningInteractionTests(),(0,n.sx)("Fullscreen Loaded")}catch(e){throw(0,n.sx)("Fullscreen Load Failure",{error:e+""}),!e||"Failed to fetch"===e.message||"Could not download wasm module"===e.message||e.message.includes("NetworkError")||e.message.toLowerCase().includes("network error")||(e instanceof Error||(e=Error(`Fullscreen load failure: ${e}`)),(0,d.$D)(u.e.UNOWNED,e)),e.reportedToSentry=!0,e}}function V(){if(w)return!0;let e=Fig.fullscreenURLs["compiled_wasm.js"];return!!(e&&e.startsWith("/"))}},560718:(e,t,r)=>{"use strict";r.d(t,{N9:()=>o,Ng:()=>a,Ni:()=>l,ej:()=>n,nI:()=>s,wT:()=>i});var n=(e=>(e.COMMUNITY="community",e))(n||{});let i=2e3,a="DROPDOWN_TYPE_GENERIC_COMMENT_MENU",o="DROPDOWN_TYPE_COMMUNITY_PROFILE_MORE_ACTIONS_MENU";var l=(e=>(e.ALL_DISABLED="all_disabled",e.ENABLED="enabled",e))(l||{}),s=(e=>(e.REPORT="report",e.REPORT_AND_HIDE="report_and_hide",e))(s||{})},477782:(e,t,r)=>{"use strict";r.d(t,{Nu:()=>y,Tf:()=>S,Y6:()=>T,YC:()=>A,fA:()=>E,gB:()=>v,hi:()=>w,nb:()=>f,uy:()=>b});var n=r(935283),i=r(966712),a=r(38580),o=r(374626),l=r(499737),s=r(391388),c=r(67833),d=r(857766),u=r(99506),p=r(279453),m=r(378356),_=r(27703),h=r(132135),g=r(428467),f=(e=>(e.FILE="FILE",e.PROTOTYPE="PROTOTYPE",e.REPO="REPO",e.PINNED_FILE="PINNED_FILE",e.PROJECT="PROJECT",e.OFFLINE_FILE="OFFLINE_FILE",e))(f||{});function E(e){return{type:"FILE",file:e}}function y(e){return{type:"PROTOTYPE",prototype:e}}function b(e,t){return{type:"REPO",repo:e.repo,branches:e.files,selectedBranchKey:t[e.repo.id],accessed_at:e.timestamp}}function v(e){return{type:"OFFLINE_FILE",file:e}}let I=e=>{let t=(0,d.LH)(e.repo,e.branches,e.selectedBranchKey);return t?t:(e.repo.default_file_key?(0,d.LH)(e.repo,e.branches,e.repo.default_file_key):null)||e.branches[0]},T=(0,a.eU)(null);class S{static getId(e){switch(e.type){case"FILE":case"PINNED_FILE":return e.file.key;case"PROTOTYPE":return e.prototype.file_key+","+e.prototype.page_id+","+e.prototype.id;case"REPO":return e.repo.id;case"PROJECT":return e.folder.id;case"OFFLINE_FILE":return e.file.fileKey;default:(0,n.xb)(e)}}static sameObject(e,t){if(e.type!==t.type)return!1;switch(e.type){case"FILE":case"PINNED_FILE":return e.file.key===t.file.key;case"PROTOTYPE":return e.prototype.id===t.prototype.id;case"REPO":return e.repo.id===t.repo.id;case"PROJECT":return e.folder.id===t.folder.id;case"OFFLINE_FILE":return e.file.fileKey===t.file.fileKey;default:(0,n.xb)(e)}}static getName(e){switch(e.type){case"FILE":case"PINNED_FILE":case"OFFLINE_FILE":return e.file.name;case"PROTOTYPE":return e.prototype.fig_file.name+" - "+e.prototype.name;case"REPO":return(0,d.oj)(e.repo);case"PROJECT":return e.folder.name;default:(0,n.xb)(e)}}static getAccessedAt(e){switch(e.type){case"FILE":return e.file.accessed_at;case"PROTOTYPE":return e.prototype.accessed_at;case"REPO":return e.accessed_at;case"PINNED_FILE":case"PROJECT":return null;case"OFFLINE_FILE":return new Date(e.file.lastUpdatedAt).toISOString();default:(0,n.xb)(e)}}static getSharedAt(e){switch(e.type){case"FILE":return e.file.shared_at;case"PROTOTYPE":return e.prototype.shared_at;case"REPO":return e.repo.shared_at;case"PINNED_FILE":case"PROJECT":case"OFFLINE_FILE":return null;default:(0,n.xb)(e)}}static getCreatedAt(e){switch(e.type){case"FILE":return e.file.created_at;case"PINNED_FILE":return e.file.createdAt.toISOString();case"PROTOTYPE":return e.prototype.fig_file.created_at;case"REPO":return e.branches.reduce((e,t)=>e<t.created_at?e:t.created_at,e.repo.created_at);case"PROJECT":return e.folder.created_at;case"OFFLINE_FILE":return new Date(e.file.createdAt).toISOString();default:(0,n.xb)(e)}}static getTouchedAt(e){var t;switch(e.type){case"FILE":return e.file.touched_at??e.file.updated_at;case"REPO":return e.branches.reduce((e,t)=>null!==e&&e>t.touched_at?e:t.touched_at,null);case"PROTOTYPE":return e.prototype.accessed_at;case"PINNED_FILE":return null;case"PROJECT":return(null==(t=e.folder.folderLastUpdated)?void 0:t.toISOString())??null;case"OFFLINE_FILE":return new Date(e.file.lastUpdatedAt).toISOString();default:(0,n.xb)(e)}}static getTrashedAt(e){switch(e.type){case"FILE":return e.file.trashed_at;case"PROTOTYPE":return e.prototype.fig_file.trashed_at;case"REPO":return e.repo.trashed_at;case"PINNED_FILE":case"OFFLINE_FILE":return null;case"PROJECT":return e.folder.deleted_at;default:(0,n.xb)(e)}}static getTrashedUser(e){var t;switch(e.type){case"FILE":return{id:e.file.trashed_user_id,handle:null==(t=e.file.trashed_user)?void 0:t.handle};case"PROTOTYPE":case"REPO":case"PINNED_FILE":case"PROJECT":case"OFFLINE_FILE":return null;default:(0,n.xb)(e)}}static getIsFavorited(e){switch(e.type){case"FILE":return!!e.file.is_favorited;case"PROTOTYPE":return!!e.prototype.is_favorited;case"REPO":return!!e.repo.is_favorited;case"PINNED_FILE":case"OFFLINE_FILE":return!1;case"PROJECT":return!!e.folder.is_favorited;default:(0,n.xb)(e)}}static getFavoritedResourceType(e){switch(e.type){case"FILE":case"PINNED_FILE":case"REPO":case"OFFLINE_FILE":return u.bk.FILE;case"PROTOTYPE":return u.bk.PROTOTYPE;case"PROJECT":return u.bk.FOLDER;default:(0,n.xb)(e)}}static getFileKey(e){switch(e.type){case"FILE":case"PINNED_FILE":return e.file.key;case"PROTOTYPE":return e.prototype.file_key;case"REPO":return e.repo.default_file_key??void 0;case"PROJECT":case"OFFLINE_FILE":return;default:(0,n.xb)(e)}}static getFileIconType(e){switch(e.type){case"FILE":let t=e.file.editor_type;switch(t){case u._Y.DESIGN:case u._Y.SLIDES:case u._Y.SITES:case null:return c.y1.DESIGN;case u._Y.WHITEBOARD:return c.y1.WHITEBOARD;default:(0,n.xb)(t)}case"PINNED_FILE":switch(e.file.editorType){case u._Y.DESIGN:case u._Y.SLIDES:case u._Y.SITES:return c.y1.DESIGN;case u._Y.WHITEBOARD:return c.y1.WHITEBOARD;default:(0,n.xb)(e.file.editorType)}case"REPO":return c.y1.DESIGN;case"PROTOTYPE":return c.y1.PROTOTYPE;case"PROJECT":return;case"OFFLINE_FILE":{let t=e.file.editorType;switch(t){case u._Y.DESIGN:case u._Y.SLIDES:case u._Y.SITES:return c.y1.DESIGN;case u._Y.WHITEBOARD:return c.y1.WHITEBOARD;default:(0,n.xb)(t)}}default:(0,n.xb)(e)}}static getUrl(e,t){switch(e.type){case"FILE":return(0,h.to)(e.file);case"PINNED_FILE":return(0,h.jN)(e);case"PROTOTYPE":return e.prototype.url;case"REPO":let r=(0,d.mr)(e.repo,e.branches,t);return r?(0,d.CE)(r,e.repo,"file"):"";case"PROJECT":case"OFFLINE_FILE":return"";default:(0,n.xb)(e)}}static getEditUrl(e,t){switch(e.type){case"FILE":return(0,h.rl)(e.file);case"PINNED_FILE":return(0,h.jN)(e);case"PROTOTYPE":return e.prototype.url;case"REPO":let r=(0,d.mr)(e.repo,e.branches,t);return r?(0,h.rl)(r):"";case"PROJECT":case"OFFLINE_FILE":return"";default:(0,n.xb)(e)}}static getFavoriteResourceId(e){switch(e.type){case"FILE":case"PINNED_FILE":return e.file.key;case"PROTOTYPE":return e.prototype.id;case"REPO":return e.repo.default_file_key;case"PROJECT":return e.folder.id;case"OFFLINE_FILE":return e.file.fileKey;default:(0,n.xb)(e)}}static getIsTeamTemplate(e){switch(e.type){case"FILE":return e.file.is_team_template;case"PINNED_FILE":return e.file.isTeamTemplate;case"PROTOTYPE":case"REPO":case"PROJECT":case"OFFLINE_FILE":return!1;default:(0,n.xb)(e)}}static getOrgId(e){var t,r;switch(e.type){case"FILE":return(null==(t=e.file.parent_org)?void 0:t.id)??e.file.parent_org_id;case"PINNED_FILE":return null;case"PROTOTYPE":return e.prototype.fig_file.parent_org_id??e.prototype.fig_file.parent_org_id;case"REPO":return(null==(r=e.repo.parent_org)?void 0:r.id)??e.repo.parent_org_id;case"PROJECT":return e.folder.org_id;case"OFFLINE_FILE":return(0,i.kc)().file_browser_items_view?e.file.orgId:null;default:(0,n.xb)(e)}}static getFavoriteResourceTeamId(e){var t,r,n,i,a;switch(e.type){case"FILE":return(null==(t=e.file.parent_team)?void 0:t.id)??e.file.team_id;case"PINNED_FILE":default:return null;case"PROTOTYPE":return(null==(r=e.prototype.parent_team)?void 0:r.id)??(null==(n=e.prototype.fig_file)?void 0:n.team_id);case"REPO":return(null==(i=e.repo.parent_team)?void 0:i.id)??e.repo.team_id;case"PROJECT":return e.folder.team_id??(null==(a=e.folder.parent_team)?void 0:a.id)}}static getSharedBy(e){var t,r,i,a;switch(e.type){case"FILE":return(null==(t=e.file.shared_by_user)?void 0:t.id)??e.file.shared_by;case"PROTOTYPE":return(null==(r=e.prototype.shared_by_user)?void 0:r.id)??e.prototype.shared_by;case"REPO":return(null==(i=e.repo.shared_by_user)?void 0:i.id)??e.repo.shared_by;case"PROJECT":return(null==(a=e.folder.shared_by_user)?void 0:a.id)??e.folder.shared_by;case"PINNED_FILE":case"OFFLINE_FILE":return null;default:(0,n.xb)(e)}}static getSharedByName(e){var t,r,i,a;switch(e.type){case"FILE":return null==(t=e.file.shared_by_user)?void 0:t.name;case"PROTOTYPE":return null==(r=e.prototype.shared_by_user)?void 0:r.name;case"REPO":return null==(i=e.repo.shared_by_user)?void 0:i.name;case"PROJECT":return null==(a=e.folder.shared_by_user)?void 0:a.name;case"PINNED_FILE":return(0,n.KF)(!0,"Cannot get shared by name from a pinned file"),null;case"OFFLINE_FILE":return(0,n.KF)(!0,"Cannot get shared by name from an offline file"),null;default:(0,n.xb)(e)}}static getOwner(e){switch(e.type){case"FILE":return e.file.owner;case"PINNED_FILE":case"PROTOTYPE":case"REPO":case"PROJECT":case"OFFLINE_FILE":(0,n.KF)(!0,"Did not expect to render owner for non-file tiles");return;default:(0,n.xb)(e)}}static useIsRenaming(e){let t=(0,o.md)(T);return S.isRenaming(e,t)}static isRenaming(e,t){if(!t)return!1;switch(e.type){case"FILE":return"FILE"===t.type&&t.id===e.file.key;case"OFFLINE_FILE":return"FILE"===t.type&&t.id===e.file.fileKey;case"REPO":return"REPO"===t.type&&t.id===e.repo.id;case"PROJECT":case"PINNED_FILE":case"PROTOTYPE":return!1;default:(0,n.xb)(e)}}static getIsPasswordProtected(e){switch(e.type){case"FILE":return(0,_.i4)(e.file);case"REPO":return(0,d.yR)(e.repo);case"PROJECT":return(0,n.KF)(!0,"Did not expect to check ownership for non-file tiles"),!1;case"PROTOTYPE":return(0,_.Uj)(e.prototype.fig_file)||(0,_.i4)(e.prototype.fig_file);case"PINNED_FILE":return(0,_.i4)({has_file_link_password:e.file.hasFileLinkPassword,link_access:e.file.linkAccess});case"OFFLINE_FILE":return!1;default:(0,n.xb)(e)}}static getHasViewAccess(e,t){switch(e.type){case"FILE":case"PINNED_FILE":return(0,g.canViewResource)(u.vt.FILE,e.file.key,t);case"REPO":return(0,g.canViewResource)(u.vt.FILE_REPO,e.repo.id,t);case"PROJECT":return(0,g.canViewResource)(u.vt.FOLDER,e.folder.id,t);case"PROTOTYPE":return(0,g.canViewPrototypes)(e.prototype.file_key,t);case"OFFLINE_FILE":return!0;default:(0,n.xb)(e)}}static getFolderId(e){switch(e.type){case"FILE":return e.file.folder_id;case"REPO":return e.repo.folder_id;case"PROJECT":return(0,n.KF)(!0,"Did not expect to check folder ID for a folder"),null;case"PROTOTYPE":return e.prototype.fig_file.folder_id;case"PINNED_FILE":return e.file.folderId;case"OFFLINE_FILE":return null;default:(0,n.xb)(e)}}static getThumbnailUrl(e){switch(e.type){case"FILE":return e.file.thumbnail_url_override??e.file.thumbnail_url;case"REPO":let t=I(e);return t?t.thumbnail_url_override??t.thumbnail_url:null;case"PROJECT":return(0,n.KF)(!0,"Did not expect to check folder ID for a folder"),null;case"PROTOTYPE":return e.prototype.thumbnail_url;case"PINNED_FILE":return e.file.thumbnailUrlOverride??e.file.thumbnailUrl;case"OFFLINE_FILE":return null;default:(0,n.xb)(e)}}static getIsThumbnailFullWidth(e){switch(e.type){case"FILE":return!!e.file.thumbnail_guid;case"REPO":let t=I(e);return t?t.thumbnail_guid:null;case"PROJECT":return(0,n.KF)(!0,"Did not expect to check folder ID for a folder"),null;case"PROTOTYPE":return!0;case"PINNED_FILE":return!!e.file.thumbnailGuid;case"OFFLINE_FILE":return null;default:(0,n.xb)(e)}}static getEditorType(e){switch(e.type){case"FILE":return e.file.editor_type;case"REPO":return u._Y.DESIGN;case"PROJECT":return(0,n.KF)(!0,"Did not expect to check editor type for a folder"),null;case"PROTOTYPE":return null;case"PINNED_FILE":case"OFFLINE_FILE":return e.file.editorType;default:(0,n.xb)(e)}}static getClientMeta(e){switch(e.type){case"FILE":return e.file.client_meta;case"REPO":let t=I(e);return t?t.client_meta:null;case"PROJECT":return(0,n.KF)(!0,"Did not expect to check client meta for a folder"),null;case"PROTOTYPE":case"OFFLINE_FILE":return null;case"PINNED_FILE":return e.file.clientMeta;default:(0,n.xb)(e)}}static getCanEdit(e){var t;switch(e.type){case"FILE":return(null==(t=e.filePerms)?void 0:t.canEdit)??null;case"REPO":let r=I(e);return r&&e.repoPerms?e.repoPerms.canEditBranch(r.key):null;case"PROJECT":return(0,n.KF)(!0,"Did not expect to check canEdit for a folder"),null;case"PROTOTYPE":case"PINNED_FILE":return null;case"OFFLINE_FILE":return!0;default:(0,n.xb)(e)}}}let w=(0,o.Iz)(e=>(0,a.eU)(t=>"FILE"===e.type||"PINNED_FILE"===e.type?t((0,p.sMs)({key:e.file.key})).transform(e=>{var t;return!!(null==(t=e.file)?void 0:t.hasPermission)}):"REPO"===e.type?t((0,p.cfd)({repoId:e.repo.id})).transform(e=>{var t;return!!(null==(t=(0,l.oA)(e.repo))?void 0:t.canView)}):"PROJECT"===e.type?t((0,p.rH3)({projectId:e.folder.id})).transform(e=>{var t;return!!(null==(t=(0,l.oA)(e.project))?void 0:t.canRead)}):"PROTOTYPE"===e.type?t((0,p.eSI)({prototypeId:e.prototype.id})).transform(e=>{var t;return!!(null==(t=(0,l.oA)(e.prototype))?void 0:t.canRead)}):"OFFLINE_FILE"===e.type?s.Qw.loaded(!0):void(0,n.xb)(e)),S.sameObject),A={FILE:m.F.FILES,PROTOTYPE:m.F.PROTOTYPES,REPO:m.F.REPOS,PINNED_FILE:m.F.PINNED_FILES,PROJECT:m.F.PROJECTS,OFFLINE_FILE:m.F.OFFLINE_FILES}},813648:(e,t,r)=>{"use strict";r.d(t,{J$:()=>T,LR:()=>I,_i:()=>w,gR:()=>y,kg:()=>S,ts:()=>v,zo:()=>b});var n=r(411855),i=r(109388),a=r(188507),o=r(91408),l=r(297666),s=r(895235),c=r(572206),d=r(727749),u=r(902139),p=r(809511),m=r(231472),_=r(491815),h=r(697551),g=r(501972),f=r(852800),E=r(860168);let y=480,b=616;function v(e,t=552,r=320){let[i,a]=n.useState(),[s,d]=n.useState(),[u,p]=n.useState(!1);return n.useLayoutEffect(()=>{let n=()=>{let n,i;switch(e.kind){case"mountCenter":n=window.innerWidth/2,i=window.innerHeight/2;break;case"buttonTarget":let l=(0,g.Tc)(e.buttonTarget);if(!l)return;let s=l.getBoundingClientRect();n=s.x+s.width/2,i=s.y;break;case"sourceRect":n=e.sourceRect.x+e.sourceRect.width/2,i=e.sourceRect.y}let d=n-r/2,m=i-t-12;window.innerWidth-d<r?(u||p(!0),d=window.innerWidth-r-_.wR):u&&p(!1),m=Math.max((0,o.hG)(E.tui)+_.wR,m),a(new c.Mi(d,m))};setTimeout(n,0);let i=(0,l.s)(n,100);return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[e,t,r,u]),{initialModalPosition:i,modalPosition:s,setModalPosition:d,modalWasClippedByRightSide:u}}function I(){let e=(0,a.wA)();return n.useCallback(()=>{f.glU&&f.glU.triggerAction("set-tool-default",null),e(u.KE())},[e])}function T(e,t,r){let o=(0,a.d4)(e=>e.mirror.appModel.currentTool===p.NLJ.CODE_BLOCK),l=(0,a.d4)(e=>e.modalShown),c=(0,a.d4)(e=>e.mirror.appModel.showUi),d=I(),u=n.useCallback(()=>{!o&&(l||d())},[o,l,d]);n.useEffect(()=>{let n=n=>{var a;if(!e||(0,s.NX)(n.target,"data-does-not-dismiss-modal"))return;let o=i.findDOMNode(null==(a=t.current)?void 0:a.getEl());if(!o)return;let l=o.contains(n.target);if(c||l||u(),!r){u();return}let d=document.querySelector(r);if(!d)return;let p=d.contains(n.target);l||p||u()};return document.addEventListener("pointerdown",n),()=>{document.removeEventListener("pointerdown",n)}},[r,u,e,t,c])}function S(e){return e.mirror.appModel.currentTool===p.NLJ.NONE&&e.universalInsertModal.showing&&e.universalInsertModal.pinned===m.t.NOT_PINNED}function w(e,t,r,i){let o=(0,a.wA)(),l=(0,a.d4)(e=>{var t;return(0,h.T9)({authedProfilesById:e.authedProfilesById,userId:null==(t=e.user)?void 0:t.id})});return{unsave:n.useCallback(r=>{e&&o((0,d.s1)({id:e,resourceType:t,communityProfile:l||void 0,hideSuccessVisualBell:r,source:d.uR.INSERTS_MODAL,optimisticData:{pluginInstallId:i}}))},[e,o,t,l,i]),save:n.useCallback((n,i)=>{e&&o((0,d.d6)({id:e,resourceType:t,communityProfile:l||void 0,onSuccess:n,hideSuccessVisualBell:i,source:d.uR.INSERTS_MODAL,optimisticData:{resource:r}}))},[e,o,t,l,r])}}},798184:(e,t,r)=>{"use strict";r.d(t,{J:()=>s,O:()=>l});var n=r(188507),i=r(586459),a=r(445092),o=r(967409);function l(){return(0,n.d4)(e=>""!==e.desktopNewTab.searchQuery&&e.desktopNewTab.isSearchBarFocused)}function s(){var e;let t=(0,n.d4)(e=>e.search),r=(0,n.d4)(e=>e.search.parameters),l=a.$P.loadingKeyForPayload({parameters:r}),s=(0,n.d4)(e=>e.loadingState[l]),c=(0,n.d4)(e=>e.desktopNewTab.searchQuery),d=t.completedQueries[o.uH.FILES];return{isLoading:s===i.r.LOADING||c!==d,searchResults:((null==(e=t.responses.files)?void 0:e.results)??[]).slice(0,5)}}},570809:(e,t,r)=>{"use strict";r.d(t,{M:()=>l});var n=r(989626),i=r(499737),a=r(279453),o=r(335682);function l(){var e,t,r,l,s,c,d,u,p;let m=(0,o.tS)()??"",_=(0,i.Rs)(a.D2i,{key:m}),h=(0,i.Rs)(a.XGw,{key:m});if("loaded"!==_.status||"loaded"!==h.status||!(null==(e=(0,i.oA)(_.data.file))?void 0:e.hasPermission))return null;let g=(0,i.oA)(h.data.file),f=(null==(r=null==(t=null==g?void 0:g.currentBaseOrgUser)?void 0:t.devModeAccountTypeRequest)?void 0:r.createdAt)??(null==(s=null==(l=null==g?void 0:g.currentTeamUser)?void 0:l.designAccountTypeRequest)?void 0:s.createdAt);if(!f)return null;let E=(null==(d=null==(c=null==g?void 0:g.currentBaseOrgUser)?void 0:c.devModeAccountTypeRequest)?void 0:d.gracePeriodExpireAt)??(null==(p=null==(u=null==g?void 0:g.currentTeamUser)?void 0:u.designAccountTypeRequest)?void 0:p.gracePeriodExpireAt)??new Date(f.valueOf()+864e5*n.Hw9);return{totalGraceDays:Math.round((E.valueOf()-f.valueOf())/864e5),remainingGraceDays:Math.max(Math.ceil((E.valueOf()-Date.now())/864e5),1)}}},887811:(e,t,r)=>{"use strict";r.d(t,{NV:()=>l,Qk:()=>s,sh:()=>d,vD:()=>c}),r(411855);var n=r(939863),i=r(384162);r(140908);var a=r(555328),o=r(479296);let l=new Set(["PM","ENG","DES","MKT","UR"]),s=(e,t)=>e?i.Dw.loadingKeyForPayload({shelfType:a.cS.FILE_BROWSER_RECOMMENDED_TEMPLATES,filterLabel:t}):i.sz.loadingKeyForPayload({shelfType:a.cS.FILE_BROWSER_RECOMMENDED_TEMPLATES}),c=(0,o.n)(e=>(function(e){if(!e)return"OTH";let t={"software-development":"ENG","user-research":"UR",design:"DES",marketing:"MKT","product-management":"PM",other:"OTH"};if(e in t)return t[e];let r={"project-manager":"PM",designer:"DES",developer:"ENG",marketer:"MKT","product-manager":"PM",consultant:"OTH",sales:"MKT","ux-researcher":"UR",student:"OTH",educator:"OTH"};return e in r?r[e]:e.endsWith("-developer")?"ENG":e.endsWith("-designer")?"DES":e.includes("Eng")||e.includes("Dev")?"ENG":e.includes("Des")?"DES":e.includes("Lead")||e.includes("Man")?"PM":"OTH"})(function(e){var t;return null==(t=null==e?void 0:e.profile)?void 0:t.job_title}(e)??"OTH"));function d(e){if(!e||!l.has(e))return[null,null];switch(e){case"PM":return[(0,n.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_pm"),(0,n.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_pm_badge")];case"ENG":return[(0,n.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_eng"),(0,n.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_eng_badge")];case"DES":return[(0,n.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_des"),(0,n.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_des_badge")];case"MKT":return[(0,n.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_mkt"),(0,n.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_mkt_badge")];case"UR":return[(0,n.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_ur"),(0,n.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_ur_badge")];default:return[null,null]}}},29680:(e,t,r)=>{"use strict";r.d(t,{B9:()=>y,KH:()=>p,T3:()=>u,aV:()=>g,ax:()=>m,dH:()=>h,eY:()=>d,f4:()=>_,p8:()=>f,q0:()=>E});var n=r(411855),i=r(188507),a=r(951158),o=r(408405),l=r(341860);let s=e=>{var t;return null==(t=null==e?void 0:e.mirror)?void 0:t.sceneGraph},c=()=>(0,i.Pj)();function d(){return(0,i.d4)(s)}function u(){return n.useMemo(()=>new l.qo(l.ju.PLAYGROUND),[])}let p=()=>(0,i.d4)(e=>e.mirror.sceneGraphSelection);function m(){return!(0,i.d4)(e=>(0,a.Im)(e.mirror.sceneGraphSelection))}function _(e){let t=c(),r=p(),i=(0,n.useRef)();i.current=()=>{e(t.getState())},(0,n.useEffect)(()=>{i.current()},[r])}function h(){return(0,i.d4)(e=>{var t,r;return null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool})}function g(){return(0,i.d4)(e=>{var t;return(0,o.T)(null==(t=null==e?void 0:e.progressBarState)?void 0:t.mode)})}function f(e){return(0,i.d4)(t=>t.mirror.appModel[e])}let E=(0,n.createContext)(null);function y(){let e=(0,i.d4)(e=>e.mirror.sceneGraph);return(0,n.useContext)(E)||e}},678340:(e,t,r)=>{"use strict";r.d(t,{IJ:()=>h,Mk:()=>y,Wy:()=>m,Zz:()=>v,im:()=>p,pl:()=>d,pr:()=>b,rq:()=>_,xk:()=>u});var n=r(411855),i=r(188507),a=r(38580),o=r(374626),l=r(852800),s=r(860707),c=r(447402);let d=75,u=60,p=90;var m=(e=>(e[e.SAFE=0]="SAFE",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR",e[e.OOM=3]="OOM",e))(m||{});function _(e){}function h(){let e=100*((0,s.Yc)()/l.hMR.getHeapMemoryLimit());return{memoryUsedPercent:e=Math.round(100*(e=Math.max(0,e=Math.min(100,e)))+Number.EPSILON)/100,usingTestMemory:!1}}let g=(0,a.eU)(0),f=(0,a.eU)(0),E=(0,a.eU)(!1);function y(){let e=(0,i.d4)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===c.Lu}),[t,r]=(0,o.fp)(g),[a,s]=(0,n.useState)(!1),{memoryUsedPercent:p,usingTestMemory:m}=((0,i.d4)(e=>e.mirror),h()),[_,y]=(0,o.fp)(f),[b,v]=(0,o.fp)(E);return(0,n.useEffect)(()=>{let n;let i=e?3:(n=t,0===t?p>=d?n=2:p>=u&&(n=1):1===t?p>=d?n=2:p<u&&(n=0):2===t&&p<d&&(n=p<u?0:1),n);t!==i&&(y(t),r(i),v(!1),i>0&&l.Ez5.uiState().showInFileMemoryPercentage.set(!0)),_&&_>0&&(0===i&&l.Ez5.uiState().showInFileMemoryPercentage.set(!1),s(!0))},[t,p,e,_,v,r,y]),{warningLevel:t,memoryUsedPercent:p,usingTestMemory:m,previousWarningLevelUnsafe:a,previousWarningLevel:_,warningTracked:b,setWarningTracked:v}}function b(e,t,r){let n=(0,s.Yc)()/t*e*100/l.hMR.getHeapMemoryLimit();return r?n>=.1?`${n.toFixed(1)}%`:"--":n>=10?`${n.toFixed(1)}%`:`${n.toFixed(2)}%`}function v(){let e=l.Hcu.getSubtreeMemoryUsage("0:2");return(0,s.Yc)()/l.Hcu.getSubtreeMemoryUsage("0:0")*e*100/l.hMR.getHeapMemoryLimit()}},479118:(e,t,r)=>{"use strict";r.d(t,{Fy:()=>b,QR:()=>g,VI:()=>y,_Z:()=>h,lH:()=>E,v9:()=>f});var n=r(411855),i=r(188507),a=r(38580),o=r(374626),l=r(428654),s=r(168039),c=r(848661),d=r(809511),u=r(554294),p=r(341860),m=r(100197),_=r(776615);function h(){var e;return f({selectedView:(0,i.d4)(e=>e.selectedView),isLoadingVersionHistory:null==(e=(0,i.d4)(e=>e.versionHistory))?void 0:e.isLoadingPage,theme:(0,s.DP)()})}let g=(0,a.eU)(!1);function f({selectedView:e,isLoadingVersionHistory:t,theme:r}){var i;let a=(null==e?void 0:e.view)==="prototype",s=a?null:p.qo.instance.getCurrentPage(),h=n.useMemo(()=>null==s?void 0:s.backgroundColor,[s]),f=!!(0,m.J2)(null==(i=d.Ez5)?void 0:i.currentPageState().requestedPageChange),E=(0,o.md)(u.s6),y=(0,o.md)(u.rp),b=(0,o.md)(g),v=(0,o.md)(u.nc);return n.useMemo(()=>{let e;if(a)return{isLoading:!1};let n=(0,c.E7)(h);return(e=null!==n?l.F.format(n):r&&"dark"===(0,_.i_)(r)?"rgba(30, 30, 30, 1)":"rgba(229, 229, 229, 1)",null!=n?(n.a=.7,e=l.F.format(n)):e="rgba(229, 229, 229, 0.1)",E)?{background:e,isLoading:!1}:{background:e,isLoading:!!t||f||v||y||b,isLoadingMissingFonts:b}},[a,h,r,E,t,f,v,y,b])}function E(e){return e.some(e=>e.status!==d.xal.LOADED)}function y(e){return e.every(e=>e.status===d.xal.LOADED)}function b(e,t){for(let r of e)if(r.nodeId===t)return r.status;return null}},669178:(e,t,r)=>{"use strict";r.d(t,{Dq:()=>y,XS:()=>E,g5:()=>f});var n=r(411855),i=r(188507),a=r(358145),o=r(966712),l=r(499737),s=r(395281),c=r(632430),d=r(298527),u=r(279453),p=r(173454),m=r(372291),_=r(416095),h=r(335682),g=r(694687);function f(e){let t=(0,i.d4)(e=>e.library),r=(0,m.Lm)(),a=(0,i.d4)(e=>e.recentlyUsed.libraryItems);return(0,n.useMemo)(()=>{let n=[],i=[];for(let l of a[e])if(l.type===p.PW.COMPONENT||l.type===p.PW.STATE_GROUP){let e=function(e,t){var r,n,i,a,o,l,s,c;return e.type===p.PW.COMPONENT?(null==(n=null==(r=t.published.components[e.team_id])?void 0:r[e.file_key])?void 0:n[e.node_id])||(null==(a=null==(i=t.defaultPublished.components[e.team_id])?void 0:i[e.file_key])?void 0:a[e.node_id]):e.type===p.PW.STATE_GROUP?(null==(l=null==(o=t.published.stateGroups[e.team_id])?void 0:o[e.file_key])?void 0:l[e.node_id])||(null==(c=null==(s=t.defaultPublished.stateGroups[e.team_id])?void 0:s[e.file_key])?void 0:c[e.node_id]):void 0}(l,t);e&&n.push(e)}else if(l.type===p.PW.MODULE&&(0,o.kc)().dse_editor_templates_v1&&r.data){let e=function(e,t){var r;return null==(r=t[e.file_key])?void 0:r.find(t=>t.node_id===e.node_id)}(l,r.data);e&&i.push(e)}return{productComponents:n,templates:i}},[a,e,t,r])}function E(){let e=(0,i.wA)(),t=(0,h.tS)(),r=(0,_.LH)(),o=(0,d.n1)(),p=!!t&&!!r,m=(0,i.Pj)(),g=(0,l.Rs)(u.MWb,{fileKey:t},{enabled:p});(0,n.useEffect)(()=>{var r,n,i,a;if(t&&"loaded"===g.status&&p){let t=((null==(a=null==(i=null==(n=null==(r=g.data)?void 0:r.file)?void 0:n.team)?void 0:i.workspace)?void 0:a.librarySubscriptions)||[]).map(c.YD),l=(0,c.g1)(t,{ignoreCommunitySubs:!o});e(s.ve({subscriptions:l}))}},[e,t,o,g,p]);let f=(0,a.ZC)(g);(0,n.useEffect)(()=>{var e,t,r,n,i,a,o,l;if(!(null==f?void 0:f.data)||!g.data)return;let s=(null==(n=null==(r=null==(t=null==(e=g.data)?void 0:e.file)?void 0:t.team)?void 0:r.workspace)?void 0:n.librarySubscriptions)||[],d=(null==(l=null==(o=null==(a=null==(i=f.data)?void 0:i.file)?void 0:a.team)?void 0:o.workspace)?void 0:l.librarySubscriptions)||[];(0,c.eB)(m,d,s)},[m,g,f])}function y(e){let t=(0,i.wA)(),r=(0,g.dq)(),a=!!e&&!!r,o=(0,d.n1)(),p=(0,l.Rs)(u.X9s,{teamId:e},{enabled:a});(0,n.useEffect)(()=>{var e,r,n;if("loaded"===p.status&&a){let i=((null==(n=null==(r=null==(e=p.data)?void 0:e.team)?void 0:r.workspace)?void 0:n.librarySubscriptions)||[]).map(c.YD),a=(0,c.g1)(i,{ignoreCommunitySubs:!o});t(s.ve({subscriptions:a}))}},[t,o,p,a])}},737499:(e,t,r)=>{"use strict";r.d(t,{BI:()=>p,Ef:()=>s,F4:()=>m,HS:()=>E,Jj:()=>o,Jp:()=>d,Kx:()=>h,Rf:()=>i,Yi:()=>S,e8:()=>v,h4:()=>g,kM:()=>y,kd:()=>a,m0:()=>I,pI:()=>f,pt:()=>T,rN:()=>c,sc:()=>l,se:()=>u,wK:()=>_,yx:()=>b});var n=r(563706);function i(){return window.FigmaMobile}function a(){return i()}function o(){return window.FigmaMobile}function l(){return o()}function s(){return window.FigmaMobile}function c(){return window.FigmaMobile}function d(){return window.FigmaMobile}function u(){return window.FigmaMobile}function p(){return window.FigmaMobile}function m(){return window.FigmaMobile}function _(){return window.FigmaMobile}function h(){return m()}function g(){return window.FigmaMobile}function f(){return window.FigmaMobile}function E(){return window.FigmaMobile}function y(){return window.FigmaMobile}function b(){return window.FigmaMobile}function v(){return window.FigmaMobile}function I(){return window.FigmaMobile}function T(){return window.FigmaMobile}function S(e){let t=window.FigmaMobile;return"prototype"===e.view?n.Ay.isMobileBrowser&&!e.commentsEnabled:"fullscreen"===e.view&&!!(null==t?void 0:t.shouldOptimizeForIpadApp)&&!e.commentsEnabled}},770333:(e,t,r)=>{"use strict";r.d(t,{T$:()=>o,WC:()=>s,wi:()=>l});var n=r(188507),i=r(646240),a=r(385326);function o(){return(0,n.d4)(e=>"WHEEL"===e.multiplayerEmoji.type)}function l(){return(0,n.d4)(e=>e.universalInsertModal.showing)}function s(){let e=!!(0,i.md)(a.D),t=(0,n.d4)(e=>!!e.modalShown),r=(0,n.d4)(e=>e.exportSettingsPickerShown.isShown);return e||t||r}},85098:(e,t,r)=>{"use strict";r.d(t,{A8:()=>p,AD:()=>g,D4:()=>h,Q2:()=>u,Wq:()=>_,Yp:()=>y,_i:()=>E,pl:()=>m,uC:()=>b});var n=r(411855),i=r(188507),a=r(358145),o=r(966712),l=r(572174),s=r(506599),c=r(226055),d=r(335682);let u=4,p=8,m=22;function _(e){let t=(0,c.GS)(),r=h(),n=function(e){let{isPropertiesPanelCollapsed:t}=(0,s.i)();return!e||t?3:Math.max(3,Math.min(Math.floor(e/m),p))}(e);return t?n:r}function h(){let[e,t]=n.useState(u);return n.useEffect(()=>{let e=()=>{window.innerWidth<786?t(2):t(u)};return window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}},[]),e}function g(e){return"sessionID"in e}let f=e=>{let{user:t,sessionID:r,presenterSessionID:n,lastObservedSessionID:i,fileCreatorID:a,mostActiveSpeakerID:l,observingSessionID:s}=e;return g(t)&&t.sessionID===r?0:g(t)&&n&&t.sessionID===n?1:g(t)&&s&&t.sessionID===s?2:(0,o.kc)().live_feedback_large_meetings&&g(t)&&i&&t.sessionID===i?3:g(t)&&t.userID===a?4:t.userID===l?5:t.name.toLocaleLowerCase().startsWith("anonymous")?Number.MAX_SAFE_INTEGER:6};function E(e,t){let r=e;return t&&(r=r.filter(e=>g(e)&&e.deviceName===t)),r=r.filter(e=>!g(e)||"editor"!==e.deviceName||void 0===e.sawMouse||!0===e.sawMouse)}function y(e,t,r,n,i){let{deviceNameFilter:a}=i,o=[],l=[...e];return l&&0!==l.length?(l.sort((e,t)=>{let r=f({...i,user:e})-f({...i,user:t});if(0!==r)return r;let n=e.name.toLocaleLowerCase(),a=t.name.toLocaleLowerCase();return g(e)&&g(t)&&n===a?e.sessionID-t.sessionID:n>a?1:-1}),(l=E(l,a)).length>=n&&(o=l.slice(n-1),l=l.slice(0,n-1)),{users:l,overflowUsers:o}):t&&!r?{users:[t],overflowUsers:[]}:{users:[],overflowUsers:[]}}function b(e,t,r,o,s){let c=(0,i.d4)(e=>e.multiplayer.sessionID),u=(0,i.d4)(e=>e.multiplayer.observingSessionID),p=(0,i.d4)(e=>e.multiplayer.presenterSessionID),m=(0,i.d4)(e=>e.multiplayer.deviceNameFilter),_=(0,d.q5)(),[h,g]=n.useState(null),f=(0,a.ZC)(u);f!==u&&(0,l.Vq)(f)&&-1!==f&&f!==h&&g(f);let E=n.useMemo(()=>({sessionID:c,observingSessionID:u,presenterSessionID:p,lastObservedSessionID:h,mostActiveSpeakerID:s,fileCreatorID:null==_?void 0:_.creatorId,deviceNameFilter:m}),[c,u,p,h,s,null==_?void 0:_.creatorId,m]),{users:b,overflowUsers:v}=n.useMemo(()=>y(e,t,r,o,E),[e,t,r,o,E]);return{users:b,overflowUsers:v}}},335682:(e,t,r)=>{"use strict";r.d(t,{As:()=>h,Cq:()=>C,Hu:()=>_,OG:()=>A,Te:()=>T,XJ:()=>y,_S:()=>b,bv:()=>N,q5:()=>I,sS:()=>f,tB:()=>p,tS:()=>S,uL:()=>w,vu:()=>v,yM:()=>g,yV:()=>m,ze:()=>E});var n=r(188507),i=r(794272),a=r(38580),o=r(288706),l=r(945020),s=r(173454),c=r(479296),d=r(529928),u=r(693223);function p(e){return e.openFile}let m=(0,d.bt)(p),_=(0,a.eU)(e=>{let t=e(m),r=e(u.m);return(null==t?void 0:t.teamId)?r[t.teamId]??null:null}),h=(0,o.mg)(m,e=>(null==e?void 0:e.teamId)??void 0),g=(0,o.mg)(m,e=>{var t;return(null==(t=null==e?void 0:e.team)?void 0:t.workspaceId)??void 0});function f(e){var t;return(null==(t=e.openFile)?void 0:t.key)||null}let E=(0,d.bt)(f);function y(e){return e.openFile?s.Co:null}let b=(0,d.bt)(y);function v(e){var t;return(null==(t=e.openFile)?void 0:t.key)&&e.fileByKey[e.openFile.key]||null}function I(){return(0,n.d4)(p)}function T(){let e=I();return(null==e?void 0:e.editorType)==="design"}let S=(0,c.D)(()=>{var e;return(null==(e=I())?void 0:e.key)||null});function w(){let e=I();return((null==e?void 0:e.sourceFileKey)??(null==e?void 0:e.key))||null}function A(){let e=I();return(null==e?void 0:e.editorType)==="slides"}function C(e){return N((0,i.R)(e=>({openFile:e.openFile,fileByKey:e.fileByKey})),e)}function N(e,t){let r=v(e);return(null==t?void 0:t.useSinatraType)?r:r?(0,l.UE)(r):null}},594901:(e,t,r)=>{"use strict";r.d(t,{AF:()=>l,FC:()=>o,Xx:()=>d,b0:()=>p,gj:()=>u,h:()=>s,sj:()=>c});var n=r(188507),i=r(428467),a=r(147206);function o(){return(0,n.d4)(i.getPermissionsState,n.bN)}function l(){return(0,n.d4)(e=>(0,a.Pq)({copyExportRestrictedArgs:e.openFile}))}function s(){return(0,n.d4)(e=>!!e.openFile&&(0,a.Pe)(e.openFile))}function c(e){let t=o();return(0,i.isFileFigjamDisabled)(e,t)}function d(e){let t=o();return(0,i.isFigJamDisabledForOrg)(e,t)}function u(e,t){let r=o();return(0,i.canCreateFile)(e,r,t)}function p(e,t){let r=o();return(0,i.canCreateFileOrRequestUpgradeLG)(e,r,t)}},754209:(e,t,r)=>{"use strict";r.d(t,{$0:()=>D,By:()=>B,D_:()=>w,HG:()=>U,KP:()=>R,Lt:()=>C,Pi:()=>F,VA:()=>x,Ww:()=>k,_E:()=>P,c3:()=>A,dR:()=>M,oW:()=>L,y:()=>H});var n=r(411855),i=r(188507),a=r(935283),o=r(358145),l=r(374626),s=r(572174),c=r(563706),d=r(489604),u=r(30637),p=r(175515),m=r(939863),_=r(392592),h=r(964881),g=r(980820),f=r(293017),E=r(852800),y=r(843495),b=r(460289),v=r(372174),I=r(611978),T=r(396462);let S=(0,u.nl)()?0:6e3;var w=(e=>(e.INITIAL="initial",e.NEXT="next",e))(w||{});let A=(0,g.nF)((e,t)=>{let r=e.getState().multiplayer.allUsers.find(e=>e.sessionID===t.presenterSessionID),n=(null==r?void 0:r.name)??"",i=r?(0,m.t)("collaboration.spotlight.visual_bell.user_left_the_spotlight",{userName:n}):(0,m.t)("collaboration.spotlight.visual_bell.the_presenter_left_the_spotlight");e.dispatch(_.F.enqueue({message:i,type:"presentation_stopped_alert"}))}),C=(0,g.nF)((e,t)=>{e.dispatch(_.F.dequeue({matchType:"presentation_stopped_alert"}))}),N=(e,t,r,n)=>{let i=(0,s.Vq)(t)&&e!==t,a=r===t,o=n===t;return i&&!a&&!o};function O(){let e=(0,I.z3)(),t=(0,i.wA)(),r=(0,i.d4)(e=>e.multiplayer),a=n.useCallback(e=>{t(f.J4({...r,observingSessionID:e}))},[r,t]),o=n.useCallback(e=>{E.h3O.observeUser(e)},[]);return"prototype"===e?a:o}function L(e){let{multiplayer:{observingSessionID:t,presenterSessionID:r,sessionID:c}}=e,u=(0,i.wA)(),p=(0,I.z3)(),m=(0,l.md)(d.Dv),[_,h]=n.useState("initial"),g=(0,o.ZC)(r),f=t===r,E=c===r||m,b=N(g,r,t,c),[v,w]=n.useState(null),L=O(),R=n.useCallback(()=>{(0,s.Vq)(r)&&("prototype"!==p&&(0,y.wr)(),L(r))},[r,L,p]),P=n.useCallback(()=>{R(),r&&w(r)},[r,R]);v===t&&w(null);let{isActive:k,start:D,cancel:M,complete:x}=(0,T.Z)(P),F=n.useCallback(()=>{M(),w(null)},[M]),U=b&&t===g,B=b&&!U,H=(0,s.uy)(r)&&(0,s.Vq)(g)&&t===g;k&&E&&F(),n.useEffect(()=>{U&&(u(C()),D(2e3),h("next"))},[u,U,D]),n.useEffect(()=>{B&&(u(C()),D(S),h("initial"))},[u,B,D]),n.useEffect(()=>{H&&(L(-1),F(),u(A({presenterSessionID:g})))},[F,u,g,H,e.multiplayer,L]),n.useEffect(()=>{k&&f&&F()},[f,F,k]);let V=(()=>{switch(_){case"next":return 2e3;case"initial":return S;default:(0,a.xb)(_)}})();return{isAutoFollowPending:!E&&(B||U||k||null!=v),cancelAutoFollowCallback:F,completeAutoFollowCallback:x,observeCurrentPresenter:R,autoFollowType:_,autoFollowDelayMs:V}}function R(){return(0,i.d4)(({multiplayer:{sessionID:e}})=>e)}function P(){return(0,i.d4)(({multiplayer:{observingSessionID:e}})=>e)}function k(){let e=(0,i.d4)(e=>e.multiplayer);return e.allUsers.find(t=>t.sessionID===e.sessionID)??null}function D(){let e=(0,i.d4)(e=>e.multiplayer);return e.allUsers.find(t=>t.sessionID===e.observingSessionID)??null}function M(){let e=(0,i.d4)(e=>e.multiplayer);return e.allUsers.find(t=>t.sessionID===e.presenterSessionID)??null}function x({multiplayer:e}){let t=function(){let e=U(),t=(0,b.XM)(),r=(0,h.hA)(),n=(0,h.l7)();return!!e&&!t&&!r&&!n}(),r=e.presenterSessionID===e.sessionID,i=(0,I.z3)(),a=n.useCallback(()=>{var e;"prototype"===i?null==(e=(0,p.hk)())||e.stopPresenting():E.h3O.stopPresenting()},[i]);n.useEffect(()=>{!t&&r&&a()},[t,r,a])}function F({multiplayer:e}){let t=O(),r=!B(),i=-1!==e.observingSessionID;n.useEffect(()=>{!r&&i&&t(-1)},[r,i,t])}function U(){var e;return!((0,c.o4)()&&(0,c.Q1)()&&!(0,c.wg)()||(null==(e=v.z4)?void 0:e.getIsExtension()))}function B(){let e=(0,b.XM)(),t=(0,b.e2)(),r=(0,h.hA)(),n=(0,h.l7)();return!!e||!!t||!!r||!!n}function H(){let e=(0,i.d4)(e=>e.multiplayer),t=e.sessionsNominatingCurrentUser[0];return t?e.allUsers.find(e=>e.sessionID===t)??null:null}},7e3:(e,t,r)=>{"use strict";r.d(t,{TN:()=>l,j9:()=>s,xX:()=>c});var n=r(188507),i=r(428467),a=r(746869),o=r(106472);function l(e){let t=!!(0,o.q)({teamId:e,flag:a.uU}),r=(0,n.d4)(t=>t.teams[e]),l=(0,n.d4)(e=>(0,i.getPermissionsStateMemoized)(e));return a.ng.getProTrial(r,t,l)}function s(){let e=(0,n.d4)(e=>e.userTeamFlags),t=(0,n.d4)(e=>(0,i.getPermissionsStateMemoized)(e));return a.ng.getUpgradableProTrials(e,t)}function c(){let e=(0,n.d4)(e=>e.user),t=(0,n.d4)(e=>e.isFreeUser),r=(0,n.d4)(e=>(0,i.getPermissionsStateMemoized)(e)),o=(0,n.d4)(e=>e.userTeamFlags);return a.ng.getEligibleProTrialTeams(e,t,r,o)}},498270:(e,t,r)=>{"use strict";r.d(t,{i:()=>p});var n=r(188507),i=r(374626),a=r(507956),o=r(258751),l=r(787523),s=r(212957),c=r(746869),d=r(29680),u=r(7e3);function p(e){let t=(0,u.TN)(e),r=(0,i.md)(o.P),p=(0,a.ks)(),m=(0,d.p8)("showUi"),_=(0,d.aV)(),h=(0,n.d4)(e=>e.openFile),g=(0,n.d4)(e=>e.selectedView),f=(0,n.d4)(e=>e.userFlags),E=(0,n.d4)(e=>e.notifications.length>0);return!!(h&&h.editorType&&c.ng.canSeeProTrialUxInFile(t,h))&&s.S.canSeeOnboardingInFile({editorType:h.editorType,selectedView:g,showStarterKit:r!==l.iH.FALSE,userFlags:f,hasNotifications:E,isDevHandoffView:p,isAppUiShown:m,isLoading:_})}},161325:(e,t,r)=>{"use strict";r.d(t,{Fl:()=>S,ug:()=>A,wW:()=>b,zy:()=>v});var n=r(411855),i=r(188507),a=r(794272),o=r(567837),l=r(30637),s=r(182976),c=r(337111),d=r(860178),u=r(336599),p=r(516056),m=r(547807);let _=new class{constructor(){this.BatchedSchemaValidator=(0,m.vh)()}getBatched(e){return this.BatchedSchemaValidator.validate(async({xr:t})=>await t.get("/api/users/batched",m.td.toAPIParameters({userIds:e.userIds.join(",")})))}},h=e=>t=>e&&t.publicUsers.byId[e]||null,g=e=>t=>{if(!e)return null;let r={};return e.forEach(e=>{e in t.publicUsers.byId&&(r[e]=t.publicUsers.byId[e])}),r},f=e=>t=>{let r=t.multiplayer.allUsers.find(t=>t.userID===e);return r?w(r):null},E=e=>t=>{let r=t.user,n=f(e)(t);return r&&r.id===e?r:n||null},y=e=>t=>{let r=E(e)(t),n=h(e)(t);return r||n||null};function b(e){let t=(0,a.R)(E(e)),r=function(e){let t=(0,i.wA)(),r=`PUBLIC_USER_FETCH_${e}`,a=(0,i.d4)(e=>e.loadingState),o=(0,i.d4)(h(e)),l=function(e){let t=!!(0,d.iZ)();return!!e&&!S(e)&&t}(e),p=!!o,m=!p&&(0,u.VP)(a,r),_=!p&&(0,u.aF)(a,r),g=!p&&l&&!m&&!_;return(0,n.useEffect)(()=>{g&&(t(s.Cx({key:r})),I(e).then(e=>{t(c.yJ({user:e})),t(s.yH({key:r}))}).catch(()=>{t(s.of({key:r}))}))},[t,e,g,r]),{user:o,loading:m,hasError:_}}(t?null:e);return t?{user:t,loading:!1,hasError:!1}:r}function v(e){let t=(0,i.wA)(),r=(0,i.d4)(g(e)),a=Object.keys(r||[]),l=(0,i.d4)(e=>e.loadingState),{userIdChunks:d,loadingKeys:p}=n.useMemo(()=>{let t=[];for(let r=0;r<((null==e?void 0:e.length)||0);r+=50)t.push((null==e?void 0:e.slice(r,r+50))||[]);let r=t.map(e=>`PUBLIC_USERS_FETCH_${(0,o.F)(JSON.stringify(e))}`);return{userIdChunks:t,loadingKeys:r}},[50,e]),m=d.map(e=>null==e?void 0:e.filter(e=>!a.includes(e)));return(0,n.useEffect)(()=>{for(let e=0;e<p.length;e++){let r=p[e],n=m[e];if(0===n.length||(0,u.VP)(l,r)||(0,u.aF)(l,r))return;t(s.Cx({key:r})),T(n).then(e=>{t(c.uW({userIds:n})),t(c.Z({users:e})),t(s.yH({key:r}))}).catch(()=>{t(s.of({key:r}))})}},[t,m,p,l]),{usersById:r,loading:p.some(e=>(0,u.VP)(l,e)),hasError:p.some(e=>(0,u.aF)(l,e))}}let I=e=>p.k.getUser({userId:e}).then(e=>e.data.meta).catch(e=>{throw(0,l.Lg)()||console.warn("Failed to get public user"),e}),T=e=>_.getBatched({userIds:e}).then(e=>e.data.meta).catch(e=>{throw(0,l.Lg)()||console.warn("Failed to get public users"),e}),S=e=>e.startsWith("VISITOR-"),w=e=>({id:e.userID,name:e.name,handle:e.name,img_url:e.imageURL});async function A({state:e,dispatch:t,userId:r}){let n=y(r)(e);if(n)return n;if(S(r))return null;let i=e.user,a=S(r);if(!(!n&&!a&&i))return null;let o=await I(r);return t(c.yJ({user:o})),o}},596256:(e,t,r)=>{"use strict";r.d(t,{I:()=>c});var n=r(411855),i=r(109388),a=r(629019),o=r.n(a),l=r(831236),s=r(936986);function c(e){var t,r;if(!(null==(t=e.dragState)?void 0:t.dragPosition)||!(null==(r=e.dragState)?void 0:r.dragOffset))return null;let a=e.dragState.dragPosition.subtract(e.dragState.dragOffset),c=(0,l.AE)(e.dragState.draggingResource);return(0,i.createPortal)(void 0!==e.icon?n.createElement("div",{className:o()(s.Az,{[s.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:a.x,top:a.y,width:e.dragState.draggingThumbSize.x,height:e.dragState.draggingThumbSize.y}},e.icon):n.createElement("img",{src:c,alt:e.dragState.draggingResource,className:o()(s._D,{[s.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:a.x,top:a.y,width:e.dragState.draggingThumbSize.x,height:e.dragState.draggingThumbSize.y},draggable:!1}),document.getElementById("fullscreen-root"))}},831236:(e,t,r)=>{"use strict";r.d(t,{AE:()=>u,fo:()=>m,mG:()=>p});var n=r(964937),i=r(153234),a=r(939863),o=r(809831),l=r(867795),s=r(161405),c=r(960887),d=r(57150);function u(e){switch(e){case"Table":return"https://static.figma.com/uploads/ac41ded88c50f0359c02ec3927394b7b33e210b6";case"CodeBlock":return"https://static.figma.com/uploads/8a035152916712353b045f442c2c6c5879ef3e17";case"MindMap":return"https://static.figma.com/uploads/1dd4c6f9e1fbf269895ee58e7be79d9f9ee79b9e";default:return""}}function p(e){switch(e){case"Table":return"Table";case"CodeBlock":return(0,a.t)("whiteboard.inserts.code_block_title");case"MindMap":return(0,a.t)("whiteboard.inserts.mind_map_title");default:return""}}function m(e){let t="whiteboard"===(0,o.lg)(),r=(0,s.F5)(),a=async n=>(e.insertAction(n),t&&(0,s.oM)({type:l.p.MORE,id:e.resource,source:e.triggeredFrom,options:{...r,query:e.searchQuery}}),await Promise.resolve());return(0,c.t)(e,{insertAction:a,dragPreviewPointerPosition:d.N.CENTERED,getDragPreviewSrc:e.icon?()=>"data:image/svg+xml;utf8,"+(0,n.F)(e.icon):()=>u(e.resource),recordingKey:i.Pt(e.triggeredFrom,"tool",e.resource)})}},698993:(e,t,r)=>{"use strict";r.d(t,{S:()=>m,z:()=>p});var n=r(411855),i=r(188507),a=r(794272),o=r(256975),l=r(497306),s=r(809511),c=r(507956),d=r(988022);let u=null;function p(e){let{isTeamFile:t,topLevelMode:r,sceneGraph:p,selectedPageId:m,selectedNodeId:_,numberOfNodesSelected:h,topLevelNodeId:g,topLevelNodeType:f,urlNodeId:E,fileKey:y}=(0,a.R)(e=>{var t,r;let n=Object.keys(e.mirror.sceneGraphSelection),i=(0,c.$A)(e.selectedView)?(0,l.Ql)(e.mirror.sceneGraph,(null==n?void 0:n[0])??""):null;return{isTeamFile:!!(null==(t=e.openFile)?void 0:t.teamId),topLevelMode:e.mirror.appModel.topLevelMode,sceneGraph:e.mirror.sceneGraph,selectedPageId:e.mirror.appModel.currentPage,selectedNodeId:n[n.length-1],numberOfNodesSelected:n.length,urlNodeId:"fullscreen"===e.selectedView.view&&e.selectedView.nodeId||void 0,fileKey:null==(r=e.openFile)?void 0:r.key,topLevelNodeId:null==i?void 0:i.guid,topLevelNodeType:null==i?void 0:i.type}}),b=(0,o._I)(),v=(0,i.Pj)(),I=(0,n.useRef)(""),T=(0,n.useRef)(0),S=(0,n.useRef)(!0);(0,n.useEffect)(()=>{if(r===e.topLevelMode&&(t||!e.teamFilesOnly)&&T.current<300){if(S.current){S.current=!1,u=null;return}if(S.current=!1,!_)return;let t=p.get(_);if(!t){u=null;return}let n=t.guid;if(n===I.current){u=null;return}I.current=n,T.current=T.current+1;let i=s.Egt.getOverridePathForNode(n),a=function(e){for(let t=0;t<22;t++){let r=e.parentNode;if(!r)return t;e=r}return 22}(t)-2,o=u??"canvas";u=null;let l=r===s.lyf.DEV_HANDOFF?b:null,c={nodeId:n,nodeType:t.type,pageId:m,topLevelNodeId:g,topLevelNodeType:f,sectionStatus:t.hasReadyStatus?"ready_for_dev":null,overridePath:i,nestingLevel:a,numberOfNodesSelected:h,source:o,hasSeatForDevMode:l};(0,d.ds)(e.eventName,y,v.getState(),c)}},[r,E,t,p,m,_,h,e.topLevelMode,e.eventName,e.teamFilesOnly,y,v,g,f,b])}function m(e){u=e}},499777:(e,t,r)=>{"use strict";r.d(t,{X:()=>l,k:()=>s});var n=r(411855),i=r(188507),a=r(572206),o=r(293017);function l(){return(0,i.d4)(e=>e.pickerShown)}function s(e){let t=(0,i.wA)(),r=l();return(0,n.useMemo)(()=>{let n=(null==r?void 0:r.id)===e;function i(){t(o.XE())}function l(r){let{x:n,y:i}=r;t(o.u1({id:e,initialX:n,initialY:i}))}return{showing:n,initialPosition:new a.Mi((null==r?void 0:r.initialX)??0,(null==r?void 0:r.initialY)??0),hide:i,show:l,toggle:function(e){n?i():l(e())}}},[e,t,r])}},801387:(e,t,r)=>{"use strict";r.d(t,{NJ:()=>u,P:()=>_,SJ:()=>m,c4:()=>h,l6:()=>f,ne:()=>p,z4:()=>g});var n=r(411855),i=r(717068),a=r(499737),o=r(391388),l=r(99506),s=r(279453),c=r(139961),d=r(231959);function u(e){let t=(0,a.Rs)(s.B5G,{orgId:e});return n.useMemo(()=>{var e,r;if("loaded"===t.status){let n=((null==(r=null==(e=t.data)?void 0:e.org)?void 0:r.workspaces)??[]).filter(e=>e.canAdmin);return(0,i.KQ)(n,"name"),(0,a.gB)(n)}return t},[t])}function p(e){var t,r;let n=null==(r=null==(t=null==e?void 0:e.currentUser)?void 0:t.baseOrgUser)?void 0:r.workspaceUsers;return(null==n?void 0:n.find(e=>e.isMainWorkspace))??null}function m(e){let t=(0,a.Rs)(s.TKM,{orgId:e});return o.Qw.useTransform(t,e=>{let t=p(e);return(null==t?void 0:t.workspaceId)??null})}function _(e,t){var r,n;let i=(0,a.Rs)(s.bUn,{orgId:e},{enabled:!!e&&!!t});if(null===t)return(0,a.gB)(d.O);if("loaded"===i.status){let e=((null==(n=null==(r=i.data)?void 0:r.org)?void 0:n.workspaces)??[]).find(e=>e.id===t);return(0,a.gB)(e)}return i}function h(e){let t=(0,a.Rs)(s.s5h,{orgId:e});return n.useMemo(()=>{var e,r,n;if("loaded"===t.status){let i=((null==(r=null==(e=t.data.org)?void 0:e.workspaces)?void 0:r.length)||0)>0&&!!(null==(n=t.data.org)?void 0:n.bigmaEnabledAt);return(0,a.gB)(i)}return t},[t])}var g=(e=>(e[e.IS_GUEST=1]="IS_GUEST",e[e.WRONG_WORKSPACE=2]="WRONG_WORKSPACE",e[e.TEAM_CREATION_CONTROL=3]="TEAM_CREATION_CONTROL",e[e.LG_LOADING=4]="LG_LOADING",e))(g||{});function f(e,t){let r=(0,a.Rs)(s.kxK,{orgId:(null==e?void 0:e.id)??null}),{permission:i,workspaceMember:o,canCreateTeamInWorkspace:d,teamCreationControls:u,loading:p}=n.useMemo(()=>{var e,n,i,a,o,s,c,d,u;if("loaded"!==r.status)return{permission:l._D.GUEST,workspaceMember:null,canCreateTeamInWorkspace:!1,loading:!0};let p=null==(n=null==(e=r.data)?void 0:e.currentUser)?void 0:n.baseOrgUser,m=null==p?void 0:p.permission;return{permission:m,workspaceMember:null==(i=null==p?void 0:p.workspaceUsers)?void 0:i.find(e=>e.isMainWorkspace),canCreateTeamInWorkspace:!!(null==(s=null==(o=null==(a=r.data)?void 0:a.org)?void 0:o.workspaces)?void 0:s.find(e=>e.canCreateTeam&&e.id===t)),teamCreationControls:null==(u=null==(d=null==(c=r.data)?void 0:c.org)?void 0:d.sharedOrgLicenseGroupSetting)?void 0:u.teamCreationControls,loading:!1}},[r,t]);if(p)return{canCreateTeam:!1,cannotCreateTeamReason:4};let m=u===c.$q.TEAM_CREATION_CONTROLS_ADMIN_ONLY;return i===l._D.GUEST?{canCreateTeam:!1,cannotCreateTeamReason:1}:i===l._D.ADMIN?{canCreateTeam:!0,cannotCreateTeamReason:null}:i!==l._D.MEMBER?{canCreateTeam:!1,cannotCreateTeamReason:null}:t?d?{canCreateTeam:!0,cannotCreateTeamReason:null}:(null==o?void 0:o.workspaceId)!==t?{canCreateTeam:!1,cannotCreateTeamReason:2}:m?{canCreateTeam:!1,cannotCreateTeamReason:3}:{canCreateTeam:!1,cannotCreateTeamReason:null}:o?{canCreateTeam:!1,cannotCreateTeamReason:2}:m?{canCreateTeam:!1,cannotCreateTeamReason:3}:{canCreateTeam:!0,cannotCreateTeamReason:null}}},820642:(e,t,r)=>{"use strict";r.d(t,{$2:()=>B,HF:()=>V,M3:()=>A,RD:()=>S,Rj:()=>P,Ve:()=>w,a6:()=>C,al:()=>k,bH:()=>M,cU:()=>D,cp:()=>O,ow:()=>N,pt:()=>T,re:()=>I,sf:()=>H,t0:()=>U,uj:()=>F,vK:()=>R,yS:()=>L,zv:()=>G}),r(717068);var n=r(935283),i=r(367253),a=r(96328),o=r(825871),l=r(939863),s=r(837324),c=r(466636),d=r(782501),u=r(356390),p=r(852800),m=r(99506),_=r(23001),h=r(813408),g=r(637590),f=r(501256),E=r(479296),y=r(697551),b=r(50335);let v={id:"",hub_file_id:"",fig_file_version_id:"",name:"",version:"",release_notes:"",description:"",creator_policy:"",created_at:"",valid_prototype:!0,thumbnail_guid:null},I={id:"",category_id:null,creator:{id:"",handle:"",img_url:""},publisher:{is_restricted_by_current_user:!1,id:"",name:"",img_url:"",img_urls:{},profile_handle:"",primary_user_id:null,current_user_is_following:!1,current_user_is_followed:!1,location:null,follower_count:0,following_count:0,entity_type:h.o1.USER,badges:[],description:""},community_publishers:{accepted:[],pending:[]},versions:{},current_hub_file_version_id:"",redirect_canvas_url:"",thumbnail_url:"",created_at:"",unpublished_at:null,duplicate_count:0,like_count:0,view_count:0,comment_count:0,viewer_mode:m.y4.CANVAS,scaling_mode:null,realtime_token:"",client_meta:"",tags:[],thumbnail_is_set:!1,is_pinned:!1,comments_setting:null,should_load_prototype_lib:!1,publishing_status:m.KB.APPROVED_PUBLIC,badges:[]};var T=(e=>(e.KEY="is-community-duplicate",e.VALUE="1",e))(T||{}),S=(e=>(e.CURRENT_FILE="currentFile",e.NEW_FILE="newFile",e))(S||{});function w(e){switch(e){case"currentFile":default:return(0,l.t)("browse_templates_modal.add_template");case"newFile":return(0,l.t)("browse_templates_modal.use_template")}}function A(e,t){return(0,y.Hc)(e,t,I)}function C(e,t){let r=t||e.current_hub_file_version_id;return(0,y.Hc)(r,e.versions,v)}function N(e,t,r,i){var a,o,u,h;let g;let E=e.figFilePublishedAsHubFile[t],b=A(E,e.hubFiles),v=C(b),I=y.b,T=e.fileByKey[t];!i&&!r&&((null==(a=e.authedActiveCommunityProfile)?void 0:a.team_id)||(null==(o=e.authedActiveCommunityProfile)?void 0:o.org_id))&&(g=e.authedActiveCommunityProfile.team_id?{team_id:e.authedActiveCommunityProfile.team_id}:{org_id:e.authedActiveCommunityProfile.org_id});let S=(0,d.gO)(b,T,e,g),w=r?b.viewer_mode:function(e){if(!e)return m.y4.CANVAS;switch(e){case m._Y.DESIGN:return m.y4.CANVAS;case m._Y.WHITEBOARD:return m.y4.WHITEBOARD;case m._Y.SLIDES:return m.y4.SLIDE_TEMPLATE;case m._Y.SITES:return m.y4.CANVAS;default:(0,n.xb)(e)}}(T.editor_type);!r&&b.viewer_mode===m.y4.PROTOTYPE&&i&&(null==(u=p.X3B)?void 0:u.firstPagePrototypeStatus())===p.bOM.VALID&&(w=m.y4.PROTOTYPE);let N=[];E&&(null==b?void 0:b.tags)?N=b.tags:(null==T?void 0:T.editor_type)==="whiteboard"&&(N=["figjam"]);let O={...(0,f.Rs)(),tokens:N.map(e=>({state:_.d.OK,content:e}))},L={...(0,f.Rs)(),tokens:(b.community_publishers?[...b.community_publishers.accepted,...b.community_publishers.pending||[]]:[]).reduce((t,r)=>{let n=e.authedProfilesById[r.id];return(0,d.Ii)(n,S)?t:t.concat([{state:_.d.OK,content:r}])},[])};return{name:v.name||(T.name===(0,l.t)("fullscreen.fullscreen_view_selector.untitled")?"":T.name),description:v.description||I.description,categoryId:b.category_id,creatorPolicy:v.creator_policy||I.creatorPolicy,tags:O,viewerMode:w,scalingMode:b.scaling_mode,author:S,publishers:L,commentsSetting:b.comments_setting||I.commentsSetting,blockPublishingOnToS:(0,d.xw)(e),price:(0,c.vf)(b.monetized_resource_metadata),isPaid:!!b.monetized_resource_metadata,supportContact:b.support_contact||(null==(h=e.user)?void 0:h.email),carouselMedia:(0,s.N6)(b),coverImageCarouselMediaId:b.cover_image_carousel_media_id}}function O(e,t){return e?t?(0,c.Yp)(t)?t<c.mZ?(0,l.t)("community.seller.paid_resource_minimum_err"):(0,l.t)("community.seller.paid_resource_maximum_err"):(0,c.F8)(t)?(0,l.t)("community.seller.prices_must_follow_format"):void 0:(0,l.t)("community.publishing.price_is_required_for_paid_resources"):void 0}function L(e){let t=(0,y.Yp)(e||null).length;return 0===t?(0,l.t)("community.publishing.name_must_not_be_empty"):t<4?(0,l.t)("community.publishing.name_must_be_4_characters_long"):t>100?(0,l.t)("community.publishing.name_must_be_at_most_100_characters_long"):void 0}function R(e){if((0,y.Yp)(e||null).length>1e4)return(0,l.t)("community.publishing.description_must_be_at_most_10000_characters_long")}function P(e){if((0,y.Yp)(e||null).length>1e4)return(0,l.t)("community.publishing.creator_policy_must_be_at_most_10000_characters_long")}function k(e,t){return e&&!t?(0,l.t)("community.publishing.support_contact_must_not_be_empty"):!t||(0,i.xf)(t)||(0,a.gU)(t)?void 0:(0,l.t)("community.publishing.support_contact_must_be_a_valid_email_or_url")}function D(e){if(!e)return(0,l.t)("community.publishing.category_cant_be_empty")}function M(e){let t={name:L(e.name),description:R(e.description),creatorPolicy:P(e.creatorPolicy)};e.tags&&(t.tags=(0,y.Wh)(e.tags)||void 0),e.publisherIds&&(t.publisherIds=(0,y.IZ)(e.publisherIds.length)||void 0),t.carouselMedia=(0,d.vC)(e.carouselMedia),t.categoryId=D(e.categoryId);let r="isPaid"in e&&!!e.isPaid;return t.price=O(r,e.price),t.supportContact=k(r,e.supportContact),Object.keys(t).forEach(e=>!t[e]&&delete t[e]),t}let x=(0,E.D)(e=>{if(!u.Y5)return null;let[t,r]=p.Vzr.generateThumbnailForNode(e,b.PJ,b.Oq,2,{});return r});function F(e,t){return e.filter(e=>{var r,n;return null==(n=null==(r=e.community_publishers)?void 0:r.accepted)?void 0:n.some(e=>e.id===t)})}function U(e){return e===g.G4.FULLSCREEN||e===g.G4.FULLSCREEN_WITH_COMMENTS}function B(e,t){let r=new XMLHttpRequest;return r.open("GET",`/api/hub_files/cover_image?file_key=${e}`,!0),r.setRequestHeader("X-Figma-User-ID",t.id),r.setRequestHeader("X-Csrf-Bypass","yes"),r.setRequestHeader("tsid",(0,o.f)()),r.responseType="blob",new Promise(e=>{r.onload=function(){let t=new Image;t.src=URL.createObjectURL(r.response),t.onload=async()=>{let r=document.createElement("canvas");r.width=b.PJ,r.height=b.Oq;let n=r.width,i=t.height*(r.width/t.width),a=0,o=r.height/2-i/2;i>r.height&&(i=r.height,n=t.width*(r.height/t.height),a=r.width/2-n/2,o=0),r.getContext("2d").drawImage(t,a,o,n,i);let l=await new Promise(e=>r.toBlob(e)),[s]=await Promise.all([(0,d.ck)(l)]);e({url:URL.createObjectURL(new Blob([s||""])),buffer:new Uint8Array(s)})}},r.send(null)})}function H(e,t){var r;let n;return r=null==e?void 0:e.thumbnailGuid,n=null,r&&(n=x(r)),n&&0!==n.length||(n=x(t)),{url:URL.createObjectURL(new Blob([n||""])),buffer:n}}function V(e){return!!e&&!e.unpublished_at}function G(e){return!!e&&e.publishing_status===m.KB.APPROVED_PUBLIC}},889973:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(126911);function i(e,t=!1){let r=e.deltaY,i=e.ctrlKey&&!t&&(n.y.isChrome()||n.y.isFirefox());return i?r/=-100:0!==r&&(r=r/Math.abs(r)*Math.min(Math.abs(r),10*Math.cbrt(Math.abs(r)))),i?Math.pow(4,r):Math.pow(.995,r)}},241437:(e,t,r)=>{"use strict";r.d(t,{IS:()=>l,Zt:()=>a,gS:()=>o,h7:()=>d,il:()=>c,o_:()=>s,pz:()=>p,yw:()=>u});var n=r(38580);r(99506);var i=r(851363);let a="INTERACTION_TEST_FAKE_FILE_KEY";function o(e){return{key:a,name:"Interaction Tests Running",editor_type:e,folder_id:"0",team_id:"0",parent_org_id:"0",file_repo_id:null,source_file_key:null,has_proto_link_password:!1,created_at:"",trashed_at:null,proto_link_access:null,prototype_url:""}}i.kU.STUDENT_TEAM_NULL;function l(e){}function s(e){}function c(){return null}let d=(0,n.eU)(!1),u=(0,n.eU)(!1),p=null},593803:(e,t,r)=>{"use strict";r.d(t,{FB:()=>s,UA:()=>n,W4:()=>o,Wg:()=>l,qE:()=>i,s3:()=>d,sf:()=>a,uk:()=>c});let n=[["Afghanistan","AF"],["\xc5land Islands","AX"],["Albania","AL"],["Algeria","DZ"],["American Samoa","AS"],["Andorra","AD"],["Angola","AO"],["Anguilla","AI"],["Antarctica","AQ"],["Antigua and Barbuda","AG"],["Argentina","AR"],["Armenia","AM"],["Aruba","AW"],["Australia","AU"],["Austria","AT"],["Azerbaijan","AZ"],["Bahamas","BS"],["Bahrain","BH"],["Bangladesh","BD"],["Barbados","BB"],["Belarus","BY"],["Belgium","BE"],["Belize","BZ"],["Benin","BJ"],["Bermuda","BM"],["Bhutan","BT"],["Bolivia (Plurinational State of)","BO"],["Bonaire, Sint Eustatius and Saba","BQ"],["Bosnia and Herzegovina","BA"],["Botswana","BW"],["Bouvet Island","BV"],["Brazil","BR"],["British Indian Ocean Territory","IO"],["Brunei Darussalam","BN"],["Bulgaria","BG"],["Burkina Faso","BF"],["Burundi","BI"],["Cabo Verde","CV"],["Cambodia","KH"],["Cameroon","CM"],["Canada","CA"],["Cayman Islands","KY"],["Central African Republic","CF"],["Chad","TD"],["Chile","CL"],["China","CN"],["Christmas Island","CX"],["Cocos (Keeling) Islands","CC"],["Colombia","CO"],["Comoros","KM"],["Congo","CG"],["Congo (Democratic Republic of the)","CD"],["Cook Islands","CK"],["Costa Rica","CR"],["C\xf4te d'Ivoire","CI"],["Croatia","HR"],["Cuba","CU"],["Cura\xe7ao","CW"],["Cyprus","CY"],["Czechia","CZ"],["Denmark","DK"],["Djibouti","DJ"],["Dominica","DM"],["Dominican Republic","DO"],["Ecuador","EC"],["Egypt","EG"],["El Salvador","SV"],["Equatorial Guinea","GQ"],["Eritrea","ER"],["Estonia","EE"],["Eswatini","SZ"],["Ethiopia","ET"],["Falkland Islands (Malvinas)","FK"],["Faroe Islands","FO"],["Fiji","FJ"],["Finland","FI"],["France","FR"],["French Guiana","GF"],["French Polynesia","PF"],["French Southern Territories","TF"],["Gabon","GA"],["Gambia","GM"],["Georgia","GE"],["Germany","DE"],["Ghana","GH"],["Gibraltar","GI"],["Greece","GR"],["Greenland","GL"],["Grenada","GD"],["Guadeloupe","GP"],["Guam","GU"],["Guatemala","GT"],["Guernsey","GG"],["Guinea","GN"],["Guinea-Bissau","GW"],["Guyana","GY"],["Haiti","HT"],["Heard Island and McDonald Islands","HM"],["Holy See","VA"],["Honduras","HN"],["Hong Kong","HK"],["Hungary","HU"],["Iceland","IS"],["India","IN"],["Indonesia","ID"],["Iran (Islamic Republic of)","IR"],["Iraq","IQ"],["Ireland","IE"],["Isle of Man","IM"],["Israel","IL"],["Italy","IT"],["Jamaica","JM"],["Japan","JP"],["Jersey","JE"],["Jordan","JO"],["Kazakhstan","KZ"],["Kenya","KE"],["Kiribati","KI"],["Korea (Democratic People's Republic of)","KP"],["Korea (Republic of)","KR"],["Kuwait","KW"],["Kyrgyzstan","KG"],["Lao People's Democratic Republic","LA"],["Latvia","LV"],["Lebanon","LB"],["Lesotho","LS"],["Liberia","LR"],["Libya","LY"],["Liechtenstein","LI"],["Lithuania","LT"],["Luxembourg","LU"],["Macao","MO"],["Macedonia (the former Yugoslav Republic of)","MK"],["Madagascar","MG"],["Malawi","MW"],["Malaysia","MY"],["Maldives","MV"],["Mali","ML"],["Malta","MT"],["Marshall Islands","MH"],["Martinique","MQ"],["Mauritania","MR"],["Mauritius","MU"],["Mayotte","YT"],["Mexico","MX"],["Micronesia (Federated States of)","FM"],["Moldova (Republic of)","MD"],["Monaco","MC"],["Mongolia","MN"],["Montenegro","ME"],["Montserrat","MS"],["Morocco","MA"],["Mozambique","MZ"],["Myanmar","MM"],["Namibia","NA"],["Nauru","NR"],["Nepal","NP"],["Netherlands","NL"],["New Caledonia","NC"],["New Zealand","NZ"],["Nicaragua","NI"],["Niger","NE"],["Nigeria","NG"],["Niue","NU"],["Norfolk Island","NF"],["Northern Mariana Islands","MP"],["Norway","NO"],["Oman","OM"],["Pakistan","PK"],["Palau","PW"],["Palestine, State of","PS"],["Panama","PA"],["Papua New Guinea","PG"],["Paraguay","PY"],["Peru","PE"],["Philippines","PH"],["Pitcairn","PN"],["Poland","PL"],["Portugal","PT"],["Puerto Rico","PR"],["Qatar","QA"],["R\xe9union","RE"],["Romania","RO"],["Russian Federation","RU"],["Rwanda","RW"],["Saint Barth\xe9lemy","BL"],["Saint Helena, Ascension and Tristan da Cunha","SH"],["Saint Kitts and Nevis","KN"],["Saint Lucia","LC"],["Saint Martin (French part)","MF"],["Saint Pierre and Miquelon","PM"],["Saint Vincent and the Grenadines","VC"],["Samoa","WS"],["San Marino","SM"],["Sao Tome and Principe","ST"],["Saudi Arabia","SA"],["Senegal","SN"],["Serbia","RS"],["Seychelles","SC"],["Sierra Leone","SL"],["Singapore","SG"],["Sint Maarten (Dutch part)","SX"],["Slovakia","SK"],["Slovenia","SI"],["Solomon Islands","SB"],["Somalia","SO"],["South Africa","ZA"],["South Georgia and the South Sandwich Islands","GS"],["South Sudan","SS"],["Spain","ES"],["Sri Lanka","LK"],["Sudan","SD"],["Suriname","SR"],["Svalbard and Jan Mayen","SJ"],["Sweden","SE"],["Switzerland","CH"],["Syrian Arab Republic","SY"],["Taiwan","TW"],["Tajikistan","TJ"],["Tanzania, United Republic of","TZ"],["Thailand","TH"],["Timor-Leste","TL"],["Togo","TG"],["Tokelau","TK"],["Tonga","TO"],["Trinidad and Tobago","TT"],["Tunisia","TN"],["Turkey","TR"],["Turkmenistan","TM"],["Turks and Caicos Islands","TC"],["Tuvalu","TV"],["Uganda","UG"],["Ukraine","UA"],["United Arab Emirates","AE"],["United Kingdom of Great Britain and Northern Ireland","GB"],["United States of America","US"],["United States Minor Outlying Islands","UM"],["Uruguay","UY"],["Uzbekistan","UZ"],["Vanuatu","VU"],["Venezuela (Bolivarian Republic of)","VE"],["Viet Nam","VN"],["Virgin Islands (British)","VG"],["Virgin Islands (U.S.)","VI"],["Wallis and Futuna","WF"],["Western Sahara","EH"],["Yemen","YE"],["Zambia","ZM"],["Zimbabwe","ZW"]],i=[["Argentina","AR"],["Armenia","AM"],["Australia","AU"],["Austria","AT"],["Belgium","BE"],["Bolivia (Plurinational State of)","BO"],["Bosnia and Herzegovina","BA"],["Bulgaria","BG"],["Cambodia","KH"],["Canada","CA"],["Chile","CL"],["Colombia","CO"],["Costa Rica","CR"],["C\xf4te d'Ivoire","CI"],["Croatia","HR"],["Cyprus","CY"],["Czechia","CZ"],["Denmark","DK"],["Dominican Republic","DO"],["Egypt","EG"],["El Salvador","SV"],["Estonia","EE"],["Finland","FI"],["France","FR"],["Gambia","GM"],["Germany","DE"],["Greece","GR"],["Hong Kong","HK"],["Hungary","HU"],["Iceland","IS"],["Indonesia","ID"],["Ireland","IE"],["Israel","IL"],["Italy","IT"],["Japan","JP"],["Jordan","JO"],["Kenya","KE"],["Korea (Republic of)","KR"],["Latvia","LV"],["Liechtenstein","LI"],["Lithuania","LT"],["Luxembourg","LU"],["Macao","MO"],["Malaysia","MY"],["Malta","MT"],["Mauritius","MU"],["Mexico","MX"],["Morocco","MA"],["Namibia","NA"],["Netherlands","NL"],["New Zealand","NZ"],["Norway","NO"],["Panama","PA"],["Paraguay","PY"],["Peru","PE"],["Philippines","PH"],["Poland","PL"],["Portugal","PT"],["Romania","RO"],["Saudi Arabia","SA"],["Senegal","SN"],["Singapore","SG"],["Slovakia","SK"],["Slovenia","SI"],["South Africa","ZA"],["Spain","ES"],["Sweden","SE"],["Switzerland","CH"],["Thailand","TH"],["Trinidad and Tobago","TT"],["Tunisia","TN"],["Turkey","TR"],["United Arab Emirates","AE"],["United Kingdom of Great Britain and Northern Ireland","GB"],["United States of America","US"],["Viet Nam","VN"]],a=["AX","CU","GS","HM","IO","IR","KP","LB","LY","SD","SO","SY","TF","UM"],o=[["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"],["District of Columbia","DC"],["American Samoa","AS"],["Guam","GU"],["Northern Mariana Islands","MP"],["Puerto Rico","PR"],["United States Minor Outlying Islands","UM"],["Virgin Islands, U.S.","VI"],["Armed Forces (AA)","AA"],["Armed Forces (AE)","AE"],["Armed Forces (AP)","AP"]].sort((e,t)=>e[1].localeCompare(t[1])),l=[["Alberta","AB"],["British Columbia","BC"],["Manitoba","MB"],["New Brunswick","NB"],["Newfoundland and Labrador","NL"],["Nova Scotia","NS"],["Nunavut","NU"],["Ontario","ON"],["Prince Edward Island","PE"],["Quebec","QC"],["Saskatchewan","SK"],["Northwest Territories","NT"],["Yukon","YT"]].sort((e,t)=>e[1].localeCompare(t[1])),s=[["Andhra Pradesh","AP"],["Arunachal Pradesh","AR"],["Assam","AS"],["Bihar","BR"],["Chhattisgarh","CT"],["Goa","GA"],["Gujarat","GJ"],["Haryana","HR"],["Himachal Pradesh","HP"],["Jharkhand","JH"],["Karnataka","KA"],["Kerala","KL"],["Madhya Pradesh","MP"],["Maharashtra","MH"],["Manipur","MN"],["Meghalaya","ML"],["Mizoram","MZ"],["Nagaland","NL"],["Odisha","OR"],["Punjab","PB"],["Rajasthan","RJ"],["Sikkim","SK"],["Tamil Nadu","TN"],["Telangana","TG"],["Tripura","TR"],["Uttar Pradesh","UP"],["Uttarakhand","UT"],["West Bengal","WB"],["Andaman and Nicobar Islands","AN"],["Chandigarh","CH"],["Dadra and Nagar Haveli and Daman and Diu","DH"],["Delhi","DL"],["Jammu and Kashmir","JK"],["Ladakh","LA"],["Lakshadweep","LD"],["Puducherry","PY"]].sort((e,t)=>e[1].localeCompare(t[1])),c=["AS","AQ","AU","BD","BT","IO","BN","KH","CN","CX","CC","CK","FJ","PF","TF","GU","HM","HK","IN","ID","JP","KI","KR","KV","KG","LA","MO","MY","MV","MH","FM","MN","MM","NR","NP","NC","NZ","NU","NF","MP","PK","PW","PG","PH","PN","WS","SG","SB","LK","TW","TJ","TH","TL","TK","TO","TM","TV","UM","UZ","VU","VN","WF"],d=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"].concat(["GF","GP","MQ","ME","YT","RE","MF","GI","AX","IS","NO","AD","LI","MC","SM","VA","GB","GG","JE","PM","GL","BL","SX","AW","CW","WF","PF","NC","TF","AI","BM","IO","VG","KY","FK","MS","PN","SH","GS","TC"])},940596:(e,t,r)=>{"use strict";r.d(t,{Bc:()=>u,Wh:()=>s,rt:()=>d});var n=r(38329),i=r(374626),a=r(38580),o=r(335682);let l={preserveValue:!1};function s(e,t=l){let r=(0,i.Iz)(e);return(0,a.eU)(e=>{let i=n.D?e(o.ze):"FILE_KEY";return t.preserveValue||r.setShouldRemove((e,t)=>t!==i),e(r(i))},(e,t,...n)=>t(r(e(o.ze)),...n))}let c=[];function d(e){let t=(0,a.eU)(e);return c.push({atomRef:new WeakRef(t),initialValue:e}),t}function u(){for(let e=c.length-1;e>=0;e--){let{atomRef:t,initialValue:r}=c[e],n=t.deref();n?i.zl.set(n,r):c.splice(e,1)}}},272042:(e,t,r)=>{"use strict";r.d(t,{$$:()=>a,ZN:()=>l,dO:()=>o});var n=r(517333),i=r(245389);function a(e){let t={};return e.forEach((e,r)=>{t[r]=e}),{layoutJSON:t,detectedLayoutsWeb:i.WH.map(t=>{let r=Object.entries(t.list).map(([t,r])=>null==r?!(t in e):e.get(t)===r).filter(e=>!e).length;return{name:t.name,isValid:0===r}}).filter(e=>e.isValid).map(e=>e.name)}}async function o(e){try{let e=null;if(n.eD&&(e=await n.eD.getKeyboardLayout()),!window.isSecureContext)return{detectedLayouts:[],layoutJSON:{},desktopLayout:e,errorMessage:"Not in secure context, no navigator.keyboard object"};if(window.top!==window.self)return{detectedLayouts:[],layoutJSON:{},desktopLayout:e,errorMessage:"Not in top-level browser context, navigator.keyboard not available"};let t=navigator.keyboard;if(!t||!t.getLayoutMap)return{detectedLayouts:[],layoutJSON:{},desktopLayout:e,errorMessage:"No keyboard in navigator object"};let r=await t.getLayoutMap(),{detectedLayoutsWeb:i,layoutJSON:o}=a(r);return{desktopLayout:e,detectedLayouts:i,layoutJSON:o}}catch(e){return console.error("Keyboard layout detection logging failed:",e),{detectedLayouts:[],layoutJSON:{},desktopLayout:null,errorMessage:"Unknown failure"}}}function l(e){return(e.desktopLayout?(0,i.pB)(e.desktopLayout):null)||(1===e.detectedLayouts.length&&i.g7[e.detectedLayouts[0]]?i.g7[e.detectedLayouts[0]]:null)}},69961:(e,t,r)=>{"use strict";r.d(t,{eR:()=>b,gw:()=>y,nt:()=>v,o3:()=>E});var n=r(188507),i=r(956013),a=r(38329),o=r(966712),l=r(374626),s=r(776621),c=r(898148),d=r(939863),u=r(392592),p=r(931828),m=r(270499),_=r(988022),h=r(529928);function g(){return a.D||((0,s.ED)("Labs","No global redux store set, so creating a mock store with empty userFlags"),(0,i.y$)(()=>({userFlags:{}})))}class f{constructor({name:e,getDisplayName:t,getCanOverride:r,getDefaultValue:n,getVisualBellMessage:i}){this.name=e,this.getDisplayName=t,this.getVisualBellMessage=i||this.getDefaultVisualBellMessage,this.canOverride=r,this.defaultValue=n,this.trueOverrideUserFlag=`${e}_override_true`,this.falseOverrideUserFlag=`${e}_override_false`,this.atom=(0,h.bt)(e=>this.getEffectiveValue(e.userFlags),g)}getEffectiveValue(e){return(0,m.Y)({trueOverrideUserFlag:this.isUserOverriddenToTrue(e),falseOverrideUserFlag:this.isUserOverriddenToFalse(e),canOverride:this.canOverride(),defaultValue:this.defaultValue()})}isUserOverriddenToTrue(e){return!!e[this.trueOverrideUserFlag]}isUserOverriddenToFalse(e){return!!e[this.falseOverrideUserFlag]}isOverridden(e){return this.isUserOverriddenToTrue(e)||this.isUserOverriddenToFalse(e)}toggleValue(e,t,r){if(!this.canOverride())return;let n=this.getEffectiveValue(e.userFlags),i=!n,a={[this.trueOverrideUserFlag]:!1,[this.falseOverrideUserFlag]:!1};a[i?this.trueOverrideUserFlag:this.falseOverrideUserFlag]=!0,t(p.b(a)),t(u.F.enqueue({message:this.getVisualBellMessage(i)})),this.trackChange(e.user,n,!n,r)}getDefaultVisualBellMessage(e){return e?(0,d.t)("lab.enabled",{labName:this.getDisplayName()}):(0,d.t)("lab.disabled",{labName:this.getDisplayName()})}resetToDefault(e,t){let r=this.getEffectiveValue(e.userFlags);t(p.b({[this.trueOverrideUserFlag]:!1,[this.falseOverrideUserFlag]:!1})),this.trackChange(e.user,r,this.defaultValue(),"reset")}trackChange(e,t,r,n){(0,_.uE)("labs",{user:e},{name:this.name,canOverride:this.canOverride(),previousValue:t,newValue:r,defaultValue:this.defaultValue(),source:n})}}function E(e){return(0,l.md)(e.atom)}var y=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.OVERRIDDEN=1]="OVERRIDDEN",e))(y||{});function b(e){return[(0,l.md)(e.atom),(0,n.d4)(t=>e.isOverridden(t.userFlags))?1:0]}let v=Object.freeze({customKeyboardShortcuts:new f({name:"ce_custom_keyboard_shortcuts",getDisplayName:()=>(0,d.t)("keyboard_settings.custom_keyboard_shortcuts"),getCanOverride:()=>!!(0,o.kc)().ce_custom_keyboard_shortcuts,getDefaultValue:()=>!!(0,o.kc)().ce_custom_keyboard_default}),ui3:new f({name:"unified_index_v3_endpoint",getDisplayName:()=>(0,d.t)("lab.ui3"),getVisualBellMessage:e=>e?(0,d.t)("lab.ui3_enabled_message"):(0,d.t)("lab.ui3_disabled_message"),getCanOverride:c.kv,getDefaultValue:c.Mx}),ui3ExpNonDesign:new f({name:"unified_index_v3_exp",getDisplayName:()=>(0,d.t)("lab.ui3.experimental_non_design"),getCanOverride:()=>!!(0,o.kc)().unified_index_v3_exp,getDefaultValue:()=>!!(0,o.kc)().unified_index_v3_exp_default}),ui3PrototypeAsATool:new f({name:"lab_prototype_as_a_tool_toggle",getDisplayName:()=>(0,d.t)("lab.ui3.experimental_prototype_as_a_tool"),getCanOverride:()=>!!(0,o.kc)().lab_prototype_as_a_tool_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_prototype_as_a_tool_default}),ui3AssetsPanelRedesign:new f({name:"lab_asset_panel_redesign_toggle",getDisplayName:()=>(0,d.t)("lab.ui3.assets_panel_redesign"),getCanOverride:()=>!!(0,o.kc)().lab_asset_panel_redesign_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_asset_panel_redesign_default}),ui3CollapsedSidebarPillBackground:new f({name:"lab_collapsed_pill_color_toggle",getDisplayName:()=>(0,d.t)("lab.ui3.collapsed_sidebar_pill_background"),getCanOverride:()=>!!(0,o.kc)().lab_collapsed_pill_color_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_collapsed_pill_color_default}),ui3CanvasColorThemeSync:new f({name:"lab_canvas_theme_sync_toggle",getDisplayName:()=>(0,d.t)("lab.ui3.canvas_color_theme_sync"),getCanOverride:()=>!!(0,o.kc)().lab_canvas_theme_sync_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_canvas_theme_sync_default}),ui3Motion:new f({name:"lab_motion_toggle",getDisplayName:()=>(0,d.t)("lab.ui3.motion"),getCanOverride:()=>!!(0,o.kc)().lab_motion_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_motion_default}),ui3MinimizeUI:new f({name:"lab_minimize_ui_toggle",getDisplayName:()=>(0,d.t)("lab.minimize_ui"),getCanOverride:()=>!!(0,o.kc)().lab_minimize_ui_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_minimize_ui_default}),ui3MinimizeUIAutoShowProperties:new f({name:"lab_show_right_panel_toggle",getDisplayName:()=>(0,d.t)("lab.minimize_ui_auto_show_properties"),getCanOverride:()=>!!(0,o.kc)().lab_show_right_panel_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_show_right_panel_default}),fplComponents:new f({name:"lab_fpl_components_toggle",getDisplayName:()=>(0,d.t)("lab.fpl.components"),getCanOverride:()=>!!(0,o.kc)().lab_fpl_components_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_fpl_components_default}),propertiesDevelopment:new f({name:"ui3_properties_dev",getDisplayName:()=>(0,d.t)("lab.ui3.properties_dev"),getCanOverride:()=>!!(0,o.kc)().ui3_properties_dev,getDefaultValue:()=>!!(0,o.kc)().ui3_properties_dev_default}),trackableDebug:new f({name:"lab_trackable_debug_toggle",getDisplayName:()=>(0,d.t)("lab.trackable_debug"),getCanOverride:()=>!!(0,o.kc)().lab_trackable_debug_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_trackable_debug_default}),figjamUi3:new f({name:"unified_index_v3_figjam_endpoint",getDisplayName:()=>(0,d.t)("lab.figjam_ui3"),getVisualBellMessage:e=>e?(0,d.t)("lab.ui3_figjam_enabled_message"):(0,d.t)("lab.ui3_figjam_disabled_message"),getCanOverride:()=>!!(0,o.kc)().unified_index_v3_figjam_endpoint,getDefaultValue:()=>!!(0,o.kc)().unified_index_v3_figjam_default}),figjamUi3LeftPanel:new f({name:"lab_figjam_left_panel_toggle",getDisplayName:()=>(0,d.t)("lab.figjam_ui3_left_panel"),getCanOverride:()=>!!(0,o.kc)().lab_figjam_left_panel_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_figjam_left_panel_default}),figjamUi3Colors:new f({name:"lab_figjam_palette_toggle",getDisplayName:()=>(0,d.t)("lab.figjam_ui3_colors"),getVisualBellMessage:e=>e?(0,d.t)("lab.ui3_figjam_colors_enabled_message"):(0,d.t)("lab.ui3_figjam_colors_disabled_message"),getCanOverride:()=>!!(0,o.kc)().lab_figjam_palette_toggle,getDefaultValue:()=>!!(0,o.kc)().lab_figjam_palette_default}),sitesResponsiveScaling:new f({name:"sites_responsive_scaling_toggle",getDisplayName:()=>(0,d.t)("lab.sites_responsive_scaling"),getCanOverride:()=>!!(0,o.kc)().sites_responsive_scaling_toggle,getDefaultValue:()=>!!(0,o.kc)().sites_responsive_scaling_default})})},315329:(e,t,r)=>{"use strict";r.d(t,{n:()=>E,o:()=>y});var n=r(411855),i=r(188507),a=r(367253),o=r(38329),l=r(499737),s=r(563706),c=r(743282),d=r(939863),u=r(572900),p=r(265746),m=r(809831),_=r(99506),h=r(279453),g=r(988022),f=r(193212);function E(e,t){return!!((null==e?void 0:e.is_ipad_user)||(0,a.jm)(t))}function y(){let e=(0,i.wA)(),t=n.useRef(""),r="whiteboard"===(0,m.lg)(),a=(0,f.aq)(),E=s.XN?_.bq.DESKTOP:_.bq.IPAD,y=(0,l.Rs)(h.o$Q,{deviceType:E});n.useEffect(()=>{var n;if(!y||"loaded"!==y.status)return;let i=y.data.latestClipboardData;if(i.deviceType!==E||!i.presignedDownloadUrl||!i.timestamp||Date.now()-parseInt(i.timestamp)>6e4)return;let l=o.D.getState(),s={copy_device_type:i.deviceType,copy_timestamp:i.timestamp};(0,g.ds)("crossDeviceCopyPaste_s3_header_fetch_start",null==(n=l.openFile)?void 0:n.key,l,s);let m=(0,c.g)();t.current=m,v(()=>fetch(i.presignedDownloadUrl,{method:"HEAD"}),m,t).then(({success:n,retryCount:o,errorMessage:c})=>{var _,h;if(a()){if(!n){(0,g.ds)("crossDeviceCopyPaste_s3_header_fetch_failure",null==(_=l.openFile)?void 0:_.key,l,{...s,error:c,retryCount:o});return}(0,g.ds)("crossDeviceCopyPaste_s3_header_fetch_success",null==(h=l.openFile)?void 0:h.key,l,{...s,retryCount:o}),e(u.$.dequeue({type:p._.CLIPBOARD_DATA_AVAILABLE})),e(u.$.enqueue({notification:{type:p._.CLIPBOARD_DATA_AVAILABLE,message:(0,d.t)("fullscreen.notification.clipboard_data_available"),downloadUrl:i.presignedDownloadUrl,deviceType:i.deviceType,timestamp:i.timestamp,isFigJam:r,acceptCallback:()=>{var e;return(0,g.ds)("crossDeviceCopyPaste_dialog_paste_tapped",null==(e=l.openFile)?void 0:e.key,l,s)},dismissCallback:()=>{var e;return(0,g.ds)("crossDeviceCopyPaste_dialog_dismiss_tapped",null==(e=l.openFile)?void 0:e.key,l,s)},displayCallback:()=>{var e;return(0,g.ds)("crossDeviceCopyPaste_dialog_shown",null==(e=l.openFile)?void 0:e.key,l,s)}}})),setTimeout(()=>{a()&&t.current===m&&e(u.$.dequeue({type:p._.CLIPBOARD_DATA_AVAILABLE}))},6e4)}})},[r,y,E,t,e,a])}let b=e=>new Promise(t=>setTimeout(t,300*e)),v=async(e,t,r,n=0)=>{if(t!==r.current)return{success:!1,retryCount:n,errorMessage:"Download retry cancelled by new user initiated paste action"};try{let t=await e();if(!t.ok)throw Error("Failed to fetch header with status "+t.status)}catch(i){if(n>4)return{success:!1,retryCount:n,errorMessage:i.toString()};return await b(n),v(e,t,r,n+1)}return{success:!0,retryCount:n}}},622896:(e,t,r)=>{"use strict";r.d(t,{Bh:()=>O,SS:()=>R,bO:()=>L,fN:()=>P,oz:()=>x,z5:()=>F});var n=r(411855),i=r(188507),a=r(695956),o=r.n(a),l=r(89865),s=r.n(l),c=r(184058),d=r.n(c),u=r(966712),p=r(374626),m=r(309225),_=r(499737),h=r(886653),g=r(572174),f=r(395281),E=r(632430),y=r(298527),b=r(335682),v=r(416095),I=r(279453),T=r(623746),S=r(462524),w=r(372291),A=r(696673),C=r(869156);let N=n.createContext(null);function O(e){let{subscriptions:t,requestLibraryItems:r,releaseLibraryItems:i}=(0,g.sR)(n.useContext(N),"Must call `useLibraryData` from within <LibraryDataProvider>");return n.useEffect(()=>{if(e)return r(e),()=>i(e)},[r,i,e]),e&&t[e]||(0,_.Xm)()}function L(){let{subscriptions:e}=(0,g.sR)(n.useContext(N),"Must call `useLibraryDataSubscriptions` from within <LibraryDataProvider>");return e}function R({fileKey:e}){return O(e),null}function P({children:e,maxSubscriptionsBeforeCleanup:t=20}){let r=(0,b.tS)();(0,p.fp)(S.jz);let[a,l]=n.useState({}),c=n.useCallback((e,t)=>{l(r=>({...r,[e]:t}))},[]),m=n.useMemo(()=>{let e={};for(let t of Object.keys(a)){let r=a[t];null!=r&&(e[t]=M(r))}return e},[a]),[_,h]=n.useState({});n.useEffect(()=>{r&&h(e=>({...e,[r]:(e[r]||0)+1}))},[r]);let[g,y]=n.useState({});!function(e){let t=n.useMemo(()=>(null==e?void 0:e.status)==="loaded"?F(e):[],[e]),r=n.useMemo(()=>s()(t,e=>e.node_id),[t]),a=n.useMemo(()=>(null==e?void 0:e.status)==="loaded"?function(e){let t=[];for(let r of e.data.libraryHierarchyPaths)for(let e of r.components)t.push(e);return t}(e):[],[e]),o=n.useMemo(()=>s()(a,"node_id"),[a]),l=n.useMemo(()=>(null==e?void 0:e.status)==="loaded"?function(e){let t=[];for(let r of e.data.libraryHierarchyPaths)for(let e of r.stateGroups)t.push(e);return t}(e):[],[e]),c=n.useMemo(()=>s()(l,e=>e.node_id),[l]),d=(0,C.hE)(),p=n.useMemo(()=>s()(d,e=>e.node_id),[d]),m=(0,C.D1)(),_=n.useMemo(()=>s()(m,e=>e.node_id),[m]),h=(0,w.Ns)(),g=n.useMemo(()=>(0,u.kc)().dse_module_publish?s()(h,e=>e.node_id):{},[h]),y=(0,i.wA)();n.useLayoutEffect(()=>{y(f.B2({components:o,styles:r,stateGroups:c,variableSets:p,variables:_,modules:g})),y((0,E.Nf)())},[y,o,c,r,p,_,g]),n.useEffect(()=>{((null==e?void 0:e.status)==="loaded"||(null==e?void 0:e.status)==="errors")&&(0,v.eM)()},[e])}(r?m[r]:null);let I=n.useCallback(e=>{h(t=>{let r=t[e]??0;return{...t,[e]:r+1}}),y(t=>({...t,[e]:Date.now()}))},[]),T=n.useCallback(e=>{h(t=>{let r=(t[e]??0)-1;if(r>0)return{...t,[e]:r};{r<0&&console.error("Tried to release subscription for library items that doesn't exist");let n={...t};return delete n[e],n}})},[]),A=Object.keys(_),O=Object.keys(a),L=d()([...A,...O]),R=o()(L,A);n.useEffect(()=>{let e=L.length,r=R.length;e>t&&r>0&&l(r=>{let n=[...R].sort((e,t)=>{let r=g[e],n=g[t];return null==r?-1:null==n?1:null==r&&null==n?0:r-n}).slice(0,e-t),i={...r};for(let e of n)delete i[e];return i})});let P=n.useMemo(()=>({requestLibraryItems:I,releaseLibraryItems:T,fetchedFileKeys:L,subscriptions:m}),[I,T,L,m]);return n.createElement(n.Fragment,null,n.createElement(N.Provider,{value:P},e),L.map(e=>n.createElement(D,{key:e,fileKey:e,onChange:c})),Object.entries(m).map(([e,t])=>t&&n.createElement(k,{subscription:t,fileKey:e,key:e})))}function k({subscription:e,fileKey:t}){return(0,m.ap)(e,"Library Data Subscription Load Time",{fileKey:t,numStyles:"loaded"===e.status?e.data.numStyles:0}),null}let D=n.memo(function({fileKey:e,onChange:t}){let r=e!==(0,b.tS)(),i=(0,A.wJ)(e),a=(0,y.Ck)(),{view:o,args:l,options:s}=i?{view:I.Acj,args:{hubFileId:e},options:{enabled:a()}}:{view:r?I.tIY:I.s5n,args:{fileKey:e},options:void 0},c=(0,_.Rs)(o,l,s);return n.useEffect(()=>{t(e,c)},[t,e,c]),null}),M=(0,h.cm)(function(e){var t;if("loaded"!==e.status)return e;let r=e.data;if("communityLibraryByHubFileId"in r){let e=r.communityLibraryByHubFileId;if(!e)return(0,_.e1)([]);let t=e.libraryHierarchyPaths.map(t=>{let r=t.styles.map(t=>(0,T.KC)(t,{type:"hubFile",file:{id:e.hubFileId}}));return{pageName:t.pageName??void 0,containingFrameName:t.containingFrameName??void 0,nameHierarchyPath:t.nameHierarchyPath??void 0,components:[],stateGroups:[],styles:r}});return(0,_.gB)({fileKey:e.hubFileId,name:e.name,numComponents:0,numStateGroups:0,numStyles:e.numStyles??0,libraryHierarchyPaths:t})}let n=r.file;if(!n)return(0,_.e1)([]);let i=n.libraryHierarchyPaths.map(e=>{let t="components"in e?e.components.map(e=>(0,T.Qp)(e,{type:"team",file:n})):[],r="stateGroups"in e?e.stateGroups.map(e=>(0,T.SS)(e,{type:"team",file:n})):[],i=e.styles.map(e=>(0,T.KC)(e,{type:"team",file:n}));return{pageName:e.pageName??void 0,containingFrameName:e.containingFrameName??void 0,nameHierarchyPath:e.nameHierarchyPath??void 0,components:t,stateGroups:r,styles:i}});return(0,_.gB)({fileKey:n.key,name:n.name,numComponents:n.library&&"numComponents"in n.library&&n.library.numComponents||0,numStateGroups:n.library&&"numStateGroups"in n.library&&n.library.numStateGroups||0,numStyles:(null==(t=n.library)?void 0:t.numStyles)??0,libraryHierarchyPaths:i})});function x(e,t){let r=[];for(let n of e.libraryHierarchyPaths)for(let e of n.styles)t?e.style_type===t&&r.push(e):r.push(e);return r}function F(e,t){return x(e.data,t)}},416095:(e,t,r)=>{"use strict";r.d(t,{A0:()=>e_,AA:()=>e5,Av:()=>et,CG:()=>tH,Cj:()=>tF,Dg:()=>en,E2:()=>tV,Ei:()=>t0,FS:()=>tz,Fl:()=>tj,Fz:()=>e4,G$:()=>tD,GA:()=>eP,Gd:()=>eo,Gg:()=>e8,Gj:()=>t2,Gp:()=>tl,HF:()=>X,Hb:()=>tM,Ht:()=>tk,IW:()=>ei,J1:()=>eQ,Jb:()=>ev,Jc:()=>J,K3:()=>eN,KQ:()=>eW,Kw:()=>eF,LB:()=>ez,LC:()=>tf,LH:()=>t5,LI:()=>tU,LT:()=>tY,LX:()=>ex,Lk:()=>eM,MA:()=>tK,MF:()=>ee,Mb:()=>eJ,NW:()=>tE,NY:()=>tW,QC:()=>tv,QO:()=>tb,QT:()=>ey,Qg:()=>eI,R2:()=>ts,RQ:()=>tg,T4:()=>t$,VC:()=>eS,VF:()=>tn,VO:()=>tx,Vd:()=>eu,Vk:()=>tu,WV:()=>tp,WY:()=>e2,X0:()=>ep,X7:()=>er,XV:()=>eb,Ys:()=>eX,_B:()=>ty,_Q:()=>tm,aD:()=>q,ad:()=>tG,bd:()=>tO,cU:()=>e7,cd:()=>e9,dG:()=>eA,dx:()=>tB,eD:()=>t4,eM:()=>tC,eS:()=>ti,gA:()=>eU,gi:()=>tP,hH:()=>e1,i_:()=>ej,j7:()=>es,jk:()=>eR,kD:()=>ed,kG:()=>tw,kX:()=>tJ,kw:()=>tA,lG:()=>tS,lg:()=>Q,n5:()=>t_,nV:()=>ec,oH:()=>tN,og:()=>ef,ov:()=>tt,pq:()=>te,qB:()=>eL,r9:()=>tR,rC:()=>eG,rt:()=>eg,sy:()=>td,td:()=>ta,th:()=>tq,ti:()=>em,uD:()=>tQ,uH:()=>tc,uJ:()=>eB,vu:()=>tX,w$:()=>t1,w8:()=>e$,xl:()=>ea,yW:()=>tZ,yh:()=>el,yt:()=>ew,zE:()=>th,zm:()=>e3});var n=r(411855),i=r(188507),a=r(758271),o=r.n(a),l=r(776250),s=r(717068),c=r(935283),d=r(297666),u=r(38329),p=r(794272),m=r(966712),_=r(886653),h=r(364898),g=r(776621),f=r(437304),E=r(96328),y=r(304783),b=r(27087),v=r(515009),I=r(47506),T=r(939863),S=r(75224),w=r(572900),A=r(265746),C=r(868389),N=r(944682),O=r(395281),L=r(452246),R=r(182976),P=r(974105),k=r(44892),D=r(875847),M=r(852800),x=r(912666),F=r(237929),U=r(666068),B=r(336599),H=r(320741),V=r(173454),G=r(279145),W=r(656012),K=r(333370),Y=r(479296),j=r(335682),z=r(694687),$=r(388094),Z=r(694517),q=(e=>(e.CURRENT="current",e.ALL="all",e))(q||{});let J=n.createContext(null);function X(e){return e===V.E8.CURRENT||e===V.E8.CHANGED||e===V.E8.DELETED}function Q(e){return e===V.E8.NEW||e===V.E8.CHANGED||e===V.E8.DELETED}function ee(e){switch(e.type){case V.PW.COMPONENT:return{type:e.type,key:e.component_key,version:e.content_hash};case V.PW.STATE_GROUP:return{type:e.type,key:e.key,version:e.version};case V.PW.STYLE:return{type:e.type,key:e.key,version:e.content_hash};case V.PW.VARIABLE_SET:case V.PW.VARIABLE:case V.PW.MODULE:return{type:e.type,key:e.key,version:e.version};default:(0,c.vA)(!1,`Unknown type ${null==e?void 0:e.type}`)}}function et(e){let{key:t}=ee(e);return(0,c.KF)(void 0!==t,"Asset had no key",{asset:e}),t}function er(e){return e.map(et)}function en(e){return ee(e).version}function ei(e){return!e.isShown||e.isCreating?null:e.style.isLocal?null:e.style}function ea(e,t){return`/file/${e}?node-id=${encodeURIComponent(t)}&main-component=1`}function eo(e){return ea(e.file_key,e.node_id)}function el(e,t,r){for(let r of Object.values(t))if("loaded"===r.status&&r.data.key===e)return r.data;for(let t of Object.values(r))if(t.key===e)return t;return null}function es(e,t){let r=Object.create(null);if(!t)return r;let n=t.team_id||V.Yu,i=e[n]&&e[n][t.key]||Object.create(null);for(let e in i)null==i[e].unpublished_at&&(r[e]=i[e]);return r}function ec(e,t){let r=es(e,t);return Object.keys(r).map(e=>r[e])}function ed(e){let t=[];return eu(e,(r,n,i)=>{t.push(e[r][n][i])}),t}function eu(e,t){Object.keys(e).forEach(r=>{Object.keys(e[r]).forEach(n=>{Object.keys(e[r][n]).forEach(e=>{t(r,n,e)})})})}function ep(e){return Object.keys(e).map(t=>e[t]).filter(e=>!e.deletedFromSceneGraph)}function em(e,t){let r=[];for(let n in e){let i=e[n];i.style_type!==t||i.deletedFromSceneGraph||r.push(i)}return r}function e_(e,t,r,n){let i=[];for(let a in t)for(let o in t[a])if(eL(e,r,{team_id:a,key:o},n))for(let e in t[a][o]){let r=t[a][o][e];i.push(r)}return i}let eh=new Set;async function eg(e){let t=new Map((e=e.filter(e=>e.canvas_url&&!k.Eo.hasKeyInCache(k.WZ.augmentUrlWithFileVersion(e.canvas_url))&&!eh.has(e.key))).map(e=>[e.key,e.canvas_url])),r=e.map(e=>e.key);if(r.forEach(e=>eh.add(e)),0!==r.length)try{let e=await b.Ay.post("/style/canvases",{style_keys:r});for(let[r,n]of Object.entries(e.data.meta.urls))b.Ay.crossOriginGetAny(n,null,{responseType:"arraybuffer"}).then(({data:e})=>{let n=t.get((0,v.n3)(r));if(n){let t=k.WZ.augmentUrlWithFileVersion(n);k.Eo.putCanvas(t,e)}eh.delete((0,v.n3)(r))}).catch(()=>{eh.delete((0,v.n3)(r))})}catch(e){r.forEach(e=>eh.delete(e))}}let ef=["TEXT","FILL","EFFECT","GRID"],eE=(e,t)=>{let r=t?1:2;switch(e){case"TEXT":return(0,T.t)("design_systems.styles.text_style",{numStyles:r});case"FILL":return(0,T.t)("design_systems.styles.color_style",{numStyles:r});case"EFFECT":return(0,T.t)("design_systems.styles.effect_style",{numStyles:r});case"GRID":return(0,T.t)("design_systems.styles.grid_style",{numStyles:r});case"EXPORT":return(0,T.t)("design_systems.styles.export_style",{numStyles:r});case"STROKE":return(0,T.t)("design_systems.styles.stroke_style",{numStyles:r});default:return(0,l.sx)("Unknown style type",{styleType:e}),(0,T.t)("design_systems.styles.styles",{numStyles:r})}};function ey(e){return eE(e,!1)}function eb(e){return eE(e,!0)}function ev(e){return"inheritFillStyleKeyForStroke"===e?(0,T.t)("design_systems.styles.stroke_color_style"):"inheritFillStyleKey"===e?(0,T.t)("design_systems.styles.fill_color_style"):eb((0,x.sg)(e))}function eI(e,t){var r,n,i;return t in e?{design:!!(null==(r=e[t])?void 0:r.design),figjam:!!(null==(n=e[t])?void 0:n.figjam),slides:!!(null==(i=e[t])?void 0:i.slides)}:{design:null,figjam:null,slides:null}}let eT=e=>(0,m.kc)().piper_inserts?null!==e.design&&null!==e.figjam&&null!==e.slides:null!==e.design&&null!==e.figjam;function eS(e,t){var r;if(!t)return{design:!1,figjam:!1,slides:!1};let n=(r=e.subscriptions.forPresets,(0,m.kc)().dse_preset_libraries?t?eI(r,t.key):{design:!1,figjam:!1,slides:!1}:{design:null,figjam:null,slides:null}),i=eI(e.subscriptions.forCurrentOrg,t.key);return eT(i)?i:n}function ew(e,t){if(!t)return{design:!1,figjam:!1,slides:!1};let r=eS(e,t),n=eI(e.subscriptions.forCurrentWorkspace,t.key);return eT(n)?n:r}function eA(e,t,r){if(!r)return{design:!1,figjam:!1,slides:!1};let n=ew(e,r),i=eI(e.subscriptions.byTeam[t]||{},r.key);return eT(i)?i:n}let eC=(e,t)=>{if(!t)return{design:!1,figjam:!1,slides:!1};let r=eS(e,t),n=eI(e.subscriptions.forCurrentUser,t.key);return eT(n)?n:r};function eN(e,t){let r=eC(e,t);if(eT(r))return r;for(let n in e.subscriptions.byTeam){let i=eA(e,n,t);i.design&&(r.design=!0),i.figjam&&(r.figjam=!0),i.slides&&(r.slides=!0)}return r}let eO=(e,t)=>e.key===t.key||e.source_file_key===t.key||e.key===t.source_file_key;function eL(e,t,r,n){let i;if(!t||!r||eO(t,r))return!1;i=(0,m.kc)().ps_benchmark?t.team_id?n?function(e,t,r){let n=eC(e,r);return eT(n)?n:eA(e,t,r)}(e,t.team_id,r):eA(e,t.team_id,r):eN(e,r):t.team_id?eA(e,t.team_id,r):eN(e,r);let a=null;switch(t.editor_type){case"design":default:a=i.design;break;case"whiteboard":a=i.figjam;break;case"slides":a=i.slides}let o=e.subscriptions.byFile;return t.key in o&&r.key in o[t.key]?o[t.key][r.key]:ta(e,r.key)?a||null===a:a}function eR(e,t,r,n){return eL(e,{key:t.key,team_id:t.teamId,editor_type:t.editorType,source_file_key:t.sourceFileKey},r,n)}function eP(e,t,r,n,i){if(r.length)return!0;for(let r of n){let n;let a=i[r];if(!a)continue;n="file_key"in a?a.file_key:"loaded"===a.status&&a.data.file_key;let o=(0,D.T9)(t.project);if(n&&eL(e,{key:t.key,team_id:t.teamId,editor_type:t.editorType,source_file_key:t.sourceFileKey},{key:n},o))return!0}return!1}let ek=(e,t)=>e.style_type===t.style_type?0:ef.indexOf(e.style_type)<ef.indexOf(t.style_type)?-1:1,eD=(e,t)=>-(0,h.Ez)(e.sort_position||"",t.sort_position||"");function eM(e,t){let r=ek(e,t);return 0===r?eD(e,t):r}function ex(e){e.sort(eD)}function eF(e){let t=new Map;return e.forEach(e=>{let r=t.get(e.style_type);r?r.push(e):t.set(e.style_type,[e])}),t}function eU(e,t){let r=e=>e&&e.toLowerCase?e.toLowerCase():"",n=e.containing_frame||{},i=t.containing_frame||{};return n.pageId!==i.pageId?r(n.pageName)<r(i.pageName)?-1:1:n.nodeId!==i.nodeId?r(n.name)<r(i.name)?-1:1:r(e.name)<r(t.name)?-1:1}function eB(e){let t=[...e];return ex(t),{stylesByPrefix:t.reduce((e,t)=>{let r=(0,F.In)(t.name);return e[r]=e[r]||[],e[r].push(t),e},Object.create(null)),sortedPrefixes:(0,K.wM)(t)}}let eH=!0;function eV(e,t){if(!e||!t)return!0;for(let r in e){if(!(r in t))return!0;let n=e[r],i=t[r];for(let e in n)if(n[e]!==i[e])return!0;for(let e in i)if(!(e in n))return!0}for(let r in t)if(!(r in e))return!0;return!1}function eG(e,t,r,n,i,a,o,l,s,c){let d=Object.create(null),u=0;for(let p in t.forEach(t=>{let s=t.nodeId,p=n[s];a[s]=eq(i[s]),d[s]=e(p,r[s],t,o,l,c);let m=d[s];m.status===V.E8.NEW&&m.type===V.PW.COMPONENT&&(u+=1)}),n)if(!(p in d)){let e=i[p];e&&e.url&&(0,k.qv)(e.url);let t=n[p];if(t.type===V.PW.COMPONENT||t.type===V.PW.STATE_GROUP){let e=(t.type,V.PW.COMPONENT,t);e.old_key&&s.add(e.node_id)}}for(let t in r)t in d||(a[t]=eq(i[t]),d[t]=e(n[t],r[t],null,o,l,c));return{newLocal:d,numNewComponents:u}}function eW(e){var t;let r=e.getState();if(r.versionHistory.activeId&&r.versionHistory.activeId!==Z.V_||!(null==(t=r.mirror)?void 0:t.sceneGraph))return;let n=(0,P.d1)(r),i=n?n.key:"",a=(null==n?void 0:n.library_key)?(0,S.lt)(n.library_key):(0,S.lt)(""),o=new Set,l={},{newLocal:s,numNewComponents:c}=eG(ej,r.library.publishableSymbols,r.library.openFilePublished__LIVEGRAPH.components,r.library.local.components,r.library.local.thumbnails,l,i,a,o,V.PW.COMPONENT),{newLocal:d}=eG(ez,r.library.publishableStateGroups,r.library.openFilePublished__LIVEGRAPH.stateGroups,r.library.local.stateGroups,r.library.local.thumbnails,l,i,a,o,V.PW.STATE_GROUP),{newLocal:u}=eG(e$,r.library.publishableStyles,r.library.openFilePublished__LIVEGRAPH.styles,r.library.local.styles,r.library.local.thumbnails,l,i,a,o,V.PW.STYLE),{newLocal:p}=eG(eZ,r.library.publishableModules,r.library.openFilePublished__LIVEGRAPH.modules,r.library.local.modules,r.library.local.thumbnails,l,i,a,o,V.PW.MODULE);if(eV(r.library.local.components,s)&&e.dispatch(O.I0({local:s,type:V.PW.COMPONENT})),eV(r.library.local.stateGroups,d)&&e.dispatch(O.I0({local:d,type:V.PW.STATE_GROUP})),eV(r.library.local.styles,u)&&e.dispatch(O.I0({local:u,type:V.PW.STYLE})),eV(r.library.local.modules,p)&&(0,m.kc)().dse_module_publish&&e.dispatch(O.I0({local:p,type:V.PW.MODULE})),function(e,t){if(!e&&!t)return!1;if(!e||!t||Object.keys(e).length!==Object.keys(t).length)return!0;for(let r in e)if(!t[r]||e[r].url!==t[r].url||e[r].content_hash!==t[r].content_hash)return!0;return!1}(r.library.local.thumbnails,l)&&e.dispatch(L.xp({thumbnails:l})),c>0&&eH&&((0,I.YQ)({id:"Parsed first components"}),eH=!1),o.size>0){let t=r.notifications.filter(e=>e.type===A._.MOVE_COMPONENTS_PROMPT);if(t.length>0){let r=t[0].type===A._.MOVE_COMPONENTS_PROMPT&&t[0].movableItemIds;r&&(0,f.Bq)(r,o)&&e.dispatch(w.$.dequeue({type:A._.MOVE_COMPONENTS_PROMPT}))}}}let eK="Generating a local library item that is neither in the library nor in the scene graph. Why.",eY=(e,t,r,n,i,a)=>{var o;if(!r){if(t)return{...t,status:V.E8.DELETED,deletedFromSceneGraph:!0};throw Error(eK)}let l=t&&null==t.unpublished_at,s=!!r.isPublishable,c=V.E8.NOT_STAGED;l&&!s?c=V.E8.DELETED:!l&&s?c=V.E8.NEW:l||s||(c=V.E8.NOT_STAGED);let{description:d,description_rt:u}=(o=r.description,{description:r.descriptionPlain??"",description_rt:o??""});return{node_id:r.nodeId,name:r.name,description:d,description_rt:u,file_key:n,library_key:i,isPublishable:s,deletedFromSceneGraph:!1,meta:e?e.meta:void 0,isLocal:!0,status:c,type:a,thumbnail_url:t&&t.thumbnail_url||void 0}};function ej(e,t,r,n,i){let a={...eY(e,t,r,n,i,V.PW.COMPONENT),type:V.PW.COMPONENT,height:null==r?void 0:r.height,width:null==r?void 0:r.width,x:null==r?void 0:r.x,y:null==r?void 0:r.y,componentPropDefError:null==r?void 0:r.componentPropDefError,containing_frame:(null==r?void 0:r.containingFrame)||(null==t?void 0:t.containing_frame)||void 0,component_key:(null==t?void 0:t.component_key)||void 0,content_hash:(null==r?void 0:r.versionHash)||(null==t?void 0:t.content_hash)||void 0,userFacingVersion:(null==r?void 0:r.userFacingVersion)??v.F7.INVALID,old_key:(null==r?void 0:r.oldKey)||void 0};if(!t)return a;let o=null==t.unpublished_at,l=!!(null==r?void 0:r.isPublishable);return o&&l&&(t&&t.content_hash===a.content_hash&&!(0,G.Q_)(t.containing_frame,null==r?void 0:r.containingFrame)&&(0,G.pD)(t.name,null==r?void 0:r.name)&&(0,G.pD)(t.description,a.description)?a.status=V.E8.CURRENT:a.status=V.E8.CHANGED),a}function ez(e,t,r,n,i){let a=eY(e,t,r,n,i,V.PW.STATE_GROUP);if(!t){if(!r)throw Error(eK);return{...a,type:V.PW.STATE_GROUP,version:r.versionHash,userFacingVersion:r.userFacingVersion,containing_frame:r.containingFrame,width:r.width,height:r.height,stateGroupError:r.stateGroupError,componentPropDefError:r.componentPropDefError,fill_color:r.fill_color,default_state_key:r.default_state_key,old_key:r.oldKey||void 0}}let o={...a,type:V.PW.STATE_GROUP,version:(null==r?void 0:r.versionHash)||t.version,userFacingVersion:(null==r?void 0:r.userFacingVersion)||v.Rf.INVALID,containing_frame:(null==r?void 0:r.containingFrame)||t.containing_frame,width:(null==r?void 0:r.width)||t.min_node_width,height:(null==r?void 0:r.height)||t.min_node_height,key:t.key||void 0,stateGroupError:(null==r?void 0:r.stateGroupError)||M.bwI.NONE,componentPropDefError:(null==r?void 0:r.componentPropDefError)||M.uXg.NONE,fill_color:(null==r?void 0:r.fill_color)||(null==t?void 0:t.fill_color),default_state_key:(null==r?void 0:r.default_state_key)||(null==t?void 0:t.default_state_key),old_key:(null==r?void 0:r.oldKey)||void 0},l=null==t.unpublished_at,s=!!(null==r?void 0:r.isPublishable);return l&&s&&(t.version===o.version&&!(0,G.Q_)(t.containing_frame,null==r?void 0:r.containingFrame)&&(0,G.pD)(t.name,null==r?void 0:r.name)&&(0,G.pD)(t.description,o.description)?o.status=V.E8.CURRENT:o.status=V.E8.CHANGED),o}function e$(e,t,r,n,i){let a=eY(e,t,r,n,i,V.PW.STYLE),o=t&&null==t.unpublished_at,l=!!(null==r?void 0:r.isPublishable),s=!1;if(o&&l&&(t&&t.content_hash===(null==r?void 0:r.versionHash)&&(0,G.pD)(t.name,null==r?void 0:r.name)&&(0,G.pD)(t.description,a.description)?(0,G.pD)(t.sort_position,null==r?void 0:r.sortPosition)?a.status=V.E8.CURRENT:(a.status=V.E8.CHANGED,s=!0):a.status=V.E8.CHANGED),r)return{...a,type:V.PW.STYLE,key:r.styleKey,style_type:r.styleType,is_soft_deleted:r.isSoftDeleted,sort_position:r.sortPosition,content_hash:r.versionHash,userFacingVersion:r.userFacingVersion,hasOnlyBeenReordered:s,old_key:r.oldKey||void 0};if(t)return{...a,type:V.PW.STYLE,key:t.key,style_type:t.style_type,is_soft_deleted:!0,sort_position:t.sort_position,content_hash:t.content_hash,userFacingVersion:t.userFacingVersion,hasOnlyBeenReordered:s};throw Error(eK)}function eZ(e,t,r,n,i){let a=eY(e,t,r,n,i,V.PW.MODULE);if(!t){if(!r)throw Error(eK);return{...a,type:V.PW.MODULE,moduleSource:r.moduleSource,height:r.height,width:r.width,x:r.x,y:r.y,containing_frame:r.containingFrame,version:r.versionHash,userFacingVersion:r.userFacingVersion,old_key:r.oldKey||void 0}}let o={...a,type:V.PW.MODULE,moduleSource:(null==r?void 0:r.moduleSource)||t.moduleSource,height:(null==r?void 0:r.height)||t.height,width:(null==r?void 0:r.width)||t.width,x:null==r?void 0:r.x,y:null==r?void 0:r.y,containing_frame:(null==r?void 0:r.containingFrame)||t.containing_frame||void 0,version:(null==r?void 0:r.versionHash)||t.version,userFacingVersion:(null==r?void 0:r.userFacingVersion)||v.Pg.INVALID,old_key:(null==r?void 0:r.oldKey)||void 0,key:t.key},l=t&&null==t.unpublished_at,s=!!(null==r?void 0:r.isPublishable);return l&&s&&(t.version===o.version&&!(0,G.Q_)(t.containing_frame,null==r?void 0:r.containingFrame)&&(0,G.pD)(t.name,null==r?void 0:r.name)&&(0,G.pD)(t.description,o.description)?o.status=V.E8.CURRENT:o.status=V.E8.CHANGED),o}function eq(e){return{kind:e&&e.kind||void 0,url:e&&e.url||void 0,content_hash:e&&e.content_hash||void 0}}let eJ=(e,t)=>`GET_PUBLISHED_COMPONENTS_FOR_${e}_FV${t}`,eX=new Set;function eQ(e){for(let t of eX)e(R.yH({key:t}))}let e0=new Set;function e1(e){return e0.has(e)}function e2(e){e0.add(e)}function e3(){e0.clear()}async function e5(e,t,r,n,i={}){var a,o,l,s,c,d,u,p;if(null===r)return;let m=eJ(e,r);if(!(0,B.Sc)(t,m))return;let _=W.Z.getLibraryPublishedComponentsFv({key:e,fileVersion:r,includeThumbnail:i.includeThumbnail,includeRealtime:i.subscribeToRealtime});(0,H.N)(_,{dispatch:n},m),eX.add(m);try{let e=await _,t=(null==(o=null==(a=null==e?void 0:e.data)?void 0:a.meta)?void 0:o.components)||[],r=(null==(s=null==(l=null==e?void 0:e.data)?void 0:l.meta)?void 0:s.state_groups)||[],m=null==(d=null==(c=null==e?void 0:e.data)?void 0:c.meta)?void 0:d.file,h=null==(p=null==(u=null==e?void 0:e.data)?void 0:u.meta)?void 0:p.library;if(n(N.uo({files:[m],subscribeToRealtime:i.subscribeToRealtime})),h&&n(O.t2({libraries:[h]})),t=t.map(e=>({...e,team_id:m.team_id})),r=r.map(e=>({...e,team_id:m.team_id})),0!==r.length){let e=r.reduce((e,t)=>(e[t.node_id]=t,e),{});n(O.yJ({itemsById:e,fileKey:m.key,libraryKey:(0,S.lt)(m.library_key),teamId:m.team_id,type:V.PW.STATE_GROUP}))}if(0!==t.length){let e=t.reduce((e,t)=>(e[t.node_id]=t,e),{});n(O.yJ({itemsById:e,fileKey:m.key,libraryKey:(0,S.lt)(m.library_key),teamId:m.team_id,type:V.PW.COMPONENT}))}e2(m.key)}catch(t){console.warn(`Failed to get published components from file ${e}`)}}async function e4(e,t,r,n){var i,a,o,l,s,c,d,u;if(null===r)return;let p=eJ(e,r);if(!(0,B.Sc)(t,p))return;let m=W.Z.getCommunityLibraryPublishedComponents({hubFileId:e});(0,H.N)(m,{dispatch:n},p),eX.add(p);try{let t=await m,r=(null==(a=null==(i=null==t?void 0:t.data)?void 0:i.meta)?void 0:a.components)||[],p=(null==(l=null==(o=null==t?void 0:t.data)?void 0:o.meta)?void 0:l.state_groups)||[],_=null==(c=null==(s=null==t?void 0:t.data)?void 0:s.meta)?void 0:c.hub_file,h=null==(u=null==(d=null==t?void 0:t.data)?void 0:d.meta)?void 0:u.library;if(_&&n((0,C.D3)([_])),h&&n(O.t2({libraries:[h]})),0!==p.length){let e=p.reduce((e,t)=>(e[t.node_id]=t,e),{});n(O.yJ({itemsById:e,fileKey:_.id,libraryKey:(0,S.$A)(_.id),teamId:null,type:V.PW.STATE_GROUP}))}if(0!==r.length){let t=r.reduce((e,t)=>(e[t.node_id]=t,e),{});n(O.yJ({itemsById:t,fileKey:e,libraryKey:(0,S.$A)(e),teamId:null,type:V.PW.COMPONENT}))}e2(e)}catch(t){console.warn(`Failed to get published components from Community Library ${e}`)}}function e8(e,t){let r={};return t.forEach(e=>{var t,n,i,a;if(null==(n=null==(t=e.containing_frame)?void 0:t.containingStateGroup)?void 0:n.nodeId){let t=null==(a=null==(i=e.containing_frame)?void 0:i.containingStateGroup)?void 0:a.nodeId;r[t]||(r[t]=[]),r[t].push(e.name)}}),e.map(e=>({...e,stateNames:r[e.node_id]}))}let e6=new Set;async function e7(e,t=[],r,n,i,a,l){var s,c,d,u;if(!t.length)return{};let p={};for(let r of t){let t=e.get(r);t&&t.styleKey&&0!==M.glU.getNumUsagesOfStyle(t.styleKey,!0)&&(p[t.styleKey]=r)}let m=Object.keys(p),_=m.length>0&&(null==(d=null==(c=null==(s=await b.Ay.post("/api/unpublished_styles",{style_keys:m,org_id:i}))?void 0:s.data)?void 0:c.meta)?void 0:d.styles)||[],h=o()([..._,...Object.values(r).filter(e=>e.key in p)],e=>e.key),g=new Set(h.map(e=>e.key)),f=Object.keys(p).filter(e=>e&&!g.has((0,v.n3)(e))),E=f.length>0&&(null==(u=await b.Ay.post("/api/missing_styles",{style_keys:f}))?void 0:u.data.meta)||{};delete E[a];let y=[],I={};for(let e of h){let t=e.file_key;I[t]||(I[t]=[]),I[t].push(e),n[t]||e6.has(t)||(e6.add(t),y.push(t))}for(let[t,r]of Object.entries(E))for(let n of(I[t]||(I[t]=[]),r)){let r=p[n]&&e.get(p[n]);r&&I[t].push({type:V.PW.STYLE,name:r.name,file_key:t,key:n,thumbnail_url:`/style/${n}/thumbnail?ver=${r.styleVersionHash}`,canvas_url:`/style/${n}/thumbnail?ver=${r.styleVersionHash}`,content_hash:r.styleVersionHash||void 0,userFacingVersion:(0,v.IA)(r.userFacingVersion),node_id:r.guid,isLocal:!1,style_type:r.styleType,library_key:r.sourceLibraryKey})}return await e9(y,l),I}async function e9(e,t){if(e.length>0){let n=[];async function r(e){try{let r=await b.Ay.post("/api/files/batch",{file_keys:e});r.data.meta||(0,g.x1)("designSystems","Unexpected empty API response",{data:JSON.stringify(r.data??null),numFiles:e.length,status:r.status}),t(N.uo({files:r.data.meta.files,subscribeToRealtime:!0}))}catch(e){(0,g.$D)(y.e.DESIGN_SYSTEMS_EDITOR,e)}}for(let t=0;t<e.length;t+=200){let i=e.slice(t,t+200);n.push(r(i))}await Promise.all(n)}}async function te(e,t,r){if(0===t.length)return[];let{styles:n,files:i}=(await b.Ay.post("/api/styles",{style_keys:t,org_id:r})).data.meta;return e(N.uo({files:i,subscribeToRealtime:!0})),n}function tt(e,t=[],r=[],n,i,a,o,l=!1){var s,c,d,u;let p={},m=t.concat(r),_=[];for(let t of m){let r,o,m;let h=e.get(t);if(!h)continue;let g=tZ(h)||void 0,f=h.publishID,E=h.isStateGroup;if(E?(h.sharedStateGroupVersion&&(r=h.sharedStateGroupVersion),h.stateGroupKey&&(o=h.stateGroupKey)):(h.sharedSymbolVersion&&(r=h.sharedSymbolVersion),h.componentKey&&(o=h.componentKey)),!f||!g)continue;let y=i[g];if(y){let e=y.team_id||V.Yu;if((null==(m=((E?n.stateGroups[e]||{}:n.components[e]||{})[g]||{})[f])?void 0:m.type)===V.PW.COMPONENT){let t=null==(c=null==(s=m.containing_frame)?void 0:s.containingStateGroup)?void 0:c.nodeId;t&&(m=null==(u=null==(d=n.stateGroups[e])?void 0:d[g])?void 0:u[t],E=!0)}}else e6.has(g)||(e6.add(g),_.push(g));if(m)p[et(m)]=m;else if(E){if(!o||p[o]||!h.reversedChildrenGuids.some(t=>{var r;let n=null==(r=e.get(t))?void 0:r.componentKey;return n&&!p[n]}))continue;p[o]={type:V.PW.STATE_GROUP,name:h.name,file_key:g,library_key:h.sourceLibraryKey,key:o,thumbnail_url:`/state_group/${o}/thumbnail?ver=${r}&fv=${a}`,canvas_url:`/state_group/${o}/canvas?ver=${r}&fv=${a}`,node_id:f||"",isLocal:!1,version:r||v.Rf.INVALID,userFacingVersion:(0,v.Rf)(h.userFacingVersion),containing_frame:{},min_node_width:0,min_node_height:0,default_state_key:""}}else{if(!o||p[o]||h.isState&&!l||null===a)continue;p[o]={type:V.PW.COMPONENT,name:h.name,file_key:g,library_key:h.sourceLibraryKey,component_key:o,thumbnail_url:`/component/${o}/thumbnail?ver=${r}&fv=${a}`,canvas_url:`/component/${o}/canvas?ver=${r}&fv=${a}`,node_id:f||"",content_hash:h.sharedSymbolVersion||void 0,userFacingVersion:(0,v.F7)(h.userFacingVersion),isLocal:!1}}}return e9(_,o),Object.values(p)}let tr=(e,t,r,n,i,a,o)=>tt(e,t,r,n,i,a,o,!0).reduce((e,t)=>(t.type===V.PW.COMPONENT?t.component_key&&(e[t.component_key]=t):e[t.key]=t,e),Object.create(null));function tn(e,t,r,n,i){let a=(e=e.map(e=>({...e,team_id:(0,m.kc)().ds_use_lib_keys?n[e.library_key].team_id:r[(0,S.hH)(e)].team_id}))).reduce((e,t)=>((0,S.hH)(t) in e?e[(0,S.hH)(t)].push(t):e[(0,S.hH)(t)]=[t],e),{}),o=new Map;for(let t of e){let e=t.library_key;o.has(e)?o.get(e).push(t):o.set(e,[t])}if((0,m.kc)().ds_use_lib_keys)for(let[e,r]of o.entries())i(O.yJ({itemsById:r.reduce((e,t)=>(e[t.node_id]=t,e),{}),fileKey:(0,S.hH)(r[0]),libraryKey:e,teamId:n[e].team_id,type:t}));else for(let[e,n]of Object.entries(a))i(O.yJ({itemsById:n.reduce((e,t)=>(e[t.node_id]=t,e),{}),fileKey:e,libraryKey:n[0].library_key,teamId:r[e].team_id,type:t}))}function ti(e){let t=(0,i.wA)(),{library:r,fileByKey:a,sceneGraph:o,fileVersion:l,subscribedComponents:s,subscribedStateGroups:c,subscribedComponentsOnCurrentPage:d,subscribedStateGroupsOnCurrentPage:u}=(0,p.R)(e=>({library:e.library,fileByKey:e.fileByKey,sceneGraph:e.mirror.sceneGraph,fileVersion:e.fileVersion,subscribedComponents:(0,$.C9)(e),subscribedStateGroups:(0,$.jf)(e),subscribedComponentsOnCurrentPage:(0,$.J5)(e),subscribedStateGroupsOnCurrentPage:(0,$.EY)(e)})),[m,_]="current"===e?[d,u]:[s,c];return n.useMemo(()=>tr(o,m,_,r.published,a,l,t),[o,m,_,r.published,a,l,t])}function ta(e,t){return!!e.defaultPublished.fileKeys.includes(t)}let to=(0,_.xx)(e=>{let t={},r=e.local.styles;for(let e in r){let n=r[e];t[n.key]=n}return t});function tl(e,t,r){let n=to(r)[e];if(n)return{kind:V.AT.LOCAL,value:n};let i=r.used__LIVEGRAPH.styles[e];return(null==i?void 0:i.status)==="loaded"?{kind:V.AT.LIBRARY,value:i.data}:t&&t.length?{kind:V.AT.DANGLING,value:{key:e,node_id:t[0]}}:void 0}function ts(e,t){return tl(e,t,(0,i.d4)(e=>e.library))}function tc(e,t){if(!e)return"";if(e.kind!==V.AT.DANGLING)return e.value.name;{let r=t.get(e.value.node_id);return r?r.name:""}}function td(e,t){let r=(0,i.d4)(e=>e.mirror.sceneGraph);return tc(ts(e,t),r)}let tu=(0,_.xx)(e=>{let t={};return Object.keys(e).forEach(r=>{t[r]={},Object.keys(e[r]).forEach(n=>{t[r][n]=tp(e[r][n])})}),t});function tp(e){var t;let r={};for(let n in e){let i=e[n];(null==(t=i.containing_frame)?void 0:t.containingStateGroup)&&(r[n]={...i})}return r}function tm(e,t,r){let n=e.team_id,i=e.key,a=n?r[n]:null;if(a){let e=a[i];if(e)return e[t]}return null}function t_(e,t){return function(e,t){var r,n;if(t.components[e]){let i=t.components[e],a=null==(n=null==(r=i.containing_frame)?void 0:r.containingStateGroup)?void 0:n.nodeId;return a?t.stateGroups[a]||null:i||null}return t.stateGroups[e]&&t.stateGroups[e]||null}(e,t)||(0,m.kc)().dse_module_publish&&t.modules[e]&&t.modules[e]||null}function th(e){let t=e.type===V.PW.STATE_GROUP&&!!(e.stateGroupError&&e.stateGroupError!==M.bwI.TOO_MANY_STATES_ERROR);return!!(e.componentPropDefError&&(e.componentPropDefError===M.uXg.CONFLICTING_NAMES_ERROR||e.componentPropDefError===M.uXg.CONFLICTING_NAMES_WITH_VARIANT_ERROR||e.componentPropDefError===M.uXg.UNUSED_DEF_ERROR)||t)}function tg(e){return e.variableSetError!==M.HG$.NONE}let tf=()=>{},tE=new Promise(e=>{tf=e}),ty=()=>{},tb=new Promise(e=>{ty=e});function tv(e){e.dispatch(O.zK({}))}let tI=()=>{},tT=new Promise(e=>{tI=e}),tS=e=>{var t;return{callback:tI,promise:tT,resetPromise:tL,loadingKey:`GET_USED_COMPONENTS_STATE_GROUPS_FOR_${null==(t=e.getState().openFile)?void 0:t.key}`}},tw=()=>{},tA=new Promise(e=>{tw=e}),tC=()=>{},tN=new Promise(e=>{tC=e});function tO(){tf(),ty(),tw(),tE=new Promise(e=>{tf=e}),tb=new Promise(e=>{ty=e}),tA=new Promise(e=>{tw=e}),tL()}function tL(){tI(),tT=new Promise(e=>{tI=e})}function tR(e,t,r){return e.team_id===r?-1:t.team_id===r?1:(e.team_name||"").localeCompare(t.team_name||"")}function tP(e,t,r){return e.sort((e,n)=>{var i;let a=(i=null==r?void 0:r.groupByFolders,e.team_id!==n.team_id?tR(e,n,t):i&&e.file.folder_id!==n.file.folder_id?e.folder_name<n.folder_name?-1:1:(e.library_file_name||"").localeCompare(n.library_file_name||""));return(null==r?void 0:r.isDescending)?a:-a})}function tk(e,t,r){let n;let i=e.node_id,a=t[i]||{},o=a.url||null;switch(e.type){case V.PW.COMPONENT:case V.PW.STYLE:n=e.content_hash;break;case V.PW.VARIABLE:case V.PW.VARIABLE_SET:case V.PW.STATE_GROUP:case V.PW.MODULE:n=e.version;break;default:(0,c.xb)(e)}return(r||a.content_hash!==n||!(0,k.OM)(o))&&(e.type===V.PW.COMPONENT||e.type===V.PW.STATE_GROUP||e.type===V.PW.MODULE?o=(0,k.r2)(i):e.type===V.PW.STYLE?o=(0,U.fP)(e)?(0,k.jh)():(0,k.aV)(i,e.style_type):(e.type===V.PW.VARIABLE||e.type===V.PW.VARIABLE_SET)&&(o=(0,k.jh)())),o}function tD({numProductComponents:e,numStyles:t,numVariables:r,numVariableCollections:n,numModuleAssets:i}){let a=t>0?(0,T.t)("design_systems.libraries_modal.plural.num_style",{numStyles:t}):null,o=e>0?(0,T.t)("design_systems.libraries_modal.plural.num_component",{numComponents:e}):null,l=r>0?(0,T.t)("design_systems.libraries_modal.plural.num_variables",{numVariables:r}):null,c=(0,m.kc)().dse_editor_templates_v1&&i>0?(0,T.t)("design_systems.libraries_modal.plural.num_templates",{numTemplates:i}):null,d=0===r&&n>0?(0,T.t)("design_systems.libraries_modal.plural.variable_collections",{numVariableCollections:n}):null,u=(0,s.WI)([o,a,l,d,c]);return 0===u.length?(0,m.kc)().dse_editor_templates_v1?(0,T.t)("design_systems.libraries_modal.no_publishable_assets"):(0,T.t)("design_systems.libraries_modal.no_components_styles_variables"):(0,E.Yx)(u,"unit")}let tM=e=>e!==V.E8.DELETED&&e!==V.E8.NOT_STAGED;function tx(e,t,r,n,i){let a=t[e];if(!a)return null;let o=ed(r).find(e=>e.type===V.PW.COMPONENT?e.component_key===a:e.key===a),l="another file";if(!o)return l;let s=(0,m.kc)().ds_use_lib_keys?i[o.library_key]:n[(0,S.hH)(o)];return s?s.name:l}function tF(e,t,r){var n,i;let a=e.reduce((r,n)=>(t[n]?r[n]=t[n]:(0,c.KF)(!1,"Expected nodeIdsToMove to be a subset of movableNodeIdToOldKey",{nodeIdsToMove:e,movableNodeIdToOldKey:t}),r),Object.create(null));for(let e of r){let r=null==(i=null==(n=e.containing_frame)?void 0:n.containingStateGroup)?void 0:i.nodeId,o=t[e.node_id];if(!r||!o)continue;let l=!!t[r];a[r]||!l?a[e.node_id]=o:a[e.node_id]&&delete a[e.node_id]}return{moveRemappings:a,movableItemsToPublishAsNew:new Set(Object.keys(t).filter(e=>!a[e]))}}function tU(e){return e.isStateGroup||"SYMBOL"===e.type&&!e.isState}function tB(e){return V.YJ.includes(e.type)}function tH(e){return e.isLocal?M.Egt.getAssetKeyForPublish(e.node_id):et(e)}function tV(e){var t,r;return(null==(r=null==(t=e.containing_frame)?void 0:t.containingStateGroup)?void 0:r.nodeId)??null}function tG(e){return!!tV(e)}function tW(e,t,r,n){let i;if(!e)return;let a=t.get(e);if(a&&a.containingStateGroupId&&(a=t.get(a.containingStateGroupId)),a){if(tZ(a)){let e=a.componentKey??a.stateGroupKey;e&&(i=null==n?void 0:n[e])}else i=null==r?void 0:r[a.guid];return i}}function tK(e,t){function r(e){return e.toLowerCase()}let n=r(e.name),i=r(t.name);return n<i?-1:n>i?1:0}function tY(e){switch(e){case V.jg.THIRTY_DAYS:return(0,T.t)("design_systems.libraries_modal.30_days");case V.jg.SIXTY_DAYS:return(0,T.t)("design_systems.libraries_modal.60_days");case V.jg.NINETY_DAYS:return(0,T.t)("design_systems.libraries_modal.90_days");case V.jg.YEAR:return(0,T.t)("design_systems.libraries_modal.year");default:(0,c.xb)(e)}}function tj(e){var t;return!!((0,m.kc)().dse_templates_proto&&(null==(t=e.description)?void 0:t.startsWith("Figma.TemporaryIsTemplate")))}function tz(e){return!!((0,m.kc)().dse_module_publish&&"MODULE"===e.type)}function t$(e,t){return(null!==e.design||null!==e.figjam||null!==e.slides)&&(!!e.design||!!e.figjam||!!e.slides)&&(!!e.design&&!t.designSubscribed||!!e.figjam&&!t.figjamSubscribed||!!e.slides&&!t.slidesSubscribed)}function tZ(e){return(0,m.kc)().ds_publish_file_deprecation?e?e.isLooseComponent||e.isState?tq(e.componentKey):e.isStateGroup?tJ(e.stateGroupKey):null:null:(null==e?void 0:e.publishFile)??null}function tq(e,t){var r;return e?(t||(t=t0(u.D.getState().library.published.components)),(null==(r=t[e])?void 0:r.file_key)??null):null}function tJ(e,t){var r;return e?(t||(t=t0(u.D.getState().library.published.stateGroups)),(null==(r=t[e])?void 0:r.file_key)??null):null}function tX(e,t,r){return r[e]?r[e].file_key??null:t[e]?t[e].file_key??null:null}function tQ(e){let t={};return eu(e,(r,n,i)=>{t[n]=t[n]||{},t[n][i]=e[r][n][i]}),t}function t0(e){let t={};return eu(e,(r,n,i)=>{let a=e[r][n][i];t[et(a)]=a}),t}function t1(e){let t=(0,i.wA)(),r=n.useMemo(()=>(0,d.s)(()=>{e&&e.value.node_id&&t(L.rb({styleNodeId:e.value.node_id,styleKind:e.kind}))}),[t,e]);n.useEffect(r)}function t2(e){return(0,m.kc)().ds_use_lib_keys?`${e.library_key}:${e.node_id}`:`${(0,S.hH)(e)}:${e.node_id}`}let t3=(0,Y.D)((e,t)=>e?e.parentOrgId:t);function t5(){return t3((0,j.q5)(),(0,z.dq)())}function t4(e){return t3(e.openFile,e.currentUserOrgId)}},26328:(e,t,r)=>{"use strict";r.d(t,{UQ:()=>s,Yl:()=>u,_2:()=>p,eu:()=>d,q5:()=>c});var n=r(35645),i=r.n(n),a=r(173454),o=r(48515),l=r(416095);let s=e=>e.library.assetsPanelSearch,c=e=>e.library.assetsPanelSearch.query;function d(e){return e.type===o.I.ALL||e.type===o.I.LOCAL||e.type===o.I.FILE}function u(e,...t){let r={};t.forEach(e=>{e.forEach(e=>{r[(0,l.Av)(e)]=e})});let n=[];return e.forEach(e=>{let t=(0,l.Av)(e);t in r?(e.ai_score&&(r[t].ai_score=e.ai_score),e.lexical_score&&(r[t].lexical_score=e.lexical_score)):n.push(e)}),n}function p(e){return i()(e,e=>e.type===a.PW.MODULE)}},207825:(e,t,r)=>{"use strict";r.d(t,{o9:()=>s,u5:()=>c,vQ:()=>u});var n=r(935283),i=r(824780),a=r(939863),o=r(186828),l=r(155367);function s(e){if(e===o.RM.MEMBERS)return(0,a.t)("license_group_admin_tab.members");(0,n.xb)(e)}let c="originTab",d=[l.J7.BILLING];function u(e){let t=(0,i.K)(l.J7,e);if(t)return d.includes(t)?t:void 0}},698812:(e,t,r)=>{"use strict";r.d(t,{Cz:()=>b,EO:()=>p,EQ:()=>E,MX:()=>m,NV:()=>y,RG:()=>g,XY:()=>h,a3:()=>f,cZ:()=>_});var n=r(411855),i=r(188507),a=r(717068),o=r(181912),l=r(881388),s=r(939863),c=r(679892),d=r(694687);r(594901);var u=r(227544);r(596607),r(428467);let p=e=>`LICENSE_GROUP_GET_${e}`;function m(e){var t;let r=(0,i.d4)(({licenseGroups:e})=>e),o=null==(t=(0,d.sZ)())?void 0:t.id;return(0,n.useMemo)(()=>{let t=Object.values(r).filter(t=>t&&t.org_id===(e??o));return(0,a.KQ)(t,"name"),t},[r,o,e])}function _(e,t=!0){let[r,a]=n.useState(!1),[o,d]=n.useState(!1),[u,p]=n.useState(!1),[m,_]=n.useState({}),h=(0,i.wA)();return n.useEffect(()=>{(async()=>{if(!r&&!o&&!u&&t){a(!0);try{let t=await c.Eh.getLicenseGroupsMembersCounts({orgId:e});_(t.data.meta),d(!0),a(!1)}catch(e){h(l.s.error((0,s.t)("license_group.an_error_occurred_fetching_license_group_counts"))),a(!1),d(!1),p(!0)}}})()},[e,o,r,u,h,t]),{isFetched:o,memberCounts:m,isLoading:r}}function h(e){return(0,i.d4)(t=>!!e&&f(t.orgById[e]))}function g(){return(0,i.d4)(e=>!!e.currentUserOrgId&&f(e.orgById[e.currentUserOrgId]))}function f(e){return!!((null==e?void 0:e.bigma_enabled)&&(null==e?void 0:e.license_groups_count))}function E(e,t,r){let n=[],i=[];e.forEach(e=>{e.admin_users_metadata.length>0?e.admin_users_metadata.some(e=>e.id===t)?n.push(e):r||i.push(e):r||n.push(e)});let o=n.concat(i);return(0,a.KQ)(n,"name"),(0,a.KQ)(i,"name"),(0,a.KQ)(o,"name"),{groupsUserIsAdminOf:n,otherLicenseGroups:i,allAdminableLicenseGroups:o}}function y(e,t){if(!t)return!1;let r=(0,u.C5)(t,"upcoming");return(0,u.hX)(t)&&(!e.last_reviewed_at||(0,o.A)(e.last_reviewed_at).add(14,"days")<(0,o.A)(r.due_at))}function b(e,t){let r=[],n=[];return e.forEach(e=>{y(e,t)?r.push(e):n.push(e)}),{groupsToReview:r,groupsAlreadyReviewed:n}}},99506:(e,t,r)=>{"use strict";r.d(t,{A$:()=>I,B0:()=>E,BQ:()=>en,D8:()=>R,Dh:()=>z,E9:()=>Q,El:()=>T,Fd:()=>M,GP:()=>j,G_:()=>x,Gr:()=>ea,Il:()=>eo,KB:()=>G,Lc:()=>el,Mr:()=>Z,P4:()=>P,P5:()=>em,PQ:()=>i,Pn:()=>eg,Pu:()=>p,Qh:()=>L,Rc:()=>ec,Se:()=>m,Sm:()=>_,U0:()=>ee,Uu:()=>er,We:()=>g,Zf:()=>w,_5:()=>C,_D:()=>f,_F:()=>b,_Y:()=>D,a0:()=>a,bQ:()=>X,bU:()=>h,bk:()=>U,bp:()=>y,bq:()=>K,cA:()=>S,eD:()=>o,h9:()=>ed,hM:()=>$,hh:()=>v,ho:()=>N,iS:()=>V,iU:()=>k,kI:()=>d,kc:()=>ei,o6:()=>e_,rP:()=>B,sC:()=>l,tK:()=>eu,tw:()=>et,un:()=>J,vt:()=>A,wl:()=>ef,xj:()=>q,xw:()=>es,xy:()=>u,y4:()=>H,zI:()=>eh,zd:()=>s});var n=r(563838),i=(e=>(e.ORG_VIEW="org_view",e.ORG_EDIT="org_edit",e.WORKSPACE_EDIT="workspace_edit",e.WORKSPACE_VIEW="workspace_view",e.VIEW="view",e.EDIT="edit",e.INHERIT="inherit",e.INVITE_ONLY="invite_only",e))(i||{});let a=(0,n.fc)(i);var o=(e=>(e.TEAM_ACCESS_VIEW="team_view",e.TEAM_ACCESS_EDIT="team_edit",e.TEAM_ACCESS_DISABLED="team_access_disabled",e))(o||{}),l=(e=>(e.VIEW="view",e.EDIT="edit",e))(l||{});let s=(0,n.fc)(l);var c=(e=>(e.STUDENT_TEAM_NULL="not_student_team",e.STUDENT_TEAM_CURRENT="current_student_team",e.STUDENT_TEAM_EXPIRED="expired_student_team",e))(c||{}),d=(e=>(e.UNVERIFIED="unverified",e.VERIFIED="verified",e.PENDING="pending",e.UNAVAILABLE="unavailable",e))(d||{});let u=(0,n.fc)(d);var p=(e=>(e.ORG_VIEW="org_view",e.VIEW="view",e.INHERIT="inherit",e))(p||{});let m=(0,n.fc)(p);var _=(e=>(e.MEMBERS="members",e.ALL_USERS="all_users",e))(_||{}),h=(e=>(e.PUBLIC="public",e.PRIVATE="private",e.SECRET="secret",e))(h||{});let g=(0,n.fc)(h);var f=(e=>(e.ADMIN="admin",e.MEMBER="member",e.GUEST="guest",e))(f||{});let E=(0,n.fc)(f);var y=(e=>(e.ADMIN="admin",e.MEMBER="member",e))(y||{});let b=(0,n.fc)(y);var v=(e=>(e.SELF_SELECTED="self",e.MOVED_BY_ADMIN="moved",e.AUTO_ASSIGNED="auto",e))(v||{});let I=(0,n.fc)(v);var T=(e=>(e.STARTER="starter",e.FULL="full",e.RESTRICTED="restricted",e))(T||{});let S=(0,n.fc)(T);var w=(e=>(e.STARTER="starter",e.FULL="full",e.RESTRICTED="restricted",e))(w||{}),A=(e=>(e.FILE="file",e.FILE_REPO="file_repo",e.FOLDER="folder",e.TEAM="team",e))(A||{}),C=(e=>(e.FILE="file",e.FILE_REPO="file_repo",e.FOLDER="folder",e.TEAM="team",e.ORG="org",e))(C||{});let N=(0,n.fc)(C);var O=(e=>(e.FILE="file",e.FILE_REPO="file_repo",e.FOLDER="folder",e.TEAM="team",e.PROTOTYPE="prototype",e))(O||{}),L=(e=>(e.OK="ok",e.GRACE_PERIOD="grace_period",e.PAST_DUE="past_due",e.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED="no_monthly_sub_editor_count_exceeded",e.INCOMPLETE="incomplete",e))(L||{});let R=(0,n.fc)(L);var P=(e=>(e.LOCKED="locked",e.EDITORS_LIMITED="editors_limited",e.PROJECTS_LIMITED="projects_limited",e.FILES_LIMITED="files_limited",e.PROJECTS_LIMITED_LEGACY="projects_limited_legacy",e.FILES_LIMITED_LEGACY="files_limited_legacy",e.WHITEBOARD_FILES_LIMITED="whiteboard_files_limited",e.WHITEBOARD_FILES_LIMITED_BETA="whiteboard_files_limited_beta",e))(P||{});let k=(0,n.fc)(P);var D=(e=>(e.DESIGN="design",e.WHITEBOARD="whiteboard",e.SLIDES="slides",e.SITES="sites",e))(D||{});let M=(0,n.fc)(D);var x=(e=>(e.DESIGN="design",e.WHITEBOARD="whiteboard",e.DEV_MODE="dev_mode",e))(x||{}),F=(e=>(e.DESIGN="design",e.WHITEBOARD="whiteboard",e.EXTERNAL="external",e))(F||{}),U=(e=>(e.FILE="file",e.PROTOTYPE="prototype",e.FOLDER="folder",e.TEAM="team",e.WORKSPACE="workspace",e))(U||{}),B=(e=>(e.FOLDER="Folder",e.WORKSPACE="Workspace",e))(B||{}),H=(e=>(e.CANVAS="canvas",e.PROTOTYPE="prototype",e.WHITEBOARD="whiteboard",e.LIBRARY="library",e.SLIDE_TEMPLATE="slide_template",e))(H||{}),V=(e=>(e.VERIFIED="verified",e.UNVERIFIED="unverified",e.BLOCKED="blocked",e))(V||{}),G=(e=>(e.BLOCKED="blocked",e.ORG_PRIVATE="org_private",e.PENDING_USER_VISUAL_COMPLIANCE="pending_user_visual_compliance",e.PENDING_PUBLIC="pending_public",e.ORG_PRIVATE_PENDING_PUBLIC="org_private_pending_public",e.DELISTED="delisted",e.DELISTED_CREATOR_STRIPE_DISABLED="delisted_creator_stripe_disabled",e.APPROVED_PUBLIC="approved_public",e))(G||{}),W=(e=>(e.MIGRATION_NOT_NEEDED="migration_not_needed",e.MIGRATION_NEEDED="migration_needed",e.MIGRATED="migrated",e))(W||{}),K=(e=>(e.DESKTOP="desktop",e.IPAD="ipad",e))(K||{}),Y=(e=>(e.ALLOW="ALLOW",e.DISABLE="DISABLE",e))(Y||{}),j=(e=>(e.PRO_TRIAL="pro_trial",e.DOWNGRADED_ORG_TEAM="downgraded_org_team",e.PROMO_CODE="promo_code",e.ADMIN_OVERRIDE="admin_override",e))(j||{});let z=(0,n.fc)(j);var $=(e=>(e.UNPINNED="unpinned",e.PINNED="pinned",e))($||{}),Z=(e=>(e.FILE_SEEN="file_seen",e.DESIGN_FILE_SEEN="design_file_seen",e.WHITEBOARD_FILE_SEEN="whiteboard_file_seen",e.FILE_EDIT="file_edit",e.DESIGN_FILE_EDIT="design_file_edit",e.WHITEBOARD_FILE_EDIT="whiteboard_file_edit",e.DEV_MODE_FILE_SEEN="dev_mode_file_seen",e))(Z||{});let q=(0,n.fc)(Z);var J=(e=>(e.CREATOR="creator",e.PUBLISHER="publisher",e))(J||{}),X=(e=>(e.PENDING="pending",e.APPROVED="approved",e.REJECTED="rejected",e))(X||{}),Q=(e=>(e.DEFAULT="default",e.SRGB="srgb",e.DISPLAY_P3="display_p3",e))(Q||{}),ee=(e=>(e.COST_CENTER="costCenter",e.ORGANIZATION="organization",e.DIVISION="division",e.DEPARTMENT="department",e))(ee||{});let et=(0,n.fc)(ee);var er=(e=>(e.ROLE_UPGRADE="role_upgrade",e.INVITE_REDEEM="invite_redeem",e.ORG_INVITE_REDEEM="org_invite_redeem",e.INVITE_AUTOUPGRADE="invite_autoupgrade",e.RESOURCE_MOVED_TO_ORG="resource_moved_to_org",e.DRAFTS_SHARE="drafts_share",e.ACCESS_EDIT_LINK="access_edit_link",e.CREATE_TEAM="create_team",e.JOIN_TEAM="join_team",e.JOIN_TEAM_REQUEST="join_team_request",e.ADMIN_UPGRADE="admin_upgrade",e.SCIM="scim",e.FIGMA_ADMIN="figma_admin",e.DEPART_TEAM="depart_team",e.CREATE_FILE="create_file",e.EDIT_REQUEST_APPROVAL="edit_request_approval",e.EDIT_REQUEST_AUTO_APPROVAL="edit_request_auto_approval",e.RUN_PLUGIN="run_plugin",e.RESOURCE_MOVED_FROM_ORG_DRAFTS="resource_moved_from_org_drafts",e.DEFAULT_PAID_STATUS="default_paid_status",e.FJ_GA_REUPGRADE="fj_ga_reupgrade",e.EDIT_BUTTON="edit_button",e.EDIT_ACTION="edit_action",e.ACTIVE_EDIT_ACTION="active_edit_action",e.ORG_MERGE="org_merge",e.DEV_MODE_PRE_COMMIT_BETA_USE="dev_mode_pre_commit_beta_use",e.UNKNOWN="unknown",e.UNKNOWN_POPULATED_THROUGH_BACKFILL="unknown_populated_through_backfill",e.SCIM_RECOVERY="scim_recovery",e.ROLE_FALLBACK="role_fallback",e.PAID_STATUS_ON_ORG_CREATION="paid_status_on_org_creation",e.TEAM_ADDED_TO_ORG_THROUGH_FIGMA_ADMIN="team_added_to_org_through_figma_admin",e))(er||{});let en=(0,n.fc)(er);var ei=(e=>(e.SELF_SELECTED="self",e.SELF_SELECTED_NOT_LISTED="not listed",e.SELF_SELECTED_DONT_KNOW="don't know",e.MOVED_BY_ADMIN="moved",e.AUTO_ASSIGNED="auto",e))(ei||{}),ea=(e=>(e.ORG="org",e.WORKSPACE="workspace",e.TEAM="team",e.PROJECT="project",e))(ea||{}),eo=(e=>(e.ORG="Org",e))(eo||{}),el=(e=>(e.ORGANIZATION="Organization",e.ENTERPRISE="Enterprise",e))(el||{}),es=(e=>(e.INHERIT="INHERIT",e.NONE="NONE",e.OVERRIDE="OVERRIDE",e))(es||{}),ec=(e=>(e.INHERIT="INHERIT",e.OVERRIDE="OVERRIDE",e))(ec||{}),ed=(e=>(e.PUBLISHED_PLUGIN="published-plugin",e.FIRST_PARTY="first-party",e))(ed||{}),eu=(e=>(e.PIXEL="PIXEL",e.SCALED="SCALED",e))(eu||{}),ep=(e=>(e.HUB_FILE="hub_file",e.PLUGIN="plugin",e.PROFILE="profile",e.WIDGET="widget",e))(ep||{}),em=(e=>(e.NONE="NONE",e.ACCEPTED="ACCEPTED",e.STARTED_ONBOARDING="STARTED_ONBOARDING",e.ENABLED="ENABLED",e.DISABLED="DISABLED",e))(em||{}),e_=(e=>(e.STATUS_CHANGE="status_change",e))(e_||{}),eh=(e=>(e.BUILD="build",e.COMPLETED="completed",e.NONE="none",e))(eh||{}),eg=(e=>(e.FIGMA="figma",e.APPLE="apple",e.GOOGLE="google",e))(eg||{}),ef=(e=>(e.DEFAULT="default",e.INTERNAL="internal",e.CONFIG24="config24",e.APPLE_ALPHA="apple_alpha",e.GOOGLE_ALPHA="google_alpha",e))(ef||{}),eE=(e=>(e.IP_ALLOWLIST="ip_allowlist",e.NETWORK_ACCESS_RESTRICTION="network_access_restriction",e))(eE||{})},279453:(e,t,r)=>{"use strict";r.d(t,{$56:()=>M,$kt:()=>eB,AXx:()=>tw,Acj:()=>tk,ApF:()=>ew,Aqu:()=>rR,B5G:()=>r3,BB3:()=>tm,BMY:()=>nr,BXv:()=>W,B_E:()=>es,Bl3:()=>T,CH9:()=>t9,Cb9:()=>t4,Ce_:()=>ne,Cit:()=>rU,CrP:()=>eo,D2i:()=>g,DSh:()=>rA,DtB:()=>rw,EE2:()=>na,EEx:()=>k,EZU:()=>t$,EmG:()=>nl,ErZ:()=>s,FHz:()=>ek,Fol:()=>h,FqP:()=>ra,FuG:()=>P,G0Y:()=>A,GIl:()=>u,GyZ:()=>rk,H$B:()=>rr,H5I:()=>rP,HSg:()=>nd,HdA:()=>f,Hji:()=>td,HpJ:()=>D,IhX:()=>tD,Iwl:()=>eL,J2w:()=>ej,JJY:()=>rc,JKh:()=>ta,JgS:()=>rK,JkW:()=>v,Jpz:()=>rI,JuA:()=>rn,Jzf:()=>e$,KC4:()=>U,KLE:()=>q,KR2:()=>R,KhA:()=>t5,KiY:()=>ri,Ko6:()=>rf,L1I:()=>eQ,L8O:()=>tc,LYR:()=>tR,LZm:()=>rG,Lew:()=>tL,Lom:()=>r$,Lqr:()=>rN,M9I:()=>F,MWb:()=>r1,N63:()=>rb,NI1:()=>rl,NLL:()=>Q,NSA:()=>eH,OCJ:()=>eK,OTc:()=>nu,P0r:()=>el,P8Q:()=>ts,PG0:()=>to,PVh:()=>t3,Pns:()=>_,QEv:()=>rB,QZ8:()=>eR,R1$:()=>ty,RIo:()=>tU,Ra2:()=>rj,RcX:()=>tq,RmP:()=>I,SCo:()=>t6,SMQ:()=>eV,Sc8:()=>G,Ssd:()=>eE,Std:()=>tZ,Stx:()=>e8,SxV:()=>em,T0:()=>ry,TKM:()=>e_,TNJ:()=>w,TaT:()=>tF,Tej:()=>rV,U2Y:()=>en,Udv:()=>y,Uhm:()=>e7,UpR:()=>eO,V15:()=>ns,WIy:()=>L,WKb:()=>no,WND:()=>eS,WoR:()=>p,Wt6:()=>tJ,X$D:()=>ec,X2v:()=>ee,X9s:()=>r2,XGw:()=>eF,XKS:()=>rC,XRH:()=>o,XRI:()=>e4,Xon:()=>c,Xw7:()=>r_,Y9I:()=>tH,Yrz:()=>B,Z5M:()=>ey,ZBn:()=>rg,ZzU:()=>eY,_Dk:()=>tB,_iU:()=>j,_ob:()=>t0,_pO:()=>t_,a9b:()=>tp,aNI:()=>e0,aQv:()=>tv,aRw:()=>t2,abL:()=>Y,aom:()=>ei,b2A:()=>ev,bFV:()=>b,bUn:()=>r5,bel:()=>rO,bsh:()=>rZ,c2_:()=>ed,cBJ:()=>e5,cBX:()=>rY,cfd:()=>eq,cmY:()=>rq,czu:()=>rt,d0w:()=>e1,d3q:()=>tV,dA6:()=>e2,dDF:()=>d,dTR:()=>eZ,dg:()=>ex,dq_:()=>rs,eHy:()=>et,eSI:()=>eJ,efs:()=>tI,ehp:()=>tK,epW:()=>eW,f19:()=>tN,fPW:()=>rJ,fy7:()=>tC,gLw:()=>r4,gkf:()=>eG,hTO:()=>eA,hbX:()=>rT,hj8:()=>$,hqi:()=>C,i1D:()=>rQ,iJD:()=>eh,iP2:()=>Z,ib2:()=>eU,jJU:()=>ef,jXq:()=>tx,jl4:()=>tX,jmg:()=>ni,kC9:()=>r8,kJx:()=>K,kQI:()=>S,kS$:()=>x,k_1:()=>re,kdQ:()=>ep,kei:()=>tG,kxK:()=>rX,lTH:()=>tA,lVt:()=>eb,lgH:()=>H,m0h:()=>te,m28:()=>r9,mCn:()=>tu,n8j:()=>tt,nD$:()=>nt,nD6:()=>V,nJE:()=>tQ,nYs:()=>tW,nbK:()=>eu,nn0:()=>ti,o$Q:()=>th,o8f:()=>rz,o9k:()=>tM,oBY:()=>E,oGE:()=>rd,oMw:()=>nc,oSh:()=>t1,op7:()=>rm,oro:()=>er,ox:()=>rv,ozA:()=>tg,pFu:()=>tn,pMp:()=>X,qBf:()=>eg,qNg:()=>e9,qRE:()=>eD,qTu:()=>r7,qYc:()=>rp,qZS:()=>e6,qjT:()=>eP,rH3:()=>eX,rSB:()=>r6,ruy:()=>nn,rwE:()=>rh,s5A:()=>tz,s5h:()=>tj,s5n:()=>tf,sBg:()=>ro,sMZ:()=>rH,sMs:()=>m,sNP:()=>tb,saW:()=>r0,sg1:()=>eI,sn$:()=>tr,syM:()=>eM,t21:()=>eT,tIY:()=>tP,tgK:()=>rF,u2o:()=>tO,u3q:()=>t8,u6n:()=>tT,uXs:()=>tE,vD4:()=>rD,vE:()=>ru,vXh:()=>eC,vgO:()=>eN,vsj:()=>J,w2r:()=>tY,wW7:()=>rW,wZi:()=>tl,wj_:()=>ea,wtK:()=>O,xO7:()=>ez,xS7:()=>rM,xaw:()=>t7,yFE:()=>rS,yU5:()=>rL,y_L:()=>rx,yf7:()=>e3,z$o:()=>N,z8m:()=>z,zkh:()=>tS,zz3:()=>rE});var n=r(531664),i=r(394255);let a=new Set;function o(){return[...a]}function l(e,t,r){let o={_name:e,_argKeys:t,_hash:r,_reset:e=>{l._atomFamily.setShouldRemove(t=>!e||(0,n.c2)(t,e)),l._atomFamily.setShouldRemove(null)},_data:null,_args:null},l=(0,i.he)(o);return a.add(o),Object.assign(l,o)}let s=l("FileCanAccessFullDevMode",["key"],"0c2ed5e23224fb04ea3a23dd0456d6373923a976d54f8eba9aeaa82a8b77a518"),c=l("FileCanAccessFullDevModeOrgPlus",["key"],"6323d7908ad8b2dc58b64f14442935e8bd4c75bd21714387f7b62363e7bbe494"),d=l("FileCanEdit",["key"],"94cee8957063f301090ae45312a44a680028710d425c00134f19942e8ce38132"),u=l("FileCanUseFigmaAi",["key"],"ea57dc893d02b5bfce6bba6572e5e8e68d19cfdad24d85302ae908d735cb7f2d"),p=l("FileCanUseFragmentSearchAi",["key"],"108618f0c0be6ae56d6c9ea374902a424d407e57e6c831f08d53c7f14ea1bfe8"),m=l("FileCanView",["key"],"914a954cda6128d4674d9717321742ee20290965e07c1887735178445097b0c9"),_=l("FileDevModeRequestDenied",["key"],"14298fde5aa236adc30e1097189298f9a28260c7af595ba0d38a3bf19fb25873"),h=l("FileDevModeRequestPending",["key"],"2bc0f42b5456f082848698e5094004d33f5c4a954c988d3157b054fbf237857a"),g=l("FileDevModeTrialRequestPending",["key"],"a5c61b0921141adc71048c1cda3bfa5a4eac655f267c39ba90883c66c3a71be0"),f=l("FileIsEligibleForDevModeTrial",["key"],"e287b51d6c2ad609915b2a150ae66ae8683f74674ed4578eaa159e6f578295c5"),E=l("FileIsInDevModeTrial",["key"],"9c47d409f80c094280e94dd6ad27a4042b055e81b8ab9dec1e61f5f0fcce4a29"),y=l("FolderCanView",["id"],"70ecb44b81d469b5104c6b0eaedb2720da5bd071d4736c4dd120b7c335c75609"),b=l("FolderCanEdit",["id"],"d99e6e3bdbc0fb50136cd9e5277b9f10d6d3cd990f6b174e494f0fe791501f02"),v=l("FolderCanCreateFigjamFile",["id"],"2ef14b38963c70b41655ac9eed0948c2050b575a1be66d22227e28215e0bb141"),I=l("FolderCanCreateDesignFile",["id"],"8b224a58bdbee3921ed12b680d5ae5e492c5ee0ad5def8c20f91ad3e6f1700c9"),T=l("TeamCanView",["id"],"f91074f4851884b6957717ce7253f5da45b4e76b3d61e9a209c39cfd4e3b60fd"),S=l("TeamCanEdit",["id"],"aed3e798b36291c9381d2dbef51e0e662efaf8848c388e3d20542172e19bf178"),w=l("TeamCanAdmin",["id"],"ee6e0cc473b7fb71ab34c563834a9dd0b82c39552594b1e690a96509361d603c"),A=l("AccessibleFoldersV2",["orgId"],"f57ba8abab39a28f68604cbb5f0345d3bce6e80fde2f21690c623908d32c1844"),C=l("ActiveFileUsersForFileView",["fileKey"],"5f1d95341891783b9628176ec323d3e47e0cecc92f5f55840722cecc727b5af6"),N=l("AddUnassignedTeamsModalView",["workspaceId"],"bd8427fe6392a84d4bf32d02363bb03f27531cc12a9644f97d0c31abf15702c1"),O=l("AddWorkspacePinnedFileView",["fileKey"],"688951323900b32e2915b7dbbc40c615bfe9d2eec0311eb781aeb8554ea62f14"),L=l("ExtensionActivityLogHistoryView",["orgId","actedOnIdOrKey","userId"],"aca0968c8a26d8435b000c3d50bb73f508727dc01fdf175cc58692dd78344e5c"),R=l("AdminNotificationsCountView",["planType","planId","filterParams"],"4df20ebdd30a069e1007cace5108c3e2c37b7a6254eadc01fe348c77191a0601"),P=l("AdminRequestDashboardRowIds",["planType","planId","filterParams"],"e4f080e4aa304f67d3b1e68ed9f31a5d6bef3fc6c199bda2f2b1eda0a3be5424"),k=l("AdminRequestDashboardView",["planType","planId","sortOrder","filterParams","firstPageSize"],"54dded6174b422c57cb5aaaa5f66d550b20183bdf03c006057422305642280fc"),D=l("AdminRequestDashOrgInfo",["orgId"],"0b16a79a16b35fdba1364c79fbd65ffd81580fffa4568c0201527e75d085cae6"),M=l("AdminSettingsSelectorView",["orgId"],"4147f294bfa4efbd6a993605ee12d8918bf2aba79ae900c6cd30e3041551e95f"),x=l("AiMeterUsageView",["fileKey"],"83c7e1f67c1ebb0a5c3e24a0300fc6d7e9274902bc9d6e2106508bd16925abb4"),F=l("AllowlistPluginsSectionView",["orgId"],"927ee51d0b9a473ed814e4faf5ac8f6f96117c7cc67fc3e8361f86a46010abb0"),U=l("AllowlistedPlugin",["pluginId","orgIds"],"bdcc35e840d30866feed49f22aa72861c98836e5f59872eb85ebcb891a3f90c2"),B=l("FileOrgExtensionSettingsView",["fileKey"],"8f268a3c9b6d35cca60e3275a2585672dabfccb3f7e1e09b3e0503a40a0f4ea2"),H=l("AllowlistSettingsModalView",["orgId"],"0c693a1d2129815e969eaf337d6e3f543053dc7b7e5d4e715d172f6e76fe91ba"),V=l("AppliedColorPaletteForFile",["fileKey"],"d7bb73a2b34fc6a8b262a0d3c6a14139aabe2f321f2198e9a8f64aaad1aaa3c3"),G=l("AutoRunPluginsView",["targetOrgId","targetUserId"],"bd664c41a874536a44ee6b39fed040bd2c1435e7e6ee8b47970c0689a92ed660"),W=l("BillingTrialForResource",["resourceId","resourceType"],"eae7e0970266b809811d071443b722e7cd0bcea765f60ea9ac150d6c8983076a"),K=l("BlockingPrototypeData",["fileKey"],"38621d62e96faab0a1a844202aafcefd0798d38ff3bb76d1bc5ff12758922c2e"),Y=l("BlockingUserState",[],"f156dee134b054963ffc5c9cb4b70eecc8779fbb2f3248d04dbae4c7a95ae28e"),j=l("BranchOpenMergeRequest",["branchFileKey"],"f8edbf534eda2e25b28944111acba2c4a4389bdabbe3317aad41c398fada7496"),z=l("BrowseTemplatesView",["currentOrgId"],"ace64503f7e7ab64486ebbba35dbde191c4a7771ffedaa84bf681954f3708f25"),$=l("ChurnFrictionPersonalizedModalView",["teamId"],"a7851e2e2978128a48b7cde5603fe7034be5a4f549fb433cd971790c5e6acf0c"),Z=l("ColorPalettesForTeam",["teamId"],"4ee8f8daf1158220a88697aa5b15cd63e62423c791e11329a99da157f201368f"),q=l("CommunityHubLikeForProfile",["profileId","hubFileId","pluginId"],"0b2c5247975aa8bfb0f1b20240405ca5c36298ce51f868b46e4272567df5ba7c"),J=l("CommunityLibraryComponentsAndStateGroups",["hubFileId"],"1a914f5495bd312f76086c9cd738416826569231213497a7388517a94a51c46e"),X=l("CommunityLibraryData",["hubFileId"],"977544ae819fad244cc05aefa27bfd820a9c4f352722eba0523980d1ccb31182"),Q=l("CommunityLibraryModalAssetsData",["hubFileId"],"f355c85607b0e254a0ab354d2523d255be28ef185d6e6fc7d87f9de3934623ba"),ee=l("CommunityLibraryModalVariablesData",["hubFileId"],"346a43170fc0868500ccd89761fe1fabf687b27fb95b18ae26f216429607730b"),et=l("CommunityLibraryVariableCollectionDataWithVariables",["hubFileId"],"48e2fe4fe9a0a137555caf8573bc8705cbf10b2c8c795533fa5848bb74d90401"),er=l("CommunityPayment",["monetizedResourceMetadataId"],"0fc7e090505e4843be46ef517e18e051b23d36baebf2d6a9f90897b1e630fbcb"),en=l("CommunityProfileView",["profileId"],"6671d8587961b8af52b5b57c1ea9342a3b4808efd7a51d720a873fc4f3996066"),ei=l("CommunityResourceStat",["monetizedResourceMetadataId"],"a5bf64bfc576c2d4da406f8ef240d196c2892b5013607631d1a9bf8edb429452"),ea=l("ComponentUpdatesForTeam",["teamId"],"8659d5b4c2eee27a66794ef3e40fa967bf87cfdcaf58b68a0af6c66fb289b511"),eo=l("ComponentUpdatesForProject",["projectId"],"b9ea38d1292f36db497dd754e8ee4df2848310fc8e9f1576c4c3c3a2f3cc09ef"),el=l("ComponentUpdatesForFile",["fileKey"],"d6e977b62947f5806be3f8a3fb66e50998d862d941909d6dba347bfc921b193f"),es=l("StateGroupUpdatesForTeam",["teamId"],"41bc169c634864ea0eb393e2191436c3551b768d39c3510ae9ec42839f4121b2"),ec=l("StateGroupUpdatesForProject",["projectId"],"ff2aa5e9fa07803f8e5470be752f2bd1a332d895863d5eebb620b9b77c3d0164"),ed=l("StateGroupUpdatesForFile",["fileKey"],"e4e66cab23691192751ac684cbff21e31ff3deeb832cb76f5d24a04c04d45a13"),eu=l("CodeConnectForNode",["fileKeyorHubFileId","nodeId","instances","openFileKey","isCommunityLibrary"],"1432c9b78f5a7659de0aaf490099ccf2f78bc03bb4b7589401279bb9c5d05146"),ep=l("ConfiguredUpgradeRequestModalView",["orgId","permission"],"b918baff844f4f080bd845a5d8e55c441619beb41be649e26a321ef3fbb5e335"),em=l("CopyLinkFileData",["fileKey"],"bee17c0e9834586fcf204d79f360e73440eb63dbf301d258f67356badd05fc42"),e_=l("CurrentUserAssignedWorkspaceView",["orgId"],"0c7124b14ed5ccdccfb7155562ef02dcd72fedd6730711bc62fa19726d19780c"),eh=l("CurrentWorkspaceView",["fileKey"],"b37ca03df4ca9a6b339690368ea9b85fb1b4fa8d6a7624a425b8d47d45da4f74"),eg=l("DeleteWorkspacePinnedFileView",["pinnedFileId"],"cba223474bab7d42f722ee3973477048a2589c685f43f483808d1179c146a903"),ef=l("DeveloperRelatedLinks",["fileKey"],"d31ac965ef03c0e34554d512dfdf62bd711d232e5e9f45682c6502ee4719917c"),eE=l("DeveloperRelatedLinksForNode",["fileKey","nodeId"],"76977ed58868a6fc5f10775c6ab56a7ae1c0edc9a9f855c28aa52f358f7dc558"),ey=l("DevModeOptIn",["orgId"],"61d5df4716cb044bf5ff0c875b69f90e807db6d988bf8202e1cdc9d9113a19bb"),eb=l("DevModeOptInInfo",["orgId"],"af5cb7df243be81ed41ae4ef78269a2b8e0ec4c7abf1522f56b6fa7db1c25791"),ev=l("DevModeOrgSuggestedUpgrades",["planId"],"5e01659de6b3bd710f978f6d3c28a5487078d84df22095f93517a653b3bfe036"),eI=l("DevModeOrgSuggestedUpgradesDismissalFlag",["orgId"],"ec2d5dce762461192af70dd142e32a5f808f416499795ba005c7204585b400e8"),eT=l("DevModeSuggestedUpgradesFlag",["planId","planType"],"e44047a0d8c2ddd8dccf3c7b1bf0abff28efcbccbf943655e9a29a859dcb2b1b"),eS=l("DevModeActivity",["fileKey","nodeId"],"649c9f86465fe49883ffd040bbb0d662f08e0257532a52efd313edccc34af5c3"),ew=l("DevModeTeamSuggestedUpgrades",["planId"],"2bc38915d6114b0678ce2da41c01dbdd5d6eee85bd70cc1cbffaabf6f2a87f55"),eA=l("DevModeTeamSuggestedUpgradesDismissalFlag",["teamId"],"25c370c3edcd6eb208376393049bf3183c626d68ae5f11cb30842a844bbe0a53"),eC=l("DraftsToMoveFoldersByUserId",[],"8d7a8cd8c7f9d3a61a4e7071fc76629f4bfd0186e89a3977274c172888dc944d"),eN=l("EditWorkspacePinnedFileView",["pinnedFileId"],"f32dc193ceda2fe68f67710ad33bcf2fbd6a43d69f57d892f2811c4edb4b8944"),eO=l("EduOffboardingData",[],"0158a27ab01fe1c83646bf0b7a2e6fdd43d68a852172299c3bf040300d2bca41"),eL=l("EnterpriseOrgAdminOnboardingSequenceView",["orgId"],"30e0e7e0aee44a2270a54ba3ac8a433f2018dbcd14ff9d76b0ac520d0719cd62"),eR=l("ExtensionRequestTableView",["orgId"],"d9a333afb35fa0e3391aaf2106bcecc77598952779e2615eafda4ea834c8ec7c"),eP=l("FavoritesByResourceId",["resourceId","resourceType","orgId","teamId"],"59a9533a2a71d0358339ec884c9c733ed7d65810aebf6bd55c3262dc14858eb1"),ek=l("FeedPostWithDetails",["publicUuid"],"24b29c30b4006f2bed17488c340866ce7f577c71191065971e50044e5d9158dc"),eD=l("FeedPostsByFileKey",["fileKey"],"4f99ff364198b2984daa23a81f15a669866d20e88aa2d7e8ef2211645c41b40f"),eM=l("FeedPostsByUser",["currentOrgId"],"8793493a8be41b4438c4380c01a50f17f818f4df57f8dcd4f4ec10b0c45bdf7d"),ex=l("FeedTagFollowsByUser",[],"38d570f9ec2e0437c0574aa998634962b9940dba9d47b09e4a882042279d686a"),eF=l("FileAccountTypeRequest",["key"],"49342bf244d1af709b8dd3b36418f7cef56717aa33a653abc245c466db771c05"),eU=l("FileBrowserSearchBarData",["currentOrgId"],"38ed175c128f4f8f5bf24a9edee93e58cd7403b18b3def89b85d87194ab2a6f0"),eB=l("FileBrowserSidebarData",["currentOrgId","currentTeamId"],"3464b2d40916154c394696d09cc6f4e187fae6ca51fdbca971fff2bc5718f208"),eH=l("FileByKey",["fileKey"],"fdf4a5b54dfb53139980923c69cc9854faece1adaa40d58eb88d9f1c9accb21b"),eV=l("FileByKeyForRealtimeShim",["fileKey"],"67a1fcc46782acc38bf2534fdb67065f088b47164bacf59ce39d7ee3d75eee79"),eG=l("FileCanvasMentionsByFileKey",["fileKey"],"dc35c2dcd175108676c65c93f504e05adbd8888169b22866551f85905a6e8e4e"),eW=l("FileContext",["fileKey"],"8cc187b44b38fec43bdb46aa20835e670a620079611851c36642b9410213edc5"),eK=l("FileEditRequestExistence",["fileKey"],"55b97a4e6d343306b9e53426dd411854cb998677ff56f3733553024d41bc28cd"),eY=l("FileExpirationView",["figFileKey"],"63f1f8b76ce0bf7092a474a9eb29db91e07f6414d0307424f2134a55e9b5767a"),ej=l("FileFeaturesEnabled",["fileKey"],"3e849cdd44aa88387c5f239dff61de34b50b1a524cbfd9b4c80ab5cd6dfb95fe"),ez=l("FileKeysInProject",["projectId"],"e9c541f314aaa3fe65310b611f2ece885d2779dcb987058831eccdf7b6b97c3b"),e$=l("FilesInProjectHighLimit",["projectId"],"2d948d1dedcc3a6beb3dd70366d458c05295528c111b3a02859f0d3504b27278"),eZ=l("FileManagePermission",["fileKey"],"95748cc29bf6c5977c671758be7a79211b8fdfa410a190a134fcce99db2881e0"),eq=l("RepoCanView",["repoId"],"6c27c5d96e6e8e69a9a89db3e1afbf542685b6089c0aeceb04b258b7013f06f4"),eJ=l("PrototypeCanView",["prototypeId"],"020a4c68229e4d6434ea0875f966c6516845141d7edd61c5599279491e62ab80"),eX=l("ProjectCanView",["projectId"],"ef2c41261b55547f979b61ea0da95c3f113882d164c1326ec9060e10d2613370"),eQ=l("FilePermissionsV2",["fileKey","projectId","teamId","repoId","currentOrgId"],"bb51502eb50e27aeb6428d976a3decb7bf23c61579a5bb55da8bb08aff7a2e96"),e0=l("FileShareModalPermissionsV3",["fileKey","projectId","teamId","repoId","currentOrgId"],"b8a892022db3c378aafa5851d00b4e4079dc8763d272d41432d6d349a3ea92fb"),e1=l("FileShareModalCurrentUserPermissions",["fileKey"],"71abaf1575371c2380a2f910e27f3225b9705db76246498eb9777fe5f385ed85"),e2=l("FilePresenterData",["fileKey"],"0508e03c1064490b32dd1ef8d46d6c4fb0666684e8ede6c521a9b93e105b789a"),e3=l("FileSearchResult",["projectId"],"7aec367ec7d989f848385aa24d88615661b904010261788704b616a78ebad9d6"),e5=l("FileTemplateView",["fileKey"],"07af256a60fd0adcd20542e38051ae1f3f25a2182e1aef4328379f740dda7af7"),e4=l("FileTilePermissions",["fileKey"],"c87304d020bbe5d43d23609f62d8defdfaef54e2cd02965d9efe03d39d78a2bf"),e8=l("FileVersions",["fileKey"],"2bbf04757525ff3398275f549744fb8e051a34e74d6649ef877a562d8d9e3904"),e6=l("FileWithCommentsAndReactions",["fileKey"],"320b98f9f7600fd901be2b9f44216c16660a2dbb22095278f44399f934e7cd5b"),e7=l("QuickReply_CommentThreadByRootComment",["fileKey","rootId"],"32f59da474404dcd6a8cc8a0f0432eb9c1995a30dfe125a7a716605453a8eff8"),e9=l("FilesForTeam",["teamId","updatedAtTimestamp"],"88c0e38ff647e36d61f2f5bc2d564e028c4753fa77810434aaaa86743289a74a"),te=l("FilesForProject",["projectId","updatedAtTimestamp"],"fa8861f72131cae8a7d58e465aa5a087add9daa9c34de1f7b6ee955fe5a6bfdb"),tt=l("FilesForRepo",["repoId"],"6ac3767efd5a0736981ad68cd43c24d5a4ec30d1b0d30e9f21e9f3da973ca174"),tr=l("FolderSearchResult",["teamId"],"1c275c6f099475f4d0b36826c52c718fe51bd3d6c4f0744d4e03ed5c2cd6d9ce"),tn=l("ProjectsForTeam",["teamId"],"de767181d97beed84323939e47ae56b528561dce93a2e23febd43e997a7a8728"),ti=l("FileWithRoleRequests",["fileKey"],"90cffea1776cfa15881b4478aa311df28f8cf5692108cff7e7ebfe86b609445d"),ta=l("FileWorkshopMode",["fileKey"],"8e1a7b5f2c1eee980cebed68b2d38c1bf666c1f4185a414780d92a7d2a8deb50"),to=l("FileWorkspacePinActionsView",["fileKey","orgId"],"b4b6e8332ee710eed44802281c683ffd27c55a1154d511dfb2a7c0595522f861"),tl=l("FileBrowserRecentFilesView",[],"2e4865d8653ba7e13911366a2e9d8f73d54a5b6f393890095553b5f8e3c62957"),ts=l("FolderPermissions",["projectId","currentOrgId"],"195383c8583b7f8d020deb3f7876e39242eb9433fadb498e4749e063a1bde1da"),tc=l("FolderPageView",["projectId"],"9aecc6ef7cbebbdb66bd98a78b1cf080d73b5c5d23d5976ffc7b638a5d8066b1"),td=l("ProjectOwnerRole",["projectId"],"4f41ba7af3298c8bfffc0737e1fb6031f591f3215bc77851e9997e6a3609b0ee"),tu=l("FolderCreation",["teamId"],"0f4ba11fae85787ee96394297534a9b49061b431472b7328164b19fa7687b37e"),tp=l("HubFile",["hubFileId"],"0ba241a00f8f41866b8d1ae20bf6dab97ffddcffa707d6a73f0c2c8720a46d82"),tm=l("InstalledPlugins",["orgId"],"9593041733352121e252a44de76821ed6e7fe88bfae3053810103068c08f70c1"),t_=l("IpAllowlistRangesView",["orgId"],"ea6cf8b15ec5f381bb68308f83162b3cb23b10a0eb1aaf85e7659241408a84c1"),th=l("LatestClipboardData",["deviceType"],"3c1dd779caffff794462c41b79f3cacfb0033e75573957e37745d40493147bab"),tg=l("LegacySourceStyleData",["fileKey"],"c356c1498340da843e2b6ea447d0d4e1102ac906470fd8be22670134799b9a7c"),tf=l("LibraryData",["fileKey"],"77d2fe3848fa972f7495631982350e5dc260810c6ad4bdf1c877820fc743a480"),tE=l("LibraryFileSelect",["projectId"],"2efc1533087a59d375256eb54a80d19b4810c3c1e690bd43de7eb1a50885344e"),ty=l("LibraryManagementData",["fileKey","orgId"],"9283bff66ac5ee6e5e07d6a9b2eeaa3e78d66c71bb7cb8cbe8cc949646c38936"),tb=l("LibraryManagementCommunityData",["hubFileId","orgId"],"5237f1ca2d146b74af50349ab3fc96855ea494faa7e14c7368a04cb1bf3fb918"),tv=l("LibraryModalAssetsData",["fileKey"],"9d4b9e0fffe80c1780828ae5aa92ba1a27a1e458ca43db3a606fb4d4ba75be99"),tI=l("LibraryModalVariablesData",["fileKey"],"6d4170b8880b4562700f3d6aae29c32f7eed9e7861912bb2a9461dd50403aa7d"),tT=l("LibraryModuleData",["fileKey"],"2ac8d5c67bd5438eca35224e707cdaa5ddb8b08e9154bfddd4c05429be570919"),tS=l("LibraryModuleDataByLibraryKey",["libraryKey"],"b07644ac2eb3b1e56bdc12ae3716d2673144ca3791f61373324e4078d4861c0d"),tw=l("LibraryOrgSubscriptions",["orgId"],"fc756228f3eedfb155c0727a4482e35033e06035b31f5ad34bcc4b973b4e994c"),tA=l("LibraryPresetSubscriptions",[],"4c2ac18e087ff19f97c6bb3cef8ead84926192fd1476d52c6755c4b207161b8e"),tC=l("LibraryPresetSubscriptionsV2",["group"],"bbcd2a87af1b88b03db9674d4b41bc113f6144fd43e2e6a2dc51599497aed089"),tN=l("LibraryTeamSubscriptions",[],"8c71cd9b1698bd408c22e50a34e06898161ee7e8767a5ea2c0c43bf9e4b41c75"),tO=l("LibraryFileSubscriptions",["fileKey"],"b7345247949e01d847bcda1f0d0a88c1809d2400ddc49027840e01a750754ce6"),tL=l("LibraryUserSubscriptions",[],"0b763c1a28a17a498c836161815bc63425a01a24156ede34a3e10ff566cef857"),tR=l("LibraryPublish",["id"],"3e64e9a71ee0b93508c0a26db41e3fa684e3e8c5d347433e4267fcf24785ead2"),tP=l("LibraryStyleData",["fileKey"],"89d78ee301c7e26cdc5996b603863765d6a77ab715bcc9519189f5b403d0e05c"),tk=l("CommunityLibraryStyleData",["hubFileId"],"1a06f26d1702ec78f8d823fb9a077fd5b8f32d9ac5773af4e757c51319814f30"),tD=l("LibrarySubscriptionView",["orgId"],"d006b2f47db6dc1d3aaafa707c7bbea465766cbf0c824bd94350372c1146a7cf"),tM=l("LibraryVariableCollectionData",["fileKey"],"14c094bd32d548b5cd0c86802c90bbb35d16af2542577310d8cf9a0f1507db83"),tx=l("LibraryVariableCollectionDataWithVariables",["fileKey"],"11c5c92df6256cf6a2f322bc3ed880ee0ee8a23a69cc6a6ea61fdbfa5e7ea6ad"),tF=l("LicenseGroupCountView",["id"],"7b4f8df5beec75d31fc351f2105542e95dfcd82cd9e15d9256665fe257137452"),tU=l("MoveDraftsTeamData",["orgId"],"06a518f09b7c9628ba0e5cba571764d189d2782eba661565a2978550c699a5ee"),tB=l("FileCreationDropdownView",["orgId"],"35265f793dbeab7fe74160774089760bbc06726eed3b0501ac05b82f3a22ba3e"),tH=l("MoveFileCurrentProject",["projectId"],"529c9ddfe813f0359a09c67dad1625374ce32b9ebc18e69edf61f78775c9dc54"),tV=l("NewFileCreationBar",["projectId"],"f4adf836c13b29838abb1480bbe2c632cfb4c8561bae69880ca28f98e951e020"),tG=l("NonEnterpriseOrgMetaContentView",["orgId"],"53d873035f628159f51813efcdfb587bb9577177db47e1b1e8ef6d17a13e3f73"),tW=l("EnterpriseOrgMetaContentView",["orgId"],"acb6ee879323a6c741bca7ec3081a037bacf15e35dae88c34dac8051ce40d299"),tK=l("OpenEditorFileData",["fileKey"],"f7304d6cf6308700b0d3bb9c626e6f7fb5e058b8e1db6d82cb865224d20a3a5a"),tY=l("OrgAdminUserView",["orgId","queryParams","firstPageSize","refetchToken"],"6d471859c47d3c88e3a8761b9adc19ef34fe37bbf5bc4ea812909c26dd242741"),tj=l("OrgHasWorkspacesView",["orgId"],"04a21fd542b7ee3ef85f0a3c726075db2de4b464fb727c10032948d303c867d7"),tz=l("OrgInviteModalView",["workspaceId"],"bd8427fe6392a84d4bf32d02363bb03f27531cc12a9644f97d0c31abf15702c1"),t$=l("OrgByIdForRealtimeShim",["orgId"],"45b44af1d000c72e420faa1f55de3950ea8ccd099c4d0aa3657e53aa60dc3a3a"),tZ=l("OrgJoinRequestExistence",["orgId"],"b5a651cbe35528ced6f03c9517a92b337f71e1d197f43441754b582162cf41c9"),tq=l("OrgSharedSettingView",["orgId"],"e8de8414ded0cbc6123a0346e30f743fe90a22d40a2a2c376536884099417d0b"),tJ=l("OrgTaxIdView",["orgId"],"73b3babfc2feb79729d47e5e9d35931c65dfba628b93659ee0360310b58f0731"),tX=l("OrgTeamView",["orgId","queryParams","extraTeamIds","firstPageSize"],"fda29c13e66a69bc25228533095e8c22c2ae5424103f7337bd88103091bae285"),tQ=l("OrgUpgradeRequestView",["orgId"],"c150d9228e809b0fd949c7e748e944cb2ee56cc6ccf1e3cfb014b637afed9aee"),t0=l("OrgUserFlag",["orgId","eventType"],"907a4d6e25529160678d40614850a69044a4978b5e7a6fce62fc3390be1e53ed"),t1=l("OrgUsersByIdView",["orgId","orgUserIds"],"0c09458ec9d7eb3b329833313412f28e243749fb8beb981767b7d394d8f3d895"),t2=l("IdpUserView",["orgId"],"820f760218c7943e3eb7ebd45f16a3e1767665d33eeae2542c873aae73a4d8dc"),t3=l("OrgWithWorkspacesPublicLinkControlsSettingView",["orgId"],"7ee6e30e1dea903be949acb5912f60a92be4543f794ec9e745d5ce50f25b1072"),t5=l("PaginatedFigFeed",["orgId","feedFilter","firstPageSize","refreshNonce"],"e432b51943f6052494725450387dd52eb6dd765e736db1f7054f4e9da9449d4f"),t4=l("PendingTeamRoleRequestsByTeamId",["teamId"],"463c4bc82f5c6b746e6182ef362fa13571fb668b0cd618b12286b210543e45fd"),t8=l("PendingUserMentionByCommentView",["fileCommentId"],"98448f91af1f453b5b6734a0b5e8618acc07797291f479b99596c129d9a6edb9"),t6=l("RecentIdleTimeoutSettingChangeView",["cacheNonce"],"5af80642a57dc690a3b93d94d3ef936239d15f167ddda9ab0fdcbd11fd120f3e"),t7=l("RecentNetworkControlRejectionView",["cacheNonce"],"7ac2d51adf1ac3174ee7243b17bddb62997b7f866fc3bc36b58b408ee79544a4"),t9=l("PinnedFiles",["folderId"],"9913d45da60be1a7d0f7399ad126e6d78744ad671cbf11ac161f601889f4acbc"),re=l("Plugin",["pluginId","orgId"],"65017a02ad1232e123e321f3439b6b3d0e62e860b0a62dd400a89680d6ba0865"),rt=l("PluginAllowlistManagementModalView",["pluginId","orgId"],"4a73858240acadfc6aa74940ec6792343f5829aa657673657c70f3b26629a9a6"),rr=l("PluginInstall",["pluginId","orgIds"],"b698e19a0d5778ad478c0fe11dcfdf2293781c298cc568539f3846c62b9c7589"),rn=l("PluginPreferencesView",["targetOrgId","targetUserId"],"79c4dcfa288c53ab695cb8b8ed0fbdbd03a9232102898162b74b6f1924a661b1"),ri=l("PluginRequests",["orgId"],"2466a0e0ddaabd4fdea4bdd8988dc793fa968f72e8958fd9ac0266f3a4613300"),ra=l("PluginSecurityFormResponse",["pluginId"],"ed6f9188040a98a2c1f2bf4010ff7559a4d6e6e0aec6449fd736e89f5256b763"),ro=l("ProRequestUpgradeModalData",["teamId"],"50be44e91a9140285877ee5a5dbd2de4d02855331c1018e3048cac21afecf80f"),rl=l("ProjectNameById",["projectId"],"167370bf522cffa374d2936870d611915820b53dd89a514f2ce691652fab7965"),rs=l("ProjectByIdForRealtimeShim",["projectId"],"f944680b6c28e7b0da4d55dd3f5caf76e9646fd47fc9e456958465c115b79ef5"),rc=l("ProjectFileCount",["projectId"],"ca1a1c3ec0a1f90e682e30ea9cb5508c166abd3980780f9d94d5ddc69704d915"),rd=l("ProjectTilePermissions",["projectId"],"3bbf9d6b1ec9f5e8dfbaecc77d21437e63ac8aa38e87c2b1085e383364b307ef"),ru=l("PrototypeTilePermissions",["prototypeId"],"977169b7f1e74b6a39209b07d77356440fe1425c9f181465b6b94ab06d8cd6f3"),rp=l("RepoByIdForRealtimeShim",["repoId"],"15d9984a198b456e92e383624bd7006828b69980be255c539a4842104b5dd221"),rm=l("RepoFiles",["repoId"],"5dd6f679d0284864af8fca5c3a5167529cb478d8516520713718cff2f3b4d121"),r_=l("RepoReviewerSuggestions",["repoId"],"94185a7fa65e3202424dc7fae7baa0a30927a7e2bae962b3821466ec9b597443"),rh=l("RepoTilePermissions",["repoId"],"e4740896581955a728957411f0239434c869a22d83d865238cea8b7af9b664ee"),rg=l("ResolvedComments",["fileKey"],"7b5ece4b590e0ceeb80a1dcd7a7bba3427da3ab5e5c56e469d8d213acd73ccab"),rf=l("ResourceSave",["hubFileId"],"f6ddfc1d3bf83cc30494e8398600aea2a8ea0a742536e8130876f93809535bf9"),rE=l("RoleUpdatesForTeam",["teamId","updatedAtTimestamp"],"a93d9d9d2c3ac5d79ef04151530a28b9c03252db9943ada53abd8a04579c8056"),ry=l("RoleUpdatesForUser",["updatedAtTimestamp"],"0884422a28b1ef8961531227771834f4698dd2dbb59fbbb8da63feb07470c1f7"),rb=l("SearchFilterWorkspaceView",["orgId"],"130ec2bbc72113b8e1233d4a0abd1896574662972483dee3600bdf6a98524b62"),rv=l("SharedWithYouResources",["resourceTypes","firstPageSize","sortOrder","cursorColumn","sharedBy","planId","planType","fileType","orgDeletedDrafts"],"c4a53e85bc64f795726d27b4f11fbfaeb314d17e5ba81ebb345465e4fa582963"),rI=l("StarterFileEditConfirmation",["key"],"b9611d6a7dde03eeddba3498f105bf6ded3faa6cfb7b314cd29161f4d5afd6d7"),rT=l("StatsigTeamsOrderView",["currentOrgId"],"75513768b3c4f5dd170727d4cb2c746a34fccc6cbcf648c0cb937c740905618b"),rS=l("StyleByKey",["key","openFileKey"],"bf23db76b08d2622b88a8705ccf5e4673111c8644d7a1a4407974d4f22c6ae3b"),rw=l("SubscribedLibrariesForFile",["fileKey","teamId","workspaceId","orgId","group"],"738da59613a12606d6c73fd974add233518e30ef153ac1e13faa57b5932b1631"),rA=l("SubscriptionUpdateSloData",["id"],"6045b83d38bf38732a0efc83edc2666a35d0c8896c9cc8202bbe2a2895613563"),rC=l("TeamByIdForRealtimeShim",["teamId"],"710247346c9d0d490714cb3dbcb6b4db9b51270b32678104a3a960e49f9d9fa0"),rN=l("TeamCreationWorkspaceView",["orgId"],"35ba21389e67dd7ab06172a6ffd613dfe76efabdb65771ea81b86f77884bfc51"),rO=l("TeamFileCountsByTeamId",["teamId"],"65ed3efce57070adbe8851dcf9106feaaacc012da35c8289aae0a48316c20f76"),rL=l("TeamFileLimitsInfoByProject",["projectId"],"328f6841b923f1f2aca6dcca00fbf09bb61c0521f21e74c50e0aa904754a4ec0"),rR=l("TeamFileLimitsInfo",["teamId"],"d26999f347daf5153b272f2552ee0c9747ee87d8719227c7512f99940df00052"),rP=l("TeamOrphanedStatus",["teamId"],"c00352425f1fa323b0123bce3a7bd32c3fd1b4570013079c6a9b71a9f666f3ca"),rk=l("TeamPermissions",["teamId"],"0a7a1b7f56546b9de8c4a9a5b2d19e3e857fadc44b657405e31a899d0f792313"),rD=l("TeamSettings",["teamId"],"62acd9ca3a813055ce1a888d2e4bf31583aeccddc26860181bf6e926b5360d59"),rM=l("TeamTaxIdView",["teamId"],"d08c7fc04682202932b106e57f3b244cd8934f105016f5e4455e1e47b4da3ec4"),rx=l("TeamTilePermissions",["teamId"],"c722850f6e18857a80a2aa359f468725d35d86c9a376cc4a86e5545c62d89f0f"),rF=l("ToggledDevModeSettingsView",["targetOrgId","targetUserId"],"34b6599d9efc94406278d0433956d1625dd72ba2530665e82e50fff00a7dce5d"),rU=l("TeamUserStatusAndRequests",["teamId"],"50d089b2e4d7415e7fe47a45b2b6795bac5e66dd3018aea1a80be044ad6e2314"),rB=l("UserColorProfilePreferenceView",[],"216d0bed6c38dd4b9d6b5287c2398707f4b0513ada63f2fb0e62d6dc7d7c31a4"),rH=l("UserFlagByName",["name"],"cd42816fa66bc64de2dd9d1061495a885f71420bf68f6d0ade675cb082524f9d"),rV=l("UserForRcs",[],"7754a7394125d90e970356eeb514bae356f088eb6d0bba7eed8747e41c1c6898"),rG=l("UserJamboardOfferEligibility",[],"5b95ac3232a1b7dc3dd0992b440a2646c779175e5b575ee24cb6a27e3f523e99"),rW=l("UserMonetizationMetadata",["userId"],"446a7c94ab10360ad76751b775dc2df202993c5f35bcf54ee5158ec756678857"),rK=l("PersistentUserNotificationBellData",[],"9137cf3df07778ae8b9c65aa93244ff78df3be9865b490bf3084200fcf5b1165"),rY=l("UserWithTeams",[],"76d3fc49455d3f5149aab864569fc920b934779fe705daa48b69aeb46f827c97"),rj=l("UserForRealtimeShim",[],"1a89e221cbca80c745f0828cbb184f8f63a3f04fb4030ac391663a6b047e2724"),rz=l("OrgUsersForRealtimeShim",[],"94ff2f2c624d8a54178c2bc0fad30e818a6ceea62866999c7ee230e8e26634da"),r$=l("VariableByKey",["key"],"5c1c2fb293b97204f72820835b31ca853d0bbd75c244709c361ab7938e6c0204"),rZ=l("VariableCollectionByKey",["key"],"79ab0ca9eece2e3e97ba1f3c0eb5d207cea49f8d8b4fe9740f662e7bc5660fd4"),rq=l("VariablesByVariableCollectionKey",["variableCollectionKey"],"30033b58303e266f91a92e1624cd43b7e28c588c51e031b9dea178f1744c8f32"),rJ=l("WorkspaceAdminSettingsView",["workspaceId"],"38435e281372e1803ba6e31d0db0c43f23a86fcf57ec4b552d0d186917bd3dbc"),rX=l("WorkspaceCanCreateTeamView",["orgId"],"624d2078031fa6e8eedaba0d89f2f014c16a4fbc07fa5fa0410d8f6bf32b3dce"),rQ=l("WorkspaceModalPluginRequests",["orgId"],"58f1c2b1c207cc030538bd134a593b0dd005064421d73d4b233e4ca6b39fe66e"),r0=l("WorkspaceSelectorView",["orgId"],"e79cd448237eab7578fc7eb0b24e581e70040587b2cfc7e70f2667c05124f10c"),r1=l("WorkspaceSubscribedLibrariesForFile",["fileKey"],"113a32f085e4bc0f388b9fa522dabd6376ed9002781946beb99e53ba2c28a739"),r2=l("WorkspaceSubscribedLibrariesForTeam",["teamId"],"ed9dd271fe6e8012750d6f454edb506a18b052cc600e124df4413d8f1e8c831e"),r3=l("WorkspacesCanAdminView",["orgId"],"f54bfc15a44d957cbab31af6b9113a5387c7d7e7aaada067a70e869a56046df1"),r5=l("WorkspacesDirectoryView",["orgId"],"cd9fe5c3e928fade6a126e4c371bdd7970d269c6420e8ac6dc1a0bb98f7e0758"),r4=l("WorkspacesTableView",["orgId"],"34a4cf2dcdcf208bd8151cac65bf45abeed11f564ef956d26617a0661f9ec3cf"),r8=l("WorkspaceDefaultTeamsView",["workspaceId"],"3b9c11f1672dd9f6a7697af213e9a82c73bbe88dcbd406347ad5752e53332ec2"),r6=l("WorkspacePinnedFileKeysView",["workspaceId"],"78a56103d4ea1375b7ff603bab462b4ea7346e59c08ea2339a66078142589230"),r7=l("WorkspacePinnedFilesView",["workspaceId"],"1037d6a37aa501a9e298486b6b852583b202a5f7bb9f9573f9c719e82ecdf42a"),r9=l("WorkspaceSuggestedPinsView",[],"5d8cff25b13e964a4e0645e459b534af886862de2a3fa7ce63a4b846586c5b66"),ne=l("ApprovedLibrariesView",["workspaceId"],"c01ef8751391811d63ed49aab8a70c66a78532de852d58c820986536abecdb7c"),nt=l("WorkspacePageMembersView",["workspaceId"],"429826704124cb0727562d1386b41181a3dc57776e6b0cfb27121e5d2bf8cdd8"),nr=l("JamboardOfferRedeemedAt",[],"d1630e0a777d88bf1598a975fc759895e1f5367fa93c59198952752c8065a2ce"),nn=l("ApprovedLibrariesForOrgView",["orgId"],"86c216fb79dcfc9f41ec49ce29444c1c9cb39655e009cb588a8c68afba43aadb"),ni=l("DeviceTryFileView",["fileKey"],"57262db6a4c99d03c727ef6e8a734ac28b5bc6fb68fcf7f7134381d122629cdc"),na=l("WorkspaceAdminLibrariesSectionView",["workspaceId"],"60a5e22cb527e5ccfb1da6f4003fbe39d4b76c9037bd82121fa0e6ba74712e0f"),no=l("ReposForTeam",["teamId","updatedAtTimestamp"],"f203f31bfc1a8cc456dcf68faf64e47ec3ac388ff7188b861e23d4d71e42d0e6"),nl=l("ReposForProject",["folderId","updatedAtTimestamp"],"8633cc9357adf7d07c900c8ec5b781985460d010c9bb626be838c52e6ad1818e"),ns=l("ReposForFile",["fileKey"],"cd5aaa0045ebbb83512090df5cdc1797efcc0da19648e16a95e550cbdce95e7d"),nc=l("ClientReloadView",["cacheNonce"],"5be1c58ede5589db0c44bc7a54898e90a42d4705aaaeb4e6154b06cd7dd4aa50"),nd=l("PluginUpdatesForOrg",["orgId","updatedAtTimestamp"],"97f51ca7f7de806b407bc5e59cde7b601858fc18c8e3f11ff0e789d8db0cb5a8"),nu=l("WalkthroughMediaView",["fileKey"],"0be202cd3fea113f765741e4864668575dcc169a22ca68e1227ffdacbac5921c")},623746:(e,t,r)=>{"use strict";r.d(t,{Bp:()=>G,GA:()=>U,KC:()=>x,Nl:()=>K,Ns:()=>E,Qp:()=>D,SS:()=>M,TP:()=>v,Td:()=>W,U5:()=>L,Um:()=>A,V1:()=>f,WP:()=>O,WW:()=>b,YN:()=>z,YT:()=>N,ZW:()=>R,Zt:()=>j,_3:()=>S,aU:()=>C,cE:()=>B,ge:()=>T,k9:()=>w,uW:()=>H,vy:()=>Y,yT:()=>I});var n=r(935283),i=r(966712),a=r(96328),o=r(515009),l=r(987918),s=r(75224),c=r(99506),d=r(173454),u=r(279702),p=r(66037),m=r(478655),_=r(757702),h=r(852800),g=r(666068);function f(e,t){if(null===e)return null;let r={};for(let t in e)r[(0,a._5)(t)]=e[t];return Object.assign(r,t||{})}function E(e,t){let r={};return(e.link_access&&(r.linkAccess=e.link_access),"proto_link_access"in e&&(r.protoLinkAccess=e.proto_link_access),"has_file_link_password"in e&&(r.hasFileLinkPassword=e.has_file_link_password),"has_proto_link_password"in e&&(r.hasProtoLinkPassword=e.has_proto_link_password),"org_audience"in e&&(r.orgAudience=e.org_audience),"org_browsable"in e&&(r.orgBrowsable=e.org_browsable),"viewer_export_restricted"in e&&(r.viewerExportRestrictedAt=e.viewer_export_restricted?new Date:null),e.name&&(r._name=e.name),r&&t)?{File:{[t]:r}}:null}let y=e=>{let t={};return(e.link_access&&(t.linkAccess=e.link_access),"proto_link_access"in e&&(t.protoLinkAccess=e.proto_link_access),"org_audience"in e&&(t.orgAudience=e.org_audience),"org_browsable"in e&&(t.orgBrowsable=e.org_browsable),e.name&&(t.name=e.name),t&&e.id)?{Repo:{[e.id]:t}}:null};function b(e){if(!e.id)return null;let t=y(e);return t?(e.default_file_key&&Object.assign(t,E(e,e.default_file_key)),t):null}function v(e,t,r){let n=void 0!==e.default_file_key?e.default_file_key:e.key;return n&&"optimistic"===t&&e.expires_at?{FigFileLinkExpirationConfig:{[`optimistic-id-${n}`]:{figFileKey:n,expiresAt:new Date(e.expires_at),accessReverted:!1,updatedAt:new Date,prevPrivateLinkAccess:c.PQ.ORG_VIEW,prevPrivateProtoLinkAccess:null,prevOrgBrowsable:null,setByUserId:(null==r?void 0:r.id)||null,setByUser:r}}}:null}function I(e,t,r){let n=e.link_access===c.PQ.VIEW||e.link_access===c.PQ.EDIT||e.proto_link_access===c.Pu.VIEW;return t&&"optimistic"!==t&&(!n||"expires_at"in e)?{FigFileLinkExpirationConfig:{[t]:{expiresAt:e.expires_at?new Date(e.expires_at):null,accessReverted:!e.expires_at,setByUserId:(null==r?void 0:r.id)||null,setByUser:r}}}:null}function T(e){return{key:e.key,name:e.name,file_repo_id:e.file_repo_id,source_file_key:e.source_file_key,editor_type:e.editor_type,folder_id:e.folder_id,team_id:e.team_id,parent_org_id:e.parent_org_id,has_proto_link_password:e.has_proto_link_password,proto_link_access:e.proto_link_access,created_at:e.created_at,trashed_at:e.trashed_at,prototype_url:e.prototype_url}}function S(e,t,r){let n=`${window.location.origin}/proto/${e}/${(0,a.sy)(t||"")}`;return null!=r?`${n}?node-id=${(0,a.sy)(r)}`:n}function w(e){var t,r;return{checkpoint_token:"",edit_url:"",prototype_url:`${window.location.origin}/proto/${e.key}/${(0,a.sy)(e.name||"")}`,track_tags:"",url:`${window.location.origin}/file/${e.key}/${(0,a.sy)(e.name||"")}`,touched_at:"",client_meta:e.clientMeta||"",created_at:e.createdAt.toString(),creator_id:e.creator.id,deleted_at:e.deletedAt?e.deletedAt.toString():null,description:e.description||"",editor_type:e.editorType,file_repo_id:e.fileRepoId,folder_id:e.folderId,has_file_link_password:e.hasFileLinkPassword,has_proto_link_password:e.hasProtoLinkPassword,is_template:!!(null==(t=e.trackTags)?void 0:t.isTemplate),key:e.key,license:e.license,link_access:e.linkAccess,name:e.name||"",org_audience:!!e.orgAudience,org_browsable:e.orgBrowsable,parent_org_id:e.parentOrgId,proto_link_access:e.protoLinkAccess,source_file_key:e.sourceFileKey,starter_library_src_file_key:null==(r=e.trackTags)?void 0:r.starterLibrarySrcFileKey,team_id:e.teamId,thumbnail_guid:e.thumbnailGuid,thumbnail_url:e.thumbnailUrl,thumbnail_url_override:e.thumbnailUrlOverride,trashed_at:e.trashedAt?e.trashedAt.toString():null,trashed_user:e.trashedUser,trashed_user_id:e.trashedUser?e.trashedUser.id:null,updated_at:e.updatedAt.toString(),viewer_export_restricted:!!e.viewerExportRestrictedAt,is_try_file:e.isTryFile,library_key:e.libraryKey}}function A(e){return{id:e.id,handle:e.handle,img_url:e.imgUrl,email:e.email||void 0,name:e.name||void 0}}function C(e,t,r,n){let i={id:e.id,resource_type:e.resourceType,resource_id_or_key:e.resourceId,level:e.level,created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString(),pending:e.pending,org_user:r?{design_paid_status:r.accountType,whiteboard_paid_status:r.whiteboardPaidStatus||c.El.STARTER,user_id:r.userId,permission:r.permission}:void 0,team_user:n?{design_paid_status:n.designPaidStatus,whiteboard_paid_status:n.whiteboardPaidStatus,user_id:n.userId,team_id:n.teamId}:void 0};return e.pending?{...i,pending:!0,user_id:null,user:{email:e.pendingEmail||""}}:{...i,pending:!1,user_id:t.id,user:t}}function N(e){return{id:e.id,name:e.name,folder_id:e.folderId,default_file_key:e.defaultFileKey,deleted_at:e.deletedAt&&e.deletedAt.toString(),trashed_at:e.trashedAt&&e.trashedAt.toString(),created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString(),team_id:e.teamId,link_access:e.linkAccess,proto_link_access:e.protoLinkAccess,has_file_link_password:e.hasFileLinkPassword,has_proto_link_password:e.hasProtoLinkPassword,org_audience:e.orgAudience,org_browsable:e.orgBrowsable,parent_org_id:e.parentOrgId,has_active_branches:e.hasActiveBranches}}function O(e,t){return{id:e.id,viewed_on:e.viewedOn.toString(),user_id:e.user.id,file_key:e.fileKey,user:t}}function L(e){let t={};return e.forEach(e=>t[e.id]=e),t}function R(e){switch(e){case c.vt.FILE:return"FileRole";case c.vt.FILE_REPO:return"RepoRole";case c.vt.FOLDER:return"ProjectRole";case c.vt.TEAM:return"TeamRole"}}function P(e){if(null!=e)return{backgroundColor:e.backgroundColor??void 0,containingStateGroup:"containingStateGroup"in e?function(e){if(null!=e)return{name:e.name??void 0,nodeId:e.nodeId??void 0}}(e.containingStateGroup):void 0,name:e.name??void 0,nodeId:e.nodeId??void 0,pageId:e.pageId??void 0,pageName:e.pageName??void 0}}function k(e,t){var r;return{description:e.description??void 0,description_rt:e.description_rt??void 0,library_key:d.Co,id:e.id,name:e.name,unpublished_at:(null==(r=e.unpublishedAt)?void 0:r.toISOString())??null,..."hubFile"===t.type?{file_key:t.file.id,team_id:null}:{file_key:t.file.key,team_id:t.file.teamId}}}function D(e,t){return{...k(e,t),type:d.PW.COMPONENT,node_id:e.nodeId,canvas_url:`/component/${e.componentKey}/canvas?ver=${e.contentHash}`,component_key:(0,o.ii)(e.componentKey),containing_frame:P(e.containingFrame),content_hash:(0,o.F7)(e.contentHash),userFacingVersion:o.F7.INVALID,min_node_height:e.minNodeHeight??0,min_node_width:e.minNodeWidth??0,thumbnail_url:`/component/${e.componentKey}/thumbnail?ver=${e.contentHash}`}}function M(e,t){return{...k(e,t),type:d.PW.STATE_GROUP,node_id:e.nodeId,canvas_url:`/state_group/${e.key}/canvas?ver=${e.version}`,containing_frame:P(e.containingFrame),default_state_key:e.defaultStateKey,key:(0,o.q)(e.key),min_node_height:e.minNodeHeight??0,min_node_width:e.minNodeWidth??0,version:(0,o.Rf)(e.version),userFacingVersion:o.Rf.INVALID,thumbnail_url:`/state_group/${e.key}/thumbnail?ver=${e.version}`,fill_color:e.fillColor??void 0}}function x(e,t){var r;return{...k(e,t),type:d.PW.STYLE,node_id:e.nodeId,canvas_url:`/style/${e.key}/canvas?ver=${e.checkpoint.key}`,checkpoint_id:null==(r=e.checkpoint)?void 0:r.key,content_hash:(0,o.IA)(e.contentHash),userFacingVersion:o.IA.INVALID,key:(0,o.n3)(e.key),meta:e.meta?(0,g.iX)(e.meta):void 0,sort_position:e.sortPosition??"",style_type:e.styleType,thumbnail_url:`/style/${e.key}/thumbnail?ver=${e.checkpoint.key}`}}function F(e,t){return`/variable_set/${e}/canvas?ver=${t}`}function U(e,t,r){let i="",a="";return r?(i=m.wL(l.sH(e.nodeId)??l.Hr),a=_.wL(l.sH(e.variableCollection.nodeId)??l.Hr)):(i=m.Hc((0,o.ey)(e.key),(0,o.nK)(e.version)),a=_.Hc((0,o.yG)(e.variableCollection.key),(0,o.Vt)(e.variableCollection.version))),{...k({...e,description_rt:null,thumbnailUrl:null},t),subscriptionStatus:"LIBRARY",type:d.PW.VARIABLE,node_id:i,variableSetId:a,variableCollectionKey:(0,o.yG)(e.variableCollection.key),resolvedType:function(e){switch(e){case"BOOLEAN":return h.rXF.BOOLEAN;case"COLOR":return h.rXF.COLOR;case"FLOAT":return h.rXF.FLOAT;case"MAP":return h.rXF.MAP;case"STRING":return h.rXF.STRING;case"SYMBOL_ID":return h.rXF.SYMBOL_ID;case"TEXT_DATA":return h.rXF.TEXT_DATA;default:(0,n.wc)(`Unhandled livegraph type: ${e}`)}}(e.variableType),version:(0,o.nK)(e.version),userFacingVersion:o.nK.INVALID,sortPosition:e.sortPosition,key:(0,o.ey)(e.key),scopes:(0,u.gK)(e.scopes),canvas_url:F(e.variableCollection.key,e.variableCollection.checkpoint.key)}}function B(e,t,r){var n;let i="";return i=r?_.wL(l.sH(e.nodeId)??l.Hr):_.Hc((0,o.yG)(e.key),(0,o.Vt)(e.version)),{...k({...e,description_rt:null,thumbnailUrl:null},t),subscriptionStatus:"LIBRARY",type:d.PW.VARIABLE_SET,node_id:i,version:(0,o.Vt)(e.version),userFacingVersion:o.Vt.INVALID,canvas_url:F(e.key,e.checkpoint.key),key:(0,o.yG)(e.key),checkpoint_id:null==(n=e.checkpoint)?void 0:n.key,variableThumbnailsUrl:e.variableThumbnailsUrl??void 0,modes:function(e){if(null==e)return;let t=[];for(let r of e)t.push({id:r.id,name:r.name});return t}(e.modes),isExtendable:("loaded"===e.isExtendable.status&&e.isExtendable.data)??!1}}function H(e,t){var r,n,i,a,l,c,u;return{...{description:e.description??void 0,description_rt:e.description_rt??void 0,id:e.id,name:e.name,unpublished_at:(null==(r=e.unpublishedAt)?void 0:r.toISOString())??null,..."hubFile"===t.type?{file_key:t.file.id,library_key:(0,s.lt)(t.file.libraryKey),file_name:(null==(n=t.file.currentHubFileVersion)?void 0:n.name)||"",publisher_name:(null==(a=null==(i=t.file.communityPublishers)?void 0:i[0])?void 0:a.profile.name)||"",isHubFile:!0}:"teamTemplate"===t.type?{file_key:t.file.name,library_key:(0,s.lt)(t.file.libraryKey),file_name:(null==(l=t.file.template)?void 0:l.name)||"",publisher_name:(null==(u=null==(c=t.file.template)?void 0:c.publishedByUserNullable)?void 0:u.name)||"",isHubFile:!1}:{file_key:t.file.key,library_key:d.Co,file_name:t.file.name,isHubFile:!1,publisher_name:""}},subscriptionStatus:"LIBRARY",type:d.PW.MODULE,node_id:e.nodeId,key:(0,o.mW)(e.key),version:(0,o.Pg)(e.version),userFacingVersion:o.Pg.INVALID,canvas_url:`/api/file_proxy/module_asset/${e.key}/canvas?ver=${e.checkpoint.key}`,containing_frame:P(e.containingFrame),thumbnail_url:`/module_asset/${e.key}/thumbnail?ver=${e.checkpoint.key}`,moduleSource:V(e.moduleSource),width:parseInt(e.width),height:parseInt(e.height)}}let V=e=>{switch(e){case"EDITOR_TEMPLATE":return h.QjO.EDITOR_TEMPLATE;case"SLIDES_TEMPLATE":return h.QjO.SLIDES_TEMPLATE;case"SITES_TEMPLATE":return h.QjO.SITES_TEMPLATE;default:(0,n.wc)(`Unhandled livegraph module source: ${e}`)}};function G(e){return{id:e.id,path:e.path,orgId:e.org_id??null,teamId:e.team_id,updatedAt:new Date(e.updated_at),createdAt:new Date(e.created_at),deletedAt:e.deleted_at?new Date(e.deleted_at):null,viewOnlyAt:e.is_view_only?new Date:null,inviteOnlyAt:e.is_invite_only?new Date:null,subscription:e.is_favorited?{id:"temp_is_favorited"}:null,description:e.description,ownerRole:null}}function W(e,t,r){return(t||r)&&e?{autogen_password_controls:(null==t?void 0:t.autogenPasswordControls)||!1,external_collaboration_controls:(null==t?void 0:t.externalCollaborationControls)||!1,public_link_controls_setting:(null==r?void 0:r.publicLinkControlsSetting)??(null==t?void 0:t.publicLinkControlsSetting),public_link_controls_max_expiration:(null==r?void 0:r.publicLinkControlsMaxExpiration)??(null==t?void 0:t.publicLinkControlsMaxExpiration)}:null}function K(e){return e?{...e,prevPrivateLinkAccess:e.prevPrivateLinkAccess,prevPrivateProtoLinkAccess:e.prevPrivateProtoLinkAccess,prevOrgBrowsable:!!e.prevOrgBrowsable,setByUser:e.setByUser?A(e.setByUser):null}:null}function Y(e){let t={domains:[],isFetching:!1,fetchedAt:null};return e&&e.forEach(e=>{t.domains.push({id:e.id,created_at:e.createdAt?e.createdAt.toString():"",org_id:e.orgId,domain:e.domain,google_sso_only_at:e.googleSsoOnlyAt?e.googleSsoOnlyAt.toString():null,saml_sso_only_at:e.samlSsoOnlyAt?e.samlSsoOnlyAt.toString():null,verification_method:null,verified_at:null})}),t}function j(e,t){return t?{type:"hubFile",file:t}:e?{type:"team",file:e}:void 0}function z(e){var t,r,n,a,o,l,s,d,u,m,_;if(!e)return{recent_files:[],recent_repos:[],org_drafts_owners:[]};let h=[],g=new Map,f=[],E=new Map;for(let y of e){let e=y.file;if(e&&!e.trashedAt&&!e.deletedAt&&((0,i.kc)().piper||"slides"!==e.editorType)&&((0,i.kc)().sites||"sites"!==e.editorType)){let i=null==(t=e.trackTags)?void 0:t.isTemplate,b={accessed_at:y.actionAt.toISOString(),branch_checkpoint_id:e.branchCheckpointId,client_meta:e.clientMeta,created_at:e.createdAt.toISOString(),creator_id:e.creatorId,deleted_at:null,description:e.description,edit_url:e.editUrl,editor_type:e.editorType,file_repo_id:e.fileRepoId,folder_access_enabled:e.folderAccessEnabled,folder_id:e.folderId,handoff_url:e.handoffUrl,has_file_link_password:e.hasFileLinkPassword,has_proto_link_password:e.hasProtoLinkPassword,is_favorited:e.isFavorited,is_new_user_playground_library:e.newUserPlaygroundLibrary||void 0,is_team_template:e.isTeamTemplate,is_template:i||void 0,is_try_file:e.isTryFile,key:e.key,last_published_at:e.lastPublishedAt||null,license:e.license,link_access:e.linkAccess,name:e._name||"Untitled",org_audience:e.orgAudience??void 0,org_browsable:e.orgBrowsable,parent_org_id:e.parentOrgId,proto_link_access:e.protoLinkAccess,prototype_url:e.prototypeUrl,scheme:e.scheme,source_checkpoint_id:e.sourceCheckpointId,source_file_key:e.sourceFileKey,starter_library_src_file_key:(null==(r=e.trackTags)?void 0:r.starterLibrarySrcFileKey)||void 0,team_id:e.teamId,thumbnail_guid:e.thumbnailGuid,thumbnail_url:e.thumbnailUrl,thumbnail_url_override:e.thumbnailUrlOverride,touched_at:e.touchedAt,track_tags:e.trackTagsRaw?JSON.parse(e.trackTagsRaw):null,trashed_at:null,trashed_user_id:e.trashedUserId,updated_at:null==(n=e.updatedAt)?void 0:n.toISOString(),url:e.url,viewer_export_restricted:e.viewerExportRestricted};if(e.fileRepoId&&e.repo){let t=g.get(e.fileRepoId);t?t.files.push(b):(t={repo:{created_at:e.repo.createdAt.toISOString(),default_file_key:e.repo.defaultFileKey,deleted_at:(null==(a=e.repo.deletedAt)?void 0:a.toISOString())||null,folder_id:e.repo.folderId,has_active_branches:e.repo.hasActiveBranches,has_file_link_password:e.repo.hasFileLinkPassword,has_proto_link_password:e.repo.hasProtoLinkPassword,id:e.repo.id,is_favorited:e.repo.isFavorited,link_access:e.repo.linkAccess,name:e.repo.name,org_audience:e.repo.orgAudience,org_browsable:e.repo.orgBrowsable,parent_org_id:e.repo.parentOrgId,proto_link_access:e.repo.protoLinkAccess,team_id:e.repo.teamId,trashed_at:(null==(o=e.repo.trashedAt)?void 0:o.toISOString())||null,updated_at:e.repo.updatedAt.toISOString()},files:[b],timestamp:y.actionAt.toISOString()},g.set(e.fileRepoId,t),f.push(t))}else h.push(b);let v=e.orgDraftsFolderOwnerBaseOrgUser;if(v&&!v.disabledAt&&!E.has(v.id)){let e={account_type:v.accountType,account_type_changed_at:(null==(l=v.accountTypeChangedAt)?void 0:l.toISOString())||void 0,agreed_to_community_tos_at:(null==(s=v.agreedToCommunityTosAt)?void 0:s.toISOString())||null,created_at:v.createdAt.toISOString(),description:v.description,design_paid_status:v.designPaidStatus,dev_mode_paid_status:v.devModePaidStatus,drafts_folder_id:v.draftsFolderId??"",has_shown_figjam_admin_launch_onboarding:v.hasShownFigjamAdminLaunchOnboarding,has_shown_figjam_admin_onboarding:v.hasShownFigjamAdminOnboarding,id:v.id,is_email_validated:!!v.user.emailValidatedAt,license_admin:((null==(d=v.licenseGroupAdmins)?void 0:d.length)??0)>0,license_group_admins:[],license_group_member:void 0,org_id:v.orgId,permission:v.permission,show_figjam_user_onboarding:v.showFigjamUserOnboarding,type:p.Wd.ORG_USER,updated_at:(null==(u=v.updatedAt)?void 0:u.toISOString())||"",user:{email:v.user.email||void 0,handle:v.user.handle,id:v.user.id,img_url:v.user.imgUrl},user_id:v.userId,user_state_changed_at:(null==(m=v.userStateChangedAt)?void 0:m.toISOString())||void 0,whiteboard_paid_status:v.whiteboardPaidStatus,workspace_users:[]},t=v.licenseGroupMember;for(let r of(t&&(e.license_group_member={actor_user_id:t.actorUserId,assigned_at:(null==(_=t.assignedAt)?void 0:_.toISOString())??"",created_at:t.createdAt.toISOString(),id:t.id,license_group_id:t.licenseGroupId,org_user_id:t.orgUserId,update_reason:t.updateReason??c.kc.SELF_SELECTED_DONT_KNOW,updated_at:t.updatedAt.toISOString()}),v.licenseGroupAdmins??[]))e.license_group_admins.push({created_at:r.createdAt.toISOString(),id:r.id,license_group_id:r.licenseGroupId,org_user_id:r.orgUserId,updated_at:r.updatedAt.toISOString()});for(let t of v.workspaceUsers??[])e.workspace_users.push({actor_user_id:t.actorUserId,assigned_at:t.assignedAt,created_at:t.createdAt,id:t.id,is_main_workspace:t.isMainWorkspace,org_user_id:t.orgUserId,permission:t.permission,update_reason:t.updateReason,updated_at:t.updatedAt,uuid:t.uuid,workspace_id:t.workspaceId});E.set(v.id,e)}}}return{recent_files:h,recent_repos:f,org_drafts_owners:Array.from(E.values())}}},691205:(e,t,r)=>{"use strict";r.d(t,{IT:()=>m.IT,M4:()=>g,n_:()=>m.n_});var n=r(38329),i=r(374626),a=r(349894),o=r(630124),l=r(198759),s=r(685901),c=r(656177),d=r(418828),u=r(1372),p=r(982974),m=r(752553);let _={File:(0,l.M)(()=>n.D,()=>u.V$),Repo:(0,c.T)(()=>n.D,()=>u.V$),Folder:(0,s.Y)(()=>n.D,()=>u.V$),Team:(0,d.p)(()=>n.D,()=>u.V$)},h=(0,o.a)(i.zl,{getRealtimeClient:()=>u.V$,getLivegraphClient:()=>a.ZJ.get(),getReduxStore:()=>n.D},_).extend((0,p.N)(_)),g=Object.assign(h,{useFile:e=>(0,p.y)(e,h)})},167807:(e,t,r)=>{"use strict";r.d(t,{$Q:()=>s,ER:()=>c});var n=r(188507),i=r(966712),a=r(391388),o=r(27087),l=r(691205);let s=(0,i.kc)().livestore_use_file_migration?function(e){return l.M4.File.useValue(e)}:function(e){let t=(0,n.d4)(t=>e?t.fileByKey[e]:void 0);return a.Qw.loaded(t)};function c(e,t,r){return async(n,{pageParam:i})=>{var a,l;let s;i?s=i:(s=e(n),s=`${s}${-1===s.indexOf("?")?"?":"&"}page_size=${t}`);let c=await (0,o.GD)(s);return{data:r?r(c.data.meta):c.data.meta,nextPage:null==(a=c.data.pagination)?void 0:a.next_page,prevPage:null==(l=c.data.pagination)?void 0:l.prev_page}}}},4564:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(517333),i=r(441088),a=r(744472),o=r(442944);let l=null;function s(){return l||(n.eD&&(l=new a.k),(0,i.T)()&&(l=new o.y)),l}},820113:(e,t,r)=>{"use strict";r.d(t,{B9:()=>E,LN:()=>_,_Z:()=>y,aE:()=>f,br:()=>I,bu:()=>v,ub:()=>g,vr:()=>m,wU:()=>h});var n=r(411855),i=r(966712),a=r(776621),o=r(802026),l=r(479296),s=r(582410),c=r(720647);let d=["jpy","usd","gbp","cad","eur"],u=(0,l.D)(()=>{if(navigator){let e=navigator.languages;if(e&&e[0])return e[0];let t=navigator.language;if(t)return t}return"en-US"}),p={jpy:{annualFigma:1800,monthlyFigma:2250,orgFigma:6750,orgDevMode:3750,orgFigjam:750,enterprise:11250,enterpriseDevMode:5250,enterpriseFigjam:750,annualFigjam:450,monthlyFigjam:750},usd:{annualFigma:1200,monthlyFigma:1500,orgFigma:4500,orgDevMode:2500,orgFigjam:500,enterprise:7500,enterpriseDevMode:3500,enterpriseFigjam:500,annualFigjam:300,monthlyFigjam:500},eur:{annualFigma:1200,monthlyFigma:1500,orgFigma:4500,orgDevMode:2500,orgFigjam:500,enterprise:7500,enterpriseDevMode:3500,enterpriseFigjam:500,annualFigjam:300,monthlyFigjam:500},gbp:{annualFigma:1100,monthlyFigma:1400,orgFigma:4e3,orgDevMode:2200,orgFigjam:500,enterprise:7e3,enterpriseDevMode:3200,enterpriseFigjam:500,annualFigjam:300,monthlyFigjam:500},cad:{annualFigma:1600,monthlyFigma:2e3,orgFigma:6e3,orgDevMode:3500,orgFigjam:700,enterprise:1e4,enterpriseDevMode:5e3,enterpriseFigjam:700,annualFigjam:400,monthlyFigjam:700}};class m{constructor(e){this.fullFormat={jpy:"JPY",usd:"USD",eur:"EUR",gbp:"GBP",cad:"CAD"},null===e&&(0,a.us)("Currency should not be null. Defaulted to usd."),this.currency=e??"usd",this.hasCents="jpy"!==this.currency,this.locale=u()}formatMoney(e,t){let r={currency:this.currency,style:"currency"};this.hasCents&&(null==t?void 0:t.showCents)||(r.maximumFractionDigits=0,r.minimumFractionDigits=0),this.hasCents&&(e*=.01);let n=e.toLocaleString(this.locale,r);return(n.startsWith("CA$")||n.startsWith("US$"))&&(n=n.slice(2)),(null==t?void 0:t.showFullFormat)?`${n} ${this.fullFormat[this.currency]}`:n}formatPrice(e){return this.formatMoney(this.getPrices()[e])}getPrices(){return p[this.currency]}getPricesForOrgPlan(e){let t,r,n;let i=this.getPrices();if(e===o.ju.ORGANIZATION)t=i.orgFigma,r=i.orgFigjam,n=i.orgDevMode;else if(e===o.ju.ENTERPRISE)t=i.enterprise,r=i.enterpriseFigjam,n=i.enterpriseDevMode;else throw Error(`Unknown billing plan: ${e}.`);return{[c.lM.DESIGN]:t,[c.lM.FIGJAM]:r,[c.lM.DEV_MODE]:n}}getPricesWithOverride(e,t){let r={},n=this.getPricesForOrgPlan(t);return s.kH.forEach(t=>{var i;let a=n[t];(null==e?void 0:e.license_type_configuration)&&(null==(i=e.license_type_configuration[t])?void 0:i.is_free_period)&&(a=0),r[t]=a}),r}}function _(){let e=(0,i.Ay)().user_currency_from_ip;return y()?e:"usd"}function h(){return new m(_())}function g(){return y()&&"usd"!==_()&&(0,i.Ay)().iso_code||"US"}function f(){return(0,i.Ay)().iso_code||"US"}function E(){let e=new Set;return e.add("usd"),e.add(_()),Array.from(e)}function y(){let e=(0,i.Ay)().user_currency_from_ip;if(!e||!d.includes(e)||"usd"===e)return!1;let t=(0,i.Ay)().user_data;return!!t&&!!t.id}let b={usd:[],eur:["AT","BE","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","SK","SI","ES","SE","CH","BG","HR","CY","IE","RO"],jpy:["JP"],cad:["CA"],gbp:["GB","IM","GG","JE","GI","GS"]};function v(e,t){return"usd"===e||b[e].includes(t)}function I(e="usd"){return(0,n.useMemo)(()=>{let t=new m(e);return(...e)=>t.formatMoney(...e)},[e])}},401352:(e,t,r)=>{"use strict";r.d(t,{Lb:()=>o,nN:()=>s,wj:()=>l});var n=r(286640);let i="CHECK_OSS_SALES_EXPERIMENT_LOCAL_KEY",a="CHECKED_OSS_SALES_EXPERIMENT_LOCAL_KEY";function o(e){let t=(0,n.DN)();t.get(a)||t.set(i,e)}function l(){(0,n.DN)().set(a,!0)}function s(e){let t=(0,n.DN)();return!t.get(a)&&e===t.get(i)}},833629:(e,t,r)=>{"use strict";r.d(t,{Ai:()=>m,D8:()=>y,Lh:()=>b,R$:()=>g,WO:()=>_,XF:()=>E,Y3:()=>I,_q:()=>S,jO:()=>v,jm:()=>T,uF:()=>u});var n=r(776621),i=r(304783),a=r(132135),o=r(428467),l=r(479296),s=r(335682),c=r(860178),d=r(309798);function u(e,t){let r=E(e,t);return r?(0,a.rl)(r):null}function p(e,t){return!!e&&!!e.track_tags&&!e.trashed_at&&!e.deleted_at&&!!e.is_template&&t.includes(e.track_tags.figma_basics_experiment)}function m(e){let t=(0,c.iZ)(),r=(0,s.Cq)({useSinatraType:!0});return _(null==t?void 0:t.id,r,e)}let _=(0,l.D)((e,t,r)=>null!=e&&null!=t&&p(t,r)&&e===t.creator_id),h=!1;function g(e,t,r){let a=Object.values(e||{});if(0===a.length)return;let l=a.find(e=>e&&p(e,r));if(l){if(!(0,o.canEditFile)(l.key,t)){h||(h=!0,(0,n.$D)(i.e.FRONTEND_PLATFORM,Error("Figma Basics file found, but user doesn't have edit permissions")));return}return l.key}}let f=!1;function E(e,t){let r=Object.values(e).find(e=>{if(!(e&&t.currentUserOrgId===(e.parent_org_id||null)&&e.is_template&&"whiteboard"===e.editor_type&&!e.trashed_at&&!e.deleted_at))return!1;let r=(0,o.canEditFile)(e.key,t);return r||f||(f=!0,(0,n.$D)(i.e.FRONTEND_PLATFORM,Error("FigJam Template file found, but user doesn't have edit permissions"))),r});if(r)return r}var y=(e=>(e.PROPERTIES_PANEL_TITLE="properties-panel-title",e.SCRUBBABLE_CONTROL="scrubbable-control",e.PAINT_PANEL_ROW="paint-panel-row",e.TEXT_PANEL="text-panel",e))(y||{});function b(e,t){return e+"-"+t.toLowerCase().replace(" ","-")}function v(){let e=(0,d.f)("editor_onboarded"),t=(0,d.f)("figma_basics_tooltips_onboarding");return S({editor_onboarded:e,figma_basics_tooltips_onboarding:t,no_figma_basics_tooltips_onboarding:(0,d.f)("no_figma_basics_tooltips_onboarding"),cursor_bot_v2__basics_onboarded:(0,d.f)("cursor_bot_v2__basics_onboarded"),cursor_bot_v2__no_basics_onboarded:(0,d.f)("cursor_bot_v2__no_basics_onboarded")})}function I(){return S({editor_onboarded:(0,d.f)("editor_onboarded"),figma_basics_tooltips_onboarding:(0,d.f)("figma_basics_tooltips_onboarding"),no_figma_basics_tooltips_onboarding:(0,d.f)("no_figma_basics_tooltips_onboarding")})}function T(e){let t=!!(0,d.f)("cursor_bot_v2__basics_onboarded"),r=!!(0,d.f)("cursor_bot_v2__no_basics_onboarded");return t||!e&&r}function S(e){return!!(e.editor_onboarded||e.figma_basics_tooltips_onboarding||e.no_figma_basics_tooltips_onboarding||e.cursor_bot_v2__basics_onboarded||e.cursor_bot_v2__no_basics_onboarded)}},296796:(e,t,r)=>{"use strict";r.d(t,{OA:()=>p,nG:()=>m,rT:()=>u});var n=r(935283),i=r(181912),a=r(179940),o=r(438120),l=r(383986),s=r(916525);let c=(e,t,r)=>{switch(e){case"product":return s.SL[t];case"role":return s.FI[t];case"accountType":return s.U9[t];case"lastEdit":return s.rk[t];case"billingGroup":let n=decodeURIComponent(t),i=Object.keys(r).find(e=>{var t;return(null==(t=r[e])?void 0:t.name)===n});if("unassigned"===t||"Unassigned"===t)return l.s;if(i)return i;return null;case"newEditor":return"true"===t;default:return null}},d=(e,t,r)=>{switch(e){case"productFilter":return s.Eg[t];case"roleFilter":return s.$r[t];case"permissionFilter":case"lastEditFilter":case"newEditorFilter":case"workspaceFilter":return t;case"licenseGroupFilter":return encodeURIComponent((0,o.CC)(t,r));default:return null}};function u(e,t){if(!e)return null;let r=(0,a.qg)(e);return Object.keys(r).reduce((e,n)=>{if(!(n in s.Oo))return e;{let i=s.GX[n],a=r[n],o=c(n,a,t);return{...e,...o&&{[i]:o}}}},s.J0)}function p(e,t){return Object.keys(e).reduce((r,n)=>{let i=s.cC[n],a=e[n];return{...r,...a&&{[i]:d(n,a,t)}}},{})}function m(e){let t={filters:{}};return e[s.e5.newEditorFilter]&&(t.filters.new_editor=!0),Object.entries(e).forEach(([e,r])=>{if(null!==r&&e!==s.e5.newEditorFilter){if(e===s.e5.productFilter)t.product=r;else switch(e){case s.e5.licenseGroupFilter:t.filters.license_group=r;break;case s.e5.workspaceFilter:t.filters.workspace=r;break;case s.e5.permissionFilter:t.filters.permission=r;break;case s.e5.roleFilter:t.filters.role=r;break;case s.e5.lastEditFilter:t.filters.last_edit=(function(e){switch(e){case s.rk["3mo"]:return(0,i.A)().subtract(3,"month");case s.rk["6mo"]:return(0,i.A)().subtract(6,"month");case s.rk["1yr"]:return(0,i.A)().subtract(1,"year");default:(0,n.xb)(e)}})(r).utc().format()}}}),{...t.product&&{product:t.product},filters:JSON.stringify(t.filters)}}},227544:(e,t,r)=>{"use strict";r.d(t,{$:()=>O,C5:()=>S,CA:()=>D,EZ:()=>L,Fw:()=>R,HD:()=>I,K1:()=>E,Oy:()=>k,UB:()=>g,XL:()=>P,_h:()=>h,de:()=>M,e7:()=>v,hX:()=>w,i0:()=>N,jk:()=>T,ke:()=>y,l:()=>b,m3:()=>C,qu:()=>f,u3:()=>_});var n=r(900956),i=r.n(n),a=r(935283),o=r(181912),l=r(367253),s=r(939863),c=r(99506);r(802026);var d=r(582410),u=r(720647),p=r(820113),m=r(243987);let _=3,h=1,g={[u.lM.DESIGN]:12*m.d4,[u.lM.FIGJAM]:12*m.q8,[u.lM.DEV_MODE]:12*m.t9};function f(e,t){if((0,l.nD)(e.user.email))return!1;switch(t){case u.lM.DESIGN:return e.design_paid_status===c.El.FULL;case u.lM.FIGJAM:return e.whiteboard_paid_status===c.El.FULL;case u.lM.DEV_MODE:return e.dev_mode_paid_status===c.El.FULL;default:(0,a.xb)(t)}}function E(e){return 1===e.quarter?"annual":"true_up"}function y(e,t,r){var n,i;let a=(null==(n=t.license_type_configuration[e])?void 0:n.added_quantity)??0;if(t.is_stub){let r=(0,u.px)(e);return((null==(i=t.unit_amount_details_per_license_type[r])?void 0:i.total_cents)??0)*a}return a*(5-t.quarter)*(3*r[e])}function b(e){return e.is_stub&&1===e.quarter?null:((e.num_quarters_in_billing_period||4)+1-e.quarter)*3}function v(e){return Object.fromEntries(Object.values(u.lM).map(t=>{var r;return[t,(null==(r=e.license_type_configuration[t])?void 0:r.added_quantity)??0]}))}function I(e,t,r){let n=new p.vr(e.currency).getPricesWithOverride(e,r),a=(t,r)=>{var i;if(e.is_stub){let n=(0,u.px)(t);return((null==(i=e.unit_amount_details_per_license_type[n])?void 0:i.total_cents)??0)*r}return r*(5-e.quarter)*(3*n[t])},o=d.kH.dict(r=>{var i,o;let l,s;let c=null==(i=e.license_type_configuration[r])?void 0:i.locked_quantity,d=e.seat_floor[r]??0,u=c??t[r]??0,p=(null==(o=e.license_type_configuration[r])?void 0:o.prev_total_quantity)??0,m=Math.max(u,d??0),_=Math.max(m-p,0);return 1===e.quarter?(l=m,s=u):(l=_,s=Math.max(u-p,0)),{effectiveQuantityToBill:l,rawQuantityToBill:s,effectiveNewQuantity:_,seatFloor:d,prevTotalQuantity:p,totalSeats:u,lineItemTotal:a(r,l),monthlyUnitPrice:n[r]}}),l=i()(Object.values(o).map(({lineItemTotal:e})=>e)),s=e.is_stub&&1===e.quarter,c=s?null:((e.num_quarters_in_billing_period||4)+1-e.quarter)*3;return{licenseData:o,amountToPay:l,isStub:e.is_stub,isFirstInvoiceOfStubPeriod:s,remainingMonths:c}}function T(e,t){return S(e,t)}function S(e,t){return e.find(e=>e.status===t)}function w(e){var t;let r=S(e,"upcoming");return!!r&&!r.is_skipped_trueup&&(t=r.due_at,(0,o.A)(t)<(0,o.A)().add(14,"days"))}function A(e){let t=S(e,"open");return!!t&&(0,o.A)()<(0,o.A)(t.past_due_at)}function C(e){let t=S(e,"open");return!!t&&(0,o.A)(t.past_due_at)<(0,o.A)()}function N(e){return w(e)||A(e)||C(e)}var O=(e=>(e.OVERDUE="overdue",e.UNPAID="unpaid",e.REVIEW="review",e.LOCKED="locked",e.DEFAULT="default",e))(O||{}),L=(e=>(e.BILLING_STATUS="billing_status",e.TAX_ID_STATUS="tax_id_status",e.DEV_MODE_SUGGESTED_UPGRADES="dev_mode_suggested_upgrades",e))(L||{});function R(e){return C(e)?"overdue":S(e,"locked")?"locked":w(e)?"review":A(e)?"unpaid":"default"}function P(e,t,r){if(0===t.length)return"";let n=R(t),i=S(t,"open");switch(n){case"unpaid":return(0,s.t)("billing_status.unpaid",{dueDate:new Date(i.past_due_at)});case"overdue":return(0,s.t)("billing_status.overdue",{dueDate:new Date(i.past_due_at)});case"review":let o=S(t,"upcoming");if(o&&1===o.quarter&&!e.has_automatic_upcoming_invoice)return(0,s.t)("billing_status.review.auto_renewal_off",{renewalDate:new Date(o.period_start_at)});return r?(0,s.t)("billing_status.review.workspace_admin.seat_rename",{dueDate:new Date(o.due_at)}):(0,s.t)("billing_status.review.org_admin",{dueDate:new Date(o.due_at)});case"locked":let l=S(t,"locked");return(0,s.t)("billing_status.locked",{dueDate:new Date(l.due_at)});case"default":let c=S(t,"upcoming");return(0,s.t)("billing_status.default",{dueDate:new Date(c.due_at)});default:(0,a.xb)(n)}}function k(e,t,r){let n=new p.vr(t).getPricesForOrgPlan(r),a=Math.max(_-i()(Object.values(e)),0),o=Object.entries(e).reduce((e,t)=>{let[r,i]=t;return e+i*n[r]},0);return a&&(o+=a*n[u.lM.DESIGN]),12*o}function D(e){return null!==e&&null===e.value}function M(e){if(0===e.length)return null;let t=S(e,"upcoming");return t?1===t.quarter?t.period_start_at:t.period_end_at:null}},438120:(e,t,r)=>{"use strict";r.d(t,{CC:()=>d,GK:()=>f,MX:()=>b,Mj:()=>p,PI:()=>g,PR:()=>E,RC:()=>m,XO:()=>_,aM:()=>c,dL:()=>h,fK:()=>y,zT:()=>u});var n=r(935283),i=r(939863),a=r(99506),o=r(643067),l=r(383986),s=r(916525);function c(e,t){switch(e){case s.Od.NAME:return(0,i.t)("members_table.column_header.name");case s.Od.LAST_EDIT:case s.Od.LAST_DESIGN_EDIT:case s.Od.LAST_WHITEBOARD_EDIT:return(0,i.t)("members_table.column_header.edit_at");case s.Od.LAST_ACTIVE:case s.Od.LAST_DESIGN_ACTIVE:case s.Od.LAST_WHITEBOARD_ACTIVE:return(0,i.t)("members_table.column_header.active_at");case s.Od.DESIGN_ROLE:return(0,i.t)("members_table.column_header.design_role.seat_rename");case s.Od.WHITEBOARD_ROLE:return(0,i.t)("members_table.column_header.whiteboard_role.seat_rename");case s.Od.DEV_MODE_ROLE:return(0,i.t)("members_table.column_header.dev_mode_role.seat_rename");case s.Od.DESIGN_UPGRADE_DATE:case s.Od.WHITEBOARD_UPGRADE_DATE:case s.Od.DEV_MODE_UPGRADE_DATE:return(0,i.t)("members_table.column_header.upgrade_date");case s.Od.WORKSPACE:return(0,i.t)("members_table.column_header.workspace");case s.Od.LICENSE_GROUP:return(0,i.t)("members_table.column_header.billing_group");case s.Od.SCIM_DATA:return t?(0,o.du)(t):(0,i.t)("members_table.column_header.scim");case s.Od.DESIGN_UPGRADE_REASON:case s.Od.WHITEBOARD_UPGRADE_REASON:return(0,i.t)("members_table.column_header.upgrade_reason");default:(0,n.xb)(e)}}function d(e,t){var r;return e===l.s?(0,i.t)("license_group.unassigned"):(null==(r=t[e])?void 0:r.name)??""}function u(e){switch(e){case s.WH.IDP:return(0,i.t)("members_table.org_permission_filter.pending");case s.WH.UNVERIFIED:return(0,i.t)("members_table.org_permission_filter.unverified");case a._D.GUEST:return(0,i.t)("members_table.org_permission_filter.guest");case a._D.ADMIN:return(0,i.t)("members_table.org_permission_filter.admin");default:return(0,i.t)("members_table.org_permission_filter.member")}}function p(e){switch(e){case"3mo":return(0,i.t)("members_table.last_edit_filter.more_than_three_months_ago");case"6mo":return(0,i.t)("members_table.last_edit_filter.more_than_six_months_ago");case"1yr":return(0,i.t)("members_table.last_edit_filter.more_than_a_year_ago");default:return""}}function m(e){return["orgAdminSettings","licenseGroup"].includes(e)}function _(e){return["orgAdminSettings","licenseGroup"].includes(e)}function h(e){return["orgAdminSettings","licenseGroup"].includes(e)}function g(e){return"orgAdminSettings"===e}function f(e,t){return["orgAdminSettings","workspace"].includes(t)}function E(e,t){return["orgAdminSettings","licenseGroup"].includes(t)}function y(e){return"orgAdminSettings"===e}function b(e){return"orgAdminSettings"===e||"licenseGroup"===e}},937294:(e,t,r)=>{"use strict";r.d(t,{Xx:()=>p,YP:()=>s,dP:()=>c,gO:()=>l,n1:()=>u,p9:()=>d});var n=r(99506),i=r(428467),a=r(668860),o=r(410436),l=(e=>(e[e.CLICK_LEAVE=0]="CLICK_LEAVE",e[e.CLICK_WITHDRAW=1]="CLICK_WITHDRAW",e[e.CLICK_JOIN=2]="CLICK_JOIN",e[e.CLICK_REQUEST=3]="CLICK_REQUEST",e[e.BYPASS_REQUEST=4]="BYPASS_REQUEST",e[e.CLICK_JOIN_AS_ADMIN=5]="CLICK_JOIN_AS_ADMIN",e))(l||{});function s(e,t,r,a){var l;let s=(0,i.hasViewerRoleAccessOnTeam)(e.id,r),c=p(e,r);if(s)return 0;if(t&&t.status===o.c.PENDING)return 1;if(e.org_access===n.bU.PRIVATE&&c&&(0,i.canAdminOrg)(a,r)||e.org_access===n.bU.SECRET&&c&&(0,i.canAdminOrg)(a,r))return 4;if((0,i.canManageNonSecretOrgTeam)(e,r,null==(l=r.user)?void 0:l.id))return 5;if(e.org_access===n.bU.PUBLIC)return 2;if(e.org_access===n.bU.PRIVATE)return 3;return null}function c(e,t,r){return!!(e.org_access!==n.bU.SECRET||(0,i.canViewTeam)(e.id,t)||e.org_access===n.bU.SECRET&&e.orphaned&&(0,i.canAdminOrg)(r,t))}let d=e=>`JOINING_ORG_TEAM_${e}`,u=e=>`JOINING_${e.length}_BATCH_ORG_TEAMS_${e[0]}`;function p(e,t){var r;if(!e.org_id)return!1;let n=null==(r=t.orgTeams)?void 0:r.teams.find(t=>t.id===e.id);if(n)return!!n.orphaned;let i=t.roles.byTeamId[e.id];return!i||Object.values(i).every(e=>e.level<a.e6.ADMIN&&!e.pending)}},724838:(e,t,r)=>{"use strict";r.d(t,{CJ:()=>h,Hw:()=>f,VY:()=>c,hF:()=>g,j:()=>_,mW:()=>u});var n=r(367253),i=r(931828),a=r(243987),o=r(428467),l=r(596607);let s={FIRST_TIME:"dismissed_org_upsell_first_time",SECOND_TIME:"dismissed_org_upsell_second_time",PERMANENT:"dismissed_org_upsell_permanently"};var c=(e=>(e[e.NONE=0]="NONE",e[e.SINGLE_TEAM=1]="SINGLE_TEAM",e[e.MULTIPLE_TEAMS=2]="MULTIPLE_TEAMS",e))(c||{}),d=(e=>(e[e.NEVER=0]="NEVER",e[e.ONCE=1]="ONCE",e[e.TWICE=2]="TWICE",e[e.PERMANENTLY=3]="PERMANENTLY",e))(d||{});function u(e,t){return(0,a.n0)(t)&&!(0,a.WQ)(t)&&!t.student_team&&!t.deleted_at&&!t.org_id&&(0,o.canAdminTeam)(t.id,e)}function p(e){return e[s.PERMANENT]?3:e[s.SECOND_TIME]?2:e[s.FIRST_TIME]?1:0}function m(e,t,r=7776e6){let n=e[t];if(!n)return!1;let i=n.updatedAt.getTime();return Date.now()-i<r}function _(e){switch(p(e)){case 0:return!1;case 1:return m(e,s.FIRST_TIME);case 2:return m(e,s.SECOND_TIME);default:return!0}}function h(e){switch(p(e)){case 0:return i.b({dismissed_org_upsell_first_time:!0});case 1:return i.b({dismissed_org_upsell_second_time:!0});default:return i.b({dismissed_org_upsell_permanently:!0})}}function g(e,t){var r,i;if((0,l.Yj)(e)||e.userFlags.completed_org_cart_flow)return 0;let a=null==(r=e.user)?void 0:r.email,o=!!(null==(i=e.user)?void 0:i.email_validated_at);if(!a||(0,n.qe)(a)||!o||function(e,t=2592e6){return m(e.userFlags,"completed_pro_cart_flow",t)}(e))return 0;let s=Object.values(e.teams).filter(e=>u(t,e)).length;return s>1?2:1===s?1:0}function f(e){return!!e&&!(0,n.qe)(e.email)}},596607:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>I,Aw:()=>E,H:()=>m,LM:()=>p,WT:()=>g,Xy:()=>h,Yj:()=>d,_3:()=>v,oE:()=>b,t5:()=>y,x9:()=>_,xw:()=>u,zR:()=>f});var n=r(717068);r(38329);var i=r(498480),a=r(939863),o=r(720647),l=r(99506),s=r(117192),c=r(529928);function d(e){return!!e.user&&void 0!==e.orgUsersByOrgId&&_(e.orgUsersByOrgId.orgUsers,e.user.id).length>0}function u(e){return e.currentUserOrgId&&e.user&&e.orgUsersByOrgId.orgUsers[e.currentUserOrgId]?e.orgUsersByOrgId.orgUsers[e.currentUserOrgId][e.user.id]:null}(0,c.bt)(u);let p=(0,c.bt)(function(e){var t,r;let n=u(e);return null==(r=null==(t=null==n?void 0:n.workspace_users)?void 0:t.find(e=>e.is_main_workspace))?void 0:r.workspace_id});function m(e,t){return e.user&&e.orgUsersByOrgId.orgUsers[t]?e.orgUsersByOrgId.orgUsers[t][e.user.id]:null}let _=s.x;function h(e){let t=Object.values(e).filter(e=>e.permission===l._D.ADMIN);return(0,n.KQ)(t,"created_at"),t}function g(e,t){let r=e.admin_users_metadata.map(e=>t[e.id]).filter(e=>!!e);return(0,n.KQ)(r,"created_at"),r}function f(e){return h(e).slice(0,3)}function E(e={},t){for(let r in e){let n=e[r];if(n.id===t)return n}}function y(e){return e.permission===l._D.ADMIN?{color:i.zE.DEFAULT,text:(0,a.t)("members_table.badge_label.admin")}:e.is_email_validated?e.permission===l._D.GUEST?{color:i.zE.DEFAULT,text:(0,a.t)("members_table.badge_label.guest")}:void 0:{color:i.zE.DEFAULT,text:(0,a.t)("members_table.badge_label.unverified")}}function b(e,t){switch(t){case o.lM.DESIGN:return e.design_paid_status===l.El.RESTRICTED;case o.lM.FIGJAM:case o.oM.WHITEBOARD:return e.whiteboard_paid_status===l.El.RESTRICTED;case o.lM.DEV_MODE:return e.dev_mode_paid_status===l.El.RESTRICTED}}let v=e=>"string"!=typeof e,I=e=>{var t;return null==(t=e.workspace_users)?void 0:t.find(e=>e.is_main_workspace)}},643067:(e,t,r)=>{"use strict";r.d(t,{Aj:()=>U,F8:()=>x,G7:()=>F,H_:()=>h,LU:()=>R,Oe:()=>V,QT:()=>P,Ts:()=>E,U5:()=>H,W3:()=>S,ZY:()=>O,_g:()=>g,ag:()=>A,cg:()=>f,dk:()=>N,du:()=>w,eE:()=>y,kA:()=>B,kY:()=>I,mU:()=>L,mg:()=>D,nX:()=>M,oB:()=>C,tq:()=>T,wA:()=>v,yK:()=>b});var n=r(935283),i=r(181912),a=r(367253),o=r(966712),l=r(96328),s=r(939863),c=r(99506),d=r(428467);r(23001);var u=r(802026),p=r(720647),m=r(698812),_=r(147206);function h(e,t){let r=e.map(e=>e.domain.toLowerCase()),n=(0,a.zN)(t);return 0!==r.length&&!!n&&r.indexOf(n)>-1}function g(e){return e.saml_sso_only?u.Ct.SAML:e.google_sso_only?u.Ct.GOOGLE:u.Ct.ANY}function f(e){var t;return null==(t=e.config)?void 0:t.has_scim_token}function E(e){return(null==e?void 0:e.id)!==void 0}function y(e,t){let r=E(t)?t.email:t;return!!r&&(0,a.xf)(r)&&e.domains.length>0&&!h(e.domains,r)}function b(e){var t;return!!e.currentUserOrgId&&!!(null==(t=e.orgById[e.currentUserOrgId])?void 0:t.template_picker_disabled)}function v(e){return e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null}function I(e){return e.isAccountLockedDuringOrgOperation}function T({org:e,invoice:t}){var r,n;let a=[(0,s.t)("org_admin_settings.billing_banner.finalized_invoice.design_seat_quantity",{quantityAdded:t.quantity_added})],o=null==(r=t.license_type_configuration[p.lM.DEV_MODE])?void 0:r.added_quantity,c=null==(n=t.license_type_configuration[p.lM.FIGJAM])?void 0:n.added_quantity;return(null!=o&&a.push((0,s.t)("org_admin_settings.billing_banner.finalized_invoice.dev_mode_seat_quantity",{quantityAdded:o})),e.figjam_disabled_at||a.push((0,s.t)("org_admin_settings.billing_banner.finalized_invoice.figjam_seat_quantity",{quantityAdded:c})),1===t.quarter)?(0,s.t)("org_admin_settings.billing_banner_figjam.finalized_renewal.template",{seatCountsText:(0,l.Yx)(a)}):(0,s.t)("org_admin_settings.billing_banner_figjam.finalized_trueup_invoice.seat_rename.template",{date:(0,i.A)(t.due_at).format("MMM D"),seatCountsText:(0,l.Yx)(a)})}function S(e){switch(e){case null:return(0,s.t)("org_settings.guest_control.null");case u.Gv.REQUIRE_APPROVAL:return(0,s.t)("org_settings.guest_control.require_approval");case u.Gv.BANNED:return(0,s.t)("org_settings.guest_control.banned");default:(0,n.xb)(e)}}function w(e){switch(e){case c.U0.COST_CENTER:return(0,s.t)("scim_metadata_display_text.cost_center");case c.U0.ORGANIZATION:return(0,s.t)("scim_metadata_display_text.organization");case c.U0.DIVISION:return(0,s.t)("scim_metadata_display_text.division");case c.U0.DEPARTMENT:return(0,s.t)("scim_metadata_display_text.department");default:(0,n.xb)(e)}}function A(e){return null!=e&&!!e.bigma_enabled&&(!(0,o.kc)().security_add_on||e.security_add_on_enabled_at||e.ip_ranges.length>0)}function C(e){return B(e)&&!!e.security_add_on_enabled_at&&!!(0,o.kc)().ip_allowlist_management}function N(e,t,r,n){return!(0,_.R$)(n,null)&&null!=r.subscription&&!!e&&!t}function O(e){return!!(e&&e.bigma_enabled)}function L(e){return!!(null==e?void 0:e.domain_capture)&&O(e)}function R(e,t,r){var n;if(!(0,m.a3)(e)||t)return!1;let i=!!(null==(n=null==r?void 0:r.privilegedOrgUser)?void 0:n.licenseGroupMember),a=((null==r?void 0:r.teamRoles)||[]).some(e=>{var t;return null==(t=e.team)?void 0:t.licenseGroupId});return i||a}function P(e){let t=v(e);return!!(t&&(0,d.canMemberOrg)(t.id,(0,d.getPermissionsState)(e)))&&!!t.workspaces_count}let k=new RegExp(/[https?:?\/\/]?[a-z.]*figma[.\da-z:]*\/files\/(\d+)/);function D(e){return k.test(e)}function M(e){let t=e.match(k);return t?t[1]:null}function x(e){var t;return e.bigma_enabled?null==(t=e.shared_org_license_group_settings)?void 0:t.team_creation_controls:null}function F(e){return B(e)}function U(){return!!(0,o.sL)()||!!(0,o.b5)()&&!!(0,o.kc)().fig_gov_magic_links}function B(e){return!!(null==e?void 0:e.bigma_enabled)}function H(e){return B(e)}function V(e){return B(e)}},243987:(e,t,r)=>{"use strict";r.d(t,{BR:()=>en,Ht:()=>f,J9:()=>F,Jm:()=>h,KI:()=>x,Kg:()=>B,Ky:()=>er,LF:()=>y,Lj:()=>M,O1:()=>ei,PS:()=>U,PX:()=>I,Rq:()=>et,Rx:()=>$,S$:()=>K,SD:()=>q,UE:()=>J,WQ:()=>O,WW:()=>b,Wf:()=>E,XX:()=>k,ZZ:()=>W,_b:()=>L,b9:()=>G,cW:()=>S,d4:()=>w,dT:()=>D,dX:()=>z,f4:()=>V,fD:()=>ee,h:()=>v,hp:()=>H,m:()=>T,mt:()=>Q,n0:()=>R,nT:()=>X,oc:()=>Y,q8:()=>A,t9:()=>C,w5:()=>P,wn:()=>Z,zZ:()=>g});var n=r(181912),i=r(367253),a=r(966712),o=r(650322),l=r(881388),s=r(939863),c=r(875847),d=r(99506),u=r(428467),p=r(802026),m=r(622139),_=r(36816),h=(e=>(e.FREE="free",e.PRO="pro",e.ORG="org",e.ENT="ent",e.EDU="edu",e))(h||{});let g="https://www.figma.com/pricing/#cid-20p4Q0lWSOxIWj30zTY6P2",f=2,E=1,y={[d._Y.DESIGN]:3,[d._Y.WHITEBOARD]:1,[d._Y.SLIDES]:3,[d._Y.SITES]:3},b=3,v=0,I=0,T=500,S=5,w=4500,A=500,C=2500;function N(e){return e>new Date}function O(e){let t=e&&!e.org_id&&e.grace_period_end&&n.A.utc(e.grace_period_end);return!!t&&t.valueOf()>Date.now()}function L(e,t=14){return!!(e&&O(e))&&n.A.utc(e.grace_period_end).valueOf()-Date.now()<864e5*t}function R(e){return!!e&&null!=e.subscription&&e.subscription!==d.Qh.INCOMPLETE}function P(e){return!!e&&(R(e)||e.student_team||!!e.grace_period_end&&N(new Date(e.grace_period_end)))}function k(e){if(!e)return!1;let{subscription:t,studentTeamAt:r,gracePeriodEnd:n}=e;return!!t&&t!==d.Qh.INCOMPLETE||!!r||n&&N(n)}function D(e){let t=!!e.team&&!k(e.team),r=!e.teamId&&!e.parentOrgId;return!t&&!r}function M(e){let t=e.editorType,r=!!e.team&&!k(e.team),n=!e.teamId&&!e.parentOrgId,i=(0,a.kc)().ps_benchmark&&(0,c.jd)(e.project),o=y[t];return t===d._Y.WHITEBOARD?r||n?o:1/0:r&&!i?o:1/0}function x(e){return M(e)<1/0}function F({openFile:e,pageCount:t}){return t>=M(e)}function U(e){return Object.values(e.teams).filter(t=>(0,u.canEditTeam)(t.id,e)&&(!P(t)||t.student_team))}function B(e){return Object.values(e.teams).filter(t=>(0,u.canEditTeam)(t.id,e)&&!P(t))}function H(e,t){var r;return e&&!R(e)&&!(null==(r=e.restrictions_list)?void 0:r.includes(d.P4.LOCKED))&&(0,u.canEditTeam)(e.id,t)}function V(e,t,r,n){if(t&&!n&&Y(t,r))return!0;let i=e&&r.folders[e];return!!i&&W(i,r,n)}function G(e,t,r){return V(e.folder_id,e.team_id,t,r)}function W(e,t,r){var n,i,a;return n=e.team_id?t.teams[e.team_id]:null,i=t.user,a=t.userEduGracePeriods,(!!e.team_id||"org_edit"!==e.sharing_audience_control)&&!!(!e.team_id&&!(0,c.Gi)(e)||e.team_id&&(!r&&j(n,i,a)||!P(n)&&(e.is_invite_only||e.is_view_only)))}function K(e,t,r){return!(e.teamId||(0,c.VA)(e))||!!e.teamId&&(!!z(t,r)||(e.inviteOnlyAt||e.viewOnlyAt)&&!k(t))}function Y(e,t){return j(t.teams[e],t.user,t.userEduGracePeriods)}function j(e,t,r){var n;return!!e&&!!t&&(e.student_team?!((0,o.cn)(t)||(0,o.SH)(r,e.id).isInValidGracePeriod):null==(n=e.restrictions_list)?void 0:n.includes(d.P4.LOCKED))}function z(e,t){var r,n;return!!e&&!!t&&(e.studentTeamAt?!((0,o.cn)(t)||(null==(r=e.eduGracePeriod)?void 0:r.isValid)):null==(n=e.restrictionsList)?void 0:n.includes(d.P4.LOCKED))}function $(e){return Object.values(e.teams).some(t=>Y(t.id,e)&&(0,u.canEditTeam)(t.id,e))}function Z(e,t){let r=t.orgById[e];return r&&r.standing===p.ZG.DELINQUENT}function q(e,t){let r=t.orgById[e];return r&&r.standing===p.ZG.SUSPENDED}function J(e,t){if(e.data&&e.data.message){let r=(0,s.Jv)(e);r&&t(l.s.error(r))}else{let r=(0,s.Jv)(e,(0,s.YD)("error.unknown_contact_support"));t(l.s.error(r))}}function X(e,t){let r=(0,n.A)(e);return Math.round((0,n.A)(t).diff(r,"months",!0))}function Q(e){return(0,n.A)(e).isAfter((0,n.A)(new Date),"second")?e:null}function ee(e,t){return e===m.tY.MONTHLY?0:t}function et(e,t){return e===m.tY.MONTHLY?t:0}function er(e,t={downgrade:{design:[],whiteboard:[],slides:[],sites:[]},upgrade:{design:[],whiteboard:[],slides:[],sites:[]}},r){let n="whiteboard"===r?"whiteboard_paid_status":"design_paid_status";return e.filter(e=>!(0,i.nD)(e.email)&&(e[n]===_.Zf.FULL&&!t.downgrade[r].includes(e.id)||t.upgrade[r].includes(e.id))).length}function en(e,t){let r=!1,n=null!==e?Object.values(e).reduce((e,n)=>{var i;if(!n.user)return e;let a={id:n.user.id,design_paid_status:n.design_paid_status,whiteboard_paid_status:n.whiteboard_paid_status,email:n.user.email||"",handle:n.user.handle||"",img_url:n.user.img_url||""};return(null==(i=n.user)?void 0:i.id)===(null==t?void 0:t.id)?(r=!0,e.unshift(a)):e.push(a),e},[]):[];return!r&&t&&n.unshift({id:t.id,design_paid_status:_.Zf.STARTER,whiteboard_paid_status:_.Zf.STARTER,email:t.email,handle:t.handle,img_url:t.img_url}),n}function ei(e,t){return Math.max(e,t)-t}},147206:(e,t,r)=>{"use strict";r.d(t,{$K:()=>v,Ay:()=>y,C1:()=>M,D8:()=>U,DN:()=>F,Db:()=>L,F1:()=>_,GP:()=>g,GU:()=>T,Jd:()=>S,M4:()=>N,Pe:()=>f,Pq:()=>h,QN:()=>D,R$:()=>I,Vi:()=>C,XG:()=>A,ZP:()=>R,b5:()=>E,e$:()=>P,nx:()=>k,q9:()=>x,qR:()=>w,y5:()=>O,z5:()=>b});var n=r(966712),i=r(939863),a=r(256975),o=r(369870),l=r(99506),s=r(606137),c=r(668860),d=r(36816),u=r(851363),p=r(507956),m=r(857766);function _(){return(0,o.MP)()&&!(0,n.kc)().integ_zoom_allow_extensions?{canRun:!1,message:(0,i.t)("widgets.no_zoom_widgets_plugins")}:{canRun:!0}}function h({copyExportRestrictedArgs:e}){return!(e&&f(e))}function g(e){return(0,p.$A)(e.selectedView)?(0,a.tn)(e)&&h({copyExportRestrictedArgs:e.openFile}):(!(0,o.MP)()||!!(0,n.kc)().integ_zoom_allow_extensions)&&!e.mirror.appModel.isReadOnly}function f(e){return!e.canEdit&&e.viewerExportRestricted}function E(e,t){return!e||("whiteboard"===t?"starter"===e.whiteboard_paid_status:"starter"===e.design_paid_status)}let y=r(368178).A;function b(e){switch(e){case l._D.GUEST:return(0,i.t)("general.guest");case l._D.MEMBER:return(0,i.t)("general.member");case l._D.ADMIN:return(0,i.t)("general.admin")}}function v(e){return(0,s.t)(e)}function I(e,t){return!!(e&&e.external_restricted_org_id&&e.external_restricted_org_id!==t)}function T(e){return!!(e&&e.external_restricted_org_id)}function S(e,t){return"whiteboard"===t?e&&e.whiteboard_paid_status===l.El.RESTRICTED:"slides"!==t&&e&&e.design_paid_status===l.El.RESTRICTED}function w(e,t){return"whiteboard"===t?e&&e.whiteboard_paid_status===d.Zf.RESTRICTED:"slides"!==t&&e&&e.design_paid_status===d.Zf.RESTRICTED}function A(e,t){return"whiteboard"===t?e&&e.whiteboardPaidStatus===d.Zf.RESTRICTED:"slides"!==t&&e&&e.designPaidStatus===d.Zf.RESTRICTED}function C(e,t){return!A(null==e?void 0:e.currentTeamUser,t)&&((null==e?void 0:e.subscription)!==null||(null==e?void 0:e.studentTeamAt)!==null||(null==e?void 0:e.gracePeriodEnd)&&e.gracePeriodEnd>new Date)}function N(e){return e&&!!e.orgId}function O(e,t){return"whiteboard"===t?!!e&&e.whiteboard_paid_status===d.Zf.FULL:!!e&&e.design_paid_status===d.Zf.FULL}function L(e){return{[l.bU.PUBLIC]:(0,i.t)("org_access_strings.anyone_at",{orgName:e}),[l.bU.PRIVATE]:(0,i.t)("org_access_strings.invite_only"),[l.bU.SECRET]:(0,i.t)("org_access_strings.hidden")}}function R(){return{[l.bU.PUBLIC]:(0,i.t)("org_access_strings.open"),[l.bU.PRIVATE]:(0,i.t)("org_access_strings.closed"),[l.bU.SECRET]:(0,i.t)("org_access_strings.secret")}}function P(){return{[u.Fb.ORG_BROWSABLE]:(0,i.t)("team_creation.visible"),[u.Fb.HIDDEN]:(0,i.t)("team_creation.hidden")}}function k(){return{[l.sC.EDIT]:(0,i.t)("team_creation.can_edit"),[l.sC.VIEW]:(0,i.t)("team_creation.can_view")}}function D(e){switch(e){case c.e6.OWNER:return(0,i.t)("permissions.level_name_capitalized.owner");case c.e6.ADMIN:return(0,i.t)("permissions.level_name_capitalized.admin");case c.e6.EDITOR:return(0,i.t)("permissions.level_name_capitalized.can_edit");case c.e6.VIEWER:return(0,i.t)("permissions.level_name_capitalized.can_view");case c.e6.VIEW_PROTOTYPES:return(0,i.t)("permissions.level_name_capitalized.can_view_prototypes");default:return(0,i.t)("permissions.level_name_capitalized.none")}}function M(e,t){switch(e){case c.e6.OWNER:return t?(0,i.t)("permissions.level_name.branch_owner"):(0,i.t)("permissions.level_name.owner");case c.e6.ADMIN:return(0,i.t)("permissions.level_name.admin");case c.e6.EDITOR:return(0,i.t)("permissions.level_name.can_edit");case c.e6.VIEWER:return(0,i.t)("permissions.level_name.can_view");case c.e6.VIEW_PROTOTYPES:return(0,i.t)("permissions.level_name.can_view_prototypes");default:return(0,i.t)("permissions.level_name.none")}}function x(e){switch(e){case c.e6.OWNER:return(0,i.t)("permissions.level_role_name.owner");case c.e6.ADMIN:return(0,i.t)("permissions.level_role_name.admin");case c.e6.EDITOR:return(0,i.t)("permissions.level_role_name.editor");case c.e6.VIEWER:return(0,i.t)("permissions.level_role_name.viewer");case c.e6.VIEW_PROTOTYPES:return(0,i.t)("permissions.level_role_name.prototype_viewer");default:return""}}function F({role:e,file:t,folder:r=null}){if(e.level!==c.e6.VIEWER&&e.level!==c.e6.VIEW_PROTOTYPES)return null;let n=(0,m.Pn)(t);switch(e.level){case c.e6.VIEWER:{if(t.link_access===l.PQ.EDIT)return(0,i.t)("permissions.can_still_edit_anybody_with_the_link",{noun:n});if(t.link_access===l.PQ.ORG_EDIT&&e.org_user&&e.org_user.permission!==l._D.GUEST)return(0,i.t)("permissions.can_still_edit_org_member_with_link",{noun:n});if(e.pending)break;let a=!!r&&!r.is_invite_only&&!r.is_view_only&&!(""===r.name&&r.team_id);return B(!!e.teamLevel&&e.teamLevel>c.e6.VIEWER&&(!r||a),!!e.folderLevel&&e.folderLevel>c.e6.VIEWER,!!e.repoLevel&&e.repoLevel>c.e6.VIEWER)}case c.e6.VIEW_PROTOTYPES:{if(t.link_access===l.PQ.EDIT)return(0,i.t)("permissions.can_still_see_and_edit_anybody_with_the_link_noun",{noun:n});if(t.link_access===l.PQ.ORG_EDIT&&e.org_user&&e.org_user.permission!==l._D.GUEST)return(0,i.t)("permissions.can_still_see_and_edit_allow_editing_by_org_members_with_link",{noun:n});if(e.pending)break;let a=r&&!r.is_invite_only&&!r.is_view_only;if(e.teamLevel&&e.teamLevel>c.e6.VIEWER&&(!r||a))return(0,i.t)("permissions.can_still_see_and_edit_permission_team_file_is_in",{noun:n});if(e.folderLevel&&e.folderLevel>c.e6.VIEWER)return(0,i.t)("permissions.can_still_see_and_edit_permission_team_project_is_in",{noun:n});if(e.repoLevel&&e.repoLevel>c.e6.VIEWER)return(0,i.t)("permissions.can_still_see_and_edit_permission_main_file",{noun:n});if(t.link_access===l.PQ.VIEW)return(0,i.t)("permissions.can_still_edit_allow_view_anybody_with_link",{noun:n});if(t.link_access===l.PQ.ORG_VIEW&&e.org_user&&e.org_user.permission!==l._D.GUEST)return(0,i.t)("permissions.can_still_edit_allow_edit_anybody_with_link",{noun:n});if(e.teamLevel&&e.teamLevel>=c.e6.VIEWER&&(!r||a))return(0,i.t)("permissions.can_still_see_permission_team_file_is_on",{noun:n});if(e.folderLevel&&e.folderLevel>=c.e6.VIEWER)return(0,i.t)("permissions.can_still_see_permission_project_file_is_on",{noun:n});if(e.repoLevel&&e.repoLevel>=c.e6.VIEWER)return(0,i.t)("permissions.can_still_see_edit_permission_on_main_file",{noun:n})}}return null}function U({file:e,seenState:t,folder:r=null}){let n=(0,m.Pn)(e);if(e.link_access===l.PQ.EDIT)return(0,i.t)("permissions.can_still_edit_anybody_with_the_link",{noun:n});let a=!!r&&!r.is_invite_only&&!r.is_view_only;return B(!!t.teamLevel&&t.teamLevel>c.e6.VIEWER&&(!r||a),!!t.folderLevel&&t.folderLevel>c.e6.VIEWER,!!t.repoLevel&&t.repoLevel>c.e6.VIEWER)}function B(e,t,r){return e?(0,i.t)("permissions.can_still_edit_team_permissions"):t?(0,i.t)("permissions.can_still_edit_folder_permissions"):r?(0,i.t)("permissions.can_still_edit_edit_permissions"):null}},428467:(e,t,r)=>{"use strict";r.d(t,{canAccessFile:()=>ee,canAccessRepo__DEPRECATED:()=>et,canAdminLicenseGroup:()=>eR,canAdminOrg:()=>eN,canAdminTeam:()=>ep,canAdminWorkspace:()=>eP,canCreateFile:()=>eb,canCreateFileLG:()=>ev,canCreateFileOrRequestUpgradeLG:()=>ey,canEditFile:()=>J,canEditFileMemoized:()=>X,canEditFolder:()=>es,canEditRepo:()=>ea,canEditRole:()=>eT,canEditTeam:()=>eu,canGuestOrg:()=>eA,canMakeAdmin:()=>eS,canManageFile:()=>ei,canManageNonSecretOrgTeam:()=>ek,canManageOrgTeam:()=>eD,canManageRepo:()=>eo,canMemberOrg:()=>eC,canOwnFolder:()=>ec,canOwnTeam:()=>em,canRequestToEdit:()=>eE,canUploadAndEditVideo:()=>ez,canUploadAndEditVideo_REDUX_GLOBAL_DEPRECATED:()=>e$,canViewFile:()=>q,canViewFolder_DEPRECATED:()=>el,canViewPrototypes:()=>Q,canViewResource:()=>eI,canViewTeam:()=>ed,getDeleteReposForeverPayload:()=>eY,getDeleteReposPayload:()=>eK,getExplicitRoleForUserAndFile:()=>B,getPaidStatus:()=>ex,getPermissionsState:()=>A,getPermissionsStateMemoized:()=>C,getReadOnlyOverrideMessageForFolder:()=>eG,getResourceName:()=>P,getResourceTeamId:()=>R,getRestoreReposPayload:()=>ej,getRolesForResource:()=>H,getRolesForUserAndTeam:()=>M,hasActiveEduTeam:()=>eU,hasAdminRoleAccessOnTeam:()=>ef,hasAdminRoleAccessOnTeam__DEPRECATED:()=>eg,hasEditorRoleAccessOnTeam:()=>eh,hasFileAccess:()=>$,hasMinRole:()=>D,hasOrgAccess:()=>eO,hasProTeamPaidStatus:()=>eF,hasTeamAccess:()=>G,hasViewerRoleAccessOnTeam:()=>e_,isCopyExportRestricted__DEPRECATED:()=>er,isFigJamDisabledForFolder:()=>eV,isFigJamDisabledForOrg:()=>eH,isFileFigjamDisabled:()=>eB,isOrgUserExternallyRestrictedFromState:()=>eM,isResourceOwner:()=>k,useGetPermissionsState:()=>L,useMemoizedPermissionsState:()=>N,usePermissionsState:()=>O,userIsAMemberOfAnOrg:()=>eL});var n=r(411855),i=r(188507),a=r(786928),o=r(38329),l=r(794272),s=r(966712),c=r(886653),d=r(650322),u=r(939863),p=r(140908),m=r(857766),_=r(875847),h=r(99506),g=r(596607),f=r(243987),E=r(140047),y=r(66037),b=r(668860),v=r(36816),I=r(147206),T=r(392830);function S(e,t,r,n,i,a,o,l,s,c,d,u,p,m,_,h){return{currentUserOrgId:e,user:t,fileByKey:r,repos:n,folders:i,teams:a,roles:o,orgById:l,orgDraftsOwners:s,orgUsersByOrgId:c,teamUserByTeamId:d,userEduGracePeriods:u,licenseGroups:p,orgTeams:m,openFile:_,currentTeamId:h}}let w=(0,c.xx)(S);function A(e){return S(e.currentUserOrgId,e.user,e.fileByKey,e.repos,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId,e.teamUserByTeamId,e.userEduGracePeriods,e.licenseGroups,e.orgTeams,e.openFile,e.currentTeamId)}function C(e){return w(e.currentUserOrgId,e.user,e.fileByKey,e.repos,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId,e.teamUserByTeamId,e.userEduGracePeriods,e.licenseGroups,e.orgTeams,e.openFile,e.currentTeamId)}function N(){let e=(0,i.d4)(e=>e.currentUserOrgId),t=(0,i.d4)(e=>e.user),r=(0,i.d4)(e=>e.fileByKey),a=(0,i.d4)(e=>e.repos),o=(0,i.d4)(e=>e.folders),l=(0,i.d4)(e=>e.teams),s=(0,i.d4)(e=>e.roles),c=(0,i.d4)(e=>e.orgById),d=(0,i.d4)(e=>e.orgDraftsOwners),u=(0,i.d4)(e=>e.orgUsersByOrgId),p=(0,i.d4)(e=>e.teamUserByTeamId),m=(0,i.d4)(e=>e.userEduGracePeriods),_=(0,i.d4)(e=>e.licenseGroups),h=(0,i.d4)(e=>e.orgTeams),g=(0,i.d4)(e=>e.openFile),f=(0,i.d4)(e=>e.currentTeamId);return n.useMemo(()=>A({currentUserOrgId:e,user:t,fileByKey:r,repos:a,folders:o,teams:l,roles:s,orgById:c,orgDraftsOwners:d,orgUsersByOrgId:u,teamUserByTeamId:p,userEduGracePeriods:m,licenseGroups:_,orgTeams:h,openFile:g,currentTeamId:f}),[e,r,o,_,g,c,d,h,u,a,s,p,l,t,m,f])}function O(){return(0,l.R)(e=>A(e))}function L(){let e=(0,i.Pj)();return n.useCallback(()=>C(e.getState()),[e])}function R(e,t){switch(e.resource_type){case h.vt.FILE:let r=t.fileByKey[e.resource_id_or_key];return r&&r.team_id;case h.vt.FILE_REPO:let n=t.repos[e.resource_id_or_key],i=t.folders[null==n?void 0:n.folder_id];return i&&i.team_id;case h.vt.FOLDER:let a=t.folders[e.resource_id_or_key];return a&&a.team_id;case h.vt.TEAM:return e.resource_id_or_key}}function P(e,t){let r=function(e,t){switch(e.resource_type){case h.vt.FILE:return t.fileByKey[e.resource_id_or_key];case h.vt.FOLDER:return t.folders[e.resource_id_or_key];case h.vt.TEAM:return t.teams[e.resource_id_or_key]}}(e,t);if(r)return r.name}function k(e,t,r,n){let i=function(e,t){switch(t){case h.vt.FILE:return e.byFileKey;case h.vt.FILE_REPO:return e.byRepoId;case h.vt.FOLDER:return e.byFolderId;case h.vt.TEAM:return e.byTeamId}}(n,r)[t];return!!i&&e in i&&i[e].level===b.e6.OWNER}function D(e,t){for(let r of e)if(r.level>=t)return!0;return!1}function M(e,t){var r;let n=null==(r=t.user)?void 0:r.id,i=t.roles;return e in i.byTeamId&&n&&n in i.byTeamId[e]?[i.byTeamId[e][n]]:[]}function x(e,t){let r=t.user&&t.user.id,n=[],i=t.roles;e in i.byFolderId&&r&&r in i.byFolderId[e]&&n.push(i.byFolderId[e][r]);let a=t.folders[e];return a&&a.team_id&&!a.is_invite_only&&(n=n.concat(M(a.team_id,t))),n}function F(e,t){let r=t.user&&t.user.id,n=t.roles,i=[];e in n.byRepoId&&r&&r in n.byRepoId[e]&&i.push(n.byRepoId[e][r]);let a=t.repos[e];return a&&(i=[...i,...x(a.folder_id,t)]),i}function U(e,t){let r=[],n=B(e,t);null!==n&&r.push(n);let i=t.fileByKey[e];return i&&i.folder_id&&(r=r.concat(x(i.folder_id,t))),i&&i.file_repo_id&&(r=[...r,...F(i.file_repo_id,t)]),r}function B(e,t){let r=t.user&&t.user.id,n=t.roles;return e in n.byFileKey&&r&&r in n.byFileKey[e]?n.byFileKey[e][r]:null}function H(e,t,r){switch(e){case h.vt.FILE:return U(t,r);case h.vt.FILE_REPO:return F(t,r);case h.vt.FOLDER:return x(t,r);case h.vt.TEAM:return M(t,r)}}function V(e,t,r){if(r.user&&!(0,d.cn)(r.user))return!1;let n=(0,E._)(e,r);if(!n)return!1;let i=!!r.user&&(0,d.GU)(r.userEduGracePeriods,(0,d.cn)(r.user),n.id,n.student_team).showAccessRestricted;return t>b.e6.VIEWER&&i}function G(e,t,r){var n;let i=(0,E._)(e,r);if(!i)return!1;let a=null==(n=r.user)?void 0:n.id,o=i.org_id,l=(0,T.D)(e,o),c=(0,s.kc)().sc_open_team_deprecation&&l,d=i.sharing_audience_control;if(o){let n=!c&&t<=b.e6.EDITOR&&eC(o,r)&&i.org_access===h.bU.PUBLIC&&i.default_permission===h.sC.EDIT,s=D(M(e,r),t),u=t<=b.e6.ADMIN&&(s||ek(i,r,a)),p=!c&&t<=b.e6.VIEWER&&eC(o,r)&&i.org_access===h.bU.PUBLIC,m=l&&eC(o,r)&&(t<=b.e6.VIEWER&&d===h.PQ.ORG_VIEW||t<=b.e6.EDITOR&&d===h.PQ.ORG_EDIT);return(u||p||s||n||m)&&eA(o,r)}return W(e,t,r)}function W(e,t,r){return D(M(e,r),t)&&!V(e,t,r)}function K(e,t,r){let n;let i=r.user&&r.user.id,a=r.folders[e];if(!i||!a)return!1;let o=(0,_.oq)(a.id,r);if(o&&!eA(o,r))return!1;let l=a.team_id&&r.teams[a.team_id],c=(0,T.D)(a.team_id,o??null),d=(0,s.kc)().sc_open_team_deprecation&&c,u=a.sharing_audience_control;if(!d&&o&&eC(o,r)&&t<=b.e6.VIEWER&&l&&l.org_access===h.bU.PUBLIC&&!a.is_invite_only||!d&&o&&eC(o,r)&&t<=b.e6.EDITOR&&l&&l.org_access===h.bU.PUBLIC&&!a.is_invite_only&&!a.is_view_only&&l.default_permission===h.sC.EDIT||c&&o&&eC(o,r)&&(t<=b.e6.EDITOR&&u===h.PQ.ORG_EDIT||t<=b.e6.VIEWER&&u===h.PQ.ORG_VIEW))return!0;let p=x(e,r);return(p.forEach(e=>{e.resource_type===h.vt.FOLDER&&(n=e)}),!a.team_id||a.is_invite_only||a.is_view_only&&t>=b.e6.EDITOR)?!!n&&n.level>=t:D(p,t)}function Y(e,t){return e.proto_link_access===h.Pu.VIEW&&t<=b.e6.VIEW_PROTOTYPES||(e.link_access===h.PQ.EDIT||e.link_access===h.PQ.VIEW)&&t<=b.e6.VIEWER}function j(e,t,r){return!!(e.link_access===h.PQ.EDIT&&t<=b.e6.EDITOR||e.parent_org_id&&(e.link_access===h.PQ.ORG_EDIT&&t<=b.e6.EDITOR||e.link_access===h.PQ.ORG_VIEW&&t<=b.e6.VIEWER||e.proto_link_access===h.Pu.ORG_VIEW&&t<=b.e6.VIEW_PROTOTYPES)&&eC(e.parent_org_id,r))}function z(e,t,r,n){var i,a,o;let l=r.user&&r.user.id,s=r.repos[e];if(!l&&t>b.e6.VIEWER||!s)return!1;if(!n&&(Y(s,t)||j(s,t,r)))return!0;let c=s.parent_org_id;if(c&&!eA(c,r))return!1;if(!c&&s.team_id){let e=r.user&&(null==(a=null==(i=r.teamUserByTeamId)?void 0:i[s.team_id])?void 0:a[r.user.id]);if((0,I.qR)(e,h._Y.DESIGN))return!1}let d=c&&l&&(null==(o=r.orgUsersByOrgId.orgUsers[c])?void 0:o[l]);return(!(d&&(0,I.Jd)(d,h._Y.DESIGN))||!(t>b.e6.VIEWER))&&D(F(s.id,r),t)}function $(e,t,r,n,i){let o=r.fileByKey[e];return!(!o||!Z(o,t,r,n,i)||Z(o,b.e6.EDITOR,r)&&function(e,t){var r,n,i;let o=t.user;if(!o||!e)return!1;let l=e.file_repo_id?t.repos[e.file_repo_id]??(0,a.J)(t,"file_repo",e.file_repo_id):null,s=(e.team_id&&(t.teams[e.team_id]??(0,a.J)(t,"team",e.team_id)),e.team_id&&((null==(n=null==(r=t.teamUserByTeamId)?void 0:r[e.team_id])?void 0:n[o.id])??(0,a.J)(t,"team_user",e.team_id)),t.currentUserOrgId?t.orgById[t.currentUserOrgId]??(0,a.J)(t,"org",t.currentUserOrgId):null);return function(e,t,r,n,i,a){if(!e.parent_org_id&&!e.team_id)return!1;let o=i?i.folder_id:e.folder_id;if(e.parent_org_id){var l;return("whiteboard"!==(l=e.editor_type)||null==n||!n.figjam_disabled_at)&&!!o&&(!a||o!==a.drafts_folder_id)&&(!a||"whiteboard"===l||a.design_paid_status===h.El.STARTER)&&(!a||"whiteboard"!==l||a.whiteboard_paid_status===h.El.STARTER)&&(!n||!(0,p.LV)(n))}return!1}(e,0,0,s,l,t.currentUserOrgId?(null==(i=t.orgUsersByOrgId.orgUsers[t.currentUserOrgId])?void 0:i[o.id])??(0,a.J)(t,"org_user",t.currentUserOrgId):null)}(o,r)&&t>=b.e6.EDITOR)}function Z(e,t,r,n,i){let a=r.user&&r.user.id;if(!e||function(e,t,r){var n,i,a;let o=t.currentUserOrgId,l=o&&t.user&&(null==(n=t.orgUsersByOrgId.orgUsers[o])?void 0:n[t.user.id]);if(r>b.e6.VIEWER&&eM(t))return!0;if(!e.parent_org_id){if(!e.team_id)return!1;let n=t.user&&(null==(a=null==(i=t.teamUserByTeamId)?void 0:i[e.team_id])?void 0:a[t.user.id]);return r>b.e6.VIEWER&&(0,I.qR)(n,e.editor_type)}if(!l)return!1;let s=e.folder_id;return(!s||l.drafts_folder_id!==s)&&!!(s&&(0,I.Jd)(t.orgDraftsOwners[s],e.editor_type)&&(r>=b.e6.VIEWER||r===b.e6.VIEW_PROTOTYPES)||(0,I.Jd)(l,e.editor_type)&&r>b.e6.VIEWER)}(e,r,t)||e.deleted_at||(e.trashed_at&&t<b.e6.VIEW_METADATA&&(t=b.e6.VIEW_METADATA),!i&&e.trashed_at&&(0,m.Xm)(e)&&t>=b.e6.EDITOR))return!1;if(!n&&e.is_try_file&&!e.trashed_at&&t<=b.e6.VIEWER||!n&&Y(e,t))return!0;if(!a&&t>b.e6.VIEWER)return!1;if(!n&&j(e,t,r))return!0;if(e.parent_org_id&&!eA(e.parent_org_id,r))return!1;if(!n){let n=(0,m.L8)(e,r.repos);if(n&&(Y(n,t)||j(n,t,r)))return!0}if(e.folder_id&&e.team_id){let n=(0,E._)(e.team_id,r),i=r.folders[e.folder_id],a=(0,_.oq)(null==i?void 0:i.id,r);if(i&&n&&a&&eC(a,r)&&n.org_access===h.bU.PUBLIC&&!i.is_invite_only&&(t<=b.e6.VIEWER||t<=b.e6.EDITOR&&!i.is_view_only&&n.default_permission===h.sC.EDIT))return!0}let o=!!e.team_id&&!!a&&G(e.team_id,t,r),l=!1;if(U(e.key,r).forEach(e=>{switch(e.resource_type){case h.vt.FILE:case h.vt.FILE_REPO:case h.vt.FOLDER:e.level>=t&&(l=!0)}}),l)return!0;if(o){let n=e.folder_id;return!n||K(n,t,r)}return!1}function q(e,t,r){return $(e,b.e6.VIEWER,t,r)}function J(e,t,r,n,i){if(!e)return!1;let a=t.fileByKey[e];return!(!a||!r&&(0,f.b9)(a,t,i))&&$(e,b.e6.EDITOR,t,void 0,n)}let X=(0,c.xx)((e,t)=>J(e,t));function Q(e,t,r){return $(e,b.e6.VIEW_PROTOTYPES,t,r)}function ee(e,t,r){return"prototype"===r?Q(e,t):q(e,t)}function et(e,t,r){return Object.entries(t.fileByKey).some(([n,i])=>i.file_repo_id===e&&ee(n,t,r))}function er(e,t){if(!e)return!1;let r=t.fileByKey[e];return!!r&&!J(e,t)&&!!r.viewer_export_restricted}function en(e,t,r,n,i,a){var o,l;let s=!1,c=n.user&&n.user.id;if(!c||n.currentUserOrgId&&!eA(n.currentUserOrgId,n)||(0,I.R$)(n.user,n.currentUserOrgId))return!1;if(null===e)return!0;if(!i&&(0,f.f4)(e,t,n,a))return!1;let d=n.roles.byFolderId[e];return d&&c&&c in d&&(s=d[c].level>=b.e6.EDITOR),!!s||(t?!!eh(t,n)&&es(e,n):!t&&!!r&&(null==(l=null==(o=n.orgDraftsOwners)?void 0:o[e])?void 0:l.design_paid_status)!=="restricted")}function ei(e,t,r,n){let i=t.user&&t.user.id,a=t.fileByKey[e];if(!i||!a)return!1;if((0,m.L8)(a,t.repos))return J(e,t,r,!0,n);let o=!1,l=t.roles.byFileKey[e];return l&&i&&i in l&&(o=l[i].level>=b.e6.OWNER),en(a.folder_id,a.team_id,o,t,r,n)}function ea(e,t,r){return z(e,b.e6.EDITOR,t,r)}function eo(e,t,r){let n=t.repos[e];return!!n&&!!t.folders[n.folder_id]&&en(n.folder_id,n.team_id,z(e,b.e6.OWNER,t),t,r)}function el(e,t){return K(e,b.e6.VIEWER,t)}function es(e,t){return K(e,b.e6.EDITOR,t)}function ec(e,t){return K(e,b.e6.OWNER,t)}function ed(e,t){return G(e,b.e6.VIEWER,t)}function eu(e,t){return G(e,b.e6.EDITOR,t)}function ep(e,t){return G(e,b.e6.ADMIN,t)}function em(e,t){return G(e,b.e6.OWNER,t)}function e_(e,t){return W(e,b.e6.VIEWER,t)}function eh(e,t){return W(e,b.e6.EDITOR,t)}function eg(e,t,r){var n;return n=b.e6.ADMIN,D(function(e,t,r){let n=t.roles;return e in n.byTeamId&&r&&r in n.byTeamId[e]?[n.byTeamId[e][r]]:[]}(e,t,r),n)&&!V(e,n,t)}function ef(e,t){return W(e,b.e6.ADMIN,t)}function eE(e){var t;let r=e.openFile;if(!r)return!1;let n=e.user,i=r&&e.roles.byFileKey[r.key],a=i&&n&&(null==(t=i[n.id])?void 0:t.level)===b.e6.VIEWER,o=!e.currentUserOrgId&&r&&!r.teamId&&!r.parentOrgId,l=r&&r.linkAccess===h.PQ.EDIT;return a&&o&&!l}function ey(e,t,r){return function(e,t,r,n){var i;let a=r.currentUserOrgId&&r.orgUsersByOrgId.orgUsers[r.currentUserOrgId],o=(null==(i=r.user)?void 0:i.id)&&a&&a[r.user.id],l=!!o&&(0,I.Jd)(o,n),s=eH(r.currentUserOrgId,r),c=!!(l&&("design"===n||!s));if(eM(r))return!1;let d=t.canEdit&&c;return e||d}(ev(e,t,r),e,t,r)}function eb(e,t,r){let n=e?(0,_.oq)(e,t):t.currentUserOrgId;return!("whiteboard"===r&&eH(n||null,t)||(0,I.R$)(t.user,n))&&(!e||function(e,t,r,n){var i,a,o,l,c;let d=t.currentUserOrgId;if(!e)return!1;if(d){let n=t.user&&t.user.id,a=n?null==(i=t.orgUsersByOrgId.orgUsers[d])?void 0:i[n]:null;return(""!==e.name||(null==a?void 0:a.drafts_folder_id)===e.id)&&(l=e.id,c=r||h._Y.DESIGN,!!a&&(l===a.drafts_folder_id||!(0,I.Jd)(a,c)&&es(l,t)))}{let n=t.user&&t.user.id,i=(0,s.kc)().ps_benchmark&&(0,_.ye)(e),l=e.team_id&&n&&(null==(o=null==(a=null==t?void 0:t.teamUserByTeamId)?void 0:a[e.team_id])?void 0:o[n])||null;return(!(0,I.qR)(l,r)||!!i)&&es(e.id,t)}}(t.folders[e],t,r))}function ev(e,t,r){var n,i,a,o;let l=e.orgId||(e.teamId?null==(n=t.teams[e.teamId])?void 0:n.org_id:null)||null;if("whiteboard"===r&&eH(l,t)||(0,I.R$)(t.user,l))return!1;let c=t.user&&t.user.id;if(l){let n=c?null==(i=t.orgUsersByOrgId.orgUsers[l])?void 0:i[c]:null;if(!n||""===e.path&&n.drafts_folder_id!==e.id)return!1;if(e.id===n.drafts_folder_id)return!0;if((0,I.Jd)(n,r))return!1}else{let n=e.teamId&&c&&(null==(o=null==(a=null==t?void 0:t.teamUserByTeamId)?void 0:a[e.teamId])?void 0:o[c])||null,i=(0,s.kc)().ps_benchmark&&(0,_.jd)(e);if((0,I.qR)(n,r)&&!i)return!1}return e.canEdit}function eI(e,t,r){switch(e){case h.vt.FILE:return q(t,r,!1);case h.vt.FILE_REPO:return z(t,b.e6.VIEWER,r);case h.vt.FOLDER:return el(t,r);case h.vt.TEAM:return ed(t,r)}}function eT(e,t){return e.level!==b.e6.OWNER&&(e.level===b.e6.ADMIN?eS(e.resource_type,e.resource_id_or_key,t):function(e,t,r){switch(e){case h.vt.FILE:return J(t,r,!1);case h.vt.FILE_REPO:return ea(t,r);case h.vt.FOLDER:return es(t,r);case h.vt.TEAM:return eu(t,r)}}(e.resource_type,e.resource_id_or_key,t))}function eS(e,t,r){return e===h.vt.TEAM&&ep(t,r)}function ew(e,t,r){var n;return r?(null==(n=e.orgUsersByOrgId.orgUsers[t])?void 0:n[r])??(0,a.J)(e,"org_user",t):null}function eA(e,t){let r=t.user;if(!e||!r)return!1;let n=t.orgById[e]??(0,a.J)(t,"org",e);return eO(ew(t,e,r.id),n,y.jh.GUEST)}function eC(e,t,r){var n;if(!e)return!1;r=r||(null==(n=t.user)?void 0:n.id);let i=t.orgById[e]??(0,a.J)(t,"org",e);return eO(ew(t,e,r),i,y.jh.MEMBER)}function eN(e,t,r){var n;if(!e)return!1;let i=t.orgById[e]??(0,a.J)(t,"org",e);return r=r||(null==(n=t.user)?void 0:n.id),eO(ew(t,e,r),i,y.jh.ADMIN)}function eO(e,t,r){return!!t&&!!e&&(0,I.Ay)(e.permission)>=r}function eL(e,t){return(0,g.x9)(e.orgUsersByOrgId.orgUsers,t).some(r=>eC(r.org_id,e,t))}function eR(e,t,r){var n,i;return r=r||(null==(n=t.user)?void 0:n.id),!!(e&&t.licenseGroups&&(null==(i=t.licenseGroups[e])?void 0:i.admin_users_metadata.some(e=>e.id===r)))}function eP(e,t,r){var n,i,a,o,l;r=r||(null==(n=t.user)?void 0:n.id);let s=t.currentUserOrgId;return!!(e&&r&&s&&(null==(l=null==(o=null==(a=null==(i=t.orgUsersByOrgId)?void 0:i.orgUsers)?void 0:a[s])?void 0:o[r].workspace_users)?void 0:l.find(t=>t.permission===h.bp.ADMIN&&t.workspace_id===e)))}function ek(e,t,r){return e.org_access!==h.bU.SECRET&&eD(e.id,t,r)}function eD(e,t,r){var n;if(!(r=r||(null==(n=t.user)?void 0:n.id))||!e||!t.currentUserOrgId)return!1;let i=t.currentUserOrgId&&t.user&&t.orgUsersByOrgId.orgUsers[t.currentUserOrgId]?t.orgUsersByOrgId.orgUsers[t.currentUserOrgId][r]:null;null===i&&(i=(0,a.J)(t,"org_user",t.currentUserOrgId));let o=(0,E._)(e,t);if(!o||!i||t.currentUserOrgId!==o.org_id)return!1;if(ef(e,t))return!0;let l=eN(t.currentUserOrgId,t,r);return o.org_access!==h.bU.SECRET&&(l||!!(o.workspace_id&&eP(o.workspace_id,t,r)))}function eM(e){return(0,I.R$)(e.user,e.currentUserOrgId)}function ex(e,t,r,n){let i=t.parent_org_id&&e.orgUsersByOrgId.orgUsers[t.parent_org_id]&&e.orgUsersByOrgId.orgUsers[t.parent_org_id][r],a=t.team_id&&e.teamUserByTeamId&&e.teamUserByTeamId[t.team_id]&&e.teamUserByTeamId[t.team_id][r],o="";return i?o="design"===n?i.design_paid_status:i.whiteboard_paid_status:!i&&a&&(o="design"===n?a.design_paid_status:a.whiteboard_paid_status),o}function eF(e,t,r){if(!t||!r)return!1;let n="whiteboard"===t?"whiteboard_paid_status":"design_paid_status";return!!Object.entries(e.teamUserByTeamId||{}).find(([t,i])=>{var a,o;return(null==(a=i[r])?void 0:a[n])===v.Zf.FULL&&(null==(o=e.teams[t])?void 0:o.pro_team)})}function eU(e,t){return!!t&&null!=Object.entries(e.teamUserByTeamId??{}).find(([r,n])=>{let i=e.teams[r];return!!(null==i?void 0:i.student_team_at)&&null!=n[t]})}function eB(e,t){var r;return"whiteboard"===e.editorType&&!!e.parentOrgId&&!!(null==(r=t.orgById[e.parentOrgId])?void 0:r.figjam_disabled_at)}function eH(e,t){var r;return!!e&&!!(null==(r=t.orgById[e])?void 0:r.figjam_disabled_at)}function eV(e,t){return eH((0,_.oq)(e.id,t)||null,t)}function eG(e,t){if(e.level!==b.e6.VIEWER&&e.level!==b.e6.VIEW_PROTOTYPES)return null;let r=t.folders[e.resource_id_or_key];if(!r)return null;let n=e.user_id&&r.team_id&&t.roles.byTeamId[r.team_id]&&t.roles.byTeamId[r.team_id][e.user_id],i=!r.is_invite_only&&!r.is_view_only;return n&&n.level>b.e6.VIEWER&&i?(0,u.t)("permissions.can_still_edit_team_project_is_in"):null}function eW(e,t,r=!1,n){let i={...e};if(!r)return i;for(let r in e)r in t.repos&&!eo(r,t,n)&&delete i[r];return i}function eK(e,t,r,n){let i={},a=n||eW(e,t,r,!0);for(let e in a){let r=t.repos[e];if(!r)continue;let n=t.fileByKey[r.default_file_key];if(!n)break;r.trashed_at||(i[e]={repo:r,main_file:n})}return i}function eY(e,t,r){let n={},i=eW(e,t,r,!0);for(let e in i){let r=t.repos[e];r.trashed_at&&(n[e]=r)}return n}function ej(e,t,r){let n={},i=eW(e,t,r,!0);for(let e in i){let r=t.repos[e];r.trashed_at&&(n[e]=r)}return n}function ez(e,t){return!!e&&!!e.canEdit&&(e.team?(0,f.w5)(e.teamId?t.teams[e.teamId]:void 0):!!e.parentOrgId)}function e$(){if(void 0===o.D)return!1;let e=o.D.getState(),t=A(e);return ez(e.openFile,t)}},960628:(e,t,r)=>{"use strict";let n;r.d(t,{$y:()=>z,BT:()=>K,B_:()=>em,G1:()=>Q,H4:()=>e_,IM:()=>q,It:()=>eI,Jc:()=>eh,KB:()=>R,LL:()=>w,ME:()=>es,Mw:()=>H,OD:()=>en,Q4:()=>M,Ql:()=>F,Qx:()=>J,Rp:()=>D,Sf:()=>O,Sx:()=>$,Ty:()=>P,Ut:()=>eu,VM:()=>x,W5:()=>k,Xx:()=>C,b_:()=>V,cI:()=>N,d1:()=>n,dG:()=>ev,f$:()=>er,fS:()=>eb,fd:()=>W,hY:()=>ep,i1:()=>j,iP:()=>G,jG:()=>ey,jS:()=>U,n4:()=>el,o5:()=>et,oZ:()=>X,po:()=>L,q$:()=>Y,qC:()=>eS,r2:()=>eE,sd:()=>Z,se:()=>eo,wk:()=>A,xG:()=>eg,xi:()=>S});var i=r(297666),a=r(776621),o=r(304783),l=r(852800),s=r(910620),c=r(912666),d=r(341860);let u=[],p=[],m=[],_=[],h=[],g=[],f=[],E=[],y=[],b=[],v=[],I=null,T=new class{constructor(){this.task=null,this.eventByGuid=new Map,this.styleEventByGuid=new Map,this.nodeEventByGuid=new Map,this.timeOutMs=100,this.flush=()=>{let e=[];for(let t of this.eventByGuid.values())if("NONE"!==t.nodeType)for(let r of t.events)e.push(this.injectTypeIntoEvent(t,r));for(let t of h)t(e);let t=[];for(let e of this.styleEventByGuid.values())if("NONE"!==e.nodeType)for(let r of e.events)t.push(r);for(let e of g)e(t);let r=[];for(let e of this.nodeEventByGuid.values())if("NONE"!==e.nodeType)for(let t of e.events)r.push({...t,nodeType:e.nodeType});for(let e of f)e(r);this.eventByGuid.clear(),this.styleEventByGuid.clear(),this.nodeEventByGuid.clear(),this.task=null}}onEventFired(e){null==this.task&&(this.task=scheduler.postTask(this.flush,{delay:this.timeOutMs,priority:"user-visible"}));let t=this.eventByGuid.get(e.id)??{nodeType:this.publicNodeTypeFromEvent(e),events:[]};if(!t)return;"NONE"===t.nodeType&&(t.nodeType=this.publicNodeTypeFromEvent(e));let r=t.events.find(t=>t.type===e.type&&t.origin===e.origin);if(r)for(let t of e.properties)r.properties.add(t);else{let r=d.qo.instance.get(e.id);r&&(e.type===l.iIc.STYLE_PROPERTY_CHANGE||e.type===l.iIc.STYLE_CREATE||e.type===l.iIc.STYLE_DELETE?r.styleKey&&t.events.push({id:e.id,origin:e.origin,type:e.type,properties:new Set(e.properties),styleKey:(0,c.nM)({key:r.styleKey,version:r.styleVersionHash})}):t.events.push({id:e.id,origin:e.origin,type:e.type,properties:new Set(e.properties),devFriendlyId:d.qo.instance.developerFriendlyIdFromGuid(e.id),oldContainingCanvas:e.oldContainingCanvas}))}this.eventByGuid.set(e.id,t);let n=d.qo.instance.get(e.id);if(n){if(n.styleKey){let r=t.events.filter(e=>e.type===l.iIc.STYLE_DELETE||e.type===l.iIc.STYLE_CREATE||e.type===l.iIc.STYLE_PROPERTY_CHANGE);this.styleEventByGuid.set(e.id,{nodeType:this.publicNodeTypeFromEvent(e),events:r})}else{let r=t.events.filter(e=>e.type===l.iIc.CREATE||e.type===l.iIc.PROPERTY_CHANGE||e.type===l.iIc.DELETE).map(e=>{var t;let r="";return e.type===l.iIc.CREATE||e.type===l.iIc.PROPERTY_CHANGE?r=n.containingCanvas||"":e.type===l.iIc.DELETE&&(r=(null==(t=e.oldContainingCanvas)?void 0:t.toString())||""),""===r&&(0,a.$D)(o.e.EXTENSIBILITY,Error("Containing canvas for nodechange event is empty")),{...e,containingCanvas:r}});this.nodeEventByGuid.set(e.id,{nodeType:this.publicNodeTypeFromEvent(e),events:r})}}}publicNodeTypeFromEvent(e){let t=d.qo.instance.get(e.id);return t&&(null==t?void 0:t.type)!=="NONE"?(0,s.w)(t):"NONE"}injectTypeIntoEvent(e,t){return t.type===l.iIc.CREATE||t.type===l.iIc.DELETE||t.type===l.iIc.PROPERTY_CHANGE?{...t,nodeType:e.nodeType}:t}};function S(){n={selectionChange(e){for(let t of u)e?t.boxSelection():t.normal()},drop(e){for(let t of _)if(!1===t(e))return!1;return!0},boxSelectionEnded(){for(let e of u)e.boxSelection.flush()},currentPageChange(){for(let e of p)e()},timerChange(e){for(let t of m)t(e)},documentChange(e){T.onEventFired(e)},codegenPreferencesChange(e){for(let t of E)t(e)},stackInvariantsEnforced(e){null==eT||eT(e)},pluginPageLoaded(e){for(let t of y)t(e)},pluginAccessibleNodeIds(){let e=new Set;for(let t of b)t().forEach(t=>e.add(t));return Array.from(e)},pluginAccessiblePages(){let e=new Set;for(let t of v)t().forEach(t=>e.add(t));return Array.from(e)}}}function w(e){u.push({normal:e,boxSelection:(0,i.s)(e,500)})}function A(e){u=u.filter(t=>t.normal!==e||(t.boxSelection.cancel(),!1))}function C(e){p.push(e)}function N(e){p=p.filter(t=>t!==e)}function O(e){m.push(e)}function L(e){m=m.filter(t=>t!==e)}function R(e){_.push(e)}function P(e){_=_.filter(t=>t!==e)}function k(e){y.push(e)}function D(e){y=y.filter(t=>t!==e)}function M(e){b.push(e)}function x(e){b=b.filter(t=>t!==e)}function F(e){v.push(e)}function U(e){v=v.filter(t=>t!==e)}function B(){h.length||g.length||f.length?l.NfO.setIsDocumentChangeCallbackRegistered(!0):l.NfO.setIsDocumentChangeCallbackRegistered(!1)}function H(e){h.push(e),B()}function V(e){h=h.filter(t=>t!==e),B()}function G(e){g.push(e),B()}function W(e){g=g.filter(t=>t!==e),B()}function K(e){f.push(e),B()}function Y(e){f=f.filter(t=>t!==e),B()}function j(e){E.push(e)}function z(e){E=E.filter(t=>t!==e)}let{set:$,remove:Z,has:q,run:J}=ew(),{set:X,remove:Q,has:ee,run:et,reset:er}=ew(),{set:en,remove:ei,has:ea,run:eo,reset:el}=ew(),{set:es,remove:ec,has:ed,run:eu,reset:ep}=ew(),{set:em,remove:e_,has:eh,run:eg,reset:ef,runOrTimeout:eE}=ew();function ey(e){I=e}function eb(){return!!I}function ev(){I=null}async function eI(){return!I||await I()}let eT=null;function eS(e){return eT=e,()=>eT=null}function ew(){let e;let t=new Promise(t=>{e=t}),r=null,n=()=>{t=new Promise(t=>{e=t}),r=null};return{set:t=>{r=t,e(t)},remove:e=>{e===r&&n()},has:()=>!!r,run:async(...e)=>{let r=await t;return await r(...e)},runOrTimeout:async(e,...r)=>{let n=new Promise(t=>{setTimeout(()=>{t()},e)}),i=await Promise.race([t,n]);return void 0===i?{didRun:!1}:{didRun:!0,returnValue:await i(...r)}},reset:n}}},215822:(e,t,r)=>{"use strict";r.d(t,{$2:()=>ek,$H:()=>e0,$u:()=>ty,AG:()=>tc,Ar:()=>eI,CA:()=>es,CB:()=>eA,EK:()=>ee,EY:()=>eU,GX:()=>J,Gc:()=>e2,JT:()=>e3,K$:()=>X,L1:()=>e$,L8:()=>e4,LH:()=>eL,LW:()=>th,M5:()=>ti,MB:()=>e_,MH:()=>e1,Mi:()=>e9,Ms:()=>eu,NW:()=>ts,Oe:()=>eh,Pe:()=>tb,Pl:()=>er,Q4:()=>eF,Qt:()=>eR,Qx:()=>eS,Rd:()=>eO,Rt:()=>eD,Ru:()=>tl,SW:()=>eX,T:()=>Q,Th:()=>tf,Tk:()=>eC,Tz:()=>eo,UH:()=>ta,VQ:()=>tv,W4:()=>tu,WC:()=>tr,Wg:()=>ea,YG:()=>tp,YQ:()=>tI,ZB:()=>eQ,ZI:()=>e6,ZT:()=>eB,_H:()=>tn,_V:()=>t_,_w:()=>eP,c2:()=>$,fR:()=>tt,i8:()=>eJ,iz:()=>ei,ky:()=>eM,lT:()=>eE,mI:()=>eZ,mm:()=>ep,mx:()=>tg,my:()=>eN,nW:()=>eW,nf:()=>eq,oD:()=>eG,og:()=>e5,ou:()=>eY,pk:()=>to,qH:()=>ec,t3:()=>em,tH:()=>ez,te:()=>tE,tk:()=>ed,u0:()=>ej,uF:()=>eT,vA:()=>te,vj:()=>eV,wf:()=>eH,xC:()=>td,xK:()=>ex,yx:()=>e8}),r(661743);var n=r(188507),i=r(717068),a=r(157663),o=r(367253),l=r(38329),s=r(966712),c=r(563706),d=r(563042),u=r(776621),p=r(96328),m=r(304783),_=r(30637),h=r(27087),g=r(939863),f=r(392592),E=r(837324),y=r(466636),b=r(762194),v=r(545941),I=r(290796),T=r(782501),S=r(356390),w=r(848661),A=r(560718),C=r(99506),N=r(285334),O=r(23001),L=r(239671),R=r(813408),P=r(28588),k=r(178787),D=r(376485),M=r(591463),x=r(13517),F=r(722416),U=r(375827),B=r(501256),H=r(507956),V=r(697551),G=r(258237),W=r(294868),K=r(441088),Y=r(410225),j=r(4564),z=r(147206);async function $(e,{ignoreMissingEditorType:t,resourceType:r,isPublishing:n}){var i;let a=await em(e,{resourceType:r});if(t&&(null==(i=a.error)?void 0:i.text)===en)return a.manifest;if(a.error)throw Error((0,D.am)(a.error));return a.manifest}function Z({parameters:e,parameterOnly:t},r){if(e&&function(e,t){if(!e.length)throw Error(`Expected "${t}.parameters" to have non-empty parameter list.`);let r=new Set;e.forEach(e=>{if(r.has(e.key))throw Error(`Expected "${t}.parameters" to have unique keys, but got more than one parameter with key: "${e.key}"`);r.add(e.key)});let n=!1;for(let{key:t,optional:r}of e){if(n&&!r)throw Error(`Optional parameters must be listed last in the parameter list. ${t} not marked as optional.`);r&&(n=!0)}}(e,r),t&&!e)throw Error(`Expected parameters to be defined for "${r}" marked as parameterOnly.`)}let q={[L.nT.Design]:D.FW.FIGMA,[L.nT.DevHandoff]:D.FW.DEV,[L.nT.Whiteboard]:D.FW.FIGJAM,[L.nT.Slides]:D.FW.FIGMA,[L.nT.Sites]:D.FW.SITES};function J(e){return q[e]}function X(){return(0,n.d4)(e=>"fullscreen"===e.selectedView.view?q[e.selectedView.editorType]:void 0)}function Q(){let e=l.D.getState().selectedView;if("fullscreen"===e.view)return q[e.editorType]}function ee(e,t){return Array.isArray(t)?t.includes(e):e===D.FW.FIGMA}class et extends Error{constructor(e,t){super(e),this.message=e,this.manifest=t}}function er(){return en}let en='Missing editorType in manifest.  Specify a combination of ["figma", "figjam", "dev"]';function ei(e){return e?e.includes(D.FW.FIGMA)&&e.includes(D.FW.FIGJAM)?D.HK.UNIVERSAL:e.includes(D.FW.FIGJAM)?D.HK.FIGJAM:e.includes(D.FW.FIGMA)&&tb(e)?D.HK.FIGMA_AND_INSPECT:tb(e)?D.HK.INSPECT:D.HK.FIGMA:D.HK.FIGMA}function ea(e,t){switch(e){case D.HK.FIGJAM:return L.nT.Whiteboard;case D.HK.FIGMA:return L.nT.Design;case D.HK.FIGMA_AND_INSPECT:case D.HK.INSPECT:return L.nT.DevHandoff;case D.HK.UNIVERSAL:return t??(0,L.wN)((0,b.r)())}}function eo(e){return e===C._Y.WHITEBOARD?L.nT.Whiteboard:L.nT.Design}function el(e,t){let r=new Set(D.UX);return e.filter(e=>!r.has(e)||(null==t?void 0:t.has(e)))}function es(e){return D.Kd.some(t=>e.includes(t))}class ec{constructor(e,t){this.permissions=e,this.trustedPluginOrigin=t}static none(){return new ec([],void 0)}static forTest(e){return new ec(e||D.XS,void 0)}static forConsoleGlobal(){let e=[...D.pR];return(0,s.kc)().first_draft_debug&&e.push("firstdraft"),new ec(e,void 0)}static forFirstPartyPlugin(){return new ec(D.XS,void 0)}static forLocalPlugin(e){let t=e.manifest.permissions||[];if((0,u.Lo)("ValidatedPluginPermissions","Validating permissions for local plugin",{pluginID:e.manifest.id,requestedPermissions:t}),(0,s.kc)().plugins_internal_apis)return new ec(t,"*");let r=el(t);return r.length<t.length&&(0,u.$D)(m.e.EXTENSIBILITY,Error("Untrusted local plugin denied internal api permissions")),new ec(r,void 0)}static forInstalledPlugin(e){let t=e.manifest.permissions||[];if((0,u.Lo)("ValidatedPluginPermissions","Validating permissions for installed plugin",{pluginID:e.plugin_id,requestedPermissions:t}),(0,N.eZ)(e.plugin_id))return new ec(el(t,(0,N.xp)(e.plugin_id)),(0,N.HB)(e.plugin_id));let r=el(t);return r.length<t.length&&(0,u.$D)(m.e.UNOWNED,Error("Untrusted installed plugin denied internal api permissions")),new ec(r,void 0)}}function ed(e){try{return new URLPattern(e)}catch(e){return null}}function eu(e,t){let r=[],n=0;for(let[i,a]of t)r.push(e.substring(n,i)),n=a;return r.push(e.substring(n,e.length)),r.join("")}function ep(e,t,r){var n,i,a;let o,l,s,c,d;let u="widget"===r.resourceType||!!t.cachedContainsWidget;if("error"in t)l={type:D.ho.LOAD,text:t.error};else try{s=JSON.parse(t.manifest)}catch(e){l={type:D.ho.PARSE,text:e.message}}if("unknown"===r.resourceType){if(s)u=s.containsWidget;else if("manifest"in t)try{u=!!/containsWidget/.test(t.manifest)}catch{}}if(s){try{(0,F.MG)(s.editorType,M.ib,"manifest.editorType"),c=s.editorType}catch{}try{(0,F.MG)(s.capabilities,M.hb,"manifest.capabilities"),d=s.capabilities}catch{}}let p=(0,j.M)();if("manifest"in t&&(null==p||p.updateCachedContainsWidget({id:e,cachedContainsWidget:u})),!l)try{o=function(e,t){try{(0,F.MG)(e,"widget"===t.resourceType?M.Vf:M._O,"manifest")}catch(e){if(e instanceof Error)throw Error(function(e){let t="but got additional property",r=e.lastIndexOf(t);if(-1!==r){let n=e.substring(r+t.length).replace(/"/g,"").trim();return`Manifest has unexpected extra property: ${n}`}return e}(e.message));throw e}if("plugin"===t.resourceType){if(e.relaunchButtons){let t=new Set;e.relaunchButtons.forEach(r=>{if(t.has(r.command))throw new et(`Expected "manifest.relaunchButtons" to have unique commands, but got more than one button with command: "${r.command}"`,e);t.add(r.command)})}!function(e){if(Z(e,"manifest"),e.menu){if(e.parameters)throw Error("manifest.parameters should not be specified when menu items are defined");!function e(t){for(let r of t)(0,D.Av)(r)?Z(r,r.name):(0,D.xg)(r)&&e(r.menu)}(e.menu)}}(e)}if(!function(e){if(!("editorType"in e))throw new et(en,e);if(e.editorType.some(e=>!D.Ye.includes(e))||e.editorType.length<1||e.editorType.length>D.Ye.length)throw Error('Invalid editorType in manifest.  Specify a combination of ["figma", "figjam", "dev"]')}(e),!function(e){if(e.permissions){let t=e.permissions.find(e=>!D.XS.includes(e));if(void 0!==t)throw new et(`Invalid permission specified: ${t}`,e)}}(e),!function(e){if(e.capabilities)for(let t of e.capabilities){if(D.Dk.includes(t)||function(e,t){throw new et(`Invalid capability specified: ${t}`,e)}(e,t),"panel"===t||"inspect"===t||"codegen"===t||"linkpreview"===t||"vscode"===t){if(!tb(e.editorType))throw new et(`Capability "${t}" requires "editorType" to include "dev"`,e);if(e.containsWidget)throw new et(`Capability "${t}" is not supported for widgets`,e)}if((0,K.T)()&&!e.capabilities.includes("vscode"))throw new et('Manifest must include "vscode" capability to run in Figma for VS Code Extension',e)}}(e),!function(e){var t,r;if(!(null==(t=e.capabilities)?void 0:t.includes("codegen"))){if(e.codegenLanguages)throw new et("codegenLanguages only supported for codegen plugins",e);if(e.codegenPreferences)throw new et("codegenPreferences only supported for codegen plugins",e);return}if(!e.codegenLanguages||0===e.codegenLanguages.length)throw new et("codegen plugins must define at least one language in codegenLanguages",e);if(!e.codegenPreferences)return;let n=(null==(r=e.codegenLanguages)?void 0:r.map(e=>e.value))??[],i=[],a=new Set;for(let t=0;t<e.codegenPreferences.length;t++){let r=e.codegenPreferences[t];for(let i of r.includedLanguages??[])if(!n.includes(i))throw new et(`Unknown language "${i}" in codegenPreferences[${t}].includedLanguages`,e);if((0,D.MP)(r)&&i.push(r),(0,D.Wt)(r)){if(a.has(r.propertyName))throw new et('codegenPreferences "action" itemType settings must have unique propertyName values',e);a.add(r.propertyName)}if((0,D.ZV)(r)){let t=0;if(r.options)for(let e of r.options)e.isDefault&&(t+=1);if(1!==t)throw new et('codegenPreferences itemType: "select" should have exactly one default option',e)}}if(i.length>1)throw new et('codegenPreferences should have at most one itemType: "unit"',e)}(e),"widget"===t.resourceType&&e.containsWidget&&"1.0.0"!==e.widgetApi)throw new et("Widgets must specify the 'widgetApi' manifest field. The latest version is '1.0.0'",e);if(e.networkAccess){let t=(0,x.pI)(e.networkAccess);if(!t.isValid)throw new et(t.validationErr,e)}if(e.relatedLinkDomains){if(!tb(e.editorType))throw new et("'relatedLinkDomains' is only supported for plugins with 'editorType' containing 'dev'",e);for(let t of e.relatedLinkDomains){if(!t.startsWith("https://")||t.startsWith("http://"))throw new et(`Invalid domain '${t}' in 'relatedLinkDomains'. Domains must start with 'https:// or 'http://'`,e);if(!ed(t))throw new et(`Invalid domain '${t}' in 'relatedLinkDomains'.`,e)}}if(e.devResourceDomains){if(!tb(e.editorType))throw new et("'devResourceDomains' is only supported for plugins with 'editorType' containing 'dev'",e);for(let t of e.devResourceDomains){if(!t.startsWith("https://")||t.startsWith("http://"))throw new et(`Invalid domain '${t}' in 'devResourceDomains'. Domains must start with 'https:// or 'http://'`,e);if(!ed(t))throw new et(`Invalid domain '${t}' in 'devResourceDomains'.`,e)}}return e}(s,{resourceType:u?"widget":"plugin"})}catch(e){l={type:D.ho.VALIDATE,text:e.message},e.manifest&&(o=e.manifest)}let m=u?(n=c,{...ef,editorType:n||void 0}):(i=c,a=d,{...eg,editorType:i||void 0,capabilities:a||void 0});return{plugin_id:o&&o.id||"",name:function(e,t){if(e)return e.name;if(t.lastKnownName)return t.lastKnownName;if(!t.path)return"Error";{let e=t.path.split(/\/|\\/);return e.length>=2?e[e.length-2]:t.path}}(o,t),manifest:o??m,localFileId:e,localFilePath:t.path,error:l}}async function em(e,t){let r=(0,j.M)();try{if(!r)throw Error("desktopApp not available");let n=await r.getLocalFileExtensionManifest(e);return ep(e,n,t)}catch(r){return{plugin_id:"",name:"Error",manifest:"widget"===t.resourceType?ef:eg,localFileId:e,localFilePath:"",error:{type:D.ho.LOAD,text:r.message}}}}async function e_(e){let t;let r=(0,j.M)();try{if(!r)throw Error("desktopApp not available");t=await r.getLocalFileExtensionSource(e)}catch(e){throw Error(`Unable to load code: ${e}`)}if(t.buildErrCode)throw Error("Build error: "+t.stderr+"\nPath was: "+t.path);let n=t.source;return t.html&&(n=function(e,t){let r=e=>JSON.stringify(e).split(/(<!--|-->|\bimport)/g).map((e,t)=>1&t?e.slice(0,2)+'"+"'+e.slice(2):e).join("");if("string"==typeof t)return`const __html__ = ${r(t)};${e}`;let n=Object.entries(t).map(([e,t])=>`[${r(e)}]:${r(t)}`).join(",");return`const __uiFiles__ = {${n}};${e}`}(n,t.html)),n}function eh(e){var t;return(null==(t=e.error)?void 0:t.text)===en?e.name:`${e.error?`\u26A0  `:""}${e.name}`}let eg={id:"",name:"",api:"",main:""},ef={id:"",name:"",api:"",main:"",containsWidget:!0,widgetApi:""},eE={id:"",plugin_id:"",manifest:{...eg},name:"",version:"",release_notes:"",installed_by:"user",description:"",tagline:"",creator_policy:"",created_at:"",redirect_icon_url:"",redirect_cover_image_url:"",redirect_code_url:"",is_private:!1,playground_fig_file_key:null},ey={id:"",publisher:{is_restricted_by_current_user:!1,id:"",name:"",img_url:"",img_urls:{},profile_handle:"",primary_user_id:null,current_user_is_following:!1,current_user_is_followed:!1,location:null,follower_count:0,following_count:0,entity_type:R.o1.USER,badges:[],description:""},creator:{id:"",handle:"",img_url:""},category_id:null,versions:{},install_count:0,unique_run_count:0,view_count:0,like_count:0,comment_count:0,unpublished_at:null,current_plugin_version_id:"",roles:{},realtime_token:"",support_contact:"",created_at:"",org_id:null,redirect_thumbnail_url:null,thumbnail_url:null,tags:[],community_publishers:{accepted:[],pending:[]},comments_setting:A.Ni.ENABLED,is_widget:!1,editor_type:"design_and_whiteboard",publishing_status:null,badges:[]},eb={...ey,is_widget:!0},ev={name:"",currentVersionReleaseNotes:"",newVersionReleaseNotes:"",description:"",tagline:"",creatorPolicy:"",categoryId:"",tags:(0,B.Rs)(),iconSrc:"",coverImageSrc:"",widgetSnapshotImageSrc:"",widgetSnapshotImageError:null,supportContact:"",iconImageError:null,coverImageError:null,author:{user_id:""},twoFactorAuthDisabledError:null,emailNotVerifiedError:null,accountDetailsChangedError:null,freemiumRequiredForMigrating:null,commentsSetting:A.Ni.ENABLED,creators:[],publishers:{inputValue:"",tokens:[],errorMessage:""},blockPublishingOnToS:!1,playgroundFigFile:null,playgroundFilePublishType:I.J.Actions.NOOP};function eI(e){if(!e||!e.versions)return null;let t=e.current_plugin_version_id;return t&&e.versions[t]||null}function eT(e){let t=eI(e);return null===t?eE:t}function eS(e,t){if((0,Y.ZY)(t))return(0,Y.Qx)(t);let r=e[t]??{};for(let e in r)return r[e].current_plugin_version_id}let ew=e=>(null==e?void 0:e.containsWidget)?eb:ey;function eA(e,t,r,n){var i,a,o,l,s;if(null==(i=null==r?void 0:r.manifest)?void 0:i.id){if(e&&e[null==(a=null==r?void 0:r.manifest)?void 0:a.id])return e[null==(o=null==r?void 0:r.manifest)?void 0:o.id];if(t&&t[null==(l=null==r?void 0:r.manifest)?void 0:l.id])return t[null==(s=null==r?void 0:r.manifest)?void 0:s.id]}if(n){if(e&&e[n])return e[n];if(t&&t[n])return t[n]}return ew(null==r?void 0:r.manifest)}function eC(e,t,r){var n,i,a,o,l;if(null==(n=null==r?void 0:r.manifest)?void 0:n.id){if(e&&e[null==(i=null==r?void 0:r.manifest)?void 0:i.id])return e[null==(a=null==r?void 0:r.manifest)?void 0:a.id];if(t&&t[null==(o=null==r?void 0:r.manifest)?void 0:o.id])return t[null==(l=null==r?void 0:r.manifest)?void 0:l.id]}return null}function eN(e,t){return(0,V.Hc)(e,t,ey)}function eO(e,t){return(0,V.Hc)(e,t,eb)}function eL(e,t){let r={};return Object.keys(e).forEach(n=>{(function(e,t){let r=e.roles.org&&e.roles.org.id===t.id,n=e.roles.is_public&&e.publisher.id===t.community_profile_id;return!!(r||n)})(e[n],t)&&(r[n]=e[n])}),r}function eR(e,t){let r={};return Object.keys(e).forEach(n=>{let i=e[n];i.roles.org&&i.roles.org.id===t&&(r[i.id]=i)}),r}function eP(e,t){let r={};return Object.keys(e).forEach(n=>{let i=e[n];ee(t,eT(i).manifest.editorType)&&(r[i.id]=i)}),r}function ek(e,t){let r={};return Object.keys(e).forEach(n=>{let i=e[n],a=i.roles.org&&i.roles.org.id;a&&a!==t||(r[i.id]=i)}),r}function eD(e){var t;return!!(null==(t=null==e?void 0:e.roles)?void 0:t.org)}function eM(e,t,r=!0){let n={};return Object.keys(e).forEach(i=>{let a=e[i],o=r?G.jY:G.Ro;((0,T.Dd)(a,t)||o(a,t))&&(n[i]=e[i])}),n}function ex(e,t){return Object.keys(e).reduce((r,n)=>{var i,a;let o=e[n];return o.roles.is_public&&(null==(a=null==(i=o.community_publishers)?void 0:i.accepted)?void 0:a.some(e=>e.id===t))&&(r[n]=e[n]),r},{})}function eF(e){return(0,i.LN)(Object.keys(e).map(t=>eT(e[t]))).map(t=>e[t.plugin_id])}function eU(e,t){var r,n;let i=e.roles,a=!t.is_public&&(0,v.AC)(e);return!!i.is_public!=!!t.is_public||(null==(r=i.org)?void 0:r.id)!==(null==(n=t.org)?void 0:n.id)||a}function eB(e){if(!e)throw Error("Code string cannot be empty");let t=(0,p.YH)(e).length;if(t>V.yO)throw Error(`plugin code exceeds max size of ${Math.floor(V.yO/1e6)}MB`);return t}function eH(e){return(0,T.Wl)(e,"Icon image")}async function eV(e,t){return eH(e),await eK(e,{width:W.DK,height:W.DK},t,(0,g.t)("community.publishing.error_icon_image_dimensions"))}function eG(e){return(0,T.Wl)(e,"Artwork image",[...P.xp,"image/svg+xml"])}function eW(e){let t=null==e?void 0:e[0];if(!t)throw Error((0,g.t)("community.publishing.error_file_not_found"));return t}async function eK(e,t,r,n){let{width:i,height:a}=t,o=URL.createObjectURL(e),l=await (0,T.l8)(o);try{if(!function(e,t,r){let{width:n,height:i}=t;return e.width===n&&e.height===i||r&&e.width%n==0&&e.height%i==0&&e.width/n==e.height/i}(l,t,r))throw Error(n);if(l.width===i&&l.height===a)return e;let o=await new Promise((e,t)=>{let r=document.createElement("canvas");try{r.width=i,r.height=a,r.getContext("2d").drawImage(l,0,0,i,a),r.toBlob(r=>r?e(r):t(Error("Failed to resize image")))}catch(e){t(e)}finally{r.remove()}});return new File([o],e.name,{type:o.type})}finally{URL.revokeObjectURL(o),l.remove()}}async function eY(e){let t=(await h.Ay.post(`/api/${(0,V.n)(e)}`)).data.meta;if(!t.id)throw Error("cannot generate plugin ID");return t}function ej(e,t,r){return e.roles.org??(t&&r?{id:t.id,name:t.name,img_url:t.img_url}:null)}function ez(e,t){return t===D.Lu.ORG?e?{org:e}:(a.k.error("publishing a private plugin without a valid org entity."),null):{is_public:!0}}function e$(e){return e.name===ev.name&&e.newVersionReleaseNotes===ev.newVersionReleaseNotes&&e.supportContact===ev.supportContact&&e.description===ev.description&&e.iconSrc===ev.iconSrc&&e.coverImageSrc===ev.coverImageSrc&&null==e.iconBlob&&null==e.coverImageBlob}function eZ(e,t,r,n,i){var a,o,l,s,c;let d;let u=void 0!==t?e.localPlugins[t]:void 0,p=u&&u.manifest,m=eA(e.publishedPlugins,e.publishedWidgets,u,r),_=eT(m),h={...(0,B.Rs)(),tokens:(m.tags||[]).map(e=>({content:e,state:O.d.OK}))},g=null==(a=null==p?void 0:p.permissions)?void 0:a.includes("payments");try{d=(0,T.En)(m,e)}catch(e){throw Error("Unable to get Plugin Data. You might be trying to act on a personal plugin in an Org space.")}let{accepted:f,pending:b}=m.community_publishers,v={...(0,B.Rs)(),tokens:(m.community_publishers?[...f.map(e=>({...e,isPending:!1})),...(null==b?void 0:b.map(e=>({...e,isPending:!0})))||[]]:[]).reduce((t,r)=>(0,T.Ii)(e.authedProfilesById[r.id],d)?t:t.concat([{state:O.d.OK,content:r}]),[])};return{name:_.name||p&&p.name||ev.name,currentVersionReleaseNotes:_.release_notes||ev.newVersionReleaseNotes,newVersionReleaseNotes:ev.newVersionReleaseNotes,tags:h,supportContact:m.support_contact||(null==(o=e.user)?void 0:o.email)||ev.supportContact,description:_.description||ev.description,tagline:_.tagline||ev.tagline,creatorPolicy:_.creator_policy??ev.creatorPolicy,iconSrc:_.redirect_icon_url||ev.iconSrc,widgetSnapshotImageSrc:n||_.redirect_snapshot_url||ev.widgetSnapshotImageSrc,widgetSnapshotImageBlob:i||ev.widgetSnapshotImageBlob,coverImageSrc:_.redirect_cover_image_url||ev.coverImageSrc,iconImageError:ev.iconImageError,coverImageError:ev.coverImageError,widgetSnapshotImageError:ev.widgetSnapshotImageError,twoFactorAuthDisabledError:ev.twoFactorAuthDisabledError,emailNotVerifiedError:ev.emailNotVerifiedError,accountDetailsChangedError:ev.accountDetailsChangedError,freemiumRequiredForMigrating:ev.freemiumRequiredForMigrating,author:d,publishers:v,creators:f.map(e=>({...e,isPending:!1})).concat((b??[]).map(e=>({...e,isPending:!0}))).filter(t=>!(0,T.Ii)(e.authedProfilesById[t.id],d)&&t.entity_type===R.o1.USER),commentsSetting:m.comments_setting||ev.commentsSetting,categoryId:m.category_id||ev.categoryId,blockPublishingOnToS:(0,T.xw)(e),playgroundFigFile:_.playground_fig_file,playgroundFilePublishType:I.J.Actions.NOOP,isPaid:!!m.monetized_resource_metadata||g,price:(0,y.vf)(m.monetized_resource_metadata),isSubscription:null==(l=m.monetized_resource_metadata)?void 0:l.is_subscription,hasPaymentsApi:g,annualDiscount:null==(s=m.monetized_resource_metadata)?void 0:s.annual_discount_percentage,isAnnualDiscountActive:!!(null==(c=m.monetized_resource_metadata)?void 0:c.annual_discount_active_at),carouselMedia:(0,E.N6)(m)}}function eq(e){return!!eT(e).id&&!e.unpublished_at}function eJ(e){if(!e)return{};let t={};return e.forEach(e=>{eq(e)&&(t[e.id]=e)}),t}function eX(e,t,r,n){let i={};return(e.email_validated_at||(i.emailNotVerifiedError=(0,g.t)("community.publishing.please_verify_your_email_address_to_publish")),n||(e.saml_sso_only||e.google_sso_only||e.two_factor_app_enabled||e.phone_number)&&(t.code!==R.aP.FAILURE||t.error!==(0,g.t)("community.publishing.you_must_enable_two_factor_authentication_to_publish")))?!n&&(e.plugin_publishing_blocked_at||e.community_blocked_at||t.code===R.aP.FAILURE&&t.error===(0,g.t)("community.publishing.you_must_verify_your_account_details_to_publish"))?i.accountDetailsChangedError=(0,g.t)("community.publishing.we_detected_a_change_to_your_account_details_please_contact_support_figma_com_to_publish_this_plugin"):t.code===R.aP.FAILURE&&t.error&&(i.other=t.error):i.twoFactorAuthDisabledError=r?(0,g.t)("community.publishing.please_enable_two_factor_authentication_to_publish_this_widget"):(0,g.t)("community.publishing.please_enable_two_factor_authentication_to_publish_this_plugin"),i}function eQ(e,t,r,n){var i,a;if(!e)return{};let l={};0===(0,V.Yp)(e.name).length&&(l.name=(0,g.t)("community.publishing.name_must_not_be_empty")),0===(0,V.Yp)(e.tagline).length&&(l.tagline=(0,g.t)("community.publishing.add_a_tagline")),(0,d.ZB)(e.description)&&(l.description=(0,g.t)("community.publishing.add_a_description"));let s=(0,V.Yp)(e.supportContact);if(0===s.length?l.supportContact=(0,g.t)("community.publishing.support_contact_must_not_be_empty"):(0,o.xf)(s)||(0,p.gU)(s)||(l.supportContact=(0,g.t)("community.publishing.support_contact_must_be_a_valid_email_or_url")),0===(0,V.Yp)(e.iconSrc).length&&(l.iconImageError=(0,g.t)("community.publishing.icon_cant_be_empty")),l.carouselMedia=(0,T.vC)(e.carouselMedia),e.categoryId||(l.categoryId=(0,g.t)("community.publishing.category_cant_be_empty")),void 0===e.price||(null==(i=t.permissions)?void 0:i.includes("payments"))||(null==n?void 0:n.third_party_m10n_status)!==k.PN.FLAGGED||(l.freemiumRequiredForMigrating=(0,g.t)("community.seller.freemium_required_for_migration")),e.playgroundFigFile&&(null==(a=t.editorType)?void 0:a.length)===1){let n=t.editorType[0],i=e.playgroundFigFile.editor_type;if(n===D.FW.FIGMA&&"design"!==i||n===D.FW.FIGJAM&&"whiteboard"!==i){let e=n===D.FW.FIGMA?(0,g.t)("community.publishing.playground_file.figma"):(0,g.t)("community.publishing.playground_file.figjam");l.playgroundFigFile=r?(0,g.t)("community.publishing.widget_playground_file_editor_type_error",{editorType:e}):(0,g.t)("community.publishing.plugin_playground_file_editor_type_error",{editorType:e})}}r&&0===(0,V.Yp)(e.widgetSnapshotImageSrc).length&&(l.widgetSnapshotImageError=(0,g.t)("community.publishing.snapshot_must_not_be_empty"));let c=function(e,t){var r,n;if(!e.isPaid||e.hasPaymentsApi)return null;if(!e.price)return(0,g.t)("community.publishing.price_is_required_for_paid_resources");if((0,y.Yp)(e.price))return e.price<y.mZ?(0,g.t)("community.seller.paid_resource_minimum_err"):(0,g.t)("community.seller.paid_resource_maximum_err");if((0,y.F8)(e.price))return(0,g.t)("community.seller.prices_must_follow_format");if(!t||(0,v.AC)(t))return null;let i=null==(r=null==t?void 0:t.monetized_resource_metadata)?void 0:r.price;return e.isSubscription&&i&&(0,y.Mj)(i/100,e.price)?(0,g.t)("community.seller.price_increase_limit"):!(null==(n=null==t?void 0:t.monetized_resource_metadata)?void 0:n.can_increase_price)&&i&&(0,y.WD)(i/100,e.price)?(0,g.t)("community.seller.price_can_only_be_increased_once_every_thirty_days"):null}(e,n);c&&(l.price=c);let u=e.isPaid&&e.annualDiscount&&e.isAnnualDiscountActive?Number.isInteger(e.annualDiscount)?null:(0,g.t)("community.seller.discount_must_follow_format"):null;return u&&(l.annualDiscount=u),l}function e0(e,t){if(!e)return{};let r={},n=(0,V.Yp)(e.name).length;n<4?r.name=(0,g.t)("community.publishing.name_must_be_4_characters_long"):n>100&&(r.name=(0,g.t)("community.publishing.name_must_be_at_most_100_characters_long")),(0,V.Yp)(e.description).length>1e4&&(r.description=(0,g.t)("community.publishing.description_must_be_at_most_10000_characters_long")),(0,V.Yp)(e.newVersionReleaseNotes).length>1e4&&(r.newVersionReleaseNotes=(0,g.t)("community.publishing.release_notes_must_be_at_most_10000_characters_long")),(0,V.Yp)(e.creatorPolicy).length>1e4&&(r.creatorPolicy=(0,g.t)("community.publishing.creator_policy_must_be_at_most_10000_characters_long"));let i=e.tags.tokens.map(e=>e.content);e.tags.inputValue&&(i=i.concat([e.tags.inputValue]));let a=(0,V.Wh)(i);a&&(r.tags=a);let o=(0,V.Lg)(e.tagline);return o&&(r.tagline=o),(0,V.Yp)(e.supportContact).length>100&&(r.supportContact=(0,g.t)("community.publishing.support_contact_must_be_at_most_100_characters_long")),e.iconImageError&&(r.iconImageError=e.iconImageError),e.coverImageError&&(r.coverImageError=e.coverImageError),r}function e1(e){return(0,D.k0)(e.plugin)}function e2(e){var t;let r;let{localPlugins:n,publishedCanvasWidgetVersions:i,publishedWidgets:a}=l.D.getState(),o=!e.widgetVersionId,s=e.widgetId;if(s){if(o){let e=Object.values(n).filter(e=>e.plugin_id===s);e.length>1&&tt((0,g.t)("community.publishing.found_multiple_local_widgets_with_the_same_manifest_id")),1===e.length&&(r=e[0])}else{if(!(r=(null==(t=i[s])?void 0:t[e.widgetVersionId])||a[s]&&eT(a[s])))return;r.id===e.widgetVersionId||(0,_.nl)()||(0,_.Lg)()||(0,u.$D)(m.e.UNOWNED,Error(`plugin versionId=${null==r?void 0:r.id} doesn't match node.widgetVersionId=${e.widgetVersionId}`))}return r}}function e3(e){let t=e.canRunPluginState?e.canRunPluginState:l.D.getState();if(!(0,z.GP)(t))return{canRun:!1,message:"Cannot run plugin because canRunPlugins returned false"};if(!function(e,t){if(!e.currentUserOrgId)return!0;let r=e.orgById[e.currentUserOrgId];if(!r||(0,D.ZQ)(t)||(0,D.bH)(t))return!0;if(!r.public_plugins_allowed)return!1;let n=(0,D.k0)(t);return(n?!r.widgets_whitelist_enforced:!r.plugins_whitelist_enforced)||!!(n?e.whitelistedWidgets:e.whitelistedPlugins)[t.plugin_id]}(t,e.plugin))return{canRun:!1,message:"Cannot run plugin within org"};let{plugin:r,editorType:n}=e;if((0,D.ZQ)(r))return(0,D.k0)(r)?{canRun:!1,message:"Cannot run local widget"}:{canRun:!0};if(n){if(!ee(q[n],r.manifest.editorType))return{canRun:!1,message:"Cannot run plugin with invalid editor type"};if(n===L.nT.DevHandoff&&!ti(r))return{canRun:!1,message:"Cannot run non-devmode plugin in dev mode"}}return{canRun:!0}}function e5({canAssociatedUserPurchaseThisResource:e,resource:t}){return(0,D.f5)(t)&&t.current_user_has_run&&!t.community_resource_payment&&e}function e4(e){return e.roles.is_public?{role:"public"}:e.roles.org?{role:"org",roleOrgId:e.roles.org.id}:{role:"private"}}function e8(e){let t=e.match(/\/community\/widget\/(\d+)(\/.*)?$/);return t&&t[1]?t[1]:null}function e6(e){let t=e.match(/\/community\/plugin\/(\d+)(\/.*)?$/);return t&&t[1]?t[1]:null}function e7(e,t,r){if(!e.manifest.relaunchButtons)return[];let n=[];for(let i of e.manifest.relaunchButtons){if(r>1&&!i.multipleSelection)continue;let a=function(e,t,r){let n=null;for(let i of r){let r=!1;for(let{pluginID:a,command:o,message:l}of i)if(a===e&&o===t.command){r=!0,n?l!==n.description&&(n.description=D.Q7):n={pluginID:e,command:t.command,name:t.name,description:l||""};break}if(!r)return null}return n}(e.plugin_id,i,t);a&&n.push(a)}return n}function e9(e,t){return t?t.localFileId:e.id}function te(e,t,r,n,i,a,o){let l=[],s=(0,w.C8)(e);for(let e of function(e){if(0===e.length)return[];let t=new Set;for(let{pluginID:r}of e[0])t.add(r||"");return Array.from(t).reverse()}(s))if((function(e,t){let r=[];for(let n in e)e[n].plugin_id===t&&r.push(e[n]);return r})(r,e).filter(e=>ee(o,e.manifest.editorType)).forEach((t,r)=>{for(let n of e7(t,s,i))l.push({type:"local",pluginTypeAndID:`local-${e}-${r+1}`,plugin:t,relaunchButton:n})}),e in t){let r=t[e],c=eT(r);if(!ee(o,c.manifest.editorType))continue;let d=e7(c,s,i);if(!n||r.roles.org&&r.roles.org.id===n.id||r.install_status!==D.u8.PUBLIC_PLUGINS_DISALLOWED&&r.install_status!==D.u8.PLUGIN_NOT_ORG_APPROVED)for(let t of d)l.push({type:"published",pluginTypeAndID:`installed-${e}`,plugin:c,publishedPlugin:r,relaunchButton:t});a(e,!1)}else a(e,!0);return l}function tt(e){(0,U.pN)({shouldShowVisualBell:!0});let t=(0,j.M)();S.Y5.dispatch(f.F.enqueue({type:"plugins-runtime-error",message:e,button:t?{text:"Show/Hide console",action:()=>{t.toggleDevTools("bottom")}}:void 0,error:!0}))}function tr(){S.Y5.dispatch(f.F.dequeue({matchType:"plugins-runtime-error"}))}function tn(e,t){return e.plugin_id===(null==t?void 0:t.plugin_id)&&(null==e?void 0:e.id)===(null==t?void 0:t.id)}function ti(e,t){var r;return(!!(!(0,K.T)()||(null==(r=e.manifest.capabilities)?void 0:r.includes("vscode")))||null!=t&&!!t.allowNonVsCodePluginsInVsCode)&&tb(e.manifest.editorType)&&!(0,D.k0)(e)}function ta(e){return ti(e)&&ty(e.manifest.capabilities)}function to(e){var t,r;return ti(e)&&(null==(r=null==(t=e.manifest)?void 0:t.capabilities)?void 0:r.includes("codegen"))}function tl(e){var t,r;return null==(r=null==(t=e.manifest)?void 0:t.capabilities)?void 0:r.includes("textreview")}function ts(e,t,r){if(!e)return t;switch(e){case L.nT.Whiteboard:case L.nT.Design:return Object.fromEntries(Object.entries(t).filter(([t,r])=>ee(q[e],r.manifest.editorType)));case L.nT.DevHandoff:return Object.fromEntries(Object.entries(t).filter(([e,t])=>ti(t,r)));default:return{}}}function tc(e,t){if(!e)return t;switch(e){case L.nT.Whiteboard:case L.nT.Design:return t.filter(t=>ee(q[e],t.manifest.editorType));case L.nT.DevHandoff:return t.filter(e=>ti(e));default:return[]}}function td(e,t){if(!e)return t;switch(e){case L.nT.Whiteboard:case L.nT.Design:return Object.fromEntries(Object.entries(t).filter(([t,r])=>ee(q[e],eT(r).manifest.editorType)));case L.nT.DevHandoff:return Object.fromEntries(Object.entries(t).filter(([e,t])=>ti(eT(t))));default:return{}}}function tu(e){if(!("related-link-preview"!==e&&"codegen"!==e))return!1;let t=l.D.getState().selectedView;return(0,H.$A)(t)}function tp(e){var t;return(null==(t=null==e?void 0:e.manifest.editorType)?void 0:t.length)===1&&tb(e.manifest.editorType)}function tm(e){let t=function(e){let t=["vscode"];return e.filter(e=>!t.includes(e))}(e.manifest.capabilities??[]);return 1===t.length&&"codegen"===t[0]}function t_(e){return tp(e)&&tm(e)}function th(e){return tb(e.manifest.editorType)&&tm(e)}function tg(e){let t=l.D.getState().selectedView;return(0,H.$A)(t)&&th(e)}function tf(e,t,r){let n=l.D.getState().selectedView,i=null==t?void 0:t.plugins_whitelist_enforced,a=i&&r&&!!r[e.plugin_id]||!i;return(0,H.$A)(n)&&!t_(e)&&a}function tE({idToSearch:e,localPluginsByFileId:t,publishedPlugins:r,savedPlugins:n,recentPlugins:i}){let a=t&&t[e];if(a)return a;let o=(null==n?void 0:n.loaded)&&n.plugins[e];if(o)return o;let l=null==r?void 0:r[e];if(l){let e=eT(l);return""!==e.id?e:null}return i&&i[e]||null}function ty(e){return!!((null==e?void 0:e.includes("inspect"))||(null==e?void 0:e.includes("panel")))}function tb(e){return!!((null==e?void 0:e.includes(D.FW.DEV))||(null==e?void 0:e.includes(D.FW.INSPECT)))}function tv(e){let t=Q(),r=e&&(null==e?void 0:e.plugin)&&t_(null==e?void 0:e.plugin);return e&&t&&ee(t,e.plugin.manifest.editorType)&&("dev"!==t||ti(e.plugin))&&!r}function tI(){return(0,K.T)()?"plugins-menu-open-directory-vscode":c.Ay.mac?"plugins-menu-open-directory-mac":"plugins-menu-open-directory-win"}},384792:(e,t,r)=>{"use strict";r.d(t,{C3:()=>a,SH:()=>o,gN:()=>l});var n=r(215822);let i=null;function a(e){i=e}function o(){return i}function l(){i&&!(0,n.JT)({plugin:i.plugin}).canRun&&(i=null)}},772192:(e,t,r)=>{"use strict";r.d(t,{O:()=>l,R:()=>o});var n=r(181912),i=r(941381),a=r(336599);let o=new class{loadPluginsPublishedByUser(e){let t=e.getState().loadingState,r=i.uF.loadingKeyForPayload();(0,a.Sc)(t,r)&&e.dispatch(i.uF())}async loadPluginsAuthoredByCurrentOrg(e){let{loadingState:t,currentUserOrgId:r}=e.getState();if(!r)return;let n=i.LP.loadingKeyForPayload(r);(0,a.Sc)(t,n)&&await e.dispatch(i.LP(r))}loadWidgetsAuthoredByCurrentOrg(e){let{loadingState:t,currentUserOrgId:r}=e.getState();if(!r)return;let n=i.a8.loadingKeyForPayload(r);(0,a.Sc)(t,n)&&e.dispatch(i.a8(r))}};class l{constructor(e){this.expireDuration=e,this.lastRefreshed={}}clear(){this.lastRefreshed={}}debounceRefresh(e,t,r){if(e in this.lastRefreshed){if((0,n.A)(this.lastRefreshed[e]).add(this.expireDuration).valueOf()>Date.now())return}else if(!r){this.lastRefreshed[e]=(0,n.A)(Date.now());return}try{t(e)}catch(e){throw e}finally{this.lastRefreshed[e]=(0,n.A)(Date.now())}}}},254527:(e,t,r)=>{"use strict";r.d(t,{A9:()=>Z,E9:()=>q,bT:()=>Y,hM:()=>x.hM,mK:()=>K,s2:()=>W});var n=r(776250),i=r(517333),a=r(38329),o=r(966712),l=r(374626),s=r(776621),c=r(304783),d=r(877432),u=r(939863),p=r(392592),m=r(934533),_=r(785315),h=r(986270),g=r(720289),f=r(356390),E=r(441088),y=r(147206),b=r(272794),v=r(384792),I=r(555328),T=r(401730),S=r(239671),w=r(376485),A=r(554294),C=r(707033),N=r(798474),O=r(303380),L=r(176626),R=r(375827),P=r(22631),k=r(479296),D=r(215822),M=r(571874),x=r(229531),F=r(361829),U=r(829632),B=r(947087),H=r(561004),V=r(387513);r(288560);class G extends Error{constructor(e){super(e)}}function W(e){let t=a.D.getState(),r=(0,y.GP)(t),n=(0,o.Ay)().e2e_traffic;if(!e.userID||!n&&!r){if((0,H.et)()){(0,H.wY)().then(()=>delete window.figma);return}delete window.figma;return}H.iu.resetGlobalPluginAPI=W;try{if((0,H.et)())return;!function(e){let t=(0,N.$s)(),r=[()=>t.destroy(),()=>{delete window.figma},()=>f.Y5.triggerAction("commit")],n=()=>{let e;for(let t of r)try{t()}catch(t){e||(e=t)}if(r=[],e)throw e},i=()=>(n(),Promise.resolve());delete window.figma,new O.Pd(t,{...(0,O._$)(),openFileKey:e.openFileKey,userID:e.userID,closePlugin:i,addShutdownAction:e=>{-1===r.indexOf(e)&&r.push(e)},incrementalSafeApi:!0,allowIncrementalUnsafeApiCalls:!0}).createAPI(),(0,H.XY)(i)}(e)}catch(e){(0,o.b5)()&&"fullscreen"===t.selectedView.view&&console.error(e)}}function K({pluginID:e,widgetNodeID:t}){return(0,x.hM)()&&void 0!==H.iu.currentWidget&&H.iu.currentWidget.pluginID===e&&H.iu.currentWidget.widgetNodeID===t}let Y=(0,k.n)(async e=>{let t=(0,H.mv)();H.iu.currentPluginRunID=t;let r=new P.P;H.iu.stats=r;let i=e.plugin;(0,n.sx)("Plugin Start Initiated",{pluginID:i.plugin_id,trigger:e.triggeredFrom,runMode:e.runMode,isWidget:e.isWidget,command:e.command,fileKey:e.openFileKey,orgId:(0,C.I)()??null,pluginRunID:t,editorType:(0,D.T)(),...(0,w.ZQ)(i)?{pluginVersionID:"",source:"development",name:"<local plugin>"}:{pluginVersionID:i.id,source:"imported",name:i.name}});let{isCancelled:o}=await r.markDuration("waitForAllPagesMs",async()=>await (0,B.y)(e));if(!o){if((0,D.W4)(e.triggeredFrom)){if(!(0,D.UH)(e.plugin))throw Error('Plugin not compatible to run in dev handoff panel. Make sure you have "dev" as an editorType and "inspect" as a capability in your manifest.json.');l.zl.set(A.d4,"LOADING"),l.zl.set(_.H,_._.PLUGIN)}e.isWidget||e.ignoreForRunLastPlugin||(0,v.C3)(e),(0,H.lM)(e.plugin),(0,H.qR)(e.triggeredFrom),"default"===e.runMode&&(0,D.W4)(e.triggeredFrom)&&(e.runMode="inspect"),(0,H.Kd)(e.runMode);try{if((0,w.ZQ)(e.plugin))try{let n=await z(e,r,e.plugin);await $({localPlugin:e.plugin,runPluginArgs:e,stats:r,pluginRunID:t,code:n})}catch(t){(0,M.yA)(t),j(t,e.isWidget)}else try{let i=await z(e,r,e.plugin);await function({pluginVersion:e,runPluginArgs:t,stats:r,pluginRunID:i,code:o}){let{command:l,queryMode:s,triggeredFrom:c,openFileKey:d,deferRunEvent:p,parameterValues:m,isWidget:_,widgetAction:f,forcePluginVersionId:y}=t,b=(0,C.o8)();if(!b)throw new G(t.isWidget?(0,u.t)("plugins.cannot_run_widget_logged_out"):(0,u.t)("plugins.cannot_run_plugin_logged_out"));if(e={...e,id:y||e.id},H.iu.currentPluginRunID!==i)return;let v=a.D.getState().selectedView.editorType,w={storeInRecentsKey:(0,g.B)(v),id:e.plugin_id,version:e.version,currentUserId:(0,C.o8)()};_?a.D.dispatch(h.RH(w)):a.D.dispatch(h.gU(w));let A=a.D.getState().publishedPlugins[e.plugin_id],N=(0,I.m3)(A),O={pluginID:e.plugin_id,pluginVersionID:e.id,trigger:c,source:"imported",command:l,name:e.name,fileKey:d,pluginRunID:i,queryMode:s,deferRunEvent:!!p,runWithParameters:!!m,manifest:JSON.stringify(e.manifest),productType:(0,S.Bu)(v),isWidget:_,isMonetized:N,paidStatus:function(e){let t=(0,I.m3)(e),r=null==e?void 0:e.community_resource_payment;return t&&r?r.status===T.G3.TRIALING?"trial":"paid":"none"}(A),widgetAction:f??null,isReadOnly:a.D.getState().mirror.appModel.isReadOnly,editorType:(0,D.T)(),incrementalMode:"dynamic-page"===e.manifest.documentAccess,isVsCode:(0,E.T)(),orgId:(0,C.I)()??null};return(0,n.sx)("Plugin Start",O,_?{forwardToDatadog:!0}:{}),q(J({runPluginArgs:t,manifest:e.manifest,stats:r,isLocal:!1,customOverrides:{code:o,name:e.name,openFileKey:d,permissions:D.qH.forInstalledPlugin(e),pluginID:e.plugin_id,pluginRunID:i,pluginVersionID:e.id,titleIconURL:e.redirect_icon_url,userID:b,enablePrivatePluginApi:!!(e.manifest.enablePrivatePluginApi&&e.is_private)}}))}({pluginVersion:e.plugin,runPluginArgs:e,stats:r,pluginRunID:t,code:i})}catch(t){t instanceof G||(0,s.$D)(c.e.EXTENSIBILITY,t),j(t,e.isWidget)}}finally{(0,H.lM)(null),(0,H.qR)(null),(0,H.Kd)(null)}}});function j(e,t){let r=(e instanceof G?null==e?void 0:e.message:void 0)??(t?(0,u.t)("plugins.error_loading_environment_widget"):(0,u.t)("plugins.error_loading_environment_plugin"));(0,D.fR)(r)}async function z(e,t,r){let n;let i=(0,w.ZQ)(r);try{if(f.Y5.dispatch(p.F.enqueue({message:(0,u.t)("plugins.loading_plugin",{pluginName:r.name}),icon:m.zX.SPINNER,type:"loading-plugin",delay:200,timeoutOverride:1/0})),(0,o.kc)().plugins_parallelize_load_sandbox){let a=i?(0,C.r_)():"cppvm",[o,l]=await Promise.all([(async()=>await (i?r.testCode?r.testCode:(0,D.MB)(r.localFileId):t.markDuration("pluginCodeDownloadedMs",async()=>await b.F.getAndCache(r,(0,C.I)()))))(),(async()=>{await t.markDuration("loadSandboxAndRunSecurityChecksMs",async()=>{try{await (0,V.b)(a,e.triggeredFrom)}catch(r){let t=e.isWidget?(0,u.t)("plugins.error_loading_environment_widget"):(0,u.t)("plugins.error_loading_environment_plugin");throw new G(t)}})})()]);n=o}else n=i?r.testCode?r.testCode:await (0,D.MB)(r.localFileId):await t.markDuration("pluginCodeDownloadedMs",async()=>await b.F.getAndCache(r,(0,C.I)()));if(!n){let t=e.isWidget?(0,u.t)("plugins.no_code_found_for_widget"):(0,u.t)("plugins.no_code_found_for_plugin");throw new G(t)}return n}finally{f.Y5.dispatch(p.F.dequeue({matchType:"loading-plugin"}))}}async function $({localPlugin:e,runPluginArgs:t,pluginRunID:r,stats:i,code:o}){let{command:l,isWidget:s,widgetAction:c,queryMode:d,triggeredFrom:p,openFileKey:m,deferRunEvent:_,parameterValues:f}=t,y=(0,C.o8)();if(!y)throw new G(s?(0,u.t)("plugins.cannot_run_widget_logged_out"):(0,u.t)("plugins.cannot_run_plugin_logged_out"));let b=a.D.getState().selectedView.editorType;if(e.manifest){let t={pluginID:e.manifest.id||"",pluginVersionID:"",trigger:p,source:"development",command:l,name:"<local plugin>",fileKey:m,pluginRunID:r,queryMode:d,deferRunEvent:!!_,runWithParameters:!!f,manifest:JSON.stringify(e.manifest),productType:(0,S.Bu)(b),isWidget:s,widgetAction:c??null,isReadOnly:a.D.getState().mirror.appModel.isReadOnly,editorType:(0,D.T)(),incrementalMode:"dynamic-page"===e.manifest.documentAccess,isVsCode:(0,E.T)(),orgId:(0,C.I)()??null};(0,n.sx)("Plugin Start",t,s?{forwardToDatadog:!0}:{})}let v={storeInRecentsKey:(0,g.B)(b),id:String(e.localFileId),isDevelopment:!0,version:"",currentUserId:(0,C.o8)()};s?a.D.dispatch(h.RH(v)):a.D.dispatch(h.gU(v));try{let n=e.testCode?e.manifest:await (0,D.c2)(e.localFileId,{resourceType:s?"widget":"plugin",ignoreMissingEditorType:!0,isPublishing:!1}),a=J({runPluginArgs:t,manifest:n,stats:i,isLocal:!0,customOverrides:{code:o,openFileKey:m,permissions:D.qH.forLocalPlugin(e),enablePrivatePluginApi:!!n.enablePrivatePluginApi,pluginID:n.id||"",pluginRunID:r,pluginVersionID:"",titleIconURL:"",userID:y}});await q(a)}catch(t){(0,M.yA)(t),(0,R.pN)({shouldShowVisualBell:!0});let e=(t instanceof G?null==t?void 0:t.message:void 0)??(s?(0,u.t)("plugins.error_occured_while_running_widget"):(0,u.t)("plugins.error_occured_while_running_plugin"));(0,D.fR)(e)}}let Z=(0,k.n)(({newTriggeredFrom:e}={newTriggeredFrom:"runlast"})=>{let t=(0,v.SH)();t&&(0,D.VQ)(t)&&(e&&(t.triggeredFrom=e),U.R.instance.enqueue({mode:"run-forever",runPluginArgs:t}))});function q(e){if(H.iu.currentPluginRunID!==e.pluginRunID)return Promise.resolve();let t=e.stats;t.markTime("timeToRunPluginCodeStartMs");let r=e.isWidget?"widget":"plugin";(0,D.WC)();let a=(0,x.p1)();(0,x.Tj)(a),(0,x.Yd)();let l=new Promise(async(r,n)=>{if(await (0,H.XF)({overriddenBy:e.triggeredFrom}),(0,x.Nq)()!==a){r();return}let l=()=>(r(),Promise.resolve());(0,H.Mt)(l);try{if(e.isWidget){let{widgetNodeID:t}=JSON.parse(e.command);H.iu.currentWidget={widgetNodeID:t,pluginID:e.pluginID}}else H.iu.currentWidget=void 0}catch{H.iu.currentWidget=void 0}try{if((0,o.kc)().plugins_parallelize_load_sandbox||await t.markDuration("loadSandboxAndRunSecurityChecksMs",async()=>{await (0,V.b)(e.vmType,e.triggeredFrom)}),i.eD&&(0,D.CA)(e.permissions.permissions)&&(H.iu.setMediaEnabled=!0,e.permissions.trustedPluginOrigin&&i.eD&&(H.iu.allowedPluginOrigin=e.permissions.trustedPluginOrigin,await i.eD.addAllowedPluginOrigin(e.permissions.trustedPluginOrigin))),await (0,d.fm)(0),(0,x.Nq)()!==a){r();return}let{runResult:n,closePlugin:s}=await (0,F.H)({...e,pluginCounter:a,html:null});if((0,x.Nq)()===a){(0,H.Mt)(s,{ignorePreviousCloseFunc:l}),l=s;let e=await n;e&&f.Y5.dispatch(p.F.enqueue({type:"plugins-supplied-message",message:e}))}r()}catch(e){n(e)}finally{a===(0,x.Nq)()&&((0,H.Mt)(null,{ignorePreviousCloseFunc:l}),(0,H.nT)())}}).catch(t=>{if(e.noConsoleError||(0,M.yA)(t),e.showLaunchErrors){let r=(t instanceof G?null==t?void 0:t.message:void 0)??(e.isWidget?(0,u.t)("plugins.error_occured_while_running_widget"):(0,u.t)("plugins.error_occured_while_running_plugin"));(0,D.fR)(r)}else throw t}),s=()=>{let i={pluginID:e.pluginID,pluginVersionID:e.pluginVersionID,pluginRunID:e.pluginRunID,apiUsage:t.callCountsToJSON(),perfMetrics:t.perfMetricsToJSON(),ranWithParameters:t.ranWithParameters(),parameterCount:t.parameterCount(),isWidget:e.isWidget,trigger:e.triggeredFrom,stackInvariants:t.stackInvariantFieldsToJSON(),incrementalMode:e.incrementalSafeApi,numPagesLoaded:t.getNumPagesLoaded(),...t.getTimingMarks()},a={pluginDataHistogram:t.pluginDataHistogramToJSON(),pluginDataTotalSetSize:t.pluginDataTotalSetSize(),sharedPluginDataTotalSetSize:t.sharedPluginDataTotalSetSize(),pluginDataMaximumKeyCountExceeded:t.pluginDataMaximumKeyCountExceeded()};(0,n.sx)("Plugin End",{...i,...a},{forwardToDatadog:!0}),e.pluginID&&t.hasResizedNodeWithMissingFont()&&((0,n.sx)("Plugin resized node with missing font",{pluginID:e.pluginID}),console.warn(`This ${r} resized a node with missing fonts. Text layout for node will not be applied.`))};return l.then(s,s),l}function J({manifest:e,isLocal:t,stats:r,runPluginArgs:n,customOverrides:i}){return{name:e.name,allowedDomains:function(e,t){let{networkAccess:r}=e;return r?t&&r.devAllowedDomains?r.allowedDomains.concat(r.devAllowedDomains):r.allowedDomains:L.gH}(e,t),apiVersion:e.api,capabilities:e.capabilities??[],stats:r,checkSyntax:t,isLocal:t,disableSilenceConsole:t,enableProposedApi:t&&!!e.enableProposedApi,showLaunchErrors:!t,showRuntimeErrors:t,vmType:t?(0,C.r_)():"cppvm",...i,command:n.command,queryMode:n.queryMode,triggeredFrom:n.triggeredFrom,openFileKey:n.openFileKey,deferRunEvent:n.deferRunEvent,parameterValues:n.parameterValues,isWidget:n.isWidget,editorType:n.plugin.manifest.editorType??[],incrementalSafeApi:"dynamic-page"===e.documentAccess,enableNativeJsx:!!(0,o.kc)().ext_full_jsx}}},285334:(e,t,r)=>{"use strict";r.d(t,{HB:()=>F,P8:()=>k,Ph:()=>p,T0:()=>b,Up:()=>B,Y3:()=>W,Zl:()=>H,eZ:()=>x,sA:()=>V,xp:()=>U,yb:()=>G});var n=r(966712),i=r(30637),a=r(376485);let o="1039957324840667051",l="1042072203439057981",s="1017757619521383731",c="1037692671113105119",d="1030479012894344777",u="1100947233945489758",p="1274481464484630971",m="1220512233196109878",_="1220802563996996107",h="1221187540287746170",g="1029476790898052743",f="1270487405418367065",E="1028089855820989707",y="1100944790471783866",b="1268676638869538880",v="1217135789855512677",I="1217657098906612843",T={[o]:a.Kd,[l]:a.Kd,[s]:a.Kd,[c]:a.Kd,"1096460041736534298":["analytics"],[m]:["analytics","openexternal"],[_]:["analytics","filekey","openexternal"],"1098405969270214551":["analytics","filekey","openexternal"],"1151936790942917527":["analytics","openexternal"],"1101944648482192724":["analytics","openexternal"],"1094001923188252679":["analytics","filekey","openexternal"],[d]:a.Kd,[u]:a.Kd,"1030848035996871692":["hidecursors"],"1030845409121640454":["hidecursors"],[p]:["cortex","analytics"],[h]:["filekey"],"857346721138427857":["filekey"],"745330164019088593":["filekey"],"1377781599688680355":["cortex","analytics","filekey","firstdraft"],"1340067847030742527":["cortex","analytics","filekey","firstdraft"]},S={[o]:"https://recordwidget.vimeocdn.com",[l]:"https://recordwidget.vimeocdn.com",[s]:"https://recordwidget.vimeocdn.com",[c]:"https://recordwidget.vimeocdn.com",[d]:"https://www.figma.com",[u]:"https://www.figma.com"},w={"1034777534804649640":["analytics"],"1301665612022689456":["analytics","cortex"],[v]:["analytics","openexternal"],[I]:["analytics","filekey","openexternal"],"1271502283792345209":["cortex"],"1326353654536428586":["cortex"],"1094384373580076374":["analytics","filekey","openexternal"],"1149460326641202255":["analytics","openexternal"],"1101526018404272582":["analytics","openexternal"],"1131307276886895456":["analytics","filekey","openexternal"],[g]:a.Kd,[f]:a.Kd,[E]:a.Kd,[y]:a.Kd,"1256428543638612749":["cortex"],[b]:["cortex","analytics"],"1277056884710848803":["cortex","analytics"],"1265815812125155376":["hidecursors"],"1029480467793180296":["hidecursors"],"1276624117086983457":["cortex"],"1313947182028153675":["cortex","analytics","filekey","firstdraft"],"1308848962842011451":["cortex","analytics","filekey","firstdraft"],"1338915561589337295":["cortex","analytics","filekey","firstdraft"],"1342184095219254574":["cortex","analytics","filekey","firstdraft"],"1248327534194310871":["openexternal"],"1247608093818933926":["openexternal"],"1098668453462136230":["analytics"],"1098643145465550199":["analytics","filekey","openexternal"],"1159008294965494982":["analytics","openexternal"],"1105998388939381214":["analytics","openexternal"],"1098069144593389942":["analytics","filekey","openexternal"],"1065825789137646656":a.Kd,"1105998344712102365":a.Kd,"1065825795062708289":["hidecursors"],"1065825813933952067":["hidecursors"]},A={[v]:"https://static.figma.com/uploads/83e16c32f7fbe88022ff9fcff130cdd6c6423861"},C={[m]:"https://static.figma.com/uploads/83e16c32f7fbe88022ff9fcff130cdd6c6423861"},N={[g]:"https://staging.figma.com",[f]:"https://staging.figma.com",[E]:"https://staging.figma.com",[y]:"https://staging.figma.com"},O=new Set([v,I]),L=new Set([m,_,h,"1220851659530313303"]),R={"1311749001261674187":"1311747530036311881"},P={"1312547578554957136":"1311777988952403297"};function k(e){return"prod"===(0,n.tl)().cluster_name?e===_:"staging"===(0,n.tl)().cluster_name&&e===I}let D={},M={};function x(e){return"prod"===(0,n.tl)().cluster_name?e in S||e in T:"staging"===(0,n.tl)().cluster_name?e in N||e in w:(0,i.nl)()||(0,i.Lg)()?e in D:!!(0,n.IX)()}function F(e){return"prod"===(0,n.tl)().cluster_name?e in S?S[e]:void 0:"staging"===(0,n.tl)().cluster_name?e in N?N[e]:void 0:(0,i.nl)()||(0,i.Lg)()?e in D?D[e]:void 0:(0,n.IX)()?"*":void 0}function U(e){if(!x(e))throw Error("Untrusted pluginID");return"prod"===(0,n.tl)().cluster_name?new Set(T[e]??[]):"staging"===(0,n.tl)().cluster_name?new Set(w[e]??[]):(0,i.nl)()||(0,i.Lg)()?new Set(M[e]??[]):(0,n.IX)()?new Set(a.UX):new Set}function B(){return"prod"===(0,n.tl)().cluster_name?L:"staging"===(0,n.tl)().cluster_name?O:((0,i.nl)()||(0,i.Lg)()||(0,n.IX)(),new Set)}function H(e,t){let r=e===("staging"===(0,n.tl)().cluster_name?v:m);return!(t&&r)}function V(e){return"prod"===(0,n.tl)().cluster_name?C[e]:"staging"===(0,n.tl)().cluster_name?A[e]:void 0}function G(e){return"prod"===(0,n.tl)().cluster_name?"1286792998372727741"===e:"staging"===(0,n.tl)().cluster_name?"1286790870036328880"===e:!!((0,i.nl)()||(0,i.Lg)())||!!(0,n.IX)()}function W(e){return"prod"===(0,n.tl)().cluster_name?P[e]:"staging"===(0,n.tl)().cluster_name?R[e]:void 0}},212957:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var n,i=r(181912),a=r(563706),o=r(96328),l=r(99506),s=r(833629);(e=>{e.getTooltipTrackingContext=function(e){return`Pro Onboarding Tooltip: ${(0,o.vE)(e)}`},e.getTrackingProperties=function(e){return{productArea:"pro_tier_onboarding",teamId:e}},e.isRecentlyUpgraded=function(e){return!!e&&!!e.last_upgraded_at&&90>=(0,i.A)().diff((0,i.A)(e.last_upgraded_at),"days",!0)},e.canSeeOnboardingInFile=function({editorType:e,selectedView:t,showStarterKit:r,userFlags:n,hasNotifications:i,isDevHandoffView:o,isAppUiShown:c,isLoading:d}){if(a.Ay.mobile||a.Ay.tablet||i||o||!c||d)return!1;let u="fullscreen"===t.view&&t.starterKitHasBeenHidden;if(e===l._Y.WHITEBOARD&&r&&!u)return!1;let p=(0,s._q)(n),m=!!n.figjam_editor_onboarded;return e===l._Y.DESIGN&&!!p||e===l._Y.WHITEBOARD&&!!m}})(n||(n={}))},746869:(e,t,r)=>{"use strict";r.d(t,{$g:()=>_,Jy:()=>f,lg:()=>b,ng:()=>n,uU:()=>g,u_:()=>y,v$:()=>E});var n,i=r(717068),a=r(181912),o=r(966712),l=r(140908),s=r(99506),c=r(243987),d=r(428467),u=r(986060),p=r(707465);let m="pro_trials_v3",_=14,h=s.GP.PRO_TRIAL,g="exp_pro_trials_v3_start_trial",f="seen_pro_trials_v3_entry_modal",E="seen_pro_trials_v3_team_welcome_modal",y="seen_pro_trials_v3_expiry_modal",b="dismissed_pro_trials_v3_unlocked_expiry_banner";(e=>{e.uxEnabled=()=>!!(0,o.kc)().pro_trials_v3_ux,e.entryEnabled=()=>(0,e.uxEnabled)()&&!!(0,o.kc)().exp_pro_trials_v3,e.expiryEnabled=()=>(0,e.uxEnabled)()&&!!(0,o.kc)().pro_trials_v3_expiry,e.isUserInVariant=l.wN,e.getTrackingProperties=function(e){return e?{productArea:m,text:e}:{productArea:m}},e.getProTrial=function(e,n,i){if(!e)return null;let a=r(e);if(!a)return null;let o=new Date(e.grace_period_end),l=t(o),s=e.id;return{status:a,isOwner:n,userCanEditTeam:(0,d.canEditTeam)(s,i),trialExpiresAt:o,daysLeft:l,teamId:s}},e.getUpgradableProTrials=function(t,r){let n=Object.values(r.teams),o=(0,i.WI)(n.map(n=>{var i;return e.getProTrial(n,!!(null==(i=t[n.id])?void 0:i[g]),r)})),l=o.filter(e=>e.status===u.a.TRIAL_EXPIRED&&e.userCanEditTeam);l.sort((e,t)=>(0,a.A)(e.trialExpiresAt).diff(t.trialExpiresAt));let s=o.filter(e=>e.status===u.a.IN_TRIAL&&e.userCanEditTeam);return s.sort((e,t)=>(0,a.A)(e.trialExpiresAt).diff(t.trialExpiresAt)),{ongoingTrials:s,expiredTrials:l}},e.getEligibleProTrialTeams=function(t,r,n,i){let a=(0,c.Rx)(n),o=Object.values(n.teams).filter(o=>e.canStartProTrial(t,r,a,o,n,i));return o.sort((e,t)=>t.editors-e.editors),o},e.canStartProTrial=function(t,r,n,i,o,l){return!(!t||!e.entryEnabled()||(0,c.w5)(i)||i.stripe_customer_id||!r||n||!(0,d.canEditTeam)(i.id,o)||30>(0,a.A)().utc().diff((0,a.A)(t.created_at).utc(),"days",!0)||(0,a.A)().utc().diff((0,a.A)(t.created_at).utc(),"days",!0)>90||e.getProTrialStatus(i)||Object.keys(l).some(e=>!!l[e][g]))&&!!e.isUserInVariant(t.id)};let t=e=>Math.max(Math.ceil((0,a.A)(e).diff((0,a.A)(),"days",!0)),0);function r(t){return(0,e.uxEnabled)()&&t.grace_period_end&&t.grace_period_type&&h===t.grace_period_type?new Date(t.grace_period_end)<new Date?u.a.TRIAL_EXPIRED:u.a.IN_TRIAL:null}function n(e){return!!e&&e.status===u.a.IN_TRIAL&&e.userCanEditTeam}e.getProTrialStatus=r,e.isEligibleTrialEntryView=function(e){return"folder"===e.view||"team"===e.view||(0,p.K)(e)},e.canSeeProTrialUx=n,e.canSeeProTrialUxInFile=function(e,t){return n(e)&&(null==t?void 0:t.editorType)&&(null==t?void 0:t.canEdit)},e.canSeeProTrialExpiryUx=function(t){if(!(0,e.expiryEnabled)()||!t||t.status!==u.a.TRIAL_EXPIRED)return!1;let r=(0,a.A)().utc().diff((0,a.A)(t.trialExpiresAt).utc(),"days",!0);return!(r<0)&&r<7},e.canSeeExpiredProTrialBanner=function(t,r,n){var i;if(!r)return!1;let a=!!(null==(i=t[r.id])?void 0:i[g]),o=e.getProTrial(r,a,n);return e.canSeeProTrialExpiryUx(o)}})(n||(n={}))},830524:(e,t,r)=>{"use strict";r.d(t,{C$:()=>g,Cp:()=>y,a4:()=>v});var n=r(411855),i=r(188507),a=r(286640),o=r(47506),l=r(293017),s=r(809831),c=r(365218),d=r(788256),u=r(479296),p=r(639135),m=r(852800),_=r(335682),h=r(833629);function g(e){let t=[e];for(;0!==t.length;){let e=t.shift();if(!1!==e.visible){if("TEXT"===e.type)return!0;t.push(...e.childrenNodes)}}return!1}let f="last-used-left-panel-tab",E="ASSETS_TAB";function y(e){e===m.xae.ASSETS&&(0,o.YQ)({id:c.MV}),a.x4&&a.x4.setItem(f,e===m.xae.ASSETS?E:"LAYERS_TAB")}let b=(0,u.D)(()=>{if(a.x4){let e=a.x4.getItem(f);if(e)return e===E?m.xae.ASSETS:m.xae.LAYERS}return null});function v(){var e;let t=(0,i.wA)(),r=(0,h.Ai)([d.d4]),a=(0,p.dP)(),o=(0,p.Nz)(),c=(0,h.jO)(),u=(0,s.Em)(),g=null==(e=(0,_.q5)())?void 0:e.canEdit;n.useEffect(()=>{if(u&&g&&c&&!r&&a()){let e=b();t(l.FP({tab:null===e?o()?m.xae.ASSETS:m.xae.LAYERS:e,persist:!0}))}},[t,g,u,a,o,c,r])}},331626:(e,t,r)=>{"use strict";r.d(t,{JG:()=>f,Jl:()=>E,S7:()=>m,SO:()=>g,U_:()=>u,X2:()=>v,YN:()=>_,gJ:()=>y,ul:()=>b,vY:()=>h,xk:()=>p});var n=r(935283),i=r(286640),a=r(809831),o=r(99506),l=r(555328),s=r(239671),c=r(809073),d=r(215822);function u(){let e=(0,a.my)();return e===s.nT.Whiteboard?c.$A.FigJam:e===s.nT.Design?c.$A.Design:e===s.nT.DevHandoff?c.$A.Handoff:e===s.nT.Slides?c.$A.Slides:null}let p="recent-widgets-figjam",m="recent-plugins-figjam",_="recent-widgets-figma-design",h="recent-plugins-figma-design",g="recent-face-stamps-figjam",f="recent-whiteboard-tools-figjam";function E(e,t){if(e===c.$A.FigJam)switch(t){case l.bD.PLUGIN:return m;case l.bD.WIDGET:return p;case l.bD.HUB_FILE:return"recent-templates-figjam";case c.dB.FACE_STAMP:return g;case c.dB.WHITEBOARD_TOOL:return f;default:return null}if(e===c.$A.Design)switch(t){case l.bD.PLUGIN:return h;case l.bD.WIDGET:return _;default:return null}return e===c.$A.Handoff?t===l.bD.PLUGIN?"recent-plugins-handoff":null:e===c.$A.Slides&&t===l.bD.HUB_FILE?"recent-templates-piper":null}function y(e,t){if(!i.x4)return[];let r=[],n=E(e,t),a=n&&i.x4.getItem(n);try{r=a&&JSON.parse(a)||[]}catch(e){}return r.map(e=>({...e,type:e.type||c.vt.CommunityResource}))}function b(e){let t=(0,d.uF)(e),r=e.community_publishers.accepted.map(e=>({isPending:!1,profile:{id:e.id,profileHandle:e.profile_handle,user:null,team:null,org:null,[e.entity_type]:{name:e.name}},role:o.un.CREATOR}));return t.community_publishers=r,t}function v(e){switch(e.type){case c.vt.CommunityResource:return e.id;case c.vt.TeamTemplate:return e.key;default:(0,n.xb)(e)}}},496470:(e,t,r)=>{"use strict";r.d(t,{Aw:()=>k,SY:()=>A,V4:()=>R,XV:()=>N,v9:()=>P});var n=r(89865),i=r.n(n),a=r(776250),o=r(717068),l=r(374626),s=r(632430),c=r(44892),d=r(852800),u=r(416095),p=r(237929),m=r(173454),_=r(809073),h=r(279145),g=r(510879),f=r(811529),E=r(731262),y=r(378905),b=r(696673),v=r(875847),I=r(662531),T=r(335682),S=r(794488),w=r(113916);function A(e,t,r,n,i,a,l,s,c,u=d.iCO.NONE,m){let _=I.nc.user("swap-to-related-symbol",(e,n)=>{(null==n?void 0:n.componentOrStateGroup)&&R(n.componentOrStateGroup,t,r,s,"Related Symbol Dropdown Menu",!1)}),h=[];return u===d.iCO.NONE?h=function(e,t,r,n,i){let{selectedItem:a,relatedItems:l}=N(e,t,r,n);if(!a||l.length<2)return[];let s=l.map(e=>({args:{componentOrStateGroup:e},callback:i,displayText:e.name,separator:!1,recordingKey:e.name,isChecked:e.node_id===a.node_id,displayText:(0,p.kH)(e.name)}));return(0,o.v7)(s,e=>{var t;return`${e.displayText}-${(null==(t=e.args.componentOrStateGroup)?void 0:t.node_id)||""}`}),s}(e,i,a,l,_):u===d.iCO.STATE_INSTANCE&&(h=function(e,t,r,n,i,a){let o=(0,E.cP)(e,t,r);if(!o||o.mode!==d.iCO.STATE_INSTANCE)return[];let{allStates:l,stateGroup:s,stateGroupModel:c,selectedStates:u,selectedStatesPropertyValues:p}=o,m=(0,g.D)(Object.keys(n),i),_=(e,t)=>{if((null==t?void 0:t.property)&&(null==t?void 0:t.value)){let e={},r=[{property:t.property,value:t.value}];for(let n of u){let{propertyValues:i}=n.stateInfo,a={...i,[t.property]:t.value},o=(0,E.kz)(a,r,l);if(null!==o){let t=o.symbol.node_id;e[t]=(e[t]||[]).concat(m[n.symbol.node_id])}}0!==Object.keys(e).length&&((0,E.zb)("Swapping A Variant",s.nodeId,{source:"context_menu"}),I.l7.user("swap-related-symbol",()=>k(e)))}},h=c.propertySortOrder||[],f=c.propertyValues;return h&&f?h.map(e=>{let t=p[e],r=f[e];return{displayText:e,children:r.map(r=>({args:{property:e,value:r},callback:_,separator:!1,recordingKey:r,isChecked:r===t,displayText:r})),recordingKey:a?`${a}.${e}`:e}}):[]}(m,r,n,s,l,"swapVariants")),h}let C=e=>{var t,r;return null==e||e.type===m.PW.STATE_GROUP?null:(null==(r=null==(t=null==e?void 0:e.containing_frame)?void 0:t.containingStateGroup)?void 0:r.nodeId)||null};function N(e,t,r,n){if(!e)return{selectedItem:null,relatedItems:[]};let a=null,o={},s=(0,w.QL)(e,n);if(s){let{publishID:e,fileKey:n}=s;if((0,b.wJ)(n))return function(e,t){let r=l.zl.get(T.yV),n=l.zl.get(S.z),a=(0,v.T9)(null==r?void 0:r.project),{hubFileIdToSubscribedItems:o}=(0,f.o6)(t,r,n,a),{publishID:s,fileKey:c}=e,d=o[c]??[];if(0===d.length)return{selectedItem:null,relatedItems:[]};let u=i()(d,e=>e.node_id),p=O(u[s],u),m=L(p,d);return{selectedItem:p,relatedItems:m}}(s,r);let d=t[n];if(d){let t=(0,u.j7)(r.published.components,d),n=(0,u.j7)(r.published.stateGroups,d);o={...(0,c.Jl)(t),...n},a=O(t[e]??n[e],o)}}else{o=(0,c.Qx)(r);let t=C(a=r.local.components[e]??r.local.stateGroups[e]);t&&(a=o[t])}let d=L(a,Object.values(o??{}));return{selectedItem:a,relatedItems:d}}function O(e,t){let r=C(e);return r?t[r]:e}function L(e,t){var r;if(!e||!(null==(r=e.containing_frame)?void 0:r.nodeId)&&1===(0,p.ke)(e.name).length)return[];let n=(0,p.In)(e.name);return t.filter(t=>(0,h.nJ)(t.containing_frame,null==e?void 0:e.containing_frame)&&(0,p.In)(t.name)===n)}function R(e,t,r,n,i,a){P(e,t,r,Object.keys(n),i,a)}function P(e,t,r,n,i,o){if(e){if((0,y.TK)(e,r)){if(e.type===m.PW.COMPONENT){let t=e.node_id;d.glU.replaceSymbolBackingInstances({[t]:n},o)}else{let t=d.glU.getSimilarStates(n,e.node_id,"");d.glU.replaceSymbolBackingInstances(t,o)}(0,a.sx)("Instance Swapped To Local Component",{source:i})}else t(s.uO({item:e,instanceGUIDs:n,sourceForTracking:i,storeInRecentsKey:_.$A.Design,usedSwapInstanceKeyboardShortcut:o}))}}function k(e){d.glU.replaceSymbolBackingInstances(e,!1)}},973131:(e,t,r)=>{"use strict";r.d(t,{J:()=>s,m:()=>c});var n=r(183297),i=r(27087),a=r(188276),o=r(31913),l=r(314809);async function s(e,t="",r="",s,c=!1){c&&await (0,l.l)();let{data:{meta:d}}=await i.Ay.post(`/api/multiplayer/${e}/create_savepoint`);return s(o.BC({history:{versions:[d]},direction:n.mL})),s(o.A9({status:!1})),s(a.D({fileKey:e,savepointID:d.id,label:t,description:r})),d}async function c(e,t="",r="",n,i=!1){return null!=e?await s(e,t,r,n,i):null}},939562:(e,t,r)=>{"use strict";r.d(t,{H_:()=>l,wm:()=>o}),r(188507);var n=r(38580),i=r(374626),a=r(341860);let o=(0,n.eU)(a.qo.instance);function l(){return(0,i.md)(o)}},601607:(e,t,r)=>{"use strict";r.d(t,{Fk:()=>s,Jk:()=>u,ew:()=>d,hr:()=>c,x3:()=>p});var n=r(411855),i=r(175515),a=r(341860),o=r(479296),l=r(464484);function s(e,...t){return function(e,t,...r){let i=(0,n.useRef)(new l.M(a.qo.instance,t,e)),o=(0,n.useCallback)(()=>i.current.readValue(...r),[i,...r]);return(0,n.useSyncExternalStore)(e=>i.current.subscribe(e),o)}(!1,e,...t)}let c=(0,o.D)((e,...t)=>{let r=(0,n.useRef)(new l.L(a.qo.instance,e)),i=(0,n.useCallback)(()=>r.current.readValue(...t),[r,...t]);return(0,n.useSyncExternalStore)(e=>r.current.subscribe(e),i)});function d(e){return s((e,t)=>t?t.map(t=>e.get(t)).filter(e=>null!==e):[],e)}function u(e){return s((e,t)=>t?e.get(t):null,e)}function p(e,...t){let r=(0,i.hk)(),a=(0,n.useRef)(r?new l.M(r,e):null),o=(0,n.useCallback)(()=>a.current?a.current.readValue(...t):null,[a,...t]);return(0,n.useSyncExternalStore)(e=>a.current?a.current.subscribe(e):()=>{},o)}},707465:(e,t,r)=>{"use strict";r.d(t,{$Z:()=>S,CR:()=>H,IE:()=>B,Iu:()=>U,K:()=>Y,Np:()=>A,Tk:()=>F,U2:()=>K,YP:()=>M,bW:()=>k,i1:()=>G,s5:()=>W,vU:()=>x,xS:()=>w,yn:()=>D,zg:()=>V});var n=r(358204),i=r(966712),a=r(179940),o=r(687729),l=r(239671),s=r(608902),c=r(935938),d=r(124780),u=r(338880),p=r(507956),m=r(290806),_=r(330845),h=r(846456),g=r(879408),f=r(19573),E=r(92208),y=r(397982),b=r(391387),v=r(581892),I=r(935283),T=r(935757);let S=new o.k([new f.$T,new g.f,new p.YY,new h.a,new E.m,new d.B,new y.G,new b._,new _.N,new m.u,new u.i,new v.n]);function w(e,t){return new URL(A(e,t),document.baseURI).href}function A(e,t){return S.selectedViewToPath(t,e)}let C=["drafts","fonts","libraries","search","settings","plugins","widgets","user"].concat(f.nw),N=RegExp(`^/files/([0-9]+)/(?:${C.join("|")})(.*)$`),O=RegExp("^/files/([0-9]+)/?$"),L=RegExp(`^/files/team/([0-9]+)/(?:${C.join("|")})(.*)$`),R=(e,t,r)=>{let n=e.split("/");return!n[1]||"files"!==n[1]||(0,i.kc)().ps_benchmark&&6===n.length&&"files"===n[1]&&"team"===n[2]&&"restore"===n[5]||(e.match(N)?n.splice(2,1):e.match(L)?n.splice(2,2):(n.length>=3&&t&&n[2]===t&&n.splice(2,1),n.length>=3&&r&&n[3]===r&&n.splice(2,2))),n},P=(e,t)=>{let r=e.split("/");return r[1]&&"files"===r[1]&&(e.match(N)?r.splice(2,1):r.length>=3&&t&&r[2]===t&&r.splice(2,1)),r};function k(e){let t=e.match(N);if(t)return t[1];let r=e.match(O);return r?r[1]:null}function D(e){let t=e.match(L);return t?t[1]:null}function M(e){let t=P(e,(0,T.pk)());return""===t[t.length-1]&&t.splice(t.length-1,1),t}function x(e,t,r,n){let o=[],l=(0,i.kc)().dev_mode_suggested_upgrades&&r&&!!(0,a.qg)(r).devModeSuggestions,s=r&&!!(0,a.qg)(r).dashDeepLink;return(0,i.kc)().ps_benchmark?o=R(t,e.currentUserOrgId,e.currentTeamId):l||s?(o=R(t,e.currentUserOrgId,e.currentTeamId),t.match(L)&&(o[3]=P(t,e.currentUserOrgId)[3])):o=P(t,e.currentUserOrgId),""===o[o.length-1]&&o.splice(o.length-1,1),S.pathToSelectedView(e,o,r,n)||{view:"recentFiles"}}function F(e,t,r,n,i){if(t===n&&r===i)return e;let a=t===s.O.ORG?r:`team/${r}`,o=n===s.O.ORG?i:`team/${i}`;return e.replace(a,o)}function U(e,t){return S.selectedViewName(t,e)}function B(e){let t=e.modalShown;for(;t;){if("ACCOUNT_SETTINGS_MODAL"===t.type)return!0;t=t.prevModal}return!1}function H(e){let t=e.view;switch(t){case"recentFiles":case"deletedFiles":case"folder":case"team":case"allProjects":case"orgAdminSettings":case"licenseGroup":case"workspace":case"billingGroupDashboard":case"search":case"fullscreen":case"org":case"user":case"resourceUnavailable":case"feed":case"desktopNewTab":case"modalInIFrame":case"teamFeed":case"sharedWithYou":case"recentsAndSharing":case"draftsToMove":return!0;case"teamCreation":case"teamUpgrade":case"teamRestore":case"addAnnualPlan":case"addCollaborators":case"promoReview":case"eduReview":case"orgSelfServe":case"communityHub":case"prototype":case"figmascope":case"mobileViewer":case"teamAdminConsole":case"figjamTry":case"presentation":return!1;default:(0,I.xb)(t)}}function V(e){return"fullscreen"===e.view&&e.workshopModeInfoLoaded&&e.workshopModeInfo&&e.editorType===l.nT.Whiteboard&&new Date<e.workshopModeInfo.until||!1}function G(e){return!!("fullscreen"===e.view&&e.tryPluginId&&e.tryPluginName&&e.tryPluginVersionId)}function W(e){return"fullscreen"===e.view&&e.nodeId||null}function K(e){var t;switch(e.view){case"fullscreen":return e.fileKey||null;case"mobileViewer":return(null==(t=e.file)?void 0:t.key)||null;case"prototype":return null==e.file&&n.ZQ({data:{selectedView:e}}),e.file.key;default:return null}}function Y(e){return"recentFiles"===e.view||"recentsAndSharing"===e.view&&e.tab===c.G.RECENTLY_VIEWED}},416822:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(966712),i=r(628705);function a(e){let{currentUserOrgId:t}=e;return t?`/${t}`:(0,n.kc)().ps_benchmark?(0,i.i)(e):""}},793485:(e,t,r)=>{"use strict";r.d(t,{O:()=>m,Z:()=>_});var n=r(531664),i=r(38580),a=r(374626),o=r(456363),l=r(293017),s=r(626783),c=r(259927),d=r(852800),u=r(416095),p=r(484892);let m=(0,i.eU)({});class _{constructor(e){this.store=e,this.dispatch=e=>{this.store.dispatch(e)}}showEyedropper(e,t,r,n,i,a,o,s){this.dispatch(l.Gm({color:e,width:t,height:r,rgba:n,grid:i,assetId:a,variableSetModeId:o,resolvedVariableColor:s}))}hideEyedropper(){this.dispatch(l.Gm(null))}getColorFromNativeEyeDropper(){return window.EyeDropper?new EyeDropper().open().then(({sRGBHex:e})=>e):Promise.reject()}updateSelectionImages(e){let t=a.zl.get(m),r=Object.keys(e).length!==Object.keys(t).length;if(!r){for(let n in t)if(!e[n]){r=!0;break}}r&&a.zl.set(m,e)}updateSelectionPaintsWithFillEncodedPaints(e,t,r,i,a,o){let l=(0,p.S8)(e,t,r,i,a),c=this.store.getState().mirror.selectionPaints;(!(0,n.c2)(c.paints,l)||c.emptyDueToLimitExceeded||o)&&(this.store.dispatch(s.QA(l)),o&&this.store.dispatch(s.Xp(!0)))}updatePaintsDirectlyOnSingleNodeWithFillEncodedPaints(e,t){var r=[];for(let t of e){let e=(0,p.Km)(t);e?r.push(e):console.error(`Failed to decode: ${t}`)}r=r.map((e,r)=>(e.variableScopes=new Set(t?t[r]:[]),e));let i=this.store.getState().mirror.selectionPaints;(!(0,n.c2)(i.paintsDirectlyOnSingleNode,r)||i.emptyDueToLimitExceeded)&&this.store.dispatch(s.n0(r))}updatePaintStyles(e,t,r){let i=this.store.getState().library,a=this.store.getState().mirror.sceneGraph,o=t.map(e=>{let t=(0,u.Gp)(e.key,e.guids,i);return t?{styleKey:e.key,version:e.version,styleGUIDs:e.guids,count:e.count,uniqueNodesCount:e.uniqueNodesCount,styleName:(0,u.uH)(t,a),variableScopes:new Set(e.variableScopes)}:{styleKey:e.key,version:e.version,styleGUIDs:e.guids,count:e.count,uniqueNodesCount:e.uniqueNodesCount,styleName:"",variableScopes:new Set(e.variableScopes)}});o.sort((e,t)=>e.count>t.count?-1:e.count===t.count&&e.styleName<t.styleName?-1:1),(!(0,n.c2)(e,o)||this.store.getState().mirror.selectionPaints.emptyDueToLimitExceeded)&&this.store.dispatch(r(o))}updateSelectionPaintsWithStyles(e){this.updatePaintStyles(this.store.getState().mirror.selectionPaints.styles,e,s.Lh)}updateSelectionTextAndEffectStyles(e){o.gq.syncFromFullscreen({styles:e})}updatePaintsDirectlyOnSingleNodeWithStyles(e){this.updatePaintStyles(this.store.getState().mirror.selectionPaints.stylesDirectlyOnSingleNode,e,s.uQ)}clearSelectionPaintsDueToLimitExceeded(){this.store.dispatch(s.Mc())}clearSelectionTextAndEffectStylesDueToLimitExceeded(){o.gq.syncFromFullscreen({styles:[]})}updateSelectionPaintFromDropper(e){let t=this.store.getState().currentSelectionPaintInPicker;if(null==t.originalPaint)return!1;let r=(0,p.Km)(e);return null==r?(console.error(`Failed to apply paint: ${e}`),!1):(d.Osy.updatePaint((0,p.fZ)(t.originalPaint),e,!0),this.store.dispatch(s.oI({...t,updatedPaintFromDropper:r.paint})),!0)}pickerHasSelectionPaintOpen(){return null!=this.store.getState().currentSelectionPaintInPicker.originalPaint}originalPaintForCurrentSelectionPaintsPicker(){let e=this.store.getState().currentSelectionPaintInPicker.originalPaint;return null==e?"":(0,p.fZ)(e)}colorPickerSelectedVariable(){let e=this.store.getState().variablePickerShown;return e.isShown&&e.resolvedType===d.rXF.COLOR&&"variable-picker-alias"===e.type?{varId:e.variableID,modeId:e.modeID}:{}}isPrototypingModalOpen(){var e;return(null==(e=this.store.getState().pickerShown)?void 0:e.id)===c.o$}}},435011:(e,t,r)=>{"use strict";r.d(t,{hK:()=>o,iy:()=>h,o$:()=>l});var n=r(302245),i=r(352898),a=r(609822);let o=e=>e.selectedView,l=(0,n.Mz)(o,e=>"workspace"===e.view&&e.subView===i.V0.DIRECTORY?e.workspaceId:void 0),s=(0,n.Mz)(o,e=>"team"===e.view?e.teamId:void 0),c=(0,n.Mz)(o,e=>"folder"===e.view?e.folderId:void 0),d=(0,n.Mz)(o,e=>"org"===e.view?e.orgId:void 0),u=(0,n.Mz)(o,e=>e.currentTeamId,(e,t)=>"allProjects"===e.view?t:void 0),p=(0,n.Mz)(s,u,e=>e.teams,(e,t,r)=>e&&r[e]||t&&r[t]),m=(0,n.Mz)(c,e=>e.folders,(e,t)=>e&&t[e]);(0,n.Mz)(d,e=>e.orgById,(e,t)=>e&&t[e]);let _=(0,n.Mz)(m,a.D,(e,t)=>e&&e.id!==t?e:void 0),h=(0,n.Mz)(p,_,(e,t)=>e||t)},284321:(e,t,r)=>{"use strict";r.d(t,{AC:()=>to,Ct:()=>tn,Dc:()=>ez,Dr:()=>ep,F9:()=>K,FZ:()=>es,GS:()=>eb,Io:()=>R,JI:()=>eJ,Kb:()=>te,LD:()=>eE,Ln:()=>L,MH:()=>X,MW:()=>eD,Mh:()=>k,Pd:()=>D,Pg:()=>U,Qp:()=>ta,Wz:()=>en,ao:()=>tr,bd:()=>eO,bh:()=>er,cB:()=>ti,cM:()=>z,dM:()=>Q,dU:()=>ey,e_:()=>O,fA:()=>ej,h3:()=>el,ju:()=>eM,oB:()=>eq,pR:()=>tt,tK:()=>ee,x6:()=>eo});var n=r(636149),i=r.n(n),a=r(89865),o=r.n(a),l=r(595977),s=r.n(l),c=r(35645),d=r.n(c),u=r(802691),p=r.n(u),m=r(302245),_=r(717068),h=r(966712),g=r(951158),f=r(97395),E=r(75224),y=r(335682),b=r(49116),v=r(173454),I=r(279145),T=r(875847),S=r(852800),w=r(416095),A=r(243987),C=r(234945),N=r(693223);let O=e=>e.library,L=e=>e.library.libraryRemapping,R=e=>e.library.libraryPublishingMode,P=e=>{var t,r;return(null==(r=null==(t=e.openFile)?void 0:t.publishedHubFile)?void 0:r.id)??null},k=e=>e.library.openHubFilePublished__LIVEGRAPH.components,D=e=>e.library.openHubFilePublished__LIVEGRAPH.stateGroups,M=e=>e.library.openHubFilePublished__LIVEGRAPH.styles,x=e=>e.library.openHubFilePublished__LIVEGRAPH.variables,F=e=>e.library.openHubFilePublished__LIVEGRAPH.variableSets,U=(0,m.Mz)([k,M,x,F,D],(e,t,r,n,i)=>!(0,g.Im)(e)||!(0,g.Im)(t)||!(0,g.Im)(r)||!(0,g.Im)(n)||!(0,g.Im)(i)),B=(0,m.Mz)([y.sS,b.V2],(e,t)=>e&&t[e]||{}),H=(0,m.Mz)([y.sS,b.Wg],(e,t)=>e&&t[e]||{}),V=e=>e.library.local.thumbnails,G=e=>e.library.openFilePublished__LIVEGRAPH.styles,W=e=>e.library.openFilePublished__LIVEGRAPH.variableSets,K=(0,m.Mz)([B,G,W],(e,t,r)=>!(0,g.Im)(t)||!(0,g.Im)(e)||!(0,g.Im)(r)),Y=(0,m.Mz)([e=>e.library.local.styles,y.sS,R,e=>e.library.publishableStyles,M,P,V],(e,t,r,n,i,a,o)=>{if(r===v.o.HUBFILE&&a){let r=(0,E.lt)(a),{newLocal:l}=(0,w.rC)(w.w8,n,i,e,o,{},t||"",r,new Set,v.PW.STYLE);return l}return e}),j=(0,m.Mz)([G,M,R],(e,t,r)=>r===v.o.HUBFILE?t:e),z=(0,m.Mz)([Y,j],(e,t)=>{if(!(0,h.kc)().ds_remove_redux_library_status)return e;let r={};for(let n of Object.values(e)){let e=eI(n,t[n.node_id],eS);r[n.node_id]={...n,status:e}}return r}),$=(0,m.Mz)([e=>e.library.local.components,y.sS,R,k,P,e=>e.library.publishableSymbols,V],(e,t,r,n,i,a,o)=>{if(r===v.o.HUBFILE&&i){let r=(0,E.lt)(i),{newLocal:l}=(0,w.rC)(w.i_,a,n,e,o,{},t||"",r,new Set,v.PW.COMPONENT);return l}return e}),Z=(0,m.Mz)([B,k,R],(e,t,r)=>r===v.o.HUBFILE?t:e),q=(0,m.Mz)([function(e){return e.library.local.stateGroups},y.sS,R,D,P,e=>e.library.publishableStateGroups,V],(e,t,r,n,i,a,o)=>{if(r===v.o.HUBFILE&&i){let r=(0,E.lt)(i),{newLocal:l}=(0,w.rC)(w.LB,a,n,e,o,{},t||"",r,new Set,v.PW.STATE_GROUP);return l}return e}),J=(0,m.Mz)([H,D,R],(e,t,r)=>r===v.o.HUBFILE?t:e),X=(0,m.Mz)([$,Z,q,J],(e,t,r,n)=>{if(!(0,h.kc)().ds_remove_redux_library_status)return e;let i={},a=(e,t)=>{if((null==t?void 0:t.content_hash)!==e.content_hash||!(0,I.pD)(t.name,null==e?void 0:e.name)||!(0,I.pD)(t.description,e.description)||(0,I.Q_)(t.containing_frame,null==e?void 0:e.containing_frame))return!0;let i=(0,w.E2)(e),a=i&&r[i]||null,o=(0,w.E2)(t),l=o&&n[o]||null;return a?!l||ew(a,l):null!=l};for(let r of Object.values(e)){let e=eI(r,t[r.node_id],a);i[r.node_id]={...r,status:e}}return i}),Q=(0,m.Mz)([q,J],(e,t)=>{if(!(0,h.kc)().ds_remove_redux_library_status)return e;let r={};for(let n of Object.values(e)){let e=eI(n,t[n.node_id],ew);r[n.node_id]={...n,status:e}}return r}),ee=(0,f.P8)([e=>{let t={};return Object.entries(e.library.localVariablesById).forEach(([e,r])=>{r.isSoftDeleted||(t[e]=r)}),t},e=>e.library.openFilePublished__LIVEGRAPH.variables,y.tB,R,P,x],(e,t,r,n,i,a)=>{let o={},l=n===v.o.HUBFILE&&i?a:t,s=(null==r?void 0:r.key)??"",c=n===v.o.HUBFILE&&i?(0,E.lt)(i):v.Co;for(let[t,r]of Object.entries(l))e.hasOwnProperty(t)||(o[t]={...r,subscriptionStatus:"LOCAL",isPublishable:!1,modeValues:{},keyForPublish:r.key,status:v.E8.DELETED,deletedFromSceneGraph:!0,isSoftDeleted:!0,file_key:s,library_key:c,hasOnlyBeenReordered:!1});for(let t of Object.values(e)){let e=l[t.node_id],r=eI(t,e,eA);o[t.node_id]={...t,status:r,file_key:s,library_key:c,key:null==e?void 0:e.key,hasOnlyBeenReordered:t&&e&&t.version===e.version&&t.sortPosition!==e.sortPosition}}return o}),et=(0,m.Mz)([ee],e=>i()(Object.values(e),e=>e.variableSetId)),er=(0,f.P8)([e=>{let t={};return Object.entries(e.library.localVariableSetsById).forEach(([e,r])=>{r.isSoftDeleted||(t[e]=r)}),t},W,et,y.tB,R,P,F],(e,t,r,n,i,a,o)=>{let l=i===v.o.HUBFILE&&a?o:t,s=(null==n?void 0:n.key)??"",c=i===v.o.HUBFILE&&a?(0,E.lt)(a):v.Co,d={};for(let[t,r]of Object.entries(l))e.hasOwnProperty(t)||(d[t]={...r,subscriptionStatus:"LOCAL",modes:[],defaultModeID:"",isPublishable:!1,keyForPublish:r.key,status:v.E8.DELETED,deletedFromSceneGraph:!0,isSoftDeleted:!0,file_key:s,library_key:c,variableSetError:S.HG$.NONE});for(let t of Object.values(e)){let e=l[t.node_id],n=function(e,t,r){let n=eI(e,t,eC);if(n!==v.E8.CURRENT)return n;for(let e of r)if(e.status!==v.E8.CURRENT&&e.status!==v.E8.NOT_STAGED)return v.E8.CHANGED;return v.E8.CURRENT}(t,e,r[t.node_id]??[]);d[t.node_id]={...t,status:n,file_key:s,library_key:c,key:null==e?void 0:e.key}}return d}),en=(0,m.Mz)([X],e=>{let t={};for(let r of Object.values(e)){let e=(0,w.E2)(r);null!=e&&(t[e]=t[e]??[],t[e].push(r))}return t}),ei=(0,m.Mz)([X],e=>p()(e,e=>!(0,w.ad)(e)));function ea(e,t){return!!t&&!(t.version===e.version&&(0,I.pD)(t.name,null==e?void 0:e.name)&&(0,I.pD)(t.description,e.description))}(0,f.P8)([z],e=>Object.values(e).map(e=>e.key)),(0,f.P8)([z],e=>o()(Object.values(e),"key"));let eo=(0,m.Mz)([e=>e.library.local.modules,e=>e.library.openFilePublished__LIVEGRAPH.modules],(e,t)=>{if(!(0,h.kc)().dse_module_publish)return{};let r={};for(let n of Object.values(e)){let e=eI(n,t[n.node_id],ea);r[n.node_id]={...n,status:e}}return r}),el=(0,m.Mz)([eo],e=>(0,h.kc)().dse_editor_templates_v1?Object.fromEntries(Object.entries(e).filter(([,e])=>e.moduleSource===S.QjO.EDITOR_TEMPLATE)):{}),es=(0,m.Mz)([ei,Q],(e,t)=>({...e,...t}));(0,m.Mz)([es],e=>Object.values(e).filter(e=>(0,w.HF)(e.status)));let ec=(0,m.Mz)([es],e=>s()(e,e=>(0,w.CG)(e))),ed=(0,m.Mz)([es],e=>Object.values(e).some(e=>(0,w.HF)(e.status))),eu=(0,m.Mz)([eo],e=>Object.values(e).some(e=>(0,w.HF)(e.status))),ep=(0,m.Mz)([ed,eu],(e,t)=>e||t),em=(0,m.Mz)([es,C.Xt],(e,t)=>Object.keys(t).reduce((t,r)=>(e[r]&&(t[r]=e[r]),t),Object.create(null))),e_=(0,m.Mz)([eo,C.Xt],(e,t)=>Object.keys(t).reduce((t,r)=>(e[r]&&(t[r]=e[r]),t),Object.create(null))),eh=(0,m.Mz)([z,es,er,eo],(e,t,r,n)=>Object.keys(e).length>0||Object.keys(t).length>0||Object.keys(r).length>0||Object.keys(n).length>0),eg=(e,t)=>null!=e.status&&(!!(0,w.lg)(e.status)||!!(0,w.Hb)(e.status)&&(t?t.has(e.node_id):!!e.old_key)),ef=(e,t)=>eg(e,t)&&(0,w.HF)(e.status),eE=(0,m.Mz)([e=>e.userStateLoaded,e=>e.openFile,K,eh],(e,t,r,n)=>!e||!(null==t?void 0:t.canEdit)||!r&&!n),ey=(0,m.Mz)([X,Q,z,(e,t)=>t],ev),eb=(0,m.Mz)([X,Q,z],(e,t,r)=>ev(e,t,r,void 0));function ev(e,t,r,n){let i={...e,...t,...r},a=new Set(n?Object.keys(n).filter(e=>"FORCED_COPY"!==n[e].publishType):Object.values(i).filter(e=>!!e.old_key).map(e=>e.node_id));return Array.from(a).map(t=>e[t]&&(0,w.E2)(e[t])).filter(e=>!!e).forEach(e=>{a.add(e)}),a}let eI=(e,t,r)=>{let n=t&&null==t.unpublished_at,i="isSoftDeleted"in e&&e.isSoftDeleted,a=!!e.isPublishable&&!i;return n&&!a?v.E8.DELETED:!n&&a?v.E8.NEW:n||a?r(e,t)?v.E8.CHANGED:v.E8.CURRENT:v.E8.NOT_STAGED},eT=(e,t)=>!(t&&t.content_hash===(null==e?void 0:e.content_hash)&&(0,I.pD)(t.name,e.name)&&(0,I.pD)(t.description,e.description)),eS=(e,t)=>eT(e,t)||!(0,I.pD)(t.sort_position,e.sort_position),ew=(e,t)=>!(t&&t.version===e.version&&!(0,I.Q_)(t.containing_frame,null==e?void 0:e.containing_frame)&&(0,I.pD)(t.name,null==e?void 0:e.name)&&(0,I.pD)(t.description,e.description)),eA=(e,t)=>!e||!t||t.version!==e.version||t.sortPosition!==e.sortPosition,eC=(e,t)=>!(t&&t.version===(null==e?void 0:e.version));(0,f.P8)([z,G],(e,t)=>{let r=new Set;for(let n of Object.values(e)){let e=t[n.node_id],i=e&&null==e.unpublished_at,a=!!n.isPublishable;i&&a&&!eT(n,e)&&!(0,I.pD)(e.sort_position,n.sort_position)&&r.add(n.node_id)}return r});let eN=(e,t,r,n)=>{let[i,a]=d()(t,t=>eg(t,e)),[o,l]=d()(i,r),[s,c]=d()(a,e=>(0,w.HF)(e.status));return{modified:{erroneous:(0,_.Ul)(o,...n),wellFormed:(0,_.Ul)(l,...n)},unmodified:{published:(0,_.Ul)(s,...n),unpublished:(0,_.Ul)(c,...n)}}};function eO(e,t){return null==t?eR(e):eL(e,t)}let eL=(0,m.Mz)([z,X,Q,es,er,ee,eo,ey,(e,t)=>t],eP),eR=(0,m.Mz)([z,X,Q,es,er,ee,eo,eb],(e,t,r,n,i,a,o,l)=>eP(e,t,r,n,i,a,o,l,void 0));function eP(e,t,r,n,i,a,o,l,s){let c=(e,t)=>{if(!s)return 0;let r=s[e.node_id],n=s[t.node_id];return r&&n?"FORCED_COPY"===r.publishType&&"FORCED_COPY"!==n.publishType?1:"FORCED_COPY"!==r.publishType&&"FORCED_COPY"===n.publishType?-1:0:0},d=[...new Set(Object.values(a).filter(e=>!e.isPublishable).map(e=>e.variableSetId))].map(e=>i[e]).filter(e=>!!e);return{styles:eN(l,Object.values(e),()=>!1,[w.Lk,c]),components:eN(l,Object.values(t),w.zE,[w.gA,c]),stateGroups:eN(l,Object.values(r),w.zE,[w.gA,c]),productComponents:eN(l,Object.values(n),w.zE,[w.gA,c]),variableSets:eN(l,(0,h.kc)().ds_variables_extended_sets?Object.values(i):Object.values(i).filter(e=>!(0,v.GI)(e)),w.RQ,[w.MA]),variableSetsWithHiddenVariables:eN(l,d,()=>!1,[w.MA]),variables:eN(l,Object.values(a),()=>!1,[w.MA]),modules:eN(l,(0,h.kc)().dse_module_publish?Object.values(o):[],()=>!1,[w.gA])}}let ek=(0,f.P8)([et],e=>Object.fromEntries(Object.entries(e).map(([e,t])=>[e,eN(new Set,t,()=>!1,[w.MA])]))),eD=()=>(0,f.P8)([ek,(e,t)=>t],(e,t)=>{let r=e[t];return r?r.modified.wellFormed:[]}),eM=()=>(0,f.P8)([ek,(e,t)=>t],(e,t)=>{let r=e[t];return r?r.unmodified.unpublished.filter(e=>!e.isPublishable):[]}),ex=(0,m.Mz)([eO],e=>e.styles.modified.wellFormed),eF=(0,m.Mz)([z],e=>Object.values(e).filter(e=>ef(e))),eU=(0,m.Mz)([eO],e=>e.components.modified.wellFormed),eB=(0,m.Mz)([eO],e=>e.stateGroups.modified.wellFormed),eH=(0,m.Mz)([eO],e=>e.productComponents.modified.wellFormed),eV=(0,m.Mz)([eH],e=>e.filter(e=>(0,w.HF)(e.status))),eG=(0,m.Mz)([eO],e=>e.variableSets.modified.wellFormed),eW=(0,m.Mz)([eG],e=>e.filter(e=>(0,w.HF)(e.status))),eK=(0,m.Mz)([eO],e=>(0,h.kc)().dse_module_publish?e.modules.modified.wellFormed:[]),eY=(0,m.Mz)([eK],e=>e.filter(e=>(0,w.HF)(e.status))),ej=(0,m.Mz)([y.tB,N.P],(e,t)=>!!(0,h.kc)().cmty_lib_admin_publish&&null!=e&&!!e.publishedHubFile||!((0,h.kc)().ps_benchmark&&(0,T.jd)(null==e?void 0:e.project))&&!!(e&&(0,A.w5)(e.teamId?t[e.teamId]:null))),ez=ex,e$=(0,m.Mz)([ez],e=>e.length>0),eZ=(0,m.Mz)([eF],e=>e.length>0),eq=(0,m.Mz)([eU,ej],(e,t)=>t?e:[]),eJ=(0,m.Mz)([eB,ej],(e,t)=>t?e:[]),eX=(0,m.Mz)([eH,ej],(e,t)=>t?e:[]),eQ=(0,m.Mz)([eX],e=>e.length>0),e0=(0,m.Mz)([eV,ej],(e,t)=>t?e:[]),e1=(0,m.Mz)([e0],e=>e.length>0),e2=(0,m.Mz)([eG],e=>e),e3=(0,m.Mz)([e2],e=>e.length>0),e5=(0,m.Mz)([eW],e=>e),e4=(0,m.Mz)([e5],e=>e.length>0),e8=(0,m.Mz)([eK,ej],(e,t)=>t?e:[]),e6=(0,m.Mz)([e8],e=>e.length>0),e7=(0,m.Mz)([eY],e=>e.length>0),e9=(0,m.Mz)([ez,eX,e2,e8],(e,t,r,n)=>[...e,...t,...r,...n]),te=(0,m.Mz)([e9],e=>e.map(e=>e.node_id)),tt=(0,m.Mz)([e$,eQ,e3,e6],(e,t,r,n)=>e||t||r||n),tr=(0,m.Mz)([eZ,e1,e4,e7],(e,t,r,n)=>e||t||r||n),tn=(0,m.Mz)([em,eX],(e,t)=>t.some(t=>e[t.node_id])),ti=(0,m.Mz)([e_,e8],(e,t)=>t.some(t=>e[t.node_id])),ta=(0,m.Mz)([ec,b.c5],(e,t)=>({...t,...e})),to=(0,m.Mz)([e8],e=>e.map(e=>e.node_id))},57392:(e,t,r)=>{"use strict";r.d(t,{Bw:()=>G,I7:()=>J,Lc:()=>X,P1:()=>z,S9:()=>j,WE:()=>er,WJ:()=>q,Yy:()=>V,bA:()=>$,cb:()=>ee,ij:()=>x,j_:()=>K,jk:()=>Y,lm:()=>M,mO:()=>W,nm:()=>en,pk:()=>Q,t_:()=>et,wy:()=>ei});var n=r(695956),i=r.n(n),a=r(302245),o=r(966712),l=r(374626),s=r(38580),c=r(288706),d=r(97395),u=r(776621),p=r(515009),m=r(987918),_=r(416095),h=r(173454),g=r(974105),f=r(857766),E=r(852800),y=r(848661),b=r(529928),v=r(950919),I=r(49116),T=r(234945),S=r(388094),w=r(207584);function A(e,t,r,n,i){let a=Object.create(null);for(let{key:t,version:n}of e)if(t){if(t in r){let e=t;t=r[t],n=(null==i?void 0:i[e])===n?n:"FAKE_VERSION_FOR_MOVED_ITEM"}a[t]=a[t]||new Set,a[t].add(n)}for(let e of t)if(e in n){let t=n[e];a[t]=a[t]||new Set,a[t].add((0,p.Xf)("FAKE_VERSION_FOR_MOVED_ITEM"))}return a}let C=(0,a.Mz)([S._Q,T.O1,v.aR,v.BE,e=>{let{styles:t,destinationStyleKeyToLegacySourceStyle:r}=e.library.used__LIVEGRAPH;return Object.values(t).reduce((e,t)=>{if("loaded"!==t.status||!r[t.data.key])return e;let{key:n,version:i}=r[t.data.key];return e[n]=i,e},Object.create(null))}],A),N=(0,a.Mz)([S.m0,T.T_,v.aR,v.BE],A),O=(0,a.Mz)([S.v3],e=>A(e,[],{},{})),L=(0,a.Mz)([S.Du],e=>Object.values(e).reduce((e,t)=>(e.has(t.key)||e.set(t.key,new Set),t.pageIds.forEach(r=>{var n;return null==(n=e.get(t.key))?void 0:n.add(r)}),e),new Map));function R(e,t,r){if(0===e.size)return!1;if(1===e.size){let n=Array.from(e)[0],i=r(t);return(null==i?void 0:i.toLowerCase())!==n.toLowerCase()}return!0}function P({publishedAssetsByKey:e,usedVersionsByAssetKey:t,editingFile:r,getVersion:n,getUpdateAsset:i}){let a=[];for(let o of Object.keys(t)){let l=e[(0,p.sg)(o)];!(!l||r&&(0,f.dp)(r,l.file_key))&&R(t[(0,p.sg)(o)],l,n)&&a.push(i(l))}return a}let k=(0,a.Mz)([w.wi,C,g.d1,v.uB,v.tp,v.J8,S.tY,T.tX],(e,t,r,n,i,a,o,l)=>{let s=!1,c=[],d=!1;return{styleUpdatesForAllPages:P({publishedAssetsByKey:e,usedVersionsByAssetKey:t,editingFile:r,getVersion:e=>e.content_hash,getUpdateAsset:e=>{let t={...e,oldSubscribedKeysToUpdate:[],localIdsToUpdate:[]};if(e.key in n&&(t.oldSubscribedKeysToUpdate=Array.from(n[e.key]),!a[e.key]))for(let e of(s=!0,t.oldSubscribedKeysToUpdate))o.has(e)&&(d=!0);if(e.key in i){for(let r of(t.localIdsToUpdate=Array.from(i[e.key]),a[e.key]||(s=!0),t.localIdsToUpdate))if(l.has(r)){d=!0;break}}return(o.has(e.key)||t.oldSubscribedKeysToUpdate.some(e=>o.has(e))||t.localIdsToUpdate.some(e=>l.has(e)))&&c.push(t),t}}),styleUpdatesForCurrentPage:c,includesMoveUpdatesOnAnyPage:s,includesMoveUpdatesOnCurrentPage:d}}),D=(0,d.P8)([I.Ls,N],(e,t)=>{let r=Object.keys(t),n=Object.keys(e);return i()(r,n)}),M=(0,a.Mz)([D,I.m3,S.S_,T.dK],(e,t,r,n)=>{let i=new Map;if((0,o.kc)().ds_reset_deleted_state_default)for(let a of e){let e=r[a];if(!e)continue;let o=n.get(e.nodeId),l=null==o?void 0:o.parentNode;if(o&&l&&o.isState&&(null==l?void 0:l.stateGroupKey)){let e=t[l.stateGroupKey];e&&i.set(a,e)}}return i}),x=(0,a.Mz)([I.Ls,I.Wg,N,g.d1,v.uB,v.tp,S.ty,T.BA],(e,t,r,n,i,a,o,l)=>{var s,c,d;let u=!1,p=!1,m=P({publishedAssetsByKey:e,usedVersionsByAssetKey:r,editingFile:n,getVersion:e=>e.content_hash,getUpdateAsset:e=>{let t={...e,oldSubscribedKeysToUpdate:[],localIdsToUpdate:[]},r=e.component_key;if(r in i)for(let e of(t.oldSubscribedKeysToUpdate=Array.from(i[r]),u=!0,t.oldSubscribedKeysToUpdate))o.has(e)&&(p=!0);if(r in a){for(let e of(t.localIdsToUpdate=Array.from(a[r]),u=!0,t.localIdsToUpdate))if(l.has(e)){p=!0;break}}return t}}),_=[],h=[],g=[],f=[],E=new Set;for(let e of m){let r=null==(c=null==(s=e.containing_frame)?void 0:s.containingStateGroup)?void 0:c.nodeId;if(r){let n=null==(d=t[e.file_key])?void 0:d[r];if(n){let t=g.find(e=>e.key===n.key);if(null==t&&(t={...n,newStateKeyToOutdatedItems:{}},g.push(t)),e.component_key){let r=e.component_key;t.newStateKeyToOutdatedItems[r]={oldSubscribedKeysToUpdate:e.oldSubscribedKeysToUpdate,localIdsToUpdate:e.localIdsToUpdate},(o.has(e.component_key)||e.oldSubscribedKeysToUpdate.some(e=>o.has(e))||e.localIdsToUpdate.some(e=>l.has(e)))&&!E.has(n.key)&&(f.push(t),E.add(n.key))}}}else _.push(e),(e.component_key&&o.has(e.component_key)||e.oldSubscribedKeysToUpdate.some(e=>o.has(e))||e.localIdsToUpdate.some(e=>l.has(e)))&&h.push(e)}return{componentUpdatesForAllPages:_,stateGroupUpdatesForAllPages:g,includesMoveUpdatesOnAnyPage:u,componentUpdatesForCurrentPage:h,stateGroupUpdatesForCurrentPage:f,includesMoveUpdatesOnCurrentPage:p}}),F=(0,a.Mz)([I.a3,I.gJ,O,g.d1,L,e=>e.mirror.appModel.currentPage],(e,t,r,n,i,a)=>{var o;let l={},s=new Set,c=null==(o=E.glU)?void 0:o.getInternalCanvasNodeId();for(let o of Object.keys(r)){let d=e[(0,p.ey)(o)];if(!d||n&&(0,f.dp)(n,d.file_key))continue;let m=t[(0,p.yG)(d.variableCollectionKey)];if(!m)continue;let _=l[(0,p.yG)(d.variableCollectionKey)]||{...m,libraryVariableIdsForUpdate:[]};if((0,h.GI)(_)){(0,u.x1)("variables","Encountered variable bound to variable set extension");continue}let g=r[d.key];if(g&&R(g,d,e=>e.version)&&_.libraryVariableIdsForUpdate.push(d.node_id),_.libraryVariableIdsForUpdate.length>0&&(l[(0,p.yG)(m.key)]=_,i.has(m.key))){let e=i.get(m.key);((null==e?void 0:e.has(a))||c&&(null==e?void 0:e.has(c)))&&s.add(m.key)}}let d=Object.values(l),m=d.filter(e=>s.has(e.key));return{variableSetUpdatesForAllPages:d,variableSetUpdatesForCurrentPage:m}}),U=(0,b.bt)(x),B=(0,b.bt)(k),H=(0,b.bt)(F),V=(0,l.Iz)(e=>(0,s.eU)(t=>{let{componentUpdatesForAllPages:r,componentUpdatesForCurrentPage:n}=t(U);return e===_.aD.ALL?r:n})),G=(0,l.Iz)(e=>(0,s.eU)(t=>{let{stateGroupUpdatesForAllPages:r,stateGroupUpdatesForCurrentPage:n}=t(U);return e===_.aD.ALL?r:n})),W=(0,l.Iz)(e=>(0,s.eU)(t=>{let{styleUpdatesForAllPages:r,styleUpdatesForCurrentPage:n}=t(B);return e===_.aD.ALL?r:n})),K=(0,c.mg)(B,e=>e.styleUpdatesForAllPages),Y=(0,l.Iz)(e=>(0,s.eU)(t=>{let{variableSetUpdatesForAllPages:r,variableSetUpdatesForCurrentPage:n}=t(H);return e===_.aD.ALL?r:n})),j=(0,s.eU)(e=>{let{componentUpdatesForAllPages:t,stateGroupUpdatesForAllPages:r,includesMoveUpdatesOnAnyPage:n}=e(U),{styleUpdatesForAllPages:i,includesMoveUpdatesOnAnyPage:a}=e(B),{variableSetUpdatesForAllPages:o}=e(H);return{componentUpdatesForAllPages:t,stateGroupUpdatesForAllPages:r,styleUpdatesForAllPages:i,variableSetUpdatesForAllPages:o,includesMoveStyleUpdatesOnAnyPage:a,includesMoveComponentUpdatesOnAnyPage:n}}),z=(0,s.eU)(e=>{let{componentUpdatesForCurrentPage:t,stateGroupUpdatesForCurrentPage:r,includesMoveUpdatesOnCurrentPage:n}=e(U),{styleUpdatesForCurrentPage:i,includesMoveUpdatesOnCurrentPage:a}=e(B),{variableSetUpdatesForCurrentPage:o}=e(H);return{componentUpdatesForCurrentPage:t,stateGroupUpdatesForCurrentPage:r,styleUpdatesForCurrentPage:i,variableSetUpdatesForCurrentPage:o,includesMoveStyleUpdatesOnCurrentPage:a,includesMoveComponentUpdatesOnCurrentPage:n}}),$=(0,l.Iz)(e=>(0,s.eU)(t=>{let{componentUpdatesForAllPages:r,stateGroupUpdatesForAllPages:n,styleUpdatesForAllPages:i,variableSetUpdatesForAllPages:a}=t(j),{componentUpdatesForCurrentPage:o,stateGroupUpdatesForCurrentPage:l,styleUpdatesForCurrentPage:s,variableSetUpdatesForCurrentPage:c}=t(z);return e===_.aD.ALL?{scopedComponentUpdates:r,scopedStateGroupUpdates:n,scopedStyleUpdates:i,scopedVariableSetUpdates:a}:{scopedComponentUpdates:o,scopedStateGroupUpdates:l,scopedStyleUpdates:s,scopedVariableSetUpdates:c}})),Z=(0,c.mg)(j,({componentUpdatesForAllPages:e,stateGroupUpdatesForAllPages:t,styleUpdatesForAllPages:r,variableSetUpdatesForAllPages:n,includesMoveStyleUpdatesOnAnyPage:i,includesMoveComponentUpdatesOnAnyPage:a})=>{let o=e.length+t.length+r.length+n.length;return{updateCount:o,hasUpdates:o>0,includesMoveStyleUpdatesOnAnyPage:i,includesMoveComponentUpdatesOnAnyPage:a}}),q=(0,c.mg)(z,({componentUpdatesForCurrentPage:e,stateGroupUpdatesForCurrentPage:t,styleUpdatesForCurrentPage:r,variableSetUpdatesForCurrentPage:n,includesMoveStyleUpdatesOnCurrentPage:i,includesMoveComponentUpdatesOnCurrentPage:a})=>{let o=e.length+t.length+r.length+n.length;return{updateCount:o,hasUpdates:o>0,includesMoveStyleUpdatesOnCurrentPage:i,includesMoveComponentUpdatesOnCurrentPage:a}}),J=(0,c.mg)(Z,({hasUpdates:e})=>e),X=(0,c.mg)(q,({hasUpdates:e})=>e),Q=(0,l.Iz)(e=>(0,s.eU)(t=>t(e===_.aD.ALL?Z:q).hasUpdates)),ee=(0,c.mg)(Z,({updateCount:e})=>e);(0,c.mg)(q,({updateCount:e})=>e);let et=(0,l.p6)([j],({componentUpdatesForAllPages:e,stateGroupUpdatesForAllPages:t,styleUpdatesForAllPages:r,variableSetUpdatesForAllPages:n})=>({componentUpdateKeys:(0,_.X7)(e),stateGroupUpdateKeys:(0,_.X7)(t),styleUpdateKeys:(0,_.X7)(r),variableSetKeys:(0,_.X7)(n)})),er=(0,b.bt)(e=>e.library.libraryUpdatesBannerDismissed);function en(e,t){var r;let n=(0,T.dK)(e).get((0,m.dI)(null==(r=(0,y.E7)(t))?void 0:r.guid)??m.AD);if(!n)return null;let i=n.guid,a=n.styleKey,o=n.styleVersionHash;return a&&o?{GUID:i,key:a,version:o,isLocalStyle:n.isLocalStyle}:null}let ei=(0,s.eU)(!1)},950919:(e,t,r)=>{"use strict";r.d(t,{BE:()=>d,J8:()=>_,Q$:()=>h,aR:()=>c,tp:()=>m,uB:()=>p});var n=r(302245),i=r(97395),a=r(515009),o=r(529928),l=r(207584);let s=e=>e.library.movedLibraryItems,c=(0,n.Mz)([(0,i.Vh)(s,e=>e.subscribed),l.og],(e,t)=>({...e,...t})),d=(0,n.Mz)([s,l.KM],(e,t)=>({...e.local,...t}));function u(e){let t=Object.create(null);for(let r in e){let n=e[(0,a.sg)(r)];t[n]=t[n]||new Set,t[n].add((0,a.sg)(r))}return t}let p=(0,n.Mz)([c],u),m=(0,n.Mz)([d],u),_=e=>e.library.used__LIVEGRAPH.destinationStyleKeyToLegacySourceStyle,h=(0,o.bt)(_)},234945:(e,t,r)=>{"use strict";r.d(t,{$4:()=>_,$J:()=>d,$u:()=>h,AF:()=>u,BA:()=>S,F4:()=>E,O1:()=>b,RW:()=>y,T_:()=>T,Xt:()=>o,dK:()=>l,dT:()=>g,f5:()=>w,nj:()=>s,qd:()=>c,rT:()=>f,t:()=>m,tX:()=>v,tn:()=>I});var n=r(302245),i=r(97395),a=r(529928);let o=e=>e.mirror.sceneGraphSelection,l=e=>e.mirror.sceneGraph,s=e=>e.mirror.appModel,c=(0,i.Zm)(e=>Object.keys(o(e)));function d(e){let t=Object.keys(o(e));return 1===t.length?t[0]:null}let u=(0,n.Mz)([l,d],(e,t)=>t?e.get(t):null),p=()=>(e,t)=>l(e).get(t);function m(){let e=p();return(0,i.Zm)((t,r)=>{let n=e(t,r);return null==n?null:{key:n.styleKey,version:n.styleVersionHash}})}function _(){let e=m();return(0,i.Zm)((t,r)=>new Map(r.map(r=>[r,e(t,r)])))}function h(e){return e.mirror.selectionProperties.numSelected||0}let g=(0,i.P8)([c,l],f);function f(e,t){let r=[];return e.forEach(e=>{let n=t.get(e);((null==n?void 0:n.type)==="INSTANCE"||(null==n?void 0:n.isInstanceSublayer))&&r.push(e)}),r}let E=(0,n.Mz)([l,c],(e,t)=>{let r=[];return t.forEach(t=>{let n=e.get(t);n&&r.push(n)}),r}),y=(0,i.Zm)(e=>e.library.publishableStyles.map(e=>e.nodeId)),b=(0,i.Zm)(e=>e.library.localStylesThatHaveUsagesOnLoadedPages),v=(0,i.Zm)(e=>new Set(e.library.localStylesThatHaveUsagesOnCurrentPage)),I=(0,a.bt)(b),T=(0,i.Zm)(e=>e.library.localSymbolsThatHaveUsagesOnLoadedPages),S=(0,i.Zm)(e=>new Set(e.library.localSymbolsThatHaveUsagesOnCurrentPage));function w(e,t){var r;return!(null==(r=l(e).get(t))?void 0:r.visible)}},388094:(e,t,r)=>{"use strict";r.d(t,{C9:()=>w,Co:()=>v,Du:()=>_,EY:()=>N,J5:()=>A,LL:()=>k,MH:()=>L,No:()=>g,OQ:()=>R,S_:()=>h,_Q:()=>E,jf:()=>C,kc:()=>O,m0:()=>u,qC:()=>F,sm:()=>x,tY:()=>M,ty:()=>P,v3:()=>m});var n=r(89865),i=r.n(n),a=r(184058),o=r.n(a),l=r(302245),s=r(97395),c=r(529928);function d(e){return(0,s.Vh)(e=>e.library,e)}let u=d(e=>e.subscribedSymbolsFromLoadedPages),p=d(e=>e.subscribedSymbolsOnCurrentPage),m=(0,s.P8)([e=>e.library.subscribedVariablesByIdFromLoadedPages],e=>Object.values(e)),_=e=>e.library.subscribedVariableSetsByIdFromLoadedPages,h=(0,l.Mz)([u],e=>i()(e,e=>e.key)),g=d(e=>e.subscribedStateGroupsFromLoadedPages),f=d(e=>e.subscribedStateGroupsOnCurrentPage),E=d(e=>e.directlySubscribedStylesFromLoadedPages),y=d(e=>e.directlySubscribedStylesOnCurrentPage),b=d(e=>e.indirectlySubscribedStylesFromLoadedPages),v=(0,l.Mz)([b],e=>e.length>0),I=(0,l.Mz)([E,b],(e,t)=>[...e,...t]);function T(e){return e.map(e=>e.nodeId)}function S(e){return o()(e.map(e=>e.key))}let w=(0,l.Mz)([u],T),A=(0,l.Mz)([p],T),C=(0,l.Mz)([g],T),N=(0,l.Mz)([f],T),O=(0,l.Mz)([E],T);(0,l.Mz)([y],T);let L=(0,l.Mz)([I],T),R=(0,l.Mz)([u],S),P=(0,l.Mz)([p],e=>new Set(e.map(e=>e.key))),k=(0,l.Mz)([g],S),D=(0,l.Mz)([E],S),M=(0,l.Mz)([y],e=>new Set(e.map(e=>e.key))),x=(0,c.bt)(D),F=(0,l.Mz)([I],S)},207584:(e,t,r)=>{"use strict";r.d(t,{KM:()=>l,n1:()=>s,og:()=>o,wi:()=>c});var n=r(302245),i=r(515009),a=r(529928);let o=e=>e.library.used__LIVEGRAPH.sourceAssetKeyToDestinationKey,l=e=>e.library.used__LIVEGRAPH.localNodeIdToDestinationKey,s=(0,a.bt)(e=>e.library.used__LIVEGRAPH.sourceAssetKeyToFileName),c=(0,n.Mz)([e=>e.library.used__LIVEGRAPH.styles],function(e){let t={};for(let[r,n]of Object.entries(e))"loaded"===n.status&&(t[(0,i.n3)(r)]=n.data);return t})},837502:(e,t,r)=>{"use strict";r.d(t,{Bg:()=>d,Cy:()=>p,Q3:()=>u,Vq:()=>s,d6:()=>c,l2:()=>l}),r(939863);var n=r(139961),i=r(594901),a=r(643067),o=r(428467);function l(e,t,r){return!!e&&(0,a.F8)(e)===n.$q.TEAM_CREATION_CONTROLS_ADMIN_ONLY&&!(t||r)}function s(e){let t=(0,i.FC)(),r=(0,o.canAdminOrg)(t.currentUserOrgId,t),n=!!e&&(0,o.canAdminLicenseGroup)(e,t),a=l(t.currentUserOrgId?t.orgById[t.currentUserOrgId]:null,r,n);return{canUserAdminOrg:r,canUserAdminLicenseGroup:n,teamCreationIsDisabled:a}}function c(e){switch(e){case null:case void 0:return n.w_.ALLOWED;default:return e}}function d(e){return c(null==e?void 0:e.public_link_controls_setting)===n.w_.BANNED}function u(e){return[n.w_.EXPIRATION_REQUIRED,n.w_.EXP_AND_PWD_REQUIRED].includes(c(null==e?void 0:e.public_link_controls_setting))}function p(e){return[n.w_.PASSWORD_REQUIRED,n.w_.EXP_AND_PWD_REQUIRED].includes(c(null==e?void 0:e.public_link_controls_setting))}},58032:(e,t,r)=>{"use strict";r.d(t,{Ly:()=>N,Sp:()=>x,gM:()=>R,je:()=>A,l6:()=>C,zN:()=>O});var n=r(411855),i=r(188507),a=r(35645),o=r.n(a),l=r(758271),s=r.n(l),c=r(717068),d=r(44948),u=r(966712),p=r(374626),m=r(309225),_=r(499737),h=r(572174),g=r(30637),f=r(963067),E=r(298527),y=r(335682),b=r(279453),v=r(639135),I=r(999881),T=r(609822),S=(e=>(e.COMMUNITY="community",e.ORGANIZATION="organization",e.WORKSPACE="workspace",e.TEAM="team",e.FILE="file",e.USER="user",e))(S||{});let w=n.createContext(null);function A(){let{subscription:e,ensureSubscription:t}=(0,h.sR)(n.useContext(w),"Must call `useSubscribedLibraries` from within <SubscribedLibrariesContext>");n.useEffect(()=>{t()},[t]);let r=n.useMemo(()=>(0,_.gB)([]),[]);return(0,g.nl)()?r:e}function C(){let e=A();return(0,d.k9)(()=>{var t;let r=new Set;return null==(t=e.data)||t.forEach(e=>r.add(e.fileKey)),r},[e.data])}function N(){let{untransformedSubscription:e}=(0,h.sR)(n.useContext(w),"Must call `useSubscribedLibraries` from within <SubscribedLibrariesContext>");if("loaded"!==e.status)return{};let t={},{file:r}=e.data;return(null==r?void 0:r.libraryOrgSubscriptions.length)&&(t.org=r.libraryOrgSubscriptions.reduce((e,t)=>{var r,n;let i=null==(n=null==(r=t.library)?void 0:r.file)?void 0:n.key;return i&&e.add(i),e},new Set)),(null==r?void 0:r.libraryTeamSubscriptions.length)&&(t.team=r.libraryTeamSubscriptions.reduce((e,t)=>{var r,n;let i=null==(n=null==(r=t.library)?void 0:r.file)?void 0:n.key;return i&&e.add(i),e},new Set)),(null==r?void 0:r.libraryFileSubscriptions.length)&&(t.file=r.libraryFileSubscriptions.reduce((e,t)=>{var r,n;let i=null==(n=null==(r=t.library)?void 0:r.file)?void 0:n.key;return i&&e.add(i),e},new Set)),(null==r?void 0:r.libraryUserSubscriptions.length)&&(t.user=r.libraryUserSubscriptions.reduce((e,t)=>{var r,n;let i=null==(n=null==(r=t.library)?void 0:r.file)?void 0:n.key;return i&&e.add(i),e},new Set)),t}function O({children:e}){var t;let r=(0,y.q5)(),a=(0,i.d4)(T.D),o=!!(a&&(null==r?void 0:r.folderId)===a);(0,p.md)((0,b.fy7)({group:(0,I.M)()}));let[l,s]=n.useState(!1),c=null==r?void 0:r.key,d=null==r?void 0:r.teamId,u=null==(t=null==r?void 0:r.team)?void 0:t.workspaceId,m=null==r?void 0:r.parentOrgId,h=(0,_.Rs)(b.DtB,{fileKey:c||"",teamId:d??"-1",workspaceId:u||null,orgId:m||null,group:(0,I.M)()??null},{enabled:!!r&&l}),g=function(e,t){var r;let i=(0,E.n1)(),a=(0,v.dP)(),o=null==(r=(0,f.yy)())?void 0:r.id;return n.useMemo(()=>R(e,t,a,i,o??null),[e,t,a,i,o])}(h,o),S=n.useMemo(()=>({subscription:g,ensureSubscription:()=>s(!0),untransformedSubscription:h}),[h,g]);return n.createElement(n.Fragment,null,n.createElement(w.Provider,{value:S},e),l&&n.createElement(L,{subscription:g}))}function L({subscription:e}){return(0,m.ap)(e,"Subscribed Libraries Subscription Load Time",{numLibraries:"loaded"===e.status?e.data.length:0}),null}function R(e,t,r,n,i){var a,l,d;if("loading"===e.status||"errors"===e.status||"disabled"===e.status)return e;let p=e.data.file;if(null==p)return(0,_.gB)([]);let m=e.data.libraryPresetSubscriptionsV2,g=r(),f=g||n,E=(0,_.oA)(m)??[],y=p.libraryOrgSubscriptions,b=null==(l=null==(a=p.team)?void 0:a.workspace)?void 0:l.librarySubscriptions,v=p.libraryTeamSubscriptions,I=p.libraryUserSubscriptions,T=p.libraryFileSubscriptions,S=p.communityQuickstartLibraries,w=p.communityLibraryFileSubscriptions,A=[...y.filter(e=>f||!(0,_.oA)(e.communityLibrary)).filter(e=>t?null==(e.libraryFileSubscriptionOverride||e.libraryUserSubscriptionOverride):null==(e.libraryFileSubscriptionOverride||e.libraryWorkspaceSubscriptionOverride||e.libraryTeamSubscriptionOverride)).map(e=>P(e,"organization")),...T.filter(e=>f||!(0,_.oA)(e.communityLibrary)).map(e=>P(e,"file"))];if(n&&!i){let e=E.filter(e=>t?null==(e.libraryFileSubscriptionOverride||e.libraryUserSubscriptionOverride):null==(e.libraryOrgSubscriptionOverride||e.libraryWorkspaceSubscriptionOverride||e.libraryTeamSubscriptionOverride||e.libraryFileSubscriptionOverride)).map(e=>k(e,"community"));A.push(...e)}else if(g){let[e,t]=o()(w,e=>e.isSubscribed),r=e.map(e=>k(e,"file")).filter(h.Vq),n=new Set(t.map(e=>{var t;return null==(t=e.communityLibrary)?void 0:t.hubFileId}).filter(h.Vq)),i=(S??[]).filter(e=>e.communityLibrary&&!n.has(e.communityLibrary.hubFileId)).map(e=>k(e,"file")).filter(h.Vq);A.push(...r),A.push(...i)}if(t){let e=I.filter(e=>f||!(0,_.oA)(e.communityLibrary)).filter(e=>{var t,r;return(0,_.oA)(e.communityLibrary)?null==e.libraryFileSubscriptionOverride:null==e.libraryFileSubscriptionOverride&&(null==(r=null==(t=e.library)?void 0:t.file)?void 0:r.parentOrgId)===i}).map(e=>P(e,"user")),t=(null==(d=function(e){var t,r,n,i;let a=(0,u.kc)().ps_benchmark,o=null==e?void 0:e.teamId;return a&&o?null==(r=null==(t=null==e?void 0:e.currentUser)?void 0:t.orgAwareTeamRoles)?void 0:r.filter(e=>{var t;return(null==(t=e.team)?void 0:t.id)===o}).map(e=>{var t;return null==(t=e.team)?void 0:t.libraryTeamSubscriptions}).filter(h.Vq):null==(i=null==(n=null==e?void 0:e.currentUser)?void 0:n.orgAwareTeamRoles)?void 0:i.map(e=>{var t;return null==(t=e.team)?void 0:t.libraryTeamSubscriptions}).filter(h.Vq)}(p))?void 0:d.map(e=>e.filter(e=>f||!(0,_.oA)(e.communityLibrary)).filter(M).map(e=>P(e,"team"))))??[];A.push(...e),A.push(...(0,c.Bq)(t))}else{let e=v.filter(e=>f||!(0,_.oA)(e.communityLibrary)).filter(D).map(e=>P(e,"team")),t=(b||[]).filter(e=>f||!(0,_.oA)(e.communityLibrary)).filter(e=>null==(e.libraryFileSubscriptionOverride||e.libraryTeamSubscriptionOverride)).filter(e=>e.isSubscribed).map(e=>P(e,"workspace"));A.push(...e),A.push(...t)}let C=s()(A.filter(h.Vq),e=>e.fileKey);return(0,c.KQ)(C,"name"),(0,_.gB)(C)}function P(e,t){let r=e.communityLibrary&&(0,_.oA)(e.communityLibrary);return r?k({communityLibrary:r},t):e.library&&e.library&&e.library.file?{fileKey:e.library.file.key,name:e.library.file.name,numComponents:e.library.numComponents??0,numStateGroups:e.library.numStateGroups??0,numStyles:e.library.numStyles??0,numStylesFill:e.library.numStylesFill??0,numStylesText:e.library.numStylesText??0,numStylesEffect:e.library.numStylesEffect??0,numStylesGrid:e.library.numStylesGrid??0,numVariables:e.library.numVariables??0,numVariablesBoolean:e.library.numVariablesBoolean??0,numVariablesFloat:e.library.numVariablesFloat??0,numVariablesColor:e.library.numVariablesColor??0,numVariablesString:e.library.numVariablesString??0,...(0,u.kc)().dse_module_publish?{numModuleAssets:(0,_.oA)(e.library.numModuleAssets)??0}:null,parentOrgId:e.library.file.parentOrgId,subscriptionType:t,thumbnailUrl:e.library.file.thumbnailUrl,thumbnailUrlOverride:e.library.file.thumbnailUrlOverride,thumbnailGuid:e.library.file.thumbnailGuid}:null}function k(e,t){return(null==e?void 0:e.communityLibrary)?{fileKey:e.communityLibrary.hubFileId,name:e.communityLibrary.name,numComponents:e.communityLibrary.numComponents??0,numStateGroups:e.communityLibrary.numStateGroups??0,numStyles:e.communityLibrary.numStyles??0,numStylesFill:e.communityLibrary.numStylesFill??0,numStylesText:e.communityLibrary.numStylesText??0,numStylesEffect:e.communityLibrary.numStylesEffect??0,numStylesGrid:e.communityLibrary.numStylesGrid??0,numVariables:e.communityLibrary.numVariables??0,numVariablesBoolean:e.communityLibrary.numVariablesBoolean??0,numVariablesFloat:e.communityLibrary.numVariablesFloat??0,numVariablesColor:e.communityLibrary.numVariablesColor??0,numVariablesString:e.communityLibrary.numVariablesString??0,...(0,u.kc)().dse_module_publish?{numModuleAssets:(0,_.oA)(e.communityLibrary.numModuleAssets)??0}:null,parentOrgId:null,subscriptionType:t,thumbnailUrl:e.communityLibrary.hubFile.thumbnailUrl,thumbnailUrlOverride:null,thumbnailGuid:null}:null}function D(e){return null==e.libraryFileSubscriptionOverride}function M(e){return null==(e.libraryFileSubscriptionOverride||e.libraryUserSubscriptionOverride)}function x(e,t){switch(t){case"FILL":return e.numStylesFill;case"TEXT":return e.numStylesText;case"EFFECT":return e.numStylesEffect;case"GRID":return e.numStylesGrid;default:return 0}}},937890:(e,t,r)=>{"use strict";r.d(t,{OL:()=>s,VE:()=>d,_M:()=>c,jx:()=>l,wZ:()=>o});var n=r(27087),i=r(129318),a=r(147206);function o(e,t){return n.Ay.put("/api/team_join_link",{team_id:e,level:t}).then(({data:e})=>e.meta).catch(e=>{throw e})}function l(e){return`${window.location.origin}/team_invite/redeem/${e.token}`}let s=e=>`RETRIEVING_TEAM_JOIN_LINK_${e}`,c=e=>`RESETTING_TEAM_JOIN_LINK_${e}`;function d(){let e=(0,i.QL)("team_role_redemption"),t=!!e&&parseInt(e),r=t&&(0,a.q9)(t),n=(0,i.QL)("team_name");return n&&r?(0,i.QL)("skipped")?`You're already ${"owner"===r?"the":"a"} team ${r} of ${n}`:`You're now a team ${r} of ${n}`:void 0}},984968:(e,t,r)=>{"use strict";r.d(t,{$w:()=>H,BU:()=>L,Ce:()=>R,Cl:()=>z,Ct:()=>eo,Dj:()=>O,Eq:()=>$,FQ:()=>F,H7:()=>ee,HE:()=>j,Me:()=>Q,PS:()=>U,R5:()=>w,Rq:()=>V,UQ:()=>B,ZP:()=>W,ZT:()=>q,_L:()=>et,cD:()=>J,cU:()=>k,dE:()=>er,mx:()=>A,n$:()=>ei,ol:()=>X,pG:()=>ea,pe:()=>G,rR:()=>x,sK:()=>D,yR:()=>en,zs:()=>P});var n=r(188507),i=r(717068),a=r(935283),o=r(966712),l=r(309225),s=r(886653),c=r(939863),d=r(99506),u=r(279453),p=r(243987),m=r(428467),_=r(626322);r(945020);var h=r(668860),g=r(840912),f=r(668526),E=r(479296),y=r(776621),b=r(304783),v=r(875847),I=r(529928),T=r(691205),S=r(147206);async function w(e){let t=[],r={};return await Promise.all(e.map(async e=>{var n;let i=await T.M4.fetchFile(e);if(!(null==i?void 0:i.trashed_at)||!(null==i?void 0:i.team_id))return;t.push(i);let a=null==(n=(await (0,l.Ek)(u.Aqu,{teamId:i.team_id})).data)?void 0:n.team;(null==a?void 0:a.id)&&(r[a.id]=a)})),await C(t,r)}async function A(e){let t=[],r={};return await Promise.all(e.map(async e=>{var n,i;let a={...await T.M4.fetchFile(e.key),folder_id:e.folderId};if(a&&t.push(a),!e.folderId)return;let o=null==(i=null==(n=(await (0,l.Ek)(u.yU5,{projectId:e.folderId})).data)?void 0:n.project)?void 0:i.team;(null==o?void 0:o.id)&&(r[o.id]=o)})),await C(t,r)}let C=(0,E.D)(async(e,t)=>{let r={},n={},i={};for(let t of e){if(!t.folder_id)continue;let e=i[t.folder_id]??await T.M4.fetchFolder(t.folder_id);i[t.folder_id]=e;let a=(null==t?void 0:t.editor_type)==="design",o=(null==t?void 0:t.editor_type)==="whiteboard",l=(0,v.ye)(e)?0:1;t.team_id&&a&&(r[t.team_id]=(r[t.team_id]||0)+l),t.team_id&&o&&(n[t.team_id]=(n[t.team_id]||0)+l)}let a=Object.keys(r).find(e=>{var n;let i=t[e];return i&&!M(i,{type:2,nDesignFilesToAdd:r[e],nCurrentDesignFiles:(null==(n=i.teamFileCounts)?void 0:n.designFileCount)||0})});return a||(a=Object.keys(n).find(e=>{var r;let i=t[e];return i&&!M(i,{type:5,nWhiteboardFilesToAdd:n[e],nCurrentWhiteboardFiles:(null==(r=i.teamFileCounts)?void 0:r.whiteboardFileCount)||0})}))});function N(e,t){return!!e.edit_roles&&("whiteboard"===t&&e.edit_roles.whiteboard_files.length>0||"design"===t&&e.edit_roles.design_files.length>0)}function O(e){var t,r;let n=null==(t=e.team_role)?void 0:t.level,i=(null==(r=e.team_role)?void 0:r.pending)||!1;return n&&n>=h.e6.EDITOR&&!i||!!e.edit_roles&&e.edit_roles.folders.length>0||!(0,S.qR)(e.team_user,d._Y.DESIGN)&&N(e,d._Y.DESIGN)||!(0,S.qR)(e.team_user,d._Y.WHITEBOARD)&&N(e,d._Y.WHITEBOARD)}function L(e){var t,r,n,i,a,o,l,s;return!!e.team_role||((null==(r=null==(t=null==e?void 0:e.edit_roles)?void 0:t.design_files)?void 0:r.length)||0)>0||((null==(i=null==(n=null==e?void 0:e.edit_roles)?void 0:n.whiteboard_files)?void 0:i.length)||0)>0||((null==(o=null==(a=null==e?void 0:e.edit_roles)?void 0:a.folders)?void 0:o.length)||0)>0||((null==(l=null==e?void 0:e.view_roles)?void 0:l.file_count)||0)>0||((null==(s=null==e?void 0:e.view_roles)?void 0:s.folder_count)||0)>0}function R(e){return((0,S.y5)(e.team_user,d._Y.DESIGN)||(0,S.y5)(e.team_user,d._Y.WHITEBOARD))&&!L(e)}let P=e=>{var t;return!!(null==(t=null==e?void 0:e.restrictions_list)?void 0:t.includes(d.P4.FILES_LIMITED_LEGACY))},k=e=>{var t;return!!(null==(t=null==e?void 0:e.restrictions_list)?void 0:t.includes(d.P4.WHITEBOARD_FILES_LIMITED_BETA))};var D=(e=>(e[e.ADD_DESIGN_FILE=0]="ADD_DESIGN_FILE",e[e.ADD_PROJECT=1]="ADD_PROJECT",e[e.ADD_N_DESIGN_FILES=2]="ADD_N_DESIGN_FILES",e[e.ADD_EDITOR=3]="ADD_EDITOR",e[e.ADD_FIGJAM_FILE=4]="ADD_FIGJAM_FILE",e[e.ADD_N_FIGJAM_FILES=5]="ADD_N_FIGJAM_FILES",e[e.ADD_SLIDES_FILE=6]="ADD_SLIDES_FILE",e))(D||{});function M(e,t){var r,n,i,a,o,l,s,c,u,m,_,h;if(!e||(null==(r=e.restrictionsList)?void 0:r.includes(d.P4.LOCKED)))return!1;if((0,p.XX)(e))return!0;switch(t.type){case 0:if(null==(n=e.restrictionsList)?void 0:n.includes(d.P4.FILES_LIMITED_LEGACY))return!1;if(t.isDestinationTeamDrafts)return!0;if(t.nCurrentDesignFiles&&t.nCurrentDesignFiles>=p.WW)return!1;return!(null==(i=e.restrictionsList)?void 0:i.includes(d.P4.FILES_LIMITED));case 1:return!(null==(a=e.restrictionsList)?void 0:a.includes(d.P4.PROJECTS_LIMITED))&&!(null==(o=e.restrictionsList)?void 0:o.includes(d.P4.PROJECTS_LIMITED_LEGACY));case 2:if(null==(l=e.restrictionsList)?void 0:l.includes(d.P4.FILES_LIMITED_LEGACY))return!1;if(t.isDestinationTeamDrafts||0===t.nDesignFilesToAdd)return!0;if(t.nCurrentDesignFiles+t.nDesignFilesToAdd>p.WW)return!1;return!(null==(s=e.restrictionsList)?void 0:s.includes(d.P4.FILES_LIMITED));case 3:if(null==(c=e.restrictionsList)?void 0:c.includes(d.P4.EDITORS_LIMITED))return!1;return!0;case 4:if(null==(u=e.restrictionsList)?void 0:u.includes(d.P4.WHITEBOARD_FILES_LIMITED_BETA))return!1;if(t.isDestinationTeamDrafts)return!0;if(t.nCurrentWhiteboardFiles&&t.nCurrentWhiteboardFiles>=p.WW)return!1;return!(null==(m=e.restrictionsList)?void 0:m.includes(d.P4.WHITEBOARD_FILES_LIMITED));case 5:if(null==(_=e.restrictionsList)?void 0:_.includes(d.P4.WHITEBOARD_FILES_LIMITED_BETA))return!1;if(t.isDestinationTeamDrafts||0===t.nWhiteboardFilesToAdd)return!0;if(t.nCurrentWhiteboardFiles+t.nWhiteboardFilesToAdd>p.WW)return!1;return!(null==(h=e.restrictionsList)?void 0:h.includes(d.P4.WHITEBOARD_FILES_LIMITED));case 6:return!0}}function x(e,t){return M({subscription:e.subscription,restrictionsList:e.restrictions_list||[],studentTeamAt:e.student_team?new Date:null,gracePeriodEnd:e.grace_period_end?new Date(e.grace_period_end):null},t)}function F(e){var t;let r=Object.values(e.teams),n=Object.values(e.authedTeamsById);if(1===r.length&&(0,m.canAdminTeam)(r[0].id,e))return r[0];if(0===r.length&&1===n.length){let r=null==(t=e.user)?void 0:t.id;if(r)return e.teamAdminRolesForAuthedUsers[r].find(e=>e.team_id===n[0].id)?n[0]:null}return null}function U(e){return!!e.student_team||!!e&&!!e.subscription&&[d.Qh.OK,d.Qh.GRACE_PERIOD].includes(e.subscription)}function B(e){var t,r,n,i,a,o;let l=null==(t=e.user)?void 0:t.id,s=null==(r=e.openFile)?void 0:r.key;if(!l||!s)return null;let c=null==(i=null==(n=e.fileByKey)?void 0:n[s])?void 0:i.team_id;return c?null==(o=null==(a=e.teamUserByTeamId)?void 0:a[c])?void 0:o[l]:null}function H(){return(0,n.d4)(e=>{var t,r,n;let i=null==(t=e.user)?void 0:t.id;return i?(null==(n=null==(r=e.teamUserByTeamId)?void 0:r[q(e)])?void 0:n[i])??null:null})}function V(e){switch(e){case g.d.NAME:return(0,c.t)("team_view.team_members_table_column.name");case g.d.ACTIVE_AT:return(0,c.t)("team_view.team_members_table_column.active_at");case g.d.PERMISSIONS:return(0,c.t)("team_view.team_members_table_column.team_permissions");case g.d.DESIGN_PAID_STATUS:return(0,c.t)("team_view.team_members_table_column.design_role.seat_rename");case g.d.FIGJAM_PAID_STATUS:return(0,c.t)("team_view.team_members_table_column.figjam_role.seat_rename");default:(0,a.xb)(e)}}function G(e){switch(e){case f.I.DASHBOARD:return(0,c.t)("team_view.toolbar.dashboard");case f.I.MEMBERS:return(0,c.t)("team_view.toolbar.members");case f.I.SETTINGS:return(0,c.t)("team_view.toolbar.settings");case f.I.BILLING:return(0,c.t)("team_view.toolbar.billing");default:(0,a.xb)(e)}}function W(e,t){return e&&!(0,m.hasViewerRoleAccessOnTeam)(e.id,t)&&(0,m.canViewTeam)(e.id,t)&&e.org_access===d.bU.PRIVATE?f.A.MEMBERS:f.A.HOME}let K=new RegExp(/[https?:?\/\/]?[a-z.]*figma[.\da-z:]*\/files\/([A-z0-9]*)\/team\/(\d+)/),Y=new RegExp(/[https?:?\/\/]?[a-z.]*figma[.\da-z:]*\/files\/team\/(\d+)/);function j(e){return K.test(e)}function z(e){return Y.test(e)}function $(e){let t=new URL(e).pathname.match("team/([A-z0-9]*)");return t?t[1]:null}let Z=["recentsAndSharing","draftsToMove","communityHub","search"];function q(e){var t;try{if(e.openFile)return e.openFile.teamId||"";if("teamId"in e.selectedView)return e.selectedView.teamId||"";if("folder"===e.selectedView.view){let r=e.selectedView.folderId;if(!e.folders[r])return(0,o.Ay)().page_load_team_id||"";return(null==(t=e.folders[r])?void 0:t.team_id)||""}if(Z.includes(e.selectedView.view)||"deletedFiles"===e.selectedView.view)return e.currentTeamId||""}catch(e){(0,y.$D)(b.e.GROWTH_PLATFORM,Error(`Error getting team ID from Redux state: ${e.message}`))}return""}function J(){return(0,n.d4)(e=>q(e))||""}function X(){return(0,n.d4)(e=>e.teams[q(e)])||null}let Q=(0,I.bt)(e=>e.teams[q(e)]||null);function ee(e){return e.teams[q(e)]||null}function et(e,t,r){return e?Object.keys((0,_.t)(t.byTeamId,e.id)).filter(e=>r[e]):[]}let er=(0,s.xx)(function(e,t,r){return e?et(e,t,r).map(e=>r[e]):[]});function en(e,t){let r=[],n={};for(let t of e)t&&(n[t.id]=t,r.push(t.id));return e.sort((e,r)=>{let n=t.indexOf(e.id),i=t.indexOf(r.id);return -1===n&&-1===i?e.createdAt<r.createdAt?1:-1:n-i}),e}function ei(e,t){return en(e,t).map(e=>e.id)}function ea(e,t){let r=e.byTeamId[t]||{};return(0,i.WI)(Object.keys(r).map(e=>{let t=r[e];return t?!0===t.pending?null:t.user:null}))}function eo(e,t,r){let n=0,i={};for(let a of(t.forEach(e=>i[e.id]=e),Object.keys(r))){let t=i[a],o=r[a][e];if(t&&o){if(t.pro_team||t.org_access||t.student_team)return!1;o.level===h.e6.OWNER&&n++}}return n>1}},494668:(e,t,r)=>{"use strict";r.d(t,{$I:()=>o,YA:()=>s,w3:()=>l});var n=r(939863),i=r(94823),a=r(70551);function o(e){return({light:(0,n.t)("fullscreen_actions.theme.light"),dark:(0,n.t)("fullscreen_actions.theme.dark"),system:(0,n.t)("fullscreen_actions.theme.system_theme")})[e]}function l(e){return a.C.map(t=>({name:`theme-${t}-mode`,isChecked:e===t,displayText:o(t),callback:(e,r,n)=>{n(i.Qh({theme:t,userInitiated:!0}))}}))}function s(e){return[{name:"theme-light-mode",checked:"light"===e,displayForQuickCommand:"theme-light-mode-quick-command",hideCheckForQuickCommand:!0,callback:(e,t,r)=>{r(i.Qh({theme:"light",userInitiated:!0}))},searchSynonyms:["theme"]},{name:"theme-dark-mode",checked:"dark"===e,displayForQuickCommand:"theme-dark-mode-quick-command",hideCheckForQuickCommand:!0,callback:(e,t,r)=>{r(i.Qh({theme:"dark",userInitiated:!0}))},searchSynonyms:["theme"]},{name:"theme-system",checked:"system"===e,displayForQuickCommand:"theme-system-quick-command",hideCheckForQuickCommand:!0,callback:(e,t,r)=>{r(i.Qh({theme:"system",userInitiated:!0}))}}]}},407182:(e,t,r)=>{"use strict";r.d(t,{F6:()=>c,LS:()=>h,TK:()=>d,UH:()=>_,a6:()=>s,iN:()=>p,oZ:()=>u});var n=r(886653),i=r(939863),a=r(848661),o=(e=>(e[e.OLD=0]="OLD",e[e.FEB19=1]="FEB19",e))(o||{});class l{constructor(e,t,r,n){this.textUserLayoutVersion=e,this.intrinsicLineHeight=t,this.fontSize=r,this.lineHeight=n}withLineHeight(e){return new l(this.textUserLayoutVersion,this.intrinsicLineHeight,this.fontSize,e)}}let s=(0,n.xx)(e=>new l(null!=e.textUserLayoutVersion&&(0,a.hS)(e.textUserLayoutVersion)?0===e.textUserLayoutVersion?0:1:a.oV,e.intrinsicLineHeight??null,e.fontSize,e.lineHeight));function c(e){let{intrinsicLineHeight:t,fontSize:r,lineHeight:n}=e;if((0,a.hS)(n))switch(n.units){case"RAW":return n.value;case"PIXELS":if(!(0,a.hS)(r))return;return n.value/r;case"PERCENT":let i=(0,a.E7)(t);if(null==i)return;return n.value/100*i}}function d(e,t){if(null==t||"PERCENT"!==t.units||h(t))return t;let r=c(e.withLineHeight(t));return null==r?t:{value:r,units:"RAW"}}function u(e){let{textUserLayoutVersion:t,intrinsicLineHeight:r,fontSize:n}=e,i=(0,a.E7)(e.lineHeight);if(i)switch(i.units){case"RAW":if(!(0,a.hS)(n))return;return m(i.value*n,t);case"PIXELS":return i.value;case"PERCENT":let o=(0,a.E7)(r);if(null==o||!(0,a.hS)(n))return;return m(i.value/100*o*n,t)}}function p(e){let{textUserLayoutVersion:t,intrinsicLineHeight:r,fontSize:n,lineHeight:i}=e;if((0,a.hS)(i))switch(i.units){case"RAW":if(!(0,a.hS)(n))return;return m(100*i.value,t);case"PIXELS":let o=(0,a.E7)(r);if(null==o||!(0,a.hS)(n))return;return m(100*i.value/(n*o),t);case"PERCENT":return i.value}}function m(e,t){return t===a.oV||0===t?e:Math.round(e)}function _(e){let{lineHeight:t}=e;if(!(0,a.hS)(t))return(0,i.t)("fullscreen.mixed");if(h(t))return(0,i.t)("fullscreen.auto");switch(t.units){case"PERCENT":let r=c(e);if(null==r)return"Mixed";return`${parseFloat((100*r).toFixed(1))}%`;case"PIXELS":return`${parseFloat(t.value.toFixed(1))}`;case"RAW":return`${parseFloat((100*t.value).toFixed(1))}%`}}function h(e){return!!(null!=e&&(0,a.hS)(e))&&"PERCENT"===e.units&&.1>Math.abs(e.value-100)}},783967:(e,t,r)=>{"use strict";r.d(t,{e:()=>i,w:()=>a});var n=r(96328);function i(e){if(!e)return"";let t=e.map(e=>e.handle||e.name||"").filter(e=>!!e);return(0,n.Yx)(t)}function a(){var e;return!!(null==(e=window.INITIAL_OPTIONS)?void 0:e.user_data)}},395116:(e,t,r)=>{"use strict";r.d(t,{$M:()=>m,Dd:()=>_,X2:()=>p,Zo:()=>u,fN:()=>g,hI:()=>h});var n=r(966712),i=r(790724),a=r(286640),o=r(27087),l=r(939863),s=r(980820),c=r(725561);let d="user-notifications-sticky-filter-tab",u=(0,s.nF)((e,t)=>{if(!t.userInitiated){e.dispatch(c.uR(t));return}let r="0"==t.notificationSpaceId?null:t.notificationSpaceId,n={bell:t.isBellStateHigh,current_org_id:r};return(0,i.Q)({requestPromise:o.Ay.put("/api/user_notifications_bell",n),fallbackError:(0,l.t)("user_notification.an_error_occurred_marking_all_as_read"),store:e,next:e.dispatch,action:c.uR(t)})}),p=(0,s.nF)((e,t)=>{if(!t.userInitiated){e.dispatch(c.Q$(t));return}return(0,i.Q)({requestPromise:o.Ay.put("/api/user_notifications_bell/community/clear"),fallbackError:(0,l.t)("user_notification.an_error_occurred_marking_all_as_read"),store:e,next:e.dispatch,action:c.Q$(t)})});function m(e){return e().get("exp_enrollment_enabled",!1)}function _(){var e;return(null==(e=a.x4)?void 0:e.getItem(d))||"all"}function h(e){var t;return null==(t=a.x4)?void 0:t.setItem(d,e)}function g(){return(0,n.w0)().notif_blue_unread_indicator}},935757:(e,t,r)=>{"use strict";r.d(t,{I2:()=>x,Il:()=>F,OU:()=>B,QF:()=>W,Um:()=>P,VE:()=>G,Y9:()=>H,YH:()=>b,_X:()=>N,kb:()=>E,nA:()=>K,nt:()=>L,pk:()=>R,tO:()=>U,tb:()=>y,tp:()=>O,yk:()=>V});var n,i=r(689136),a=r.n(i),o=r(841563),l=r.n(o),s=r(181912),c=r(77909),d=r(517333),u=r(966712),p=r(534688),m=r(742808),_=r(286640),h=r(608902),g=r(52571),f=r(516056);let E=(0,c.v)(),y=(0,c.v)(),b=!(null==(n=window.EARLY_ARGS)?void 0:n.file_minimal_user_state),v=null,I=null,T={REQUESTED:"web.api_user_state.requested"},S=new class{constructor(){this.batchedCustomEvents=[],this.onVisibilityChange=async()=>{"hidden"===document.visibilityState&&await this.sendBatchedEvents()},this._currentlySendingBatchedEvents=!1,this.sendBatchedEvents=async()=>{if(this._currentlySendingBatchedEvents)return;this._currentlySendingBatchedEvents=!0;let e=this.batchedCustomEvents;this.batchedCustomEvents=[];try{await (0,m.BO)(e)}catch(e){}this._currentlySendingBatchedEvents=!1},document.addEventListener("visibilitychange",this.onVisibilityChange),window.addEventListener("pagehide",this.sendBatchedEvents),this.sendBatchedEventsInterval=setInterval(this.sendBatchedEvents,5e3)}async cleanup(){document.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener("pagehide",this.sendBatchedEvents),clearInterval(this.sendBatchedEventsInterval),await (0,p.g)()}reportUserStateCall(e){this.batchedCustomEvents.push({metric:T.REQUESTED,tags:{source:e,client_visibility:document.visibilityState}})}},w=null,A=null,C=null;function N(e,t){b=!0;let r=R(),n=P();return w&&r===A&&n===C||(S.reportUserStateCall(e),w=f.k.getState({orgId:r||void 0,teamId:n||void 0},t),A=r,A=n,w.then(()=>{w=null,A=null,C=null}).catch(()=>{w=null,A=null,C=null})),w}function O(e){return g.H.getState(e)}function L(e){e||(e="personal"),v=e}function R(){return v?"personal"===v?null:v:v=(0,u.tl)().org_id||null}function P(){return I||(I=(0,u.tl)().team_id||null),I}let k="recent_user_data",D=e=>btoa(JSON.stringify(e)),M=e=>JSON.parse(atob(e));function x(e){H(e,!0)}function F(e){let t=V(),r=a()(t),n=(0,_.UG)();if(r.communityProfileId=e,!l()(t,r))try{n.set(k,D(r))}catch(e){console.error("Failed to set community profile",e)}}function U(e){H(e,!1)}function B(e,t,r){H(e,!1,void 0,void 0,void 0,`${t}-${r}`)}function H(e,t,r,n,i,o){if(d.S8)return;let c=V(),p=a()(c),m=(0,_.UG)();if(t?p.communityUserId=e:p.fileBrowserUserId=e,void 0!==r&&(p.userIdToOrgId||(p.userIdToOrgId={}),p.userIdToOrgId[e]=r),(0,u.kc)().ps_benchmark&&(void 0!==r||void 0!==i)&&(p.userIdToPlan||(p.userIdToPlan={}),r?p.userIdToPlan[e]=[h.O.ORG,r]:i&&(p.userIdToPlan[e]=[h.O.TEAM,i])),n&&(p.communityProfileId=n),o&&(p.seenRecurringBannerIds||(p.seenRecurringBannerIds={}),p.seenRecurringBannerIds[o]=s.A.utc().toISOString()),!l()(c,p))try{m.set(k,D(p))}catch(e){console.error("Failed to set recent workspace",e)}}function V(){let e={communityUserId:null,communityProfileId:null,fileBrowserUserId:null,userIdToOrgId:{},seenRecurringBannerIds:{}},t=(0,_.UG)();try{let r=t.get(k);r&&(e=M(r))}catch(e){console.error("Failed to get recent workspace",e)}return e}function G(e){return V().userIdToOrgId[e]??null}function W(e){var t;return(null==(t=V().userIdToPlan)?void 0:t[e])??null}function K(e,t){var r;let n=`${e}-${t}`;return null==(r=V().seenRecurringBannerIds)?void 0:r[n]}},694517:(e,t,r)=>{"use strict";r.d(t,{Eg:()=>et,HF:()=>Y,Ht:()=>D,Nb:()=>er,Ul:()=>$,V_:()=>k,_b:()=>ee,_h:()=>X,_t:()=>U,cn:()=>F,hZ:()=>z,kT:()=>x,ke:()=>j,tP:()=>M,vF:()=>ei,vw:()=>W,w_:()=>B,yH:()=>en});var n=r(776250),i=r(181912),a=r(38329),o=r(966712),l=r(38580),s=r(374626),c=r(218549),d=r(183297),u=r(776621),p=r(304783),m=r(743282),_=r(27087),h=r(881388),g=r(265746),f=r(696808),E=r(392592),y=r(980820),b=r(738269),v=r(293017),I=r(31913),T=r(843495),S=r(239671),w=r(779086),A=r(754168),C=r(597642),N=r(356390),O=r(852800),L=r(467232),R=r(691205),P=r(707465);let k="current_version",D=new c.q(40),M=(0,l.eU)(""),x=R.M4.Query({fetch:async e=>{var t,r;let i=e.fileKey;if(!i)return null;let a=performance.now(),o=await C.W.getPaginatedVersions({...e,fileKey:i,versionIds:null==(t=e.versionIds)?void 0:t.join(",")}),l=performance.now()-a;return(0,n.sx)("version_diffing_performance_metrics",{name:"Lego versions fetched",durationMs:l}),(null==(r=o.data.meta)?void 0:r.versions)||[]},key:"fileVersionsPaginated"});function F(e,t,r){return`${e}-${t}-${r.id}`}function U(e,t){var r,n;let i=a.D.getState(),o=null==(r=i.openFile)?void 0:r.key,l=[t,null==(n=i.mirror.sceneGraph.getInternalCanvas())?void 0:n.guid].filter(e=>!!e);if(!o||!t)return null;let s=F(o,t,e);if(D.has(s))return D.get(s);let c=new Promise((t,r)=>{H(`${e.canvas_url}&nodes_to_extract=${l.join(",")}`,e=>{t({canvas:e,key:s})},r).onerror=r});return D.set(s,c),c}function B(e){var t;let r=a.D.getState(),n=null==(t=r.openFile)?void 0:t.key,i=r.mirror.appModel.currentPage;if(!n||!i)return null;let o=F(n,i,e);D.delete(o)}function H(e,t,r){var n;let i=null,a=new XMLHttpRequest;a.open("GET",e);let l=null==(n=(0,o.Ay)().user_data)?void 0:n.id;return l&&a.setRequestHeader("X-Figma-User-ID",l),a.onload=()=>{200===a.status&&(i=new Uint8Array(a.response))},a.onloadend=()=>{null!=i?t(i):null==r||r("Failed to fetch bytes")},a.responseType="arraybuffer",a.send(),a}let V=async(e,t,r,n)=>{let i=new URLSearchParams;i.set("diff_version","2"),i.set("from_file_version_id",t),i.set("migration_version",`${r}`),n&&n.length>0&&i.set("nodes_to_diff",n.join(","));let{data:{meta:{checkpoint_diff:a}}}=await _.Ay.post(`/api/file_diff/v2/checkpoint_diff/${e}?${i.toString()}`);return a},G=async e=>{let t=new Date().getTime(),{data:r}=await _.Ay.crossOriginGetAny(e,null,{responseType:"arraybuffer"}),i=new Date().getTime();return(0,n.sx)("versioning_performance_metrics",{name:"download_diff",durationMs:i-t},{forwardToDatadog:!0}),r};function W(e){for(let t of e.versions)if(t.id===e.activeId)return t;if(e.linkedVersion&&e.activeId===e.linkedVersion.id)return e.linkedVersion}async function K(e,t,r){var i;let a=await V(t.getState().openFile.key,e,t.getState().fileVersion,r);if(!a.signed_url)return"Error viewing what's changed between file versions.";let o=!!(null==(i=t.getState().openFile)?void 0:i.canEdit),l=new Date().getTime(),[s]=await Promise.all([G(a.signed_url)]),c=new Date().getTime();return((0,n.sx)("versioning_performance_metrics",{name:"download_diff_and_load_pages",durationMs:c-l,isEditor:o},{forwardToDatadog:!0}),O.glU.loadHistoryChangesState(s))?"":"Error loading HistoryChangesState into memory."}function Y(e,t){if(e)return t.versions.find(t=>t.id===e)}async function j(e,t){let r=Date.now(),n=Y(e,t.getState().versionHistory);if(!n)return{elapsedTime:Date.now()-r,numPagesWithChanges:0};let i=await K(n.id,t),a=Date.now()-r;if(i)throw(0,u.x1)("version diffing","error checking for visible changes",{error:i}),Error("Error checking for visible changes");return{elapsedTime:a,numPagesWithChanges:O.glU.getPagesWithChanges().length}}let z=(0,y.nF)(async(e,t)=>{var r;let n,a;let l=e.getState(),s=()=>{e.dispatch(b.$T({...l.selectedView,compareLatest:void 0}))},c=()=>{e.dispatch(v.Y6({mode:O.Oin.OFF})),s()},d=l.user;if(!(0,o.kc)().version_diffing||!(0,o.kc)().xr_debounce_threshold||!d||"fullscreen"!==l.selectedView.view||l.selectedView.editorType===S.nT.Whiteboard||l.mirror.appModel.topLevelMode===O.lyf.HISTORY||l.mirror.appModel.activeCanvasEditModeType===O.m1T.COMPARE_CHANGES)return c();let{openFileKey:u}=t;try{let e=await A.S.getLastInteraction({openFileKey:u});n=e.data.meta.last_view_at,a=e.data.meta.last_edit_at}catch{c()}let p=(0,i.A)(n),m=(0,i.A)(a),_=p>m?p:m;if(!_.isValid()||_<(0,i.A)().subtract(7,"days"))return c();let h=C.W.getPaginatedVersions({fileKey:u,createdAtOrBefore:_.toISOString()}),g=C.W.getPaginatedVersions({fileKey:u}),[f,E]=await Promise.all([h,g]),y=f.data.meta.versions,I=E.data.meta.versions;if(!(y.length>0&&I.length>0))return c();let T=y[0],w=I[0];if(!((0,i.A)(w.created_at)>(0,i.A)(T.created_at))||w.user_id===d.id||(null==(r=w.participating_users_array)?void 0:r.includes(d.handle)))return c();e.dispatch(ee()),e.dispatch(ei({fromVersionId:T.id}))}),$=(0,y.nF)(async(e,t)=>{var r;let a=e.getState(),l=a.user;if(!(0,o.kc)().version_diffing||!l||"fullscreen"!==a.selectedView.view||a.selectedView.editorType===S.nT.Whiteboard||a.mirror.appModel.topLevelMode===O.lyf.HISTORY||a.mirror.appModel.activeCanvasEditModeType===O.m1T.COMPARE_CHANGES)return;let{openFileKey:s}=t,c=(0,i.A)(t.versionHistory.lastEdited),d=(0,i.A)(t.versionHistory.lastViewed),u=d>c?d:c;if(!u.isValid()||u<(0,i.A)().subtract(7,"days"))return;let p=Date.now(),_=C.W.getPaginatedVersions({fileKey:s,pageSize:1,createdAtOrBefore:u.toISOString()}),h=C.W.getPaginatedVersions({fileKey:s,pageSize:1}),[g,f]=await Promise.all([_,h]),E=g.data.meta.versions,y=f.data.meta.versions;if(E.length>0&&y.length>0){let t=E[0],a=y[0];if((0,i.A)(a.created_at)>(0,i.A)(t.created_at)&&a.user_id!==l.id&&!(null==(r=a.participating_users_array)?void 0:r.includes(l.handle))){let r={fileKey:s,eventId:(0,m.g)(),lastEdited:c.toISOString(),lastViewed:d.toISOString(),lastSeenVersion:t.id,lastSeenCreatedAt:t.created_at,latestVersion:a.id,latestCreatedAt:a.created_at};(0,n.sx)("Version Diffing Changed Since Last View",{...r,durationMs:Date.now()-p},{forwardToDatadog:!0}),e.dispatch(J({lastSeenVersionId:t.id,trackingProps:r}))}}}),Z=null;function q(e,t,r,n,i,a){if(!e.canvas_url)return"Couldn't get this version from version history.";{let o=r.size>0,l=i??n,c=!1,d=e.canvas_url,u=t.getState().mirror.appModel.currentPage;if("LOAD_NEW_VERSION"===a&&u&&!i&&(l=u),c=!r.has(l))d+=`&nodes_to_extract=${l}`;else{t.dispatch(I.SR({isLoadingPage:!1}));return}if(d){let e=t.getState().selectedView;L.C.markVersionHistoryLoadStart(e.fileKey,e.nodeId,a);let i=H(d,a=>{if(i===Z){var d;Z=null;let i=t.getState().selectedView.editorType;if((d=t.getState().mirror.appModel.topLevelMode)===O.lyf.HISTORY||d===O.lyf.DEV_HANDOFF){let d;if(o)O.glU.applyFileToCurrentScene(a);else if(s.zl.set(M,""),!O.glU.loadFigFileForPreview(a))return"Error loading this version into memory.";L.C.markVersionHistoryLoadEnd();let u=t.getState().selectedView.fileKey;d=i===S.nT.Whiteboard?"figjam":i===S.nT.Design||i===S.nT.Slides?(0,S.CO)(i):"unknown",L.C.report(u,d),c&&(r.add(l),t.dispatch(I.EB({fetchedPageIds:r})),t.dispatch(I.SR({isLoadingPage:!1}))),e.nodeId&&e.nodeId!==n&&T.tJ([e.nodeId]),e.devModeFocusId&&O.w3z.focusOnNode(e.devModeFocusId,!1),t.dispatch(v.Y6({mode:O.Oin.OFF}))}}});Z=i}}return""}let J=(0,y.nF)(async(e,t)=>{let r,i;let{lastSeenVersionId:a,trackingProps:o}=t;try{let t=await j(a,e);r=t.elapsedTime,i=t.numPagesWithChanges}catch(e){return}if(0===i){(0,n.sx)("Version Diffing Notification Skipped",{...t.trackingProps,pagesWithChanges:0,durationMs:r},{forwardToDatadog:!0});return}(0,n.sx)("Version Diffing Notification Shown",{...t.trackingProps,pagesWithChanges:i,durationMs:r},{forwardToDatadog:!0}),e.dispatch(f.Q.enqueueFront({notification:{type:g._.SEE_WHATS_CHANGED,message:"See what's changed since the last time you viewed this file",acceptCallback:()=>{(0,n.sx)("Version Diffing Notification Opened",o),e.dispatch(ee()),e.dispatch(ei({fromVersionId:a}))},dismissCallback:()=>{(0,n.sx)("Version Diffing Notification Dismissed",o)}}}))}),X=(0,y.nF)((e,{direction:t})=>{let r=e.getState(),n=(0,P.U2)(r.selectedView);n&&!r.versionHistory.loading&&(e.dispatch(I.ne({loading:!0})),(0,d.En)(`/api/versions/${n}`,30,r.versionHistory,t).then(r=>{n===(0,P.U2)(e.getState().selectedView)&&e.dispatch(I.BC({history:r,direction:t}))}))}),Q=(0,y.nF)(e=>{e.dispatch(I.p0()),e.dispatch(X({direction:d.mL}))}),ee=(0,y.nF)((e,t)=>{var r;N.Y5.triggerAction("enter-history-mode"),N.Y5.triggerAction("deselect-all"),e.dispatch(Q()),null==(r=O.Ez5)||r.uiState().showPropertiesPanel.set(!0),(0,n.sx)("Toggle Version History",{source:(null==t?void 0:t.source)||null})}),et=(0,y.nF)(e=>{var t;e.dispatch(er({id:k})),e.dispatch(ei({fromVersionId:void 0})),e.dispatch(E.F.dequeue({matchType:"versions"})),e.dispatch(E.F.dequeue({matchType:"view_changes"})),e.dispatch(v.Y6({mode:O.Oin.OFF})),O.glU.exitVersionHistoryMode((null==(t=e.getState().openFile)?void 0:t.canEdit)??!1)}),er=(0,y.nF)((e,t)=>{if(t.id===k){s.zl.set(M,""),O.glU.loadFigFileForPreview(new Uint8Array);let r=e.getState();e.dispatch(b.$T({...r.selectedView,versionId:void 0,compareVersionId:void 0})),e.dispatch(I.Fm({id:t.id}));return}e.dispatch(I.Fm({id:t.id}));let r=e.getState(),n=t.versions?t.versions.find(e=>e.id===t.id):W(r.versionHistory);if(!n)return;e.dispatch(b.$T({...r.selectedView,compareVersionId:void 0}));let i=e.getState().mirror.appModel.currentPage,a=t.eventType,o=q(n,e,new Set,i,t.nodeId,a);if(o){e.dispatch(h.s.error(o));return}}),en=(0,y.nF)((e,t)=>{let r=t.version,n=t.currentPageNodeId,i=t.fetchedPageIds,a=t.eventType,o=q(r,e,i,n,void 0,a);if(o){let t=`[${a}] Failed load fig file for preview: ${o}`;(0,u.$D)(p.e.SCENEGRAPH_AND_SYNC,Error(`[VERSION_HISTORY_INCREMENTAL_LOAD] ${t}`)),e.dispatch(h.s.error(o));return}e.dispatch(I.ke({version:t.version}))}),ei=(0,y.nF)(async(e,t)=>{if(!(0,o.kc)().version_diffing){e.dispatch(I.TO(t));return}let r=t.fromVersionId;if(!r)return;let i=Y(r,e.getState().versionHistory);if(!i)return;let a=new Date().getTime(),l=await K(i.id,e);if(l){e.dispatch(h.s.error(l));return}let s=new Date().getTime(),c=e.getState().selectedView.editorType,d=w.l[w.l.COMPARE_CHANGES];if((0,n.sx)("versioning_performance_metrics",{name:"load_diff",durationMs:s-a,fromCheckpointKey:i.checkpoint_key,nodesToDiff:"all",editorType:c,source:d},{forwardToDatadog:!0}),i.canvas_url){let e=O.glU.getChangesToCompareFromHistoryChangesState();if(e.size>0){let t=Array.from(e).join(",");H(`${i.canvas_url}&nodes_to_extract=${t}`,e=>{O.glU.loadPartialHistoryScene(e)})}}let u=O.glU.startComparingChanges()?"":"Error starting history compare";if(u){e.dispatch(h.s.error(u));return}let p=e.getState();e.dispatch(b.$T({...p.selectedView,compareVersionId:r,compareLatest:void 0})),(0,n.sx)("Version History Compare Start",{fromVersionId:r}),e.dispatch(I.TO(t))})},902938:(e,t,r)=>{"use strict";r.d(t,{AM:()=>s,eo:()=>c,qr:()=>d});var n=r(411855),i=r(188507),a=r(931828),o=r(852800),l=r(327017);let s={MAIN_GUIDE:"https://help.figma.com/hc/articles/1500004414622",TROUBLESHOOT:"https://help.figma.com/hc/articles/4402390108951",ACCESSIBILITY:"https://help.figma.com/hc/articles/4402390110743",FEEDBACK_FORM:"https://form.asana.com?k=FPQgFCXUINQN6CmMtWiabQ&d=10497086658021"};function c(){let e=(0,i.wA)(),t=(0,i.d4)(e=>e.multiplayer.observingSessionID),r=(0,i.d4)(e=>e.multiplayer.sessionID);return(0,n.useCallback)(function(n){if(n&&n.sessionID){try{o.h3O.observeUser(n.sessionID)}catch{return}t!==n.sessionID&&r!==n.sessionID&&e(a.b({aware_of_observation_mode:!0}))}},[t,r,e])}function d(){let[e,t]=n.useState(null),r=(0,i.d4)(e=>e.voice.showWidget);return n.useEffect(()=>{r&&!e&&t(l.h.getInstance())},[r,e]),e}},866564:(e,t,r)=>{"use strict";r.d(t,{OS:()=>u,_2:()=>c,w$:()=>d});var n=r(411855),i=r(188507),a=r(776250),o=r(439729),l=r(939863),s=r(571232);let c="audio-paywall-key",d=(()=>{let e=!0,t=!1;return r=>{t||setTimeout(()=>{r>0&&e?(e=!1,(0,a.sx)("Context Viewed",{name:"join-call-with-others"})):e||0!==r||(t=!0,(0,a.sx)("Context Viewed",{name:"should-close-open-audio-nux"}))},200)}})();function u(){let e;let t=(0,i.d4)(e=>e.openFile),{userIdsInCall:r}=(0,s.W5)(t.key),a=(0,s.bF)(r,t.key).map(e=>e.name);e=a.length>3?[...a.slice(0,2),(0,l.t)("collaboration.voice.n_others",{numUsers:a.length-2})]:a;let c=n.createElement(o.T,null,e);return n.createElement(l.Tx,{id:"collaboration.voice.are_talking_in_this_file",numVoiceUsers:e.length,voiceUserNames:c,joinText:n.createElement("b",null,n.createElement(l.Tx,{id:"collaboration.voice.join_lower"}))})}},327017:(e,t,r)=>{"use strict";r.d(t,{h:()=>I,q:()=>E});var n=r(776250),i=r(517333),a=r(966712),o=r(563706),l=r(36381),s=r(776621),c=r(304783),d=r(988022),u=r(805286),p=r(301807),m=r(748207),_=r(618807),h=r(338400),g=r(636751);let f=e=>e>.1,E=.05,y=`Something there is that doesn't love a wall,
That sends the frozen-ground-swell under it,
And spills the upper boulders in the sun;
And makes gaps even two can pass abreast.
The work of hunters is another thing:
I have come after them and made repair
Where they have left not one stone on a stone,
But they would have the rabbit out of hiding,
To please the yelping dogs. The gaps I mean,
No one has seen them made or heard them made,
But at spring mending-time we find them there.
I let my neighbor know beyond the hill;
And on a day we meet to walk the line
And set the wall between us once again.
We keep the wall between us as we go.
To each the boulders that have fallen to each.
And some are loaves and some so nearly balls
We have to use a spell to make them balance:
\u2018Stay where you are until our backs are turned!\u2019
We wear our fingers rough with handling them.
Oh, just another kind of out-door game,
One on a side. It comes to little more:
There where it is we do not need the wall:
He is all pine and I am apple orchard.
My apple trees will never get across
And eat the cones under his pines, I tell him.
He only says, \u2018Good fences make good neighbors.\u2019
Spring is the mischief in me, and I wonder
If I could put a notion in his head:
\u2018Why do they make good neighbors? Isn't it
Where there are cows? But here there are no cows.
Before I built a wall I'd ask to know
What I was walling in or walling out,
And to whom I was like to give offense.
Something there is that doesn't love a wall,
That wants it down.\u2019 I could say \u2018Elves\u2019 to him,
But it's not elves exactly, and I'd rather
He said it for himself. I see him there
Bringing a stone grasped firmly by the top
In each hand, like an old-stone savage armed.
He moves in darkness as it seems to me,
Not of woods only and the shade of trees.
He will not go behind his father's saying,
And he likes having thought of it so well
He says again, \u2018Good fences make good neighbors.\u2019`.split(/\n/g).map(e=>e.trim()),b=0,v=class e{constructor(e){this.isMuted=!1,this.handlingTokenExpiration=!1,this.decryptedUserMap={},this.averageRecentVoiceLevel={},this.volumeDataInterval=null,this.micStateInterval=null,this.streamingAudioForCaptions=!1,this._microphonePermissionDenied=!0,this.captionsToggleEnabled=!1,this.volumeLevelsStore=(0,_._)({}),this.activeSpeakerIdStore=(0,_._)(null),this.recentlySpokeIdStore=(0,_._)(null),this.setMicrophone=async e=>{var t,r;try{null==(t=this.unpublishedLocalAudioTrack)||t.setDevice(e.deviceId),await (null==(r=this.localAudioTrack)?void 0:r.setDevice(e.deviceId)),this.microphone=e}catch(e){throw e}},this.setPlaybackDevice=async e=>{var t;try{null==(t=this.client)||t.remoteUsers.forEach(t=>{var r;return null==(r=t.audioTrack)?void 0:r.setPlaybackDevice(e.deviceId)}),this.playbackDevice=e}catch(e){throw e}},this.getMicrophones=e=>this.AgoraRTC.getMicrophones(e),this.getPlaybackDevices=e=>{var t;return null==(t=this.AgoraRTC)?void 0:t.getPlaybackDevices(e)},this.currentMicrophone=async()=>{var e;return this.microphone||(null==(e=await this.getMicrophones())?void 0:e[0])},this.currentPlaybackDevice=async()=>{var e;return this.playbackDevice||(null==(e=await this.getPlaybackDevices())?void 0:e[0])},this.getParticipantIds=async()=>{if(!this.client||!this.userId)throw Error("Client not yet instantiated");let e=[];for(let t of this.client.remoteUsers){let r=await this.getDecryptedUserId(t.uid);r&&e.push(r)}return e.push(this.userId),e},this.startPollingMicState=()=>{i.eD&&(this.microphonePermissionDenied&&i.eD.setUsingMicrophone(!1),this.micStateInterval=setInterval(()=>{var e,t;this.client&&(null==(e=i.eD)||e.setIsInVoiceCall("DISCONNECTED"!==this.client.connectionState),null==(t=i.eD)||t.setUsingMicrophone(!!this.isPublishingLocalTrack()))},5e3))},this.stopPollingMicState=()=>{this.micStateInterval&&(clearInterval(this.micStateInterval),this.micStateInterval=null)},this.isPublishingLocalTrack=()=>{var e;return null==(e=this.client)?void 0:e.localTracks.some(e=>{var t;return e.getTrackId()===(null==(t=this.localAudioTrack)?void 0:t.getTrackId())})},this.startPollingVolumeData=()=>{this.volumeDataInterval||(this.volumeDataInterval=setInterval(async()=>{var e,t;if(!this.client||!this.userId)return;let r={};for(let e in this.averageRecentVoiceLevel)this.averageRecentVoiceLevel[e]*=.8;for(let t of this.client.remoteUsers){let n=await this.getDecryptedUserId(t.uid);if(!n)continue;let i=(null==(e=t.audioTrack)?void 0:e.getVolumeLevel())||0,a=this.averageRecentVoiceLevel[n];this.averageRecentVoiceLevel[n]=(a||0)+i,r[n]={isMuted:!t.audioTrack,volumeLevel:i}}let n=(null==(t=this.localAudioTrack)?void 0:t.getVolumeLevel())||0;this.averageRecentVoiceLevel[this.userId]=this.isMuted?0:(this.averageRecentVoiceLevel[this.userId]||0)+n,r[this.userId]={isMuted:this.isMuted,volumeLevel:n},this.checkLocalVolumeLevels(),this.volumeLevelsStore.set(r),this.updateActiveSpeakers(),this.updateRecentlySpoke()},200))},this.stopPollingVolumeData=()=>{this.volumeDataInterval&&(clearInterval(this.volumeDataInterval),this.volumeDataInterval=null)},this.checkLocalVolumeLevels=()=>{var e;this.isMuted&&this.unpublishedLocalAudioTrack&&this.unpublishedLocalAudioTrack.getVolumeLevel()>.6&&(null==(e=this.callEventCallback)||e.call(this,g.$E.WARNING_MICROPHONE_LEVELS_HIGH_AND_MUTED))},this.updateActiveSpeakers=()=>{let e=Object.entries(this.averageRecentVoiceLevel).filter(e=>e[1]>E).sort((e,t)=>e[1]>t[1]?-1:1).map(e=>e[0]);this.activeSpeakerIdStore.set(e)},this.updateRecentlySpoke=()=>{let e=Object.entries(this.averageRecentVoiceLevel).sort((e,t)=>e[1]>t[1]?-1:1).map(e=>e[0]);this.recentlySpokeIdStore.set(e)},this.onCallDisconnect=()=>{var e,t,r,n;u.R9.sendVoiceMetadata(""),this.stopPollingVolumeData(),null==(e=i.eD)||e.setIsInVoiceCall(!1),null==(t=i.eD)||t.setUsingMicrophone(!1),null==(r=this.localAudioTrack)||r.setEnabled(!1),null==(n=this.unpublishedLocalAudioTrack)||n.setEnabled(!1)},this.attachDeviceListeners=e=>{e.onMicrophoneChanged=e=>{var t;(null==(t=this.microphone)?void 0:t.deviceId)===e.device.deviceId&&"INACTIVE"===e.state&&this.getMicrophones().then(e=>{this.microphone=e.length>0?e[0]:null})},e.onPlaybackDeviceChanged=e=>{var t;(null==(t=this.playbackDevice)?void 0:t.deviceId)===e.device.deviceId&&"INACTIVE"===e.state&&o.Ay.chrome&&this.getPlaybackDevices().then(e=>{this.playbackDevice=e.length>0?e[0]:null})}},this.audioCaptionQueues=new p.b,this.audioCaptionStream=new m.T,this.AgoraRTC=e,this.AgoraRTC.setLogLevel((0,a.kc)().voice_agora_debug_level_logs?0:3),this.AgoraRTC.setArea(["OVERSEA"]),this.localAudioTrack=null,this.unpublishedLocalAudioTrack=null,this.microphone=null,this.playbackDevice=null,this.attachDeviceListeners(e),(0,a.kc)().voice_debug_captions_enabled&&setTimeout(()=>{setInterval(()=>{this.audioCaptionStream.addNewCaption(this.userId?this.userId:"dummyUserId",Date.now(),y[b++%y.length])},1501)},1500)}static createInstance(){return this.instance?Promise.resolve():new Promise((t,r)=>{let n=document.createElement("script");n.src="https://static.figma.com/uploads/0706b46bdc09a419282285b791ea1dd3c019ecd6",n.setAttribute("nonce",(0,a.tl)().csp_nonce),n.onload=()=>{let r=window.AgoraRTC;this.instance=new e(r),t()},n.onerror=()=>{r(Error("Provider audio script load error"))},document.body.appendChild(n)})}static getInstance(){return this.instance}static leave(){var e;null==(e=this.instance)||e.leave()}async join({appId:t,callId:r,token:a,callUserId:l,userId:s,encryptionKey:c,userEncryptionKey:u,setParticipantIdsCallback:p,callEventCallback:m,store:_,fileKey:h}){var g,f,E,y,b;if(await this.setMicrophonePermissions(),!this.getSystemCompatibility())throw Error("System incompatible");this.setParticipantIdsCallback=p,this.userId=s,this.userEncryptionKey=u,this.callEventCallback=m;try{let e="vp8";o.Ay.safari&&+o.Ay.version>=13&&(e="h264"),await (null==(g=this.client)?void 0:g.leave()),this.client=this.AgoraRTC.createClient({mode:"live",codec:e}),this.AgoraRTC.setParameter("AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL",200),this.userId=s,this.handlingTokenExpiration=!1,this.client.setEncryptionConfig("aes-256-xts",c),this.attachClientListeners(r,a,s,c,m),await this.client.join(t,r,a,l),null==(f=i.eD)||f.setIsInVoiceCall(!0),await this.client.setClientRole("host"),this.microphonePermissionDenied||(this.localAudioTrack=await this.AgoraRTC.createMicrophoneAudioTrack({AEC:!0,AGC:!0,ANS:!0,microphoneId:null==(E=this.microphone)?void 0:E.deviceId}),this.unpublishedLocalAudioTrack=await this.AgoraRTC.createMicrophoneAudioTrack({AEC:!0,AGC:!0,ANS:!0,microphoneId:null==(y=this.microphone)?void 0:y.deviceId})),this.localAudioTrack&&await this.client.publish(this.localAudioTrack),await this.unmute()}catch(i){(0,n.sx)("Voice Call - Error",{callId:r,token:a,userId:s,encryptionKey:c,message:`${i.message}`,agora_exception:!1,agora_recovery:!1,join:!0},{forwardToDatadog:!0});let t=Error(`Error joining call: ${i.message}`);throw await e.leave(),t}finally{(0,d.ds)("voice_user_joined",h,_.getState(),{callId:r,userId:s,encryptionKey:c,captions_enabled:this.captionsToggleEnabled}),((null==(b=this.client)?void 0:b.connectionState)!=="DISCONNECTED"||this.isPublishingLocalTrack())&&this.startPollingMicState()}}get uid(){var e;return null==(e=this.client)?void 0:e.uid}async renewToken(e){var t,r,i;await (null==(t=this.client)?void 0:t.renewToken(e)),this.handlingTokenExpiration=!1,(0,n.sx)("Voice Call - Token Renewed",{token:e,userId:(null==(r=this.client)?void 0:r.uid)&&this.decryptedUserMap[null==(i=this.client)?void 0:i.uid]})}async leave(){var e;await (null==(e=this.client)?void 0:e.leave()),this.stopPollingMicState(),this.audioCaptionQueues.clear(),this.audioCaptionStream.clear()}async mute(){var e,t,r;await (null==(e=this.localAudioTrack)?void 0:e.setEnabled(!1)),this.audioCaptionQueues.removeTrack(this.userId,null==(t=this.localAudioTrack)?void 0:t.getMediaStreamTrack()),null==(r=i.eD)||r.setUsingMicrophone(!1),this.isMuted=!0}async unmute(){var e,t,r;await (null==(e=this.localAudioTrack)?void 0:e.setEnabled(!0)),(0,h.WO)()&&this.streamingAudioForCaptions&&this.audioCaptionQueues.addTrack(this.userId,null==(t=this.localAudioTrack)?void 0:t.getMediaStreamTrack()),null==(r=i.eD)||r.setUsingMicrophone(!0),this.isMuted=!1}streamAudioForCaptions(e){var t;(0,h.WO)()&&this.streamingAudioForCaptions!==e&&(this.streamingAudioForCaptions=e,this.audioCaptionQueues.clear(),this.streamingAudioForCaptions&&(null==(t=this.client)||t.remoteUsers.forEach(async e=>{var t;let r=await this.getDecryptedUserId(e.uid);this.audioCaptionQueues.addTrack(r,null==(t=e.audioTrack)?void 0:t.getMediaStreamTrack())}),this.localAudioTrack&&!this.isMuted&&this.audioCaptionQueues.addTrack(this.userId,this.localAudioTrack.getMediaStreamTrack())))}getSystemCompatibility(){return this.AgoraRTC.checkSystemRequirements()}isLocalUserSpeaking(){return!!this.userId&&f(this.averageRecentVoiceLevel[this.userId])}attachClientListeners(e,t,r,a,o){var l,s,c,d,p,m,_,f,E,y;null==(l=this.client)||l.removeAllListeners(),null==(s=this.client)||s.on("user-published",async(e,t)=>{var r;if(await (null==(r=this.client)?void 0:r.subscribe(e,t)),"audio"===t){let t=e.audioTrack||null;if(null==t||t.play(),this.playbackDevice&&(null==t||t.setPlaybackDevice(this.playbackDevice.deviceId)),(0,h.WO)()&&t&&this.streamingAudioForCaptions){let r=await this.getDecryptedUserId(e.uid);this.audioCaptionQueues.addTrack(r,t.getMediaStreamTrack())}}}),null==(c=this.client)||c.on("user-unpublished",async(e,t)=>{var r,n;if(!i.eD||"audio"!==t)return;let a=await this.getDecryptedUserId(e.uid);if(!a)return;let o=new Set;for(let t of(null==(r=this.client)?void 0:r.remoteUsers)||[]){let r=await this.getDecryptedUserId(t.uid),i=null==(n=e.audioTrack)?void 0:n.getMediaStreamTrack().id;r===a&&i&&o.add(i)}this.audioCaptionQueues.removeUnpublishedTrack(a,o)});let b=!0;null==(d=this.client)||d.on("network-quality",function(i){b&&(i.downlinkNetworkQuality>=4||i.uplinkNetworkQuality>=4)?((0,n.sx)("Voice Call - Bad Call Quality",{callId:e,token:t,userId:r,encryptionKey:a,message:`Bad call quality detected. downlink = ${i.downlinkNetworkQuality}, uplink = ${i.uplinkNetworkQuality}`,agora_exception:!1,agora_recovery:!1,join:!1},{forwardToDatadog:!0}),b=!1):b=!0}),null==(p=this.client)||p.on("user-joined",async e=>{var t;null==(t=this.setParticipantIdsCallback)||t.call(this,await this.getParticipantIds());let r=await this.getDecryptedUserId(e.uid);r!==this.userId&&o(g.$E.USER_JOINED,r)}),null==(m=this.client)||m.on("user-left",async e=>{var t;null==(t=this.setParticipantIdsCallback)||t.call(this,await this.getParticipantIds());let r=await this.getDecryptedUserId(e.uid);r!==this.userId&&o(g.$E.USER_LEFT,r)}),null==(_=this.client)||_.on("connection-state-change",async t=>{var r;let n;switch(t){case"CONNECTED":if(u.R9.sendVoiceMetadata(e),null==(r=this.setParticipantIdsCallback)||r.call(this,await this.getParticipantIds()),this.startPollingVolumeData(),this._microphonePermissionDenied){n=g.$E.CONNECTED_WITH_MIC_DISABLED;break}n=g.$E.CONNECTED;break;case"DISCONNECTED":this.onCallDisconnect(),n=g.$E.DISCONNECTED;break;case"CONNECTING":n=g.$E.CONNECTING;break;case"DISCONNECTING":n=g.$E.DISCONNECTING;break;case"RECONNECTING":n=g.$E.RECONNECTING}void 0!==n&&o(n)}),null==(f=this.client)||f.on("exception",i=>{let l;switch(i.code){case 2001:if(this.microphonePermissionDenied)break;l=g.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW;break;case 2002:l=g.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW;break;case 2003:if(this.microphonePermissionDenied)break;l=g.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW;break;case 2005:l=g.$E.WARNING_RECV_AUDIO_DECODE_FAILED;break;case 4001:if(this.microphonePermissionDenied)break;l=g.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER;break;case 4002:l=g.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER;break;case 4003:if(this.microphonePermissionDenied)break;l=g.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER;break;case 4005:l=g.$E.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER}l&&o(l),i.code>=3e3?(console.error(i),(0,n.sx)("Voice Call - Error",{callId:e,token:t,userId:r,encryptionKey:a,message:i.msg,code:i.code,agora_exception:!1,agora_recovery:!0,join:!1},{forwardToDatadog:!0})):(0,n.sx)("Voice Call - Error",{callId:e,token:t,userId:r,encryptionKey:a,message:i.msg,code:i.code,agora_exception:!0,agora_recovery:!1,join:!1},{forwardToDatadog:!0})}),null==(E=this.client)||E.on("token-privilege-will-expire",()=>{var i;if(!this.handlingTokenExpiration){if(this.handlingTokenExpiration=!0,!(null==(i=this.client)?void 0:i.remoteUsers.length)){o(g.$E.CALL_INACTIVE),(0,n.sx)("Voice Call - Token Will Expire",{callId:e,token:t,userId:r,encryptionKey:a,callInactive:!0});return}o(g.$E.TOKEN_WILL_EXPIRE_DETECT_MIC_INPUT),(0,n.sx)("Voice Call - Token Will Expire",{callId:e,token:t,userId:r,encryptionKey:a})}}),null==(y=this.client)||y.on("token-privilege-did-expire",()=>{o(g.$E.TOKEN_EXPIRED),(0,n.sx)("Voice Call - Token Did Expire",{callId:e,token:t,userId:r,encryptionKey:a})})}async getDecryptedUserId(e){var t;try{return this.decryptedUserMap[e]||(this.decryptedUserMap[e]=await (0,l.We)(this.userEncryptionKey,e.toString())),this.decryptedUserMap[e]}catch{(0,s.$D)(c.e.UNOWNED,Error(`Failed to decrypt encrypted user: ${e}`)),null==(t=this.callEventCallback)||t.call(this,g.$E.ERROR)}}async setMicrophonePermissions(){if(i.eD){this._microphonePermissionDenied=!await i.eD.requestMicrophonePermission();return}try{await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),this._microphonePermissionDenied=!1}catch(e){this._microphonePermissionDenied=!0}}get microphonePermissionDenied(){return this._microphonePermissionDenied}};v.instance=null;let I=v},571232:(e,t,r)=>{"use strict";r.d(t,{Eo:()=>_,W5:()=>m,bF:()=>h});var n=r(411855),i=r(188507),a=r(531664),o=r(44948),l=r(358145),s=r(891093),c=r(805286),d=r(85098),u=r(860178);function p(){let e=(0,i.d4)(e=>e.multiplayer).allUsers,t=c.R9.useVoiceMetadataBySessionId();function r(e,t){return e.sessionID===t.sessionID&&e.sawMouse===t.sawMouse&&e.deviceName===t.deviceName&&e.name===t.name&&e.imageURL===t.imageURL}return{multiplayerUsersInVoiceCall:(0,o.Op)(()=>e.filter(e=>{var r;return null==(r=t[e.sessionID])?void 0:r.connectedCallId}),[e,t],r),multiplayerUsersNotInVoiceCall:(0,o.Op)(()=>e.filter(e=>{var r;return!(null==(r=t[e.sessionID])?void 0:r.connectedCallId)}),[e,t],r)}}function m(e,t){let r=(0,u.iZ)(),a=(0,i.d4)(e=>e.multiplayer.deviceNameFilter),o=(0,i.d4)(t=>e&&t.voice.activeCall[e]),{multiplayerUsersInVoiceCall:s,multiplayerUsersNotInVoiceCall:c}=p(),m=(0,i.d4)(e=>e.voice.userIdsInCallFromProvider),[_,h]=(0,n.useState)(new Set),[g,f]=(0,n.useState)([]),[E,y]=n.useState(),b=(0,l.ZC)(o);return n.useEffect(()=>{o&&!b&&!E&&t&&(y(!0),setTimeout(()=>{y(!1)},2e3))},[o,b,t,E]),n.useEffect(()=>{!function(){if(o&&m.length>1&&!E){let e=new Set(m);h(e);let t=[];for(let r of[...c,...s])e.has(r.userID)||t.push(r);f((0,d._i)(t,a))}else h(new Set(s.map(e=>e.userID))),f((0,d._i)(c,a))}()},[o,s,c,r,a,m,E]),{userIdsInCall:_,usersNotInCall:g}}function _(e,t){let r=(0,i.wA)(),{multiplayerUsersInVoiceCall:o,multiplayerUsersNotInVoiceCall:l}=p(),c=n.useMemo(()=>o.reduce((e,t)=>({...e,[t.userID]:t.userID in e?e[t.userID].add(t):new Set([t])}),{}),[o]),d=n.useMemo(()=>l.reduce((e,t)=>({...e,[t.userID]:t.userID in e?e[t.userID].add(t):new Set([t])}),{}),[l]),u=(0,i.d4)(e=>t&&t in e.activeFileUsers?e.activeFileUsers[t]:void 0,i.bN),m=(0,i.d4)(e=>e.voice.voiceUsersById),[_,h]=(0,n.useState)([]),[g,f]=(0,n.useState)([]),[E,y]=(0,n.useState)([]);return n.useEffect(()=>{let t=[],r=[],n=[];for(let i of e)if(i in c)r.push(...c[i]);else if(i in d)r.push(...d[i]);else if(u&&i in u){let e=u[i];t.push({imageURL:e.imageUrl,name:e.handle,userID:e.id})}else i in m?t.push(m[i]):n.push(i);(0,a.c2)(E,r)||y(r),(0,a.c2)(g,t)||f(t),(0,i.bN)(_,n)||h(n)},[u,e,c,d,m,_,E,g]),n.useEffect(()=>{t&&_.length>0&&r(s.NS({fileKey:t,userIds:_}))},[_,r,t]),{voiceUsersInMultiplayer:E,voiceUsersNotInMultiplayer:g}}function h(e,t){let{voiceUsersInMultiplayer:r,voiceUsersNotInMultiplayer:i}=_(e,t);return n.useMemo(()=>[...r,...i],[r,i])}},338400:(e,t,r)=>{"use strict";r.d(t,{HJ:()=>b,Lk:()=>m,Mw:()=>E,WO:()=>f,X0:()=>g,YL:()=>h,gW:()=>_,nN:()=>y});var n=r(411855),i=r(188507),a=r(517333),o=r(358145),l=r(563706),s=r(178466),c=r(891093),d=r(984968),u=r(636751);let p=()=>!((0,l.wg)()||(0,l.o4)());function m(){let e=(0,i.d4)(e=>e.openFile),t=(0,i.d4)(e=>e.orgById),r=(0,i.d4)(e=>e.teams),a=null==e?void 0:e.key,l=(0,i.d4)(e=>a&&!!e.voice.activeCall[a]),[s,c]=n.useState(!1),d=(0,o.ZC)(s);return n.useEffect(()=>{let n=p()&&4===h({openFile:e,teams:r,orgById:t});!0===d&&!n&&l||c(n)},[e,t,r,d,l]),s}var _=(e=>(e[e.FEATURE_DISABLED=0]="FEATURE_DISABLED",e[e.DISABLED_BY_ORG=1]="DISABLED_BY_ORG",e[e.INELIGIBLE_FILE_IN_PERSONAL_SPACE=2]="INELIGIBLE_FILE_IN_PERSONAL_SPACE",e[e.ELIGIBLE_WITH_UPGRADE=3]="ELIGIBLE_WITH_UPGRADE",e[e.ELIGIBLE=4]="ELIGIBLE",e))(_||{});function h(e){if("gov"===window.INITIAL_OPTIONS.cluster_name)return 0;let t=e.openFile;if(!t||!t.parentOrgId&&!t.teamId)return 0;if(t.parentOrgId){let r=e.orgById[t.parentOrgId];return r?r.voice_enabled?4:1:0}if(t.teamId){let r=e.teams[t.teamId];return r?(0,d.PS)(r)?4:3:0}return 2}function g(){var e;return(null==(e=(0,s.Gq)())?void 0:e.getPrimaryLocale(!0))==="en"}function f(){return!!a.eD}function E(e){return e>=u.MK.STARTED&&e<u.MK.DONE}function y(e){return e<u.MK.NOT_STARTED}function b(e,t){var r;null==(r=a.eD)||r.setCaptionsEnabled(t),e(c.t7(t))}},325538:(e,t,r)=>{"use strict";r.d(t,{Em:()=>a,TI:()=>o,Wl:()=>i,mt:()=>l});var n=r(411855);function i(e,t){let[r,i]=(0,n.useState)(null),[a,o]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{if(t&&!a){let r=function(t){i(t[e]||null)};return t.volumeLevelsStore.subscribe(r),o(!0),()=>{t.volumeLevelsStore.unsubscribe(r),o(!1)}}},[t]),t)?r:null}function a(e,t,r){let n=t=>{r(t[e]||null)};return t&&t.volumeLevelsStore.subscribe(n),{unsubscribe:()=>null==t?void 0:t.volumeLevelsStore.unsubscribe(n)}}function o(e,t){let[r,i]=(0,n.useState)(),[a,o]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{if(t&&!a){let r=function(t){var r;i(null==(r=t[e])?void 0:r.isMuted)};return t.volumeLevelsStore.subscribe(r),o(!0),()=>{t.volumeLevelsStore.unsubscribe(r),o(!1)}}},[t]),t)return r}function l(e){let[t,r]=(0,n.useState)(null),[i,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(e&&!i){let t=function(e){r(e)};return e.recentlySpokeIdStore.subscribe(t),a(!0),()=>{e.recentlySpokeIdStore.unsubscribe(t),a(!1)}}},[e]),t}},349719:(e,t,r)=>{"use strict";r.d(t,{$g:()=>C,Au:()=>_,BG:()=>u,Bt:()=>s,GD:()=>I,KQ:()=>T,LF:()=>w,Qn:()=>v,_L:()=>m,_r:()=>N,bf:()=>n,fL:()=>c,hQ:()=>f,le:()=>E,lk:()=>S,mX:()=>h,mz:()=>y,oF:()=>d,pY:()=>p,qE:()=>b,rx:()=>A,sZ:()=>g,u_:()=>l,wS:()=>O,w_:()=>L});var n,i=r(776621),a=r(743282);function o(e){window.parent.postMessage(e,"*")}function l(){o({type:"FIGMA_READY"})}function s(e){o({type:"CSS_PROPERTIES",data:{cssProperties:e}})}function c(e){o({type:"HTML_SKELETON",data:{htmlSkeleton:e}})}function d(e){o({type:"TEXT",data:{text:e}})}function u(e,t){o({type:"LAYERS",data:{rootNodeId:e,layers:t}})}function p(e){o({type:"ASSET",data:{asset:e}})}function m(e){o({type:"RELATED_LINK_CREATED",data:{link:e}})}function _(e){o({type:"RELATED_LINK_REMOVED",data:{link:e}})}function h(e){o({type:"SELECTED_LAYER_GUID",data:{guid:e}})}function g(e){o({type:"SELECTED_PAGE_GUID",data:{guid:e}})}function f(e){o({type:"CONFIGURE_AUTOCOMPLETE",data:{providers:e}})}function E(e){o({type:"GENERATED_CODE",data:{sections:e}})}function y(e){o({type:"OPEN_RELATED_LINK",data:{href:e}})}function b(){o({type:"CREATE_FILE_LINK"})}let v=(0,r(479296).n)(e=>{o({type:"OPEN_IN_BROWSER",data:{href:e}})});function I(e){o({type:"FILE_NAME",data:{name:e}})}function T(){o({type:"OPEN_AUTOCOMPLETE_LINE_SETTINGS"})}function S(){o({type:"OPEN_AUTOCOMPLETE_BLOCK_SETTINGS"})}function w(e,t,r){o({type:"THUMBNAIL",data:{nodeId:e,thumbnailDataUri:t,thumbnailSize:r}})}function A(){o({type:"PAGE_LOADED"})}function C(){o({type:"IDLE_LOGOUT"})}function N(){o({type:"GO_BACK_TO_INDEX_PAGE"})}(e=>{e.sendGetLocalFileExtensionManifest=function(e){return O.sendMessage({type:"GET_LOCAL_FILE_EXTENSION_MANIFEST",request:{id:e}})},e.sendCreateMultipleNewLocalFileExtensions=function(e,t){return O.sendMessage({type:"CREATE_MULTIPLE_NEW_LOCAL_FILE_EXTENSIONS",request:{options:e,depth:t}})},e.sendGetLocalFileExtensionSourceMessage=function(e){return O.sendMessage({type:"GET_LOCAL_FILE_EXTENSION_SOURCE",request:{id:e}})},e.sendUpdateCachedContainsWidget=function(e){return O.sendMessage({type:"UPDATE_CACHED_CONTAINS_WIDGET",request:e})},e.sendGetLocalManifestFileExtensionIdsToCachedMetadataMap=function(){return O.sendMessage({type:"GET_LOCAL_MANIFEST_FILE_EXTENSION_IDS_TO_CACHED_METADATA_MAP",request:void 0})},e.sendRegisterManifestChangeObserverMessage=function(e){return L.registerCallback({type:"REGISTER_MANIFEST_CHANGE_OBSERVER"},e)},e.sendRegisterCodeChangeObserverMessage=function(e){return L.registerCallback({type:"REGISTER_CODE_CHANGE_OBSERVER"},e)},e.sendRegisterUIChangeObserverMessage=function(e){return L.registerCallback({type:"REGISTER_UI_CHANGE_OBSERVER"},e)},e.sendOpenExtensionDirectoryMessage=function(e){return o({type:"OPEN_EXTENSION_DIRECTORY",data:{id:e}})},e.sendOpenExtensionManifestMessage=function(e){return o({type:"OPEN_EXTENSION_MANIFEST",data:{id:e}})},e.sendRemoveFileExtensionMessage=function(e){return O.sendMessage({type:"REMOVE_LOCAL_FILE_EXTENSION",request:{id:e}})},e.sendGetLocalManifestFileExtensionIdsToCachedContainsWidgetMapMessage=function(){return O.sendMessage({type:"GET_LOCAL_MANIFEST_FILE_EXTENSION_IDS_TO_CACHED_CONTAINS_WIDGET_MAP",request:void 0})},e.sendToggleDevToolsMessage=function(){return o({type:"TOGGLE_DEV_TOOLS"})},e.sendGetAllLocalFileExtensionIdsMessage=function(){return O.sendMessage({type:"GET_ALL_LOCAL_FILE_EXTENSION_IDS",request:void 0})},e.sendWriteNewExtensionDirectoryToDiskMessage=function(e){return O.sendMessage({type:"WRITE_NEW_EXTENSION_DIRECTORY_TO_DISK",request:e})}})(n||(n={}));let O=new class{constructor(){this.pendingMessagesById={}}sendMessage(e){let t=(0,a.g)(),r={...e,requestId:t};return new Promise((e,n)=>{this.pendingMessagesById[t]={...r,resolve:e,reject:n},o(r)})}resolveMessage(e){let t=this.pendingMessagesById[e.requestId];if(!t){(0,i.x1)("MessageWithResponseManager.resolveMessage","No pending message found",{response:e,pendingMessagesById:this.pendingMessagesById},{reportAsSentryError:!0});return}e.response&&(t.resolve(e.response),delete this.pendingMessagesById[e.requestId])}},L=new class{constructor(){this.callbacksById={}}registerCallback(e,t){let r=(0,a.g)();return this.callbacksById[r]=t,o({...e,callbackId:r}),()=>this.cancelCallback(r)}resolveMessage(e){let t=this.callbacksById[e.callbackId];if(!t){(0,i.x1)("MessageWithCallbackManager.resolveMessage","No callback found",{response:e,callbacksById:this.callbacksById},{reportAsSentryError:!0});return}t(e.callbackData)}async cancelCallback(e){await O.sendMessage({type:"CANCEL_CALLBACK",request:{callbackId:e}}),delete this.callbacksById[e]}}},421234:(e,t,r)=>{"use strict";r.d(t,{ZM:()=>c,_W:()=>d,fO:()=>u,wM:()=>p});var n=r(411855),i=r(966159),a=r(733556),o=r(499737),l=r(231959),s=r(679892);function c(e){let t={};return e.forEach(e=>{let r=e.workspace_id??l.O;t[r]=(t[r]??0)+1}),t}function d(e,t=!0){let[r,l]=n.useState((0,o.Xm)()),c=n.useCallback(async()=>await s.Eh.getWorkspaceTeamsCounts({orgId:e}),[e]),d=(0,a.J)(()=>c(),[c]);return(n.useEffect(()=>{(0,i.xj)(d)?l((0,o.gB)(d.value.data.meta)):(0,i.ok)(d)?l((0,o.e1)([])):l((0,o.Xm)())},[d]),t)?r:(0,o.Xm)()}function u(e,t){return`${location.origin}/files/${t?t+"/":""}workspace/${e}/directory/teams`}function p(e){let t={},r=0,n=0;return e.forEach(e=>{if(e.workspace_id){let r=t[e.workspace_id]??0;r++,t[e.workspace_id]=r}else e.team_id?r++:n++}),{libraryCountByWorkspaceId:t,unassignedLibrariesCount:r,draftLibrariesCount:n}}},657193:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>L,SW:()=>C,yP:()=>N});var n=r(737947),i=r(966712),a=r(837324),o=r(410424),l=r(941381),s=r(944682),c=r(738269),d=r(270056),u=r(293017),p=r(782656),m=r(445092),_=r(988022),h=r(857766),g=r(355513),f=r(630331),E=r(243987),y=r(707465),b=r(783967),v=r(935757),I=r(239671),T=r(668526),S=r(402465),w=r(19573),A=r(396248);function C(e,t){return null==e||null==t?e!==t:y.$Z.requireHistoryChange(e,t)}let N=(e,t)=>y.$Z.selectedViewHasMissingResources(e,t),O=0,L=e=>t=>function(r){var L,R,P,k,D,M;let x=e.getState().selectedView;t(r);let F=e.getState();if(c.Qv.matches(r)){let t=F.selectedView;if(t===S.o0&&(t=(0,i.Ay)().selected_view||(0,y.vU)(F,n.Ay.location.pathname,n.Ay.location.search,n.Ay.location.hash)),"fullscreen"===t.view&&t.fileKey){let{fileKey:n}=t,i=e.getState().fileByKey[n];i&&!r.payload.fromRealtime&&(0,I.oD)(t.editorType)!==i.editor_type&&(t.editorType=(0,I.wN)(i.editor_type??"design"))}if(N(F,t)&&(t={view:"resourceUnavailable",resourceType:(M=t,new w.$T().selectedViewMissingResourceType(F,M))}),"teamUpgrade"===t.view&&t.teamId){let e=F.teams[t.teamId];e&&e.pro_team&&!(0,E.WQ)(e)&&(t={view:"team",teamId:t.teamId,teamViewTab:T.A.SETTINGS})}t!==S.o0?e.dispatch(c.$T(t)):(null==(L=F.user)?void 0:L.drafts_folder_id)?e.dispatch(c.$T({view:"folder",folderId:F.user.drafts_folder_id})):e.dispatch(c.$T({view:"recentFiles"}))}else if(u.OB.matches(r)){let e={view:"fullscreen",fileKey:r.payload.file.key,editorType:r.payload.fullscreenEditorType},t=(0,y.Np)(F,e);n.Ay.replace(t,{...e,jsCommitHash:(0,g.Qr)()})}else if(c.$T.matches(r)){if("prototype"!==x.view&&"prototype"===r.payload.view&&(0,A.q)()){let e=(0,y.Np)(F,r.payload);n.Ay.redirect(e)}"fullscreen"===r.payload.view&&("fullscreen"!==x.view||r.payload.editorType!==x.editorType)&&f.B8(r.payload.editorType);let{selectedView:t}=e.getState();if(!("inlinePreview"in t&&t.inlinePreview)&&!r.payload.fromPopstate){let t=(0,y.Np)(F,r.payload);n.Ay.location.pathname+n.Ay.location.search!==t?(("fullscreen"!==r.payload.view||r.payload.fileKey!==(null==(R=(0,i.Ay)().editing_file)?void 0:R.key))&&!v.YH&&(0,b.w)()&&(0,v._X)("fileBrowserHistory middleware selectView").then(t=>{e.dispatch(c.Qv(t.data.meta))}),!r.payload.forceReplaceState&&n.Ay.location.state&&C(x,r.payload)?n.Ay.push(t,{...r.payload,previousSelectedView:x,jsCommitHash:(0,g.Qr)()}):n.Ay.replace(t,{...r.payload,previousSelectedView:x,jsCommitHash:(0,g.Qr)()})):null==n.Ay.location.state&&n.Ay.replace(t,{...r.payload,previousSelectedView:x,jsCommitHash:(0,g.Qr)()}),(null==(D=null==(k=null==(P=e.getState())?void 0:P.user)?void 0:k.appData)?void 0:D.loggedOut)&&"fullscreen"!==r.payload.view&&n.Ay.reload("User Logged out")}if("searchAndBrowse"===r.payload.subView){let e=r.payload.data;e&&!e.category&&(0,g.hL)((0,a.vC)(e))}else(0,g.OR)(F,r.payload)}else if(o.Af.matches(r)&&"hubFile"===F.selectedView.subView)(0,g.OR)(F,{hubFileId:r.payload.hubFileId,subView:"hubFile",view:"communityHub"});else if(l.Qi.matches(r)){let t=e.getState().selectedView,i=r.payload.publishedPlugins,a=t&&"communityHub"===t.view&&"plugin"===t.subView&&t.publishedPluginId;if(a&&i&&i.some(e=>e.id===a)){if(n.Ay){let e=(0,y.Np)(F,t);n.Ay.replace(e,{...t,jsCommitHash:(0,g.Qr)()})}(0,g.OR)(F,t)}}else if(d.yJ.matches(r)){let t=e.getState().selectedView;"folder"===t.view&&t.folderId===r.payload.folder.id&&(0,g.OR)(F,t)}else if(d.bE.matches(r)){let t=e.getState().selectedView;if("folder"===t.view&&t.folderId===r.payload.id){(0,g.OR)(F,t);let e=(0,y.Np)(F,t);n.Ay.replace(e,{...t,jsCommitHash:(0,g.Qr)()})}}else if(p.yJ.matches(r)){let t=e.getState().selectedView;if("fullscreen"===t.view){let e=t.fileKey&&F.fileByKey[t.fileKey];if(e){let i=(0,h.L8)(e,F.repos);if(i&&i.id===r.payload.repo.id){(0,g.OR)(F,t);let e=(0,y.Np)(F,t);n.Ay&&n.Ay.replace(e,{...t,jsCommitHash:(0,g.Qr)()})}}}}else if(s.yJ.matches(r)){let t=e.getState().selectedView;if("fullscreen"===t.view&&r.payload.file.key===t.fileKey||"prototype"===t.view&&r.payload.file.key===t.file.key){(0,g.OR)(F,t);let e=(0,y.Np)(F,t);n.Ay&&n.Ay.replace(e,{...t,jsCommitHash:(0,g.Qr)()})}}else if(m.Rz.matches(r)){let t=e.getState().selectedView;(null==t?void 0:t.view)==="search"&&(n.Ay.replace((0,y.Np)(F,t),{...t,jsCommitHash:(0,g.Qr)()}),(0,g.OR)(F,t))}else c.Oe.matches(r)?(0,_.uE)("File Browser Sidebar Clicked",e.getState(),{clickedResourceType:r.payload.clickedResourceType,resourceIdOrKey:r.payload.resourceIdOrKey}):0===O&&(O=setTimeout(function(){O=0,null===e.getState().selectedView&&e.dispatch(c.$T({view:"recentFiles"}))},0));return r}},731078:(e,t,r)=>{"use strict";r.d(t,{Pf:()=>a,ck:()=>n,hv:()=>i});var n=(e=>(e[e.CURRENT_USER=0]="CURRENT_USER",e[e.TEAM=1]="TEAM",e[e.ORG=2]="ORG",e[e.WORKSPACE=3]="WORKSPACE",e))(n||{}),i=(e=>(e[e.INIT=0]="INIT",e[e.POSITIONING=1]="POSITIONING",e[e.UPLOADING=2]="UPLOADING",e))(i||{}),a=(e=>(e[e.SMALL=120]="SMALL",e[e.LARGE=500]="LARGE",e))(a||{})},694241:(e,t,r)=>{"use strict";r.d(t,{I_:()=>i,Yv:()=>a,fJ:()=>n});let n="f195f195-f195-f195-f195-f195f195f195",i=9;var a=(e=>(e.DEFAULT="DEFAULT",e.CUSTOM="CUSTOM",e))(a||{})},555328:(e,t,r)=>{"use strict";r.d(t,{CM:()=>c,Ch:()=>w,I0:()=>y,KS:()=>p,PM:()=>T,Qv:()=>h,U:()=>b,Ug:()=>u,Uz:()=>v,Zm:()=>A,aL:()=>s,bD:()=>o,cS:()=>g,dj:()=>N,hE:()=>l,iF:()=>f,m3:()=>I,po:()=>C,st:()=>m,vt:()=>d,xQ:()=>E,zF:()=>S});var n=r(330654),i=r(440535),a=r(178787),o=(e=>(e.HUB_FILE="hub_file",e.PLUGIN="plugin",e.WIDGET="widget",e.COMMENT="comment",e))(o||{}),l=(e=>(e.SUBSCRIPTION="subscription",e.ONE_TIME="one_time",e))(l||{}),s=(e=>(e.DETAIL="detail",e.INSERTS="inserts",e.QUICK_ACTIONS="quick_actions",e.PLUGIN_ROW="plugin_row",e.REDESIGNED_PLUGIN_ROW="redesigned_plugin_row",e.SEARCH="search",e))(s||{}),c=(e=>(e[e.NO_USER=0]="NO_USER",e[e.NO_PROFILE=1]="NO_PROFILE",e))(c||{}),d=(e=>(e.HUB_FILE="hub_file",e.PLUGIN="plugin",e.WIDGET="widget",e))(d||{}),u=(e=>(e.HUB_FILE="hub_file",e.PLUGIN="plugin",e.WIDGET="widget",e.PROFILE="profile",e))(u||{});let p=i.iG.extend({author:n.ignore(),parent_id:n.string().nullable(),reply_count:n.number(),last_replied_at:n.string().nullable(),resource_version_id:n.string(),message_meta:n.array(n.ignore()),rating_value:n.number().optional()}),m=n.object({plugin:n.ignore().nullish(),plugin_install:n.ignore().nullish(),whitelisted_plugin:n.ignore().nullish(),hub_file:n.ignore().nullish(),profile:n.ignore().nullish(),community_comment:n.ignore().nullish(),widget:n.ignore().nullish(),community_resource_payment:n.ignore().nullish()});var _=(e=>(e[e.SHOW_404=0]="SHOW_404",e[e.REDIRECT_TO_INTERNAL_PROFILE=1]="REDIRECT_TO_INTERNAL_PROFILE",e))(_||{}),h=(e=>(e.ALL="ALL",e.ME="ME",e.RATINGS_REVIEWS="RATINGS_REVIEWS",e.COMMENTS="COMMENTS",e))(h||{}),g=(e=>(e.COMMUNITY_LANDING="community_landing",e.FILE_BROWSER_RECOMMENDED_TEMPLATES="file_browser_recommended_templates",e.FIGJAM_TEMPLATES_PICKER="figjam_templates_picker",e.BROWSE_PLUGINS_MODAL="browse_plugins_modal",e.BROWSE_WIDGETS_MODAL="browse_widgets_modal",e.CURATED_PAGE="curated_page",e.NA="na",e.CONFIG_VOTE="config_vote",e.COMMUNITY_WIDGETS_PAGE="community_widgets_page",e.FIGJAM_SIMPLE_TEMPLATES_PICKER="figjam_simple_templates_picker",e.FIGMA_INSERTS_NUX="figma_inserts_nux",e.FILE_BROWSER_TEMPLATES_BAR="file_browser_templates_bar",e.COMMUNITY_LIBRARIES_QUICKSTART="community_libraries_quickstart",e.FIGJAM_SECTION_PRESET_PICKER="figjam_section_preset_picker",e.CATEGORY_PAGE="category_page",e.PIPER_TEMPLATE_MODAL="piper_template_modal",e))(g||{}),f=(e=>(e.PM="PM",e.DES="DES",e.ENG="ENG",e.MKT="MKT",e.UR="UR",e.OTH="OTH",e.ALL="ALL",e.STARTER="STARTER",e))(f||{});function E(e){return"is_widget"in e&&e.is_widget}function y(e){return"current_plugin_version_id"in e&&!e.is_widget}function b(e){return"client_meta"in e}function v(e){return"fig_file_metadata"in e}function I(e){return!!(null==e?void 0:e.monetized_resource_metadata)}function T(e){var t;return!!(null==(t=null==e?void 0:e.monetized_resource_metadata)?void 0:t.has_freemium_code)}function S(e){return"third_party_m10n_status"in e&&e.third_party_m10n_status===a.PN.FLAGGED}function w(e){return b(e)||E(e),e}var A=(e=>(e.POST_COMPOSER="POST_COMPOSER",e.NAVBAR="NAVBAR",e.RECENT_FILES_DIRECT_LINK="RECENT_FILES_DIRECT_LINK",e.IFRAME="IFRAME",e))(A||{}),C=(e=>(e.ACTIVE="active",e.INACTIVE="inactive",e))(C||{}),N=(e=>(e.PASTE="paste",e.DROP="drop",e.FILE_INPUT="file_input",e))(N||{}),O=(e=>(e[e.TRY_IT_OUT=0]="TRY_IT_OUT",e[e.OPEN=1]="OPEN",e))(O||{});n.object({id:n.string().nullish(),hubFileId:n.string().nullish(),pluginId:n.string().nullish(),widgetId:n.string().nullish(),oneStars:n.number(),twoStars:n.number(),threeStars:n.number(),fourStars:n.number(),fiveStars:n.number(),totalRatings:n.number(),avgRating:n.number().nullish(),createdAt:n.date().nullish(),updatedAt:n.date().nullish()})},945020:(e,t,r)=>{"use strict";r.d(t,{Kk:()=>o,UE:()=>s,Ws:()=>l,ai:()=>i,av:()=>d,f6:()=>n,kF:()=>a,lF:()=>c,zy:()=>u});var n=(e=>(e.FILE_BROWSER_SIDEBAR_RECENTS="file_browser_sidebar_recents",e.FILE_BROWSER_SIDEBAR_DRAFTS="file_browser_sidebar_drafts",e.FILE_BROWSER_SIDEBAR_FOLDER="file_browser_sidebar_folder",e.FILE_BROWSER_TOOLBAR_RECENTS="file_browser_toolbar_recents",e.FILE_BROWSER_TOOLBAR_FOLDER="file_browser_toolbar_folder",e.FILE_BROWSER_TOOLBAR_DRAFTS="file_browser_toolbar_drafts",e.FILE_BROWSER_TOPBAR_DELETED="file_browser_topbar_deleted",e.FILE_BROWSER_TOPBAR_RECENTS="file_browser_topbar_recents",e.FILE_BROWSER_TOPBAR_FOLDER="file_browser_topbar_folder",e.FILE_BROWSER_TOPBAR_DRAFTS="file_browser_topbar_drafts",e.FILE_BROWSER_TOPBAR_OFFLINE="file_browser_topbar_offline",e.FILE_BROWSER_EMPTY_FOLDER="file_browser_empty_folder",e.FILE_BROWSER_FEED="file_browser_feed",e.FILE_BROWSER_FOLDER_CONTEXT_MENU="file_browser_folder_context_menu",e.FILE_BROWSER_FOLDER_EMPTY_TILE="file_browser_folder_empty_tile",e.FILE_BROWSER_STARTER_TEAM_OVERVIEW="file_browser_starter_team_overview",e.FILE_BROWSER_TEAM_FILE_LIMIT_PAYWALL="file_browser_team_file_limit_paywall",e.FILE_BROWSER_TEAM_FOLDER_BUTTONS="file_browser_team_folder_buttons",e.FILE_BROWSER_NUX="file_browser_nux",e.FILE_BROWSER_ONBOARDING="file_browser_onboarding",e.FILE_BROWSER_TEMPLATES_BAR="file_browser_templates_bar",e.CURSOR_BOT_END_MODAL="cursor_bot_end_modal",e.DESIGN_TOOLTIPS_PLUS_OUTRO_MODAL="design_tooltips_plus_outro_modal",e.DESIGN_VIDEO_OUTRO_MODAL="design_video_outro_modal",e.FIGJAM_NUDGE_MODAL="figjam_nudge_modal",e.DESKTOP_NEW_TAB_BUTTON="desktop_new_tab_button",e.FIGJAM_WHATS_NEW_MODAL="figjam_whats_new_modal",e.FIGJAM_AI_ONBOARDING_MODAL="figjam_ai_onboarding_announcement",e.FIGJAM_EDITOR_FILE_CREATE_BUTTON="figjam_editor_file_create_button",e.OFFLINE_NOTIFICATION="offline_notification",e.FIGJAM_MINI_HOME="figjam_mini_home",e.COMMUNITY_COLLECTIONS_PAGE="community_collections_page",e.FIGJAM_MAKE_SOMETHING_POPUP="figjam_make_something_popup",e))(n||{}),i=(e=>(e.NEW_TAB="new_tab",e.SAME_TAB="same_tab",e))(i||{}),a=(e=>(e[e.NONE=0]="NONE",e[e.FOR_OPEN=1]="FOR_OPEN",e[e.FOR_MENU=2]="FOR_MENU",e))(a||{});function o(e,t=!0,r=!0){return e?{id:e.id,orgId:e.org_id||null,teamId:e.team_id,path:e.path,canEdit:t,canRename:r,inviteOnlyAt:e.is_invite_only?new Date:null,viewOnlyAt:e.is_view_only?new Date:null,subscription:e.is_subscribed?{}:null,description:e.description}:null}function l(e){return e?{id:e.id,name:e.name,org_id:e.orgId,img_url:e.imgUrl??void 0,subscription:e.subscription,restrictions_list:e.restrictionsList,student_team_at:e.studentTeamAt?e.studentTeamAt.toString():null,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toString():null,deleted_at:e.deletedAt?e.deletedAt.toString():null,created_at:e.createdAt.toString(),student_team:!!e.studentTeamAt}:null}function s(e,t){let r={key:e.key,teamId:e.team_id,folderId:e.folder_id,clientMeta:e.client_meta,parentOrgId:e.parent_org_id||null,fileRepoId:e.file_repo_id,sourceFileKey:e.source_file_key,linkAccess:e.link_access,hasFileLinkPassword:e.has_file_link_password,hasProtoLinkPassword:e.has_proto_link_password,updatedAt:new Date(e.updated_at||e.created_at),trashedAt:e.trashed_at?new Date(e.trashed_at):null,deletedAt:e.deleted_at?new Date(e.deleted_at):null,creatorId:e.creator_id,createdAt:new Date(e.created_at),name:e.name,_name:e.name,editorType:e.editor_type||"design",orgBrowsable:e.org_browsable||null,thumbnailGuid:e.thumbnail_guid||null,sourceCheckpointId:e.source_checkpoint_id||null,license:e.license,isTeamTemplate:!!e.is_team_template,figFileLinks:[],isFavorited:!!(null==e?void 0:e.is_favorited),isTryFile:e.is_try_file,votingSessions:null,template:null,canPublishTemplate:!1,viewerExportRestricted:!!e.viewer_export_restricted,publishedHubFile:null,ownerRole:null,trackTags:{isTemplate:e.is_template||null},libraryKey:e.library_key??""};if(!t)return r;let{team:n,folder:i,repo:a,sourceFile:l,can_delete:s,can_edit:c,can_edit_canvas:d,can_access_dev_mode_entry_point:u,can_access_full_dev_mode:p,can_manage:m,can_view:_,showEditButton:h,hasEduGracePeriod:g,org:f,orgUser:E,teamUser:y}=t;return{...r,team:function(e,t=!1){return e?{id:e.id,name:e.name,orgId:e.org_id,subscription:e.subscription,imgUrl:e.img_url||null,restrictionsList:e.restrictions_list||[],studentTeamAt:e.student_team_at?new Date(e.student_team_at):e.student_team?new Date:null,trialPeriodEnd:null,gracePeriodEnd:e.grace_period_end?new Date(e.grace_period_end):null,deletedAt:e.deleted_at?new Date(e.deleted_at):null,createdAt:new Date(e.created_at),eduGracePeriod:{id:"",isValid:t},licenseGroupId:e.license_group_id,licenseGroup:e.license_group,workspaceId:e.workspace_id,orgAccess:e.org_access}:null}(n,g),project:o(i),repo:a?{id:a.id,name:a.name,folderId:a.folder_id,teamId:a.team_id,defaultFileKey:a.default_file_key}:null,sourceFile:l?{key:l.key,name:l.name,fileRepoId:l.file_repo_id}:null,showEditButton:h,canDelete:s,canEdit:c,canEditCanvas:d,canAccessDevModeEntryPoint:u,canAccessFullDevMode:p,canManage:m,canView:_,org:f?{figjamDisabledAt:f.figjam_disabled_at,inviteWhitelist:{guestInviteSetting:f.invite_whitelist_guest_invite_setting},name:f.name}:null,currentPartialOrgUser:E?{draftsFolderId:E.drafts_folder_id,whiteboardPaidStatus:E.whiteboard_paid_status,accountType:E.design_paid_status,designAccountTypeRequest:null,whiteboardAccountTypeRequest:null,devModeAccountTypeRequest:null}:null,currentTeamUser:y?{whiteboardPaidStatus:y.whiteboard_paid_status,designPaidStatus:y.design_paid_status,designAccountTypeRequest:null,whiteboardAccountTypeRequest:null}:null}}var c=(e=>(e[e.BAR=0]="BAR",e[e.SPINNER=1]="SPINNER",e))(c||{});class d{constructor(e,t,r){this.tabCloseText=e,this.unsaved=t,this.error=r,this.hasUnsavedChanges=!1,this.hasUnsavedChanges=t.hasAutosaveChanges||t.hasMultiplayerChanges}equals(e){return e&&this.tabCloseText===e.tabCloseText&&this.unsaved.hasAutosaveChanges===e.unsaved.hasAutosaveChanges&&this.unsaved.hasMultiplayerChanges===e.unsaved.hasMultiplayerChanges&&this.error===e.error}}var u=(e=>(e[e.CUT=0]="CUT",e[e.COPY=1]="COPY",e[e.PASTE=2]="PASTE",e))(u||{})},813408:(e,t,r)=>{"use strict";r.d(t,{I7:()=>h,aP:()=>l,bo:()=>u,k2:()=>o,kM:()=>g,o1:()=>c,xK:()=>m});var n=r(330654),i=r(882225),a=r(583894),o=(e=>(e.RESOURCE_PAGE="resource_page",e.EDITOR="editor",e.UNIVERSAL_POSTING="universal_posting",e.ADMIN="admin",e))(o||{}),l=(e=>(e[e.EDIT=0]="EDIT",e[e.PREVIEW=1]="PREVIEW",e[e.UPLOADING=2]="UPLOADING",e[e.SUCCESS=3]="SUCCESS",e[e.FAILURE=4]="FAILURE",e))(l||{});let s=n.object({"500_500":n.string().optional(),"120_120":n.string().optional()});var c=(e=>(e.USER="user",e.TEAM="team",e.ORG="org",e))(c||{});let d=n.object({email:n.string().optional(),user_id:n.string(),is_primary_user:n.boolean(),can_sell_on_community:n.boolean().optional()}),u=i.n.and(n.object({id:n.string(),name:n.string(),profile_handle:n.string(),img_url:n.string().optional(),img_urls:s,current_user_is_following:n.boolean(),current_user_is_followed:n.boolean(),is_restricted_by_current_user:n.boolean(),entity_type:n.nativeEnum(c),primary_user_id:n.string().nullable(),location:n.string().nullable(),follower_count:n.number(),following_count:n.number(),isPending:n.boolean().optional(),associated_users:n.array(d).optional(),has_published:n.boolean().optional(),description:n.string().nullable()})),p=n.object({accepted:n.array(u),pending:n.array(u).optional()}),m=n.object({creator:a.aw,publisher:u,community_publishers:p}),_=a.aw.pick({id:!0,email:!0}),h=n.object({accepted:n.array(a.aw),pending:n.array(_).optional()});var g=(e=>(e.OWNER="owner",e.PUBLISHER="publisher",e.NONE="none",e))(g||{})},279702:(e,t,r)=>{"use strict";r.d(t,{Ae:()=>m,Gf:()=>s,PW:()=>u,fV:()=>c,gK:()=>_,w3:()=>h,zk:()=>d});var n=r(935283),i=r(966712),a=r(886571),o=r(987918),l=r(809511);let s={isInitialized:!1,hasMissingFonts:!1,activeUserAction:l.QOV.DEFAULT,currentTool:l.NLJ.SELECT,currentStampToolName:null,activeCanvasEditModeType:l.m1T.DESIGN_LAYOUT,showUi:!0,showKeyboardShortcuts:!1,topLevelMode:l.lyf.LAYOUT,urlNodeId:"-1:-1",hideMultiplayerCursors:!1,showArtboardOutline:!1,useRealmsForPluginDev:!1,showComments:!0,currentSelectedGradientStop:{type:l.vRS.NONE,index:-1},currentSelectedProperty:{type:l.rrT.NONE,indices:[]},isUserPresent:!1,showTogglePrototypeModeButton:!1,forcePublishFlattened:!1,prototypeCanvasUiVisible:!1,showTooltips:!1,prototypeBackgroundPickerOpen:!1,pastableStyleCount:0,statePropertyToFocus:"",hoveredNode:"",multiplayerSessionState:l.kul.UNJOINED,isReadOnly:!0,isSceneReadOnly:!0,hyperlinkLocation:null,onCanvasNameEditorInfo:{mode:l.nzw.NONE,x:0,y:0,angle:0,padding:{x:0,y:0},margin:{x:0,y:0},cornerRadius:0,fontSize:11},votingSessionInfo:{sessionId:"",votingStage:l.W8Y.NO_SESSION,userVoteLimit:0,votedNodes:[],userIdToVoteStampIds:{}},loadingEmbeds:[],temporarilyExpandedInstanceLayers:[],keyboardShortcuts:{},selectedInteractions:[],hoveredInteractions:[],currentPage:"0:1",pagesList:[],devHandoffCodeLanguage:{type:"first-party",id:"WEB"},devHandoffPreferences:{codeExtensionPreferences:{}},branchingSceneState:l.aTl.ATTACHED_FILE_TIP,lastBranchingStagingAction:l.YIO.NONE,themePreference:null,sceneGeneration:0,spellCheckSuggestions:{figma:{suggestions:[],rangeText:"",rangeStart:0,rangeEnd:0,noSuggestionsFound:!1}},onCanvasPillInfo:null,activeTextReviewPlugin:null,hotReloadPluginDev:!0,useLocalRelatedLinkPlugin:!1};var c=(e=>(e[e.MIXED_OR_NO_SYMBOLS=0]="MIXED_OR_NO_SYMBOLS",e[e.SYMBOLS_ONLY=1]="SYMBOLS_ONLY",e))(c||{}),d=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.YES_WITHOUT_TRACKING_AS_EDIT=2]="YES_WITHOUT_TRACKING_AS_EDIT",e[e.YES_FORCE_TRACKING_AS_EDIT=3]="YES_FORCE_TRACKING_AS_EDIT",e[e.NO_BUT_TRACK_AS_EDIT=4]="NO_BUT_TRACK_AS_EDIT",e))(d||{}),u=(e=>(e[e.NOT_ASSET=0]="NOT_ASSET",e[e.ASSET_ICON=1]="ASSET_ICON",e[e.ASSET_IMAGE=2]="ASSET_IMAGE",e[e.ASSET_GIF=4]="ASSET_GIF",e[e.ASSET_VIDEO=8]="ASSET_VIDEO",e[e.ASSET_COMPONENT=16]="ASSET_COMPONENT",e))(u||{});function p(e){switch(e){case l.rXF.BOOLEAN:return"BOOLEAN";case l.rXF.COLOR:return"COLOR";case l.rXF.FLOAT:return"FLOAT";case l.rXF.STRING:return"STRING";case l.rXF.SYMBOL_ID:return"SYMBOL_ID";case l.rXF.MAP:return"MAP";case l.rXF.FONT_STYLE:return"FONT_STYLE";case l.rXF.TEXT_DATA:return"TEXT_DATA";default:(0,n.xb)(e)}}function m(e){let t=[l.j0r.FONT_STYLE,l.j0r.FONT_FAMILY,l.j0r.FONT_SIZE,l.j0r.LINE_HEIGHT,l.j0r.LETTER_SPACING,l.j0r.PARAGRAPH_SPACING,l.j0r.PARAGRAPH_INDENT,l.j0r.FONT_VARIATIONS];return(0,i.kc)().variables_typography_scopes?e.map(e=>l.j0r[e]):e.filter(e=>!t.includes(e)).map(e=>l.j0r[e])}function _(e){return e?e.map(e=>l.j0r[e]):[l.j0r.ALL_SCOPES]}function h(e){let t={entries:[]};return Object.keys(e).forEach(r=>{var n;let i=e[r];if(i){if(i.isMixed)return;{let e=function(e){function t(e){if(e.type!==l.Z_n.ALIAS)return null;let t=a.sD.fromString(e.value);return t?a.sD.toKiwi(t):null}switch(e.type){case l.Z_n.BOOLEAN:return{dataType:"BOOLEAN",resolvedDataType:"BOOLEAN",value:{boolValue:e.value}};case l.Z_n.FLOAT:return{dataType:"FLOAT",resolvedDataType:"FLOAT",value:{floatValue:e.value}};case l.Z_n.COLOR:return{dataType:"COLOR",resolvedDataType:"COLOR",value:{colorValue:e.value}};case l.Z_n.STRING:return{dataType:"STRING",resolvedDataType:"STRING",value:{textValue:e.value}};case l.Z_n.ALIAS:{let r=t(e);if(!r)return null;return{dataType:"ALIAS",resolvedDataType:p(e.resolvedType),value:{alias:r}}}case l.Z_n.NODE_FIELD_ALIAS:{let t=[];for(let r of e.value.stablePathToNode){let e=(0,o.sH)(r);if(!e)return null;t.push(e)}let r=e.value.nodeField,n=e.value.indexOrKey;if(!t||!r||!n)return null;if("COMPONENT_PROP_ASSIGNMENTS"===r)return{dataType:"NODE_FIELD_ALIAS",resolvedDataType:p(e.resolvedType),value:{nodeFieldAliasValue:{stablePathToNode:{guids:t},nodeField:r,indexOrKey:n}}};return null}case l.Z_n.FONT_STYLE:{let r=e.value.asFloat&&t(e.value.asFloat)?{resolvedDataType:"FLOAT",fontStyleKey:"asFloat",variableId:t(e.value.asFloat)}:e.value.asString&&t(e.value.asString)?{resolvedDataType:"STRING",fontStyleKey:"asString",variableId:t(e.value.asString)}:null;if(!r)return null;return{dataType:"FONT_STYLE",resolvedDataType:"FONT_STYLE",value:{fontStyleValue:{[r.fontStyleKey]:{dataType:"ALIAS",resolvedDataType:r.resolvedDataType,value:{alias:r.variableId}}}}}}case l.Z_n.MAP:case l.Z_n.EXPRESSION:case l.Z_n.SYMBOL_ID:case l.Z_n.TEXT_DATA:return null}}(i);e&&(null==(n=t.entries)||n.push({variableData:e,variableField:r}))}}else t.entries.push({variableField:r})}),t}},155367:(e,t,r)=>{"use strict";r.d(t,{J7:()=>n,_d:()=>a,eL:()=>i});var n=(e=>(e.DASHBOARD="",e.WORKSPACES="workspaces",e.TEAMS="teams",e.MEMBERS="members",e.ACTIVITY="activity",e.BILLING="billing",e.RESOURCES="resources",e.SETTINGS="settings",e))(n||{});let i=["workspaces"];var a=(e=>(e.LIBRARIES="",e.SHARED_FONTS="fonts",e.APPROVED_PLUGINS="plugins",e.APPROVED_WIDGETS="widgets",e))(a||{})},916525:(e,t,r)=>{"use strict";r.d(t,{$r:()=>I,Eg:()=>f,FI:()=>v,GX:()=>p,J0:()=>u,LU:()=>l,MF:()=>_,Od:()=>o,Oo:()=>d,SL:()=>g,U9:()=>y,WH:()=>E,cC:()=>m,dy:()=>a,e5:()=>c,oU:()=>s,rk:()=>T,wQ:()=>S});var n=r(720647),i=r(99506),a=(e=>(e.ASC="asc",e.DESC="desc",e))(a||{}),o=(e=>(e.NAME="name",e.LAST_ACTIVE="last_active",e.LAST_DESIGN_ACTIVE="last_design_active",e.LAST_WHITEBOARD_ACTIVE="last_whiteboard_active",e.LAST_EDIT="last_edit",e.LAST_DESIGN_EDIT="last_design_edit",e.LAST_WHITEBOARD_EDIT="last_whiteboard_edit",e.DESIGN_ROLE="design_role",e.DESIGN_UPGRADE_DATE="design_upgrade_date",e.WHITEBOARD_ROLE="whiteboard_role",e.WHITEBOARD_UPGRADE_DATE="whiteboard_upgrade_date",e.LICENSE_GROUP="license_group",e.WORKSPACE="workspace",e.SCIM_DATA="scim_data",e.DESIGN_UPGRADE_REASON="design_upgrade_reason",e.WHITEBOARD_UPGRADE_REASON="whiteboard_upgrade_reason",e.SEARCH_SCORE="score",e.DEV_MODE_ROLE="dev_mode_role",e.DEV_MODE_UPGRADE_DATE="dev_mode_upgrade_date",e))(o||{});let l=["last_active","last_design_active","last_whiteboard_active","last_edit","last_design_edit","last_whiteboard_edit","design_upgrade_date","whiteboard_upgrade_date","dev_mode_upgrade_date"],s={columnName:"name",isReversed:!1};var c=(e=>(e.productFilter="productFilter",e.licenseGroupFilter="licenseGroupFilter",e.workspaceFilter="workspaceFilter",e.permissionFilter="permissionFilter",e.roleFilter="roleFilter",e.lastEditFilter="lastEditFilter",e.newEditorFilter="newEditorFilter",e))(c||{}),d=(e=>(e.product="product",e.workspace="workspace",e.billingGroup="billingGroup",e.accountType="accountType",e.role="role",e.lastEdit="lastEdit",e.newEditor="newEditor",e))(d||{});let u={productFilter:null,licenseGroupFilter:null,workspaceFilter:null,permissionFilter:null,roleFilter:null,lastEditFilter:null,newEditorFilter:!1},p={product:"productFilter",role:"roleFilter",billingGroup:"licenseGroupFilter",workspace:"workspaceFilter",accountType:"permissionFilter",lastEdit:"lastEditFilter",newEditor:"newEditorFilter"},m={productFilter:"product",licenseGroupFilter:"billingGroup",workspaceFilter:"workspace",permissionFilter:"accountType",roleFilter:"role",lastEditFilter:"lastEdit",newEditorFilter:"newEditor"};function _(){let e={full:0,restricted:0,starter:0};return{designAccountType:{...e},figjamAccountType:{...e},devModeAccountType:{...e},permission:{guest:0,member:0,admin:0,provisional:0,unverified:0},lastEdit:{[T["3mo"]]:0,[T["6mo"]]:0,[T["1yr"]]:0}}}let h={FIGMA:"figma",FIGJAM:"figjam",DEV_MODE:"dev_mode"},g={[h.FIGMA]:n.oM.DESIGN,[h.FIGJAM]:n.oM.WHITEBOARD,[h.DEV_MODE]:n.oM.DEV_MODE},f={[n.oM.DESIGN]:h.FIGMA,[n.oM.WHITEBOARD]:h.FIGJAM,[n.oM.DEV_MODE]:h.DEV_MODE},E={IDP:"provisional",UNVERIFIED:"unverified"},y={[i._D.ADMIN]:i._D.ADMIN,[i._D.GUEST]:i._D.GUEST,[i._D.MEMBER]:i._D.MEMBER,[E.IDP]:E.IDP,[E.UNVERIFIED]:E.UNVERIFIED},b={EDITOR:"editor",VIEWER:"viewer","VIEWER-RESTRICTED":"viewer-restricted"},v={[b.EDITOR]:i.El.FULL,[b.VIEWER]:i.El.STARTER,[b["VIEWER-RESTRICTED"]]:i.El.RESTRICTED},I={[i.El.FULL]:b.EDITOR,[i.El.STARTER]:b.VIEWER,[i.El.RESTRICTED]:b["VIEWER-RESTRICTED"]},T={"3mo":"3mo","6mo":"6mo","1yr":"1yr"};function S(e){return"user_id"in e&&void 0!==e.user_id}},833030:(e,t,r)=>{"use strict";r.d(t,{Kq:()=>a,ig:()=>o,xZ:()=>l});var n=r(99506),i=r(231959),a=(e=>(e.NAME="name",e.OWNER="owner_name",e.PROJECTS="projects",e.MEMBERS="member_count",e.WORKSPACE="workspace_name",e.ORG_ACCESS="org_access",e))(a||{}),o=(e=>(e.JOINED="JOINED",e.NOT_JOINED="NOT_JOINED",e))(o||{});function l(){return{workspaces:{[i.O]:0},org_access:{[n.bU.PUBLIC]:0,[n.bU.PRIVATE]:0,[n.bU.SECRET]:0},team_membership:{JOINED:0,NOT_JOINED:0}}}},66037:(e,t,r)=>{"use strict";r.d(t,{L_:()=>y,Ru:()=>f,WU:()=>E,Wd:()=>g,jh:()=>h,kc:()=>u,x0:()=>v});var n=r(935283),i=r(330654),a=r(99506),o=r(720647),l=r(500615),s=r(447618),c=r(583894),d=r(269340),u=(e=>(e.SELF_SELECTED="self",e.SELF_SELECTED_NOT_LISTED="not listed",e.SELF_SELECTED_DONT_KNOW="don't know",e.MOVED_BY_ADMIN="moved",e.AUTO_ASSIGNED="auto",e))(u||{});let p=i.nativeEnum(u),m=i.object({id:i.string(),license_group_id:i.string().nullable(),org_user_id:i.string(),assigned_at:i.string(),created_at:i.string(),actor_user_id:i.string().nullable(),update_reason:p,updated_at:i.string()}),_=i.object({id:i.string(),license_group_id:i.string().nullable(),org_user_id:i.string(),created_at:i.string(),updated_at:i.string()});a.El.FULL,a.El.STARTER,a.El.RESTRICTED;var h=(e=>(e[e.GUEST=0]="GUEST",e[e.MEMBER=2]="MEMBER",e[e.ADMIN=3]="ADMIN",e))(h||{}),g=(e=>(e.ORG_USER="org_user",e.IDP_USER="idp_user",e.ORG_INVITE="org_invite",e))(g||{});let f=i.object({design_paid_status:a.cA,whiteboard_paid_status:a.cA,dev_mode_paid_status:a.cA,id:i.string(),org_id:i.string(),user_id:i.string(),user:c.aw,permission:a.B0,description:i.string().nullish(),drafts_folder_id:i.string(),created_at:i.string(),updated_at:i.string(),disabled_at:i.string().nullish(),account_type:i.string().optional(),account_type_changed_at:i.string().optional(),last_edit:i.string().nullish(),last_seen:i.string().nullish(),last_design_edit:i.union([i.string(),l.t]).nullish(),last_whiteboard_edit:i.union([i.string(),l.t]).nullish(),last_design_seen:i.union([i.string(),l.t]).nullish(),last_whiteboard_seen:i.union([i.string(),l.t]).nullish(),last_dev_mode_seen:i.union([i.string(),l.t]).nullish(),scim_account_type:i.string().nullish(),scim_whiteboard_paid_status:i.string().nullish(),scim_dev_mode_paid_status:i.string().nullish(),scim_is_admin:i.boolean().nullish(),user_state_changed_at:i.string().optional(),design_upgrade_reason:s.P.nullish(),whiteboard_upgrade_reason:s.P.nullish(),dev_mode_upgrade_reason:s.P.nullish(),scim_metadata:i.record(i.string().nullish()).nullish(),agreed_to_community_tos_at:i.string().nullish(),license_group_member:m.optional(),license_group_admins:i.array(_).optional(),license_admin:i.boolean().optional(),is_email_validated:i.boolean().optional().nullable(),show_figjam_user_onboarding:i.boolean().nullable(),has_shown_figjam_admin_onboarding:i.boolean().nullable(),has_shown_figjam_admin_launch_onboarding:i.boolean().nullable(),ecc_upgrading_locked:i.boolean().nullish(),type:i.literal("org_user").default("org_user"),workspace_users:i.array(d.C).optional(),is_dev_mode_beta_user:i.boolean().optional()}),E=f;a._Y.WHITEBOARD,a._Y.DESIGN,a._Y.SITES;let y={[o.lM.FIGJAM]:"whiteboard_paid_status",[o.lM.DESIGN]:"design_paid_status",[o.lM.DEV_MODE]:"dev_mode_paid_status"};function b(e,t){switch(t){case o.lM.DESIGN:return e.design_paid_status;case o.lM.FIGJAM:return e.whiteboard_paid_status;case o.lM.DEV_MODE:return e.dev_mode_paid_status;default:(0,n.xb)(t)}}function v(e,t){switch(t){case o.lM.DESIGN:case o.lM.FIGJAM:return b(e,t);case o.lM.DEV_MODE:return b(e,o.lM.DESIGN)===a.El.FULL?a.El.FULL:b(e,t);default:(0,n.xb)(t)}}},802026:(e,t,r)=>{"use strict";r.d(t,{Ct:()=>d,EZ:()=>m,Gv:()=>h,OE:()=>f,X1:()=>y,ZG:()=>p,ju:()=>b});var n=r(330654),i=r(99506),a=r(253609),o=r(343279),l=r(222233),s=r(622139),c=r(139961),d=(e=>(e.ANY="any",e.GOOGLE="google",e.SAML="saml",e))(d||{});let u=n.union([n.literal("AUTO"),n.literal("GOOD"),n.literal("DELINQUENT"),n.literal("SUSPENDED"),n.literal("DEACTIVATED")]),p={AUTO:"AUTO",GOOD:"GOOD",DELINQUENT:"DELINQUENT",SUSPENDED:"SUSPENDED",DEACTIVATED:"DEACTIVATED"};var m=(e=>(e.MANUAL="manual",e.DISABLED="disabled",e.QUARTERLY="quarterly",e.CHARGE_IMMEDIATELY="quarterly_auto_charge",e))(m||{});let _=n.nativeEnum(m);var h=(e=>(e.REQUIRE_APPROVAL="require_approval",e.BANNED="banned",e))(h||{});let g=n.nativeEnum(h);var f=(e=>(e.US="US",e.EU="EU",e))(f||{});let E=n.nativeEnum(f);n.object({name:n.string(),img_url:n.string().optional(),id:n.string()});var y=(e=>(e.Initial="Initial",e.ChoosePlan="ChoosePlan",e.AddCollaborators="AddCollaborators",e.PseudoCreateTeam="PseudoCreateTeam",e.CreateTeam="CreateTeam",e.TeamSelect="TeamSelect",e.Details="Details",e.Payment="Payment",e.Review="Review",e.Confirmation="Confirmation",e))(y||{}),b=(e=>(e.ENTERPRISE="enterprise",e.ORGANIZATION="organization",e))(b||{});let v=n.nativeEnum(b);var I=(e=>(e.DEPROVISION="deprovision",e))(I||{});o.bV.extend({id:n.string(),name:n.string(),legal_name:n.string().optional(),domain_capture:n.boolean(),created_at:n.string().optional(),updated_at:n.string().optional(),deleted_at:n.string().optional(),img_url:n.string().optional(),handle:n.string().optional(),figjam_disabled_at:n.date().nullable(),realtime_token:n.string().optional(),standing:u,stripe_customer_id:n.string().optional(),invite_whitelist_enforced:n.boolean(),invite_whitelist_enforced_guests:n.boolean(),invite_whitelist_guest_invite_setting:g.nullable(),invite_whitelist_member_allowlist_enabled:n.boolean().nullable(),ip_ranges:n.array(n.string()),past_due_at:n.string().nullable(),plugins_whitelist_enforced:n.boolean(),widgets_whitelist_enforced:n.boolean(),plugin_requests_allowed:n.boolean(),widget_requests_allowed:n.boolean(),public_plugins_allowed:n.boolean(),voice_enabled:n.boolean().optional(),billing:_.nullable(),google_sso_only:n.boolean(),saml_sso_only:n.boolean(),locked_quantity_full_members:n.number().nullable(),locked_quantity_figjam_members:n.number().nullable(),featured_scim_metadata:i.tw.nullable(),community_profile_id:n.string().optional(),community_profile_handle:n.string().optional(),template_picker_disabled:n.boolean().optional(),experiment_seed:n.string().optional(),experiment_eligible:n.boolean().optional(),bigma_enabled:n.boolean().optional(),bigma_enabled_at:n.number().optional(),security_add_on_enabled_at:n.number().optional(),workshop_enabled:n.boolean().optional(),cursor_chat_disabled:n.boolean().optional(),plan:v.optional(),design_default_paid_status:i.cA.optional(),whiteboard_default_paid_status:i.cA.optional(),k12_google_org:n.boolean(),shared_org_license_group_settings:c.Vh.nullable(),vat_gst_id:n.string().optional().nullable(),tax_id_verification_status:i.xy.optional(),are_custom_templates_allowed:n.boolean(),should_auto_renew:n.boolean(),has_automatic_upcoming_invoice:n.boolean(),target_locality:E.optional(),org_domains:l.N.optional().nullable(),workspaces_count:n.number().optional(),cmty_publish_as_user_enabled:n.boolean().optional(),license_groups_count:n.number().optional(),workspaces_nux_active_at:n.string().optional(),ai_features_disabled:n.boolean().optional(),is_dev_mode_opt_in_accepted:n.boolean().optional(),has_invalid_upgrades:n.boolean().optional(),figma_provided_libraries_disabled:n.boolean().optional(),billing_api:a.z,stripe_memo:n.string().optional(),self_serve:n.boolean().optional(),invoice_currency:n.nativeEnum(s.Sj).optional()})},622139:(e,t,r)=>{"use strict";r.d(t,{$V:()=>d,CO:()=>l,EB:()=>c,MC:()=>m,R$:()=>a,Sj:()=>o,UW:()=>s,Ye:()=>p,tY:()=>n,tn:()=>i});var n=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ANNUAL=1]="ANNUAL",e[e.MONTHLY=2]="MONTHLY",e[e.STUDENT=3]="STUDENT",e))(n||{});let i={UPGRADE_NEW_TEAM:"upgrade_new_team",PLAN_COMPARISON:"plan_comparison",CREATE_TEAM:"create_team",ADD_COLLABORATORS:"add_collaborators",CHOOSE_PLAN:"choose_plan",PAYMENT_AND_ADDRESS:"payment_and_address",CONFIRM_PAY:"confirm_pay"};var a=(e=>(e.MONTHLY="monthly",e.ANNUAL="annual",e))(a||{});let o={USD:"usd",CAD:"cad",EUR:"eur",GBP:"gbp",JPY:"jpy"};Object.values(o);let l="US",s="JP",c=e=>({line1:"",line2:"",country:e||l,city:"",region:"",postal_code:""});function d(e){return""===e.line1&&""===e.line2&&""===e.city&&""===e.region&&""===e.postal_code}var u=(e=>(e.PRODUCT_PRO_DESIGN_ANNUAL="prod_BTrZbmnROhwnmX",e.PRODUCT_PRO_DESIGN_MONTHLY="prod_BUXN0CamqLCsuF",e.PRODUCT_PRO_FIGJAM_ANNUAL="figjam_annual_usd_36",e.PRODUCT_PRO_FIGJAM_MONTHLY="figjam_monthly_usd_5",e))(u||{});let p=["prod_BTrZbmnROhwnmX","prod_BUXN0CamqLCsuF"],m=["figjam_annual_usd_36","figjam_monthly_usd_5"]},376485:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>E,Au:()=>ei,Av:()=>en,C:()=>Q,Dk:()=>C,FW:()=>W,Gb:()=>ec,HK:()=>g,Kd:()=>b,LR:()=>Z,Lu:()=>es,Lz:()=>ee,MP:()=>P,Q7:()=>eo,UX:()=>v,Wt:()=>L,XS:()=>A,Ye:()=>K,ZQ:()=>z,ZV:()=>D,am:()=>el,bH:()=>$,f5:()=>er,ho:()=>f,k0:()=>q,n_:()=>ed,ow:()=>J,pL:()=>Y,pR:()=>T,sM:()=>et,u8:()=>h,xg:()=>ea});var n,i=r(330654),a=r(107877),o=r(560718),l=r(99506),s=r(813408),c=r(882225),d=r(979215),u=r(483327),p=r(401730),m=r(178787),_=r(629521),h=(e=>(e[e.PUBLIC_PLUGINS_DISALLOWED=0]="PUBLIC_PLUGINS_DISALLOWED",e[e.PLUGIN_NOT_ORG_APPROVED=1]="PLUGIN_NOT_ORG_APPROVED",e[e.PLUGIN_INSTALLED_FOR_ORG=2]="PLUGIN_INSTALLED_FOR_ORG",e[e.PLUGIN_INSTALLED_FOR_USER=3]="PLUGIN_INSTALLED_FOR_USER",e[e.PLUGIN_INSTALLABLE=4]="PLUGIN_INSTALLABLE",e))(h||{}),g=(e=>(e.FIGMA="design",e.FIGJAM="whiteboard",e.UNIVERSAL="design_and_whiteboard",e.INSPECT="inspect",e.FIGMA_AND_INSPECT="design_and_inspect",e))(g||{}),f=(e=>(e.LOAD="LOAD",e.PARSE="PARSE",e.VALIDATE="VALIDATE",e))(f||{}),E=(e=>(e.Plugin="plugin",e.Widget="widget",e))(E||{});let y=i.object({type:i.nativeEnum(f),text:i.string()}),b=["camera","microphone","displaycapture"],v=["openexternal","analytics","cortex","debug","firstdraft","filekey","hidecursors",...b],I=i.object({command:i.string(),name:i.string(),multipleSelection:i.boolean().optional()}),T=["currentuser","activeusers","teamlibrary","fileusers","payments","clipboardwrite"],S=i.object({name:i.string(),key:i.string(),description:i.string().optional(),optional:i.boolean().optional(),allowFreeform:i.boolean().optional()}),w=i.array(S),A=[...T,...v];[...A];let C=["textreview","panel","inspect","codegen","linkpreview","vscode"],N=i.object({label:i.string(),value:i.string(),isDefault:i.boolean().optional()}),O=i.object({itemType:i.literal("action"),propertyName:i.string(),includedLanguages:i.array(i.string()).optional(),label:i.string().optional()});function L(e){return O.safeParse(e).success}let R=i.object({itemType:i.literal("unit"),scaledUnit:i.string(),defaultScaleFactor:i.number().optional(),default:i.boolean().optional(),includedLanguages:i.array(i.string()).optional()});function P(e){return R.safeParse(e).success}let k=i.object({itemType:i.literal("select"),propertyName:i.string(),label:i.string().optional(),options:i.array(N),includedLanguages:i.array(i.string()).optional()});function D(e){return k.safeParse(e).success}let M=i.union([O,R,k]),x=i.array(M),F=i.object({label:i.string(),value:i.string()}),U=i.object({command:i.string(),name:i.string(),parameters:w.optional(),parameterOnly:i.boolean().optional()}),B=i.object({separator:i.literal(!0)}),H=i.object({name:i.string()}).extend({menu:i.lazy(()=>i.array(i.union([U,B,H])))}),V=i.object({allowedDomains:i.array(i.string()),reasoning:i.string().optional(),devAllowedDomains:i.array(i.string()).optional()}),G=i.union([H,U,B]);var W=(e=>(e.FIGMA="figma",e.FIGJAM="figjam",e.INSPECT="inspect",e.DEV="dev",e.SITES="sites",e))(W||{});let K=Object.values(W),Y=i.object({id:i.string().optional(),name:i.string(),api:i.string(),main:i.string(),ui:i.union([i.string(),i.record(i.string(),i.string())]).optional(),build:i.string().optional(),enableProposedApi:i.boolean().optional(),enablePrivatePluginApi:i.boolean().optional(),menu:G.array().optional(),networkAccess:V.optional(),relaunchButtons:I.array().optional(),relatedLinkDomains:i.array(i.string()).optional(),devResourceDomains:i.array(i.string()).optional(),parameters:w.optional(),parameterOnly:i.boolean().optional(),editorType:i.filteredArray(i.nativeEnum(W)).optional(),containsWidget:i.boolean().optional(),widgetApi:i.string().optional(),permissions:i.filteredArray(i.union([i.enum(T),i.enum(v)])).optional(),enableReadOnly:i.boolean().optional(),capabilities:i.filteredArray(i.enum(C)).optional(),codegenLanguages:i.array(F).optional(),codegenPreferences:x.optional(),documentAccess:i.enum(["dynamic-page"]).optional()});(e=>{e.PluginVersionSchema=i.object({id:i.string(),name:i.string().nullable(),version:i.string().nullable(),releaseNotes:i.string().nullable(),description:i.string().nullable(),tagline:i.string().nullable(),creatorPolicy:i.string().nullable(),manifest:i.string().nullable(),createdAt:i.date(),iconPath:i.string().nullable(),coverImagePath:i.string().nullable(),codePath:i.string().nullable(),plugin:i.object({currentPluginVersionId:i.string().nullable()})}),e.PluginInstallSchema=i.object({id:i.string(),pluginId:i.string(),pinnedStatus:i.nativeEnum(l.hM),createdAt:i.date(),plugin:i.object({id:i.string(),currentPluginVersionId:i.string().nullable(),publishingStatus:i.nativeEnum(l.KB).nullable(),isWidget:i.boolean().nullable(),viewableInEditor:i.boolean(),orgId:i.string().nullable(),approvedAt:i.date().nullable(),approvalStatus:i.number().nullable(),communityPublishers:i.lazy(()=>e.CommunityPublisherSchema).array().nullable(),currentPluginVersion:e.PluginVersionSchema.nullable()}).nullable()}),e.OrgSchema=i.object({id:i.string(),installedPlugins:i.array(e.PluginInstallSchema)}),e.CommunityTeamSchema=i.object({id:i.string(),name:i.string()}),e.OrgInfoSchema=i.object({id:i.string(),name:i.string()}),e.CommunityProfileSchema=i.object({id:i.string(),profileHandle:i.string(),user:i.object({id:i.string(),name:i.string().nullable()}).nullable(),team:e.CommunityTeamSchema.nullable(),org:e.OrgInfoSchema.nullable()}),e.CommunityPublisherSchema=i.object({role:i.nativeEnum(l.un),isPending:i.boolean(),profile:e.CommunityProfileSchema})})(n||(n={}));let j=i.object({id:i.string(),plugin_id:i.string(),name:i.string(),version:i.string(),current_plugin_version_id:i.string().optional(),release_notes:i.string(),description:i.string(),tagline:i.string(),creator_policy:i.string(),is_private:i.boolean(),manifest:Y,created_at:i.string(),org_id:i.string().optional(),redirect_icon_url:i.string(),redirect_cover_image_url:i.string(),redirect_code_url:i.string(),redirect_snapshot_url:i.string().nullish(),community_publishers:i.array(n.CommunityPublisherSchema).optional(),installed_by:i.union([i.literal("user"),i.literal("org")]).nullish(),playground_fig_file_key:i.string().nullish(),playground_fig_file:i.ignore().optional(),playground_file_version_id:i.string().nullish()});function z(e){return void 0!==e.localFileId}function $(e){return!z(e)&&!!e.is_private}function Z(e){return!z(e)&&!$(e)}function q(e){var t;return!!(null==(t=e.manifest)?void 0:t.containsWidget)}function J(e,t,r){return!!(!r||!e||$(e)||z(e))||!!r.public_plugins_allowed&&((q(e)?!r.widgets_whitelist_enforced:!r.plugins_whitelist_enforced)||!!t[null==e?void 0:e.plugin_id])}i.object({plugin_id:i.string(),name:i.string(),manifest:Y,localFileId:i.number(),localFilePath:i.string(),error:y.optional(),cachedContainsWidget:i.boolean().optional(),lastKnownPluginId:i.string().optional(),testCode:i.string().optional()});let X=i.object({org:i.object({id:i.string(),name:i.string()}).optional(),is_public:i.boolean().optional()}),Q=i.object({id:i.string(),versions:i.record(j),current_plugin_version_id:i.string().nullable(),is_widget:i.coerce.boolean()}),ee=Q.merge(i.object({install_count:i.number(),view_count:i.number(),like_count:i.number(),comment_count:i.number(),category_id:i.string().nullable(),roles:X,org_id:i.string().nullable(),realtime_token:i.string(),created_at:i.string(),redirect_thumbnail_url:i.string().nullable(),thumbnail_url:i.string().nullable(),tags:i.array(i.string()).optional(),current_user_has_run:i.boolean().optional(),current_user_first_ran_at:i.string().optional(),unique_run_count:i.number(),editor_type:i.nativeEnum(g),unpublished_at:i.string().nullable(),support_contact:i.string().nullable(),comments_setting:i.nativeEnum(o.Ni).nullable(),related_content:(0,a.M6)(i.lazy(()=>ee)),hide_related_content_by_others:i.boolean().optional(),publishing_status:i.nativeEnum(l.KB).nullable(),score:i.number().nullable(),install_status:i.nativeEnum(h).optional(),profile_install_status:i.nativeEnum(h).optional(),commenting_is_restricted:i.boolean(),monetization_status:i.nativeEnum(m.UC).optional(),community_resource_payment:p.fe.optional(),third_party_m10n_status:i.nativeEnum(m.PN).optional(),creator_policy:i.string(),plugin_publishers:s.I7.optional(),carousel_media_urls:i.optional(_.mD),carousel_videos:i.optional(_.DV)})).and(s.xK).and(c.n).and(u.Y).and(d.q),et=ee.and(i.object({is_widget:i.literal(!0)}));function er(e){return e.third_party_m10n_status===m.PN.MIGRATING}function en(e){return"command"in e&&"name"in e}function ei(e){return"separator"in e&&e.separator}function ea(e){return"name"in e&&"menu"in e}let eo=Symbol("relaunchMixedDescription");function el({type:e,text:t}){switch(e){case"LOAD":return"Manifest load error: "+t;case"PARSE":return"Manifest not valid JSON: "+t;case"VALIDATE":return"Manifest error: "+t}}var es=(e=>(e.ORG="ORG",e.PUBLIC="PUBLIC",e))(es||{});function ec(e,t){return t?`GET_PLUGIN_ALLOW_LIST_${e}_${t}`:`GET_PLUGIN_ALLOW_LIST_${e}`}function ed(e,t){return t?`GET_WIDGET_ALLOW_LIST_${e}_${t}`:`GET_WIDGET_ALLOW_LIST_${e}`}},265361:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,E:()=>o});var n=r(935283),i=r(939863),a=r(720647);function o(e){switch(e){case a.lM.DESIGN:return(0,i.t)("general.figma_design");case a.oM.WHITEBOARD:case a.lM.FIGJAM:return(0,i.t)("general.figjam");case a.lM.DEV_MODE:return(0,i.t)("general.dev_mode");default:(0,n.xb)(e)}}function l(e){switch(e){case a.lM.DESIGN:return(0,i.t)("general.figma_design_short");case a.oM.WHITEBOARD:case a.lM.FIGJAM:return(0,i.t)("general.figjam");case a.lM.DEV_MODE:return(0,i.t)("general.dev_mode");default:(0,n.xb)(e)}}},113468:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var n=(e=>(e.NORMAL="normal",e.INHERITED_INTERNAL="inherited_internal",e))(n||{})},935938:(e,t,r)=>{"use strict";r.d(t,{G:()=>a,o:()=>o});var n=r(966712),i=r(671653),a=(e=>(e.RECENTLY_VIEWED="recently-viewed",e.SHARED_FILES="shared-with-you",e.SHARED_PROJECTS="shared-projects",e))(a||{});let o={"recently-viewed":[i.C0.NAME,i.C0.CREATED_AT,i.C0.ACCESSED_AT],"shared-with-you":(0,n.kc)().sunflower_swy_sort_options?[i.C0.NAME,i.C0.CREATED_AT,i.C0.SHARED_AT]:[i.C0.SHARED_AT],"shared-projects":(0,n.kc)().sunflower_swy_sort_options?[i.C0.NAME,i.C0.CREATED_AT,i.C0.SHARED_AT]:[i.C0.SHARED_AT]}},629521:(e,t,r)=>{"use strict";r.d(t,{DV:()=>d,Z4:()=>a,mD:()=>s});var n=r(330654),i=r(487386),a=(e=>(e[e.CURATED_IMAGE=0]="CURATED_IMAGE",e[e.THUMBNAIL=1]="THUMBNAIL",e[e.EMBED=2]="EMBED",e))(a||{});let o=n.record(n.string().refine(e=>Object.keys(i.B.COMMUNITY_HUB_FILE_THUMBNAIL).includes(e)),n.string().url()),l=n.object({url:n.string().url(),resized_thumbnail_urls:n.optional(o),created_at:n.date().optional()}),s=n.record(n.number(),l);l.extend({id:n.optional(n.string()),buffer:n.instanceof(Uint8Array).nullable(),sha1:n.string()});let c=n.object({url:n.string().url(),video_file_uuid:n.string().uuid(),thumbnail_url:n.string().url(),thumbnail_sha1:n.string()}),d=n.record(n.number(),c);c.merge(n.object({id:n.optional(n.string()),buffer:n.instanceof(Uint8Array).nullable(),sha1:n.string(),video_file_uuid:n.optional(n.string().uuid()),thumbnail_buffer:n.optional(n.instanceof(Uint8Array))}))},397065:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,N:()=>n});var n=(e=>(e[e.URGENT_ALERT=9999]="URGENT_ALERT",e[e.HIGH_PRIORITY_MODAL=20]="HIGH_PRIORITY_MODAL",e[e.OVERRIDING_MODAL=15]="OVERRIDING_MODAL",e[e.DEFAULT_MODAL=10]="DEFAULT_MODAL",e[e.SECONDARY_MODAL=5]="SECONDARY_MODAL",e[e.SURVEY=1]="SURVEY",e))(n||{});let i="team-library"},967409:(e,t,r)=>{"use strict";r.d(t,{$L:()=>d,Du:()=>D,Ej:()=>F,Hn:()=>M,KB:()=>m,L0:()=>R,Lk:()=>w,Lr:()=>E,MU:()=>G,Mm:()=>H,Mp:()=>B,OZ:()=>U,Or:()=>V,Rr:()=>p,Rx:()=>y,Rz:()=>W,WY:()=>a,W_:()=>L,Wr:()=>h,XW:()=>I,Xr:()=>_,Zr:()=>f,_M:()=>O,_Y:()=>g,a7:()=>N,dC:()=>o,dt:()=>T,f9:()=>u,fS:()=>b,gw:()=>S,hf:()=>x,j9:()=>v,jD:()=>c,mp:()=>A,q6:()=>k,qm:()=>C,qy:()=>l,tC:()=>P,uH:()=>i,uR:()=>s});var n=r(939863),i=(e=>(e.FILES="files",e.PROJECTS="projects",e.TEAMS="teams",e.USERS="users",e.HUB_FILES="hub_files",e.PUBLIC_PLUGINS="public_plugins",e.PRIVATE_PLUGINS="private_plugins",e.PUBLIC_PROFILES="public_profiles",e.PUBLIC_WIDGETS="public_widgets",e.PRIVATE_WIDGETS="private_widgets",e))(i||{}),a=(e=>(e.RESOURCE="resource",e.CREATOR="creator",e.SPACE="space",e))(a||{}),o=(e=>(e.USERS="users",e.PROJECTS="projects",e.TEAMS="teams",e.ORGS="orgs",e))(o||{}),l=(e=>(e.FOLDER="folders",e.TEAM="teams",e.ORG="orgs",e))(l||{}),s=(e=>(e.DROPDOWN="dropdown",e.AUTOCOMPLETE="autocomplete",e))(s||{}),c=(e=>(e.PILL="pill",e.CLEAR_ALL="clear_all",e.ALL_TYPES="all_types",e.SELECTION="selection",e))(c||{}),d=(e=>(e.ALL_FILES="FILES",e.DESIGN_FILES="DESIGN_FILES",e.FIGJAM_FILES="FIGJAM_FILES",e.SLIDES="SLIDES",e.USERS="USERS",e.PROJECTS="PROJECTS",e.TEAMS="TEAMS",e.PLUGINS="PLUGINS",e.WIDGETS="WIDGETS",e))(d||{}),u=(e=>(e.NAME="name",e.FUZZY_NAME="fuzzy-name",e.NAME_WORD_DELIMITER_V2="name-word-delimiter-v2",e.DEEP_SEARCH_TEXT="deep-search-text",e.PAGE_NAME="page-name",e.FRAME_NAME="frame-name",e.FRAGMENT_RETRIEVAL="fragment-retrieval",e))(u||{}),p=(e=>(e.ONE_TYPE="one_type",e.ALL_TYPES_BLOCKING="all_types_blocking",e.ALL_TYPES_STREAMING="all_types_streaming",e))(p||{});function m(e){switch(e){case"files":return(0,n.t)("search.preview_section.files_capitalized");case"projects":return(0,n.t)("search.preview_section.projects_capitalized");case"users":return(0,n.t)("search.preview_section.people_capitalized");case"teams":return(0,n.t)("search.preview_section.teams_capitalized");case"private_plugins":return(0,n.t)("search.preview_section.plugins_capitalized");case"hub_files":return(0,n.t)("search.preview_section.community_capitalized");default:return""}}function _(e){if(!e)return null;switch(e.value){case"FILES":case"DESIGN_FILES":case"FIGJAM_FILES":case"SLIDES":return"files";case"USERS":return"users";case"PROJECTS":return"projects";case"TEAMS":return"teams";case"PLUGINS":return"private_plugins";case"WIDGETS":return"private_widgets";default:return null}}function h(e){switch(e){case"files":return"FILES";case"users":return"USERS";case"projects":return"PROJECTS";case"teams":return"TEAMS";case"private_plugins":return"PLUGINS";case"private_widgets":return"WIDGETS";default:return null}}var g=(e=>(e.DESIGN="design",e.FIGJAM="whiteboard",e.SLIDES="slides",e))(g||{});function f(e){if(e)switch(e.value){case"DESIGN_FILES":return"design";case"FIGJAM_FILES":return"whiteboard";case"SLIDES":return"slides";default:return}}function E(e){if(!e)return null;let t={};for(let[r,n]of Object.entries(e))n&&("creatorIds"===r?t["creator_ids[]"]=n:"folderIds"===r&&n.length>0?t["folder_ids[]"]=n:"teamIds"===r&&n.length>0?t["team_ids[]"]=n:"orgIds"===r&&n.length>0?t["org_ids[]"]=n:t[r]=n);return t}var y=(e=>(e.ORG="internal",e.ORG_GUEST="internal_guest",e.PERSONAL="personal",e.COMMUNITY="community",e))(y||{});let b={internal:{modelTypes:["files","projects","users","teams","private_plugins","private_widgets"],correspondingModelTypes:{hub_files:"files",public_profiles:"users",public_plugins:"private_plugins",public_widgets:"private_widgets"},defaultModelType:"files"},internal_guest:{modelTypes:["files","projects","users","teams"],correspondingModelTypes:{hub_files:"files",public_profiles:"users"},defaultModelType:"files"},personal:{modelTypes:["files","projects","users"],correspondingModelTypes:{hub_files:"files",public_profiles:"users"},defaultModelType:"files"},community:{modelTypes:["hub_files","public_plugins","public_profiles","public_widgets"],correspondingModelTypes:{files:"hub_files",users:"public_profiles",private_plugins:"public_plugins",private_widgets:"public_widgets"},defaultModelType:"hub_files"}};var v=(e=>(e.POPULARITY="popularity",e.RECENCY="recency",e.RELEVANCY="relevancy",e.NAME="name",e.AUTHOR_NAME="author_name",e.INSTALL_COUNT="install_count",e.MEMBER_COUNT="member_count",e.UPDATED_AT="updated_at",e.TOUCHED_AT="touched_at",e.CREATED_AT="created_at",e.EMAIL="email",e))(v||{}),I=(e=>(e.NAME="name",e.AUTHOR_NAME="author_name",e.UPDATED_AT="updated_at",e.INSTALL_COUNT="install_count",e.RELEVANCY="relevancy",e.RUN_COUNT="run_count",e))(I||{}),T=(e=>(e.NAME="name",e.AUTHOR_NAME="author_name",e.UPDATED_AT="updated_at",e.INSTALL_COUNT="install_count",e.RELEVANCY="relevancy",e))(T||{}),S=(e=>(e.POPULARITY="popularity",e.RECENCY="recency",e))(S||{}),w=(e=>(e.RELEVANCY="relevancy",e.NAME="name",e.TOUCHED_AT="touched_at",e.CREATED_AT="created_at",e.OWNER="owner",e))(w||{}),A=(e=>(e.RELEVANCY="relevancy",e.NAME="name",e.CREATED_AT="created_at",e))(A||{}),C=(e=>(e.RELEVANCY="relevancy",e.NAME="name",e.FILES_LAST_TOUCHED_AT="files_last_touched_at",e.CREATED_AT="created_at",e.MEMBER_COUNT="member_count",e))(C||{}),N=(e=>(e.RELEVANCY="relevancy",e.NAME="name",e.EMAIL="email",e))(N||{}),O=(e=>(e.RELEVANCY="relevancy",e))(O||{}),L=(e=>(e.RELEVANCY="relevancy",e))(L||{}),R=(e=>(e.PREVIEW="preview",e.FULL_PAGE="full_page",e.OUTSIDE_FILE_BROWSER="outside_file_browser",e))(R||{}),P=(e=>(e.OPEN="open",e.CLOSE="close",e))(P||{});function k(e){switch(e){case"files":return(0,n.t)("search.search_model_type_header.files");case"projects":return(0,n.t)("search.search_model_type_header.projects");case"teams":return(0,n.t)("search.search_model_type_header.teams");case"users":return(0,n.t)("search.search_model_type_header.people");case"hub_files":return(0,n.t)("search.search_model_type_header.hub_files");case"public_plugins":return(0,n.t)("search.search_model_type_header.public_plugins");case"private_plugins":return(0,n.t)("search.search_model_type_header.private_plugins");case"public_profiles":return(0,n.t)("search.search_model_type_header.creators");case"public_widgets":return(0,n.t)("search.search_model_type_header.public_widgets");case"private_widgets":return(0,n.t)("search.search_model_type_header.private_widgets")}}function D(e){switch(e){case"teams":return(0,n.t)("file_browser.team");case"hub_files":return(0,n.t)("activity_log.resource.file");case"public_plugins":case"private_plugins":return(0,n.t)("community.plugins.plugin");case"public_profiles":return(0,n.t)("search.preview_section.creator");case"public_widgets":case"private_widgets":return(0,n.t)("community.plugins.widget");case"users":case"files":case"projects":return(0,n.t)("permissions.level_name.none")}}function M(e){if(1===(e=Array.from(new Set(e))).length)return e[0];{let t=e.pop();return e.join(", ")+" and "+t}}function x(e){switch(e){case"files":return(0,n.t)("search.search_model_type.empty_state_files");case"projects":return(0,n.t)("search.search_model_type.empty_state_projects");case"teams":return(0,n.t)("search.search_model_type.empty_state_teams");case"users":return(0,n.t)("search.search_model_type.empty_state_people");case"hub_files":return(0,n.t)("search.search_model_type.empty_state_hub_files");case"public_plugins":return(0,n.t)("search.search_model_type.empty_state_public_plugins");case"private_plugins":return(0,n.t)("search.search_model_type.empty_state_private_plugins");case"public_profiles":return(0,n.t)("search.search_model_type.empty_state_creators");case"public_widgets":return(0,n.t)("search.search_model_type.empty_state_public_widgets");case"private_widgets":return(0,n.t)("search.search_model_type.empty_state_private_widgets");default:return""}}let F=["files","projects","users","teams"],U=["files","projects","users","hub_files"],B=["public_plugins","private_plugins","public_widgets","private_widgets","public_profiles"],H=["public_plugins","private_plugins","public_widgets","private_widgets","teams","public_profiles"],V=4,G=10,W=30},637590:(e,t,r)=>{"use strict";r.d(t,{A5:()=>i,Ft:()=>m,G4:()=>d,QB:()=>b,SC:()=>_,Sc:()=>h,U6:()=>u,bN:()=>p,bb:()=>a,ck:()=>E,g3:()=>c,h5:()=>g,jX:()=>f,kV:()=>o,ou:()=>l});var n=r(622139),i=(e=>(e[e.INVITE=0]="INVITE",e[e.PUBLISH=1]="PUBLISH",e[e.PUBLISH_COMMUNITY=2]="PUBLISH_COMMUNITY",e[e.PUBLISH_TEMPLATE=3]="PUBLISH_TEMPLATE",e[e.POST_TO_FEED=4]="POST_TO_FEED",e[e.COLLABORATORS=5]="COLLABORATORS",e[e.EMBED_CODE=6]="EMBED_CODE",e[e.SHARE_DEV_MODE=7]="SHARE_DEV_MODE",e[e.SHARE_SETTINGS=8]="SHARE_SETTINGS",e[e.FOLDER_MEMBERS=9]="FOLDER_MEMBERS",e[e.SHARE_GOOGLE_DEVICE_DISCLAIMER=10]="SHARE_GOOGLE_DEVICE_DISCLAIMER",e))(i||{}),a=(e=>(e.ACCOUNT="account",e.PLUGINS="plugins",e.COMMUNITY="community",e.NOTIFICATIONS="notifications",e))(a||{});function o(e){return"search"===e.view}let l={UNIVERSAL_PUBLISHING:"publish",ACCOUNT_SETTINGS:"settings"};var s=(e=>(e.IN_VIEW="in_view",e.DIRECT="direct",e))(s||{}),c=(e=>(e.RESOURCES="resources",e.LIKES="likes",e.FOLLOWERS="followers",e.FOLLOWING="following",e.METRICS="metrics",e.SAVES="saves",e))(c||{}),d=(e=>(e[e.DEFAULT=0]="DEFAULT",e.FULLSCREEN="fullscreen",e.FULLSCREEN_WITH_COMMENTS="fullscreen_comments",e))(d||{}),u=(e=>(e.ONBOARDING="onboarding",e))(u||{});function p(e){return"org"===e.view}var m=(e=>(e[e.PROJECT=0]="PROJECT",e[e.TEAM=1]="TEAM",e[e.WORKSPACE=2]="WORKSPACE",e[e.LICENSE_GROUP=3]="LICENSE_GROUP",e))(m||{}),_=(e=>(e.UPGRADE_EXISTING_TEAM="upgrade_existing_team",e.CREATE_AND_UPGRADE="create_and_upgrade",e.CREATE="create",e))(_||{}),h=(e=>(e[e.UNDETERMINED=0]="UNDETERMINED",e[e.STARTER=1]="STARTER",e[e.TEAM=2]="TEAM",e[e.ORG=3]="ORG",e))(h||{});function g(e){return"create"===e||"create_and_upgrade"===e}function f(e){return"upgrade_existing_team"===e}function E(e,t){return"create"===e&&(t===n.tn.CREATE_TEAM||t===n.tn.ADD_COLLABORATORS)||t===n.tn.PLAN_COMPARISON}let y=["recentFiles","deletedFiles","teamCreation","folder","addAnnualPlan","addCollaborators","team","teamUpgrade","orgAdminSettings","licenseGroup","workspace","billingGroupDashboard","search","user","promoReview","eduReview","teamFeed","resourceUnavailable","feed","sharedWithYou","teamAdminConsole","recentsAndSharing","draftsToMove","allProjects"];function b(e){return y.includes(e.view)}},139961:(e,t,r)=>{"use strict";r.d(t,{$q:()=>i,Sm:()=>o,Vh:()=>d,w_:()=>s});var n=r(330654),i=(e=>(e.TEAM_CREATION_CONTROLS_ANYONE="team_creation_controls_anyone",e.TEAM_CREATION_CONTROLS_ADMIN_ONLY="team_creation_controls_admin_only",e))(i||{});let a=n.nativeEnum(i);var o=(e=>(e.MEMBERS="members",e.ALL_USERS="all_users",e.DISABLED="disabled",e))(o||{});let l=n.nativeEnum(o);var s=(e=>(e.ALLOWED="public_link_controls_setting_allowed",e.PASSWORD_REQUIRED="public_link_controls_setting_password_required",e.EXPIRATION_REQUIRED="public_link_controls_setting_expiration_required",e.EXP_AND_PWD_REQUIRED="public_link_controls_setting_password_and_expiration_required",e.BANNED="public_link_controls_setting_banned",e))(s||{});let c=n.nativeEnum(s),d=n.object({team_creation_controls:a.optional().nullable(),external_collaboration_controls:n.boolean(),ip_account_restriction:n.boolean().optional(),ip_allowlist:n.boolean().optional(),idle_timeout_duration_in_secs:n.number().optional().nullable(),autogen_password_controls:n.boolean(),public_link_controls_setting:c.optional().nullable(),public_link_controls_max_expiration:n.number().optional().nullable(),configured_upgrade_request_setting:l.optional().nullable(),configured_upgrade_request_message:n.string().optional().nullable()})},840912:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var n=(e=>(e.NAME="Name",e.ACTIVE_AT="Last active",e.PERMISSIONS="Team permissions",e.DESIGN_PAID_STATUS="Design role",e.FIGJAM_PAID_STATUS="FigJam role",e))(n||{})},410436:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});let n={PENDING:"pending",APPROVED:"approved",DENIED:"denied",WITHDRAWN:"withdrawn"}},36816:(e,t,r)=>{"use strict";r.d(t,{TW:()=>s,Zf:()=>a,j4:()=>o,wF:()=>l});var n=r(330654),i=r(583894),a=(e=>(e.FULL="full",e.RESTRICTED="restricted",e.STARTER="starter",e))(a||{}),o=(e=>(e.DESIGN="design",e.WHITEBOARD="whiteboard",e))(o||{});let l=n.object({id:n.string(),team_id:n.string(),user_id:n.string(),design_paid_status:n.nativeEnum(a),whiteboard_paid_status:n.nativeEnum(a),drafts_folder_id:n.string().nullable().optional(),created_at:n.string(),updated_at:n.string(),user:i.aw.optional(),show_figjam_user_onboarding:n.boolean().nullable()}),s={full:3,starter:2,restricted:1}},851363:(e,t,r)=>{"use strict";r.d(t,{Fb:()=>d,ZN:()=>h,Z_:()=>f,bL:()=>_,kE:()=>m,kU:()=>u,pE:()=>g,pk:()=>c,qg:()=>s});var n=r(966712),i=r(330654),a=r(99506),o=r(343279),l=r(383986);let s=118;var c=(e=>(e.REQUIRES_SOURCE_ACTION="requires_source_action",e))(c||{}),d=(e=>(e.ORG_BROWSABLE="org_browsable",e.HIDDEN="hidden",e))(d||{}),u=(e=>(e.STUDENT_TEAM_NULL="not_student_team",e.STUDENT_TEAM_CURRENT="current_student_team",e.STUDENT_TEAM_EXPIRED="expired_student_team",e))(u||{});let p=i.nativeEnum(u),m=i.normalize("Team",o.bV.extend({created_at:i.string(),id:i.primaryKey(),img_url:i.string().optional(),org_id:i.string().nullable(),name:i.string(),description:i.string(),projects:i.number(),editors:i.number(),realtime_token:i.string().optional(),restrictions_list:i.array(a.iU).nullable(),subscription:a.D8.nullable(),subscription_raw:a.D8.nullable(),org_access:a.We.nullable(),stripe_customer_id:i.string().nullable(),student_team_at:i.string().nullable(),student_team_state:p,student_autoverifying_team_at:i.string().nullable(),student_team:i.boolean(),pro_team:i.boolean(),org_team:i.boolean(),starter_team:i.boolean(),grace_period_end:i.string().nullable(),grace_period_type:a.Dh.nullable(),last_upgraded_at:i.string().nullable(),updated_at:i.string().nullable().optional(),deleted_at:i.string().nullable(),community_profile_id:i.string().optional(),community_profile_handle:i.string().optional(),experiment_seed:i.union([i.number(),i.string()]).nullable(),license_group_id:i.string().nullable(),license_group:l.W.nullable(),workspace_id:i.string().nullable(),default_permission:a.zd.optional().nullable(),is_favorited:i.boolean().optional(),vat_gst_id:i.string().optional(),tax_id_verification_status:a.xy.optional(),cmty_publish_as_user_enabled:i.boolean().optional(),ai_features_disabled:i.boolean().optional(),figma_provided_libraries_disabled:i.boolean().optional(),legal_name:i.string().nullable(),shared_by_text:i.string().optional(),org_or_team_name:i.string().optional().nullable(),sharing_audience_control:a.a0.optional(),org_browsable:i.boolean().optional(),hidden:i.boolean().optional()}));function _(e,t){let r=(0,n.kc)().ps_benchmark;return t?`${location.origin}/files/${t}/team/${e}`:`${location.origin}/files/team/${e}${r?"/all-projects":""}`}var h=(e=>(e.MOVE_FILES="move_files",e.DUPLICATE_FILES="duplicate_files",e.RESTORE_FILES="restore_files",e.MOVE_FOLDER="move_folder",e.IMPORT_FILES="import_files",e.CREATE_FILE="create_file",e.CREATE_FOLDER="create_folder",e.CREATE_FILE_FROM_TEMPLATE="create_file_from_template",e.CREATE_PAGE="create_page",e.DUPLICATE_PAGE="duplicate_page",e.CREATE_MORE_VARIABLE_MODES="create_more_variable_modes",e.PUBLISH_MORE_VARIABLE_MODES="publish_more_variable_modes",e.CREATE_FILE_FROM_DROPDOWN="create_file_from_dropdown",e))(h||{}),g=(e=>(e.PUBLISH_COMPONENTS="publish_components",e.USE_AUDIO="use_audio",e.VIEW_ONLY_PROJECT="view_only_project",e.INVITE_ONLY_PROJECT="invite_only_project",e))(g||{});function f(e){var t;return{id:e.id,name:e.name,restrictions_list:e.restrictionsList,subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:(null==(t=e.gracePeriodEnd)?void 0:t.toISOString())||null}}},671653:(e,t,r)=>{"use strict";r.d(t,{C0:()=>n,De:()=>c,XU:()=>l,cT:()=>s,rJ:()=>a,rR:()=>d,t2:()=>o,ue:()=>i});var n=(e=>(e[e.NAME=0]="NAME",e[e.CREATED_AT=1]="CREATED_AT",e[e.TOUCHED_AT=2]="TOUCHED_AT",e[e.TRASHED_AT=3]="TRASHED_AT",e[e.OWNER=4]="OWNER",e[e.SEARCH_RELEVANCE=5]="SEARCH_RELEVANCE",e[e.PROJECT_NAME=6]="PROJECT_NAME",e[e.ACCESSED_AT=7]="ACCESSED_AT",e[e.SHARED_AT=8]="SHARED_AT",e))(n||{}),i=(e=>(e[e.ASC=0]="ASC",e[e.DESC=1]="DESC",e))(i||{}),a=(e=>(e[e.ANY=0]="ANY",e[e.SELF=1]="SELF",e[e.OTHER=2]="OTHER",e))(a||{}),o=(e=>(e[e.ANY=0]="ANY",e[e.DESIGN=1]="DESIGN",e[e.FIGJAM=2]="FIGJAM",e[e.PROTOTYPE=3]="PROTOTYPE",e[e.SLIDES=4]="SLIDES",e))(o||{}),l=(e=>(e[e.LIST=0]="LIST",e[e.GRID=1]="GRID",e))(l||{}),s=(e=>(e.ALL="",e.SHARED="shared",e.ORG_DELETED_DRAFTS="deleted_user_drafts",e))(s||{});function c(e){switch(e){case 0:return"resource_name";case 1:return"resource_created_at";case 8:return"shared_at";default:return null}}var d=(e=>(e[e.TIME=0]="TIME",e[e.ALPHABETICAL=1]="ALPHABETICAL",e[e.OTHER=2]="OTHER",e))(d||{})},583894:(e,t,r)=>{"use strict";r.d(t,{P5:()=>i,VU:()=>a,aw:()=>l,pl:()=>s,z4:()=>o});var n=r(330654),i=(e=>(e.NONE="none",e.ACCEPTED="accepted",e.STARTED_ONBOARDING="started_onboarding",e.DISABLED="disabled",e.ENABLED="enabled",e))(i||{}),a=(e=>(e.NUM_CUSTOMERS="num_customers",e.PAYOUTS="payouts",e.GROSS="gross",e.LAST_UPDATED="last_updated_at",e.ALL_TIME_TOTAL_EARNED="all_time_total_earned",e.NUM_PURCHASES="num_purchases",e))(a||{});function o(e){return e&&({none:0,accepted:1,started_onboarding:2,disabled:3,enabled:4})[e]||0}let l=n.object({id:n.string(),name:n.string().optional(),handle:n.string(),img_url:n.string(),email:n.string().optional(),description:n.string().nullish(),org_id:n.string().optional()});var s=(e=>(e.EDITOR_ON_MAIN="Editor on main",e.EDITOR_ON_TEAM="Editor on team",e))(s||{})},59530:(e,t,r)=>{"use strict";r.d(t,{BY:()=>i,IR:()=>o,Q7:()=>a,V5:()=>l,WB:()=>s,WE:()=>n,h4:()=>c});let n="show_m10n_approval_banner",i="show_m10n_stripe_onboarding_incomplete",a="show_m10n_stripe_adtl_info_needed_banner",o="seen_advanced_prototyping_upsell",l=new Set(["seen_pro_cart_abandon_survey","seen_drafts_collaboration_survey","seen_first_use_survey","seen_type_of_work_survey","seen_org_admin_survey","seen_pro_admin_survey","seen_org_cart_abandon_survey","seen_remote_templates_opt_out_survey","seen_editor_new_user_survey","seen_editor_new_user_research_intake","seen_starter_team_loophole_survey","dismissed_starter_team_loophole_survey","completed_starter_team_loophole_survey"]),s=["collective_upsell_widget_seen_1","collective_upsell_widget_seen_10","collective_upsell_widget_seen_100"],c=["collective_upsell_full_screen_seen_1","collective_upsell_full_screen_seen_10"]},636751:(e,t,r)=>{"use strict";r.d(t,{$E:()=>n,GA:()=>i,MK:()=>l,bU:()=>a,w:()=>o});var n=(e=>(e[e.CONNECTED=0]="CONNECTED",e[e.CONNECTED_WITH_MIC_DISABLED=1]="CONNECTED_WITH_MIC_DISABLED",e[e.DISCONNECTED=2]="DISCONNECTED",e[e.CONNECTING=3]="CONNECTING",e[e.DISCONNECTING=4]="DISCONNECTING",e[e.RECONNECTING=5]="RECONNECTING",e[e.ERROR=6]="ERROR",e[e.CALL_INACTIVE=7]="CALL_INACTIVE",e[e.TOKEN_WILL_EXPIRE_DETECT_MIC_INPUT=8]="TOKEN_WILL_EXPIRE_DETECT_MIC_INPUT",e[e.TOKEN_WILL_EXPIRE=9]="TOKEN_WILL_EXPIRE",e[e.TOKEN_EXPIRED=10]="TOKEN_EXPIRED",e[e.TOKEN_SILENTLY_RENEWED=11]="TOKEN_SILENTLY_RENEWED",e[e.USER_JOINED=12]="USER_JOINED",e[e.USER_LEFT=13]="USER_LEFT",e[e.ERROR_MICROPHONE_PERMISSIONS_DENIED=14]="ERROR_MICROPHONE_PERMISSIONS_DENIED",e[e.WARNING_MICROPHONE_LEVELS_HIGH_AND_MUTED=15]="WARNING_MICROPHONE_LEVELS_HIGH_AND_MUTED",e[e.UNMUTE=16]="UNMUTE",e[e.MUTE=17]="MUTE",e[e.ERROR_ON_LEAVE=18]="ERROR_ON_LEAVE",e[e.SYSTEM_INCOMPATIBLE=19]="SYSTEM_INCOMPATIBLE",e[e.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW=20]="WARNING_AUDIO_INPUT_LEVEL_TOO_LOW",e[e.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW=21]="WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW",e[e.WARNING_SEND_AUDIO_BITRATE_TOO_LOW=22]="WARNING_SEND_AUDIO_BITRATE_TOO_LOW",e[e.WARNING_RECV_AUDIO_DECODE_FAILED=23]="WARNING_RECV_AUDIO_DECODE_FAILED",e[e.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER=24]="WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER",e[e.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER=25]="WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER",e[e.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER=26]="WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER",e[e.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER=27]="WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER",e))(n||{});let i=new Set([9,10]);var a=(e=>(e[e.NONE=0]="NONE",e[e.HEADPHONES=1]="HEADPHONES",e[e.FULL=2]="FULL",e))(a||{}),o=(e=>(e.ERROR="error",e.WARNING="warning",e.MESSAGE="message",e.SUCCESS="success",e.PENDING="pending",e))(o||{}),l=(e=>(e[e.DONE=100]="DONE",e[e.STARTED=1]="STARTED",e[e.NOT_STARTED=0]="NOT_STARTED",e[e.DISK_ERROR=-1]="DISK_ERROR",e[e.NETWORK_ERROR=-2]="NETWORK_ERROR",e))(l||{})},493536:(e,t,r)=>{"use strict";r.d(t,{c:()=>n,r:()=>i});let n=Math.round(33.333333333333336),i={viewportPath:{offsetX:0,offsetY:0,zoomScale:1},mousePositionPath:{x:0,y:0},msSinceRecordingStart:0}},554294:(e,t,r)=>{"use strict";r.d(t,{$f:()=>d,GR:()=>l,Lx:()=>u,be:()=>p,d4:()=>s,nc:()=>a,rp:()=>o,s6:()=>i,vT:()=>c});var n=r(38580);let i=(0,n.eU)(!1),a=(0,n.eU)(!1),o=(0,n.eU)(!1),l=(0,n.eU)(null),s=(0,n.eU)(null),c=(0,n.eU)(null),d=(0,n.eU)(null),u=(0,n.eU)(!1),p=(0,n.eU)(e=>e(s)?e(l):null)},18993:(e,t,r)=>{"use strict";r.d(t,{aY:()=>P,X_:()=>U,JA:()=>B,bE:()=>R});var n=r(411855),i=r(188507),a=r(935283),o=r(966712),l=r(646240),s=r(374626),c=r(499737),d=r(662275),u=r(756085),p=r(335682),m=r(694687),_=r(860178),h=r(99506),g=r(279453),f=r(215822),E=r(829632),y=r(802257),b=r(507956),v=r(762638),I=r(939863),T=r(175290),S=r(553015),w=r(809840),A=r(237870),C=r(585878),N=(e=>(e.STOP_AUTO_RUN_FROM_USER="stop-auto-run-from-user",e.STOP_AUTO_RUN_FROM_ORG="stop-auto-run-from-org",e.CONFIRM_REPLACE="confirm-replace",e.ENABLE_AUTO_RUN="enable-auto-run",e))(N||{});let O=(0,A.Ju)(function({commonShowModalArgs:e,newPluginName:t,autoRunModalType:r}){let o,l;let s=()=>{y.s.updateUserAutoRunPluginId(e.pluginID,h.xw.NONE),u(d.Lo())},c=()=>u(d.Lo()),u=(0,i.wA)(),p=(0,m.sZ)()||null,_={currentAutoRunPluginName:n.createElement(w.E,{fontWeight:"bold"},e.currentAutoRunPluginName)},g={orgName:n.createElement(w.E,null,(null==p?void 0:p.name)||""),orgPluginName:n.createElement(w.E,{fontWeight:"bold"},e.orgPluginName)},f={orgPluginName:n.createElement(w.E,{fontWeight:"bold"},e.orgPluginName),newPluginName:n.createElement(w.E,{fontWeight:"bold"},t),orgName:n.createElement(w.E,null,(null==p?void 0:p.name)||"")};switch(r){case"stop-auto-run-from-user":o=n.createElement(n.Fragment,null,n.createElement(w.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.stop_auto_run_desc",i18nParams:_}),n.createElement("div",{className:v.cx.mt16.$},n.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},n.createElement(S.$,{variant:"secondary",onClick:c},(0,I.t)("dev_handoff.autorun_confirm_modal.cancel")),n.createElement(S.$,{variant:"primary",onClick:()=>{s(),u((0,d.to)({type:O,data:{commonShowModalArgs:e,autoRunModalType:"enable-auto-run"}}))}},(0,I.t)("dev_handoff.autorun_confirm_modal.stop_auto_run")))));break;case"enable-auto-run":o=n.createElement(n.Fragment,null,n.createElement(w.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.enable_auto_run_desc",i18nParams:g}),n.createElement("div",{className:v.cx.mt16.$},n.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},n.createElement(S.$,{variant:"secondary",onClick:c},(0,I.t)("dev_handoff.autorun_confirm_modal.dont_enable")),n.createElement(S.$,{variant:"primary",onClick:()=>{y.s.updateUserAutoRunPluginId(e.pluginID,h.xw.INHERIT),u(d.Lo())}},(0,I.t)("dev_handoff.autorun_confirm_modal.enable_auto_run")))));break;case"confirm-replace":o=n.createElement(n.Fragment,null,n.createElement(w.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.confirm_replace",i18nParams:f}),n.createElement("div",{className:v.cx.mt16.$},n.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},n.createElement(S.$,{variant:"secondary",onClick:c},(0,I.t)("dev_handoff.autorun_confirm_modal.cancel")),n.createElement(S.$,{variant:"primary",onClick:()=>{y.s.updateUserAutoRunPluginId(e.pluginID,h.xw.OVERRIDE),u(d.Lo())}},(0,I.t)("dev_handoff.autorun_confirm_modal.replace")))));break;case"stop-auto-run-from-org":o=n.createElement(n.Fragment,null,n.createElement(w.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.stop_auto_run_from_org",i18nParams:g}),n.createElement("div",{className:v.cx.mt16.$},n.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},n.createElement(S.$,{variant:"secondary",onClick:c},(0,I.t)("dev_handoff.autorun_confirm_modal.cancel")),n.createElement(S.$,{variant:"primary",onClick:s},(0,I.t)("dev_handoff.autorun_confirm_modal.stop_auto_run")))));break;default:(0,a.xb)(r)}switch(r){case"stop-auto-run-from-user":case"stop-auto-run-from-org":l=(0,I.t)("dev_handoff.autorun_confirm_modal.title_stop_auto_run");break;case"confirm-replace":l=(0,I.t)("dev_handoff.autorun_confirm_modal.title_replace_auto_run");break;case"enable-auto-run":l=(0,I.t)("dev_handoff.autorun_confirm_modal.title_enable_auto_run",{pluginName:e.orgPluginName});break;default:(0,a.xb)(r)}return n.createElement(C.XV,{title:l,onClose:()=>u(d.Lo()),maxWidth:360},n.createElement("div",{className:v.cx.p16.$,"data-testid":"autorun-confirm-modal"},o))},"AutoRunConfirmModal");var L=r(554294);function R(e){var t,r,s,c;let u=(null==e?void 0:e.plugin_id)??"",p=(null==e?void 0:e.name)??"",m=k(),_=M(),g=(0,b.ks)(),f=g&&(null==(t=m.plugin)?void 0:t.plugin_id)===u,E=(0,l.Xr)(L.Lx),v=D(),I=(0,i.wA)();return{isPluginSetToAutoRun:f,callback:n.useCallback(()=>{var e,t,r,n,i;if(!g||(E(!0),!(0,o.kc)().dev_mode_auto_run_plugin||!m.loaded||!_.loaded))return;let l=null==(e=v.autoRunPrefs)?void 0:e.autoRunPluginBehavior,s={pluginID:u,orgPluginName:(null==(r=null==(t=_.autoRunPrefs)?void 0:t.autoRunPlugin.currentPluginVersion)?void 0:r.name)||"",currentAutoRunPluginName:(null==(n=m.plugin)?void 0:n.name)||""};switch(l){case void 0:case h.xw.NONE:y.s.updateUserAutoRunPluginId(u,h.xw.OVERRIDE);break;case h.xw.OVERRIDE:u!==(null==(i=m.plugin)?void 0:i.plugin_id)?y.s.updateUserAutoRunPluginId(u,h.xw.OVERRIDE):_.autoRunPrefs?I((0,d.to)({type:O,data:{commonShowModalArgs:s,autoRunModalType:N.STOP_AUTO_RUN_FROM_USER}})):y.s.updateUserAutoRunPluginId(u,h.xw.NONE);break;case h.xw.INHERIT:_.autoRunPrefs?u!==_.autoRunPrefs.autoRunPluginId?I((0,d.to)({type:O,data:{commonShowModalArgs:s,newPluginName:p,autoRunModalType:N.CONFIRM_REPLACE}})):I((0,d.to)({type:O,data:{commonShowModalArgs:s,autoRunModalType:N.STOP_AUTO_RUN_FROM_ORG}})):y.s.updateUserAutoRunPluginId(u,h.xw.OVERRIDE);break;default:(0,a.xb)(l)}},[g,E,m.loaded,null==(r=m.plugin)?void 0:r.name,null==(s=m.plugin)?void 0:s.plugin_id,_.loaded,_.autoRunPrefs,null==(c=v.autoRunPrefs)?void 0:c.autoRunPluginBehavior,u,I,p])}}function P(e){return e&&(0,f.UH)(e)}function k(){var e,t,r,n;let i=D(),a=M(),l=null==(e=(0,m.sZ)())?void 0:e.id,s=null==(t=(0,_.iZ)())?void 0:t.id;if(!(0,o.kc)().dev_mode_auto_run_plugin)return{loaded:!0,plugin:null};if(!(i.loaded&&a.loaded))return{loaded:!1,plugin:null};let c=null;switch(null==(r=i.autoRunPrefs)?void 0:r.autoRunPluginBehavior){case h.xw.NONE:c=null;break;case h.xw.OVERRIDE:c=i.autoRunPrefs.autoRunPlugin;break;case h.xw.INHERIT:default:c=(null==(n=a.autoRunPrefs)?void 0:n.autoRunPlugin)??null}let d=c?(0,u.mf)(c,l??"",s??"",null)??null:null;return{loaded:!0,plugin:P(d)?d:null}}function D(){let e=(0,_.iZ)();return x((0,c.Rs)(g.Sc8,{targetOrgId:null,targetUserId:(null==e?void 0:e.id)??""},{enabled:!!(null==e?void 0:e.id)}))}function M(e){let t=(0,m.sZ)(),r=!!(t&&t.bigma_enabled),n=(0,c.Rs)(g.Sc8,{targetOrgId:(null==t?void 0:t.id)??"",targetUserId:null},{enabled:r});return r?x(n,e):{loaded:!0,autoRunPrefs:null}}function x(e,t){if("loaded"!==e.status)return{loaded:!1,autoRunPrefs:null};let r=e.data.pluginPreferences,n=!!(t||(null==r?void 0:r.autoRunEnabled));return r&&r.autoRunPluginId&&r.autoRunPlugin&&n?{loaded:!0,autoRunPrefs:{autoRunPluginId:r.autoRunPluginId,autoRunPluginBehavior:r.autoRunBehavior,autoRunPlugin:r.autoRunPlugin}}:{loaded:!0,autoRunPrefs:null}}async function F(e,t,r){(0,o.kc)().dev_mode_auto_run_plugin&&(r(!0),await E.R.instance.enqueue({runPluginArgs:{plugin:e,command:"",queryMode:!1,runMode:"default",triggeredFrom:"auto-run",openFileKey:t,isWidget:!1,ignoreForRunLastPlugin:!0},mode:"run-forever"}))}function U(){let e=(0,b.ks)(),t=(0,p.tS)(),r=(0,u.YN)(),n=k(),[i,a]=(0,s.fp)(L.Lx);if(!e||i||!n.loaded)return;let o=n.plugin;if(!o){a(!0);return}P(o)&&t&&r(o)&&F(o,t,a)}function B(){var e;let t=M(!0),r=(0,m.dq)();if(!(0,o.kc)().dev_mode_auto_run_plugin)return{loaded:!0,plugin:null};if(!t.loaded)return{loaded:!1,plugin:null};let n=(null==(e=t.autoRunPrefs)?void 0:e.autoRunPlugin)??null,i=n?(0,u.mf)(n,r??"",null,null)??null:null;return{loaded:!0,plugin:P(i)?i:null}}},249436:(e,t,r)=>{"use strict";r.d(t,{R:()=>l,c:()=>o});var n=r(38580),i=r(374626);let a=(0,n.eU)(0);function o(){i.zl.set(a,e=>e+1)}function l(){return(0,i.md)(a)}},656399:(e,t,r)=>{"use strict";r.d(t,{Q:()=>b,u:()=>y});var n=r(411855),i=r(841368),a=r(531664),o=r(966712),l=r(268537),s=r(46481),c=r(939863),d=r(308977),u=r(92597),p=r(318812),m=r(99506),_=r(498606),h=r(720488),g=r(227795),f=r(400466),E=r(362679);function y(){var e;let{toggle:t,showing:r}=(0,p.B)("CODE_SETTINGS_DROPDOWN"),a=n.useRef(null),d=null==(e=a.current)?void 0:e.getBoundingClientRect(),{updateDefaultCodegenSettings:u,isSetToDefault:m}=b(),f=n.useCallback(e=>{e.stopPropagation(),e.preventDefault(),t()},[t]);return(0,o.kc)().dev_mode_default_codegen?n.createElement(n.Fragment,null,n.createElement(g.K0,{ref:a,"data-tooltip-type":_.Ib.TEXT,"data-tooltip":(0,c.t)("dev_handoff.code.options"),onClick:f},n.createElement(s.U,{svg:E.A},n.createElement(i.J,null))),r&&d&&n.createElement(h.Cf,{targetRect:d,propagateCloseClick:!0},n.createElement(l.W.CheckableOption,{onClick:u,checked:m},n.createElement(c.Tx,{id:"dev_handoff.code.settings.set_as_default"})))):null}function b(){let{setCodegenSettings:e,localCodegenSettings:t}=(0,f.VR)(),r=(0,d.v4)(),i=(0,u.gc)(),o=n.useMemo(()=>(null==t?void 0:t.behavior)===m.Rc.OVERRIDE&&(0,a.he)(null==t?void 0:t.language,r)&&(0,a.he)(null==t?void 0:t.preferences,i),[r,i,t]);return{updateDefaultCodegenSettings:n.useCallback(()=>{e({behavior:o?m.Rc.INHERIT:m.Rc.OVERRIDE,language:r,preferences:i})},[r,i,o,e]),isSetToDefault:o}}},176626:(e,t,r)=>{"use strict";r.d(t,{Ew:()=>n.E,IN:()=>c.IN,L_:()=>o.c,VY:()=>l.V,Wh:()=>c.Wh,Yx:()=>s.Y,_x:()=>i._x,gH:()=>c.gH,jv:()=>a.j,mN:()=>i.mN});var n=r(8481),i=r(559497),a=r(804926),o=r(678003),l=r(18795),s=r(122296),c=r(396635)},678003:(e,t,r)=>{"use strict";r.d(t,{L:()=>d,c:()=>u});var n=r(411855),i=r(572206),a=r(746806),o=r(396635),l=r(804926),s=r(494248),c=r(523795);let d="plugin-iframe-top";class u extends n.Component{constructor(e){super(e),this.state={titleIconURL:"",titleIconSvgSrc:void 0,title:"",displayed:!1,width:o.bA,height:o.Yw,initialPosition:new i.Mi(0,0),cancelCallback:void 0,onDragEnd:e=>{},dragging:!1},this.onDragStart=()=>{this.setState({dragging:!0})},this.onDragEnd=e=>{this.setState({dragging:!1}),"function"==typeof this.state.onDragEnd&&this.state.onDragEnd(e)},this.onClose=()=>{this.state.cancelCallback&&this.state.cancelCallback()},u.instance=this}static getInstance(){return u.instance}updateState(e){this.setState(e)}render(){let{width:e,height:t}=this.state;return n.createElement("div",{style:{display:this.state.displayed?"":"none"},className:`${c.o} ${s.xE}`,"data-testid":"pluginModalContainer"},n.createElement(a.vx,{titleIconURL:this.state.titleIconURL,titleIconSvgSrc:this.state.titleIconSvgSrc,titleIconSvgClassName:c.v,title:this.state.title,truncateTitleText:!0,dragHeaderOnly:!0,initialWidth:e,initialHeight:t,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onClose:this.onClose,ignoreCloseShortcut:!0,alwaysEnsureHeaderModalOnScreen:!0,initialPosition:this.state.initialPosition,canResetPosition:this.state.displayed,preventKeyboardFocus:!0,frameStyle:{overflow:"hidden"},recordingKey:"pluginModal",hidden:!this.state.displayed},n.createElement("div",{"data-onboarding-key":d,style:{position:"relative",top:"160px"}}),n.createElement(l.j,{iframeId:o.Wh.MODAL,dragging:this.state.dragging})),n.createElement(l.j,{iframeId:o.Wh.FETCH}))}}},400466:(e,t,r)=>{"use strict";r.d(t,{VR:()=>Z,IE:()=>q,iA:()=>J});var n=r(411855),i=r(188507),a=r(939683),o=r(404843),l=r(374626),s=r(499737),c=r(572174),d=r(27087),u=(e=>(e.POPULAR="popular",e.CREATED_AT="created_at",e.PUBLISHED_AT="published_at",e.ALL_TIME="all_time",e.FEATURED="featured",e))(u||{}),p=(e=>(e.ALL="all",e.THIRD_PARTY_FLAGGED="third_party_flagged",e.THIRD_PARTY_MIGRATING="third_party_migrating",e.UNCATEGORIZED="uncategorized",e))(p||{}),m=(e=>(e.HUB_FILES="HUB_FILES",e.PLUGINS="PLUGINS",e.PLUGIN_REVIEW="PLUGIN_REVIEW",e.WIDGET_REVIEW="WIDGET_REVIEW",e.PLUGIN_SECURITY_FORM_REVIEW="PLUGIN_SECURITY_FORM_REVIEW",e.HUB_FILE_REVIEW="HUB_FILE_REVIEW",e.COMMUNITY_MODERATION="COMMUNITY_MODERATION",e.VISUAL_COMPLIANCE="VISUAL_COMPLIANCE",e.COMMUNITY_CATEGORIES="COMMUNITY_CATEGORIES",e.COMMUNITY_CATEGORIES_2="COMMUNITY_CATEGORIES_2",e.COMMUNITY_SHELVES="COMMUNITY_SHELVES",e.COMMENTS="COMMENTS",e.TAGS_DESCRIPTIONS="TAGS_DESCRIPTIONS",e.COMMUNITY_SHELVES_2="COMMUNITY_SHELVES_2",e.BADGES="BADGES",e))(m||{}),_=(e=>(e.REPORTED="REPORTED_COMMENTS",e.ALL="ALL_COMMENTS",e.ALL_RATINGS="ALL_RATINGS",e.REPORTED_RATINGS="REPORTED_RATINGS",e))(_||{}),h=(e=>(e.COMMUNITY_LANDING="community_landing",e.BROWSE_PLUGINS_MODAL="browse_plugins_modal",e.BROWSE_WIDGETS_MODAL="browse_widgets_modal",e.EXPERIMENTAL="experimental",e))(h||{}),g=(e=>(e.BLOCKED="blocked",e.ORG_PRIVATE="org_private",e.PENDING_USER_VISUAL_COMPLIANCE="pending_user_visual_compliance",e.PENDING_PUBLIC="pending_public",e.ORG_PRIVATE_PENDING_PUBLIC="org_private_pending_public",e.DELISTED="delisted",e.DELISTED_CREATOR_STRIPE_DISABLED="delisted_creator_stripe_disabled",e.APPROVED_PUBLIC="approved_public",e))(g||{}),f=(e=>(e.INACTIVE="inactive",e.SCHEDULED="scheduled",e.FEATURED="featured",e.ARCHIVED="archived",e))(f||{}),E=(e=>(e.SPAM="SPAM",e.HAM="HAM",e))(E||{}),y=(e=>(e.COMMENT="comment",e.HUB_FILE="hub_file",e.PROFILE="profile",e))(y||{}),b=r(256975),v=r(746893),I=r(370934),T=r(92597),S=r(931828),w=r(809831),A=r(756085),C=r(358171),N=r(843495),O=r(335682),L=r(694687),R=r(860178),P=r(99506),k=r(279453),D=r(215822),M=r(285334),x=r(239671),F=r(507956),U=r(287012),B=r(853079),H=r(757028),V=r(935283),G=r(966712),W=r(852800);let K={language:{type:"first-party",id:"WEB"},preferences:{customSettings:null,unit:P.tK.PIXEL,scaleFactor:null},behavior:P.Rc.INHERIT};class Y{constructor(e,t,r){if(this.workingPreferences=e,this.parentPreferences=t,this.parentEnabledPreferences=r,!t||!r)return;let{codegenEnabled:n,pinnedPluginsEnabled:i}={...r},a={...t};!n&&(0,G.kc)().dev_mode_default_codegen&&(a.codegenSettings=null),!i&&(0,G.kc)().dev_mode_org_pinned_plugins_ent&&(a.pins=[],a.removedInheritedPins=[]),this.parentPreferences=a}orgPinsNotInUserPins(){var e;let t=[];for(let r of(null==(e=this.parentPreferences)?void 0:e.pins)??[])this.workingPreferences.pins.find(e=>e.pluginId===r.pluginId)||t.push(r);return t}get pinnedPluginIDs(){let e=[...this.workingPreferences.pins,...this.orgPinsNotInUserPins()],t=new Set(this.workingPreferences.removedInheritedPins);return e.filter(e=>!t.has(e.pluginId)&&(!e.inherited||j(this.parentPreferences,e.pluginId))).map(e=>e.pluginId)}get codegenSettings(){var e,t;return this.parentPreferences&&(null==(e=this.workingPreferences.codegenSettings)?void 0:e.behavior)!==P.Rc.OVERRIDE?(null==(t=this.parentPreferences)?void 0:t.codegenSettings)??null:this.workingPreferences.codegenSettings}update(e){return new Y((0,H.Ay)(this.workingPreferences,e),this.parentPreferences,this.parentEnabledPreferences)}pinPlugin(e){var t;let r=null==(t=this.workingPreferences)?void 0:t.pins.findIndex(t=>t.pluginId===e&&t.inherited);return null!=r&&-1!==r?this.update(t=>{t.pins[r].inherited=!1,t.removedInheritedPins=t.removedInheritedPins.filter(t=>t!==e)}):j(this.workingPreferences,e)?this:this.update(t=>{t.pins.push({pluginId:e,inherited:!1}),t.removedInheritedPins=t.removedInheritedPins.filter(t=>t!==e)})}unpinPlugin(e){return this.update(t=>{t.pins=t.pins.filter(t=>t.pluginId!==e),j(this.parentPreferences,e)&&t.removedInheritedPins.push(e)})}movePin(e,t){return"after"===t.type&&e===t.id||"begin"===t.type&&this.pinnedPluginIDs[0]===e?this:this.update(r=>{let n=j(this.workingPreferences,e),i=j(this.parentPreferences,e),a=!!(!n&&i);switch(r.pins=r.pins.filter(t=>t.pluginId!==e),t.type){case"begin":r.pins.unshift({pluginId:e,inherited:a});break;case"after":{let n=r.pins.findIndex(e=>e.pluginId===t.id);if(-1!==n)r.pins.splice(n+1,0,{pluginId:e,inherited:a});else{let n=this.orgPinsNotInUserPins(),i=n.findIndex(e=>e.pluginId===t.id);if(-1===i)throw Error("Invalid pin to move after");r.pins.push(...n.slice(0,i+1).map(e=>({...e,inherited:!0})),{pluginId:e,inherited:a})}}}})}get localCodegenSettings(){var e;if(!this.codegenSettings)return null;let t=null==(e=this.codegenSettings)?void 0:e.language,r=this.lgLanguageToLocalLanguage(t);if(!r)return null;let n=this.codegenSettings.preferences,i=this.lgUnitToLocalUnit(n.unit);return{language:r,preferences:{scaleFactor:n.scaleFactor??void 0,customSettings:n.customSettings??void 0,unit:i},behavior:this.codegenSettings.behavior}}setCodegenSettingLanguage(e){return this.update(t=>{var r,n;let i=this.localLanguageTypeToLgLanguageType(e.type);if(!i)throw Error("Invalid language type");let a={...e,type:i,pluginLanguage:e.pluginLanguage??null};t.codegenSettings={language:a,preferences:(null==(r=this.codegenSettings)?void 0:r.preferences)||K.preferences,behavior:(null==(n=this.codegenSettings)?void 0:n.behavior)||K.behavior}})}setCodegenSettingUnit(e){return this.update(t=>{if(!this.codegenSettings)return;let r=this.localUnitToLgUnit(e);if(!r)throw Error("Invalid unit");let n=this.codegenSettings.preferences?{...this.codegenSettings.preferences,unit:r}:{scaleFactor:null,unit:r,customSettings:null};t.codegenSettings={language:this.codegenSettings.language,preferences:n,behavior:this.codegenSettings.behavior}})}setCodegenSettingCustomSettings(e,t){return this.update(r=>{var n,i,a;if(!this.codegenSettings)return;let o=this.localLanguageTypeToLgLanguageType(e.type);if(!o)throw Error("Invalid language type");let l={...e,type:o,pluginLanguage:e.pluginLanguage??null},s={scaleFactor:(null==(n=this.codegenSettings.preferences)?void 0:n.scaleFactor)??null,unit:(null==(i=this.codegenSettings.preferences)?void 0:i.unit)??null,customSettings:{...null==(a=this.codegenSettings.preferences)?void 0:a.customSettings,...t.customSettings}};r.codegenSettings={language:l,preferences:s,behavior:this.codegenSettings.behavior}})}setCodegenSetting(e){return this.update(t=>{if(!e){t.codegenSettings=null;return}let{behavior:r,language:n,preferences:i}=e,a=this.localLanguageTypeToLgLanguageType(n.type);if(!a)throw Error("Invalid language type");let o={...n,type:a,pluginLanguage:n.pluginLanguage??null},l={unit:this.localUnitToLgUnit(i.unit),customSettings:i.customSettings??null,scaleFactor:i.scaleFactor??null};t.codegenSettings={behavior:r,language:o,preferences:l}})}localUnitToLgUnit(e){switch(e){case W.tKW.PIXEL:return P.tK.PIXEL;case W.tKW.SCALED:return P.tK.SCALED;default:return null}}lgUnitToLocalUnit(e){switch(e){case P.tK.PIXEL:return W.tKW.PIXEL;case P.tK.SCALED:return W.tKW.SCALED;default:return}}localLanguageTypeToLgLanguageType(e){switch(e){case"first-party":return P.h9.FIRST_PARTY;case"published-plugin":return P.h9.PUBLISHED_PLUGIN;default:return null}}lgLanguageToLocalLanguage(e){let t;switch(e.type){case P.h9.FIRST_PARTY:t={id:e.id,type:e.type,pluginLanguage:e.pluginLanguage??void 0};break;case P.h9.PUBLISHED_PLUGIN:if(!e.pluginLanguage)return null;t={id:e.id,type:e.type,pluginLanguage:e.pluginLanguage};break;default:(0,V.xb)(e.type)}return t}serialize(){return{pins:this.workingPreferences.pins.map(e=>({pluginId:e.pluginId,inherited:e.inherited})),removedInheritedPins:Array.from(new Set(this.workingPreferences.removedInheritedPins)),codegenSettings:this.workingPreferences.codegenSettings}}}function j(e,t){return null==e?void 0:e.pins.some(e=>e.pluginId===t)}let z={pins:[],removedInheritedPins:[],codegenSettings:null},$={...z,codegenSettings:{language:{id:C.qZ.CSS,type:P.h9.FIRST_PARTY,pluginLanguage:null},preferences:{customSettings:null,unit:P.tK.PIXEL,scaleFactor:null},behavior:P.Rc.INHERIT}};function Z(){let{loaded:e,preferences:t}=function(){let e=(0,R.TA)(),{loaded:t,preferences:r}=ee((0,s.Rs)(k.JuA,{targetOrgId:null,targetUserId:e}));return{loaded:t,preferences:r}}(),{loaded:r,preferences:o,codegenEnabled:l,pinnedPluginsEnabled:d}=Q(),u=(0,i.wA)(),p=(0,a.U)(),m=(0,F.ks)(),_=(0,b._I)(),h=m&&!_;(0,n.useEffect)(()=>{t&&y(null)},[t]);let f=(0,n.useMemo)(()=>new Y(t??z,o??null,{codegenEnabled:l,pinnedPluginsEnabled:d}),[t,o,l,d]),[E,y]=(0,n.useState)(null),I=(0,n.useMemo)(()=>{let e=new Map;for(let r of[...(null==t?void 0:t.pins)??[],...(null==o?void 0:o.pins)??[]])r.plugin&&e.set(r.pluginId,r.plugin);return e},[null==o?void 0:o.pins,null==t?void 0:t.pins]),T=(0,n.useMemo)(()=>(null==E?void 0:E.pinnedPluginIDs)??f.pinnedPluginIDs,[f,E]),w=(0,i.d4)(e=>e.currentUserOrgId),C=(0,R.TA)(),N=(0,A.YN)(),O=(0,n.useMemo)(()=>T.map(e=>{let t=I.get(e);if(!t||!t.publishingStatus||t.publishingStatus!==g.APPROVED_PUBLIC&&t.publishingStatus!==g.ORG_PRIVATE)return null;let r=(0,A.mf)(t,w,C,null);return r&&(h||N(r))?r:null}).filter(c.Vq),[T,I,w,C,h,N]),L=e=>{y(e),X(e.serialize()).catch(()=>{y(null)})};return{pinnedPlugins:O,unpinPlugin(e){L(f.unpinPlugin(e)),p("Dev Handoff Unpin Plugin",{pluginID:e})},pinPlugin(e){u(S.b({[v.xb]:!0})),L(f.pinPlugin(e)),p("Dev Handoff Pin Plugin",{pluginID:e})},movePin(e,t){L(f.movePin(e,t)),p("Dev Handoff Moved Plugin",{pluginID:e})},localCodegenSettings:f.localCodegenSettings,setCodegenSettings(e){L(f.setCodegenSetting(e))},setCodegenSettingsLanguage(e){L(f.setCodegenSettingLanguage(e))},setCodegenSettingsUnit(e){L(f.setCodegenSettingUnit(e))},setCodegenSettingsCustomSettings(e,t){L(f.setCodegenSettingCustomSettings(e,t))},loaded:e&&r}}function q(){let{loaded:e,preferences:t}=Q(),[r,i]=(0,n.useState)(!1),[o,s]=(0,n.useState)(new Y({...$,codegenSettings:null},null,null)),c=(0,a.iT)(),[d,u]=(0,l.fp)(U.D),p=(0,n.useCallback)(e=>{var t;s(e),u((null==(t=e.localCodegenSettings)?void 0:t.language)??null)},[u]);(0,n.useEffect)(()=>{e&&(null!=t&&p(new Y({...t,codegenSettings:t.codegenSettings??$.codegenSettings},null,null)),i(!0))},[t,e,u,p]);let m=(0,n.useMemo)(()=>(null==o?void 0:o.pinnedPluginIDs)??[],[o]);return{pinnedPlugins:(0,A.uf)(m,{enabled:!0}),unpinPlugin(e){p(o.unpinPlugin(e)),c("Dev Handoff Org Unpin Plugin",{pluginID:e})},pinPlugin(e){p(o.pinPlugin(e)),c("Dev Handoff Org Pin Plugin",{pluginID:e})},movePin(e,t){p(o.movePin(e,t)),c("Dev Handoff Org Move Plugin",{pluginID:e})},localCodegenSettings:o.localCodegenSettings,setCodegenSettings(e){p(o.setCodegenSetting(e)),c("Dev Handoff Org Set codegenSettings",{codeLanguage:null==e?void 0:e.language.id})},setCodegenSettingsLanguage(e){p(o.setCodegenSettingLanguage(e)),c("Dev Handoff Org Set codegenSettingsLanguage",{codeLanguage:e.id})},setCodegenSettingsUnit(e){p(o.setCodegenSettingUnit(e)),c("Dev Handoff Org Set codegenSettings Unit in preferences",{unit:e})},setCodegenSettingsCustomSettings(e,t){p(o.setCodegenSettingCustomSettings(e,t))},serialize:()=>o.serialize(),updatePrefs(e){s(new Y({pins:e.map(e=>({pluginId:e.plugin_id,inherited:!1})),removedInheritedPins:[],codegenSettings:o.codegenSettings},null,null))},loaded:r}}function J(){let e;let[t,r]=(0,n.useState)(!1),{localCodegenSettings:a,loaded:s}=Z(),{loaded:c,plugin:d}=function(){let e=(0,O.tS)(),t=(0,l.md)(o.x),r=(0,i.d4)(e=>e.figFileDuplicatedFromHubFile),a=(0,n.useMemo)(()=>{if(!e)return null;let t=r[e];return t&&t.hubFileId?(0,M.Y3)(t.hubFileId):null},[r,e]),s=!!a,c=(0,A._P)(a??"",s);return t?a&&s?c:{loaded:!0,plugin:null}:{loaded:!1,plugin:null}}(),u=(0,T.Bs)(),p=(0,B.U)("community_hub_file"),m=(0,w.E3)(),_=null==a?void 0:a.language,h=(null==_?void 0:_.type)==="published-plugin"&&s,g=(0,A._P)((null==_?void 0:_.id)??"",h);if(!t){if(c&&d){if(!(0,D.pk)(d)||!(e=(0,I.$n)(d)))return;m===x.nT.Design&&p("handoff")}else if(h&&g.loaded&&a){if((null==_?void 0:_.type)==="published-plugin"&&!g.plugin||g.plugin&&!(0,D.pk)(g.plugin))return;e=_}else(null==a?void 0:a.language.type)==="first-party"&&(e=_);e&&(!d&&a&&u(e,g.plugin??null,a.preferences),(0,N.bw)(e),r(!0))}}async function X(e){await d.Ay.post("/api/plugin_preferences/user",{preferences:e})}function Q(){let e=(0,L.sZ)();return ee((0,s.Rs)(k.JuA,{targetOrgId:(null==e?void 0:e.id)??null,targetUserId:null}))}function ee(e){if("loaded"!==e.status)return{loaded:!1,preferences:null,codegenEnabled:!1,pinnedPluginsEnabled:!1};let t=e.data.pluginPreferences,{codegenEnabled:r,pinnedPluginsEnabled:n}=t||{};return{loaded:!0,preferences:null==t?void 0:t.preferences,codegenEnabled:r??!1,pinnedPluginsEnabled:n??!1}}},501256:(e,t,r)=>{"use strict";r.d(t,{F5:()=>a,N$:()=>l,Rs:()=>c,Z:()=>s,nx:()=>d,um:()=>o});var n=r(824520),i=r(23001);function a(e,t){let r=!!(e.tokens&&e.tokens.length||e.inputValue&&e.inputValue.length);return e.tokens.some(e=>e.state===i.d.ERROR)&&(r=!1),e.inputValue&&e.inputValue.length&&t(e.inputValue).state===i.d.ERROR&&(r=!1),r}function o(e){let t=[];for(let r of e.tokens)t.push(r.content.toLowerCase());return e.inputValue&&t.push(e.inputValue.toLowerCase()),t}function l(e){let t=[];for(let r of e.tokens)t.push(r.content.toLowerCase());return t}function s(e){let t=[];for(let r of e.tokens){let e="string"==typeof r.content?r.content:r.content.email;t.push(e.toLowerCase())}return e.inputValue&&t.push(e.inputValue.toLowerCase()),t}function c(){return{inputValue:"",tokens:[],errorMessage:""}}function d(e=c(),t){return n.cL.matches(t)?c():n.hZ.matches(t)?{...t.payload}:n.Ox.matches(t)?{...e,tokens:e.tokens.concat(t.payload),inputValue:""}:n.pf.matches(t)?{...e,inputValue:t.payload}:n.g.matches(t)?{...e,errorMessage:t.payload}:e}},279145:(e,t,r)=>{"use strict";r.d(t,{Ee:()=>y,G:()=>g,IS:()=>f,Nf:()=>C,Q_:()=>p,Rn:()=>I,TY:()=>h,Wo:()=>b,Yh:()=>T,ZX:()=>d,c1:()=>w,e_:()=>A,fj:()=>m,jv:()=>E,nJ:()=>u,pD:()=>c,pi:()=>_,vg:()=>S});var n=r(966712),i=r(563706),a=r(738269),o=r(293017),l=r(852800),s=r(279702);function c(e,t){return!e&&!t||e===t}function d(e,t){return!e&&!t||!!e&&!!t&&e.pageId==t.pageId}function u(e,t){return!e&&!t||!!e&&!!t&&e.nodeId==t.nodeId}function p(e,t){let r=e?e.nodeId:void 0,n=e?e.name:void 0,i=e?e.backgroundColor:void 0,a=e?e.pageId:void 0,o=t?t.nodeId:void 0,l=t?t.name:void 0,s=t?t.backgroundColor:void 0,d=t?t.pageId:void 0;return(r!==o||n!==l||i!==s||!!a||!d)&&!function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;for(let r of["nodeId","name","backgroundColor","pageName","pageId","containingStateGroup"])switch(r){case"nodeId":case"name":case"backgroundColor":case"pageName":case"pageId":if(!c(e[r],t[r]))return!1;break;case"containingStateGroup":if(!function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;for(let r of["nodeId","name"])if(!c(e[r],t[r]))return!1;return!0}(e[r],t[r]))return!1}return!0}(e,t)}function m(e={...s.Gf},t){return a.Ts.matches(t)?s.Gf:(o.p5.matches(t)&&t.payload.appModelChanges&&-1===(e={...e,...t.payload.appModelChanges,isInitialized:!0}).currentSelectedGradientStop.index&&(e.currentSelectedGradientStop={index:0,type:l.vRS.COLOR}),e)}let _="fullscreen-menu-dropdown";function h(e){return(null==e?void 0:e.type)===_}let g="page-picker-dropdown";function f(e){return(null==e?void 0:e.type)===g}let E="quick-actions-dropdown",y="quick-actions-component-search-dropdown";function b(e){return!!(0,n.kc)().dse_quick_action_comp_search&&(null==e?void 0:e.type)===y}let v=Object.create(null);function I(e){let t=v[e];return t||(t=v[e]=`actionEnabled__${e}`),t}function T(e,t){return!!e[I(t)]}function S(e){return e.startsWith("actionEnabled__")}function w(e,t){let r="\u{1F310}";switch(t){case"set-tool-bend":return i.Ay.mac?"\u2318":"Ctrl";case"stack-reorder-left":case"stack-counter-align-left":return"\u2190";case"stack-reorder-left-end":return"\u2325\u2190";case"stack-reorder-right":case"stack-counter-align-right":return"\u2192";case"stack-reorder-right-end":return"\u2325\u2192";case"stack-reorder-up":case"stack-counter-align-top":return"\u2191";case"stack-reorder-up-end":case"stack-reorder-down-end":return"\u2325\u2191";case"stack-reorder-down":case"stack-counter-align-bottom":return"\u2193";case"set-tool-default-desc-figjam":case"set-tool-default-desc-figma":return"V";case"set-tool-marker":return"M";case"set-tool-stamp":return"E";case"set-tool-type":return"T";case"set-tool-connector-elbowed":return"X";case"toggle-publish":return i.Ay.mac?"\u23252":"Alt+2";case"toggle-inline-preview":return"\u21E7Space";case"toggle-inline-html-preview":return"\u2325\u21E7Space";case"set-tool-sites-layout-set":return"W";case"deselect-all":return"\u238B";case"multi-edit-text":return"Enter";case"page-next":if((0,n.kc)().ce_mac_page_shortcuts&&i.Ay.mac)return r+"\u2193";break;case"page-previous":if((0,n.kc)().ce_mac_page_shortcuts&&i.Ay.mac)return r+"\u2191"}if(e[t]){let r=e[t];if(r&&r.length>=1)return r[0].text}return""}function A(e,t){if(e[t]){let r=e[t];if(r&&r.length>=1)return r[0].originalText}return""}function C(e){return e&&e.currentPage?e.currentPage:"0:1"}},750486:(e,t,r)=>{"use strict";r.d(t,{bV:()=>p,pw:()=>d,q5:()=>c,y2:()=>u});var n=r(286640),i=r(738269),a=r(712303);let o={[a.P.VIEW_MODE]:"view-bar-view-mode-option",[a.P.SORT_MODE]:"view-bar-sort-options"};function l(e){let t=n.x4&&n.x4.getItem(e)||"{}";try{return JSON.parse(t)}catch(e){return{}}}function s(e,t){if(n.x4)try{let r=JSON.stringify(t);n.x4.setItem(e,r)}catch(e){}return t}function c(e={},t){if(i.Qv.matches(t))return l(o[a.P.VIEW_MODE]);if(i.uV.matches(t)){let r={...e,[t.payload.viewId]:t.payload.viewMode};return s(o[a.P.VIEW_MODE],r)}return e}function d(e={},t){if(i.Qv.matches(t))return l(o[a.P.SORT_MODE]);if(i.ZR.matches(t)){let r={...e,[t.payload.viewId]:t.payload.sortMode};return s(o[a.P.SORT_MODE],r)}return e}function u(e,t,r){return t[e]??r}function p(e,t,r,n){let i=t.viewBarSortOptionsByView[e];return i&&-1!==r.indexOf(i.sortKey)?i:n}},166748:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});var n=r(547807),i=r(27087),a=r(594469);let o=new class{constructor(){this.ColorPaletteSchemaValidator=(0,n.YV)("ColorPaletteSchemaValidator",a.kfm.sinatra(),null)}createColorPalette(e){return this.ColorPaletteSchemaValidator.validate(async({xr:t})=>await t.post("/api/color_palettes",n.td.toAPIParameters(e)))}updateColorPalette(e){return this.ColorPaletteSchemaValidator.validate(async({xr:t})=>await t.put(`/api/color_palettes/${e.uuid}`,n.td.toAPIParameters(e)))}async deleteColorPalette(e){await i.Ay.del(`/api/color_palettes/${e}`)}setUserColorPaletteOverrideForFile(e,t){return i.Ay.post(`/api/files/${e}/color_palette`,n.td.toAPIParameters({colorPaletteUuid:t}))}async setTeamDefaultPalette(e,t){await i.Ay.post(`/api/teams/${e}/default_color_palette`,n.td.toAPIParameters({colorPaletteUuid:t}))}async clearTeamDefaultPalette(e){await i.Ay.del(`/api/teams/${e}/default_color_palette`)}}},767518:(e,t,r)=>{"use strict";r.d(t,{U:()=>a,m:()=>i});var n=r(547807),i=(e=>(e.VIEW_OR_PENDING="view_or_pending",e.VIEW_PROTOTYPE_OR_PENDING="view_prototype_or_pending",e))(i||{});let a=new class{constructor(){this.ContactsSchemaValidator=(0,n.vh)(),this.AtMentionsSchemaValidator=(0,n.vh)(),this.searchAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.AtMentionsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/at_mentions",n.td.toAPIParameters(e)))),this.getAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.AtMentionsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/at_mentions",n.td.toAPIParameters(e)))),this.ShareModalSchemaValidator=(0,n.vh)(),this.searchShareModalContacts=e=>this.ShareModalSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/share",n.td.toAPIParameters(e))),this.getShareModalContacts=e=>this.ShareModalSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/share",n.td.toAPIParameters(e))),this.FeedAtMentionsSchemaValidator=(0,n.vh)(),this.getFeedAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedAtMentionsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/feed_at_mentions",n.td.toAPIParameters(e)))),this.searchFeedAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedAtMentionsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/feed_at_mentions",n.td.toAPIParameters(e)))),this.FaceStampsMentionSchemaValidator=(0,n.vh)(),this.searchFaceStamps=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FaceStampsMentionSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/face_stamps",n.td.toAPIParameters(e)))),this.getRecentFaceStamps=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FaceStampsMentionSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/face_stamps",n.td.toAPIParameters(e)))),this.FeedPostCreatorsSchemaValidator=(0,n.vh)(),this.getFeedPostCreators=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedPostCreatorsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/feed_post_creators",n.td.toAPIParameters(e)))),this.searchFeedPostCreators=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedPostCreatorsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/feed_post_creators",n.td.toAPIParameters(e))))}getContacts(e){return this.ContactsSchemaValidator.validate(async({xr:t})=>await t.get("/api/contacts",n.td.toAPIParameters(e)))}}},988771:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(547807),i=r(27087);let a=new class{constructor(){this.GenerateImageTokenSchemaValidator=(0,n.vh)()}getGenerateImageToken(e){return this.GenerateImageTokenSchemaValidator.validate(async({xr:t})=>await t.get(`/api/feed_posts/generate_image_token/${e.fileKey}`,n.td.toAPIParameters({org_id:e.orgId,token_version:e.tokenVersion})))}markFeedViewed(e){i.Ay.post(`/api/feed_posts/${e.publicUuid}/mark_viewed`)}vote(e){i.Ay.post(`/api/feed_posts/${e.publicUuid}/vote`,{vote_option:e.voteOption})}}},877627:(e,t,r)=>{"use strict";r.d(t,{If:()=>o,Uy:()=>l});var n=r(547807),i=r(330654);let a=i.object({save_location:i.string(),folder_name:i.string().optional(),org_id:i.string().optional()}),o=(0,n.YV)("ClaimTryFileSchemaValidator",a,null,!0),l=new class{claimTryFile(e){return o.validate(async({xr:t})=>await t.put(`/api/file/claim/${e.fileKey}`))}}},640209:(e,t,r)=>{"use strict";r.d(t,{Gh:()=>s,Xs:()=>l});var n=r(547807),i=r(330654),a=r(642481);let o=i.object({userPromptRaw:i.string(),jsx:i.string(),theme:i.record(i.any()).optional(),trace:i.any().optional(),userPrompt:i.string().optional(),userPromptFull:i.string().optional(),systemPrompt:i.string().optional()}),l=i.object({eval_results:i.array(o)});i.union([i.object({status:i.literal("pending")}),i.object({status:i.literal("failed")}),l.extend({status:i.literal("success")})]);let s=new class{constructor(){this.FirstDraftPublishStatusSchemaValidator=(0,n.vh)(),this.FirstDraftAllKitsSchemaValidator=(0,n.vh)(),this.FirstDraftMatchGroupSchemaValidator=(0,n.vh)(),this.FirstDraftMatchPresetModesSchemaValidator=(0,n.vh)(),this.FirstDraftPublishLocalKitSchemaValidator=(0,n.vh)(),this.FirstDraftGenerateThemeV5SchemaValidator=(0,n.vh)(),this.FirstDraftAllEvalSetsSchemaValidator=(0,n.vh)(),this.FirstDraftRunEvalsSchemaValidator=(0,n.vh)(),this.FirstDraftEvalStatusSchemaValidator=(0,n.vh)()}postFirstDraftPublishStatus({productComponentKeyToVersion:e,groupedComponentKeyToVersion:t,exampleKeyToVersion:r,variableSetKeyToVersion:n,publishType:i,kitKey:o}){return this.FirstDraftPublishStatusSchemaValidator.validate(async({xr:l})=>await l.post("/api/first_draft/kit_status",{product_components:e,grouped_components:t,examples:r,variable_sets:n,is_local:i===a.tf.LOCAL_GENERATION,kit_key:o,type_info_version:a.Q6,theme_info_version:a.$5}))}getFirstDraftAllKits(){return this.FirstDraftAllKitsSchemaValidator.validate(async({xr:e})=>await e.get("/api/first_draft/all_kits"))}getFirstDraftMatchGroup(e){return this.FirstDraftMatchGroupSchemaValidator.validate(async({xr:t})=>await t.get("/api/first_draft/match_group",n.td.toAPIParameters(e)))}postFirstDraftMatchPresetModes(e){return this.FirstDraftMatchPresetModesSchemaValidator.validate(async({xr:t})=>await t.post("/api/first_draft/match_preset_modes",{kit_key:e.kit_key,is_local:e.is_local,user_prompt:e.user_prompt}))}postFirstDraftPublishLocalKit({fileKey:e,publishMetadata:t}){return this.FirstDraftPublishLocalKitSchemaValidator.validate(async({xr:r})=>await r.post(`/api/first_draft/publish_local_kit/${e}`,{publish_metadata:t}))}postFirstDraftGenerateThemeV5({userPrompt:e,isLocal:t,kitKey:r}){return this.FirstDraftGenerateThemeV5SchemaValidator.validate(async({xr:n})=>await n.post("/api/first_draft/generate_theme",{user_prompt:e,is_local:t,kit_key:r}))}getFirstDraftAllEvalSets(){return this.FirstDraftAllEvalSetsSchemaValidator.validate(async({xr:e})=>await e.get("/api/first_draft/all_eval_sets"))}postFirstDraftRunEvals({model:e="gpt-4-turbo-2024-04-09",selectedEval:t,isLocal:r,kitKey:n,evalPrompts:i}){let a={is_local:r,kit_key:n};return e&&(a.model=e),i?a.eval_prompts=i:a.eval_set_id=t,this.FirstDraftRunEvalsSchemaValidator.validate(async({xr:e})=>await e.post("/api/first_draft/run_evals",a))}getFirstDraftsEvalStatus({s3Key:e}){return this.FirstDraftEvalStatusSchemaValidator.validate(async({xr:t})=>await t.post("/api/first_draft/eval_status",{s3_key:e}))}}},379791:(e,t,r)=>{"use strict";r.d(t,{G:()=>l,h:()=>o});var n=r(547807),i=r(330654),a=r(66037),o=(e=>(e.DEV_MODE_BETA_SUGGESTED_UPGRADES="dev_mode_beta_suggested_upgrades",e.MEMBERS_TAB="members_tab",e))(o||{});let l=new class{constructor(){this.GuestResourcesSchemaValidator=(0,n.vh)(),this.OrgUserSchemaValidator=(0,n.YV)("OrgUserSchemaValidator",a.WU,null,!1),this.UpdateOrgUsersSchemaValidator=(0,n.YV)("UpdateOrgUsersSchemaValidator",i.array(a.WU),null,!1),this.CreateStarterTeamSchemaValidator=(0,n.vh)()}getGuestResources(e){return this.GuestResourcesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/org_user/${e.orgUserId}/guest_resources`))}updateOrgUser(e){let{id:t,changes:r}=e;return this.OrgUserSchemaValidator.validate(({xr:e})=>e.put(`/api/org_users/${t}`,n.td.toAPIParameters(r)))}updateOrgUsers(e){let{orgId:t,...r}=e;return this.UpdateOrgUsersSchemaValidator.validate(({xr:t})=>t.put(`/api/orgs/${e.orgId}/org_users`,n.td.toAPIParameters(r)))}createStarterTeam(){return this.CreateStarterTeamSchemaValidator.validate(({xr:e})=>e.post("/api/org_user/create_starter_team"))}postOrgUserFlags(e){let{orgUserId:t,flags:r}=e;return n._5.validate(({xr:e})=>e.post(`/api/org_users/${t}/flags`,{flags:r}))}declineDevModeSuggestedUpgrades(e){return n._5.validate(async({xr:t})=>await t.del(`/api/orgs/${e.org_id}/org_users/dev_mode_suggested_upgrades`,e))}requestOrgAccountTypeRequest(e){return n._5.validate(async({xr:t})=>await t.post(`/api/orgs/${e.org_id}/org_users/request_upgrade`,e))}}},679892:(e,t,r)=>{"use strict";r.d(t,{Eh:()=>m,Wd:()=>c.Wd});var n,i=r(547807),a=r(27087),o=r(330654),l=r(942506),s=r(566971),c=r(66037);(e=>{e.isOrgInvite=function(e){return e.type===c.Wd.ORG_INVITE},e.isOrgUser=function(e){return e.type===c.Wd.ORG_USER},e.isIdpUser=function(e){return e.type===c.Wd.IDP_USER}})(n||(n={}));let d=c.Ru.pick({id:!0,user:!0,type:!0}),u=o.discriminatedUnion("type",[c.WU,l.S,s.n]),p=o.object({users:o.array(o.union([u,d])).optional(),cursor:o.ignore(),designEditorCutoff:o.ignore().optional(),whiteboardEditorCutoff:o.ignore().optional(),devModeEditorCutoff:o.ignore().optional(),totalUserCount:o.number()}),m=new class{constructor(){this.IdpUsersSchemaValidator=(0,i.vh)(),this.LicenseGroupsSchemaValidator=(0,i.vh)(),this.BillingDataSchemaValidator=(0,i.vh)(),this.TeamsSchemaValidator=(0,i.vh)(),this.TeamSchemaValidator=(0,i.vh)(),this.EligibleUpgradesFigjamSchemaValidator=(0,i.vh)(),this.OrgNameSchemaValidator=(0,i.vh)(),this.DomainsSchemaValidator=(0,i.vh)(),this.AdminsSchemaValidator=(0,i.YV)("AdminsSchemaValidator",e=>e.array(c.WU),null,!1),this.OrgUsersPaginatedSchemaValidator=(0,i.YV)("OrgUsersPaginatedSchemaValidator",p,null,!1),this.OrgUsersPaginatedSchemaValidatorPassthrough=(0,i.vh)(),this.UserSchemaValidator=(0,i.YV)("UserSchemaValidator",c.WU,null,!1),this.OauthConnectionsSchemaValidator=(0,i.vh)(),this.ShowVatGstSchemaValidator=(0,i.vh)(),this.LicenseGroupsMembersCountsSchemaValidator=(0,i.vh)(),this.WorkspaceTeamsCountsSchemaValidator=(0,i.vh)(),this.OrgUsersCountSchemaValidator=(0,i.vh)(),this.OrgUsersFilterCountsSchemaValidator=(0,i.vh)(),this.OrgTeamsFilterCountsSchemaValidator=(0,i.vh)(),this.OrgAdminsSchemaValidator=(0,i.vh)()}getIdpUsers(e){return this.IdpUsersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/idp_users`))}getLicenseGroups(e){return this.LicenseGroupsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.currentOrgId}/license_groups`))}getBillingData(e){return this.BillingDataSchemaValidator.validate(async({xr:t})=>{let r=await t.get(`/api/orgs/${e.orgId}/billing_data`);return r.data.meta?r:{...r,data:{...r.data,meta:null}}})}updateOrgPaymentMethod(e){return this.BillingDataSchemaValidator.validate(async({xr:t})=>{let r=await t.put(`/api/orgs/${e.orgId}/billing_data`,e.paymentMethod);return r.data.meta?r:{...r,data:{...r.data,meta:null}}})}changeShippingAddress(e){return a.Ay.put(`/api/orgs/${e.orgId}`,{shipping_address:e.shippingAddress})}getTeams(e){return this.TeamsSchemaValidator.validate(async({xr:t})=>{let{orgId:r,...n}=e;return await t.get(`/api/orgs/${e.orgId}/teams`,i.td.toAPIParameters(n))})}getTeam(e){return this.TeamSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/teams/${e.teamId}`))}getEligibleUpgradesFigjam(){return this.EligibleUpgradesFigjamSchemaValidator.validate(async({xr:e})=>await e.get("/api/orgs/eligible_upgrades_figjam"))}getOrgName(e){return this.OrgNameSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/org_name`))}getDomains(e){return this.DomainsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.currentOrgId}/domains`))}getAdmins(e){return this.AdminsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/admins`,i.td.toAPIParameters({include_license_admins:e.includeLicenseAdmins})))}getOrgUsersPaginatedV2(e){let{orgId:t,after:r,minimalFields:n,pageSize:a,sort:o,filter:l,...s}=e;return this.OrgUsersPaginatedSchemaValidatorPassthrough.validate(async({xr:e})=>await e.get(`/api/v2/orgs/${t}/org_users`,i.td.toAPIParameters({...s,...l||{},...o||{},minimalFields:n||void 0,pageSize:a||void 0,after:r?JSON.stringify(r):void 0})))}getUser(e){return this.UserSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/user/${e.userId}`))}getOauthConnections(e){return this.OauthConnectionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/oauth_connections`))}getShowVatGst(e){return this.ShowVatGstSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/show_vat_gst`))}getLicenseGroupsMembersCounts(e){return this.LicenseGroupsMembersCountsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/license_groups/members/counts`))}getWorkspaceTeamsCounts(e){return this.WorkspaceTeamsCountsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/workspaces/teams/counts`))}getOrgUsersCount(e){return this.OrgUsersCountSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/org_users/count`))}getOrgUsersFilterCounts(e){return""===e.searchQuery&&delete e.searchQuery,this.OrgUsersFilterCountsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/org_users/filter_counts`,i.td.toAPIParameters({searchQuery:e.searchQuery,product:e.product,licenseGroupId:e.licenseGroupId,workspaceId:e.workspaceId,permission:e.permission,role:e.role})))}getOrgTeamsFilterCounts(e){let{orgId:t,searchQuery:r,orgAccess:n,teamsWithoutOwners:i,teamsMemberOf:a,workspaceId:o,sortBy:l,sortOrder:s}=e;return this.OrgTeamsFilterCountsSchemaValidator.validate(async({xr:e})=>{let c={search_query:r,org_access:n||void 0,teams_without_owners:i?String(i):void 0,teams_member_of:void 0!==a?JSON.stringify(a):void 0,workspace_id:o||void 0,sort_by:l,order_by:s};return await e.get(`/api/orgs/${t}/team_counts`,c)})}getOrgAdmins(e){return this.OrgAdminsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/org_admins`))}apiAutogenControls(e){let{orgId:t,autogen_password_controls:r}=e;return a.Ay.put(`/api/orgs/${t}`,{autogen_password_controls:r})}delWorkspaces(e){return a.Ay.del(`/api/orgs/${e.orgId}/workspaces`,{workspace_ids:e.workspaceIds})}validateTrial(e){return a.Ay.post(`/api/orgs/${e.orgId}/validate_trial`)}selfAssignWorkspace(e){return a.Ay.post(`/api/orgs/${e.orgId}/self_assign_workspace`,{workspace_id:e.workspaceId})}postDevModeOptInTermsAccepted(e){return a.Ay.post(`/api/orgs/${e.orgId}/dev_mode_terms_accepted`)}}},802257:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(547807),i=r(27087);let a=new class{updateOrgPreferences(e,t){let{preferences:r,...n}=t,a={preferences:r};return e.bigma_enabled?(a.auto_run_plugin_id=n.auto_run_plugin_id,a.auto_run_enabled=n.auto_run_enabled,a.codegen_enabled=n.codegen_enabled,a.pinned_plugins_enabled=n.pinned_plugins_enabled):!1===n.pinned_plugins_enabled&&(a.pinned_plugins_enabled=!1),i.Ay.post(`/api/plugin_preferences/org/${e.id}`,a)}updateUserAutoRunPluginId(e,t){return i.Ay.put("/api/plugin_preferences/user",n.td.toAPIParameters({autoRunBehavior:t,autoRunPluginId:e}))}}},369351:(e,t,r)=>{"use strict";r.d(t,{sr:()=>o});var n=r(517333),i=r(547807),a=r(27087);let o=new class{constructor(){this.CommunitySchemaValidator=(0,i.vh)(),this.UserNotificationsSchemaValidator=(0,i.vh)(),this.UpdatedNotificationSchemaValidator=(0,i.vh)(),this.CommunityServerDrivenSchemaValidator=(0,i.vh)(),this.ServerDrivenSchemaValidator=(0,i.vh)(),this.ServerDrivenPlanSchemaValidator=(0,i.vh)()}getCommunity(e){return this.CommunitySchemaValidator.validate(async({xr:t})=>await t.get("/api/user_notifications/community",{currentView:null==e?void 0:e.currentView}))}getUserNotifications(e){return this.UserNotificationsSchemaValidator.validate(async({xr:t})=>await t.get("/api/user_notifications",i.td.toAPIParameters(e,["currentView"])))}updateNotification(e){return this.UpdatedNotificationSchemaValidator.validate(({xr:t})=>t.put("/api/user_notifications",i.td.toAPIParameters({id:e.notification_id,currentView:e.currentView,medium:n.S8?"desktop_bell":"web",appVersion:"1",clientType:"web",["resolve"===e.notification_action?"resolvedAt":"rejectedAt"]:"true"},["currentView"])))}getCommunityServerDriven(e){return this.CommunityServerDrivenSchemaValidator.validate(async({xr:t})=>await t.get("/api/user_notifications/community/server_driven",i.td.toAPIParameters({currentView:e.currentView,clientType:"web",appVersion:"1"},["currentView"])))}getServerDriven(e){return this.ServerDrivenSchemaValidator.validate(async({xr:t})=>await t.get("/api/user_notifications/server_driven",i.td.toAPIParameters(e,["currentView"])))}getServerDrivenPlan(e){return this.ServerDrivenPlanSchemaValidator.validate(async({xr:t})=>await t.get("/api/user_notifications/server_driven/plan",i.td.toAPIParameters({...e,appVersion:"1",clientType:"web"},["currentView"])))}recordNotificationClicked(e){return a.Ay.post("/api/user_notification/clicked",{id:e.id,currentView:e.currentView,medium:e.medium})}enrollUserInStatusChangeXP(e){return a.Ay.post(`/api/user_notifications/status_change_signup/${e.fileKey}`)}updateStatusChangeXPPreferences(e){return a.Ay.post(`/api/user_notifications/status_change_optin/${e.fileKey}`,{opt_in:e.optIn})}}},726732:(e,t,r)=>{"use strict";r.d(t,{N:()=>l,Y:()=>s,wh:()=>c});var n=r(966712),i=r(374626),a=r(977230);let o="showFigmentDebugger";function l(e,t){try{if(!(0,n.kc)().internal_only_debug_tools||!(0,n.kc)().figment_debugger||null==e)return;i.zl.set(a.a4,{requestJsons:e,networkState:t})}catch(e){console.error("[Figment Debugger] Error tracking request")}}function s(){var e;let t=c();e=!t,localStorage.setItem(o,e?"true":"false"),i.zl.set(a.eE,!t)}function c(){try{if(null==localStorage)return!1;let e=localStorage.getItem(o);return"true"===e}catch(e){return!1}}},819338:(e,t,r)=>{"use strict";r.d(t,{C:()=>l,w:()=>s});var n=r(411855),i=r(358145),a=r(611978);let o=n.createContext(null);function l(){return n.useContext(o)}function s({children:e}){let[t,r]=n.useState(null),[l,s]=n.useState(null),[c,d]=n.useState(null),u=(0,a.z3)(),p=(0,i.ZC)(u);(0,n.useEffect)(()=>{p!==u&&"fullscreen"===p&&(r(null),s(null),d(null))},[p,u]);let m=(0,n.useMemo)(()=>({dltNode:t,dltContainerNode:l,setDltNode:r,setDltContainerNode:s,bottomRightToolsNode:c,setBottomRightToolsNode:d}),[t,l,c]);return n.createElement(o.Provider,{value:m},e)}},977468:(e,t,r)=>{"use strict";r.d(t,{CH:()=>ei,Pq:()=>x,Ro:()=>et,Sw:()=>F,az:()=>eu,md:()=>ea,pw:()=>K,rE:()=>ep,w7:()=>en,z6:()=>er});var n=r(411855),i=r(629019),a=r.n(i),o=r(498480),l=r(574176),s=r(939863),c=r(809840),d=r(498606),u=r(80332),p=r(244616),m=r(161143),_=r(606692),h=r(103941),g=r(380410),f=r(774283),E=r(316216),y=r(241577),b=r(311790),v=r(426431),I=r(91025),T=r(855072),S=r(175827),w=r(670658),A=r(440877),C=r(241932),N=r(420959),O=r(592526),L=r(522313),R=r(562014),P=r(266042);let k=[m.A,_.A,h.A,g.A,f.A,E.A,y.A,b.A,v.A,I.A,T.A,S.A,w.A,A.A,C.A,N.A,O.A,L.A],D=[p.NZ,p.N,p.U6,p.Dn],M=[];for(let e=0;e<k.length*D.length;e+=1){let t=e%k.length,r=k[t],n=(e+Math.floor(e/k.length))%D.length,i=D[n];M.push({svgSrc:r,className:i})}function x(e){return e.startsWith("https://www.gravatar.com/avatar/")}function F(e){return e&&!x(e)?e:void 0}let U={CIRCLE:`${p.my} ${p.n1}`,SQUARE:`${p.my} ${p.Ew}`,ROUNDED_SQUARE:`${p.my} ${p.xM}`};function B(e){return"number"==typeof e?{imgSize:e,fallbackSize:e}:e}class H{constructor(e,t){this.lower=e,this.upper=t}contains(e){return e>=this.lower&&e<this.upper}}let V=new H(65,91),G=new H(97,123),W=new H(48,58);class K extends n.Component{render(){let e={display:"flex",justifyContent:"center",color:this.props.tint||(0,u.Xx)(this.props.color),backgroundColor:this.props.color||void 0,opacity:this.props.opacity},t=this.props.enabled||!0,{size:r,fontSize:i}=this.props;r&&(e.width=`${r}px`,e.height=`${r}px`,e.lineHeight=`${r}px`,e.fontSize=`${i??r/2}px`);let o=U[this.props.shape||"CIRCLE"];return n.createElement("span",{"data-testid":this.props.dataTestId,style:e,className:a()(o,this.props.className||"",{[p.r3]:!t,[p.iu]:"outward"===this.props.borderStyle,[p.LA]:"inward"===this.props.borderStyle}),"aria-hidden":"true"},this.props.children)}}class Y extends n.Component{render(){return n.createElement(K,{dataTestId:"initial-avatar",...this.props},this.props.initial)}}function j(e){let t={};if(e.size&&e.svgSizeRatio){let r=e.size*e.svgSizeRatio;t.width=`${r}px`,t.height=`${r}px`}let r=(0,u.Xx)(e.color);return t.fill=r,n.createElement(K,{...e},n.createElement("div",{style:t},n.createElement(l.B,{svg:e.svg,autosize:!0})))}class z extends n.Component{render(){let{size:e}=this.props,t=e?`${e}px`:void 0,r=U[this.props.shape||"CIRCLE"];return n.createElement(l.B,{className:`${r} ${this.props.className||""} ${(this.props.enabled,"")}`,style:this.props.style||{},svg:this.props.src,autosize:!0,width:t,height:t,dataTestId:"svg-avatar"})}}class $ extends n.Component{constructor(e){super(e),this.onImageLoadError=()=>{this.setState({loadError:!0})},this.state={loadError:!1}}render(){var e,t;let r={},i=this.props.style||{};if(this.props.size){let n=this.state.loadError?null==(e=B(this.props.size))?void 0:e.fallbackSize:null==(t=B(this.props.size))?void 0:t.imgSize,a=`${n}px`;r.width=a,r.height=a,i.width=a,i.height=a}let o=this.props.enabled||!0,l=U[this.props.shape||"CIRCLE"],s=this.state.loadError||!this.props.imgUrl?this.props.children:n.createElement("img",{"data-testid":"image-avatar",className:`${o?"":p.r3}`,style:r,src:this.props.imgUrl,onError:this.onImageLoadError,alt:""});return n.createElement("div",{className:a()(l,this.props.className,{[p.r3]:!o,[p.iu]:"outward"===this.props.borderStyle,[p.LA]:"inward"===this.props.borderStyle}),style:i},s)}}let Z=[V,G,W],q={colors:u.us,getInitial:e=>e?e[0]:null,defaultFallbackAvatarSvg:R.A},J=["fallback_text","handle","name","email"],X=(e,t=q)=>class extends n.Component{constructor(){super(...arguments),this.computeFallbackInitial=()=>{let e=el((this.props.initializableEntityProperties?this.props.initializableEntityProperties:J).map(e=>this.props.entity[e]));return e&&"string"==typeof e?t.getInitial(e):null},this.computeFallbackColor=()=>(0,u.$L)(this.props.entity.id,t.colors)}render(){let r=this.props.fallbackInitial||this.computeFallbackInitial(),i=this.computeFallbackColor()||null,a=this.props.entity.img_url||this.props.entity.imageURL||this.props.entity.imageUrl||this.props.entity.imgUrl||null;return n.createElement(e,{imgUrl:a,fallbackInitial:r,fallbackColor:this.props.defaultFallbackAvatarSvg&&!r?null:i,fallbackTintColor:this.props.defaultFallbackAvatarSvg?void 0:t.defaultFallbackTintColor,...this.props,defaultFallbackAvatarSvg:this.props.defaultFallbackAvatarSvg||t.defaultFallbackAvatarSvg})}};class Q extends n.Component{renderFallback(){var e,t,r,i,a,o;let{size:l,fontSize:s,fallbackSvg:c,avatarSvg:d,svgSizeRatio:u}=this.props,p=null==(e=B(l))?void 0:e.fallbackSize;if(d)return n.createElement(j,{size:p,fontSize:s,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape,svg:d,svgSizeRatio:u,opacity:this.props.opacity});if(c)return n.createElement(z,{size:null==(t=B(l))?void 0:t.fallbackSize,src:c,shape:this.props.shape});if(this.props.hideFallbackInitial)return n.createElement(K,{size:null==(r=B(l))?void 0:r.fallbackSize,fontSize:s,className:this.props.className,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape});let m=this.props.fallbackInitial;return m?n.createElement(Y,{size:null==(o=B(l))?void 0:o.fallbackSize,fontSize:s,className:this.props.className,initial:m,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape,borderStyle:this.props.borderStyle}):this.props.defaultFallbackAvatarSvg?n.createElement(z,{className:this.props.className,size:null==(a=B(l))?void 0:a.fallbackSize,src:this.props.defaultFallbackAvatarSvg,style:{fill:this.props.fallbackTintColor||void 0,background:this.props.fallbackColor||void 0},enabled:this.props.enabled,shape:this.props.shape}):n.createElement(K,{size:null==(i=B(l))?void 0:i.fallbackSize,fontSize:s,className:this.props.className,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape})}render(){return!this.props.imgUrl||x(this.props.imgUrl)?this.renderFallback():n.createElement($,{size:this.props.size||null,imgUrl:this.props.imgUrl,className:`${this.props.className||""}`,enabled:this.props.enabled,shape:this.props.shape,borderStyle:this.props.borderStyle},this.renderFallback())}}Q.displayName="Avatar";let ee=X(Q,{...q,getInitial:e=>{let t=e.charCodeAt(0);return Z.some(e=>e.contains(t))?e[0]:null}}),et=ee;function er({entity:e,size:t=40}){if(e.imgUrl)return n.createElement(ee,{shape:"SQUARE",entity:e,size:t});let r=(0,u.sC)(null==e?void 0:e.id,M);return n.createElement(z,{src:r.svgSrc,size:t,shape:"SQUARE",className:r.className})}let en=X(Q,{...q,defaultFallbackAvatarSvg:P.A,getInitial:e=>e.charCodeAt(0)===e.codePointAt(0)?e[0]:null});function ei(e){return n.createElement(en,{shape:"SQUARE",...e})}function ea(e){return n.createElement("div",{className:e.isHovered?p.Gu:p.pk},e.teams.slice(0,3).map(t=>n.createElement(ei,{key:t.id,entity:t,...e})))}class eo extends n.Component{render(){let e=this.props.size||0,t=Math.round(e/4)+1,r=Math.round(t/5);return n.createElement("span",{className:p.kZ,style:e?{width:`${e}px`,height:`${e}px`}:void 0},this.props.showBell&&n.createElement("div",{className:p.wt,style:e?{width:`${t}px`,height:`${t}px`,top:`-${r}px`,right:`-${r}px`}:void 0}),this.props.children)}}eo.displayName="AvatarBellWrapper";let el=(e=[],t="?")=>e.find(e=>e)||t,es=(e,t)=>class extends n.Component{constructor(){super(...arguments),this.onClick=e=>{this.props.onClick&&this.props.onClick(e,this.props.entity)}}render(){let r=this.props["data-tooltip-proxy-element-id"]||`avatar_${this.props.entity.id}_tooltip_proxy`;return n.createElement("div",{className:`${p.U0} ${this.props.onClick?p.u2:""} ${this.props.enabled?p.A8:""} ${this.props.className||""}`,onClick:this.props.onClick?this.onClick:void 0,"data-tooltip-proxy-element-id":r},n.createElement("div",{id:r,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":this.props["data-tooltip"],"data-tooltip-offset-x":this.props["data-tooltip-offset-x"],"data-tooltip-offset-y":this.props["data-tooltip-offset-y"],"data-tooltip-max-width":this.props["data-tooltip-max-width"]},e&&n.createElement(e,{...this.props,className:void 0})),n.createElement(t,{...this.props}),this.props.children)}};class ec extends n.Component{render(){let e=this.props.showTruncatedTextTooltip?n.createElement(c.E,{truncate:!0},this.props.text):n.createElement("span",{className:p.p$},this.props.text),t=this.props.showTruncatedTextTooltip?void 0:this.props.tooltipText??void 0;return n.createElement("div",{className:p.pq,title:t},n.createElement("div",{className:`${p.PZ} ${p.U0} ${this.props.onLabelClick?p.u2:""}`,onClick:this.props.onLabelClick},this.props.text.length>0&&e,this.props.showIsMe&&n.createElement("span",{className:p.ne},n.createElement(s.Tx,{id:"avatar.tooltip.you"})),this.props.badge&&n.createElement(o.Ex,{...this.props.badge}),this.props.isScimUser&&n.createElement(o.Ex,{color:o.zE.DEFAULT,text:(0,s.t)("members_table.org_user_name_cell.scim_badge")})),this.props.email&&n.createElement("div",{className:this.props.onEmailClick?p.$y:"",onClick:this.props.onEmailClick},n.createElement("div",{className:p.Rp},this.props.email)))}}let ed=e=>class extends n.Component{render(){let t=[this.props.overrideHandle,this.props.entity.handle,this.props.entity.name];this.props.fallbackToEmail&&t.push(this.props.entity.email);let r=el(t,this.props.defaultText),i=`${r}${this.props.includeUserEmailAddress?`
${this.props.entity.email}`:""}`,{onEmailClick:a,onLabelClick:o,...l}=this.props;return n.createElement(e,{text:r,email:this.props.includeUserEmailAddress?this.props.entity.email:null,tooltipText:this.props.showTooltip?i:null,onEmailClick:a,onLabelClick:o,...l})}},eu=es(ee,ed(ec)),ep=es(ei,ed(ec))},266431:(e,t,r)=>{"use strict";r.d(t,{ER:()=>m,FL:()=>h,Id:()=>_,j:()=>g});var n=r(411855),i=r(135876),a=r(574176),o=r(939863),l=r(742809),s=r(731078),c=r(977468),d=r(814323),u=r(813620);let p=(e,t={})=>function(r){let c=null==r.size?120:r.size,p=()=>{r.dispatch((0,l.X)({entity:r.entity,entityType:r.entityType,shape:t.editorShape?t.editorShape:void 0}))},m={width:`${c}px`,minWidth:`${c}px`,height:`${c}px`,minHeight:`${c}px`},_=r.avatarEditorState&&r.avatarEditorState.status===s.hv.UPLOADING&&r.entity===r.avatarEditorState.entity,h=t.className?t.className:d.n1,g=n.createElement(i.x,{isLoading:_,className:`${d.Lq} ${h}`},()=>n.createElement(e,{size:c,...r})),f=n.createElement("div",{className:`${h} ${r.overlayClass||""}`},n.createElement(a.B,{className:`${d.Lw} ${d.Kk} ${h} ${r.overlayClass||""}`,svg:r.icon||u.A}));return t.withButton?n.createElement("div",{className:`${d.iE} ${d.n1}`,style:m},g,f,n.createElement("div",{className:d.hc,onClick:p},n.createElement(o.Tx,{id:"avatar_editor.edit"}))):n.createElement("div",{className:`${d.iQ} ${h}`,onClick:p,style:m},g,f)},m=p(c.Ro),_=p(c.Ro,{withButton:!0}),h=p(c.CH,{editorShape:"SQUARE",className:d.Ew}),g=p(c.z6,{editorShape:"SQUARE",className:d.Ew})},407844:(e,t,r)=>{"use strict";r.d(t,{C:()=>S,J:()=>T});var n=r(411855),i=r(629019),a=r.n(i),o=r(935283),l=r(91408),s=r(560945),c=r(38580),d=r(374626),u=r(799569),p=r(946689),m=r(574176),_=r(939863),h=r(239671),g=r(164795),f=r(478398),E=r(315457),y=r(59670),b=r(87171),v=r(612325);let I=0;function T(){let e=document.documentElement.style.getPropertyValue("--editor-banner-height");return(0,l.jz)(e)}function S(e){let t;let{editorType:r,content:i,dataTestId:l}=e,T=n.useRef(null),S=(0,s.w)(T)??s.c;switch(n.useEffect(()=>{document.documentElement.style.setProperty("--editor-banner-height",`${S.height}px`)},[S.height]),n.useEffect(()=>(I++,()=>{0==--I&&document.documentElement.style.setProperty("--editor-banner-height","0px")}),[]),i.bannerType){case g.x1.INFO:switch(r){case h.nT.Design:t=f.B6;break;case h.nT.DevHandoff:t=f.fF;break;case h.nT.Whiteboard:t=f.O4;break;case h.nT.Slides:t=f.r3;break;case h.nT.Sites:t=f.Dt;break;default:throw Error(`Unsupported editor type: ${r}`)}break;case g.x1.WARN:t=f.$j;break;case g.x1.WARN_SOFT:t=f.NM;break;case g.x1.SUCCESS:t=f.Aq;break;case g.x1.ERROR:t=f.jy;break;case g.x1.CONFIDENTIALITY:t=f.zS;break;default:(0,o.xb)(i.bannerType)}let w=a()(t,{[f.JT]:!i.positionStatic});if(!i.icon&&!i.hideIcon)switch(i.bannerType){case g.x1.INFO:i.icon=E.A;break;case g.x1.WARN:case g.x1.WARN_SOFT:i.icon=b.A;break;case g.x1.SUCCESS:i.icon=E.A;break;case g.x1.ERROR:i.icon=v.A;break;case g.x1.CONFIDENTIALITY:i.icon=y.A;break;default:(0,o.xb)(i.bannerType)}let A=null;if(i.button){let e=i.button.type;switch(e){case g.MA.CUSTOM:A=i.button.element;break;case g.MA.STRUCTURED:case void 0:A=n.createElement(p.tM,{className:i.button.className||f.lI,onClick:i.button.onClick,recordingKey:i.button.recordingKey,trackingProperties:{trackingDescriptor:i.button.trackingDescriptor,buttonContext:"string"==typeof i.button.buttonText&&i.button.buttonText},disabled:i.button.disabled},i.button.buttonText);break;default:(0,o.xb)(e)}}let C=n.useMemo(()=>i.dismissedAtom??(0,c.eU)(!1),[i.dismissedAtom]),[N,O]=(0,d.fp)(C),L=e.onDismiss,R=i.onDismiss;return n.useEffect(()=>{N&&(L(),R&&R())},[N,L,R]),n.createElement("div",{className:a()(w,e.containerClassName),ref:T,"data-testid":l},n.createElement("div",{className:f.Y2},n.createElement("div",{className:f.av},null!=i.icon&&n.createElement("div",{className:a()(f.Kk,{[f.J3]:"large"===i.iconSize})},"string"==typeof i.icon?n.createElement(m.B,{svg:i.icon,width:"large"===i.iconSize?"32px":"16px",autosize:!0}):i.icon),n.createElement("div",null,n.createElement("div",{className:f.$e},i.mainText),i.customElem&&n.createElement("div",null,i.customElem))),n.createElement("div",{className:f.h_},i.description),n.createElement("div",{className:f.iZ},A,e.content.dismissible&&n.createElement(u.Jn,{onClick:()=>O(!0),className:f.r,"aria-label":(0,_.t)("banner.shared.close_banner"),recordingKey:i.onDismissRecordingKey}))))}},164795:(e,t,r)=>{"use strict";r.d(t,{MA:()=>a,om:()=>n,x1:()=>i});var n=(e=>(e[e.TestThemeBanner=0]="TestThemeBanner",e[e.TestWarningBanner=1]="TestWarningBanner",e[e.TestOOMBanner=2]="TestOOMBanner",e[e.TestInfoBanner=3]="TestInfoBanner",e[e.StarterTeamOverFreeLimitAndLocked=4]="StarterTeamOverFreeLimitAndLocked",e[e.EduGracePeriodAccessRestricted=5]="EduGracePeriodAccessRestricted",e[e.EduGracePeriodShowReminder=6]="EduGracePeriodShowReminder",e[e.OrphanedOrgDraftsFile=7]="OrphanedOrgDraftsFile",e[e.PersonalProjectDeprecatedFile=8]="PersonalProjectDeprecatedFile",e[e.ProTeamPastDue=9]="ProTeamPastDue",e[e.ProTeamChargeFailed=10]="ProTeamChargeFailed",e[e.ProTeamNoMonthlySubEditorCountExceeded=11]="ProTeamNoMonthlySubEditorCountExceeded",e[e.ProTrialsExpiryBanner=12]="ProTrialsExpiryBanner",e[e.MultiplayerSessionUpgrade=13]="MultiplayerSessionUpgrade",e[e.AdminI18nLocalWarnBanner=14]="AdminI18nLocalWarnBanner",e[e.FigJamTryDraftsBanner=15]="FigJamTryDraftsBanner",e[e.FigJamTryClaimBanner=16]="FigJamTryClaimBanner",e[e.CommunityResourceCTANuxBanner=17]="CommunityResourceCTANuxBanner",e[e.communityM10nApprovalBanner=18]="communityM10nApprovalBanner",e[e.communityM10nFinishSetupBanner=19]="communityM10nFinishSetupBanner",e[e.communityM10nAdtlInfoNeededBanner=20]="communityM10nAdtlInfoNeededBanner",e[e.communityResourceInReviewBanner=21]="communityResourceInReviewBanner",e[e.CommunityResourceCreatorBanner=22]="CommunityResourceCreatorBanner",e[e.ExternalContentControlBanner=23]="ExternalContentControlBanner",e[e.MemoryWarningBanner=24]="MemoryWarningBanner",e[e.MemoryErrorBanner=25]="MemoryErrorBanner",e[e.MemorySafeBanner=26]="MemorySafeBanner",e[e.AdminUserDisposableDomainWarningBanner=27]="AdminUserDisposableDomainWarningBanner",e[e.FileIsTeamTemplate=28]="FileIsTeamTemplate",e[e.FreemiumPreviewBanner=29]="FreemiumPreviewBanner",e[e.FileCreationFailureBanner=30]="FileCreationFailureBanner",e[e.DevModePaywallBanner=31]="DevModePaywallBanner",e[e.DevModeInTrialBanner=32]="DevModeInTrialBanner",e[e.UI3ConfidentialityBanner=33]="UI3ConfidentialityBanner",e[e.DesktopDownloadBanner=34]="DesktopDownloadBanner",e[e.BrowserDeprecationBanner=35]="BrowserDeprecationBanner",e[e.FragmentTextSearchQualityBanner=36]="FragmentTextSearchQualityBanner",e[e.Gen1DesignViewerBanner=37]="Gen1DesignViewerBanner",e[e.DesktopDeprecationBanner=38]="DesktopDeprecationBanner",e))(n||{}),i=(e=>(e.INFO="info",e.WARN="warn",e.SUCCESS="success",e.ERROR="error",e.WARN_SOFT="warn_soft",e.CONFIDENTIALITY="confidentiality",e))(i||{}),a=(e=>(e.STRUCTURED="structured",e.CUSTOM="custom",e))(a||{})},877655:(e,t,r)=>{"use strict";r.d(t,{bX:()=>v});var n=r(411855),i=r(188507),a=r(776250),o=r(860601),l=r(27087),s=r(799569),c=r(946689),d=r(773058),u=r(762638),p=r(939863),m=r(466636),_=r(709595),h=r(662275),g=r(178787),f=r(237870),E=r(488578),y=r(908968),b=r(321112);let v=(0,f.Ju)(function(e){let{name:t,user:r,monetizedResource:o}=e,[s,c]=n.useState(!1),[_,f]=n.useState(null),[b,v]=n.useState(""),S=(0,i.wA)(),w=()=>{S((0,h.to)({type:I,data:{user:r}}))},A=()=>{S((0,h.to)({type:T,data:{user:r}}))};return n.createElement(E.Rw,{size:"small",content:n.createElement("div",{className:u.cx.flexColumn.colorText.$},n.createElement(p.Tx,{id:"community.buyer.we_re_sorry_to_hear_resource_name_didnt_work_out",resourceName:n.createElement("span",{className:u.cx.fontBold.$},t)}),n.createElement("div",{className:u.cx.my16.$},n.createElement(d.z,{value:_,onChange:e=>{f(e)}},Object.values(g.bG).map(e=>n.createElement(d.Z,{className:u.cx.font11.selectNone.$,key:e,value:e},(0,m.vi)(e)))),_===g.bG.OTHER?n.createElement("div",{className:u.cx.mt8.$},n.createElement(y.v,{value:b,onChange:e=>v(e.target.value),placeholder:(0,p.t)("community.buyer.refund_reason.add_additional_details"),maxLength:g.JV})):null)),onConfirm:()=>{c(!0),(0,a.sx)("Request Refund Modal Confirm",{refundReason:_,refundOtherReasonText:b,monetizedResourceMetadataId:o.id}),l.Ay.post(`/api/community/buyer/${o.id}/refund`,{refund_reason:_,refund_other_reason_text:b}).then(()=>{c(!1),S(h.Ce()),w()}).catch(e=>{c(!1),S(h.Ce()),A()})},hideOnConfirm:!1,isLoading:s,confirmationTitle:n.createElement(p.Tx,{id:"community.buyer.need_a_refund"}),disableConfirm:!_,confirmText:n.createElement(p.Tx,{id:"general.confirm"}),cancelText:n.createElement(p.Tx,{id:"general.close"}),autoFocusCta:!1,popStack:!0})},"CommunityRequestRefundModal"),I=(0,f.Ju)(function(e){let{user:t}=e,r=(0,i.wA)();return n.createElement(E.Nb,{size:"small",hide:o.lQ,title:(0,p.t)("community.buyer.refund_requested")},n.createElement(s.s_,{dispatch:r}),n.createElement(p.Tx,{id:"community.buyer.keep_an_eye_out",here:n.createElement(c.CY,{onClick:()=>{(0,_.c9)(t),r(h.Ce())},trusted:!0},n.createElement(p.Tx,{id:"community.buyer.here"}))}),n.createElement("div",{className:b.v0},n.createElement(c.tM,{onClick:()=>r(h.Ce())},n.createElement(p.Tx,{id:"general.close"}))))},"CommunityRefundRequestedSuccessModal"),T=(0,f.Ju)(function(e){let{user:t}=e;return n.createElement(E.Rw,{size:"small",confirmationTitle:n.createElement(p.Tx,{id:"community.buyer.unable_to_process_refund"}),content:n.createElement("span",{className:u.cx.colorText.$},n.createElement(p.Tx,{id:"community.buyer.error_requesting_refund_please_contact_support"})),confirmText:n.createElement(p.Tx,{id:"community.buyer.get_support"}),onConfirm:()=>(0,_.oW)(t),cancelText:n.createElement(p.Tx,{id:"general.close"}),autoFocusCta:!1})},"CommunityErrorRequestingRefundModal")},814138:(e,t,r)=>{"use strict";r.d(t,{A:()=>U,g:()=>O});var n=r(411855),i=r(188507),a=r(776250),o=r(935283),l=r(531664),s=r(946689),c=r(449124),d=r(827586),u=r(762638),p=r(939863),m=r(175290),_=r(553015),h=r(809840),g=r(662275),f=r(99506),E=r(691205),y=r(450515),b=r(744410),v=r(113094),I=r(721732),T=r(814367),S=r(539438),w=r(207776),A=r(132208);function C({text:e}){return n.createElement(h.E,{"data-testid":"extension-security-form-error",color:"danger"},e)}function N(e){let{canShowErrors:t}=(0,I.I)();return t&&(0,y.G6)(e)}function O(e){let t=e.match(/\[([^\]]+)\]\(([^)]+)\)/);if(!t||!t.index)return e;let[r,i,a]=t;return n.createElement("span",{"data-testid":"parsed-text-content"},e.slice(0,t.index),n.createElement("a",{href:a,target:"_blank",className:u.cx.colorTextBrand.cursorPointer.$},i),e.slice(t.index+r.length))}function L(e){let{onChange:t,question:r}=e,{prompt:i,value:a,placeholder:o}=r,l=N(r);return n.createElement("div",{className:u.cx.flex.flexColumn.gap8.$},i&&n.createElement("div",null,O(i)),n.createElement(s.ks,{className:u.cx.wFull.$,value:a??"",onChange:t,placeholder:o}),l&&n.createElement(C,{text:(0,p.t)("community.publishing.data_security.incomplete_text")}))}function R(e){let{question:t,dispatch:r,path:i}=e,{prompt:a,options:o}=t,l=N(t);return n.createElement("div",{className:u.cx.flex.flexColumn.gap16.$},n.createElement(h.E,{fontWeight:"semi-bold"},a),n.createElement(n.Fragment,null,o.map((e,t)=>{let a=`path-${i.join("-")}-option-input-${t}`;return n.createElement("div",{className:u.cx.flex.flexColumn.$,key:`option-${t}`},n.createElement("div",{className:u.cx.flex.gap8.$},n.createElement("input",{type:"radio",id:a,checked:e.isSelected??!1,onChange:()=>{r({type:"UPDATE_SINGLE_SELECT_QUESTION",questionIndex:i[0],optionIndex:t})},className:u.cx.cursorPointer.$}),n.createElement("label",{htmlFor:a,className:u.cx.cursorPointer.$},e.label)),e.subQuestions&&e.isSelected&&n.createElement("div",{className:u.cx.ml20.flex.flexColumn.gap8.pt8.$},e.subQuestions.map((e,a)=>n.createElement(k,{key:`sub-question-${a}`,question:e,dispatch:r,path:i.concat(t,a)}))))})),l&&n.createElement(C,{text:(0,p.t)("community.publishing.data_security.incomplete_single_select")}))}function P(e){let{dispatch:t,path:r,question:i}=e,{prompt:a,options:o}=i,l=N(i);return n.createElement("div",{className:u.cx.flex.flexColumn.gap16.$},n.createElement(h.E,{fontWeight:"semi-bold"},a),n.createElement(n.Fragment,null,o.map((e,i)=>{let a=`path-${r.join("-")}-option-input-${i}`;return n.createElement("div",{className:u.cx.flex.flexColumn.$,key:`option-${i}`},n.createElement("div",{className:u.cx.flex.gap8.$},n.createElement("input",{type:"checkbox",checked:e.isSelected??!1,onChange:()=>{t({type:"UPDATE_MULTI_SELECT_QUESTION",questionIndex:r[0],optionIndex:i})},id:a,className:u.cx.cursorPointer.$}),n.createElement("label",{htmlFor:a,className:u.cx.cursorPointer.$},e.label)),e.subQuestions&&e.isSelected&&n.createElement("div",{className:u.cx.ml20.flex.flexColumn.gap8.pt8.$},e.subQuestions.map((e,a)=>n.createElement(k,{key:`sub-question-${a}`,question:e,dispatch:t,path:r.concat(i,a)}))))})),l&&n.createElement(C,{text:(0,p.t)("community.publishing.data_security.incomplete_multi_select")}))}function k(e){let{question:t,dispatch:r,path:i}=e;switch(t.inputType){case"single_select":return n.createElement(R,{question:t,dispatch:r,path:i});case"multi_select":return n.createElement(P,{question:t,dispatch:r,path:i});case"text":return n.createElement(L,{question:t,onChange:e=>{1===i.length?r({type:"UPDATE_TEXT_QUESTION",questionIndex:i[0],value:e.currentTarget.value}):3===i.length&&r({type:"UPDATE_TEXT_SUBQUESTION",path:[i[0],i[1],i[2]],value:e.currentTarget.value})},path:i});default:return null}}function D(e){let{extensionType:t,securityForm:r,dispatch:i}=e,a="plugin"===t?n.createElement(p.Tx,{id:"community.publishing.security_form.plugin_description"}):n.createElement(p.Tx,{id:"community.publishing.security_form.widget_description"}),o="plugin"===t?n.createElement(p.Tx,{id:"community.publishing.security_form.plugin_sharing_description"}):n.createElement(p.Tx,{id:"community.publishing.security_form.widget_sharing_description"});return n.createElement("div",{className:u.cx.p16.flex.flexColumn.$,"data-testid":"extension-security-form"},n.createElement("div",{className:u.cx.pb16.$},n.createElement(h.E,{i18nId:"community.publishing.security_form.header",fontSize:14,fontWeight:"medium"})),n.createElement("div",{className:u.cx.pb16.$},a),n.createElement("div",{className:u.cx.pb16.$},o,n.createElement("a",{href:"plugin"===t?"https://help.figma.com/hc/articles/360042293394":"https://help.figma.com/hc/articles/4410337103639",target:"_blank",className:u.cx.colorTextBrand.cursorPointer.$},n.createElement(p.Tx,{id:"community.publishing.security_form.learn_more"}))),n.createElement("div",{className:u.cx.flex.flexColumn.gap32.$},r.questions.map((e,t)=>n.createElement(k,{key:`question-${t}`,question:e,dispatch:i,path:[t]}))))}function M({onDiscard:e,onDone:t,securityFormFromDB:r,localSecurityFormResponse:o,onOptOut:s,currentFormStatus:c,extensionId:d}){let h=n.useMemo(()=>!(0,l.c2)(o,r),[o,r]),{canShowErrors:f,numberOfErrors:E,optedOutOfSecurityForm:b,extensionType:T}=(0,I.I)(),S=(0,y.qu)(r),w=(0,i.wA)();return n.createElement("div",{className:u.cx.flex.gap8.p16.justifyBetween.alignCenter.absolute.bottom0.left0.right0.bSolid.bt1.colorBorder.colorBg.$},!S&&n.createElement("button",{className:u.cx.bgTransparent.noWrap.if(b,u.cx.colorTextSecondary,u.cx.colorTextBrand.cursorPointer).$,onClick:()=>{w((0,g.to)({type:v.i,data:{onConfirm:s,status:c,extensionType:T},showModalsBeneath:!0})),(0,a.sx)("Data Security Plugin Form",{action:"Remove security details",extensionType:T,extensionId:d})},disabled:b},n.createElement(p.Tx,{id:"community.publishing.security_form.opt_out_button"})),n.createElement(m.Y,{width:"fill-parent",horizontalAlignItems:"end"},n.createElement(_.$,{variant:"secondary",onClick:()=>{e(),(0,a.sx)("Data Security Plugin Form",{action:"Discard changes",extensionType:T,extensionId:d})},disabled:!h},n.createElement(p.Tx,{id:"community.publishing.security_form.discard_changes"})),n.createElement(_.$,{variant:"primary",onClick:t,disabled:f&&E>0},n.createElement(p.Tx,{id:"general.done"}))))}function x({currentFormStatus:e}){let t,r,i;if(!e)return null;switch(e){case f.bQ.APPROVED:t=n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(h.E,{i18nId:"community.publishing.security_banner.approved.title",fontWeight:"semi-bold"})),n.createElement("div",null,n.createElement(h.E,{i18nId:"community.publishing.security_banner.approved.description"}))),r=w.A,i="success";break;case f.bQ.PENDING:t=n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(h.E,{i18nId:"community.publishing.security_banner.pending.title",fontWeight:"semi-bold"})),n.createElement("div",null,n.createElement(h.E,{i18nId:"community.publishing.security_banner.pending.description"}))),r=A.A,i="brand";break;case f.bQ.REJECTED:t=n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(h.E,{i18nId:"community.publishing.security_banner.rejected.title",fontWeight:"semi-bold"})),n.createElement("div",null,n.createElement(h.E,{i18nId:"community.publishing.security_banner.rejected.description"})),n.createElement("div",null),n.createElement("div",null,n.createElement(h.E,{i18nId:"community.publishing.security_banner.rejected.description.check_email"}))),r=A.A,i="brand";break;default:(0,o.xb)(e)}return n.createElement(c.z,{iconSrc:r,variant:i,orientation:"vertical"},t)}function F({localSecurityFormResponse:e,securityFormFromDB:t,setSecurityFormResponse:r,extensionType:i,onDone:a,currentFormStatus:o,existingSecurityFormResponse:l,extensionId:s}){let c={questions:t.questions,version:t.version},[u,p]=(0,n.useReducer)(T.V,e??c),{setCanShowErrors:m,setOptedOutOfSecurityForm:_,optedOutOfSecurityForm:h}=(0,I.I)();return n.useEffect(()=>{r(u),(0,y.qu)(u)||_(!1)},[r,u,_]),n.createElement(n.Fragment,null,n.createElement(d.P,{className:S.j,maxHeight:800},n.createElement(x,{currentFormStatus:o}),n.createElement(D,{securityForm:u,dispatch:p,extensionType:i})),n.createElement(M,{onOptOut:()=>{p({type:"RESET_FORM"}),_(!0)},onDiscard:()=>{p({type:"DISCARD_CHANGES",originalState:c}),m(!1)},onDone:()=>{if((0,y.wT)(e,l)&&!h){m(!0);return}a()},securityFormFromDB:t,localSecurityFormResponse:e,currentFormStatus:o,extensionId:s}))}function U(e){let{version:t,setSecurityFormResponse:r,extensionType:i,localSecurityFormResponse:a,existingSecurityFormResponse:o,onDone:l,optedOutOfSecurityForm:s,setOptedOutOfSecurityForm:c,extensionId:d}=e,[u]=(0,E.IT)(B(t),{enabled:!o}),p=(o?{version:String(o.formVersion),questions:o.responses}:null)??("loaded"===u.status?u.data:null);return p?n.createElement(I.B,{localSecurityFormResponse:a,existingSecurityFormResponse:o,optedOutOfSecurityForm:s,setOptedOutOfSecurityForm:c,extensionType:i},n.createElement(F,{localSecurityFormResponse:a,securityFormFromDB:p,setSecurityFormResponse:r,extensionType:i,onDone:l,currentFormStatus:(null==o?void 0:o.status)??null,existingSecurityFormResponse:o,extensionId:d})):null}let B=E.M4.Query({fetch:async e=>await b.is.getBlankSecurityForm(e)})},761939:(e,t,r)=>{"use strict";r.d(t,{IW:()=>N,fV:()=>A,fp:()=>C,gr:()=>S,n6:()=>w});var n=r(411855),i=r(188507),a=r(540193),o=r(498750),l=r(391388),s=r(659838),c=r(493323),d=r(32863),u=r(574176),p=r(939863),m=r(837324),_=r(445092),h=r(782501),g=r(477782),f=r(594901),E=r(967409),y=r(508567),b=r(786395),v=r(227565),I=r(639685),T=r(630834),S=(e=>(e.FILES="FILES",e.PLUGINS="PLUGINS",e.WIDGETS="WIDGETS",e))(S||{});function w(e){return n.createElement("div",{className:v.bx},n.createElement("div",{className:v.Uz},"FILES"===e.tab?(0,p.t)("community.universal_posting_modal.resource_empty.files_title"):"PLUGINS"===e.tab?(0,p.t)("community.universal_posting_modal.resource_empty.plugins_title"):(0,p.t)("community.universal_posting_modal.resource_empty.widgets_title")),n.createElement("div",{className:v.SL},"FILES"===e.tab?(0,p.t)("community.universal_posting_modal.resource_empty.files_subtitle"):"PLUGINS"===e.tab?(0,p.t)("community.universal_posting_modal.resource_empty.plugins_subtitle"):(0,p.t)("community.universal_posting_modal.resource_empty.widgets_subtitle")))}function A(e){var t,r,o,s;let c=(0,i.d4)(e=>e.currentUserOrgId),d=(r=(0,a.ql)(c||null),o=n.useMemo(()=>{let e=r.data||[];return l.Qw.loaded(e.filter(e=>e.parent_org_id===c))},[r,c]),s=e.editorTypes,t=n.useMemo(()=>{if(!s||1!==s.length)return o;let e=o.data||[];return l.Qw.loaded(e.filter(e=>e.editor_type===s[0]))},[o,s]),n.useMemo(()=>"loaded"!==t.status?[]:t.data.map(e=>({type:g.nb.FILE,file:e})),[t]));return 0===d.length?n.createElement(w,{tab:"FILES"}):n.createElement("div",{className:v.Vg,onClick:e.deselectActiveFile,role:"presentation"},d.map(t=>{if(t.type!==g.nb.FILE)return null;let r=t.file;if(e.filterFn&&!e.filterFn(r))return null;let i=r.hub_file&&(0,m.r7)(r.hub_file);return n.createElement(O,{key:r.key,file:r,disabled:i,setActiveFile:e.setActiveFile,activeFileKey:e.activeFileKey})}))}function C(e){let t=(0,f.FC)(),r=(0,i.d4)(e=>e.authedProfilesById),a=(0,i.d4)(e=>e.figFileDuplicatedFromHubFile);return e.searchResults?0===e.searchResults.length?n.createElement("div",{className:v.bx},n.createElement("div",{className:v.Uz},n.createElement(p.Tx,{id:"community.universal_posting_modal.recent_editable_files_search.no_files_matching",searchQuery:n.createElement("span",{className:v.ZF},e.activeSearchQuery)}))):n.createElement("div",{className:v.Vg,onClick:e.deselectActiveFile,role:"presentation"},e.searchResults.filter(n=>{var i;return n.model.editor_type&&(void 0===e.editorTypes||(null==(i=e.editorTypes)?void 0:i.includes(n.model.editor_type)))&&(0,h.n1)(n.model,{...t,authedProfilesById:r,figFileDuplicatedFromHubFile:a},null)}).map(t=>{let r=t.model,i=r.hub_file&&(0,m.r7)(r.hub_file);return n.createElement(O,{key:r.key,file:r,disabled:i,setActiveFile:e.setActiveFile,activeFileKey:e.activeFileKey})})):n.createElement("div",{className:v.g4},n.createElement(c.kt,{size:"small"}))}function N(e){let{query:t,setQuery:r,setSearchResults:a,hasCloseButton:l=!0}=e,c=(0,i.wA)(),m=n.useCallback(()=>{t&&(c(_.Dy({entryPoint:"community:universal_posting"})),a(null),y.$W.getFigFiles({query:t,desc:!0,sort:E.Lk.RELEVANCY,orgId:void 0,isGlobal:!0}).then(({data:{meta:e}})=>{a(e.results)}))},[t,c,a]),h=n.useCallback(()=>{r("")},[r]),g=n.useCallback(e=>(e.keyCode===o.Uz.ENTER&&m(),!0),[m]),f=n.useCallback(e=>{r(e)},[r]);n.useEffect(()=>{let e=setTimeout(m,300);return()=>clearTimeout(e)},[t,m]);let b=n.useRef(null),{searchInputRef:S,onMouseDown:w,onMouseUp:A,onBlur:C,onClearSearchClick:N,onSearchKeyDown:O,onSearchChange:L}=(0,d.ne)({...e,focusOnMount:!1,clearSearch:h,onChange:f,onSubmit:m,isKeyDownHandled:g},b);return n.createElement("div",{className:v.Tm},n.createElement(u.B,{className:v.qc,svg:I.A}),n.createElement(s.L,{ref:S,placeholder:e.placeholderText??(0,p.t)("community.universal_posting_modal.search_bar.placeholder"),className:v.Rt,value:t,onMouseDown:w,onMouseUp:A,onBlur:C,onChange:L,onKeyDown:O,spellCheck:!1}),!!t&&l&&n.createElement(u.B,{className:v.i3,svg:T.default,onClick:N}))}function O(e){let{file:t,disabled:r,setActiveFile:i,activeFileKey:a}=e;return n.createElement(b.GQ,{onClick:e=>{e.stopPropagation(),r||i(t)},file:t,subtitle:n.createElement(b.lJ,{file:t}),activeFileUsers:[],currentUser:null,isSelected:!r&&a===t.key,disabled:r,tooltipText:r?(0,p.t)("community.publishing.this_file_has_been_published_to_community_as_a_library"):void 0})}},580999:(e,t,r)=>{"use strict";r.d(t,{CE:()=>h,Qi:()=>_,U6:()=>g});var n=r(411855),i=r(188507),a=r(737947),o=r(498750),l=r(738269),s=r(707465),c=r(977468),d=r(481587);let u={underline:d.ah,noUnderline:d.HU};class p extends n.PureComponent{constructor(){super(...arguments),this.onClick=e=>{if(e.preventDefault(),e.stopPropagation(),(0,o.oJ)(e)||this.props.openInNewTab){a.Ay.redirect(this.props.hrefPath||"","_blank");return}let t=m(this.props);this.props.dispatch(l.$T(t))}}render(){let e={...this.props.publisher,img_url:this.props.publisher.img_urls["120_120"]},t=n.createElement(n.Fragment,null,this.props.showAvatar&&n.createElement("div",{className:this.props.avatarClassName||d.Du},n.createElement(c.Ro,{size:this.props.avatarSize||32,entity:e})),!this.props.hideName&&n.createElement("span",{className:this.props.childrenClassName||d.fh},this.props.publisher.name));return n.createElement("div",{className:`${this.props.className||""}`},this.props.disabled?n.createElement("span",{className:this.props.childrenClassName||d.oY},t):n.createElement("a",{href:`/@${this.props.publisher.profile_handle}`,className:this.props.childrenClassName||this.props.authorLinkStyle,onClick:this.onClick},t))}}let m=e=>({view:"communityHub",subView:"handle",handle:e.publisher.profile_handle}),_=(0,i.Ng)((e,t)=>{let r=m(t);return{hrefPath:(0,s.Np)(e,r),authorLinkStyle:"communityHub"===e.selectedView.view&&"landing"===e.selectedView.subView?u.noUnderline:u.underline}})(p),h=(0,i.Ng)((e,t)=>({hrefView:m(t),hrefPath:(0,s.Np)(e,m(t)),authorLinkStyle:u.underline}))(p);function g(e){let t=(0,i.wA)(),r={view:"communityHub",subView:"handle",handle:e.profile.profile_handle},c=(0,i.d4)(e=>(0,s.Np)(e,r));return n.createElement("a",{href:`/@${e.profile.profile_handle}`,className:d.M2,onClick:e=>{if(e.preventDefault(),e.stopPropagation(),(0,o.oJ)(e)){a.Ay.redirect(c||"","_blank");return}t(l.$T(r))}},e.children)}},892123:(e,t,r)=>{"use strict";r.d(t,{Q:()=>b,o:()=>n});var n,i=r(411855),a=r(188507),o=r(939863),l=r(16222),s=r(848680),c=r(837324),d=r(410424),u=r(853799),p=r(662275),m=r(107877),_=r(988022),h=r(697551),g=r(860178),f=r(555328),E=r(498606),y=r(832807);function b(e){var t,r,s;let{resource:d,viewContext:u}=e,p=(0,a.d4)(e=>e.authedActiveCommunityProfile),m=(0,h.cs)(p),_=(0,c.Bl)(d.id,(0,c.Vm)(d)),g=!!(null==(t=_.data)?void 0:t[0]),f=n.useLikeActions(d,!!(null==(r=_.data)?void 0:r[0]),(null==(s=_.data)?void 0:s[1])||null,u);return m?i.createElement("div",{"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,o.t)("community.likes.to_like_switch_to_your_personal_profile"),"data-tooltip-show-immediately":!0},i.createElement(l.b,{isResourceLiked:!1,shouldTriggerFunHearts:!1,disabled:!0})):i.createElement(l.b,{onClick:f(),isResourceLiked:g,shouldTriggerFunHearts:!!(!g&&p&&!m)})}(n||(n={})).useLikeActions=function(e,t,r,n){let i=(0,a.wA)(),o=(0,g.iZ)(),l=(0,s.S)(),c=()=>{(0,_.Cu)(v()),(0,f.U)(e)?i(d.zm({hubFileId:e.id})):(0,f.xQ)(e)?i(u.C({id:e.id,resourceType:f.vt.WIDGET})):i(u.C({id:e.id,resourceType:f.vt.PLUGIN}))},h=e=>{if(e.stopPropagation(),o){if(!o.community_profile_id){i(p.to({type:y.G$,data:{userId:o.id,variations:[y.FF.OPT_IN],onFinish:()=>c()}}));return}c()}},E=t=>{if(t.stopPropagation(),!o)throw Error(`Tried to unlike a ${b} as a signed out user`);(0,_.Cu)(v()),(0,f.U)(e)?i(d.Qi({hubFileId:e.id,likeId:r||void 0})):(0,f.xQ)(e)?i(u.$({id:e.id,resourceType:f.vt.WIDGET,likeId:r||void 0})):i(u.$({id:e.id,resourceType:f.vt.PLUGIN,likeId:r||void 0}))},b=(0,f.U)(e)?"hub file":(0,f.xQ)(e)?"widget":"plugin",v=()=>({action:(0,f.U)(e)?t?m.s0.HUB_FILE_UNLIKE:m.s0.HUB_FILE_LIKE:(0,f.xQ)(e)?t?m.s0.WIDGET_UNLIKE:m.s0.WIDGET_LIKE:t?m.s0.PLUGIN_UNLIKE:m.s0.PLUGIN_LIKE,pluginId:e.id,profileId:e.publisher.id,viewContext:n,...l});return function(){return t?e=>E(e):e=>h(e)}}},195907:(e,t,r)=>{"use strict";r.d(t,{J6:()=>b,LU:()=>p,PY:()=>_,Pn:()=>m,T2:()=>d,T8:()=>E,Xt:()=>f,cX:()=>g,e9:()=>h,vM:()=>u});var n=r(411855),i=r(297666),a=r(428322),o=r(939863),l=r(63666),s=r(15839),c=r(972045);let d="profile_admin_dropdown",u="community-tab",p="community-comments-on-focus",m="seen_community_comments_compose",_="seen_community_profile_admin_dropdown_onboarding",h="seen_community_monetization_metrics_tab_onboarding",g="seen_community_profile_creator_banner",f="seen_community_creator_carousel_media_nux",E="seen_community_deprecate_browse_as_admin_overlay";function y({dismissModal:e}){let t=n.useRef(null),r=n.useCallback((0,i.s)(()=>{t.current&&(t.current.style.opacity="0")},0,!0),[t]),s=n.useCallback((0,i.s)(()=>{t.current&&(t.current.style.opacity="1")},450),[t]);n.useEffect(()=>(window.addEventListener("scroll",r,!1),window.addEventListener("scroll",s,!1),()=>{window.removeEventListener("scroll",r,!1),window.removeEventListener("scroll",s,!1)}),[r,s]);let d=n.useCallback(e=>{let r=t.current;r&&(e.isIntersecting?r.style.visibility="visible":r.style.visibility="hidden")},[t]);return n.createElement(l.NJ,{targetKey:"sort-state-dropdown",dismissModal:e,width:301,display:"hidden",containerRef:t,className:c.pO},n.createElement(a.a,{onIntersectionChange:d}),n.createElement("div",{className:c.Hj},n.createElement(o.Tx,{id:"community.onboarding.see_more_of_what_you_love"})),n.createElement(o.Tx,{id:"community.onboarding.whether_you_want_to_focus_on_creators_you_follow_discover_new_files_and_plugins_or_find_out_what_s_trending_you_can_customize_your_feed_here"}))}function b({dismissModal:e}){return n.createElement(l.NJ,{width:302,targetKey:d,dismissModal:e},n.createElement("div",{className:c.Hj},n.createElement(o.Tx,{id:"community.onboarding.use_community_as_an_org_or_team"})),n.createElement(o.Tx,{id:"community.onboarding.switch_to_browsing_community_as_an_admin_to_save_plugins_and_manage_content_published_by_your_org_or_team"}))}e=>n.createElement(y,{...e}),s.q3.SELF_CONTAINED},758137:(e,t,r)=>{"use strict";r.d(t,{h:()=>K});var n=r(411855),i=r(188507),a=r(776250),o=r(830646),l=r(38329),s=r(498750),c=r(799569),d=r(946689),u=r(574176),p=r(939863),m=r(392592),_=r(71425),h=r(941381),g=r(164185),f=r(662275),E=r(809831),y=r(4564),b=r(50335),v=r(215822),I=r(59480),T=r(555328),S=r(239671),w=r(376485),A=r(498606),C=r(488578),N=r(237870),O=r(507956),L=r(867795),R=r(76158),P=r(770760),k=r(270921),D=r(779869),M=r(890710),x=r(124926);let F=(0,y.M)();var U=(e=>(e.CHOOSE_EDITOR_TYPE="choose_editor_type_step",e.CHOOSE_TEMPLATE="choose_template_step",e.SUCCESS_SCREEN="success_screen_step",e.HIDDEN="hidden",e))(U||{});function B({children:e,onClick:t}){return n.createElement("div",{role:"button",onClick:t,tabIndex:0},e)}function H({resourceType:e,showFigmaDesignOption:t,showFigJamOption:r,selectedEditorTypes:i,setSelectedEditorTypes:a}){return n.createElement(n.Fragment,null,n.createElement(W,{isSelected:i.includes(w.FW.FIGMA)&&i.includes(w.FW.FIGJAM),image:n.createElement(k.A.editorTypes.figmaDesignAndFigJam,null),titleText:(0,p.t)(e===T.bD.WIDGET?"community.plugin_development.widget_creation_editor_option_figma_design_and_figjam":"community.plugin_development.plugin_creation_editor_option_figma_design_and_figjam"),descriptionText:(0,p.t)(e===T.bD.WIDGET?"community.plugin_development.widget_creation_editor_option_figma_design_and_figjam_description":"community.plugin_development.plugin_creation_editor_option_figma_design_and_figjam_description"),onSelect:()=>a([w.FW.FIGMA,w.FW.FIGJAM])}),t&&n.createElement(W,{isSelected:i.includes(w.FW.FIGMA)&&1===i.length,image:n.createElement(k.A.editorTypes.figmaDesign,null),titleText:(0,p.t)(e===T.bD.WIDGET?"community.plugin_development.widget_creation_editor_option_figma_design":"community.plugin_development.plugin_creation_editor_option_figma_design"),descriptionText:(0,p.t)(e===T.bD.WIDGET?"community.plugin_development.widget_creation_editor_option_figma_design_description":"community.plugin_development.plugin_creation_editor_option_figma_design_description"),onSelect:()=>a([w.FW.FIGMA])}),r&&n.createElement(W,{isSelected:i.includes(w.FW.FIGJAM)&&1===i.length,image:n.createElement(k.A.editorTypes.figJam,null),titleText:(0,p.t)(e===T.bD.WIDGET?"community.plugin_development.widget_creation_editor_option_figjam":"community.plugin_development.plugin_creation_editor_option_figjam"),descriptionText:(0,p.t)(e===T.bD.WIDGET?"community.plugin_development.widget_creation_editor_option_figjam_description":"community.plugin_development.plugin_creation_editor_option_figjam_description"),onSelect:()=>a([w.FW.FIGJAM])}))}function V({selectedTemplate:e,setSelectedTemplate:t}){let r=(0,i.d4)(e=>(0,O.$A)(e.selectedView));return n.createElement(n.Fragment,null,r?n.createElement(n.Fragment,null,n.createElement(W,{isSelected:"tab"===e,onSelect:()=>t("tab"),image:n.createElement(k.A.templates.tab,null),titleText:(0,p.t)("community.plugin_development.plugin_creation_template_option_tab"),descriptionText:(0,p.t)("community.plugin_development.plugin_creation_template_option_tab_description")}),n.createElement(W,{isSelected:"codegen"===e,onSelect:()=>t("codegen"),image:n.createElement(k.A.templates.codegen,null),titleText:(0,p.t)("community.plugin_development.plugin_creation_template_option_codegen"),descriptionText:(0,p.t)("community.plugin_development.plugin_creation_template_option_codegen_description")})):n.createElement(n.Fragment,null,n.createElement(W,{isSelected:"empty"===e,onSelect:()=>t("empty"),image:n.createElement(k.A.templates.empty,null),titleText:(0,p.t)("community.plugin_development.plugin_creation_template_option_default"),descriptionText:(0,p.t)("community.plugin_development.plugin_creation_template_option_default_description")}),n.createElement(W,{isSelected:"runOnce"===e,onSelect:()=>t("runOnce"),image:n.createElement(k.A.templates.runOnce,null),titleText:(0,p.t)("community.plugin_development.plugin_creation_template_option_run_once"),descriptionText:(0,p.t)("community.plugin_development.plugin_creation_template_option_run_once_description")}),n.createElement(W,{isSelected:"withUI"===e,onSelect:()=>t("withUI"),image:n.createElement(k.A.templates.withUI,null),titleText:(0,p.t)("community.plugin_development.plugin_creation_template_option_with_ui"),descriptionText:(0,p.t)("community.plugin_development.plugin_creation_template_option_with_ui_description")})))}function G({widgetCreationType:e,setWidgetCreationType:t}){return n.createElement(n.Fragment,null,n.createElement(W,{isSelected:"empty"===e,image:n.createElement(k.A.widgetOptions.empty,null),titleText:(0,p.t)("community.plugin_development.widget_creation_option_default"),descriptionText:(0,p.t)("community.plugin_development.widget_creation_option_default_description"),onSelect:()=>t("empty")}),n.createElement(W,{isSelected:"simple"===e,image:n.createElement(k.A.widgetOptions.simple,null),titleText:(0,p.t)("community.plugin_development.widget_creation_option_simple"),descriptionText:(0,p.t)("community.plugin_development.widget_creation_option_simple_description"),onSelect:()=>t("simple")}),n.createElement(W,{isSelected:"with_iframe"===e,image:n.createElement(k.A.widgetOptions.withIframe,null),titleText:n.createElement("span",{style:{letterSpacing:"-0.5px"}},(0,p.t)("community.plugin_development.widget_creation_option_with_iframe")),descriptionText:(0,p.t)("community.plugin_development.widget_creation_option_with_iframe_description"),onSelect:()=>t("with_iframe")}))}function W({isSelected:e,onSelect:t,image:r,titleText:i,descriptionText:a}){return n.createElement("div",{className:e?D.n0:D.we,onClick:t},n.createElement("div",{className:e?D.pv:D.YJ},n.createElement("div",{className:D.Ow},e?n.createElement(u.B,{svg:x.A}):n.createElement("div",{className:D.lg})),r,n.createElement("div",{className:D.lJ},n.createElement("div",{className:D.Lk},i),n.createElement("div",null,a))))}let K=(0,N.Ju)(function({resourceType:e}){let t=(0,i.wA)(),r=(0,i.d4)(e=>(0,O.$A)(e.selectedView)),[y,N]=n.useState(""),[x,U]=n.useState(-1),[W,K]=(0,o.l)(r?"choose_template_step":"choose_editor_type_step",`${e}_create_flow_change_step`,{productType:(0,v.T)()===w.FW.FIGMA?"design":"whiteboard"}),[Y,j]=n.useState(r?"tab":"runOnce"),[z,$]=n.useState(r?[w.FW.DEV]:[w.FW.FIGMA,w.FW.FIGJAM]),[Z,q]=n.useState("simple"),[J,X]=n.useState(!1),Q=()=>y.replace(/[^0-9a-zA-Z\.\-\+!%&_ =]/g,"_").trim(),ee=async({resourceId:r,template:n})=>{if(""===Q())return t(m.F.enqueue({message:(0,p.t)("community.plugin_development.please_add_some_alphanumeric_text_to_your_resource_name"),error:!0})),null;n.name=Q();try{let i=await ((0,I.Bs)()?F.writeNewExtensionDirectoryToDisk(n):F.writeNewExtensionToDisk(Q(),n.files));if(i)return(0,a.sx)(`Added New ${e}`,{how:"created",[e+"Id"]:r,version:b.pS,isWidget:e===T.bD.WIDGET,productType:(0,v.T)()===w.FW.FIGMA?"design":"whiteboard"}),t(_.QF({localFileId:i,resourceType:e})),i}catch(e){console.error(e)}return t(m.F.enqueue({message:(0,p.t)("community.plugin_development.unable_to_write_resource_to_disk"),error:!0})),null},et=async()=>{if(!y){X(!0);return}let r="";try{let n=await (0,v.ou)(e);t(h.Qi({publishedPlugins:[n],src:"onGenerateNewClick"})),K("hidden"),r=n.id}catch(e){t(m.F.enqueue({message:(0,p.t)("community.plugin_development.unable_to_generate_resource_id"),error:!0}));return}let n=e===T.bD.PLUGIN?I.d_[Y]:I.cj[Z],i=await ee({resourceId:r,template:n(y,r,z)});null!=i?(K("success_screen_step"),U(i)):t(f.Ce())},er=()=>{t(f.Ce()),(0,g.s)({initialX:0,initialY:0,initialTab:el?"widget"===e?L.p.WIDGETS:L.p.PLUGINS:void 0,initialFdResourceTab:eo?"widget"===e?R.s.WIDGET:R.s.PLUGIN:void 0,initialFdView:eo?"development":void 0,scrollDevelopmentSectionIntoView:el})},en=()=>{F.openExtensionDirectory(x)},ei=(0,i.d4)(e=>"fullscreen"===e.selectedView.view),ea=(0,E.E3)(),eo=ea===S.nT.Design||ea===S.nT.DevHandoff,el=ea===S.nT.Whiteboard,es=!ei||eo,ec=!ei||el,ed=e=>{"Enter"===e.key||e.keyCode===s.Uz.ENTER?"choose_editor_type_step"===W?K("choose_template_step"):"choose_template_step"===W?et():"success_screen_step"===W&&er():("Escape"===e.key||e.keyCode===s.Uz.ESCAPE)&&er()},eu=n.createElement(n.Fragment,null,n.createElement(d.$$,{className:D.x6,onClick:et,disabled:""===y},n.createElement("span",{"data-tooltip":e===T.bD.PLUGIN?(0,p.t)("community.plugin_development.you_must_provide_a_name_for_your_plugin"):(0,p.t)("community.plugin_development.you_must_provide_a_name_for_your_widget"),"data-tooltip-type":""===y?A.Ib.TEXT:null},n.createElement(p.Tx,{id:"community.plugin_development.save_as"})))),ep=n.createElement("div",null,n.createElement("div",{className:D.aP},n.createElement(p.Tx,{id:"community.general.name"})),n.createElement(d.ks,{value:y,onChange:e=>{e.currentTarget.value&&J&&X(!1),N(e.currentTarget.value)},className:D.$O,placeholder:e===T.bD.PLUGIN?(0,p.t)("community.plugin_development.plugin_name"):(0,p.t)("community.plugin_development.widget_name"),autoFocus:!0,"data-tooltip":e===T.bD.PLUGIN?(0,p.t)("community.plugin_development.you_must_provide_a_name_for_your_plugin"):(0,p.t)("community.plugin_development.you_must_provide_a_name_for_your_widget"),"data-tooltip-type":A.Ib.TEXT,"data-tooltip-show-immediately":!0,"data-tooltip-key":"plugin-new-development-modal","data-tooltip-ignore-mouse":!0}),n.createElement(P.$v,{visible:J,tooltipKey:"plugin-new-development-modal"}));return"choose_editor_type_step"===W?(()=>{let r=ei?D.Qp:D.IO;return n.createElement(B,{onClick:()=>X(!1)},n.createElement(C.aF,{className:D.re,onKeyDown:ed,disableClickOutsideToHide:!0,onModalClick:e=>e.stopPropagation()},n.createElement(c.s_,{dispatch:t}),n.createElement("div",{className:D.gn},n.createElement("div",null,e===T.bD.PLUGIN?(0,p.t)("community.plugin_development.create_plugin"):(0,p.t)("community.plugin_development.create_widget"))),n.createElement("div",{className:D.Bb},ep,n.createElement("div",{className:r},n.createElement(H,{resourceType:e,showFigmaDesignOption:es,showFigJamOption:ec,selectedEditorTypes:z,setSelectedEditorTypes:$}))),n.createElement("div",{className:D.fY},n.createElement("div",{className:D.GT},n.createElement(d.$$,{className:D.x6,onClick:()=>K("choose_template_step")},n.createElement(p.Tx,{id:"general.next"}))))))})():"choose_template_step"===W?(()=>{let i=r?D.Qp:D.IO;return n.createElement(B,{onClick:()=>X(!1)},n.createElement(C.aF,{className:D.re,onKeyDown:ed,disableClickOutsideToHide:!0},n.createElement(c.s_,{dispatch:t}),n.createElement("div",{className:D.gn},n.createElement("div",null,e===T.bD.PLUGIN?n.createElement(p.Tx,{id:"community.plugin_development.create_plugin"}):n.createElement(p.Tx,{id:"community.plugin_development.create_widget"}))),n.createElement("div",{className:D.Bb},ep,n.createElement("div",{className:i},e===T.bD.PLUGIN?n.createElement(V,{selectedTemplate:Y,setSelectedTemplate:j}):n.createElement(G,{widgetCreationType:Z,setWidgetCreationType:q}))),n.createElement("div",{className:D.fY},n.createElement("div",{className:D.pn},!(0,O.$A)(l.D.getState().selectedView)&&n.createElement(d.nR,{className:D.x6,onClick:()=>K("choose_editor_type_step")},n.createElement(u.B,{svg:M.A,className:D.Fn}),n.createElement(p.Tx,{id:"general.back"})),eu))))})():"success_screen_step"===W?(()=>{let r=n.createElement(d.N_,{href:`https://www.figma.com/${e}-docs/`,trusted:!0},n.createElement(p.Tx,{id:"community.plugin_development.setup_guide"})),i=n.createElement(d.N_,{href:"https://discord.gg/xzQhe2Vcvx",trusted:!0},n.createElement(p.Tx,{id:"community.plugin_development.join_our_discord"}));return n.createElement(C.aF,{className:D.Tp,onKeyDown:ed,disableClickOutsideToHide:!0},n.createElement(c.s_,{dispatch:t}),n.createElement("div",{className:D.WG},n.createElement("div",{className:D.GK},e===T.bD.PLUGIN?(0,p.t)("community.plugin_development.new_plugin_created"):(0,p.t)("community.plugin_development.new_widget_created")),n.createElement("div",{className:D.Bb},n.createElement("span",{className:D.Cb},e===T.bD.PLUGIN?n.createElement(p.Tx,{id:"community.plugin_development.follow_our_setup_guide_plugin",setupGuideLink:r}):n.createElement(p.Tx,{id:"community.plugin_development.follow_our_setup_guide_widget",setupGuideLink:r})),n.createElement("div",{className:D.dH},e===T.bD.PLUGIN?n.createElement(p.Tx,{id:"community.plugin_development.connect_with_other_plugin_developers",joinOurDiscordLink:i}):n.createElement(p.Tx,{id:"community.plugin_development.connect_with_other_widget_developers",joinOurDiscordLink:i}))),n.createElement("div",{className:D.fY},n.createElement("div",{className:D.hG},n.createElement(d.nR,{onClick:en},n.createElement(p.Tx,{id:"community.plugin_development.open_folder"})),n.createElement(d.$$,{className:D.x6,onClick:er},n.createElement(p.Tx,{id:"general.done"}))))),n.createElement("div",{className:D.x9},e===T.bD.WIDGET?n.createElement(k.A.widgetSuccess,null):n.createElement(k.A.pluginSuccess,null)))})():n.createElement(n.Fragment,null)},"PluginNewDevelopmentModal")},884289:(e,t,r)=>{"use strict";r.d(t,{UK:()=>x,WW:()=>B});var n=r(411855),i=r(188507),a=r(776250),o=r(320063),l=r(860601),s=r(67833),c=r(574176),d=r(762638),u=r(939863),p=r(848680),m=r(837324),_=r(162895),h=r(738269),g=r(662275),f=r(318812),E=r(694687),y=r(193212),b=r(99506),v=r(215822),I=r(239671),T=r(376485),S=r(596578),w=r(928754),A=r(206074),C=r(720488),N=r(943089),O=r(44469),L=r(558011),R=r(501191);function P(e,t,r,n){(0,a.sx)("extension_opened_from_community",{extension_id:e,file_type:t,editor_type:r,...n})}function k(e){return e===I.nT.Whiteboard?s.y1.WHITEBOARD:s.y1.DESIGN}function D(e){return n.createElement("button",{type:"button",className:O.t,onClick:e.onClick,"data-testid":e.dataTestId},n.createElement("div",{className:O.Z3},n.createElement("div",{className:d.cx.w32.flex.justifyCenter.$},e.icon),n.createElement("div",{className:O.CA},e.text)),e.rightIcon)}function M(e){let t=e.fileName?e.fileName:e.playgroundFile?(0,u.t)("community.using.playground_file"):e.fileIconType===s.y1.WHITEBOARD?(0,u.t)("community.using.figjam_board"):(0,u.t)("community.using.figma_file");return n.createElement(D,{onClick:e.onClick,"data-testid":e.dataTestId,icon:n.createElement("div",{className:O.dD},n.createElement(N.Zt,{fileIconType:e.fileIconType})),text:t})}function x(e){let t;let r=n.createElement(N.dn,{editorType:[e.editorType]});return t=e.fileName?e.fileName:e.playgroundFile?(0,u.t)("community.using.playground_file"):e.editorType===T.FW.FIGMA?(0,u.t)("community.using.figma_file"):(0,u.t)("community.using.figjam_board"),n.createElement("button",{type:"button",className:O.t,onClick:e.onClick,"data-testid":e.dataTestId},n.createElement("div",{className:O.Z3},n.createElement("div",{className:O.dD},r),n.createElement("div",{className:O.CA},t)))}function F(e){let t=(0,i.wA)(),{files:r,resource:a,editorTypes:o}=e,l=(0,p.S)(),c=e=>{if(!e.org_id)return;let r=(0,m.qD)(a),n={extension:{pluginId:r.plugin_id,iconUrl:r.redirect_icon_url,name:r.name},isWidget:a.is_widget,orgId:e.org_id,workspaceDetails:{workspaceId:e.workspace_id,workspaceName:e.workspace_name,fileKey:e.key,fileName:e.name},openedFrom:"community",fullscreenEditorType:null};t((0,g.to)({type:w.S,data:n}))},d=e=>{P(a.id,"existing_file",(0,I.wN)(e.editor_type),l),t(_.aI({resource:a,fullscreenEditorType:e.editor_type===b._Y.DESIGN&&(0,v.Pe)(o)?I.nT.DevHandoff:(0,v.Tz)(e.editor_type),fileKey:e.key,userId:e.user_id}))};return(null==r?void 0:r.length)===0?null:n.createElement(n.Fragment,null,n.createElement("div",{className:O.Dh},n.createElement(u.Tx,{id:"community.detail_view.recent_files"})),n.createElement("div",{className:O.Dr},r?r.map(e=>n.createElement(M,{key:e.key,fileIconType:e.editor_type===b._Y.DESIGN&&e.last_published_at?s.y1.PUBLISHED:e.editor_type===b._Y.DESIGN?s.y1.DESIGN:s.y1.WHITEBOARD,fileName:e.name,onClick:()=>{t(h.oB()),e.can_run?d(e):e.requests_allowed&&c(e)}})):n.createElement("div",{className:O.d1},[...Array(6)].map((e,t)=>n.createElement("div",{key:t,className:O.iM})))))}function U({hasSecondaryDropdown:e,text:t,primaryFullscreenEditorType:r,resource:a}){let o=(0,i.wA)(),l=(0,v.uF)(a),s=(0,p.S)();return n.createElement(D,{onClick:()=>{if(!e){let e=!!(l.playground_fig_file||r===I.nT.DevHandoff);P(a.id,e?"playground":"new_file",r,s),o(h.oB()),o(_.aI({resource:a,fullscreenEditorType:r,isPlaygroundFile:e}))}},icon:n.createElement(c.B,{svg:R.A,className:O.K1}),text:t,rightIcon:e?n.createElement(c.B,{svg:L.A,className:O.Yr}):void 0})}function B(e,t,r){let s=(0,i.wA)(),c=(0,f.U)(),d=(null==c?void 0:c.type)===H&&c.data.resourceId===e.id&&c.data.viewContext===r,m=n.memo(function({primaryFullscreenEditorType:r}){var i;let m;let g=(0,E.sZ)(),f=(0,p.S)(),[b,w]=n.useState();(0,o.h)(()=>{!async function(){let t=await S.C.getRecentFiles({extensionId:e.id,isWidget:!!e.is_widget});(0,a.sx)("recent_files_for_plugins_loaded",{response_count:t.data.meta.length,extension_id:e.id,...f}),w(t.data.meta.filter(e=>e.can_run||e.requests_allowed).slice(0,6))}()});let N=(0,v.uF)(e),L=(null==(i=N.manifest.editorType)?void 0:i.sort())??[],R=!!N.playground_fig_file||r===I.nT.DevHandoff,D=L.includes(T.FW.FIGMA)&&L.includes(T.FW.FIGJAM);D&&(r!==I.nT.Design&&r!==I.nT.DevHandoff||(null==g?void 0:g.figjam_disabled_at)?r===I.nT.Whiteboard&&(m=I.nT.Design):m=I.nT.Whiteboard);let x=(()=>{let t=[{displayText:(0,u.t)("community.using.new_file"),preventDismissOnSelected:!0,render:()=>n.createElement(M,{fileIconType:k(r),onClick:()=>{P(e.id,"new_file",r,f),s(h.oB()),s(_.aI({resource:e,fullscreenEditorType:r}))}})}];return D&&m&&t.push({displayText:(0,u.t)("community.using.new_file"),preventDismissOnSelected:!0,render:()=>n.createElement(M,{fileIconType:k(m),onClick:()=>{P(e.id,"new_file",m,f),s(h.oB()),s(_.aI({resource:e,fullscreenEditorType:m}))}})}),t})(),B={displayText:(0,u.t)("community.using.new_file"),className:O.pz,preventDismissOnSelected:!0,render:()=>n.createElement(U,{hasSecondaryDropdown:x.length>1,text:(0,u.t)("community.using.new_file"),primaryFullscreenEditorType:r,resource:e}),children:x.length>1?x:void 0},H={displayText:(0,u.t)("community.using.playground_file"),className:O.pz,preventDismissOnSelected:!0,render:()=>n.createElement(U,{hasSecondaryDropdown:!1,text:(0,u.t)("community.using.playground_file"),primaryFullscreenEditorType:r,resource:e})};(0,y.U3)("resize",()=>{d&&s(h.oB())});let V=(()=>{let t=[];if(void 0===b||b.length>0)t.push({displayText:"recentFiles",preventDismissOnSelected:!0,render:()=>n.createElement(F,{files:b,resource:e,editorTypes:L})});else if(!R&&D)return x;return R?t.push(H):t.push(B),t})();return n.createElement(A.j,{showPoint:!1,lean:t,className:O.qN,subMenuClassName:O._3,type:C.it.MATCH_BACKGROUND,rootAndSubmenuMaxWidth:280,minWidth:280,autoHeight:!0,onSelectItem:l.lQ,hidePointWhenContentOffScreen:!0,items:V,parentRect:null==c?void 0:c.data.targetRect,dispatch:s})});return{dropdownIsShown:d,toggleSwitchEditorDropdown:(t,n)=>{var i;let a=null==(i=t.current)?void 0:i.getBoundingClientRect();a&&((void 0!==n?n:!d)?s(h.j7({type:H,data:{resourceId:e.id,viewContext:r,targetRect:a}})):s(h.oB()))},PluginTrySwitchEditorDropdown:m}}let H="PLUGIN_TRY_SWITCH_EDITOR_DROPDOWN"},350913:(e,t,r)=>{"use strict";r.d(t,{Nz:()=>m,X$:()=>o,YW:()=>s,Yp:()=>_,ab:()=>d,bL:()=>c,cU:()=>p,ho:()=>l,ox:()=>u});var n=r(837324),i=r(97128),a=r(637590);function o(e,t){return(0,n.UI)({path:i.Uo.FILE,id:e,name:t})}function l(e,t){return(0,n.UI)({path:i.Uo.PLUGIN,id:e,name:t})}function s(e,t){return(0,n.UI)({path:i.Uo.WIDGET,id:e,name:t})}function c(e,t,r){let n="";return t===a.g3.METRICS&&(null==r?void 0:r.community_profile_handle)!==e?`/@${e}`:(t&&t!==a.g3.RESOURCES&&t!==a.g3.LIKES&&(n=t?`/${t}`:""),`/@${e}${n}`)}function d(e,t){return new URL(l(e,t),location.href).href}function u(e,t){return new URL(s(e,t),location.href).href}function p(e,t){return new URL(o(e,t),location.href).href}function m(){return new URL("/community/plugin/pluginID",location.href).href}function _(e){let t=e.match(/\/community\/plugin\/([^/]+)/);return t?t[1]:null}},943089:(e,t,r)=>{"use strict";r.d(t,{ZA:()=>A,Zt:()=>C,dn:()=>S,li:()=>n});var n,i=r(411855),a=r(67833),o=r(574176),l=r(762638),s=r(939863),c=r(215822),d=r(137459),u=r(376485),p=r(498606),m=r(785909),_=r(851851),h=r(718393),g=r(545202),f=r(201676),E=r(793313),y=r(951527),b=r(338644),v=r(918822),I=r(401109),T=r(781979);function S(e){let{editorType:t,is16x16:r,isPlaygroundFileInsertBadge:n}=e;if(!t)return null;let a=m.$E;return(r?a=m.cL:n&&(a=m.is),t instanceof Array)?t.includes(u.FW.FIGMA)&&t.includes(u.FW.FIGJAM)&&(0,c.Pe)(t)?i.createElement(o.B,{svg:r?I.A:T.A,className:a,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,s.t)("community.detail_view.universal"),dataTestId:"editor-type-badge-universal"}):t.includes(u.FW.FIGMA)&&t.includes(u.FW.FIGJAM)?i.createElement(o.B,{svg:r?b.A:v.A,className:a,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,s.t)("community.detail_view.made_for_figma_design_and_figjam"),dataTestId:"editor-type-badge-figma-figjam"}):t.includes(u.FW.FIGMA)&&(0,c.Pe)(t)?i.createElement(o.B,{svg:r?E.A:y.A,className:a,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,s.t)("community.detail_view.figma_design_and_dev_mode"),dataTestId:"editor-type-badge-figma-devmode"}):t.includes(u.FW.FIGJAM)&&(0,c.Pe)(t)?i.createElement(o.B,{svg:r?g.A:f.A,className:a,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,s.t)("community.detail_view.made_for_fig_jam_and_dev_mode"),dataTestId:"editor-type-badge-figjam-devmode"}):w(t[0],a,r):w(t,a,r)}function w(e,t,r){switch(e){case u.FW.FIGJAM:case d.LE.FIGJAM:return i.createElement(a.oS,{type:a.y1.WHITEBOARD,size:r?a.LE.SMALL:a.LE.MEDIUM,className:t,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,s.t)("community.detail_view.made_for_fig_jam"),dataTestId:"editor-type-badge-figjam"});case u.FW.FIGMA:case d.LE.FIGMA:return i.createElement(a.oS,{type:a.y1.DESIGN,size:r?a.LE.SMALL:a.LE.MEDIUM,className:t,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,s.t)("community.detail_view.made_for_figma_design"),dataTestId:"editor-type-badge-figma"});case u.FW.INSPECT:case u.FW.DEV:return i.createElement(o.B,{svg:r?_.A:h.A,className:t,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,s.t)("community.detail_view.dev_mode_only"),dataTestId:"editor-type-badge-devmode"});case d.LE.SLIDES:return i.createElement(a.oS,{type:a.y1.SLIDES,size:r?a.LE.SMALL:a.LE.MEDIUM,className:t,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,s.t)("community.detail_view.made_for_slides"),dataTestId:"editor-type-badge-slides"});default:return null}}function A({is24x24:e}){return i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,s.t)("community.insert_modal.codegen_plugin_icon_tooltip"),className:e?l.cx.w24.h24.colorBorder.$:void 0},i.createElement("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H12C14.2091 0 16 1.79086 16 4V12C16 14.2091 14.2091 16 12 16H4C1.79086 16 0 14.2091 0 12V4Z",fill:"var(--color-bg)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1H4C2.34315 1 1 2.34315 1 4V12C1 13.6569 2.34315 15 4 15H12C13.6569 15 15 13.6569 15 12V4C15 2.34315 13.6569 1 12 1ZM4 0C1.79086 0 0 1.79086 0 4V12C0 14.2091 1.79086 16 4 16H12C14.2091 16 16 14.2091 16 12V4C16 1.79086 14.2091 0 12 0H4Z",fill:"var(--color-border)"}),i.createElement("path",{d:"M3 3.5C3 3.22386 3.22386 3 3.5 3H9.5C9.77614 3 10 3.22386 10 3.5C10 3.77614 9.77614 4 9.5 4H3.5C3.22386 4 3 3.77614 3 3.5Z",fill:"var(--color-icon)"}),i.createElement("path",{d:"M3 12.5C3 12.2239 3.22386 12 3.5 12H9.5C9.77614 12 10 12.2239 10 12.5C10 12.7761 9.77614 13 9.5 13H3.5C3.22386 13 3 12.7761 3 12.5Z",fill:"var(--color-icon)"}),i.createElement("path",{d:"M5 6.5C5 6.22386 5.22386 6 5.5 6H12.5C12.7761 6 13 6.22386 13 6.5C13 6.77614 12.7761 7 12.5 7H5.5C5.22386 7 5 6.77614 5 6.5Z",fill:"var(--color-icon-assistive)"}),i.createElement("path",{d:"M6 9.5C6 9.22386 6.22386 9 6.5 9H13.5C13.7761 9 14 9.22386 14 9.5C14 9.77614 13.7761 10 13.5 10H6.5C6.22386 10 6 9.77614 6 9.5Z",fill:"var(--color-icon-design)"}))}function C(e){switch(e.fileIconType){case a.y1.WHITEBOARD:return i.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{clipPath:"url(#clip0_8665_227734)"},i.createElement("path",{d:"M7 28H25C25.5523 28 26 27.5523 26 27V9.91421C26 9.649 25.8946 9.39464 25.7071 9.20711L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44772 4 6 4.44772 6 5V27C6 27.5523 6.44772 28 7 28Z",fill:"#9747FF"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2966 20.8616C19.4811 21.0461 19.7802 21.0461 19.9647 20.8616L21.0059 19.8205C21.1903 19.636 21.1903 19.3369 21.0059 19.1524L15.0579 13.2045L13.3487 14.9137L19.2966 20.8616ZM12.6416 14.2066L11.7021 13.2671L11.2748 11.1305L13.4113 11.5578L14.3508 12.4974L12.6416 14.2066ZM11.0623 10.0682L13.9043 10.6366L21.713 18.4453C22.288 19.0203 22.288 19.9526 21.713 20.5276L20.6718 21.5687C20.0968 22.1438 19.1645 22.1438 18.5895 21.5687L10.7809 13.7601L10.2125 10.9181L10 9.85578L11.0623 10.0682Z",fill:"white"}),i.createElement("path",{d:"M20.5 8.5V6.41421V4L22.2071 5.70711L24.2929 7.79289L26 9.5H23.5858H21.5C20.9477 9.5 20.5 9.05228 20.5 8.5Z",fill:"#D9B8FF"})),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_8665_227734"},i.createElement("rect",{width:"32",height:"32",fill:"white"}))));case a.y1.PUBLISHED:return i.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{clipPath:"url(#clip0_8665_306087)"},i.createElement("path",{d:"M7 28H25C25.5523 28 26 27.5523 26 27V9.91421C26 9.649 25.8946 9.39464 25.7071 9.20711L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44772 4 6 4.44772 6 5V27C6 27.5523 6.44772 28 7 28Z",fill:"var(--color-iconpublishedfile, --grey-800)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8582 12.9953L16.8466 12.992L12.4437 11.7366L15.7009 14.9938C15.8169 14.954 15.9412 14.9324 16.0707 14.9324C16.6993 14.9324 17.2089 15.442 17.2089 16.0707C17.2089 16.6993 16.6993 17.2089 16.0707 17.2089C15.442 17.2089 14.9324 16.6993 14.9324 16.0707C14.9324 15.9412 14.954 15.8169 14.9938 15.7009L11.7425 12.4496L12.9443 16.6419L12.9548 16.6784L12.9625 16.7156C13.26 18.1592 14.5397 19.2442 16.0707 19.2442C16.4199 19.2442 16.7541 19.1882 17.0659 19.0854L17.6507 18.8924L18.0862 19.3279L19.3171 20.5588L20.5858 19.2901L19.3411 18.0455L18.9107 17.615L19.0954 17.035C19.1918 16.7321 19.2443 16.4085 19.2443 16.0707C19.2443 14.5951 18.2363 13.3524 16.8699 12.9983L16.8582 12.9953ZM21.2929 18.583L22 19.2901L21.2929 19.9972L20.0242 21.2659L19.3171 21.973L18.61 21.2659L17.3791 20.035C16.9676 20.1708 16.5277 20.2442 16.0707 20.2442C14.0558 20.2442 12.3744 18.8165 11.983 16.9175L10.3246 11.1324L10 10L11.1329 10.323L17.1208 12.0303C18.9175 12.4959 20.2443 14.1283 20.2443 16.0707C20.2443 16.5127 20.1756 16.9386 20.0482 17.3384L21.2929 18.583Z",fill:"white"}),i.createElement("path",{d:"M20.5 8.5V6.41421V4L22.2071 5.70711L24.2929 7.79289L26 9.5H23.5858H21.5C20.9477 9.5 20.5 9.05228 20.5 8.5Z",fill:"var(--color-iconpublishedfilesecondary, --grey-500)"})),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_8665_306087"},i.createElement("rect",{width:"32",height:"32",fill:"white"}))));case a.y1.DESIGN:default:return i.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{clipPath:"url(#clip0_8665_306087)"},i.createElement("path",{d:"M7 28H25C25.5523 28 26 27.5523 26 27V9.91421C26 9.649 25.8946 9.39464 25.7071 9.20711L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44772 4 6 4.44772 6 5V27C6 27.5523 6.44772 28 7 28Z",fill:"#0D99FF"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8582 12.9953L16.8466 12.992L12.4437 11.7366L15.7009 14.9938C15.8169 14.954 15.9412 14.9324 16.0707 14.9324C16.6993 14.9324 17.2089 15.442 17.2089 16.0707C17.2089 16.6993 16.6993 17.2089 16.0707 17.2089C15.442 17.2089 14.9324 16.6993 14.9324 16.0707C14.9324 15.9412 14.954 15.8169 14.9938 15.7009L11.7425 12.4496L12.9443 16.6419L12.9548 16.6784L12.9625 16.7156C13.26 18.1592 14.5397 19.2442 16.0707 19.2442C16.4199 19.2442 16.7541 19.1882 17.0659 19.0854L17.6507 18.8924L18.0862 19.3279L19.3171 20.5588L20.5858 19.2901L19.3411 18.0455L18.9107 17.615L19.0954 17.035C19.1918 16.7321 19.2443 16.4085 19.2443 16.0707C19.2443 14.5951 18.2363 13.3524 16.8699 12.9983L16.8582 12.9953ZM21.2929 18.583L22 19.2901L21.2929 19.9972L20.0242 21.2659L19.3171 21.973L18.61 21.2659L17.3791 20.035C16.9676 20.1708 16.5277 20.2442 16.0707 20.2442C14.0558 20.2442 12.3744 18.8165 11.983 16.9175L10.3246 11.1324L10 10L11.1329 10.323L17.1208 12.0303C18.9175 12.4959 20.2443 14.1283 20.2443 16.0707C20.2443 16.5127 20.1756 16.9386 20.0482 17.3384L21.2929 18.583Z",fill:"white"}),i.createElement("path",{d:"M20.5 8.5V6.41421V4L22.2071 5.70711L24.2929 7.79289L26 9.5H23.5858H21.5C20.9477 9.5 20.5 9.05228 20.5 8.5Z",fill:"#80CAFF"})),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_8665_306087"},i.createElement("rect",{width:"32",height:"32",fill:"white"}))))}}(e=>{e.IconAndBadgeContainer=function({children:e,className:t}){return i.createElement("div",{className:m.G+(t?` ${t}`:"")},e)},e.BadgeContainer=function({children:e,fromBrowseResourceModal:t,resourceType:r}){let n=m.Wv;return t&&"plugin"===r?n=m.p2:t&&"widget"===r&&(n=m.QF),i.createElement("div",{className:n},e)}})(n||(n={}))},326869:(e,t,r)=>{"use strict";r.d(t,{Ek:()=>h,O:()=>g});var n=r(411855),i=r(629019),a=r.n(i),o=r(348425),l=r(762638),s=r(612776),c=r(226055),d=r(159025),u=r(905359),p=r(589084),m=r(501191),_=r(660164);function h({error:e=!1}){return n.createElement("div",{className:a()(d.mL,{[d.z3]:e})},n.createElement(o.t,{className:l.cx.colorIcon.$,svg:u.A,fallbackSvg:p.A}))}function g({error:e=!1}){let t=(0,c.GS)(),r=(0,s.zI)({isUI3:t});return n.createElement("div",{className:a()(d.Cc,{[d.z3]:e,[d.E3]:r})},n.createElement(o.t,{className:l.cx.colorIcon.$,svg:m.A,fallbackSvg:_.A}))}},121003:(e,t,r)=>{"use strict";r.d(t,{Xn:()=>b,sD:()=>y});var n=r(411855),i=r(188507),a=r(794272),o=r(153234),l=r(268537),s=r(939863),c=r(852800),d=r(662531),u=r(318812),p=r(662275),m=r(405206),_=r(720488),h=r(273226),g=r(777304),f=r(107244),E=r(224690);let y="APPLY_COMPONENT_PROP_DROPDOWN";function b({source:e,nodeField:t,iconWidth:r,defaultValue:s}){let c=n.useMemo(E.p1,[]),d=n.useMemo(E.On,[]),{containingComponentDefs:m,defReferencedBySelection:b,containingProductComponent:v}=(0,a.R)(e=>{let r=(0,f.Lg)(e);return{containingProductComponent:r?e.mirror.sceneGraph.get(r):null,containingComponentDefs:c(e,r,t),defReferencedBySelection:d(e,t)}}),T=(0,i.wA)(),S=(0,u.U)(),w=n.useCallback(()=>{(0,h.Pp)(v,!0,(0,h.hx)(t),e),T(p.to({type:g.n,data:{prePopulatedDefaultValue:s,propType:(0,h.hx)(t),refField:t}}))},[s,T,t,v,e]),A=y.concat("-",t);if(!(S&&S.type===A&&S.data.nodeField===t))return null;let C=S.data.targetRect;return n.createElement(_.Cf,{targetRect:C,maxWidth:220,lean:"right",arrowOffsetFromRectLeft:r,leanPadding:6,propagateCloseClick:!0},m.map(e=>{let r=!!b&&b.explicitDefID===e.explicitDefID;return n.createElement(I,{key:`apply-prop-${e.explicitDefID}`,action:"apply-prop",nodeField:t,defID:e.explicitDefID,name:e.name,isApplied:r,hideCheck:!b,recordingKey:o.Pt("applyProp",e.name)})}),!!m.length&&n.createElement(l.W.Separator,null),n.createElement(I,{key:"create-prop",action:"create-prop",nodeField:t,onCreate:w,isApplied:!1,hideCheck:!b,recordingKey:"openCreatePropModal"}))}let v=(e,t)=>t||("create-prop"===e?(0,s.t)("design_systems.component_properties.create_property_menu_option"):"");function I({action:e,nodeField:t,name:r,defID:i,onCreate:a,isApplied:l,hideCheck:s,...u}){let p=n.useCallback(()=>{"create-prop"===e?a&&a():d.l7.user("add-prop-ref",()=>c.glU.addComponentPropRef(t,i))},[e,i,t,a]);return n.createElement(m.a1,{text:v(e,r),inPanel:!0,isEnabled:!0,hideCheck:s,isChecked:l,onClick:p,key:e,recordingKey:o.Pt(u,t,"propDropdown")})}},273226:(e,t,r)=>{"use strict";r.d(t,{B_:()=>M,C4:()=>T,Dd:()=>S,Fv:()=>W,O2:()=>A,OE:()=>w,Pp:()=>L,Ql:()=>D,X9:()=>x,Yi:()=>j,ZH:()=>z,_P:()=>G,aO:()=>Z,dl:()=>P,f3:()=>$,hx:()=>k,iz:()=>U,k4:()=>Y,m5:()=>H,qe:()=>C,ui:()=>V,vo:()=>K,wd:()=>B,wh:()=>I,xP:()=>F,xb:()=>R,zn:()=>O});var n=r(411855),i=r(527395),a=r(937456),o=r(710752),l=r(77437),s=r(31524),c=r(459593),d=r(776250),u=r(966712),p=r(852438),m=r(939863),_=r(378905),h=r(852800),g=r(848661),f=r(335691),E=r(705129),y=r(968109),b=r(283293),v=r(144919);let I=304,T="add-component-prop-dropdown",S="bubbled-props-picker";var w=(e=>(e[e.DEFINITION=0]="DEFINITION",e[e.ASSIGNMENT=1]="ASSIGNMENT",e))(w||{}),A=(e=>(e[e.REGULAR=0]="REGULAR",e[e.WIDE=1]="WIDE",e[e.UNBOUNDED=2]="UNBOUNDED",e[e.RESIZABLE_SIDEBAR=3]="RESIZABLE_SIDEBAR",e))(A||{});function C(e){switch(e){case h.J0O.BOOL:return v.A;case h.J0O.TEXT:return b.A;case h.J0O.INSTANCE_SWAP:return y.A}}let N={[h.J0O.BOOL]:{SIZE_24_SMALL:i.$,SIZE_16:a.X},[h.J0O.TEXT]:{SIZE_24_SMALL:o.e,SIZE_16:l.I},[h.J0O.INSTANCE_SWAP]:{SIZE_24_SMALL:s.y,SIZE_16:c.m}};function O(e,t=!1){let r=N[e][t?"SIZE_16":"SIZE_24_SMALL"];return n.createElement(r,null)}function L(e,t,r,n){e&&(0,d.sx)("ds_component_props_def_create_modal_open",{product_component_guid:e.guid,product_component_is_state_group:e.isStateGroup,is_bottoms_up_creation:t,prop_type:h.J0O[r],source:n})}function R(e){switch(e){case h.J0O.BOOL:return(0,m.t)("design_systems.component_properties.boolean");case h.J0O.TEXT:return(0,m.t)("design_systems.component_properties.text");case h.J0O.INSTANCE_SWAP:return(0,m.t)("design_systems.component_properties.instance_swap");case h.J0O.VARIANT:return(0,m.t)("design_systems.component_properties.variant")}}function P(e,t){if((0,g.gl)(t))return g.oV;if((0,u.kc)().ds_variable_props&&t&&"object"==typeof t&&"type"in t&&t.type===h.Z_n.ALIAS)return t;switch(e){case h.J0O.BOOL:return"true"===t;case h.J0O.TEXT:case h.J0O.INSTANCE_SWAP:return t;default:throw Error(`Unexpected component prop type: ${e}`)}}function k(e){switch(e){case f.R.VISIBLE:return h.J0O.BOOL;case f.R.TEXT:return h.J0O.TEXT;case f.R.OVERRIDDEN_SYMBOL_ID:return h.J0O.INSTANCE_SWAP}}function D(e){switch(e){case h.J0O.BOOL:return!0;case h.J0O.TEXT:return"";case h.J0O.INSTANCE_SWAP:return null;case h.J0O.VARIANT:return(0,m.t)("design_systems.states_panel.default_property_value")}}function M(e,t){switch(e){case h.J0O.INSTANCE_SWAP:return!!t;case h.J0O.TEXT||h.J0O.VARIANT:return!!(null==t?void 0:t.length);default:return!0}}let x={format:e=>e?(0,m.t)("design_systems.component_properties.boolean_true"):(0,m.t)("design_systems.component_properties.boolean_false"),isEqual:(e,t)=>e===t};function F(e,t){if(!t.length)return null;let r=e(t[0]);return r&&t.every(t=>e(t)===r)?r:null}function U(e,t){switch(e){case h.uXg.CONFLICTING_NAMES_ERROR:case h.uXg.CONFLICTING_NAMES_WITH_VARIANT_ERROR:return(0,m.t)("design_systems.component_properties.error_conflicting_name");case h.uXg.UNUSED_DEF_ERROR:return(0,m.t)("design_systems.component_properties.error_unused_property");default:return t?(0,m.t)("design_systems.component_properties.has_unpublished_preferred_values"):""}}function B(e,t){if(!e.length)return null;let{backingSymbolGUID:r,backingStateGroupGUID:n}=(0,E.nD)(new Set(e),t);return n&&(0,g.hS)(n)?t.get(n):r&&(0,g.hS)(r)?t.get(r):g.oV}function H(e,t,r){let n;if(t.size)return n=t.has(g.oV)?g.oV:e===h.J0O.INSTANCE_SWAP?B([...t],r):t.size>1?g.oV:t.values().next().value,P(e,n)}function V(e,t,r){return(0,_.TK)(e,r)?h.glU.getDefaultStateForLocalStateGroup(t):h.glU.getDefaultStateForSubscribedStateGroup(t,e.default_state_key)}function G(e){if(e)try{return new URL(e).hostname}catch(e){}}var W=(e=>(e.PILL="pill",e.ICON="icon",e))(W||{});function K(e,t){return!!("INSTANCE"===e.type&&!e.isInstanceSublayer&&e.simplifyInstancePanels&&t.get(e.symbolId||""))&&e.hasHiddenChildrenWhenSimplified}function Y(e,t){let r;if(e.length){for(let n of e){let e=t.get(n);if(!e||"INSTANCE"!==e.type)continue;let i=e.symbolId;if(i){if(void 0===r)r=i;else if(i!==r)return}}return r}}function j(e,t){let r;if(e.length){for(let n of e){let e=t.get(n);if(!e||"INSTANCE"!==e.type)continue;let i=e.symbolId;if(!i)continue;let a=t.get(i);if(!a)continue;if(a.isLooseComponent)return;let o=a.containingStateGroupId;if(o){if(void 0===r)r=o;else if(o!==r)return}}return r}}function z(e,t){var r;if(!e.length)return new Set;let n=new Set(null==(r=t[e[0]])?void 0:r.hiddenProps);return e.reduce((e,r)=>{var n;return(null==(n=t[r])?void 0:n.hiddenProps)?(0,p.iR)(e,new Set(t[r].hiddenProps)):e},n)}function $(e,t){var r;return e?(null==(r=t[e])?void 0:r.componentPropDefError)??h.uXg.NONE:h.uXg.NONE}function Z(e,t){var r;let n=null==(r=t[e])?void 0:r.defs;return n?Object.values(n).sort((e,t)=>e.sortPosition<t.sortPosition?-1:1):[]}},777304:(e,t,r)=>{"use strict";r.d(t,{n:()=>R});var n=r(411855),i=r(188507),a=r(335601),o=r(498750),l=r(153234),s=r(522739),c=r(799569),d=r(946689),u=r(659838),p=r(271779),m=r(939863),_=r(392592),h=r(286954),g=r(632430),f=r(662275),E=r(852800),y=r(29680),b=r(173454),v=r(237870),I=r(908968),T=r(278256),S=r(538697),w=r(746806),A=r(273226),C=r(361365),N=r(386976),O=r(472335),L=r(546052);let R=(0,v.Ju)(function(e){let{propType:t,prePopulatedDefaultValue:r,refField:v}=e,R=(0,i.wA)(),{singleSelectedNode:P,dropdownShown:k,openFileKey:D,defaultPropName:M,isInstanceSwapPickerShown:x}=(0,C.uS)({refField:v,propType:t}),F=(0,y.eY)(),[U,B]=n.useState(M),H=n.useCallback(e=>B(e.target.value),[]),{inputRef:V,inputProps:{onChange:G,onFocus:W,onMouseUp:K,onMouseLeave:Y,onKeyUp:j}}=(0,a.X)({autoFocus:!0,onChange:H}),[z,$]=n.useState(r??(0,A.Ql)(t)),[Z,q]=(0,N.i0)(r,F),J=n.useMemo(()=>t===E.J0O.INSTANCE_SWAP&&z?(0,A.wd)([z],F):null,[z,t,F]),X=(0,C.c9)({propType:t,propName:U,defaultValue:z}),Q=n.useCallback(e=>{$(e)},[]),ee=e=>$(e.currentTarget.value),et=e=>{e.keyCode!==o.Uz.ENTER||e.shiftKey||X||en()},er=n.useCallback(()=>{R(f.Ce()),R((0,h.vq)())},[R]),en=(0,C.DD)({propType:t,propName:U,refField:v,preferredProductComponents:Z,defaultValue:z}),ei=n.useCallback(e=>{E.glU.wouldCreateCycleUnderParent((null==P?void 0:P.guid)||"",e)?(R(_.F.enqueue({message:(0,m.t)("design_systems.component_properties.choose_default_instance_value_cycle")})),$("")):(R(_.F.clearAll()),$(e))},[R,null==P?void 0:P.guid]),ea=(0,N.bq)(q),eo=(0,N.dl)(q),{inputRef:el,inputProps:{onFocus:es,onMouseUp:ec,onMouseLeave:ed,onKeyUp:eu,onChange:ep}}=(0,a.X)({onChange:ee}),em=(0,C._I)({type:"create"});return n.createElement(w.Wx,{initialWidth:A.wh,contentContainerClassName:L.yl,onClose:x?()=>{R((0,h.vq)())}:()=>{R(f.Ce())},onClick:x?()=>R((0,h.vq)()):void 0,initialPosition:em,alwaysEnsureModalOnScreen:!0,disableDragging:!0,tabIndex:0,clickOutsideToHide:!0},n.createElement("div",{className:L.d0},n.createElement("p",{className:L.R_},n.createElement(m.Tx,{id:"design_systems.component_properties.create_component_property"})),n.createElement(c.Jn,{onClick:er})),n.createElement(p.i,{displayAs:p.C.Block},n.createElement("div",{className:L.yL},n.createElement("p",{className:L.fV},n.createElement(m.Tx,{id:"design_systems.component_properties.name"})),n.createElement(u.L,{ref:V,className:L.hF,onFocus:W,onMouseUp:K,onMouseLeave:Y,onChange:G,onKeyDown:et,onKeyUp:j,value:U,placeholder:t===E.J0O.VARIANT?"Property":"",autoCorrect:"off",autoFocus:!0,recordingKey:l.Pt("componentPropName",(0,A.xb)(t))})),n.createElement("div",{className:L.yL},n.createElement("p",{className:L.fV},n.createElement(m.Tx,{id:"design_systems.component_properties.default_value"})),t===E.J0O.BOOL?n.createElement(S.l6,{id:"create-component-prop-default-value-select",className:L.be,property:void 0===z||z,formatter:A.X9,onChange:Q,dispatch:R,dropdownShown:k,disabled:!1,recordingKey:l.Pt("componentPropDefaultValue",(0,A.xb)(t))},n.createElement(S.c$,{value:!0,key:"true-option",recordingKey:"componentPropDefaultValue.true"},A.X9.format(!0)),n.createElement(S.c$,{value:!1,key:"false-option",recordingKey:"componentPropDefaultValue.false"},A.X9.format(!1))):t===E.J0O.TEXT?n.createElement("div",{className:L.be},n.createElement(I.v,{className:L.Tg,onChange:ep,ref:e=>{(null==e?void 0:e.textarea)&&(el.current=e.textarea)},onFocus:es,onMouseUp:ec,onMouseLeave:ed,onKeyUp:eu,recordingKey:l.Pt("componentPropDefaultValue",(0,A.xb)(t)),value:z||"",autoCorrect:"off"})):t===E.J0O.VARIANT?n.createElement(s.u2,{className:L.hF,onChange:ee,onKeyDown:et,recordingKey:l.Pt("componentPropDefaultValue",(0,A.xb)(t)),defaultValue:z||"",autoCorrect:"off"}):t===E.J0O.INSTANCE_SWAP?n.createElement("div",{className:L.be},n.createElement(T.x,{pickerID:"create-prop-modal-instance-swap-picker",pickerWidth:212,shouldPerformSwapOnClick:!1,instanceSwapNode:J,title:(0,m.t)("design_systems.component_properties.choose_instance"),preferredItems:Z,sceneGraph:F,onSwapCallback:e=>{R((0,g.uP)({item:e,callback:t=>{ei(e.type===b.PW.STATE_GROUP?(0,A.ui)(e,t,D):t)}}))}})):null),t===E.J0O.INSTANCE_SWAP&&n.createElement(O.D,{borderBottom:!0,recordingKey:"create-prop-modal-preferred-values-picker",swapPickerId:"create-prop-modal-preferred-values-picker",swapPickerWidth:212,addComponents:e=>ea(e,N.Kn.ADD),onSetComponents:eo,removeComponents:e=>ea(e,N.Kn.REMOVE),toggleComponent:e=>ea([e]),values:Z,propDefDefaultValue:(0,A.dl)(t,z)}),n.createElement(d.$$,{recordingKey:"createComponentProperty",dataTestId:"create-component-prop-button",disabled:X,className:L.Tf,onClick:en,type:"submit"},n.createElement(m.Tx,{id:"design_systems.component_properties.create_property"}))))},"CreateComponentPropModal")},510879:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,s:()=>a});var n=r(848661);function i(e,t){var r;let n={};for(let i of e){let e;let a=t.get(i);(e=(null==a?void 0:a.type)==="INSTANCE"?a.symbolId:(null==a?void 0:a.containingSymbolId)??(null==a?void 0:a.topmostBackingStateId))&&(null==(r=t.get(e))?void 0:r.isState)&&(n[e]||(n[e]=[]),n[e].push(i))}return n}function a(e,t,r){var i,a;if(!e)return{};let o={};for(let l of t){let t=null==(a=null==(i=e[l])?void 0:i.stateVariantProps)?void 0:a.propertyValues;if(t)for(let e of r)e in o&&o[e]!==t[e]?o[e]=o[e]&&t[e]?n.oV:"":o[e]=t[e]||""}return o}},386976:(e,t,r)=>{"use strict";r.d(t,{J0:()=>v,Kn:()=>O,_A:()=>w,bq:()=>P,dl:()=>k,fN:()=>b,i0:()=>R,wS:()=>M,xP:()=>L});var n=r(411855),i=r(188507),a=r(302245),o=r(44948),l=r(980820),s=r(632430),c=r(852800),d=r(416095),u=r(284321),p=r(950919),m=r(49116),_=r(335691),h=r(173454),g=r(498606),f=r(479296),E=r(517418),y=r(107244);let b=e=>["preferredValuesInstancePicker",...e],v=e=>({"data-tooltip-type":g.Ib.TEXT,"data-tooltip-show-left":!0,...(0,E.pf)(e)}),I=()=>{},T=new Promise(e=>{I=e});function S(){I(),T=new Promise(e=>{I=e})}let w=e=>`GET_MISSING_PREFERRED_PRODUCT_COMPONENTS_FOR_${e}`,A=(e,t)=>{var r;return{callback:I,promise:T,resetPromise:S,loadingKey:w(null==(r=e.getState().openFile)?void 0:r.key),callbackForComponent:t}},C=(0,l.nF)((e,{stateGroupKeys:t,componentKeys:r,callback:n})=>{s.tL(r,t,e,A(e,n))}),N=()=>(0,a.Mz)([u.Qp,(e,t)=>t],(e,t)=>{let r=[],n=[];return t.forEach(t=>{let i=e[t.key];i?r.push(i):n.push(t)}),{preferredProductComponents:r,missingValues:n}});var O=(e=>(e.ADD="ADD",e.REMOVE="REMOVE",e))(O||{});function L(e){let t=(0,o.k9)(()=>{var t,r;return(null==e?void 0:e.type)!==c.J0O.INSTANCE_SWAP?[]:(t=e.type,r=e.preferredValues,t===c.J0O.INSTANCE_SWAP?r.filter(e=>"key"in e&&"string"==typeof e.key&&"type"in e&&e.type in c.fOf):[])},[e]),r=(0,i.d4)(p.aR),a=(0,n.useMemo)(()=>t.map(e=>{let t=r[e.key];return t?{type:e.type,key:t}:e}),[r,t]),l=(0,n.useMemo)(N,[]),{preferredProductComponents:s,missingValues:u}=(0,i.d4)(e=>l(e,a)),m=(0,i.wA)(),g=(0,n.useRef)(new Set),[f,E]=(0,n.useState)(!1),[y,b]=(0,n.useState)(0),v=(0,n.useCallback)(()=>b(e=>e+1),[]);return(0,n.useEffect)(()=>{let e=[],t=[];u.forEach(r=>{g.current.has(r.key)||(r.type===c.fOf.COMPONENT?e.push(r.key):t.push(r.key))}),e.length>0||t.length>0?m(C({componentKeys:e,stateGroupKeys:t,callback:r=>{r?([...e,...t].forEach(e=>g.current.add(e)),E(!1)):E(!0)}})):E(!1)},[u,m,y]),{preferredValues:s,togglePreferredValues:(0,n.useCallback)((n,i)=>{if(e&&e.kind===_.u.TYPED){let a=[...t];n.forEach(e=>{let t=(0,d.CG)(e),n=a.findIndex(e=>e.key===t||r[e.key]===t);-1!==n&&"ADD"!==i?a.splice(n,1):-1===n&&"REMOVE"!==i&&a.push({key:t,type:e.type===h.PW.COMPONENT?c.fOf.COMPONENT:c.fOf.STATE_GROUP})}),Object.keys(r).length>0&&a.forEach((e,t)=>{let n=r[e.key];n&&(a[t].key=n)}),c.glU.editInstanceSwapPreferredValues(e.explicitDefID,a)}},[e,r,t]),handleSetPreferredValues:(0,n.useCallback)(t=>{if((null==e?void 0:e.kind)!==_.u.TYPED)return;let n=t.map(e=>{let t=(0,d.CG)(e);return{key:r[t]??t,type:e.type===h.PW.COMPONENT?c.fOf.COMPONENT:c.fOf.STATE_GROUP}});c.glU.editInstanceSwapPreferredValues(e.explicitDefID,n)},[e,r]),preferredValuesFetchError:f,retryPreferredValuesFetch:v}}function R(e,t){let r=(0,i.d4)(u.FZ),a=(0,i.d4)(m.c5),[o,l]=(0,n.useState)(()=>{let n=[];if("string"==typeof e){let i=(0,d.NY)(e,t,r,a);i&&n.push(i)}return n});return[o,l]}function P(e){return(0,n.useCallback)((t,r)=>{e(e=>{let n=[...e];return t.forEach(e=>{let t=(0,d.CG)(e),i=n.findIndex(e=>t===(0,d.CG)(e));i>-1&&"ADD"!==r?n.splice(i,1):-1===i&&"REMOVE"!==r&&n.push(e)}),n})},[e])}function k(e){return(0,n.useCallback)(t=>{e([...t])},[e])}let D=(0,f.n)(e=>(!!e.component_key||!!e.key)&&!e.unpublished_at);function M(e){let t=(0,i.d4)(y.Lg),r=(0,i.d4)(u.FZ),a=(0,n.useMemo)(()=>!!t&&D(r[t]??{}),[t,r]);return(0,o.k9)(()=>a?new Set(e.filter(e=>!D(e)).map(e=>e.node_id)):new Set,[a,e])}},567488:(e,t,r)=>{"use strict";r.d(t,{MB:()=>A,Yc:()=>T,m:()=>w,oX:()=>S,yQ:()=>C});var n=r(411855),i=r(188507),a=r(313177),o=r(153234),l=r(46481),s=r(939863),c=r(738269),d=r(318812),u=r(335691),p=r(498606),m=r(794272),_=r(662275),h=r(227795),g=r(121003),f=r(273226),E=r(777304),y=r(107244),b=r(224690),v=r(646476);let I=e=>e.stopPropagation();function T(e,t){let r=n.useMemo(b.On,[]),i=n.useMemo(y.Ms,[]),{containingProductComponent:a,defReferencedBySelection:o,nodesHaveInstanceSublayer:l,selectionHasProductComponent:s}=(0,m.R)(n=>{let a=(0,y.Lg)(n),o=a?n.mirror.sceneGraph.get(a):null,l=i(n,t);return{containingProductComponent:o,defReferencedBySelection:r(n,e),nodesHaveInstanceSublayer:l,selectionHasProductComponent:(0,y.Ln)(n)}});return!n.useMemo(()=>null!=a&&!!a.guid&&!l&&(!s||e!==u.R.VISIBLE),[a,l,s,e])||!!o}function S(e,t,r,a){let o=(0,i.wA)(),l=n.useMemo(()=>(0,f.hx)(e),[e]),s=n.useMemo(b.p1,[]),{containingProductComponent:d,hasExistingDefs:u}=(0,m.R)(t=>{let r=(0,y.Lg)(t);return{containingProductComponent:r?t.mirror.sceneGraph.get(r):null,hasExistingDefs:!!s(t,r,e).length}});return n.useCallback(()=>{t.current&&(u&&!a?o(c.j7({type:g.sD.concat("-",e),data:{nodeField:e,targetRect:t.current.getBoundingClientRect()}})):((0,f.Pp)(d,!0,l,f.Fv.ICON),o(_.to({type:E.n,data:{prePopulatedDefaultValue:r,propType:l,refField:e}}))))},[t,u,a,o,e,d,l,r])}function w(e){let t=n.useMemo(b.p1,[]),{hasExistingDefs:r}=(0,m.R)(r=>{let n=(0,y.Lg)(r);return{hasExistingDefs:!!t(r,n,e).length}}),i=n.useMemo(()=>(0,f.hx)(e),[e]);return r?(0,s.t)("design_systems.component_properties.apply_component_property",{propType:(0,f.xb)(i).toLocaleLowerCase()}):(0,s.t)("design_systems.component_properties.create_component_property_of_type",{propType:(0,f.xb)(i).toLocaleLowerCase()})}function A(e){var t;let r=(0,m.R)(e=>e.modalShown),i=n.useMemo(()=>(0,f.hx)(e),[e]),a=g.sD.concat("-",e),o=(0,d.U)(),l=!!o&&o.type===a&&o.data.nodeField===e,s=!!r&&r.type===E.n.type&&(null==(t=r.data)?void 0:t.propType)===i;return l||s}function C({nodeField:e,defaultValue:t,guids:r}){let i=n.useRef(null),s=T(e,r),c=A(e),d=S(e,i,t),u=w(e);return s?null:n.createElement(n.Fragment,null,n.createElement("div",{ref:i},n.createElement(h.YW,{recordingKey:o.Pt("applyPropRefButton",e),selected:c,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":u,onMouseDown:I,onClick:d},n.createElement(l.U,{svg:v.A},n.createElement(a.V,null)))),n.createElement(g.Xn,{source:f.Fv.ICON,nodeField:e,defaultValue:t}))}},25888:(e,t,r)=>{"use strict";r.d(t,{$F:()=>m,Jp:()=>d,UT:()=>u,z4:()=>p});var n=r(302245),i=r(848661),a=r(234945),o=r(224690),l=r(958317);let s=(0,n.Mz)([o.W0],e=>e.length>0),c=(0,n.Mz)([l.x1],e=>e.length>0),d=(0,n.Mz)([s,c],(e,t)=>e||t),u=(0,n.Mz)([a.F4],e=>{if(!e.length)return null;let t=new Set(e.map(e=>e.textContent)),[r]=t;return 1===t.size?r:i.oV});function p(){return(0,n.Mz)([(0,l.Cu)(),(0,o.Ee)()],(e,t)=>[...e,...t])}let m=(0,n.Mz)([l.x1,o.W0],(e,t)=>[...e,...t])},107244:(e,t,r)=>{"use strict";r.d(t,{C1:()=>d,Lg:()=>y,Ln:()=>F,Ms:()=>M,Nw:()=>g,PY:()=>x,QW:()=>f,Rk:()=>_,S8:()=>b,TJ:()=>D,UR:()=>O,VC:()=>E,Yw:()=>p,_k:()=>N,cv:()=>h,d:()=>k,nM:()=>B,od:()=>A,tK:()=>T,tO:()=>u,tc:()=>L});var n=r(302245),i=r(663668),a=r(469297),o=r(848661),l=r(416095),s=r(234945),c=r(273226);let d=e=>e.mirror.selectionProperties.componentProps,u=e=>e.mirror.selectionProperties.moduleProps,p=e=>e.mirror.selectionProperties.resettableComponentPropAssignments,m=(0,n.Mz)([s.dK,s.qd],U),_=(0,n.Mz)([s.dK,s.qd],function(e,t){return(0,c.xP)(t=>{var r;return null==(r=e.get(t))?void 0:r.containingModuleId},t)??void 0});function h(e){let{description:t,symbolDescription:r}=e.mirror.selectionProperties;return(0,o.gl)(t)||(0,o.gl)(r)?t??"":t&&t&&(t.startsWith("<")&&t.endsWith(">")||(0,i.U)(r)===t)?t:(0,o.gl)(r)?r:(0,i.U)(r??"")}let g=(0,n.Mz)([s.dK,s.qd],B),f=(0,n.Mz)([s.dK,s.qd],(e,t)=>{var r;let n=new Set;for(let i of t){let t=null==(r=e.get(i))?void 0:r.containingSymbolId;t&&n.add(t)}return Array.from(n)}),E=()=>(0,n.Mz)([s.dK,(e,t)=>t],(e,t)=>B(e,t)??U(e,t)),y=(()=>{let e=E();return t=>e(t,(0,s.qd)(t))})(),b=(0,n.Mz)([m,g],(e,t)=>e??t),v=()=>(0,n.Mz)([(e,t)=>t,s.dK],(e,t)=>{let r=(0,a.p)(e,e=>{let r=t.get(e);return!!r&&(0,l.LI)(r)});for(let n of e){let e=t.get(n),i=(null==e?void 0:e.containingStateGroupId)??(null==e?void 0:e.containingSymbolId);if(i&&i!==r)return}return r??void 0}),I=()=>(0,n.Mz)([(e,t)=>t,s.dK],(e,t)=>(0,a.p)(e,e=>{let r=t.get(e);return!!r&&(0,l.FS)(r)})??void 0);(()=>{let e=v();return t=>e(t,(0,s.qd)(t))})();let T=()=>(0,n.Mz)([E(),v()],(e,t)=>e??t),S=()=>(0,n.Mz)([I()],e=>e),w=(()=>{let e=T();return t=>e(t,(0,s.qd)(t))})(),A=(0,n.Mz)([w,s.dK],(e,t)=>e?t.get(e):null),C=(()=>{let e=S();return t=>e(t,(0,s.qd)(t))})(),N=(0,n.Mz)([C,s.dK],(e,t)=>e?t.get(e):null),O=(0,n.Mz)([d,s.qd],(e,t)=>{if(e)return(0,c.xP)(t=>{var r;return null==(r=e[t])?void 0:r.containingInstance},t)??void 0}),L=()=>(0,n.Mz)([d,(e,t)=>t],(e,t)=>{if(e)return(0,c.xP)(t=>{var r;return null==(r=e[t])?void 0:r.containingInstanceBackingSymbol},t)??void 0}),R=(0,n.Mz)([d,s.qd],(e,t)=>{if(e)return V(e,t)}),P=(0,n.Mz)([d,s.qd,s.dK],(e,t,r)=>{if(e)return H(e,t,r)}),k=()=>(0,n.Mz)([d,(e,t)=>t,s.dK],(e,t,r)=>{if(!e)return;let n=[];for(let e of t){let t=r.get(e);if(!t||t.isLooseComponent||t.isState||t.isStateGroup)return;t.symbolId&&n.push(e)}return H(e,n,r)??V(e,n)}),D=(0,n.Mz)([P,R],(e,t)=>t??e),M=()=>(0,n.Mz)([s.dK,(e,t)=>t],(e,t)=>t.some(t=>{var r;return(null==(r=e.get(t))?void 0:r.isInstanceSublayer)??!1})),x=(()=>{let e=M();return t=>e(t,(0,s.qd)(t))})(),F=(0,n.Mz)([s.F4],e=>e.some(e=>"SYMBOL"===e.type||!!e.isStateGroup));function U(e,t){return(0,c.xP)(t=>{var r;return null==(r=e.get(t))?void 0:r.containingSymbolId},t)??void 0}function B(e,t){return(0,c.xP)(t=>{var r;return null==(r=e.get(t))?void 0:r.containingStateGroupId},t)??void 0}function H(e,t,r){return(0,c.xP)(t=>{var n,i;let a=null==(n=e[t])?void 0:n.backingSymbol;if(a)return null==(i=r.get(a))?void 0:i.containingStateGroupId},t)??void 0}function V(e,t){return(0,c.xP)(t=>{var r,n;return(null==(r=e[t])?void 0:r.backingSymbol)??(null==(n=e[t])?void 0:n.containingInstanceBackingSymbol)},t)??void 0}},224690:(e,t,r)=>{"use strict";r.d(t,{$H:()=>N,Ee:()=>C,On:()=>T,Pe:()=>h,Tn:()=>S,W0:()=>y,en:()=>I,p1:()=>v,pN:()=>b,vS:()=>A});var n=r(302245),i=r(97395),a=r(96328),o=r(939863),l=r(848661),s=r(809511),c=r(112162),d=r(234945),u=r(731262),p=r(273226),m=r(107244);let _=(0,i.P8)([m.C1,(e,t)=>t],(e,t)=>{var r;return e&&t&&(null==(r=e[t])?void 0:r.defs)||{}});function h(){return(0,i.P8)([_],e=>Object.values(e).sort((e,t)=>e.sortPosition<t.sortPosition?-1:1))}let g=(0,i.P8)([m.C1,m.Lg],(e,t)=>{var r;return e&&t?(null==(r=e[t])?void 0:r.defs)??{}:{}}),f=(0,i.P8)([g],e=>Object.values(e).sort((e,t)=>e.sortPosition<t.sortPosition?-1:1).map(e=>e.name)),E=()=>(0,i.P8)([m.C1,(0,m.tK)(),(0,m.d)()],(e,t,r)=>{var n;let i=r??t;return e&&i?Object.values((null==(n=e[i])?void 0:n.defs)||{}).sort((e,t)=>e.sortPosition<t.sortPosition?-1:1):[]}),y=(()=>{let e=E();return t=>e(t,(0,d.qd)(t))})(),b=(0,n.Mz)([m.C1,d.qd,(e,t)=>t],(e,t,r)=>{if(e)return(0,p.xP)(t=>{var n,i;let a=null==(i=null==(n=e[t])?void 0:n.refs)?void 0:i[r];if((null==a?void 0:a.isLinked)===!1)return a.fallbackName},t)??void 0});function v(){return(0,i.P8)([_,(e,t,r)=>r],(e,t)=>{let r=(0,p.hx)(t),n=Object.values(e).filter(({type:e})=>e===r);return(0,a.DV)(n,e=>e.name.toLocaleLowerCase()),n})}let I=()=>(0,n.Mz)([m.C1,(0,m.VC)(),(0,m.tc)(),(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n,i)=>{var a,o,l,s,c;if(!e)return null;if(t){let r=(0,p.xP)(t=>{var r,n;let a=null==(n=null==(r=e[t])?void 0:r.refs)?void 0:n[i];if(null==a?void 0:a.isLinked)return a.explicitDefID},n);if(r)return(null==(o=null==(a=e[t])?void 0:a.defs)?void 0:o[r])||null}if(r){let t=[];for(let r of n){let n=null==(l=e[r])?void 0:l.correspondingSymbolSublayer;if(!n)return null;t.push(n)}let a=(0,p.xP)(t=>{var r,n;let a=null==(n=null==(r=e[t])?void 0:r.refs)?void 0:n[i];if(null==a?void 0:a.isLinked)return a.explicitDefID},t);if(a)return(null==(c=null==(s=e[r])?void 0:s.defs)?void 0:c[a])||null}return null});function T(){let e=I();return(t,r)=>e(t,(0,d.qd)(t),r)}let S=()=>(0,n.Mz)([m.C1,(e,t,r)=>t,(e,t,r)=>r],(e,t,r)=>!!e&&t.some(t=>{var n,i;return(null==(i=null==(n=e[t])?void 0:n.refs)?void 0:i[r])!==void 0})),w=()=>(0,i.P8)([m.C1,d.dK,(e,t)=>t],(e,t,r)=>{var n,i;if(!e||0===r.length)return{};let a=(0,p.k4)(r,t),o=(0,p.Yi)(r,t)??a;if(!o)return{};let l=Object.keys((null==(n=e[o])?void 0:n.defs)??{});if(0===l.length)return{};let s={};for(let n of l){let a=null;for(let o of r){let r=t.get(o);if((null==r?void 0:r.type)!=="INSTANCE")continue;let l=null==(i=e[r.guid])?void 0:i.assignments;if(!l)continue;let s=l[n];if(null!=s){if(s.isMixed){a={isMixed:!0};break}if(null===a)a={isMixed:!1,value:s.value};else if(a.value!==s.value){a={isMixed:!0};break}}}a&&(s[n]=a)}return s}),A=(0,n.Mz)([(e,t)=>t,(e,t,r)=>r,f,d.AF],(e,t,r,n)=>{if(e===s.J0O.BOOL&&t){let e=(null==n?void 0:n.name)?(0,o.t)("design_systems.component_properties.boolean_property_default_name",{selectedNodeName:n.name}):(0,o.t)("design_systems.component_properties.boolean_property_default_name_fallback",{numSelected:n?1:2});return(0,c.g)(e,r)}{let t=e===s.J0O.INSTANCE_SWAP?(0,o.t)("design_systems.component_properties.instance_swap_property_default_name"):(0,p.xb)(e);return(0,c.g)(t,r)}});function C(){return(0,i.P8)([d.dK,E(),w(),m.C1,(e,t)=>t],(e,t,r,n,i)=>{if(!n)return[];let a=(0,p.ZH)(i,n);return t.filter(e=>!a.has(e.explicitDefID)).map(t=>{let n=t.defaultValue;if(null!=r[t.explicitDefID]){let e=r[t.explicitDefID];n=e?e.isMixed?l.oV:null==e.value?u.xJ:e.value:u.xJ}if(t.type===s.J0O.INSTANCE_SWAP&&n!==u.xJ&&n!==l.oV){let t=(0,p.wd)([n],e);n=t&&(0,l.hS)(t)?t.name:u.xJ}return{name:t.name,value:n,type:t.type}})})}let N=()=>(0,n.Mz)([m.C1,m.Yw,d.dK,(e,t)=>t],(e,t,r,n)=>{var i,a;let o={};if(!e||!t)return o;for(let l of n)for(let n in t[l]){let s=null==(i=e[n])?void 0:i.backingSymbol;if(!s)continue;let c=(null==(a=r.get(s))?void 0:a.containingStateGroupId)||s;for(let e in o[c]||(o[c]={}),t[l][n])o[c][e]?o[c][e].instanceGUIDs.push(n):o[c][e]={name:t[l][n][e],instanceGUIDs:[n]}}return o})},958317:(e,t,r)=>{"use strict";r.d(t,{Cu:()=>h,Jm:()=>y,YH:()=>E,vf:()=>g,x1:()=>f});var n=r(302245),i=r(97395),a=r(939863),o=r(852800),l=r(848661),s=r(112162),c=r(234945),d=r(335691),u=r(731262),p=r(273226),m=r(510879),_=r(107244);function h(){return(0,i.P8)([u.uL,_.C1,c.dK,(e,t)=>t],(e,t,r,n)=>{var i;if(!t||0===n.length)return[];let s=(0,p.Yi)(n,r)??(0,_.nM)(r,n);if(!s||n.includes(s))return[];let c=null==(i=t[s])?void 0:i.stateGroupVariantProps;if(!c)return[];let d=(0,m.s)(t,n,c.propertySortOrder);return(c.propertySortOrder||[]).map(e=>{let t=!function(e){if(2===e.length){let t=e.map(e=>e.toLowerCase());for(let e of u.NE){let r=t.indexOf(e[0]),n=t.indexOf(e[1]);if(-1!==r&&-1!==n)return!0}}return!1}(c.propertyValues[e])?o.J0O.VARIANT:o.J0O.BOOL,r=d[e]||u.xJ;return(0,l.gl)(r)?{name:e,value:(0,a.t)("inspect_panel.property.mixed"),type:t}:{name:e,value:r,type:t}})})}let g=()=>(0,i.P8)([_.C1,(0,_.tK)(),(0,_.d)()],(e,t,r)=>{if(!e)return[];let n=r??t;return n?y(n,e):[]}),f=(()=>{let e=g();return t=>e(t,(0,c.qd)(t))})(),E=(0,n.Mz)([f],e=>{let t=e.map(e=>e.name),r=(0,a.t)("design_systems.component_properties.variant_property_default_name");return(0,s.g)(r,t)});function y(e,t){var r;let n=null==(r=t[e])?void 0:r.stateGroupVariantProps;if(!n)return[];let i=(0,p.aO)(e,t),a=(0,p.f3)(e,t);return n.propertySortOrder.map(e=>{let t=a===o.uXg.CONFLICTING_NAMES_WITH_VARIANT_ERROR&&i.some(t=>t.name===e),r=n.propertyValues[e];return{name:e,values:r,type:o.J0O.VARIANT,kind:d.u.VARIANT,error:t?o.uXg.CONFLICTING_NAMES_WITH_VARIANT_ERROR:o.uXg.NONE}})}},218973:(e,t,r)=>{"use strict";r.d(t,{$j:()=>w,Ht:()=>T,Jl:()=>x,M4:()=>M,Pd:()=>k,Se:()=>C,W4:()=>N,Zp:()=>D,dE:()=>O,fl:()=>v,gq:()=>S,ig:()=>A,j5:()=>b,qd:()=>L,vD:()=>I,w2:()=>P});var n=r(411855),i=r(243742),a=r(629019),o=r.n(a),l=r(939863),s=r(287010),c=r(973149),d=r(798099),u=r(848661),p=r(279702),m=r(498606),_=r(952675),h=r(205135),g=r(216899),f=r(221034),E=r(381011);let y={scrubMultiplier:1,wheelMultiplier:1,smallNudgeAmount:s.bA,bigNudgeAmount:s._q};function b(e){let{onValueChange:t}=e,r=(0,n.useCallback)(e=>null==t?void 0:t(e,p.zk.YES),[t]),i=e.isTokenizable?g.$:h.p_;return n.createElement(f.b,{...y,...e,scrubbingDisabled:e.scrubbingDisabled||e.disabled||null==e.value||e.value===u.oV&&!e.mixedMathHandler},e.childrenAtEnd?null:e.children,n.createElement(i,{onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,recordingKey:e.recordingKey,className:e.inputClassName,dataTestId:e.dataTestId,noLeftBorder:e.noLeftBorder,squareRightBorder:e.squareRightBorder,formatter:e.formatter,property:e.value??null,onMouseDown:d.dG,onChange:r,allowEmpty:e.allowEmpty,mixedMathHandler:e.mixedMathHandler,mixedMathCallback:e.mixedMathCallback,onFocus:e.onFocus,onBlur:e.onBlur,onClick:e.onClick,onMixedMathNudge:e.onMixedMathNudge,disabled:e.disabled??null===e.value,softDisabled:e.softDisabled,placeholder:e.placeholder,autoFocus:e.autoFocus,noBorderOnFocus:!0,forwardedRef:e.forwardedRef}),e.childrenAtEnd?e.children:null)}function v({onMouseEnter:e,onMouseLeave:t,onMouseEnterNonPropagating:r,...i}){let a={...y,...i,noBorderOnFocus:i.noBorderOnFocus||i.disableSelectFocus};return n.createElement("div",{className:i.className},n.createElement(_.a3,{id:i.id,inputClassName:i.inputClassName,dropdownClassName:i.dropdownClassName,dropdownWidth:i.dropdownWidth,willShowDropdown:i.willShowDropdown,formatter:i.formatter,property:i.value,onChange:(e,t=p.zk.YES)=>{var r;null==(r=i.onValueChange)||r.call(i,e,t)},onKeyDown:i.onKeyDown,onKeyUp:i.onKeyUp,onInputFocus:i.onFocus,onInputBlur:i.onBlur,onMouseEnter:e,onMouseEnterNonPropagating:r,onMouseLeave:t,mixedMathHandler:i.mixedMathHandler,dispatch:i.dispatch,disabled:i.disabled,dropdownShown:i.dropdownShown,autoFocus:i.autoFocus,recordingKey:i.recordingKey,scrubbableControlProps:a,svg:i.svg,fallbackSvg:i.fallbackSvg,icon:i.label,ui3Icon:i.ui3Icon,forwardedRef:i.forwardedRef,isTokenizable:i.isTokenizable,dataTestId:i.dataTestId,allowEmpty:i.allowEmpty,unNamespacedInputRecordingKey:i.unNamespacedInputRecordingKey,placeholder:i.placeholder,omitValueFromDropdown:i.omitValueFromDropdown,noPlaceholderLine:i.noPlaceholderLine,onboardingKey:i.onboardingKey,disableSelectFocus:i.disableSelectFocus,openBelowTarget:i.openBelowTarget,chevronClassName:i.chevronClassName,dropdownAlignment:i.dropdownAlignment,enablePreview:i.enablePreview,optionsWithDisabledPreviews:i.optionsWithDisabledPreviews},i.children))}function I(e){let{min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a,formatter:o}=e,l=(0,n.useMemo)(()=>new c.Lk({min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a}),[t,r,i,a]);return n.createElement(v,{...e,formatter:o??l})}function T(e){let{min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a}=e,o=(0,n.useMemo)(()=>new c.X9({min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a}),[t,r,i,a]);return n.createElement(b,{...e,formatter:o})}function S(e){let{min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a,onEvaluateExpressionError:o}=e,l=(0,n.useMemo)(()=>new c.Lk({min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a,onEvaluateExpressionError:o}),[t,r,i,a,o]);return n.createElement(b,{...e,formatter:l})}function w({min:e=0,max:t,floatingPointFormat:r,onEvaluateExpressionError:i,...a}){let{smallNudgeAmount:o,bigNudgeAmount:l}=a,s=(0,n.useMemo)(()=>new c.Lk({min:Math.max(e,0),max:t,smallNudgeAmount:o,bigNudgeAmount:l,floatingPointFormat:r,onEvaluateExpressionError:i}),[e,t,o,l,r,i]);return n.createElement(b,{...a,formatter:s})}function A({min:e=0,max:t,...r}){let{smallNudgeAmount:i,bigNudgeAmount:a}=r,o=(0,n.useRef)(!1),l=(0,n.useMemo)(()=>new c.NB({min:Math.max(e,0),max:t,smallNudgeAmount:i,bigNudgeAmount:a}),[e,t,i,a]),s=(0,u.gl)(r.value)&&r.mixedMathHandler,d=r.disabled||r.scrubbingDisabled||"number"!=typeof r.value&&!Array.isArray(r.value)&&!s,m=r.isTokenizable?g.$:h.p_;return n.createElement(f.b,{...y,...r,formatter:l,scrubbingDisabled:d,onScrubBegin:e=>{var t;o.current=!0,null==(t=r.onScrubBegin)||t.call(r,e)},onScrubEnd:e=>{var t;o.current=!1,null==(t=r.onScrubEnd)||t.call(r,e)},className:r.className},r.children,n.createElement(m,{forwardedRef:r.forwardedRef,disabled:r.disabled,className:r.inputClassName,formatter:l,property:r.value??null,source:o.current?"scrub":"document",onChange:e=>r.onValueChange(e,p.zk.YES),mixedMathHandler:r.mixedMathHandler,onMixedMathNudge:r.onMixedMathNudge,onBlur:r.onBlur,onFocus:r.onFocus,onNudge:r.onNudge,onKeyDown:r.onKeyDown,onClick:r.onClick,onPaste:r.onPaste,recordingKey:r.recordingKey,noBorderOnFocus:!0,shouldClearOnFocus:r.shouldClearOnFocus,placeholder:r.placeholder,dataTestId:r.dataTestId}))}function C({min:e,max:t,allowEmpty:r,...i}){let{smallNudgeAmount:a,bigNudgeAmount:o}=i,l=(0,n.useRef)(!1),s=(0,n.useMemo)(()=>new c.PZ({min:e,max:t,smallNudgeAmount:a,bigNudgeAmount:o,allowEmpty:r}),[e,t,a,o,r]),d=(0,u.gl)(i.value)&&i.mixedMathHandler,m=i.disabled||i.scrubbingDisabled||"number"!=typeof i.value&&!d,_=i.isTokenizable?g.$:h.p_;return n.createElement(f.b,{...y,...i,formatter:s,scrubbingDisabled:m,onScrubBegin:e=>{var t;l.current=!0,null==(t=i.onScrubBegin)||t.call(i,e)},onScrubEnd:e=>{var t;l.current=!1,null==(t=i.onScrubEnd)||t.call(i,e)},className:i.className},i.children,n.createElement(_,{forwardedRef:i.forwardedRef,disabled:i.disabled,className:i.inputClassName,formatter:s,property:i.value??null,source:l.current?"scrub":"document",allowEmpty:r,onChange:e=>i.onValueChange(e,p.zk.YES),mixedMathHandler:i.mixedMathHandler,onMixedMathNudge:i.onMixedMathNudge,onBlur:i.onBlur,onFocus:i.onFocus,onNudge:i.onNudge,onKeyDown:i.onKeyDown,onPaste:i.onPaste,recordingKey:i.recordingKey,noBorderOnFocus:!0,shouldClearOnFocus:i.shouldClearOnFocus,placeholder:i.placeholder,dataTestId:i.dataTestId}))}function N({min:e=.001,max:t=10,resolution:r=.001,...i}){let a=(0,n.useMemo)(()=>new c.ag(c.i5.MILLISECONDS,t,e),[t,e]);return n.createElement(b,{...i,resolution:r,formatter:a})}function O({min:e=.001,max:t=10,resolution:r=.001,...i}){let a=(0,n.useMemo)(()=>new c.ag(c.i5.SECONDS,t,e),[t,e]);return n.createElement(b,{...i,resolution:r,formatter:a})}function L({max:e=3600,displayFractions:t=!1,...r}){let i=(0,n.useMemo)(()=>new c.f0(e,t),[e,t]);return n.createElement(b,{...r,formatter:i})}let R={...y,scrubMultiplier:4,wheelMultiplier:2};function P({min:e=0,max:t=1,decimals:r,hidePercentSign:i,...a}){let{smallNudgeAmount:o,bigNudgeAmount:l}=a,s=(0,n.useMemo)(()=>new c.LN({min:e,max:t,smallNudgeAmount:o,bigNudgeAmount:l,decimals:r,hidePercentSign:i}),[e,t,o,l,r,i]);return n.createElement(b,{...R,...a,formatter:s,postScrubMultiplier:.001,postBigNudgeAmount:.1})}function k(e){let t="ui3"===(0,i.DP)().version,{inputClassName:r,...a}=e,s=e.ui3RightJustifyPercentSign??!0;return t?n.createElement(P,{...a,inputClassName:o()(r,{[E.Ww]:s}),"data-tooltip-type":m.Ib.TEXT,"data-tooltip":(0,l.t)("fullscreen.scrubbable.opacity"),hidePercentSign:s,childrenAtEnd:s},s?n.createElement("span",{className:E.QK},n.createElement(l.Tx,{id:"fullscreen.scrubbable.percent"})):e.children):n.createElement(P,{...e,"data-tooltip-type":m.Ib.TEXT,"data-tooltip":(0,l.t)("fullscreen.scrubbable.opacity"),tooltipForScreenReadersOnly:!0})}function D(e){let{smallNudgeAmount:t,bigNudgeAmount:r}=e,i=(0,n.useMemo)(()=>new c.cu({smallNudgeAmount:t,bigNudgeAmount:r}),[t,r]);return n.createElement(b,{...e,formatter:i,postScrubMultiplier:-.5,postWheelMultiplier:-.2,postBigNudgeAmount:.1})}function M(e){let t=(0,n.useMemo)(()=>new c.cu({min:7.16,max:180}),[]);return n.createElement(b,{...e,formatter:t,postScrubMultiplier:.5,postBigNudgeAmount:.1,postWheelMultiplier:.2})}function x(e){let{min:t,smallNudgeAmount:r=s.bA,bigNudgeAmount:i=s._q,formatter:a}=e,o=(0,n.useRef)(!1),l=(0,n.useMemo)(()=>a??new c.h7({min:t,smallPixelNudgeAmount:r,bigPixelNudgeAmount:i}),[t,r,i,a]),d=e.isTokenizable?g.$:h.p_;return n.createElement(f.b,{...y,"data-tooltip-type":e["data-tooltip-type"],"data-tooltip":e["data-tooltip"],tooltipForScreenReadersOnly:e.tooltipForScreenReadersOnly,className:e.className,value:e.value,onValueChange:e.onValueChange,smallNudgeAmount:r,bigNudgeAmount:i,scrubMultiplier:e.scrubMultiplier,disabled:e.disabled,scrubbingDisabled:e.disabled,dispatch:e.dispatch,formatter:l,onScrubBegin:()=>{o.current=!0},onScrubEnd:()=>{o.current=!1},noBorderOnHover:e.noBorderOnHover},e.children,n.createElement(d,{disabled:e.disabled,className:e.inputClassName,formatter:l,property:e.value,source:o.current?"scrub":"document",onChange:t=>e.onValueChange(t,p.zk.YES),recordingKey:e.recordingKey,noBorderOnFocus:!0,shouldClearOnFocus:e.shouldClearOnFocus,placeholder:e.placeholder}))}},760066:(e,t,r)=>{"use strict";r.d(t,{JQ:()=>w,sA:()=>S,sJ:()=>T});var n=r(411855),i=r(464137),a=r(629019),o=r.n(a),l=r(966712),s=r(255942),c=r(153234),d=r(574176),u=r(939863),p=r(13379),m=r(869156),_=r(318812),h=r(498606),g=r(282263),f=r(683859),E=r(893606),y=r(550624),b=r(461313),v=r(5068);let I=n.forwardRef(function({children:e,disabled:t,icon:r,inputClassName:i,isActive:a,nonTextChild:l,noBorder:s,onMouseDownCapture:c,onContextMenuCapture:d},u){return n.createElement("div",{ref:u,className:o()(i,{[b.mc]:!0,[b.vu]:a,[b.KH]:!s,[b.r9]:t,[b.fE]:l}),onMouseDownCapture:c,onContextMenuCapture:d},n.createElement("div",{className:b.I6},e),!t&&r)}),T=n.forwardRef(function({inputClassName:e,inputRef:t,currentFieldValue:r,recordingKey:a,disabled:p,children:m,hideIcon:g=!1,nonTextChild:T,isActive:S,onPickerOpen:w,disableEntryPoint:A=!1,noBorder:C,hasBindingContextMenu:N},O){var L,R;let P=n.useId(),k=(0,n.useContext)(f.p),D=null==k?void 0:k.boundVariableId,M=(0,n.useRef)(null),x=(0,E.R)(),{showing:F,show:U,data:B,hide:H}=(0,_.B)(y.v+P),V=n.useCallback(()=>{w?w():null==k||k.showBindingUI(M.current,{currentFieldValue:r}),H()},[r,H,w,k]),G=n.useCallback(()=>{var e;null==(e=null==k?void 0:k.onVariableSelected)||e.call(k,void 0),H()},[H,k]),W=c.rf(a,"mousedown",e=>{if(e&&!A&&e.shiftKey){V(),e.preventDefault(),e.stopPropagation();return}}),K=c.rf(a,"contextmenu",e=>{e&&!A&&N&&(null==t?void 0:t.current)&&(U({data:{position:{top:e.clientY,left:e.clientX}}}),e.preventDefault(),e.stopPropagation())});return n.createElement(n.Fragment,null,n.createElement(I,{recordingKey:a,inputClassName:e,disabled:p,isActive:null!=S?S:!!(null==k?void 0:k.isShowingBindingUI),ref:(0,s.A)(O,M),onMouseDownCapture:W,onContextMenuCapture:K,nonTextChild:T,noBorder:C,icon:g||A?null:D&&(0,l.kc)().variables_quick_detach?n.createElement("div",{className:b.AM,role:"button",tabIndex:0,"data-tooltip-type":h.Ib.TEXT,"data-tooltip":(0,u.t)("variables.binding_ui.detach_variable_tooltip"),"aria-label":(0,u.t)("variables.binding_ui.detach_variable_tooltip"),onClick:G},n.createElement(i.o,{className:b.HQ})):n.createElement(d.B,{recordingKey:c.Pt(a,"comboBoxButton"),className:o()(b.Kk),role:"button",ariaLabel:(0,u.t)("fullscreen.properties_panel.apply_variable"),"data-tooltip-type":x?h.Ib.TEXT:void 0,"data-tooltip":x?(0,u.t)("fullscreen.properties_panel.apply_variable"):void 0,svg:v.default,onClick:V,dataTestId:c.Pt("variable-control-icon",a??"")})},m),N&&t&&F&&"number"==typeof(null==(L=null==B?void 0:B.position)?void 0:L.top)&&"number"==typeof(null==(R=null==B?void 0:B.position)?void 0:R.left)&&n.createElement(y.G,{inputRef:t,isBound:!!(null==k?void 0:k.boundVariableId),left:B.position.left,onClose:H,onOpenVariablePicker:V,onUnbindVariable:G,recordingKey:c.Pt(a,"contextMenu"),top:B.position.top}))});function S({fields:e,currentFieldValue:t,resolvedType:r,editingStyleGuid:i,inputClassName:a,inputRef:o,disabled:l,recordingKey:s,disableEntryPoint:c,hideIcon:d,noBorder:u,children:p,hasBindingContextMenu:_}){let h=(0,m.SG)(e).data??[];return n.createElement(g._X,{fields:e,resolvedType:r,editingStyleGuid:i},n.createElement(T,{recordingKey:s,inputClassName:a,inputRef:o,disabled:l,currentFieldValue:t,disableEntryPoint:!!c||0===h.length,hideIcon:d,noBorder:u,hasBindingContextMenu:_},p))}let w=n.forwardRef(function({currentFieldValue:e,disabled:t,isActive:r,recordingKey:i,children:a,onPickerOpen:l,dataTestId:d},u){let m=(0,n.useContext)(f.p),_=(0,n.useRef)(null),h=n.useCallback(()=>{l?l():null==m||m.showBindingUI(_.current,{currentFieldValue:e})},[e,l,m]),g=c.rf(i,"mousedown",e=>{if(e&&!t){if((0,p.i)(e)){e.preventDefault(),e.stopPropagation();return}if(e.shiftKey&&1&e.buttons){h(),e.preventDefault(),e.stopPropagation();return}}}),E=c.rf(i,"contextmenu",e=>{e&&!t&&(h(),e.preventDefault(),e.stopPropagation())});return n.createElement("div",{ref:(0,s.A)(u,_),className:o()({[b.jX]:!0,[b.NH]:r}),onMouseDownCapture:g,onContextMenu:E,"data-testid":d},a)})},433546:(e,t,r)=>{"use strict";r.d(t,{jJ:()=>p,wH:()=>u});var n=r(411855),i=r(188507),a=r(517333),o=r(931828),l=r(309798);function s(e){switch(e){case"default":return"color_management_desktop_app_setting_default";case"unmanaged":return"color_management_desktop_app_setting_unmanaged";case"managed":return"color_management_desktop_app_setting_managed";case"srgb":return"color_management_desktop_app_setting_srgb"}}function c(e,t){return e.getState().userFlags[t]}function d(e,t,r){let{isDefault:n,isManaged:i,isSrgb:a,isUnmanaged:l}=t,c={};n&&"default"!==r&&(c.color_management_desktop_app_setting_default=!1),l&&"unmanaged"!==r&&(c.color_management_desktop_app_setting_unmanaged=!1),i&&"managed"!==r&&(c.color_management_desktop_app_setting_managed=!1),a&&"srgb"!==r&&(c.color_management_desktop_app_setting_srgb=!1);let d=n&&"default"===r||l&&"unmanaged"===r||i&&"managed"===r||a&&"srgb"===r;void 0===r||d||(c[s(r)]=!0),Object.keys(c).length>0&&e(o.b(c))}function u(e){var t;if(!a.eD)return;let r=null==(t=a.eD)?void 0:t.getLegacyColorSpacePreference();d(e.dispatch,{isDefault:!!c(e,s("default")),isUnmanaged:!!c(e,s("unmanaged")),isManaged:!!c(e,s("managed")),isSrgb:!!c(e,s("srgb"))},r)}function p(){let e=!!(0,l.f)(s("default")),t=!!(0,l.f)(s("unmanaged")),r=!!(0,l.f)(s("managed")),a=!!(0,l.f)(s("srgb")),o=(0,i.wA)(),c=n.useCallback(n=>{d(o,{isDefault:e,isUnmanaged:t,isManaged:r,isSrgb:a},n)},[o,e,r,a,t]),u=null;return e&&(u="default"),t&&(u="unmanaged"),r&&(u="managed"),a&&(u="srgb"),[u,c]}},91564:(e,t,r)=>{"use strict";r.d(t,{$z:()=>f,IX:()=>g,ZH:()=>E});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(946689),s=r(762638),c=r(939863),d=r(67294),u=r(291099),p=r(27703),m=r(694687),_=r(586025),h=r(463480),g=(e=>(e[e.LARGE=0]="LARGE",e[e.MEDIUM=1]="MEDIUM",e[e.SMALL=2]="SMALL",e))(g||{});function f({size:e=1,useCurrentFileAsThumbnail:t=!1}){var r;let a=(0,m.sZ)(),l=(0,i.d4)(e=>e.user),s=(0,i.d4)(e=>e.openFile),c=null==s?void 0:s.key,u=(0,p.ud)(),g={modalGraphic:h.Xs,orgAvatar:h.DH,userAvatar:h._5,exampleFileThumbnail:h.eO,thumbnailContainer:h.jI,avatar:h.hq,thumbnailInnerContainer:h.ac},f={modalGraphic:h.tb,orgAvatar:h.NQ,userAvatar:h.cY,exampleFileThumbnail:h.Id,thumbnailContainer:h.pR,avatar:h.F0,thumbnailInnerContainer:h.rr},E={2:{modalGraphic:h.oK,orgAvatar:h.wz,userAvatar:h.D0,exampleFileThumbnail:h.xe,thumbnailContainer:h.Yc,avatar:h.KM,thumbnailInnerContainer:h.rr},1:f,0:g}[e],y=n.createElement("img",{src:"https://static.figma.com/uploads/b13789723ab5e9138ab263193f7d82aff4c47674",alt:"",className:h.fP});if(void 0!==c&&t){let e=null==(r=u[c])?void 0:r.thumbnail_url;e&&(y=n.createElement("img",{src:e,alt:"",className:h.fP}))}return n.createElement("div",{className:E.modalGraphic},n.createElement("img",{src:"https://static.figma.com/uploads/f290b00b2b225be3eb5056cb4473d87953764837",alt:"",className:E.exampleFileThumbnail}),l&&n.createElement(_.n,{className:o()(E.avatar,E.orgAvatar),userId:l.id,orgId:null==a?void 0:a.id,size:2===e?16:1===e?24:32}),l&&n.createElement("div",{className:o()(E.avatar,E.userAvatar)},n.createElement(d.H8,{user:l,size:2===e?d.Pf.SMALL16:1===e?d.Pf.MEDIUM:d.Pf.LARGE})),n.createElement("div",{className:E.thumbnailContainer},n.createElement("div",{className:E.thumbnailInnerContainer},y)))}function E(){return n.createElement("div",null,n.createElement(f,{size:0,useCurrentFileAsThumbnail:!0}),n.createElement("div",{className:s.cx.p16.font11.$},n.createElement(c.Tx,{id:"whiteboard.inserts.custom_templates_description"})),n.createElement("div",{className:s.cx.flex.justifyEnd.mx16.mb16.$},n.createElement(l.rb,{target:"_blank",href:u.A},n.createElement(c.Tx,{id:"whiteboard.inserts.learn_more"}))))}},325746:(e,t,r)=>{"use strict";r.d(t,{$j:()=>d,C3:()=>_,EW:()=>c,LW:()=>m,QN:()=>p,eh:()=>l,yk:()=>u});var n=r(288706),i=r(38580),a=r(374626),o=r(646240),l=(e=>(e.STICKY="STICKY",e.STAMP="STAMP",e.PAN="PAN",e.ZOOM="ZOOM",e))(l||{});let s=Object.values(l),c=(0,n.um)({onboardingCanShow:!1,shownTooltips:new Set(s)},(e,t)=>{switch(t.type){case"INITIALIZE_ONBOARDING":{let t=new Set(s);return{...e,onboardingCanShow:!0,shownTooltips:t}}case"DISMISS_ONBOARDING":return{...e,shownTooltips:new Set};case"DISMISS_TOOLTIP":{let r=new Set([...e.shownTooltips]);return r.delete(t.tooltip),{...e,shownTooltips:r}}case"SHOW_TOOLTIP":{let r=new Set([...e.shownTooltips]);return r.add(t.tooltip),{...e,shownTooltips:r}}}}),d=(0,i.eU)(e=>{let{onboardingCanShow:t,shownTooltips:r}=e(c);return t&&!r.size});function u(e){let t=(0,a.md)(c);return t.onboardingCanShow&&t.shownTooltips.has(e)}function p(e){let t=(0,a.md)(c);return t.onboardingCanShow&&!t.shownTooltips.has(e)}function m(){return(0,a.md)(c).onboardingCanShow}function _(){let e=(0,o.Xr)(c);return()=>{e({type:"DISMISS_TOOLTIP",tooltip:"PAN"}),e({type:"DISMISS_TOOLTIP",tooltip:"ZOOM"})}}},161074:(e,t,r)=>{"use strict";r.d(t,{SS:()=>s,Uj:()=>l,ZQ:()=>a,zP:()=>o});var n=r(852800);function i(){return new Date(Date.now()-6e4)}function a(e){return null!==e&&e.createdAt>i()}function o(e){return[n.NLJ.NONE,n.NLJ.SELECT].includes(e)}function l(e,t){return t===(null==e?void 0:e.creatorId)}function s(e){return!!e&&e.createdAt>i()}},776008:(e,t,r)=>{"use strict";r.d(t,{E:()=>o,f:()=>a});var n=r(314866);let i=()=>Date.now()-12096e5;function a({userCreatedAt:e,lastUsedFigjamDate:t,hasSeenOverlayV2:r}){return!!(e.getTime()<=i()&&(null==t||t.getTime()<=i()))&&!r}function o(e,t=[]){return null==e.data||t.includes(e.data)||!n.s_.includes(e.data)?"other":e.data}},844647:(e,t,r)=>{"use strict";r.d(t,{$:()=>w,A:()=>O});var n=r(411855),i=r(188507),a=r(320063),o=r(38580),l=r(374626),s=r(646240),c=r(931828),d=r(456104),u=r(594524),p=r(502665),m=r(683694),_=r(723239),h=r(582947),g=r(205548),f=r(335682),E=r(397065),y=r(143678),b=r(916108),v=r(218997),I=r(660280),T=r(15839),S=r(463546);let w=(0,o.eU)(!1),A=()=>new Date(Date.now()-1e4),C="Move Drafts Nudge -",N=(0,h.r1)("dismissed_move_drafts_nudge");function O(){let e=(0,l.md)(f.yV),t=(0,l.md)(_.d2),r=(0,l.md)(h.qG),o=(0,l.md)(m.pQ),O=(0,l.md)(_.t),L=(0,l.md)(m.JM),R=(0,l.md)(p.N),P=(0,l.md)(N),k=(0,s.Xr)(w),D=(0,d.e)({overlay:S.nWd,priority:E.N.SECONDARY_MODAL},[R,t,r,o,O,L,P]),{currentStep:M,next:x}=(0,u.A)({numSteps:2,onComplete:D.complete}),F=(0,i.wA)();return(0,a.h)(()=>{null!=e&&e.canEdit&&e.createdAt>A()&&D.show({canShow:(e,t,r,n,i,a,o)=>t===y.qo.PERSONAL&&a&&n&&!(0,g.jj)(r,"ran_move_drafts_nudge_machine")&&(F(c.b({ran_move_drafts_nudge_machine:!0})),!0)&&!o&&!!i&&!!e,onShow:()=>{k(!0)}})}),n.createElement(b.U,{currentStep:M,isShowing:D.isShowing},n.createElement(v.h,{isShowing:D.isShowing,modalType:T.q3.SELF_CONTAINED,trackingContextName:`${C} Main nudge`,element:I.yP,onClickPrimaryCta:x,onManualDismiss:D.complete,testId:"move_drafts_main_nudge",onClose:D.complete}),n.createElement(v.h,{isShowing:D.isShowing,modalType:T.q3.SELF_CONTAINED,trackingContextName:`${C} Dropdown highlight`,element:I.Iy,onClickPrimaryCta:x,onManualDismiss:D.complete,onClose:D.complete}))}},288527:(e,t,r)=>{"use strict";r.d(t,{F:()=>I,s:()=>v});var n=r(411855),i=r(188507),a=r(374626),o=r(931828),l=r(251960),s=r(456104),c=r(683694),d=r(723239),u=r(582947),p=r(205548),m=r(279453),_=r(397065),h=r(143678),g=r(218997),f=r(660280),E=r(15839),y=r(463546),b=r(844647);let v="Node Count Reached for Draft";function I(){let e=(0,n.useRef)(!1),t=(0,a.md)(c.wg),r=(0,a.md)(c.pQ),I=(0,a.md)(d.t),T=(0,a.md)(c.JM),S=(0,a.md)(d.d2),w=(0,a.md)(u.qG),A=(0,a.md)(b.$),C=(0,a.md)((0,m.RIo)({orgId:null})),N=(0,i.wA)(),O=(0,i.d4)(e=>{var t,r,n;let i=null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentPage,a=null==(n=null==e?void 0:e.mirror)?void 0:n.sceneGraph,o=null==a?void 0:a.get(i);return!!o&&(!o.childrenNodes.length||o.childrenAreAllGhosts)}),L=(0,s.e)({overlay:y.r4m,priority:_.N.SECONDARY_MODAL},[I,r,T,S,w,C]),R=(0,n.useCallback)(()=>{!t||e.current||A||O||L.show({canShow(e,t,r,n,i,a){var l,s;let c=0===((null==(s=null==(l=null==a?void 0:a.currentUser)?void 0:l.teamEditRoles)?void 0:s.map(e=>e.team))??[]).filter(e=>e&&e.projects&&e.projects.length>0).length;return e&&t&&r&&n===h.qo.PERSONAL&&!c&&!(0,p.mW)(i,"ran_move_drafts_nudge_v2_num_3")&&((0,p.mW)(i,"ran_move_drafts_nudge_v2_num_2")?!(0,p.jj)(i,"ran_move_drafts_nudge_v2_num_2")&&(N(o.b({ran_move_drafts_nudge_v2_num_3:!0})),!0):(0,p.mW)(i,"ran_move_drafts_nudge_v2_num_1")?!(0,p.jj)(i,"ran_move_drafts_nudge_v2_num_1")&&(N(o.b({ran_move_drafts_nudge_v2_num_2:!0})),!0):(N(o.b({ran_move_drafts_nudge_v2_num_1:!0})),!0))},onShow(){e.current=!0}})},[t,O,N,A,L]),P=(0,n.useCallback)(({dismissModal:e,onClickPrimaryCta:t})=>n.createElement(f.hA,{dismissModal:e,onClickPrimaryCta:t}),[]);return(0,l.E)(L.uniqueId,v,R),n.createElement(g.h,{isShowing:L.isShowing,modalType:E.q3.SELF_CONTAINED,trackingContextName:"Move Drafts Nudge - Team nudge",element:P,onClickPrimaryCta:()=>{N(o.b({ran_move_drafts_nudge_v2_num_3:!0})),L.complete()},onClose:L.complete,onManualDismiss:L.complete})}},888699:(e,t,r)=>{"use strict";r.d(t,{aG:()=>s,l5:()=>l,tX:()=>a,w:()=>o});var n=r(38580),i=r(794321),a=(e=>(e.NOT_STARTED="NOT_STARTED",e.MODAL_SHOWING="MODAL_SHOWING",e.USE_CASE_STEPS="USE_CASE_STEPS",e.COMPLETED="COMPLETED",e))(a||{});let o=(0,n.eU)("NOT_STARTED"),l=(0,n.eU)(i.fD.NONE),s=(0,n.eU)(!1)},992303:(e,t,r)=>{"use strict";r.d(t,{KX:()=>k,ko:()=>N,zM:()=>C});var n=r(411855),i=r(188507),a=r(939863),o=r(501114),l=r(809840),s=r(332034),c=r(693897),d=r(809831),u=r(226055),p=r(251960),m=r(456104),_=r(335682),h=r(239671),g=r(397065),f=r(340514),E=r(123749),y=r(157147),b=r(746806),v=r(601538),I=r(463546),T=r(178911);let S=y.sY,w=T.yl,A=e=>e?v.ON:s.e,C="open-playground-file-onboarding-event",N="open-playground-file-click-event";function O(){let e=(0,i.d4)(e=>e.selectedView),t=n.createElement(l.E,{i18nId:"rcs.playground_file.ready_to_try",fontWeight:"bold"});return n.createElement("p",{style:o.sx.add({animation:"none"}).$},e.isWidget?n.createElement(a.Tx,{id:"rcs.playground_file.ready_to_try.widget",readyToTry:t}):n.createElement(a.Tx,{id:"rcs.playground_file.ready_to_try.plugin",readyToTry:t}))}function L(){return n.createElement("div",{style:o.sx.add({animation:"none"}).$},n.createElement(a.Tx,{id:"rcs.playground_file.switch_devmode_to_design_description"}))}let R=n.createElement(a.Tx,{id:"rcs.playground_file.switch_devmode_to_design_title"});function P(e){let t,r,i,a;switch(e.fullscreenEditorType){case h.nT.DevHandoff:t="Open Playground File Onboarding Nudge (DevMode)",r=A(e.isUI3),i=L,a=R;break;case h.nT.Whiteboard:t="Open Playground File Onboarding Nudge (FigJam)",r=w,i=O;break;case h.nT.Design:default:t="Open Playground File Onboarding Nudge (Figma)",r=S,i=O}return n.createElement(f.rq,{testId:"OpenPlaygroundFileOverlay",title:a,description:i(),targetKey:r,trackingContextName:t,width:290,shouldCenterArrow:b.EL.FALLBACK,isShowing:e.isShowing,onClose:e.onClose,disableHighlight:!0,emphasized:!0})}function k(){let e=(0,m.e)({overlay:I._v_,priority:g.N.SECONDARY_MODAL}),t=(0,_.q5)(),r=(0,d.E3)();(0,p.E)(e.uniqueId,C,()=>{(null==t?void 0:t.canEdit)&&e.show()}),(0,p.E)(e.uniqueId,[T.Vc,N,"action_open_universal_insert_collage_modal",c.L3],()=>{e.complete()});let i=(0,u.GS)();return!t||(0,E.RM)()?null:n.createElement(P,{onClose:e.complete,fullscreenEditorType:r,isShowing:e.isShowing,isUI3:i})}},384303:(e,t,r)=>{"use strict";r.d(t,{Wk:()=>b,oE:()=>h,zK:()=>_});var n=r(411855),i=r(374626),a=r(939863),o=r(251960),l=r(456104),s=r(582947),c=r(397065),d=r(218997),u=r(78129),p=r(15839),m=r(463546);let _="plugin-publish-invite-publishers-onboarding-event",h="plugin-publish-invite-publishers-click-event",g="seen_plugin_publish_invite_publishers_onboarding",f=(0,s.r1)(g),E=()=>(0,a.t)("rcs.plugin_publish.work_with_other_developers");function y(){return n.createElement("p",null,n.createElement(a.Tx,{id:"rcs.plugin_publish.if_anyone_helped"}))}function b(){let e=(0,i.md)(f),t=(0,l.e)({overlay:m.qw_,priority:c.N.SECONDARY_MODAL},[e]);return(0,o.E)(t.uniqueId,_,()=>{t.show({canShow:e=>!e})}),(0,o.E)(t.uniqueId,[h,"Lost DOM Target"],()=>{t.complete()}),n.createElement(d.h,{isShowing:t.isShowing,modalType:p.q3.ANNOUNCEMENT_POINTER,trackingContextName:"Plugin Publish Invite Publishers Onboarding Modal",element:y,title:E,onboardingKey:u.k,userFlagOnShow:g,width:300,onClickPrimaryCta:t.complete,onClose:t.complete,onManualDismiss:t.complete})}},780950:(e,t,r)=>{"use strict";r.d(t,{vh:()=>S,vw:()=>w,fD:()=>O,S0:()=>k,py:()=>A,rF:()=>N,W_:()=>C});var n=r(411855),i=r(188507),a=r(320063),o=r(374626),l=r(939863),s=r(226055),c=r(298527),d=r(456104),u=r(696673),p=r(582947),m=r(177505),_=r(335682),h=r(309798),g=r(833629),f=r(601607),E=r(397065),y=r(402609),b=r(340514),v=r(746806),I=r(463546);let T="presets_components_and_assets_panel_nudge--hiddenNuxAnchor--enG-b",S="presets_baseline_nudge_onboarding_key",w="presets_existing_onboarding_key",A="seen_presets_baseline_nudge",C="seen_presets_existing_users_popup",N="seen_presets_baseline_multistep",O="presets_try_it_clicked",L=(0,p.r1)(A),R=(0,p.r1)(N);function P({scrollToPreset:e}){var t;let r=(0,c.Ke)(),p=(0,o.md)(L),y=(0,o.md)(R),T=(0,s.GS)(),{show:N,isShowing:P,complete:k}=(0,d.e)({overlay:I.X4W,priority:E.N.SECONDARY_MODAL,experiment:{check:r,predicate:e=>e,postCheck:(e,t)=>!e&&!t}},[p,y]),D=(0,u.bH)(),M=(0,g.jO)(),x=null==(t=(0,_.q5)())?void 0:t.canEdit,F=(0,i.d4)(e=>e.mirror.appModel.currentPage),U=(0,f.Fk)((e,t)=>(0,m.zC)(e,t),F),B=(0,h.f)(O);(0,a.h)(()=>{M&&x&&D&&(B?N({onShow:e}):U||N())});let H=(0,h.f)(C);return n.createElement(b.rq,{isShowing:P,targetKey:B?w:S,trackingContextName:"Presets Baseline Nudge",userFlagOnShow:A,onClose:k,arrowPosition:v.F_.LEFT_TITLE,emphasized:!0,disableHighlight:!0,description:n.createElement("div",{style:T?void 0:{width:"236px",color:"var(--color-text-onbrand)",letterSpacing:"0.055px"}},H?n.createElement(l.Tx,{id:"rcs.presets_baseline.find_templates"}):n.createElement(l.Tx,{id:"rcs.presets_baseline.get_to_polished_designs"}))})}function k({width:e,scrollToPreset:t}){let r=(0,s.GS)();return n.createElement(y.p,{featureFlag:"presets_baseline"},n.createElement("div",{style:{left:`${e}px`,top:r?"240px":"134px"},className:T,"data-onboarding-key":S}),n.createElement("div",{style:{left:`${e}px`,top:"230px"},className:T,"data-onboarding-key":w}),n.createElement(P,{scrollToPreset:t}))}},365218:(e,t,r)=>{"use strict";r.d(t,{MV:()=>N,Rm:()=>R,Ss:()=>P,m_:()=>L});var n=r(411855),i=r(188507),a=r(374626),o=r(939863),l=r(293017),s=r(931828),c=r(101505),d=r(251960),u=r(298527),p=r(456104),m=r(696673),_=r(582947),h=r(852800),g=r(373119),f=r(335682),E=r(309798),y=r(833629),b=r(58032),v=r(397065),I=r(394828),T=r(740280),S=r(864114),w=r(788256),A=r(463546),C=r(780950);let N="user_switched_to_assets_panel",O=(0,_.r1)(C.W_);function L(e){return!!e.data&&e.data.some(e=>!e.name.includes("Kit by Figma"))}function R(e){return!!e.data&&e.data.some(e=>!e.name.includes("Kit by Figma")&&e.numComponents>=15)}function P(){var e;let t=(0,u.Ke)(),r=(0,a.md)(O),{uniqueId:_,isShowing:L,complete:P,show:k}=(0,p.e)({overlay:A.MbD,priority:v.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:e=>!e}},[r]),D=(0,i.wA)(),M=(0,g.q)(),x=!!(0,E.f)(C.py),F=(0,b.je)(),U=(0,m.bH)(),B=(0,y.jO)(),H=null==(e=(0,f.q5)())?void 0:e.canEdit,V=(0,i.d4)(e=>e.mirror.sceneGraph),G=M&&(0,w.Qf)(V),W=!!G&&0===G.childrenGuids.length;return(n.useEffect(()=>{H&&U&&null!=V&&!x&&!R(F)&&B&&M&&!L&&W&&k()},[V,W,k,x,F,B,M,L,H,U]),(0,d.E)(_,N,()=>{B&&H&&U&&(L?(setTimeout(()=>D(s.b({[C.fD]:!0}))),P()):r.data&&!x&&setTimeout(()=>D(s.b({[C.py]:!0}))))}),L)?n.createElement(T.X,{isShowing:L,title:n.createElement(o.Tx,{id:"rcs.presets_baseline.start_your_designs"}),description:n.createElement(o.Tx,{id:"rcs.presets_baseline.make_polished_designs"}),media:n.createElement(I.y,{aspectRatio:300/169,alt:"A video of a cursor clicking into the assets panel and dragging in a library component",src:"https://static.figma.com/uploads/9c1bb1eda8c5c263c3fbeb5353f30738da94ec39"}),primaryCta:{label:n.createElement(o.Tx,{id:"rcs.presets_baseline.try_it"}),type:"button",onClick:()=>{D(s.b({[C.fD]:!0})),D(l.FP({tab:h.xae.ASSETS})),P()},ctaTrackingDescriptor:c.c.PRESETS_TRY_IT},position:S.Q.EDITOR_TOP_LEFT,trackingContextName:"Presets Baseline Existing User Popup",userFlagOnShow:C.W_,onClose:P}):null}},440377:(e,t,r)=>{"use strict";r.d(t,{b1:()=>u,b7:()=>d});var n=r(411855),i=r(517333),a=r(966712),o=r(286640),l=r(330654);let s="desktop-new-tab-plan-space",c=l.object({userId:l.string(),orgId:l.string().nullish(),teamId:l.string().nullish(),timestamp:l.number()});function d(e){let t=o.x4;t&&t.setItem(s,JSON.stringify({...e,timestamp:Date.now()}))}function u(){(0,n.useEffect)(()=>{var e,t;let r=(null==(e=(0,a.Ay)().user_data)?void 0:e.id)||void 0,n=(0,a.Ay)().org_id,l=(0,a.Ay)().team_id;if(!i.eD||i.eD.getVersion()>=103||n&&!l)return;let d=e=>{let t;if(e){try{t=c.parse(JSON.parse(e))}catch(e){return}t.userId===r&&null==t.orgId&&(t.teamId??null)!==(l??null)&&Date.now()-t.timestamp<1e4&&(window.location.href=`/desktop_new_tab?fuid=${t.userId}&team_id=${t.teamId}`)}},u=e=>{e.key===s&&d(e.newValue)};return d(null==(t=o.x4)?void 0:t.getItem(s)),window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}},[])}},394828:(e,t,r)=>{"use strict";r.d(t,{w:()=>s,y:()=>l});var n=r(411855),i=r(762638),a=r(501114),o=r(226055);function l(e){let t=(0,o.GS)();return n.createElement("div",{style:a.sx.colorIconOnbrand.colorBorder.bSolid.bt1.bb1.flex.add({aspectRatio:e.aspectRatio.toString(),width:"-webkit-fill-available"}).add(t?{margin:"0"}:{margin:"0 -16px"}).$},n.createElement("img",{src:e.src,alt:e.alt,className:i.cx.flex.justifyCenter.alignCenter.overflowHidden.$}))}function s(e){let t=(0,o.GS)();return n.createElement("div",{style:a.sx.colorIconOnbrand.colorBorder.bSolid.bt1.bb1.flex.add({aspectRatio:e.aspectRatio.toString(),width:"-webkit-fill-available"}).add(t?{margin:"0"}:{margin:"0 -16px"}).$},n.createElement("video",{autoPlay:!0,muted:!0,loop:!0,"object-fit":"initial","aria-hidden":"true",style:a.sx.flex.justifyCenter.alignCenter.overflowHidden.$},n.createElement("source",{src:e.src,type:"video/mp4"})))}},520607:(e,t,r)=>{"use strict";r.d(t,{_l:()=>S,B$:()=>N,xx:()=>w});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(935283),s=r(358145),c=r(799569),d=r(946689),u=r(762638),p=r(939863),m=r(501114),_=r(553015),h=r(896474),g=r(662275),f=r(101505),E=r(672517),y=r(237870),b=r(488578),v=r(147829),I=r(462487);let T="FeatureAnnouncement";function S(e){let t=(0,i.wA)(),{isShowing:r,onClose:a}=e,o=(0,s.ZC)(r),l=(0,i.d4)(e=>{var t;return null==(t=e.modalShown)?void 0:t.type})===T,c=(0,s.ZC)(l);return(0,n.useEffect)(()=>{r&&c&&!l&&a("different_modal_shown")},[r,c,l,a]),(0,n.useEffect)(()=>{o||!r||l?o&&!r&&l&&t(g.Lo()):t(g.$O({type:T,optOutOfPrevModal:!0}))},[t,o,r,l]),n.createElement(v.M,{isShowing:r&&l,testId:e.testId,userFlagOnShow:e.userFlagOnShow},n.createElement(w,{...e}))}function w(e){return n.createElement(E.fu,{name:e.trackingContextName,properties:e.trackingProperties},n.createElement(b.Nb,{animateIn:!0,className:u.cx.overflowHidden.colorText.$,padding:0,size:700,hide:t=>{switch(t){case b.Tc.CLICK_OUTSIDE:return e.onClose("modal_background_clicked");case b.Tc.PRESS_ESCAPE:return e.onClose("escape_button_pressed");default:(0,l.xb)(t)}},enableEscapeToClose:!0,disableClickOutsideToHide:!1===e.clickOutsideToHide},"landscape"===e.orientation?n.createElement(C,{...e}):n.createElement(A,{...e}),n.createElement(c.Jn,{innerText:(0,p.t)("general.close"),className:o()(u.cx.w32.h32.m8.absolute.top0.right0.colorIcon.$,{"feature_annoucement--closeButtonLight--Xjb45":"light"===e.closeButtonColor,"feature_annoucement--closeButtonDark--VMWkW":"dark"===e.closeButtonColor}),onClick:()=>e.onClose("close_button_clicked"),trackingProperties:{trackingDescriptor:f.c.CLOSE}}),n.createElement(k,{stepCounter:e.stepCounter})))}function A(e){return n.createElement("div",{className:u.cx.flex.$},n.createElement("div",{className:u.cx.flex.flexColumn.justifyCenter.p32.$},n.createElement("div",{className:u.cx.fontInter.font24.fontSemiBold.lh32.$,style:m.sx.add({letterSpacing:"-0.456px"}).$},e.title),n.createElement(d.Kz,{direction:"y",multiple:1}),n.createElement("div",{className:u.cx.fontInter.font14.fontNormal.lh24.$,style:m.sx.add({letterSpacing:"-0.084px"}).$},e.description),n.createElement(d.Kz,{direction:"y",multiple:3}),n.createElement("div",{className:u.cx.flex.gap8.$},e.primaryCta&&n.createElement(I.F,{defaultVariant:"primary",size:"big",ctaButtonMeta:e.primaryCta}),e.secondaryCta&&n.createElement(I.F,{defaultVariant:"secondary",size:"big",ctaButtonMeta:e.secondaryCta}))),e.media)}function C(e){return n.createElement("div",{className:u.cx.flex.flexColumn.$},e.media,n.createElement("div",{className:u.cx.flex.pl32.pr32.pt32.pb24.gap32.$},n.createElement("div",{className:u.cx.fontInter.font24.fontSemiBold.lh32.w200.flexShrink0.$,style:m.sx.add({letterSpacing:"-0.456px"}).$},e.title),n.createElement("div",{className:u.cx.fontInter.font14.fontNormal.lh24.$,style:m.sx.add({letterSpacing:"-0.084px"}).$},e.description)),n.createElement("div",{className:u.cx.flex.pl32.pr32.gap8.justifyEnd.$},e.secondaryCta&&n.createElement(I.F,{defaultVariant:"secondary",size:"big",ctaButtonMeta:e.secondaryCta}),e.primaryCta&&n.createElement(I.F,{defaultVariant:"primary",size:"big",ctaButtonMeta:e.primaryCta})),n.createElement(d.Kz,{direction:"y",multiple:4}))}function N(e){return n.createElement("img",{src:e.src,alt:e.alt,style:m.sx.add({aspectRatio:e.aspectRatio.toString()}).$,width:e.width})}function O(e){return n.createElement("div",{className:u.cx.absolute.left0.pl8.$,hidden:e.hidden},n.createElement(_.$,{variant:"text",onClick:e.onBack},n.createElement("div",{className:u.cx.font13.lh24.flex.itemsCenter.pr12.$},n.createElement(h.In,{icon:"chevron-left-32"}),n.createElement(p.Tx,{id:"general.back"}))))}function L(e){return n.createElement("div",{className:u.cx.absolute.right0.pr8.$,hidden:e.hidden},n.createElement(_.$,{variant:"text",onClick:e.onNext},n.createElement("div",{className:u.cx.font13.lh24.flex.itemsCenter.pl12.$},n.createElement(p.Tx,{id:"general.next"}),n.createElement(h.In,{icon:"chevron-right-32"}))))}function R(e){return n.createElement("div",{className:u.cx.absolute.right0.pr8.$,hidden:e.hidden},n.createElement(_.$,{variant:"text",onClick:e.onDone},n.createElement("div",{className:u.cx.font13.lh24.flex.itemsCenter.$},n.createElement(p.Tx,{id:"general.done"}))))}function P(e){let t=t=>t+1===e.stepNum;return n.createElement("div",{className:u.cx.flex.gap8.h32.justifyCenter.itemsCenter.absolute.left0.right0.mxAuto.$},Array(e.totalNumSteps).fill(0).map((e,r)=>n.createElement("div",{className:u.cx.w8.h8.bRadius8.b1.colorBorder.if(t(r),u.cx.colorBgInverse,u.cx.colorBg).$,key:r})))}function k(e){let{stepCounter:t}=e;if(!t)return null;let r=1===t.stepNum,i=t.stepNum===t.totalNumSteps;return n.createElement("div",{className:u.cx.p8.bt1.colorBorder.bSolid.h32.$},n.createElement(P,{stepNum:t.stepNum,totalNumSteps:t.totalNumSteps}),n.createElement(O,{onBack:t.onBack,hidden:r}),n.createElement(L,{onNext:t.onNext,hidden:i}),n.createElement(R,{onDone:t.onNext,hidden:!i}))}(0,y.Ju)(()=>null,T)},116135:(e,t,r)=>{"use strict";r.d(t,{WZ:()=>c});var n=r(411855),i=r(939863),a=r(101505),o=r(594524),l=r(147829);r(520607);var s=r(340514);function c(e){let{steps:t}=e,r=t=>{e.onComplete(t),u()},{currentStep:c,next:d,reset:u}=(0,o.A)({numSteps:t.length,onComplete:()=>r("done_button_clicked")}),p=e.steps[c],m=c===e.steps.length-1?{label:n.createElement(i.Tx,{id:"rcs.rcs_shared.done"}),type:"button",onClick:d,ctaTrackingDescriptor:a.c.DONE}:{label:n.createElement(i.Tx,{id:"rcs.rcs_shared.next"}),type:"button",onClick:d,ctaTrackingDescriptor:a.c.NEXT};return n.createElement(l.M,{isShowing:e.isShowing,testId:e.testId,userFlagOnShow:e.userFlagOnShow},n.createElement(s.on,{...p,onClose:()=>r("close_button_clicked"),primaryCta:m,stepCounter:{stepNum:c+1,totalNumSteps:e.steps.length}}))}r(740280)},538088:(e,t,r)=>{"use strict";r.d(t,{Bk:()=>x,IA:()=>B,JG:()=>M,Kb:()=>U,L8:()=>y,Lv:()=>v,MI:()=>T,NQ:()=>S,OL:()=>f,Se:()=>I,V7:()=>A,Xv:()=>N,YC:()=>g,ZY:()=>V,Zm:()=>F,dC:()=>E,i5:()=>R,k_:()=>b,lJ:()=>P,oc:()=>L,ps:()=>w,r1:()=>C,uH:()=>O,yz:()=>D,z7:()=>H});var n=r(411855),i=r(935283);r(207286);var a=r(966712),o=r(499737),l=r(218881);r(976999);var s=r(493323),c=r(762638),d=r(939863),u=r(175290),p=r(896474),m=r(720647),_=r(99506),h=r(279453);r(820113),r(802026);let g="UPGRADE_REQUESTS_PRODUCT_DROPDOWN",f="UPGRADE_REQUESTS_BILLING_GROUP_DROPDOWN",E="UPGRADE_REQUESTS_SORT_DROPDOWN",y="UPGRADE_REQUESTS_USER_TYPE_DROPDOWN",b="request",v="\u2013",I=new Date(2024,0,31),T=50,S="dev_mode_suggested_upgrade_dismissed";var w=(e=>(e.TEAM="Team",e.ORG="Org",e))(w||{}),A=(e=>(e.ALL_UNASSIGNED_REQUESTS="all_unassigned_requests",e.ALL_MANAGED_REQUESTS="all_managed_requests",e.ALL_ORG_REQUESTS="all_org_requests",e.INDIVIDUAL_BILLING_GROUP_REQUESTS="individual_billing_group_requests",e))(A||{}),C=(e=>(e.MEMBERS="members",e.GUESTS="guests",e))(C||{}),N=(e=>(e.APPROVE_ALL="APPROVE_ALL",e.BULK_SELECT="BULK_SELECT",e.SINGLE="SINGLE",e.EMAIL="EMAIL",e.DEEPLINK="DEEPLINK",e))(N||{});let O="admin_requests_dashboard",L="billing_group_admin_requests_dashboard";var R=(e=>(e.NEWEST_FIRST="NEWEST_FIRST",e.OLDEST_FIRST="OLDEST_FIRST",e))(R||{});let P={NEWEST_FIRST:()=>(0,d.t)("admin_dashboard.requests.sort.newest_first"),OLDEST_FIRST:()=>(0,d.t)("admin_dashboard.requests.sort.oldest_first")},k={[m.oM.DESIGN]:{name:()=>(0,d.t)("admin_dashboard.requests.design_seat"),icon:"file-design-16-file-type"},[m.oM.WHITEBOARD]:{name:()=>(0,d.t)("admin_dashboard.requests.figjam_seat"),icon:"file-figjam-16-file-type"},[m.oM.DEV_MODE]:{name:()=>(0,d.t)("admin_dashboard.requests.devmode_seat"),icon:"file-devmode-16-file-type"}};function D({licenseType:e}){let t=k[e];return n.createElement(u.Y,{spacing:8},n.createElement(p.In,{icon:t.icon}),n.createElement("div",null,t.name()))}function M(e){switch(e){case _.G_.DESIGN:return m.oM.DESIGN;case _.G_.WHITEBOARD:return m.oM.WHITEBOARD;case _.G_.DEV_MODE:return m.oM.DEV_MODE;default:(0,i.xb)(e)}}function x(e){return e.trim().slice(0,T)}function F({text:e,showSpinner:t}){return n.createElement("div",{className:c.cx.flex.itemsCenter.justifyCenter.$},n.createElement("span",{className:t?c.cx.invisible.$:""},e),t&&n.createElement(s.kt,{className:c.cx.absolute.$,shouldMatchTextColor:!0,size:"small"}))}function U(){return!!(0,a.kc)().dev_mode_suggested_upgrades}function B({planType:e,planId:t,isOrgAdmin:r}){var n,i,l,s,c,d,u,p,m;let _=U(),g=(0,o.Rs)(h.t21,{planType:e,planId:t},{enabled:_&&(r||"Team"===e)}),f="loaded"===g.status&&g.data.devModeSuggestedUpgrades.status===o.tT.Loaded,E=(0,o.Rs)(h.sg1,{orgId:t},{enabled:"Org"===e&&r}),y="loaded"===E.status&&E.data.currentUser.status===o.tT.Loaded||"disabled"===E.status,b=(0,o.Rs)(h.hTO,{teamId:t},{enabled:"Team"===e}),v="loaded"===b.status&&b.data.currentUser.status===o.tT.Loaded||"disabled"===b.status;if(!_)return!1;let I=(0,a.kc)().dev_mode_suggests_tile_dismissal&&(!y||!v);if(!f||I)return null;let T=y&&(null==(n=E.data)?void 0:n.currentUser.status)===o.tT.Loaded&&!!(null==(s=null==(l=null==(i=E.data)?void 0:i.currentUser.data.privilegedOrgUser)?void 0:l.orgUserFlag)?void 0:s.id),S=(null==(c=b.data)?void 0:c.currentUser.status)===o.tT.Loaded&&(null==(u=null==(d=b.data)?void 0:d.currentUser.data.teamUser)?void 0:u.teamUserEvents),w=S&&S.length>0;return(!(0,a.kc)().dev_mode_suggests_tile_dismissal||!w&&!T)&&(null==(p=g.data)?void 0:p.devModeSuggestedUpgrades.status)===o.tT.Loaded&&!!(null==(m=g.data.devModeSuggestedUpgrades)?void 0:m.data)&&g.data.devModeSuggestedUpgrades.data.length>0}function H({planType:e,planId:t,filterParams:r,processedRequestIds:i}){let a=(0,o.Rs)(h.FuG,{planType:e,planId:t,filterParams:r});return(0,n.useMemo)(()=>{var e,t,r,n,l;let s="loaded"===a.status&&(null==(t=null==(e=a.data)?void 0:e.adminDashboardRequestIds)?void 0:t.status)===o.tT.Loaded?(null==(l=null==(n=null==(r=a.data)?void 0:r.adminDashboardRequestIds)?void 0:n.data)?void 0:l.map(e=>e.id))??[]:null;return null!==s?s.filter(e=>!i.has(e)):null},[a,i])}function V({isIntendedAudience:e}){let t=(0,l.I7)("exp_billing_group_admin_request_dash");return void 0!==e&&e&&t.getConfig().get("enabled",!1)}},392340:(e,t,r)=>{"use strict";r.d(t,{Q:()=>d,S:()=>c});var n=r(411855),i=r(188507),a=r(776250),o=r(309225),l=r(279453),s=r(966712);function c(){let e=(0,i.d4)(e=>e.currentUserOrgId),t=(0,i.d4)(e=>e.currentTeamId),r=d({currentOrgId:e,currentTeamId:(0,s.kc)().ps_benchmark&&t||null});return"loaded"===r.status?r.data:null}function d(e,t){let r=n.useMemo(()=>({stuckMs:1e4,onEvent:(t,r,n)=>{var i,o;return i=e.currentOrgId,o=e.currentTeamId,void((0,s.kc)().file_browser_sidebar_lg_logging&&(0,a.sx)("File Browser Sidebar LG",{lgEvent:t,traceId:n.traceId,hasBeenOffline:n.wasOffline,hasBeenBackgrounded:n.wasBackgrounded,timeElapsedMs:n.timeElapsedMs,orgId:i,teamId:o,errors:JSON.stringify(r.errors)}))}}),[e.currentOrgId,e.currentTeamId]);return(0,o.oS)(l.$kt,e,{...t,subscriptionLogger:r})}},149051:(e,t,r)=>{"use strict";r.d(t,{Lo:()=>T,hL:()=>g,nT:()=>f,sm:()=>I});var n=r(411855),i=r(188507),a=r(91408),o=r(531664),l=r(498480),s=r(939863),c=r(63397),d=r(697551),u=r(860178),p=r(206074),m=r(586025),_=r(40153),h=r(935893);let g="COMMUNITY_WORKSPACE_SWITCHER_SECTION_DROPDOWN",f="ACCOUNT_SWITCHING_ADD_ACCOUNT_ONBOARDING_KEY",E=(0,a.hG)(_.Qr),y=(0,a.hG)(_.sw),b=(0,a.hG)(_.vj)+2*(0,a.hG)(_.xX)+1;function v(e,t,r,i,a,o,u){return{displayText:e.name,sideText:`@${e.profile_handle}`,optionHeight:b,icon:n.createElement("div",{className:h.aS},a[e.id]&&n.createElement("div",{className:h.e3}),n.createElement(m.n,{userId:t.id,profileId:e.id,forceAvatar:!0})),itemBadge:(0,d.cs)(e)?n.createElement(l.Ex,{className:h.vS,text:(0,s.t)("navbar.community.admin_label"),color:l.zE.INVERT,subtle:!0}):void 0,isActive:i,isChecked:i,className:h.eb,callback:()=>u(c.Dg({profileId:e.id,view:r?o:void 0}))}}function I(e,t,r,i,a,o,u,p,_,g,f){let E=[],y=new Set,I=[],T=[];return Object.keys(e).forEach(i=>{let a=e[i],l=a.community_profile_id;if(f&&a.id===r.id){y.add(l);return}if(l){let e=o[l];if(!e||y.has(l))return;y.add(l);let n=!!(null==p?void 0:p.primary_user_id)&&(null==p?void 0:p.id)===e.id,i=t&&n;E=E.concat([v(e,r,t,i,u,_,g)]);return}let s=(null==p?void 0:p.primary_user_id)===a.id,T=t&&s,S=(0,d.T9)({authedProfilesById:o,userId:a.id});I=I.concat([{displayText:a.name,sideText:a.email,optionHeight:b,icon:n.createElement("div",{className:h.aS},n.createElement(m.n,{userId:a.id,forceAvatar:!0})),isActive:T,isChecked:T,className:h.eb,callback:()=>g(c.Dg({profileId:(null==S?void 0:S.id)||null,view:t?_:void 0}))}])}),Object.keys(i).forEach(e=>{let a=i[e],f=null==a?void 0:a.community_profile_id;if(f){let e=o[f];if(!e||y.has(f))return;y.add(f);let n=t&&(null==p?void 0:p.id)===e.id;E=E.concat([v(e,r,t,n,u,_,g)]);return}let I=t&&(null==p?void 0:p.org_id)===a.id,S=(0,d.T9)({authedProfilesById:o,orgId:a.id});S&&(T=T.concat([{displayText:a.name,sideText:void 0,optionHeight:b,icon:n.createElement("div",{className:h.aS},n.createElement(m.n,{userId:r.id,orgId:a.id,forceAvatar:!0})),isActive:I,itemBadge:n.createElement(l.Ex,{className:h.vS,text:(0,s.t)("navbar.community.admin_label"),color:l.zE.INVERT,subtle:!0}),isChecked:I,className:h.eb,callback:()=>g(c.Dg({profileId:S.id||null,view:t?_:void 0}))}]))}),Object.values(a).forEach(e=>{let n=null==e?void 0:e.community_profile_id;if(n){let e=o[n];if(!e||y.has(n))return;y.add(n);let i=t&&(null==p?void 0:p.id)===e.id;E=E.concat([v(e,r,t,i,u,_,g)]);return}}),E=E.concat(I).concat(T)}function T(){let e=(0,i.wA)(),t=(0,i.d4)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===g}),r=(0,i.d4)(e=>e.selectedView),a=(0,d.UP)(),l=(0,i.d4)(e=>{var t,r;return null==(r=null==(t=e.dropdownShown)?void 0:t.data)?void 0:r.targetRect}),s=(0,u.Pc)(),c=(0,i.d4)(e=>(0,d.Tm)(e)),m=(0,i.d4)(e=>(0,d.gc)(e),o.c2),_=(0,i.d4)(e=>e.authedProfilesById),h=(0,i.d4)(e=>e.userNotifications.communityProfileBellStates),f=(0,i.d4)(e=>e.authedActiveCommunityProfile);return n.createElement(n.Fragment,null,t&&n.createElement(p.j,{showPoint:!0,showCheckmarkOnRight:!0,items:I({[s.id]:s},a,s,c,m,_,h,f,r,e,!(0,d.cs)(f)&&(null==f?void 0:f.primary_user_id)===s.id||void 0),onSelectItem:(t,r)=>{t.callback&&t.callback("",null,e)},parentRect:l,dispatch:e,minWidth:E,rootAndSubmenuMaxWidth:y}))}},944977:(e,t,r)=>{"use strict";r.d(t,{bx:()=>x,m_:()=>O,xi:()=>N});var n=r(411855),i=r(188507),a=r(91408),o=r(966712),l=r(498480),s=r(574176),c=r(348425),d=r(762638),u=r(939863),p=r(392592),m=r(507877),_=r(697551),h=r(935308),g=r(411916),f=r(99506),E=r(428467),y=r(206074),b=r(149051),v=r(586025),I=r(40153),T=r(935893),S=r(471174),w=r(819692),A=r(646351),C=r(247866);let N="FILE_BROWSER_WORKSPACE_SWITCHER",O="ACCOUNT_SWITCHING_PERSONAL_ONBOARDING_KEY",L="ACCOUNT_SWITCHING_COMMUNITY_ONBOARDING_KEY",R=(0,a.hG)(I.nZ),P=(0,a.hG)(I.Qr),k=(0,a.hG)(I.sw),D=(0,a.hG)(I.vj)+2*(0,a.hG)(I.xX),M=D+1;function x(){let e=(0,i.wA)(),t=(0,i.d4)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===N}),r=(0,i.d4)(e=>e.selectedView),a=(0,i.d4)(e=>{var t,r;return null==(r=null==(t=e.dropdownShown)?void 0:t.data)?void 0:r.targetRect}),I=(0,i.d4)(e=>e.authedUsers),x=(0,i.d4)(e=>e.authedProfilesById),F=(0,i.d4)(e=>(0,E.getPermissionsStateMemoized)(e)),U=(0,g.U8)(F,I.orderedIds),B=(0,i.d4)(e=>e.orgUsersByOrgId),H=(0,i.d4)(e=>e.orgById),V=(0,i.d4)(e=>e.authedTeamsById),G=(0,i.d4)(e=>e.authedActiveCommunityProfile),W=(0,_.UP)(),K=(0,i.d4)(e=>Object.keys(e.authedProfilesById).some(t=>!!e.authedProfilesById[t].org_id||!!e.authedProfilesById[t].team_id)),Y=(0,i.d4)(e=>e.userNotifications.communityProfileBellStates),j=(0,i.d4)(e=>e.userNotifications.userBellStates),z=(0,i.d4)(e=>e.teamFeedBellStates),$=(0,o.kc)().ps_benchmark;n.useEffect(()=>{$&&(0,h.nm)()(e).catch(t=>{var r;let n=(null==(r=null==t?void 0:t.data)?void 0:r.message)||(0,u.t)("file_browser.error_try_again");e(p.F.enqueue({message:n,type:"error"}))})},[e,$]);let Z=()=>{let t=[];return I.orderedIds.forEach(r=>{var i;let a=I.byId[r];if(!a)return;t=t.concat([{displayText:a.email,optionHeight:D,icon:n.createElement("span",{className:T.PN}),disabled:!0}]);let s=(null==(i=a.plans)?void 0:i.map(t=>{let r={userId:a.id,orgId:t.is_org?t.plan_id:null,teamId:t.is_org?null:t.plan_id},i=(0,g.O_)(F,r),s=!!t.is_guest,c=r.orgId&&!s&&(0,o.kc)().xr_debounce_threshold?{view:"teamFeed"}:{view:"recentsAndSharing"};return{displayText:t.name,optionHeight:M,itemBadge:s?n.createElement(l.Ex,{className:T.qS,text:(0,u.t)("navbar.navbar.guest"),color:l.zE.INVERT,subtle:!0}):void 0,icon:n.createElement(v.n,{className:d.cx.mr8.$,userId:r.userId,orgId:r.orgId,teamId:r.teamId}),isActive:i,isChecked:i,className:T.jx,callback:()=>e(m._l({workspace:r,view:c})),activeClassName:T.sI}}))||[];t=(t=t.concat(s)).concat([{displayText:"",disabled:!0,separator:!0}])}),t};return n.createElement(n.Fragment,null,t&&n.createElement(y.j,{showPoint:!0,showCheckmarkOnRight:!0,lean:"left",leanPadding:R,items:(()=>{if($)return Z();let t=[];return I.orderedIds.forEach(r=>{let i=I.byId[r];t=(t=(t=t.concat([{displayText:i.email,optionHeight:D,icon:n.createElement("span",{className:T.PN}),disabled:!0}])).concat(U[r].map(t=>{var r,a;let o=(0,g.HE)(F,t),s=!W&&(0,g.O_)(F,t),c=!t.orgId,d=!1;t.orgId&&B.orgUsers[t.orgId]&&(d=(null==(r=B.orgUsers[t.orgId][t.userId])?void 0:r.permission)===f._D.GUEST);let p=null==(a=null==j?void 0:j[t.userId])?void 0:a[t.orgId||"0"],_=z[t.orgId||"0"];return{displayText:o,optionHeight:M,badge:d?n.createElement(l.Ex,{className:T.qS,text:(0,u.t)("navbar.navbar.guest"),color:l.zE.INVERT,subtle:!0}):void 0,icon:n.createElement("div",{className:T.aS},(p||_)&&n.createElement("div",{className:T.e3}),n.createElement(v.n,{userId:t.userId,orgId:t.orgId})),subText:c&&i.external_restricted_org_id?(0,u.t)("navbar.workspaces.disabled_by_your_admins"):void 0,alternativeRightIconIfNotChecked:c&&i.external_restricted_org_id?C.A:void 0,isActive:s,isChecked:s,className:T.jx,activeClassName:T.sI,callback:()=>e(m._l({workspace:t})),"data-onboarding-key":c?O:void 0}}))).concat([{displayText:"",disabled:!0,separator:!0}])}),t})().concat((()=>{let t=!!Y&&Object.values(Y).some(e=>e),i=(0,b.sm)(I.byId,W,F.user,H,V,x,Y,G,r,e);if(i.length>1){let e=[{displayText:K?"":(0,u.t)("navbar.community.browse_community_workspace_switcher_label"),optionHeight:D,itemBadge:K?n.createElement("div",{className:T.zS},n.createElement(u.Tx,{id:"navbar.community.browse_community_workspace_switcher_label"}),n.createElement("a",{href:"https://help.figma.com/hc/articles/4404108672663",target:"_blank",className:T.P2},n.createElement(s.B,{svg:S.A,className:T.E3}))):void 0,icon:n.createElement("span",{className:T.s9}),disabled:!0}];return[{displayText:(0,u.t)("navbar.community.community_label"),optionHeight:D,icon:n.createElement("div",{className:T.aS},t&&n.createElement("div",{className:T.e3}),n.createElement(c.t,{svg:w.A,fallbackSvg:A.A})),onMouseEnter:()=>(0,_.nR)("submenu",r.view),className:T.uK,children:e.concat(i),activeClassName:T.sI,"data-onboarding-key":L}]}if(1!==i.length)return[];{let e=i[0];return[{displayText:(0,u.t)("navbar.community.community_label"),sideText:e.sideText,rightJustifySideText:!0,optionHeight:D,icon:n.createElement("div",{className:T.aS},t&&n.createElement("div",{className:T.e3}),n.createElement(c.t,{svg:w.A,fallbackSvg:A.A})),activeClassName:T.sI,isActive:e.isActive,isChecked:e.isChecked,className:T.uK,callback:e.callback,"data-onboarding-key":L}]}})()),onSelectItem:(t,r)=>{t.callback&&t.callback("",null,e)},parentRect:a,dispatch:e,minWidth:P,rootAndSubmenuMaxWidth:k}))}},406748:(e,t,r)=>{"use strict";r.d(t,{IV:()=>F,gD:()=>B,Vq:()=>U,Ve:()=>D,bv:()=>k,IU:()=>P,HL:()=>H,uw:()=>M});var n=r(411855),i=r(109388),a=r(188507),o=r(268537),l=r(574176),s=r(762638),c=r(939863),d=r(896474),u=r(738269),p=r(672517),m=r(10648),_=r(318812),h=r(698812),g=r(99506),f=r(392830),E=r(498606),y=r(720488),b=r(303159),v=r(91408),I=r(692665),T=r(45265);let S="shared_table--batchActionsSelector--RHjtW",w="shared_table--whiteChevron--nrA-L";var A=r(783423);let C=(0,v.hG)(T.km),N=(0,v.hG)(T.hX),O="BATCH_CHANGE_LICENSE_GROUP_DROPDOWN",L="BATCH_CHANGE_WORKSPACE_DROPDOWN",R="BATCH_EDIT_ORG_ACCESS_DROPDOWN";function P(e){return n.createElement(p.jm,{className:e.disabled?"shared_table--optionDisabled--nqqvb shared_table--_optionBase--p1jvR shared_table--_disabled--aygfl":"shared_table--option--lzikw shared_table--_optionBase--p1jvR",onClick:e.onClick,trackingProperties:e.trackingProperties,...e.tooltip?{"data-tooltip-type":E.Ib.TEXT,"data-tooltip":e.tooltip,"data-tooltip-show-above":!0}:{}},e.label)}function k(e){var t;let r=(null==(t=e.dropdownShown)?void 0:t.type)===e.dropdownType,i=(0,c.t)("multi_select_list.filter_default"),a=null===e.selectedValue?i:e.getDisplayText(e.selectedValue),l=e.hideDefaultOption?e.values.length*C:(e.values.length+1)*C+N;return n.createElement(D,{dispatch:e.dispatch,type:e.dropdownType,showingDropdown:r},n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:s.cx.maxW200.ellipsis.overflowHidden.$},e.getSelectedDisplayText?n.createElement("span",{className:s.cx.noWrap.$},e.getSelectedDisplayText(e.selectedValue)):n.createElement(n.Fragment,null,n.createElement("span",{className:s.cx.noWrap.$},e.label,":")," ",n.createElement("span",{className:s.cx.noWrap.$},a))),r&&n.createElement(o.W.DropdownWithScrim,{stopScrollPropagation:!0,dispatch:e.dispatch,className:I.sI,style:e.dropdownShown.data.position},n.createElement(y.g1,{maxDropdownHeight:e=>Math.round(.5*e),dropdownChildrenHeight:l},!e.hideDefaultOption&&n.createElement(n.Fragment,null,n.createElement(o.W.CheckableOptionTrackable,{checked:null===e.selectedValue,onClick:()=>e.updateFilter(null),trackingProperties:{filterType:e.dropdownType}},i),n.createElement(o.W.Separator,null)),e.values.map(t=>n.createElement(o.W.CheckableTwoColumnOptionTrackable,{key:e.getDisplayText(t),checked:e.selectedValue===t,onClick:()=>e.updateFilter(t),primaryText:e.getDisplayText(t),secondaryText:null===e.selectedValue&&e.getCount?e.getCount(t).toString():"",trackingProperties:{filterType:e.dropdownType,text:e.getDisplayText(t)}})))))}class D extends n.PureComponent{constructor(){super(...arguments),this.toggleDropdown=e=>{if(e.preventDefault(),e.stopPropagation(),this.props.showingDropdown)this.props.dispatch(u.oB());else{let e;let t=i.findDOMNode(this).getBoundingClientRect(),r=t.top>=window.innerHeight-200;e=this.props.isMultilevelDropdown?{targetRect:t}:{position:{top:r?"auto":t.top,bottom:r?36:"auto",left:this.props.isRightAligned?"auto":Math.min(t.left,window.innerWidth-180),right:this.props.isRightAligned?window.innerWidth-Math.max(t.right,180):"auto"}},this.props.dispatch(u.j7({type:this.props.type,data:e}))}}}render(){return n.createElement("div",{className:`${this.props.isDisabled?I.eh:I.Gb} ${this.props.className?this.props.className:""}`,onClick:this.props.isDisabled?void 0:this.toggleDropdown,"data-tooltip-type":this.props.tooltip?E.Ib.TEXT:void 0,"data-tooltip":this.props.tooltip?this.props.tooltip:void 0,"data-tooltip-show-above":!!this.props.tooltip||void 0,"data-testid":"dropdown-selector"},this.props.children,!this.props.isDisabled&&!this.props.hideChevron&&n.createElement(l.B,{className:`${I.ai} ${this.props.chevronClassName?this.props.chevronClassName:""}`,svg:A.A}))}}var M=(e=>(e.NONE="NONE",e.UNASSIGNED="UNASSIGNED",e.WORKSPACE="WORKSPACE",e))(M||{});function x(e){let t=(0,a.wA)(),r=(0,_.U)(),i=n.createRef(),l=0,s=e.workspaces.map(t=>{let r="WORKSPACE"===e.selectedWorkspace.type&&e.selectedWorkspace.workspaceId===t.id;return n.createElement(o.W.CheckableOptionTrackable,{key:t.id,checked:r,onClick:r?void 0:()=>e.onChange(t)},t.name)});l+=C*s.length,s.push(n.createElement(o.W.Separator,{key:"separator"})),l+=N;let c="UNASSIGNED"===e.selectedWorkspace.type;s.push(n.createElement(o.W.CheckableOptionTrackable,{key:"",checked:c,onClick:c?void 0:()=>e.onChange(null)},c?"Unassigned":"Unassign")),l+=C;let d=n.createElement(y.g1,{maxDropdownHeight:e=>Math.round(.8*e),dropdownChildrenHeight:l,ref:i},s);return n.createElement(o.W.DropdownWithScrim,{dispatch:t,className:"shared_table--batchActionsSelectorDropdown--rCt6G",style:r.data.position},d)}function F(e){let t=(0,a.wA)(),r=(0,_.U)();if(!(0,h.RG)()||0===e.licenseGroups.length)return null;let i=(null==r?void 0:r.type)===O;return n.createElement(p.fu,{name:"Change billing group",trackingTargets:m.K.NONE},i&&n.createElement(x,{workspaces:e.licenseGroups,selectedWorkspace:e.selectedLicenseGroup,onChange:e.onChange}),n.createElement(D,{className:S,dispatch:t,showingDropdown:i,type:O,chevronClassName:w},n.createElement(c.Tx,{id:"members_table.batch_actions_menu.change_billing_group"})))}function U(e){let t=(0,a.wA)(),r=(0,_.U)();if(0===e.workspaces.length)return null;let i=(null==r?void 0:r.type)===L;return n.createElement(p.fu,{name:"Change Workspace",trackingTargets:m.K.NONE},i&&n.createElement(x,{workspaces:e.workspaces,selectedWorkspace:e.selectedWorkspace,onChange:e.onChange}),n.createElement(D,{className:S,dispatch:t,showingDropdown:i,type:L,chevronClassName:w},n.createElement(c.Tx,{id:"members_table.batch_actions_menu.change_workspace"})))}function B({orgAccessOptions:e,selectedOrgAccess:t,onChange:r,disabled:i,tooltip:o}){let l=(0,a.wA)(),s=(0,_.U)(),d=(null==s?void 0:s.type)===R;return n.createElement(D,{className:i?"shared_table--batchActionsSelectorDisabled--dWdph shared_table--_disabled--aygfl":S,dispatch:l,isDisabled:i,tooltip:o,showingDropdown:d,type:R,chevronClassName:w},n.createElement(c.Tx,{id:"members_table.batch_actions_menu.edit_org_access"}),d&&n.createElement(b.V,{dispatch:l,dropdownShown:s,options:e,value:t,onChange:r}))}function H({orgId:e,orgAccess:t}){return(0,f.D)(null,e||null)&&(t===g.bU.PRIVATE||t===g.bU.SECRET)?n.createElement("div",{"data-tooltip-type":E.Ib.TEXT,"data-tooltip":t===g.bU.PRIVATE?(0,c.t)("teams_table.closed_team_tooltip_header"):(0,c.t)("teams_table.secret_team_tooltip_header"),"data-tooltip-subtext":t===g.bU.PRIVATE?(0,c.t)("teams_table.closed_team_tooltip_subtitle"):(0,c.t)("teams_table.secret_team_tooltip_subtitle"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},n.createElement(d.In,{icon:"lock-16"})):null}},157363:(e,t,r)=>{"use strict";r.d(t,{Ki:()=>v,_q:()=>I});var n=r(411855),i=r(989626),a=r(358145),o=r(966712),l=r(499737),s=r(586459),c=r(179940),d=r(837378),u=r(694687),p=r(279453),m=r(463592),_=r(916525),h=r(833030),g=r(851363),f=r(231959),E=r(791435),y=r(285762);let b=new m.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"owner.handle",weight:1},{name:"owner.email",weight:1}]});function v({searchQuery:e,filters:t,sortConfig:r,enabled:i=!0,membersMap:a,firstPageSize:o,isEndUserSurface:c=!1}){var u,p,m;let{optimisticIds:_,addOptimisticIds:h,setServerData:g}=(0,d.K)(),{subscription:f,status:y}=T({searchQuery:e,filters:t,sortConfig:r,enabled:i,firstPageSize:o,extraTeamIds:_,isEndUserSurface:c}),v=y===s.r.SUCCESS&&!(null==(p=null==(u=f.data)?void 0:u.orgTeams)?void 0:p.isLoadingNextPage),I=v&&(null==(m=f.data)?void 0:m.orgTeams)&&f.data.orgTeams.hasNextPage()?()=>{f.data.orgTeams.loadNext(o||25)}:void 0;n.useEffect(()=>{var e;y===s.r.SUCCESS&&g(((null==(e=f.data)?void 0:e.orgTeams)||[]).filter(e=>!!e.teamId).map(e=>({id:e.teamId})))},[y,f.data,g]);let C=n.useMemo(()=>f.data?A(f.data,a,t):[],[f.data,a,t]),N=n.useMemo(()=>f.data?function(e,t,r,n){var i;let a=(0,l.oA)(e.org),o=(a&&a.teamsByIdInAdmin.status===l.tT.Loaded?((0,l.oA)(a.teamsByIdInAdmin)||[]).map(e=>e.team):(null==(i=(0,l.oA)(e.org))?void 0:i.teamsById)||[]).map(e=>w(e,t)).filter(e=>S(e,r));return n?(b.set(o),b.search(n)):o}(f.data,a,t,e):[],[f.data,a,t,e]),{trackPerformanceEvent:O}=(0,E.S)("teams_table_fetch_performance","livegraph");return(0,n.useEffect)(()=>{O("fetch_end")},[O,C.length]),(0,n.useEffect)(()=>{y===s.r.FAILURE&&O("fetch_error")},[O,y]),(0,n.useEffect)(()=>{O("fetch_start")},[O]),{status:y,teams:C,optimisticTeams:N,fetchMore:I,allTeamsFetched:v&&!I,addOptimisticIds:h}}function I({searchQuery:e,filters:t,sortConfig:r,optimisticIds:i,firstPageSize:o,selectedAll:l}){var c;let[d,u]=n.useState({}),p=(0,a.ZC)(e),m=(0,a.ZC)(t),_=(0,a.ZC)(r),h=(0,a.ZC)(l),g=p!==e||(null==t?void 0:t.orgAccessFilter)!==(null==m?void 0:m.orgAccessFilter)||(null==t?void 0:t.discoverabilityFilter)!==(null==m?void 0:m.discoverabilityFilter)||(null==t?void 0:t.orphanedTeamFilter)!==(null==m?void 0:m.orphanedTeamFilter)||(null==t?void 0:t.teamMembershipFilter)!==(null==m?void 0:m.teamMembershipFilter)||(null==t?void 0:t.workspaceFilter)!==(null==m?void 0:m.workspaceFilter)||(null==r?void 0:r.columnName)!==(null==_?void 0:_.columnName)||(null==r?void 0:r.isReversed)!==(null==_?void 0:_.isReversed)||!h&&l,f=!l;n.useEffect(()=>{g&&u({})},[g]);let{subscription:E,status:y}=T({searchQuery:e,filters:t,sortConfig:r,firstPageSize:o,enabled:!f});if(n.useEffect(()=>{var e,r;if(y!==s.r.SUCCESS)return;let n=E.data?A(E.data,{},t):[];u(e=>{let t=g?{}:{...e};return n.forEach(e=>t[e.id]=e),t}),(null==(r=null==(e=E.data)?void 0:e.orgTeams)?void 0:r.hasNextPage())&&E.data.orgTeams.loadNext(o||400)},[y,E.data,g,o,t]),f)return{status:s.r.INIT,teams:[],totalSelectable:null};let b=y===s.r.SUCCESS&&(null==(c=E.data)?void 0:c.orgTeams)&&!E.data.orgTeams.hasNextPage(),v=null;return b&&(v=Object.keys(d).length+(i||[]).filter(e=>!d[e]).length),{status:b?s.r.SUCCESS:y===s.r.SUCCESS?s.r.LOADING:y,teams:Object.values(d),totalSelectable:v}}function T({searchQuery:e,filters:t,sortConfig:r,enabled:n=!0,firstPageSize:i,extraTeamIds:a=[],isEndUserSurface:o=!1}){let d=(0,u.dq)(),m=(0,l.Rs)(p.jl4,{orgId:d,firstPageSize:i||25,queryParams:function(e,t,r,n){let i=(0,y.R)(null==t?void 0:t.orgAccessFilter,null==t?void 0:t.discoverabilityFilter);return String((0,c.lF)({...r&&{sort_by:r.columnName},...r&&{order_by:r.isReversed?_.dy.DESC:_.dy.ASC},...e&&{search_query:e},...i&&{org_access:i},...(null==t?void 0:t.orphanedTeamFilter)&&{teams_without_owners:t.orphanedTeamFilter},...(null==t?void 0:t.teamMembershipFilter)&&{member_of_filter:null!==t.teamMembershipFilter},...(null==t?void 0:t.teamMembershipFilter)&&{teams_member_of:t.teamMembershipFilter===h.ig.JOINED},...(null==t?void 0:t.workspaceFilter)&&{workspace_id:t.workspaceFilter},...n&&{is_end_user_surface:n}}))}(e,t,r,o),extraTeamIds:a},{enabled:n}),g=s.r.LOADING;return"loaded"===m.status?g=s.r.SUCCESS:"errors"===m.status&&(g=s.r.FAILURE),{subscription:m,status:g}}function S(e,t){let r=(0,o.kc)().teams_table_disable_fe_filters;return(!!r||null==t||!t.orphanedTeamFilter||!e.owner)&&(!!r||null==t||!t.teamMembershipFilter||t.teamMembershipFilter===e.userTeamMembership)&&(!!r||null==t||!t.orgAccessFilter||t.orgAccessFilter===e.org_access)&&(!!r||null==t||!t.discoverabilityFilter||(t.discoverabilityFilter!==g.Fb.ORG_BROWSABLE||e.org_access===i.bUL.PRIVATE)&&(t.discoverabilityFilter!==g.Fb.HIDDEN||e.org_access===i.bUL.SECRET))&&(null==t||!t.workspaceFilter||(t.workspaceFilter!==f.O||null===e.workspace_id)&&(t.workspaceFilter===f.O||t.workspaceFilter===e.workspace_id))}function w(e,t,r){var n,i,a,o,s,c;let d=t[e.id]??0,u=(null==(n=(0,l.oA)(e.ownerRole))?void 0:n.user)??null;return{...e,id:e.id,created_at:null==(i=e.createdAt)?void 0:i.toISOString(),img_url:e.imgUrl||void 0,org_id:e.orgId,name:e.name,description:e.description||"",hidden:e.hidden,org_browsable:e.orgBrowsable,license_group_id:e.licenseGroupId,workspace_id:e.workspaceId,org_access:e.orgAccess||null,projects:Number(e.projectsCount)||0,editors:Number(e.editorsCount)||0,restrictions_list:e.restrictionsList||null,subscription:e.subscription||null,subscription_raw:e._subscriptionRaw||null,stripe_customer_id:e.stripeCustomerId||null,student_team_at:(null==(a=e.studentTeamAt)?void 0:a.toISOString())||null,student_team_state:e.studentTeamState||g.kU.STUDENT_TEAM_NULL,student_autoverifying_team_at:(null==(o=e.studentAutoverifyingTeamAt)?void 0:o.toISOString())||null,student_team:!!e.studentTeamAt,pro_team:!1,org_team:!0,starter_team:e.isStarterTeam||!1,grace_period_end:(null==(s=e.gracePeriodEnd)?void 0:s.toISOString())||null,grace_period_type:e.gracePeriodType||null,last_upgraded_at:null,deleted_at:(null==(c=e.deletedAt)?void 0:c.toISOString())||null,experiment_seed:e.experimentSeed||null,license_group:null,default_permission:e.defaultPermission,vat_gst_id:e.vatGstId||void 0,tax_id_verification_status:e.taxIdVerificationStatus||void 0,ai_features_disabled:!!e.aiFeaturesDisabledAt,legal_name:e.legalName||null,sharing_audience_control:e.sharingAudienceControlComputed||void 0,orphaned:!u,member_count:"number"==typeof r?Math.max(r+d,0):void 0,owner:u&&{id:u.id,name:u.name||void 0,handle:u.handle||"",img_url:u.imgUrl||"",email:u.email||void 0,description:u.description,org_id:e.orgId||void 0},experiment_assignments:[],userTeamMembership:null===e.roleOnObjectTeamForUser?h.ig.NOT_JOINED:h.ig.JOINED}}function A(e,t,r){return(e.orgTeams||[]).filter(e=>!!e.team).map(e=>w(e.team,t,e.memberCount?Number(e.memberCount):null)).filter(e=>S(e,r))}},558185:(e,t,r)=>{"use strict";r.d(t,{N:()=>p,n:()=>u});var n=r(411855),i=r(629019),a=r.n(i),o=r(221364),l=r(762638),s=r(959232),c=r(602244),d=r(986312);function u(e){return n.createElement("div",{className:e.fillContainer?l.cx.wFull.hFull.$:c.CK},n.createElement(p,{thumbnail_url:e.thumbnail_url,additionalClassName:e.fillContainer?l.cx.wFull.hFull.$:c.Sl,isLocked:e.isLocked}))}function p(e){let{isLocked:t}=e;return n.createElement("div",{className:a()({[e.additionalClassName||""]:!!e.additionalClassName,[d.h3]:!0,"prototype_tile_view--lockedThumbnail--qvUFr":t}),style:t?{}:{background:`url(${(0,s.A)()})`}},n.createElement("div",{className:d.iT,style:{backgroundColor:"transparent"}},n.createElement("div",{className:d.uX,style:t?{}:{backgroundImage:`url(${e.thumbnail_url})`}},t&&n.createElement(o.yT,{additionalClassName:"prototype_tile_view--keyCirclePrototype--JbaTV",iconClassName:"prototype_tile_view--keyCirclePrototypeIcon--8HNkg"}))))}},609936:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m,r:()=>p});var n=r(411855),i=r(629019),a=r.n(i),o=r(776250),l=r(762638),s=r(501114),c=r(611978),d=r(714236);function u({isSticky:e,hasTopDivider:t,children:r}){return n.createElement("div",{className:a()(d.Mv,{[l.cx.sticky.$]:e,[l.cx.bSolid.colorBorder.bt1.$]:t})},r)}function p(e){let{mobileToolBarSpacerStyle:t,containerStyle:r,metaContainerStyle:i}=e.collapseSidebarOnTabletView?{mobileToolBarSpacerStyle:"",containerStyle:d.rx,metaContainerStyle:d.M}:{mobileToolBarSpacerStyle:d.m9,containerStyle:d.kL,metaContainerStyle:d.lt},l=(0,c._6)(),[s,p]=n.useState(!1),m=window.performance.getEntriesByType("navigation")[0];return n.useEffect(()=>{let e=null==m?void 0:m.loadEventEnd;0===e||s||((0,o.sx)("File Browser Cold Start Page Load Time",{elapsedMs:e,selectedView:l.view},{forwardToDatadog:!0,batchRequest:!0}),p(!0))},[null==m?void 0:m.loadEventEnd,s,l.view]),n.createElement(n.Fragment,null,!!e.banner&&e.banner,e.toolbar,n.createElement("div",{className:t}),e.viewbar&&n.createElement(u,{isSticky:e.viewBarSticky},e.viewbar),!!e.belowToolbarBanner&&e.belowToolbarBanner,n.createElement("div",{className:a()(e.scrollableContainerClass,d.TN)},!!e.header&&e.header,n.createElement("div",{className:`${r} ${e.containerClass||""}`},e.metaContent&&n.createElement("div",{className:i},e.metaContent),n.createElement("div",{className:`${d.hQ} ${e.contentContainerClass||""}`},e.content))))}function m(e){let{containerStyle:t,metaContainerStyle:r}=e.collapseSidebarOnTabletView?{containerStyle:d.rx,metaContainerStyle:a()(d.M,d.az)}:{containerStyle:d.kL,metaContainerStyle:a()(d.lt,d.az)};return n.createElement(n.Fragment,null,!!e.banner&&e.banner,!!e.header&&n.createElement("div",{className:d.dL},e.header),n.createElement("div",{className:e.scrollableContainerClass?e.scrollableContainerClass:""},n.createElement("div",{className:`${t} ${e.containerClass||""}`},e.metaContent&&n.createElement("div",{className:r,style:s.sx.add({marginTop:"-24px"}).$},e.metaContent),n.createElement("div",{className:d.hQ},e.toolbar&&n.createElement(u,{hasTopDivider:!0},e.toolbar),n.createElement("div",{className:e.contentContainerClass},e.content),e.footer&&n.createElement("div",{className:d.bL},e.footer)))))}},325078:(e,t,r)=>{"use strict";r.d(t,{N:()=>R,W:()=>P});var n=r(411855),i=r(188507),a=r(91408),o=r(881388),l=r(939863),s=r(970516),c=r(738269),d=r(662275),u=r(492379),p=r(377090),m=r(688083),_=r(99506),h=r(937294),g=r(147206),f=r(428467),E=r(392830),y=r(451e3),b=r(668860),v=r(851363),I=r(845213),T=r(206074),S=r(490184),w=r(899726),A=r(590564),C=r(171267),N=r(544740),O=r(860168),L=r(206898);function R(){let e=(0,i.d4)(e=>(0,f.getPermissionsState)(e)),t=(0,i.d4)(e=>e.selectedView),r=(0,i.d4)(e=>e.teamRoleRequests),T=(0,i.wA)();return({team:i,onRenameClick:R,onChangeTeamIconClick:P,teamRoleRequests:k})=>{let D=()=>{T(c.oB()),T(d.to({type:A.p,data:{teamId:i.id}}))},M=(0,p.GR)(T,i.id),x=e=>{T(d.to({type:S.$S,data:{team:e}}))},F=(0,p.GR)(T,i.id,b.e6.ADMIN),U=(0,p.GR)(T,i.id,b.e6.OWNER),B=e=>{if(!k)return;let t=k[e.id].id;T(u.lT({requestId:t}))},H=e=>{T(d.to({type:A.p,data:{teamId:e.id}}))},V=()=>{T(c.oB());let e=!!i.org_id,t=e=>{T(d.to({type:w.H,data:{team:i,subscriptionStatus:e}}))};e?t(!0):I.$.getSubscriptionStatus({teamId:i.id}).then(({data:e})=>{t(e.meta&&e.meta.subscription_will_renew)}).catch(e=>{var t;(null==(t=e.data)?void 0:t.message)&&T(o.s.error(e.data.message))})},G=e.roles.byTeamId[i.id]||{},W=Object.keys(G).filter(e=>!G[e].pending).length,K=(0,f.canAdminTeam)(i.id,e),Y=(null==i?void 0:i.org_access)===_.bU.PUBLIC||W>1,j=(0,f.hasAdminRoleAccessOnTeam)(i.id,e),z=(0,g.R$)(e.user,e.currentUserOrgId),$=window.innerWidth<=(0,a.hG)(O.tgj),Z=[{displayText:(0,l.t)("file_browser.copy_link"),callback:()=>{let e=(0,v.bL)(i.id,i.org_id);T(s.S({url:e}))}}];return"search"===t.view&&i.org_id!==e.currentUserOrgId||(i.canEditTeamContents&&$&&!z&&Z.push({displayText:(0,l.t)("file_browser.team.new_project"),callback:()=>{T((0,m.SX)({where:y.Ah.FolderListView,team:{...i,canAdmin:K}}))}}),$&&Z.push({displayText:(0,l.t)("file_browser.team.invite"),callback:()=>{T(d.to({type:C.T9,data:{teamId:i.id,notifyOnSuccess:!0}}))}}),K&&Z.push({displayText:(0,l.t)("team_view.toolbar.rename"),callback:()=>{T(c.oB()),R&&R(i)}}),K&&P&&Z.push({displayText:(0,l.t)("team_view.toolbar.change_icon"),callback:()=>{T(c.oB()),P&&P(i)}}),Z.push(...(()=>{let t=[];return((0,f.hasViewerRoleAccessOnTeam)(i.id,e)?Y&&t.push({displayText:(0,l.t)("team_view.toolbar.leave_team"),callback:D}):i.org_id&&!((0,h.YP)(i,r[i.id],e,i.org_id)===h.gO.CLICK_JOIN&&(0,E.D)(i.id,i.org_id))&&t.push({displayText:"",render:()=>n.createElement(N.m,{key:"main-cta",className:L.M,onBypassRequestOverride:U,onJoin:M,onJoinRequestOverride:x,onJoinAsAdmin:F,onLeave:H,onWithdrawRequestForTeamOverride:B,team:i,useLinks:!0,isCardActive:!1})}),j&&t.push({displayText:(0,l.t)("team_view.toolbar.delete_team"),callback:V}),0===t.length)?[]:[{displayText:"",separator:!0},...t]})())),Z}}function P({className:e,team:t,onRenameClick:r,onChangeTeamIconClick:a,teamRoleRequests:o}){var l;let s=(0,i.d4)(e=>e.dropdownShown),c=(0,i.wA)(),d=R()({team:t,onRenameClick:r,onChangeTeamIconClick:a,teamRoleRequests:o});return n.createElement(T.j,{className:e,items:d,parentRect:null==(l=null==s?void 0:s.data)?void 0:l.targetRect,showPoint:!1,lean:"right",dispatch:c,onSelectItem:(e,t)=>{e.callback&&e.callback("",{},c,t)}})}},372626:(e,t,r)=>{"use strict";r.d(t,{$b:()=>F,h2:()=>B,mc:()=>U});var n=r(411855),i=r(188507),a=r(213599),o=r(499737),l=r(762638),s=r(939863),c=r(67294),d=r(896474),u=r(386909),p=r(54552),m=r(738269),_=r(507877),h=r(662275),g=r(988022),f=r(594901),E=r(99506),y=r(279453),b=r(336599),v=r(982121),I=r(937294),T=r(428467),S=r(392830),w=r(935938),A=r(498606),C=r(132690),N=r(490184),O=r(127391),L=r(177514),R=r(171267),P=r(325078),k=r(339887),D=r(14134),M=r(562128);function x(e){var t,r,a;let o;let y=(0,i.wA)(),b=(0,i.d4)(e=>e.currentUserOrgId),I=(0,f.FC)(),x=(0,v.x)(),F=(0,i.d4)(e=>e.orgById),U=(0,i.d4)(({selectedView:e})=>e),B=(0,T.canMemberOrg)(e.team.org_id,I)&&e.team.org_access===E.bU.PUBLIC,H=(0,T.canManageNonSecretOrgTeam)(e.team,I,null==(t=I.user)?void 0:t.id),V=e.canUserViewTeam??(e.isCurrentUserInTeam||B||H),[G,W]=n.useState(!1),K=e=>{y(h.to({type:N.$S,data:{team:e}}))},Y=()=>{if(!V){K(e.team);return}(0,g._J)("file_browser_team_click",e.team.id,I,{selectedView:"recentsAndSharing"===U.view?U.tab||w.G.RECENTLY_VIEWED:U.view,viewMode:"grid"}),y(_.kg({clickedResourceType:"team",resourceIdOrKey:e.team.id})),y(m.$T({view:"team",teamId:e.team.id}))},j=t=>{t.stopPropagation(),t.preventDefault(),e.setSelectedTeamId(e.team.id);let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};y(m.j7({type:L.RQ,data:{teamId:e.team.id,targetRect:r}}))},z=n.useCallback((t,r,n)=>{if(e.team){let i={team:e.team,entrypoint:"org_browse_teams_view",sectionId:n,favoriteId:r};t?y(p.DN(i)):y(p.ox(i))}},[y,e.team]),$="search"===U.view,Z=e.team.org_id&&F[e.team.org_id]||e.team.id&&x[e.team.id],q=n.createElement(s.Tx,{id:"team_tile.members_count",numMembers:e.memberCount}),J=n.createElement("div",{className:l.cx.flex.flexRow.itemsCenter.$},$&&Z&&n.createElement(O.H,{entityId:Z.id,entityName:Z.name,imgUrl:Z.img_url}),e.isCurrentUserInTeam&&n.createElement(n.Fragment,null,n.createElement(s.Tx,{id:"team_list.org_join_status_joined"}),n.createElement("span",null,"\xa0\xb7\xa0")),q),X=e.selectedTeamId===e.team.id,Q=n.createElement(C.W,{team:e.team,isCurrentUserInTeam:e.isCurrentUserInTeam,isLoading:e.isLoading,onOpenTeam:Y,onJoin:e.onJoin,onLeave:e.onLeave,spinnerClassName:D.Ys,isCardActive:G||X,onClickButton:e.setSelectedTeamId}),ee=n.createElement("div",{className:l.cx.flex.$},Q,b&&V&&n.createElement(u.r,{setFavorite:z,favoriteType:E.bk.TEAM,resourceId:e.team.id,size:u.m.MEDIUM,containerStyle:D.is,noHoverState:!0,orgId:e.team.org_id})),et=(0,S.D)((null==(r=e.team)?void 0:r.id)||null,(null==(a=e.team)?void 0:a.org_id)||null);et?e.team.org_access===E.bU.PRIVATE?o=(0,s.t)("file_browser.team_header.closed_team_header"):e.team.org_access===E.bU.SECRET&&(o=(0,s.t)("file_browser.team_header.secret_team_header")):e.team.org_access===E.bU.PRIVATE?o=(0,s.t)("file_browser.team_tiles.private_team_tooltip"):e.team.org_access===E.bU.SECRET&&(o=(0,s.t)("file_browser.team_tiles.secret_team_tooltip"));let er=e.team.org_access===E.bU.PRIVATE?(0,s.t)("file_browser.team_header.closed_team_subtitle"):e.team.org_access===E.bU.SECRET?(0,s.t)("file_browser.team_header.secret_team_subtitle"):void 0,en=e.team.org_access===E.bU.PRIVATE||e.team.org_access===E.bU.SECRET?n.createElement("div",{className:l.cx.mr4.$,style:{marginLeft:et?"4px":"-4px"},"data-tooltip-type":A.Ib.TEXT,"data-tooltip":o,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":et?er:""},n.createElement(d.In,{icon:"lock-16"})):void 0,ei=et?void 0:en,ea=et?en:void 0;return n.createElement(n.Fragment,null,n.createElement(k.a,{name:e.team.name,onContextMenu:e=>{j(e)},headerLeft:n.createElement(c.nl,{team:e.team,size:40,avatarSvg:M.A}),onMouseOver:()=>{W(!0)},titleSubtitle:ei,titleSubtitleRight:ea,onMouseOut:()=>{W(!1)},isSelected:X,headerRight:ee,footerLeft:J,isCardActive:G||X,onClick:t=>{1===t.detail?e.setSelectedTeamId(e.team.id):2===t.detail&&Y()},canView:V}),e.dropdownTeamId===e.team.id&&n.createElement("div",{className:l.cx.fixed.$},n.createElement(P.W,{team:{...e.team,canEdit:!1,canEditTeamContents:!1},onRenameClick:e=>{y(h.to({type:R.hc,data:{team:e}}))}})))}function F(e){var t;let r=e.team,i=(0,o.Rs)(y.y_L,{teamId:r.id}),l=!1,s=!1;if("loaded"===i.status&&(null==(t=i.data)?void 0:t.team)){let e=(0,a.c)(i.data.team);l=e.canView,s=e.isInTeam}return n.createElement("div",null,n.createElement(B,{...e,team:r,canUserViewTeam:l,isCurrentUserInTeam:s}))}let U=(0,i.Ng)((e,t)=>{var r,n,i;let a=e.user,o=t.team&&t.team.top_members&&t.team.top_members.filter(e=>!e.pending);return{isCurrentUserInTeam:(0,T.hasViewerRoleAccessOnTeam)(t.team.id,e),currentUser:a,memberCount:t.team.member_count??0,topMembers:o||[],isLoading:(0,b.VP)(e.loadingState,(0,I.p9)(t.team.id)),dropdownTeamId:(null==(r=e.dropdownShown)?void 0:r.type)===L.RQ?null==(i=null==(n=e.dropdownShown)?void 0:n.data)?void 0:i.teamId:void 0}})(x),B=x},256454:(e,t,r)=>{"use strict";r.d(t,{OY:()=>N,PJ:()=>T,R9:()=>v,SJ:()=>A,U8:()=>S,YU:()=>g,hP:()=>y,hT:()=>_,kU:()=>f,lA:()=>w,mF:()=>I,rn:()=>b,t2:()=>C,xr:()=>m,zi:()=>E});var n=r(411855),i=r(181912),a=r(864361),o=r(966712),l=r(499737),s=r(694687),c=r(309798),d=r(279453),u=r(622139),p=r(479296);let m=25;var _=(e=>(e.NOT_IN_FEATURE_FLAG="not_in_feature_flag",e.NO_IMPORTED_JAMBOARD_FILES="no_imported_jamboard_files",e.IN_PAID_TEAM="in_paid_team",e.IN_STUDENT_TEAM="in_student_team",e.REDEEMED="redeemed",e))(_||{});function h({enabled:e}){var t;let r=(0,l.Rs)(d.BMY,{},{enabled:e});return"loaded"!==r.status||!!(null==(t=r.data.jamboardOfferRedeemedAt)?void 0:t.redeemedAt)}let g=(0,p.D)(({enabled:e})=>{let t=(0,l.Rs)(d.LZm,{},{enabled:e});return"loaded"===t.status?t.data.currentUser.jamboardOfferEligibility:null});function f(){let e=!!(0,o.kc)().figjam_jamboard_offer;return"loading"===(0,l.Rs)(d.LZm,{},{enabled:e}).status}function E(e){let t=(0,a.C)(),r=e?(0,i.A)().isBefore((0,i.A)(e)):null,o=null==e?void 0:e.getTime();return(0,n.useEffect)(()=>{if(r){let e=setTimeout(t,(0,i.A)(o).diff()+1);return()=>clearTimeout(e)}},[o,t,r]),r}function y(e){let t=g({enabled:!!(0,o.kc)().figjam_jamboard_offer});return I(e)&&t?t.promoCodeId:null}let b=(0,p.D)(()=>{let e=!!(0,o.kc)().figjam_jamboard_offer,t=h({enabled:e}),r=g({enabled:e}),n=E(null==r?void 0:r.promoExpirationDate);return e&&!!r&&!t&&r.isEligible&&!!n&&!!r.promoCodeId});function v(){var e;let t=!!(0,o.kc)().figjam_jamboard_offer,r=(0,l.Rs)(d.LZm,{},{enabled:t}),n=E(null==(e=r.data)?void 0:e.currentUser.jamboardOfferEligibility.promoExpirationDate);return t?{isOfferActive:n,queryStatus:r.status}:{isOfferActive:!1,queryStatus:"disabled"}}let I=(0,p.D)(e=>b()&&e===u.tY.ANNUAL),T=(0,p.D)(({numWhiteboardEditors:e,billingPeriod:t})=>I(t)?Math.min(m,e):0),S=(0,p.D)(({numWhiteboardEditors:e,billingPeriod:t})=>e-T({numWhiteboardEditors:e,billingPeriod:t})),w=(0,p.D)(e=>Math.max(0,m-e));function A(e){return Math.min(e,m)}var C=(e=>(e.IMPORT_JAMBOARD_FILE="import_jamboard_file",e.REDEEM_OFFER="redeem_offer",e))(C||{});function N(){let e=!!(0,s.dq)(),t=!!(0,c.f)("signed_up_from_figjam_jamboard"),r=(0,o.kc)(),n=!!r.figjam_jamboard_offer&&!e,i=h({enabled:n}),a=g({enabled:n}),l=E(null==a?void 0:a.promoExpirationDate);return n&&!i&&a&&l?!i&&a.isEligible&&a.promoCodeId?"redeem_offer":!i&&t&&r.figjam_3p_file_importer&&"no_imported_jamboard_files"===a.ineligibilityReason?"import_jamboard_file":null:null}},205371:(e,t,r)=>{"use strict";r.d(t,{$c:()=>x,BO:()=>F,ME:()=>O,PK:()=>C,Qo:()=>A,U1:()=>N,V8:()=>y,Wy:()=>P,X6:()=>R,d6:()=>v,dx:()=>S,eG:()=>M,hH:()=>E,mx:()=>b,ok:()=>f,p1:()=>L,wd:()=>w});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(498480),s=r(946689),c=r(939863),d=r(101505),u=r(99506),p=r(820113),m=r(622139),_=r(159596),h=r(256454),g=r(396754);function f(e,t){let r=new p.vr(t).getPrices();switch(e){case m.tY.ANNUAL:return r.annualFigma;case m.tY.MONTHLY:return r.monthlyFigma;case m.tY.STUDENT:return 0}throw Error(`Unknown plan type: ${e}`)}function E(e,t){let r=new p.vr(t).getPrices();switch(e){case m.tY.ANNUAL:return r.annualFigjam;case m.tY.MONTHLY:return r.monthlyFigjam;case m.tY.STUDENT:return 0}throw Error(`Unknown plan type: ${e}`)}function y({isPromo:e,isEducationTeam:t,claimsEndAtDate:r}){var i;return e?{trackingDescriptor:d.c.START_PRO_PLAN_FOR_FREE,buttonText:n.createElement(c.Tx,{id:"pro_cart.review.start_professional_plan_for_free"}),finePrint:n.createElement(n.Fragment,null,n.createElement(c.Tx,{id:"pro_cart.review.offer_redeem_agree",termsOfServiceLink:n.createElement(F,null)}),r&&n.createElement(n.Fragment,null," ",n.createElement(c.Tx,{id:"pro_cart.review.redeem_offer_by",date:(i=new Date(r),new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(i))})))}:t?{trackingDescriptor:d.c.COMPLETE_UPGRADE,buttonText:n.createElement(c.Tx,{id:"pro_cart.review.complete_upgrade"}),finePrint:n.createElement(c.Tx,{id:"pro_cart.review.all_editors_on_an_education_team_must_be_verified.seat_rename"})}:{trackingDescriptor:d.c.COMPLETE_PURCHASE,buttonText:n.createElement(c.Tx,{id:"pro_cart.review.complete_purchase"}),finePrint:n.createElement(c.Tx,{id:"pro_cart.review.your_subscription_will_automatically_renew_without_link.seat_rename"})}}function b(e,t,r,n,i){let a=new p.vr(i).formatMoney(n,{showCents:!r}),o=(0,c.t)("all_carts.num_editors.seat_rename",{numEditors:t}),l=(0,c.t)("all_carts.plural_months",{months:e?12:1});return(0,c.t)("all_carts.cost_equation",{money:a,editors:o,billingTime:l})}function v({currentBillingPeriod:e,numEditors:t,noCents:r,shouldStrikethroughMonthlyUnitCostIfAnnual:i,currency:a}){return e===m.tY.STUDENT?null:n.createElement(I,{isAnnual:e===m.tY.ANNUAL,numEditors:t,noCents:r,unitCost:f(e,a),currency:a,monthlyUnitCostForStrikethrough:i?f(m.tY.MONTHLY,a):void 0})}function I({isAnnual:e,numEditors:t,noCents:r,unitCost:i,monthlyUnitCostForStrikethrough:a,currency:o}){let l=new p.vr(o),s=l.formatMoney(i,{showCents:!r}),d=(0,c.t)("all_carts.num_editors.seat_rename",{numEditors:t}),u=(0,c.t)("all_carts.plural_months",{months:e?12:1});return"number"==typeof a&&e?n.createElement(c.Tx,{id:"all_carts.cost_equation_strikethrough_unit_price",strikethroughUnitPrice:n.createElement("span",{className:g.of},l.formatMoney(a,{showCents:!r})),money:s,editors:d,billingTime:u,"data-testid":"cost-equation"}):n.createElement(c.Tx,{id:"all_carts.cost_equation",money:s,editors:d,billingTime:u})}function T({currentBillingPeriod:e,numEditors:t,noCents:r,shouldStrikethroughMonthlyUnitCostIfAnnual:i,currency:a,isJamboardOffer:o}){return n.createElement(I,{isAnnual:e===m.tY.ANNUAL,numEditors:t,unitCost:o?0:E(e,a),noCents:r,currency:a,monthlyUnitCostForStrikethrough:i?E(m.tY.MONTHLY,a):void 0})}function S(e,t){let r=new p.vr(t);return n.createElement(c.Tx,{id:"pro_cart.design_billing_cost_per_month.seat_rename","data-testid":"design_cost_per_editor_text",monthlyCostInDollars:r.formatMoney(f(e,t))})}function w(e,t){let r=new p.vr(t);return n.createElement(c.Tx,{id:"pro_cart.whiteboard_billing_cost_per_month.seat_rename","data-testid":"whiteboardCostPerEditorText",monthlyCostInDollars:r.formatMoney(E(e,t))})}function A(e,t,r){return e*f(t,r)*(t===m.tY.ANNUAL?12:1)}function C(e,t,r){return e*E(t,r)*(t===m.tY.ANNUAL?12:1)}function N(e,t){return Math.ceil((1-12*e/(12*t))*100)}function O({noCents:e=!0,shouldStrikethroughMonthlyUnitCostIfAnnual:t,currency:r,numEditors:a,isJamboardOffer:o}){let l=(0,i.d4)(e=>e.payment.billingPeriod),s=(0,i.d4)(e=>e.payment.numWhiteboardEditors),c=(0,h.U8)({numWhiteboardEditors:s,billingPeriod:l});return l===m.tY.STUDENT?null:n.createElement(T,{currentBillingPeriod:l,numEditors:a||c,noCents:e,currency:r,shouldStrikethroughMonthlyUnitCostIfAnnual:t,isJamboardOffer:o})}function L(e,t){return"promoReview"===e.view||"teamUpgrade"===e.view&&e.paymentStep===m.tn.CONFIRM_PAY&&t.promo}function R({editorType:e,numEditors:t,currency:r}){let i;i="design"===e?A(t,m.tY.MONTHLY,r):C(t,m.tY.MONTHLY,r);let a=new p.vr(r);return n.createElement(c.Tx,{id:"edu.cost_per_month",cost:a.formatMoney(i)})}function P({"data-testid":e,discountPercentage:t,mainText:r,priceText:i,strikethroughPriceText:a,strikethroughPriceClassName:d,subText:u,showDevModeIncludedText:p}){let m=t=>void 0===e?void 0:`${e}-${t}`;return n.createElement("div",{"data-testid":e},n.createElement("div",{className:g.vg,"data-testid":m("cost-row")},n.createElement("span",{"data-testid":m("main-text")},r),n.createElement("span",{"data-testid":m("price-section")},a&&n.createElement(n.Fragment,null,n.createElement("span",{className:o()(d,g.hy,g.sH),"data-testid":m("strikethrough-price-text")},a),"\xa0"),n.createElement("span",{className:g.sH,"data-testid":m("price-text")},i))),p&&n.createElement(n.Fragment,null,n.createElement(s.Kz,{multiple:.2}),n.createElement(_.G,null),n.createElement(s.Kz,{multiple:.1})),n.createElement("div",{className:g.q9,"data-testid":m("sub-row")},n.createElement("span",{"data-testid":m("sub-text")},u),t&&n.createElement("span",{"data-testid":m("discount-percentage")},n.createElement(l.Ex,{className:g.qS,color:l.zE.SUCCESS,size:l.vj.LARGE,subtle:!0,text:n.createElement(c.Tx,{id:"pro_cart.sidebar.annual_savings_percentage",percentage:t})}))))}function k({payment:e,currency:t,isPromo:r,isEducationTeam:i,...a}){var o,l,s;let d,u,_,h,g;let f=new p.vr(t),{editorType:E}=a;return"design"===E?(u=e.numDesignEditors,_=D(m.Ye,null==(o=e.taxes)?void 0:o.lines)??A(u,e.billingPeriod,t),d=n.createElement(c.Tx,{id:"pro_cart.info.figma_design_editors.seat_rename",numEditors:u}),g=i?n.createElement(R,{editorType:E,currency:t,numEditors:e.numDesignEditors}):null,r?h=n.createElement(c.Tx,{id:"pro_cart.review.free_for_days",days:null==(l=e.promo)?void 0:l.promo_value}):i||a.hasCartStickerShock||(h=n.createElement(v,{currentBillingPeriod:e.billingPeriod,numEditors:e.numDesignEditors,noCents:!1,currency:t}))):(a.isJamboardOffer?(u=a.numJamboardOfferEditors,_=0):(u=a.numPaidFigjamEditors,_=D(m.MC,null==(s=e.taxes)?void 0:s.lines)??C(u,e.billingPeriod,t)),h=!i&&!a.hasCartStickerShock&&n.createElement(O,{noCents:!1,currency:t,numEditors:u,isJamboardOffer:a.isJamboardOffer}),d=n.createElement(c.Tx,{id:"pro_cart.info.figjam_editors.seat_rename",numEditors:u}),g=i?n.createElement(R,{editorType:E,currency:t,numEditors:e.numWhiteboardEditors}):null),r&&(g=f.formatMoney(_,{showCents:!0})),n.createElement(P,{"data-testid":`confirm-${E}-summary`,mainText:d,strikethroughPriceText:g,priceText:f.formatMoney(r||i?0:_,{showCents:!0}),subText:h,showDevModeIncludedText:"design"===E})}function D(e,t){return null==t?void 0:t.filter(t=>e.includes(t.product)).reduce((e,t)=>e+t.sub_total,0)}function M(e){let t=(0,h.U8)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod}),r=(0,h.PJ)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod});return n.createElement(n.Fragment,null,e.payment.numDesignEditors>0&&n.createElement("div",null,n.createElement(k,{...e,editorType:u._Y.DESIGN}),n.createElement(s.Kz,{multiple:2})),r>0&&n.createElement("div",null,n.createElement(k,{...e,editorType:u._Y.WHITEBOARD,isJamboardOffer:!0,numJamboardOfferEditors:r,numPaidFigjamEditors:t}),n.createElement(s.Kz,{multiple:2})),t>0&&n.createElement("div",null,n.createElement(k,{...e,editorType:u._Y.WHITEBOARD,numJamboardOfferEditors:r,numPaidFigjamEditors:t}),n.createElement(s.Kz,{multiple:2})))}function x(e){let t=(0,h.U8)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod}),r=(0,h.PJ)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod});return n.createElement(n.Fragment,null,n.createElement(k,{...e,editorType:u._Y.DESIGN}),n.createElement(s.Kz,{multiple:2}),n.createElement(k,{...e,editorType:u._Y.WHITEBOARD,numJamboardOfferEditors:r,numPaidFigjamEditors:t}),n.createElement(s.Kz,{multiple:2}))}function F(){return n.createElement(s.Us,{href:"/tos",target:"_blank",trusted:!0},n.createElement(c.Tx,{id:"pro_cart.review.tos"}))}},810014:(e,t,r)=>{"use strict";r.d(t,{L:()=>_,i:()=>m});var n=r(411855),i=r(96796),a=r(629019),o=r.n(a),l=r(153234),s=r(574176),c=r(348425),d=r(200810),u=r(289298);let p=e=>e.stopPropagation(),m=n.forwardRef((e,t)=>n.createElement("div",{key:"topBarWrapper",role:"none",onClick:p},n.createElement(_,{...e,children:void 0,recordingKey:e.recordingKey,ref:t}),e.children));class _ extends l.uA{constructor(e){super(e),this.onClick=l.cZ(this,"click",e=>{this.props.onClick&&!this.props.onClickForKeyDownOnly&&this.props.onClick(e)}),this.onKeyDown=e=>{var t,r;"Escape"===e.key&&(e.preventDefault(),null==(t=this.wrapperRef.current)||t.blur(),null==(r=this.buttonRef.current)||r.blur()),this.props.enabled&&!this.props.hidden&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),this.props.onClick(e))},this.wrapperRef=n.createRef(),this.buttonRef=n.createRef()}render(){let e,t="";t=this.props.selected?d.wH:this.props.enabled?d.Sn:d.r9,this.props.isUI3&&this.props.ui3Icon?e=this.props.ui3Icon:this.props.useSvgNode?e=this.props.svgNode?n.createElement("span",null,this.props.svgNode):null:this.props.svg&&(e=n.createElement(c.t,{svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,useOriginalSrcFills_DEPRECATED:this.props.useOriginalSrcFills_DEPRECATED,className:this.props.svgStyle}));let r=n.createElement(n.Fragment,null,!this.props.hidden&&e,this.props.text&&n.createElement("span",{className:this.props.textStyle||(this.props.svg?d.Pf:d.Qq)},this.props.text),this.props.showIndicator&&n.createElement("span",{className:this.props.indicatorStyle?this.props.indicatorStyle:d.q3}),this.props.showChevron&&(this.props.isUI3?n.createElement("div",{className:d.VI},n.createElement(i.O,null)):this.props.positionOnChevron?n.createElement("div",{className:d.FH,ref:this.props.chevronRef},n.createElement(s.B,{svg:u.A,className:o()(d.cN,d.Ot)})):n.createElement(s.B,{svg:u.A,className:d.cN})),this.props.children);return n.createElement("button",{id:this.props.id,ref:this.buttonRef,className:o()(t,this.props.narrow?d.sc:null,this.props.className),onMouseDown:this.props.enabled&&!this.props.hidden?this.onClick:void 0,onClick:p,"data-tooltip-type":this.props["data-tooltip-type"],"data-tooltip":this.props["data-tooltip"],"data-tooltip-shortcut-key":this.props["data-tooltip-shortcut-key"],"data-tooltip-offset-x":this.props.showChevron&&!this.props.isUI3&&this.props.positionOnChevron?8:0,"data-onboarding-key":this.props.onboardingKey,"data-testid":this.props.dataTestId,onKeyDown:this.onKeyDown,"aria-label":this.props.ariaLabel,"aria-expanded":this.props["aria-expanded"],"aria-controls":this.props["aria-controls"],"aria-haspopup":this.props["aria-haspopup"],"data-fullscreen-intercept":!0},r)}}_.displayName="TopBarAction",_.defaultProps={enabled:!0,hidden:!1}},561899:(e,t,r)=>{"use strict";function n(e){return!!(e.deeplink&&e.preferred_attachments.map(e=>e._block_type).includes("ClientActionableAttachment"))&&a(e.deeplink.href)}function i(e){return e.deeplink?o(e.deeplink.href):null}r.d(t,{AS:()=>i,UC:()=>n,sL:()=>o});let a=e=>{let t=new URL(e);return"file"===t.pathname.split("/")[1]&&t.hash.length>1&&"#-1"!==t.hash};function o(e){if(!1===a(e))return null;let t=new URL(e),r=t.pathname.split("/");return r.length<3?null:{fileKey:r[2],threadId:t.hash.slice(1),deeplink:e}}},87627:(e,t,r)=>{"use strict";r.d(t,{$o:()=>E,AH:()=>h,D1:()=>y,J_:()=>_,KR:()=>b,bn:()=>v,dD:()=>g,pH:()=>f});var n=r(411855),i=r(188507),a=r(499737),o=r(391388),l=r(218881),s=r(477782),c=r(860178),d=r(801387),u=r(99506),p=r(279453),m=r(623746);function _(){let{getConfig:e}=(0,l.I7)("exp_file_browser_workspace_pinning");return n.useCallback(()=>!!e().getValue("enabled",!1),[e])}let h="workspace";function g(e,{enabled:t=!0}={}){let r=(0,a.Rs)(p.rSB,{workspaceId:e},{enabled:t});return o.Qw.useTransformShallowEqual(r,e=>{if(!e.workspace||!e.workspace.pinnedFiles)return null;let t=[];for(let r of e.workspace.pinnedFiles)r.file&&t.push(r.file.id);return t})}function f(e,t={}){let r=(0,c.TA)(),n=(0,i.d4)(e=>e.currentUserOrgId),l=(0,a.Rs)(p.PG0,{fileKey:e??"",orgId:n},t);return o.Qw.useTransformShallowEqual(l,t=>{var i,a;let{file:o}=t,l=(null==(i=null==o?void 0:o.team)?void 0:i.workspace)??null,s=(0,d.ne)(t);if(!n||!o||!l||!s)return{canPinFileToWorkspace:!1,canEditPin:!1,existingFilePinId:null};let c=l.pinnedFiles,p=null==c?void 0:c.find(t=>{var r;return(null==(r=t.file)?void 0:r.key)===e}),m=!!c&&c.length>=y,_=s.workspaceId===l.id,h=_&&s.permission===u.bp.ADMIN,g=(null==(a=null==p?void 0:p.creator)?void 0:a.id)===r,f=o.isWorkspaceVisible||o.canEdit,E=!p&&!m&&_&&f,b=p&&(h||g);return E?{canPinFileToWorkspace:!0,canEditPin:!1,existingFilePinId:null}:b?{canPinFileToWorkspace:!1,canEditPin:!0,existingFilePinId:p.id}:{canPinFileToWorkspace:!1,canEditPin:!1,existingFilePinId:null}})}function E(e){var t;let r=(0,a.Rs)(p.m28,{}),n=g(e);if("errors"===r.status)return o.Qw.error(r.errors);if("errors"===n.status)return o.Qw.error(n.errors);if("loaded"!==r.status||"loaded"!==n.status)return o.Qw.loading();{let i=new Set(...n.data??[]);return o.Qw.loaded((0,m.YN)(null==(t=r.data.currentUser.recentFiles2)?void 0:t.filter(({file:t})=>!(!t||t.workspaceId!==e||!t.isWorkspaceVisible||i.has(t.key)))).recent_files)}}let y=8;function b(e){var t,r;return{created_at:e.createdAt.toDateString(),creator_id:e.creatorId,description:e.description,edit_url:e.editUrl,folder_id:e.folderId,has_file_link_password:e.hasFileLinkPassword,has_proto_link_password:e.hasProtoLinkPassword,key:e.key,link_access:e.linkAccess,name:e.name,parent_org_id:e.parentOrgId,proto_link_access:e.protoLinkAccess,team_id:e.teamId,thumbnail_url:e.thumbnailUrl,thumbnail_url_override:e.thumbnailUrlOverride,client_meta:e.clientMeta,deleted_at:(null==(t=e.deletedAt)?void 0:t.toDateString())??null,trashed_at:(null==(r=e.trashedAt)?void 0:r.toDateString())??null,trashed_user_id:e.trashedUserId,license:e.license,prototype_url:e.prototypeUrl,file_repo_id:e.fileRepoId,editor_type:e.editorType,touched_at:e.touchedAt,url:e.url,updated_at:e.updatedAt.toDateString(),source_file_key:e.sourceFileKey,is_try_file:e.isTryFile}}function v(e){return{type:s.nb.FILE,file:b(e)}}},762210:(e,t,r)=>{"use strict";r.d(t,{yq:()=>Q,AN:()=>ee});var n=r(411855),i=r(188507),a=r(511617),o=r(697170),l=r(737947),s=r(560945),c=r(563706),d=r(761870),u=r(195847),p=r(946689),m=r(574176),_=r(939863),h=r(363659),g=r(672517),f=r(151166),E=r(198371),y=r(892677),b=r(857766),v=r(122983),I=r(809511),T=r(737499),S=r(611978),w=r(860178),A=r(224857),C=r(499737),N=r(944682),O=r(738269),L=r(335682),R=r(279453),P=r(691205),k=r(428467),D=r(239671),M=r(713190),x=r(634694),F=r(51009),U=r(787337);function B(e){let{buttonText:t,buttonOnClick:r,message:i}=e;return n.createElement(M.R,{className:F.kL},n.createElement("div",{className:F.qr},n.createElement("div",{className:F.PU},n.createElement(m.B,{svg:U.A,className:F.hz}),n.createElement("span",{className:F.Qw},n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.locked"}),"\xa0\xa0\xa0"),n.createElement("span",{className:F.Lo},i)),n.createElement("div",{className:F.wV},t&&r&&n.createElement(p.nR,{className:F.x6,onClick:r},e.buttonText))))}function H(){let e=(0,i.wA)(),t=(0,i.d4)(L.tB),r=P.M4.useFile((null==t?void 0:t.key)||"").data,a=(0,i.d4)(e=>(0,k.getPermissionsState)(e)),o=(0,C.Rs)(R._iU,{branchFileKey:t&&(null==t?void 0:t.key)||""}),l=(0,b.up)(t??{fileRepoId:null},a.repos),s=(0,A.S)((null==l?void 0:l.default_file_key)??"");if(!t||!r||!l)return null;let c=l.default_file_key,d="loaded"===o.status&&(null===o.data.file||o.data.file&&(0,x.AM)(o.data.file)===x.pT.MERGED),u="loaded"!==o.status||d,p=(0,k.canManageFile)(t.key,a,void 0),m=c&&"loaded"===s.status&&s.data.result;return u?n.createElement(B,{message:n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.merged"})}):p?n.createElement(B,{message:n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.restore_branch"}),buttonText:n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.restore_branch_button"}),buttonOnClick:()=>{e(N.iF({fileKeys:{[r.key]:r},userInitiated:!0}))}}):n.createElement(B,{message:n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.can_restore_branch"}),buttonText:m?n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.back_to_main_file"}):void 0,buttonOnClick:m?()=>{e(O.$T({view:"fullscreen",fileKey:c,editorType:D.nT.Design}))}:void 0})}H.displayName="ArchivedBranchFooter";var V=r(601538),G=r(181912),W=r(662275),K=r(344202);function Y(){let e=(0,i.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.name}),t=(0,S._6)(),r=(0,i.wA)();return({origin:n,formState:i})=>{let a="DUPLICATE"===t.landingState&&e?(0,_.t)("footer_banner.log_in_or_create_an_account_to_get_a_copy_of_file_name",{fileName:e}):"";r(d.I.init({origin:n,formState:i,redirectUrl:l.Ay.location.pathname})),r(W.to({type:K.x,data:{headerText:a}}))}}function j(e){let t=(0,G.A)(),r=Math.max(0,Math.ceil((0,G.A)(e).diff(t,"minutes",!0)));if(r>=60){let e=Math.ceil(r/60);return(0,_.t)("figjam_try_v2.timer_hours_left",{hoursLeft:e})}return(0,_.t)("figjam_try_v2.timer_minutes_left",{minutesLeft:r})}var z=r(624538),$=r(321112),Z=r(248480),q=r(366370),J=r(154081),X=r(654517);function Q(){let e=(0,i.d4)(e=>e.openFile),t=(0,w.iZ)(),r=(0,E.nF)(!0),a=(0,i.d4)(e=>e.progressBarState.mode),l=(0,v.ck)(),s=(0,f.N)(),d=!s&&r.enabled,p=(0,T.Kx)(),m=!!(null==p?void 0:p.handleSignUp),_=(0,y.v)();n.useEffect(()=>{_()},[_]);let h=Y();return t?e&&(0,b.Kz)(e)&&e.trashedAt&&a===I.Oin.OFF?n.createElement(H,null):null:l||d||!e||c.Ay.isMeetDevice?null:n.createElement("div",{className:m?Z.SG:Z.cI},n.createElement(et,{isFigJamTry:s}),!s&&n.createElement(z.P,{origin:o.DT.LOGGED_OUT_FILE,authModalCallback:()=>h({origin:o.DT.LOGGED_OUT_FILE,formState:u.qB.SIGN_UP_EXTRA_INFO})}))}let ee=120;function et({isFigJamTry:e}){let t=t=>e&&t?o.ty.FIGJAM_TRY_FOOTER_BANNER_CONTINUE_WITH_GOOGLE:e?o.ty.FIGJAM_TRY_FOOTER_BANNER:t?o.ty.LOGGED_OUT_FOOTER_CONTINUE_WITH_GOOGLE:o.ty.LOGGED_OUT_FOOTER,r=(0,f.B)(),c=Y(),y=e?r:c,b=(0,i.wA)(),v=(0,T.Kx)(),I=!!(null==v?void 0:v.handleSignUp),w=(0,E.nF)(!I),A=(0,S._6)(),C=function(e,t){let[r,i]=n.useState(j((()=>{let e=new Date;return e.setDate(e.getDate()+1),e})()));return n.useEffect(()=>{if(!e||!t.enabled)return;let r=()=>i(j(t.until));r();let n=setInterval(r,6e4);return()=>clearInterval(n)},[e,t]),r}(e,w),N=(0,_.t)("footer_banner.welcome_to_figma"),O="DUPLICATE"===A.landingState?(0,_.t)("footer_banner.create_an_account_to_get_your_own_copy_of_this_file"):(0,_.t)("footer_banner.create_an_account_to_edit_and_collaborate_on_this_file"),L={src:J.A,style:Z.c6},R=!1;e&&(N=C,O=I?(0,_.t)("figjam_try_v2.to_save_your_work_create_free_account"):(0,_.t)("figjam_try_v2.after_that_this_board_will_be_deleted"),L={src:X.A,style:Z.J$},R=!w.enabled||"fallback"===w.id);let P=(0,h.Sc)(),k=R?n.createElement("div",{className:Z.jw}):n.createElement("span",{className:I?Z.In:Z.GD},N),D=R?O:n.createElement("span",{className:I?Z.MP:Z.Yg},O),M=n.useRef(null);(function(e,t){let r=(0,s.w)(t)??s.c;n.useEffect(()=>{if(!e)return;let n=document.documentElement.style,i=t.current;if(!i)return;let a=i.parentElement;if(!a)return;let o=parseInt(window.getComputedStyle(i).getPropertyValue("padding"))||0,l=window.getComputedStyle(a),s=parseInt(getComputedStyle(document.body).getPropertyValue("--toolbar-height"))||48,c=parseInt(l.getPropertyValue("top"))||s,d=parseInt(l.getPropertyValue("margin"))||0;return n.setProperty("--editor-banner-height",`${r.height+2*o+(c-s)+d}px`),()=>{n.setProperty("--editor-banner-height","0px")}},[e,t,r.height])})(I,M),n.useEffect(()=>{(null==v?void 0:v.updateFigJamTryExpiration)&&w.enabled&&w.until&&v.updateFigJamTryExpiration(w.until)},[v,w]);let[x,F]=n.useState(!1),U=(0,T.pt)();return n.useEffect(()=>{U&&(U._processing_sign_up=e=>{F(e)})},[U,F]),n.createElement(g.fu,{name:"Google Logged-out File Banner",properties:{localExperimentSeed:P,isFigJamTry:e}},I?n.createElement("div",{className:`${Z.hI} ${$.yl}`,ref:M},n.createElement("div",{className:Z.G_},n.createElement("a",{className:L.style,href:"/",target:"_blank",rel:"noopener"},n.createElement(m.B,{svg:L.src,useOriginalSrcFills_DEPRECATED:!0})),n.createElement("div",{className:Z.Te},k,D)),n.createElement("div",{className:`${Z._o} ${Z.bQ}`},n.createElement(p.vd,{disabled:x,fullWidth:!0,key:"email-btn",onClick:()=>{(null==v?void 0:v.handleSignUp)&&v.handleSignUp()},className:`${Z.vk} ${Z.ny}`},n.createElement("div",{className:Z.Af},x&&n.createElement("span",{className:Z.u1},n.createElement("div",{className:Z.us}),n.createElement("div",{className:Z.us}),n.createElement("div",{className:Z.us}),n.createElement("div",{className:Z.us}),n.createElement("div",{className:Z.us}),n.createElement("div",{className:Z.us}),n.createElement("div",{className:Z.us}),n.createElement("div",{className:Z.us})),n.createElement(_.Tx,{id:"footer_banner.sign_up_for_free"}))))):n.createElement("div",{className:`${Z._C} ${$.yl}`,ref:M},n.createElement("div",{className:Z.G_},n.createElement("a",{className:L.style,href:"/",target:"_blank",rel:"noopener"},n.createElement(m.B,{svg:L.src,useOriginalSrcFills_DEPRECATED:!0})),n.createElement("div",{className:Z.FS},k,D)),n.createElement("div",{className:Z._o},n.createElement(p.tM,{onClick:()=>{o.BJ(b,t(!0),()=>y({origin:t(!0),formState:u.qB.SIGN_UP_EXTRA_INFO})).then(t=>{b(d.I.setRedirectUrl({redirectUrl:(0,a.dR)(l.Ay.location.pathname,e?{[V.ao.key]:V.ao.value}:{})})),b(d.I.complete({userId:t.id}))},()=>{})},innerText:"Continue with Google",key:"google-btn"},n.createElement("div",{className:Z.gb},n.createElement(m.B,{svg:q.A,useOriginalSrcFills_DEPRECATED:!0}),n.createElement(_.Tx,{id:"footer_banner.continue_with_google"}))),n.createElement("div",{style:{width:12},key:"spacer-div"}),n.createElement(p.KL,{key:"email-btn",onClick:()=>{y({origin:t(!1),formState:u.qB.SIGN_UP})},className:Z.vk},n.createElement(_.Tx,{id:"footer_banner.sign_up_with_email"})))))}},624538:(e,t,r)=>{"use strict";r.d(t,{P:()=>b});var n=r(411855),i=r(188507),a=r(935283),o=r(697170),l=r(737947),s=r(733556),c=r(966712),d=r(586459),u=r(761870),p=r(145356),m=r(195847),_=r(140908),h=r(942830),g=r(447532),f=r(293692);let E="g_one_tap";function y({origin:e,iFrameHandler:t,authModalCallback:r=()=>{}}){let g=(0,s.J)(h.o,[]),y=(0,i.wA)(),b=!!(0,_.S$)(),v=n.useCallback(async({credential:n})=>{(0,p.g6)("google_one_tap_login_start",e,{},{forwardToDatadog:!0});let i=(0,f.z)(n);if(!i)return;let a={name:i.name,token:n,tokenType:m.V7.ID_TOKEN};if(t){t(a);return}try{let t=await (0,o.W8)(a,{dispatch:y,apiUrl:o._B,origin:e,showExtraInfoModalCb:r});(0,p.g6)("google_one_tap_login_complete",e,{},{forwardToDatadog:!0}),y(u.I.setRedirectUrl({redirectUrl:l.Ay.location.pathname})),y(u.I.complete({userId:t.id}))}catch(e){y(u.I.showError({message:e.message}))}},[e,t,y,r]),I=n.useRef(!1);return n.useEffect(()=>{if(g.status===d.r.SUCCESS&&!I.current){I.current=!0;let t=g.value,{google_client_id:r}=(0,c.Ay)();(0,a.KF)(void 0!==r,"google_client_id should be defined in initialOptions"),t.accounts.id.initialize({client_id:r,prompt_parent_id:E,callback:v,cancel_on_tap_outside:!1,itp_support:!1,use_fedcm_for_prompt:b}),t.accounts.id.prompt(t=>{if(b){let r=t.getMomentType();(0,p.g6)("google_one_tap_prompt_moment",e,{momentType:r,reason:"dismissed"===r?t.getDismissedReason():void 0},{forwardToDatadog:!0});return}"display"===t.getMomentType()?t.isDisplayed()?(0,p.g6)("google_one_tap_prompt_displayed",e,{},{forwardToDatadog:!0}):(0,p.g6)("google_one_tap_prompt_display_failed",e,{reason:t.getNotDisplayedReason()},{forwardToDatadog:!0}):"skipped"===t.getMomentType()?(0,p.g6)("google_one_tap_prompt_skipped",e,{reason:t.getSkippedReason()},{forwardToDatadog:!0}):"dismissed"===t.getMomentType()&&(0,p.g6)("google_one_tap_prompt_dismissed",e,{reason:t.getDismissedReason()},{forwardToDatadog:!0})})}},[g,v,e,b]),n.createElement("div",{id:E,"data-testid":"google_one_tap",className:"google_one_tap--googleOneTap--c-K3O"})}function b(e){var t;return(null==(t=(0,c.kc)())?void 0:t.google_one_tap_killswitch)?null:n.createElement(g.d,null,n.createElement(y,{...e}))}},448211:(e,t,r)=>{"use strict";r.d(t,{En:()=>d,U3:()=>g,ZG:()=>b,dl:()=>c,iT:()=>u,it:()=>E,l0:()=>y,q4:()=>_,qJ:()=>h,sh:()=>p,xR:()=>m});var n=r(778883),i=r(96328),a=r(939863),o=r(457630),l=r(357864),s=r(913964);function c(e,t){return(0,l.GY)(e,t)||"WIDGET"===t.type}function d(e){let t=[];for(let[r,n]of(e.shapeType&&t.push(b(e.shapeType)),"img"===e.ariaRole?e.accessibleLabel?t.push(e.accessibleLabel):t.push((0,a.t)("fullscreen.accessibility_dom.unlabeled_image")):"MEDIA"===e.type?e.accessibleLabel?t.push(e.accessibleLabel):t.push((0,a.t)("fullscreen.accessibility_dom.unlabeled_video")):t.push((0,s.r)(e.type)),("SECTION"===e.type||"INSTANCE"===e.type||"FRAME"===e.type)&&e.name&&t.push(e.name),e.contentsHidden&&t.push((0,a.t)("fullscreen.accessibility.contents_hidden")),e.setData.size>1&&t.push((0,a.t)("fullscreen.accessibility_dom.pos_in_set",{i:e.setData.i,size:e.setData.size})),e.numChildren&&e.numChildren>0&&t.push((0,a.t)("fullscreen.accessibility_dom.num_children",{n:e.numChildren})),Object.entries(e.stampFrequencies??{})))t.push((0,a.t)("fullscreen.accessibility_dom.num_stamps",{count:n,name:r}));return(0,i.Yx)(t,"unit")}function u(e){return"SECTION"===e}function p(e){return u(e.type)&&e.name?e.name:null}function m(e){if(0===Math.round(e.angle))return e;let t=(0,n.getCenteredRotation)(e.angle,e.width,e.height);return{...e,x:e.x-t[0][2],y:e.y-t[1][2]}}function _(e){let t=null==e?void 0:e.textData;return(null==t?void 0:t.characters)?{characters:t.characters,lines:t.lines,styleOverrideTable:t.styleOverrideTable,characterStyleIDs:t.characterStyleIDs,hyperlink:e.hyperlink,defaultFont:e.fontName,defaultFontSize:e.fontSize,defaultTextDecoration:e.textDecoration}:{}}function h(e,t){return"TABLE"!==t.type?[]:t.sortedTableCells}function g(e){return e.fills&&(1===e.fills.length&&"IMAGE"===e.fills[0].type||2===e.fills.length&&"IMAGE"===e.fills[1].type)?"img":"SECTION"===e.type?"region":"TABLE"===e.type?"table":"group"}let f={x:0,y:0,width:1e3,height:1e3,angle:0};function E(e){let t=(0,o.Yb)(e,f),r=(0,o.HD)(t,e);return{left:r.x,top:r.y,width:r.width,height:r.height,position:"absolute"}}function y(e,t){let r=0!==Math.round(e.angle)?{transform:`rotate(${(360-e.angle).toString()}deg)`}:{},n=f;return"canvas"!==t&&(n=t),{position:"absolute",left:100*e.x/n.width+"%",top:100*e.y/n.height+"%",width:100*e.width/n.width+"%",height:100*e.height/n.height+"%",...r}}function b(e){switch(e){case"DIAMOND":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-diamond");case"ELLIPSE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-ellipse");case"ENG_DATABASE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-eng-database");case"ENG_FILE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-eng-file");case"ENG_FOLDER":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-eng-folder");case"ENG_QUEUE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-eng-queue");case"PARALLELOGRAM_RIGHT":case"PARALLELOGRAM_LEFT":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-parallelogram-right");case"ROUNDED_RECTANGLE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-rounded-rectangle");case"SQUARE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-square");case"TRIANGLE_DOWN":case"TRIANGLE_UP":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-triangle-down");case"TRAPEZOID":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-trapezoid");case"STAR":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-star");case"SHIELD":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-shield");case"HEXAGON":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-hexagon");case"PENTAGON":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-pentagon");case"OCTAGON":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-octagon");case"PLUS":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-plus");case"PREDEFINED_PROCESS":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-predefined-process");case"MANUAL_INPUT":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-manual-input");case"CHEVRON":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-chevron");case"DOCUMENT_SINGLE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-document-single");case"DOCUMENT_MULTIPLE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-document-multiple");case"ARROW_LEFT":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-arrow-left");case"ARROW_RIGHT":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-arrow-right");case"SUMMING_JUNCTION":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-summing-junction");case"OR":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-or");case"SPEECH_BUBBLE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-speech-bubble");case"INTERNAL_STORAGE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-internal-storage");default:throw Error(`Unhandled shape type: ${e}`)}}},913964:(e,t,r)=>{"use strict";r.d(t,{r:()=>a,s:()=>o});var n=r(939863),i=r(852800);function a(e){switch(e){case"SECTION":return(0,n.t)("fullscreen.accessibility_dom.node_name_section");case"STICKY":return(0,n.t)("fullscreen.accessibility_dom.node_name_sticky");case"ROUNDED_RECTANGLE":case"SHAPE_WITH_TEXT":return(0,n.t)("fullscreen.accessibility_dom.node_name_shape");case"CONNECTOR":return(0,n.t)("fullscreen.accessibility_dom.node_name_connector");case"CODE_BLOCK":return(0,n.t)("fullscreen.accessibility_dom.node_name_code_block");case"LINE":return(0,n.t)("fullscreen.accessibility_dom.node_name_line");case"TEXT":return(0,n.t)("fullscreen.accessibility_dom.node_name_text");case"TABLE":return(0,n.t)("fullscreen.accessibility_dom.node_name_table");case"TABLE_CELL":return(0,n.t)("fullscreen.accessibility_dom.node_name_table_cell_generic");case"WIDGET":return(0,n.t)("fullscreen.accessibility_dom.node_name_widget");case"INSTANCE":return(0,n.t)("fullscreen.accessibility_dom.node_name_instance");case"STAMP":return(0,n.t)("fullscreen.accessibility_dom.node_name_stamp");case"CANVAS":return(0,n.t)("fullscreen.accessibility_dom.node_name_canvas");default:return(0,n.t)("fullscreen.accessibility_dom.node_name_fallback")}}function o(e,t){return e===i.NLJ.STAMP?t?(0,n.t)("fullscreen.accessibility_dom.current_tool_stamp",{stampName:t}):(0,n.t)("fullscreen.accessibility_dom.current_tool",{toolName:(0,n.t)("fullscreen_actions.set-tool-stamp")}):null}},681816:(e,t,r)=>{"use strict";r.d(t,{B5:()=>w,cH:()=>R,cU:()=>N,tp:()=>A});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(531664),s=r(646240),c=r(755887),d=r(563706),u=r(939863),p=r(738269),m=r(259927),_=r(356390),h=r(852800),g=r(843495),f=r(457630),E=r(237395),y=r(425187),b=r(490564),v=r(745968),I=r(448211),T=r(794535),S=r(420711);let w={alwaysPan:!1,noPanViewportMultiplier:.9,panJustEnoughViewportMultiplier:1.5},A={jumpOnAbort:!0};function C(e){let t=(0,c.qE)(e.headerLevel,2,6);return e.header?n.createElement(n.Fragment,null,n.createElement("div",{role:"heading","aria-level":t,id:e.header.headerId},e.header.label),e.children):n.createElement(n.Fragment,null,e.children)}function N({nodeId:e,accessibilityScope:t,isDebugMode:r,navigate:a,suppressIds:o}){let l=(0,E.A)(e,t),s=(0,i.d4)(e=>e.mirror.appModel.showComments);if(!l)return null;let c=l.childIds.length,d=l.childIds.map((i,l)=>n.createElement(O,{parentId:e,key:i,nodeId:i,accessibilityScope:t,isDebugMode:r,navigate:a,setSize:c,setPosition:l+1,headingLevel:1,suppressIds:o}));return n.createElement(n.Fragment,null,d,s?n.createElement(k,{guid:e,navigate:a,isDebugMode:r,parentTransformProperties:"canvas",isTopLevel:!0}):null)}function O({accessibilityScope:e,nodeId:t,isDebugMode:r,navigate:i,setSize:a,setPosition:o,headingLevel:l,parentId:s,suppressIds:c}){let d=(0,E.A)(t,e);if(!d)return null;let{childIds:u,...p}=d;return n.createElement(L,{...p,nodeId:t,isDebugMode:r,navigate:i,setSize:a,setPosition:o,headingLevel:l,parentId:s,childIds:u,accessibilityScope:e,suppressIds:c})}let L=n.memo(({childIds:e,...t})=>{let{accessibilityScope:r,isDebugMode:i,navigate:a,nodeId:o,headingLevel:l,suppressIds:s,type:c}=t,d=(0,I.iT)(c)?l+1:l,u=e.length;return n.createElement(R,{...t,size:u},e.map((e,t)=>n.createElement(O,{key:e,nodeId:e,accessibilityScope:r,isDebugMode:i,navigate:a,parentId:o,headingLevel:d,setSize:u,setPosition:t+1,suppressIds:s})))},function({directTextContent:e,innerTextContent:t,tableCells:r,transformProperties:n,childIds:a,stampFrequencies:o,accessibleLabel:s,...c},{directTextContent:d,innerTextContent:u,tableCells:p,transformProperties:m,childIds:_,stampFrequencies:h,accessibleLabel:g,...f}){return(0,i.bN)(c,f)&&(0,i.bN)(n,m)&&(0,i.bN)(o,h)&&(0,i.bN)(s,g)&&(0,i.bN)(a,_)&&(0,l.c2)(e,d)&&(0,l.c2)(t,u)&&(0,l.c2)(r,p)});function R({children:e,parentId:t,setSize:r=1,setPosition:a=1,headingLevel:l=2,author:c,transformProperties:E,directTextContent:b,innerTextContent:N,tableCells:O,headerLabel:L,guid:R,isDebugMode:P,navigate:D,ariaRole:M,name:x,shapeType:F,size:U,type:B,nodeId:H,suppressIds:V,stampFrequencies:G,accessibleLabel:W,contentsHidden:K}){let Y;let j=(0,i.Pj)(),z=j.getState().comments.showResolved,$=(0,i.d4)(e=>e.mirror.appModel.showComments),Z=j.getState().mirror.sceneGraph,q=(0,I.iT)(B)?l+1:l,J=(0,I.En)({type:B,shapeType:F,ariaRole:M,name:x,setData:{size:r,i:a,headerLevel:l},numChildren:U,stampFrequencies:G,accessibleLabel:W,contentsHidden:K}),X=t?Z.get(t):void 0;Y=t&&X&&"CANVAS"!==X.type?(0,I.xR)(h.Egt.getNodeTransformProperties(t)):"canvas";let Q=(0,I.l0)(E,Y),ee=(0,T.rp)(b,T.d2.SEMANTIC),et=(0,T.rp)(N,T.d2.SEMANTIC),er=(0,T.Dm)(Z,H,O),en=L?{label:L,headerId:`sectionHeaderFor-${R}`}:null,ei=(0,i.d4)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection);return(e.mirror.appModel.activeCanvasEditModeType!==h.m1T.TEXT&&1===t.length?t[0]:"")===R}),{groupCommentNodeId:ea,groupCommentTransformProperties:eo,groupSize:el}=function(e,t){var r;let n,i,a;let o=null==(r=t.get(e))?void 0:r.parentGuid,l=o?t.get(o):void 0;for(;null==l?void 0:l.resizeToFit;){n=l.guid??e;let r=l.parentGuid;l=r?t.get(r):void 0}if(n){let t=h.glU.getSortedChildGuids(n);t.length>0&&t[t.length-1]===e?(a=t.length,i=(0,I.xR)(h.Egt.getNodeTransformProperties(n))):n=void 0}return{groupCommentNodeId:n,groupCommentTransformProperties:i,groupSize:a}}(R,Z);(function(e,t,r,i,a,o,l,c,d){let u=(0,s.Xr)(y.f);n.useEffect(()=>{e&&u({type:"SET_CURRENTLY_SELECTED_NODE",payload:{nodeId:d,ariaLabel:(0,I.En)({type:t,shapeType:r,name:i,accessibleLabel:a,setData:{size:o,i:l,headerLevel:c}})}})},[a,c,l,e,i,d,r,o,t,u])})(ei,B,F,x,W,r,a,l,H),n.useEffect(()=>{var e,t,r,n;V||(ei&&!h.VDs.getExpectingTextInput()?(null==(e=document.getElementById(R))||e.setAttribute("tabindex","0"),null==(t=document.getElementById(R))||t.focus()):(null==(r=document.getElementById(R))||r.setAttribute("tabindex","-1"),null==(n=document.getElementById(R))||n.blur()))},[R,ei,V]);let[es,ec]=(0,v.l)(P?[t,c,E,b,N,L,R,ei,M,x,F,B,H,V]:[]);return n.createElement(n.Fragment,null,n.createElement("div",{id:V?void 0:R,ref:ec,role:M,className:o()(S.rH,P&&es),style:Q,"aria-label":J,tabIndex:-1,contentEditable:d.Ay.windows&&ei?"true":void 0,onContextMenu:e=>{j.dispatch(p.j7({type:m.K9,data:{clientX:e.clientX,clientY:e.clientY}})),e.preventDefault()},onFocus:e=>{e.target!==e.currentTarget||e.relatedTarget===e.currentTarget||ei||(g.wr(),g.Dh([R]),_.Y5.commit(),D((0,f.QZ)({nodeId:R,...w}),A))},"data-guid":V?R:void 0,"data-fullscreen-intercept-dangerously-include-tab":!0},n.createElement(C,{header:en,headerLevel:q},et.length>0?et:null,ee.length>0?ee:null,null!=c&&n.createElement(u.Tx,{id:"fullscreen.accessibility.author",authorName:c}),er.length>0?er:null,e),$?n.createElement(k,{guid:R,navigate:D,isDebugMode:P,parentTransformProperties:E,showResolved:z}):null),$&&ea?n.createElement(k,{guid:ea,navigate:D,isDebugMode:P,parentTransformProperties:"canvas",intermediateTransformProperties:eo??E,showResolved:z,groupSize:el}):null)}function P({isDebugMode:e,threads:t,navigate:r,parentTransformProperties:i,intermediateTransformProperties:a}){return n.createElement(n.Fragment,null,null==t?void 0:t.map((o,l)=>n.createElement(b.g,{key:o.id,thread:o,navigate:r,isDebugMode:e,setPos:l+1,setSize:t.length,intermediateTransformProperties:a,parentTransformProperties:i})))}function k({guid:e,isDebugMode:t,navigate:r,isTopLevel:i,groupSize:a,parentTransformProperties:o,intermediateTransformProperties:l,showResolved:s}){let c=(0,b.x)(e),d=s?c:null==c?void 0:c.filter(e=>e.comments.length>0&&!e.comments[0].resolved_at),p=n.createElement(P,{threads:d,navigate:r,isDebugMode:t,parentTransformProperties:o,intermediateTransformProperties:l});if(!(d&&d.length>0))return null;if(i)return n.createElement("div",{role:"region","aria-labelledby":"canvas-comments-heading"},n.createElement("h2",{id:"canvas-comments-heading"},n.createElement(u.Tx,{id:"fullscreen.accessibility_dom.unattached_comments"})),p);if(!a)return p;{let e=(0,u.t)("fullscreen.accessibility_dom.grouped_comments",{groupSize:a});return n.createElement("div",{role:"group","aria-label":e},p)}}},274071:(e,t,r)=>{"use strict";r.d(t,{$z:()=>I,Gl:()=>y,lo:()=>v,of:()=>b});var n=r(411855),i=r(188507),a=r(794272),o=r(572174),l=r(96328),s=r(939863),c=r(392592),d=r(529906),u=r(21067),p=r(356390),m=r(852800),_=r(239671),h=r(861802),g=r(913964);function f(e){e.target instanceof HTMLInputElement&&e.target.setAttribute("aria-hidden","false")}function E(e){e.target instanceof HTMLInputElement&&e.target.setAttribute("aria-hidden","true")}let y="hidden-input-activedescendant";function b(e){(0,n.useEffect)(()=>{let t=v();return null==t?p.Y5.onReady().then(()=>{let t=v();setTimeout(()=>{null!=t&&(t.ariaLabel=T(e),t.setAttribute("aria-activedescendant",y),t.addEventListener("focus",f),t.addEventListener("blur",E))},500)}):(t.ariaLabel=T(e),t.setAttribute("aria-activedescendant",y),t.addEventListener("focus",f),t.addEventListener("blur",E)),()=>{null==t||t.removeEventListener("focus",f),null==t||t.removeEventListener("blur",E)}},[e]);let t=(0,a.R)(e=>Object.keys(e.mirror.sceneGraphSelection).length),r=(0,i.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===m.m1T.DESIGN_LAYOUT||e.mirror.appModel.activeCanvasEditModeType===m.m1T.WHITEBOARD_LAYOUT||e.mirror.appModel.activeCanvasEditModeType===m.m1T.COMMENTS),b=(0,d.e_)(),[I,S]=(0,a.R)(e=>{let t;return null!=e.mirror.appModel.currentStampToolName&&""!==e.mirror.appModel.currentStampToolName&&(t=(0,h.TI)(e.mirror.appModel.currentStampToolName)()),[e.mirror.appModel.currentTool,t]}),w=(0,i.wA)(),A=(0,n.useRef)(!1);(0,n.useEffect)(()=>{if(e!==_.nT.Whiteboard||!r)return;let n=null;0===t&&!0===A.current?n=(0,s.t)("fullscreen.accessibility.selection_cleared"):t>1&&(n=(0,s.t)("fullscreen.accessibility.multi_select",{n:t})),b&&n&&w(c.F.enqueue({type:`${u.xM}-${u.lU}`,message:n,role:"status",timeoutOverride:100})),A.current=t>0},[e,w,t,r,b]),(0,n.useEffect)(()=>{let r=v();if(null==r)return;let n=[T(e),(0,g.s)(I,S),t>0?(0,s.t)("fullscreen.accessibility.num_items_selected",{num_selected:t}):null].filter(o.Vq);r.ariaLabel=(0,l.Yx)(n,"unit");let i=document.getElementById(y);i&&(i.ariaLabel=(0,l.Yx)(n,"unit"))},[e,t,I,S])}function v(){var e;let t=null==(e=document.getElementById("fullscreen-root"))?void 0:e.getElementsByClassName("focus-target");if(null==t)return null;for(let e of t){let t="application"===e.getAttribute("role")||"application"===e.role;if(e.hasAttribute("readonly")&&t)return e}return null}function I(){var e;null==(e=v())||e.focus()}function T(e){return e===_.nT.Whiteboard?(0,s.t)("general.figjam"):(0,s.t)("general.figma_design")}},405206:(e,t,r)=>{"use strict";r.d(t,{Nu:()=>m,a1:()=>h,by:()=>g});var n=r(411855),i=r(902008),a=r(629019),o=r.n(a),l=r(268537),s=r(638889),c=r(46481),d=r(762638),u=r(724258),p=r(813421);function m(e){return n.createElement("div",{className:u.zc},e.children)}function _(e){return n.createElement("div",{className:u.K2},e.children)}function h(e){return n.createElement(l.W.Option,{disabled:!e.isEnabled,onClick:e.onClick,onPointerUp:e.onPointerUp,recordingKey:e.recordingKey,className:o()(u.NV,{[u.Kt]:e.inPanel}),buttonRef:e.buttonRef,onboardingKey:e.onboardingKey,simulateHover:e.simulateHover,tooltip:e.tooltip},!e.hideCheck&&n.createElement("div",{className:u.l8},e.isChecked&&n.createElement(c.U,{svg:p.A},n.createElement(i.l,null))),e.children&&n.createElement(m,null,e.children),n.createElement("div",{className:u.Qq},e.text),null!=e.shortcut&&n.createElement(s.S,{shortcut:e.shortcut,className:u.LE}))}function g(e){return n.createElement("div",{className:u.v6},n.createElement(l.W.Option,{disabled:!e.isEnabled,onClick:e.onClick,onPointerUp:e.onPointerUp,recordingKey:e.recordingKey,className:u.cv,buttonRef:e.buttonRef,onboardingKey:e.onboardingKey,simulateHover:e.simulateHover,tooltip:e.tooltip},n.createElement("div",{className:d.cx.flex.justifyBetween.wFull.$},n.createElement("div",{className:u.$_},e.text),null!=e.shortcut&&n.createElement(s.S,{shortcut:e.shortcut,className:u.O$})),e.children&&n.createElement(_,null,e.children),e.description&&n.createElement("p",{className:u.UQ},e.description)))}},499597:(e,t,r)=>{"use strict";r.d(t,{B8:()=>F,kF:()=>A,zg:()=>w});var n=r(411855),i=r(629019),a=r.n(i),o=r(717068),l=r(743282),s=r(111161),c=r(80161),d=r(574176),u=r(987918),p=r(939863),m=r(786110),_=r(852800),h=r(617453),g=r(100197),f=r(498606),E=r(648925),y=r(928229),b=r(658755),v=r(625599),I=r(849369),T=r(949207),S=r(432023);function w({changesToDisplay:e,selectedNode:t,onHover:r,onClick:i,expandedLayers:l,setLayerExpanded:s}){let d=(0,g.J2)((0,h.UK)().showGuids),_=n.useMemo(()=>{let t=e=>{if(e.value){let t=e.value.change.guid||e.value.basis.guid,r=(0,u.dI)(t)||u.AD;return!!(null==l?void 0:l.has(r))}return!0};return(0,o.WI)((0,v.NU)((0,v.X$)(e,(e,r)=>{if(e.parent&&!t(e.parent))return{result:null,visitChildren:!1};let n=!0,{value:i,children:a}=e;if(i.changesToDisplay.length>0){let o=!!a&&a.length>0,l=i.change.guid||i.basis.guid,s=(0,u.dI)(l)||u.AD;return n=t(e),{result:{...i,indentation:r,isContainer:o,isExpanded:n,idToExpand:s}}}return{result:null}})))},[e,l]);return n.createElement("div",{className:a()(I.I,I.MI)},n.createElement("div",{className:a()(I.y6,I.b$,I.if)},(0,p.t)("dev_handoff.compare_changes.layers")),_&&n.createElement("div",{className:a()(I.H0)},n.createElement("div",{className:I.tJ},_.map((e,o)=>{let l=(0,u.dI)(e.change.guid)||(0,u.dI)(e.basis.guid),p=(0,E.mq)(e.basis,e.change);return n.createElement("div",{key:l,className:a()(I.uc,t===l?I.Qr:void 0,I.y6),onMouseOver:()=>{r&&l&&r(l)},onMouseLeave:()=>{r&&r(u.AD)},onClick:()=>{i&&l&&i(l,e)},role:"button",tabIndex:o},n.createElement("div",{className:I.iL,style:{paddingLeft:`${16*e.indentation}px`}},n.createElement("div",{className:I.Ad},n.createElement(m.Zy,{visible:e.isContainer,expanded:e.isExpanded,onMouseDown:t=>{t.stopPropagation(),e.isContainer&&(null==s||s([e.idToExpand],!e.isExpanded))},name:p}),n.createElement("div",{className:I.f1},n.createElement(E.GS,{basis:e.basis,change:e.change})),n.createElement(c.ph,{className:I.h$,text:d?`${p} (${(0,u.dI)(e.change.guid)||(0,u.dI)(e.basis.guid)})`:p,tooltipPropsWhenTruncated:{"data-tooltip":p,"data-tooltip-type":f.Ib.TEXT}})),n.createElement(R,{change:e.change,basis:e.basis})))}))))}function A(e,t,r,n){return(0,v.X$)(e,e=>{let i=e.value,a=(0,b.$8)({basis:i.basis,changes:i.change,chunkViewType:y.fE.MERGE_REVIEW,compareThumbnailSource:t,chunk:r,changedStyles:i.changedStyles,isRootNode:i.isRootNode,RenderTableDelegate:n});return a.length>0?{result:{...i,changesToDisplay:a}}:{result:null}})}function C(e){let{basis:t,change:r,changesToDisplay:i}=e,a=(0,E.mq)(t,r),o=n.useMemo(()=>({"data-tooltip":a,"data-tooltip-type":f.Ib.TEXT}),[a]);return n.createElement("div",{className:I.rH},n.createElement("div",{className:I.TH},n.createElement("span",{className:I.Cc},n.createElement(E.GS,{basis:t,change:r})),n.createElement(s.R,{className:I.h$,text:a,tooltipPropsWhenTruncated:o}),n.createElement(R,{change:r,basis:t})),n.createElement("div",null,n.createElement(P,{changesToDisplay:i})))}function N({skipMargin:e}){return n.createElement("span",{className:a()(I.P4,{[I.IV]:e})},n.createElement(p.Tx,{id:"collaboration.branching_chunk.phase_removed"}))}function O({skipMargin:e}){return n.createElement("span",{className:a()(I.r8,{[I.IV]:e})},n.createElement(p.Tx,{id:"collaboration.branching_chunk.phase_updated"}))}function L({skipMargin:e}){return n.createElement("span",{className:a()(I.Ny,{[I.IV]:e})},n.createElement(p.Tx,{id:"collaboration.branching_chunk.phase_created"}))}function R(e){let{basis:t,change:r}=e;return(0,b.N0)(t)?n.createElement(L,null):(0,b.RX)(r)?n.createElement(N,null):n.createElement(O,null)}function P(e){let{changesToDisplay:t}=e;return n.createElement(n.Fragment,null,t.map(e=>n.createElement("div",{key:e.identifier,className:a()(I.ZG,I.k$)},n.createElement("div",{className:a()(I.kb,I.aq)},n.createElement("div",{className:I.ZG},n.createElement("div",{className:I.w5},null==e?void 0:e.name()),n.createElement("div",{className:I.G2},n.createElement("div",{className:I.ag},e.oldValue())))),n.createElement("div",{className:a()(I.pG,I.aq)},n.createElement("div",{className:I.ag},e.newValue())))))}function k(e){let{chunk:t,compareThumbnailSource:r}=e,[i,o]=n.useState(!0),{change:s,basis:c}=e.pairedChanges[0],u=t.displayNode.styleType,m=(0,b.qE)(u,c,s,y.fE.MERGE_REVIEW,t,r);return 0===m.length?null:n.createElement(n.Fragment,null,n.createElement("div",{className:I.KX},n.createElement("div",{className:I.AD,role:"button",tabIndex:0,onClick:()=>{o(!i)}},i?n.createElement(d.B,{svg:T.A,className:I.OW}):n.createElement(d.B,{svg:S.A,className:I.OW}),n.createElement(p.Tx,{id:"collaboration.branching_chunk.change_details"}))),n.createElement("div",null,m.map(e=>n.createElement("div",{className:I.k$,key:(0,l.g)()},n.createElement("div",{className:I.ZG},n.createElement("div",{className:a()(I.kb)},n.createElement("div",{className:I.ZG},n.createElement("div",{className:a()(I.kb,I.w5)},e.name()),n.createElement("div",{className:I.pG},n.createElement("div",{className:I.ag},e.oldValue())))),n.createElement("div",{className:a()(I.pG,I.TI)},n.createElement("div",{className:I.ag},e.newValue())))))))}function D(e){let{pairedChanges:t,chunk:r,compareThumbnailSource:i}=e,[a,l]=n.useState(!0),s=(0,b.Be)(t,i),c=(0,o.WI)(t.map(e=>{let t=(0,b.$8)({basis:e.basis,changes:e.change,chunkViewType:y.fE.MERGE_REVIEW,compareThumbnailSource:i,chunk:r,changedStyles:e.changedStyles});return t.length?{...e,changesToDisplay:t}:null}));return(0,v.iM)(c)&&0===s.length||r&&r.phase===_.Dje.REMOVED?null:n.createElement(n.Fragment,null,n.createElement("div",{className:I.KX},n.createElement("div",{className:I.AD,role:"button",tabIndex:0,onClick:()=>{l(!a)}},a?n.createElement(d.B,{svg:T.A,className:I.OW}):n.createElement(d.B,{svg:S.A,className:I.OW}),n.createElement("div",null,n.createElement(p.Tx,{id:"collaboration.branching_chunk.change_details"})))),a&&n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(P,{changesToDisplay:s})),n.createElement("div",{className:I.pz},Array.isArray(c)&&c.map(e=>n.createElement(C,{key:(0,u.dI)(e.change.guid),basis:e.basis,change:e.change,changesToDisplay:e.changesToDisplay})))))}let M=n.memo(function(e){let{basis:t,changes:r,chunk:i,compareThumbnailSource:a}=e,o=n.useMemo(()=>(0,E.gC)(t||[]),[t]);if(!r||!t)return null;let l=r.map(e=>({change:e,basis:o[(0,u.dI)(e.guid)]}));return n.createElement("div",{className:I.X7},n.createElement("div",{className:I.yF}),(0,E.Z5)(i)?n.createElement(k,{pairedChanges:l,chunk:i}):n.createElement(D,{pairedChanges:l,chunk:i,compareThumbnailSource:a}))});class x extends n.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){return this.state.hasError?n.createElement(p.Tx,{id:"collaboration.branching_chunk.error"}):n.createElement(M,{changes:this.props.changes,basis:this.props.basis,chunk:this.props.chunk,compareThumbnailSource:this.props.compareThumbnailSource})}}let F=x},928229:(e,t,r)=>{"use strict";r.d(t,{AW:()=>l,EY:()=>m,FO:()=>d,Rv:()=>i,b2:()=>o,cs:()=>c,de:()=>_,fE:()=>a,oZ:()=>h,wR:()=>p,yC:()=>s,zX:()=>u});var n=r(743282),i=(e=>(e.RENDER_SINGLE_PROPERTY="RENDER_SINGLE_PROPERTY",e.RENDER_MULTI_PROPERTY="RENDER_MULTI_PROPERTY",e.RENDER_MULTI_NODE="RENDER_MULTI_NODE",e.RENDER_DISPLAY_NODE_SINGLE_PROPERTY="RENDER_DISPLAY_NODE_SINGLE_PROPERTY",e))(i||{}),a=(e=>(e[e.MERGE_REVIEW=0]="MERGE_REVIEW",e[e.CONFLICT_REVIEW=1]="CONFLICT_REVIEW",e))(a||{});let o={derivedTextData:!1,name:!0,visible:!0,locked:!0,parentIndex:!0,transform:!0,description:!0,symbolDescription:!0,symbolLinks:!0,type:!0,booleanOperation:!0,horizontalConstraint:!0,verticalConstraint:!0,hyperlink:!0,mention:!0,proportionsConstrained:!0,inheritGridStyleID:!0,layoutGrids:!0,inheritTextStyleID:!0,inheritFillStyleID:!0,inheritFillStyleIDForStroke:!0,inheritEffectStyleID:!0,inheritExportStyleID:!0,inheritStrokeStyleID:!0,styleIdForFill:!0,styleIdForStrokeFill:!0,styleIdForText:!0,styleIdForEffect:!0,styleIdForGrid:!0,scrollBehavior:!0,transitionType:!0,transitionDuration:!0,easingType:!0,scrollDirection:!0,transitionPreserveScroll:!0,connectionType:!0,interactionType:!0,transitionTimeout:!0,interactionMaintained:!0,interactionDuration:!0,overlayPositionType:!0,transitionShouldSmartAnimate:!0,overlayRelativePosition:!0,overlayBackgroundInteraction:!0,overlayBackgroundAppearance:!0,keyTrigger:!0,prototypeInteractions:!0,prototypeStartNodeID:!0,prototypeStartingPoint:!0,videoPlayback:!0,stackMode:!0,stackSpacing:!0,stackCounterSizing:!0,stackPrimarySizing:!0,stackChildPrimaryGrow:!0,stackChildAlignSelf:!0,stackPrimaryAlignItems:!0,stackCounterAlignItems:!0,stackHorizontalPadding:!0,stackVerticalPadding:!0,stackPaddingRight:!0,stackPaddingBottom:!0,stackPositioning:!0,stackReverseZIndex:!0,bordersTakeSpace:!0,stackWrap:!0,stackCounterSpacing:!0,stackCounterAlignContent:!0,minSize:!0,maxSize:!0,maxLines:!0,pluginData:!0,pluginRelaunchData:!0,stackPadding:!1,stackJustify:!1,codeBlockLanguage:!0,pasteSource:!1,fontVariations:!0,detachOpticalSizeFromFontSize:!0,widgetMetadata:!0,widgetPropertyMenuItems:!0,widgetSyncedState:!0,renderedSyncedState:!0,widgetEvents:!1,widgetInputBehavior:!1,widgetCachedAncestor:!0,widgetInputTextNodeType:!1,interactiveSlideConfigData:!1,interactiveSlideParticipantData:!1,flappType:!1,themeID:!1,slideThemeData:!1,slideThemeMap:!1,slideTemplateFileKey:!1,componentPropDefs:!0,componentPropRefs:!0,componentPropAssignments:!1,simplifyInstancePanels:!0,propsAreBubbled:!0,size:!1,guid:!1,phase:!0,opacity:!1,blendMode:!1,count:!1,dashPattern:!1,autoRename:!1,backgroundEnabled:!1,mask:!1,maskType:!1,exportContentsOnly:!1,maskIsOutline:!1,backgroundOpacity:!1,cornerRadius:!1,fontSize:!1,paragraphIndent:!1,paragraphSpacing:!1,listSpacing:!1,starInnerScale:!1,miterLimit:!1,strokeWeight:!1,textTracking:!1,strokeAlign:!1,strokeCap:!1,strokeJoin:!1,textAlignHorizontal:!1,textAlignVertical:!1,textCase:!1,textDecoration:!1,leadingTrim:!1,hangingPunctuation:!1,hangingList:!1,fillPaints:!1,strokePaints:!1,lineHeight:!1,fontName:!1,textData:!1,effects:!1,handleMirroring:!1,exportSettings:!1,textAutoResize:!1,vectorData:!1,styleID:!1,backgroundColor:!1,fillGeometry:!1,strokeGeometry:!1,guidPath:!1,symbolData:!1,frameMaskDisabled:!1,resizeToFit:!1,exportBackgroundDisabled:!1,sharedSymbolReference:!1,isSymbolPublishable:!1,sharedSymbolMappings:!1,derivedSymbolData:!1,sharedSymbolVersion:!1,overrideLevel:!1,nestedInstanceResizeEnabled:!1,fontVariantCommonLigatures:!1,fontVariantContextualLigatures:!1,fontVariantDiscretionaryLigatures:!1,fontVariantHistoricalLigatures:!1,fontVariantOrdinal:!1,fontVariantSlashedZero:!1,fontVariantNumericFigure:!1,fontVariantNumericSpacing:!1,fontVariantNumericFraction:!1,fontVariantCaps:!1,fontVariantPosition:!1,guides:!1,transitionNodeID:!1,prototypeBackgroundColor:!1,internalOnly:!1,overriddenSymbolID:!1,rectangleTopLeftCornerRadius:!1,rectangleTopRightCornerRadius:!1,rectangleBottomLeftCornerRadius:!1,rectangleBottomRightCornerRadius:!1,rectangleCornerRadiiIndependent:!1,rectangleCornerToolIndependent:!1,sharedComponentMasterData:!1,cornerSmoothing:!1,styleType:!1,styleDescription:!1,unflatteningMappings:!1,letterSpacing:!1,version:!1,userFacingVersion:!1,sharedStyleMasterData:!1,sharedStyleReference:!1,sortPosition:!1,isPublishable:!1,exportTextAsSVGText:!1,isSoftDeletedStyle:!1,isSoftDeleted:!1,isNonUpdateable:!1,isOverrideOverTextStyle:!1,connectionURL:!1,prototypeDevice:!1,backgroundPaints:!1,arcData:!1,derivedSymbolDataLayoutVersion:!1,navigationType:!1,fontVersion:!1,textUserLayoutVersion:!1,textExplicitLayoutVersion:!1,textBidiVersion:!1,toggledOnOTFeatures:!1,toggledOffOTFeatures:!1,overrideKey:!1,publishFile:!1,sourceLibraryKey:!1,publishID:!1,key:!1,componentKey:!1,isC2:!1,fileAssetIds:!1,publishedVersion:!1,containerSupportsFillStrokeAndCorners:!1,isStateGroup:!1,voiceEventPhrase:!1,forceUnflatteningMappings:!1,ancestorPathBeforeDeletion:!1,stateGroupPropertyValueOrders:!1,nodeGenerationData:!1,derivedImmutableFrameData:!1,derivedImmutableFrameDataVersion:!1,shapeWithTextType:!1,connectorStart:!1,connectorEnd:!1,connectorLineStyle:!1,connectorStartCap:!1,connectorEndCap:!1,connectorType:!1,shapeUserHeight:!1,overrideStash:!1,internalEnumForTest:!1,internalDataForTest:!1,connectorControlPoints:!1,connectorTextMidpoint:!1,annotations:!1,measurements:!1,libraryMoveInfo:!1,libraryMoveHistory:!1,developerRelatedLinks:!1,stampData:!1,embedData:!1,linkPreviewData:!1,richMediaData:!1,textTruncation:!0,shapeTruncates:!1,sectionContentsHidden:!1,widgetTooltip:!1,borderTopWeight:!1,borderBottomWeight:!1,borderLeftWeight:!1,borderRightWeight:!1,borderStrokeWeightsIndependent:!1,widgetHoverStyle:!1,hasHadRTLText:!1,emojiImageSet:!1,slideThumbnailHash:!1,isWidgetStickable:!1,shouldHideCursorsOnWidgetHover:!1,variableDataValues:!1,variableConsumptionMap:!1,variableModeBySetMap:!1,variableSetModes:!1,variableSetID:!1,backingVariableSetId:!1,rootVariableKey:!1,variableResolvedType:!1,isCollectionExtendable:!1,variableScopes:!1,codeSyntax:!0,agendaPositionMap:!1,agendaMetadataMap:!1,migrationStatus:!1,editInfo:!1,documentColorProfile:!1,accessibleHTMLTag:!0,ariaRole:!0,ariaAttributes:!0,accessibleLabel:!0,tableRowPositions:!1,tableColumnPositions:!1,tableRowHeights:!1,tableColumnWidths:!1,areSlidesManuallyIndented:!1,detachedSymbolId:!1,sevMoonlitLilyData:!1,childReadingDirection:!1,readingIndex:!1,sectionStatusInfo:!1,handoffStatusMap:!1,slideActiveThemeLibKey:!1,slideSpeakerNotes:!1,diagramParentIndex:!1,diagramLayoutRuleType:!1,diagramLayoutPaused:!1,editScopeInfo:!1,sectionPresetInfo:!1,semanticWeight:!1,semanticItalic:!1,isPageDivider:!1,moduleType:!1,pageType:!1,isResponsiveSet:!1,defaultResponsiveSetId:!1,responsiveSetSettings:!1,behaviors:!1,aiEditedNodeChangeFieldNumbers:!1,sortedMovingChildIndices:!1},l=new Map(Object.entries({inheritTextStyleID:["fontName","fontSize","textCase","textDecoration","letterSpacing","fontVariations","fontVariantCommonLigatures","fontVariantContextualLigatures","fontVariantDiscretionaryLigatures","fontVariantHistoricalLigatures","fontVariantOrdinal","fontVariantSlashedZero","fontVariantNumericFigure","fontVariantNumericSpacing","fontVariantNumericFraction","fontVariantCaps","fontVariantPosition"],inheritFillStyleID:["fillPaints"],inheritFillStyleIDForStroke:[],inheritEffectStyleID:["effects"],styleIdForText:["fontName","fontSize","textCase","textDecoration","letterSpacing","fontVariations","fontVariantCommonLigatures","fontVariantContextualLigatures","fontVariantDiscretionaryLigatures","fontVariantHistoricalLigatures","fontVariantOrdinal","fontVariantSlashedZero","fontVariantNumericFigure","fontVariantNumericSpacing","fontVariantNumericFraction","fontVariantCaps","fontVariantPosition"],styleIdForFill:["fillPaints"],styleIdForStrokeFill:["strokePaints"],styleIdForEffect:["effects"]})),s={derivedTextData:!1,name:!1,visible:!0,locked:!1,parentIndex:!1,transform:!0,description:!1,symbolDescription:!1,symbolLinks:!1,type:!1,booleanOperation:!1,horizontalConstraint:!0,verticalConstraint:!0,hyperlink:!0,mention:!1,proportionsConstrained:!1,inheritGridStyleID:!0,layoutGrids:!1,inheritTextStyleID:!0,inheritFillStyleID:!0,inheritFillStyleIDForStroke:!0,inheritEffectStyleID:!0,inheritExportStyleID:!0,inheritStrokeStyleID:!0,styleIdForFill:!0,styleIdForStrokeFill:!0,styleIdForText:!0,styleIdForEffect:!0,styleIdForGrid:!0,scrollBehavior:!1,transitionType:!1,transitionDuration:!1,easingType:!1,scrollDirection:!1,transitionPreserveScroll:!1,connectionType:!1,interactionType:!1,transitionTimeout:!1,interactionMaintained:!1,interactionDuration:!1,overlayPositionType:!1,transitionShouldSmartAnimate:!1,overlayRelativePosition:!1,overlayBackgroundInteraction:!1,overlayBackgroundAppearance:!1,keyTrigger:!1,prototypeInteractions:!1,prototypeStartNodeID:!1,prototypeStartingPoint:!1,videoPlayback:!1,stackMode:!0,stackSpacing:!0,stackCounterSizing:!0,stackPrimarySizing:!0,stackChildPrimaryGrow:!0,stackChildAlignSelf:!0,stackPrimaryAlignItems:!0,stackCounterAlignItems:!0,stackHorizontalPadding:!0,stackVerticalPadding:!0,stackPaddingRight:!0,stackPaddingBottom:!0,stackPositioning:!0,stackReverseZIndex:!0,bordersTakeSpace:!0,stackWrap:!0,stackCounterSpacing:!0,stackCounterAlignContent:!0,minSize:!0,maxSize:!0,maxLines:!0,pluginData:!1,pluginRelaunchData:!1,stackPadding:!1,stackJustify:!1,codeBlockLanguage:!1,pasteSource:!1,fontVariations:!0,detachOpticalSizeFromFontSize:!1,widgetMetadata:!1,widgetPropertyMenuItems:!1,widgetSyncedState:!1,renderedSyncedState:!1,widgetEvents:!1,widgetInputBehavior:!1,widgetCachedAncestor:!1,widgetInputTextNodeType:!1,interactiveSlideConfigData:!1,interactiveSlideParticipantData:!1,flappType:!1,themeID:!1,slideThemeData:!1,slideThemeMap:!1,slideTemplateFileKey:!1,componentPropDefs:!1,componentPropRefs:!1,componentPropAssignments:!1,simplifyInstancePanels:!1,propsAreBubbled:!1,size:!0,guid:!1,phase:!1,opacity:!0,blendMode:!0,count:!0,dashPattern:!0,autoRename:!1,backgroundEnabled:!1,mask:!0,maskType:!0,exportContentsOnly:!1,maskIsOutline:!1,backgroundOpacity:!1,cornerRadius:!1,fontSize:!0,paragraphIndent:!0,paragraphSpacing:!0,listSpacing:!0,starInnerScale:!0,miterLimit:!0,strokeWeight:!0,textTracking:!0,strokeAlign:!0,strokeCap:!0,strokeJoin:!0,textAlignHorizontal:!0,textAlignVertical:!0,textCase:!0,textDecoration:!0,leadingTrim:!0,hangingPunctuation:!1,hangingList:!1,fillPaints:!0,strokePaints:!0,lineHeight:!0,fontName:!0,textData:!0,effects:!0,handleMirroring:!1,exportSettings:!1,textAutoResize:!1,vectorData:!0,styleID:!1,backgroundColor:!1,fillGeometry:!1,strokeGeometry:!1,guidPath:!1,symbolData:!1,frameMaskDisabled:!1,resizeToFit:!0,exportBackgroundDisabled:!1,sharedSymbolReference:!1,isSymbolPublishable:!1,sharedSymbolMappings:!1,derivedSymbolData:!1,sharedSymbolVersion:!1,overrideLevel:!1,nestedInstanceResizeEnabled:!1,fontVariantCommonLigatures:!0,fontVariantContextualLigatures:!0,fontVariantDiscretionaryLigatures:!0,fontVariantHistoricalLigatures:!0,fontVariantOrdinal:!0,fontVariantSlashedZero:!0,fontVariantNumericFigure:!0,fontVariantNumericSpacing:!0,fontVariantNumericFraction:!0,fontVariantCaps:!0,fontVariantPosition:!0,guides:!1,transitionNodeID:!1,prototypeBackgroundColor:!1,internalOnly:!1,overriddenSymbolID:!1,rectangleTopLeftCornerRadius:!0,rectangleTopRightCornerRadius:!0,rectangleBottomLeftCornerRadius:!0,rectangleBottomRightCornerRadius:!0,rectangleCornerRadiiIndependent:!1,rectangleCornerToolIndependent:!1,sharedComponentMasterData:!1,cornerSmoothing:!0,styleType:!1,styleDescription:!1,unflatteningMappings:!1,letterSpacing:!0,version:!1,userFacingVersion:!1,sharedStyleMasterData:!1,sharedStyleReference:!1,sortPosition:!1,isPublishable:!1,exportTextAsSVGText:!1,isSoftDeletedStyle:!1,isSoftDeleted:!1,isNonUpdateable:!1,isOverrideOverTextStyle:!1,connectionURL:!1,prototypeDevice:!1,backgroundPaints:!1,arcData:!1,derivedSymbolDataLayoutVersion:!1,navigationType:!1,fontVersion:!1,textUserLayoutVersion:!1,textExplicitLayoutVersion:!1,textBidiVersion:!1,toggledOnOTFeatures:!1,toggledOffOTFeatures:!1,overrideKey:!1,publishFile:!1,sourceLibraryKey:!1,publishID:!1,key:!1,componentKey:!1,isC2:!1,fileAssetIds:!1,publishedVersion:!1,containerSupportsFillStrokeAndCorners:!1,isStateGroup:!1,voiceEventPhrase:!1,forceUnflatteningMappings:!1,ancestorPathBeforeDeletion:!1,stateGroupPropertyValueOrders:!1,nodeGenerationData:!0,derivedImmutableFrameData:!1,derivedImmutableFrameDataVersion:!1,shapeWithTextType:!0,connectorStart:!1,connectorEnd:!1,connectorLineStyle:!1,connectorStartCap:!1,connectorEndCap:!1,connectorType:!1,shapeUserHeight:!0,overrideStash:!1,internalEnumForTest:!1,internalDataForTest:!1,connectorControlPoints:!1,connectorTextMidpoint:!1,annotations:!1,measurements:!1,libraryMoveInfo:!1,libraryMoveHistory:!1,developerRelatedLinks:!1,stampData:!1,embedData:!0,linkPreviewData:!0,richMediaData:!0,textTruncation:!0,shapeTruncates:!0,sectionContentsHidden:!0,widgetTooltip:!1,borderTopWeight:!0,borderBottomWeight:!0,borderLeftWeight:!0,borderRightWeight:!0,borderStrokeWeightsIndependent:!1,widgetHoverStyle:!1,hasHadRTLText:!1,emojiImageSet:!1,slideThumbnailHash:!1,isWidgetStickable:!1,shouldHideCursorsOnWidgetHover:!1,variableDataValues:!1,variableConsumptionMap:!0,variableModeBySetMap:!1,variableSetModes:!1,variableSetID:!1,backingVariableSetId:!1,rootVariableKey:!1,isCollectionExtendable:!1,variableResolvedType:!1,variableScopes:!1,codeSyntax:!0,agendaPositionMap:!1,agendaMetadataMap:!1,migrationStatus:!1,editInfo:!1,documentColorProfile:!1,accessibleHTMLTag:!1,ariaRole:!1,ariaAttributes:!1,accessibleLabel:!1,tableRowPositions:!1,tableColumnPositions:!1,tableRowHeights:!1,tableColumnWidths:!1,areSlidesManuallyIndented:!1,detachedSymbolId:!1,sevMoonlitLilyData:!1,childReadingDirection:!1,readingIndex:!1,sectionStatusInfo:!1,handoffStatusMap:!1,slideActiveThemeLibKey:!1,slideSpeakerNotes:!1,diagramLayoutRuleType:!1,diagramParentIndex:!1,diagramLayoutPaused:!1,editScopeInfo:!1,sectionPresetInfo:!1,semanticWeight:!1,semanticItalic:!1,isPageDivider:!1,moduleType:!1,pageType:!1,isResponsiveSet:!1,defaultResponsiveSetId:!0,responsiveSetSettings:!1,behaviors:!1,aiEditedNodeChangeFieldNumbers:!1,sortedMovingChildIndices:!1},c=Object.keys(s).filter(e=>s[e]);var d=(e=>(e[e.LEGO=0]="LEGO",e[e.BRANCHING=1]="BRANCHING",e[e.COMPARE_CHANGES=2]="COMPARE_CHANGES",e[e.TEST_SUITE=3]="TEST_SUITE",e))(d||{});function u(e){return e.toLowerCase().replace("_"," ")}function p(e,t,r){return{treatmentType:"RENDER_SINGLE_PROPERTY",renderName:e,renderOldValue:"string"==typeof t?()=>u(t):t,renderNewValue:"string"==typeof r?()=>u(r):r}}function m(e,t,r){return{identifier:(0,n.g)(),treatmentType:"RENDER_MULTI_NODE",renderName:e,renderOldValue:"string"==typeof t?()=>t:t,renderNewValue:"string"==typeof r?()=>r:r}}function _(e,t,r){return{identifier:(0,n.g)(),treatmentType:"RENDER_MULTI_PROPERTY",renderName:e,renderOldValue:"string"==typeof t?()=>t:t,renderNewValue:"string"==typeof r?()=>r:r}}function h(e,t,r){return{treatmentType:"RENDER_DISPLAY_NODE_SINGLE_PROPERTY",renderName:e,renderOldValue:"string"==typeof t?()=>t:t,renderNewValue:"string"==typeof r?()=>r:r}}},625599:(e,t,r)=>{"use strict";function n(e,t){t.parent=e,e.children=e.children||[],e.children.push(t)}function i(e,t){let r=(e,i=0,o)=>{var l;let s;let{result:c,visitChildren:d=!0}=a(e)?t(e,i,o):{result:null,visitChildren:!0},u=c?{value:c}:null,p=0;return u?(p=1,s=u):s=o||{},u&&o&&n(o,u),d&&(null==(l=e.children)||l.forEach(e=>r(e,i+p,s))),s};return r(e)}function a(e){return void 0!==e.value}function o(e){let t=[e];for(;t.length>0;){let e=t.pop();if(e&&a(e))return!1;t.push(...(null==e?void 0:e.children)||[])}return!0}function l(e){return Array.isArray(e)?0===e.length:o(e)}function s(e){if(Array.isArray(e))return e;let t=[],r=e=>{var n;e.value&&t.push(e.value),null==(n=e.children)||n.forEach(r)};return r(e),t}r.d(t,{NI:()=>n,NU:()=>s,X$:()=>i,aR:()=>a,iM:()=>l,lE:()=>function e(t,r){if(a(t)&&r(t.value))return t.value;if(t.children)for(let n of t.children){let t=e(n,r);if(t)return t}return null},mf:()=>o})},81804:(e,t,r)=>{"use strict";r.d(t,{D4:()=>o,IM:()=>l,OP:()=>c,kH:()=>s,rA:()=>a});var n=r(809511),i=r(179536);let a={[n.D1Y.TEXT]:0,[n.D1Y.FRAME_OR_GROUP]:0,[n.D1Y.COMPONENT]:0,[n.D1Y.INSTANCE]:0,[n.D1Y.IMAGE]:0,[n.D1Y.SHAPE]:0,[n.D1Y.OTHER]:0},o=[...i.b4,...i._V],l=i._V;function s(e){return i.b4.filter(t=>e[t])}var c=(e=>(e[e.PREV=-1]="PREV",e[e.NONE=0]="NONE",e[e.NEXT=1]="NEXT",e))(c||{})},708212:(e,t,r)=>{"use strict";r.d(t,{q:()=>O});var n=r(411855),i=r(188507),a=r(568214),o=r(966712),l=r(572206),s=r(799569),c=r(271779),d=r(939863),u=r(392592),p=r(553015),m=r(738269),_=r(662275),h=r(801161),g=r(259927),f=r(463304),E=r(498606),y=r(237870),b=r(488578),v=r(421689),I=r(342761),T=r(697373),S=r(228131),w=r(667241),A=r(790104);let C={shouldZoomToStart:!1,shouldWheelPan:!0,enableZoomControls:!0,enableZoomKeyControls:!0,minZoomFactor:.01,maxZoomFactor:10,crossOrigin:"use-credentials"};var N=(e=>(e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT",e))(N||{});let O=(0,y.Ju)(function(e){let t=(0,i.wA)(),[r,y]=n.useState(e.selectedIdx),N=n.useRef(null),[O,L]=n.useState(null),R=n.useRef(null),{onUpdateAltText:P}=e,[k,D]=n.useState(e.attachments),M=(0,T.UR)(S.b.ATTACHMENT_MODAL_BACKGROUND_COLOR),x=M?(0,a.H0)(M):void 0,F=e=>{var t;if(N.current){let r=null==(t=N.current)?void 0:t.children[e].firstChild;null==r||r.blur()}},U=e=>{F(r),y(e),L(null)},B=e=>{U((r+e+k.length)%k.length)},H=e=>{let t=r===(-1===e?0:k.length-1);return n.createElement(p.$,{onClick:()=>B(e),icon:-1===e?"chevron-left-32":"chevron-right-32",variant:"text",disabled:t})},V=e=>{if("ArrowLeft"===e.key)0!==r&&B(-1);else if("ArrowRight"===e.key){if(r===k.length-1)return;B(1)}},G=()=>(t(_.Lo()),!0);(0,f.O1)(G,f.KD.FULL_SCREEN_MODAL);let W=(e,r)=>{e.preventDefault(),e.stopPropagation(),t(m.j7({type:g.DT,data:{id:"comment_attachment_context_menu",clientX:e.clientX,clientY:e.clientY,attachment:r}}))},K=n.useRef(null),Y=n.useCallback(()=>{if(R.current&&!O){let e=R.current.getBoundingClientRect(),r=new l.Mi(e.left+e.width/2,e.top);t(h.jD()),L(r)}else L(null)},[t,O]),j=n.useCallback(e=>{if(K.current){let n=K.current.value.trim();(n||e)&&P(n,r).then(e=>{e&&(200!==e.status?t(u.F.enqueue({message:(0,d.t)("comments.failed_to_update_alt_text")})):D(e=>(e[r]={...e[r],altText:n},e)))}).catch(e=>{t(u.F.enqueue({message:(0,d.t)("comments.failed_to_update_alt_text")}))})}L(null)},[t,P,r]);return n.createElement(n.Fragment,null,n.createElement(c.i,{displayAs:c.C.Block},n.createElement(b.aF,{className:A.zw,size:"any",onKeyDown:e=>{V(e)}},n.createElement("div",{className:A.qG},n.createElement("div",{className:A.N1},n.createElement("div",{className:A.qd},k[r].metadata.file_name??(0,d.t)("comments.attachment_default_name",{fileExtension:k[r].mediaType.split("/")[1]})),n.createElement(s.Jn,{className:A.yu,recordingKey:"commentMediaDetailModal",onClick:G,innerText:(0,d.t)("comments.close"),"aria-label":(0,d.t)("comments.close")})),n.createElement("div",{className:A.xs},n.createElement(v.DH,{imageSrc:k[r].imageUrl,onContextMenu:e=>{W(e,k[r])},pageBackgroundColor:x??void 0,...C}),!!(0,o.kc)().comments_media_alt_text&&(e.canEdit||k[r].altText)&&n.createElement("button",{className:k.length>1?A.dE:A.R5,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":O?void 0:(0,d.t)("comments.add_description"),"data-tooltip-show-above":!0,onClick:()=>O?j(k[r].altText):Y(),ref:R},(0,d.t)("comments.alt_text"))),k.length>1&&n.createElement("div",{className:A.Qc},H(-1),n.createElement("div",{ref:N,className:A.iT},k.map((e,t)=>n.createElement("div",{key:e.thumbnailUrl,className:A.ub},n.createElement(w.M,{thumbnailUrl:e.thumbnailUrl,altText:e.altText||(0,d.t)("comments.attachment_thumbnail_alt_text_default"),isSelected:t===r,onClick:e=>{U(t)},onRightClick:t=>W(t,e)})))),H(1)))),O&&n.createElement(I.A,{text:k[r].altText??"",location:O,onEnter:()=>j(k[r].altText),onEscape:()=>(L(null),!0),inputRef:K,canEdit:e.canEdit})))},"AttachmentDetailModal",y.ZU.NO)},667241:(e,t,r)=>{"use strict";r.d(t,{M:()=>u});var n=r(411855),i=r(493323),a=r(939863),o=r(277810),l=r(963380);let s=e=>e.height<256&&e.width<256,c=e=>e.height/e.width>2||e.width/e.height>2,d=e=>e.width>e.height?{width:256,height:128}:{width:128,height:256};function u(e){let[t,r]=n.useState(e.thumbnailUrl);n.useEffect(()=>{t.startsWith("blob")||r(e.thumbnailUrl)},[t,e.thumbnailUrl]);let u=e.dimensions??void 0,p=u&&(s(u)?u:c(u)?d(u):(0,o.$K)(u.width,u.height,256));return n.createElement("button",{className:e.isSelected?l.ig:l.vi,onClick:()=>{e.onClick(e.thumbnailUrl)},style:p&&{width:`${p.width}px`,height:`${p.height}px`},onContextMenu:t=>{e.onRightClick&&e.onRightClick(t)}},n.createElement("img",{src:t,crossOrigin:"use-credentials",alt:e.altText||(0,a.t)("comments.attachment_thumbnail_alt_text_default"),className:l.q_}),n.createElement("div",{className:e.overlayText||e.isUploading?l.Xu:l.VO},e.isUploading&&n.createElement(i.kt,null),e.overlayText))}},30990:(e,t,r)=>{"use strict";r.d(t,{a:()=>_});var n=r(411855),i=r(188507),a=r(939863),o=r(738269),l=r(662275),s=r(259927),c=r(328775),d=r(708212),u=r(667241),p=r(757207),m=r(963380);function _(e){let t=(0,i.wA)(),{attachments:r}=e,_=n=>{t((0,l.to)({type:d.q,data:{attachments:r,selectedIdx:r.map(e=>e.thumbnailUrl).indexOf(n),onUpdateAltText:h,canEdit:e.canEdit},showModalsBeneath:!0}))},h=(t,n)=>{let i=r[n];return c.l.put(e.fileKey,i.id,t)},g=(e,r)=>{e.preventDefault(),e.stopPropagation(),t(o.j7({type:s.DT,data:{id:"comment_attachment_context_menu",clientX:e.clientX,clientY:e.clientY,attachment:r}}))};return n.createElement("div",{className:p.KK},r.slice(0,3).map((e,t)=>n.createElement("div",{key:e.id,className:m.Kn},n.createElement(u.M,{thumbnailUrl:e.thumbnailUrl,altText:e.altText||(0,a.t)("comments.attachment_thumbnail_alt_text_default"),overlayText:r.length>3&&2===t?`+${r.length-3}`:void 0,onClick:_,onRightClick:t=>g(t,e),dimensions:0===t&&1===r.length?e.metadata.dimensions:void 0}))))}},517911:(e,t,r)=>{"use strict";r.d(t,{Ao:()=>o,Ko:()=>s,LX:()=>a,c4:()=>c,xN:()=>l});var n=r(841563),i=r.n(n),a=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ACTIVE=1]="ACTIVE",e[e.DIMMED=2]="DIMMED",e))(a||{});function o(e,t){return`${100*Math.round(e.x/100)},${100*Math.round(e.y/100)},${t}`}function l(e,t){if(e.isSinglePin&&t.isSinglePin){var r,n;return r=e.pins[0],n=t.pins[0],r.x!==n.x||r.y!==n.y||!i()(r.avatars,n.avatars)||!i()(r.previewMessageMeta,n.previewMessageMeta)||r.isUnread!==n.isUnread||r.numUnreadReplies!==n.numUnreadReplies||r.isResolved!==n.isResolved||!i()(r.selectionBoxAnchor,n.selectionBoxAnchor)||!i()(r.otherBoundingBoxes,n.otherBoundingBoxes)||!i()(r.isPinnedToFile,n.isPinnedToFile)}return e.pins.length!==t.pins.length||e.isUnread!==t.isUnread||e.isPinnedToFile!==t.isPinnedToFile}let s={length:0,leafNodes:new Set([]),all:()=>[],getParentOf:()=>null,zoomScale:-1};function c(e){let t=new Map,r=[];return e.forEach(e=>{if(t.has(e.user.id)){let n=t.get(e.user.id);r[n].num_unread_comments+=e.isUnread?1:0,r[n].num_comments+=1}else r.push({avatar_url:e.user.img_url,avatar_user_id:e.user.id,avatar_user_handle:e.user.handle,num_unread_comments:e.isUnread?1:0,num_comments:1}),t.set(e.user.id,r.length-1)}),r}},400333:(e,t,r)=>{"use strict";r.d(t,{D_:()=>C,E4:()=>S,HH:()=>O,Rk:()=>T,xT:()=>I});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(776250),s=r(934480),c=r(966712),d=r(733334),u=r(946689),p=r(46221),m=r(939863),_=r(677664),h=r(611978),g=r(860178),f=r(416822),E=r(628705),y=r(498606),b=r(527429),v=r(190521);function I(e){let t=RegExp("^\\w+:"),r=e.match(t);return""===e||r&&["http:","https:","mailto:","tel:"].includes(r[0].toLowerCase())?e:"https://"+e}let T=n.memo(e=>{let{text:t,hyperlink:r}=e,a=n.useMemo(()=>(0,s.x6)(t),[t]),o=(0,h.z3)(),l=(0,i.wA)();return n.createElement(u.N_,{onClick:()=>{l((0,_.RK)({rawInput:I(r)}))},className:v.e_,"data-tooltip-type":y.Ib.SPECIAL,"data-tooltip":y.MW.HYPERLINK_POPUP,"data-tooltip-show-above":!0,"data-tooltip-unconstrain-width":!0,"data-tooltip-editor-type":o,"data-tooltip-url-string":r,"data-tooltip-interactive":!0,"data-tooltip-precise":!0,trusted:!1},a)}),S=n.memo(e=>{let{userId:t,imgUrl:r,handle:i,href:a}=e;return n.createElement(u.N_,{href:a,target:"_blank",className:v.lE,"data-tooltip-type":y.Ib.SPECIAL,"data-tooltip":y.MW.USER_INFO,"data-tooltip-show-above":!0,"data-tooltip-user-img-url":r,"data-tooltip-user-handle":i,"data-tooltip-unconstrain-width":!0,"data-mention-user-id":t,trusted:!0},i)}),w=n.memo(function(e){var t;let r=null==(t=(0,g.iZ)())?void 0:t.community_profile_id,{handle:i,commentId:a,profileId:o,profileName:s,profileImgUrl:c}=e,p=(0,d.F)(i),m=(0,d.F)(s);return n.createElement(u.N_,{href:`/${p}`,target:"_blank",className:v.lE,"data-tooltip-type":y.Ib.SPECIAL,"data-tooltip":y.MW.USER_INFO,"data-tooltip-show-above":!0,"data-tooltip-user-img-url":c,"data-tooltip-user-handle":m,"data-tooltip-unconstrain-width":!0,onClick:()=>{(0,l.sx)("at_mention_link_clicked",{mentioned_profile_id:o,profile_id:r,comment_id:a})},trusted:!0},p)}),A=n.memo(e=>{let{text:t,tokenStyles:r}=e,i=n.useMemo(()=>(0,s.x6)(t),[t]),a=(null==r?void 0:r.map(e=>"b"===e?v.hp:"i"===e?v.u5:"s"===e?v.Vc:"lightbold"===e?v.XH:void 0))||[];return n.createElement(p.M,null,n.createElement("span",{className:o()(a)},i))}),C=n.memo(e=>{let{text:t,highlightHashtag:r,onHashtagClick:i}=e,a=`#${t}`;return r&&i?n.createElement(u.N_,{className:v.e_,trusted:!0,onClick:()=>i(t.toLowerCase()),"data-tooltip-type":y.Ib.SPECIAL,"data-tooltip":y.MW.FEED_HASHTAG,"data-tooltip-hashtag-text":t},a):n.createElement("span",null,a)}),N=n.memo(e=>{let{text:t,userId:r,profileId:i,user:a,orgPath:o,profiles:l,commentId:s,tokenStyles:c,hyperlink:u,isHashtag:p,enableHashtags:m,onHashtagClick:_}=e,h=(0,d.F)(t);if(r)return n.createElement(S,{href:`/files${o}/user/${r}`,userId:r,handle:(0,d.F)(null==a?void 0:a.handle)||void 0,imgUrl:null==a?void 0:a.img_url});if(i&&h){let e="@"+h,t=null==l?void 0:l[i];return t?n.createElement(w,{handle:e,commentId:s,profileId:t.id,profileName:t.name,profileImgUrl:t.img_url}):n.createElement("span",null,e)}if(null===i&&h){let e="@"+h;return n.createElement("span",null,e)}let g=u&&I(u);return g&&h&&(0,b.$)(g)?n.createElement(T,{text:h,hyperlink:g}):p&&h?n.createElement(C,{text:h,highlightHashtag:m,onHashtagClick:_}):h?n.createElement(A,{text:h,tokenStyles:c}):null}),O=n.memo(e=>{let t=(0,i.d4)(e=>e),r=(0,c.kc)().ps_benchmark?(0,E.i)(t):(0,f.j)(t),a=(0,i.d4)(t=>{var r,n;return e.mentionedProfiles||(null==(n=null==(r=t.communityHub)?void 0:r.comments)?void 0:n.mentionedProfiles)}),o=(t,r,i,a,l)=>t.map((t,s)=>{var c,u,p,m,_;let h="";if((null==(c=t.styles)?void 0:c.includes("ul"))?h=v.ty:(null==(u=t.styles)?void 0:u.includes("ol"))&&(h=v.A9),null==(p=t.children)?void 0:p.length){let e=t.children.map((e,t)=>n.createElement("li",{key:`li-${r}-${s}-${t}`,className:h},o(e.children,`${r}-${s}-${t}`,i,a,l)));if(null==(m=t.styles)?void 0:m.includes("ul"))return n.createElement("ul",{key:`ul-${r}-${s}`},e);if(null==(_=t.styles)?void 0:_.includes("ol"))return n.createElement("ol",{key:`ol-${r}-${s}`},e)}return n.createElement(N,{key:`${r}-${s}`,orgPath:i,profiles:a||null,commentId:l,text:(0,d.F)(t.t)||void 0,hyperlink:t.link,user:t.user_annotated,userId:t.user_id,profileId:t.profile_id,tokenStyles:t.styles||null,isHashtag:t.is_hashtag,enableHashtags:e.enableHashtags,onHashtagClick:e.onHashtagClick})}),{messageMeta:l,showEditedIndicator:s,commentId:u}=e,p=e.className||v.zD;return n.createElement("div",{className:v.$t+" "+p,"data-testid":"comment-message",dir:"auto"},o(l,u,r,a,u),s&&n.createElement("span",{className:v.oh,key:"edited_indicator"},"\xa0",n.createElement(m.Tx,{id:"comments.edited"})))});O.displayName="CommentMessage"},448879:(e,t,r)=>{"use strict";r.d(t,{m:()=>d,y:()=>c});var n=r(411855),i=r(188507),a=r(91408),o=r(226055),l=r(617453),s=r(860168);let c={showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,clusterBy:"page",orphanedBy:"deleted_pages"};function d(){let e=(0,o.GS)(),t=(0,i.d4)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi}),r=e&&t,c=(0,l.dP)(),d=(0,l.lK)();return n.useMemo(()=>{let t=0,n=0;return r&&(t+=c),e&&(n+=(0,a.jz)(s.M$q)-(0,a.jz)(s.PXB),d&&(t+=(0,a.jz)(s.y9S),n+=(0,a.jz)(s.y9S))),{xDelta:t,yDelta:n}},[e,d,r,c])}},152811:(e,t,r)=>{"use strict";r.d(t,{L9:()=>C,T4:()=>L,ek:()=>M,hh:()=>U,pO:()=>B,vO:()=>x});var n=r(411855),i=r(188507),a=r(841563),o=r.n(a),l=r(934480),s=r(939863),c=r(331972),d=r(964881),u=r(975350),p=r(63397),m=r(994988),_=r(103907),h=r(654034),g=r(714705),f=r(697551),E=r(852800),y=r(341860),b=r(860178),v=r(100197),I=r(440535),T=r(555328),S=r(697373),w=r(531461);let A=new Set([]);function C(e){return({creationDate:(0,s.t)("comments.sort_by_date"),recent:(0,s.t)("comments.sort_by_last_action"),unread:(0,s.t)("comments.sort_by_unread"),slide:(0,s.t)("comments.sort_by_slide")})[e]}let N=(e,t)=>Date.parse(t.comments[0].created_at)-Date.parse(e.comments[0].created_at),O={creationDate:N,recent:(e,t)=>Date.parse(t.lastRepliedAt||t.comments[t.comments.length-1].created_at)-Date.parse(e.lastRepliedAt||e.comments[e.comments.length-1].created_at),unread:(e,t)=>{let r=Number(e.comments.some(e=>e.isUnread)),n=Number(t.comments.some(e=>e.isUnread));return r===n?N(e,t):n-r},slide:(e,t)=>0};function L(e){return({resolved:(0,s.t)("comments.show_resolved_comments"),yours:(0,s.t)("comments.only_your_threads"),currentPage:(0,s.t)("comments.only_current_page"),currentSlide:(0,s.t)("comments.only_current_slide")})[e]}let R=e=>!e.comments[0].resolved_at,P=e=>e.sidebarItemType===I.kT.COMMENT_THREAD,k=e=>e.sidebarItemType===I.kT.FEED_POST,D={currentPage:!1,currentNode:!1,currentSlide:!1,currentDevModeFocus:!1};function M(e){return({commentsOnly:(0,s.t)("comments.only_comments"),postsOnly:(0,s.t)("comments.only_posts")})[e]}let x={postsOnly:[w.mW.RESOLVED],all:[],commentsOnly:[]};async function F(e,t){if(t){let r=t.replace(l.Py,l.H3);return await e.search(r).then(e=>new Set(e.map(e=>e.item.parentId||e.item.id)))}return A}let U=n.createContext({});function B(e){var t;let r=(0,_.wq)(),a=(0,i.wA)(),l=(0,f.UP)(),s=(0,i.d4)(e=>e.comments.showResolved),I=(0,i.d4)(e=>e.comments.showOnlyParticipating),A=(0,i.d4)(e=>e.mirror.appModel.currentPage),C=e.currentNode||A,N=(0,b.TA)()||void 0,L=(0,i.d4)(e=>e.selectedView.commentThreadId),M=(0,v.ut)(null==(t=E.Ez5)?void 0:t.singleSlideView().focusedSlideId,y.K8),B=(0,d.hA)(),H=(0,S.Ld)(),[V,G]=n.useState("creationDate"),[W,K]=n.useState({...D,resolved:!s,yours:I,currentDevModeFocus:!!B,...e.initialFilterState}),[Y,j]=n.useState("all"),[z,$]=n.useState(""),[Z,q]=n.useState(null),J=(0,g.kC)(r),X=n.useMemo(()=>({resolved:R,yours:e=>N&&e.comments.some(e=>e.user_id===N||(0,h.F$)(e).includes(N))||!1,currentPage:e=>A&&e.page===A||!1,currentNode:e=>{let t=e.comments[0].client_meta;return null!=t&&!!t.in_frame&&t.node_id===C},currentSlide:e=>{var t;let r=null==(t=e.comments[0].client_meta)?void 0:t.node_id,n=r?y.qo.instance.get(r):void 0,i=n?n.findContainingSlideOrSelf():y.K8;return!(0,y.fn)(M)||!(0,y.fn)(i)||i===M},currentDevModeFocus:e=>{var t,r;let n=B?y.qo.instance.get(B):null;if(!n)return!0;let i=null==(r=null==(t=e.comments[0])?void 0:t.client_meta)?void 0:r.node_id,a=i?y.qo.instance.get(i):null;return(0,c.W)(n,a)}}),[N,A,C,M,B]),Q=n.useMemo(()=>({all:()=>!0,commentsOnly:P,postsOnly:k}),[]),ee=n.useCallback(e=>{$(e)},[]),et=n.useCallback(e=>{a(u.nL({activeSort:e})),G(e)},[a]),er=n.useCallback(e=>{"resolved"===e&&(a(u.U3({showResolved:W.resolved})),l&&a((0,m.mH)(W.resolved))),"yours"===e&&(a(u.RO({showOnlyParticipating:!W.yours})),l&&a(p.Zj(W.yours?T.Qv.ALL:T.Qv.ME))),K(t=>(t[e]=!t[e],{...t}))},[a,W,l]),en=n.useMemo(()=>{let e=new Set;for(let t of Object.values(w.mW))W[t]&&e.add(t);return e},[W]),ei=n.useCallback(e=>{j(e)},[]);n.useEffect(()=>{x[Y].forEach(e=>{("resolved"===e?!en.has(e):en.has(e))&&er(e)})},[Y,en,er]),n.useEffect(()=>{z?F(J,z).then(e=>{o()(Z,e)||q(e)}):q(null)},[r,z,Z,J]);let ea=n.useMemo(()=>({...O,...H}),[H]),eo=n.useMemo(()=>(function(e,t,r,n,i,a,o,l){if("loaded"!==e.status)return e;let s=[...e.data];for(let e of(l&&(s=s.filter(e=>l.has(e.id))),n))s=s.filter(a[e]);return s=s.filter(o[r]),{...e,data:s.sort(i[t])}})(r,V,Y,en,ea,X,Q,Z),[r,V,Y,en,ea,X,Q,Z]),el=n.useMemo(()=>({setSort:et,toggleFilter:er,setMode:ei,setQuery:ee}),[ee,et,er,ei]),es=n.useMemo(()=>({activeQuery:z,activeSort:V,activeMode:Y,activeFilters:en,threads:r,filteredThreads:eo,filteredSidebarItems:eo,threadManager:el}),[z,V,Y,en,r,eo,el]),ec=n.useMemo(()=>{if(r&&"loaded"===r.status)return r.data.find(e=>e.id===L)},[L,r]);return n.useEffect(()=>{ec&&ec.comments[0].resolved_at&&W.resolved&&er("resolved")},[W,ec,er]),n.useEffect(()=>{K(e=>({...e,currentDevModeFocus:!!B}))},[B,K]),n.createElement(U.Provider,{value:es},e.children)}},238559:(e,t,r)=>{"use strict";r.d(t,{Uu:()=>g,rf:()=>E,wV:()=>f});var n=r(411855),i=r(188507),a=r(91408),o=r(975350),l=r(457630),s=r(860178),c=r(874560),d=r(57289),u=r(972963),p=r(288345),m=r(555648),_=r(343348),h=r(860168);function g(e){let t=(0,i.d4)(e=>e.comments.typeahead);return e.mentionsDisabled&&(null==t?void 0:t.type)==="mentions"||e.hashtagsDisabled&&(null==t?void 0:t.type)==="hashtags"?null:n.createElement(E,{onInsert:e.onInsert,onClear:e.onClear,isCommunityMentions:!1,decoratorsRef:e.decoratorsRef,width:e.width,direction:e.direction,targetRect:e.targetRect,useFixedPosition:!0,useWindowAsViewport:!0})}function f(e){let t=(0,i.d4)(e=>e.comments.typeaheadPositionOffset),r=n.useMemo(()=>{let r=e.position||{x:0,y:0};return{top:t.top+r.y,right:t.right+r.x,bottom:t.bottom+r.y,left:t.left+r.x,width:t.width,height:t.height}},[t,e.position]);return n.createElement(E,{onInsert:e.onInsert,onClear:e.onClear,isCommunityMentions:e.isCommunityMentions,decoratorsRef:e.decoratorsRef,width:(0,a.jz)(h.Xz5),direction:d.ri.DOWNWARDS,targetRect:r})}function E(e){let t;let r=(0,i.d4)(e=>e.comments.emojiPicker),a=(0,i.d4)(e=>e.comments.typeahead),[h,g]=(0,n.useState)(null);n.useEffect(()=>{(null==a?void 0:a.type)==="suggestions"&&g(_.NS)},[null==a?void 0:a.type]);let f=(0,i.wA)(),E=n.useCallback(()=>{f(o.RI({visible:!1}))},[f]),y=n.useCallback(e=>{f(o.We(e))},[f]),b=(0,l._X)({subscribeToUpdates_expensive:!0}),v=n.useMemo(()=>e.useWindowAsViewport?{isPanning:!1,isZooming:!1,height:window.innerHeight}:b,[e.useWindowAsViewport,b]),I=((null==v?void 0:v.isPanning)||(null==v?void 0:v.isZooming))&&(null==r?void 0:r.visible);n.useEffect(()=>{I&&E()},[I,E]);let T=(0,s.iZ)(),S=!!(r&&r.visible||a),{onClear:w}=e,A=n.useCallback(()=>{r&&r.visible&&E(),a&&w()},[r,a,E,w]),{decoratorsRef:C}=e;return n.useEffect(()=>{C&&(C.current={visible:S,clearDecorators:A})},[A,C,S]),t={...t=e.useFixedPosition||e.direction!==d.ri.UPWARDS?h&&e.targetRect.height>0&&e.targetRect.bottom>v.height-h&&e.targetRect.top>v.height-e.targetRect.bottom?e.useFixedPosition?{useFixedPosition:!0,targetRect:e.targetRect,direction:d.ri.UPWARDS}:{positionFromBottom:{left:e.targetRect.left,bottom:v.height-e.targetRect.top},direction:d.ri.UPWARDS}:{useFixedPosition:e.useFixedPosition,targetRect:e.targetRect,direction:d.ri.DOWNWARDS}:{positionFromBottom:e.positionFromBottom,direction:d.ri.UPWARDS},useWindowAsViewport:e.useWindowAsViewport},n.createElement("div",{style:{pointerEvents:"auto"}},r&&r.visible&&n.createElement(m._,{onInsert:r.onPick,onCancel:r.onCancel??E,targetRect:r.targetRect}),a&&"emojis"===a.type&&n.createElement(c.j,{dispatchTypeahead:y,typeahead:a,onInsert:e.onInsert,onClear:e.onClear,width:e.width,setMaxTypeaheadHeight:g,isComments:!0,...t}),T&&a&&"mentions"===a.type&&(a.search||a.mentions.length>0)&&n.createElement(p.E,{dispatch:f,setTypeahead:y,typeahead:a,onInsert:e.onInsert,onClear:e.onClear,entity:T,isCommunityMentions:e.isCommunityMentions,width:e.width,recordingKey:"mentionsTypeaheadView",dataTestId:"comment-mentions-typeahead",setMaxTypeaheadHeight:g,isComments:!0,...t}),a&&"suggestions"===a.type&&n.createElement(_.Cs,{setTypeahead:y,typeahead:a,onInsert:e.onInsert,onClear:e.onClear,width:e.width,...t}),a&&"hashtags"===a.type&&n.createElement(u.X,{setTypeahead:y,typeahead:a,onInsert:e.onInsert,onClear:e.onClear,width:e.width,setMaxTypeaheadHeight:g,...t}))}},884101:(e,t,r)=>{"use strict";r.d(t,{Kb:()=>y,ny:()=>E});var n=r(411855),i=r(629019),a=r.n(i),o=r(934480),l=r(96328),s=r(939863),c=r(120694),d=r(498606),u=r(227795),p=r(249329),m=r(855226);function _(e){return void 0!==e.numUsers}let h={};function g(e,t){let r=e.map(e=>e.handle).slice(0,t),n=e.length-t;return n>0&&r.push((0,l.td)(n,"other")),(0,l.Yx)(r)}c.i.forEach(e=>{h[`:${e.id}:`]=e});let f=n.forwardRef(function(e,t){let r=_(e.reaction)?e.reaction.numUsers:e.reaction.users.length,i=Object.keys(e.reaction.skinTonesToUsers).length,l=i>0?Object.keys(e.reaction.skinTonesToUsers):[""],s=l.map(t=>(0,o.UF)(`${e.reaction.emoji}${t}`)[0]),c={};if(!_(e.reaction)){let t=[],r=[];if(i>0)l.forEach(n=>{let a=`${e.reaction.emoji}${n}`;t.push((0,o.UF)(a)[0].unicode);let l=g(e.reaction.skinTonesToUsers[n],Math.floor(40/i));r.push([a,l])});else{t.push((0,o.UF)(e.reaction.emoji)[0].unicode);let n=g(e.reaction.users,40);r.push([e.reaction.emoji,n])}c={emojiUnicodeList:t,emojiShortcodeToUsers:r}}return n.createElement("button",{className:a()({[p.bs]:e.reaction.selected,[p.mJ]:!e.reaction.selected,[p.aN]:!e.visible}),"data-tooltip-type":d.Ib.SPECIAL,"data-tooltip":d.MW.EMOJI_REACTION,"data-tooltip-data":JSON.stringify(c),"data-tooltip-max-width":200,onClick:e.onClick,"data-testid":`reaction-button-${e.reaction.emoji}`,ref:t},s.map(e=>n.createElement("span",{key:`${e.meta}`,className:p.A9},e.unicode)),n.createElement("span",{className:p.U9},r))});function E(e){let t=e.styleClassName?e.styleClassName:p.BB;return n.createElement(u.YW,{svg:m.A,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":(0,s.t)("comments.add_reaction"),onClick:e.onClick,selected:e.selected,className:t,selectedClassName:e.selectedStyleClassName,dataTestId:"add-reaction-button"})}function y(e){let{reactions:t,collapseOverflow:r,onClickExisting:i,children:o,prependToList:l}=e,c=n.useRef(null),d=n.useRef({}),[u,m]=n.useState(null),[_,h]=n.useState(!r);n.useLayoutEffect(()=>{if(!c.current)return;let{width:e}=c.current.getBoundingClientRect(),r=-parseInt(p.h)+parseInt(p.bB),n=0;for(let i of t){let a=d.current[i.emoji];if(!a)return;if((r+=parseInt(p.h)+a.getBoundingClientRect().width)>e||n===t.length-1&&r+40+parseInt(p.h)>e)break;n+=1}m(n)},[t]);let g=null===u?null:t.length-u,E=t.map((t,r)=>{let a=i?e=>i(t,e):void 0;return n.createElement(f,{key:t.emoji,reaction:t,onClick:a,ref:e=>d.current[t.emoji]=e,visible:_||e.addedReaction||null===u||r<u})}),y=!(_||e.addedReaction)&&null!==g&&g>0;return n.createElement(n.Fragment,null,n.createElement("div",{className:a()({[p.KD]:!0,[p.l$]:y,[p._s]:!(_||e.addedReaction)&&null===g}),ref:c},...l??[],E,!y&&o),y&&n.createElement("div",{className:p.Jd},n.createElement("button",{className:p.mJ,onClick:()=>{h(!0)},"data-testid":"show-more-reactions-button"},n.createElement(s.Tx,{id:"comments.num_hidden_more",numHidden:g}))))}},636662:(e,t,r)=>{"use strict";r.d(t,{K:()=>d});var n=r(411855),i=r(966712),a=r(96328),o=r(939863),l=r(67294),s=r(710381),c=r(386362);function d(e){let t=n.useCallback(()=>{var t;if(null==(t=e.replyContainerRef)?void 0:t.current){let t=(0,i.kc)().comments_smooth_scroll?"smooth":"auto";e.replyContainerRef.current.scrollIntoView({block:"end",behavior:t})}},[e.replyContainerRef]),r=n.createElement(s.C,{fallback:null,errorFallback:n.createElement(s.e,{type:"thread"}),editorRef:e.editorRef,editorType:e.editorType,dispatch:e.dispatch,user:e.user,typeahead:e.typeahead,mentionables:e.mentionables,threadPosition:e.threadPosition,setHyperlinkLocation:e.setHyperlinkLocation,hyperlinkLocation:e.hyperlinkLocation,setHyperlinkEditorRef:e.setHyperlinkEditorRef,messageMeta:e.messageMeta,attachments:e.attachments,submitText:e.submitText,placeholderText:e.placeholderText,onCancel:e.onCancel,onSubmit:e.onSubmit,onComposeFocus:e.onComposeFocus,onEditStart:e.onEditStart,editorOnInsert:e.editorOnInsert,editorOnClear:e.editorOnClear,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,isDisabled:e.isDisabled,mountInputFocused:e.mountInputFocused,updateMessage:e.updateMessage,updateAttachment:e.updateAttachment,deleteAttachment:e.deleteAttachment,setIsEditorFocused:e.setIsEditorFocused,isEmojiPickerDisabled:e.isEmojiPickerDisabled,hideEmojiPicker:e.hideEmojiPicker,allowAttachments:e.allowAttachments,recordingKey:e.recordingKey,className:e.className,authorChanged:e.authorChanged,createdAt:e.createdAt,threadId:e.threadId,fileKey:e.fileKey,editingExistingComment:e.editingExistingComment,scrollToBottom:e.replyContainerRef&&t,maintainSelectionOnFocus:e.maintainSelectionOnFocus});return n.createElement("div",{className:c.MP,ref:e.replyContainerRef,"aria-label":e.authorNames?(0,o.t)("fullscreen.accessibility.reply_to_comment_with_authors",{username:(0,a.Yx)(e.authorNames)}):(0,o.t)("fullscreen.accessibility.reply_to_comment")},n.createElement("div",{className:c.i8},n.createElement(l.H8,{user:e.user||{}})),r)}},112084:(e,t,r)=>{"use strict";r.d(t,{W:()=>s,x:()=>l});var n=r(38329),i=r(374626),a=r(988022),o=r(863670);function l(e,t){var r;let n=i.zl.get(o.h1),a=i.zl.get(o.wm);return c(e,n,(null==(r=i.zl.get(o.LQ))?void 0:r.index)??null,t,a)}function s(e,t,r,i){var o;let l=n.D.getState(),s=c(t,e,r,n.D,i);(0,a.ds)("canvas_mention_search_cancelled",null==(o=l.openFile)?void 0:o.key,l,s)}function c(e,t,r,n,i){return{search_session_id:i,node_id:e,node_type:function(e,t){if(!e)return null;let r=t.getState().mirror.sceneGraph.get(e);return(null==r?void 0:r.type)||null}(e,n),query_length:null==t?void 0:t.length,contains_at_symbol:null==t?void 0:t.includes("@"),result_row_index:r}}},393883:(e,t,r)=>{"use strict";r.d(t,{S4:()=>e_,Cj:()=>em});var n=r(411855),i=r(109388),a=r(188507),o=r(629019),l=r.n(o),s=r(711117),c=r(935283),d=r(91408),u=r(305874),p=r(966712),m=r(153234),_=r(522739),h=r(574176),g=r(271779),f=r(939863),E=r(145519),y=r(259927),b=r(501972),v=r(356390),I=r(852800),T=r(812821),S=r(701882),w=r(457630),A=r(460289),C=r(29680),N=r(301462),O=r(498606),L=r(80332),R=r(330505),P=r(972283),k=r(676938),D=r(301922);let M="emoji_wheel--active---0zBa",x="emoji_wheel--reactionsCenter--Z6kHH emoji_wheel--center--5zTgA",F="emoji_wheel--expand--bSTWk",U="emoji_wheel--switchWheel1--pASAD",B="emoji_wheel--switchWheel2--1Iksu";var H=r(499622),V=r(769420),G=(e=>(e.REACTION="REACTION",e.STAMP="STAMP",e.VOTE_STAMP="VOTE_STAMP",e.SOUND_REACT="SOUND_REACT",e))(G||{});function W(e){let{type:t,setWheel:r}=e;return n.createElement(n.Fragment,null,n.createElement(_.D8,{"aria-label":(0,f.t)("fullscreen.stamp_wheel"),"aria-pressed":"STAMP"===t,role:"button",recordingKey:"emoji-wheel-stamp-button",className:l()("emoji_wheel--stampsButtonSmall--PN2DS","STAMP"===t&&M),onClick:"STAMP"!==t?()=>r("STAMP"):void 0},n.createElement(h.B,{svg:V.A})),n.createElement(_.D8,{"aria-label":(0,f.t)("fullscreen.stamp_wheel"),"aria-pressed":"SOUND_REACT"===t,role:"button",recordingKey:"emoji-wheel-sound-react-button",className:l()("emoji_wheel--soundReactButton--EvoRM","SOUND_REACT"===t&&M),onClick:"SOUND_REACT"!==t?()=>r("SOUND_REACT"):void 0},n.createElement(h.B,{svg:H.A})))}var K=r(572206);let Y=(0,n.createContext)({finishedAnimating:!1,draggedStamp:null,shouldDragCancel:!1,setFinishedAnimating:e=>{},onDrag:e=>{},onDragStart:e=>{},onDragEnd:()=>{},wheelContainerRef:{current:null},wheelContentRef:{current:null}});function j(e){let[t,r]=(0,n.useState)(!1),[i,a]=(0,n.useState)(null),[o,l]=(0,n.useState)(!1),s=(0,n.useRef)(null),c=(0,n.useRef)(null),d=(0,n.useRef)(null),u=(0,n.useMemo)(()=>({finishedAnimating:t,draggedStamp:i,shouldDragCancel:o,wheelContainerRef:s,wheelContentRef:c,onDragStart:e=>{var t;d.current=(null==(t=c.current)?void 0:t.getBoundingClientRect())||null,a(e)},onDragEnd:()=>{d.current=null,a(null),l(!1)},onDrag:e=>{if(d.current){let t=d.current,r=K.Mi.distance(new K.Mi(e.x,e.y),new K.Mi(t.left+t.width/2,t.top+t.height/2))<=t.width/2;r!==o&&l(r)}},setFinishedAnimating:e=>{r(e)}}),[t,i,o]);return n.createElement(Y.Provider,{value:u},e.children)}function z(e){let t=(0,n.useContext)(Y);return e?t.draggedStamp===e:null!=t.draggedStamp}function $(){return(0,n.useContext)(Y).wheelContainerRef}var Z=r(634951),q=r(782540),J=r(861802),X=r(860168),Q=r(146935),ee=r(236855),et=r(489862),er=r(407885);let en=(0,d.hG)(X.tui),ei=2*S.l;var ea=(e=>(e.REACTION="REACTION",e.STAMP="STAMP",e.VOTE_STAMP="VOTE_STAMP",e.SOUND_REACT="SOUND_REACT",e))(ea||{});function eo(e){let{className:t,name:r,position:i,onMouseEnter:a,onMouseLeave:o}=e,s=m.rf(`emojiWheel.wedge.${r}`,"mousedown",e.onClick),c=(0,D.S)(),d={transform:`scaleX(-1) rotate(${(i-1)*45+22.5}deg)`};return i%2==0&&(d.transform=`rotate(${(4-i)*45-22.5}deg)`),n.createElement("svg",{"aria-hidden":"true",style:d,className:l()(t,c&&"r-chat"===r&&"emoji_wheel--reactionsWedgeDisabled--0h2dE"),width:ei,height:ei,viewBox:`0 0 ${ei} ${ei}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{onClick:s,onMouseEnter:a,onMouseLeave:o,d:`M0 ${S.l}H${S.l}L0 0V${S.l}Z`,fill:"white","data-tooltip-type":O.Ib.TEXT,"data-tooltip-offset-x":30,"data-tooltip-offset-y":-50,"data-tooltip":!0===c&&"r-chat"===r?(0,f.t)("fullscreen_actions.disable-cursor-chat"):null}))}function el({type:e,x:t,y:r,openedViaHover:i}){let o=(0,a.wA)(),s=(0,a.d4)(e=>e.mirror.appModel.isReadOnly);if(s)return n.createElement("div",{className:x},n.createElement("div",{className:"emoji_wheel--singleCenterReaction--xWX-5 emoji_wheel--singleCenter--X3W61"},n.createElement(h.B,{svg:et.A})));if("VOTE_STAMP"===e)return n.createElement("div",{className:"emoji_wheel--voteStampsCenter--4F1L3 emoji_wheel--center--5zTgA"},n.createElement("div",{className:"emoji_wheel--singleCenterVoting--N2E5- emoji_wheel--singleCenter--X3W61"},n.createElement(h.B,{svg:V.A})));let c=()=>{o(E.sp({wheelType:{STAMP:"REACTION2",REACTION:"STAMP1",SOUND_REACT:"STAMP1"}[e],isReadonly:s,isJoinedToActiveVotingSession:!1,viewportX:t,viewportY:r,source:"emoji_wheel_toggle",openedViaHover:i}))},d=e=>{o(E.sp({wheelType:{STAMP:"STAMP1",REACTION:"REACTION1",SOUND_REACT:"SOUNDREACT1"}[e],isReadonly:s,isJoinedToActiveVotingSession:!1,viewportX:t,viewportY:r,source:"emoji_wheel_toggle",openedViaHover:i}))},u={REACTION:x,STAMP:"emoji_wheel--stampsCenter---ZqKJ emoji_wheel--center--5zTgA",SOUND_REACT:"emoji_wheel--soundReactCenter--vMkp8 emoji_wheel--center--5zTgA"}[e];return n.createElement("div",{className:u},n.createElement("div",{className:"emoji_wheel--centerGrid--JoPnp"},n.createElement(_.D8,{"aria-label":(0,f.t)("fullscreen.reaction_wheel"),"aria-pressed":"REACTION"===e,role:"button",recordingKey:"emoji-wheel-reaction-button",className:l()("emoji_wheel--reactionsButton--H7Rps","REACTION"===e&&M),onClick:"REACTION"!==e?(0,p.kc)().figjam_more_tracks?()=>d("REACTION"):c:void 0},n.createElement(h.B,{svg:et.A})),(0,p.kc)().figjam_more_tracks?n.createElement(W,{type:e,setWheel:d}):n.createElement(_.D8,{"aria-label":(0,f.t)("fullscreen.stamp_wheel"),"aria-pressed":"STAMP"===e,role:"button",recordingKey:"emoji-wheel-stamp-button",className:l()("emoji_wheel--stampsButton--XDDR8","STAMP"===e&&M),onClick:"STAMP"!==e?c:void 0},n.createElement(h.B,{svg:V.A}))))}let es=n.createContext({top:0,left:0});function ec({x:e,y:t,type:r,emojis:i,openedViaHover:o}){let s=$(),d=(0,n.useContext)(Y).wheelContentRef,p=(0,a.wA)(),[m,_]=n.useState(null),{onAnimationStart:v,onAnimationEnd:w}=function(){let e=(0,n.useContext)(Y);return{onAnimationStart:()=>e.setFinishedAnimating(!1),onAnimationEnd:()=>e.setFinishedAnimating(!0)}}(),[A,O]=(0,n.useState)(!1),L=n.useCallback(()=>{p(E.Ho())},[p]),D=z();(0,k.Y)(L,{closeOnEsc:!0,ignore:[s.current,(0,P.b9)(),(0,b.Tc)(R.Qn)]});let M=(0,u.fU)(),x=(0,C.dH)();n.useEffect(()=>{o||x===I.NLJ.SELECT||x===I.NLJ.HAND_SELECT||L()},[x,L,o]),n.useEffect(()=>{D&&x!==I.NLJ.SELECT&&x!==I.NLJ.HAND_SELECT&&I.glU.triggerAction("set-tool-default",null)},[D,x]),n.useLayoutEffect(()=>{_(e=>{switch(e){case null:return F;case F:return U;case U:return B;case B:return U;default:return e}})},[r]);let H={REACTION:"emoji_wheel--reactions--RKlR4 emoji_wheel--wheel--sg2lN",STAMP:"emoji_wheel--stamps--ty-ji emoji_wheel--wheel--sg2lN",VOTE_STAMP:"emoji_wheel--voteStamps--yhYZR emoji_wheel--wheel--sg2lN",SOUND_REACT:"emoji_wheel--soundReact--vNprZ emoji_wheel--wheel--sg2lN"}[r],V={REACTION:"emoji_wheel--reactionsDial--A3mRG emoji_wheel--dial--05ZOf",STAMP:"emoji_wheel--stampsDial--CLKFt emoji_wheel--dial--05ZOf",VOTE_STAMP:"emoji_wheel--voteStampsDial--v9czq emoji_wheel--dial--05ZOf",SOUND_REACT:"emoji_wheel--soundReactDial--mEZ1P emoji_wheel--dial--05ZOf"}[r],G=S.l+3,W=Math.min(window.innerHeight-2*G,Math.max(en,t+en-G)),K=Math.min(window.innerWidth-2*G,Math.max(0,e-G)),j={top:W,left:K,position:"absolute",zIndex:Q.stampPaletteZ},q=n.useRef(null),[J,X]=n.useState(null),et=n.useCallback((e,t,r)=>{let n=(0,Z.k6)(e,M),i={x:t,y:r-en},a=e.type;switch(a){case"STAMP":N.FZ.trackFromFullscreen("Start stamping",{name:e.name}),(0,Z.be)(n,e.label||""),L();break;case"VOTE_STAMP":N.FZ.trackFromFullscreen("Start vote stamping",{name:e.name}),(0,Z.be)(n,e.label||""),L();break;case"REACTION":case"SOUND_REACT":N.FZ.trackFromFullscreen("Start reacting",{name:e.name}),p(E.wE({imageUrl:n,name:e.name,position:i})),I.glU.triggerAction("set-tool-default",null);break;case"ACTION":L(),e.action(i,p);break;default:(0,c.xb)(a)}},[M,L,p]),ea=o&&!D;n.useEffect(()=>{if(ea&&!A){let e=setTimeout(L,300);return()=>clearTimeout(e)}},[A,ea,L]),n.useEffect(()=>{let e=e=>{if(q.current){let{x:t,y:r}=e;et(q.current,t,r)}};return T.CB.addTriggerActiveWheelButtonListener(e),()=>{T.CB.removeTriggerActiveWheelButtonListener(e)}},[et]),n.useEffect(()=>{var e;null==(e=s.current)||e.focus()},[s,r]);let eo=null!=J?{transform:`rotate(${-(45*J)-22.5}deg)`}:null,ec=null!=m?{animation:`${m} 0.2s ease-in-out`}:{};return n.createElement(es.Provider,{value:{top:W,left:K}},n.createElement("div",{tabIndex:-1,"aria-label":function(e){switch(e){case"REACTION":return(0,f.t)("fullscreen.reaction_wheel");case"STAMP":return(0,f.t)("fullscreen.stamp_wheel");case"VOTE_STAMP":return(0,f.t)("fullscreen.vote_stamp_wheel");case"SOUND_REACT":return(0,f.t)("fullscreen.more_tracks_title")}}(r),ref:s,style:j,className:l()("emoji_wheel--wheelContainer--PDwZJ",o&&"emoji_wheel--wheelContainerWithExtendedHitBox--dtL8J",y.Dm),onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),"data-fullscreen-intercept":!0},n.createElement(g.i,{displayAs:g.C.Block},n.createElement("div",{style:ec,ref:d,className:H,onAnimationStart:v,onAnimationEnd:w},n.createElement(h.B,{ariaHidden:!0,autosize:!0,height:`${ei}px`,width:`${ei}px`,useOriginalSrcFills_DEPRECATED:!0,svg:ee.A}),i.map(e=>n.createElement(ed,{key:e.name,emoji:e,multiplayerColor:M,active:q.current===e,type:r,onMouseEnter:e=>{if(q.current=e,null==J)X(e.position);else{let t=(e.position-J)%8;t<-4&&(t+=8),t>4&&(t-=8),X(J+t)}},onMouseLeave:()=>{q.current=null,X(null)},onClick:(e,t)=>{et(t,e.clientX,e.clientY)}})),eo&&n.createElement(h.B,{ariaHidden:!0,autosize:!0,height:`${ei+54}px`,width:`${ei+54}px`,className:V,svg:er.A,style:eo}))),n.createElement(el,{type:r,x:e,y:t,openedViaHover:o})))}function ed(e){let{active:t,emoji:r,multiplayerColor:i,onMouseEnter:a,onMouseLeave:o,onClick:s,type:c}=e,d=z(r.name),u=(0,n.useContext)(Y).finishedAnimating,p=(0,D.S)(),m=n.useRef(null),[_,h]=n.useState(null);if(n.useEffect(()=>{(0,Z.WX)(r,i).then(h)},[r,i]),!_)return n.createElement(n.Fragment,{key:r.name});let g={REACTION:12,STAMP:20,VOTE_STAMP:20,SOUND_REACT:12}[c],f={REACTION:!1,STAMP:!0,VOTE_STAMP:!0,ACTION:!1,SOUND_REACT:!1}[r.type],E=r.offset||.74,y=r.position*Math.PI/4,b=(Math.cos(y)*E+1)*S.l-20,v=(1-Math.sin(y)*E)*S.l-20;return n.createElement("span",{key:r.name},n.createElement(eo,{className:l()("emoji_wheel--wedge--sBm7k",t&&!d&&({REACTION:"emoji_wheel--reactionsWedgeActive--nDFhr",STAMP:"emoji_wheel--stampsWedgeActive--fiShF",VOTE_STAMP:"emoji_wheel--voteStampsWedgeActive--F5i4m",SOUND_REACT:"emoji_wheel--soundReactWedgeActive--LD77D"})[c]),name:r.name,position:r.position,onMouseEnter:()=>a(r),onMouseLeave:o,onClick:e=>s(e,r)}),n.createElement("div",{className:"emoji_wheel--emoji--EG-Xt",style:{top:v,left:b},ref:m},!d&&n.createElement("button",{"aria-label":null==r.i18nName?r.label:r.i18nName(),className:l()("emoji_wheel--emojiButtonContainer--kC-6-",p&&"r-chat"===r.name&&"emoji_wheel--emojiButtonContainerDisabled--zc8XC"),"data-fullscreen-intercept":!0,onClick:e=>s(e,r),onFocus:()=>a(r),onBlur:o},n.createElement("img",{style:{width:2*g,height:2*g},src:_,alt:`${r.name} emoji`}))),f&&u&&n.createElement(eu,{contentTarget:m.current,stamp:r,url:_,onClick:e=>s(e,r),onMouseEnter:()=>a(r),onMouseLeave:o}))}function eu(e){let{contentTarget:t,onMouseEnter:r,onMouseLeave:a,stamp:o,url:l}=e,c=$(),[d,u]=n.useState(0),p=n.useRef(null),[_,h]=n.useState(null),g=n.useContext(es);n.useLayoutEffect(()=>{if(t){let e=t.getBoundingClientRect();h({top:e.top,left:e.left})}else h(null)},[t,g.top,g.left]);let{onDragStart:f,onDrag:E,onDragEnd:y}=function(){let e=(0,n.useContext)(Y);return{onDragStart:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd}}(),b=z(o.name),T=(0,n.useContext)(Y).shouldDragCancel,S=(0,w.Pl)({subscribeToUpdates_expensive:b}),A=m.rf(`emojiWheel.draggableStamp.${o.name}`,"mousedown",e.onClick);return _&&l&&c.current?(0,i.createPortal)(n.createElement(s.P.div,{key:d,"aria-hidden":"true",onClick:e=>{e.stopPropagation(),e.preventDefault(),A(e)},className:"emoji_wheel--emojiDraggable--6hh9L",style:{top:_.top,left:_.left},onMouseEnter:r,onMouseLeave:a,drag:!0,variants:{initial:{scale:1},whileDrag:{scale:1.5*S},whileDragCancel:{scale:.93}},animate:b?T?"whileDragCancel":"whileDrag":"initial",ref:p,dragElastic:1,dragConstraints:{top:0,bottom:0,right:0,left:0},onDragStart:()=>{f(o.name)},onDrag:(e,t)=>{E(t.point)},onDragEnd:()=>{if(!T){let e=p.current;if(e){let t=e.getBoundingClientRect(),r=v.Y5.getViewportInfo(),n={x:t.left-r.x,y:t.top-r.y},i=(0,w.$$)(r,n);(0,Z.PK)(l,o.label||"",Math.round(i.x),Math.round(i.y),null,I.zkO.USER)}}u(e=>e+1),y(),a()}},n.createElement("img",{draggable:!1,style:{width:40,height:40},src:l,alt:`${o.name} emoji`})),c.current):null}function ep(){let e=function(){let e=(0,a.d4)(e=>e.multiplayer.allUsers.find(t=>t.sessionID===e.multiplayer.sessionID)),t=(0,a.d4)(t=>{var r,n;if(e&&e.imageURL)return`${e.imageURL}?c=1`;let i=null==(n=null==(r=t.user)?void 0:r.profile)?void 0:n.images;return i&&i["500_500"]?`${i["500_500"]}?c=1`:null}),r=e?e.name:null,i=(0,L.$L)(null==e?void 0:e.userID,L.us),o=(0,Z.LL)(t,r,i),l=(0,Z.vv)(t,r,i);return n.useMemo(()=>({stamp:o,voteStamp:l}),[o,l])}(),t=(0,u.fU)(),r=n.useMemo(()=>(0,J.lJ)(e.stamp),[e.stamp]),i=n.useMemo(()=>(0,J.hf)(e.voteStamp),[e.voteStamp]);return n.useEffect(()=>{(0,Z.C7)(q.n,t)},[t]),n.useEffect(()=>{(0,Z.C7)(r,t)},[t,r]),n.useEffect(()=>{(0,Z.C7)(i,t)},[t,i]),n.useEffect(()=>{(0,Z.C7)(q.h,t)},[t]),{REACTION:q.n,STAMP:r,VOTE_STAMP:i,SOUND_REACT:q.h}}function em(){return ep(),n.createElement(n.Fragment,null)}function e_(e){let t=(0,A.XM)(),r=function({wheelType:e,isJoinedToActiveVotingSession:t}){return t?"VOTE_STAMP":({STAMP1:"STAMP",STAMP2:"STAMP",REACTION1:"REACTION",REACTION2:"REACTION",SOUNDREACT1:"SOUND_REACT"})[e]}({wheelType:e.multiplayerEmoji.wheelType,isJoinedToActiveVotingSession:t})??"STAMP",i=function({wheelType:e}){return ep()[e]}({wheelType:r});if("WHEEL"!==e.multiplayerEmoji.type)return n.createElement(n.Fragment,null);let{viewportX:a,viewportY:o,openedViaHover:l}=e.multiplayerEmoji;return n.createElement(j,null,n.createElement(ec,{x:a,y:o,type:r,emojis:i,openedViaHover:l}))}},634951:(e,t,r)=>{"use strict";r.d(t,{C7:()=>S,LL:()=>f,PK:()=>b,WX:()=>w,be:()=>y,k6:()=>T,uL:()=>g,vv:()=>E,w8:()=>I,xG:()=>v});var n=r(411855),i=r(763142),a=r(776621),o=r(304783),l=r(852800),s=r(662531),c=r(409430),d=r(294868),u=r(957385),p=r(781779);let m=Object.create(null);function _(e){return(0,d.w6)(e).catch(()=>null)}let h=new u.A;async function g({profileImageUrl:e,userName:t,userColor:r,noCircleOutline:n}){let i=500*window.devicePixelRatio,a=81.25*window.devicePixelRatio,[o,l]=await Promise.all([_({url:"https://static.figma.com/uploads/cbbdc3ccc2f650369332a454328722aa11cbd78a",height:i,width:i}),e?_({url:e,height:i,width:i}):null]),s=(0,d.Dl)(i,i),c=s.getContext("2d");if(!o)return"";if(n||c.drawImage(o,0,0,i,i),c.arc(i/2,i/2,i/2-a,0,2*Math.PI,!0),c.clip(),l){let e=i-2*a;c.drawImage(l,a,a,e,e)}else{if(!r||!t)return"";c.fillStyle=r,c.fillRect(0,0,i,i),c.textBaseline="middle",c.textAlign="center";let e=187.5*window.devicePixelRatio;c.font=`${e}px Inter`,c.fillStyle===p.$C9?c.fillStyle=p.PN4:c.fillStyle="white",c.fillText(t.substring(0,1).toUpperCase(),i/2,i/2+10*window.devicePixelRatio)}c.scale(window.devicePixelRatio,window.devicePixelRatio);let u=s.toDataURL("image/png");return h.set(u,e,t,r,n),u}function f(e,t,r,i){let[a,o]=(0,n.useState)(h.get(e,t,r,i)||"");return(0,n.useEffect)(()=>{if(!e&&!(t&&r)){o("");return}let n=!1,l=h.get(e,t,r,i);return l!==a&&(l?o(l):g({profileImageUrl:e,userName:t,userColor:r,noCircleOutline:i}).then(e=>{n||o(e)})),()=>{n=!0}},[e,t,r,i,a]),a}function E(e,t,r){let[i,a]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(!e&&!(t&&r)){a(null);return}let n=!1;return(async()=>{let[n,i,a]=await Promise.all([_({url:"https://static.figma.com/uploads/cd58a828de2645b5c35b76d4b8ea61b0e93e2b34",height:160,width:160}),_({url:"https://static.figma.com/uploads/e8f7fcffc0ef390a0bdac65da832cf0a35588ae0",height:80,width:76}),e?_({url:e,height:500,width:500}):null]),o=(0,d.Dl)(160,160),l=o.getContext("2d");if(!n||!i)return null;if(l.drawImage(n,0,0,160,160),l.save(),l.arc(72,80,48,0,2*Math.PI,!0),l.clip(),a)l.drawImage(a,24,32,96,96);else{if(!r||!t)return null;l.fillStyle=r,l.fillRect(0,0,160,160),l.textBaseline="middle",l.textAlign="center",l.font="53px Inter",l.fillStyle="white",l.fillText(t.substring(0,1).toUpperCase(),72,83)}return l.restore(),l.drawImage(i,80,56,76,80),o.toDataURL("image/png")})().then(e=>{n||a(e)}),()=>{n=!0}},[e,t,r]),i}async function y(e,t){let r=await (0,c.T)(e,m);(0,a.Lo)("activateStampToolWithImageURL","setting stamp tool",{label:t,bytesLength:null==r?void 0:r.length}),l.glU.activateStampTool(r,t)}async function b(e,t,r,n,i,a){let o=await (0,c.T)(e,m);(0,s.l7)(a,"drop-stamp",()=>l.glU.emojiWheelDropStampOntoCanvas(o,t,r,n,i,"wheel"))}async function v(e,t,r,n,i,a){let o=await (0,c.T)(e,m);(0,s.l7)(a,"drop-face",()=>l.glU.dropFaceOntoCanvas(o,"Face Stamp",t,r,n,i))}async function I(e,t,r,n){let i=await (0,c.T)(e,m);(0,s.l7)(n,"replace-face",()=>l.glU.updateFaceForNode(i,t,r))}function T(e,t){if(e.image)return`https://static.figma.com/uploads/${e.image}`;if(e.imageFunc)return e.imageFunc(t);throw Error(`Invalid emoji ${e} has no image nor imageFunc`)}function S(e,t){for(let r of e){let e=T(r,t);e&&(0,c.T)(e,m).catch(e=>{(0,a.$D)(o.e.FIGJAM_CORE,e)})}}async function w(e,t){let r=T(e,t);if(!r)return null;try{let e=await (0,c.T)(r,m);return`data:image/png;base64,${(0,i.lF)(e)}`}catch{return(0,a.xi)("emoji wheel","unable to load emoji data",{url:r,name:e.name}),null}}},782540:(e,t,r)=>{"use strict";r.d(t,{h:()=>o,n:()=>a});var n=r(145519),i=r(301922);let a=[{type:"REACTION",name:"r-fire",image:"d1e0d7ed5e1aa13e8854dbd88b9fd650377a02f2",position:2},{type:"REACTION",name:"r-surprised",image:"1429964104bceac90c5c8e731ce4cc50b27e2797",position:1},{type:"REACTION",name:"r-eyes",image:"ffd0635e8f9322352eff0c15411ac0b536b98d87",position:8},{type:"REACTION",name:"r-wave",image:"0606e9d967b5abb6d9a2853c2fff589f2ec2fc05",position:7},{type:"ACTION",name:"r-chat",image:"d1de3f6fe1f8ffa74d3db5203b2df761d0fed1cc",position:6,action:(e,t)=>{(0,i.q)().then(r=>{r||t(n.F6({position:e,source:"emoji_wheel_reactions"}))})}},{type:"REACTION",name:"r-sad",image:"78f60a21d2616c2a24c7645d8636dec855e48ffb",position:5},{type:"REACTION",name:"r-laugh",image:"a83de90bf34495081ce2e8bcaf28d1d2c16e5186",position:4},{type:"REACTION",name:"r-love",image:"ff5be810b821d264cc2c95f665d24a867c34e587",position:3}],o=[{type:"SOUND_REACT",name:"Mario [Hack]",image:"69b4ba8f29c921c8f92a8c68db9f2b0b4ec8b425",position:8},{type:"SOUND_REACT",name:"Luigi [Hack]",image:"d6c2fc12ba02a60b1240291c967901f7a79b2c73",position:7},{type:"SOUND_REACT",name:"Laugh [Hack]",image:"a83de90bf34495081ce2e8bcaf28d1d2c16e5186",position:1},{type:"SOUND_REACT",name:"Clap [Hack]",image:"e08272b9d639fda960eb7b3a9e67788c889f4ac3",position:2},{type:"SOUND_REACT",name:"Oh Brother [Hack]",image:"54db671192baab4c878fdfe4b01a6dbd7456d245",position:6},{type:"SOUND_REACT",name:"Crickets [Hack]",image:"a2e82490547ca715de32b215b8d4391e7e49b108",position:3},{type:"SOUND_REACT",name:"Guitar [Hack]",image:"a661f0265b915eec703df568a3c7f5e46797ed73",position:5},{type:"SOUND_REACT",name:"Looney Tunes [Hack]",image:"d1e24003ed6d20a9489aff33665df3c5ce04c4fd",position:4}]},861802:(e,t,r)=>{"use strict";r.d(t,{TI:()=>l,WJ:()=>p,hf:()=>d,lJ:()=>o,sn:()=>i,tR:()=>u});var n=r(939863);let i="s-heart";function a(e){return[{type:"STAMP",name:"s-thumbsUp",image:e.thumbsUp,position:2,label:"Thumbs up",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.thumbs_up")},{type:"STAMP",name:"s-plusOne",offset:.72,image:e.plusOne,position:1,label:"+1",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.plus_one")},{type:"STAMP",name:"s-star",image:e.star,position:8,label:"Star",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.star")},{type:"STAMP",name:"s-question",image:e.question,position:7,label:"Question",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.question")},{type:"STAMP",name:"s-thumbsDown",image:e.thumbsDown,position:6,label:"Thumbs down",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.thumbs_down")},{type:"STAMP",name:"s-dot",imageFunc:e.dots,position:5,label:"Dot",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.dot")},{type:"STAMP",name:"s-profile",offset:.73,imageFunc:e.profile,position:4,label:"Profile",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.profile")},{type:"STAMP",name:"s-heart",image:e.heart,position:3,label:"Heart",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.heart")}]}function o(e){return a({heart:"af824a5efc8f5738e597b114e77ec693dc694783",thumbsDown:"aa22611268cdcc5c6a89b0fbfdb1acbf6d98378d",star:"3b83c9551d5d60e27ad4ca2f67cd10358a154401",thumbsUp:"933574dba7004721d4f0fe0ba0f4d5069e106383",question:"c32fac5da104a7d1360acecfcf92d4df9cb5e51c",profile:()=>e,dots:e=>`https://static.figma.com/figjam_dots/${e}.png`,plusOne:"f54909c2377f2c9da84382594e98db7b2a5c5f8f"})}function l(e){let t=o(null).find(t=>t.label===e);return t&&t.i18nName?t.i18nName:()=>(0,n.t)("fullscreen.accessibility_dom.labelled_stamp",{label:(null==t?void 0:t.label)??""})}let s={F24E1E:"f5c62908951d5597fd78d43b466a590616ba2693","0FA958":"a80c699432955f63c3613761744dfb61758780ae",FFC700:"a9d0704b01ae94a42c00e495f58e169966099333","5551FF":"87a816dc22c9fe975e6cb531cc7f2b47ff66f26e",D27C2C:"a7115640741f347d4fec9f4f82bf88465e6081f4",848484:"1775b53401dbbb5bfb48ae9b00b650952e5c8d67",EBEBEB:"c3312ab90b95e13d91b5a826628708663e502ddc",667799:"27be94d8a31dc67f2fdf0bc0ed1cd2c7d6c48cba","007BE5":"4f73e22fc8d7e9d55bfb24dcc7b7d6201ca51fb3","9747FF":"d337617455a562b3a0859d87fac6d82f86d8d729",FF24BD:"19e369b3f6531ed8571b6fed7db7e2fe7b4d4517",F24822:"4c9a2a1f92768b87946ec3a4d9000f0fe99d760c",FFCD29:"13a81b40823bfed9e05f4b0eedab902453bf47b3","14AE5C":"fd086d9788aa1e5a4dd7c10436a59d5d51c6c063"},c={"s-heart":"421d20c98db007d377890189b093545f16498acc","s-thumbsDown":"0bda50cfaecc87b58d0a78e8a8768b55a9f67c03","s-star":"cbc8d70c16c1fcf0d8690429564495cce3ab11c0","s-thumbsUp":"5e39a5f28101ed8ca9d9e38275066867c47294e9","s-question":"75a4d8d5c7e5fc18ad3f76ce2c1166b68f9ec046","s-plusOne":"0d4a582f5dd156228c1443c9fd19a331ff8f087b"};function d(e){return a({heart:c["s-heart"],thumbsDown:c["s-thumbsDown"],star:c["s-star"],thumbsUp:c["s-thumbsUp"],question:c["s-question"],profile:()=>e,dots:e=>{let t=s[e]||s["667799"];return`https://static.figma.com/uploads/${t}`},plusOne:c["s-plusOne"]})}let u="https://static.figma.com/uploads/2b2029d1eabf48358e208427103a2023435751dc",p=a({heart:"cdb352553f6650801d744ab73fd416222f120bd6",thumbsDown:"1b9c978d009d03d1abececfe15edf721a7c14374",star:"a9c2008e62c6d5a4421a22cd960b5ca54fdbe93f",thumbsUp:"d7c56a0ef07da63ed9f641ab04637704a4744c74",question:"4fe56356e345e558e669ff6e369f0265ee0b7fe7",profile:()=>"https://static.figma.com/uploads/cb417fb549d06a2fb42e182cddd2b94b1996b768",dots:()=>u,plusOne:"96363e23778476978d264bfcbd286bc0cbafe6cd"})},970332:(e,t,r)=>{"use strict";r.d(t,{A2:()=>S,VF:()=>I,jK:()=>y,uY:()=>b,xI:()=>T});var n=r(411855),i=r(629019),a=r.n(i),o=r(799569),l=r(946689),s=r(939863),c=r(175290),d=r(101505),u=r(672517),p=r(226055),m=r(833629),_=r(63666),h=r(936181),g=r(983238),f=r(799088),E=r(630834);let y=300;function b({currentStepNum:e,totalNumSteps:t,useLoadingBar:r}){if(null==e||null==t)return null;let i=Math.min(e/t*64,64);return r?n.createElement("div",{className:f.gZ},n.createElement("div",{className:a()({[f.kO]:!0,[f.Ph]:i>=64}),style:{width:`${i}px`}})):n.createElement("span",{className:f.wV},n.createElement(s.Tx,{id:"rcs.rcs_shared.step_counter",currentStepNum:e,totalNumSteps:t}))}function v(e){var t,r,i,a;let o=(0,p.GS)();return n.createElement(n.Fragment,null,n.createElement("h2",{className:f.wx},e.title),!o&&n.createElement(l.Kz,{multiple:1}),n.createElement("div",{className:f.h_},e.children),!o&&n.createElement(l.Kz,{multiple:3}),n.createElement("div",{className:f.qr},n.createElement(c.Y,{verticalAlignItems:"center",direction:"horizontal",spacing:8},e.lowerLeftText,n.createElement(c.M,null),e.onSecondaryCtaClick&&n.createElement(l.tM,{onClick:e.onSecondaryCtaClick,trackingProperties:{ctaTrackingDescriptor:(null==(t=e.secondaryCtaProps)?void 0:t.ctaTrackingDescriptor)||d.c.BACK}},(null==(r=e.secondaryCtaProps)?void 0:r.ctaText)||n.createElement(s.Tx,{id:"tooltips_plus_onboarding.back"})),e.onPrimaryCtaClick&&n.createElement(l.vd,{onClick:e.onPrimaryCtaClick,trackingProperties:{ctaTrackingDescriptor:(null==(i=e.primaryCtaProps)?void 0:i.ctaTrackingDescriptor)||d.c.NEXT}},(null==(a=e.primaryCtaProps)?void 0:a.ctaText)||n.createElement(s.Tx,{id:"tooltips_plus_onboarding.next"})))))}function I(e){let t=(0,p.GS)(),r=(0,m.Ai)(["exp_cursor_bot_onboarding"]);return n.createElement(u.fu,{name:e.trackingContextName,properties:{isInCursorBotBasicsFile:r}},!e.disableHighlight&&n.createElement(h.x,{target:e.targetKey}),n.createElement(_.CR,{className:a()({[f.R3]:!0,[f.el]:"designPanel"===e.pointsTo,[f.N2]:"toolbar"===e.pointsTo,[f.Lq]:"leftPanel"===e.pointsTo}),targetKey:e.targetKey,shouldCenterArrow:e.shouldCenterArrow,disableClickOutsideToHide:!0,dismissModal:e.dismissModal,hideCloseButton:!!t||e.hideCloseButton,arrowPosition:e.arrowPosition,hidePointer:e.hidePointer,width:t?320:y,hideIfTargetLost:!0},n.createElement(v,{title:e.title,children:e.children,lowerLeftText:e.lowerLeftText,onSecondaryCtaClick:e.onSecondaryCtaClick,onPrimaryCtaClick:e.onPrimaryCtaClick,secondaryCtaProps:e.secondaryCtaProps,primaryCtaProps:e.primaryCtaProps}),t&&n.createElement(o.Jn,{className:f.b,onClick:e.dismissModal,innerText:"close",svg:E.default})))}function T(e){let t=(0,p.GS)();return n.createElement(u.fu,{name:e.trackingContextName},n.createElement("div",{style:{width:t?320:y},className:a()(f.R3,f.hF)},n.createElement(v,{title:e.title,children:e.children,lowerLeftText:e.lowerLeftText,onSecondaryCtaClick:e.onSecondaryCtaClick,onPrimaryCtaClick:e.onPrimaryCtaClick,secondaryCtaProps:e.secondaryCtaProps,primaryCtaProps:e.primaryCtaProps}),n.createElement(o.Jn,{className:t?f.b:g.b,onClick:e.dismissModal,innerText:"close",svg:E.default})))}function S(e){return n.createElement("div",{className:f.bI},e.children)}},469572:(e,t,r)=>{"use strict";r.d(t,{a2:()=>u,yE:()=>p});var n=r(411855),i=r(188507),a=r(297666),o=r(38580),l=r(374626),s=r(572174),c=r(931828);let d={x:(0,o.eU)(void 0),y:(0,o.eU)(void 0),cornerRadius:(0,o.eU)(void 0),angle:(0,o.eU)(void 0),width:(0,o.eU)(void 0),height:(0,o.eU)(void 0),fontSize:(0,o.eU)(void 0),fontStyle:(0,o.eU)(void 0),fontFamily:(0,o.eU)(void 0),fillPaints:(0,o.eU)(void 0),strokePaints:(0,o.eU)(void 0),effects:(0,o.eU)(void 0)},u=(0,a.s)(e=>{let t=d[e];t&&l.zl.set(t,e=>!e)},200,!0);function p(e,t){let r=(0,i.Pj)(),a=d[e],o=(0,l.md)(a);n.useEffect(()=>{!(t&&t.current||(0,s.uy)(o))&&(r.getState().userFlags.figma_basics_has_modified_properties||r.getState().userFlags.has_modified_properties||r.dispatch(c.b({has_modified_properties:!0})))},[t,o,r])}},595755:(e,t,r)=>{"use strict";r.d(t,{U:()=>f,B:()=>g});var n=r(411855),i=r(893606);let a="file_load--tabBar--D43oo",o="file_load--tabName--TrE24",l="file_load--shimmer--0w-rr",s="file_load--row--xVNmU",c="file_load--section--OgkK4",d="file_load--title--kxgMz",u="file_load--layers--llavb",p="file_load--styles--jq3r4";function m(){return n.createElement("div",{className:`${l} file_load--text--6ZMqP`})}function _(e){let t=12+.5*e.index;return n.createElement("div",{className:"file_load--style--r3WWP",style:{animationDelay:`${t}s`}},n.createElement("div",{className:`${l} file_load--circle--RmZhY`}),n.createElement(m,null))}function h(e){let t=Math.floor(e.index/5),r=e.index%5;return n.createElement("div",{className:"file_load--shimmerContainer--TJ3Mx",style:{animationDelay:`${3+2*t+.05*r}s`}},n.createElement(m,null))}function g(){let e=(0,i.R)(),t=[];for(let e=0;e<15;e++)t.push(n.createElement(_,{key:e,index:e}));let r=n.createElement("div",{className:p},n.createElement("div",{className:`${l} ${d}`}),t);return e?n.createElement("div",null,n.createElement("div",{className:a},n.createElement("div",{className:s},n.createElement("div",{className:"file_load--ui3Avatar--g2Nf7 file_load--shimmer--0w-rr"}),n.createElement("div",{className:c},n.createElement("div",{className:"file_load--ui3Play--w1fUV file_load--shimmer--0w-rr"}),n.createElement("div",{className:"file_load--ui3Share--0VHdz file_load--shimmer--0w-rr"}))),n.createElement("div",{className:s},n.createElement("div",{className:c},n.createElement("div",{className:"file_load--tab1--2sCSk file_load--shimmer--0w-rr"}),n.createElement("div",{className:"file_load--tab2--Rv1im file_load--shimmer--0w-rr"})),n.createElement("div",{className:"file_load--zoom--Q0ucp file_load--shimmer--0w-rr"}))),r):n.createElement("div",null,n.createElement("div",{className:a},n.createElement("div",{className:`${o} ${l}`}),n.createElement("div",{className:`${o} ${l}`}),n.createElement("div",{className:`${o} ${l}`})),n.createElement("div",null,n.createElement("div",{className:"file_load--backgroundProperty--Uw1mR"},n.createElement("div",{className:`${l} ${d}`}),n.createElement("div",{className:`${l} file_load--full--YH06h`}))),n.createElement("div",{className:p},n.createElement("div",{className:`${l} ${d}`}),t),r)}function f(){let e=[];for(let t=0;t<24;t++)e.push(n.createElement(h,{key:t,index:t}));return(0,i.R)()?n.createElement("div",null,n.createElement("div",{className:a},n.createElement("div",{className:s},n.createElement("div",{className:"file_load--menuButtonPlaceholder---yKdw file_load--shimmer--0w-rr"}),n.createElement("div",{className:"file_load--hideSidebarButtonPlaceholder--DZ61q file_load--shimmer--0w-rr"})),n.createElement("div",{className:s},n.createElement("div",{className:"file_load--filenamePlaceholder--hxD4R file_load--shimmer--0w-rr"})),n.createElement("div",{className:s},n.createElement("div",{className:"file_load--repoInfoPlaceholder--nSlHb file_load--shimmer--0w-rr"}))),n.createElement("div",{className:u},e)):n.createElement("div",null,n.createElement("div",{className:a},n.createElement("div",{className:`file_load--searchTab--7r-4M ${l}`}),n.createElement("div",{className:`${o} ${l}`}),n.createElement("div",{className:`${o} ${l}`})),n.createElement("div",{className:u},e))}},824767:(e,t,r)=>{"use strict";r.d(t,{Zk:()=>y,fJ:()=>g,x0:()=>E});var n=r(411855),i=r(374626),a=r(776621),o=r(30637),l=r(809831),s=r(502665),c=r(860178),d=r(93062),u=r(301819),p=r(982749),m=r(335218);let _=(0,i.E3)("frecencyHistory",{numItems:0,userIds:{}},{subscribeToChanges:!1},{debounceTime:1e3});class h{constructor({json:e,setJson:t,userId:r,fullscreenEditorType:n}){this.MAX_ENTRIES=5e3,this.numItems=e.numItems,this.userIds=e.userIds,this.setJson=t,this.fullscreenEditorType=n??"none",this.userId=r??"anonymous",this.cachedActions=this.initActions(),this.cachedQueries=this.initQueries()}addUsage(e,t){let r=this.getActions();r.addUsage(e)&&this.incrementTotalItems();let n=this.getQueries();n.addUsage(t,e)&&this.incrementTotalItems(),this.userIds[this.userId]={...this.userIds[this.userId],[this.fullscreenEditorType]:{actions:r.serialize(),queries:n.serialize()}},this.numItems>this.MAX_ENTRIES&&this.prune(),this.save()}prune(){let e=Object.entries(this.userIds).flatMap(([e,t])=>Reflect.ownKeys(t).flatMap(r=>{let n=t[r];if(!n)return[];let{actions:i,queries:a}=n,o=Object.entries(i).flatMap(([t,{timestamps:n}])=>({userId:e,editorType:r,action:t,timestamp:n[0]})),l=Object.entries(a).flatMap(([t,n])=>Object.entries(n).flatMap(([n,{timestamps:i}])=>({userId:e,editorType:r,action:n,query:t,timestamp:i[0]})));return o.concat(l)}));e.sort((e,t)=>e.timestamp-t.timestamp);let t=this.MAX_ENTRIES/2;for(let r=0;r<t;r++){let{userId:t,editorType:n,action:i,query:a}=e[r],o=this.userIds[t][n];o&&(void 0!==a?delete o.queries[a][i]:delete o.actions[i],this.userIds[t][n]=o,this.numItems-=1)}}incrementTotalItems(){this.numItems+=1}initActions(){var e,t;let r=(null==(t=null==(e=this.userIds[this.userId])?void 0:e[this.fullscreenEditorType])?void 0:t.actions)??{};return new u.l(r)}initQueries(){var e,t;let r=(null==(t=null==(e=this.userIds[this.userId])?void 0:e[this.fullscreenEditorType])?void 0:t.queries)??{};return new p.B(r)}getActions(){return this.cachedActions}getQueries(){return this.cachedQueries}save(){try{this.setJson({numItems:this.numItems,userIds:this.userIds}),f=this}catch(e){(0,a.x1)("error","Failed to save frecency data",e,{reportAsSentryError:!0})}}setMaxEntriesForTesting(e){(0,o.Lg)()&&(this.MAX_ENTRIES=e)}}function g(){let[e,t]=(0,i.fp)(_),r=(0,c.TA)(),a=(0,l.my)(),o=(0,n.useMemo)(()=>new h({json:e,setJson:t,userId:r,fullscreenEditorType:a}),[e,t,r,a]);return{addFrecencyUsage:(0,n.useCallback)((e,t)=>{if(!(0,d.h8)())return;let r=(0,m.n)(e);o.addUsage(r,t)},[o]),frecencyByAction:o.getActions(),frecencyByQuery:o.getQueries()}}let f=null;function E(){let e=i.zl.get(s.N).data,t=i.zl.get(l.u8);return f&&f.userId===e&&f.fullscreenEditorType===t||(f=new h({json:i.zl.get(_),setJson:e=>i.zl.set(_,e),userId:e,fullscreenEditorType:t})),{actions:f.getActions(),queries:f.getQueries()}}function y(){i.zl.set(_,{numItems:0,userIds:{}}),f=null}},631378:(e,t,r)=>{"use strict";r.d(t,{_:()=>y,x:()=>E});var n=r(220848),i=r.n(n),a=r(935283),o=r(36867),l=r(966712),s=r(829486),c=r(324597),d=r(586211),u=r(483990),p=r(279145),m=r(93062),_=r(824767),h=r(193948),g=r(189431),f=r(176857);class E{constructor(e,t,r,n){for(let i of(this.searchMap={},this.searchMapKeys=[],this.includeDisabled=!1,this.acceptsUnicode=!1,this.queryStringMap={},this.includeDisabled=!!(n&&n.includeDisabled),this.acceptsUnicode=!!(n&&n.acceptsUnicode),r.forEach(r=>this.addFigmaMenuItemsToSearchMap(e,t,r)),this.searchMapKeys=Object.keys(this.searchMap),this.searchMapKeys)){let e=this.searchMap[i],t=e.queryString?`${e.queryString} ${i}`:i;this.queryStringMap[t]=e}}isDisabled(e,t){var r;return t.disabled?t.disabled:!(t.name||(0,p.Yh)(e,t.action))&&(null==(r=t.quickAction)||!r.alwaysEnabled)}addFigmaMenuItemsToSearchMap(e,t,r){if(!r||(0,c.k$)(r)||(0,c.gN)(r)||(0,c.id)(r)||!(0,h.UN)(r,{isDesktopMenu:!1,isReadOnly:e.isReadOnly,isSearching:!0,selectedView:t}))return;let n="children"in r;if(!(0,c._o)(r)||n||r.hideForQuickCommand||this._addToIndexInternal(r),"plugins-menu"!==r.name&&"widgets-menu"!==r.name&&n)for(let n of((0,a.KF)(null!=r.children,"this should be the type of menu groups that has FullscreenMenuItem as children"),r.children))this.addFigmaMenuItemsToSearchMap(e,t,n)}_addToIndexInternal(e){let{itemDisplayText:t,searchItem:r}=y(e);this.searchMap[t]=r}getItem(e,t){if(!(t in this.searchMap))return;let r={...this.searchMap[t].fullscreenMenuAction};return r.disabled=this.isDisabled(e,r),r}_buildSearchResult(e,t,r,n){let i={...t.fullscreenMenuAction};return i.stringMatchScore=void 0!==i.isLowPriorityMatch&&i.isLowPriorityMatch?0:(null==r?void 0:r.score)||0,i.stringMatchedAgainst=(null==r?void 0:r.text)||"",i.substringMatchScore=(null==n?void 0:n.score)||0,i.substringMatchedAgainst=(null==n?void 0:n.text)||"",i.popularityScore=(0,d._)(i.action),i.highlight=(null==r?void 0:r.highlight)||"",i.disabled=this.isDisabled(e,i),{...t,fullscreenMenuAction:{...i}}}_searchByFuzzyMatchAndSubstringMatch(e,t){if(!t)return[];let r=new o.A(t,this.acceptsUnicode);if(!r.isValidQuery())return[];let n=new s.dU(t),a=[];for(let[t,o]of Object.entries(this.queryStringMap)){let l=r.matchAgainstText(t),c=(null==l?void 0:l.score)||0,d=[];for(let e of(d.push(n.matchAgainstText(t,s.cT.VISIBLE)),o.fullscreenMenuAction.searchSynonyms||[])){let t=n.matchAgainstText(e,s.cT.HIDDEN);d.push(t)}let u=i()(d,e=>e.score),p=(null==u?void 0:u.score)||0;(c>0||p>0)&&a.push(this._buildSearchResult(e,o,l,u))}return a}_searchByFuzzyMatch(e,t){let r=new o.A(t,this.acceptsUnicode);if(!r.isValidQuery())return[];let n=[],i=r.matchAgainst(Object.keys(this.queryStringMap));if(i.length)for(let t of i){if((0,m.h8)()&&t.score<1)continue;let r={...this.queryStringMap[t.text]};n.push(this._buildSearchResult(e,r,t))}return n}_searchForSearchItem(e,t){if(!t)return[];let r=[];r=(0,m.h8)()?this._searchByFuzzyMatchAndSubstringMatch(e,t):this._searchByFuzzyMatch(e,t);let n=(0,m.h8)()?(0,f.ou)((0,_.x0)()):g.r;return r=r.sort((e,r)=>n.sort(t,e,r)),this.includeDisabled||(r=r.filter(e=>!e.fullscreenMenuAction.disabled)),r}search(e,t){return this._searchForSearchItem(e,t).map(e=>e.fullscreenMenuAction)}searchIncludeKey(e,t){return this._searchForSearchItem(e,t).map(e=>[e.searchKey,e.fullscreenMenuAction])}list(e){let t=this.searchMapKeys.map(t=>{let r={...this.searchMap[t].fullscreenMenuAction};return r.popularityScore=(0,d._)(r.action),r.disabled=this.isDisabled(e,r),r});return t.sort((e,t)=>(t.popularityScore||0)-(e.popularityScore||0)),t}map(e){let t={};return this.searchMapKeys.forEach(r=>{let n={...this.searchMap[r].fullscreenMenuAction};n.popularityScore=(0,d._)(n.action),n.disabled=this.isDisabled(e,n),t[n.name||n.action||r]=n}),t}}function y(e){let t=(0,c.Dz)(e),r=(0,u.A)(e.displayForQuickCommand?e.displayForQuickCommand:t,e.args),n={fullscreenMenuAction:e,queryString:"",searchKey:r};if("plugins-menu-item"===e.name){let t=e.args.plugin_search_string;n.searchKey=t,r=t}return e.isRepairCommand&&(0,l.kc)().internal_only_debug_tools&&!(0,l.kc)().qa_search_frecency&&(n.queryString="repair"),e.searchSynonyms&&!(0,m.h8)()&&(n.queryString=[n.queryString,...e.searchSynonyms].join(" ")),{itemDisplayText:r,searchItem:n}}},286723:(e,t,r)=>{"use strict";r.d(t,{DS:()=>H,Mf:()=>R,Os:()=>B,Qp:()=>K,R$:()=>W,WD:()=>j,_W:()=>P,aF:()=>V,ee:()=>F,jh:()=>U,q0:()=>D,r1:()=>M,sb:()=>Y,t$:()=>x,uj:()=>k});var n=r(411855),i=r(188507),a=r(203264),o=r(91408),l=r(966712),s=r(374626),c=r(499737),d=r(776621),u=r(539130),p=r(304783),m=r(680001),_=r(387019),h=r(493323),g=r(939863),f=r(413145),E=r(970516),y=r(852800),b=r(341860),v=r(335682),I=r(611978),T=r(99506),S=r(279453),w=r(691205),A=r(694517),C=r(800876),N=r(585878),O=r(146935),L=r(630171);let R={alwaysPan:!0,maxScale:1},P=300,k=[25,50,75,100],D=.5,M=4;function x(e,t){let r=(0,i.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),n=(0,i.d4)(e=>e.mirror.appModel.currentPage),a=t??n;return!!r&&!!a&&!!e&&(0,A.cn)(r,a,e)===s.zl.get(A.tP)}function F(e){let t=new Map;return e.forEach((e,r)=>{var n;let i=(n=e.nodeId)&&(0,l.kc)().version_diffing?Math.max(y.AWq.getChangeCountForPage(n),0):0;i>0&&t.set(e.nodeId,i)}),t}function U(e){let t=(0,v.tS)(),r=B(e??""),i=e?null==r?void 0:r.map(e=>e.versionId).filter(f.t):void 0,a=(0,A.kT)({fileKey:t,pageSize:200,versionIds:i}),[o]=(0,w.IT)(a,{enabled:!!t});return n.useEffect(()=>{"errors"===o.status&&(0,d.$D)(p.e.FEEDBACK,Error(`Version fetch in CC error: ${o.errors}`))},[o.status]),{versions:o.data||[],requestStatus:o.status}}function B(e){let t=(0,I._6)(),r="fullscreen"===t.view?t.fileKey:"",i=(0,c.Rs)(S.WND,{nodeId:e,fileKey:r??""});return n.useMemo(()=>"loaded"===i.status&&i.data.file.status!==c.tT.Error&&i.data.file.data?i.data.file.data.devModeActivity.filter(e=>e.activityType===T.o6.STATUS_CHANGE).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()):null,[i])}function H(e){var t;let r=new b.qo(b.ju.LIVE_FILE),o=(0,a.ei)(e,!1,r),l=(null==o?void 0:o.createdAt)||null,s=l?new Date(l).toISOString():void 0,c=(null==o?void 0:o.lastEditedAt)||null,d=c?new Date(c&&c%6e4==0&&c<17061264e5?c+6e4:c).toISOString():void 0,u=null==(t=(0,a.E1)())?void 0:t.toISOString(),p=(0,i.d4)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.filterStatusVersions),m=U(p?e:void 0),_=n.useMemo(()=>p?m.versions:function(e,t,r,n){let i=[],a=!1;function o(){if(i.length>0){let e=i[i.length-1];e.frameCreated=!0,e.frameEdited=void 0}}for(let l of e){let e={...l};if(e.canvas_url&&(!a&&n&&e.created_at&&e.created_at<n&&(a=!0,e.lastViewed=!0),!t||!(e.edited_at>t))){if(r&&e.edited_at<r)return o(),i;i.push(e)}}return o(),i}(m.versions,d,s,u),[m.versions,d,s,u,p]),{requestStatus:h}=m;return{versions:_,versionsQueryLoaded:"loaded"===h||"disabled"===h}}function V({title:e,onClose:t,children:r}){let i=(0,o.jz)(O.compareChangesModalWidth);return n.createElement(N.XV,{title:e,fixedCenter:!0,disableClickOutsideToHide:!0,onClose:t,headerClassName:L.wx,containerClassName:L.ik,maxWidth:i,innerContainerClassName:L.Hb,focus:!0},r)}function G(e){return!!e&&e.hasOwnProperty("getImage")}function W(e){let{view:t,opacity:r,Overlay:i,hideNoImageText:a,header:o}=e,l=()=>void 0!==r?{opacity:r}:{},s=n.useMemo(()=>G(e.image)?e.image:e.image&&{data:e.image.image,width:e.image.width,height:e.image.height,scale:e.image.scale||M},[e]);return n.createElement("div",{className:t===m.Ss.SIDE_BY_SIDE?L.KJ:L.DF},!!o&&n.createElement("div",{className:L.Lg},o),!s&&n.createElement("div",{className:L.$0},!a&&n.createElement(g.Tx,{id:"collaboration.feedback.compare_changes_modal.no_image_found"})),G(e.image)?n.createElement(_.Nf,{className:L.Sl,style:{...l()},image:s,Overlay:i}):s&&n.createElement(_.ec,{className:L.Sl,style:{...l()},image:s,Overlay:i}))}function K(){return n.createElement("div",{className:L.GE},n.createElement(h.qc,null))}function Y(e){return u.w.decodeMessage(e).nodeChanges||[]}function j(e,t){let r=null==e?void 0:e.toString();r&&t(E.lW({stringToCopy:r}))}C.mg.COMPARE_THUMBNAIL},881512:(e,t,r)=>{"use strict";r.d(t,{ZI:()=>E,xX:()=>g,$_:()=>f});var n=r(411855),i=r(188507),a=r(776250),o=r(181912),l=r(966712),s=r(768137),c=r(493323),d=r(574176),u=r(939863),p=r(852800),m=r(694517),_=r(977468),h=r(321385);function g(e,t=!1){let r=(0,o.A)(new Date),n=(0,o.A)(e);return n.isSame(r,"day")?(0,u.t)("collaboration.feedback.time_hour_minutes",{time:n.toDate()}):n.isSame(r,"year")?(0,u.t)("collaboration.feedback.time_date_minutes_without_year",{time:n.toDate()}):t?(0,u.t)("collaboration.feedback.time_date_minutes",{time:n.toDate()}):(0,u.t)("collaboration.feedback.date",{time:n.toDate()})}function f(e,t){return e?n.createElement(_.Ro,{size:t,entity:{img_url:e}}):n.createElement("div",{className:"diffing_compare_summary--noUserImage--XijV0"})}function E({compareId:e,versions:t,buttonOnClickOverride:r}){let o=(0,i.wA)(),[_,E]=n.useState(null);n.useEffect(()=>{let r=t.find(t=>t.id===e);r&&E(r)},[e,t]);let[y,b]=n.useState({});n.useEffect(()=>{if(!_)return;let e=t.filter(e=>e.created_at&&_.created_at&&e.created_at>=_.created_at);if(0===e.length)return;let r={};e.forEach(e=>{r={...r,...e.participating_images_dict},e.user.handle&&e.user.img_url&&(r[e.user.handle]=e.user.img_url)}),Object.keys(r).length>0&&b(r)},[_,t]);let v=n.useCallback(t=>{t.stopPropagation(),setTimeout(()=>{o((0,m.Eg)()),(0,a.sx)("Version History Compare Stop",{fromVersionId:e})},300)},[o,e]);if(!(0,l.kc)().version_diffing)return null;let I=e=>Math.max(p.AWq.getChangeCountForStatus(e),0),T=I(p.Liw.EDITED),S=T+I(p.Liw.CREATED)+(I(p.Liw.LIBRARY_UPDATES)+I(p.Liw.AFFECTED))+I(p.Liw.REMOVED),w=[],A=Object.keys(y).length,C=A>8,N=C?6:A;return Object.entries(y).slice(0,N).forEach(([e,t])=>{w.push(n.createElement("span",{className:"diffing_compare_summary--editorAvatar--w3xnL",key:e},f(t,24)))}),C&&w.push(n.createElement("span",{className:"diffing_compare_summary--editorsOverflowText--JcgMo"},n.createElement(u.Tx,{id:"collaboration.feedback.compare_changes_overflow_editors",numAddlEditors:A-6}))),n.createElement("div",{className:"diffing_compare_summary--comparingDetailsContainerLeft--UrX34"},n.createElement("div",null,n.createElement("div",{className:"diffing_compare_summary--comparingDetailsHeaderText--CToWP"},n.createElement(u.Tx,{id:"collaboration.feedback.compare_changes_m2"})),!_&&n.createElement("div",{className:"diffing_compare_summary--comparingDetailsSpinnerContainer--DWjiP"},n.createElement(c.qc,null)),!!_&&n.createElement("div",null,_&&function(e){let t=e.label;return t||e.created_at?n.createElement("div",{className:"diffing_compare_summary--compareWithVersionName--B9k0o"},n.createElement("div",{className:"diffing_compare_summary--versionName--NyScQ"},t||g(e.created_at)),n.createElement(d.B,{svg:h.A,className:"diffing_compare_summary--arrowLeftRightIcon--XdePz"}),n.createElement("div",{className:"diffing_compare_summary--currentText--FoiBm"},n.createElement(u.Tx,{id:"collaboration.feedback.current_file"}))):null}(_),w.length>0&&S>0&&n.createElement("div",{className:"diffing_compare_summary--editorAvatarsContainer--vdLWd"},w),n.createElement("div",{className:"diffing_compare_summary--comparingDetailsText--WlaVi"},S>0&&n.createElement(u.Tx,{id:"collaboration.feedback.num_editors_of_changes",numEditors:A})))),n.createElement(s.$$,{className:"diffing_compare_summary--doneComparingButton--ZSZ0E",onClick:v},n.createElement(u.Tx,{id:"collaboration.feedback.done_version_history"})))}},236192:(e,t,r)=>{"use strict";r.d(t,{Ah:()=>ez,Cr:()=>eq,S:()=>e0,YL:()=>eZ,aS:()=>e8,jP:()=>eJ,s3:()=>e3,ur:()=>e$,yU:()=>e2});var n=r(411855),i=r(188507),a=r(603953),o=r(933992),l=r(135317),s=r(155543),c=r(575382),d=r(841368),u=r(326331),p=r(743717),m=r(630819),_=r(397863),h=r(13583),g=r(629019),f=r.n(g),E=r(776250),y=r(935283),b=r(20848),v=r(91408),I=r(966712),T=r(498750),S=r(183297),w=r(563706),A=r(563042),C=r(153234),N=r(522739),O=r(776621),L=r(304783),R=r(268537),P=r(946689),k=r(564577),D=r(493323),M=r(574176),x=r(46481),F=r(762638),U=r(881388),B=r(939863),H=r(392592),V=r(809840),G=r(172115),W=r(598393),K=r(165514),Y=r(944682),j=r(738269),z=r(293017),$=r(662275),Z=r(188276),q=r(650769),J=r(259927),X=r(483990),Q=r(101505),ee=r(672517),et=r(226055),er=r(974105),en=r(396226),ei=r(27703),ea=r(356390),eo=r(122983),el=r(809511),es=r(99506),ec=r(243987),ed=r(428467),eu=r(254527),ep=r(206193),em=r(694517),e_=r(300874),eh=r(239671),eg=r(945020),ef=r(851363),eE=r(498606),ey=r(779086),eb=r(507956),ev=r(881512),eI=r(1691),eT=r(60088),eS=r(227795),ew=r(884129),eA=r(31378),eC=r(846456),eN=r(720488),eO=r(227783),eL=r(860168),eR=r(730764),eP=r(548832),ek=r(548603),eD=r(796529),eM=r(347196),ex=r(949207),eF=r(432023),eU=r(95779),eB=r(540206),eH=r(501191),eV=r(660164),eG=r(124784),eW=r(120118),eK=r(950142);let eY=(0,v.jz)(eL.uj0),ej=(0,v.jz)(eL.QBm);function ez(e){return e===el.m1T.HISTORY||e===el.m1T.COMPARE_CHANGES||e===el.m1T.DEV_HANDOFF_HISTORY}function e$(e){return e.label?e.label:e.participating_users_array&&e.participating_users_array[0]?e.participating_users_array[0]:e.user.handle?e.user.handle:((0,O.x1)("version","Verison history got user without a handle",{item:e}),(0,O.$D)(L.e.SCENEGRAPH_AND_SYNC,Error("Verison history got user without a handle")),"(unknown user)")}function eZ(e){switch(e.item.view){case"branch_child_create":return n.createElement(B.Tx,{id:"collaboration.feedback.new_branch_created"});case"branch_child_merge":return n.createElement(B.Tx,{id:"collaboration.feedback.branch_merged"});case"branch_child_update":return n.createElement(B.Tx,{id:"collaboration.feedback.branch_updated_from_main_file"});case"branch_create":return n.createElement(B.Tx,{id:"collaboration.feedback.branch_created"});case"branch_merge":return n.createElement(B.Tx,{id:"collaboration.feedback.branch_merged_into_main_and_archived"});case"branch_update":return n.createElement(B.Tx,{id:"collaboration.feedback.updated_from_main"});case"branch_archive":return n.createElement(B.Tx,{id:"collaboration.feedback.branch_archived"});case"branch_restore":return n.createElement(B.Tx,{id:"collaboration.feedback.branch_restored"})}return n.createElement(n.Fragment,null,e$(e.item))}function eq(e){let{time:t}=e,r=n.useMemo(()=>(0,ev.xX)(t,!0),[t]),{onChange:i}=e;return n.useEffect(()=>{i&&i(r)},[i,r]),n.createElement(n.Fragment,null,r)}class eJ extends C.uA{constructor(e){super(e),this.descriptionRef=n.createRef(),this.onClick=C.cZ(this,"click",()=>{setTimeout(()=>{this.props.isAllowedToChangeVersion()&&!this.props.isActive&&this.props.onSelect&&this.props.onSelect(this.props.versionId)},300)}),this.disabledOnClickHandler=C.cZ(this,"click",()=>{setTimeout(()=>{var e;if((0,E.sx)("CTA Clicked",{name:"Disabled Version History",teamId:null==(e=this.props.team)?void 0:e.id}),this.props.isStarterTeam){if(!this.props.team){(0,O.$D)(L.e.MONETIZATION_UPGRADES,Error("Paywall: no team present"));return}this.props.dispatch($.to({type:ew.DV,data:{team:this.props.team,editorType:this.props.editorType,resource:e_.Bi.VERSION_HISTORY,currentPlan:en.F.Plan.STARTER,upsellPlan:en.F.Plan.PRO}}))}},300)}),this.onMouseEnter=e=>{let t=this.descriptionRef.current;t&&t.scrollHeight>t.clientHeight&&this.setState({hovered:!0})},this.onMouseLeave=e=>{this.setState({hovered:!1})},this.onDoubleClick=C.cZ(this,"dblclick",()=>{this.props.onCreateSavepoint?this.props.onCreateSavepoint():this.props.onEditSavepoint&&this.props.onEditSavepoint(this.props.versionId)}),this.onMenuClick=C.cZ(this,"contextmenu",e=>{this.props.onSavepointMenuCallback&&this.props.versionId!==em.V_&&this.props.onSavepointMenuCallback(this.props.versionId,this.props.checkpointKey||"",e)}),this.onBranchClick=C.cZ(this,"click",e=>{e.stopPropagation(),this.props.dispatch(j.$T({view:"fullscreen",fileKey:this.props.branchFileKey,editorType:eh.nT.Design}))}),this.onCompareClick=C.cZ(this,"click",e=>{e.stopPropagation(),setTimeout(()=>{this.props.onCompareChanges&&this.props.isAllowedToChangeVersion()&&this.props.isCurrentVersionActive&&!this.props.isComparing&&this.props.onCompareChanges(this.props.versionId)},300)}),this.onCompareCurrent=C.cZ(this,"click",e=>{e.stopPropagation(),setTimeout(()=>{this.props.onCompareChangesFromCurrent&&this.props.isAllowedToChangeVersion()&&!this.props.isComparing&&this.props.onCompareChangesFromCurrent()},300)}),this.toggleSeeMore=e=>{e.preventDefault(),e.stopPropagation(),this.setState({longDescription:!this.state.longDescription})},this.ref=e=>{e&&(this.versionRowDiv=e)},this.generateEditorName=(e,t)=>n.createElement("div",{className:eR.Lw,"data-tooltip-type":eE.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-left":!0,"data-tooltip-max-width":1e3,key:`who_${e}`,dir:"auto"},t),this.generateBranchLink=e=>{if(!this.props.fileByKey||!this.props.branchFileKey)return null;{let t=this.props.fileByKey[this.props.branchFileKey];return t&&!t.deleted_at?n.createElement("span",{className:eR.qC,onClick:this.onBranchClick},e||(t.name??n.createElement(B.Tx,{id:"collaboration.feedback.branch"}))):n.createElement("span",{className:eR.at},(null==t?void 0:t.name)??n.createElement(B.Tx,{id:"collaboration.feedback.branch"}))}},this.setFormattedTime=e=>{this.setState({formattedTime:e})},this.state={longDescription:!1,hovered:!1}}componentDidMount(){super.componentDidMount(),this.versionRowDiv&&this.props.isActive&&!this.props.first&&this.versionRowDiv.scrollIntoView(!1)}render(){var e,t,r,i,u;let p,m;let _=this.descriptionRef.current,h=!!(_&&(this.state.longDescription||_.scrollHeight>_.clientHeight||this.state.hovered)&&!this.props.isActive),g=(0,ev.$_)(this.props.userUrl,15),f=this.props.versionId===em.V_,E=!this.props.label&&!f&&!this.props.isLinked&&!this.props.isBranchingVersion,y=(null==(e=this.props.version)?void 0:e.frameCreated)||(null==(t=this.props.version)?void 0:t.frameEdited)||(null==(r=this.props.version)?void 0:r.lastViewed),b=E&&!y,v=this.props.isPreview?eR.qv:eR.AS;this.props.disabled&&!this.props.isStarterTeam&&(v=eR.Y0+" "+v),f&&(v=eR.j$+" "+v),this.props.isActive&&(v=eR.SU+" "+v),this.props.onSelect&&(v=eR.kD+" "+v);let I=this.props.isActive&&!f?eR.Nh:this.state.longDescription?eR.lV:h?eR.LF:eR.h_,T=this.state.longDescription?n.createElement(B.Tx,{id:"collaboration.feedback.show_less"}):n.createElement(B.Tx,{id:"collaboration.feedback.show_more"}),S=[],w=0;if(this.props.participatingImagesDict){let e=Object.keys(this.props.participatingImagesDict).length;for(let[t,r]of Object.entries(this.props.participatingImagesDict))if(p=(0,ev.$_)(r,15),m=this.generateEditorName(w,t),S.push(n.createElement("span",{className:eR.zL,key:t},(!this.props.first||"current_version"!=this.props.versionId)&&p,m)),++w>4&&w<e&&!this.props.isActive){S.push(n.createElement("div",{className:eR.lw,key:"number-additional-editors"},n.createElement(B.Tx,{id:"collaboration.feedback.num_editors_number_editor_count_more",numEditors:e-Number(w)})));break}}else this.props.user&&this.props.userUrl?(p=(0,ev.$_)(this.props.userUrl,15),m=this.generateEditorName(w,this.props.user),S.push(n.createElement("span",{className:eR.zL,key:"branching-solo-editor"},(!this.props.first||"current_version"!=this.props.versionId)&&p,m))):b&&"file_multiplayer"===this.props.view&&"Figma System"===this.props.user&&S.push(n.createElement("div",{className:eR.EB,key:"figma-system"},this.props.user));let N=eR.N5;this.props.hideLine?N="":this.props.first&&this.props.last?N=eR.y5:this.props.first?N=eR.pi:this.props.last&&(N=eR.p8);let O=this.props.isUI3?void 0:g,L=null,R="text"in this.props?this.props.text.toLowerCase():void 0;b||(O="components published"===R||"published to community hub"===R?n.createElement(x.U,{className:eR.mk,svg:eG.A,useOriginalSrcFills_DEPRECATED:!0},n.createElement(a.z,null)):n.createElement(eI.D,null)),b&&this.props.last&&(O=n.createElement(eI.D,null));let P=this.props.isUI3&&this.props.devModeActivity&&this.props.devModeActivity.length>0;if(P){let{status:e}=(0,K.D0)(this.props.devModeActivity);switch(e){case es.zI.BUILD:O=n.createElement(o.A,null),L=n.createElement(B.Tx,{id:"dev_handoff.status.ready_for_dev"});break;case es.zI.COMPLETED:O=n.createElement(l.g,null),L=n.createElement(B.Tx,{id:"dev_handoff.status.completed"});break;default:O=n.createElement(eI.D,null)}}if(this.props.isBranchingVersion)switch(this.props.view){case"branch_child_create":O=n.createElement(x.U,{className:eR.F4,svg:eM.A},n.createElement(s.o,null)),L=n.createElement(B.Tx,{id:"collaboration.feedback.branch_child_create",link:this.generateBranchLink()}),this.props.isPreview&&this.props.first&&!this.props.hideLine&&(N=eR.zj),this.props.last&&(N=this.props.isUI3?"":eR.JE);break;case"branch_child_merge":O=n.createElement(x.U,{className:eR.Wi,svg:eD.A},n.createElement(c.C,null)),L=n.createElement(B.Tx,{id:"collaboration.feedback.merged",link:this.generateBranchLink(this.props.label)});break;case"branch_child_update":O=n.createElement(eI.D,null),L=n.createElement(B.Tx,{id:"collaboration.feedback.branch_child_update",link:this.generateBranchLink()}),this.props.isPreview&&this.props.first&&!this.props.hideLine&&(N=eR.zj),this.props.last&&(N=this.props.isUI3?"":eR.JE);break;case"branch_merge":O=n.createElement(x.U,{className:eR.mq,svg:eB.A,useOriginalSrcFills_DEPRECATED:!0},n.createElement(c.C,null)),L=n.createElement(B.Tx,{id:"collaboration.feedback.branch_merge",link:this.generateBranchLink((0,B.t)("collaboration.feedback.main_branch_name"))});break;case"branch_create":O=n.createElement(x.U,{className:eR.VO,svg:ek.A},n.createElement(s.o,null)),L=n.createElement(B.Tx,{id:"collaboration.feedback.branch_created"});break;case"branch_update":O=n.createElement(x.U,{className:eR.F4,svg:eM.A},n.createElement(s.o,null)),L=n.createElement(B.Tx,{id:"collaboration.feedback.branch_updated_from",link:this.generateBranchLink((0,B.t)("collaboration.feedback.main_branch_name"))});break;case"branch_archive":O=n.createElement(x.U,{className:eR.lf,svg:eP.A},n.createElement(a.z,null)),L=n.createElement(B.Tx,{id:"collaboration.feedback.branch_archived"});break;default:O=n.createElement(eI.D,null)}let M=[];(null==(i=this.props.version)?void 0:i.frameCreated)&&M.push(this.props.isSection?n.createElement(B.Tx,{id:"collaboration.feedback.compare_changes_modal.section_created"}):n.createElement(B.Tx,{id:"collaboration.feedback.compare_changes_modal.frame_created"})),(null==(u=this.props.version)?void 0:u.lastViewed)&&M.push(n.createElement(B.Tx,{id:"collaboration.feedback.compare_changes_modal.last_viewed_by_you"})),E&&!b&&this.props.time?M.push(n.createElement("div",{className:eR.IF},n.createElement(eq,{time:this.props.time}))):"displayText"in this.props?M.push(this.props.displayText):M.push(this.props.text);let F=b&&this.props.time?this.renderTime(this.props.time,eR.Ov,this.props.showCompareChanges):n.createElement(n.Fragment,null,this.props.isBranchingVersion&&this.props.fileByKey&&this.props.branchFileKey?n.createElement("div",{className:eR.RI,dir:"auto"},L):P?n.createElement("div",{className:eR.Pf,dir:"auto"},L):n.createElement("div",{className:eR.Pf,dir:"auto"},M[0])),U=(0,A.$J)(this.props.description),H=S.length>0&&n.createElement("div",{className:eR.VM},S),V=!E&&this.props.time&&n.createElement("span",{className:eR.DS,"data-tooltip-type":eE.Ib.TEXT,"data-tooltip":(0,ev.xX)(this.props.time)}," ",n.createElement(k.h1,{onChange:this.setFormattedTime,date:this.props.time})),G=M.length>1||U||h||H||V,W=n.createElement(n.Fragment,null,M.length>1&&n.createElement("div",{className:eR.HK},M.slice(1).map((e,t)=>n.createElement("div",{className:eR.Pf,dir:"auto",key:t},e))),(!this.props.isUI3||U)&&n.createElement("div",{className:I,style:{paddingRight:this.getLabelRightPosition(this.props.showCompareChanges)},ref:this.descriptionRef,dir:"auto"},U),h&&n.createElement("div",{className:eR.B0,onClick:this.props.disabled?void 0:this.toggleSeeMore},n.createElement("div",{className:eR.yT},T)),this.props.isUI3?n.createElement(n.Fragment,null,H,V,!V&&(H||_)&&n.createElement("div",null)):n.createElement("div",null,H,V)),Y=this.props.isActive&&this.props.onSavepointMenuCallback&&!f&&n.createElement(eS.K0,{onClick:this.props.disabled?void 0:this.onMenuClick,className:eR.Wh,"data-tooltip-type":eE.Ib.TEXT,"data-tooltip":(0,B.t)("collaboration.feedback.more_options"),recordingKey:C.Pt(this.props,"versonContext")},n.createElement(x.U,{svg:eU.A},n.createElement(d.J,null))),j=this.props.onHoverMenuCallback&&!this.props.onSavepointMenuCallback?n.createElement(eS.K0,{onClick:this.props.onHoverMenuCallback,className:this.props.forceShowHoverMenu?eR.xL:eR.Gb,"data-tooltip-type":eE.Ib.TEXT,"data-tooltip":(0,B.t)("collaboration.feedback.more_options"),recordingKey:C.Pt(this.props,"versonContextHover")},n.createElement(x.U,{svg:eU.A},n.createElement(d.J,null))):null;return n.createElement(n.Fragment,null,(!b||this.props.showAutosaves)&&n.createElement("div",{className:v,ref:this.ref,onClick:this.props.disabled?this.disabledOnClickHandler:this.onClick,onMouseEnter:this.props.disabled&&!this.props.isStarterTeam?void 0:this.onMouseEnter,onMouseLeave:this.props.disabled&&!this.props.isStarterTeam?void 0:this.onMouseLeave,onContextMenu:this.props.disabled?void 0:this.onMenuClick,onDoubleClick:this.props.disabled&&this.props.isStarterTeam?void 0:this.onDoubleClick,"data-testid":"version-row"},!this.props.isUI3&&n.createElement("div",{className:N}),n.createElement("div",{className:b?eR.RV:eR.mP},n.createElement("div",{className:eR.Tc},n.createElement("div",{className:G?eR.eF:eR.nw,style:{right:this.getLabelRightPosition(this.props.showCompareChanges)}},this.props.iconOverride?this.props.iconOverride(n.createElement("div",{className:N})):this.props.isUI3?n.createElement("div",{className:eR.Gl},n.createElement("div",{className:N}),O):O,this.props.isUI3?n.createElement("div",{className:eR.B_},n.createElement("div",{className:eR.eP},F,W),Y,this.props.onHoverMenuCallback&&j):F),this.props.showCompareChanges&&this.props.isCurrentVersionActive&&!f&&!this.props.isComparingLoading&&!this.props.isComparing&&n.createElement("div",{dir:"auto"},n.createElement("button",{className:eR.kr,onClick:this.onCompareClick},n.createElement("div",{className:eR.$W},n.createElement(B.Tx,{id:"collaboration.feedback.compare"})))),this.props.showCompareChanges&&this.props.isCurrentVersionActive&&!f&&this.props.isComparingLoading&&!this.props.isComparing&&n.createElement("div",{className:eR.Ob},n.createElement(D.kt,null)),this.props.showCompareChanges&&this.props.isCurrentVersionActive&&!this.props.isComparingLoading&&this.props.isComparing&&n.createElement("div",{dir:"auto"},n.createElement("div",{className:eR.MF},n.createElement(B.Tx,{id:"collaboration.feedback.comparing"})),n.createElement("button",{className:eR.kr,onClick:this.props.onDoneComparingClick},n.createElement("div",{className:eR.$W},n.createElement(B.Tx,{id:"collaboration.feedback.done_version_history"})))),this.props.showCompareChanges&&!this.props.isCurrentVersionActive&&f&&!this.props.isComparingLoading&&!this.props.isComparing&&n.createElement("div",{dir:"auto"},n.createElement("button",{className:eR.kr,onClick:this.onCompareCurrent},n.createElement("div",{className:eR.$W},n.createElement(B.Tx,{id:"collaboration.feedback.compare"})))),!this.props.isUI3&&Y,!this.props.isUI3&&j),!this.props.isUI3&&W)))}renderTime(e,t,r){let i=n.createElement(eq,{time:e,onChange:this.setFormattedTime});return n.createElement("div",{className:t},i)}getLabelRightPosition(e){return e?"65px":"35px"}}function eX({shouldShowUpgradeLink:e,startUpgrade:t,hasRestrictedVersions:r}){return n.createElement(ee.fu,{name:"Version History Paywall Panel"},n.createElement("div",{className:eR.NM},n.createElement(V.E,{fontWeight:"semi-bold",i18nId:r?"upsell.history.need_to_travel_back_in_time":"upsell.history.everything_else_is_history"}),n.createElement("div",null,e?n.createElement(V.E,{i18nId:"upsell.history.upsell_upgrade_description",i18nParams:{upgradeLink:n.createElement(P.Ph,{className:eR.s6,onClick:t,trackingProperties:{trackingDescriptor:Q.c.UPGRADE,upsellSource:ep.b.HISTORY_UPSELL,canUserAccessProFeature:!1},trusted:!0},n.createElement(V.E,{i18nId:"upsell.history.upsell_upgrade"}))}}):n.createElement(V.E,{i18nId:"upsell.history.upsell_learn_more_description",i18nParams:{upgradeLink:n.createElement(P.Ph,{className:eR.s6,href:"/pricing",trusted:!0,trackingProperties:{canUserAccessProFeature:!1}},n.createElement(B.Tx,{id:"upsell.history.learn_more"}))}}))))}function eQ(){return n.createElement(n.Fragment,null,n.createElement("span",{className:eR.ot},w.Ay.mac?n.createElement(B.Tx,{id:"collaboration.feedback.shortcut_mac"}):n.createElement(B.Tx,{id:"collaboration.feedback.shortcut"})))}function e0(e,t,r){e(q.zT({...t,versionId:r})),e(H.F.enqueue({type:"link_copied_to_clipboard",message:(0,X.A)("link-copied")}))}eJ.displayName="VersionRow";class e1 extends C.uA{constructor(e){super(e),this.label="",this.description="",this.hasLabeled=!1,this.autoExpandUnlabeledOnly=!0,this.autoExpandGroupId="",this.expandLast=!1,this.toggleAutoItemById=e=>{let t=new Set(this.state.expandedIds);t.has(e)||this.autoExpandUnlabeledOnly&&!this.hasLabeled||this.autoExpandGroupId===e?(t.delete(e),this.hasLabeled||(this.autoExpandUnlabeledOnly=!1),this.setState({autoExpandForCurrentSelection:!1})):(t.add(e),this.hasLabeled||(this.autoExpandUnlabeledOnly=!0)),this.autoExpandGroupId="",this.setState({expandedIds:t})},this.drawRows=(e,t,r,n)=>{let i=[],a=0,o=-1,l=-1,s=0,c=e.length-1-e.slice().reverse().findIndex(e=>(0,ey.p)(e)||e.label),d=e.length-1-e.slice().reverse().findIndex(e=>{var t,r,n,i;return(null==(t=this.props.user)?void 0:t.handle)&&((null==(n=e.participating_users_array)?void 0:n.includes(null==(r=this.props.user)?void 0:r.handle))||e.user.handle===(null==(i=this.props.user)?void 0:i.handle))});for(;a<e.length;){let t=e[a];if(t.label||(0,ey.p)(t)){let u=r&&(0===a&&t.disabled||0===i.length);s>0&&(this.renderAutoVersionBatch(i,e,o,l,r&&(t.disabled&&0===o||0===i.length),!1,this.state.showAutosaves,n),u=!1),i.push(this.renderRow(t,u,a===e.length-1||a===c&&!this.state.showAutosaves||a===d&&this.state.showOnlyUserVersionHistory,n)),s=0,o=-1,l=-1}else o<0&&(o=a),l=a,s++;a++}return s>0&&this.renderAutoVersionBatch(i,e,o,l,r&&(e[0].disabled&&0===o||0===i.length),t,this.state.showAutosaves,n),i},this.hasLabeledVersions=e=>{for(let t of e)if(t.label&&t.label.length>0)return!0;return!1},this.startLoadingVersion=e=>{this.props.dispatch(j.$T({...this.props.selectedView,versionId:e.id})),this.props.dispatch(z.Y6({mode:el.Oin.KEEP_UI,type:eg.lF.SPINNER})),this.setState({isLoadingVersion:!0,loadingVersionId:e.id}),(0,E.sx)("History Version Savepoint Viewed",{savepointId:e.id,savedAt:e.touched_at})},this.finishedLoadingVersion=()=>{let e=this.state.loadingVersionId;if(e&&e.length>0){let t=this.getVersionByID(e);if(t){let e;if(null!=t.label&&t.label.length>0)e=(0,B.t)("collaboration.feedback.viewing_version",{label:t.label});else{let r=(0,ev.xX)(t.touched_at);e=(0,B.t)("collaboration.feedback.viewing_version",{label:r})}e.length>34&&(e=e.substring(0,34)+"\u2026"),this.props.dispatch(H.F.enqueue({type:"versions",message:e}))}}this.setState({isLoadingVersion:!1,loadingVersionId:""})},this.loadVersionById=e=>{if(e===this.props.versionHistory.activeId)return;if(e===em.V_){this.props.dispatch((0,em.Nb)({id:em.V_}));return}let t=this.getVersionByID(e);t&&this.loadVersion(t)},this.loadVersion=e=>{e.id!==this.props.versionHistory.activeId&&(this.startLoadingVersion(e),requestAnimationFrame(()=>{this.props.dispatch((0,em.Nb)({id:e.id,nodeId:this.props.selectedView.nodeId,eventType:"LOAD_NEW_VERSION"}))}))},this.isAllowedToChangeVersion=()=>null===this.props.modalShown&&!(0,eu.hM)(),this.onKeyDown=C.C0(this,"keydown",e=>{if(!this.props.dropdownShown){if(e.keyCode===T.Uz.ESCAPE)this.props.modalShown||0!==Object.keys(this.props.mirror.sceneGraphSelection).length||this.props.dispatch((0,em.Eg)());else if(e.keyCode===T.Uz.UP_ARROW||e.keyCode===T.Uz.DOWN_ARROW){if(!this.isAllowedToChangeVersion())return;let t=this.props.versionHistory.versions.length;this.setState({autoExpandForCurrentSelection:!0}),this.autoExpandGroupId="";let r=-1;if(this.props.versionHistory.activeId===em.V_)e.keyCode===T.Uz.DOWN_ARROW&&(r=0);else{let t=this.props.versionHistory.versions.findIndex(e=>e.id===this.props.versionHistory.activeId);-1!==t&&(r=e.keyCode===T.Uz.UP_ARROW?t-1:t+1)}if(r<0){this.props.dispatch((0,em.Nb)({id:em.V_}));return}r>=t&&(r=t-1);let n=this.props.versionHistory.versions[r];n.disabled||this.loadVersion(n)}}}),this.startComparingChanges=e=>{this.props.dispatch(z.Y6({mode:el.Oin.KEEP_UI,type:eg.lF.SPINNER})),this.setState({isLoadingCompareChanges:!0,loadingCompareId:e.id})},this.finishedComparingChanges=()=>{let e=this.state.loadingCompareId;if(e&&e.length>0){let t=this.getVersionByID(e);if(!t)return;let r=null!=t.label&&t.label.length>0?t.label:(0,ev.xX)(t.touched_at),n=(0,B.t)("collaboration.feedback.comparing_changes_toast",{fromVersionLabel:r});n.length>56&&(n=n.substring(0,56)+"\u2026"),this.props.dispatch(H.F.enqueue({type:"versions",message:n}))}this.setState({isLoadingCompareChanges:!1,loadingCompareId:""}),this.props.dispatch(z.Y6({mode:el.Oin.OFF}))},this.compareChangesById=e=>{if(e===em.V_)return;if(e===this.props.versionHistory.compareId){this.props.dispatch((0,em.vF)({fromVersionId:e}));return}let t=this.getVersionByID(e);t&&this.compareChanges(t)},this.compareChangesFromCurrent=()=>{let e=this.props.versionHistory.activeId;if(!e)return;let t=this.getVersionByID(e);t&&(this.props.dispatch((0,em.Nb)({id:em.V_})),this.compareChanges(t))},this.compareChanges=e=>{e.id!==this.props.versionHistory.compareId&&(this.startComparingChanges(e),requestAnimationFrame(()=>{this.props.dispatch((0,em.vF)({fromVersionId:e.id}))}))},this.loadMore=()=>{this.expandLast=!0,this.props.dispatch((0,em._h)({direction:S.AS}))},this.startUpgrade=()=>{let e=this.getOpenFile(),t=e.teamId&&this.props.teams[e.teamId];if(!t){(0,O.$D)(L.e.MONETIZATION_UPGRADES,Error("Paywall: no team present"));return}this.props.dispatch($.to({type:G.V,data:{upsellSource:ep.b.HISTORY_UPSELL,teamId:t.id,openCheckoutInNewTab:!0}}))},this.restoreVersion=e=>{this.canEditFile()&&(this.props.dispatch(Y.PF({fileKey:this.getOpenFile().key,versionId:e.id})),(0,E.sx)("History Version Checkpoint Restored",{versionId:e.id,savedAt:e.touched_at}))},this.duplicateVersion=e=>{let t=this.getOpenFile(),r=(0,eo.xp)(t,(0,ed.getPermissionsState)(this.props));r?this.props.dispatch($.to({type:ew.DV,data:{team:r,resource:e_.vL.FILE,action:ef.ZN.DUPLICATE_FILES,editorType:t.editorType,currentPlan:en.F.Plan.STARTER,upsellPlan:en.F.Plan.PRO}})):(this.props.dispatch(Y.YW({file:this.getOpenFile(),versionId:e.id})),(0,E.sx)("History Version Checkpoint Duplicated",{versionId:e.id,savedAt:e.touched_at}))},this.clearVersion=e=>{this.props.dispatch(Z.D({fileKey:this.getOpenFile().key,savepointID:e,label:"",description:""}))},this.addSavepoint=()=>{this.canEditFile()&&this.props.dispatch($.to({type:eA.yU,data:{}}))},this.editSavepoint=e=>{if(this.canEditFile()&&e){let t=this.getVersionByID(e);(null==t?void 0:t.label)&&(this.label=t.label),(null==t?void 0:t.description)&&(this.description=t.description),this.props.dispatch($.to({type:eA.yU,data:{description:this.description,label:this.label,savepointID:e}}))}},this.dropdownCallback=(e,t)=>{let{version:r}=t;switch(e){case"savepoint-clear":this.clearVersion(r.id);break;case"savepoint-restore":this.restoreVersion(r);break;case"savepoint-duplicate":this.duplicateVersion(r);break;case"savepoint-edit":case"savepoint-label":this.editSavepoint(r.id);break;case"savepoint-compare":this.compareChangesFromCurrent();break;case"savepoint-link":try{e0(this.props.dispatch,this.props.selectedView,r.id)}catch(e){this.props.dispatch(U.s.error("Failed to copy link"))}}},this.getVersionByID=e=>{var t;let r=this.props.versionHistory,n=r.versions.find(t=>t.id===e);return(null==(t=r.linkedVersion)?void 0:t.id)===e?r.linkedVersion:n},this.onSavepointMenu=(e,t,r)=>{if(this.props.dropdownShown&&this.props.dropdownShown.type===J.$O){r.preventDefault();return}r.stopPropagation(),r.preventDefault();let n=this.getVersionByID(e),{clientX:i,clientY:a}=r;this.props.dispatch(j.j7({type:J.$O,data:{clientX:i,clientY:a,version:n,callback:this.dropdownCallback,editName:n.label?"savepoint-edit":"savepoint-label",enableClear:n.label&&n.label.length>0}}))},this.onDoneComparingClick=C.cZ(this,"click",e=>{e.stopPropagation(),setTimeout(()=>{this.isAllowedToChangeVersion()&&this.props.versionHistory.compareId&&this.props.dispatch((0,em.Nb)({id:em.V_}))},300)}),this.renderRow=(e,t,r,i)=>{var a;let o=this.getOpenFile();return n.createElement(eJ,{key:`history-item-${e.id}`,description:e.description,label:e.label,disabled:e.disabled,text:e$(e),displayText:n.createElement(eZ,{item:e}),view:e.view?e.view:null,participatingImagesDict:e.participating_images_dict,time:e.edited_at,isActive:this.props.versionHistory.activeId===e.id,isCurrentVersionActive:this.props.versionHistory.activeId===em.V_,isComparingLoading:this.state.loadingCompareId===e.id,isComparing:this.props.versionHistory.compareId===e.id,devModeActivity:e.dev_mode_activity,user:e.user&&e.user.handle,userUrl:e.user&&((0,ey.p)(e)||e.label)?e.user.img_url:null,clearVersion:this.clearVersion.bind(this,e.id),onSelect:this.loadVersionById,onCompareChanges:this.compareChangesById,onCompareChangesFromCurrent:this.compareChangesFromCurrent,isAllowedToChangeVersion:this.isAllowedToChangeVersion,versionId:e.id,checkpointKey:e.checkpoint_key,dispatch:this.props.dispatch,recordingKey:C.Pt(this.props,"version",e.id),onSavepointMenuCallback:this.onSavepointMenu,onEditSavepoint:this.editSavepoint,first:t,last:r,isBranchingVersion:(0,ey.p)(e),fileByKey:this.props.fileByKey,branchFileKey:e.branch_file_key,showAutosaves:this.state.showAutosaves,showCompareChanges:this.showCompareChanges(),onDoneComparingClick:this.onDoneComparingClick,isStarterTeam:i,team:o.teamId?null==(a=this.props.teams)?void 0:a[o.teamId]:void 0,editorType:o.editorType,isUI3:this.props.isUI3})},this.onClose=()=>{if(this.props.onClose){this.props.onClose();return}this.props.dispatch((0,em.Eg)())},this.state={isLoadingVersion:!1,loadingVersionId:"",isLoadingCompareChanges:!1,loadingCompareId:"",expandedIds:new Set,autoExpandForCurrentSelection:!1,showAutosaves:!0,showOnlyUserVersionHistory:!1}}renderAutoVersionBatch(e,t,r,i,a,o,l,s){let c;if(r<0||null===t||t.length<1)return;let d=t[r].id,m=this.state.expandedIds.has(d)||this.autoExpandUnlabeledOnly&&!this.hasLabeled;if(this.state.autoExpandForCurrentSelection)for(let e=r;e<=i;e++)t[e].id===this.props.versionHistory.activeId&&(m=!0,this.autoExpandGroupId=this.props.versionHistory.activeId);this.expandLast&&o&&(m||this.toggleAutoItemById(d),this.expandLast=!1);let _=i-r+1,h=!0;if(1===_&&(m=!0,h=!1),c=o&&(1===_||!m)?a?eR.y5:eR.p8:a?eR.pi:eR.N5,h&&l&&e.push(n.createElement(N.D8,{key:`auto_row_${r}`,recordingKey:C.Pt(this.props,`autoVersionBatch.${r}`),className:t[r].disabled?eR.Ao:eR.QQ,onClick:this.toggleAutoItemById.bind(this,d)},!this.props.isUI3&&n.createElement("div",{className:c}),n.createElement("div",{className:eR.Jt},this.props.isUI3?n.createElement("div",{className:eR.Gl},n.createElement("div",{className:c}),m?n.createElement(u.r,null):n.createElement(p.R,null)):n.createElement(eI.D,null),n.createElement("div",{className:eR.aJ},n.createElement(B.Tx,{id:"collaboration.feedback.autosave_count",count:_}),!this.props.isUI3&&n.createElement(M.B,{key:"expand-caret",className:m?eR.ey:eR.GE,svg:m?ex.A:eF.A}))))),m)for(let n=r;n<=i;n++)e.push(this.renderRow(t[n],a&&r===i,o&&n===i,s))}componentDidMount(){super.componentDidMount(),this.props.versionHistory.activeId||this.props.dispatch((0,em.Nb)({id:em.V_})),document.addEventListener("keydown",this.onKeyDown),ea.Y5.fromFullscreen.on("sceneGraphMirrorUpdate",this.finishedLoadingVersion),b.j.on("loadedCompareChanges",this.finishedComparingChanges)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.onKeyDown),ea.Y5.fromFullscreen.removeListener("sceneGraphMirrorUpdate",this.finishedLoadingVersion),b.j.removeListener("loadedCompareChanges",this.finishedComparingChanges)}getOpenFile(){let e=this.props.openFile;return null==e&&(0,O.x1)("history","history view should only be possible to open when we have a file"),(0,y.KF)(null!=e,"history view should only be possible to open when we have a file"),e}canEditFile(){var e;return null==(e=this.props.openFile)?void 0:e.canEdit}showCompareChanges(){return(0,I.kc)().version_diffing&&this.props.selectedView.editorType!==eh.nT.Whiteboard&&this.props.selectedView.editorType!==eh.nT.DevHandoff}render(){var e;let t=this.getOpenFile(),r=t.team,i=this.props.versionHistory.versions.filter(e=>{var t,r,n,i;return!this.state.showOnlyUserVersionHistory||(null==(t=this.props.user)?void 0:t.handle)&&((null==(n=e.participating_users_array)?void 0:n.includes(null==(r=this.props.user)?void 0:r.handle))||e.user.handle===(null==(i=this.props.user)?void 0:i.handle))}),a=i.filter(e=>!e.disabled),o=i.filter(e=>e.disabled).slice(0,ec.cW);this.hasLabeled=this.hasLabeledVersions(a)||this.hasLabeledVersions(o);let l=null,s=(0,S.u9)(this.props.versionHistory),c=!(0,ec.XX)(r)&&!this.props.currentUserOrgId&&(o.length>0||!s),d=!!r&&(0,ed.canEditTeam)(r.id,(0,ed.getPermissionsState)(this.props));c&&(l=n.createElement(eX,{startUpgrade:this.startUpgrade,shouldShowUpgradeLink:d,hasRestrictedVersions:!!o.length}));let u=n.createElement("div",{className:eR.UX},!this.props.versionHistory.loading&&(0,S.u9)(this.props.versionHistory)&&n.createElement("a",{className:eR.nf,onClick:this.loadMore},n.createElement(B.Tx,{id:"collaboration.feedback.show_older"}))),p=this.props.versionHistory.docHasChanged&&!this.props.versionHistory.loading,m=this.props.versionHistory.linkedVersion,_=m&&a.some(e=>m.id===e.id),h=!this.state.showOnlyUserVersionHistory||(null==m?void 0:m.user.id)===(null==(e=this.props.user)?void 0:e.id),g=(0,eb.$A)(this.props.selectedView),E=(0,eC.C)(this.props.selectedView),y=!this.canEditFile(),b=a.map(e=>(0,ey.p)(e)||e.label?1:0).reduce((e,t)=>e+t,0);return n.createElement("div",null,this.props.progressBarState.mode!==el.Oin.ON_AND_LOCKED&&n.createElement(ee.fu,{name:"Version History Panel",properties:{teamId:null==r?void 0:r.id}},n.createElement("div",{className:f()(eR.kL,J.Dm),style:g||E||this.props.isUI3?{width:g||this.props.isUI3?"100%":eY+ej,borderLeft:g?"unset":void 0,minWidth:E&&this.props.isUI3?"240px":"unset"}:{position:"fixed",top:"auto",bottom:"auto",width:eY+ej,height:"100%"}},n.createElement(e3,{onClose:this.onClose,addSavepoint:this.addSavepoint,filterOptions:{showAutosaves:this.state.showAutosaves,setShowAutosaves:e=>this.setState({showAutosaves:e}),showOnlyUserVersionHistory:this.state.showOnlyUserVersionHistory,setShowOnlyUserVersionHistory:e=>this.setState({showOnlyUserVersionHistory:e})},isViewOnly:y}),n.createElement("div",{"data-not-draggable":!0},n.createElement("div",{className:eR.dG},!this.hasLabeled&&!y&&!g&&n.createElement("div",{className:eR.fy},n.createElement("div",null,n.createElement(B.Tx,{id:"collaboration.feedback.press_shortcut_to_add_to_version_history_while_editing",shortcut:n.createElement(eQ,null)}))),(0,I.kc)().async_spotlight&&n.createElement(eO.e,{fileKey:t.key}),m&&!_&&h&&n.createElement(eJ,{description:m.description,label:m.label,versionId:m.id,onSavepointMenuCallback:this.onSavepointMenu,displayText:n.createElement(B.Tx,{id:"collaboration.feedback.get_version_text_linked_version_linked_version",versionText:n.createElement(eZ,{item:m})}),view:m.view?m.view:null,time:m.edited_at,isActive:this.props.versionHistory.activeId===m.id,isCurrentVersionActive:this.props.versionHistory.activeId===em.V_,isComparingLoading:this.state.loadingCompareId===m.id,isComparing:this.props.versionHistory.compareId===m.id,userUrl:m.user.img_url,dispatch:this.props.dispatch,onSelect:this.loadVersionById,onCompareChanges:this.compareChangesById,onCompareChangesFromCurrent:this.compareChangesFromCurrent,isAllowedToChangeVersion:this.isAllowedToChangeVersion,isLinked:!0,first:!0,last:!0,isBranchingVersion:(0,ey.p)(m),checkpointKey:m.checkpoint_key,showAutosaves:this.state.showAutosaves,showCompareChanges:this.showCompareChanges(),onDoneComparingClick:this.onDoneComparingClick,isUI3:this.props.isUI3,editorType:t.editorType}),this.props.versionHistory.loading&&n.createElement("div",{className:eR.u1},n.createElement(D.kt,null)),p&&n.createElement(eJ,{displayText:n.createElement(B.Tx,{id:"collaboration.feedback.current_version"}),view:null,isActive:this.props.versionHistory.activeId===em.V_,isCurrentVersionActive:this.props.versionHistory.activeId===em.V_,isComparingLoading:this.state.loadingCompareId===em.V_,isComparing:!!this.props.versionHistory.compareId,userUrl:this.props.user.img_url,versionId:em.V_,dispatch:this.props.dispatch,addSavepoint:this.addSavepoint,onSelect:this.loadVersionById,onCompareChanges:this.compareChangesById,onCompareChangesFromCurrent:this.compareChangesFromCurrent,isAllowedToChangeVersion:this.isAllowedToChangeVersion,first:!0,last:!1,recordingKey:C.Pt(this.props,"currentVersion"),onCreateSavepoint:this.addSavepoint,onSavepointMenuCallback:this.onSavepointMenu,showAutosaves:this.state.showAutosaves,hideLine:0===a.length||!this.state.showAutosaves&&0===b,showCompareChanges:this.showCompareChanges(),onDoneComparingClick:this.onDoneComparingClick,isUI3:this.props.isUI3,editorType:t.editorType}),this.drawRows(a,0===o.length,!p),this.drawRows(o,!0,!1,d),l),0===o.length&&u))))}}e1.displayName="VersionHistoryView";let e2=(0,i.Ng)(er.l$)(e1);function e3(e){let{onClose:t,addSavepoint:r,filterOptions:i,isViewOnly:a}=e,{toggleDropdown:o,dropdownTargetRef:l,isDropdownShown:s}=(0,eT.B)("FILTER_VERSIONS_DROPDOWN"),c=(0,et.GS)();n.useEffect(()=>{},[s,l]);let d=()=>{null==i||i.setShowOnlyUserVersionHistory(!(null==i?void 0:i.showOnlyUserVersionHistory))},u=i?[n.createElement(R.W.CheckableOption,{key:"all",checked:!i.showOnlyUserVersionHistory,onClick:()=>i.showOnlyUserVersionHistory?d():null},n.createElement(B.Tx,{id:"collaboration.feedback.all_filter_text"})),n.createElement(R.W.CheckableOption,{key:"only_yours",disabled:a,checked:i.showOnlyUserVersionHistory,onClick:()=>i.showOnlyUserVersionHistory?null:d()},n.createElement(B.Tx,{id:"collaboration.feedback.only_yours_filter"})),n.createElement(R.W.Separator,{key:"sep"}),n.createElement(R.W.CheckableOption,{key:"autosaves",checked:i.showAutosaves,onClick:()=>{null==i||i.setShowAutosaves(!i.showAutosaves)}},n.createElement(B.Tx,{id:"collaboration.feedback.show_autosave_versions"}))]:[];return n.createElement("div",{className:eR.N1},n.createElement("div",{className:eR.qd},n.createElement(B.Tx,{id:"collaboration.feedback.version_history"})),n.createElement("div",{className:c?F.cx.flex.itemsCenter.gap4.$:F.cx.flex.itemsCenter.$},i&&n.createElement("div",{ref:l},n.createElement(eS.YW,{selected:!!i.showOnlyUserVersionHistory,"data-tooltip-type":eE.Ib.TEXT,"data-tooltip":(0,B.t)("collaboration.feedback.filter_tooltip"),onClick:o,onMouseDown:e=>s&&e.stopPropagation()},n.createElement(x.U,{svg:eW.A},n.createElement(m.S,null)))),s&&l.current&&n.createElement(eN.Jz,{showPoint:!0,targetRect:l.current.getBoundingClientRect(),options:u,hideDropdown:o,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,propagateCloseClick:!0}),!a&&n.createElement(eS.K0,{onClick:r,"data-tooltip-type":eE.Ib.TEXT,"data-tooltip":(0,B.t)("collaboration.feedback.add_to_version_history_tooltip"),dataTestId:"versions-add-savepoint",recordingKey:C.Pt(e,"plusVersion")},n.createElement(x.U,{svg:eH.A,fallbackSvg:eV.A},n.createElement(_.x,null))),n.createElement(eS.K0,{onClick:t,"data-tooltip-type":eE.Ib.TEXT,"data-tooltip":(0,B.t)("collaboration.feedback.close_tooltip"),recordingKey:"button-close"},n.createElement(x.U,{svg:eK.A},n.createElement(h.L,null)))))}function e5({versions:e,selectedVersion:t,setVersion:r,last:a,idx:o,isSection:l}){let s=(0,i.wA)(),c=(0,ei.ud)(),d=(0,et.GS)();return n.createElement(n.Fragment,null,e.map((i,u)=>n.createElement(eJ,{key:`history-item-${i.id}`,description:i.description,label:i.label,disabled:i.disabled,text:e$(i),displayText:n.createElement(eZ,{item:i}),view:i.view?i.view:null,participatingImagesDict:i.participating_images_dict,time:i.edited_at,isActive:(null==t?void 0:t.id)===i.id,user:i.user&&i.user.handle,userUrl:i.user&&((0,ey.p)(i)||i.label)?i.user.img_url:null,onSelect:()=>r(i),isAllowedToChangeVersion:()=>!0,versionId:i.id,checkpointKey:i.checkpoint_key,dispatch:s,first:0===o&&0===u,last:a&&u===e.length-1,isBranchingVersion:(0,ey.p)(i),fileByKey:c,branchFileKey:i.branch_file_key,showAutosaves:!0,version:i,isSection:l,isUI3:d,editorType:null})))}function e4({versions:e,selectedVersion:t,setVersion:r,last:i,idx:a}){var o;let l;let[s,c]=n.useState(t&&!!e.find(e=>e.id===t.id)),d=null==(o=(0,W.VI)())?void 0:o.isSection,m=(0,et.GS)();l=i&&(1===e.length||!s)?0===a?eR.y5:eR.p8:0===a?eR.pi:eR.N5;let _=m?n.createElement(N.D8,{className:eR.QQ,onClick:()=>c(!s)},n.createElement("div",{className:eR.Jt},n.createElement("div",{className:eR.Gl},s?n.createElement(u.r,null):n.createElement(p.R,null)),n.createElement("div",{className:eR.aJ},n.createElement(B.Tx,{id:"collaboration.feedback.autosave_count",count:e.length})))):n.createElement(N.D8,{className:eR.QQ,onClick:()=>c(!s)},n.createElement("div",{className:l}),n.createElement("div",{className:eR.Jt},n.createElement(eI.D,null),n.createElement("div",{className:eR.aJ},n.createElement(B.Tx,{id:"collaboration.feedback.autosave_count",count:e.length}),n.createElement(M.B,{key:"expand-caret",className:s?eR.ey:eR.GE,svg:s?ex.A:eF.A}))));return n.createElement("div",{key:`auto_row_${a}`},_,s&&n.createElement(e5,{versions:e,selectedVersion:t,setVersion:r,last:i,idx:a,isSection:d}))}function e8({versions:e,selectedVersion:t,setVersion:r}){var i;let a=[],o=[],l=0,s=null==(i=(0,W.VI)())?void 0:i.isSection;function c(e){o.length>0&&(a.push(n.createElement(e4,{key:l,versions:[...o],selectedVersion:t,setVersion:r,idx:l,last:e})),l++,o=[])}for(let i=0;i<e.length;i++){let d=e[i];d.label||d.frameCreated||d.frameEdited||d.lastViewed||(0,ey.p)(d)?(c(!1),a.push(n.createElement(e5,{key:l,versions:[d],selectedVersion:t,setVersion:r,idx:l,last:i===e.length-1,isSection:s})),l++,o=[]):o.push(d)}return c(!0),n.createElement(n.Fragment,null,a)}},75472:(e,t,r)=>{"use strict";r.d(t,{L:()=>E,c:()=>y});var n=r(411855),i=r(109388),a=r(776250),o=r(153234),l=r(574176),s=r(939863),c=r(392592),d=r(259927),u=r(83909),p=r(356390),m=r(852800),_=r(662531),h=r(283942),g=r(564748),f=r(424148);function E(e){let{onBlur:t,onClickTrash:r,onInputKeyDown:i,onInputChange:a,url:o,location:c}=e,u=n.useRef(null);return n.useEffect(()=>{u.current&&(u.current.focus(),u.current.select())},[u]),n.createElement("div",{className:g.kL,style:{left:c.x,top:c.y}},n.createElement("div",{className:`${g.lY} ${d.Dm}`},n.createElement("input",{className:g.hF,value:o,onKeyDown:i,onChange:a,onBlur:t,placeholder:(0,s.t)("hyperlink.type_or_paste_url"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,ref:u}),""!==o&&n.createElement(l.B,{svg:f.A,className:g.tm,onMouseDown:e=>{r(e)}})))}class y extends o.o6{constructor(e){super(e),this.inputRef=e=>{this.input=e,null!==e&&(e.focus(),e.select())},this.onInputChange=o.Z7(this,"change",e=>{this.setState({url:e.target.value.trim()})}),this.onInputKeyDown=o.C0(this,"keydown",e=>{if((0,h.jr)(e,h.W0.NO))return o.aH;if("Escape"===e.key)e.preventDefault(),this.setState({shouldUpdateLinkOnDismiss:!1}),(0,a.sx)("Hyperlink Editor Cancelled On Escape"),m.glU.hideHyperlinkEditor();else if("Enter"===e.key){let t=this.input.value.trim();if((0,i.flushSync)(()=>{this.setState({shouldUpdateLinkOnDismiss:!1})}),e.preventDefault(),_.l7.user("set-hyperlink",()=>!m.glU.setHyperlink(t,this.props.hyperlink.nodeID,this.props.hyperlink.rangeStart,this.props.hyperlink.rangeEnd)))(0,a.sx)("Hyperlink Editor Invalid Link"),this.visualBell((0,s.t)("hyperlink.invalid_link_plain"));else if(""!==this.props.hyperlink.url&&""===t)(0,a.sx)("Hyperlink Editor Deleted Link"),this.visualBell((0,s.t)("hyperlink.link_deleted"));else{this.props.hyperlink.url!==this.state.url&&u.wt.reportEditAction("hyperlink_edit");let e={};if(!t.startsWith("mailto:"))try{let r=new URL(function(e){let t=RegExp("^\\w+:");return""===e||t.test(e)?e:"https://"+e}(t)).hostname,n=this.props.editorType;e={domain:r,editorType:n}}catch(e){}(0,a.sx)("Hyperlink Editor Updated Link On Enter",e)}m.glU.hideHyperlinkEditor()}}),this.onClickTrash=o.cZ(this,"click",()=>{this.setState({shouldUpdateLinkOnDismiss:!1}),_.l7.user("clear-hyperlink",()=>m.glU.setHyperlink("",this.props.hyperlink.nodeID,this.props.hyperlink.rangeStart,this.props.hyperlink.rangeEnd)),this.visualBell((0,s.t)("hyperlink.link_deleted")),u.wt.reportEditAction("hyperlink_edit"),m.glU.hideHyperlinkEditor()}),this.state={url:function(e){return e.startsWith("mailto:")?-1!==e.indexOf("?")?e:e.substr(7):e}(e.hyperlink.url),shouldUpdateLinkOnDismiss:!0}}componentWillUnmount(){super.componentWillUnmount(),this.state.shouldUpdateLinkOnDismiss&&(_.l7.user("set-hyperlink",()=>m.glU.setHyperlink(this.state.url,this.props.hyperlink.nodeID,this.props.hyperlink.rangeStart,this.props.hyperlink.rangeEnd)),(0,a.sx)("Hyperlink Editor Updated Link On Dismiss"))}visualBell(e){this.props.dispatch(c.F.enqueue({message:e}))}render(){let{url:e,x:t,y:r}=this.props.hyperlink,i=p.Y5.getViewportInfo(),a=Math.min(Math.max(t,100),i.width-100);return n.createElement("div",{className:g.kL,style:{left:Math.round(a+i.x),top:Math.round(r+i.y)}},n.createElement("div",{className:`${g.lY} ${d.Dm}`},n.createElement("input",{className:g.hF,value:this.state.url,onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,placeholder:(0,s.t)("hyperlink.type_or_paste_url"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,ref:this.inputRef}),""!==e&&n.createElement(l.B,{svg:f.A,className:g.tm,onClick:this.onClickTrash})))}}},736782:(e,t,r)=>{"use strict";r.d(t,{pq:()=>F,Ec:()=>x});var n=r(411855),i=r(188507),a=r(776250),o=r(153234),l=r(522739),s=r(574176),c=r(939863),d=r(501114),u=r(677664),p=r(259927),m=r(809831),_=r(450225),h=r(356390),g=r(852800),f=r(321487),E=r(288641),y=r(502442);let b="hyperlink_popup--path--UM5d- hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9",v="hyperlink_popup--text--kzWyq hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9",I="hyperlink_popup--clickable--VAzTE",T="hyperlink_popup--divider--NSUKF",S="hyperlink_popup--edit--Q80cZ";var w=r(97648),A=r(626744),C=r(677752),N=r(430602),O=r(614603),L=r(143091),R=r(350057),P=r(503878),k=r(667875);function D(e){let t,r;let p=(0,i.wA)(),m=t=>{p((0,u.RK)({rawInput:e.urlString,event:t})),e.immediatelyDismissHyperlinkPopup&&e.immediatelyDismissHyperlinkPopup()},h=t=>{e.data.type===y.F.MAILTO||e.data.type===y.F.TEL?(0,E.UA)(p,e.data.url.pathname,"HyperlinkPopup"):console.error("We don't yet enable copy for other hyperlinks"),e.immediatelyDismissHyperlinkPopup&&e.immediatelyDismissHyperlinkPopup(),t.stopPropagation()},g=t=>{e.data.type===y.F.MAILTO||e.data.type===y.F.TEL?h(t):m(t)},{data:D}=e;switch(D.type){case y.F.GENERIC:case y.F.FIGMA_FILE:case y.F.FIGMA_PROTOTYPE:case y.F.FIGMA_VERSION:let M=D.url.host.replace(/http(s)?(:)?(\/\/)?|(\/\/)?(www\.)?/,""),x=D.url.pathname+D.url.search+D.url.hash,F=x.split(/\//),U="design"===F[1]||"board"===F[1]||"proto"===F[1],B="board"===F[1];switch(D.type){case y.F.GENERIC:r=L.A;break;case y.F.FIGMA_FILE:case y.F.FIGMA_VERSION:r=U?B?w.A:C.A:L.A;break;case y.F.FIGMA_PROTOTYPE:r=P.A}if((0,f.F)(D.url.host)&&U&&F[2]&&F[3]){let e=decodeURI(D.url.pathname.split(/\//)[3]).replace(/-/g," ");t=n.createElement("div",{className:v},e)}else t=n.createElement(n.Fragment,null,n.createElement("div",{className:"hyperlink_popup--domain--k0xkl hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9"},M),x&&"/"!==x&&n.createElement("div",{className:b},x));break;case y.F.PAGE:r=N.A,t=n.createElement("div",{className:v},D.text);break;case y.F.FRAME:r=O.A,t=n.createElement(n.Fragment,null,n.createElement("div",{className:v},D.text),D.secondaryText&&n.createElement("div",{className:"hyperlink_popup--secondaryText--bLzWO hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9"},n.createElement(s.B,{className:"hyperlink_popup--pageSeparator--SAx-p",svg:A.A}),D.secondaryText));break;case y.F.INVALID:r=L.A,t=n.createElement("div",{className:v},n.createElement(c.Tx,{id:"hyperlink.invalid_link",link:D.urlString}));break;case y.F.MISSING:case y.F.NOT_LOADED:r=L.A,t=n.createElement("div",{className:v},D.text);break;case y.F.MAILTO:t=n.createElement("div",{className:b},D.url.pathname),r=R.A;break;case y.F.TEL:r=k.A,t=n.createElement("div",{className:b},D.url.pathname)}let H=e.canEdit,V=e.canEdit&&(D.type===y.F.GENERIC||D.type===y.F.FIGMA_FILE||D.type===y.F.FIGMA_VERSION||D.type===y.F.FIGMA_PROTOTYPE),G=function(){switch(e.data.type){case y.F.GENERIC:case y.F.FIGMA_FILE:case y.F.FIGMA_PROTOTYPE:return(0,c.t)("hyperlink.prefix.open");case y.F.FIGMA_VERSION:return(0,c.t)("hyperlink.prefix.open_past_version");case y.F.PAGE:case y.F.FRAME:return(0,c.t)("hyperlink.prefix.go_to");case y.F.MAILTO:case y.F.TEL:return(0,c.t)("hyperlink.prefix.email");case y.F.INVALID:case y.F.MISSING:case y.F.NOT_LOADED:return null}}(),W=(()=>{switch(e.data.type){case y.F.MAILTO:return(0,c.t)("hyperlink.send_mail");case y.F.TEL:return(0,c.t)("hyperlink.call_telephone");default:return null}})();return n.createElement("div",{role:"none",className:"hyperlink_popup--popup--fByJA _overlayBase--_overlayBase--Rkj8l",onMouseEnter:()=>{e.onMouseEnter&&e.onMouseEnter()}},n.createElement(l.GG,{type:"button",className:I,onAuxClick:g,onMouseDown:g,recordingKey:e.recordingKey},n.createElement(s.B,{className:"hyperlink_popup--icon--7YW8G",style:d.sx.if(r===w.A,d.sx.add({transform:"rotate(90deg)"})).$,svg:r}),G?n.createElement("span",{className:"hyperlink_popup--inlineText--U1QY9"},G," "):null,t),W&&"whiteboard"!==e.editorType&&n.createElement(n.Fragment,null,n.createElement("div",{className:T}),n.createElement(l.GG,{type:"button",className:`hyperlink_popup--open--EsmHi ${I}`,onAuxClick:m,onMouseDown:m,recordingKey:o.Pt(e,"secondaryButton")},W)),H&&n.createElement(n.Fragment,null,n.createElement("div",{className:T}),n.createElement(l.GG,{type:"button",recordingKey:o.Pt(e,"editHyperlinkPopup"),className:S,onMouseDown:t=>{e.immediatelyDismissHyperlinkPopup&&e.immediatelyDismissHyperlinkPopup(),e.showHyperlinkEditor(),(0,a.sx)("Show Hyperlink Editor",{source:"HyperlinkPopup"}),t.stopPropagation()}},n.createElement(c.Tx,{id:"hyperlink.edit"}))),V&&"whiteboard"===e.editorType&&n.createElement(n.Fragment,null,n.createElement("div",{className:T}),n.createElement(l.D8,{dataTestId:"hyperlink.preview",role:"button",recordingKey:o.Pt(e,"unfurlHyperlinkPopup"),className:S,onMouseDown:t=>{(e.data.type===y.F.GENERIC||e.data.type===y.F.FIGMA_FILE||e.data.type===y.F.FIGMA_PROTOTYPE||e.data.type===y.F.FIGMA_VERSION)&&e.getLinkMetadata&&p(e.getLinkMetadata({clipboardText:e.data.url.toString(),url:e.data.url.toString(),isTextIframe:!1,entrypoint:_.WJ.MODAL}))}},n.createElement(c.Tx,{id:"hyperlink.create_preview"}))))}let M=({size:e,mouse:t,position:r,forceToBottom:n})=>{let i,a,o;let l=h.Y5.getViewportInfo();e.x<300?i=r.x:(i=t.x)<r.x-e.x/2?i=r.x-e.x/2:i>r.x+e.x/2&&(i=r.x+e.x/2),((a=r.y)<50||n)&&(a+e.y>l.height-50?a=t.y:(a+=e.y,o="hyperlink_popup--topAligned--1DH2u"));let s={top:Math.round(a+l.y),left:Math.round(i+l.x),transform:"translateX(-50%)"},c={left:"50%"};if(l.width>=800){if(i<=200){let e=Math.max(i,20),t=1-(e-20)/180,r=50+-50*t;s.left=Math.round(e+l.x),s.transform=`translateX(${-r}%)`,c.left=`calc(${r}% + 20px * ${t})`}else if(i>l.width-200){let e=Math.min(i,l.width-20),t=1-(l.width-20-e)/180,r=50+50*t;s.left=Math.round(e+l.x),s.transform=`translateX(${-r}%)`,c.left=`calc(${r}% - 20px * ${t})`}}return{divStyle:s,tooltipStyle:c,verticalAlignmentStyle:o}};function x(e){let{data:t,editorType:r,urlString:i,canEdit:a,onMouseEnter:o,immediatelyDismissHyperlinkPopup:l,getLinkMetadata:s,showHyperlinkEditor:c}=e;return n.createElement(D,{data:t,editorType:r,urlString:i,canEdit:a,recordingKey:"hyperlinkPopup",onMouseEnter:o,immediatelyDismissHyperlinkPopup:l,getLinkMetadata:s,showHyperlinkEditor:c})}function F(e){let{getLinkMetadata:t}=e,r=(0,i.d4)(e=>e.hyperlinkPopup),a=(0,i.d4)(e=>e.mirror.appModel.isReadOnly),o=(0,m.lg)(),l=n.useCallback(()=>{r&&g.glU.showHyperlinkEditor(r.position.x,r.position.y+r.size.y/2,r.guid)},[r]);if(!r)return null;let{divStyle:s,tooltipStyle:c,verticalAlignmentStyle:d}=M({size:r.size,mouse:r.mouse,position:r.position,forceToBottom:"whiteboard"===o});return n.createElement("div",{className:"hyperlink_popup--container--i1-kA",style:s},n.createElement("div",{className:`hyperlink_popup--popupContainer--MXRdI ${d} ${p.Dm} ${p.Uu}`},n.createElement(x,{data:r.data,editorType:o,urlString:r.urlString,canEdit:!a&&!r.locked,onMouseEnter:g.glU.stopDismissingHyperlinkPopup,immediatelyDismissHyperlinkPopup:g.glU.immediatelyDismissHyperlinkPopup,getLinkMetadata:t,showHyperlinkEditor:l}),n.createElement("div",{className:"hyperlink_popup--tooltip--gEvvW",style:c})))}},811641:(e,t,r)=>{"use strict";r.d(t,{$w:()=>d,Jq:()=>u,Qz:()=>p,xC:()=>c});var n=r(411855),i=r(629019),a=r.n(i),o=r(153234),l=r(743282),s=r(613122);let c=(0,l.g)();function d(e){return void 0!==e.active}var u=(e=>(e.ESSENTIAL="essential",e.TOOLS="tools",e.VIEW="view",e.ZOOM="zoom",e.TEXT="text",e.SHAPE="shape",e.SELECT="select",e.CURSOR="cursor",e.EDIT="edit",e.COPY="copy",e.TRANSFORM="transform",e.ARRANGE="arrange",e.COMPONENTS="components",e.ADVANCED="advanced",e.ACCESSIBILITY="accessibility",e))(u||{});let p=n.forwardRef((e,t)=>{let{tabInfo:r,completedTabs:i,onNavClick:a}=e;return n.createElement(n.Fragment,null,r.map((o,l)=>n.createElement(m,{key:o.id,tabInfo:r,completedTabs:i,onNavClick:a,recordingKey:e.recordingKey,tab:o,index:l,ref:t})))}),m=n.forwardRef((e,t)=>{let{tab:r,index:i,onNavClick:l,completedTabs:u}=e,p=o.rf(o.Pt(e,r.id),"click",e=>{l(r.id)});return d(r)?n.createElement("div",{role:"tab",ref:e=>{t.current||(t.current=[]),t.current[i]=e},"aria-selected":r.active,"aria-controls":c,key:r.id,id:r.id,className:r.className,"data-completed":u[r.id],onClick:p,tabIndex:-1},r.displayName):n.createElement("div",{key:r.id,className:a()(r.className,s.GM)})})},225699:(e,t,r)=>{"use strict";r.d(t,{k6:()=>I,$B:()=>C,RE:()=>T});var n=r(411855),i=r(188507),a=r(976404),o=r(629019),l=r.n(o),s=r(711117),c=r(91408),d=r(979441),u=r(259927),p=r(484653),m=r(226055),_=r(396697),h=r(29680),g=r(187882),f=r(595755),E=r(544403),y=r(860168);let b="left_panel_container--sizeContainer--OhUA2",v="left_panel_container--panel--ILPCV",I="left-panel-container";var T=(e=>(e.AUTO="auto",e.FULL="100%",e))(T||{});function S({height:e}){let t=_.R.sidebarSplitPosition,r=(0,g.gY)(t);return"auto"===e?null:n.createElement("div",{className:l()(u.Dm,b),style:{width:r,height:e}},n.createElement("div",{className:l()(v,"left_panel_container--loading--YwG7B")},n.createElement(f.U,null)))}function w({children:e,width:t,height:r,disableResizing:i,currentPageId:o}){let s=(0,a.U1)();return o?n.createElement(E.w,{className:l()(u.Dm,b),size:t,defaultSize:g.qm,side:"right",disableResizing:i,onResize:g.xT,style:{maxWidth:(0,g.JX)(),height:r,position:"auto"===r?"relative":void 0},id:I,"data-cancel-insertable-resource-drag-and-drop":!0},n.createElement("div",{ref:s,style:{width:t},className:v},e)):null}function A({children:e,width:t,isCollapsed:r,isAllUiHidden:i,durationMedium:a,animateVisibility:o}){let l=(0,m.GS)()?`${(0,c.jz)(y.M$q)}px`:"0px",d={collapsed:{translateX:`calc(-${t}px - ${l})`,opacity:0,display:"block",transitionEnd:{display:"none"}},expanded:{translateX:0,opacity:1,display:"block"},uiHidden:{display:"none"},uiShowing:{}};return n.createElement(s.P.div,{className:"left_panel_container--motionContainer--HkdCP",transition:{duration:o?a>0?a:.2:0,ease:"easeOut"},variants:d,animate:[r?"collapsed":"expanded",i?"uiHidden":"uiShowing"],initial:!1},e)}function C({children:e,width:t,height:r="100%",disableResizing:a=!1}){let o=!(0,g.vj)(),l=(0,i.d4)(e=>{var t;return null==(t=e.mirror.appModel)?void 0:t.currentPage}),s=(0,h.aV)(),c=(0,g.GQ)(),u=t??c,_=(0,g.Ye)(),f=(0,m.GS)(),E=(0,g.T8)(),y=(0,p.ff)(),b=!s&&!_&&!o&&!y&&f&&"100%"===r,v=(0,g.dc)();return n.createElement(n.Fragment,null,b&&n.createElement(d.T,{side:"left"}),n.createElement(A,{width:u,isCollapsed:_,isAllUiHidden:o,animateVisibility:E,durationMedium:v},s?n.createElement(S,{height:r}):n.createElement(w,{width:u,height:r,disableResizing:a,currentPageId:l},e)))}},187882:(e,t,r)=>{"use strict";r.d(t,{GQ:()=>T,JX:()=>v,Pe:()=>y,T8:()=>N,Ye:()=>w,bV:()=>I,bi:()=>L,cT:()=>R,dc:()=>A,gY:()=>b,jq:()=>O,n0:()=>P,qm:()=>E,vj:()=>C,xT:()=>S});var n=r(411855),i=r(188507),a=r(91408),o=r(358145),l=r(438741),s=r(293017),c=r(226055),d=r(356390),u=r(852800),p=r(617453),m=r(396697),_=r(29680),h=r(396462),g=r(69961),f=r(100197);let E=240;function y(e){return e.reduce((e,t,r)=>(e[t.nodeId]=r,e),{})}function b(e){return Math.max(240,Math.min(500,e||0))}function v(){return 500}function I(){return 240}function T(){let e=b((0,p.dP)());return document.documentElement.style.setProperty("--left-panel-width",`${e}px`),e}function S(e){(0,p.UK)().sidebarSplitPosition.set(b(e))}function w(){var e,t;let r=(0,c.GS)(),n=!(0,f.ut)(null==(e=u.Ez5)?void 0:e.editorPreferences().showSidebar,m.R.showSidebar),i=(0,f.ut)(null==(t=u.Ez5)?void 0:t.uiState().leftPanelCollapsedUI3,!m.R.showSidebar);return r?i:n}function A(){return n.useMemo(()=>(0,a.XB)(getComputedStyle(document.body).getPropertyValue("--duration-md"))/1e3,[])}function C(){return(0,i.d4)(e=>{var t;return null==(t=e.mirror.appModel)?void 0:t.showUi})}function N(){let e=(0,c.GS)();return(0,g.o3)(g.nt.ui3Motion)&&e}function O({onLeftPanelCollapsedChange:e}){return!function(e){let t=w(),r=(0,o.ZC)(t),i=C(),a=(0,o.ZC)(i),l=N(),s=A(),c=(0,h.Z)(()=>{e(t)});(0,n.useEffect)(()=>{void 0!==r&&t!==r&&(l?c.start(s+10):c.start(10)),void 0!==a&&i!==a&&c.start(1)})}(e),null}function L(){let e=(0,i.d4)(e=>(0,l.L3)(e.multiplayer));(function(e){let t=(0,c.GS)(),r=w(),i=(0,o.ZC)(e),a=(0,n.useRef)();n.useEffect(()=>{t&&e!==i&&void 0!==i&&(e?r?a.current=!1:(d.Y5.triggerAction("toggle-sidebar",{source:"spotlight-following"}),a.current=!0):a.current&&r&&d.Y5.triggerAction("toggle-sidebar",{source:"spotlight-following"}))},[e,i,r,t])})(e),function(e){let t=w(),r=(0,i.wA)(),a=(0,o.ZC)(t&&e);n.useEffect(()=>{e&&a&&!t&&r(s.Z_())},[e,a,t,r])}(e)}function R(){return(0,i.d4)(e=>e.mirror.appModel.isReadOnly||e.mirror.appModel.topLevelMode===u.lyf.HISTORY)}function P(){return(0,_.p8)("pagesList")}},664457:(e,t,r)=>{"use strict";r.d(t,{Q:()=>m,j:()=>p});var n=r(411855),i=r(794272),a=r(268537),o=r(939863),l=r(852800),s=r(416095),c=r(238405);let d=a.W.Dropdown,u=a.W.Option,p="component-insert-leaf-context-menu",m=n.memo(function(){let{dropdownShown:e,defaultFileKeys:t,openFileKey:r}=(0,i.R)(e=>{var t;return{dropdownShown:e.dropdownShown,defaultFileKeys:e.library.defaultPublished.fileKeys,openFileKey:(null==(t=e.openFile)?void 0:t.key)||null}});if(!e||e.type!==p)return null;let a=e.data.component,m=a.file_key===r;return t.includes(a.file_key)?null:n.createElement(d,{className:c.H,style:e.data.position},m?n.createElement(u,{recordingKey:`goToLocalComponent.${a.node_id}`,onClick:()=>l.glU.goToSymbolOrStateGroupById(a.node_id,!1)},n.createElement(o.Tx,{id:"design_systems.instance_swap_picker.go_to_main_component"})):n.createElement(u,{recordingKey:`goToSubscribedComponent.${a.node_id}`,href:(0,s.Gd)(a),target:"_blank"},n.createElement(o.Tx,{id:"design_systems.instance_swap_picker.go_to_main_component"})))})},620722:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var n=r(411855);class i extends n.PureComponent{constructor(){super(...arguments),this.state={requestNumber:null},this.timerHandle=null,this.onError=e=>{var t,r;null==(r=(t=this.props).onError)||r.call(t,e),this.reload()},this.reload=()=>{this.clearTimer(),this.timerHandle=this.scheduleNextReload()},this.updateRequestTime=()=>{let e=null===this.state.requestNumber?1:this.state.requestNumber+1;this.setState({requestNumber:e})}}clearTimer(){null!==this.timerHandle&&(clearTimeout(this.timerHandle),this.timerHandle=null)}scheduleNextReload(){let{delayMultiplier:e=10}=this.props,t=Math.min(300,e*((this.state.requestNumber||0)+Math.random()));return setTimeout(this.updateRequestTime,1e3*t)}getSrc(){return this.props.src?null===this.state.requestNumber?this.props.src:`${this.props.src}${-1===this.props.src.indexOf("?")?"?":"&"}requestNumber=${this.state.requestNumber}`:this.props.src}imgProps(){let e={...this.props};return delete e.delayMultiplier,e}UNSAFE_componentWillReceiveProps(e){e.src!==this.props.src&&(this.clearTimer(),this.setState({requestNumber:null}))}componentWillUnmount(){this.clearTimer()}render(){return n.createElement("img",{...this.imgProps(),alt:this.props.alt,src:this.getSrc(),onError:this.onError})}}i.displayName="ReloadingImage"},140796:(e,t,r)=>{"use strict";r.d(t,{E1:()=>b,aU:()=>y,vb:()=>E});var n=r(411855),i=r(188507),a=r(776250),o=r(320063),l=r(255942),s=r(723325),c=r(32863),d=r(582064),u=r(356390),p=r(283942),m=r(335682),_=r(241272),h=r(743415),g=r(362918);let f=e=>!!e.isNewAssetsPanel;function E({isVisible:e,autofocus:t,selectOnFocus:r,ref:i}){return n.useCallback(()=>{(null==i?void 0:i.current)&&e&&t&&i.current.focus(r)},[t,e,i,r])}function y(e){let{isVisible:t,query:r,placeholder:s,onChange:y,className:b,extraSpacing:v,hideXIcon:I,hideSearchIcon:T,isFigjam:S,isLibraryModalUi3:w,autofocus:A,selectOnFocus:C,entryPointForTracking:N,forwardedRef:O,recordingKey:L}=e,R=(0,i.wA)(),P=(0,m.q5)(),k=(0,i.d4)(e=>e.search.sessionId),D=(0,h.k)(),M=n.useRef(null),x=E({isVisible:t,autofocus:A,selectOnFocus:C,ref:M}),F=n.useCallback(e=>!!(e.altKey&&u.Y5.isWebContextReady())&&(0,p.f7)(e,!0),[]);(0,o.h)(()=>{function e(){R(d.N.endSession())}return x(),e(),e});let U=n.useCallback(()=>{"editor:assets_panel"===N&&a.az.trackDefinedEvent("assets_panel.search_cleared",{searchQuery:r,assetsPanelVersion:D,fileKey:null==P?void 0:P.key,fileTeamId:(null==P?void 0:P.teamId)??void 0,fileOrgId:(null==P?void 0:P.parentOrgId)??void 0}),f(e)?e.onClearSearch():y(""),R(d.N.endSession())},[N,e,R,r,D,null==P?void 0:P.key,null==P?void 0:P.teamId,null==P?void 0:P.parentOrgId,y]),B=n.useCallback(e=>{N&&(""===e&&k?R(d.N.endSession()):""===e||k||R(d.N.startSearch({entryPoint:N})),y(e))},[R,N,k,y]),{trackAIAssetSearchWithSprig:H,stopCurrentSprigTrack:V}=(0,_.k)(r,k,null==P?void 0:P.key),G=n.useCallback(()=>{V(),"editor:assets_panel"===N&&a.az.trackDefinedEvent("assets_panel.search_focused",{assetsPanelVersion:D,fileKey:null==P?void 0:P.key,fileTeamId:(null==P?void 0:P.teamId)??void 0,fileOrgId:(null==P?void 0:P.parentOrgId)??void 0}),f(e)&&e.onFocus()},[N,null==P?void 0:P.key,null==P?void 0:P.parentOrgId,null==P?void 0:P.teamId,e,D,V]),W=n.useCallback(()=>{H(),"editor:assets_panel"===N&&a.az.trackDefinedEvent("assets_panel.search_unfocused",{assetsPanelVersion:D,fileKey:null==P?void 0:P.key,fileTeamId:(null==P?void 0:P.teamId)??void 0,fileOrgId:(null==P?void 0:P.parentOrgId)??void 0}),f(e)&&e.onBlur()},[N,null==P?void 0:P.key,null==P?void 0:P.parentOrgId,null==P?void 0:P.teamId,e,D,H]);return S||w?n.createElement(c.IW,{ref:(0,l.A)(M,O),className:b,focusOnMount:!1,query:r,placeholder:s,clearSearch:U,onChange:B,onFocus:G,onBlur:W,isKeyDownHandled:F,hideXIcon:I,recordingKey:L,withUI3Icon:w}):f(e)?n.createElement(g.K,{ref:(0,l.A)(M,O),onFocus:G,onBlur:W,focusOnMount:!1,query:r,clearSearch:U,onChange:B,placeholder:e.placeholder,isKeyDownHandled:F,recordingKey:L}):n.createElement(c.Lp,{ref:(0,l.A)(M,O),className:b,focusOnMount:!1,extraSpacing:v,query:r,placeholder:s,clearSearch:U,onChange:B,onFocus:G,onBlur:W,isKeyDownHandled:F,hideXIcon:I,hideSearchIcon:T,recordingKey:L,dataTestId:"asset-panel-search-bar-input"})}function b({autofocus:e,className:t,column:r,extraSpacing:i,hideSearchIcon:a,hideXIcon:c,isFigjam:d,isVisible:u,onChange:p,path:m,placeholder:_,query:h,recordingKey:g,selectOnFocus:f,entryPointForTracking:E,forwardedRef:b,...v}){let I=n.useRef(null),T=n.useCallback(()=>{var e;f&&(null==(e=I.current)||e.select())},[f]),{setKeyboardNavigationElement:S}=(0,s.M3)({path:m,column:r,disabled:!u,onFocus:T});return(0,o.h)(()=>{I.current&&(null==S||S(I.current.searchInput))}),n.createElement(y,{forwardedRef:(0,l.A)(I,b),autofocus:e,className:t,extraSpacing:i,hideSearchIcon:a,hideXIcon:c,isFigjam:d,isVisible:u,onChange:p,placeholder:_,query:h,selectOnFocus:f,entryPointForTracking:E,setKeyboardNavigationElement:S,recordingKey:g,...v})}},18293:(e,t,r)=>{"use strict";r.d(t,{W:()=>F});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(776250),s=r(358145),c=r(966712),d=r(374626),u=r(30637),p=r(80161),m=r(574176),_=r(175290),h=r(801161),g=r(788744),f=r(756317),E=r(146817),y=r(335682),b=r(237929),v=r(853966),I=r(284321),T=r(234945),S=r(274071),w=r(739212),A=r(180715),C=r(811529),N=r(603396),O=r(969504),L=r(986231),R=r(938720),P=r(734017),k=r(448406),D=r(48515),M=r(659265),x=r(408938);function F({asset:e,fileName:t,sourceForTracking:r,thumbHeight:a,thumbLayout:F,thumbWidth:U,viewMode:B,sectionNameForTracking:H,sectionPosition:V,noFlyout:G,preventDrag:W,disableContextMenu:K}){var Y,j;let z=(0,i.wA)(),$=(0,i.d4)(e=>e.dropdownShown),Z=(0,i.d4)(T.dK),q=(0,i.d4)(I.F9),J=(0,i.d4)(I.e_),X=(0,d.md)(A.T),Q=(null==(Y=J.assetsPanelSearch.searchOptions)?void 0:Y.type)===D.I.ALL,ee=(0,g.cm)(e.file_key),et=Q&&ee,er=n.useRef(null),en=(0,b.kH)(e.name),ei=(0,p.NG)({text:en,textRef:er}),ea=n.useRef(null),eo=(0,p.NG)({text:t??"",textRef:ea}),el=(null==$?void 0:$.type)===P.K.ASSETS_PANEL?null==(j=null==$?void 0:$.data)?void 0:j.component:void 0,es=(null==el?void 0:el.node_id)===e.node_id,ec=B===C.Bk.List,ed=ec?"list-no-padding":"grid",eu=!!J.assetsPanelSearch.query,ep=(0,O.F)(e,P.K.ASSETS_PANEL,V,H),em=(0,N.n)(e),e_=(0,s.ZC)(em),eh=!G;n.useEffect(()=>{em&&!e_&&z(h.jD())},[em,z,e_]);let eg=e.isLocal&&(0,u.PN)()?(0,w.eT)(e.node_id,Z).join("-"):e.node_id,ef="Local components"===H||"Local private components"===H||e.isLocal,{handleClick:eE,handleDoubleClick:ey}=function(e,t){let r=(0,y.q5)(),i=n.useRef(null),{searchSessionId:a}=(0,v.Gq)(),o=n.useCallback(n=>{l.az.trackDefinedEvent("assets_panel.component_clicked",{isDoubleClick:n,isLocalComponent:t,assetKey:(0,E.V)(e),fileKey:null==r?void 0:r.key,fileTeamId:(null==r?void 0:r.teamId)??void 0,fileOrgId:(null==r?void 0:r.parentOrgId)??void 0,searchSessionId:a??void 0,assetsPanelVersion:2})},[e,t,null==r?void 0:r.key,null==r?void 0:r.parentOrgId,null==r?void 0:r.teamId,a]);return{handleClick:n.useCallback(()=>{i.current||(i.current=setTimeout(()=>{o(!1),i.current=null},500))},[o]),handleDoubleClick:n.useCallback(()=>{i.current&&(clearTimeout(i.current),i.current=null),o(!0)},[o])}}(e,ef??!1),eb=F!==k.rp.SMALL&&!ec,ev=!ec&&(0,c.kc)().api_asset_search_with_scores,eI=(0,L.Y)(e),eT=ec?a:a-2,eS=ec?U:U-2,ew=n.useMemo(()=>W?void 0:{sourceForTracking:r,clickToInsert:!1,afterSuccessfulInsert:S.$z,sectionNameForTracking:H},[W,H,r]),eA=ef?n.createElement(R.MT,{item:e,height:eT,width:eS,draggable:ew,onContextMenu:K?void 0:ep,shouldHideTooltip:eh||es||em,isFilePublished:q,recordingNodePath:eg,isSearch:eu,useBaseTile:!0,hideNameOverlay:eb,numVariants:eI,displayType:ed,sectionPosition:V,shouldUseDescriptionTooltip:!0,showTooltipImmediately:!1,fileName:ei||eo?t:void 0,alwaysShowBorder:!0}):n.createElement(R.lX,{item:e,showName:!0,height:eT,width:eS,draggable:ew,onContextMenu:K?void 0:ep,shouldHideTooltip:eh||es||em,recordingNodePath:eg,isSearch:eu,useBaseTile:!0,hideNameOverlay:eb,numVariants:eI,displayType:ed,sectionPosition:V,shouldUseDescriptionTooltip:!0,showTooltipImmediately:!1,fileName:ei||eo?t:void 0,alwaysShowBorder:!0});return n.createElement("div",{className:ec?M.AD:M.iE,onClick:eE,onDoubleClick:ey},ec?eA:n.createElement("div",{className:o()(M.QX,{[M.Gr]:em,[M.HR]:em&&X})},eA),eb&&n.createElement("div",{role:"button",className:M.Bm,style:{width:U}},n.createElement("span",{className:M.UU,ref:er},en),eh&&n.createElement(m.B,{ariaHidden:!0,className:M.OW,svg:x.A})),eb&&!!t&&n.createElement(_.Y,{spacing:0,direction:"horizontal"},n.createElement("div",{className:o()(M.Md,M.Rm),ref:ea,style:et?{maxWidth:U-f.uF}:{width:U}},t),et&&n.createElement(f.KP,{fileKey:e.file_key,tooltipDelay:500,tooltipLocation:"below"})),ev&&n.createElement(n.Fragment,null,n.createElement("div",{className:o()(M.Md,M.Rm),style:et?{maxWidth:U-f.uF}:{width:U}},"AI: "+(e.ai_score??"N/A")),n.createElement("div",{className:o()(M.Md,M.Rm),style:et?{maxWidth:U-f.uF}:{width:U}},"Lex: "+(e.lexical_score??"N/A"))),eh&&ec&&n.createElement(m.B,{ariaHidden:!0,className:M.Ki,svg:x.A}))}},448406:(e,t,r)=>{"use strict";r.d(t,{A5:()=>u,PI:()=>d,pi:()=>s,rj:()=>p,rp:()=>c});var n=r(91408),i=r(173454),a=r(230997);let o=(0,n.hG)(a.ZV),l=(0,n.hG)(a.FX);var s=(e=>(e.NORMAL="NORMAL",e.LARGE="LARGE",e))(s||{}),c=(e=>(e.WIDE="WIDE",e.SMALL="SMALL",e.NORMAL="NORMAL",e))(c||{});function d(e,t){let r=!0,n=!0;for(let t of e){let e,a;if(t.type!==i.PW.STYLE){if("min_node_width"in t)e=t.min_node_width,a=t.min_node_height;else{if(!("width"in t))continue;e=t.width,a=t.height}if(!e||!a)return"NORMAL";if(e<3*a&&(r=!1),(e>64||a>64)&&(n=!1),!r&&!n)break}}return r?"WIDE":n&&!t?"SMALL":"NORMAL"}function u(e){let{containerWidth:t,isList:r,layout:n,maxSmallThumbSize:i,maxWideColWidth:a}=e;if(r)return 1;switch(n){case"WIDE":if(t<=a)return 1;if(t<=450)return 2;return 3;case"SMALL":return Math.ceil((t-32+l)/(i+l));case"NORMAL":return Math.floor(t/100)}}function p(e,t){let{containerWidth:r,isList:n,layout:i}=e;if(n)return{width:o,height:o};let a=(r+2-(t-1)*l-32)/t,s="WIDE"===i?Math.ceil(a/4):a;return{width:a,height:s}}},48515:(e,t,r)=>{"use strict";r.d(t,{I:()=>n,v:()=>i});var n=(e=>(e.ALL="all",e.RECENT="recent",e.LOCAL="local",e.FILE="file",e))(n||{});let i={all:!0,recent:!1,local:!0,file:!0}},179530:(e,t,r)=>{"use strict";r.d(t,{w:()=>S,x:()=>w});var n=r(411855),i=r(188507),a=r(35645),o=r.n(a),l=r(776250),s=r(966712),c=r(498750),d=r(708389),u=r(939863),p=r(662275),m=r(298527),_=r(696673),h=r(788744),g=r(756317),f=r(680681),E=r(83422),y=r(335682),b=r(776018),v=r(538697),I=r(48515),T=r(946918);let S="component-sidebar-asset-type-select";function w(e){var t;let{assetType:r,libraryNameByFileKey:a,onSetAssetType:w,onSetKeyboardNavigationElement:C,validAssetTypeOptions:N}=e,O=(0,i.wA)(),L=(0,i.d4)(e=>e.modalShown),R=(0,i.d4)(e=>e.dropdownShown),P=(0,i.d4)(y.tB),k=r.type===I.I.FILE?r.fileKey:void 0,D=(0,h.Fl)(),M=n.useCallback(()=>{(null==L?void 0:L.type)===b.V&&O(p.AS()),l.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:null==P?void 0:P.key,assetsPanelVersion:2})},[O,L,null==P?void 0:P.key]),x=n.useMemo(()=>{if((0,f.NX)(D)){let e=Object.entries(a??{}).map(([e,t])=>({key:e,name:t}));return(0,f.k9)({libraries:e,approvedLibraryKeysByResourceType:D}),e.map(({key:e})=>e)}return Object.keys(a??{}).sort((e,t)=>d.f.LEXICOGRAPHICALLY(a[e],a[t]))},[a,D]),F=(0,m.Ck)(),[U,B]=o()(x,e=>!(0,_.wJ)(e)),H=B.length>0&&F(),V=n.useMemo(()=>({format:e=>{switch(e.type){case I.I.RECENT:return(0,u.t)("design_systems.assets_panel.dropdown_type_recents");case I.I.ALL:return(0,u.t)("design_systems.assets_panel.dropdown_type_all_libraries");case I.I.LOCAL:return(0,s.kc)().dse_editor_templates_v1?(0,u.t)("design_systems.assets_panel.dropdown_type_local_assets"):(0,u.t)("design_systems.assets_panel.dropdown_type_local");case I.I.FILE:return a[e.fileKey]}},isEqual:A}),[a]);return n.createElement(v.l6,{className:T.Lt,id:S,property:r,formatter:V,onChange:w,dropdownAlignment:"left",openOnKeyPressed:[c.Uz.SPACE,c.Uz.ENTER],inputRef:C,dispatch:O,chevronClassName:T.ai,inputClassName:T.hF,dropdownShown:e.useLocalState?e.dropdownShown:R,dropdownWidth:260,onShowDropdown:M,onShowDropdownOverride:e.useLocalState?e.onShowDropdownOverride:void 0,onHideDropdownOverride:e.useLocalState?e.onHideDropdownOverride:void 0,rightIcon:n.createElement(E.T,{resourceId:k})},!!N[I.I.ALL]&&n.createElement(v.c$,{value:{type:I.I.ALL}}),!!N[I.I.RECENT]&&n.createElement(v.c$,{value:{type:I.I.RECENT}}),!!N[I.I.LOCAL]&&n.createElement(v.c$,{value:{type:I.I.LOCAL}}),U.length>0?n.createElement(v.sK,null):null,U.length>0?n.createElement(v.c$,{isHeader:!0,formattedValue:(null==(t=null==P?void 0:P.org)?void 0:t.name)?(0,u.t)("design_systems.assets_panel.dropdown_org_libraries",{orgName:P.org.name}):(0,u.t)("design_systems.assets_panel.dropdown_libraries")}):null,U.map(e=>(0,f.vR)(e)?n.createElement(v.c$,{key:e,value:{type:I.I.FILE,fileKey:e},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(g.FX,null)}):n.createElement(v.c$,{key:e,value:{type:I.I.FILE,fileKey:e},fullWidth:!0})),H?n.createElement(v.sK,null):null,H?n.createElement(v.c$,{isHeader:!0,formattedValue:(0,s.kc)().dse_preset_libraries?(0,u.t)("design_systems.assets_panel.dropdown_ui_kits"):(0,u.t)("design_systems.assets_panel.dropdown_curated_libraries")}):null,H&&B.map(e=>n.createElement(v.c$,{key:e,value:{type:I.I.FILE,fileKey:e}})))}function A(e,t){return e.type===I.I.FILE&&t.type===I.I.FILE?e.fileKey===t.fileKey:e.type===t.type}},734013:(e,t,r)=>{"use strict";r.d(t,{DG:()=>o,pR:()=>l,xO:()=>a}),r(411855);var n=r(286640);let i="library-section-expanded-";function a(e,t=!1){let r=null;try{if(null!=n.x4){let t=n.x4.getItem(`${i}${e}`);r=t?JSON.parse(t):null}}catch(e){}return null!=r?!!r:t}function o(e,t){null!==n.x4&&n.x4.setItem(`${i}${e}`,JSON.stringify(t))}function l(e,t){switch(e){case"FILE":return"Used in this file"!==t;case"PAGE":case"NAME_GROUP":case"ASSET_TYPE":return!1}}},538376:(e,t,r)=>{"use strict";r.d(t,{l:()=>d});var n=r(411855),i=r(153234),a=r(939863),o=r(498606),l=r(227795),s=r(280999),c=r(731719);function d({disabled:e,isList:t,onSetKeyboardNavigationElement:r,onToggleViewMode:d,recordingKey:u}){let p=t?(0,a.t)("design_systems.assets_panel.show_as_grid"):(0,a.t)("design_systems.assets_panel.show_as_list");return n.createElement(l.K0,{ref:r,recordingKey:i.Pt(u,"toggleComponentsSidebarViewMode"),"data-tooltip-type":o.Ib.TEXT,"data-tooltip":p,svg:t?s.A:c.A,onClick:d,disabled:e})}},790429:(e,t,r)=>{"use strict";r.d(t,{J:()=>d,S:()=>u});var n=r(411855),i=r(188507),a=r(662275),o=r(284321),l=r(49116),s=r(173454),c=r(776018);function d(e,t,r){let o=(0,i.wA)(),l=(0,i.d4)(e=>e.modalShown);return n.useCallback(()=>{(null==l?void 0:l.type)===c.V&&(null==l?void 0:l.data)&&o(a.hm({data:{...null==l?void 0:l.data,asset:e,sectionPosition:t,sectionNameForTracking:r},type:c.V}))},[e,o,l,t,r])}function u(e){let t=(0,i.d4)(l.Ls),r=(0,i.d4)(l.m3),n=(0,i.d4)(o.MH),a=(0,i.d4)(o.dM);if(e.type===s.PW.COMPONENT){let r=e.isLocal?n[e.node_id]:e.component_key?t[e.component_key]:void 0;return!!r&&r.content_hash!==e.content_hash}if(e.type===s.PW.STATE_GROUP){let t=e.isLocal?a[e.node_id]:e.key?r[e.key]:void 0;return!!t&&t.version!==e.version}return!1}},811529:(e,t,r)=>{"use strict";r.d(t,{Bk:()=>y,Ld:()=>h,Mt:()=>d,ND:()=>p,RN:()=>b,Sg:()=>u,TY:()=>c,ff:()=>m,mZ:()=>s,o6:()=>f,sJ:()=>_});var n=r(717068),i=r(44892),a=r(416095),o=r(173454),l=r(279145);let s="assets-panel";function c(e){var t;if(!e.length)return!0;let r=null==(t=e.find(e=>(0,a.dx)(e)&&e.containing_frame))?void 0:t.containing_frame;for(let t of e)if((0,a.dx)(t)){let e=(0,l.ZX)(r,t.containing_frame),n=(0,l.nJ)(r,t.containing_frame);if(!e||!n)return!1}return!0}let d=()=>({subscribedFiles:[],fileKeyToSubscribedItems:{}});function u(e,t){let r=p((0,i.Jl)(e)),n=p(t,e);return{allItems:[].concat(r.allItems,n.allItems),publishedItems:[].concat(r.publishedItems,n.publishedItems),privateItems:[].concat(r.privateItems,n.privateItems),erroneousItems:[].concat(r.erroneousItems,n.erroneousItems),numUpdates:r.numUpdates+n.numUpdates,numPublished:r.numPublished+n.numPublished}}function p(e,t,r){var n,l;let s=(0,i.y3)(e),c=[],d=[],u=[],p=r?Object.values(r):[],m=0,_=0,h=new Set;if(t)for(let e of Object.keys(t)){let r=t[e],i=null==(l=null==(n=r.containing_frame)?void 0:n.containingStateGroup)?void 0:l.nodeId;i&&r.old_key&&h.add(i)}for(let e of s)if(e.deletedFromSceneGraph||(c.push(e),e.status===o.E8.NOT_STAGED||e.status===o.E8.DELETED?u.push(e):d.push(e)),(0,i.UB)(e.status)&&_++,e.status!==o.E8.CURRENT&&e.status!==o.E8.NOT_STAGED||(e.type===o.PW.COMPONENT||e.type===o.PW.STATE_GROUP)&&(0,a.Hb)(e.status)&&e.old_key||e.type===o.PW.STATE_GROUP&&(0,a.Hb)(e.status)&&h.has(e.node_id)){m++;continue}return{allItems:c,publishedItems:d,privateItems:u,erroneousItems:p,numUpdates:m,numPublished:_}}function m(e,t,r,n,i,a){var o;let l=g(e.published.stateGroups,r,e,t,!!n),s=(o=!!n,g(e.published.components,r,e,t,o,e=>{var t;return(null==(t=e.containing_frame)?void 0:t.containingStateGroup)==null})),c={},d={};for(let e of s.subscribedFiles)(!i||e.key===i)&&(a&&e.key===a||(c[e.key]=e,d[e.key]=(d[e.key]||[]).concat(s.fileKeyToSubscribedItems[e.key])));for(let e of l.subscribedFiles)(!i||e.key===i)&&(a&&e.key===a||(c[e.key]=e,d[e.key]=(d[e.key]||[]).concat(l.fileKeyToSubscribedItems[e.key])));return{subscribedFiles:Object.values(c),fileKeyToSubscribedItems:d}}function _(e,t,r,i,o){let l=e.data;if(!l)return d();let s=[],c={};for(let e in Object.entries(l).forEach(([e,n])=>{let l=t[e];l&&(!r||(0,a.jk)(i,r,l,o))&&n.length>0&&(c[e]=[...n])}),c){let r=t[e];r&&s.push(r)}return(0,n.KQ)(s,"name"),{subscribedFiles:s,fileKeyToSubscribedItems:c}}function h(e,t,r,n){let i={...e.defaultPublished.components};for(let t of Object.keys(e.defaultPublished.stateGroups))for(let r of(i[t]||(i[t]=Object.create(null)),Object.keys(e.defaultPublished.stateGroups[t])))i[t][r]={...i[t][r]||{},...e.defaultPublished.stateGroups[t][r]};return g(i,r,e,t,n,e=>{var t;return(null==(t=e.containing_frame)?void 0:t.containingStateGroup)==null})}function g(e,t,r=null,i=null,o,l=()=>!0){let s=Object.create(null);for(let n in e){let c=e[n];for(let e in c){let n=t[e];if(!n||i&&r&&!(0,a.jk)(r,i,n,o))continue;let d=[];for(let t in c[e]){let r=c[e][t];l(r)&&d.push(r)}d.length>0&&(s[e]=d)}}let c=[];return Object.keys(s).forEach(e=>{let r=t[e];r&&c.push(r)}),(0,n.KQ)(c,"name"),{fileKeyToSubscribedItems:s,subscribedFiles:c}}function f(e,t,r,n){let i=E(e.published.stateGroups,r,e,t,n),a=E(e.published.components,r,e,t,n,e=>{var t;return(null==(t=e.containing_frame)?void 0:t.containingStateGroup)==null}),o={},l={};for(let e of[a,i])for(let t of e.subscribedHubFiles)o[t.id]=t,l[t.id]=(l[t.id]||[]).concat(e.hubFileIdToSubscribedItems[t.id]);return{subscribedHubFiles:Object.values(o),hubFileIdToSubscribedItems:l}}function E(e,t,r=null,i=null,o,l=()=>!0){let s={};for(let n in e){let c=e[n];for(let e in c){let n=t[e];if(!n||r&&i&&!(0,a.jk)(r,i,{key:n.id},o))continue;let d=[];for(let t in c[e]){let r=c[e][t];l(r)&&d.push(r)}d.length>0&&(s[e]=d)}}let c=Object.keys(s).map(e=>t[e]);return(0,n.v7)(c,e=>e.versions[e.current_hub_file_version_id].name),{hubFileIdToSubscribedItems:s,subscribedHubFiles:c}}var y=(e=>(e[e.Grid=0]="Grid",e[e.List=1]="List",e))(y||{});let b=e=>0===e?"grid":"list"},238837:(e,t,r)=>{"use strict";r.d(t,{Nx:()=>y,Qe:()=>v,VL:()=>m,fM:()=>_,tz:()=>p});var n=r(717068),i=r(966712),a=r(939863),o=r(680681),l=r(473744),s=r(416095),c=r(237929),d=r(173454),u=r(811529);function p(e,t){let r={},n={},i=[];return e.forEach(e=>{let a=t(e);if(!a)return;let o=a.containing_frame;if(null==o?void 0:o.pageId){let t=o.pageId,i=o.pageName||"";n[t]=i,r[t]=r[t]||[],r[t].push(e)}else i.push(e)}),{itemsByPageId:r,pageNamesByPageId:n,itemsWithoutPage:i}}let m="0:1";function _(e,t,r,n){if(0!==r.length){if(1===Object.keys(e).length&&1===Object.keys(t).length){let t=Object.keys(e)[0];e[t].push(...r),r.splice(0,r.length)}else t[m]&&e[m]?(e[m].push(...r),r.splice(0,r.length)):n&&(t[m]||(t[m]="Page 1"),e[m]=[...r],r.splice(0,r.length))}}function h(e,t,r,n,i){var a,o;let s=[],c=new Map;for(let i of e)t&&(i.flattenedPath=t.concat(i.name||"").join(" / ")),r&&(i.breadcrumbPath=function(e,t){let r=[...e];if(t&&t.length&&e&&e.length){let n=e.length-t.length;for(let i=t.length-1;i>=0;--i)i+n<e.length&&e[i+n]===t[i]&&r.pop()}return r.length>0?r.join(" / ")+" /":""}(r,t)),n&&(i.stickyHeaderTokens=n.concat(i.name||"")),c.has(i.name||"")?(i.subtrees&&i.subtrees.length&&(null==(a=c.get(i.name||""))||a.subtrees.push(...i.subtrees)),i.items&&i.items.length&&(null==(o=c.get(i.name||""))||o.items.push(...i.items))):c.set(i.name||"",i);for(let e of c.values()){let a=t,o=r,c=n.concat(e.name||""),d=new Set;for(let t of e.subtrees)d.add(t.name);o=o.concat(e.name||""),"PAGE"!==e.type&&(0===e.items.length&&1===d.size?(e.skipElementsInRendering=!0,a=a.concat(e.name||"")):a=[]),e.subtrees=h(e.subtrees,a,o,c,{isPreset:(null==i?void 0:i.isPreset)??!1}),(0,l.gO)(e.subtrees,{sortFn:e=>e.name,priorityFn:e=>(0,l.dS)(e.name,{isPreset:(null==i?void 0:i.isPreset)??!1})}),s.push(e)}return s}function g(e,t,r){(0,l.gO)(t,{sortFn:e=>e.name,priorityFn:e=>(0,l.Nz)(e,{isPreset:(null==r?void 0:r.isPreset)??!1})});let n=Object.create(null);for(let r of t){let t=(0,c.ke)(r.name),i="";for(let a=0;a<t.length;a++){let o;let l=t[a],s=i,c=a<t.length-1;if(i+=l+(c?"/":""),o=n[s]?n[s]:e,c&&!n[i]){let e={type:"NAME_GROUP",name:l,key:l,items:[],subtrees:[]};n[i]=e,o.subtrees.push(e)}c||o.items.push(r)}}}function f(e,t,r){var n;let a={},o=[],l=[],c={};for(let e of t)if((0,i.kc)().dse_templates_proto&&e.type===d.PW.COMPONENT&&(0,s.Fl)(e))o.push(e);else if((0,s.dx)(e)&&(null==(n=e.containing_frame)?void 0:n.nodeId)){let t=e.containing_frame.nodeId;a[t]=a[t]||[],a[t].push(e),c[t]=e.containing_frame}else l.push(e);if((0,i.kc)().dse_templates_proto&&o.length>0){let t={type:"NAME_GROUP",name:"Templates",key:`${e.key}-${b}`,items:[],subtrees:[]};e.subtrees.push(t),g(t,o,{isPreset:(null==r?void 0:r.isPreset)??!1})}let u=Object.keys(a).length;if(u>0||1===u&&l.length){for(let t in a){let n=c[t],i=a[t],o={type:"NAME_GROUP",name:n.name||"",key:t,items:[],subtrees:[]};e.subtrees.push(o),g(o,i,{isPreset:(null==r?void 0:r.isPreset)??!1})}g(e,l,{isPreset:(null==r?void 0:r.isPreset)??!1})}else g(e,(0,i.kc)().dse_templates_proto?t.filter(e=>!(0,s.Fl)(e)):t,{isPreset:(null==r?void 0:r.isPreset)??!1})}function E(e,t,r){let{itemsByPageId:n,pageNamesByPageId:i,itemsWithoutPage:a}=p(t,e=>e.type===d.PW.COMPONENT||e.type===d.PW.STATE_GROUP||e.type===d.PW.MODULE?e:null);_(n,i,a);let o=Object.keys(n);if((0,l.gO)(o,{sortFn:e=>i[e],priorityFn:e=>(0,l.dS)(i[e],{isPreset:(null==r?void 0:r.isPreset)??!1})}),o.length>1||1===o.length&&a.length){for(let t of o){let a={type:"PAGE",name:i[t],key:t,items:[],subtrees:[]};e.subtrees.push(a),f(a,n[t],{isPreset:(null==r?void 0:r.isPreset)??!1})}f(e,a,{isPreset:(null==r?void 0:r.isPreset)??!1})}else f(e,t,{isPreset:(null==r?void 0:r.isPreset)??!1});e.subtrees=h(e.subtrees,[],[],e.name?[e.name]:[],{isPreset:(null==r?void 0:r.isPreset)??!1}),(0,l.gO)(e.subtrees,{sortFn:e=>e.name.trim(),priorityFn:e=>(0,l.dS)(e.name.trim(),{isPreset:(null==r?void 0:r.isPreset)??!1})})}function y({localLibraryItemsInfo:e,localTemplatesInfo:t,subscribedItemsInfo:r,subscribedTemplatesInfo:l,subscribedCommunityItemsInfo:s,defaultSubscribedItemsInfo:c,canPublish:d,approvedLibraryKeysByResourceType:u}){let p;let m={items:[],subtrees:[]},_={},{fileKeyToSubscribedItems:h,subscribedFiles:g}=r,f=[...g],y={};if((0,i.kc)().dse_editor_templates_v1&&l)for(let e of(y=l.fileKeyToSubscribedItems,l.subscribedFiles))f.find(t=>t.key===e.key)||f.push(e);(0,i.kc)().dse_editor_templates_v1&&t&&(p=T(m,t,d,1));let b=T(m,e,d,0),v=c.fileKeyToSubscribedItems;for(let e of c.subscribedFiles){let t=e.key,r={items:[],subtrees:[],key:`defaultLibrary:${t}`,name:(0,a.t)("design_systems.assets_panel.created_by_figma"),type:"FILE",isFilePublished:!0,sectionNameForTracking:"Default libraries",subscribedFileKey:t};E(r,v[t]),m.subtrees.push(r),_[t]=r}for(let e of((0,n.KQ)(f,"name"),(0,o.NX)(u)&&(0,o.k9)({libraries:f,approvedLibraryKeysByResourceType:u}),f)){let t=e.key,r={items:[],subtrees:[],key:`subscribedComponents:${t}`,name:e.name,type:"FILE",isFilePublished:!0,sectionNameForTracking:"Subscribed libraries",subscribedFileKey:t};if((0,i.kc)().dse_editor_templates_v1){let t={items:[],subtrees:[],key:"templates",name:(0,a.t)("design_systems.assets_panel.templates"),type:"ASSET_TYPE"};y[e.key]&&(E(t,y[e.key]),r.subtrees.push(t));let n={items:[],subtrees:[],key:"components",name:(0,a.t)("design_systems.assets_panel.components"),type:"ASSET_TYPE"};h[e.key]&&E(n,h[e.key]),r.subtrees.push(n)}else E(r,h[e.key]);_[t]=r,m.subtrees.push(r)}if(s){let{hubFileIdToSubscribedItems:e,subscribedHubFiles:t}=s;for(let r of t){let t=r.id,n={items:[],subtrees:[],key:`subscribedCommunityComponents:${t}`,name:r.versions[r.current_hub_file_version_id].name,type:"FILE",isFilePublished:!0,sectionNameForTracking:"Subscribed community libraries",subscribedFileKey:t};E(n,e[t],{isPreset:!0}),m.subtrees.push(n),_[t]=n}}return{tree:m,localSubtree:b,localTemplateSubtree:p,subscribedFileSubtrees:_}}let b="template-subtree";function v(e){return"NAME_GROUP"===e.type&&e.key.includes(b)}var I=(e=>(e[e.COMPONENT=0]="COMPONENT",e[e.TEMPLATE=1]="TEMPLATE",e))(I||{});function T(e,t,r,n){let{allItems:i,privateItems:o,numPublished:l}=t,s=l>0&&r,c=s&&o.length>0,d=function(e,t){let{allItems:r,publishedItems:n,privateItems:i,numPublished:a}=e;return a>0&&t&&i.length>0?n:r}(t,r),p={items:[],subtrees:[],key:0===n?"localComponents":"localTemplates",name:i.length>0?(0,a.t)(0===n?"design_systems.assets_panel.local_components":"design_systems.assets_panel.local_templates"):"",type:"FILE",sectionNameForTracking:0===n?"Local components":"Local templates",isFilePublished:s,stickyHeaderTokens:[]};if(e.subtrees.push(p),!c&&(0,u.TY)(d)?(f(p,d),p.subtrees=h(p.subtrees,[],[],p.name?[p.name]:[])):E(p,d),c){let e={items:[],subtrees:[],key:"privateToThisFile",name:(0,a.t)("design_systems.assets_panel.hidden"),type:"PAGE",sectionNameForTracking:0===n?"Local private components":"Local private templates",isFilePublished:s,stickyHeaderTokens:[]};E(e,o),p.subtrees.push(e)}return p}},44160:(e,t,r)=>{"use strict";r.d(t,{GT:()=>_,KO:()=>E,YS:()=>u,_o:()=>p,lV:()=>h});var n=r(411855),i=r(188507),a=r(776250),o=r(374626),l=r(395900),s=r(607283),c=r(940596),d=r(233333);let u="performance.ds_eco.asset_panel_loading",p=new l.jk(u,{}),m=(0,c.rt)(!1),_=(0,c.rt)(!1);function h(){let[e,t]=(0,o.fp)(m);return n.useCallback(()=>{e||(t(!0),p.start())},[e,t])}let g=(e,t)=>{let r=(0,i.d4)(e=>e.openFile),l=(0,d.D)(),[c,m]=(0,o.fp)(_);n.useEffect(()=>{if(!l&&!c&&t){m(!0);let t=p.stop();t&&(0,a.sx)(u,{elapsedMs:t,fileKey:null==r?void 0:r.key,teamId:null==r?void 0:r.teamId,orgId:null==r?void 0:r.parentOrgId,isUi3RedesignedAssetPanel:!1,numLibraries:e.allElementsTree.allElements.length,numComponents:f(e.allElementsTree.allElements),numComponentsShown:e.elementsInView.filter(e=>e.type===s.zq.TILE).length,numSectionsShown:e.elementsInView.filter(e=>e.type===s.zq.ROW).length},{forwardToDatadog:!0})}},[e.isDirty,e.elementsInView,e.allElementsTree,l,c,r,m,t])},f=e=>{let t=0;return e.forEach(e=>{e.type===s.zq.TILE?t+=1:e.type===s.zq.ROW&&(0,s.We)(e)&&(t+=f(e.children))}),t};function E({elementsCache:e,hasRenderedItems:t}){return g(e,t),null}},938720:(e,t,r)=>{"use strict";r.d(t,{lX:()=>K,MT:()=>Y});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(512495),s=r.n(l),c=r(568214),d=r(91408),u=r(320063),p=r(153234),m=r(554322),_=r(572206),h=r(939863),g=r(428654),f=r(798099),E=r(981354),y=r(809831),b=r(44892),v=r(473744),I=r(356390),T=r(852800),S=r(141123),w=r(232205),A=r(237929),C=r(267931),N=r(49116),O=r(776615),L=r(173454),R=r(498606),P=r(186380),k=r(776018),D=r(820396),M=r(870061),x=r(230997);let F="library_item_tile--nameGrid--rnFsh library_item_tile--name---mWwN ellipsis--ellipsis--Tjyfa",U="library_item_tile--thumbWrapper--fmgue library_item_tile--thumbWrapperNoBg--dq7A6",B=(0,d.hG)(x.QU),H=(0,d.hG)(x.Us);function V(e){switch(e){case"list-compact":case"list":case"list-no-padding":return!0;case"grid":case"grid-compact":case void 0:return!1}}function G(e,t){switch(e){case"grid":case"grid-compact":case void 0:return t;case"list-compact":return"library_item_tile--nameList--ezsvn library_item_tile--name---mWwN ellipsis--ellipsis--Tjyfa";case"list":case"list-no-padding":return"library_item_tile--nameListLarge--5iAF2 library_item_tile--name---mWwN ellipsis--ellipsis--Tjyfa"}}function W(e,t,r){return n.useMemo(()=>{let n={};if(r)return{nameStyle:n,background:null};let i=(0,b.zR)(e,null);return i&&!V(t)&&(n.background=g.F.format(i),n.color=(0,c.G$)(i)),{nameStyle:n,background:i}},[t,r,e])}function K(e){let{item:t}=e,{nameStyle:r,background:i}=W(e.item,e.displayType,e.noBackground),a=e.showName;(e.hideNameOverlay||e.shouldShowNamePopout&&!V(e.displayType))&&(a=!1);let o=s()({},e,{style:{marginLeft:e.gutterWidth}});return n.createElement(j,{...o},n.createElement(z,{...e},n.createElement($,{...e,backgroundColor:i,className:void 0,style:e.isDragged?void 0:e.style}),a&&n.createElement("div",{className:G(e.displayType,F),style:r},V(e.displayType)&&!e.isSearch?(0,A.kH)(t.name):t.name),e.item.type===L.PW.STATE_GROUP&&!!e.numVariants&&e.numVariants>0&&n.createElement(q,{isList:V(e.displayType),numVariants:e.numVariants})))}function Y(e){let t;let r=n.useRef(null);(0,u.h)(()=>{let t=({nodeId:t})=>{if(t===e.item.node_id&&r.current){let e=r.current.getBoundingClientRect();e.top<(0,m.bG)()+H?r.current.scrollIntoView():e.bottom>window.innerHeight-(0,m.bG)()&&r.current.scrollIntoView(!1)}};I.Y5.fromFullscreen.on("scrollToNode",t);let n=T.glU&&T.glU.getFirstSelectedNodeIdForCurrentPage();return n&&t({nodeId:n}),()=>{I.Y5.fromFullscreen.removeListener("scrollToNode",t)}});let i=e.item,a=e.isFilePublished&&(i.status===L.E8.NOT_STAGED||i.status===L.E8.DELETED),{nameStyle:o,background:l}=W(e.item,e.displayType,a);a&&(t="library_item_tile--privateComponentGrid--i5Mcx");let s=!e.hideNameOverlay&&(!e.shouldShowNamePopout||V(e.displayType));return n.createElement(j,{ref:r,...e,onMouseUp:f.dG,className:t},n.createElement(z,{...e},n.createElement($,{...e,backgroundColor:l}),s&&n.createElement("div",{className:G(e.displayType,F),style:o,dir:"auto"},V(e.displayType)&&!e.isSearch?(0,A.kH)(i.name):i.name),e.selected&&!V(e.displayType)&&n.createElement("div",{className:"library_item_tile--selectionGrid--bBTZd"}),a&&!e.selected&&!V(e.displayType)&&n.createElement("div",{className:"library_item_tile--privateOutlineGrid--8EHIe"}),e.item.type===L.PW.STATE_GROUP&&!!e.numVariants&&e.numVariants>0&&n.createElement(q,{isList:V(e.displayType),numVariants:e.numVariants})))}let j=n.memo(n.forwardRef(function(e,t){let r;let[i,a]=n.useState({popout:{},arrow:{}}),o=V(e.displayType),l=n.useRef(null),s=t||l,c=n.useRef(null),d=n.useCallback(()=>{if(s.current&&c.current){let e=s.current.getBoundingClientRect(),t=(e.top+e.bottom)/2,r=c.current.offsetHeight,n=(0,m.bG)()+6,i=window.innerHeight-r-6,o=t-r/2;o=Math.max(o=Math.min(o,i),n),a({popout:{left:e.right+9,top:o},arrow:{left:e.right,top:t}})}},[s]),u=e.height||120,p=e.width||120;u-=u%2,p-=p%2;let _=e.itemPadding??0;p+=2*_,u+=2*_;let g=o?e.style:{...e.style,width:p,height:u},f=(0,M.o)(e.item,{shouldShowName:e.shouldShowNamePopout,isList:o});r="list-compact"===e.displayType?"library_item_tile--tileList--yPfDI library_item_tile--tile--okxBn library_item_tile--_variantHover--xfLPt library_item_tile--_tileListBase--jZpFH":"list"===e.displayType?"library_item_tile--tileListLarge--aoNFs library_item_tile--tile--okxBn library_item_tile--_variantHover--xfLPt library_item_tile--_tileListBase--jZpFH":"list-no-padding"===e.displayType?"library_item_tile--tileListLargeNoPadding--QnDtc library_item_tile--tile--okxBn library_item_tile--_variantHover--xfLPt library_item_tile--_tileListBase--jZpFH":e.isDragged?"library_item_tile--tile--okxBn":e.isFigJam?"library_item_tile--tileFigJam--BkXTr library_item_tile--tile--okxBn":e.useBaseTile?"library_item_tile--tileGridBase--xcbaX library_item_tile--tile--okxBn library_item_tile--_nameHover--idlJb library_item_tile--_variantHover--xfLPt":"grid-compact"===e.displayType?"library_item_tile--tileGridCompact--a7lPd library_item_tile--tileGridBase--xcbaX library_item_tile--tile--okxBn library_item_tile--_nameHover--idlJb library_item_tile--_variantHover--xfLPt":"library_item_tile--tileGrid--wgcTu library_item_tile--tile--okxBn library_item_tile--_nameHover--idlJb library_item_tile--_variantHover--xfLPt";let E=e.item.type===L.PW.STATE_GROUP&&!!e.numVariants&&e.numVariants>0,y=e.shouldShowNamePopout&&!o,b=!e.shouldHideDescription&&e.item.description,v=e.item.description||e.item.name&&e.shouldShowNamePopout&&!o;if(e.isFigJam)return n.createElement("div",{className:`${r} ${e.className||""}`,style:g,onMouseUp:e.onMouseUp,"data-tooltip":e.isDragged?void 0:(0,A.kH)(e.item.name),"data-tooltip-type":e.isDragged?void 0:R.Ib.TEXT,"data-tooltip-timeout-delay":e.isDragged?void 0:500,"data-tooltip-show-above":e.tooltipShownAbove},e.children);if(e.shouldUseDescriptionTooltip&&f){let t=(b||y||E)&&!e.shouldHideTooltip;return n.createElement("div",{ref:s,className:`${r} ${e.className||""}`,style:g,onMouseUp:e.onMouseUp,"data-tooltip-type":t?R.Ib.SPECIAL:void 0,"data-tooltip":t?R.MW.COMPONENT_INFO:void 0,"data-tooltip-component-name":y?(0,A.kH)(e.item.name):void 0,"data-tooltip-file-name":e.fileName,"data-tooltip-component-description":b?e.item.description:void 0,"data-tooltip-num-variants":E?e.numVariants:void 0,"data-tooltip-show-right":!0,"data-tooltip-max-width":240,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!!e.showTooltipImmediately||void 0,"data-tooltip-hide-immediately":!!e.showTooltipImmediately||void 0},e.children)}return n.createElement("div",{ref:s,className:`${r} ${e.className||""}`,style:g,onMouseUp:e.onMouseUp,onMouseLeave:()=>{a({popout:{},arrow:{}})},onMouseEnter:d},e.children,v&&!e.shouldHideTooltip&&n.createElement("div",{className:"library_item_tile--descriptionPopoutContainer--zTKKF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",style:i.popout,ref:c,dir:"auto"},y&&n.createElement("div",{className:"library_item_tile--popoutContainerTitle--T3N8F"},(0,A.kH)(e.item.name)),E&&n.createElement("div",null,n.createElement(h.Tx,{id:"design_systems.assets_panel.variant_count",numVariants:e.numVariants})),b&&n.createElement("div",{className:y||E?"library_item_tile--descriptionMarginTop--U1MC0":void 0},e.item.description),n.createElement("div",{className:"library_item_tile--descriptionPopoutArrow--ZA3gV",style:i.arrow})))}));function z(e){var t,r,a,o,l;let s="whiteboard"===(0,y.lg)(),c=V(e.displayType),d=e.item.type===L.PW.MODULE,u=(0,v.o)(e.item),m=(0,C.H)(),h=(0,i.d4)(e=>{var t;return null==(t=e.modalShown)?void 0:t.type}),g=n.useCallback(()=>{h===k.V&&m()},[h,m]),{onInsertableResourcePointerDown:f,dragState:E}=(0,w.j)({resource:e.item,isList:c,sourceForTracking:(null==(t=e.draggable)?void 0:t.sourceForTracking)||"",sectionNameForTracking:null==(r=e.draggable)?void 0:r.sectionNameForTracking,sectionDepth:null==(a=e.draggable)?void 0:a.sectionDepth,clickToInsert:!!(null==(o=e.draggable)?void 0:o.clickToInsert),afterSuccessfulInsert:null==(l=e.draggable)?void 0:l.afterSuccessfulInsert,draggingThumbMaxDimensions:d||u?void 0:new _.Mi((e.width||0)-B,(e.height||0)-B),sectionPosition:e.sectionPosition,recomputeCancelRectsOnPointerUp:h===k.V,onDragStart:()=>{var t,r;null==(r=null==(t=e.draggable)?void 0:t.onDragStart)||r.call(t),g()}}),b=`componentThumb.${e.recordingNodePath}`,I=p.rf(b,"contextmenu",t=>{e.onContextMenu&&e.onContextMenu(t)},{recordMetadata:e=>{let t=e.currentTarget.getBoundingClientRect(),r=new _.Mi(t.left,t.top),n=new _.Mi(e.clientX,e.clientY).subtract(r);return{percentageMousePos:new _.Mi(n.x/t.width,n.y/t.height)}},playbackMetadata:t=>{let r=e.height||0,n=e.width||0;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:r,width:n})},clientX:0+t.percentageMousePos.x*n,clientY:0+t.percentageMousePos.y*r}}}),T=p.rf(b,"click",t=>{e.onItemClick&&e.onItemClick(t,e.item)});return n.createElement(n.Fragment,null,n.createElement("div",{className:s&&E?"library_item_tile--thumbAndNameWrapperGrayscale--FGh2L library_item_tile--thumbAndNameWrapper--FT1HH":"library_item_tile--thumbAndNameWrapper--FT1HH",style:{padding:e.itemPadding},onPointerDown:t=>{e.draggable&&f(t)},onContextMenu:I,onDoubleClick:t=>{e.onItemDoubleClick&&e.onItemDoubleClick(t,e.item)},onClick:T,"data-testid":b},e.children),n.createElement(S.q,{dragState:E,isList:c}))}function $({displayType:e,item:t,isDragged:r,isFigJam:i,backgroundColor:a,shouldShowShadowOnHover:l,height:s=120,width:c=120,noBackground:d,style:u,alwaysShowBorder:p,thumbWrapperClassName:m}){let _;let h=n.useContext(O.uW),f=(0,E.H)(),y=s-s%2,b=c-c%2,v=V(e);_=v?d?"library_item_tile--thumbWrapperNoBgListView--zVBTw library_item_tile--thumbWrapperNoBg--dq7A6":"library_item_tile--thumbWrapperListView--zLZLK library_item_tile--thumbWrapperNoBgListView--zVBTw library_item_tile--thumbWrapperNoBg--dq7A6":d||i?"library_item_tile--thumbWrapperNoBg--dq7A6":`${U} ${U}`;let I={width:2*b,height:2*y,padding:i?0:B,...u};return d||!a||i||(p||(I.boxShadow=(0,O.pw)(h,a,f)),I.background=g.F.format(a)),r&&(v?(I.width=void 0,I.height=void 0):I.background=void 0),n.createElement("div",{className:"library_item_tile--thumbContainer--7rKmQ",style:r&&v?void 0:{width:b,height:y}},n.createElement("div",{className:o()(_,m,{"library_item_tile--tileBorder--clelb":p}),style:I},t.type===L.PW.VARIABLE_SET?n.createElement(Z,{variableSetID:t.node_id}):n.createElement(P.M,{className:l?"library_item_tile--thumbWithShadowOnHover--V8LMf library_item_tile--thumb--MNoWO":i?"library_item_tile--thumb--MNoWO":"library_item_tile--thumbScaledDown--usdag library_item_tile--thumb--MNoWO",item:t,shouldGenerateLocalThumbnail:!0,draggable:!1})))}let Z=n.memo(function({variableSetID:e}){let t=(0,i.d4)(e=>(0,N.a3)(e)),r=n.useMemo(()=>{let r=new Set;for(let n of Object.values(t))if(n.variableSetId===e&&(r.add(n.resolvedType),r.size>=3))break;return[...r.values()]},[t,e]),a=(r.length-1)/2;return n.createElement("div",{className:"library_item_tile--variableSetThumb--cCo2-"},r.map((e,t)=>n.createElement("div",{className:"library_item_tile--variableTypeIcon--58dL0",key:e,style:{marginTop:(a-t)*20}},n.createElement(D.i,{type:e,showTooltip:!1}))))});function q({isList:e,numVariants:t}){return t<=1?null:n.createElement("div",{className:e?"library_item_tile--numVariantsList--aGNbh library_item_tile--_numVariantsBase--039pu":"library_item_tile--numVariants--tOsFg library_item_tile--_numVariantsBase--039pu","data-tooltip":(0,h.t)("design_systems.assets_panel.variant_count",{numVariants:t}),"data-tooltip-type":R.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0},t)}},721910:(e,t,r)=>{"use strict";r.d(t,{JS:()=>a,Mk:()=>o,ON:()=>s,Wy:()=>u,Yv:()=>p,c_:()=>n,gP:()=>_,h$:()=>h,lM:()=>c,my:()=>d,nE:()=>i,o8:()=>l,tM:()=>m});let n="components",i="examples",a="templates",o="assets",l="privateToThisFile";var s=(e=>(e[e.HEADER=0]="HEADER",e[e.BREADCRUMB=1]="BREADCRUMB",e[e.CONTENTS=2]="CONTENTS",e))(s||{}),c=(e=>(e[e.LIBRARIES=0]="LIBRARIES",e[e.PAGES=1]="PAGES",e[e.ASSETS=2]="ASSETS",e))(c||{}),d=(e=>(e[e.SEARCH_AND_FILTER=0]="SEARCH_AND_FILTER",e[e.LIBRARY_SEARCH_CHIP=1]="LIBRARY_SEARCH_CHIP",e))(d||{}),u=(e=>(e[e.SEARCH=0]="SEARCH",e[e.FILTER=1]="FILTER",e[e.VIEW_TOGGLE=2]="VIEW_TOGGLE",e))(u||{}),p=(e=>(e[e.BACK=0]="BACK",e[e.MENU=1]="MENU",e[e.ELLIPSIS=2]="ELLIPSIS",e[e.STUBS=3]="STUBS",e))(p||{}),m=(e=>(e[e.TEMPLATES=0]="TEMPLATES",e[e.EXAMPLES=1]="EXAMPLES",e[e.COMPONENTS=2]="COMPONENTS",e[e.FOLDERS=3]="FOLDERS",e))(m||{}),_=(e=>(e[e.LOCAL_AND_SUBSCRIBED=0]="LOCAL_AND_SUBSCRIBED",e[e.PRESETS=1]="PRESETS",e))(_||{});function h(e){return!!e.pages}},718242:(e,t,r)=>{"use strict";r.d(t,{LH:()=>v,Qk:()=>S,Uz:()=>h,XI:()=>I,Yc:()=>g,ht:()=>m,mP:()=>f,t7:()=>T,ud:()=>b,uo:()=>y,zf:()=>E});var n=r(411855),i=r(717068),a=r(966712),o=r(696673),l=r(680681),s=r(335682),c=r(48515),d=r(721910),u=r(623680),p=r(799550);function m(){let e=(0,s.tS)(),{libraryKey:t,currentView:r}=(0,u.wV)();return r===u.S5.Recents?c.I.RECENT:t?t===e?c.I.LOCAL:c.I.FILE:c.I.ALL}let _={[u.S5.Libraries]:"all",[u.S5.Pages]:"library",[u.S5.Assets]:"page",[u.S5.Search]:"search",[u.S5.Recents]:"recents"};function h(){let{currentView:e}=(0,u.wV)();return _[e]}function g(){let{currentView:e}=(0,u.wV)(),[t]=(0,p.MA)();return e===u.S5.Assets?t:void 0}function f(e){let t=(0,s.q5)(),r=null;return(0,d.h$)(e)&&1===e.pages.size&&(r=[...e.pages.keys()][0]),n.useMemo(()=>({libraryKey:e.fileKey,fileKey:null==t?void 0:t.key,fileTeamId:(null==t?void 0:t.teamId)??void 0,fileOrgId:(null==t?void 0:t.parentOrgId)??void 0,alsoViewPage:!!r}),[e.fileKey,null==t?void 0:t.key,null==t?void 0:t.parentOrgId,null==t?void 0:t.teamId,r])}function E({moreSearchResults:e}={}){let{libraryKey:t,pageId:r,currentView:i}=(0,u.wV)(),a=(0,s.tS)();return n.useMemo(()=>{switch(i){case u.S5.Search:if(e)return{componentSectionNameForTracking:"More search results",templateSectionNameForTracking:"More search results"};return{componentSectionNameForTracking:"Primary search results",templateSectionNameForTracking:"Templates search results"};case u.S5.Recents:return{componentSectionNameForTracking:"Recently used",templateSectionNameForTracking:"Recently used templates"};default:if(t===a){if(r===d.o8)return{componentSectionNameForTracking:"Local private components",templateSectionNameForTracking:"Local private templates"};return{componentSectionNameForTracking:"Local components",templateSectionNameForTracking:"Local templates"}}if(t&&(0,o.wJ)(t))return{componentSectionNameForTracking:"Subscribed community libraries",templateSectionNameForTracking:"Subscribed community libraries"};return{componentSectionNameForTracking:"Subscribed libraries",templateSectionNameForTracking:"Subscribed libraries"}}},[i,t,e,a,r])}function y(e,t){let r=[...e];return t&&(0,l.NX)(t)?(0,l.k9)({libraries:r,approvedLibraryKeysByResourceType:t}):(0,i.KQ)(r,"name"),r}function b(e,t){return y(e.map(e=>({...e,key:e.fileKey})),t)}function v(e){let t=[...e];return(0,i.v7)(t,e=>e.versions[e.current_hub_file_version_id].name),t}function I(e,{includeEmptyLibraries:t}={}){let r=e.numComponents+e.numStateGroups,n=(0,a.u4)("dse_editor_templates_v1",e.numModuleAssets,0)??0;return t||r>0||n>0?{name:e.name,fileKey:e.fileKey,numComponents:r,numTemplates:n,thumbnailUrl:e.thumbnailUrlOverride??e.thumbnailUrl,thumbnailShouldCover:!!e.thumbnailGuid||(0,o.wJ)(e.fileKey)}:null}function T(e,t,r=10,i=5,a=30){let o=n.useRef(void 0);n.useEffect(()=>{if(!e.current)return;let n=e.current,l=e=>{let n=void 0!==o.current&&e.timeStamp-o.current<a,l=e.deltaX,s=e.deltaY;Math.abs(l)>(n?i:r)&&(o.current=e.timeStamp),!n&&Math.abs(l)>r&&Math.abs(l)>Math.abs(s)&&t(l>0?"right":"left")};return n.addEventListener("wheel",l,{passive:!0}),()=>{n.removeEventListener("wheel",l)}},[t,e,a,i,r])}function S(e){return(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)&&"application"!==e.role}},905485:(e,t,r)=>{"use strict";r.d(t,{G:()=>o,K:()=>a});var n=r(411855);let i=n.createContext({getLibrary:()=>void 0,getPage:()=>void 0,getFolder:()=>void 0});function a({children:e,assetPanelItems:t}){let r=n.useCallback(e=>{if(e)return t.allLibrariesUnsorted.get(e)},[t]),a=n.useCallback((e,t)=>{if(!e||!t)return;let n=r(e);return null==n?void 0:n.pages.get(t)},[r]),o=n.useCallback((e,t,r)=>{if(!e||!t)return;let n=a(e,t);if(!n)return;if(!r)return n.assets;let i=n.assets;for(let e of r)if(!(i=i.subtrees.get(e)))return;return i},[a]);return n.createElement(i.Provider,{value:{getLibrary:r,getPage:a,getFolder:o}},e)}function o(){return n.useContext(i)}},606624:(e,t,r)=>{"use strict";r.d(t,{P3:()=>o,ZX:()=>l,r6:()=>i});var n=r(411855),i=(e=>(e[e.Mount=0]="Mount",e[e.Back=1]="Back",e[e.Forward=2]="Forward",e[e.ToggleView=3]="ToggleView",e))(i||{});let a=(0,n.createContext)({lastNavAction:0,lastNavDirection:0,setLastNavAction:()=>{},lastActionWasBackSwipe:!1});function o({children:e}){let[t,r]=(0,n.useState)(0),[i,o]=(0,n.useState)(!1),[l,s]=(0,n.useState)(!1),c=n.useMemo(()=>i?3:t,[i,t]);return n.createElement(a.Provider,{value:{lastNavAction:c,lastNavDirection:t,setLastNavAction:(e,t)=>{s(!!t),3===e?o(!0):(o(!1),r(e))},lastActionWasBackSwipe:l}},e)}function l(){return(0,n.useContext)(a)}},977144:(e,t,r)=>{"use strict";r.d(t,{xU:()=>_,cG:()=>f,X3:()=>h,hK:()=>g});var n=r(411855),i=r(188507),a=r(297666),o=r(522739),l=r(827586),s=r(988022),c=r(843495),d=r(335682),u=r(914214),p=r(734017);let m=(0,a.s)((e,t,r,n)=>{(0,s.uE)("action_left_panel_scroll",{user:e},{assetsPanelVersion:3,tab:"assets",fileKey:t,fileTeamId:r,fileOrgId:n})},500);function _(e){let{children:t,onScroll:r,...a}=e,s=(0,i.d4)(u.x),_=(0,d.q5)(),h=(0,i.d4)(e=>e.dropdownShown),g=(null==h?void 0:h.type)===p.K.ASSETS_PANEL,f=n.useCallback(()=>{g||(0,c.wr)()},[g]),E=n.useCallback((e,t)=>{null==r||r(e,t),s&&m(s,null==_?void 0:_.key,(null==_?void 0:_.teamId)??void 0,(null==_?void 0:_.parentOrgId)??void 0)},[r,null==_?void 0:_.key,null==_?void 0:_.parentOrgId,null==_?void 0:_.teamId,s]);return n.createElement(l.P,{...a,className:"asset_panel_shared_components--scrollContainer--YbltE",onScroll:E},n.createElement(o.D8,{onMouseUp:f,recordingKey:"componentsListContainer",dataTestId:"asset-panel-scroll-container"},t))}function h({title:e}){return n.createElement("div",{className:"asset_panel_shared_components--sectionHeader--URtCn"},e)}function g({height:e}){return n.createElement("div",{style:{height:e}})}function f(){return n.createElement("div",{className:"asset_panel_shared_components--divider--II5X3"})}},623680:(e,t,r)=>{"use strict";r.d(t,{Cg:()=>E,S5:()=>p,wV:()=>f,xc:()=>y});var n=r(411855),i=r(358145),a=r(374626),o=r(940596),l=r(799550),s=r(721910),c=r(905485),d=r(606624),u=r(858855),p=(e=>(e[e.Libraries=0]="Libraries",e[e.Pages=1]="Pages",e[e.Assets=2]="Assets",e[e.Search=3]="Search",e[e.Recents=4]="Recents",e))(p||{});let m=(0,o.rt)({}),_=(0,o.rt)(!1),h=(0,o.rt)(!1),g=e=>(e=>{let{currentView:t,libraryKey:r,pageId:n,folderPath:i}=e;switch(t){case 0:if(r||n||i)return!1;break;case 1:if(!r||n||i)return!1;break;case 2:if(!r||!n)return!1}return!0})(e)?e:{currentView:0,libraryKey:void 0,pageId:void 0,folderPath:void 0};function f(){let{libraryKey:e,pageId:t,folderPath:r,currentView:o,setNavigationState:s,clearNavigationState:p,setIsSearching:f,setIsViewingRecents:b}=function(){let[e,t]=(0,a.fp)(m),[r,i]=(0,a.fp)(_),[o,s]=(0,a.fp)(h),{setLastNavAction:c}=(0,d.ZX)(),{libraryKey:u,pageId:p,folderPath:f}=e,[E]=(0,l.ye)(),y=E?f:void 0,b=n.useCallback(({libraryKey:e,pageId:r,folderPath:n})=>{t({libraryKey:e,pageId:r,folderPath:n})},[t]),v=n.useCallback(()=>{c(d.r6.Back),o&&s(!1),t({})},[c,o,t,s]),I=n.useMemo(()=>r?3:o?4:u?p?2:1:0,[r,o,u,p]);return{...n.useMemo(()=>g({currentView:I,libraryKey:u,pageId:p,folderPath:y}),[I,y,u,p]),setNavigationState:b,clearNavigationState:v,setIsViewingRecents:s,setIsSearching:i}}(),{getLibrary:v,getPage:I,getFolder:T}=(0,c.G)(),{setLastNavAction:S,lastActionWasBackSwipe:w}=(0,d.ZX)(),A=(0,u.q)(),C=n.useMemo(()=>g({currentView:o,libraryKey:e,pageId:t,folderPath:r}),[o,e,t,r]),N=(0,i.qd)(C),O=n.useCallback(e=>(p(),S(d.r6.Back,e),!0),[p,S]),[L,R]=n.useMemo(()=>{if(!e)return[!1,!1];let n=v(e);if(!n)return[!1,!1];let i=I(e,t);return i?[!!E(n),!!y(i.assets)&&!!r]:[!1,!1]},[r,v,I,e,t]),{navigateToLibrary:P,navigateToPage:k,navigateToPath:D}=n.useMemo(()=>{let r=(e,t=d.r6.Forward,r)=>{let i=v(e);if(A(e))return s({libraryKey:e}),!0;if(!i)return!1;if(1===i.pages.size){let[a]=Array.from(i.pages.keys());return t===d.r6.Forward?n(a,e,t,r):O(r)}return S(t,r),4===o&&b(!1),s({libraryKey:e}),!0},n=(t,n=e,a=d.r6.Forward,l)=>{let c=I(n,t);if(!c||!n)return!1;let u=y(c.assets);return u?a===d.r6.Forward?i([u.name],t,n,a,l):r(n,d.r6.Back,l):(S(a,l),4===o&&b(!1),s({libraryKey:n,pageId:t}),!0)},i=(r,a=t,o=e,l=d.r6.Forward,c)=>{if(!r||0===r.length)return!!a&&n(a,o,l,c);let u=T(o,a,r);if(!u)return!1;let p=y(u);return p?l===d.r6.Forward?i([...r,p.name],a,o,l,c):i(r.slice(0,-1),a,o,d.r6.Back,c):(S(l,c),s({libraryKey:o,pageId:a,folderPath:r}),!0)};return{navigateToLibrary:r,navigateToPage:n,navigateToPath:i}},[o,T,v,I,e,O,t,b,S,s,A]),M=n.useCallback(e=>D([...r??[],e]),[r,D]),x=n.useCallback(n=>{switch(S(d.r6.Back,n),o){case 3:return f(!1),!0;case 4:return b(!1),!0;case 2:if(r&&r.length>0)return D(r.slice(0,-1),t,e,d.r6.Back,n);return P(e,d.r6.Back,n);case 1:return O(n)}return!1},[o,r,e,P,D,O,t,f,b,S]),F=n.useCallback(n=>!!e&&!!t&&(-1===n?k(t,e,d.r6.Back):!!r&&!(n>=r.length)&&D(r.slice(0,n+1),t,e,d.r6.Back)),[r,e,k,D,t]),U=n.useCallback(()=>{S(d.r6.Forward),b(!0)},[S,b]),B=n.useCallback(()=>{S(d.r6.Forward),f(!0)},[S,f]),H=n.useCallback(()=>{if(N&&w){let{currentView:e,...t}=N;S(d.r6.Forward),s(t),4===e?b(!0):b(!1)}},[w,N,b,S,s]);return{...g({currentView:o,libraryKey:e,pageId:t,folderPath:r}),isCurrentlySkippingPage:L,isCurrentlySkippingFirstFolder:R,onBack:x,navigateBackToPathIndex:F,navigateToLibrary:P,navigateToPage:k,navigateToFolder:M,navigateToPath:D,navigateToRecents:U,navigateToTop:O,startSearch:B,forwardSwipe:H}}function E(e){return 1===e.pages.size?Array.from(e.pages.values())[0]:void 0}function y(e){if(e.key===s.Mk&&1===e.subtrees.size&&0===e.items.length){let t=Array.from(e.subtrees.values())[0];return t.name.toLowerCase()===e.name.toLowerCase()?t:void 0}}},858855:(e,t,r)=>{"use strict";r.d(t,{U:()=>u,q:()=>p});var n=r(411855),i=r(188507),a=r(966712),o=r(335682),l=r(416095),s=r(336599),c=r(58032),d=r(233333);function u(){let e=(0,c.je)(),t=(0,i.d4)(e=>e.fileVersion),r=(0,i.d4)(e=>e.loadingState);return!!(0,d.D)()&&(!e.data||!t||e.data.some(e=>{let n=(0,l.Mb)(e.fileKey,t);return!(0,s.D2)(r,n)}))}function p(){let e=(0,i.d4)(e=>e.fileVersion),t=(0,i.d4)(e=>e.loadingState),r=(0,o.tS)(),c=(0,d.D)();return n.useCallback(n=>{if(!n)return!1;if(!e)return!0;if(r===n)return!1;if(!(0,a.kc)().dse_new_asset_panel_fetch)return c;let i=(0,l.Mb)(n,e);return!(0,s.D2)(t,i)&&!(0,l.hH)(n)},[r,e,t,c])}},799550:(e,t,r)=>{"use strict";r.d(t,{$H:()=>o,MA:()=>d,Pv:()=>s,Zi:()=>l,ye:()=>m});var n=r(411855),i=r(374626),a=r(286640),o=(e=>(e.LIST="list",e.GRID="grid",e))(o||{});let l="assets-panel-view-mode-v2",s="grid",c=(0,i.E3)(l,s);function d(){let[e,t]=(0,i.fp)(c),r=n.useCallback(e=>e.key===l&&null!=e.newValue,[]),o=n.useCallback(r=>{if(r)try{let n=JSON.parse(r);("grid"===n||"list"===n)&&e!==n&&t(n)}catch(e){}},[e,t]);return(0,a.tl)({onSync:o,shouldSyncValue:r}),[e,t]}let u="asset-panel-show-folders",p=(0,i.E3)(u,!0);function m(){let[e,t]=(0,i.fp)(p),r=n.useCallback(e=>e.key===u&&null!=e.newValue,[]),o=n.useCallback(r=>{if(r)try{let n=JSON.parse(r);"boolean"==typeof n&&e!==n&&t(n)}catch(e){}},[e,t]);return(0,a.tl)({onSync:o,shouldSyncValue:r}),[e,t]}},538408:(e,t,r)=>{"use strict";r.d(t,{U5:()=>a,nU:()=>i,o7:()=>n});let n="root",i=40,a=300},507662:(e,t,r)=>{"use strict";r.d(t,{T:()=>S,lN:()=>w});var n=r(411855),i=r(188507),a=r(737947),o=r(320063),l=r(672517),s=r(819229),c=r(694687),d=r(428467),u=r(707465),p=r(134200),m=r(239671),_=r(173454),h=r(237870),g=r(638525),f=r(682931),E=r(260357),y=r(269842),b=r(715762),v=r(157630),I=r(730598);let T=n.memo(function({initialTab:e,teamId:t,initialUpdatesModalScope:r,entrypoint:d}){let p=(0,i.d4)(e=>e.selectedView),_=(0,i.d4)(e=>(0,u.IE)(e)),h=(0,i.d4)(e=>e.openFile),g=(0,c.sZ)(),f=new URLSearchParams(a.Ay.location.search).get("teamToMoveFileToOnNavigate"),y=(0,s.R)();return(0,o.h)(()=>{y({updateSource:"library_modal_open"})}),n.createElement(l.fu,{name:"Library Preference Modal",properties:{fileKey:null==h?void 0:h.key,fileTeamId:null==h?void 0:h.teamId,teamId:"team"===p.view&&p.teamId,orgId:null==g?void 0:g.id,inPublishDraftExp:!!f,entryPoint:d}},_?n.createElement(A,null):"fullscreen"===p.view&&p.editorType!==m.nT.Whiteboard?n.createElement(E.B,{entrypoint:d,initialTab:e,initialUpdatesModalScope:r}):"team"===p.view?n.createElement(C,{initialTab:e,teamId:p.teamId}):t?n.createElement(C,{initialTab:e,teamId:t}):void 0)}),S=(0,h.Ju)(T,_.cX),w=(0,h.Ju)(function({entrypoint:e}){return n.createElement(T,{initialTab:_.Wv.FONTS,entrypoint:e})},_.EJ);function A(){let e=(0,b.Dl)();return n.createElement(y.s,{width:e,title:n.createElement(I.c,{availableTabs:[_.Wv.LIBRARIES],selectedTab:_.Wv.LIBRARIES})},n.createElement(v.Z,null,n.createElement(g.s,{showingDefaultSubscriptionsForUser:!0,showingDefaultSubscriptionsForTeamId:null,width:e})))}function C({initialTab:e,teamId:t}){let r=(0,i.wA)(),a=(0,i.d4)(e=>e.sharedFonts),o=(0,i.d4)(e=>(0,p.p)(e)),l=(0,i.d4)(e=>(0,d.canAdminOrg)(e.currentUserOrgId,e)),s=(0,d.usePermissionsState)(),c=n.useMemo(()=>{let e=[_.Wv.LIBRARIES];return o&&e.push(_.Wv.FONTS),e},[o]),{selectedTab:u,setSelectedTab:m}=(0,b.SE)(c,e),h=(0,b.Dl)(o);return n.createElement(y.s,{width:h,title:n.createElement(I.c,{availableTabs:c,selectedTab:u,setSelectedTab:m})},n.createElement(v.Z,{showSharedFonts:o},u===_.Wv.LIBRARIES&&n.createElement(g.s,{showingDefaultSubscriptionsForTeamId:t,showingDefaultSubscriptionsForUser:!1,width:h}),u===_.Wv.FONTS&&n.createElement(f.y,{dispatch:r,teamId:t,width:h,resourceType:"team",useModalViewComponent:!0,canAdminOrg:l,permissionsState:s,sharedFonts:a})))}},398529:(e,t,r)=>{"use strict";r.d(t,{RV:()=>f,fM:()=>h});var n=r(411855),i=r(188507),a=r(966712),o=r(493323),l=r(574176),s=r(939863),c=r(830445),d=r(318812),u=r(291829),p=r(538697),m=r(326085),_=r(618208);function h({variableSet:e,modeDropdownStyle:t,entity:r,defaultModeId:a,isLibraryFileEnabled:o,fileKeyOrHubFileId:l}){var c,m;let _=(0,i.wA)(),h=(0,d.U)(),f="auto_inherit_mode_string",E=e.modes?e.modes[0].name:"",y=n.useMemo(()=>({name:(0,s.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:E}),id:f}),[E]),b=a?null==(c=e.modes)?void 0:c.find(e=>e.id===a):y,[v,I]=(0,n.useState)(b),T=n.useMemo(()=>{var t;return(null==v?void 0:v.id)===f?y:null==(t=e.modes)?void 0:t.find(e=>e.id===(null==v?void 0:v.id))},[e,v,y]),S=n.useCallback(t=>{I(t),t.id===f?u.j.deleteDefaultMode({fileKeyOrHubFileId:l,entityType:r.entityType,entityId:r.entityId,variableSetKey:e.key}):u.j.setDefaultMode({fileKeyOrHubFileId:l,entityType:r.entityType,entityId:r.entityId,variableSetKey:e.key,defaultModeId:t.id}).catch(e=>{I(v)})},[v,l,r.entityType,r.entityId,e.key]);return e.modes&&1!==e.modes.length&&r&&b?n.createElement(p.l6,{id:`subscription-dropdown-${e.id}`,property:T,dispatch:_,dropdownShown:h,onChange:S,formatter:g,dropdownWidth:150,className:t,disabled:!o,dataTestId:`mode-dropdown-${e.id}`},n.createElement(p.c$,{value:y},(0,s.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:E})),n.createElement(p.sK,null),null==(m=e.modes)?void 0:m.map(e=>n.createElement(p.c$,{key:e.id,value:e},g.format(e)))):n.createElement("div",{className:t})}let g={format:e=>e.name};function f({forBestMatches:e,variableSets:t,shouldDisplayDefaultModeDropdown:r,fileKey:i,hubFileId:d,entity:p,isLibraryFileEnabled:g}){let[f,E]=(0,n.useState)({}),[y,b]=(0,n.useState)(!1),v=n.useMemo(()=>{let e=i||d;if(e)return(0,c.ee)(e,i?"fileKey":"hubFileId")},[i,d]);if(!t||0===t.length)return null;r&&(r=t.some(e=>e.modes&&e.modes.length>1));let I=(0,a.kc)().ds_workspace_team_default_modes&&!y&&r&&p&&v;return(I&&u.j.getDefaultModes({fileKeyOrHubFileId:v,entityType:p.entityType,entityId:p.entityId}).then(e=>{E(e.data.meta),b(!0)}).catch(()=>{b(!0)}),I)?n.createElement(o.qc,null):n.createElement("div",null,!e&&n.createElement("div",{className:m.wx},n.createElement("div",{className:m.Pf},n.createElement(s.Tx,{id:"design_systems.libraries_modal.header_variable_collections"})),(0,a.kc)().ds_workspace_team_default_modes&&r&&n.createElement("div",{className:m.Pf},n.createElement(s.Tx,{id:"design_systems.libraries_modal.header_default_mode"}))),n.createElement("div",{className:e?m.VN:m.iE},t.map(t=>n.createElement("div",{className:m.nk,key:t.id},e?n.createElement(n.Fragment,null,n.createElement(l.B,{className:m.oS,svg:_.A}),n.createElement("span",{className:m.UU},t.name),t.numVariableMatches&&n.createElement("span",{className:m.K0},n.createElement(s.Tx,{id:"design_systems.libraries_modal.plural.num_variable_match",numVariables:t.numVariableMatches}))):n.createElement("div",{className:m.kW},n.createElement("span",{className:m.UU},t.name),r&&p&&v&&(0,a.kc)().ds_workspace_team_default_modes&&n.createElement(h,{variableSet:t,modeDropdownStyle:m.nI,fileKeyOrHubFileId:v,entity:p,defaultModeId:f[t.key],isLibraryFileEnabled:g})||n.createElement("div",{className:m.nI}),n.createElement("span",{className:m.K0},n.createElement(s.Tx,{id:"design_systems.libraries_modal.plural.num_variables",numVariables:t.numVariables})))))))}},13678:(e,t,r)=>{"use strict";r.d(t,{dD:()=>el});var n=r(411855),i=r(188507),a=r(939683),o=r(358145),l=r(966712),s=r(374626),c=r(498750),d=r(586459),u=r(572174),p=r(563706),m=r(776621),_=r(799569),h=r(999251),g=r(607283),f=r(493323),E=r(32863),y=r(939863),b=r(944682),v=r(738269),I=r(876401),T=r(662275),S=r(782656),w=r(672517),A=r(289104),C=r(226055),N=r(974105),O=r(44892),L=r(535217),R=r(417511),P=r(112825),k=r(25108),D=r(384319),M=r(852800),x=r(848661),F=r(869156),U=r(335682),B=r(694687),H=r(416095),V=r(99506),G=r(284321),W=r(173454),K=r(81182),Y=r(237870),j=r(908968),z=r(488578),$=r(227838),Z=r(462524),q=r(129975),J=r(965200),X=r(734799),Q=r(464331),ee=r(388284),et=r(809455),er=r(183825),en=r(8699),ei=r(490776),ea=r(440965),eo=r(843274);let el=(0,Y.Ju)(function(e){return n.createElement(w.fu,{name:"Publishing Modal",properties:{entryPoint:e.entrypoint}},n.createElement(J.fo,null,n.createElement(es,{...e})))},"PublishingModal");function es({timedOut:e,initiallyCheckedItemIDs:t}){var r,h;let g=(0,C.GS)(),[w,x]=(0,s.fp)(Z.pz),Y=(0,U.q5)(),en=(0,i.d4)(e=>e.library),ei=(0,i.d4)(G.cM),el=(0,i.d4)(G.MH),es=(0,i.d4)(G.dM),ed=(0,F.nN)(),{modeLimit:ep,canShowCTA:em,showCTA:e_}=(0,$.ze)("publishing"),eh=(0,i.wA)(),eg=(0,i.d4)(e=>e.savedPublishDescription),ef=(0,i.d4)(G.fA),eE=null==(r=(0,B.sZ)())?void 0:r.id,ey=(0,i.d4)(e=>e.orgById),eb=(0,i.d4)(N.d1),[ev,eI]=n.useState(""),[eT,eS]=n.useState(eg||""),ew=(0,U.Cq)({useSinatraType:!0}),[eA,eC]=n.useState((0,K.Y)(ew||null)),[eN,eO]=n.useState(null),eL=n.useContext(J.og),eR=n.useMemo(()=>(0,O.Jl)(el),[el]),eP=(0,J.UJ)(),ek=(0,J.Xm)(),eD=(0,i.d4)(e=>(0,G.Kb)(e,ek)),eM=(0,o.ZC)(eL);n.useEffect(()=>{(null==eM?void 0:eM.status)===d.r.LOADING&&eL.status===d.r.SUCCESS&&(t||eF(new Set(eD)))},[eD,eL,t,null==eM?void 0:eM.status]);let[ex,eF]=n.useState(()=>new Set(t&&t.size>0?eD.filter(e=>null==t?void 0:t.has(e)):eD)),[eU,eB]=n.useState(!1),[eH,eV]=n.useState(null);n.useEffect(()=>{let e=e=>{"Shift"===e.key&&eB(!0)},t=e=>{"Shift"===e.key&&eB(!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]);let eG=n.useCallback(()=>{en.publishProgress.state===W.Qx.ASSEMBLING_COMPONENTS&&eh(I.TS())},[eh,en.publishProgress.state]),eW=n.useCallback(()=>{eG(),x(W.o.LIBRARY),eh(T.Ce())},[eh,x,eG]);n.useEffect(()=>{en.publishProgress.state===W.Qx.UPLOADING&&eW()},[eW,en.publishProgress.state]);let eK=(0,o.ZC)(en),eY=(0,o.ZC)(eD);n.useEffect(()=>{if(eK&&eY&&eK!==en){if(eV(null),eY.every(e=>ex.has(e))){eF(new Set(eD));return}eF(new Set(eD.filter(e=>ex.has(e))))}},[eD,ex,en,eR,eP,Y,eY,eK]),(0,F.SR)();let ej=(0,i.d4)(e=>(0,G.bd)(e,ek)),ez=n.useCallback(e=>{let t=[...ej.variableSets.modified.wellFormed,...ej.styles.modified.wellFormed,...ej.productComponents.modified.wellFormed].map(e=>e.node_id),r=t.indexOf(e);if(null===r)return;let n=new Set(ex),i=!n.has(e);if(eU&&null!==eH){let e=Math.min(r,eH),a=Math.max(r,eH);for(let r=e;r<=a;r++)i?n.add(t[r]):n.delete(t[r])}else i?n.add(e):n.delete(e);eF(n),eV(r)},[ex,eH,ej,eU]),e$=n.useCallback(()=>{eD.length===ex.size?eF(new Set):eF(new Set(eD))},[eD,ex.size]),eZ=n.useCallback((e,t)=>{eL.status===d.r.SUCCESS&&eL.nodeIdToValidatedMoveInfo[e]&&(eL.nodeIdToValidatedMoveInfo[e].publishType=t)},[eL]),eq=(0,i.d4)(e=>(0,G.oB)(e,ek)),eJ=(0,i.d4)(e=>(0,G.JI)(e,ek)),eX=(0,i.d4)(e=>(0,G.Dc)(e,ek)),eQ=n.useCallback(()=>{let e=en.used__LIVEGRAPH.localNodeIdToDestinationKey;if(!Object.keys(en.movedLibraryItems.local).length&&!Object.keys(e).length)return;let t=eJ.filter(e=>!!en.movedLibraryItems.local[e.node_id]&&e.status!==W.E8.DELETED&&ex.has(e.node_id)).map(e=>e.node_id),r=new Set(t);for(let n of[...t,...eq.filter(e=>{var t,n;let i=null==(n=null==(t=e.containing_frame)?void 0:t.containingStateGroup)?void 0:n.nodeId,a=i&&es[i]||null;return!(!en.movedLibraryItems.local[e.node_id]||e.status===W.E8.DELETED||a&&((0,H.zE)(a)||r.has(a.node_id)))&&ex.has(i||e.node_id)}).map(e=>e.node_id),...eX.filter(t=>!!e[t.node_id]&&t.status!==W.E8.DELETED&&ex.has(t.node_id)).map(e=>e.node_id)]){let e=M.glU.generatePublishableCopy(n);e&&ex.has(n)&&(ex.delete(n),ex.add(e))}},[ex,es,en.used__LIVEGRAPH.localNodeIdToDestinationKey,en.movedLibraryItems.local,eq,eJ,eX]),e0=(0,P.B)(),e1=(0,a.U)(),e2=(0,i.d4)(G.pR),e3=n.useCallback(e=>{let t;if(eb&&e2){if(eE){let e=(0,K.Y)(eb);if(eA&&!e||!eA&&e){let t={link_access:V.PQ.ORG_VIEW,org_browsable:eA};(0,l.kc)().wslp_exploratory_logging&&e1("Publish Scope Change Updates File Share Settings",{oldOrgBrowsable:e,oldLinkAccess:eb.link_access,oldOrgPublished:e,newOrgBrowsable:t.org_browsable,newLinkAccess:t.link_access,newOrgPublished:t.org_browsable}),eb.file_repo_id?eh(S.yJ({repo:{id:eb.file_repo_id,...t},userInitiated:!0})):eh(b.yJ({file:{key:eb.key,...t},userInitiated:!0}))}}for(let e of ex){let t=ed[e];if((0,u.Vq)(t)&&t.modes.length>ep){em(t.modes.length)?e_():(0,m.x1)("designSystems publishing","Blocking publishing of variable collection with too many modes, but upsell is not available",{collectionId:e});return}}if(eL.status===d.r.SUCCESS){let e=Object.keys(eL.nodeIdToValidatedMoveInfo).filter(e=>ex.has(e)&&"MOVE"===eL.nodeIdToValidatedMoveInfo[e].publishType),r=[...Object.values(el),...Object.values(es),...Object.values(ei)].reduce((e,t)=>(eL.nodeIdToValidatedMoveInfo[t.node_id]&&t.old_key&&(e[t.node_id]=t.old_key),e),Object.create(null)),n=eq.filter(H.ad);t=(0,H.Cj)(e,r,n)}eQ(),eh(I.ZS({savepointDescription:eT,itemsToPublish:ex,moveInformation:t,hubFileId:e||void 0,firstDraftVariablesForTheme:e0}))}},[eb,e2,eE,eL,eQ,eh,eT,ex,eA,ed,ep,em,e_,el,es,ei,eq,e0,e1]),e5=n.useCallback(e=>{if(!eb)return;let t=p.Ay.mac?e.metaKey:e.ctrlKey;e.keyCode===c.Uz.ENTER&&t&&(e3(),e.preventDefault(),e.stopPropagation())},[eb,e3]),e4=n.useCallback(e=>{eS(e.target.value)},[]),e8=n.useCallback(e=>{eC(e),eh(v.oB())},[eh]),e6=!!(null==eb?void 0:eb.starter_library_src_file_key),e7=n.useMemo(()=>{let e=0;return Object.values(eR).forEach(t=>{e6?(0,H.lg)(t.status)&&e++:(0,H.Hb)(t.status)&&e++}),Object.values(es).forEach(t=>{e6?(0,H.lg)(t.status)&&e++:(0,H.Hb)(t.status)&&e++}),e},[e6,es,eR]),e9=(0,A.JT)(),te=n.useMemo(()=>{let e=e=>Object.values(e).some(e=>e.status===W.E8.NEW);return!!(ef&&e(eR)||ef&&e(es)||e(ei))},[ef,es,ei,eR]),{localKits:tt}=(0,k.Ml)(),tr=(0,R.C)((null==(h=tt[0])?void 0:h.dsKitKey)||null,[L.x.WARNING]),tn=(0,i.d4)(G.Mh),ti=(0,i.d4)(G.Pd),{invalidExampleIds:ta,isPublishingInvalidExamples:to}=(0,Q.c)({modifiedComponents:ej.productComponents.modified.wellFormed,modifiedStateGroups:ej.stateGroups.modified.wellFormed,publishedHubFileComponents:tn,publishedHubFileStateGroups:ti,itemsToPublish:ex,publishingMode:w}),tl=n.useMemo(()=>!!(0,l.kc)().first_draft_publish_ux&&(tt.length>1||"error"===(0,R.O)(tr))||to,[to,tr,tt]);if(!eb)return null;if(eL.status===d.r.LOADING)return n.createElement(z.aF,{size:480,title:w===W.o.HUBFILE?n.createElement(y.Tx,{id:"design_systems.publishing_modal.modal_header_community_library"}):n.createElement(y.Tx,{id:"design_systems.publishing_modal.modal_header"}),titleClassName:eo.GK,className:eo.vn,onKeyDown:e5,onHide:eG},n.createElement(f.kt,{className:eo.S}));let ts=null==Y?void 0:Y.team,tc=ek&&Object.keys(ek).some(e=>!!ex.has(e)&&!ei[e]&&"MOVE"===ek[e].publishType),td=ej.productComponents.modified.wellFormed.length,tu=ej.styles.modified.wellFormed.length,tp=ej.variableSets.modified.wellFormed.length,tm=(0,l.u4)("dse_editor_templates_v1",ej.modules.modified.wellFormed.length,0);return n.createElement(z.aF,{size:480,title:w===W.o.HUBFILE?n.createElement(y.Tx,{id:"design_systems.publishing_modal.modal_header_community_library"}):n.createElement(y.Tx,{id:"design_systems.publishing_modal.modal_header"}),titleClassName:eo.GK,className:eo.vn,onKeyDown:e5,onHide:eG,"data-testid":"publishing-modal"},n.createElement(_.s_,{dispatch:eh,onClose:()=>{x(W.o.LIBRARY)},customStyle:g?{top:8,right:12}:{top:6,right:6}}),n.createElement("div",{className:eo.Kl},n.createElement("div",{className:eN?eo.Ye:eo.dJ},n.createElement("div",{className:eo.YT},n.createElement(q.l,null),g?n.createElement("div",{className:eo.PP},n.createElement(E.IW,{focusOnMount:!1,query:ev,clearSearch:()=>eI(""),onChange:eI,recordingKey:"publishingModalSearchBar",withUI3Icon:!0,smallFont:!0,hasTransparentBackground:!0})):n.createElement(E.Lp,{className:eo.vD,focusOnMount:!1,query:ev,clearSearch:()=>eI(""),onChange:eI,recordingKey:"publishingModalSearchBar"}),!ev&&n.createElement("div",{className:eo.iQ},n.createElement(j.v,{className:eo.Bl,placeholder:(0,y.t)("design_systems.publishing_modal.description_placeholder"),value:eT,onChange:e4,dir:"auto"}))),n.createElement(ec,{itemsToPublish:ex,onLibraryItemRowCheckboxToggle:ez,onTogglePublishAll:e$,setItemsToPublish:eF,onChangeMoveOptionForItem:eZ,assetQuery:ev,showVariableCollectionOverview:eO,invalidAssetIds:ta}),!eE&&!ef&&e7>0&&n.createElement(eu,{numComponentsToUpsell:e7,isStarterLibrary:e6,team:ts}),tc&&n.createElement(ee.F,null),e&&n.createElement(er.r,null),to&&n.createElement(et.K,null),n.createElement(X.C,{publishedHubFile:e9,setAllowOrgAccess:e8,hasItemsToPublish:0!==ex.size,canPublishComponentsAndStateGroups:ef,org:eE?ey[eE]:null,publishProgress:en.publishProgress,numModifiedAssets:tp+tu+td+tm,firstDraftValidationStatus:(0,R.O)(tr),hasNewLibraryItems:te,closeModal:eW,editingFile:eb,publish:e3,disablePublishButton:tl}),n.createElement(D.o,null)),eN&&n.createElement("div",{className:eo.dJ},n.createElement(ea.Q,{variableCollection:eN.variableCollection,view:eN.view,drillUp:()=>eO(null)}))))}function ec(e){let[t,r]=n.useState(!1),a=()=>{r(!t)},[o,s]=n.useState(!1),c=()=>{s(!o)},[d,u]=n.useState(!1),p=()=>{u(!d)},m=(0,J.Xm)(),_=(0,J.UJ)(),f=(0,i.d4)(e=>(0,G.bd)(e,m)),[E,b,v,I,T,S,w,A,C,N,O,L,R,P,k,D]=n.useMemo(()=>[f.variableSets.modified.wellFormed,f.variableSets.modified.erroneous,f.variableSets.unmodified.published,f.variableSets.unmodified.unpublished,f.variableSetsWithHiddenVariables.modified.wellFormed,f.modules.modified.wellFormed,f.modules.modified.erroneous,f.modules.unmodified.published,f.modules.unmodified.unpublished,f.styles.modified.wellFormed,f.styles.unmodified.published,f.styles.unmodified.unpublished,f.productComponents.modified.wellFormed,f.productComponents.modified.erroneous,f.productComponents.unmodified.published,f.productComponents.unmodified.unpublished].map(t=>e.assetQuery?t.filter(t=>t.name.toLocaleLowerCase().trim().includes(e.assetQuery.toLocaleLowerCase())):t),[f.productComponents.modified.erroneous,f.productComponents.modified.wellFormed,f.productComponents.unmodified.published,f.productComponents.unmodified.unpublished,f.modules.modified.wellFormed,f.modules.modified.erroneous,f.modules.unmodified.published,f.modules.unmodified.unpublished,f.styles.modified.wellFormed,f.styles.unmodified.published,f.styles.unmodified.unpublished,f.variableSets.modified.wellFormed,f.variableSets.modified.erroneous,f.variableSets.unmodified.published,f.variableSets.unmodified.unpublished,f.variableSetsWithHiddenVariables.modified.wellFormed,e.assetQuery]),M=n.useMemo(()=>new Set(N.concat(E).concat(R).concat((0,l.u4)("dse_editor_templates_v1",S,[])).map(e=>e.node_id)),[E,R,N,S]),F=E.length>0||I.length>0||T.length>0,U=(0,i.d4)(G.Wz),B=(t,r,i,a)=>{for(let o of t){let t=null==m?void 0:m[o.node_id],l=!1;if(o.type===W.PW.STATE_GROUP){let e=!t||"FORCED_COPY"===t.publishType,r=(U[o.node_id]??[]).some(e=>_.has(e.node_id));l=e&&r}let s=n.createElement(en.v,{key:o.node_id,libraryItem:o,includeLeftAccessory:i,isChecked:e.itemsToPublish.has(o.node_id),onCheckBoxToggle:e.onLibraryItemRowCheckboxToggle,onChangeMoveOptionForItem:e.onChangeMoveOptionForItem,moveInfo:(0,H.Hb)(o.status)&&t||null,isUnmovableStateGroupWithMovableState:l,showVariableCollectionOverview:e.showVariableCollectionOverview,isVariableSetWithPrivateVariables:a,hasChangedVariables:F,isInvalid:e.invalidAssetIds.has(o.node_id)}),c=a?"-hiddenVariables":"";V(s,`library-item-row-${o.node_id}${c}`,46,r)}},V=(e,t,r,n)=>{let i=g.oz.getNextRenderedElementTop(n);n.push({parent:null,type:g.zq.ROW,top:i,element:e,key:t,height:r,sectionNameForTracking:void 0})},K=(()=>{let r=[],i=E.length+N.length+R.length+(0,l.u4)("dse_editor_templates_v1",S.length,0),s=v.length+O.length+k.length+(0,l.u4)("dse_editor_templates_v1",A.length,0),u=I.length+D.length+L.length+T.length+(0,l.u4)("dse_editor_templates_v1",C.length,0),m=P.length+b.length+(0,l.u4)("dse_editor_templates_v1",w.length,0);m&&(V(n.createElement(ei.Zq,{header:n.createElement(y.Tx,{id:"design_systems.publishing_modal.invalid_components_with_count",countString:n.createElement(ei.y_,{count:m})}),caretToggle:{isExpanded:d},onClick:p}),"erroneous",32,r),d&&(B(P,r,en.o.TARGET),(0,l.kc)().dse_editor_templates_v1&&B(w,r),B(b,r)));let _=e.assetQuery?[...e.itemsToPublish].filter(e=>M.has(e)):[...e.itemsToPublish],h=e.assetQuery?[...e.itemsToPublish].filter(e=>!M.has(e)):[],g=_.length;if(i){let t;if(t=g===i||g>0&&g<i&&x.oV,V(n.createElement(ei.D3,{header:n.createElement(y.Tx,{id:"design_systems.publishing_modal.changes_header_with_count",countString:n.createElement(ei.y_,{count:g,total:i})}),checkboxValue:t,onClick:()=>{e.assetQuery?i===g?e.setItemsToPublish(new Set(h)):e.setItemsToPublish(new Set([...e.itemsToPublish,...M])):e.onTogglePublishAll()}}),"changed:header",32,r),E.length>0&&V(n.createElement("div",{className:eo.et},n.createElement(y.Tx,{id:"design_systems.publishing_modal.variable_collections"})),"variableSet:header",32,r),B(E,r,en.o.CHECKBOX),(0,l.kc)().dse_templates_proto){let e=R.filter(H.Fl);e.length>0&&(V(n.createElement("div",{className:eo.et},n.createElement(y.Tx,{id:"design_systems.publishing_modal.templates"})),"templates:header",32,r),B(e,r,en.o.CHECKBOX))}(0,l.kc)().dse_editor_templates_v1&&S.length>0&&(V(n.createElement("div",{className:eo.et},n.createElement(y.Tx,{id:"design_systems.publishing_modal.templates"})),"templates:header",32,r),B(S,r,en.o.CHECKBOX)),N.length>0&&V(n.createElement("div",{className:eo.et},n.createElement(y.Tx,{id:"design_systems.publishing_modal.styles"})),"styles:header",32,r),B(N,r,en.o.CHECKBOX),R.length>0&&V(n.createElement("div",{className:eo.et},n.createElement(y.Tx,{id:"design_systems.publishing_modal.components"})),"components:header",32,r),(0,l.kc)().dse_templates_proto?B(R.filter(e=>!(0,H.Fl)(e)),r,en.o.CHECKBOX):B(R,r,en.o.CHECKBOX)}return s&&(V(n.createElement(ei.Zq,{header:n.createElement(y.Tx,{id:"design_systems.publishing_modal.unchanged_header_with_count",countString:n.createElement(ei.y_,{count:s})}),caretToggle:{isExpanded:t},onClick:a}),"unchanged:header",32,r),t&&(B(v,r),B(O,r),B(k,r),(0,l.kc)().dse_editor_templates_v1&&B(A,r))),u&&(V(n.createElement(ei.Zq,{header:n.createElement(y.Tx,{id:"design_systems.publishing_modal.hidden_header_with_count",countString:n.createElement(ei.y_,{count:u})}),caretToggle:{isExpanded:o},onClick:c}),"private:header",32,r),o&&(V(n.createElement("div",{className:eo.m_},n.createElement(y.Tx,{id:"design_systems.publishing_modal.these_wont_be_published"})),"private:subheader",22,r),B(I,r),B(T,r,void 0,!0),B(L,r),B(D,r),(0,l.kc)().dse_editor_templates_v1&&B(C,r))),r})();return n.createElement(h.O,{scrollContent:K,isList:!0,recordingKey:"publishingModalLibraryList",getViewportHeight:e=>e-200,width:480,className:eo.jG,renderEmptyState:!K.length&&e.assetQuery?()=>n.createElement(ed,{assetQuery:e.assetQuery}):void 0})}function ed({assetQuery:e}){return n.createElement("div",{className:eo.VX},n.createElement(y.Tx,{id:"design_systems.publishing_modal.empty_search_result",assetQuery:e}))}function eu({numComponentsToUpsell:e,isStarterLibrary:t,team:r}){let i=r?n.createElement("a",{className:eo.nf,target:"_blank",rel:"noopener",href:`/files/upgrade-team/${r.id}`},n.createElement(y.Tx,{id:"design_systems.publishing_modal.upgrade_team"})):n.createElement("a",{className:eo.nf,target:"_blank",rel:"noopener",href:"/files/create-team"},n.createElement(y.Tx,{id:"design_systems.publishing_modal.create_a_professional_team"})),a=t?n.createElement(y.Tx,{id:"design_systems.publishing_modal.starter_library_upsell",numComponents:e}):n.createElement(y.Tx,{id:"design_systems.publishing_modal.standard_upsell",numComponents:e,teamUpsellLink:i});return n.createElement("div",{className:eo.UX,"data-testid":"libraryPublishModalUpsell"},a)}},611964:(e,t,r)=>{"use strict";r.d(t,{EH:()=>c,RR:()=>d,cw:()=>s});var n=r(411855),i=r(935283),a=r(939863),o=r(662275),l=r(173454);function s(e){switch(e){case l.E8.CHANGED:return n.createElement(a.Tx,{id:"design_systems.publishing_modal.modified"});case l.E8.CURRENT:return n.createElement(a.Tx,{id:"design_systems.publishing_modal.no_changes"});case l.E8.DELETED:return n.createElement(a.Tx,{id:"design_systems.publishing_modal.removed"});case l.E8.NEW:return n.createElement(a.Tx,{id:"design_systems.publishing_modal.added"});case l.E8.NOT_STAGED:return"";default:(0,i.xb)(e)}}function c(e,t){return o.to({type:{type:"PublishingModal"},data:{initiallyCheckedItemIDs:e,timedOut:t}})}var d=(e=>(e.ASSET_PANEL_LIBRARY_CONTEXT_MENU="asset_panel_library_context_menu",e.COMPONENT_PUBLISH_ERROR_NOTIFICATION="component_publish_error_notification",e.FILENAME_VIEW_DROPDOWN="filename_view_dropdown",e.FULLSCREEN_MOVE_COMPONENTS_PROMPT="fullscreen_move_components_prompt",e.FULLSCREEN_OTHER="fullscreen_other",e.LIBRARY_PREFERENCES_MODAL="library_preferences_modal",e.PROPERTIES_PANEL="properties_panel",e.PUBLISH_UPSELL_MODAL="publish_upsell_modal",e.UNPUBLISHED_PREFERRED_VALUES_WARNING="unpublished_preferred_values_warning",e.TEST="test",e))(d||{})},333370:(e,t,r)=>{"use strict";r.d(t,{KU:()=>f,Md:()=>T,Nr:()=>I,Pc:()=>m,QA:()=>y,Ug:()=>E,VB:()=>S,a2:()=>function e(t,r){t.styles.forEach(e=>{I(e,r)}),t.subfolders.forEach(t=>{e(t,r)})},dm:()=>g,h$:()=>b,l0:()=>u,lM:()=>c,mx:()=>_,rM:()=>v,t_:()=>p,wM:()=>d});var n=r(776250),i=r(935283),a=r(378905),o=r(852800),l=r(237929),s=r(173454);function c(e,t){let r={name:"",type:"STYLE_FOLDER",level:0,styles:[],subfolders:[],styleTypeSection:t};return e.forEach(e=>{let n=r,i=(0,l.ke)(e.name);i.pop(),i.forEach(e=>{let r=n.name?n.name+"/"+e:e,i=n.subfolders.find(e=>e.name===r);if(!i){let e={name:r,type:"STYLE_FOLDER",level:n.level+1,styles:[],subfolders:[],styleTypeSection:t};n.subfolders.push(e),i=e}n=i}),n.styles.push(e)}),r}function d(e){if(!e.length)return[];let t=c(e,e[0].style_type),r=[],n=e=>{e.styles.length>0&&r.push(e.name),e.subfolders.forEach(n)};return n(t),r}function u(e){let t=[...e.subfolders].reverse(),r=[...e.styles];for(;t.length>0;){let e=t.pop();e&&(r.push(e),r.push(...e.styles),t.push(...[...e.subfolders].reverse()))}return r}function p(e){return"STYLE_FOLDER"===e.type?e.name:e.node_id}function m(e){return e.split("/").filter(e=>e).map(e=>e.trim()).join("/")}function _(e,t){let r=t[e];if("STYLE_FOLDER"!==r.type)return[];let n=[];for(let[i,a]of t.slice(e+1).entries()){if("STYLE_FOLDER"===a.type&&a.level<=r.level)break;n.push(e+1+i)}return n}function h(e){return"STYLE_FOLDER"===e.type?e.name:(0,l.In)(e.name)}function g(e){return u(e).filter(e=>e.type===s.PW.STYLE)}function f(e){return u(e).filter(e=>"STYLE_FOLDER"===e.type)}function E(e){let t=[];return e.forEach(e=>{"STYLE_FOLDER"===e.type?t.push(...g(e)):t.push(e)}),t}function y(e,t){let r=b(e,t),n=[];return r.forEach(e=>{let r=t[e];r&&n.push(r)}),n}function b(e,t){let r=[],n=t.map(e=>e.type===s.PW.STYLE?e.node_id:null),i=t.map(e=>"STYLE_FOLDER"===e.type?e.name:null);return e.styleIds.forEach(e=>{let t=n.indexOf(e);-1!==t&&r.push(t)}),e.folderNames.forEach(e=>{let t=i.indexOf(e);-1!==t&&r.push(t)}),r.sort((e,t)=>e-t),r}function v(e){return e.type===s.PW.STYLE?(0,l.ke)(e.name).length:e.level}function I(e,t){(0,a.TK)(e,t)&&(o.glU.deleteNode(e.node_id),(0,n.sx)("Style Deleted",{styleType:e.style_type,from:"styleListContextMenu"}))}function T(e,t,r,n){if(!e&&!r||!t)return!1;let i=!n&&""!==n||"STYLE_FOLDER"===t.type&&r===t&&(null==e?void 0:e.type)===s.PW.STYLE&&v(e)>v(r)&&n!==(0,l.In)(t.name);return!(e===t||r===t&&(t.type===s.PW.STYLE||!i)||"STYLE_FOLDER"===t.type&&((null==e?void 0:e.type)===s.PW.STYLE&&(null==r?void 0:r.type)===s.PW.STYLE||(null==e?void 0:e.type)==="STYLE_FOLDER"&&(null==r?void 0:r.type)===s.PW.STYLE||e&&(h(e)+"/").startsWith(t.name+"/")||r&&(h(r)+"/").startsWith(t.name+"/")&&!i))}function S(e,t,r,n,a,d,p){if(e.forEach(e=>{(function(e,t){let r=e.filter(e=>e.type===s.PW.STYLE).map(e=>e.node_id),n=[];t.forEach(e=>{r.indexOf(e.node_id)>-1&&n.push(e)});let i=e[0],a=u(c(n,i.type===s.PW.STYLE?i.style_type:i.styleTypeSection)).filter(e=>e.type===s.PW.STYLE);for(let e=0;e<r.length;e++)if(r[e]!==a[e].node_id)return!0;return!1})(a=function(e,t){let r=new Set,n=new Set;for(let t of e)(t.type===s.PW.STYLE?[t]:(function e(t){let r=[];return t.styles.forEach(e=>{r.push(e)}),t.subfolders.forEach(t=>{r.push(t),r.push(...e(t))}),r})(t).concat([t])).forEach(e=>e.type===s.PW.STYLE?n.add(e.node_id):r.add(e.name));return t.filter(e=>"STYLE_FOLDER"===e.type?!r.has(e.name):!n.has(e.node_id))}([e],a),d)&&(d=w(e,a,d))}),!a)return;let m=new Set(e.map(e=>"STYLE_FOLDER"===e.type||p?function(e,t,r,n){if(!e)return n.some(e=>e.type===s.PW.STYLE&&""===(0,l.In)(e.name))?null:-1;if(!t)return r.length-1;let a=r.map(e=>e.node_id);if(e.type===s.PW.STYLE&&t.type===s.PW.STYLE||"STYLE_FOLDER"===e.type&&t.type===s.PW.STYLE)return null;if(e.type===s.PW.STYLE&&"STYLE_FOLDER"===t.type&&v(e)===v(t)){let r=a.indexOf(e.node_id),i=function(e,t){let r=g(e),n=new Set(t.filter(e=>e.type===s.PW.STYLE).map(e=>e.node_id)),i=r[0];return r.forEach(e=>{e.sort_position&&i.sort_position&&e.sort_position<i.sort_position&&n.has(e.node_id)&&(i=e)}),i}(t,n),o=a.indexOf(i.node_id);return r<o?r:o-1}{let o=n.indexOf(t);if(-1!==o){let e=n.slice(o,n.length).find(e=>e.type===s.PW.STYLE);if(!e)return r.length-1;let t=a.indexOf(e.node_id);return(0,i.KF)(-1!==t,"style to insert before does not exist in the stored list"),t-1}{let t=n.indexOf(e),o=n.slice(t+1).reverse().find(e=>e.type===s.PW.STYLE);if(!o)return r.length-1;let l=a.indexOf(o.node_id);return(0,i.KF)(-1!==l,"style to insert after does not exist in the stored list"),l}}}(t,r,d,a):function(e,t,r,n){if(!e)return -1;if(!t)return r.length-1;let a=r.map(e=>e.node_id);if(e.type===s.PW.STYLE&&"STYLE_FOLDER"===t.type)return a.indexOf(e.node_id);{let e=n.indexOf(t),o=n.slice(e,n.length).find(e=>e.type===s.PW.STYLE);if(!o)return r.length-1;let l=a.indexOf(o.node_id);return(0,i.KF)(-1!==l,"style to insert before does not exist in the stored list"),l-1}}(t,r,d,a)));if(m.size>1||m.has(null))return;let _=m.values().next().value,h=d[_],f=d[_+1],E=new Map,y=h;for(let t of e){let e=t=>{t.type===s.PW.STYLE?(o.glU.insertStyleBetween(t.node_id,(null==y?void 0:y.node_id)||"",(null==f?void 0:f.node_id)||""),y=t):(t.styles.forEach(t=>{e(t)}),t.subfolders.forEach(t=>{e(t)}))};e(t);let r=""===n?[]:n.split("/"),i=[...r,(0,l.kH)(t.name)];if(i.join("/")!==t.name){let e=(t,r)=>{if(t.type===s.PW.STYLE){let e=[...r,(0,l.kH)(t.name)].join("/");E.set(t.node_id,e),o.glU.renameNode(t.node_id,e)}else E.set(t.name,r.join("/")),t.styles.forEach(t=>{e(t,r)}),t.subfolders.forEach(t=>{let n=[...r,(0,l.kH)(t.name)];e(t,n)})};e(t,"STYLE_FOLDER"===t.type?i:r)}else E.set("STYLE_FOLDER"===t.type?t.name:t.node_id,t.name)}return E}let w=(e,t,r)=>{let n=(0,l.ke)(e.name);e.type===s.PW.STYLE&&n.pop();let i=t.filter(e=>e.type===s.PW.STYLE),a=[];for(;n.length;){let e=n.join("/");if(0===(a=i.filter(t=>(0,l.In)(t.name).startsWith(e))).length)n.pop();else break}if(a.length){let t,n=a[0];a.forEach(e=>{null!=e.sort_position&&null!=n.sort_position&&e.sort_position<n.sort_position&&(n=e)}),t=e.type===s.PW.STYLE?e:g(e)[0];let i=r.indexOf(t),l=r[i-1],c=r[i+1];o.glU.insertStyleBetween(n.node_id,(null==l?void 0:l.node_id)||"",(null==c?void 0:c.node_id)||"");let d=[...r];return d.splice(d.indexOf(n),1),d.splice(d.indexOf(l)+1,0,n),d}return r}},18339:(e,t,r)=>{"use strict";r.d(t,{$3:()=>R});var n=r(411855),i=r(188507),a=r(966712),o=r(499737),l=r(799569),s=r(946689),c=r(493323),d=r(939863),u=r(662275),p=r(101505),m=r(672517),_=r(857766),h=r(396226),g=r(875847),f=r(99506),E=r(279453),y=r(243987),b=r(147206),v=r(428467),I=r(300874),T=r(851363),S=r(237870),w=r(611964),A=r(488578),C=r(884129),N=r(175915),O=r(13678),L=r(430799);let R="publish-components-upsell";function P(e){let{modalShown:t,openFile:r,permissionsState:l,repo:s,selectedView:d}=e,p=(0,i.wA)(),m=(0,i.d4)(e=>e.currentUserOrgId),_=()=>{p(u.to({type:O.dD,data:{entrypoint:w.RR.PUBLISH_UPSELL_MODAL}}))},S=(0,o.Rs)(E.G0Y,{orgId:m}),N=t.data.team,L=!!(0,a.kc)().ps_benchmark,R=L&&(0,y.w5)(N);if(N&&(0,v.canEditTeam)(N.id,l)&&!R)return n.createElement(C.bP,{team:N,resource:I.Bi.TEAM_LIBRARY,action:T.pE.PUBLISH_COMPONENTS,editorType:f._Y.DESIGN,onStarterPlanCtaClick:_,currentPlan:h.F.Plan.STARTER,upsellPlan:h.F.Plan.PRO,onBillingCompleteRedirectInfo:{fileKey:r.key,nodeId:"fullscreen"===d.view&&d.nodeId||""}});if("loaded"!==S.status)return n.createElement(A.aF,{size:"small",height:176},n.createElement(c.qc,null));{let t=!1;for(let e of S.data.currentUser.teamEditRoles){let n=e.team;n&&(0,b.Vi)(n,r.editorType)&&!(0,b.M4)(n)&&!n.deletedAt&&(t=!0)}let i=!!m,a=L&&(0,g.jd)(r.project);return t||i||a?n.createElement(D,{isFileInTeamWithProFeatures:R,isFileInOrg:i,modalShown:e.modalShown,openFile:r,repo:s,onStylesClick:_,dispatch:p}):"fullscreen"===d.view?n.createElement(C.bP,{team:N,resource:I.Bi.TEAM_LIBRARY,action:T.pE.PUBLISH_COMPONENTS,editorType:f._Y.DESIGN,onStarterPlanCtaClick:_,currentPlan:h.F.Plan.STARTER,upsellPlan:h.F.Plan.PRO,onBillingCompleteRedirectInfo:{fileKey:r.key,nodeId:d.nodeId||""}}):n.createElement(x,{onStylesClick:_,dispatch:p})}}(0,S.qK)(R,e=>{let t=e.openFile;if(null==t)return n.createElement(n.Fragment,null);let r=(0,_.up)(t,e.repos);return n.createElement(P,{openFile:t,repo:r,modalShown:e.modalShown,permissionsState:(0,v.getPermissionsState)(e),selectedView:e.selectedView})});class k extends n.PureComponent{constructor(){super(...arguments),this.closeModal=()=>{this.props.dispatch(u.Ce())},this.renderFileMoveModal=()=>{let e=this.props.modalShown.data;(0,N.h)({key:this.props.openFile.key,name:this.props.openFile.name,folder_id:this.props.openFile.folderId,team_id:this.props.openFile.teamId,editor_type:this.props.openFile.editorType,parent_org_id:this.props.openFile.parentOrgId},this.props.repo,this.props.dispatch,{handlesVisualBell:!1,callback:e.afterFileMove},{isPublishing:!0})}}render(){let e=n.createElement(d.Tx,{id:"upsell.move_file_publish.move_file_to_team_to_publish"}),t=n.createElement(d.Tx,{id:"upsell.move_file_publish.move_file_to_pro_team_to_publish"}),r=n.createElement(d.Tx,{id:"upsell.move_file_publish.move_file_to_project_to_publish"}),i=(0,d.t)("upsell.move_file_publish.move_to_team_to_publish_library_assets"),a=(0,d.t)("upsell.move_file_publish.move_to_project_to_publish_library_assets"),o=t;this.props.isFileInOrg?o=e:this.props.isFileInTeamWithProFeatures&&(o=r);let c=this.props.isFileInTeamWithProFeatures?n.createElement(d.Tx,{id:"upsell.move_file_publish.move_to_project"}):n.createElement(d.Tx,{id:"upsell.move_file_publish.move_to_team"});return n.createElement(A.aF,{title:this.props.isFileInTeamWithProFeatures?a:i,size:"small"},n.createElement(l.s_,{...this.props}),o,n.createElement("div",{className:L.OZ},n.createElement("div",{className:L.ac},n.createElement(s.tM,{onClick:this.closeModal,trackingProperties:{trackingDescriptor:p.c.CANCEL}},n.createElement(d.Tx,{id:"upsell.shared.cancel"})),n.createElement(s.rb,{href:"#",className:L.pL,onClick:this.renderFileMoveModal},c))))}}k.displayName="MoveFilePublishUpsell";let D=(0,m.kp)(k),M=class e extends n.PureComponent{constructor(){super(...arguments),this.closeModal=()=>{this.props.dispatch(u.Ce())}}render(){let t=(0,d.t)("upsell.create_team_publish.create_a_team_to_publish_library_assets"),r=n.createElement(d.Tx,{id:"upsell.create_team_publish.only_pro_teams_can_publish"});return n.createElement(m.fu,{name:e.displayName},n.createElement(A.aF,{title:t,size:"small"},n.createElement(l.s_,{...this.props}),r,n.createElement("div",{className:L.OZ},n.createElement("div",{className:L.ac},n.createElement(s.tM,{onClick:this.closeModal,trackingProperties:{trackingDescriptor:p.c.CANCEL}},n.createElement(d.Tx,{id:"upsell.shared.cancel"})),n.createElement(s.rb,{href:"/files/create-team",target:"_blank",className:L.pL,onClick:this.closeModal},n.createElement(d.Tx,{id:"upsell.shared.create_a_team"}))))))}};M.displayName="CreateTeamPublishUpsell";let x=M},372291:(e,t,r)=>{"use strict";r.d(t,{RX:()=>S,Ns:()=>I,Lm:()=>v});var n=r(411855),i=r(772841),a=r(44948),o=r(966712),l=r(374626),s=r(38580),c=r(391388),d=r(852800),u=r(335682),p=r(623746),m=r(58032),_=r(717068),h=r(684107),g=r(437304),f=r(279453);let E=(0,l.Iz)(e=>(0,h.x8)({fileKey:e})),y=(0,l.Iz)(e=>(0,s.eU)(t=>{let r={};for(let n of e)r[n]=t((0,f.u6n)({fileKey:n}));return r}),_.lu);(0,l.Iz)(e=>(0,s.eU)(t=>{let r={};for(let n of e)r[n]=t((0,f.zkh)({libraryKey:n}));return r}),g._f);let b="all_sources";function v(){let e=(0,m.je)();return function(e,t){let r=(0,n.useMemo)(()=>y(e),[e]),i=(0,l.md)(r);return(0,a.wm)(()=>{let e=c.Qw.all(Object.values(i));return"loaded"!==e.status?e.transform(()=>({})):c.Qw.loaded(Object.fromEntries(Object.entries(i).map(([e,r])=>[e,T(r,t)])))},[i,t])}((0,a.wm)(()=>{var t;return(null==(t=e.data)?void 0:t.map(e=>e.fileKey))??[]},[e.data]),d.QjO.EDITOR_TEMPLATE)}function I(){let e=(0,u.tS)(),t=(0,n.useMemo)(()=>e?E(e):(0,s.eU)(null),[e]),r=(0,l.md)(t);return(0,n.useMemo)(()=>T(null!=r?c.Qw.from(r):void 0),[r])}function T(e,t=b){var r,n,a;if((null==e?void 0:e.status)!=="loaded")return[];let o=e.data.file;if((null==o?void 0:o.status)!==i.tT.Loaded)return[];let l=o.data;return(null==(r=null==l?void 0:l.modules)?void 0:r.status)!==i.tT.Loaded?[]:(n=l.modules.data.map(e=>(0,p.uW)(e,{type:"team",file:l})),a=t,n.filter(e=>(a===b||e.moduleSource===a)&&S(e)))}function S(e){if(!(0,o.kc)().dse_module_publish)return!1;switch(e.moduleSource){case d.QjO.EDITOR_TEMPLATE:return!!(0,o.kc)().dse_editor_templates_v1;case d.QjO.SLIDES_TEMPLATE:return!!(0,o.kc)().piper;case d.QjO.SITES_TEMPLATE:return!!(0,o.kc)().sites}}},60088:(e,t,r)=>{"use strict";r.d(t,{B:()=>d});var n=r(411855),i=r(109388),a=r(188507),o=r(743282),l=r(738269),s=r(720488),c=r(206074);function d(e){let t=(0,a.wA)(),r=n.useMemo(()=>e||(0,o.g)(),[e]),d=(0,a.d4)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===r}),u=n.useMemo(()=>document.createElement("div"),[]);n.useEffect(()=>(document.body.appendChild(u),()=>{document.body.removeChild(u)}),[u]);let p=n.useRef(null),m=i.findDOMNode(p.current),_=(null==m?void 0:m.getBoundingClientRect())||null,h=e=>{e.callback&&e.callback("",null,t)};return{toggleDropdown:()=>{d?t(l.oB()):t(l.j7({type:r}))},dropdownTargetRef:p,Dropdown:function(e){let r=(0,s.UV)(e);return n.createElement(n.Fragment,null,d&&_&&i.createPortal(n.createElement(c.j,{parentRect:_,dispatch:t,onSelectItem:h,...e,...r}),u))},isDropdownShown:d}}},319008:(e,t,r)=>{"use strict";r.d(t,{Nz:()=>en,Qe:()=>ea,hH:()=>W});var n=r(411855),i=r(188507),a=r(243742),o=r(629019),l=r.n(o),s=r(323434),c=r(711117),d=r(776250),u=r(344780),p=r(935283),m=r(358145),_=r(966712),h=r(374626),g=r(563706),f=r(683192),E=r(438741),y=r(489604),b=r(554322),v=r(175515),I=r(939863),T=r(463304),S=r(852800),w=r(457630),A=r(29680),C=r(335682),N=r(754209),O=r(78933),L=r(611978),R=r(247014),P=r(951840),k=r(407844),D=r(666258),M=r(168289),x=r(396021),F=r(270296),U=r(857063),B=r(534636),H=r(712053),V=r(371536),G=r(855980);let W=5;var K=(e=>(e[e.Default=0]="Default",e[e.Mobile=1]="Mobile",e[e.Prototype=2]="Prototype",e))(K||{});let Y=(e,t)=>{let r=(0,w.ni)(),i=(0,b.Av)(),o=(0,A.p8)("showUi"),l=function({isUI3:e,prototypeHeaderHidden:t,showUi:r,style:n,toolbarHeight:i}){let a=0;if(e)a=0;else switch(n){case 0:case 1:a=r?i:0;break;case 2:a=t?0:i;break;default:(0,p.xb)(n)}return 0!==(0,k.J)()&&(a+=(0,k.J)()),a}({isUI3:"ui3"===(0,a.DP)().version,prototypeHeaderHidden:t,showUi:o,style:e,toolbarHeight:i});return n.useMemo(()=>({left:r.x,top:l,width:r.width}),[r,l])};function j(e){let t;let r=(0,w.ni)(),i=(0,k.J)(),a=r.y+i;switch(e){case 1:t=4;break;case 2:t=a;break;case 0:t=2*W}return n.useMemo(()=>({left:r.x,top:a,width:r.width-(0===e?2*W:0),height:r.height-i-t}),[r,e,a,t,i])}let z=(e,t)=>{let r;let i=j(t),a=0;switch(t){case 0:r={borderWidth:W},a=W;break;case 1:r={borderTopWidth:4},a=4;break;case 2:r={}}return n.useMemo(()=>({style:{...i,...r,"--multiplayerBorderColor":e,borderStyle:"solid","--multiplayerBorderWidth":`${a}px`},borderInfo:{width:a,color:e}}),[e,i,r,a])};function $(e){let{children:t,prototypeHeaderHidden:r}=e,i=(0,L.z3)(),a=0;"prototype"===i?a=2:g.Xb&&(a=1);let o=Y(a,r||!1),s=2===a?G.Y$:void 0,c=2===a&&r?G.Fd:void 0;return n.createElement("div",{className:l()(G.GE,s,c),style:o,"data-testid":"multiplayer-bell-container"},t)}function Z(){let{style:e,borderInfo:t}=n.useContext(H.h);return e={...e,borderColor:t.color},n.createElement("div",{"data-testid":"viewport-frame",className:l()(G.KM),style:e})}function q(){let{style:e,borderInfo:t}=n.useContext(H.h);return e={...e,color:"brand"===t.color?"var(--color-bg-brand)":t.color,"--borderColorTransitionDurationSeconds":`${V.Bn}s`},n.createElement("div",{className:G.KM,style:e})}function J(e){let{children:t,colorOverride:r,overlayStatus:i}=e,a=(0,N.$0)(),o=(0,N.dR)(),l=(0,N.Ww)(),s=(0,L.z3)(),c=0;"prototype"===s?c=2:g.Xb&&(c=1);let d=z((()=>{if(r)return r;if(!i)return o&&(null==l?void 0:l.sessionID)===(null==o?void 0:o.sessionID)?(null==l?void 0:l.color)??"transparent":(null==a?void 0:a.color)??"transparent";{let{self:e,others:t}=i;return"none"!==e?"brand":"following"===t&&"none"===e?(null==a?void 0:a.color)??"transparent":"transparent"}})(),c);return n.createElement(H.h.Provider,{value:d},t)}var X=(e=>(e.PRESENTING="presenting",e.PROMPT_TO_ACCEPT_NOMINATION="prompt_to_accept_nomination",e.SHOWING_EXPLAINER="showing_explainer",e.RECORDING="recording",e.NONE="none",e))(X||{}),Q=(e=>(e.PENDING_AUTO_FOLLOW="pending_auto_follow",e.FOLLOWING="following",e.PROMPT_TO_REJOIN="prompt_to_rejoin",e.NONE="none",e))(Q||{});function ee(){return"prototype"!==(0,L.z3)()}function et(e,t,r,i){let a=(0,m.ZC)(e),o=(0,m.ZC)(t),l=n.useRef(performance.now());return n.useEffect(()=>{if("presenting"===e){let e=u.sn.tryStop("start_spotlight");e&&((0,d.sx)("start_spotlight",{elapsedMs:e},{forwardToDatadog:!0}),(0,_.kc)().workspace_activity_write&&r&&r.team&&r.team.workspaceId&&P.i.recordActivity({activityUnitType:R.qj.FILE_COLLABORATION,fileKey:r.key,collaborationType:R.Uz.SPOTLIGHT_STARTED,numPeopleInFile:i.current}))}else if("pending_auto_follow"===t){let e=u.sn.tryStop("join_spotlight");e&&(0,d.sx)("join_spotlight",{elapsedMs:e},{forwardToDatadog:!0})}else if("following"===t){let e=u.sn.tryStop("start_following");e&&(0,d.sx)("start_following",{elapsedMs:e},{forwardToDatadog:!0})}},[e,t,r,i]),(e!==a||t!==o)&&(l.current=performance.now()),{statusChangedAt:l.current}}function er(e){let{multiplayer:t,prototypeHeaderHidden:r}=e,i=(0,N.Ww)(),a=(0,N.dR)(),o=(0,N.$0)(),l=(0,N.y)(),d=(0,C.q5)(),u=(0,O.T)(),m=(0,E.y7)(),_=(0,E.oJ)(),g=(0,E.$)(),b=n.useContext(f.q),[w,A]=n.useState(!1);n.useEffect(()=>{A(!1)},[null==a?void 0:a.sessionID]),n.useEffect(()=>{(null==o?void 0:o.sessionID)===(null==a?void 0:a.sessionID)&&A(!1)},[null==o?void 0:o.sessionID,null==a?void 0:a.sessionID]);let{isAutoFollowPending:R,cancelAutoFollowCallback:P,completeAutoFollowCallback:k,observeCurrentPresenter:D,autoFollowType:M,autoFollowDelayMs:x}=(0,N.oW)(e),{isWaitingForFirstFollower:F,stopPresenting:H}=function(e){let[t,r]=n.useState(!1),i=e.followerCount,[a,o]=(0,h.fp)(y.Dv);0===i||t||r(!0);let l=(0,E.jA)(e)||a;(0,E.jA)(e)&&a&&o(!1),!l&&t&&r(!1);let s=l&&0===i&&!t,c=(0,O.T)(),d=(0,L.z3)(),u=n.useCallback(()=>{var e;c(O.N.STOP),"prototype"===d?null==(e=(0,v.hk)())||e.stopPresenting():S.h3O.stopPresenting()},[c,d]),p=n.useCallback(()=>!!s&&(u(),!0),[u,s]);return(0,T.O1)(p,T.KD.MULTIPLAYER_SPOTLIGHT),{isWaitingForFirstFollower:s,stopPresenting:u}}(t),G=(0,h.md)(y.ah),W=(0,h.md)(y.Dv),K=n.useCallback(()=>{b.stopWalkthroughRecording(),H()},[b,H]),Y=function(e){let{multiplayer:t,showingExplainer:r,isPendingPresenting:n,isRecording:i}=e;return i?"recording":(0,E.jA)(t)||n?"presenting":r?"showing_explainer":(0,E.NB)(t)?"prompt_to_accept_nomination":"none"}({multiplayer:t,showingExplainer:G,isPendingPresenting:W,isRecording:b.isRecording}),j=function(e){let{multiplayer:t,isAutoFollowPending:r,presenterUser:n,suppressRejoinPrompt:i}=e;return r?"pending_auto_follow":(0,E.L3)(t)?"following":n&&!i?"prompt_to_rejoin":"none"}({multiplayer:t,isAutoFollowPending:R,presenterUser:a,suppressRejoinPrompt:w}),z=n.useRef(t.allUsers.length);z.current=t.allUsers.length;let{statusChangedAt:Z}=et(Y,j,d,z),[X,Q]=function(e,t){switch(e){case"presenting":if("following"===t||"prompt_to_rejoin"===t)return[e,"none"];return[e,t];case"prompt_to_accept_nomination":if("pending_auto_follow"===t)return["none",t];return[e,"none"];case"showing_explainer":case"recording":case"none":return[e,t];default:(0,p.xb)(e)}}(Y,j),er=n.useCallback(()=>{A(!0),P(),u(O.N.IGNORE)},[P,u]),en=M===N.D_.INITIAL,ei=n.useCallback(()=>"pending_auto_follow"===Q&&!!R&&M===N.D_.INITIAL&&(P(),!0),[M,P,R,Q]);(0,T.O1)(ei,T.KD.MULTIPLAYER_SPOTLIGHT);let ea=ee(),eo="showing_explainer"===X,el="none"!==X,es="none"!==Q,ec=["presenting","prompt_to_accept_nomination","showing_explainer"].includes(X)||["following"].includes(Q),[ed,eu]=(0,h.fp)(y.uc);return ec!==ed&&eu(ec),n.createElement(J,{overlayStatus:{self:X,others:Q}},n.createElement(s.N,null,ec&&n.createElement(c.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:V.Bn}},n.createElement(q,null))),n.createElement(s.N,null,el&&n.createElement(c.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:V.Bn}},n.createElement($,{prototypeHeaderHidden:r},(()=>{switch(X){case"presenting":if(null===i)return null;if(F){let e=n.createElement(I.Tx,{id:"collaboration.spotlight.bell.presenter.waiting_for_followers"}),t=(0,I.t)("collaboration.spotlight.bell.presenter.cancel");return n.createElement(B.Y,{color:"brand",message:{text:e},renderKey:`${i.sessionID}`,progressBar:!0,progressBarDurationMs:6e3,autoHide:!1,button:{text:t,onClick:H}})}return n.createElement(B.Y,{color:"brand",message:{text:n.createElement(U.s,{count:t.followerCount})},renderKey:`${i.sessionID}`,progressBar:!1,progressBarDurationMs:0,autoHide:!1,button:{text:(0,I.t)("collaboration.spotlight.bell.presenter.stop"),onClick:H},docked:ea});case"prompt_to_accept_nomination":if(!i||!l)return null;return n.createElement(B.Y,{color:"brand",useSecondaryColor:!0,message:{text:n.createElement(I.Tx,{id:"collaboration.spotlight.bell.follower.nominated",nominatorName:l.name})},renderKey:`${i.sessionID}`,progressBar:!1,progressBarDurationMs:0,autoHide:!1,button:{text:(0,I.t)("collaboration.spotlight.tooltip.spotlight_me"),onClick:()=>{m(t)}},showCloseButton:!0,onCloseCallback:()=>{_(i.sessionID,t)}});case"showing_explainer":if(null===i)return null;let e=a?n.createElement(I.Tx,{id:"collaboration.spotlight.bell.explainer.takeover",currentPresenter:null==a?void 0:a.name}):n.createElement(I.Tx,{id:"collaboration.spotlight.bell.explainer"});return n.createElement(B.Y,{color:"brand",useSecondaryColor:!0,message:{text:e},renderKey:`${t.sessionID}`,autoHide:!1,progressBar:!1,progressBarDurationMs:0,button:null,docked:!1});case"recording":if(!i)return null;let r=n.createElement(I.Tx,{id:"collaboration.spotlight.recording.bell.recording"}),o=(0,I.t)("collaboration.spotlight.recording.bell.stop");return n.createElement(B.Y,{color:"brand",message:{text:r},renderKey:`${i.sessionID}`,progressBar:!1,progressBarDurationMs:0,autoHide:!1,button:{text:o,onClick:K}});case"none":return null;default:(0,p.xb)(X)}})()))),n.createElement(s.N,null,es&&n.createElement(c.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:V.Bn}},n.createElement($,{prototypeHeaderHidden:r},(()=>{switch(Q){case"pending_auto_follow":{if(!a)return null;let e=a.name,t=en?{text:n.createElement(I.Tx,{id:"collaboration.spotlight.bell.follower.spotlighting_presenter_alternate_copy",presenterName:e}),onClick:k}:{text:n.createElement(I.Tx,{id:"collaboration.spotlight.bell.follower.switching_to_new_presenter",presenterName:e})},r=en?{text:(0,I.t)("collaboration.spotlight.bell.follower.not_now"),onClick:er}:null;return n.createElement(B.Y,{color:null==a?void 0:a.color,message:t,renderKey:`${a.sessionID}`,progressBar:en,progressBarDurationMs:x||0,autoHide:!1,button:r,ghost:eo})}case"following":{let e=t.observingSessionID===t.presenterSessionID;if(null===o)return null;let r=(null==o?void 0:o.name)||"",i=e?n.createElement(I.Tx,{id:"collaboration.spotlight.bell.follower.spotlight_on_presenter",observedUserName:r}):n.createElement(I.Tx,{id:"collaboration.spotlight.bell.follower.following_non_presenter",observedUserName:r}),a={text:e?(0,I.t)("collaboration.spotlight.bell.stop_following"):(0,I.t)("collaboration.spotlight.bell.stop"),onClick:()=>g(t)};return n.createElement(B.Y,{color:null==o?void 0:o.color,message:{text:i},renderKey:`${t.observingSessionID}`,autoHide:!0,progressBar:!1,progressBarDurationMs:0,button:a,docked:ea,ghost:eo})}case"prompt_to_rejoin":let e=()=>(0,E.KI)(D,t,"Spotlight Rejoined",Z);if(null!==o||null===a)return null;let r=n.createElement(I.Tx,{id:"collaboration.spotlight.bell.follower.reprompt_spotlight_on_presenter",presenterUserName:a.name}),i=(0,I.t)("collaboration.spotlight.bell.follower.follow");return n.createElement(B.Y,{color:null==a?void 0:a.color,message:{text:r,onClick:e},renderKey:`${a.sessionID}`,autoHide:!1,progressBar:!1,progressBarDurationMs:0,button:{text:i,onClick:e},showCloseButton:!0,onCloseCallback:()=>(0,E.KI)(()=>A(!0),t,"Spotlight Rejoin Dismissed",Z),useSecondaryColor:!0,ghost:eo});case"none":return null;default:(0,p.xb)(Q)}})()))))}function en(e){let{prototypeHeaderHidden:t}=e,r=(0,i.d4)(({multiplayer:e})=>e),a=(0,N.HG)(),o=(0,N.By)(),l=-1!==r.observingSessionID;return((0,N.VA)({multiplayer:r}),(0,N.Pi)({multiplayer:r}),o)?null:a?n.createElement(er,{multiplayer:r,prototypeHeaderHidden:t}):l?n.createElement(ei,{prototypeHeaderHidden:t}):null}function ei(e){let{prototypeHeaderHidden:t}=e,r=(0,N.$0)(),a=(0,C.q5)(),o=(0,i.d4)(e=>e.multiplayer.allUsers.length),l=n.useRef(o);l.current=o,et("none","following",a,l);let s=`${null==r?void 0:r.sessionID}`,c=n.useMemo(()=>{let e=(null==r?void 0:r.name)||"";return{text:n.createElement(I.Tx,{id:"collaboration.spotlight.bell.follower.following_non_presenter",observedUserName:e})}},[r]),d=ee();return null===r?null:n.createElement(J,null,n.createElement(Z,null),n.createElement($,{prototypeHeaderHidden:t},n.createElement(B.Y,{color:null==r?void 0:r.color,message:c,renderKey:s,autoHide:!0,progressBar:!1,progressBarDurationMs:0,button:null,docked:d})))}function ea(){let e=(0,h.md)(D.a8)===M.h0.PLAYING,t=(0,h.md)(D.$i);if(!e)return null;switch(t){case M.JJ.CANVAS:return n.createElement(J,{colorOverride:x.rK},n.createElement(Z,null));case M.JJ.PROPERTIES_PANEL:return n.createElement(eo,null);default:return null}}function eo(){let e=j(0),t=F.iP-2*W;return n.createElement("div",{"data-testid":"cursor-bot-properties-panel-frame",className:G.KM,style:{border:`${W}px solid ${x.rK}`,width:`${t}px`,height:e.height,top:e.top,right:0}})}},666258:(e,t,r)=>{"use strict";r.d(t,{$i:()=>E,Dh:()=>m,Ds:()=>u,H7:()=>g,Lw:()=>o,Sf:()=>c,WW:()=>l,a8:()=>_,iB:()=>h,jE:()=>y,jr:()=>s,mH:()=>p,nG:()=>d,oO:()=>f});var n=r(38580),i=r(852800),a=r(168289);let o=2e3,l=2e3,s=(0,n.eU)(o),c=(0,n.eU)(l),d=(0,n.eU)(""),u=(0,n.eU)(0),p=(0,n.eU)(!1);(0,n.eU)(!1);let m=(0,n.eU)(null),_=(0,n.eU)(a.h0.AWAITING_PLAYBACK),h=(0,n.eU)(i.z7E.DEFAULT),g=(0,n.eU)(a.zu.DEFAULT),f=(0,n.eU)(void 0),E=(0,n.eU)(a.JJ.CANVAS),y=(0,n.eU)(0)},168289:(e,t,r)=>{"use strict";r.d(t,{$2:()=>l,GF:()=>d,HQ:()=>n,JJ:()=>i,Le:()=>p,NI:()=>u,bn:()=>o,h0:()=>c,mf:()=>m,wn:()=>s,zu:()=>a});var n=(e=>(e.SET_CHAT="setChat",e.CLEAR_CHAT="clearChat",e.TARGET_DOM_NODE="targetDOMNode",e.TARGET_SCENE_NODE="targetSceneNode",e.INSERT_NODE="insertNode",e.ADJUST_ZOOM_LEVEL="adjustZoomLevel",e.MOVE_CURSOR_TO_CENTER_SCREEN="moveCursorToCenterScreen",e.CHANGE_TOOL="changeTool",e.MOVE_VIEWPORT="moveViewport",e.SET_CURSOR_DIRECTION="setCursorDirection",e.SET_PROPERTIES_PANEL_TAB="setPropertiesPanelTab",e.UPDATE_SELECTED_NODE_PROPERTIES="updateSelectedNodeProperties",e.SCROLL_PROPERTIES_PANEL="scrollPropertiesPanel",e.FOCUS_INPUT="focusInput",e.SELECT_SCENE_NODE="selectSceneNode",e.SET_VIEWPORT_FRAME_TYPE="setViewportFrameType",e))(n||{}),i=(e=>(e.CANVAS="canvas",e.PROPERTIES_PANEL="properties-panel",e.TEXT_PANEL="text-panel",e))(i||{}),a=(e=>(e.DEFAULT="left",e.RIGHT="right",e))(a||{}),o=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.INSIDE_SCENE_NODE=1]="INSIDE_SCENE_NODE",e[e.CANVAS_COORDINATE=2]="CANVAS_COORDINATE",e))(o||{}),l=(e=>(e[e.TOP_LEFT=0]="TOP_LEFT",e[e.BOTTOM_LEFT=1]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e))(l||{}),s=(e=>(e.CREATE_FRAME="How to draw a frame",e.FORMAT_FRAME="How to use the design panel",e.CREATE_TEXT="Add words where needed",e.FORMAT_TEXT="How to format text",e))(s||{}),c=(e=>(e.PLAYING="playing",e.AWAITING_PLAYBACK="awaitingPlayback",e))(c||{}),d=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(d||{}),u=(e=>(e.TOP="top",e.CENTER="center",e.BOTTOM="bottom",e))(u||{}),p=(e=>(e.TEST="test",e.PRODUCT_FRAME="productFrame",e.PRODUCT_FRAME_CHERRIES_FRAME="productFrameCherriesFrame",e.PRODUCT_FRAME_TOMATO_FRAME="productFrameTomatoFrame",e.CHERRIES_FRAME_CHERRIES_IMAGE="cherriesFrameCherriesImage",e.CHERRIES_FRAME_CHERRIES_TEXT="cherriesFrameCherriesText",e.CHERRIES_FRAME_PRICE_TEXT="cherriesFramePriceText",e.CHERRIES_FRAME_GROWN_TEXT="cherriesFrameGrownText",e.NO_BASICS_FILE_FRAME="noBasicsFileFrame",e.NO_BASICS_FILE_TEXT="noBasicsFileText",e))(p||{}),m=(e=>(e.ESC_KEY="esc key",e.STOP_BTN="stop button",e.NEXT_BTN="next tutorial button",e.PREV_BTN="previous tutorial button",e.STATE_MANAGER_ERROR="state manager error",e))(m||{})},396021:(e,t,r)=>{"use strict";r.d(t,{$1:()=>_,L7:()=>p,Of:()=>g,XC:()=>h,Y4:()=>E,YX:()=>y,dK:()=>u,mF:()=>m,pM:()=>f,rK:()=>d,tF:()=>c});var n=r(776621),i=r(662531),a=r(198868),o=r(766022),l=r(168289),s=r(246497);let c="cursor_bot",d="#007BE5";function u(e,t){return Math.min(t.width/(e.absoluteBoundingBox.w+300),t.height/(e.absoluteBoundingBox.h+300))*t.zoom}function p(e,t,r){let n;e instanceof HTMLElement?n=e.getBoundingClientRect():n={h:e.absoluteBoundingBox.h,w:e.absoluteBoundingBox.w,x:e.absoluteBoundingBox.x,y:e.absoluteBoundingBox.y,left:e.absoluteBoundingBox.x,right:e.absoluteBoundingBox.x+e.absoluteBoundingBox.w,top:e.absoluteBoundingBox.y,bottom:e.absoluteBoundingBox.y+e.absoluteBoundingBox.h};let i=(null==r?void 0:r.x)||0,a=(null==r?void 0:r.y)||0,o=0;return{targetX:(null==t?void 0:t.x)===l.GF.LEFT?n.left+i:(null==t?void 0:t.x)===l.GF.RIGHT?n.right+i:(n.right+n.left)/2+i,targetY:(null==t?void 0:t.y)===l.NI.TOP?n.top+a:(null==t?void 0:t.y)===l.NI.BOTTOM?n.bottom+a:(n.top+n.bottom)/2+a}}async function m({imgSrc:e,desiredWidth:t,desiredHeight:r}){try{let n=(0,a.D)(),o=i.l7.onboarding("create-rectangle-for-image",()=>n.createRectangle()),l=await n.createImageAsync(e),{width:s,height:c}=await l.getSizeAsync(),d=void 0!==t?t:s,u=void 0!==r?r:c;return i.l7.onboarding("resize-rectangle-node-with-image-fill",()=>{o.resize(d,u)}),i.l7.onboarding("set-image-fill",()=>{o.fills=[{type:"IMAGE",imageHash:l.hash,scaleMode:"FILL"}]}),o.id}catch(t){return(0,n.x1)(c,"Failed to insert image",{imgUrl:e,err:t},{reportAsSentryError:!0}),null}}function _(e){let t=document.getElementById(o.rp);t.classList.add(s.eb),t.scrollTop=e,t.classList.remove(s.eb)}function h(e){return e===l.h0.PLAYING}function g(e,t){let r=t?"cursor_bot_v2__basics_file__":"cursor_bot_v2__no_basics_file__";switch(e){case"How to draw a frame":return{tutorialPlayedUserFlag:`${r}clicked_show_me_for_create_a_frame`,stepCompletedUserFlag:`${r}played_create_a_frame`};case"How to use the design panel":return{tutorialPlayedUserFlag:`${r}clicked_show_me_for_frame_formatting`,stepCompletedUserFlag:`${r}played_frame_formatting`};case"Add words where needed":return{tutorialPlayedUserFlag:`${r}clicked_show_me_for_create_text`,stepCompletedUserFlag:`${r}played_create_text`};case"How to format text":return{tutorialPlayedUserFlag:`${r}clicked_show_me_for_text_formatting`,stepCompletedUserFlag:`${r}played_text_formatting`};default:throw Error(`Unknown tutorial name: ${e}`)}}let f=600,E=1200,y=1500},67350:(e,t,r)=>{"use strict";r.d(t,{b:()=>T});var n=r(411855),i=r(629019),a=r.n(i),o=r(646240),l=r(946689),s=r(762638),c=r(939863),d=r(175290),u=r(101505),p=r(672517),m=r(309798),_=r(833629),h=r(970332),g=r(63666),f=r(936181),E=r(666258),y=r(168289),b=r(799088);let v="cursor_bot_tooltip--textInverseColor--sNGZA";function I(e){var t,r,i,o;let p=e.shouldInverseColors??!1,_=(0,m.f)("cursor_bot_v2_make_show_me_primary_cta");return n.createElement(n.Fragment,null,n.createElement("h2",{className:a()(b.wx,{[v]:p})},e.title),n.createElement(l.Kz,{multiple:1}),n.createElement("div",{className:a()(b.h_,{[v]:p})},e.children),n.createElement(l.Kz,{multiple:3}),n.createElement(d.Y,{verticalAlignItems:"center",direction:"horizontal",spacing:8},n.createElement("div",{className:a()({[s.cx.colorTextOnbrand.$]:p,[s.cx.colorTextSecondary.$]:!p})},e.lowerLeftText),n.createElement(d.M,null),e.onSecondaryCtaClick&&n.createElement("div",{ref:_?void 0:e.showMeCtaRef},n.createElement(l.tM,{onClick:e.onSecondaryCtaClick,className:a()({[s.cx.colorTextOnbrand.$]:p,"cursor_bot_tooltip--secondaryCta--uig-B":p}),trackingProperties:{ctaTrackingDescriptor:(null==(t=e.secondaryCtaProps)?void 0:t.ctaTrackingDescriptor)||u.c.BACK}},(null==(r=e.secondaryCtaProps)?void 0:r.ctaText)||n.createElement(c.Tx,{id:"tooltips_plus_onboarding.back"}))),e.onPrimaryCtaClick&&n.createElement("div",{ref:_?e.showMeCtaRef:void 0},n.createElement(l.vd,{onClick:e.onPrimaryCtaClick,trackingProperties:{ctaTrackingDescriptor:(null==(i=e.primaryCtaProps)?void 0:i.ctaTrackingDescriptor)||u.c.NEXT},className:a()({[s.cx.colorBg.colorText.$]:p})},(null==(o=e.primaryCtaProps)?void 0:o.ctaText)||n.createElement(c.Tx,{id:"tooltips_plus_onboarding.next"})))))}function T(e){let t=n.useRef(null),r=n.useRef(null),i=n.useRef(null),l=(0,o.Xr)(E.jr),c=(0,o.Xr)(E.Sf),d=(0,o.Xr)(E.H7),[u,v]=n.useState(!1),[T,S]=n.useState(),w=()=>{let n=0,a=0;if(null!=t.current&&null!=r.current&&null!=i.current){let{offsetTop:o,offsetHeight:s,offsetLeft:u,offsetWidth:p}=t.current,m=Math.sqrt(Math.pow(n=o+s/2,2)+Math.pow(a=u+p/2,2)),_=[{top:`${n}px`,left:`${a}px`,width:"0px",height:"0px",borderRadius:"100%"},{top:`${n-m}px`,left:`${a-m}px`,width:`${2*m}px`,height:`${2*m}px`,borderRadius:"100%",offset:.4166666666666667},{top:`${n-m}px`,left:`${a-m}px`,width:`${2*m}px`,height:`${2*m}px`,borderRadius:"100%"}];r.current.animate(_,{duration:600,easing:"cubic-bezier(0.14, 0, 0.32, 1)"}),setTimeout(()=>{S("#007be5")},130),v(!0);let h=e.collapseToTopRight?"top right":"bottom right",g=[{transform:"scale(1)",transformOrigin:h},{transform:"scale(0)",transformOrigin:h,offset:.4166666666666667},{transform:"scale(0)",transformOrigin:h}],f=i.current;setTimeout(()=>{null!=i.current&&i.current.animate(g,{duration:350,easing:"ease-in"})},250),setTimeout(()=>{v(!1),S(void 0)},350);let E=f.offsetLeft+f.offsetWidth,b=e.collapseToTopRight?f.offsetTop:f.offsetTop+f.offsetHeight;l(E),c(b),e.collapseToTopRight&&d(y.zu.RIGHT)}},A=(0,_.Ai)(["exp_cursor_bot_onboarding"]),C=(0,m.f)("cursor_bot_v2_make_show_me_primary_cta");return n.createElement(p.fu,{name:e.trackingContextName,properties:{isInCursorBotBasicsFile:A}},!e.disableHighlight&&n.createElement(f.x,{target:e.targetKey}),n.createElement(g.CR,{className:a()(b.R3,{[b.el]:"designPanel"===e.pointsTo,[b.N2]:"toolbar"===e.pointsTo,[b.Lq]:"leftPanel"===e.pointsTo}),targetKey:e.targetKey,shouldCenterArrow:e.shouldCenterArrow,disableClickOutsideToHide:!0,dismissModal:e.dismissModal,hideCloseButton:e.hideCloseButton,arrowPosition:e.arrowPosition,hidePointer:e.hidePointer,width:h.jK,hideIfTargetLost:!0,ref:i,closeButtonClassName:u?"cursor_bot_tooltip--closeButtonInverseColor--CLQm3":void 0,pointerForegroundColor:T},n.createElement("div",{className:s.cx.overflowHidden.absolute.top0.left0.wFull.hFull.eventsNone.$},n.createElement("div",{className:"cursor_bot_tooltip--expandingBlue--7HBiv",ref:r})),n.createElement(I,{title:e.title,children:e.children,onSecondaryCtaClick:()=>{var t;if(C){null==(t=e.onSecondaryCtaClick)||t.call(e);return}w(),setTimeout(()=>{var t;null==(t=e.onSecondaryCtaClick)||t.call(e)},500)},onPrimaryCtaClick:()=>{var t;if(!C){null==(t=e.onPrimaryCtaClick)||t.call(e);return}w(),setTimeout(()=>{var t;null==(t=e.onPrimaryCtaClick)||t.call(e)},500)},secondaryCtaProps:e.secondaryCtaProps,primaryCtaProps:e.primaryCtaProps,showMeCtaRef:t,shouldInverseColors:u,lowerLeftText:e.lowerLeftText})))}},301922:(e,t,r)=>{"use strict";r.d(t,{S:()=>s,q:()=>c});var n=r(188507),i=r(38329),a=r(309225),o=r(499737),l=r(279453);function s(){var e,t,r;let i=(0,n.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.key});return!!(null==(r=null==(t=null==(e=(0,o.Rs)(l.J2w,{fileKey:i||""}).data)?void 0:e.file)?void 0:t.org)?void 0:r.cursorChatDisabledAt)}function c(){return new Promise((e,t)=>{var r;let n=null==(r=i.D.getState().openFile)?void 0:r.key;if(!n)return e(!1);(0,a.Ek)(l.J2w,{fileKey:n}).then(t=>{var r,n,i;return e(!!(null==(i=null==(n=null==(r=t.data)?void 0:r.file)?void 0:n.org)?void 0:i.cursorChatDisabledAt))})})}},624875:(e,t,r)=>{"use strict";r.d(t,{O:()=>y,S:()=>v});var n=r(411855),i=r(188507),a=r(91408),o=r(498750),l=r(153234),s=r(572206),c=r(939863),d=r(293017),u=r(287010),p=r(973149),m=r(617453),_=r(205135),h=r(7959),g=r(746806),f=r(860168),E=r(801695);let y="nudge-amount",b=(0,a.hG)(f.md8);function v(e){let t=(0,i.wA)(),r=(0,m.EU)(),a=(0,m.RU)(),f=new p.Lk({min:.1,smallNudgeAmount:u.bA,bigNudgeAmount:u._q}),y=new p.Lk({min:1,smallNudgeAmount:u.bA,bigNudgeAmount:u._q}),v=()=>{t(d.XE())},I=e=>{e.keyCode===o.Uz.ENTER&&v()},T=new s.Mi(window.innerWidth/2-b/2,window.innerHeight/3);return n.createElement(g.vx,{title:(0,c.t)("fullscreen.nudge.nudge_amount"),headerSize:"small",initialPosition:T,onClose:v,dragHeaderOnly:!0,recordingKey:l.Pt(e,"modal")},n.createElement("div",{className:E.jH}),n.createElement(h.fI,null,n.createElement("label",{className:E.Pf},n.createElement(c.Tx,{id:"fullscreen.nudge.small_nudge"})),n.createElement("label",{className:E.Pf},n.createElement(c.Tx,{id:"fullscreen.nudge.big_nudge"}))),n.createElement(h.fI,null,n.createElement(_.Q7,{className:E.hF,formatter:f,property:r,onChange:e=>{(0,m.UK)().smallNudgeAmount.set(e)},onKeyDown:I,recordingKey:l.Pt(e,"smallNudgeInput")}),n.createElement(_.Q7,{className:E.by,formatter:y,property:a,onChange:e=>{(0,m.UK)().bigNudgeAmount.set(e)},onKeyDown:I,recordingKey:l.Pt(e,"bigNudgeInput"),autoFocus:!0})),n.createElement("div",{className:E.jH}))}v.displayName="NudgeAmountPicker"},798558:(e,t,r)=>{"use strict";r.d(t,{Bf:()=>th,D:()=>t_,GN:()=>to,O:()=>tl,UB:()=>tg,oo:()=>tb});var n,i=r(411855),a=r(109388),o=r(188507),l=r(96796),s=r(463420),c=r(666309),d=r(542061),u=r(201140),p=r(130735),m=r(861726),_=r(203910),h=r(629019),g=r.n(h),f=r(935283),E=r(966712),y=r(374626),b=r(498750),v=r(218549),I=r(886653),T=r(153234),S=r(522739),w=r(574176),A=r(46481),C=r(348425),N=r(762638),O=r(939863),L=r(589538),R=r(752353),P=r(801204),k=r(852800),D=r(283942),M=r(862442),x=r(497306),F=r(931770),U=r(341860),B=r(869156),H=r(457630),V=r(678340),G=r(498606),W=r(644407),K=r(872429),Y=r(36127),j=r(7959),z=r(748525),$=r(820396),Z=r(739212),q=r(741944),J=r(531930),X=r(949207),Q=r(432023),ee=r(459476),et=r(608974),er=r(107018),en=r(877424),ei=r(479641),ea=r(238472),eo=r(211254),el=r(404754),es=r(608026),ec=r(233891),ed=r(464300),eu=r(763634),ep=r(954037),em=r(116198),e_=r(443043),eh=r(77499),eg=r(462725),ef=r(968109),eE=r(498902),ey=r(251232),eb=r(21458),ev=r(181033),eI=r(951912),eT=r(787337),eS=r(282046),ew=r(971068),eA=r(71676),eC=r(404605),eN=r(939967),eO=r(253099),eL=r(917925),eR=r(853993),eP=r(912109),ek=r(882354),eD=r(436902),eM=r(416014),ex=r(135534),eF=r(813601),eU=r(624204),eB=r(401127),eH=r(408026),eV=r(828099),eG=r(630351),eW=r(554593),eK=r(263699),eY=r(751395),ej=r(994891),ez=r(638894),e$=r(729005),eZ=r(772661),eq=r(69688),eJ=r(376449),eX=r(348844),eQ=r(528517),e0=r(596922),e1=r(313888),e2=r(531800),e3=r(691151),e5=r(900952),e4=r(142284),e8=r(297447),e6=r(953696),e7=r(660257),e9=r(353560),te=r(900607),tt=r(144919),tr=r(618208);function tn(){return i.createElement("div",{className:N.cx.flex.itemsCenter.justifyCenter.$},i.createElement("div",{className:J.xE}))}function ti(e){let t=e.stackMode;return"HORIZONTAL"===t||"VERTICAL"===t}function ta(e){return void 0!==e.objectsPanelThumbnailId}function to(e){switch(e.stackMode){case"HORIZONTAL":if("WRAP"===e.stackWrap)switch(e.stackPrimaryAlignItems){case"MIN":case"SPACE_EVENLY":case"SPACE_BETWEEN":case void 0:return eZ.A;case"CENTER":return e$.A;case"MAX":return eq.A;default:(0,f.xb)(e.stackPrimaryAlignItems)}else switch(e.stackCounterAlignItems){case"BASELINE":case"MIN":case void 0:return eK.A;case"CENTER":return eW.A;case"MAX":return eG.A;default:(0,f.xb)(e.stackCounterAlignItems)}case"VERTICAL":switch(e.stackCounterAlignItems){case"BASELINE":case"MIN":case void 0:return ej.A;case"CENTER":return eY.A;case"MAX":return ez.A;default:(0,f.xb)(e.stackCounterAlignItems)}}return eh.A}class tl extends T.o6{render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:q.n},t=`${J.nM} ${J.bV}`;return this.props.isParentSelected&&(t+=" "+J.ct),this.props.isDescendantOfSymbol&&(t+=" "+J.j3),this.props.isDescendantOfInstance&&(t+=" "+J.cb),i.createElement("div",{className:t,style:e},function(e){let t=[];for(let r=0;r<e+1;r++)t.push(i.createElement("span",{key:r,className:J.pZ}));return i.createElement("span",{className:J.Wm},t)}(this.props.level),this.props.sectionType===k.KjJ.FIXED?(0,O.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed"):(0,O.t)("fullscreen.properties_panel.scrolls"))}}function ts(e){let t=(0,K.cJ)(),r=(e.abbreviatedStateName||e.name).replace(/\n/," ");if(t&&e.isResponsiveSet&&e.isDefaultResponsiveSet&&(r=(0,O.t)("sites.panel.home")),e.shouldShowGuids){let t=k.Egt.getOverridePathForNode(e.guid);return`${r} (${e.guid}): [${t}]`}return r}function tc(e){let t=U.qo.instance.get(e.guid),r=!!t&&t.isPrimaryResponsiveNode;return i.createElement("div",{className:N.cx.flex.$},r&&i.createElement("span",{className:N.cx.colorTextBrand.pr8.$},(0,O.t)("sites.panel.main")))}function td(e){let[t,r]=(0,i.useState)(null),[n,o]=(0,i.useState)(!1),l=(0,K.cJ)(),s=(0,y.md)(Y.bu)[e.guid];(0,i.useEffect)(()=>{r(e.isRenaming?e.name:null)},[e.name,e.isRenaming]);let c=ts({abbreviatedStateName:e.abbreviatedStateName,guid:e.guid,shouldShowGuids:e.shouldShowGuids,name:e.name,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),d=T.rf(e.recordingKey,e.focusOnSingleClick?"click":"dblclick",()=>{e.startRenaming(e.guid)}),u=(0,i.useRef)(null),p=(0,i.useCallback)(e=>{var t;e&&(u.current=a.findDOMNode(e),null==(t=u.current)||t.select())},[]),m=T.AF(e.recordingKey,"change",e=>{var t;r(null==(t=e.currentTarget)?void 0:t.value)}),_=T.v_(e.recordingKey,"keydown",t=>{var r,i;if(!n){if(t.keyCode===b.Uz.ESCAPE)e.stopRenaming(!1);else if(t.keyCode===b.Uz.ENTER)e.stopRenaming(!0,null==(r=u.current)?void 0:r.value,c);else{if(t.keyCode!==b.Uz.TAB)return(0,D.jr)(t,D.W0.NO),T.aH;t.preventDefault(),e.stopRenaming(!0,null==(i=u.current)?void 0:i.value,c),t.shiftKey?e.prevNodeGuid&&e.startRenaming(e.prevNodeGuid):e.nextNodeGuid&&e.startRenaming(e.nextNodeGuid)}}}),h=T.iQ(e.recordingKey,"blur",()=>{var t;e.stopRenaming(!0,null==(t=u.current)?void 0:t.value,c)});return i.createElement(i.Fragment,null,!e.hideSvg&&i.createElement(th,{guid:e.guid,navigateAndPanTo:e.navigateAndPanTo,isDefaultResponsiveSet:e.isDefaultResponsiveSet}),e.isThumbnail&&i.createElement(w.B,{"data-tooltip-type":G.Ib.TEXT,"data-tooltip":(0,O.t)("fullscreen.object_row.file_thumbnail"),className:J.V3,svg:eo.A}),e.isRenaming&&i.createElement(j.ks,{className:g()(J.hF,e.inputTextOverridesClassName),ref:p,value:null!==t?t:e.name,onChange:m,onKeyDown:_,onBlur:h,onCompositionStart:()=>o(!0),onCompositionEnd:()=>o(!1),spellCheck:!1,autoCorrect:"off",autoCapitalize:"off"}),!e.isRenaming&&i.createElement("span",{className:g()(J.qg,e.staticTextOverridesClassName,l?N.cx.justifyBetween.$:""),onDoubleClick:e.focusOnSingleClick?void 0:d,onClick:e.focusOnSingleClick?d:void 0,dir:"auto"},i.createElement("div",{className:J._k,ref:e.layerNameRef},s&&s.name,!s&&c),e.explicitVariableModeNames&&e.explicitVariableModeNames.length>0&&i.createElement("div",{className:J.pS},i.createElement(z.J,{modeNames:e.explicitVariableModeNames})),!e.isHovered&&l&&i.createElement(tc,{guid:e.guid})))}function tu(e){var t,r;let n=(0,i.useRef)(null),a=(r=e.guid,(0,y.md)(R.Fj).has(r)),[o,l]=(0,i.useState)(!1),s=ts({abbreviatedStateName:e.abbreviatedStateName,name:e.name,shouldShowGuids:e.shouldShowGuids,guid:e.guid,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),c=(0,i.useCallback)(()=>{let e=n.current;return!!e&&e.scrollWidth>e.offsetWidth},[]),d=(0,i.useCallback)(()=>{l(c())},[l,c]);(0,i.useEffect)(()=>{d()},[d]);let{onContextMenu:u}=e,p=(0,i.useCallback)(t=>{u&&u(e.guid,t)},[u,e.guid]),{onMouseEnter:m}=e,_=(0,i.useCallback)(t=>{d(),m&&m(e.guid,t)},[m,e.guid,d]),{lockMouseDown:h}=e,f=(0,i.useCallback)(t=>{h&&h(e.guid,t)},[h,e.guid]),{visibleMouseDown:E}=e,b=(0,i.useCallback)(t=>{E&&E(e.guid,t)},[E,e.guid]),{onDragStartCallback:v}=e,I=(0,i.useCallback)(t=>{t.dataTransfer.effectAllowed="none",null!=v&&v(e.guid,t)},[v,e.guid]),{onDragOverCallback:S}=e,w=(0,i.useCallback)(t=>{null!=S&&S(e.guid,t)},[S,e.guid]),{onDragDropCallback:A}=e,C=(0,i.useCallback)(t=>{null!=A&&A(e.guid,t)},[A,e.guid]),{onDragEnterCallback:N}=e,O=(0,i.useCallback)(t=>{null!=N&&N(e.guid,t)},[N,e.guid]),{onDragLeaveCallback:L}=e,P=(0,i.useCallback)(t=>{null!=L&&L(e.guid,t)},[L,e.guid]),k=(0,i.useCallback)(()=>(0,V.pr)(e.nodeMemoryUsage,e.rootMemoryUsage,!0),[e.nodeMemoryUsage,e.rootMemoryUsage]),D={transform:`translate3d(0px, ${e.top}px, 0)`,width:e.width,height:q.F},M=e.fixed&&0!==e.width,F="FRAME"===e.nodeType,U=g()({[J.nM]:!0,[J.M4]:0===e.level,[J.Gt]:F&&!ti(e)&&!e.resizeToFit&&!e.isStateGroup,[J.Os]:F&&!ti(e)&&e.resizeToFit,[J.t$]:F&&ti(e),[J.DT]:e.isStateGroup,[J.a6]:(0,x.MT)(e.nodeType),[J.uW]:"SECTION"===e.nodeType,[J.HR]:"SYMBOL"===e.nodeType,[J.xG]:"MODULE"===e.nodeType,[J.KJ]:"INSTANCE"===e.nodeType,[J.iE]:e.isStamp,[J.Zt]:"HIGHLIGHT"===e.nodeType,[J.HL]:"WIDGET"===e.nodeType||e.isWidgetSublayer,[J.j3]:e.isDescendantOfSymbol,[J.cb]:e.isDescendantOfInstance,[J.vp]:e.isDescendantOfModule,[J.dK]:e.mask,[J.i9]:(0,Z.qW)(e.panelType),[J.Zu]:!!M,[J.lh]:!!e.layerAbove,[J.yo]:e.isHovered,[J.wH]:e.isSelected,[J.ct]:e.isAncestorSelected,[J.r9]:!e.visible||e.isAncestorHidden,[J.xt]:e.locked||e.isAncestorLocked,[J.sz]:e.hasChildren&&e.isExpanded}),B=(null==(t=e.versionHistory)?void 0:t.activeId)&&"current_version"===e.versionHistory.activeId,H=e.showMemoryUsage&&e.showInFileMemoryPercentage&&!e.isRenaming&&B;return i.createElement("div",{className:U,style:D,onContextMenu:p,onMouseEnter:_,draggable:!1,onDragOver:w,onDrop:C,onDragStart:I,onDragEnter:O,onDragLeave:P,"data-testid":e.hasChildren?"layer-row-with-children":"layer-row","data-tooltip-type":G.Ib.TEXT,"data-tooltip":o?s:null,"data-tooltip-max-lines":4,"data-tooltip-hide-immediately":!0,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0},i.createElement(tp,{guid:e.guid,mask:e.mask,level:e.level,hasChildren:e.hasChildren,isExpanded:e.isExpanded,displayOrder:e.displayOrder,isMaskedAtLevels:e.isMaskedAtLevels,isLastMaskedAtLevels:e.isLastMaskedAtLevels,dispatch:e.dispatch,expandMouseDown:e.expandMouseDown,currentPage:e.currentPage,recordingKey:T.Pt(e,"indents"),hasBullet:a}),i.createElement(td,{...e,layerNameRef:n}),H&&i.createElement("span",{className:J.HY,dir:"auto"},k()),!e.hideRowActions&&!e.isRenaming&&!e.isReadOnly&&!e.isDragging&&i.createElement("span",{className:J.cm},i.createElement(tE,{recordingKey:T.Pt(e,"lockIcon"),locked:e.locked,isAncestorLocked:e.isAncestorLocked,onMouseDown:f}),i.createElement(ty,{recordingKey:T.Pt(e,"visibleIcon"),visible:e.visible,isAncestorHidden:e.isAncestorHidden,onMouseDown:b})))}tl.displayName="SectionRow",tu.displayName="ObjectRow";class tp extends i.PureComponent{constructor(){super(...arguments),this.expandMouseDown=e=>{this.props.expandMouseDown(this.props.guid,e)}}renderNodeIndents(){let e=[];for(let t=0;t<this.props.level+1;t++){let r=`[${t}]`,n=-1!==this.props.isLastMaskedAtLevels.indexOf(r),a=-1!==this.props.isMaskedAtLevels.indexOf(r),o=t===this.props.level&&this.props.mask,c=t===this.props.level&&this.props.hasChildren,d=J.dK;this.props.displayOrder===P.kH.DOM&&(d+=" "+J.TY),o||a||n?n?e.push(i.createElement(w.B,{key:t,svg:c?eL.A:eR.A,className:d})):a?e.push(i.createElement(w.B,{key:t,svg:c?eO.A:eN.A,className:d})):o&&e.push(i.createElement(w.B,{key:t,svg:c?eA.A:ew.A,className:d})):e.push(i.createElement("span",{key:t,className:J.pZ})),this.props.hasBullet&&t===this.props.level?e.push(i.createElement(S.D8,{"data-testid":"new-frame-bullet",key:"expand-caret",recordingKey:T.Pt(this.props,"expandCaret"),className:J.OI,onMouseDown:this.expandMouseDown,role:"presentation"},i.createElement(tn,null))):c&&e.push(i.createElement(S.D8,{key:"expand-caret",recordingKey:T.Pt(this.props,"expandCaret"),className:this.props.isExpanded?J.ey:J.GE,onMouseDown:this.expandMouseDown,role:"presentation"},i.createElement(A.U,{svg:this.props.isExpanded?X.A:Q.A},this.props.isExpanded?i.createElement(l.O,null):i.createElement(s.k,null))))}return e}render(){return i.createElement("span",{className:J.Wm},this.renderNodeIndents())}}tp.displayName="Indents";let tm=new v.q(750);function t_(e,t){let r=tm.get(e);return r&&r.thumbnailId===t||(r={thumbnailId:t,svg:F.NO(e)},tm.set(e,r)),r.svg}(e=>{function t(e,t){var r;if(!e)return eM.A;let n=e.type;switch((0,x.GI)(e)&&(n="STAMP"),n){case"BOOLEAN_OPERATION":switch(e.booleanOperation){case"UNION":return ed.A;case"INTERSECT":return es.A;case"SUBTRACT":return ec.A;case"XOR":return eu.A;default:return eM.A}case"VECTOR":return e7.A;case"STAR":return eX.A;case"LINE":return eb.A;case"ELLIPSE":return em.A;case"RECTANGLE":break;case"REGULAR_POLYGON":return eD.A;case"ROUNDED_RECTANGLE":return 0===e.cornerRadius?eM.A:ex.A;case"TEXT":return e4.A;case"SLICE":return eH.A;case"GROUP":case"FRAME":if((0,K.oz)()&&ta(e)&&e.isResponsiveSet)return i.createElement(c.A,null);if((0,K.oz)()&&ta(e)&&(null==(r=e.parentNode)?void 0:r.isResponsiveSet))return(0,W.l)(e.size.x);if(e.isStateGroup)return e1.A;if(ti(e))return to(e);else if(e.resizeToFit)return eg.A;else return eh.A;case"MODULE":return e3.A;case"SYMBOL":if((0,E.kc)().dse_templates_proto&&ta(e)&&e.isTemplate)return e3.A;if(ta(e)&&e.isState||(null==t?void 0:t.isStateGroup))return e2.A;return e1.A;case"INSTANCE":return ef.A;case"STICKY":return eQ.A;case"SHAPE_WITH_TEXT":return eU.A;case"CONNECTOR":return ep.A;case"STAMP":return eJ.A;case"SECTION":return eF.A;case"WIDGET":{let t=e.guid?U.qo.instance.get(e.guid.toString()):null;if(t&&"EMBED_WIDGET"===t.widgetId)return e_.A;if(t&&"LINK_PREVIEW_WIDGET"===t.widgetId)return ev.A;return e9.A}case"CANVAS":return eP.A;case"TABLE":return e5.A;case"SLIDE":return eV.A}return eM.A}function r(e){let t=(0,I.xx)((e,t)=>t_(e,t)),{guid:r,node:n,isMenuIcon:a,isMenuIconPurple:o,className:s,editModeType:c,detachedInfo:d}=e,u=n?t(r,n.objectsPanelThumbnailId):"",p=null==n?void 0:n.hasEnabledAnimatedPaint,m=null==n?void 0:n.hasEnabledVideoPaint,_=null==n?void 0:n.isLiveObject;return i.createElement(l,{className:s,node:n,isMenuIcon:a,isMenuIconPurple:o,thumbnailSrc:u,onDoubleClick:()=>{e.node&&(e.navigateAndPanTo?e.navigateAndPanTo(e.node.guid):k.glU.panToNode(e.node.guid))},animated:p||m,staticImage:null==n?void 0:n.hasEnabledStaticImagePaint,editModeType:c,detachedInfo:d,isLiveObject:_,isDefaultResponsiveSet:e.isDefaultResponsiveSet})}e.defaultIconSrcForNode=t,e.LayerIcon=r,r.displayName="LayerIcon";let n=e=>e.mirror.sceneGraph;e.ConnectedLayerIcon=function(e){let t=(0,o.d4)(n);return i.createElement(r,{...e,node:t.get(e.guid)||null})};class a extends i.PureComponent{getAllPaints(e){return[...e.fillPaints||[],...e.strokePaints||[],...e.backgroundPaints||[]]}renderBaseIcon(){let{node:e,parentNode:t,isMenuIcon:r,isMenuIconPurple:n,className:a}=this.props;return i.createElement(l,{className:a,node:e,parentNode:t,isMenuIcon:r,isMenuIconPurple:n,animated:this.hasEnabledAnimatedPaintNodeChange(e),staticImage:this.hasEnabledStaticPaintNodeChange(e)})}renderVariableIcon(){let{variableResolvedType:e}=this.props.node;return null==e?this.renderBaseIcon():i.createElement($.i,{type:e})}renderVariableCollectionIcon(){return i.createElement(w.B,{svg:tr.A,className:this.props.className,autosize:!0})}renderStyleIcon(){let{node:e,className:t}=this.props;switch(e.styleType){case"GRID":let r=(0,L.s$)(e);return i.createElement(w.B,{svg:r,className:t,autosize:!0,width:"10px"});case"FILL":return i.createElement(w.B,{svg:er.A,className:t});case"EFFECT":return i.createElement(w.B,{svg:et.A,className:t});case"TEXT":return i.createElement(w.B,{svg:en.A,className:t});default:return this.renderBaseIcon()}}hasEnabledAnimatedPaintNodeChange(e){for(let t of this.getAllPaints(e))if(t.animatedImage)return!0;return!1}hasEnabledStaticPaintNodeChange(e){for(let t of this.getAllPaints(e))if(t.image)return!0;return!1}render(){let{node:e,className:t}=this.props;return e.styleType?this.renderStyleIcon():"VARIABLE"===e.type?this.renderVariableIcon():"VARIABLE_SET"===e.type?this.renderVariableCollectionIcon():"CANVAS"===e.type?i.createElement(w.B,{svg:ei.A,className:t}):this.renderBaseIcon()}}e.NodeChangeIcon=a;class l extends i.PureComponent{render(){let e,r;let{node:n,parentNode:a,animated:o,staticImage:l,thumbnailSrc:s,isMenuIcon:c,isMenuIconPurple:u,onDoubleClick:p,editModeType:m,detachedInfo:_,isLiveObject:h}=this.props;if(!n)return null;let f=J.V3;s&&(f=J.W5),c&&(f=u?J.aN:J.TK);let E=!1;this.props.isDefaultResponsiveSet?e=i.createElement(d.Q,null):n.mask?e=eC.A:(o||l)&&(0,x.oY)(n.type)&&!(0,x.GI)(n)?e=o?eE.A:ey.A:s?e=(0,w.V)(s):m===k.m1T.DEV_HANDOFF&&(null==_?void 0:_.status)==="loaded"&&"SYMBOL"!==n.type&&"INSTANCE"!==n.type?(e=ee.A,E=!0):h?e=eI.A:(e=t(n,a),r=function(e){if(e)switch(e.type){case"TEXT":return e8.A;case"STICKY":return e0.A;case"SHAPE_WITH_TEXT":return eB.A;case"FRAME":if(ti(e))return to(e);break;case"CANVAS":return ek.A}}(n));let y=!E&&"ABSOLUTE"===n.stackPositioning&&i.createElement(w.B,{className:J.E7,svg:el.A});return i.createElement("span",{className:g()(this.props.className||f,J.P0),onDoubleClick:p},"string"==typeof e?i.createElement(C.t,{svg:e,fallbackSvg:r}):i.createElement("span",{style:{stroke:"none",fill:"none"}},e),y)}}e.LayerIconBase=l})(n||(n={}));let th=n.ConnectedLayerIcon,tg=n.NodeChangeIcon,tf=i.createElement("div",{style:{borderRadius:"var(--radius-full)",backgroundColor:"var(--color-icon)",height:"4px",width:"4px"}});class tE extends T.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=T.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t,r;return this.props.locked?(e=eT.A,t=eS.A,r=i.createElement(u.s,null)):this.props.isAncestorLocked?(e=ea.A,r=tf):(e=e6.A,r=i.createElement(p.r,null)),i.createElement("div",{className:J.hz,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation,role:"presentation"},i.createElement(A.U,{svg:e,fallbackSvg:t},r))}}tE.displayName="LockIcon";class ty extends T.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=T.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t;return this.props.isAncestorHidden&&this.props.visible?(e=ea.A,t=tf):(e=this.props.visible?tt.A:te.A,t=this.props.visible?i.createElement(m.l,null):i.createElement(_.f,null)),i.createElement("div",{className:J.yk,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation,role:"presentation"},i.createElement(A.U,{svg:e},t))}}function tb(e){let t=(0,M.Z)("prototype_sections_zoom"),r=i.useCallback(e=>{t((0,H.QZ)({nodeId:e,alwaysPan:!0}))},[t]),n=(0,B.o3)(e.guid);return i.createElement(tu,{...e,explicitVariableModeNames:n,navigateAndPanTo:r})}ty.displayName="VisibleIcon"},781374:(e,t,r)=>{"use strict";r.d(t,{XK:()=>es,uK:()=>eo});var n=r(411855),i=r(109388),a=r(188507),o=r(629019),l=r.n(o),s=r(841563),c=r.n(s),d=r(776250),u=r(935283),p=r(737433),m=r(173292),_=r(966712),h=r(374626),g=r(498750),f=r(668876),E=r(951158),y=r(563706),b=r(153234),v=r(776621),I=r(304783),T=r(554322),S=r(572206),w=r(448169),A=r(827586),C=r(256975),N=r(738269),O=r(259927),L=r(13379),R=r(83909),P=r(356390),k=r(852800),D=r(662531),M=r(617453),x=r(732156),F=r(843495),U=r(497306),B=r(341860),H=r(698993),V=r(860178),G=r(100197),W=r(939562),K=r(601607),Y=r(436417),j=r(378762),z=r(273226),$=r(507956),Z=r(36127),q=r(187882),J=r(7056),X=r(798558),Q=r(741944),ee=r(739212),et=r(357864),er=r(194792),en=r(10378);let ei=new f.V;function ea(e){return"object"===e.rowType?e.guid:"layer-expansion"===e.rowType?`expand-${e.containingPrimaryInstanceGUID}`:e.sectionId}let eo=(0,m.o)();class el extends b.o6{constructor(e){super(e),this.state={scrollTop:0,mouseDown:null,dropTarget:null,needsScrollLine:!1},this.AIRenameScrollEventListener=null,this.cachedAllRowData=[],this.topByGuid=Object.create(null),this.totalHeight=0,this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.rangeSelectAnchorNodeId=null,this.getScene=()=>this.props.sceneGraph||B.qo.instance,this.initializeRows=e=>{let t=this.getScene(),r=e.customRowBuilder?e.customRowBuilder():(0,et.Sk)(t,e.topNodeFields,e.showImmutableFrameSublayers,e.temporarilyExpandedInstanceLayers,e.includeTopNode);this.topByGuid=r.topByGuid,this.sectionById=r.sectionById,this.totalHeight=r.totalHeight,this.cachedAllRowData=r.rowData},this.justToggledExpandedGuid=null,this.anchorNodeId=null,this.topNodeDelta=0,this.lastCollapsedScrollPosition=null,this.scrollAfterNodeExpanded=!1,this.lastCollapsedGuid=null,this.hasCrossedDragThreshold=!1,this.onLeftPanelCollapsedChange=e=>{if(!e){let e=this.getTopSelectedNodeId();e&&this.scrollToNode({nodeId:e})}},this.scrollToNodeIdAfterUpdate=null,this.scrollToNode=({nodeId:e,forStackInsertion:t})=>{let r=this.topByGuid[e];if(null==r){let t=this.getScene().get(e);t&&t.parentGuid&&F.hq(t.parentGuid),this.scrollToNodeIdAfterUpdate=e;return}this.isVisible(r,r+Q.F)||this.scrollNodeIntoView(e,{forStackInsertion:t})},this.onAIRenameScrollToNode=({guid:e})=>{h.zl.get(Z.uK).autoScroll&&this.scrollNodeIntoView(e,{fromAIRename:!0})},this.recalculateLayout=()=>{this.windowInnerHeight=window.innerHeight,this.recalculateRequested=!1},this.recalculateRequested=!1,this.requestRecalculateLayout=()=>{this.recalculateRequested||requestAnimationFrame(this.recalculateLayout)},this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll=null,this.onScroll=e=>{this.isScrolling=!0,this.nextScrollTop=e,null==this.frameRequest&&(this.frameRequest=requestAnimationFrame(this.setScrollTopState)),null!=this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.doneScrolling,50),this.props.onScroll(e),this.setNeedsScrollLine(e),h.zl.set(Z.uK,{autoScroll:!1})},this.doneScrolling=()=>{this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll&&(this.handleMouseEnterAfterScroll(),this.handleMouseEnterAfterScroll=null)},this.computeScrollDelta=e=>{let t=e/Q.F;return Q.F*t*t},this.frameRequest=null,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequest=null},this.isNodeSticky=e=>((0,v.xO)(I.e.FIGJAM_CORE,this.props),e.parentGuid===this.props.currentPage&&("SYMBOL"===e.type||"FRAME"===e.type&&!e.resizeToFit)),this.isAncestorSticky=e=>{let t=this.getScene(),r=e.parentGuid?t.get(e.parentGuid):null;for(;r&&r.guid!==this.props.currentPage;){if(this.isNodeSticky(r))return!0;r=r.parentGuid?t.get(r.parentGuid):null}return!1},this.stickyHeaderGuid=null,this.lastStickyHeaderGuid=null,this.lastExpansionTarget=null,this.findStickyHeaderRowAndReplaceInVisibleRows=e=>{if(this.stickyHeaderGuid=null,(this.state.scrollTop>0||this.scrollAfterNodeExpanded)&&e.length>0){let t;let r=this.state.scrollTop,n=(e,t,r)=>{if("object"!==e.rowType)return!1;let n=this.findStickyHeader(e,t,r);if(n){let t=this.renderedVisibleRowProps.indexOf(e);t>=0?this.renderedVisibleRowProps[t]=n:this.renderedVisibleRowProps.push(n)}return!!n},i=null;for(let a=0;a<e.length;a++)if(0===(t=e[a]).level){if(i&&n(i,i.top,t.top)||t.top>r)return;i=t}(0,u.KF)(!!i,"has at least one top level section"),n(i,i.top,Number.POSITIVE_INFINITY)}},this.scrollNodeIntoView=(e,t)=>{let r=t&&t.fromAIRename||!1,n=t&&t.forStackInsertion||!1;if(null==this.topByGuid[e]||!this.scrollContainerEl)return;let i=this.topByGuid[e],a=this.state.scrollTop,o=this.scrollContainerHeight();if(this.stickyHeaderGuid===e){n&&this.scrollContainer.scrollTo(i-1);return}let l=this.getScene().get(e);if(!l)return;r||h.zl.set(Z.uK,{autoScroll:!1});let s=this.isAncestorSticky(l);s&&i<a+Q.F?this.scrollContainer.scrollTo(i-Q.F):!s&&i<a?this.scrollContainer.scrollTo(i):i+Q.F>a+o&&this.scrollContainer.scrollTo(i-o/2)},this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu){this.props.onRowContextMenu(e,t);return}let r=this.getScene().get(e);if(!r)return;(0,j.sp)(this.getScene(),this.props.sceneGraphSelection,r.guid)||this.updateSelection(r.guid);let{clientX:n,clientY:i}=t;this.props.dispatch(N.j7({type:O.Rb,data:{clientX:n,clientY:i}}))},this.rowContainerMouseDown=b.cZ(this,"mousedown",e=>{let t=this.guidAtMousePosition(e.clientY);if(!t)return;if(e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&!this.props.renamingGuid&&document.activeElement.blur(),(this.props.allowToggleSelection??!0)&&(0,g.Fo)(e)){this.toggleSelected(t);return}(0,_.kc)().version_diffing&&this.props.editModeType===k.m1T.COMPARE_CHANGES&&k.glU.setActiveChange(t)&&this.props.showViewChangesNotification(t);let r=(0,E.IL)(this.props.sceneGraphSelection),n=null;if(r?n=r:this.rangeSelectAnchorNodeId&&(0,j.K3)(this.props.sceneGraphSelection,this.rangeSelectAnchorNodeId)&&(n=this.rangeSelectAnchorNodeId),(this.props.allowSelectRange??!0)&&e.shiftKey&&n){F.GL(n,t),P.Y5.commit();return}(0,j.sp)(this.getScene(),this.props.sceneGraphSelection,t)||(this.updateSelection(t),this.rangeSelectAnchorNodeId=t),(0,L.i)(e)||this.setState({mouseDown:new S.Mi(e.clientX,e.clientY)})},{recordMetadata:e=>{let t=this.guidAtMousePosition(e.clientY);return(0,u.KF)(!!t,"interaction test does not support rare case of no guid under mouse (empty layers panel?)"),{path:(0,ee.eT)(t,this.getScene()),clientX:e.clientX}},playbackMetadata:e=>{let t=this.topByGuid[(0,ee.g2)(e.path,this.getScene(),this.props.currentPage)]+Q.F/2;return{clientY:this.clientY(t),clientX:e.clientX}}}),this.onMouseMove=e=>{if(this.state.mouseDown&&!this.props.renamingGuid){this.state.mouseDown.distanceTo({x:e.clientX,y:e.clientY})>3&&(this.hasCrossedDragThreshold=!0);let t=this.relativeY(e.clientY),r=this.state.scrollTop,n=this.scrollContainerHeight();if(n>0){if(t<r){this.scrollContainer.scrollTo(r-this.computeScrollDelta(r-t));return}if(t>r+n){this.scrollContainer.scrollTo(r+this.computeScrollDelta(t-r-n));return}}let i=(0,ee.OL)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,t,this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??ee.g$.Object,this.props.topNodeFields);this.state.dropTarget&&i&&this.state.dropTarget.index!==i.index&&p.H.trigger(k.JA.SNAP),(this.hasCrossedDragThreshold||!i)&&(this.expandDropTargetIfNeeded(i,t),this.setState({dropTarget:i}))}},this.onMouseUp=b.cZ(this,"mouseup",e=>{let t=this.getScene(),r=!1;if(this.hasCrossedDragThreshold=!1,this.state.mouseDown&&!this.props.renamingGuid){if(r=!0,3>=this.state.mouseDown.distanceTo(new S.Mi(e.clientX,e.clientY))){if(!(0,L.i)(e)){let t=this.guidAtMousePosition(e.clientY);t?this.updateSelection(t):r=!1}}else if(!this.props.isReadOnly){let r=(0,ee.OL)(t,this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,this.relativeY(e.clientY),this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??ee.g$.Object,this.props.topNodeFields);if(!r)return;let{parentGuid:n,index:i,section:a}=r,o=t.get(n);if(!o||void 0===i)return;let l=e.altKey,s=(0,ee.Lc)(o,i);l?D.l7.user("duplicate-selection",()=>F.kH(o.guid,s,a)):D.l7.user("reparent-selection",()=>F.Yu(o.guid,s,a)),F.hq(o.guid),k.Egt.clearTemporarilyExpanded(),P.Y5.commit()}}if(this.setState({mouseDown:null,dropTarget:null}),this.isDraggingToToggle&&(r=!0,this.isDraggingToToggle=null,P.Y5.commit()),!r)return b.aH},{recordMetadata:e=>{let t=this.getScene(),r=this.guidAtMousePosition(e.clientY),n=this.relativeY(e.clientY);(0,u.KF)(!!r,"interaction test does not support rare case of no guid under mouse (empty layers panel?)");let i=this.topByGuid[r];return{path:(0,ee.eT)(r,t),treatAsEndOfClick:!!(this.state.mouseDown&&5>this.state.mouseDown.distanceTo(new S.Mi(e.clientX,e.clientY))),belowAll:n>i+Q.F,clientX:e.clientX}},playbackMetadata:e=>{if(e.treatAsEndOfClick)return{clientX:this.state.mouseDown.x,clientY:this.state.mouseDown.y};{let t=this.topByGuid[(0,ee.g2)(e.path,this.getScene(),this.props.currentPage)]+Q.F/2;return e.belowAll&&(t+=Q.F),{clientY:this.clientY(t),clientX:e.clientX}}}}),this.onScrollContainerMouseDown=()=>{F.wr(),P.Y5.commit()},this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerEl=i.findDOMNode(e)},this.containerMouseLeave=e=>{F.Uc(""),null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout)},this.expandMouseDown=(e,t)=>{let r=this.getScene().get(e);if(!r)return;t.stopPropagation(),(0,d.sx)("objects_panel_expand",{nonInteraction:0});let n=!r.isExpanded;t.altKey?F.sK(r.guid,n):(0,g.Fo)(t)&&!(0,E.Im)(this.props.sceneGraphSelection)?F.yF(r.guid,n):F.sq(r.guid,n),this.justToggledExpandedGuid=r.guid},this.isDraggingToToggle=null,this.lockMouseDown=(e,t)=>{let r=this.getScene().get(e);if(!r||this.props.isReadOnly)return;t.stopPropagation();let n=!r.locked;this.isDraggingToToggle={locked:n},D.l7.user("set-locked__LEGACY_UNBILLED",()=>{F.tU(r.guid,n,t.altKey)})},this.visibleMouseDown=(e,t)=>{let r=this.getScene().get(e);if(!r||this.props.isReadOnly)return;t.stopPropagation();let n=!r.visible;this.isDraggingToToggle={visible:n},D.l7.user("set-visible__LEGACY_UNBILLED",()=>{F.pr(r.guid,n,t.altKey)})},this.hoverToExpandGroupTimeout=null,this.rowMouseEnter=(e,t)=>{let r=this.getScene().get(e);if(!r)return;let n=()=>{if(this.isDraggingToToggle){let{locked:e,visible:t}=this.isDraggingToToggle;null!=e&&D.l7.user("set-locked",()=>(function(e,t,r){if(!e)return;let n=!1;ec(e,r,e=>{n=n||e.locked!==t,e.locked=t}),n&&R.wt.reportAnyPropertyChange(["locked"])})(r,e,!1)),null!=t&&D.l7.user("set-visible",()=>(function(e,t,r){if(!e)return;let n=!1;ec(e,r,e=>{n=n||e.visible!==t,e.visible=t}),n&&R.wt.reportAnyPropertyChange(["visible"])})(r,t,!1))}this.state.mouseDown||F.Uc(r.guid)};y.Ay.firefox&&this.isScrolling?this.handleMouseEnterAfterScroll=n:n()},this.onDragDrop=(e,t)=>{this.onMouseUp(t.nativeEvent)},this.onDragOver=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.onDragEnter=(e,t)=>{this.onMouseMove(t.nativeEvent),this.rowMouseEnter(e,t)},this.onDragLeave=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.renderedVisibleRowProps=[],this.touchAdapter=new Y.V(this,this.rowContainerMouseDown,this.onMouseMove,this.onMouseUp,{delayInMS:500,observeInsideOverflowScroll:!0}),this.recalculateLayout(),this.initializeRows(this.props)}componentDidMount(){super.componentDidMount(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.requestRecalculateLayout),P.Y5.fromFullscreen.on("scrollToNode",this.scrollToNode),this.AIRenameScrollEventListener=eo.subscribe(this.onAIRenameScrollToNode);let e=k.glU&&k.glU.getFirstSelectedNodeIdForCurrentPage();e&&this.scrollToNode({nodeId:e})}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.requestRecalculateLayout),P.Y5.fromFullscreen.removeListener("scrollToNode",this.scrollToNode)}updateSelection(e){(0,H.S)("panel"),F.tJ([e]),P.Y5.commit(),this.props.onSelectionUpdated&&this.props.onSelectionUpdated(e)}UNSAFE_componentWillUpdate(e,t){e.renamingGuid&&e.renamingGuid!==this.props.renamingGuid&&(this.scrollToNodeIdAfterUpdate=e.renamingGuid);let r=this.props.objectsPanelRowRebuildCounter!==e.objectsPanelRowRebuildCounter,n=this.props.customRowBuilder!==e.customRowBuilder;if((r||n||this.props.currentPage!==e.currentPage||this.props.showImmutableFrameSublayers!==e.showImmutableFrameSublayers||!c()(this.props.temporarilyExpandedInstanceLayers,e.temporarilyExpandedInstanceLayers)||!c()(this.props.temporarilyHoveredNodes,e.temporarilyHoveredNodes))&&this.initializeRows(e),this.anchorNodeId=null,this.topNodeDelta=0,r){if(null!==this.justToggledExpandedGuid)this.justToggledExpandedGuid===this.stickyHeaderGuid?(this.lastCollapsedScrollPosition=this.state.scrollTop,this.lastCollapsedGuid=this.justToggledExpandedGuid,this.scrollToNodeIdAfterUpdate=this.stickyHeaderGuid):this.justToggledExpandedGuid===this.lastCollapsedGuid&&this.justToggledExpandedGuid===this.lastStickyHeaderGuid&&this.topByGuid[this.lastStickyHeaderGuid]===this.state.scrollTop&&(this.scrollAfterNodeExpanded=!0),this.justToggledExpandedGuid=null;else{let e=!1;for(let t of this.renderedVisibleRowProps)if("object"===t.rowType&&(0,ee.U$)(t,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&this.props.sceneGraphSelection[t.guid]){e=!0;break}let t=null,r=null;for(let n of this.renderedVisibleRowProps)"object"===n.rowType&&(0,ee.U$)(n,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&((!e||this.props.sceneGraphSelection[n.guid])&&(null===t||t>n.top)&&(t=n.top,this.anchorNodeId=n.guid),(null===r||r>n.top)&&(r=n.top,this.topNodeDelta=this.topByGuid[n.guid]-n.top))}}}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),this.scrollToNodeIdAfterUpdate)this.scrollNodeIntoView(this.scrollToNodeIdAfterUpdate),void 0!==this.topByGuid[this.scrollToNodeIdAfterUpdate]&&(this.scrollToNodeIdAfterUpdate=null);else if(this.scrollAfterNodeExpanded)null!=this.lastCollapsedScrollPosition&&this.scrollContainer.scrollTo(this.lastCollapsedScrollPosition),this.scrollAfterNodeExpanded=!1,this.lastCollapsedScrollPosition=null,this.lastCollapsedGuid=null;else{let e=this.scrollContainer.getScrollTop()+this.topNodeDelta,t=!1;for(let r of this.renderedVisibleRowProps)if("object"===r.rowType&&r.guid===this.anchorNodeId){t=(0,ee.U$)(r,0,this.scrollContainer.getTrackHeight(),e);break}t?this.scrollContainer.scrollTo(e):this.anchorNodeId&&this.scrollNodeIntoView(this.anchorNodeId)}}getTopSelectedNodeId(){let e;let t=Object.keys(this.props.sceneGraphSelection),r=1/0;for(let n of t){let t=this.topByGuid[n];t<r&&(r=t,e=n)}return e}findStickyHeader(e,t,r){let n=this.state.scrollTop,i=this.getScene().get(e.guid);if(!i)return null;if(this.isNodeSticky(i)&&e.hasChildren&&(e.isExpanded||e.isTemporarilyExpanded)){if(t<=n&&r>n+Q.F)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0};if(r>n&&r<=n+Q.F)return{...e,top:r-Q.F,layerAbove:!0};if(this.scrollAfterNodeExpanded&&e.guid===this.lastStickyHeaderGuid)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}}return null}expandDropTargetIfNeeded(e,t){let r=null;if(e&&"sticky"!==e.parentTop){let n=this.getScene().get(e.parentGuid);(0,u.KF)(!!n,"parentGuid should point to a valid node");let i=t>e.parentTop+Q.F/3&&t<e.parentTop+2*Q.F/3;n.uiOrderedChildren.length&&i&&(r=n.guid)}this.lastExpansionTarget!==r&&(this.lastExpansionTarget&&null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout),r&&(this.hoverToExpandGroupTimeout=setTimeout(()=>{this.state.mouseDown&&F.Ir(r,!0)},1e3)),this.lastExpansionTarget=r)}toggleSelected(e){this.props.sceneGraphSelection[e]?F.D$([e]):(F.Dh([e]),this.rangeSelectAnchorNodeId=e),P.Y5.commit()}relativeY(e){let t=(0,T.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e-t+this.state.scrollTop}clientY(e){let t=(0,T.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e+t-this.state.scrollTop}isVisible(e,t){if(!this.scrollContainerEl)return!0;let r=this.state.scrollTop,n=this.scrollContainerEl.getBoundingClientRect().height+this.state.scrollTop;return r<e&&t<n}guidAtMousePosition(e){return this.mouseOverStickyHeaderGuid(e)||(0,ee.GN)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.relativeY(e))}mouseOverStickyHeaderGuid(e){return e-this.scrollContainerEl.getBoundingClientRect().top<Q.F?this.stickyHeaderGuid:null}computeStackOutlineHeight(e,t,r,n){return"sticky"===e?Math.min(t-r,n):Math.min(t-e,n-(e-r))}scrollContainerHeight(){return this.scrollContainerEl?this.scrollContainerEl.clientHeight:0}renderDropTarget(e){let t=null;if(null!=e.parentTop){let r=this.scrollContainerHeight(),i=e.bottomForCanvasStackReparenting,a=Q.F,o="sticky"===e.parentTop||this.stickyHeaderGuid===e.parentGuid;i&&r&&(a=this.computeStackOutlineHeight(o?"sticky":e.parentTop,i,this.state.scrollTop,r)),t=o?n.createElement("div",{key:"drop-target-box",className:en.oC,style:{position:"sticky",width:this.props.width,height:a,zIndex:er.Wb}}):n.createElement("div",{key:"drop-target-box",className:en.oC,style:{transform:`translate3d(0px, ${e.parentTop}px, 0)`,height:a}})}let r=null;return null!=e.lineTop&&(r=n.createElement("div",{key:"drop-target-line",className:e.isCanvasStackReparenting?en._K:en.D8,style:{marginLeft:`${e.lineIndent?e.lineIndent:0}px`,transform:`translate3d(0px, ${0===e.lineTop?0:e.lineTop-1}px, 0)`,transition:"margin-left 150ms 0ms"}})),[t,r]}onContextMenu(e){e.stopPropagation(),e.preventDefault()}hasAtLeastOneRefToHoveredDefId(e){var t;if(!this.props.hoveredPropDef||!(null==(t=this.props.hoveredPropDef.nodeIDs)?void 0:t.length)||!this.props.hoveredPropDef.defID)return!1;let r=e.containingSymbolId;if(!r||!this.props.hoveredPropDef.nodeIDs.includes(r))return!1;for(let t of Object.values(e.propRefs))if(t.isLinked&&t.explicitDefID===this.props.hoveredPropDef.defID)return!0;return!1}renderObjectRow(e,t){var r;let i=t.getNode(e.guid);if(!i||!i.parentGuid)return null;let a=t.getAncestorInfo(i.parentGuid),o=t.getMaskInfo(e.guid),l=(0,j.K3)(this.props.sceneGraphSelection,e.guid);if(!a||!o)return null;let s=(a.isAncestorSelected||l)&&!a.isAncestorHidden&&this.hasAtLeastOneRefToHoveredDefId(i);return n.createElement(X.oo,{key:ei.getKeyForId(e.guid),isReadOnly:this.props.isReadOnly,...e,renderResourceUse:this.props.renderResourceUse,showMemoryUsage:this.props.showMemoryUsage,showInFileMemoryPercentage:this.props.showInFileMemoryPercentage,nodeMemoryUsage:i.nodeMemoryUsage,rootMemoryUsage:i.rootMemoryUsage,isAncestorHidden:a.isAncestorHidden,isAncestorLocked:a.isAncestorLocked,isAncestorSelected:a.isAncestorSelected,displayOrder:a.childrenDisplayOrder,isMaskedAtLevels:o.isMaskedAtLevels,isLastMaskedAtLevels:o.isLastMaskedAtLevels,width:this.props.width,name:i.name,abbreviatedStateName:i.isState?i.stateAbbreviatedName:null,nodeType:i.type,isStamp:(0,U.GI)(i),visible:i.visible,mask:i.mask,locked:i.locked,resizeToFit:i.resizeToFit,stackMode:i.stackMode,isStateGroup:i.isStateGroup,isState:i.isState,scrollDirection:i.scrollDirection,booleanOperation:i.booleanOperation,isStaticImage:i.hasEnabledStaticImagePaint,isGIF:i.hasEnabledAnimatedPaint,cornerRadius:i.cornerRadius,objectsPanelThumbnailId:i.objectsPanelThumbnailId,isWidgetSublayer:!!i.isInWidget,hasChildren:i.isExpandable||e.hasChildren||(0,z.vo)(i,this.getScene()),isExpanded:e.isExpanded||e.isTemporarilyExpanded,isHovered:this.props.hoveredNode===e.guid||this.props.temporarilyHoveredNodes.includes(e.guid)||s,isSelected:l,isRenaming:this.props.renamingGuid===e.guid,isDragging:!!this.state.dropTarget,startRenaming:this.props.startRenaming,stopRenaming:this.props.stopRenaming,onContextMenu:this.rowContextMenu,expandMouseDown:this.expandMouseDown,lockMouseDown:this.lockMouseDown,visibleMouseDown:this.visibleMouseDown,onMouseEnter:this.rowMouseEnter,dispatch:this.props.dispatch,shouldShowGuids:this.props.shouldShowGuids,currentPage:this.props.currentPage,onDragDropCallback:this.onDragDrop,onDragOverCallback:this.onDragOver,onDragEnterCallback:this.onDragEnter,onDragLeaveCallback:this.onDragLeave,isThumbnail:this.props.thumbnailGuid===e.guid,layerChangeStatus:i.nodeChangeStatus,versionHistory:this.props.versionHistory,userId:this.props.userId,hideRowActions:this.props.hideRowActions,isDefaultResponsiveSet:(null==(r=this.props.topNodeFields)?void 0:r.defaultResponsiveSetId)===e.guid,isResponsiveSet:i.isResponsiveSet,panelType:this.props.panelType??ee.g$.Object})}renderLayerExpansionRow(e){let t=ei.getKeyForId(ea(e));return n.createElement(J.H,{key:t,top:e.top,width:this.props.width,guid:e.containingPrimaryInstanceGUID,level:e.level,onMouseEnter:()=>F.Uc(""),dispatch:this.props.dispatch,recordingKey:b.Pt(this.props,"layerExpansion",e.containingPrimaryInstanceGUID)})}renderSectionHeader(e){let t=this.sectionById[e.sectionId]&&(0,j.sp)(this.getScene(),this.props.sceneGraphSelection,this.sectionById[e.sectionId].parentGuid);return n.createElement(X.O,{key:ei.getKeyForId(e.sectionId),...e,width:this.props.width,isParentSelected:t,dispatch:this.props.dispatch})}render(){let e=this.renderedVisibleRowProps,t=this.cachedAllRowData||[];for(let r of(this.renderedVisibleRowProps=(0,ee.Uw)(t,this.windowInnerHeight,this.state.scrollTop),this.findStickyHeaderRowAndReplaceInVisibleRows(t),e))(0,ee.Mq)(r,this.windowInnerHeight,this.state.scrollTop)||ei.freeKeyForId(ea(r));this.renderedVisibleRowProps.sort((e,t)=>ei.getKeyForId(ea(e))-ei.getKeyForId(ea(t)));let r=new et.nV(this.getScene(),this.props.sceneGraphSelection),i=[];for(let e of this.renderedVisibleRowProps)"object"===e.rowType?i.push(this.renderObjectRow(e,r)):"layer-expansion"===e.rowType?i.push(this.renderLayerExpansionRow(e)):i.push(this.renderSectionHeader(e));if(this.props.reparentIntoStackInfo&&this.props.sceneGraph){let e=this.props.reparentIntoStackInfo.indexInParent,t=this.props.reparentIntoStackInfo.parentGuid,r=this.props.sceneGraph.get(t);r&&i.push(...this.renderDropTarget((0,ee.Gs)(r,this.topByGuid,this.props.sceneGraph,this.totalHeight,e)))}else!this.props.isReadOnly&&this.state.dropTarget&&i.push(...this.renderDropTarget(this.state.dropTarget));let a=this.stickyHeaderGuid||!this.state.needsScrollLine?en.jG:en.ZU;return n.createElement(n.Fragment,null,n.createElement(ee.M3,{selection:this.props.sceneGraphSelection,getNode:function(e){return r.getNode(e)??null}}),n.createElement(A.P,{enableOverscroll:!0,recordingKey:b.Pt(this.props,"scrollContainer"),className:l()(a,{[en.s2]:this.props.hasPending}),width:this.props.width,onScroll:this.onScroll,initialScrollTop:this.props.initialScrollTop,onMouseDown:this.onScrollContainerMouseDown,onContextMenu:this.onContextMenu,ref:this.scrollContainerRef},n.createElement(q.jq,{onLeftPanelCollapsedChange:this.onLeftPanelCollapsedChange}),n.createElement(w.V,null,n.createElement("div",{className:en.qd,style:{height:this.totalHeight},onMouseDown:this.rowContainerMouseDown,onTouchStart:this.touchAdapter.onTouchStart,onMouseLeave:this.containerMouseLeave,"data-testid":"objects-panel"},i))))}}function es({currentPage:e,...t}){var r;let i=(0,a.wA)(),o=(0,G.J2)((0,M.UK)().showImmutableFrameSublayers),l=(0,G.J2)(null==(r=k.Ez5)?void 0:r.uiState().reparentIntoStackInfo),s=(0,G.J2)(k.Ez5.uiState().renderResourceUse),c=(0,G.J2)(k.Ez5.uiState().showMemoryUsage),d=(0,G.J2)(k.Ez5.uiState().hoveredComponentPropDef),u=(0,G.J2)(k.Ez5.uiState().showInFileMemoryPercentage),p=(0,G.J2)(k.Ez5.canvasViewState().temporarilyHoveredNodes),m=(0,V.TA)(),_=(0,a.d4)(e=>e.mirror.sceneGraphSelection),h=(0,a.d4)(e=>e.mirror.objectsPanelRowRebuildCounter),g=(0,a.d4)(e=>e.mirror.appModel.hoveredNode),f=(0,a.d4)(e=>e.mirror.appModel.temporarilyExpandedInstanceLayers),E=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),y=(0,$.ks)(),b=(0,C._I)(),v=(0,x.E)(),I=(0,W.H_)(),T=(0,K.Fk)((e,t)=>{let r=e.get(t);return r?{guid:r.guid,children:r.uiOrderedChildren,defaultResponsiveSetId:r.defaultResponsiveSetId}:null},e);if(y&&!b)return null;let S=void 0===t.topNodeFields?T:t.topNodeFields;return n.createElement(el,{...t,currentPage:e,sceneGraphSelection:_,objectsPanelRowRebuildCounter:h,hoveredNode:g,temporarilyExpandedInstanceLayers:f,editModeType:E,sceneGraph:I,topNodeFields:S,recordingKey:"objectsPanel",showViewChangesNotification:v,hoveredPropDef:d,showImmutableFrameSublayers:o,reparentIntoStackInfo:l,temporarilyHoveredNodes:p,dispatch:i,renderResourceUse:s,showMemoryUsage:c,showInFileMemoryPercentage:u,userId:m??void 0})}function ec(e,t,r){if(r(e),t)for(let t of e.uiOrderedChildren)ec(B.qo.instance.get(t),!0,r)}el.displayName="ObjectsPanelView"},357864:(e,t,r)=>{"use strict";r.d(t,{GY:()=>f,Sk:()=>y,nV:()=>m});var n=r(935283),i=r(572174),a=r(153234),o=r(801204),l=r(852800),s=r(497306),c=r(72274),d=r(378762),u=r(273226),p=r(741944);class m{constructor(e,t){this.sceneGraph=e,this.sceneGraphSelection=t,this.nodes={},this.ancestorInfos={},this.maskInfos={}}getNode(e){if(!this.nodes[e]){let t=this.sceneGraph.get(e);t&&(this.nodes[e]=t)}return this.nodes[e]}getAncestorInfo(e){let t=this.ancestorInfos[e];if(t)return t;let r=this.getNode(e);if((0,n.KF)(null!=r,"getAncestorInfo called on invalid node"),r.parentGuid){let n=this.getAncestorInfo(r.parentGuid);t={isAncestorHidden:n.isAncestorHidden||!r.visible,isAncestorLocked:n.isAncestorLocked||r.locked,isAncestorSelected:n.isAncestorSelected||(0,d.K3)(this.sceneGraphSelection,e),childrenDisplayOrder:r.childrenDisplayOrder}}else t={isAncestorHidden:!1,isAncestorLocked:!1,isAncestorSelected:!1,childrenDisplayOrder:o.kH.DESIGN};return this.ancestorInfos[e]=t,t}getMaskInfo(e){let t=this.maskInfos[e];if(t)return t;let r=this.getNode(e);if((0,n.KF)(null!=r,"getMaskInfo called on invalid node"),"CANVAS"===r.type)this.maskInfos[e]={level:0,isMaskedAtLevels:"",isLastMaskedAtLevels:""};else{let e=r.parentGuid,t=e&&this.getNode(e),n=t?this.getMaskInfo(e):void 0;if(t&&n){let e=n.level,r=n.isMaskedAtLevels,i=t.fixedChildrenCount,a=t.reversedChildrenGuids,l=!1,s=!1;for(let t=0;t<a.length;t++){let n=a[a.length-t-1],c=this.getNode(n);if(!c)continue;let d=c.mask,u=l&&(d||(0,o.F9)(c.type)&&!c.resizeToFit&&!c.frameMaskDisabled||a.length-t===i);u&&(l=!1),d&&(l=c.visible),u&&!s&&(this.maskInfos[a[a.length-t]].isLastMaskedAtLevels+=`[${e}]`),this.maskInfos[n]={level:e+1,isMaskedAtLevels:r+(l&&!d?`[${e}]`:""),isLastMaskedAtLevels:""},s=d}l&&!s&&(this.maskInfos[a[0]].isLastMaskedAtLevels+=`[${e}]`)}}return this.maskInfos[e]}}function _(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if("object"===r.rowType)return r}return null}function h(e,t,r,n){let{indentLevel:i,opts:o,pathFromRoot:l}=r,s={nodeGuid:t[n],indentLevel:i+1,opts:{isDescendantOfSymbol:"SYMBOL"===e.type||o.isDescendantOfSymbol,isDescendantOfInstance:"INSTANCE"===e.type||o.isDescendantOfInstance,isDescendantOfModule:"MODULE"===e.type||o.isDescendantOfModule}};return a.Fk()&&(s.pathFromRoot=[...l,n]),s}function g(e,t,r,n,i,a){let o=`${t}.${e.numSections}`,l={rowType:"section",top:e.top,level:r,sectionType:t,sectionId:o,isDescendantOfSymbol:n,isDescendantOfInstance:i,isDescendantOfModule:a};return e.allRowData.push(l),e.top+=p.n,e.numSections++,l}function f(e,t){return(0,s.MT)(t.type)||"SECTION_OVERLAY"===t.type}function E(e,t){let r;let{nodeGuid:n,indentLevel:a,opts:o,pathFromRoot:s}=t,d=e.sceneGraph.get(n);if(!d||"SECTION_OVERLAY"===d.type&&!e.showImmutableFrameSublayers)return;d.mask&&e.maskGuids.push(d.guid);let m=null;if(e.allRowData.length>0){let t=_(e.allRowData);t.nextNodeGuid=d.guid,m=t.guid}let y="WIDGET"===d.type&&(d.widgetVersionId||d.widgetId&&(0,c.Vi)(d.widgetId)),b=f(e.sceneGraph,d)&&!e.showImmutableFrameSublayers||y;if("SECTION"===d.type&&1===d.uiOrderedChildren.length){let t=e.sceneGraph.get(n);r=!(t&&"SECTION_OVERLAY"===t.type)}else r=d.uiOrderedChildren.length>0&&!b;let v={rowType:"object",guid:d.guid,isExpanded:d.isExpanded,isTemporarilyExpanded:d.isTemporarilyExpanded,hasChildren:r,top:e.top,level:a,prevNodeGuid:m,nextNodeGuid:null,isDescendantOfSymbol:o.isDescendantOfSymbol,isDescendantOfInstance:o.isDescendantOfInstance,isDescendantOfModule:o.isDescendantOfModule};s&&(v.recordingKey=`objectsPanel.row.${s.join(".")}`),e.allRowData.push(v),e.objectRowByGuid[d.guid]=v,e.topByGuid[n]=e.top,e.top+=p.F;let I=d.isExpanded||d.isTemporarilyExpanded;I&&d.uiOrderedChildren.length>0&&(b||(d.fixedChildrenCount>0?function(e,t,r){let n=t.uiOrderedChildren.map(t=>e.sceneGraph.get(t)).filter(i.Vq).map((e,t)=>({node:e,index:t,scrollBehavior:e.scrollBehavior})),a=e.top,o="SYMBOL"===t.type||r.opts.isDescendantOfSymbol,s="INSTANCE"===t.type||r.opts.isDescendantOfInstance,c="MODULE"===t.type||r.opts.isDescendantOfModule,d=g(e,l.KjJ.FIXED,r.indentLevel+1,o,s,c);n.filter(({scrollBehavior:e})=>"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"===e).forEach(({index:i})=>{E(e,h(t,n.map(e=>e.node.guid),r,i))});let u=e.top,p=g(e,l.KjJ.SCROLLS,r.indentLevel+1,o,s,c);n.filter(({scrollBehavior:e})=>"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"!==e).forEach(({index:i})=>{E(e,h(t,n.map(e=>e.node.guid),r,i))});let m=e.top;e.sectionById[d.sectionId]={parentGuid:t.guid,top:a,height:u-a,type:d.sectionType},e.sectionById[p.sectionId]={parentGuid:t.guid,top:u,height:m-u,type:p.sectionType}}(e,d,t):function(e,t,r){let n=t.uiOrderedChildren;for(let i=0;i<n.length;i++)E(e,h(t,n,r,i))}(e,d,t))),I&&(0,u.vo)(d,e.sceneGraph)&&!e.temporarilyExpandedInstanceLayers.includes(d.guid)&&function(e,t,r){let n={rowType:"layer-expansion",containingPrimaryInstanceGUID:t,top:e.top,level:r+1};e.allRowData.push(n),e.top+=p.F}(e,d.guid,a)}function y(e,t,r,n,i){let o={allRowData:[],numSections:0,top:0,topByGuid:Object.create(null),objectRowByGuid:Object.create(null),sectionById:Object.create(null),sceneGraph:e,maskGuids:[],showImmutableFrameSublayers:r,temporarilyExpandedInstanceLayers:n};if(!function(e,t,r){if(!t)return;let n={isAncestorHidden:!1,isAncestorLocked:!1,isDescendantOfSymbol:!1,isDescendantOfInstance:!1,isDescendantOfModule:!1};if(r){E(e,{nodeGuid:t.guid,indentLevel:0,opts:n,pathFromRoot:[0]});return}let i=t.children;if(i&&i.length)for(let t=0;t<i.length;t++){let r={nodeGuid:i[t],indentLevel:0,opts:n};a.Fk()&&(r.pathFromRoot=[t]),E(e,r)}}(o,t,i),o.allRowData.length>1){let e=function(e){for(let t=0;t<e.length;t++){let r=e[t];if("object"===r.rowType)return r}return null}(o.allRowData),t=_(o.allRowData);e.prevNodeGuid=t.guid,t.nextNodeGuid=e.guid}return{rowData:o.allRowData,topByGuid:o.topByGuid,sectionById:o.sectionById,totalHeight:o.top}}},102930:(e,t,r)=>{"use strict";r.d(t,{N:()=>f,g:()=>g});var n=r(411855),i=r(91408),a=r(201888),o=r(341834),l=r(572206),s=r(946689),c=r(939863),d=r(293017),u=r(726864),p=r(746806),m=r(860168),_=r(839270);let h=(0,i.hG)(m.oVP);function g(e){let t=(0,u.Yk)(),r=n.useMemo(()=>new l.Mi(window.innerWidth/2-h/2,window.innerHeight-(t>0?120+t:150)),[t]);return n.createElement(f,{initialPosition:r,...e})}class f extends n.PureComponent{constructor(e){super(e),this.onClose=()=>{this.props.dispatch(d.Z1()),(0,o.hW)("never")},this.onClickOpenInApp=()=>{this.props.dispatch(d.Z1()),(0,o.hW)(this.state.alwaysChecked?"always":"never"),(0,a.Sr)(location.href)},this.onClickAlwaysOpenDesktopApp=()=>{this.setState({alwaysChecked:!this.state.alwaysChecked})},this.state={alwaysChecked:"never"!==(0,o.vn)()}}static shouldShowOnce(){return(0,o._p)()&&void 0===(0,o.vn)()}static shouldAutoOpen(){return(0,o._p)()&&"always"===(0,o.vn)()}static toggleAutoOpen(){let e="always"===(0,o.vn)();(0,o.hW)(e?"never":"always")}static isAutoOpenEnabled(){return"always"===(0,o.vn)()}static enableAutoOpen(){(0,o.hW)("always")}static disableAutoOpenIfUnset(){void 0===(0,o.vn)()&&(0,o.hW)("never")}render(){return n.createElement(p.vx,{initialPosition:this.props.initialPosition,title:(0,c.t)("desktop_open_views.open_in_desktop_modal.title"),headerSize:"small",dragHeaderOnly:!0,onClose:this.onClose},n.createElement("div",{className:_.k},n.createElement("div",{className:_.K},n.createElement(s.tB,{id:"always-open-desktop-app",checked:this.state.alwaysChecked,onClick:this.onClickAlwaysOpenDesktopApp}),n.createElement(s.JU,{htmlFor:"always-open-desktop-app"},n.createElement(c.Tx,{id:"desktop_open_views.open_in_desktop_modal.always_open_in_app_checkbox"}))),n.createElement("div",{className:_.K},n.createElement(s.nR,{onClick:this.onClose},n.createElement(c.Tx,{id:"desktop_open_views.modal.dismiss_button"})),n.createElement(s.$$,{onClick:this.onClickOpenInApp},n.createElement(c.Tx,{id:"desktop_open_views.open_in_desktop_modal.open_in_app_button"})))))}}f.displayName="OpenDesktopAppModal"},653671:(e,t,r)=>{"use strict";r.d(t,{aN:()=>a,cE:()=>o,l7:()=>l});var n=r(38580),i=r(940596);let a=(0,n.eU)(null),o=(0,i.Wh)(()=>(0,n.eU)([])),l=(0,i.Wh)(()=>(0,n.eU)(null))},383496:(e,t,r)=>{"use strict";r.d(t,{HC:()=>m,j4:()=>p,r5:()=>u,sL:()=>_});var n=r(411855),i=r(83909),a=r(356390),o=r(555074),l=r(301462),s=r(279702),c=r(744684),d=r(811550);let u=["NORMAL","SELECT_DIVIDER","DARKEN","MULTIPLY","LINEAR_BURN","COLOR_BURN","SELECT_DIVIDER","LIGHTEN","SCREEN","LINEAR_DODGE","COLOR_DODGE","SELECT_DIVIDER","OVERLAY","SOFT_LIGHT","HARD_LIGHT","SELECT_DIVIDER","DIFFERENCE","EXCLUSION","SELECT_DIVIDER","HUE","SATURATION","COLOR","LUMINOSITY"],p=["PASS_THROUGH"].concat(u),m=e=>"NORMAL"===e||"PASS_THROUGH"===e?d.A:c.A;function _(){return[(0,o.kl)("blendMode"),n.useCallback((e,t=s.zk.YES)=>{i.wt.shouldReportForShouldCommit(t)&&l.FZ.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),a.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[])]}},32067:(e,t,r)=>{"use strict";r.d(t,{Cj:()=>T,O1:()=>y,Ss:()=>I,T4:()=>n,Tv:()=>h,VW:()=>E,Wf:()=>f,jY:()=>b,pF:()=>v,uQ:()=>_,um:()=>g});var n,i=r(411855),a=r(188507);r(717068);var o=r(884139),l=r(970516),s=r(852800),c=r(617453),d=r(848661),u=r(601607),p=r(428877),m=r(836283);function _(){let e=(0,a.d4)(e=>{var t;return(null==(t=e.mirror.selectionProperties)?void 0:t.numSelected)===1}),t=(0,a.d4)(e=>e.mirror.sceneGraphSelection);return e&&Object.keys(t).find(e=>e)||null}function h(){let e=(0,a.d4)(e=>e.mirror.sceneGraphSelection);return i.useMemo(()=>{let t=Object.keys(e);return 0===t.length?null:t},[e])}function g(e,t){return e&&Number(e).toLocaleString("en",{maximumFractionDigits:t,useGrouping:!1})}function f(e=0){return Number(e).toLocaleString("en",{maximumFractionDigits:2,useGrouping:!1})}function E(){let e=_(),t=(0,u.Jk)(e);if(null!=e&&null!=t)return t}function y(){let e=h(),t=(0,u.ew)(e??[]);if(e)return t}function b(){let e=(0,a.d4)(e=>e.mirror.objectsPanelRowRebuildCounter);return(0,u.hr)((e,t)=>e,e)}function v(e){return(0,a.d4)(t=>{let r=e(t);if(null!=r&&(0,d.hS)(r))return r})}function I(e,t){let r=i.useMemo(()=>e?[{color:e,colorVar:t}]:[],[t,e]);return(0,p.y6)(r)}function T(e,t){let r=(0,a.wA)(),n=i.useCallback(()=>{let n=window.getSelection();if(n&&n.toString().length>0||!e)return null;r(l.lW({stringToCopy:e.toString(),ignoreLineBreaks:!1})),t&&t()},[t,e,r]);return e?n:void 0}(e=>{let t={prefix:"",suffix:"",delimiter:": ",quoted:!1};function r(e,r){let n="",i={...t,...r};return e.forEach(e=>{if(e[1]){let{prefix:t,suffix:r,delimiter:a,quoted:o}=e.length>2?{...i,...e[2]}:i,l=o?`"${e[1]}"`:e[1];n+=`${t}${e[0]}${a}${l}${r}
`}}),n}e.copyPairs=r;let n=["true","false","nil","null"];function l(e,t){return`var(--${(0,o.OX)(t)}, ${e})`}e.unquoteEnumerableValues=function(e){return e.map(e=>{let[t,r]=e;return"string"==typeof r&&n.includes(r.toLowerCase())?[t,r,{quoted:!1}]:e})};let d=(e,t,r)=>{let{paint:n}=e,{variable:i}=e.variable??{};switch(n.type){case"SOLID":if(1===r){let t=e.valueFormatter(e.colors[0],{hexCSSValue:!0});return i?l(t,i.name):t}return function(e,t){let r=s.phr.convertGradientPaintToCSS(e.encodedPaint);return(t?r.replace(/(#[a-f0-9]{6})|(rgba\(\d{1,3}, \d{1,3}, \d{1,3}, \d\.\d{1,2})/gi,e=>l(e,t.name)):null)??r}(e,i);case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_DIAMOND":case"GRADIENT_ANGULAR":return s.phr.convertGradientPaintToCSS(e.encodedPaint)}};function u(e,t){var r;return null==(r=null==e?void 0:e.map(r=>d(r,t,(null==e?void 0:e.length)||0)))?void 0:r.join(",\n")}e.copyColors=u;let _={MULTIPLY:"multiply",SCREEN:"screen",OVERLAY:"overlay",DARKEN:"darken",LIGHTEN:"lighten",COLOR_DODGE:"color-dodge",SATURATION:"saturation",COLOR:"color",LUMINOSITY:"luminosity"},h=(e=[])=>e.flatMap(e=>e.type===m.q.STYLE?e.paints:e),E="background";e.useCopyAllColors=function(e,t){let n=(0,a.d4)(e=>e.mirror.selectionProperties.numSelected)||0,o=h(e),l=i.useCallback(()=>{if(1===n&&o){let e=new Set;if(o.forEach(t=>{t.paint.blendMode&&e.add(t.paint.blendMode)}),e.size<=1){let n=u(o,t),i=[];n&&i.push([E,n]);let a=[...e],l=a[0]?_[a[0]]:void 0;return l&&i.push(["background-blend-mode",l]),r(i,{suffix:";"})}}return r(o.reduce((e,r)=>{let n=r.paint.blendMode,i=n?_[n]:void 0;i&&e.push(["background-blend-mode",i]);let a=d(r,t,1),o=a?[E,a]:void 0;return o&&e.push(o),e},[]).filter(e=>e).map(e=>e),{suffix:";"})},[o,n,t]);return o?l:void 0};let y=(t,n,i,a)=>{let o=n.includes(" "),l=h(i),s=l.length>1||1===l.length&&"SOLID"!==l[0].paint.type,c=e.copyColors(l,t);if(!s&&!o)return`${a??"border"}: ${n} solid ${c}`;let d=o?[["border-width",n],["border-style","solid"]]:[[`${a??"border"}`,`${n} solid`]];return c&&d.push(s?["border-image-source",c]:["border-color",c]),r(d,{suffix:";\n"})};e.useStrokeCopyValue=function(e,t,r){let n=(0,c.Ku)(),a=h(t);return i.useMemo(()=>y(n,e,a,r),[n,e,a,r])},e.useCopyAllStrokes=function(e){let t=(0,c.Ku)();return i.useMemo(()=>e.map(e=>y(t,e.strokeWeight,e.strokeColors,e.borderCSSKey)).join("\n"),[t,e])};let b=e=>e.map(e=>void 0===e?"":`${e}px`),v=(t,n,i)=>{var a,o;if("FOREGROUND_BLUR"===t.type||"BACKGROUND_BLUR"===t.type)return r([["backdrop-filter",`blur(${t.radius}px)`]]);let l=e.copyColors(n,i);if(!t.offset)return;let s=b([f(null==(a=t.offset)?void 0:a.x),f(null==(o=t.offset)?void 0:o.y),f(t.radius),f(t.spread)]).join(" "),c=l?` ${l}`:"",d="INNER_SHADOW"===t.type?" inset":"";return r([["box-shadow",`${s}${c}${d}`]],{suffix:";"})};e.useCopyShadow=function(e){let t=(0,c.Ku)(),r=I(e.color);return i.useMemo(()=>v(e,r,t),[e,r,t])},e.useCopyAllShadows=function(e){let t=(0,c.Ku)(),r=(0,p.OE)(e,e=>e.color);return i.useCallback(()=>r.filter(e=>e.color).map(e=>v(e.value,[e.color],t)).join("\n"),[r,t])};let T=(e,t,r)=>{switch(e){case"Linear":return"linear";case"Ease in":return"ease-in";case"Ease out":return"ease-out";case"Ease in and out":return"ease-in-out";case"Ease in back":return"cubic-bezier(0.3, -0.05, 0.7, -0.5)";case"Ease out back":return"cubic-bezier(0.45, 1.45, 0.8, 1)";case"Ease in and out back":return"cubic-bezier(0.7, -0.4, 0.4, 1.4)";default:if(void 0==e)return;if(t){if(r)return`{ mass: ${r[0]}, stiffness: ${r[1]}, damping: ${r[2]} }`;return e}return`cubic-bezier(${e})`}},S=e=>`${g(1e3*e,2)}ms`,w=t=>{let r=`// ${t.event}
`,n=t.action,i=[];return t.delay&&i.push(["animation-delay",S(t.delay)]),t.action&&(i.push([`// ${null==n?void 0:n.action}`,`"${(null==n?void 0:n.value)??""}"`]),(null==n?void 0:n.hasAnimation)&&(i.push(["// Animate",(null==n?void 0:n.animation)??""]),(null==n?void 0:n.isSpringTransition)?i.push(["// Spring",T(null==n?void 0:n.curve,null==n?void 0:n.isSpringTransition,null==n?void 0:n.curveFunction)]):(i.push(["animation-timing-function",T(null==n?void 0:n.curve)]),i.push(["animation-duration",S(n.duration??0)])))),r+e.copyPairs(i,{suffix:";"})};e.useCopyAllInteractions=function(e){return i.useCallback(()=>e.map(e=>w(e)).join("\n"),[e])};let A=e=>{var t;let n=(null==(t=e.image)?void 0:t.name)??"Image",i=`${n}.${e.animatedImage?"gif":"png"}`;return r([[`// ${e.animatedImage?"GIF":"Image"}`,n],["background",`url("${i}")`],["background-size",(e=>"FILL"==e?"cover":"FIT"==e?"contain":void 0)(e.imageScaleMode)],["opacity",e.opacity<1?e.opacity.toFixed(2):void 0],["background-blend-mode",_[e.blendMode]]],{suffix:";"})};e.useCopyImages=function(e){return i.useCallback(()=>e.map(e=>A(e)).join("\n"),[e])}})(n||(n={}))},673867:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(411855),i=r(498606);function a(e,t=!1){let[r,a]=n.useState(!1),o=n.useRef(void 0),l=n.useRef(null);return(n.useLayoutEffect(()=>{let r=o.current!==t;e&&l.current&&r&&(o.current=t,a(l.current.scrollWidth>l.current.offsetWidth))},[e,t]),r&&e)?{ref:l,"data-tooltip-type":i.Ib.TEXT,"data-tooltip":`${e}`,"data-tooltip-text-left":!0}:{ref:l}}},788612:(e,t,r)=>{"use strict";r.d(t,{HF:()=>X,I7:()=>j,J5:()=>O,M6:()=>$,N7:()=>V,SH:()=>M,SV:()=>D,UZ:()=>x,VZ:()=>F,YE:()=>J,ZQ:()=>P,_p:()=>q,d1:()=>K,di:()=>en,lN:()=>Z,lz:()=>Q,m3:()=>W,nd:()=>G,r4:()=>er,x0:()=>et});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(776250),s=r(830646),c=r(794272),d=r(498750),u=r(860601),p=r(563706),m=r(153234),_=r(522739),h=r(939863),g=r(970516),f=r(973149),E=r(356390),y=r(848661),b=r(497306),v=r(335682),I=r(239671),T=r(498606),S=r(712685),w=r(7959),A=r(32067),C=r(673867),N=r(813813);function O({name:e,fileKey:t,border:r,children:i,hideHeader:a,isHidden:s,padding:u=0,noBorder:m,recordingKey:_,dataTestId:h,onClick:g}){let{selectedNodeId:f,selectedPageId:y,isMultiSelect:v,sceneGraph:T,editorType:S}=(0,c.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection);return{selectedPageId:e.mirror.appModel.currentPage,selectedNodeId:t[0],isMultiSelect:t.length>1,sceneGraph:e.mirror.sceneGraph,editorType:"fullscreen"!==e.selectedView.view?I.nT.Design:e.selectedView.editorType}}),A=r=>{e&&(0,l.sx)("inspection_panel_shortcut",{...r,file_key:t,name:e,editor_type:S})},C=r?N.F7:N.YK;switch(a&&(C=r?N.S4:N.Tq),u){case 1:C=N.JY;break;case 2:C=o()(C,N.Kf);break;case 3:C=o()(C,N.JU);break;case 4:C=o()(C,N.Yz);break;case 5:C=N.aK}return m&&(C=o()(C,N.mD)),s&&(C=""),n.createElement(w.Zk,{className:C,tabIndex:-1,onKeyDown:e=>{var t,r,n;let i=!1;if((0,d.Fo)(e)&&e.keyCode===d.Uz.C?(i=!0,A({action:"copy"})):(0,d.Fo)(e)&&e.keyCode===d.Uz.A?(i=!0,A({action:"select_all"})):p.Ay.mac?"Meta"===e.key&&(i=!0):"Control"===e.key&&(i=!0),((null==(t=e.target)?void 0:t.type)==="text"||(null==(r=e.target)?void 0:r.type)==="textarea"||(null==(n=e.target)?void 0:n.tabIndex)===0)&&(i=!0),i);else{let t=window.getSelection();if(!t)return;let r=0===t.toString().length;t.removeAllRanges(),(r||e.keyCode!==d.Uz.ESCAPE)&&E.Y5.forwardKeyboardEvent(e.nativeEvent)}},onDoubleClick:r=>{if(e)return(0,l.sx)("inspection_panel_dbl_clicked",{name:e,x:r.clientX,y:r.clientY,modifiers:(0,d.sN)(r),fileKey:t,editor_type:S}),!1},onClick:r=>{let n,i;if(e){if(null==g||g(r),f&&T)try{let e=(0,b.Ql)(T,f);n=null==e?void 0:e.guid,i=null==e?void 0:e.type}catch{}return(0,l.sx)("inspection_panel_clicked",{name:e,x:r.clientX,y:r.clientY,modifiers:(0,d.sN)(r),fileKey:t,selectedPageId:y,selectedNodeId:f,topLevelFrameId:n,topLevelNodeType:i,isMultiSelect:v,editor_type:S}),!1}},recordingKey:_,"data-testid":h,id:h},i)}let L=(e,t)=>{let[r,i]=n.useState(!1),a=n.useCallback(()=>i(!0),[i]),o=n.useCallback(()=>i(!1),[i]);return n.useMemo(()=>({value:r?e:t,eventHandlers:{onMouseOver:a,onMouseOut:o},isHovered:r}),[r,e,t,a,o])},R=(e,t)=>{let[r,i]=n.useState(!1),a=n.useCallback(()=>i(!0),[i]),o=n.useCallback(()=>i(!1),[i]);return n.useMemo(()=>[r?e:t,{onMouseDown:a,onMouseUp:o}],[r,e,t,a,o])};function P(e,t){let{value:r,eventHandlers:i,isHovered:a}=L(t),[o,l]=R(e);return n.useMemo(()=>({value:o||r,eventHandlers:{...i,...l},isHovered:a}),[o,l,r,i,a])}let k=n.createContext({});function D(e,t){let r=n.useContext(k),i=n.useMemo(()=>({name:(t||r).recordingKey}),[t,r]),a=(0,s.j)(e,i);return(t||r).recordingKey?a:u.lQ}function M(e){let{title:t,copyAllValue:r,additionalHeaders:a,eventHandlers:l,isHovered:s,recordingKey:c}=e,d=D("inspection_panel_copy_all_click",n.useContext(k)),u=(0,i.wA)(),p=(0,m.rf)(c,"click",n.useCallback(()=>{if(!r)return;let e="string"==typeof r?r:r();u(g.lW({stringToCopy:e,ignoreLineBreaks:!1})),d({value:e})},[d,u,r])),{ref:_,...f}=(0,C.X)(t,s);return t?n.createElement("div",{className:o()(N.Dn,{[N._]:e.snug})},n.createElement(w.xw,{innerRef:_,...f,className:o()(N.yr,{[N.Xx]:e.thin}),"data-testid":"inspectPanelTitle"},t),n.createElement("div",{className:N.W0},r&&n.createElement("div",{...l,className:N.cL,onClick:p},n.createElement(h.Tx,{id:"inspect_panel.copy"})),a),e.children):null}var x=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.NONE=1]="NONE",e[e.LESS_BOTTOM=2]="LESS_BOTTOM",e[e.EXTRA_BOTTOM=3]="EXTRA_BOTTOM",e[e.NO_BOTTOM=4]="NO_BOTTOM",e[e.CONSTRAINED_VERTICAL=5]="CONSTRAINED_VERTICAL",e))(x||{});function F(e){let{children:t,title:r="",copyAllValue:a,recordingKey:o}=e,l=(0,i.d4)(v.sS),s=n.useMemo(()=>`inspect:${o.toLowerCase()}`,[o]),c=n.useMemo(()=>({recordingKey:`inspect:${o}`}),[o]),{value:d,eventHandlers:u,isHovered:p}=P(N.Rp,N.fF);return n.createElement(O,{border:!0,fileKey:l,name:s,hideHeader:e.hideHeader,isHidden:e.isHidden,padding:e.padding,noBorder:e.noBorder,recordingKey:(0,m.Pt)(o,"panel"),dataTestId:`${o}-inspection-panel`,onClick:e.onClick},n.createElement(k.Provider,{value:c},e.formattedHeader??(!0!==e.hideHeader&&n.createElement(M,{title:r,copyAllValue:a,eventHandlers:u,additionalHeaders:e.additionalHeaders,isHovered:p,snug:e.snugTitle,thin:e.thinTitle,recordingKey:(0,m.Pt)(o,"header")},e.headerChildren)),n.createElement("div",{className:d},t)))}let U={maximumFractionDigits:2,useGrouping:!1},B={maximumFractionDigits:2},H={maximumFractionDigits:2,useGrouping:!1,style:"unit",unit:"degree",unitDisplay:"narrow"},V={...H,unitDisplay:"short"};function G(e,t){let r=e.toLocaleString("en",U);return`${r}${t}`}function W(e){var t;switch(e.format){case"pixels":if("number"==typeof e.value)return G(e.value,"px");if(Array.isArray(e.value)){let t=e.value.map(e=>e.toLocaleString("en",B)).join("px, ");return`${t}px`}return`${e.value}`;case"percent":if(!e.value)return;return Number(e.value).toLocaleString("en",{...U,style:"percent"});case"fig_number":return e.value?f.wf.format(e.value):void 0;case"millis":return e.value&&G(1e3*e.value,"ms");case"degrees":return e.value&&e.value.toLocaleString("en",H);case"mixed":return e.value.map(W).join(", ");default:return null==(t=e.value)?void 0:t.toString()}}function K(e){let[t,r]=n.useState(!1),i=e.label||e.defaultLabel,a=e.label?N.Nw:N.G1;e.labelClassName&&(a+=` ${e.labelClassName}`);let o=function(e){let t=n.useRef(null),r=t.current,i=r&&(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth);return n.useEffect(()=>{r&&i&&e&&(r.setAttribute("data-tooltip",e.toString()),r.setAttribute("data-tooltip-type",T.Ib.TEXT))},[e,r,i]),t}(i);return n.createElement(q,{className:e.className,copyValue:e.label,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)},e.children&&n.createElement("div",null,e.children),i&&n.createElement("div",{className:N.Pq},e.isVariable||e.isSuggestedVariable?n.createElement(S.w,{text:i,containerClassName:N.gO,disableHover:!0,isHovered:t,isInferred:e.isSuggestedVariable,tooltip:e.isSuggestedVariable?(0,h.t)("dev_handoff.variables.inferred_color"):void 0}):n.createElement("span",{ref:o,className:a,dir:"auto"},i)))}function Y(){return n.createElement("span",{className:N.jg})}function j({title:e}){return n.createElement("div",{className:N.Dn},n.createElement("span",{className:N.yr}," ",e," "))}let z=e=>(null==e?void 0:e.valueOf())===(0,h.t)("collaboration.branching_node_treatments.value.empty_dash");function $({basis:e,change:t,name:r}){return n.createElement("div",{className:o()(N.zy)},n.createElement("span",{className:N.rG},r),n.createElement("div",{className:o()(N.vd,N.mW)},n.createElement("div",{role:"button",tabIndex:0,onClick:e.onClick,className:o()(N.Hz,N.ij,z(e.value)&&N.T7)},e.value),n.createElement("div",{role:"button",tabIndex:0,onClick:t.onClick,className:o()(N.Zg,N.ij,z(t.value)&&N.T7)},t.value)))}function Z({valueProps:e,isHovered:t,variableContainerClassName:r}){if("mixed"===e.format){let i=e.value.some(e=>!!e.variable);return n.createElement("div",{className:o()(N.M3,i&&N.Vd)},e.value.map((a,o)=>n.createElement("div",{key:o},n.createElement(Z,{valueProps:a,isHovered:t,variableContainerClassName:r}),o<e.value.length-1&&!i&&n.createElement("span",null,", "))))}let i=`${W(e)}`;return e.variable?n.createElement(S.w,{dataTestId:"styledValueVariable",containerClassName:o()(N.gO,r),text:e.variable,disableHover:!0,isHovered:t,isInferred:e.isSuggestedVariable,tooltip:e.isSuggestedVariable?(0,h.t)("dev_handoff.variables.inferred_value",{value:i}):i}):n.createElement(n.Fragment,null,i)}function q(e){let t="onValueClicked"in e&&e.onValueClicked,r="value"in e?W(e):void 0,i=D("inspection_property_copy_click"),a=e.copyValue||r,o=(0,A.Cj)(a,()=>{i({property:e.name,value:a})}),[l,s]=n.useState(!1),c=(0,C.X)(e.name),d=(0,C.X)(r),u="redact"in e?e.redact:void 0,p=n.useMemo(()=>void 0===u?new Set:new Set(Array.isArray(u)?u:[u]),[u]),m=e.className||N.k$,h=e.multipleLines?N.mW:N.Nw,g=e.multipleLines?N.G3:N.Bz;if(!("value"in e)){let t=void 0===e.copyValue?void 0:o;return n.createElement("div",{className:t?N.A9:void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,"data-testid":e.dataTestId},n.createElement(_.D8,{className:m,onClick:t},e.name&&e.showName&&n.createElement("span",{className:g,...c,"data-tooltip-tip-align-left":!0},e.name),e.children))}return!e.value||(0,y.gl)(e.value)||p.has(e.value)?null:n.createElement("div",{className:N.A9,onMouseEnter:()=>{var t;s(!0),null==(t=e.onMouseEnter)||t.call(e)},onMouseLeave:()=>{var t;s(!1),null==(t=e.onMouseLeave)||t.call(e)},"data-testid":e.dataTestId},n.createElement("div",{className:m,onClick:o,"data-testid":"inspectionPropertyRow"},e.indent&&n.createElement("div",null),e.name?n.createElement("span",{className:g,"data-testid":"inspectionPropertyName",...c,"data-tooltip-tip-align-left":!0},e.name):n.createElement(Y,null),n.createElement("span",{className:h,"data-testid":"inspectionPropertyValue",...d,"data-tooltip-tip-align-left":!0},t?n.createElement(_.oj,{className:N.TH,onClick:e=>{e.stopPropagation(),t()}},n.createElement(Z,{valueProps:e,isHovered:l})):n.createElement(Z,{valueProps:e,isHovered:l}))))}function J(e){return n.createElement(q,{...e,format:"pixels"})}function X(e){var t;let r={...e,copyValue:null==(t=e.value)?void 0:t.toLocaleString("en",V)};return n.createElement(q,{...r,format:"degrees"})}function Q(e){return n.createElement(q,{...e,format:"millis"})}function ee({value:e,extras:t,renderElement:r}){return r(e,t)}function et(e){var t;let{data:r}=e,i=e.showMoreAmount||100,[a,o]=n.useState(e.limit),l=n.useCallback(()=>{o(Math.min(r.length,a+i))},[r,a,i,o]),s=Math.max(e.data.length-a,0),c="extras"in e?e.extras:{};return n.createElement(n.Fragment,null,null==(t=e.data)?void 0:t.slice(0,a).map((t,r)=>n.createElement(ee,{value:t,extras:c,renderElement:e.renderElement,key:r})),0!==s&&n.createElement(_.D8,{onClick:l,className:N.jP,key:"show-more"},n.createElement(h.Tx,{id:"inspect_panel.property.remaining_more",remaining:s})))}function er(e){return n.createElement(q,{...e,format:"percent",copyValue:void 0!==e.value?Number(e.value).toLocaleString(void 0,{maximumFractionDigits:2}):e.copyValue,value:e.value,name:e.name,variable:e.variable,isSuggestedVariable:e.isSuggestedVariable,redact:e.redact,className:e.className,indent:e.indent})}function en(e){return n.createElement(q,{...e,format:"fig_number",value:e.value,name:e.name,className:e.className,indent:e.indent})}},320578:(e,t,r)=>{"use strict";r.d(t,{a:()=>f,u:()=>h});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(522739),s=r(939863),c=r(234945),d=r(798558),u=r(151575),p=r(32067),m=r(192462);let _=e=>e&&Array.isArray(e.selection),h=n.forwardRef((e,t)=>{var r,a,h,g;let f=(0,i.d4)(c.dT),E=_(e)?void 0:(null==(r=e.selection)?void 0:r.name)||e.title,y=(0,p.Cj)(E),b=e.className||m.M_;if(_(e))return n.createElement("div",{className:b},n.createElement("span",{className:m.TN},n.createElement(s.Tx,{id:"inspect_panel.property.selected",numberOfItems:e.selection.length})));if(!e.selection&&!E)return null;let v=null==(a=e.selection)?void 0:a.id;return(null==(h=e.selection)?void 0:h.type)==="TEXT"?n.createElement("div",{className:b},v&&n.createElement(d.Bf,{className:m.hh,guid:v}),n.createElement("span",{className:m.kv},n.createElement(s.Tx,{id:"inspect_panel.property.text"}),"\xa0\xa0"),n.createElement(l.oj,{className:o()(m.VZ,m.kh),dir:"auto",onPointerDown:y},E)):n.createElement("div",{className:b},v&&n.createElement(d.Bf,{className:m.hh,guid:v}),n.createElement(l.D8,{className:o()(m.TN,m.kh),forwardedRef:t,style:{textAlign:"left"},dir:"auto",onPointerDown:y},E),(null==(g=e.selection)?void 0:g.type)==="INSTANCE"&&!e.hideNavigateButton&&n.createElement("div",null,n.createElement(u.F,{instanceAndSublayerGUIDs:f,recordingKey:e.recordingKey})))}),g=()=>{var e;(0,p.jY)();let t=(0,i.d4)(e=>e.mirror.sceneGraphSelection),r=(0,p.VW)(),a=n.useMemo(()=>Object.keys(t),[t]);if(r&&r.isAlive()){let t=r.isState&&(null==(e=r.parentNode)?void 0:e.name)||r.name;return{id:r.guid,name:t,type:r.type}}return 0===a.length?null:a},f=n.forwardRef((e,t)=>{let r=g(),i=e.className||m.M_,a=n.createElement(h,{title:e.title,className:i,selection:r});return e.customButtons?n.createElement("div",{className:m.bd},a,e.customButtons):a})},297281:(e,t,r)=>{"use strict";r.d(t,{$1:()=>j,CR:()=>h,Ey:()=>U,FM:()=>O,GS:()=>S,Ke:()=>x,Mg:()=>R,OI:()=>X,Oz:()=>en,Rh:()=>J,X$:()=>L,YI:()=>ee,ck:()=>et,dp:()=>F,gg:()=>A,hv:()=>ea,ij:()=>$,jL:()=>B,k4:()=>H,lR:()=>C,mO:()=>Q,nR:()=>w,od:()=>D,om:()=>M,tW:()=>Z,vV:()=>V,vf:()=>el,x$:()=>q,z1:()=>er});var n=r(411855),i=r(939863),a=r(428654),o=r(775664),l=r(31043),s=r(973149),c=r(723081),d=r(852800),u=r(848661),p=r(754168),m=r(747213);class _ extends n.PureComponent{onMouseDown(e){if(2===e.detail){let t=window.getSelection(),r=document.createRange();r.selectNodeContents(e.currentTarget),t&&(t.removeAllRanges(),t.addRange(r)),e.stopPropagation()}}render(){return n.createElement("span",{onMouseDown:this.onMouseDown},this.props.children)}}_.displayName="TextSelectionGroup";class h extends n.PureComponent{render(){return n.createElement("div",{className:m.CB},this.props.children)}}h.displayName="InspectionGroup";class g extends n.PureComponent{render(){return n.createElement("div",{className:m.Ee},this.props.name?`${this.props.name}: `:"",this.props.children)}}g.displayName="PropertyInspector";class f extends n.PureComponent{formatMixed(e){return(0,i.t)("inspect_panel.property.mixed")}render(){return n.createElement(g,{name:this.props.name},(0,u.hS)(this.props.value)?this.format(this.props.value):this.formatMixed(this.props.value))}}f.displayName="SelectionPropertyInspector";class E extends f{format(e){return e}}class y extends n.PureComponent{formatMixed(e,t){return(0,i.t)("inspect_panel.property.mixed_value")}render(){return n.createElement(g,{name:this.props.name},(0,u.hS)(this.props.value)?this.format(this.props.value,this.props.target):this.formatMixed(this.props.value,this.props.target))}}y.displayName="TargetDependentSelectionPropertyInspector";let b=e=>parseFloat((null==e?0:e).toFixed(2)).toString(),v=e=>{let t=b(e);return -1===t.indexOf(".")?t+".0":t},I=(e,t)=>{switch(t){case d.tzO.CSS:return n.createElement(_,null,`${b(e)}px`);case d.tzO.ANDROID:return n.createElement(_,null,`${b(e)}dp`);case d.tzO.IOS:return n.createElement("span",null,n.createElement(_,null,`${b(e)}`)," pt")}},T=e=>`${b(e)}%`;class S extends y{format(e,t){return I(e,t)}}class w extends y{format(e,t){return t===d.tzO.ANDROID?n.createElement(_,null,`${b(e)}sp`):I(e,t)}}class A extends f{format(e){return T(e)}}class C extends y{format(e,t){return"PIXELS"===(e=e||{units:"PERCENT",value:0}).units?I(e.value,t):T(e.value)}}let N=new s.cu;class O extends f{format(e){return N.format(e)}}class L extends E{}class R extends E{}let P=new c._r;class k extends f{format(e){return P.format(e)}}let D=k,M=k,x=k,F=k,U=k,B=k,H=k;class V extends f{format(e){return c.Rk.format(e)}}class G extends n.PureComponent{render(){let{color:e,target:t}=this.props;switch(t){case d.tzO.CSS:return n.createElement(_,null,(e.a<1?a.F:o.z5).format(e));case d.tzO.ANDROID:return n.createElement(_,null,o.z5.formatForAndroid(e));case d.tzO.IOS:{let t=v(e.r),r=v(e.g),i=v(e.b),a=v(e.a);return n.createElement("span",null,"rgba ",n.createElement(_,null,`${t}, ${r}, ${i}, ${a}`))}}}}G.displayName="PlatformFormattedColor";class W extends n.PureComponent{render(){let{target:e,stop:t}=this.props;switch(e){case d.tzO.CSS:return n.createElement("div",{className:m.Ee},n.createElement(G,{color:t.color,target:e})," @ ",n.createElement(_,null,T(100*t.position)));case d.tzO.ANDROID:case d.tzO.IOS:return n.createElement("div",{className:m.Ee},n.createElement(G,{color:t.color,target:e})," @ ",n.createElement(_,null,v(t.position)))}}}W.displayName="SelectableColorStop";class K extends n.PureComponent{render(){let e=a.F.format(this.props.color);return n.createElement("span",{className:m.nf,style:{background:e}})}}K.displayName="ColorSwatch";class Y extends n.PureComponent{render(){let e="linear-gradient(180deg, "+this.props.stops.map(e=>a.F.format(e.color)).join(", ")+")";return n.createElement("span",{className:m.nf,style:{background:e}})}}Y.displayName="GradientSwatch";class j extends n.Component{render(){let e=this.props.colorNameMap&&this.props.colorNameMap[a.F.format(this.props.value)];return n.createElement("div",{className:m.EX},n.createElement(K,{color:this.props.value}),n.createElement("div",{className:m.Ee},e&&`${e} (`,n.createElement(G,{color:this.props.value,target:this.props.target}),e&&")"))}}j.displayName="ColorInspector";let z=new c.D;function $(e,t){return`/file/${e}/image/${t}`}async function Z({paint:e,fileKey:t}){let r;if(!t)return null;let n=e.animatedImage||e.image;"VIDEO"===e.type&&e.video?r=e.video.hash:n&&n.hash&&(r=n.hash);let i="";return(r&&(i=Array.from(r).map(e=>(e<16?"0":"")+e.toString(16)).join("")),i)?"VIDEO"===e.type?(await p.S.getVideosDownload({hexHash:i,fileKey:t})).data.meta.signed_url:$(t,i):null}function q(e){return"VIDEO"===e.type?"mp4":null!=e.animatedImage?"gif":"png"}function J(e){let t=e.animatedImage||e.image,r="VIDEO"===e.type?"video":"image";return`${t&&t.name||r}`}class X extends n.PureComponent{constructor(e){super(e),this.paintTypeFormatter=new c.ZB(()=>this.props.paint),this.state={downloadUrl:""}}updateDownloadUrlForNewPaint(){Z({paint:this.props.paint,fileKey:this.props.openFileKey}).then(e=>{if(this.setState({downloadUrl:e}),null===e){console.error("No download args for paint type: "+this.props.paint.type);return}})}componentDidMount(){this.updateDownloadUrlForNewPaint()}componentDidUpdate(e,t,r){e.paint!==this.props.paint&&this.updateDownloadUrlForNewPaint()}downloadLinkFor(e){if(!this.props.openFileKey)return"";let t=q(e),r=`${J(e)}.${t}`,i="IMAGE"===e.type||"VIDEO"===e.type;return this.state.downloadUrl&&i?n.createElement("a",{href:this.state.downloadUrl,target:"_blank",rel:"noopener"},r):r}render(){let{paint:e,name:t}=this.props;switch(e.type){case"SOLID":{let r={...e.color,a:e.color.a*e.opacity};return n.createElement("div",null,n.createElement(g,{name:t},n.createElement(i.Tx,{id:"inspect_panel.colors.solid"})),e.blendMode&&"NORMAL"!==e.blendMode&&n.createElement(x,{name:(0,i.t)("inspect_panel.colors.blend"),value:e.blendMode}),this.props.children,n.createElement(j,{value:r,target:this.props.target,colorNameMap:this.props.colorNameMap}))}case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":{let r=this.paintTypeFormatter.format(e.type);return n.createElement("div",null,n.createElement(g,{name:t},n.createElement(i.Tx,{id:"inspect_panel.colors.gradient",gradientType:r})),e.blendMode&&"NORMAL"!==e.blendMode&&n.createElement(x,{name:(0,i.t)("inspect_panel.colors.blend"),value:e.blendMode}),this.props.children,n.createElement("div",{className:m.EX},n.createElement(Y,{stops:e.stops}),n.createElement("div",null,e.stops.map((e,t)=>n.createElement(W,{key:t,stop:e,target:this.props.target})))))}case"IMAGE":case"VIDEO":return n.createElement("div",null,n.createElement(g,{name:t},"IMAGE"===e.type?n.createElement(i.Tx,{id:"inspect_panel.images.image_type"}):n.createElement(i.Tx,{id:"proto.prototype_panel.video"})),n.createElement(g,{name:(0,i.t)("inspect_panel.images.file_name")},this.downloadLinkFor(e)),e.blendMode&&"NORMAL"!==e.blendMode&&n.createElement(x,{name:(0,i.t)("inspect_panel.colors.blend"),value:e.blendMode}),n.createElement(g,{name:(0,i.t)("inspect_panel.images.scale_mode")},z.format(e.imageScaleMode)),e.opacity<1&&n.createElement(A,{name:(0,i.t)("inspect_panel.properties.opacity"),value:100*e.opacity}),this.props.children)}}}X.displayName="PaintInspector";class Q extends f{format(e){switch(e){case"NONE":return(0,i.t)("inspect_panel.strokes.cap_none");case"ROUND":return(0,i.t)("inspect_panel.strokes.cap_round");case"SQUARE":return(0,i.t)("inspect_panel.strokes.cap_square");case"ARROW_LINES":return(0,i.t)("inspect_panel.strokes.cap_line_arrow");case"ARROW_EQUILATERAL":return(0,i.t)("inspect_panel.strokes.cap_triangle_arrow")}}}class ee extends f{format(e){return l.B.format(e)}}class et{format(e){switch(e){case"INNER_SHADOW":return(0,i.t)("inspect_panel.property.effect_inner_shadow");case"DROP_SHADOW":return(0,i.t)("inspect_panel.property.effect_drop_shadow");case"FOREGROUND_BLUR":return(0,i.t)("inspect_panel.property.effect_layer_blur");case"BACKGROUND_BLUR":return(0,i.t)("inspect_panel.property.effect_background_blur");default:return}}}class er extends f{constructor(){super(...arguments),this.formatter=new et}format(e){return this.formatter.format(e)}}class en extends y{format(e,t){return n.createElement("span",null,I(e.x,t),", ",I(e.y,t))}}let ei=class e extends f{format(t){return e.formatter.format(t)}};ei.formatter=new c.WO;let ea=ei,eo=class e extends f{format(t){return e.formatter.format(t)}};eo.formatter=new c.UY;let el=eo},824374:(e,t,r)=>{"use strict";r.d(t,{M:()=>v,u:()=>I});var n=r(411855),i=r(986175),a=r(693554),o=r(153234),l=r(46481),s=r(939863),c=r(723081),d=r(848661),u=r(498606),p=r(383496),m=r(227795),_=r(538697),h=r(319738),g=r(744684),f=r(811550);let E=e=>e.stopPropagation();class y extends _.c${}class b extends _.l6{renderInput(){let e=h.p6;return"NORMAL"!==(0,d.E7)(this.props.property)&&(e=h.DU),n.createElement(m.K0,{className:e,tabIndex:-1,onMouseDown:this.onMouseDown,"data-tooltip-type":u.Ib.TEXT,"data-tooltip":(0,s.t)("fullscreen.properties_panel.color_picker.blend_mode_select.tooltip.blend_mode")},n.createElement(v,{value:(0,d.E7)(this.props.property)}))}}function v({value:e,normalIsActive:t}){return("NORMAL"!==e||t)&&"PASS_THROUGH"!==e?n.createElement(l.U,{svg:g.A},n.createElement(a.l,null)):n.createElement(l.U,{svg:f.A},n.createElement(i.N,null))}class I extends n.PureComponent{constructor(){super(...arguments),this.blendModeFormatter=new c.ro}render(){let e=p.r5.map((e,t)=>"SELECT_DIVIDER"===e?n.createElement(_.sK,{key:t}):n.createElement(y,{key:t,value:e,recordingKey:o.Pt(this.props,e)}));return n.createElement(b,{id:"color-picker-blend-mode-select",dropdownClassName:h.Qg,inputClassName:h.p6,className:h.rO,property:this.props.blendMode,onChange:this.props.onBlendModeChange,formatter:this.blendModeFormatter,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onMouseDown:E,minTop:6,recordingKey:this.props.recordingKey,enablePreview:!0},e)}}I.displayName="ColorPickerBlendModeSelection"},952675:(e,t,r)=>{"use strict";r.d(t,{G7:()=>E,a3:()=>y,ow:()=>g});var n=r(411855),i=r(629019),a=r.n(i),o=r(153234),l=r(738269),s=r(848661),c=r(279702),d=r(221034),u=r(205135),p=r(538697),m=r(216899),_=r(446859),h=r(334495);let{OverridesProvider:g,OverridableComponent:f}=(0,_.r)();var E=(e=>(e[e.Select=0]="Select",e[e.Input=1]="Input",e))(E||{});class y extends n.PureComponent{constructor(){super(...arguments),this.state={isMouseOver:!1,isFocused:!1,previousPreviewValue:this.props.property,isMouseOverScrubbableControl:!1},this.onMouseOver=e=>{var t,r;null==(r=(t=this.props).onMouseEnter)||r.call(t,e),this.setState({isMouseOver:!0})},this.onMouseLeave=e=>{var t,r;null==(r=(t=this.props).onMouseLeave)||r.call(t,e),this.setState({isMouseOver:!1})},this.onFocus=e=>{var t,r;this.setState({isFocused:!0}),null==(r=(t=this.props).onInputFocus)||r.call(t,e)},this.onBlur=e=>{var t,r;this.setState({isFocused:!1}),null==(r=(t=this.props).onInputBlur)||r.call(t,e)},this.onMouseEnterScrubbableControl=()=>{this.setState({isMouseOverScrubbableControl:!0})},this.onMouseLeaveScrubbableControl=()=>{this.setState({isMouseOverScrubbableControl:!1})}}componentDidUpdate(e){var t;this.props.enablePreview&&!e.dropdownShown&&(null==(t=this.props.dropdownShown)?void 0:t.type)===this.props.id&&this.setState({previousPreviewValue:this.props.property})}areValuesEqual(e,t){return null==e||null==t?null==e==(null==t):this.props.formatter.isEqual?this.props.formatter.isEqual(e,t):e===t}render(){var e;let t=(0,s.E7)(this.state.previousPreviewValue??this.props.property),r=[],i=!0;n.Children.forEach(this.props.children,e=>{var r;this.areValuesEqual(null==(r=null==e?void 0:e.props)?void 0:r.value,t)&&(i=!1)}),i&&t&&!this.props.omitValueFromDropdown&&(r.push(n.createElement(p.c$,{value:t,key:"custom-option",dataTestId:`custom-option-${t}`},this.props.formatter.format(t))),0!==n.Children.count(this.props.children)&&r.push(n.createElement(p.sK,{key:"custom-option-divider"})));let _=h.be;!this.props.disabled&&(this.state.isMouseOver||this.state.isFocused)&&(_=h.Wv);let g=h.kL;this.props.disabled&&(g=h.Qz);let E=this.props.isTokenizable?m.$:u.p_,y=e=>{var t,r;this.props.disableSelectFocus&&"ArrowDown"===e.key&&e.metaKey?(e.preventDefault(),this.props.dispatch(l.j7({type:this.props.id}))):null==(r=(t=this.props).onKeyDown)||r.call(t,e)};return n.createElement("div",{className:`${g} ${this.props.className||""}`,onMouseDown:this.props.onMouseDown,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseEnter:this.props.onMouseEnterNonPropagating,"data-onboarding-key":this.props.onboardingKey,onKeyDown:e=>{var t,r,n,i,a;this.props.disableSelectFocus&&(null==(t=this.props.dropdownShown)?void 0:t.type)===this.props.id&&"ArrowUp"===e.key&&e.metaKey&&(this.props.dispatch(l.oB()),null==(n=null==(r=this.props.forwardedRef)?void 0:r.current)||n.focus(),null==(a=null==(i=this.props.forwardedRef)?void 0:i.current)||a.select())}},n.createElement(f,{overrideKey:"select",originalComponent:p.l6,id:this.props.id,formatter:this.props.formatter,property:this.state.previousPreviewValue??this.props.property,className:this.props.disabled?h.t_:h.Lt,inputClassName:a()(_,this.props.inputClassName,{[h.in]:this.props.disableSelectFocus&&(this.state.isFocused||(null==(e=this.props.dropdownShown)?void 0:e.type)===this.props.id)}),dropdownClassName:this.props.dropdownClassName,onChange:(e,t)=>{this.props.onChange(e,t,0)},dispatch:this.props.dispatch,disabled:this.props.disabled,dropdownShown:this.props.dropdownShown,recordingKey:o.Pt(this.props,"select"),svg:this.props.svg,icon:this.props.icon,fallbackSvg:this.props.fallbackSvg,ui3Icon:this.props.ui3Icon,svgClassName:this.props.svgClassName,dropdownWidth:this.props.dropdownWidth,willShowDropdown:this.props.willShowDropdown,onOptionFocus:this.props.onOptionFocus,disableSelectFocus:this.props.disableSelectFocus,openBelowTarget:this.props.openBelowTarget,chevronClassName:this.props.chevronClassName,dropdownAlignment:this.props.dropdownAlignment,onDropdownHidden:e=>{var t,r;e&&(null==(r=null==(t=this.props.forwardedRef)?void 0:t.current)||r.focus()),this.setState({previousPreviewValue:void 0})},enablePreview:this.props.enablePreview&&!!this.props.dropdownShown,optionsWithDisabledPreviews:this.props.optionsWithDisabledPreviews},r,this.props.children),this.props.scrubbableControlProps?n.createElement(d.b,{onMouseEnter:this.onMouseEnterScrubbableControl,onMouseLeave:this.onMouseLeaveScrubbableControl,...this.props.scrubbableControlProps,className:a()(h.f0,{[h.d_]:!!this.props.svg,[h.hL]:this.props.disableSelectFocus})},n.createElement(f,{overrideKey:"inputComponent",originalComponent:E,dataTestId:this.props.dataTestId,className:this.props.inputClassName,formatter:this.props.formatter,property:this.props.forceInputPlaceholder&&this.props.placeholder?"":this.props.property,onChange:(e,t=c.zk.YES)=>{this.props.onChange(e,t,1)},onKeyDown:y,onKeyUp:this.props.onKeyUp,mixedMathHandler:this.props.mixedMathHandler,disabled:this.props.disabled,autoFocus:this.props.autoFocus,recordingKey:this.props.unNamespacedInputRecordingKey?this.props.recordingKey:o.Pt(this.props,"input"),onFocus:this.onFocus,onBlur:this.onBlur,noBorderOnFocus:!0,forwardedRef:this.props.forwardedRef,placeholder:this.props.placeholder&&(this.props.forceInputPlaceholder||!this.props.property)?this.props.placeholder:void 0,allowEmpty:this.props.allowEmpty,noPlaceholderLine:this.props.noPlaceholderLine,shouldUseHoveringFormatterIfCombobox:this.state.isMouseOverScrubbableControl||this.state.isFocused})):n.createElement(f,{overrideKey:"inputComponent",originalComponent:E,dataTestId:this.props.dataTestId,className:`${h.hF} ${this.props.svg?h.d_:""} ${this.props.inputClassName||""}`,formatter:this.props.formatter,property:this.props.forceInputPlaceholder&&this.props.placeholder?"":this.props.property,onChange:(e,t=c.zk.YES)=>{this.props.onChange(e,t,1)},onKeyDown:y,onKeyUp:this.props.onKeyUp,disabled:this.props.disabled,autoFocus:this.props.autoFocus,recordingKey:this.props.unNamespacedInputRecordingKey?this.props.recordingKey:o.Pt(this.props,"input"),onFocus:this.onFocus,onBlur:this.onBlur,forwardedRef:this.props.forwardedRef,placeholder:this.props.forceInputPlaceholder&&this.props.placeholder?this.props.placeholder:void 0}))}}y.displayName="ComboBox",y.propTypes={children:(e,t,r)=>{let i=e[t],a=null;return n.Children.forEach(i,e=>{e.type&&e.type.__IS_VALID_SELECT_CHILD__||(a=Error(`${r} children should be of type 'Option' or 'SelectDivider'`))}),a}}},835808:(e,t,r)=>{"use strict";r.d(t,{AK:()=>l,QG:()=>c,mD:()=>o,yr:()=>s});var n=r(411855),i=r(188507),a=r(32067);function o(){let e=(0,i.d4)(e=>e.mirror.sceneGraph),t=(0,a.VW)(),r=(0,i.d4)(e=>e.mirror.selectionProperties.masterSymbolGUID);if(!t||!t.isAlive())return[null,null];if(null==t?void 0:t.isStateGroup)return[null,t??null];if((null==t?void 0:t.type)==="SYMBOL"||(null==t?void 0:t.type)==="INSTANCE"){let n=t??null;if((null==t?void 0:t.type)==="INSTANCE"&&(n=r?e.get(r):null),!n)return[null,null];if(!(null==n?void 0:n.isState))return[n??null,null];let i=(null==n?void 0:n.parentGuid)?e.get(null==n?void 0:n.parentGuid):null;return[n??null,(null==i?void 0:i.isStateGroup)?i:null]}return[null,null]}function l(e,t){return n.useMemo(()=>{var r,n;let i=(null==(r=null==e?void 0:e.symbolLinks)?void 0:r.filter(e=>e.uri).map(e=>e))||[];if(i.length>0)return i;let a=(null==(n=null==t?void 0:t.symbolLinks)?void 0:n.filter(e=>e.uri).map(e=>e))||[];if(a.length>0)return a},[e,t])}function s(){var e,t;return null==(t=null==(e=(0,a.VW)())?void 0:e.symbolLinks)?void 0:t.map(e=>e)}function c(){let[e,t]=o(),r=l(e,t),i=null==e?void 0:e.description,a=null==t?void 0:t.description,s=i&&a?a+"\n\n"+i:i||a;return n.useMemo(()=>({links:r,description:s}),[r,s])}},924491:(e,t,r)=>{"use strict";r.d(t,{A3:()=>ed,LI:()=>et,N5:()=>el,SV:()=>eo});var n=r(411855),i=r(109388),a=r(188507),o=r(767129),l=r(536825),s=r(243742),c=r(629019),d=r.n(c),u=r(776250),p=r(297666),m=r(886653),_=r(951158),h=r(153234),g=r(520581),f=r(347082),E=r(572206),y=r(80161),b=r(574176),v=r(939863),I=r(46415),T=r(293017),S=r(906899),w=r(259927),A=r(973149),C=r(356390),N=r(162620),O=r(285381),L=r(852800),R=r(15859),P=r(848661),k=r(931770),D=r(316081),M=r(471224),x=r(279702),F=r(498606),U=r(420186),B=r(952675),H=r(248752),V=r(519168),G=r(227795),W=r(509453),K=r(7959),Y=r(968783),j=r(320578),z=r(602029),$=r(538697),Z=r(893606),q=r(32505),J=r(294791),X=r(432023),Q=r(362679),ee=r(13556);class et extends n.PureComponent{constructor(){super(...arguments),this.exportList=(0,m.xx)(e=>(0,P._W)(e,[]).map(q.m)),this.onExportChange=(e,t)=>{let r=0===e.length,n=r?x.zk.NO:t;C.Y5.updateSelectionProperties({exportSettings:e},{shouldCommit:n}),r&&C.Y5.updateSelectionProperties({exportBackgroundDisabled:!1},{shouldCommit:t})},this.addProperty=()=>{let e=this.exportList(this.props.exportSettings),t=function(e){let t=!1,r=!1,n=!1;for(let i of e)(0,q.O)(i)&&"CONTENT_SCALE"===i.constraint.type?(1===i.constraint.value&&(t=!0),2===i.constraint.value&&(r=!0),3===i.constraint.value&&(n=!0)):t=!0;let i={contentsOnly:!0,imageType:"PNG",constraint:{type:"CONTENT_SCALE",value:1},suffix:"",useAbsoluteBounds:!1,colorProfile:"DOCUMENT"};return t&&(r?n||(i.constraint.value=3,i.suffix="@3x"):(i.constraint.value=2,i.suffix="@2x")),i}(e);this.onExportChange(e.concat([t])),(0,u.sx)("editor-export-panel-add",{selectionIsCanvas:0===this.props.numSelected})},this.onClickExport=()=>{if((0,u.sx)("Export Panel Export Clicked"),0===this.props.numSelected)(0,u.sx)("Export Picker Opened",{from:"export-panel"}),this.props.dispatch(T.u1({id:w.C9}));else{let e=[this.props.currentPage],t=(0,P._W)(this.props.exportSettings,[]);R.xY.includeOutsideContents(t)||(e=Object.keys(this.props.sceneGraphSelection)),(0,M.Dc)(M.hV.Export,this.props.saveAsState,this.props.dispatch,"export-selected-exportables-direct",e,"export-selected-exportables-direct"),this.props.dispatch(I.rg())}},this._checkboxAndButtonRow=new D.H4(()=>{var e;let t="";if(0===this.props.numSelected||null==this.props.numSelected){let{title:r}=(0,Y.vk)("CANVAS","",(null==(e=this.props.openFile)?void 0:e.name)||(0,v.t)("fullscreen.fullscreen_view_selector.untitled"),[]);t=(0,v.t)("fullscreen.properties_panel.export_title",{title:r})}else if(1===this.props.numSelected){let{title:e}=(0,Y.vk)("RECTANGLE",this.props.singleNodeName,"",[]);t=this.props.standalone?(0,v.t)("fullscreen.properties_panel.export"):(0,v.t)("fullscreen.properties_panel.export_title",{title:e})}else t=(0,v.t)("fullscreen.properties_panel.export_this_props_num_selected_layers",{numSelected:this.props.numSelected});return n.createElement(W.z,{onClick:this.onClickExport,key:"export-button",recordingKey:h.Pt(this.props,"export")},n.createElement(y.ph,{text:t,tooltipPropsWhenTruncated:{"data-tooltip-type":F.Ib.TEXT,"data-tooltip":t}}))}),this._shouldRenderPreviewThumbnail=()=>(0,P._W)(this.props.exportSettings,[]).length>0,this._previewThumbnail=new D.H4(()=>{let e=this.props.exportSettings[0].useAbsoluteBounds||!1;return n.createElement(O.ZH,null,({documentExportColorProfile:t})=>n.createElement(eh,{key:"preview",shouldComputeThumbnails:this._shouldRenderPreviewThumbnail,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:this.props.currentPage,numSelected:this.props.numSelected,recordingKey:h.Pt(this.props,"previewThumbnail"),useAbsoluteBounds:e,panelWidth:this.props.panelWidth,colorProfile:this.props.exportSettings&&!(0,P.gl)(this.props.exportSettings)?(0,N.A)(this.props.exportSettings,t):t}))})}static singleNodeNameFrom(e){return 1===e.numSelected&&e.exportSettings&&(0,P.hS)(e.exportSettings)&&e.exportSettings.length>0&&null!=e.name?e.name.slice(0,64):""}render(){let e=this.exportList(this.props.exportSettings);return n.createElement(f.p,{name:"export_panel"},n.createElement(K.Zk,{className:d()({[J.IN]:this.props.standalone,[J.hi]:this.props.standalone&&0===e.length})},n.createElement(en,{title:this.props.title,standalone:this.props.standalone,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,openFile:this.props.openFile,propertyList:e,onChange:this.onExportChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:L.rrT.EXPORT,addProperty:this.addProperty,recordingKey:h.Pt(this.props,"exportList"),isMixed:(0,P.gl)(this.props.exportSettings)}),this._checkboxAndButtonRow.render({isVisible:e.length>0||(0,P.gl)(this.props.exportSettings)}),this._previewThumbnail.render({isVisible:this._shouldRenderPreviewThumbnail()})))}}function er(e){let{selectionHandler:t}=e,r=n.useRef(null),i=(0,Z.R)(Z.G.READY);return n.createElement("div",{className:J.fj},n.createElement(H.MX,{selection:t,onChange:e.onChange,addProperty:e.addProperty,overrideAddPropertyTooltip:i?(0,v.t)("fullscreen.properties_panel.section_exports.tooltip_addExportSettings"):void 0,isStylesPickerShown:!!e.pickerShown,showRemoveButton:!i,recordingKey:e.recordingKey,parent:r},n.createElement(j.a,{title:e.title,ref:r})))}function en(e){let t=(0,a.wA)(),{selectedPropertyType:r,dropdownShown:i,pickerShown:o,onChange:l,propertyList:s}=e,c=h.c1(e),d=(0,P._W)(e.propertyList,[]).length<=1,u=(0,Z.R)(Z.G.READY),p=n.useCallback(e=>{t(T.XE()),l((0,P._W)(s,[]).filter((t,r)=>r!==e)),C.Y5.deselectProperty()},[t,l,s]),m=n.useCallback((e,a,l,s,u,m,_,h,g)=>n.createElement(em,{key:`export-${a}`,id:`${r}-${a}`,index:a,singletonRow:d,selectedPropertyType:r,exportSetting:e,selected:l,isDragging:s,hasFocus:u,onChange:m,onMouseDown:_,onMouseMove:h,onMouseUp:g,onRemoveExport:()=>p(a),dispatch:t,dropdownShown:i,pickerShown:o,recordingKey:c(a)}),[r,d,t,i,o,c,p]),_=e.standalone?n.memo(t=>n.createElement(er,{...e,...t})):void 0;return n.createElement(H.h6,{title:e.title||(0,v.t)("fullscreen.properties_panel.export"),openFile:e.openFile,propertyList:e.propertyList,onChange:e.onChange,currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:e.selectedPropertyType,addProperty:e.addProperty,overrideAddPropertyTooltip:u?(0,v.t)("fullscreen.properties_panel.section_exports.tooltip_addExportSettings"):void 0,renderProperty:m,pickerShown:e.pickerShown,dispatch:e.dispatch,showRemoveButton:!u,recordingKey:e.recordingKey,renderHeader:e.standalone?_:void 0,stylePickerShown:{isShown:!1},isMixed:e.isMixed})}et.notifierName="ExportNotifier",en.displayName="ExportList";class ei extends B.a3{}class ea extends $.c${}class eo extends $.l6{}class el extends $.c${}let es=[{type:"CONTENT_SCALE",value:.5},{type:"CONTENT_SCALE",value:.75},{type:"CONTENT_SCALE",value:1},{type:"CONTENT_SCALE",value:1.5},{type:"CONTENT_SCALE",value:2},{type:"CONTENT_SCALE",value:3},{type:"CONTENT_SCALE",value:4},{type:"CONTENT_WIDTH",value:512},{type:"CONTENT_HEIGHT",value:512}],ec=new A.mz,ed={format:e=>{switch(e){case"PNG":return"PNG";case"JPEG":return"JPG";case"SVG":return"SVG";case"PDF":return"PDF"}}},eu=e=>e.stopPropagation();function ep({id:e,recordingKey:t,exportSetting:r,pickerShown:i,dropdownShown:s,onConstraintChange:c,onImageTypeChange:d,onSuffixChange:u,onToggleModal:p,onRemoveExport:m,constraintClassName:_,suffixClassName:f,imageTypeClassName:E,imageTypeDropdownClassName:y,buttonClassName:b}){let I=h.c1(t),T=(0,a.wA)(),S=(0,Z.R)(Z.G.READY),w=es.map((e,t)=>n.createElement(ea,{key:t,value:e,recordingKey:I("constraints",e.value)})),A=(0,O.R6)(),C="PDF"===r.imageType&&A===L.ywP.LEGACY;return n.createElement(n.Fragment,null,n.createElement(g.E,{name:"export_constraint_combo_box"},n.createElement(ei,{id:`export-constraint-${e}`,className:_,dropdownClassName:J.J9,property:r.constraint,onChange:c,formatter:ec,dispatch:T,dropdownShown:s,onMouseDown:eu,recordingKey:I("contraints"),disabled:"SVG"===r.imageType||"PDF"===r.imageType},w)),!S&&n.createElement(V.lq,{value:r.suffix,suffixClassName:f,onSuffixChange:u,recordingKey:I("suffix")}),n.createElement(g.E,{name:"export_image_type_select"},n.createElement(eo,{id:`export-image-type-${e}`,className:E,inputClassName:J.SL,chevronClassName:J.tc,property:r.imageType,formatter:ed,onChange:d,dispatch:T,dropdownClassName:y,dropdownShown:s,onMouseDown:eu,recordingKey:I("imageType")},n.createElement(el,{value:"PNG",recordingKey:I("imageType","png")}),n.createElement(el,{value:"JPEG",recordingKey:I("imageType","jpeg")}),n.createElement(el,{value:"SVG",recordingKey:I("imageType","svg")}),n.createElement(el,{value:"PDF",recordingKey:I("imageType","pdf")}))),n.createElement(g.E,{name:"toggle_export_settings_modal_button"},n.createElement(G.YW,{svg:Q.A,fallbackSvg:ee.A,className:b,onClick:p,onMouseDown:eu,recordingKey:I("settings"),disabled:C,selected:!!i,"data-tooltip-type":F.Ib.TEXT,"data-tooltip":(0,v.t)("fullscreen.export_panel.export_settings")})),S&&!!m&&n.createElement(g.E,{name:"remove_export_button"},n.createElement(o.K,{as:"button",onMouseDown:eu,onClick:m,"aria-label":(0,v.t)("fullscreen.properties_panel.tooltip_remove"),"data-tooltip":(0,v.t)("fullscreen.properties_panel.tooltip_remove"),"data-tooltip-type":F.Ib.TEXT,recordingKey:I("removeButton")},n.createElement(l.O,null))))}function em(e){let t=n.useRef(null),r=t=>{e.onChange({...e.exportSetting,suffix:t})},a=()=>e.pickerShown&&e.pickerShown.id===e.id?e.pickerShown:null,o=a(),{version:l}=(0,s.DP)(),c="ui3"===l,d=c?n.Fragment:"div",u=c?J.v_:void 0;return n.createElement(d,null,n.createElement(z.e,{ref:t,selected:e.selected,selectedSecondary:e.selected&&!e.hasFocus,singletonRow:e.singletonRow,dragging:e.isDragging,onMouseDown:e.onMouseDown,onMouseMove:e.onMouseMove,onMouseUp:e.onMouseUp,recordingKey:e.recordingKey,className:u},n.createElement(ep,{exportSetting:e.exportSetting,id:e.id,dropdownShown:e.dropdownShown,pickerShown:o,onConstraintChange:t=>{e.onChange({...e.exportSetting,constraint:t})},onImageTypeChange:t=>{var r,n;r=e.exportSetting,n=e.onChange,t!==r.imageType&&("JPEG"===t||"PNG"===t||"PDF"===t?n({imageType:t,contentsOnly:r.contentsOnly,colorProfile:r.colorProfile,useAbsoluteBounds:r.useAbsoluteBounds,suffix:r.suffix,constraint:"PDF"===t?{type:"CONTENT_SCALE",value:1}:r.constraint}):"SVG"===t&&n({imageType:t,contentsOnly:r.contentsOnly,colorProfile:r.colorProfile,suffix:r.suffix,constraint:{type:"CONTENT_SCALE",value:1},svgIDMode:"IF_NEEDED",svgOutlineText:!0,svgForceStrokeMasks:!1,useAbsoluteBounds:r.useAbsoluteBounds}))},onToggleModal:r=>{if(r.stopPropagation(),a())e.dispatch(T.XE()),C.Y5.deselectProperty();else{let r=(0,U.cn)(i.findDOMNode(t.current));C.Y5.updateAppModel({currentSelectedProperty:{type:e.selectedPropertyType,indices:[e.index]}}),e.dispatch(T.u1({id:e.id,initialX:r.x,initialY:r.y})),e.dispatch(S.sw())}},onSuffixChange:r,onRemoveExport:e.onRemoveExport,recordingKey:e.recordingKey,constraintClassName:J.QU,suffixClassName:J.ei,imageTypeClassName:J.wm,imageTypeDropdownClassName:J.PK,buttonClassName:J.uX})),o&&n.createElement(V.Tq,{exportSettings:e.exportSetting,onChange:e.onChange,pickerShown:o,dispatch:e.dispatch,recordingKey:h.Pt(e,"settings"),dropdownShown:e.dropdownShown,onSuffixChange:r,suffixClassName:J.ei,isUI3:c}))}function e_(e){return n.createElement("div",{className:e.className||J.cT},n.createElement("img",{src:e.thumbnail.src,width:e.thumbnail.displaySize.x,height:e.thumbnail.displaySize.y,alt:"preview of layer to be exported"}))}class eh extends n.PureComponent{constructor(e){super(e),this.toggleShown=()=>{this.setState({previewShown:!this.state.previewShown})},this.updateThumbnail=()=>{if(!this.state.previewShown||!this.props.shouldComputeThumbnails())return;let e=new E.Mi(this.props.panelWidth-30,this.props.panelWidth-30),t=k.WQ(e,this.props.useAbsoluteBounds),r=null;t&&t.pixels&&t.pixelSize&&t.displaySize&&(r={src:k.Pv(t.pixels,t.pixelSize,this.props.colorProfile),displaySize:t.displaySize}),this.setState({thumbnail:r})},this.updateThumbnailAfterDelay=(0,p.s)(()=>this.updateThumbnail(),1e3),this.onSceneGraphChange=()=>{null!=this.state.previewGUID&&this.updateThumbnailAfterDelay()},this.state={previewIsCanvas:!0,previewGUID:null,previewShown:!1,thumbnail:null}}componentDidUpdate(e,t){e.colorProfile!==this.props.colorProfile&&(this.setState({thumbnail:null}),this.updateThumbnailAfterDelay.cancel(),this.updateThumbnail());let r=!t.previewShown&&this.state.previewShown,n=e.panelWidth!==this.props.panelWidth;if(this.props.sceneGraphSelection===e.sceneGraphSelection&&!r&&!n)return;let i=this.props.sceneGraphSelection,a=this.props.numSelected;if((a>1||!this.state.previewShown)&&!n){this.setState({thumbnail:null,previewGUID:null});return}let o=0===a,l=o?this.props.currentPage:(0,_.o)(i);(l!==this.state.previewGUID||n)&&(this.setState({thumbnail:null,previewGUID:l,previewIsCanvas:o}),this.updateThumbnailAfterDelay.cancel(),this.updateThumbnail())}componentDidMount(){C.Y5.fromFullscreen.on("pingSceneGraphEvent",this.onSceneGraphChange)}componentWillUnmount(){C.Y5.fromFullscreen.removeListener("pingSceneGraphEvent",this.onSceneGraphChange),this.updateThumbnailAfterDelay.cancel()}render(){return this.props.numSelected>1?null:n.createElement("div",null,n.createElement(g.E,{name:"toggle_export_preview_visibility_button"},n.createElement(K.fI,{onClick:this.toggleShown,recordingKey:this.props.recordingKey,className:J.q4},n.createElement(b.B,{svg:X.A,className:this.state.previewShown?J.ai:J.hC}),n.createElement(K.JU,{className:J.Pf},n.createElement(v.Tx,{id:"fullscreen.properties_panel.preview"})))),this.state.previewShown&&this.state.thumbnail&&n.createElement(e_,{thumbnail:this.state.thumbnail}))}}eh.displayName="PreviewThumbnail"},227795:(e,t,r)=>{"use strict";r.d(t,{DK:()=>h,K0:()=>g,Me:()=>f,YW:()=>E,o5:()=>y});var n=r(411855),i=r(629019),a=r.n(i),o=r(62935),l=r(498750),s=r(522739),c=r(574176),d=r(348425),u=r(672517),p=r(770760),m=r(333483),_=r(783423);let h=n.forwardRef(function(e,t){let r=a()(e.className,m.U,e.disabled?m.Ah:m.pq,{[m.vR]:e.selected,[e.selectedClassName??""]:e.selected,[m.No]:e.isBackgroundTransparent});return n.createElement("button",{ref:t,className:r,onClick:e.disabled?void 0:e.onClick,onDoubleClick:e.disabled?void 0:e.onDoubleClick,onKeyDown:e.disabled?void 0:e.onKeyDown,onPointerDown:e.disabled?void 0:e.onPointerDown,onMouseDown:e.disabled?void 0:e.onMouseDown,onMouseUp:e.disabled?void 0:e.onMouseUp,onMouseMove:e.disabled?void 0:e.onMouseMove,onMouseEnter:e.disabled?void 0:e.onMouseEnter,onMouseLeave:e.disabled?void 0:e.onMouseLeave},n.createElement(g,{svg:e.svg,className:e.className,fallbackSvg:e.fallbackSvg,selected:e.selected,selectedClassName:e.selectedClassName,isBackgroundTransparent:e.isBackgroundTransparent,"data-onboarding-key":e["data-onboarding-key"],useOriginalSrcFills_DEPRECATED:e.useOriginalSrcFills_DEPRECATED,fill:e.fill,dataTestId:e.dataTestId,"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],"aria-owns":e["aria-owns"],"data-tooltip-type":e["data-tooltip-type"],"data-tooltip":e["data-tooltip"],"data-tooltip-shortcut-key":e["data-tooltip-shortcut-key"]}),n.createElement(c.B,{className:m.ai,svg:_.A}))}),g=n.forwardRef(function(e,t){let r=(0,o.M)(t);function i(){r.current.blur()}let c=a()(e.className,{[m.vR]:e.selected,[e.selectedClassName??""]:e.selected,[m.Ah]:!e.selected&&e.disabled,[m.pq]:!e.selected&&!e.disabled,[m.No]:e.isBackgroundTransparent}),u=e.tooltipForScreenReadersOnly||!e.showTooltipWhenSelectedIsTrue&&e.selected,_=e.href?s.lt:s.GG;return n.createElement(_,{forwardedRef:r,className:c,style:e.style,tabIndex:null!=e.tabIndex?e.tabIndex:e.disabled?-1:0,onClick:e.disabled?void 0:e.onClick,onDoubleClick:e.disabled?void 0:e.onDoubleClick,onKeyDown:e.disabled?void 0:t=>{var r,n;switch(t.keyCode){case l.Uz.ENTER:case l.Uz.SPACE:(e.onMouseDown||e.onClick||e.onKeyDown)&&t.preventDefault(),null==(r=e.onMouseDown)||r.call(e,t),e.onKeyDown?e.onKeyDown(t):null==(n=e.onClick)||n.call(e,t);break;case l.Uz.ESCAPE:i()}},onPointerDown:e.disabled?void 0:e.onPointerDown,onMouseDown:e.disabled?void 0:e.onMouseDown,onMouseUp:e.disabled?void 0:i,onMouseMove:e.disabled?void 0:e.onMouseMove,onMouseEnter:e.disabled?void 0:e.onMouseEnter,onMouseLeave:e.disabled?void 0:e.onMouseLeave,onContextMenu:e.disabled?void 0:e.onContextMenu,href:e.disabled?void 0:e.href,type:e.type,target:e.target,"data-tooltip-type":u?null:e["data-tooltip-type"],"data-tooltip":u?null:e["data-tooltip"],"data-tooltip-show-immediately":u?null:e["data-tooltip-show-immediately"],"data-tooltip-max-width":u?null:e["data-tooltip-max-width"],"data-tooltip-show-above":u?null:e["data-tooltip-show-above"],"data-tooltip-shortcut-key":u?null:e["data-tooltip-shortcut-key"],"data-tooltip-offset-x":u?null:e["data-tooltip-offset-x"],"data-tooltip-offset-y":u?null:e["data-tooltip-offset-y"],"aria-label":e["aria-label"]??(0,p.En)(e),disabled:e.disabled,"aria-disabled":e.disabled,"data-onboarding-key":e["data-onboarding-key"],"data-testid":e.dataTestId,"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],"aria-owns":e["aria-owns"],recordingKey:e.recordingKey},e.children||n.createElement(d.t,{svg:e.svg,fallbackSvg:e.fallbackSvg,useOriginalSrcFills_DEPRECATED:e.useOriginalSrcFills_DEPRECATED,style:{fill:e.fill}}))}),f=(0,u.tf)(g),E=g,y=(0,u.tf)(E)},958568:(e,t,r)=>{"use strict";r.d(t,{LB:()=>g,T7:()=>_,TF:()=>E,V9:()=>p,aK:()=>c,cB:()=>u,jO:()=>f,jR:()=>h,v2:()=>m});var n=r(354189),i=r(515009),a=r(852800),o=r(912666),l=r(416095),s=r(173454);function c(e,t){var r;let n=null==(r=t.get(e))?void 0:r.symbolId;if(n){let r,i;let a=t.get(n),o=null==a?void 0:a.containingStateGroupId;if((null==a?void 0:a.isState)&&o){let e=t.get(o);(null==e?void 0:e.isStateGroup)&&(r=null==e?void 0:e.stateGroupKey,i=null==e?void 0:e.sharedStateGroupVersion)}let{componentKey:s,sharedSymbolVersion:c}=a??{};return{instanceGUID:e,backingGUID:n,fileKey:(0,l.yW)(a)??void 0,componentKey:s??void 0,stateGroupKey:r??void 0,symbolVersion:c??void 0,stateGroupVersion:i??void 0}}return null}function d(e,t,r){let i=(0,l.Av)(t);if(!i)return;let a=n.v.fromGuid(e.instanceGUID);r[i]?r[i].instanceIdsToUpdate.push(a):r[i]={updateAsset:t,instanceIdsToUpdate:[a]}}function u(e,t,r){let n={},a={};for(let t of r)for(let r of e)r.component_key&&(t.componentKey&&t.componentKey===r.component_key?t.symbolVersion&&t.symbolVersion!==r.content_hash&&d(t,r,n):t.componentKey&&r.oldSubscribedKeysToUpdate.includes(t.componentKey)?d(t,r,n):r.localIdsToUpdate.includes(t.backingGUID)&&d(t,r,n));for(let e of r)for(let r of t)if(r.key){if(e.componentKey&&e.stateGroupKey&&e.stateGroupKey===r.key)e.stateGroupVersion&&e.stateGroupVersion!==r.version&&Object.keys(r.newStateKeyToOutdatedItems).includes(e.componentKey)&&d(e,r,a);else for(let t of Object.keys(r.newStateKeyToOutdatedItems))e.componentKey&&r.newStateKeyToOutdatedItems[(0,i.ii)(t)].oldSubscribedKeysToUpdate.includes(e.componentKey)?d(e,r,a):r.newStateKeyToOutdatedItems[(0,i.ii)(t)].localIdsToUpdate.includes(e.backingGUID)?d(e,r,a):e.componentKey&&e.componentKey===t&&d(e,r,a)}return{componentInstanceUpdateInfo:n,stateInstanceUpdateInfo:a}}function p(e,t,r){if(t&&r){let n=new Set([r,...e]);return{updateAsset:t,inheritStyleKeyFields__DEPRECATED:(0,o.Wx)(t.style_type),styleGUIDs:[...n]}}return t?{updateAsset:t,inheritStyleKeyFields__DEPRECATED:(0,o.Wx)(t.style_type),styleGUIDs:e}:null}function m(e,t){return e.find(e=>(null==t?void 0:t.isLocalStyle)?-1!==e.localIdsToUpdate.indexOf(t.GUID):null!=t&&!!t.key&&-1!==e.oldSubscribedKeysToUpdate.indexOf(t.key)||e.key===(null==t?void 0:t.key)&&t.version&&e.content_hash!==t.version)??null}function _(e,t){return e?t.filter(({key:t,version:r})=>e.oldSubscribedKeysToUpdate.includes(t)||t===e.key&&r!==e.content_hash).map(e=>e.nodeId).concat(e.localIdsToUpdate):[]}function h(e,t){return[...Object.values(e),...Object.values(t)].reduce((e,t)=>e+=t.instanceIdsToUpdate.length,0)}function g(e,t){return e.component_key&&e.content_hash?a.glU.getOutdatedComponentInstanceDevIds(e.component_key,e.content_hash,e.oldSubscribedKeysToUpdate,e.localIdsToUpdate,t||""):[]}function f(e,t){return a.glU.getOutdatedStateInstanceDevIds(e.version,e.newStateKeyToOutdatedItems,t||"")}function E(e){return e.type===s.PW.COMPONENT?g(e,void 0).length:f(e,void 0).length}},754369:(e,t,r)=>{"use strict";r.d(t,{$:()=>_});var n=r(411855),i=r(188507),a=r(44948),o=r(852800),l=r(848661),s=r(29680),c=r(335682),d=r(416095),u=r(57392),p=r(279145),m=r(705129);function _(e){let t=(0,p.Rn)("restore-symbol-or-state-group"),r=(0,i.d4)(e=>e.mirror.appModel[t]),_=(0,s.B9)(),h=(0,i.d4)(c.sS),g=(0,a.k9)(()=>{let t=new Set;for(let r of e){let e=_.get(r);if((null==e?void 0:e.type)!=="INSTANCE")continue;let n=e.symbolId;n&&t.add(n)}return t},[e,_]),{backingSymbolGUID:f,backingStateGroupGUID:E}=(0,m.nD)(g,_),y=n.useMemo(()=>(0,l.gl)(f)||null===f?null:_.get(f),[f,_]),b=n.useMemo(()=>(0,l.gl)(E)||null===E?null:_.get(E),[E,_]),v=n.useMemo(()=>{if(!y)return!1;let e=(0,d.yW)(y);return null!=e&&e!==h},[y,h]),I=n.useMemo(()=>!!(y&&o.Egt.nodeIsSoftDeleted(y.guid)),[y]),T=n.useMemo(()=>!!(b&&o.Egt.nodeIsSoftDeleted(b.guid)),[b]),S=n.useMemo(()=>{if(b)return b;if(!y)return null;if(I){let e=o.Egt.findBestAncestorInRestorePath(y.guid),t=""===e?null:_.get(e);if(null==t?void 0:t.isStateGroup)return t}return null},[y,b,I,_]),w=(0,i.d4)(u.lm),A=n.useMemo(()=>b&&T?b:y&&I?y:null,[y,I,T,b]),C=n.useMemo(()=>{let e;return e=A?A.isStateGroup?"STATE_GROUP":S?"SYMBOL_AS_STATE":"SYMBOL_AS_NON_STATE":null,r||(e=null),e},[r,A,S]),N=n.useMemo(()=>(null==y?void 0:y.componentKey)&&w.get(y.componentKey)?"DELETED_SUBSCRIBED_STATE":"SYMBOL_AS_STATE"===C?"DELETED_LOCAL_STATE":null,[w,y,C]);return n.useMemo(()=>({backingSymbolGUID:f,backingStateGroupGUID:E,singleBackingSymbol:y,singleBackingStateGroup:b,isBackingSymbolShared:v,isBackingSymbolSoftDeleted:I,isBackingStateGroupSoftDeleted:T,affiliatedStateGroup:S,affiliatedStateGroupId:null==S?void 0:S.guid,symbolOrStateGroupToRestore:A,restoreType:C,stateResetType:N}),[f,E,y,b,v,I,T,S,A,C,N])}},225373:(e,t,r)=>{"use strict";r.d(t,{Cc:()=>eK,LL:()=>eG,T:()=>eW,eH:()=>eP,lL:()=>ex});var n=r(411855),i=r(109388),a=r(188507),o=r(767129),l=r(884909),s=r(343427),c=r(629019),d=r.n(c),u=r(776250),p=r(91408),m=r(297666),_=r(794272),h=r(966712),g=r(374626),f=r(498750),E=r(572174),y=r(527735),b=r(153234),v=r(743282),I=r(572206),T=r(295170),S=r(667167),w=r(946689),A=r(574176),C=r(46481),N=r(939863),O=r(75224),L=r(501114),R=r(738269),P=r(293017),k=r(286954),D=r(632430),M=r(182976),x=r(662275),F=r(801161),U=r(931828),B=r(798099),H=r(298527),V=r(378905),G=r(696673),W=r(44892),K=r(788744),Y=r(756317),j=r(680681),z=r(453681),$=r(83422),Z=r(543817),q=r(875847),J=r(669178),X=r(335682),Q=r(694687),ee=r(416095),et=r(853966),er=r(99506),en=r(336599),ei=r(643067),ea=r(458136),eo=r(137459),el=r(173454),es=r(809073),ec=r(498606),ed=r(386976),eu=r(664457),ep=r(186380),em=r(938720),e_=r(93062),eh=r(760445),eg=r(746806),ef=r(16774),eE=r(448406),ey=r(48515),eb=r(715762),ev=r(507662),eI=r(538697),eT=r(517418),eS=r(657124),ew=r(705129),eA=r(860168),eC=r(692377),eN=r(951864),eO=r(280999),eL=r(731719);let eR=(0,p.hG)(eA.jkd),eP=(0,p.hG)(eA.N6y),ek=(0,p.hG)(eA.V51),eD=e=>{switch(e){case eE.rp.SMALL:return{height:22,width:22,gridClassName:""};case eE.rp.NORMAL:return{height:72,width:72,gridClassName:""};case eE.rp.WIDE:return{height:52,width:256,gridClassName:""}}},eM=(e,t)=>{let r=eD(t),i=(0,h.kc)().ds_use_lib_keys?`${e.node_id}-${e.library_key}`:`${e.node_id}-${(0,O.hH)(e)}`;return n.createElement(em.lX,{key:i,item:e,height:null==r?void 0:r.height,width:null==r?void 0:r.width,showName:!1,shouldHideDescription:!0,shouldShowNamePopout:!0,isFigJam:!0,noBackground:!1,displayType:null===t?"list-compact":"grid",isSearch:!1,className:null===t?eC.Tv:eC.B_})};function ex(e,t){return n.createElement(ep.M,{item:e,shouldGenerateLocalThumbnail:!0,className:null===t?eC.Tv:eC.B_,draggable:!1})}let eF=e=>["drilldownItem-productComponent",e.node_id],eU=(e,t)=>{let r=1===e.length&&1===t.length&&e[0].node_id===t[0].node_id;return e.length>0&&!r},eB="ENABLED_LIBRARIES_LABEL",eH="COMMUNITY_LIBRARIES_LABEL";function eV(e){let{openFile:t,onSwapCallback:r,instanceSwapPickerShown:i,multiselect:o,onMultiselectCallback:l,selectedItems:s,scrollContainerHeight:c,isLoadingSubscribedLibraries:p,shouldPerformSwapOnClick:m,itemsToSwap:b,incrementNumSearchesForTracking:v,dropdownAccessory:I,pickerType:C,pickerToggleRef:O,preferredItems:P,overrideDefaultItem:B,showPreferredSectionByDefault:X,preferredValuesErrorComponent:ec,sessionId:ed}=e,ep=C===S.Zl.INSTANCE_SWAP_PICKER||C===S.Zl.PREFERRED_VALUES_PICKER,{library:em,dropdownShown:eg,fileByKey:eA,hubFiles:eO,sceneGraphSelection:eL,isListView:eP,loadingState:ek}=(0,_.R)(e=>({library:e.library,dropdownShown:e.dropdownShown,fileByKey:e.fileByKey,hubFiles:e.hubFiles,sceneGraphSelection:e.mirror.sceneGraphSelection,isListView:e.instanceSwapPickerListLayout,loadingState:e.loadingState})),eD=(0,a.d4)(e=>e.universalInsertModal.showing),eU=t.key,eV=(0,a.wA)(),eG=o?null:s[0]??null,eW=null==B?void 0:B.file_key,eK=n.useMemo(()=>eW??W.uj(s),[eW,s]),eY=n.useMemo(()=>(0,eT.Dr)(em),[em]),ej=n.useMemo(()=>(0,eT.Oj)(em,t,eA,eO,eK),[em,t,eA,eO,eK]),ez=(0,J.g5)(es.$A.Design).productComponents.filter(e=>!(0,G.tz)(e.file_key)).map(eT.Kk),e$=n.useMemo(()=>P?P.map(eT.Kk):[],[P]),eZ=n.useMemo(()=>(0,eT._D)(ej,eA,eO),[ej,eA,eO]),[eq,eJ,eX]=n.useMemo(()=>{var e;return eK&&(null==(e=eZ[eK])?void 0:e.length)>0?[eK,eZ[eK],ej[eK]]:eY.length>0?[eU,eY,(0,ee.X0)(W.Qx(em))]:ep&&Object.entries(eZ).find(([e,t])=>t.length>0)||[null,[]]},[eK,eZ,eY,ep,ej,eU,em]),[eQ,e0]=n.useState(()=>X?{type:S.iN.PREFERRED}:eq&&(ep||eq!==eU)?{type:S.iN.FILE,key:eq}:{type:S.iN.RECENT}),[e1,e2]=n.useState(null),e3=(0,a.Pj)(),e5=n.useMemo(()=>{if((0,h.kc)().ds_instance_swap_use_ai_results)return[];let e=[],r=(0,ee.X0)(W.Qx(em));e.push(...r);let n=[];return Object.values(ej).forEach(e=>{n.push(...e)}),e.push(...n),(e=>{let r=[];r=e.filter(e=>e.type===el.PW.COMPONENT);let n=e.filter(e=>e.type===el.PW.STATE_GROUP),i=(0,ee.Vk)(em.published.components),a=(0,ee.A0)(em,i,{key:t.key,team_id:t.teamId,editor_type:t.editorType,source_file_key:t.sourceFileKey},(0,q.T9)(t.project)),o=Object.values((0,ee.WV)(em.local.components)),l=a.concat(o),s=(0,ee.Gg)(n,l);return r.push(...s),r})(e)},[ej,em,t]),[e4,e8]=n.useState(!1),e6=n.useCallback(async(e,r,n)=>{let i=[];i=(0,h.kc)().ds_instance_swap_use_ai_results?(await et.YG.computeResultsReduxSearchTypeHelper(e,{type:ey.I.ALL},t.editorType===er._Y.DESIGN,g.zl.get(z.qp),eV)).normalizedSearchResults.filter(e=>e.type!==el.PW.MODULE).map(e=>({item:e,score:e.score})):await (0,ea.q)(e,e5);let a=(0,T.xd)(i.map(e=>e.item),e=>e.name,e=>e.file_key+e.node_id);return(0,u.sx)(`${ep?"Instance Swap Picker":"Component Insert"} Search`,{searchSessionId:r,query:e,queryId:n,numResults:a.length,aiResultsEnabled:(0,e_.am)()&&(0,h.kc)().ds_instance_swap_use_ai_results}),v(),a},[e5,ep,v,eV,t.editorType]),e7=n.useCallback(e=>eQ.type===S.iN.FILE?eQ.key===eU?e.filter(e=>"LEAF"===e.type&&e.item.isLocal):e.filter(e=>"LEAF"===e.type&&(0,V.TK)(e.item,eQ.key)&&(0,ee.Av)(e.item)):eQ.type===S.iN.PREFERRED?e.filter(e=>"LEAF"===e.type&&P&&!!P.find(t=>t.node_id===e.item.node_id)):e,[eQ,eU,P]),e9=n.useCallback((e,t)=>{e.preventDefault(),e.stopPropagation(),eV(R.j7({type:eu.j,data:{component:t.item,position:{top:e.clientY,left:e.clientX}}}))},[eV]),{validDropdownSelection:te,validRootDrilldownItems:tt}=n.useMemo(()=>{let e=[];if(eQ.type===S.iN.PREFERRED&&e$.length>0?e=e$:eQ.type===S.iN.RECENT&&ez.length>0?e=ez:eQ.type===S.iN.FILE&&eZ.hasOwnProperty(eQ.key)?e=eZ[eQ.key]:eQ.type===S.iN.FILE&&eU===eQ.key&&(e=eY),0===e.length){let e,t;if(eq)e={type:S.iN.FILE,key:eq},t=eJ;else if(e$.length>0)e={type:S.iN.PREFERRED},t=e$;else if(ez.length>0)e={type:S.iN.RECENT},t=ez;else if(Object.keys(eZ).length>0){let r=Object.keys(eZ)[0];e={type:S.iN.FILE,key:r},t=eZ[r]}else e={type:S.iN.RECENT},t=ez;return{validDropdownSelection:e,validRootDrilldownItems:t}}return{validDropdownSelection:eQ,validRootDrilldownItems:e}},[eQ,e$,ez,eZ,eU,eY,eq,eJ]),tr=n.useMemo(()=>{if(o){if(eK&&eX)return B?{[B.file_key]:W.O9(B,eX)}:{[eK]:(0,eT.OK)(s,eX)}}else{let e=B||eG;if(e&&eX){let t=W.O9(e,eX);return{[e.file_key]:t}}}return{}},[o,eK,eX,s,B,eG]),[tn,ti]=n.useState({}),ta=n.useMemo(()=>({...tr,...tn}),[tr,tn]),[to,tl]=n.useState({index:-1,parentId:null}),ts=n.useCallback(()=>tl({index:-1,parentId:null}),[]),tc=n.useCallback((e,t)=>{ts(),te&&te.type===S.iN.FILE&&ti({[te.key]:e})},[ts,te]),td=n.useMemo(()=>te.type===S.iN.FILE&&ta[te.key]||[],[te,ta]),tu=(0,ef.b)({hideTooltips:!0}),tp=(0,H.n1)(),tm=n.useCallback(()=>{C!==S.Zl.PREFERRED_VALUES_PICKER&&(i.isShown&&i.modal?(i.returnFocusToToggle&&(null==O?void 0:O.current)&&O.current.focus(),eV(F.jD()),eV((0,k.vq)())):C===S.Zl.RESOURCE_INSERT_MODAL&&eD&&(eV(U.b({seen_component_onboarding_modal:!0})),tu()))},[i,O,eV,C,tu,eD]),t_=n.useCallback(e=>{if(eP)return null;let t=e.filter(e=>"LEAF"===e.type).map(e=>e.item);return(0,eE.PI)(t)},[eP]),th=n.useCallback(t=>{var r;t===S.iN.PREFERRED?e0({type:S.iN.PREFERRED}):t===S.iN.RECENT?e0({type:S.iN.RECENT}):e0({type:S.iN.FILE,key:t}),(null==(r=e.searchBarRef)?void 0:r.current)&&e.searchBarRef.current.focus(),(0,u.sx)(`${ep?"Instance Swap Picker":"Component Insert"} Library Switch`,{isSearching:e4})},[e.searchBarRef,ep,e4]),tg=(0,Q.sZ)(),tf=(0,ei.Oe)(tg),tE=eQ.type===S.iN.FILE?eQ.key:void 0,ty=(0,K.Fl)(),tb=n.useMemo(()=>({format:t=>{var r;return t===eB?(0,N.t)("design_systems.instance_swap_picker.enabled_libraries"):t===eH?(0,N.t)("design_systems.instance_swap_picker.ui_kits"):t===eU?(0,N.t)("design_systems.instance_swap_picker.local_components"):t===S.iN.RECENT?e4?(0,N.t)("design_systems.instance_swap_picker.all_libraries"):e.pickerType===S.Zl.RESOURCE_INSERT_MODAL?(0,N.t)("universal_insert.recents"):(0,N.t)("design_systems.instance_swap_picker.recently_used"):t===S.iN.PREFERRED?(0,N.t)("design_systems.instance_swap_picker.preferred"):(null==(r=eA[t])?void 0:r.name)??(0,eo.oA)(eO[t])??""}}),[eU,eA,eO,e4,e.pickerType]),tv=n.useMemo(()=>{switch(eQ.type){case S.iN.FILE:if(eQ.key===eU)return"Local components";return"Subscribed libraries";case S.iN.RECENT:return"Recently used";case S.iN.PREFERRED:return"Preferred values"}},[eQ,eU]),tI=n.useCallback(()=>{eV(x.to({type:ev.T,data:{initialTab:el.Wv.LIBRARIES,entrypoint:eb.r6.INSTANCE_SWAP_BROWSE_LIBRARIES_LINK}}))},[eV]),tT=n.useCallback(e=>{if("LEAF"!==e.type||0===s.length)return!1;let{item:t}=e;if(e1&&!o){let e=(0,ew.Ml)(e1,Object.keys(eL));if(en.VP(ek,e))return t.node_id===e1.node_id&&(0,V.EF)(t,e1)}return s.some(e=>t.type===el.PW.COMPONENT&&e.type===el.PW.COMPONENT?!!t.component_key&&t.component_key===e.component_key||!t.component_key&&!e.component_key&&t.node_id===e.node_id:t.type===el.PW.STATE_GROUP&&e.type===el.PW.STATE_GROUP&&(!!t.key&&t.key===e.key||!t.key&&!e.key&&t.node_id===e.node_id))},[e1,eL,ek,o,s]),tS=n.useCallback(e=>{let{currentDrilldownItems:t,index:r,parentId:n}=e,i=Math.max(Math.min(to.index,r),0),a=Math.min(Math.max(to.index,r),t.length-1),o=t.slice(i,a+1).filter(e=>"LEAF"===e.type);null==l||l(o.map(e=>e.item),tT(t[r])?eT.Wu.DESELECT:eT.Wu.SELECT),tl({index:r,parentId:n})},[tT,l,to.index]),tw=(0,Z.u)({alwaysSwap:ep,canSwap:m,itemsToSwap:b,openFileKey:eU,onSwap:r,sourceForTracking:"Instance Swap Picker"}),tA=n.useCallback((e,t,r,n,i)=>{if(!eU)return;if(o&&n){if(e.shiftKey&&-1!==to.index&&to.parentId===n.parentId){tS(n);return}tl({index:n.index,parentId:n.parentId})}let a=e.altKey;e1&&eV(M.yH({key:(0,ew.Ml)(e1,Object.keys(eL))})),e2(t.item),tw(e,t.item),tm(),ep?(0,u.sx)("Instance Swap Picker Insert Instance",{type:t.item.type===el.PW.COMPONENT?"component":"state_group",assetKey:(0,ee.Av)(t.item),fromSearch:r,viewMode:eP?"list":"grid",dropdownType:(0,S.Z4)(eQ,eU),position:null==n?void 0:n.index,searchSessionId:ed,query:null==i?void 0:i.query,queryId:null==i?void 0:i.queryId,scoreAi:t.item.ai_score,scoreLexical:t.item.lexical_score,aiResultsEnabled:(0,e_.am)()&&(0,h.kc)().ds_instance_swap_use_ai_results}):(0,u.sx)("Component Insert Panel Insert Instance",{type:t.item.type===el.PW.COMPONENT?"component":"state_group",fromSearch:r,altKey:a,viewMode:eP?"list":"grid",dropdownType:(0,S.Z4)(eQ,eU)})},[eU,eQ,o,e1,eL,tw,tm,ep,to.index,to.parentId,tS,eV,eP,ed]),tC=n.useRef(null),tN=n.createElement("div",{className:C===S.Zl.RESOURCE_INSERT_MODAL?d()(eC.FK,eC.k2):eC._M},n.createElement(eS.p,{id:(0,S.YU)(C),property:te.type===S.iN.FILE?te.key:te.type,formatter:tb,rightIcon:n.createElement($.T,{resourceId:tE}),onChange:th,dispatch:eV,dropdownShown:eg,dropdownAlignment:"left",dropdownWidth:230,openOnKeyPressed:[f.Uz.SPACE,f.Uz.ENTER],inputClassName:C===S.Zl.RESOURCE_INSERT_MODAL?eC.je:void 0,className:C===S.Zl.RESOURCE_INSERT_MODAL?eC.kc:eC.Kv,ref:tC},(()=>{function e(e){return n.createElement(eS.c,{key:e,value:e})}function r(e){return n.createElement(eS.c,{key:e,value:e})}function i(e){return n.createElement(eS.c,{key:e,value:e,removeTextRightPadding:!0,rightSettingsIcon:n.createElement(Y.FX,null)})}function a(e){return n.createElement(eS.c,{key:e,value:e,disabled:!0})}let{pass:o,fail:l}=(0,y.j)(Object.keys(eZ),G.wJ),s=[];e$.length&&s.push(e(S.iN.PREFERRED));let c=(0,q.T9)(t.project);if(eK&&eK!==eU&&!X&&!(0,ee.qB)(em,{key:t.key,team_id:t.teamId,editor_type:t.editorType,source_file_key:t.sourceFileKey},{key:eK},c)&&eA[eK]&&(s.length>0&&s.push(n.createElement(eI.sK,{key:"non-subscribed-divider"})),s.push(e(eK)),l=l.filter(e=>e!==eK)),!(0,h.kc)().dse_preset_libraries&&eK&&eK!==eU&&(0,ee.qB)(em,{key:t.key,team_id:t.teamId,editor_type:t.editorType,source_file_key:t.sourceFileKey},{key:eK},c)&&eO[eK]&&(o=o.filter(e=>e!==eK)),tf&&(0,j.NX)(ty)){let e=l.map(e=>eA[e]).filter(E.Vq).map(({key:e,name:t})=>({key:e,name:t}));(0,j.k9)({libraries:e,approvedLibraryKeysByResourceType:ty}),l=e.map(({key:e})=>e)}if((e4||ez.length>0)&&(s.length>0&&s.push(n.createElement(eI.sK,{key:"recent-divider"})),s.push(e(S.iN.RECENT))),ep){for(let t of(eY.length>0&&(s.length>0&&s.push(n.createElement(eI.sK,{key:"local-divider"})),s.push(e(eU))),l.length>0&&(s.length>0&&s.push(n.createElement(eI.sK,{key:"subscribed-divider"})),s.push(a(eB))),l))tf&&(0,j.vR)(t)?s.push(i(t)):s.push(e(t));if(tp)for(let e of(o.length>0&&(s.push(n.createElement(eI.sK,{key:"community-lib-divider"})),s.push(a(eH))),o))s.push(r(e));return s}for(let t of(eY.length>0&&s.push(e(eU)),l.length>0&&s.push(n.createElement(eI.sK,{key:"subscribed-divider"})),l))tf&&(0,j.vR)(t)?s.push(i(t)):s.push(e(t));if(tp)for(let e of(o.length>0&&(s.push(n.createElement(eI.sK,{key:"community-lib-divider"})),s.push(a(eH))),o))s.push(r(e));return s})()),I),tO=n.createElement("div",null,eQ.type===S.iN.RECENT&&null,eQ.type!==S.iN.RECENT&&n.createElement(w.N_,{className:eC.nf,onClick:()=>e0({type:S.iN.RECENT}),canFocus:!0,trusted:!0},n.createElement(N.Tx,{id:"design_systems.instance_swap_picker.search_all_libraries"}))),tL=n.createElement("div",{className:ep?eC.y7:eC.uR,style:{height:c+(e.pickerType===S.Zl.RESOURCE_INSERT_MODAL?eh.Kr:0)}},n.createElement("div",{className:ep?eC.qv:void 0},n.createElement(N.Tx,{id:"design_systems.instance_swap_picker.no_components"})),n.createElement(w.nR,{className:ep?eC.ut:eC.oU,onClick:tI},n.createElement("div",null,n.createElement(A.B,{svg:eN.A,style:L.sx.colorIcon.$})),n.createElement(N.Tx,{id:"design_systems.instance_swap_picker.browse_libraries"}))),tR=Object.keys(eZ).length>0;return n.createElement(T.uO,{recordingKey:e.recordingKey,scrollContainerHeight:c,setSearching:e8,onSearch:e6,searchFilter:e7,onLeafItemContextMenu:e9,onLeafItemDrilldown:tA,onLeafItemDraggable:ep?void 0:{sourceForTracking:"component-insert-modal",clickToInsert:!1,afterSuccessfulInsert:tm,sectionNameForTracking:tv},rootDrilldownItems:tt,initialPath:td,beforeItems:tN,focusBeforeItems:()=>{var e;return null==(e=tC.current)?void 0:e.focus()},emptyState:tL,isSelectedItem:tT,multiselect:o,onMultiselectCallback:l,getBackgroundColorForLeafItemThumbnail:W.zR,getLeafItemTooltip:ep?eT.pf:void 0,getLeafItemThumbnail:ep||eP?ex:eM,drilldownItemsRecordingKey:"instanceSwapDrilldownItems",drilldownItemsKeySupplement:eQ.type===S.iN.FILE?eQ.key:eQ.type,getLeafItemRecordingKey:eF,getThumbnailGridLayoutForItems:t_,onDrilldownPathChange:tc,drilldownContainerSize:ep?eE.pi.NORMAL:eE.pi.LARGE,additionalRowBottomMargin:ep?T.qy:0,renderLeafItemNames:!!ep||eP,searchBarRef:e.searchBarRef,pickerToggleRef:O,extraHeightOnSearch:ep||e.pickerType===S.Zl.RESOURCE_INSERT_MODAL?0:eR,validLibrariesArePresent:tR,isLoading:p||(0,en.VP)(ek,D.fi),searchDebounceTime:e.searchDebounceTime,emptySearchResultsFooter:tO,searchBarPlaceholderText:eQ.type===S.iN.PREFERRED?(0,N.t)("design_systems.instance_swap_picker.search_preferred"):eQ.type===S.iN.RECENT?(0,N.t)("design_systems.instance_swap_picker.search_all_libraries"):null!=eQ.key&&eA[eQ.key]?(0,N.t)("design_systems.instance_swap_picker.search_filename",{filename:eA[eQ.key].name}):(0,N.t)("design_systems.instance_swap_picker.search"),pickerType:e.pickerType,errorComponent:eQ.type===S.iN.PREFERRED?ec:void 0,query:e.query,setQuery:e.setQuery,contextValue:e.drilldownPickerContextValue,shouldUpdateServerResults:(0,et.Wg)(e3.getState()),sessionId:ed})}function eG(e){let{multiselect:t,onMultiselectCallback:r,selectedItems:i,searchDebounceTime:o,shouldPerformSwapOnClick:l=!0,itemsToSwap:s,onSwapCallback:c,searchBarRef:d,setNumSearchesForTracking:u,scrollContainerHeight:p,pickerToggleRef:m,toggleGridViewButton:h,preferredItems:g,overrideDefaultItem:f,preferredValuesErrorComponent:E,sessionId:y}=e,b=n.useRef(f).current,{instanceSwapPickerShown:v,loadingState:I,fileVersion:T,library:w}=(0,_.R)(e=>({instanceSwapPickerShown:e.instanceSwapPickerShown,loadingState:e.loadingState,fileVersion:e.fileVersion,library:e.library})),A=(0,a.d4)(X.tB),C=n.useMemo(()=>!!g&&eU(g,i),[g,i]),N=(null==A?void 0:A.key)||null,O=n.useMemo(()=>(null==b?void 0:b.file_key)??W.uj(i),[null==b?void 0:b.file_key,i]),L=n.useMemo(()=>{if(null==A||null==N||null===T)return!0;let e=(0,q.T9)(null==A?void 0:A.project);if(O&&A&&(0,ee.qB)(w,{key:A.key,team_id:A.teamId,editor_type:A.editorType,source_file_key:A.sourceFileKey},{key:O},e)&&!(0,ee.hH)(O)){let e=(0,ee.Mb)(O,T);return!en.D2(I,e)}if(C&&O&&O!==N)return en.VP(I,(0,ed._A)(N));let t=(0,ew.yD)(N);return!en.D2(I,t)},[A,N,T,C,O,w,I]),R=n.useCallback(()=>null==u?void 0:u(e=>e+1),[u]);return(v.isShown||e.pickerType!==S.Zl.INSTANCE_SWAP_PICKER)&&N&&A?n.createElement(eV,{openFile:A,instanceSwapPickerShown:v,multiselect:t,onMultiselectCallback:r,selectedItems:i,scrollContainerHeight:p,recordingKey:e.recordingKey,shouldPerformSwapOnClick:l,itemsToSwap:s,onSwapCallback:c,pickerToggleRef:m,searchBarRef:d,isLoadingSubscribedLibraries:L,searchDebounceTime:o,incrementNumSearchesForTracking:R,pickerType:e.pickerType,dropdownAccessory:e.pickerType===S.Zl.RESOURCE_INSERT_MODAL?h:null,preferredItems:g,preferredValuesErrorComponent:E,overrideDefaultItem:b,showPreferredSectionByDefault:C,query:e.query,setQuery:e.setQuery,drilldownPickerContextValue:e.drilldownPickerContextValue,sessionId:y}):null}function eW(e){var t;let{pickerType:r,initialWidth:o,initialHeight:l,title:s,pickerToggleRef:c,query:d,setQuery:p}=e,h=r===S.Zl.INSTANCE_SWAP_PICKER||r===S.Zl.PREFERRED_VALUES_PICKER,{instanceSwapPickerShown:g,dropdownShown:f}=(0,_.R)(e=>({instanceSwapPickerShown:e.instanceSwapPickerShown,dropdownShown:e.dropdownShown})),E=(0,a.wA)(),y=n.useRef(null),[T,w]=n.useState((0,v.g)()),A=g.isShown?new I.Mi(g.initialX,g.initialY):new I.Mi(0,0),C=n.useCallback(()=>{(null==f?void 0:f.type)===(0,S.YU)(r)&&E(R.oB())},[E,f,r]),N=n.useCallback(()=>{var e;g.isShown&&g.modal&&E((0,k.qX)({...g,modal:!1,returnFocusToToggle:!1})),null==(e=y.current)||e.focus()},[E,g]),[O,L]=n.useState(0),P=n.useCallback(()=>{(0,u.sx)(`${h?"Instance Swap Picker":"Component Insert"} Total Searches`,{numSearches:O}),E((0,k.vq)())},[E,O,h]),D=n.useRef(null),M=h?320:428,x=h?eP:ek,F=n.useCallback(()=>g.isShown&&g.initialY?l||Math.min(window.innerHeight-g.initialY-20,M):M,[M,l,g]),[U,B]=n.useState(F),H=i.findDOMNode(null==(t=D.current)?void 0:t.getEl());n.useLayoutEffect(()=>{let e=(0,m.s)(()=>{if(!H)return;let e=H.getBoundingClientRect();e.bottom>window.innerHeight&&B(U-(e.bottom-window.innerHeight)-20)},200);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[U,B,H]);let V=n.createElement(eK,{isSwapPicker:h,searchBarRef:y}),G=n.createElement("div",{className:eC.Hn},n.createElement("div",{className:eC.D0},s),V);return n.createElement(eg.vx,{title:h?G:s,initialPosition:A,initialHeight:U,initialWidth:o??x,isCloseHidden:h,dragHeaderOnly:!0,onDragStart:C,onDragEnd:N,onClose:P,ref:D,autoflowHeight:!0,recordingKey:b.Pt(e.recordingKey,"modal")},n.createElement(eG,{...e,searchBarRef:y,toggleGridViewButton:V,setNumSearchesForTracking:L,scrollContainerHeight:U,pickerToggleRef:c,query:d,setQuery:p,sessionId:T}))}function eK({isSwapPicker:e,isPreferredValues:t,searchBarRef:r}){let i=(0,a.wA)(),c=(0,a.d4)(e=>t?e.preferredValuesPickerListLayout:e.instanceSwapPickerListLayout),d=t?P.U8:P.fG,p=n.useCallback(n=>{n.stopPropagation(),i(d({isListLayout:!c})),(null==r?void 0:r.current)&&r.current.focus(),(0,u.sx)(`${t?"Preferred Values Picker":e?"Instance Swap Picker":"Component Insert"} View Toggle`,{viewMode:c?"grid":"list"})},[i,d,c,r,t,e]);return n.createElement(o.K,{as:"button","data-tooltip-type":ec.Ib.TEXT,"data-tooltip":c?(0,N.t)("design_systems.instance_swap_picker.show_as_grid"):(0,N.t)("design_systems.instance_swap_picker.show_as_list"),"aria-label":c?(0,N.t)("design_systems.instance_swap_picker.show_as_grid"):(0,N.t)("design_systems.instance_swap_picker.show_as_list"),onClick:p,onMouseDown:B.dG,recordingKey:b.Pt("toggleGridViewButton",t?"preferredValues":"instanceSwapPicker")},n.createElement(C.U,{svg:c?eO.A:eL.A},c?n.createElement(l.E,null):n.createElement(s.Z,null)))}},28630:(e,t,r)=>{"use strict";r.d(t,{g:()=>u,m:()=>p});var n=r(302245),i=r(848661),a=r(496470),o=r(234945),l=r(113916),s=r(705129);let c=e=>e.fileByKey,d=e=>e.library;function u(){return(0,n.Mz)([(e,t,r)=>t,(e,t,r)=>r,c,d],(e,t,r,n)=>{if(!t.get(e))return null;let{selectedItem:i}=(0,a.XV)(e,r,n,t);return i})}let p=(0,n.Mz)([c,d,o.dK,l.i2],(e,t,r,n)=>{let o=null,{backingSymbolGUID:l,backingStateGroupGUID:c}=(0,s.nD)(new Set(n),r);if(c&&(0,i.hS)(c)?o=c:l&&(0,i.hS)(l)&&(o=l),!o)return null;let{selectedItem:d}=(0,a.XV)(o,e,t,r);return d})},151575:(e,t,r)=>{"use strict";r.d(t,{F:()=>b,f:()=>v});var n=r(411855),i=r(188507),a=r(523099),o=r(153234),l=r(46481),s=r(939863),c=r(696673),d=r(733169),u=r(852800),p=r(848661),m=r(416095),_=r(498606),h=r(227795),g=r(754369),f=r(563438),E=r(313888),y=r(665150);function b(e){let{instanceAndSublayerGUIDs:t}=e,r=v(t);return r?n.createElement(h.K0,{svg:r.svg,"data-tooltip-type":_.Ib.TEXT,onMouseDown:r.onMouseDown,"data-tooltip":r.dataTooltip,disabled:r.disabled,recordingKey:o.Pt(e,"findComponentButton",r.backingSymbolGUID)},n.createElement(l.U,{svg:r.svg},r.ui3Icon)):null}function v(e){let t,r;let{backingSymbolGUID:o,singleBackingSymbol:l,isBackingSymbolShared:_,isBackingSymbolSoftDeleted:h,restoreType:b}=(0,g.$)(e),v=(0,i.d4)(e=>(0,d.v)(e,(0,m.yW)(l)));if(null==o||(0,p.gl)(o))return null;let I=(0,m.yW)(l),T=I&&(0,c.wJ)(I);return t=h||!l?"SYMBOL_AS_STATE"===b?(0,s.t)("design_systems.instance_panel.variant_missing"):(0,s.t)("design_systems.instance_panel.component_missing"):_?T?(0,s.t)("design_systems.instance_panel.view_library_in_community"):(0,s.t)("design_systems.instance_panel.go_to_main_component_nin_library"):(0,s.t)("design_systems.instance_panel.go_to_main_component"),r=_?T?y.A:f.A:E.A,h||!l||!_||v?{svg:r,onMouseDown:function(){o&&!(0,p.gl)(o)&&u.glU.goToSymbolOrStateGroupById(o,!0)},dataTooltip:t,disabled:h||!l,ui3Icon:n.createElement(a.E,null),backingSymbolGUID:o}:null}},428877:(e,t,r)=>{"use strict";r.d(t,{Ig:()=>m,OE:()=>g,dc:()=>_,rP:()=>h,y6:()=>E});var n=r(411855),i=r(428654),a=r(775664),o=r(973149),l=r(723081),s=r(774191),c=r(852800),d=r(617453),u=r(484892),p=r(836283);let m=(()=>{let e=new o.o1({normalizeFactor:360,min:0,max:1}),t=new o.o1({normalizeFactor:100,min:0,max:1}),r=new o.t6({min:0,max:1}),l=new o.o1({normalizeFactor:255,min:0,max:1}),u={hsla:(r,n)=>`hsla(${e.format(r.h)}, ${t.format(r.s)}%, ${t.format(r.l)}%, ${n})`,hsba:(r,n)=>`hsba(${e.format(r.h)}, ${t.format(r.s)}%, ${t.format(r.v)}%, ${n})`,rgba:(e,t)=>`rgba(${l.format(e.r)}, ${l.format(e.g)}, ${l.format(e.b)}, ${t})`,uicolor:(e,t,n)=>n?`UIColor(${r.format(e.r)}, ${r.format(e.g)}, ${r.format(e.b)}, ${t})`:`UIColor(red: ${r.format(e.r)}, green: ${r.format(e.g)}, blue: ${r.format(e.b)}, alpha: ${t})`};return()=>{let e=(0,d.Ku)();return n.useCallback((t,r)=>{let n=Number(t.a).toLocaleString("en",{maximumFractionDigits:2});switch(e){case c.NVY.HEX:let o=a.TI.format(t,(null==r?void 0:r.hexCSSValue)?{withAlpha:1!==t.a}:(null==r?void 0:r.alphaInPercent)?{withAlpha:1!==t.a,showDot:!0}:void 0);return`#${o}`;case c.NVY.RGB:return u.rgba(t,n);case c.NVY.CSS:return i.F.format(t);case c.NVY.HSB:let l=(0,s.qN)(t);return u.hsba(l,n);case c.NVY.HSL:let d=(0,s.oB)(t);return u.hsla(d,n);case c.NVY.UIColor:return u.uicolor(t,n,(null==r?void 0:r.shortform)??!1)}},[e])}})();function _(e,t,r){let n=new l.ZB(()=>e),i=e.opacity||1,a=[...e.color?[{...e.color,a:i*e.color.a}]:[],...e.stops?e.stops.map(e=>({...e.color,a:i*e.color.a})):[]];return{type:p.q.RAW,paint:e,colors:a,typeFormatter:n.format,valueFormatter:t,variableScope:r,encodedPaint:(0,u.fZ)(e)}}function h(e,t,r,n=[]){return{type:p.q.STYLE,name:e,dsStyle:t,paints:r,styleGUIDs:n}}function g(e,t){let r=m();return n.useMemo(()=>e.map(e=>{let n=t(e);if(!n)return{value:e,color:void 0};let i=[n],a={color:n,opacity:n.a,type:"SOLID"};return{value:e,color:{type:p.q.RAW,encodedPaint:(0,u.fZ)(a),paint:a,colors:i,typeFormatter:f,valueFormatter:r}}}),[t,e,r])}let f=()=>"SOLID";function E(e){let t=m();return n.useMemo(()=>e.map(({color:e,colorVar:r})=>{let n=[e],i={color:e,opacity:e.a,type:"SOLID"};return r&&(i.colorVar=r),{type:p.q.RAW,encodedPaint:(0,u.fZ)(i),paint:i,colors:n,typeFormatter:f,valueFormatter:t}}),[e,t])}},750693:(e,t,r)=>{"use strict";r.d(t,{$p:()=>e5,Gg:()=>e9,P$:()=>te,So:()=>tr,UA:()=>ts,W4:()=>e8,eT:()=>e3,rM:()=>tn});var n,i=r(411855),a=r(109388),o=r(188507),l=r(767129),s=r(416580),c=r(536825),d=r(631437),u=r(288107),p=r(243742),m=r(629019),_=r.n(m),h=r(776250),g=r(297666),f=r(62935),E=r(794272),y=r(966712),b=r(38580),v=r(374626),I=r(755887),T=r(886653),S=r(153234),w=r(522739),A=r(96328),C=r(347082),N=r(515009),O=r(448169),L=r(946689),R=r(574176),P=r(46481),k=r(939863),D=r(293017),M=r(632430),x=r(662275),F=r(411294),U=r(626783),B=r(906899),H=r(259927),V=r(483990),G=r(775664),W=r(723081),K=r(798099),Y=r(297336),j=r(356390),z=r(852800),$=r(662531),Z=r(617453),q=r(848661),J=r(618056),X=r(931770),Q=r(341860),ee=r(555074),et=r(869156),er=r(318812),en=r(335682),ei=r(499777),ea=r(416095),eo=r(833629),el=r(94500),es=r(241691),ec=r(173454),ed=r(279702),eu=r(484892),ep=r(498606),em=r(420186),e_=r(218973),eh=r(40386),eg=r(110382),ef=r(807676),eE=r(533573),ey=r(478655),eb=r(158406),ev=r(712685),eI=r(107683),eT=r(469572),eS=r(875157),ew=r(117110),eA=r(574997),eC=r(75215),eN=r(750029),eO=r(697652),eL=r(184027),eR=r(521223),eP=r(247908),ek=r(602029),eD=r(248752),eM=r(205135),ex=r(122255),eF=r(937853),eU=r(7959),eB=r(418985),eH=r(353341),eV=r(238093),eG=r(343559),eW=r(939791),eK=r(781867),eY=r(397669),ej=r(920778),ez=r(333483),e$=r(92385),eZ=r(424148),eq=r(819785),eJ=r(695038),eX=r(668092),eQ=r(27921),e0=r(874038),e1=r(953663),e2=r(641053);class e3 extends i.PureComponent{constructor(){super(...arguments),this.onPaintsChange=(e,t,r)=>{(0,y.kc)().ce_properties_panel_tracking&&(0,h.sx)("editor-paints-panel-fill-change"),j.Y5.updateSelectionProperties({fillPaints:e},{shouldCommit:t,overwrite:r??z.WXh.ONLY_WHEN_NOT_EMPTY}),(0,eT.a2)("fillPaints")},this.onApplyStyle=(e,{fromSearch:t}={})=>{this.props.dispatch(M.AV({style:e,inheritStyleKeyField:"inheritFillStyleKey",fromSearch:t}))},this.onExportBackgroundDisabledChange=e=>{j.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})}}videoFillSelected(){if((0,q.gl)(this.props.selectionProperties.fillPaints)||!this.props.selectionProperties.numVideosSelected)return!1;for(let e of this.props.selectionProperties.fillPaints??[])if(e.video)return!0;return!1}render(){let e=(0,eV.yT)({...this.props,styleType:"FILL",inheritStyleKeyField:"inheritFillStyleKey"});return i.createElement(C.p,{name:"fill_panel"},i.createElement(eU.Zk,null,i.createElement(e7,{propertyList:this.props.fillPaints,onChange:this.onPaintsChange,onApplyStyle:this.onApplyStyle,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:z.rrT.FILL,recordingKey:S.Pt(this.props,"paintList"),pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,onPickerShown:()=>{(0,y.kc)().ce_properties_panel_tracking&&(0,h.sx)("editor-paints-panel-fill-color-picker-show")},variableScopes:this.props.variableScopes,isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom,isUI3:this.props.isUI3,...(0,eR.Rz)(this.props),...e}),i.createElement(eO.JH,{isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom},this.props.selectionContainsFrames&&this.props.hasExports&&i.createElement(eU.fI,{className:e$.Kx},i.createElement(eC.t,{className:e$.kv,id:"frame-background-export-background-disabled",property:this.props.exportBackgroundDisabled===q.oV?q.oV:!this.props.exportBackgroundDisabled,onChange:this.onExportBackgroundDisabledChange,recordingKey:S.Pt(this.props,"exportDisableCheckbox")}),i.createElement(eU.JU,{className:e$.mH,htmlFor:"frame-background-export-background-disabled","data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.fill.include_the_canvas_or_group_background_in_exports")},i.createElement(k.Tx,{id:"fullscreen.properties_panel.fill.show_in_exports"}))),(0,el.Zd)()&&this.videoFillSelected()&&i.createElement(eF.A,{updateSelectionProperties:j.Y5.updateSelectionProperties,dispatch:this.props.dispatch,videoPlayback:(0,ex.F9)(this.props.selectionProperties)}))))}}function e5(e){let{bigNudgeAmount:t,smallNudgeAmount:r}=(0,Z.sT)();return i.createElement(e4,{...e,bigNudgeAmount:t,smallNudgeAmount:r})}e3.displayName="FillPanel";class e4 extends i.PureComponent{constructor(){super(...arguments),this.settingsId="stroke-settings",this.state={showSwapButton:!1,syncState:"NONE",individualBorderOption:eA.om.ALL},this.stopPropagation=e=>e.stopPropagation(),this.onPaintsChange=(e,t,r)=>{(0,y.kc)().ce_properties_panel_tracking&&(0,h.sx)("editor-paints-panel-stroke-change",{key:"color"}),j.Y5.updateSelectionProperties({strokePaints:e},{shouldCommit:t,overwrite:r??z.WXh.ONLY_WHEN_NOT_EMPTY}),(0,eT.a2)("strokePaints")},this.onNonPaintsChange=(e,t=ed.zk.YES)=>{let r=(0,q._W)(this.props.strokePaints,[]);if(r.length>0&&!r.find(e=>e.visible)){let e=r.map(e=>({...e,visible:!0}));j.Y5.updateSelectionProperties({strokePaints:e},{shouldCommit:ed.zk.NO,overwrite:z.WXh.ONLY_WHEN_NOT_EMPTY})}j.Y5.updateSelectionProperties(e,{shouldCommit:t}),(0,eT.a2)("strokePaints")},this.onApplyStyle=(e,{fromSearch:t}={})=>{this.props.dispatch(M.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},this.bordersAlignmentOnChange=(e,t=ed.zk.YES)=>{if(this.state.individualBorderOption!==eA.om.ALL){let{strokeAlign:t}=e;(0,h.sx)("Individual Border Alignment Changed",{position:(0,q.hS)(t)?t:"__mixed__"})}this.onNonPaintsChange(e,t)},this.forwardedRef=i.createRef(),this.toggleSettings=()=>{var e;if((null==(e=this.props.pickerShown)?void 0:e.id)===this.settingsId)this.props.dispatch(D.XE());else{if(!this.forwardedRef||!this.forwardedRef.current)return;(0,h.sx)("editor-paints-panel-advanced-stroke-show");let e=(0,em.cn)(this.forwardedRef.current);this.props.dispatch(D.u1({id:this.settingsId,initialX:e.x,initialY:e.y})),this.props.dispatch(D.Uv()),this.props.dispatch(B.sw())}},this.setIndividualBorderOption=e=>{this.setState({individualBorderOption:e})},this.selectBorderSides=(e,t=ed.zk.YES)=>{if(this.setState({individualBorderOption:e}),e===eA.om.CUSTOM)return;let r=e===eA.om.ALL,n={borderTopVisible:r||e===eA.om.TOP,borderRightVisible:r||e===eA.om.RIGHT,borderBottomVisible:r||e===eA.om.BOTTOM,borderLeftVisible:r||e===eA.om.LEFT};j.Y5.updateSelectionProperties(n,{shouldCommit:t}),(0,eT.a2)("strokePaints")},this.nodesSupportIndividualBorders=(e,t)=>{let r=new Set(["RECTANGLE","ROUNDED_RECTANGLE","SYMBOL","INSTANCE"]);for(let n of e)if(r.has(n.type)||"FRAME"===n.type&&!n.resizeToFit||"FRAME"===n.type&&t<2&&this.nodesSupportIndividualBorders(n.childrenNodes,t+1))return!0;return!1},this.supportsIndividualBorders=()=>{if(!this.props.numSelectedByType)return!1;if((0,Y.vx)(this.props.numSelectedByType,"RECTANGLE")||(0,Y.vx)(this.props.numSelectedByType,"ROUNDED_RECTANGLE")||(0,Y.vx)(this.props.numSelectedByType,"SYMBOL")||(0,Y.vx)(this.props.numSelectedByType,"INSTANCE"))return!0;if((0,Y.vx)(this.props.numSelectedByType,"FRAME")){let e=Object.keys(this.props.sceneGraphSelection).map(Q.qo.instance.get).filter(e=>!!e);return this.nodesSupportIndividualBorders(e,0)}return!1},this.onBidirectionalEndpointRowMouseEnter=e=>{this.stopPropagation(e),this.props.leftEndCap&&this.props.rightEndCap&&(0,q.hS)(this.props.leftEndCap)&&(0,q.hS)(this.props.rightEndCap)&&this.props.leftEndCap!==this.props.rightEndCap&&this.setState({showSwapButton:!0})},this.onBidirectionalEndpointRowMouseLeave=e=>{this.stopPropagation(e),this.hideSwapButton()},this.hideSwapButton=()=>{this.setState({showSwapButton:!1})},this.updateSyncState=e=>{if("reset"===e){this.setState({syncState:"NONE"});return}switch(this.state.syncState){case"NONE":"changed start"===e?this.setState({syncState:"CHANGED_START"}):"changed end"===e&&this.setState({syncState:"CHANGED_END"});break;case"CHANGED_START":"changed end"===e&&this.setState({syncState:"CHANGED_BOTH"});break;case"CHANGED_END":"changed start"===e&&this.setState({syncState:"CHANGED_BOTH"})}},this.componentDidUpdate=e=>{e.sceneGraphSelection!==this.props.sceneGraphSelection&&this.setState({syncState:"NONE",individualBorderOption:eA.om.ALL})}}render(){var e;let t=(0,eV.yT)({...this.props,styleType:"FILL",inheritStyleKeyField:"inheritFillStyleKeyForStroke"}),r=(0,eV.A8)(t.inheritStyleKey),n=!(this.props.numSelectedByType&&(0,Y.vx)(this.props.numSelectedByType,"TABLE"))&&(r||(0,q._W)(this.props.strokePaints,[]).length>0||this.props.strokePaints===q.oV),a=(null==(e=this.props.pickerShown)?void 0:e.id)===this.settingsId,o=2===this.props.strokePanelTerminalPointCount&&this.props.strokePanelMode!==z.yTM.WASHI_TAPE,l=this.props.strokePanelMode!==z.yTM.WASHI_TAPE,s=this.supportsIndividualBorders();return i.createElement(C.p,{name:"stroke_panel"},i.createElement(eU.Zk,{"data-testid":"stroke-panel-id"},i.createElement(e6,{propertyList:this.props.strokePaints,selectedPropertyType:z.rrT.STROKE,onChange:this.onPaintsChange,onApplyStyle:this.onApplyStyle,currentSelectedProperty:this.props.currentSelectedProperty,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,recordingKey:S.Pt(this.props,"paintList"),onPickerShown:()=>{(0,y.kc)().ce_properties_panel_tracking&&(0,h.sx)("editor-paints-panel-stroke-color-picker-show")},variableScopes:new Set([z.j0r.STROKE]),...(0,eR.Rz)(this.props),...t,onToggleListLayout:this.toggleSettings,onToggleAdvancedSettings:n&&l?this.toggleSettings:void 0,advancedSettingsTooltip:(0,k.t)("fullscreen.properties_panel.fill.advanced_stroke_settings"),isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom}),n&&i.createElement(eY.t,{forwardedRef:this.forwardedRef,borderSharedWeight:this.props.borderSharedWeight,maxStrokeWeight:this.props.maxStrokeWeight,strokeAlign:this.props.strokeAlign,strokeCap:this.props.strokeCap,terminalCap:this.props.terminalCap,strokeJoin:this.props.strokeJoin,arcRadius:this.props.arcRadius,arcSweep:this.props.arcSweep,connectorLineStyle:this.props.connectorLineStyle,miterLimitAngle:this.props.miterLimitAngle,onNonPaintsChange:this.onNonPaintsChange,numSelectedByType:this.props.numSelectedByType,updateSyncState:this.updateSyncState,hideSwapButton:this.hideSwapButton,syncState:this.state.syncState,showSwapButton:this.state.showSwapButton,selectBorderSides:this.selectBorderSides,setIndividualBorderOption:this.setIndividualBorderOption,onBordersAlignmentChange:this.bordersAlignmentOnChange,onBidirectionalEndpointRowMouseEnter:this.onBidirectionalEndpointRowMouseEnter,onBidirectionalEndpointRowMouseLeave:this.onBidirectionalEndpointRowMouseLeave,showAdvancedStrokeSettings:l,showIndividualBorderControls:s,showEndPointControls:o,showStrokePicker:a,strokePanelMode:this.props.strokePanelMode,individualBorderOption:this.state.individualBorderOption,toggleSettings:this.toggleSettings,stopPropagation:this.stopPropagation,strokePanelTerminalPointCount:this.props.strokePanelTerminalPointCount,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,recordingKey:this.props.recordingKey,leftEndCap:this.props.leftEndCap,rightEndCap:this.props.rightEndCap,dashPattern:this.props.dashPattern,dashCap:this.props.dashCap})))}}function e8({title:e,propertyList:t,onChange:r,onApplyStyle:n,addProperty:a,overrideAddPropertyTooltip:l,onReorder:s,renderProperty:c,onDeleteProperty:d,onToggleListLayout:u,styleType:p,inheritStyleKey:m,inheritStyleKeyField:_,inheritStyleID:h,stylePickerListLayout:g,removeAllProperties:f,library:E,defaultColor:y,openFile:b,stylePickerShown:v,currentSelectedProperty:I,selectedPropertyType:T,modalShown:w,sceneGraphSelection:A,selectedStyleProperties:C,recordingKey:N,onToggleAdvancedSettings:O,advancedSettingsTooltip:L,isPanelBodyCollapsedAtom:R}){let P=(0,o.wA)(),k=(0,ei.X)(),M=(0,er.U)(),x=!!i.useContext(eL.zK),F=x?`style-modal-${(0,eb.qj)(_)}`:(0,eb.qj)(_),U=(0,eV.WH)(m,h,p),B=(0,eg.AH)((null==U?void 0:U.key)??null,(0,q.E7)(h)),H=(null==U?void 0:U.isLocal)?U:(null==B?void 0:B.status)==="loaded"?B.data:null,V=function(){let e=(0,et.Rb)(),t=(0,et.Pt)(),r=e.length>0,n=Object.keys(t).length>0;return r||n}(),G=t&&(0,q.hS)(t)&&(t.length>1||t.some(e=>!(0,J.sb)(e.type)))?"createStyle":V?"createVariable":"createStyle",W=i.useCallback(()=>k&&k.id===F?k:null,[k,F]),K=i.useCallback(({initialX:e,initialY:t})=>{W()?P(D.XE()):P(D.u1({id:F,initialX:e,initialY:t}))},[P,F,W]),Y=i.useCallback(e=>{K(e)},[K]),j=i.useCallback((e,t)=>{r([e],t,z.WXh.ONLY_WHEN_NOT_DISABLED)},[r]),$=(0,ee.kl)("numSelectedByType"),Z=(0,eO.y5)(R||null),X=i.useCallback(()=>{a(),Z()},[a,Z]),Q=i.useMemo(()=>{if($)return(0,eS.aZ)(T,$)},[T,$]);return i.createElement(i.Fragment,null,i.createElement(eD.Kx,{title:e,propertyList:t,onChange:r,addProperty:X,overrideAddPropertyTooltip:l,renderProperty:c,onDeleteProperty:d,onReorder:s,removeAllProperties:f,currentSelectedProperty:I,selectedPropertyType:T,recordingKey:N,dropdownShown:M,openFile:b,library:E,modalShown:w,pickerShown:k,sceneGraphSelection:A,selectedStyleProperties:C,stylePickerShown:v,inheritStyleKey:m,inheritStyleKeyField:_,inheritStyleID:h,stylePickerListLayout:g,styleType:p,onToggleListLayout:u,onPickerIconClick:Y,dispatch:P,onToggleAdvancedSettings:O,advancedSettingsTooltip:L,isPanelBodyCollapsedAtom:R}),(()=>{let e=W();if(!e)return;let r=t&&(0,q.hS)(t)&&1===t.length?t[0]:{type:"SOLID",color:{r:1,g:1,b:1,a:1},opacity:1};return i.createElement(eR.ku,{paint:r,paintId:(0,eV.OS)(_),selectedStyle:H,inheritStyleKeyField:_,onChange:j,onApplyStyle:x?void 0:n,pickerShown:e,defaultColor:y,dropdownShown:M,initialView:"library",supportedViews:["library"],initialCreationModalView:G,recordingKey:S.Pt(N,"paintPicker"),variableScopes:Q,hasVisiblePaintBelow:!1,isInStyleModal:x})})())}function e6(e){let{version:t}=(0,p.DP)();return"ui3"!==t?i.createElement(e7,{...e,isUI3:!1}):i.createElement(e7,{...e,isUI3:!0})}e4.displayName="StrokePanel";class e7 extends i.PureComponent{constructor(){super(...arguments),this.context=null,this.addProperty=()=>{let e=(0,eV.dd)(this.props.selectedStyleProperties);switch(this.props.selectedPropertyType){case z.rrT.STROKE:e||((0,eT.a2)("strokePaints"),j.Y5.triggerActionInUserEditScope("add-stroke-to-selection"));break;case z.rrT.FILL:e?j.Y5.triggerActionInUserEditScope("add-fill-to-style-selection"):j.Y5.triggerActionInUserEditScope("add-fill-to-selection"),(0,eT.a2)("fillPaints")}},this.removeProperty=e=>{this.isInStyleModal()||this.props.dispatch(D.XE()),this.props.dispatch(D.Uv());let t=(0,q._W)(this.props.propertyList,[]).filter((t,r)=>r!==e);this.props.onChange(t),j.Y5.deselectProperty()},this.title=()=>{switch(this.props.selectedPropertyType){case z.rrT.STROKE:return(0,k.t)("fullscreen.properties_panel.fill.stroke");case z.rrT.FILL:return(0,k.t)("fullscreen.properties_panel.fill.fill");default:return""}},this.getUI3AddPropertyTooltip=()=>{if(!this.props.isUI3)return;let e=(0,q._W)(this.props.propertyList,[]);switch(this.props.selectedPropertyType){case z.rrT.STROKE:return 0===e.length?(0,k.t)("fullscreen.properties_panel.section_stroke.tooltip_addStroke"):(0,k.t)("fullscreen.properties_panel.section_stroke.tooltip_addStrokeFill");case z.rrT.FILL:return(0,k.t)("fullscreen.properties_panel.section_fill.tooltip_addFill");default:return}},this.onChange=(e,t,r)=>{this.props.onChange(e,t,r),(0,q._W)(this.props.propertyList,[]).length!==e.length&&J.Tm.clearCache()},this.onReorder=()=>{J.Tm.clearCache()},this.toggleListLayout=()=>{this.props.dispatch(D.Y({isListLayout:!this.props.stylePickerListLayout})),this.props.dispatch(B.sw())},this.renderProperty=(e,t,r,n,a,o,l,s,c)=>{var d;let u=this.isInStyleModal()?"preview-paint":"paint",p=J.Tm.getId(t,this.props.selectedPropertyType,u),m=(0,q._W)(this.props.propertyList,[]).slice(0,t).some(e=>e.visible);return i.createElement(e9,{key:`paint-${t}`,id:p,inheritStyleKeyField:this.props.inheritStyleKeyField,index:t,singletonRow:(0,q._W)(this.props.propertyList,[]).length<=1,selectedPropertyType:this.props.selectedPropertyType,paint:e,selected:this.props.stylePickerShown.isShown?(null==(d=this.props.pickerShown)?void 0:d.id)===p:r,isDragging:n,hasFocus:a,stylePickerShown:this.props.stylePickerShown,onPickerShown:this.props.onPickerShown,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,onChange:o,onMouseDown:l,onMouseMove:s,onMouseUp:c,onRemovePaint:this.removeProperty.bind(this,t),onApplyStyle:this.props.onApplyStyle,recordingKey:S.Pt(this.props,t),variableScopes:this.props.variableScopes,isUI3:this.props.isUI3,hasVisiblePaintBelow:m,...(0,eR.Rz)(this.props)})}}isInStyleModal(){return null!=this.context}render(){let e=this.getUI3AddPropertyTooltip();return i.createElement(e8,{title:this.title(),propertyList:this.props.propertyList,onChange:this.onChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:this.props.selectedPropertyType,addProperty:this.addProperty,overrideAddPropertyTooltip:e,renderProperty:this.renderProperty,pickerShown:this.props.pickerShown,onReorder:this.onReorder,recordingKey:this.props.recordingKey,...(0,eV.yT)(this.props),onToggleListLayout:this.toggleListLayout,library:this.props.library,defaultColor:this.props.defaultColor,onApplyStyle:this.props.onApplyStyle,onToggleAdvancedSettings:this.props.isUI3?this.props.onToggleAdvancedSettings:void 0,advancedSettingsTooltip:this.props.isUI3?this.props.advancedSettingsTooltip:void 0,isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom})}}e7.displayName="PaintList",e7.contextType=eL.zK;class e9 extends i.PureComponent{constructor(){super(...arguments),this.state={isDragHover:!1},this.context=null,this.row=null,this.rowRef=e=>{e&&(this.row=a.findDOMNode(e))},this.pickerShownInStyleModal=()=>!this.isInStyleModal()&&!!this.props.pickerInStyleCreationShown,this.handleOpenImagePicker=e=>{this.props.selectedPropertyType!==e.propertyType||this.props.index!==e.index||this.pickerShown()||this.pickerShownInStyleModal()||this.showPicker()},this.handleCloseImagePicker=e=>{this.props.selectedPropertyType===e.propertyType&&this.props.index===e.index&&this.pickerShown()&&this.hidePicker()},this.onPaintPickerChange=(e,t)=>{e.visible=!0,this.props.onChange(e,t)},this.onVisibleChange=e=>{this.props.onChange({...this.props.paint,visible:e})},this.pickerShown=()=>{var e,t;return this.isInStyleModal()?(null==(e=this.props.pickerInStyleCreationShown)?void 0:e.id)===this.props.id?this.props.pickerInStyleCreationShown:null:(null==(t=this.props.pickerShown)?void 0:t.id)===this.props.id?this.props.pickerShown:null},this.showPicker=()=>{var e,t;if(!this.row)return;let r=(0,em.cn)(this.row);null==(t=(e=this.props).onPickerShown)||t.call(e),j.Y5.updateAppModel({currentSelectedProperty:{type:this.props.selectedPropertyType,indices:[this.props.index]}}),this.isInStyleModal()?this.props.dispatch((0,F.D)({id:this.props.id,initialX:r.x,initialY:r.y})):this.props.dispatch(D.u1({id:this.props.id,initialX:r.x,initialY:r.y,data:{isInStyleModal:this.isInStyleModal()}})),this.isInStyleModal()||(this.props.dispatch(B.sw()),this.props.dispatch(D.Uv()))},this.hidePicker=()=>{this.isInStyleModal()?this.props.dispatch((0,F.w)()):this.props.dispatch(D.XE()),j.Y5.deselectProperty()},this.togglePicker=()=>{this.pickerShown()?this.hidePicker():this.showPicker()},this.isDragTarget=()=>!!(0,q.E7)(this.props.paint),this.onDragEnter=()=>{this.setState({isDragHover:!0})},this.onDragLeave=()=>{this.setState({isDragHover:!1})},this.onDrop=e=>{this.setState({...this.state,isDragHover:!1});let t=(0,q.E7)(this.props.paint);if(!t)return;let r=j.Y5.fileArrayToString;if(r){let n=r(Array.from(e.files));z.glU.dropImageOnPaintThumbnail(t.blendMode||"NORMAL",t.opacity||1,n,this.props.index,this.props.selectedPropertyType)}},this.dropImageOnPaintThumbnail=(e,t,r)=>{let n=j.Y5.fileArrayToString;if(n){let i=n(Array.from(r.files));z.glU.dropImageOnPaintThumbnail(e,t,i,this.props.index,this.props.selectedPropertyType)}},this.updateStillImageAndSelectionPropertiesForGIF=(e,t)=>$.l7.user("update-gif-image",()=>(0,X.SK)(e,t,this.props.selectedPropertyType)),this.onDetachVariableClick=()=>{let e=(0,ef.y)(this.props.paint);this.onPaintPickerChange(e,ed.zk.YES)}}isInStyleModal(){return null!=this.context}componentDidMount(){this.isInStyleModal()||(j.Y5.fromFullscreen.on("openImagePicker",this.handleOpenImagePicker),j.Y5.fromFullscreen.on("closeImagePicker",this.handleCloseImagePicker))}componentWillUnmount(){this.isInStyleModal()||(j.Y5.fromFullscreen.removeListener("openImagePicker",this.handleOpenImagePicker),j.Y5.fromFullscreen.removeListener("closeImagePicker",this.handleCloseImagePicker)),this.isInStyleModal()&&this.pickerShown()&&this.hidePicker()}hasBoundColorVariable(){return!!this.props.paint.colorVar}render(){let e=this.renderButtons();return i.createElement("div",null,i.createElement(O.Y,{isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDrop,recordingKey:S.Pt(this.props,"dropTarget")},i.createElement(w.D8,{recordingKey:S.Pt(this.props,"dragTarget")},i.createElement(tt,{ref:this.rowRef,id:this.props.id,paint:this.props.paint,firstIconButton:e.length>0?e[0]:null,secondIconButton:e.length>1?e[1]:null,shownPickerMatchesThisPaint:!!this.pickerShown(),togglePicker:this.togglePicker,isDragHover:this.state.isDragHover,onChange:this.props.onChange,selected:this.props.selected,singletonRow:this.props.singletonRow,isDragging:this.props.isDragging,hasFocus:this.props.hasFocus,noBorderOnFocus:this.props.noBorderOnFocus,recordingKey:this.props.recordingKey,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,isUI3:this.props.isUI3,...(0,eR.Rz)(this.props)}))),this.pickerShown()&&i.createElement(eR.ku,{paint:this.props.paint,paintId:this.props.id,selectedStyle:null,inheritStyleKeyField:this.props.inheritStyleKeyField,dropImageOnPaintThumbnail:this.dropImageOnPaintThumbnail,updateStillImageAndSelectionPropertiesForGIF:this.updateStillImageAndSelectionPropertiesForGIF,onChange:this.onPaintPickerChange,onApplyStyle:this.isInStyleModal()?void 0:this.props.onApplyStyle,onClose:this.hidePicker,recordingKey:S.Pt(this.props,"paintPicker"),defaultColor:this.props.defaultColor,dropdownShown:this.props.dropdownShown,pickerShown:this.pickerShown(),variableScopes:this.props.variableScopes,hasVisiblePaintBelow:this.props.hasVisiblePaintBelow,isInStyleModal:this.isInStyleModal()}))}renderButtons(){let e=[];if(this.props.hideVisibilityToggle||this.hasBoundColorVariable()||e.push({button:i.createElement(eK.B,{visible:this.props.paint.visible,onChange:this.onVisibleChange,recordingKey:S.Pt(this.props,"visibleToggle")}),opensPicker:!1,key:"visibleToggle"}),this.hasBoundColorVariable()&&e.push({button:i.createElement("span",{className:e$.zm},i.createElement(l.K,{as:"button","data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.fill.detach_variable"),"aria-label":(0,k.t)("fullscreen.properties_panel.fill.detach_variable"),onMouseDown:K.dG,onClick:this.onDetachVariableClick,recordingKey:S.Pt(this.props,"paint","detachVariableButton")},i.createElement(P.U,{svg:eZ.A},i.createElement(s.U,null)))),opensPicker:!1,key:"detatchVariableButton"}),this.props.onRemovePaint){let t=this.props.isUI3?{"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.fill.remove")}:{};e.push({button:i.createElement(l.K,{as:"button",recordingKey:S.Pt(this.props,"removeButton"),onMouseDown:K.dG,onClick:this.props.onRemovePaint,"aria-label":(0,k.t)("fullscreen.properties_panel.fill.remove"),...t},i.createElement(P.U,{svg:eq.A,fallbackSvg:eJ.A},i.createElement(c.O,null))),opensPicker:!1,key:"removeButton"})}return e}}function te({children:e}){return i.createElement("div",{onFocus:e=>e.stopPropagation()},e)}e9.displayName="PaintListItem",e9.contextType=eL.zK;class tt extends i.PureComponent{constructor(){super(...arguments),this.onChange=(e,t=!0)=>{e.visible=!0,this.props.onChange(e),t&&J.Tm.clearCache(this.props.id)},this.onColorChange=e=>{let t={...this.props.paint,color:e};(0,I.xN)(e.a,this.props.paint.opacity??1)||(t.opacity=e.a,t.visible=!0),this.onChange(t)},this.onOpacityChange=(e,t)=>{this.props.onChange({...this.props.paint,opacity:e,visible:!0},t)},this.onChitOrTypeMouseDown=e=>{e.stopPropagation(),this.props.togglePicker()},this.onContainerMouseDown=e=>{if(e.shiftKey||2&e.buttons){this.props.togglePicker(),e.preventDefault(),e.stopPropagation();return}},this.onContainerContextMenu=e=>{e.preventDefault(),e.stopPropagation()},this.onRowFocus=()=>{var e,t;null==(t=(e=this.props).onFocus)||t.call(e),this.props.shownPickerMatchesThisPaint&&this.props.togglePicker()},this.boundColorVariableId=()=>{var e,t;let r=null==(t=null==(e=this.props.paint.colorVar)?void 0:e.value)?void 0:t.alias;return r?ey.dI(r):null},this.componentWillUnmount=()=>{this.props.onInputBlur&&this.props.onInputBlur()}}render(){let e=this.boundColorVariableId(),t=this.props.firstIconButton?this.wrapButton(this.props.firstIconButton):null,r=this.props.secondIconButton?this.wrapButton(this.props.secondIconButton):null,n=this.props.selected&&!this.props.hasFocus,a=i.createElement(i.Fragment,null,i.createElement("div",{className:_()(e?e$.BT:e$.wM,{[e$.NI]:this.props.selected,[e$.L3]:n}),onMouseDown:this.onChitOrTypeMouseDown,onMouseDownCapture:this.onContainerMouseDown,onContextMenu:this.onContainerContextMenu},e?i.createElement(ew.y,{isSelected:this.props.selected&&this.props.hasFocus},i.createElement(tn,{selected:this.props.selected&&!this.props.hasFocus,variableId:e,paint:this.props.paint,onMouseDown:this.onChitOrTypeMouseDown,recordingKey:this.props.recordingKey})):this.renderPaint())),o=i.createElement("div",{className:e$.RK,"data-onboarding-key":(0,eo.Lh)(eo.D8.PAINT_PANEL_ROW,this.props.id)},a,i.createElement("div",{className:e$.$r},t,r));if(this.props.preventDragging)return this.props.isUI3?i.createElement(eW.pG,{appendedClassName:_()(e$.p,{[e$.Tp]:this.props.isDragHover,[ez.CZ]:this.props.selected,[ez.kR]:n}),input:a,leftIcon:t,rightIcon:r,onFocus:this.onRowFocus,recordingKey:this.props.recordingKey,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp}):i.createElement(eU.fI,{className:this.props.isDragHover?`${e$.Tp} ${e$.p}`:e$.p,selected:this.props.selected,selectedSecondary:this.props.selected&&!this.props.hasFocus,onFocus:this.onRowFocus,recordingKey:this.props.recordingKey,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp},o);if(this.props.isUI3){let e=_()(e$.p,{[e$.Tp]:this.props.isDragHover,[ez.CZ]:this.props.selected,[ez.kR]:this.props.selected&&!this.props.hasFocus});return i.createElement(eW.Y9,{singletonRow:this.props.singletonRow,selected:this.props.selected,selectedSecondary:this.props.selected&&!this.props.hasFocus,dragging:this.props.isDragging,onFocus:this.onRowFocus,recordingKey:this.props.recordingKey,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp},null===t||null===r?i.createElement(eW.DE,{appendedClassName:e,input:a,icon:t||r,label:null}):i.createElement(eW.pG,{appendedClassName:e,input:a,leftIcon:t,rightIcon:r}))}return i.createElement(ek.e,{className:this.props.isDragHover?`${e$.Tp} ${e$.p}`:e$.p,shiftGrabberOnInputFocus:!0,selected:this.props.selected,selectedSecondary:this.props.selected&&!this.props.hasFocus,singletonRow:this.props.singletonRow,dragging:this.props.isDragging,onFocus:this.onRowFocus,recordingKey:this.props.recordingKey,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp},o)}wrapButton({button:e,opensPicker:t,key:r}){return t?i.createElement(te,{key:r},e):i.createElement(i.Fragment,{key:r},e)}renderPaint(){let e=_()({[e$.EC]:!this.props.paint.visible});return i.createElement(i.Fragment,null,i.createElement(te,null,i.createElement(eN.J,{paint:this.props.paint,onMouseDown:this.onChitOrTypeMouseDown,recordingKey:S.Pt(this.props,"chit"),className:e$.x7})),i.createElement(tr,{...this.props,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,visible:this.props.paint.visible,onTypeMouseDown:this.onChitOrTypeMouseDown,onMouseDown:K.dG,onColorChange:this.onColorChange,recordingKey:S.Pt(this.props,"value"),noBorderOnFocus:!0}),i.createElement(e_.Pd,{inputClassName:e,className:e$.n1,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,value:this.props.paint.opacity,onValueChange:this.onOpacityChange,dispatch:this.props.dispatch,noLeftBorder:!0,noBorderOnFocus:!0,onMouseDown:K.dG,recordingKey:S.Pt(this.props,"opacity")}))}}function tr(e){let t=(0,i.useMemo)(()=>new G.rC({parseAlpha:!0}),[]),r=(0,i.useMemo)(()=>new W.ZB(()=>e.paint),[e.paint]),n=S.rf(e.recordingKey,"mousedown",t=>{var r,n;null==(r=e.onMouseDown)||r.call(e,t),null==(n=e.onTypeMouseDown)||n.call(e,t)});return"SOLID"===e.paint.type?i.createElement(eM.AN,{forwardedRef:e.focusableRef,className:_()(e.visible?e$.EX:e$.wh,e.appendedColorInputClassname),onFocus:e.onFocus,onBlur:e.onBlur,noLeftBorder:!1,squareRightBorder:!1,formatter:t,property:{...e.paint.color,a:e.paint.opacity??1},onChange:e.onColorChange,onMouseDown:e.onMouseDown,recordingKey:S.Pt(e,"colorInput"),noBorderOnFocus:e.noBorderOnFocus}):i.createElement("div",{className:e.visible?e$.cD:e$.GI,onMouseDown:n},r.format(e.paint.type))}function tn({variableId:e,paint:t,onMouseDown:r,recordingKey:n,selected:a}){let o=(0,et.u)(e),l=(null==o?void 0:o.name)??"",s=!!o&&(0,eE.eF)(o),{version:c}=(0,p.DP)(),d=s?null:i.createElement(te,null,i.createElement(eN.J,{paint:t,onMouseDown:r,recordingKey:S.Pt(n,"chit"),className:"ui3"===c?void 0:e$.x7}));return"ui3"===c?i.createElement(ta,{selected:a,styleIcon:d||i.createElement("div",{"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,k.t)("variables.variable_was_deleted")},i.createElement(R.B,{className:e$.Bx,svg:e2.A})),styleName:l}):i.createElement(i.Fragment,null,d,i.createElement("div",{className:e$.eV},i.createElement(ev.w,{isDeleted:s,text:l})))}function ti({styleKey:e,count:t,uniqueNodesCount:r,styleGUIDs:n,id:a,variableScopes:c,recordingKey:u,rowRef:m,openPickerOnInitialRender:_}){let g=(0,en.tS)(),y=(0,er.U)(),b=(0,ei.X)(),{version:v}=(0,p.DP)(),{stateStylePickerShown:I,stylePreviewShown:T}=(0,E.R)(e=>({stateStylePickerShown:e.stylePickerShown,stylePreviewShown:e.stylePreviewShown})),w=(0,o.wA)(),C=`${H.yJ}-${a}`,O=(null==b?void 0:b.id)===C?b:null,L=I.isShown&&I.id===C?I:null,R=(0,f.M)(m),x=(0,ea.R2)(e,n),F=(0,ea.sy)(e,n),U=(0,o.d4)(t=>(0,es.b)(t,e,null)),V=i.useCallback(()=>{w(D.XE()),z.glU.selectStyleByGuid("")},[w]),G=i.useCallback(()=>{if(!R.current)return;x&&x.value&&z.glU.selectStyleByGuid(x.value.node_id);let{x:e,y:t}=(0,em.cn)(R.current);w(D.u1({id:C,initialX:e,initialY:t}))},[w,C,R,x]);i.useEffect(()=>{_&&G()},[]);let W=i.useCallback(()=>{w(B.sw())},[w]),K=i.useCallback(e=>{e.stopPropagation(),O?V():G(),T.isShown&&W()},[V,W,G,T.isShown,O]),Y=i.useCallback(e=>{let t=(0,eu.fZ)(e);$.l7.user("apply-paint-to-style",()=>z.Osy.updateStyleWithPaint(n,t))},[n]),j=i.useCallback(e=>{w(M.nh({style:e,callback:e=>{$.l7.user("apply-style",()=>z.Osy.updateStyle(n,e))}})),(0,h.sx)("Edit Selection Style",{fileKey:g,count:t}),V()},[t,w,g,V,n]),Z=i.useCallback(e=>{e.stopPropagation(),$.l7.user("detach-style",()=>z.Osy.detachStyle(n)),z.glU.selectStyle(N.n3.INVALID,N.IA.INVALID)},[n]),q=i.useCallback(()=>{z.Osy.selectOnlySameStyle(n),(0,h.sx)("Select Selection Style",{count:t})},[t,n]);(0,ea.w$)(x);let[X,Q]=i.useState(!1);if(!x)return null;let ee=x.kind===ec.AT.DANGLING?i.createElement(eh.zi,{dsStyle:{...x.value,style_type:"FILL"},disableTooltip:!0}):i.createElement(eh.zi,{dsStyle:x.value,disableTooltip:!0}),et=i.createElement(eU.K0,{className:`${ej.v9} ${ej.N4}`,onMouseDown:q,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":`Select ${(0,A.td)(r,"item")} using this style`,"aria-label":`Select ${(0,A.td)(r,"item")} using this style`,recordingKey:S.Pt(u,"selectSameStyleButton")},i.createElement(P.U,{svg:e1.A},i.createElement(d.A,null))),eo=i.createElement(l.K,{actionOnPointerDown:!0,recordingKey:S.Pt(u,"detachButton"),"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.fill.detach_style"),"aria-label":(0,k.t)("fullscreen.properties_panel.fill.detach_style"),onClick:Z},i.createElement(P.U,{svg:eZ.A},i.createElement(s.U,null)));return i.createElement(i.Fragment,null,"ui3"===v?i.createElement(eW.pG,{appendedClassName:e$.d0+" "+ej.LO+(O||L?" "+ez.kR:""),ref:R,input:i.createElement(ta,{recordingKey:S.Pt(u,"row"),onMouseDown:K,styleIcon:ee,styleName:F,selected:!!O||!!L}),leftIcon:i.createElement("div",{className:ej.v9},eo),rightIcon:et}):i.createElement(eU.fI,{className:ej.LO,forwardedRef:R,onMouseOver:()=>Q(!0),selectedSecondary:!!O||!!L},i.createElement(eU.xw,{className:ej.Om,recordingKey:S.Pt(u,"row"),onMouseDown:K},i.createElement("div",{className:L?ej.p5:ej.A},i.createElement("div",{className:ej.hg},ee),i.createElement("div",{className:ej.p3},F))),i.createElement("div",{className:ej.v9},eo),et),X&&i.createElement(eB.M,{inheritStyleKey:e,inheritStyleID:null,styleType:"FILL"}),O?i.createElement(eR.ku,{paint:{color:{r:1,g:1,b:1,a:1},opacity:1,type:"SOLID"},paintId:C,selectedStyle:(null==U?void 0:U.data)??(x&&x.kind!==ec.AT.DANGLING?x.value:null),inheritStyleKeyField:"inheritFillStyleKey",defaultColor:J.rC,onChange:Y,onApplyStyle:j,pickerShown:O,dropdownShown:y,initialView:"library",variableScopes:c,recordingKey:S.Pt(u,"paintPicker"),hasVisiblePaintBelow:!1,isInStyleModal:!1}):null)}function ta(e){let{styleIcon:t,styleName:r,selected:n,...a}=e;return i.createElement(w.GG,{...a,className:_()(ej.W1,{[ej.wH]:n})},i.createElement("div",{className:ej.hg},t),i.createElement("div",{className:ej.p3},r))}function to({styleKey:e,styleGUIDs:t,onClick:r}){let n=(0,ea.R2)(e,t);return((0,ea.w$)(n),n)?i.createElement("span",{role:"presentation",onClick:r},i.createElement(eh.zi,{dsStyle:{...n.value,style_type:"FILL"},disableTooltip:!0})):i.createElement(i.Fragment,null)}tt.displayName="Paint",(e=>{class t extends i.PureComponent{constructor(){super(...arguments),this.state={hasEverHovered:!1},this.row=null,this.rowRef=e=>{e?this.row=a.findDOMNode(e):this.row=null},this.paintPickerInitialView=void 0,this.componentWillUnmount=()=>{this.props.dispatch(U.oI({paintId:void 0,originalPaint:void 0,updatedPaintFromDropper:void 0}))},this.pickerShownIsStylePicker=()=>this.props.stylePickerShown.isShown&&this.props.stylePickerShown.id===this.stylePickerID(),this.pickerShown=()=>{var e;return(null==(e=this.props.pickerShown)?void 0:e.id)===this.pickerID()},this.showPicker=()=>{if(!this.row)return;let e=(0,em.cn)(this.row);this.props.dispatch(D.u1({id:this.pickerID(),initialX:e.x,initialY:e.y})),this.props.dispatch(B.sw()),this.props.dispatch(D.Uv()),this.props.dispatch(U.oI({paintId:this.props.id,originalPaint:this.props.paint,updatedPaintFromDropper:void 0}))},this.hidePicker=()=>{this.props.dispatch(D.XE()),j.Y5.deselectProperty()},this.togglePicker=()=>{this.pickerShown()?this.hidePicker():this.showPicker()},this.toggleStylePicker=()=>{this.pickerShownIsStylePicker()?this.hidePicker():this.row&&this.props.showPicker(this.stylePickerID(),this.row)},this.toggleListLayout=()=>{this.props.setPickerListLayout(!this.props.stylePickerListLayout)},this.onCreateStyle=()=>{let e=(0,eu.fZ)(this.props.paint),t=z.Osy.paintDataNodesInPaint(e);this.props.dispatch(x.to({type:eI.t,data:{originalPaint:this.props.paint,paintDataNodesInPaint:t,conflictNodesCount:this.props.conflictNodesCount,type:{kind:"create"}}})),this.hidePicker()},this.onApplyStyle=e=>{let t=z.Osy.paintDataNodesInPaint((0,eu.fZ)(this.props.paint));this.props.dispatch(M.nh({style:e,callback:e=>{if(t.length>1)this.props.dispatch(x.to({type:eI.t,data:{originalPaint:this.props.paint,paintDataNodesInPaint:t,conflictNodesCount:this.props.conflictNodesCount,type:{kind:"apply",styleGuid:e}}}));else{let t=(0,eu.fZ)(this.props.paint);$.l7.user("apply-style",()=>z.Osy.applyStyleToPaintDatas(t,e)),(0,h.sx)("Apply Style to Selection Paint ",{count:this.props.uniqueNodesCount})}}})),this.hidePicker()},this.debouncedTrackPaintChangeFromPicker=(0,g.s)(e=>{var t;(0,h.sx)("Edit Selection Paint",{fileKey:(null==(t=this.props.openFile)?void 0:t.key)||"",count:this.props.count})}),this.onChangeForPaint=(e,t)=>{let r=t==ed.zk.YES,n=(0,eP.U2)(e)?z.Osy.resolvePaintWithVariable((0,eu.fZ)(this.props.paint),(0,eu.fZ)(e)):"",i=e;if(n){let t=(0,eu.Km)(n);i=(null==t?void 0:t.paint)||e}$.l7.user("change-paint",()=>z.Osy.updatePaint((0,eu.fZ)(this.props.paint),(0,eu.fZ)(i),r)),this.setState({paintValueInPicker:i}),this.props.dispatch(U.oI({paintId:this.props.id,originalPaint:this.props.paint,updatedPaintFromDropper:void 0}))},this.onChangeForPaintPicker=(e,t)=>{this.onChangeForPaint(e,t),this.debouncedTrackPaintChangeFromPicker(e)},this.debouncedOnChangeForPaintPicker=(0,g.s)(this.onChangeForPaintPicker),this.onDetachVariableClick=()=>{let e=(0,ef.y)(this.props.paint);this.onChangeForPaint(e,ed.zk.YES)},this.currentPaintValue=()=>this.props.paintValueFromEyeDropper?this.props.paintValueFromEyeDropper:this.state.paintValueInPicker?this.state.paintValueInPicker:this.props.paint,this.onMouseOver=()=>{this.setState({hasEverHovered:!0})},this.onPaintClick=()=>{this.paintPickerInitialView=void 0,this.togglePicker()},this.onStyleClick=e=>{e.stopPropagation(),this.paintPickerInitialView="library",this.togglePicker()},this.onSelectSamePaintMouseDown=()=>{let e=(0,eu.fZ)(this.props.paint);z.Osy.selectOnlySamePaint(e),(0,h.sx)("Select Selection Paint",{count:this.props.uniqueNodesCount})},this.onFocus=()=>{this.pickerShownIsStylePicker()&&this.toggleStylePicker()},this.boundColorVariableId=()=>{var e,t;let r=null==(t=null==(e=this.props.paint.colorVar)?void 0:e.value)?void 0:t.alias;return r?ey.dI(r):null}}pickerID(){return`${H.F7}-${this.props.id}`}stylePickerID(){return`${H.yJ}-${this.props.id}`}componentDidMount(){this.props.openPickerOnInitialRender&&this.showPicker()}render(){let e=null;this.pickerShownIsStylePicker()&&this.props.stylePickerShown.isShown&&(e=this.props.stylePickerShown);let t=this.props.debounce?this.debouncedOnChangeForPaintPicker:this.onChangeForPaintPicker,r=this.renderButtons();return i.createElement("div",{onMouseOver:this.onMouseOver},i.createElement(tt,{ref:this.rowRef,id:this.props.id,paint:this.currentPaintValue(),firstIconButton:r.length>0?r[0]:null,secondIconButton:r.length>1?r[1]:null,count:this.props.count,uniqueNodesCount:this.props.uniqueNodesCount,recordingKey:S.Pt(this.props,"paint"),onFocus:this.onFocus,onChange:this.onChangeForPaint,onInputFocus:this.props.onInputFocus,onInputBlur:this.props.onInputBlur,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,selected:this.pickerShown()||this.pickerShownIsStylePicker(),singletonRow:!1,isDragging:!1,hasFocus:!1,shownPickerMatchesThisPaint:this.pickerShown(),togglePicker:this.onPaintClick,isDragHover:!1,preventDragging:!0,isUI3:this.props.isUI3,focusableRef:this.props.focusableRef,...(0,eR.Rz)(this.props)}),this.pickerShown()&&this.props.pickerShown&&(this.props.customColorPicker?i.createElement(this.props.customColorPicker,{paint:this.currentPaintValue(),onChange:t,onClose:this.hidePicker,pickerShown:this.props.pickerShown}):i.createElement(eR.ku,{paint:this.currentPaintValue(),paintId:this.props.id,selectedStyle:null,inheritStyleKeyField:"inheritFillStyleKey",onChange:t,onApplyStyle:this.onApplyStyle,disableImagePaints:!0,recordingKey:S.Pt(this.props,"paintPicker"),defaultColor:this.props.defaultColor,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,initialView:this.paintPickerInitialView,initialStyleCreationPaint:this.currentPaintValue(),variableScopes:this.props.variableScopes,hasVisiblePaintBelow:!1,isInStyleModal:!1})),this.state.hasEverHovered&&i.createElement(eB.M,{inheritStyleKey:null,inheritStyleID:null,styleType:"FILL"}),e&&i.createElement(eB.U,{picker:e,onCreateStyle:this.onCreateStyle,onApplyStyle:this.onApplyStyle,recordingKey:S.Pt(this.props,"stylePicker"),styleType:"FILL",onToggleListLayout:this.toggleListLayout,stylePickerListLayout:this.props.stylePickerListLayout,inheritStyleKey:null,inheritStyleID:null}))}renderButtons(){let e=[];return this.boundColorVariableId()?e.push({button:i.createElement("span",{className:e$.zm},i.createElement(l.K,{as:"button","data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.fill.detach_variable"),"aria-label":(0,k.t)("fullscreen.properties_panel.fill.detach_variable"),onMouseDown:K.dG,onClick:this.onDetachVariableClick,recordingKey:S.Pt(this.props,"paint","detachVariableButton")},i.createElement(P.U,{svg:eZ.A},i.createElement(s.U,null)))),opensPicker:!1,key:"detatchVariableButton"}):e.push({button:i.createElement("span",{className:e$.zm},i.createElement(l.K,{"data-tooltip-type":ep.Ib.LOOKUP,"data-tooltip":"style","aria-label":(0,V.A)("style"),onClick:this.onStyleClick,recordingKey:S.Pt(this.props,"paint","styleButton")},i.createElement(P.U,{svg:eQ.A,fallbackSvg:e0.A},i.createElement(u.y,null)))),opensPicker:!0,key:"styleButton"}),null!=this.props.uniqueNodesCount&&e.push({button:i.createElement("span",{className:e$.zm},i.createElement(l.K,{onClick:this.onSelectSamePaintMouseDown,"data-tooltip-type":ep.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.properties_panel.select_item_using_this_color",{numItems:this.props.uniqueNodesCount}),"aria-label":(0,k.t)("fullscreen.properties_panel.select_item_using_this_color",{numItems:this.props.uniqueNodesCount}),recordingKey:S.Pt(this.props,"paint","selectSamePaintButton")},i.createElement(P.U,{svg:e1.A},i.createElement(d.A,null)))),opensPicker:!0,key:"selectSamePaintButton"}),e}}t.displayName="SelectionPaintItem",e.SelectionPaintItem=t,e.ConnectedSelectionPaintItem=(0,o.Ng)((e,t)=>({pickerShown:e.pickerShown,stylePickerShown:e.stylePickerShown,paintValueFromEyeDropper:e.currentSelectionPaintInPicker.paintId==t.id?e.currentSelectionPaintInPicker.updatedPaintFromDropper:void 0,stylePickerListLayout:e.stylePickerListLayout}),e=>({showPicker:(t,r)=>{let{top:n,left:i}=r.getBoundingClientRect(),[a,o]=[i-eH.N2,n];e(D.bS({id:t,initialX:a,initialY:o,modal:!0})),e(B.sw()),e(D.XE())},setPickerListLayout:t=>{e(D.Y({isListLayout:t}))}}))(t)})(n||(n={}));let tl=n.ConnectedSelectionPaintItem;function ts(e){let{version:t}=(0,p.DP)(),r=(0,i.useMemo)(()=>(0,b.eU)(!0),[]),[n,a]=(0,v.fp)(r),[o,l]=(0,i.useState)(void 0),s=i.useCallback(e=>{a(!1),l(e)},[a]);return(0,i.useEffect)(()=>{!1===n&&l(void 0)},[n]),i.createElement(tc,{...{...e,uiVersion:t,isCollapsedAtom:r,isCollapsed:n,expandPanel:s,expandedFromChitIndex:o}})}class tc extends S.o6{constructor(e){super(e),this.state={lastKnownSelection:{},selectionVersion:0,forceShowPaints:!1,forceShowLibraryColors:!1},this.selectionsAreEqual=(0,T.xx)((e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}),this.ignoreLimitWhenCollectingPaints=()=>{var e;(0,h.sx)("Show Selection Paints For Large Selection",{fileKey:(null==(e=this.props.openFile)?void 0:e.key)||""}),z.Osy.ignoreLimitWhenCollectingPaints()},this.toggleShowPaints=e=>{var t;e.stopPropagation(),(0,h.sx)("Show All Selection Paints",{fileKey:(null==(t=this.props.openFile)?void 0:t.key)||""}),this.setState({forceShowPaints:!this.state.forceShowPaints})},this.toggleShowLibraryColors=e=>{var t;e.stopPropagation(),(0,h.sx)("Show All Selection Styles",{fileKey:(null==(t=this.props.openFile)?void 0:t.key)||""}),this.setState({forceShowLibraryColors:!this.state.forceShowLibraryColors})},this.onPaintFocus=()=>{z.Osy.setIsPaintFocused(!0)},this.onPaintBlur=()=>{z.Osy.setIsPaintFocused(!1)},this.onPaintScrubBegin=()=>{z.Osy.setIsPaintOpacityScrubbing(!0)},this.onPaintScrubEnd=()=>{z.Osy.setIsPaintOpacityScrubbing(!1)},this.ROW_LIMIT=4,this.componentWillUnmount=()=>{z.Osy.setIsPaintFocused(!1)},this.state={lastKnownSelection:e.sceneGraphSelection,selectionVersion:0,forceShowPaints:!1,forceShowLibraryColors:!1}}UNSAFE_componentWillReceiveProps(e){(!this.selectionsAreEqual(this.state.lastKnownSelection,e.sceneGraphSelection)||e.selectionPaints.forceUpdateForUndo&&this.props.selectionPaints.forceUpdateForUndo!==e.selectionPaints.forceUpdateForUndo)&&(this.setState({lastKnownSelection:this.props.sceneGraphSelection,selectionVersion:this.state.selectionVersion+1,forceShowPaints:!1,forceShowLibraryColors:!1}),this.props.dispatch(U.Xp(!1)))}render(){let e;let t=this.state.forceShowLibraryColors,r=this.state.forceShowPaints,n=[...this.props.selectionPaints.paints.filter(e=>!!e.paint.colorVar),...this.props.selectionPaints.styles],a=[...this.props.selectionPaints.paints.filter(e=>!e.paint.colorVar)],o=n.length,l=a.length,s=t||o<=this.ROW_LIMIT?o:this.ROW_LIMIT-1,c=r||l<=this.ROW_LIMIT?l:this.ROW_LIMIT-1,d=o+l,u=i.createElement(eU.fI,null,i.createElement(eU.xw,{extended:!0},i.createElement(k.Tx,{id:"fullscreen.properties_panel.fill.selection_colors"})));return"ui3"===this.props.uiVersion?this.props.selectionPaints.emptyDueToLimitExceeded?e=i.createElement(eW.Ad,{label:null,input:i.createElement(L.nR,{className:e$.gr,onClick:this.ignoreLimitWhenCollectingPaints,recordingKey:S.Pt(this.props,"limitExceeded")},i.createElement(k.Tx,{id:"fullscreen.properties_panel.fill.show_selection_colors"}))}):d<4?e=[...n,...a].map((e,t)=>"paint"in e?this.renderPaint({selectionPaint:e,index:t}):this.renderStyle({selectionStyle:e,index:t})):this.props.isCollapsed?(u=i.createElement(eO.Tu,{isPanelBodyCollapsedAtom:this.props.isCollapsedAtom,recordingKey:S.Pt(this.props,"collapseExpandToggleArea")},i.createElement(eG.mS,{titleTx:i.createElement(k.Tx,{id:"fullscreen.properties_panel.fill.selection_colors"}),isPanelBodyCollapsedAtom:this.props.isCollapsedAtom,appendedClassName:e$.OG,input:i.createElement("span",{className:e$.uV},[...n,...a].slice(0,3).map((e,t)=>{let r=()=>{this.props.expandPanel(t)};return"paint"in e?i.createElement("div",{className:e$.u7,key:t},i.createElement(eN.J,{onClick:r,paint:e.paint})):i.createElement("div",{className:e$.u7,key:t,onMouseDown:K.dG},i.createElement(to,{onClick:r,styleKey:e.styleKey,styleGUIDs:e.styleGUIDs,key:t}))}),i.createElement("span",{className:_()(e$.FK,e$.u7)},`+${d-3}`))})),e=i.createElement(i.Fragment,null)):(u=i.createElement(eO.Tu,{isPanelBodyCollapsedAtom:this.props.isCollapsedAtom,recordingKey:S.Pt(this.props,"collapseExpandToggleArea")},i.createElement(eG.mS,{titleTx:i.createElement(k.Tx,{id:"fullscreen.properties_panel.fill.selection_colors"}),isPanelBodyCollapsedAtom:this.props.isCollapsedAtom})),e=[...n,...a].map((e,t)=>"paint"in e?this.renderPaint({selectionPaint:e,index:t}):this.renderStyle({selectionStyle:e,index:t}))):e=i.createElement(i.Fragment,null,this.props.selectionPaints.emptyDueToLimitExceeded&&i.createElement(eU.fI,{className:e$._k,onMouseDown:this.ignoreLimitWhenCollectingPaints,recordingKey:S.Pt(this.props,"limitExceeded")},i.createElement(L.nR,{className:e$.gr,onClick:this.ignoreLimitWhenCollectingPaints},i.createElement(k.Tx,{id:"fullscreen.properties_panel.fill.show_selection_colors"}))),!this.props.selectionPaints.emptyDueToLimitExceeded&&n.slice(0,s).map((e,t)=>"paint"in e?this.renderPaint({selectionPaint:e,index:t}):this.renderStyle({selectionStyle:e,index:t})),s<o&&i.createElement(eU.fI,{className:e$.Hl,recordingKey:S.Pt(this.props,"libraryColorsOverflow"),onMouseDown:this.toggleShowLibraryColors},i.createElement(R.B,{className:e$.IQ,svg:eX.A}),i.createElement(eU.UZ,{className:e$.zy},i.createElement(k.Tx,{id:"fullscreen.properties_panel.fill.see_all_x_library_colors",number:o}))),!this.props.selectionPaints.emptyDueToLimitExceeded&&a.slice(0,c).map((e,t)=>this.renderPaint({selectionPaint:e,index:t})),c<l&&i.createElement(eU.fI,{className:e$.Hl,recordingKey:S.Pt(this.props,"paintOverflow"),onMouseDown:this.toggleShowPaints},i.createElement(R.B,{className:e$.IQ,svg:eX.A}),i.createElement(eU.UZ,{className:e$.zy},i.createElement(k.Tx,{id:"fullscreen.properties_panel.fill.see_all_x_colors",number:l})))),i.createElement(C.p,{name:"selection_paints_panel"},i.createElement(eU.Zk,{className:e$.OJ},u,e))}renderStyle({selectionStyle:e,index:t,ref:r}){return i.createElement(ti,{recordingKey:S.Pt(this.props,"style",t),styleKey:e.styleKey,count:e.count,uniqueNodesCount:e.uniqueNodesCount,styleGUIDs:e.styleGUIDs,id:`${e.styleKey}/${e.version}`,key:`${e.styleKey}/${e.version}`,variableScopes:e.variableScopes,rowRef:r,openPickerOnInitialRender:t===this.props.expandedFromChitIndex})}renderPaint({selectionPaint:e,index:t,ref:r}){return i.createElement(tl,{recordingKey:S.Pt(this.props,"paint",t),paint:e.paint,count:e.count??0,uniqueNodesCount:e.uniqueNodesCount??0,conflictNodesCount:e.conflictNodesCount??0,variableScopes:e.variableScopes,debounce:!!e.count&&e.count>500,onInputFocus:this.onPaintFocus,onInputBlur:this.onPaintBlur,onScrubBegin:this.onPaintScrubBegin,onScrubEnd:this.onPaintScrubEnd,id:e.encodedPaint,key:`${e.encodedPaint}:${this.state.selectionVersion}`,isUI3:this.props.isUI3,focusableRef:r,customColorPicker:this.props.customColorPicker,openPickerOnInitialRender:t===this.props.expandedFromChitIndex,...(0,eR.Rz)(this.props)})}}},529358:(e,t,r)=>{"use strict";r.d(t,{Cq:()=>L,au:()=>k,v9:()=>R});var n=r(411855),i=r(188507),a=r(975798),o=r(629019),l=r.n(o),s=r(966712),c=r(153234),d=r(46481),u=r(939863),p=r(632430),m=r(852800),_=r(617453),h=r(848661),g=r(279702),f=r(498606),E=r(218973),y=r(760066),b=r(282263),v=r(564092),I=r(533573),T=r(407333),S=r(574997),w=r(538697),A=r(92385),C=r(58502);class N extends w.l6{}class O extends w.c${}function L(e){let t="ACTIVE"===e.iconState?void 0:A.QK;return n.createElement(d.U,{svg:C.A,className:t},n.createElement("div",{className:t},n.createElement(a.E,null)))}function R(e){let{bigNudgeAmount:t,smallNudgeAmount:r}=(0,_.sT)(),a=(0,i.wA)(),o=n.useRef(null),d=(0,i.d4)(e=>{let{borderTopWeight:t,borderBottomWeight:r,borderLeftWeight:n,borderRightWeight:i}=e.mirror.selectionProperties;return(0,h.q)(t,r,n,i)}),p=(t,r)=>{if(0===t.length)return;let n=e.borderOption?(0,S.ui)(e.borderOption):"strokeWeight";if(e.borderOption){if(1===t.length){e.onChange({[n]:t[0]},r);return}2===t.length?(t.push(t[0]),t.push(t[1])):3===t.length&&t.push(t[1]);let i={borderTopWeight:t[0],borderRightWeight:t[1],borderBottomWeight:t[2],borderLeftWeight:t[3]};(0,h.gl)((0,h.q)(...t))&&(e.selectBorderSides(S.om.CUSTOM),i.borderStrokeWeightsIndependent=!0),e.onChange(i,r)}else e.onChange({[n]:t[0]},r)},m=d?(0,h.gl)(d)?h.oV:[d]:void 0,g=e.borderOption===S.om.CUSTOM?m:[Number(e.strokeWeight)],y=e.borderOption===S.om.MIXED?1:0,b=e.borderOption?(0,T.Ro)(e.borderOption):void 0;return n.createElement(n.Fragment,null,n.createElement(D,{inputClassName:e.gridRight?A.YJ:A.I_,isNotPencilTool:e.gridRight,inputRef:o,field:b||"STROKE_WEIGHT",recordingKey:c.Pt(e,"strokeWeightInputWrapper")},(0,s.kc)().ce_multi_border_weight_input?n.createElement(E.ig,{isTokenizable:!0,className:l()(A.TL,{[A.py]:e.gridRight}),min:y,max:1e3,onValueChange:p,value:g,dispatch:a,recordingKey:e.recordingKey,bigNudgeAmount:t,smallNudgeAmount:r,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,u.t)("fullscreen.properties_panel.fill.stroke_width"),tooltipForScreenReadersOnly:!0,inputClassName:A.H,disabled:e.disabled,dataTestId:e.dataTestId,forwardedRef:o},n.createElement(L,null)):n.createElement(E.$j,{isTokenizable:!0,className:l()(A.TL,{[A.py]:e.gridRight}),min:y,max:1e3,onValueChange:(e,t)=>{p([e],t)},value:e.strokeWeight,dispatch:a,recordingKey:e.recordingKey,bigNudgeAmount:t,smallNudgeAmount:r,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,u.t)("fullscreen.properties_panel.fill.stroke_width"),tooltipForScreenReadersOnly:!0,inputClassName:A.H,disabled:e.disabled,dataTestId:e.dataTestId,forwardedRef:o},n.createElement(L,null))))}class P{format(e){switch(e){case"CENTER":return(0,u.t)("fullscreen.properties_panel.stroke.center");case"INSIDE":return(0,u.t)("fullscreen.properties_panel.stroke.inside");case"OUTSIDE":return(0,u.t)("fullscreen.properties_panel.stroke.outside")}}}class k extends n.PureComponent{constructor(){super(...arguments),this.sentenceCaseFormatter=new P,this.onStrokeAlignChange=(e,t=g.zk.YES)=>{this.props.onChange({strokeAlign:e},t)}}render(){return n.createElement(N,{id:"stroke-align-select",className:l()(A.os,{[A.IX]:this.props.gridLeft}),inputClassName:A.kA,chevronClassName:A.Xd,formatter:this.sentenceCaseFormatter,property:this.props.strokeAlign,onChange:this.onStrokeAlignChange,dispatch:this.props.dispatch,dropdownWidth:96,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,disabled:this.props.disabled,enablePreview:!0},n.createElement(O,{value:"CENTER"}),n.createElement(O,{value:"INSIDE"}),n.createElement(O,{value:"OUTSIDE"}))}}function D({children:e,inputClassName:t,field:r,inputRef:a,isNotPencilTool:o,recordingKey:l}){let s=(0,i.wA)(),{updateVariableConsumption:c,consumedVariable:d}=(0,v.u3)([r]),{clearVariableConsumption:u,consumedVariable:_}=(0,v.u3)(["BORDER_BOTTOM_WEIGHT","BORDER_TOP_WEIGHT","BORDER_LEFT_WEIGHT","BORDER_RIGHT_WEIGHT"]),{clearVariableConsumption:h}=(0,v.u3)(["STROKE_WEIGHT"]),g=(0,I.MH)(d)??(0,I.MH)(_)??void 0,f=n.useCallback(async e=>{if(e){let t=await s((0,p.Oe)(e));c((0,v.y$)(m.rXF.FLOAT,t))}else u(),h()},[u,h,s,c]);return o?n.createElement(b.hu,{boundVariableId:g,resolvedType:m.rXF.FLOAT,onVariableSelected:f},n.createElement(y.sJ,{inputRef:a,inputClassName:t,currentFieldValue:g,hasBindingContextMenu:!0,hideIcon:!0,recordingKey:l},n.cloneElement(n.Children.only(e),{className:void 0,isTokenizable:!0,noBorderOnHover:!0})),n.createElement(b.V5,{variableScope:m.j0r.STROKE_FLOAT})):n.cloneElement(n.Children.only(e),{className:t})}k.displayName="StrokeAlignSelection"},766022:(e,t,r)=>{"use strict";r.d(t,{B8:()=>H,Bs:()=>x,GR:()=>B,gc:()=>W,rp:()=>M,tA:()=>F,tC:()=>G,w5:()=>V});var n,i,a,o,l=r(411855),s=r(188507),c=r(243742),d=r(935283),u=r(91408),p=r(374626),m=r(886653),_=r(153234),h=r(852800),g=r(617453),f=r(425805),E=r(848661),y=r(618056),b=r(869156),v=r(100197),I=r(284321),T=r(238093),S=r(609572),w=r(564092),A=r(666258),C=r(168289),N=r(184027),O=r(297156),L=r(201262),R=r(750693),P=r(80197),k=r(176019),D=r(860168);let M="properties-panel-scroll-container";function x(){let e=(0,s.d4)(I.cM);return l.useMemo(()=>Object.values(e).filter(e=>!e.deletedFromSceneGraph),[e])}let F=(0,u.hG)(D.wQn),U=(e,t)=>e?_.Pt(e,t):t;var B=(e=>(e[e.DEFAULT_EXPANDED=0]="DEFAULT_EXPANDED",e[e.DEFAULT_SIMPLIFIED=1]="DEFAULT_SIMPLIFIED",e[e.OVERRIDDEN_EXPANDED=2]="OVERRIDDEN_EXPANDED",e))(B||{});(n||(n={})).ConnectedFillPanel=(0,s.Ng)(e=>({library:e.library,mirror:e.mirror,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,stylePickerListLayout:e.stylePickerListLayout,openFile:e.openFile}))(function(e){let t=(0,g.Ku)(),{version:r}=(0,c.DP)();return l.createElement(R.eT,{key:e.key,selectionProperties:e.selectionProperties,fillPaints:e.selectionProperties.fillPaints,dispatch:e.dispatch,dropdownShown:e.dropdownShown,modalShown:e.modalShown,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,stylePickerListLayout:e.stylePickerListLayout,currentTool:e.mirror.appModel.currentTool,colorFormat:t,editModeType:e.mirror.appModel.activeCanvasEditModeType,defaultColor:y.rC,inheritStyleKey:e.selectionProperties.inheritFillStyleKey||null,inheritStyleID:e.selectionProperties.styleIdForFill||null,library:e.library,sceneGraphSelection:e.mirror.sceneGraphSelection,selectedStyleProperties:e.mirror.selectedStyleProperties,openFile:e.openFile,recordingKey:U(e.recordingKey,"fillPanel"),selectionContainsFrames:(0,f.Fx)(e.mirror),hasExports:!!e.selectionProperties.exportSettings&&(0,E._W)(e.selectionProperties.exportSettings,[]).length>0,exportBackgroundDisabled:e.selectionProperties.exportBackgroundDisabled,variableScopes:e.variableScopes,isPanelBodyCollapsedAtom:null,isUI3:"ui3"===r})});let H=n.ConnectedFillPanel;(i||(i={})).ConnectedEffectsPanel=(0,s.Ng)(e=>({library:e.library,mirror:e.mirror,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,stylePickerShown:e.stylePickerShown,openFile:e.openFile}))(function(e){let t=e.mirror.selectedStyleProperties&&!!e.mirror.selectedStyleProperties.guid,{smallNudgeAmount:r,bigNudgeAmount:n}=(0,g.sT)(),{version:i}=(0,c.DP)();return l.createElement(O.F,{key:"effects",stylePickerShown:e.stylePickerShown,effects:e.selectionProperties.effects||[],inheritStyleKey:e.selectionProperties.inheritEffectStyleKey||null,inheritStyleID:e.selectionProperties.styleIdForEffect||null,dispatch:e.dispatch,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,smallNudgeAmount:r,bigNudgeAmount:n,library:e.library,sceneGraphSelection:e.mirror.sceneGraphSelection,selectedStyleProperties:e.mirror.selectedStyleProperties,openFile:e.openFile,recordingKey:U(e.recordingKey,"effectsPanel"),selectionContainsOnlySpreadEligibleNodes:!!e.selectionProperties.containsOnlySpreadEligibleNodes||t,selectionContainsAnyKnockoutShadowEligibleNodes:!!e.selectionProperties.containsAnyKnockoutShadowEligibleNodes||t,framelikeWithoutFills:!!e.selectionProperties.framelikeWithoutFills,framelikeWithoutClipping:!!e.selectionProperties.framelikeWithoutClipping,isUI3:"ui3"===i})});let V=i.ConnectedEffectsPanel;(a||(a={})).ConnectedGridsPanel=(0,s.Ng)(e=>({library:e.library,mirror:e.mirror,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,stylePickerShown:e.stylePickerShown,openFile:e.openFile}))(function(e){let t=(0,g.Ku)(),{smallNudgeAmount:r,bigNudgeAmount:n}=(0,g.sT)(),i=(0,v.J2)(h.Ez5.editorPreferences().showFrameGrids);return l.createElement(L.S,{key:"grids",stylePickerShown:e.stylePickerShown,layoutGrids:e.selectionProperties.layoutGrids,smallNudgeAmount:r,bigNudgeAmount:n,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,dispatch:e.dispatch,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,currentTool:e.mirror.appModel.currentTool,colorFormat:t,showFrameGrids:i,editModeType:e.mirror.appModel.activeCanvasEditModeType,inheritStyleKey:e.selectionProperties.inheritGridStyleKey||null,inheritStyleID:e.selectionProperties.styleIdForGrid||null,library:e.library,sceneGraphSelection:e.mirror.sceneGraphSelection,selectedStyleProperties:e.mirror.selectedStyleProperties,openFile:e.openFile,recordingKey:U(e.recordingKey,"gridsPanel")})});let G=a.ConnectedGridsPanel;(e=>{let t=(0,m.xx)(k.N1);e.ConnectedTypePanel=(0,s.Ng)(e=>({library:e.library,mirror:e.mirror,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,stylePickerShown:e.stylePickerShown,stylePreviewShown:e.stylePreviewShown,openFile:e.openFile,userFavoriteFonts:e.userFavoriteFonts,userFlags:e.userFlags,orgById:e.orgById,fonts:e.fonts,localFontAgentVersion:e.localFontAgentVersion}),null,(e,r,n)=>({...e,...n,...r,openTypeFeatures:t(n.selectionProperties.availableOTFeaturesForSelection,n.selectionProperties.availableOTFeaturesForFonts,n.selectionProperties.toggledOnOTFeaturesForSelection,n.selectionProperties.toggledOffOTFeaturesForSelection,n.selectionProperties.mixedStateOTFeaturesForSelection,e.mirror.selectedStyleProperties.guid)}))(function(e){let t=l.useContext(N.zK),r=(0,v.J2)(h.Ez5.propertiesPanelState().enabledTypePanelControls),n=null!=t;(0,d.KF)(null!=e.selectionProperties.fontFamily,"TypePanel missing fontFamily"),(0,d.KF)(null!=e.selectionProperties.fontStyle,"TypePanel missing fontStyle"),(0,d.KF)(null!=e.selectionProperties.fontSize,"TypePanel missing fontSize"),(0,d.KF)(n||null!=e.selectionProperties.textLineType,"TypePanel missing textLineType"),(0,d.KF)(n||null!=e.selectionProperties.wholeNodeTextLineType,"TypePanel missing wholeNodeTextLineType"),(0,d.KF)(null!=e.selectionProperties.lineHeight,"TypePanel missing lineHeight"),(0,d.KF)(null!=e.selectionProperties.letterSpacing,"TypePanel missing letterSpacing"),(0,d.KF)(null!=e.selectionProperties.paragraphSpacing,"TypePanel missing paragraphSpacing"),(0,d.KF)(null!=e.selectionProperties.paragraphIndent,"TypePanel missing paragraphIndent"),(0,d.KF)(null!=e.selectionProperties.listSpacing,"TypePanel missing listSpacing"),(0,d.KF)(null!=e.selectionProperties.textCase,"TypePanel missing textCase"),(0,d.KF)(null!=e.selectionProperties.textDecoration,"TypePanel missing textDecoration"),(0,d.KF)(null!=e.selectionProperties.maxLines,"TypePanel missing maxLines");let{smallNudgeAmount:i,bigNudgeAmount:a}=(0,g.sT)(),o=(0,T.WH)(e.selectionProperties.inheritTextStyleKey??null,e.selectionProperties.styleIdForText??null,"TEXT"),s=(0,S.L)(),u=(0,b.SG)(["TEXT_DATA"]).data??[],m=(0,w.R1)().variableConsumptionMap,_=(0,w.JG)(),{version:f}=(0,c.DP)(),E=(0,p.md)(A.$i)===C.JJ.TEXT_PANEL;return l.createElement(P.J,{key:"type",fonts:e.fonts,fontFamily:e.selectionProperties.fontFamily,fontStyle:e.selectionProperties.fontStyle,fontSize:e.selectionProperties.fontSize,areFontStylesUniformOrOnlyMixedDueToTextStyleOverrides:e.selectionProperties.areFontStylesUniformOrOnlyMixedDueToTextStyleOverrides,lineHeight:e.selectionProperties.lineHeight,intrinsicLineHeight:e.selectionProperties.intrinsicLineHeight,letterSpacing:e.selectionProperties.letterSpacing,paragraphSpacing:e.selectionProperties.paragraphSpacing,paragraphIndent:e.selectionProperties.paragraphIndent,listSpacing:e.selectionProperties.listSpacing,textLineType:e.selectionProperties.textLineType,textDirectionality:e.selectionProperties.textDirectionality,hasHadRTLText:e.selectionProperties.hasHadRTLText,wholeNodeTextLineType:e.selectionProperties.wholeNodeTextLineType,isHangingPunctuationApplicableToSelection:e.selectionProperties.isHangingPunctuationApplicableToSelection,textCase:e.selectionProperties.textCase,textDecoration:e.selectionProperties.textDecoration,inheritStyleKey:e.selectionProperties.inheritTextStyleKey||null,inheritStyleID:e.selectionProperties.styleIdForText||null,mainStyle:o,textContentBoundAsset:s,textAlignHorizontal:e.selectionProperties.textAlignHorizontal,textAlignVertical:e.selectionProperties.textAlignVertical,textAutoResize:e.selectionProperties.textAutoResize,missingFont:e.selectionProperties.missingFont,textUserLayoutVersion:e.selectionProperties.textUserLayoutVersion,textExplicitLayoutVersion:e.selectionProperties.textExplicitLayoutVersion,textBidiVersion:e.selectionProperties.textBidiVersion,textTruncation:e.selectionProperties.textTruncation,leadingTrim:e.selectionProperties.leadingTrim,leadingTrimEnabled:e.selectionProperties.leadingTrimEnabled,hangingPunctuation:e.selectionProperties.hangingPunctuation,hangingList:e.selectionProperties.hangingList,fontVariantDiscretionaryLigatures:e.selectionProperties.fontVariantDiscretionaryLigatures||!1,fontVariantHistoricalLigatures:e.selectionProperties.fontVariantHistoricalLigatures||!1,fontVariantNumericFigure:e.selectionProperties.fontVariantNumericFigure||"NORMAL",fontVariantNumericSpacing:e.selectionProperties.fontVariantNumericSpacing||"NORMAL",fontVariantNumericFraction:e.selectionProperties.fontVariantNumericFraction||"NORMAL",fontVariantCaps:e.selectionProperties.fontVariantCaps||"NORMAL",fontVariantPosition:e.selectionProperties.fontVariantPosition||"NORMAL",fontVariations:e.selectionProperties.fontVariations||[],detachOpticalSize:e.selectionProperties.detachOpticalSizeFromFontSize||!1,openTypeFeatures:e.openTypeFeatures,editModeType:e.mirror.appModel.activeCanvasEditModeType,enabledTypePanelControls:r,dispatch:e.dispatch,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,stylePickerShown:e.stylePickerShown,stylePreviewShown:e.stylePreviewShown,userFavoriteFonts:e.userFavoriteFonts,orgById:e.orgById,smallNudgeAmount:i,bigNudgeAmount:a,library:e.library,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,selectedStyleProperties:e.mirror.selectedStyleProperties,openFile:e.openFile,localFontAgentVersion:e.localFontAgentVersion,recordingKey:U(e.recordingKey,"typePanel"),textVariablesExist:u.length>0,variableConsumptionMap:n?_:m,isSlides:e.isSlides,version:f,showBlueBorder:E})})})(o||(o={}));let W=o.ConnectedTypePanel},270296:(e,t,r)=>{"use strict";r.d(t,{IY:()=>s,aW:()=>c,d6:()=>l,fI:()=>d,iP:()=>o});var n=r(91408),i=r(852800),a=r(860168);let o=(0,n.jz)(a.uj0);function l(e){return e[i.ibQ.TRANSFORM_ITEM]||e[i.ibQ.VECTOR_ITEM]}function s(e,t,r,n,a){return c(e,t,r,n)||a&&e[i.ibQ.TRANSFORM_ITEM]}function c(e,t,r,n){let a=r.numSelectedByType&&!!r.numSelectedByType.SLIDE,o=r.containsResponsiveSets;return!!(!t&&!a&&!o&&(r.propertiesPanelShouldShowAddAutoLayout||(null==n?void 0:n.propertiesPanelShouldShowAddAutoLayout)||e[i.ibQ.STACK_ITEM]))}function d(e,t,r){return!!(!t&&e[i.ibQ.SELECTION_COLORS]&&(r.styles.length>0||r.paints.length>0||r.emptyDueToLimitExceeded))}},742311:(e,t,r)=>{"use strict";r.d(t,{LI:()=>k,Pe:()=>O,Zj:()=>M,ao:()=>L,dT:()=>w,h6:()=>D,k9:()=>A,ug:()=>function e(t){var r;let n=[];for(let i of t){let t={...i};delete t.parentNode,t.children=null==(r=i.children)?void 0:r.map(t=>e([t])[0]),n.push(t)}return n},zD:()=>C});var n=r(400167),i=r(534559),a=r(584446),o=r(894860),l=r(611407),s=r(112047),c=r(728593),d=r(777245),u=r(556949),p=r(776250),m=r(966712),_=r(529004),h=r(96328),g=r(987918),f=r(239349),E=r(574724),y=r(284615),b=r(852800),v=r(662531),I=r(993789),T=r(497306);r(477047),r(303380);var S=r(93062);async function w(e,t,r){let n=function(e,t){let r={name:"Dummy Page just to satisfy typescript so they have a parent",id:"0:1",type:"CANVAS",children:[]};return r.children=C(e,t,r),r}(e,t).children,i=(0,a._)(n);return await (0,l.sS)(n,r,i)}function A(e,t){let r=t.get(e),n={name:r.name,id:r.guid,type:"CANVAS",children:[]};return n.children=C(r.childrenGuids,t,n),n}function C(e,t,r){let n=[];for(let i of e){let e=(0,f.Zl)(t,i);if(null!==e){let i={id:e.guid,name:e.name,type:e.type,visible:e.visible,x:e.absoluteBoundingBox.x,y:e.absoluteBoundingBox.y,w:e.absoluteBoundingBox.w,h:e.absoluteBoundingBox.h,parentNode:r,clipsContent:!e.frameMaskDisabled,fontSize:e.fontSize,layoutMode:e.stackMode};i.opacity=e.opacity,i.characters=e.characters,e.fills&&(i.fills=e.fills.map(N).filter(e=>!!e)),e.prototypeInteractions&&e.prototypeInteractions.length>0&&(i.interactions=e.prototypeInteractions);let a=C(e.childrenGuids,t,i);a.length>0&&(i.children=a),n.push(i)}}return n}function N(e){var t;switch(e.type){case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":return{type:"GRADIENT"};case"IMAGE":let r=null==(t=e.image)?void 0:t.hash;return{type:"IMAGE",hash:r?(0,h.H9)(r):""};case"SOLID":return{type:"SOLID",color:e.color??{r:0,g:0,b:0}}}}function O(e){return null!==e}async function L(e,t){let r=[];for(let n of e)r.push((await (0,l.sS)([n],!0,t))[0]);let{jsx:n}=(0,l.XA)(r,t);return n}function R(e){var t,r;let n=e;for(;(null==(t=n.parentNode)?void 0:t.type)!=="CANVAS"&&(null==(r=n.parentNode)?void 0:r.type)!=="SECTION"&&null!==n.parentNode;)n=n.parentNode;return n}let P=v.nc.ai("link-new-interaction",e=>{let t=e.buttonID,r=g.sH(t);if(null===r||r===g.Hr)return;let n=I.z.instance.get(t);if(null==n||n.prototypeInteractions&&n.prototypeInteractions.length>0)return;let i=R(n),a=e.destinationScreenID,o=g.sH(a),l={},s=e.navigationType;if(null!==o&&o!==g.Hr&&null!==a){let e=I.z.instance.get(a),t=null==e?void 0:e.prototypeInteractions;if(t&&t.map(e=>{var t;return null==(t=e.event)?void 0:t.interactionType}).includes("ON_CLICK"))return;(null==e?void 0:e.overlayBackground.type)!=="NONE"&&"NAVIGATE"===s&&(s="OPEN_POPUP");let r=R(n);"CLOSE"===s&&(null==r?void 0:r.overlayBackground.type)==="NONE"&&(s="BACK")}if("BACK"===s)l.connectionType="BACK";else if("CLOSE"===s)l.connectionType="CLOSE";else{if(null===o||o===g.Hr||null===a)return;let e=I.z.instance.get(a);if(!e)return;l.transitionNodeID=o,l.transitionType="INSTANT_TRANSITION","NAVIGATE"===s?(l.connectionType="INTERNAL_NODE",((null==n?void 0:n.type)==="SYMBOL"||(null==n?void 0:n.type)==="INSTANCE")&&((null==e?void 0:e.type)==="SYMBOL"||(null==e?void 0:e.type)==="INSTANCE")?l.navigationType="SWAP_STATE":l.navigationType="NAVIGATE",(null==i?void 0:i.overlayBackground.type)!=="NONE"&&(l.navigationType="SWAP")):"OPEN_POPUP"===s&&(l.connectionType="INTERNAL_NODE",l.navigationType="OVERLAY")}let c=b.glU.generateUniqueID();if(!c)return;let d=g.sH(c);if(!d)return;let u={id:d,stateManagementVersion:1};u.event={interactionType:"ON_CLICK"},u.actions=[l];try{n.prototypeInteractions=[u]}catch(e){return}let m=_.d({nodeID:r,interactionID:d});return(0,p.sx)("prototype_interaction_added",{interactionCount:(null==n?void 0:n.prototypeInteractions.length)??0,magicLinkGenerated:!0,interactionID:m}),m});async function k(e,t,r,a,p){let _,h,g,f,b,v,I,T;let S=0,w={generatedInteractions:[]},A=[];if("TOPLEVEL"===e.type){let t=(0,l.XA)(e.topLevelFrames,a);if(h=t.jsx,g=t.idMap,0===h.length)return w;v=e.unfilteredScene,T=e.imageBase64}else if("HOTSPOTS"===e.type){if(f=e.selectedHotspots,b=e.frameTextSummaries,0===f.length)return w.errorMessage="No selected hotspots.",w;if(0===b.length)return w.errorMessage="No top level frames on canvas.",w;v=e.unfilteredScene,I=e.selectedNodeIDs}let C=new Promise((e,t)=>{setTimeout(()=>{t(Error("Cortex timed out"))},1e4)}),N=E.Ay.design.generateMagicLink({selectedTLFs:h,selectedHotspots:f,frameTextSummaries:b,userDescription:p,imageBase64:T},{...(0,y.Ay)(),clientLifecycleId:t}),O=(await Promise.race([N,C])).pipeThrough((0,E.rG)());(0,m.kc)().prototype_ai_magic_link_compute_all_features||(0,m.kc)().prototype_ai_magic_link_ensemble_model?(0,o.D)({LinearTimeNodeFeatures:!0,SlowOrAsyncNodeFeatures:!0,LinkFeatures:!0}):(0,o.D)({LinearTimeNodeFeatures:!0,SlowOrAsyncNodeFeatures:!1,LinkFeatures:!1}),"TOPLEVEL"===e.type&&(_=await (0,i.Jh)({unfilteredScene:v,selectedTlfIds:e.topLevelFrames.map(e=>e.id)}));let L=t=>(0,d.Z)(t,v,"TOPLEVEL"===e.type),R=e=>{let t=P(e);t&&(A.push(e.buttonID),w.generatedInteractions.push({id:t,mapping:e}))},k=[];for await(let t of new E.hI(O,1e4)){if(r.signal.aborted)return{generatedInteractions:[],errorMessage:"aborted"};let n=t[S].content;S++;let i=function(e){let t=e.match(/"buttonID": "(.*?)"/),r=e.match(/"actionType": "(.*?)"/),n=e.match(/"destScreenID":\s*(?:"([^"]*)"|null)/),i=e.match(/"score": "(.*?)"/);if(!t||!r||!n||!i)return null;let[,a]=t,[,o]=r,[,l]=n,[,s]=i;return parseFloat(s)>8?{buttonID:a,navigationType:o,destinationScreenID:"null"===l?null:l}:null}(n);if(!i)continue;"TOPLEVEL"===e.type&&g&&(0,d.s)(i,g);let a=L(i);a&&((0,m.kc)().prototype_ai_magic_link_ensemble_model?k.push(a):R(a))}if((0,m.kc)().prototype_ai_magic_link_ensemble_model){let e=await (0,n.eu)(_,k);for(let t of((0,m.kc)().internal_only_debug_tools&&console.log("Raw interactions from ensemble model:",e),e))R(t)}if("TOPLEVEL"===e.type&&v){let t=e.topLevelFrames.map(e=>e.id);for(let e of(0,u.V)(w.generatedInteractions.map(e=>e.mapping),v,t))R(e);for(let e of(await (0,s.z)(w.generatedInteractions.map(e=>e.mapping),v)))R(e)}if("HOTSPOTS"===e.type&&I&&v&&A.length<I.length)for(let e of(0,c.A)(v,A,I))R(e);return w}async function D(e,t,r=0){let n;let i={generatedActions:[]},a=0,o=[];try{n=await E.Ay.design.generateAutoAdvancedPrototypes(e,(0,y.Ay)())}catch(e){return i.errorMessage=e.message,i}let l=n.pipeThrough((0,E.GP)());try{for await(let e of new E.c6(l))for(o=e;a<o.length;){let e=o[a];if(e.content){let n=JSON.parse(e.content),a=t(n,r+n.actionIndexIncrement);a&&(i.errorMessage=a)}a++}return i}catch(e){return i.errorMessage=e.message,i}}function M(e,t){if(!(0,S.Ll)()||!(0,S.AL)())return!1;for(let r of e){let e=t.get(r);if(!e)continue;let n=(0,T.kh)(t,r);if(n&&(n.isPrimaryInstance||n.isStateGroup))return!1;if(e.isTopLevelFrame())continue}return!0}},83695:(e,t,r)=>{"use strict";r.d(t,{KN:()=>G,ht:()=>H,y3:()=>K});var n=r(411855),i=r(629019),a=r.n(i),o=r(44070),l=r.n(o),s=r(966712),c=r(503457),d=r(572174),u=r(153234),p=r(522739),m=r(572206),_=r(723325),h=r(762638),g=r(939863),f=r(852800),E=r(394339),y=r(178462),b=r(88339),v=r(469380),I=r(771941),T=r(848661),S=r(869156),w=r(533573),A=r(478655),C=r(746806),N=r(741843),O=r(712685),L=r(15270),R=r(750029),P=r(736656),k=r(325682),D=r(761110),M=r(773833),x=r(669459),F=r(50275),U=r(527967),B=r(200817);let H=n.createContext({autoCloseOnScroll:!0}),V=(0,c.kf)("lazy_search_expression_builder",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(9246),r.e(9181)]).then(r.bind(r,579181))).ExpressionBuilderSearch})});function G({resolvedType:e,targetVariableData:t,autoOpenExpressionBuilder:r,setAutoOpenExpressionBuilder:i,updateSelectionProperties:a,recordingKey:o,updateConditionInConditionalAction:l,isNarrowPanel:s,showVariableThumbnails:c,setVariableValue:p,onClose:_,requestedTypes:h,initialPosition:g,variantProperty:y}){let v=!1;(0,T.gl)(t)&&(t=void 0,v=!0),(null==(t=(0,M.IQ)(t,y))?void 0:t.type)===f.Z_n.EXPRESSION&&(null==t?void 0:t.value.expressionFunction)===f.JTp.STRINGIFY&&(t=t.value.expressionArguments[0]);let[S,w]=n.useState(null),A=n.useCallback(e=>{null!==e&&w(e)},[]),[C,N]=n.useState(g??null),{shouldShowAdvancedPrototypingPaywall:O,showAdvancedPrototypingVariablesModal:L}=(0,k.zt)(),R=n.useCallback(()=>{if(O)L();else if(!C&&S){let e=S.getBoundingClientRect();N(new m.Mi(e.left-34,e.top-6))}},[S,C,O,L]);n.useEffect(()=>{!0===r&&i&&S&&(R(),i(!1))},[r,S,R,i]);let P=n.useCallback(()=>{C&&(N(null),_&&_())},[C,_]),D=n.useCallback(e=>{if(void 0!==l)l(e);else if((0,d.Vq)(p)){if(!p(e))return!1}else void 0!==a&&a({targetVariableData:e});return P(),!0},[P,l,a,p]),x=n.createElement(n.Fragment,null,C&&n.createElement(W,{initialTokens:t?(0,E.q)((0,b.A)(t,new I.o(!0))):[],initialPosition:C,resolvedType:e,onCloseExpressionBuilder:P,onInputSubmitted:D,icon:l?U.A:B.A,isInConditional:void 0!==l,recordingKey:u.Pt(o,"expressionBuilder"),requestedTypes:h})),F=n.createElement(K,{targetVariableData:t,forwardRef:A,onClick:R,recordingKey:o,isNarrowPanel:s,isInCell:!!p,showVariableThumbnails:c,isInConditional:void 0!==l,isMixed:v});return n.createElement(n.Fragment,null,x," ",F)}function W({initialTokens:e,initialPosition:t,resolvedType:r,onCloseExpressionBuilder:i,onInputSubmitted:a,icon:o,isInConditional:s,recordingKey:c,requestedTypes:d}){let{autoCloseOnScroll:m}=n.useContext(H),h=n.useMemo(()=>e.reduce((e,t)=>e+=t.stringValue,""),[e]),f=n.useRef(h),E=n.useRef(!1),[b,T]=n.useState(0),S=n.useCallback((e,t)=>{T(e),e>0&&!E.current&&(E.current=!0),t&&(0,M.EQ)(f.current,t,r,s?"conditional":"set_variable")},[s,r]),[w,A]=n.useState((0,v.d)(f.current,r,d)),O=n.useCallback(()=>{if(f.current.trim().length>0){(0,M.EQ)(f.current,"success",r,s?"conditional":"set_variable");let e=a((0,y.q)(f.current,new I.o));if(!e)return A(!e),e}else(0,M.EQ)(f.current,"submit_empty",r,s?"conditional":"set_variable"),i();return!0},[s,i,a,r]),L=n.useMemo(()=>l()(e=>{(0,M.EQ)(f.current,e,r,s?"conditional":"set_variable"),i()}),[s,i,r]),[R,P]=n.useState(!1),k=n.useCallback(()=>R?(0,g.t)("proto.expression_builder.ai_placeholder"):s?(0,g.t)("proto.expression_builder_entry.placeholder"):(0,g.t)("proto.expression_builder.placeholder"),[R,s]);return n.createElement("div",{className:F.Zh},n.createElement(C.vx,{container:N.c,containerProps:{wiggleCount:b},title:"",headerSize:"hidden",initialPosition:t,onClose:i,dragHeaderOnly:!1,initialWidth:258,canRenderBelowViewport:!0},n.createElement(_.dP,{recordingKey:c},n.createElement("div",null,n.createElement(V,{fallback:n.createElement("div",{className:F.D9}," Loading... "),errorFallback:null,initialTokens:e,expressionText:f,resolvedType:r,error:w,setError:A,onSubmit:O,onClose:L,icon:o,wiggleCount:b,setWiggleCount:S,hasWiggled:E.current,placeholderText:k(),isInConditional:s,recordingKey:u.Pt(c,"search"),requestedTypes:d,isAIMode:R,setIsAIMode:P})))),n.createElement(p.D8,{className:x.ZA,onMouseDown:e=>{if(R){L("click_out_cancel"),e.stopPropagation();return}!w&&O()||(b>=1?L("click_out_cancel"):0===b&&S(1,"click_out_error")),e.stopPropagation()},onWheel:()=>{m&&f.current.trim()===h.trim()&&L("scroll_cancel")},recordingKey:u.Pt(c,"closeBuilder")}))}function K({targetVariableData:e,forwardRef:t,onClick:r,recordingKey:i,showVariableThumbnails:o,isNarrowPanel:l,isInCell:c,isInConditional:d,isMixed:m,variantProperty:_}){e=(0,M.IQ)(e,_);let E=(0,k.YT)(),y=n.useContext(P.c),v=E===k.Oz.TWO_COL,S=v&&y===P.P.LEFT,w=v&&y===P.P.RIGHT,C=E!==k.Oz.NONE,N=n.useMemo(()=>e?(0,b.A)(e,new I.o(!0,!0)).replace(/\(/g," ( ").replace(/\)/g," ) ").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)(?![^{]*})(?![^[]*])/):[],[e]);if(e&&(0,T.hS)(e)&&(null==e?void 0:e.resolvedType)===f.rXF.COLOR)return n.createElement(R.J,{color:e.value});let O=0===N.length,L=a()({[F.WR]:!c&&l,[F.NQ]:c,[F.D9]:!c&&!l,[F.pC]:v,[F.g6]:S,[F._i]:C}),x=S?(0,g.t)("proto.expression_builder_entry.placeholder_ui3_lhs"):w?(0,g.t)("proto.expression_builder_entry.placeholder_ui3_rhs"):(0,g.t)("proto.expression_builder_entry.placeholder");return n.createElement(p.D8,{onClick:r,recordingKey:u.Pt(i,"openExpressionBuilder"),className:C?F.tY:h.cx.minW0.$},n.createElement("div",{className:L,ref:t},N.filter(e=>e.length>0).map((e,t)=>{if(e.startsWith("{")&&e.endsWith("}")){let r=e.replace(/[{}]/g,""),{variableId:i,modeId:a}=(0,M.Y_)(r);return n.createElement(Y,{variableId:i,modeId:a,showVariableThumbnails:o,key:t})}if(A.sH(e))return n.createElement(Y,{variableId:e,showVariableThumbnails:o,key:t});if((0,s.kc)().prototype_expression_props&&e.startsWith("[")&&e.endsWith("]")){let r=e.replace(/[[]]/g,""),[i,a,l]=(0,M.Q6)(r);return n.createElement(j,{stablePathToNode:i,componentPropId:l,showVariableThumbnails:o,key:t})}if((0,s.kc)().prototype_expression_props&&(0,M.Q6)(e)[0].length&&""!==(0,M.Q6)(e)[1]&&""!==(0,M.Q6)(e)[2]){let[r,i,a]=(0,M.Q6)(e);return n.createElement(j,{stablePathToNode:r,componentPropId:a,showVariableThumbnails:o,key:t})}return M.dX.test(e)?n.createElement("span",{key:t},e):M.yZ.test(e)||M.er.test(e)?n.createElement("span",{key:t},e):n.createElement(D.X,{isLeftColInteractionsPanel:S,text:e,key:t})}),O&&n.createElement("span",{className:F.a7},m?(0,g.t)("fullscreen.mixed"):d?x:(0,g.t)("proto.expression_builder.placeholder"))))}function Y({variableId:e,modeId:t,showVariableThumbnails:r}){let i=(0,S.u)(e),a=i?(0,L.B9)(i.name):(0,g.t)("proto.expression_builder_entry.missing"),o=(0,S.G6)(null==i?void 0:i.variableSetId),l=o&&t?o.modes.find(e=>e.id===t):null,s=null==l?void 0:l.name,c=i&&r?(0,M.Xx)(i.resolvedType):null,d=s?`${a}: ${s}`:`${a}`;return n.createElement(O.w,{text:d,thumbnailValue:c,isDeleted:!!i&&(0,w.eF)(i)})}function j({stablePathToNode:e,componentPropId:t,showVariableThumbnails:r}){let i=(0,M.aA)(e,t),a=i&&r?(0,M.Xx)(i.varValue.resolvedType):null;return n.createElement(O.w,{text:i?i.name:(0,g.t)("proto.expression_builder_entry.missing"),colorTheme:O.J.COMPONENT,thumbnailValue:a,isDeleted:!1})}},773833:(e,t,r)=>{"use strict";r.d(t,{Cq:()=>U,DE:()=>b,EQ:()=>Z,HC:()=>V,Hq:()=>D,I0:()=>f,IQ:()=>j,J4:()=>H,N_:()=>K,Q6:()=>x,TL:()=>G,Ub:()=>P,Xx:()=>z,Y_:()=>Y,ZX:()=>g,_z:()=>k,a1:()=>y,aA:()=>M,bU:()=>F,d9:()=>L,dX:()=>A,er:()=>N,he:()=>R,if:()=>v,kl:()=>I,m9:()=>B,q2:()=>T,sO:()=>S,tJ:()=>O,tz:()=>$,uX:()=>C,wL:()=>W,yZ:()=>w,yy:()=>E});var n=r(411855),i=r(776250),a=r(776621),o=r(987918),l=r(632430),s=r(852800),c=r(394339),d=r(771941),u=r(869156),p=r(335682),m=r(512596),_=r(503795),h=r(90211);function g({highlightedItemID:e,variables:t,expressionItems:r,componentPropItems:n}){return e?t.find(t=>t.node_id===e)??n.find(t=>(0,_.lC)(t)===e)??r.find(t=>t.name===e)??null:null}let f=new RegExp(/\+|-|\*|!|=|\/|&|\||>|<| /g),E=new RegExp(/\+|-|\*|!|=|\/|&&|\|\||>|</g),y=new RegExp(/\+|-|\*|\//g),b=new RegExp(/\+/g),v=new RegExp(/>|<|!/g),I=new RegExp(/>=|<=/g),T=new RegExp(/!=|==|(OR|or|Or)|>=|<=|&&|\|\|/g),S=new RegExp(/(AND|and|And)|(NOT|not|Not)/g),w=new RegExp(/"([^"]*)"/),A=new RegExp(/^[0-9.]*$/),C=new RegExp(/(AND|and|And)|(NOT|not|Not)|(OR|or|Or)|!=|==|&&|\|\|/),N=new RegExp(/\s*(true|false)\s*/i),O=new RegExp(/\(|\)/g);function L(e){return!!e&&(!A.test(e)||isNaN(Number(e)))}function R(e,t){var r;return(null==(r=null==e?void 0:e.modes.find(e=>e.id===t))?void 0:r.name)??""}function P(e){let[t,r]=e.split("$$$");return[t,r]}function k(e,t,r){if(r.keepAliasId)return`${e}$$$${t}`;let n=r.variableIdToVariable(e);if(!n)return"{}";let i=r.variableCollectionIdToVariableCollection(n.variableSetId);if(!i)return"{}";let a=R(i,t);return`{${n.name}$$$${a}}`}function D(e){let[t,r,n]=x(e);if(!t||!r||!n)return[];if("COMPONENT_PROP_ASSIGNMENTS"===r){let e=M(t,n);return e?[t,r,n,e.varValue.resolvedType]:[]}return(0,a.xi)("Invalid node field when parsing node field alias expression text",r),[]}function M(e,t){if(!e||0===e.length||!t)return;let r=s.CWU.getComponentPropForVariableAlias(e,t);if(0!==Object.keys(r).length)return r}function x(e){let[t,r,n]=e.split("$$$");if(!t||!r||!n)return[[],"",""];let[,i]=t.split("StablePathToNode:"),[,a]=r.split("NodeField:"),[,o]=n.split("IndexOrKey:");return i&&a&&o?[JSON.parse(i),a,o]:[[],"",""]}function F(e,t,r){return"COMPONENT_PROP_ASSIGNMENTS"===t?`StablePathToNode:${JSON.stringify(e)}$$$NodeField:${t}$$$IndexOrKey:${r}`:((0,a.xi)("Invalid node field when parsing for node field alias",t),"")}function U(e){if(e&&e.varValue.type===s.Z_n.ALIAS)return s.CWU.getVariableResolvedValue(e.varValue.value,o.AD);let t=(0,_.sr)(e);switch(typeof t){case"string":return{type:s.Z_n.STRING,resolvedType:s.rXF.STRING,value:t};case"boolean":return{type:s.Z_n.BOOLEAN,resolvedType:s.rXF.BOOLEAN,value:t}}}function B(e){if(!e||!e.stablePathToNode||"COMPONENT_PROP_ASSIGNMENTS"!==e.nodeField||!e.indexOrKey)return;let t=M(e.stablePathToNode,e.indexOrKey);if(t)return U(t)}function H(e){for(let t of e){if(t.type===_.Yc.COMPONENT_PROPS)return(0,_.lC)(t.items[0]);if("items"in t)return t.items[0].node_id;if("expressionItem"in t)return t.expressionItem.name}return null}function V(e){for(let t of e)if(t.type===_.Yc.COMPONENT_PROPS)return(0,_.lC)(t.items[0]);for(let t of e)if(t.type===_.Yc.VARIABLES)return t.items[0].node_id;for(let t of e)if(t.type===_.Yc.EXPRESSION&&"LITERAL"===t.expressionItem.type)return t.expressionItem.name;return null}function G(e){return n.useMemo(()=>e===s.rXF.BOOLEAN?[s.rXF.BOOLEAN,s.rXF.STRING,s.rXF.FLOAT]:e===s.rXF.STRING?[s.rXF.STRING,s.rXF.FLOAT]:[e],[e])}function W(e,t,r,i){var a,o;let l=(0,u.Rb)(),s=(0,u.yp)(),c=(0,u.pN)(),d=null==(a=c.data)?void 0:a.libraryVariables,g=null==(o=c.data)?void 0:o.libraryVariableSets,[f,E]=(0,n.useMemo)(()=>"ALL_LIBRARIES"===r.type?[[...l,...d??[]],[...s,...g??[]]]:"LOCAL_VARIABLES"===r.type?[l,s]:[d??[],g??[]],[r.type,l,d,s,g]),y=(0,p.tS)(),b=(0,m.A)(null,null),v=n.useMemo(()=>{let e={};return b.forEach(t=>{e[t.fileKey]=t.fileName}),e},[b]),I=G(t),T=n.useMemo(()=>f.filter(e=>(null==i?void 0:i.includes(e.resolvedType))??I.includes(e.resolvedType)),[f,i,I]),S=(0,h.qF)(T,e??"");return n.useMemo(()=>null===e?[]:e.length>0?(0,_.dC)({variables:S,variableSets:E,styles:[],layout:"list",fileNamesByKey:v,openFileKey:y}):(0,_.HK)({variables:S,variableSets:E,layout:r.layout}),[e,S,E,v,y,r.layout])}async function K(e,t){let r=t.find(t=>t.node_id===e.node_id);r&&await (0,l.ff)(r)}function Y(e){let[t,r]=e.split(" %%% "),[n,i]=t.split("$$$");return{variableId:n,modeId:i,resolvedType:r?+r:null}}function j(e,t){var r;return(null==e?void 0:e.type)===s.Z_n.EXPRESSION&&(null==e?void 0:e.value.expressionFunction)===s.JTp.IS_TRUTHY&&e.value.expressionArguments[0]&&(e=e.value.expressionArguments[0]),(null==e?void 0:e.type)===s.Z_n.EXPRESSION&&(null==e?void 0:e.value.expressionFunction)===s.JTp.RESOLVE_VARIANT&&(null==(r=null==e?void 0:e.value.expressionArguments[0])?void 0:r.type)===s.Z_n.MAP&&t&&e.value.expressionArguments[0].value[t]&&(e=e.value.expressionArguments[0].value[t]),(null==e?void 0:e.type)===s.Z_n.EXPRESSION&&(null==e?void 0:e.value.expressionFunction)===s.JTp.STRINGIFY&&(e=e.value.expressionArguments[0]),e}function z(e){return $(e)?{type:s.Z_n.STRING,resolvedType:s.rXF.STRING,value:o.AD}:e===s.rXF.BOOLEAN?{type:s.Z_n.BOOLEAN,resolvedType:s.rXF.BOOLEAN,value:!0}:e===s.rXF.FLOAT?{type:s.Z_n.FLOAT,resolvedType:s.rXF.FLOAT,value:0}:null}function $(e){return e===s.rXF.STRING||e===s.rXF.TEXT_DATA}function Z(e,t,r,n){let o=new d.o(!0),l=[];try{l=(0,c.q)(e)}catch{(0,a.xi)("could not tokenize expression for logging:",e)}let u=l.filter(e=>"TOKEN_VARIABLE"===e.type||"TOKEN_VARIABLE_WITH_MODE"===e.type).map(e=>{let[t,r]=P(e.stringValue),n=o.variableIdToVariable(t);return{collection_id:null==n?void 0:n.variableSetId,variable_id:t,variable_type:null==n?void 0:n.resolvedType,mode_id:r}}),p=Object.keys(s.rXF)[Object.values(s.rXF).indexOf(r)].toLowerCase();"float"!==p&&"string"!==p&&"boolean"!==p&&(p="invalid");let m={status:t,resolved_type:p,variable_data:JSON.stringify(u),entry:n};i.az.trackDefinedEvent("prototype.expression_submit",m)}},360803:(e,t,r)=>{"use strict";r.d(t,{l:()=>c,m:()=>d});var n=r(935283),i=r(987918),a=r(852800),o=r(478655),l=r(15270);function s(e,t,r){let n=(0,l.WI)(t,r),c=function(e){switch(e){case a.rXF.BOOLEAN:return"BOOLEAN";case a.rXF.FLOAT:return"FLOAT";case a.rXF.STRING:return"STRING";case a.rXF.COLOR:return"COLOR";case a.rXF.MAP:return"MAP";case a.rXF.SYMBOL_ID:return"SYMBOL_ID";case a.rXF.TEXT_DATA:return"TEXT_DATA";default:throw Error(`Unexpected resolved type: ${e}`)}}(t);if(e===a.Z_n.BOOLEAN)return{dataType:"BOOLEAN",resolvedDataType:c,value:{boolValue:n.value}};if(e===a.Z_n.FLOAT)return{dataType:"FLOAT",resolvedDataType:c,value:{floatValue:n.value}};if(e===a.Z_n.STRING)return{dataType:"STRING",resolvedDataType:c,value:{textValue:n.value}};if(e===a.Z_n.ALIAS){var d,u,p,m=null;if("string"==typeof r){let e=o.sH(r);e&&(m={guid:{sessionID:null==(d=null==e?void 0:e.guid)?void 0:d.sessionID,localID:null==(u=null==e?void 0:e.guid)?void 0:u.localID}})}return{dataType:"ALIAS",resolvedDataType:c,value:{alias:m||n.value}}}if(e===a.Z_n.NODE_FIELD_ALIAS)return{dataType:"NODE_FIELD_ALIAS",resolvedDataType:c,value:{nodeFieldAliasValue:"stablePathToNode"in(p=n.value)&&"nodeField"in p&&"indexOrKey"in p?{stablePathToNode:{guids:p.stablePathToNode.map(e=>(0,i.sH)(e))},nodeField:p.nodeField,indexOrKey:p.indexOrKey}:{}}};if(e===a.Z_n.COLOR)return{dataType:"COLOR",resolvedDataType:c,value:{colorValue:n.value}};if(e===a.Z_n.EXPRESSION)return{dataType:"EXPRESSION",resolvedDataType:c,value:{expressionValue:function e(t){for(var r=t.expressionArguments,n=[],i=0;i<r.length;i++){var o=r[i],l=s(o.type,o.resolvedType,o.value);o.type===a.Z_n.EXPRESSION&&(l.value={expressionValue:e(o.value)}),n.push(l)}return{expressionArguments:n,expressionFunction:a.JTp[t.expressionFunction]}}(r)}};else if(e===a.Z_n.MAP)return{dataType:"MAP",resolvedDataType:c,value:{mapValue:n.value}};else if(e===a.Z_n.SYMBOL_ID)return{dataType:"SYMBOL_ID",resolvedDataType:c,value:{symbolIdValue:n.value}}}function c(e){for(var t of e)t&&t.actions&&(t.actions=d(t.actions));return[].concat.apply([],e)}function d(e){var t,r,a=[];for(var l of e){if("SET_VARIABLE"===l.connectionType){if(l.targetVariable&&"id"in l.targetVariable){let e=o.sH(l.targetVariable.id);l.targetVariable.id={guid:{sessionID:null==(t=null==e?void 0:e.guid)?void 0:t.sessionID,localID:null==(r=null==e?void 0:e.guid)?void 0:r.localID}}}l.targetVariableData&&(l.targetVariableData=s(l.targetVariableData.type,l.targetVariableData.resolvedType,l.targetVariableData.value))}else if("SET_VARIABLE_MODE"===l.connectionType)(0,n.B1)(l.targetVariableModeID,"targetVariableModeID"),l.targetVariableModeID=(0,i.sH)(l.targetVariableModeID)||void 0;else if("CONDITIONAL"===l.connectionType&&l.conditionalActions){var c=[];for(var u of l.conditionalActions){var p=[],m=null;u&&(u.condition&&(m=s(u.condition.type,u.condition.resolvedType,u.condition.value)),u.actions&&(p=d(u.actions))),c.push({condition:m,actions:p})}l.conditionalActions=c}a.push(l)}return a}},301036:(e,t,r)=>{"use strict";r.d(t,{Op:()=>o,Vp:()=>c,qQ:()=>s});var n=r(820286),i=r(848661);function a(e,t){return void 0===e&&void 0===t||void 0!==e&&void 0!==t&&JSON.stringify(e)===JSON.stringify(t)}class o{constructor(e){this.path=e}equals(e){return JSON.stringify(this.path)===JSON.stringify(e)}isConditional(){return 3===this.path.length}}function l(e,t){var r;if(0===t.path.length)return;let n=t.path[0];if(e.length>n){let i=e[n];if(3===t.path.length&&"CONDITIONAL"===i.connectionType&&i.conditionalActions){let e=t.path[1],n=t.path[2];if(i.conditionalActions.length>e){let t=i.conditionalActions[e];if(t.actions&&(null==(r=t.actions)?void 0:r.length)>n)return t.actions[n]}}return i}}function s(e){return void 0!==e.ifStatement&&void 0!==e.action}function c(e,t,r,c,d){if(0===e.length||!c||!d)return{newActions:void 0,newExpandedRows:void 0};let u=s(c);if(u&&(0,i.gl)(c.action)||a(c,l(e,t)))return{newActions:void 0,newExpandedRows:void 0};let p=l(e,t);if(!p||u&&"CONDITIONAL"===p.connectionType)return{newActions:void 0,newExpandedRows:void 0};if(!u&&d===n.Nz.INSIDE&&"CONDITIONAL"===c.connectionType)return function(e,t,r,n){if(!t||!n||"CONDITIONAL"!==n.connectionType||"CONDITIONAL"===t.connectionType)return{newActions:void 0,newExpandedRows:void 0};var i=[],l=[],s=[],c=0,d=0;for(let p of e){if(a(n,p)&&"CONDITIONAL"===p.connectionType){if(p.conditionalActions){for(let e of p.conditionalActions)if(e.actions&&void 0!==e.actions.find(e=>e===t))return{newActions:void 0,newExpandedRows:void 0}}if(!p.conditionalActions){var u={actions:[]};p.conditionalActions=[u]}p.conditionalActions[0].actions?(p.conditionalActions[0].actions.push(t),s.push(new o([d,0,p.conditionalActions[0].actions.length-1]))):(p.conditionalActions[0].actions=[t],s.push(new o([d,0,0]))),l.push(new o([d])),d++}!a(t,p)&&(i.push(p),r.find(e=>e.equals([c]))&&l.push(new o([d])),d++),c++}return{newActions:i,newExpandedRows:l,newSelectedActionIndex:s.length?s[0]:void 0}}(e,p,r,c);for(var m,_,h=[],g=[],f=[],E=0,y=0,b=!1,v=0;v<e.length;v++){let i=e[v];var I=a(c,i)&&!b;u&&c.action&&(I=a(c.action,i)&&!b);let l=t.equals([v]);if(!l&&"CONDITIONAL"===i.connectionType){if(i.conditionalActions){var T=[];let e=1===t.path.length&&t.path[0]<v?v-1:v;for(var S=0;S<(null==(m=i.conditionalActions)?void 0:m.length);S++){var w={};let r=i.conditionalActions[S];if(r.actions&&r.actions.length>0){for(var A=[],C=0,N=0;N<(null==(_=r.actions)?void 0:_.length);N++){let i=r.actions[N];if(a(c,i)){if("CONDITIONAL"===p.connectionType)return{newActions:void 0,newExpandedRows:void 0};d===n.Nz.AFTER?(A.push(i),C++,A.push(p),g.push(new o([e,S,C]))):d===n.Nz.BEFORE&&(A.push(p),g.push(new o([e,S,C])),A.push(i),C++),b=!0}else!t.equals([v,S,N])&&(A.push(i),C++)}w.actions=A,w.condition=r.condition}else if(u&&I&&(c.ifStatement&&0===S||!c.ifStatement&&1===S)){if("CONDITIONAL"===p.connectionType)return{newActions:void 0,newExpandedRows:void 0};g.push(new o([e,S,0])),w.actions=[p],w.condition=c.ifStatement?r.condition:void 0,b=!0}else w=r;T.push(w)}if(u&&!c.ifStatement&&I&&T.length<=1){var O={actions:c.ifStatement?[]:[p]};T.push(O),b=!0}i.conditionalActions=T}else if(u){var L={actions:c.ifStatement?[p]:[]},O={actions:c.ifStatement?[]:[p]};i.conditionalActions=[L,O],b=!0}}I&&!b?(d===n.Nz.AFTER?(r.find(e=>e.equals([v]))&&f.push(new o([y])),h.push(i),y++,h.push(p),g.push(new o([E+1])),y++):d===n.Nz.BEFORE&&(h.push(p),g.push(new o([E])),y++,r.find(e=>e.equals([v]))&&f.push(new o([y])),h.push(i),y++),b=!0):!l&&(E++,r.find(e=>e.equals([v]))&&f.push(new o([y])),h.push(i),y++)}return{newActions:h,newExpandedRows:f,newSelectedActionIndex:g.length?g[0]:void 0}}},325682:(e,t,r)=>{"use strict";r.d(t,{Bs:()=>j,Fp:()=>x,GB:()=>U,LH:()=>M,Oz:()=>Z,Qe:()=>w,SJ:()=>B,YT:()=>J,dJ:()=>S,eG:()=>A,hU:()=>C,iC:()=>P,kM:()=>k,n6:()=>X,oc:()=>F,qv:()=>Y,uU:()=>D,vc:()=>G,x6:()=>L,zt:()=>$});var n=r(411855),i=r(188507),a=r(776250),o=r(794272),l=r(966712),s=r(374626),c=r(987918),d=r(662275),u=r(226055),p=r(396226),m=r(852800),_=r(848661),h=r(46878),g=r(335682),f=r(99506),E=r(300874),y=r(884129),b=r(227838),v=r(32067),I=r(394781),T=r(38340);let S="prototypeInteractionEditModal",w="interactionPanel",A="action-row";function C(e,t,r,n,i,a,o,l,s,c){return{behavior:function(e){if(e){if(!(0,_.hS)(e))return _.oV;if("INSTANT_TRANSITION"===e);else if("DISSOLVE"===e)return"DISSOLVE";else if("FADE"===e)return"FADE";else if(e.startsWith("SLIDE_OUT"))return"SLIDE_OUT";else if(e.startsWith("SLIDE"))return"SLIDE";else if(e.startsWith("PUSH"))return"PUSH";else if(e.startsWith("MOVE_OUT"))return"MOVE_OUT";else if(e.startsWith("MOVE"))return"MOVE";else if("SMART_ANIMATE"===e||"MAGIC_MOVE"===e)return"SMART_ANIMATE";else if("SCROLL_ANIMATE"===e)return"SCROLL_ANIMATE"}return"INSTANT"}(e),direction:function(e){if(e&&(0,_.hS)(e)){for(let t of O)if(e.indexOf(t)>=0)return t}return null}(e),easing:function(e){if(e){if(!(0,_.hS)(e))return _.oV;if("IN_CUBIC"===e)return"EASE_IN";if("OUT_CUBIC"===e);else if("INOUT_CUBIC"===e)return"EASE_IN_AND_OUT";else if("LINEAR"===e)return"LINEAR";else if("IN_BACK_CUBIC"===e)return"EASE_IN_BACK";else if("OUT_BACK_CUBIC"===e)return"EASE_OUT_BACK";else if("INOUT_BACK_CUBIC"===e)return"EASE_IN_AND_OUT_BACK";else if("CUSTOM_CUBIC"===e)return"CUSTOM_BEZIER";else if("GENTLE_SPRING"===e)return"GENTLE";else if("SPRING_PRESET_ONE"===e)return"QUICK";else if("SPRING_PRESET_TWO"===e)return"BOUNCY";else if("SPRING_PRESET_THREE"===e)return"SLOW";else if("CUSTOM_SPRING"===e)return"CUSTOM_SPRING"}return"EASE_OUT"}(t),isSpringTransition:L(t),easingFunction:r?(0,_.hS)(r)?r:_.oV:N,duration:n?(0,_.hS)(n)?n:_.oV:.3,shouldSmartAnimate:R(i,!1),preserveScroll:R(a,!1),resetVideoPosition:R(o,!1),openUrlInNewTab:R(l,!1),resetScrollPosition:R(s,!1),resetInteractiveComponents:R(c,!1)}}let N=[0,0,.58,1],O=["LEFT","RIGHT","TOP","BOTTOM"];function L(e){return!!e&&("GENTLE_SPRING"===e||"SPRING_PRESET_ONE"===e||"SPRING_PRESET_TWO"===e||"SPRING_PRESET_THREE"===e||"CUSTOM_SPRING"===e)}function R(e,t){return e?(0,_.hS)(e)?e:_.oV:t}function P(e){return e.length?e.reduce((e,t)=>e&&e!==t.stateManagementVersion||!e&&1===t.stateManagementVersion?_.oV:void 0===e?0:e,e[0].stateManagementVersion):void 0}function k(e){return D(e)||e===_.oV}function D(e){return void 0===e||0===e}function M(e){return 1===e}function x(e,t,r){if(e===_.oV)return!0;let n=(0,_.E7)(t),i=(0,_.E7)(r);return!("CLOSE"===n||"URL"===n||"INTERNAL_NODE"===n&&"SCROLL_TO"===i||"SET_VARIABLE"===n||"CONDITIONAL"===n||"SET_VARIABLE_MODE"===n||"NONE"===n||"UPDATE_MEDIA_RUNTIME"===n)}function F(e){if("BACK"===e.connectionType)return!0;let t=(0,_.E7)(e.transitionNodeID);if(null==t||t===c.Hr)return!0;let r=c.dI(t);return!!m.tHB.subtreeContainsVideoPaint(r)}function U(e){if("BACK"===e.connectionType)return!0;let t=(0,_.E7)(e.transitionNodeID);if(null==t||t===c.Hr)return!0;let r=c.dI(t);return!!m.oXo.subtreeContainsInteractiveComponent(r)}function B(){let{selectionProperties:e}=(0,o.R)(e=>({selectionProperties:e.mirror.selectionProperties})),t=(0,v.uQ)(),r=[],n=[];if(t){let{viableIds:e,disabledIds:i}=m.X3B.getVideoNodesOnSameTlfAsNode(t);r=e,n=i}let i=(null==e?void 0:e.numSelected)===1&&(r.length>0||n.length>0);return(0,h.dq)(e)||i}let H="SEPARATOR",V=H+"_MEDIA",G=e=>e.startsWith(H),W=["NAVIGATE_TO","SWAP_STATE_TO","GO_BACK",H,"SET_VARIABLE","SET_VARIABLE_MODE","CONDITIONAL","SCROLL_TO","OPEN_URL",H,"OPEN_OVERLAY","SWAP_WITH","CLOSE_OVERLAY",V,"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS","UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS","UPDATE_MEDIA_SKIP_TO","UPDATE_MEDIA_SKIP_BY_OPTIONS"],K=["NAVIGATE_TO","SWAP_STATE_TO","GO_BACK","SCROLL_TO","OPEN_URL",H,"OPEN_OVERLAY","SWAP_WITH","CLOSE_OVERLAY",H,"SET_VARIABLE","SET_VARIABLE_MODE","CONDITIONAL",V,"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS","UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS","UPDATE_MEDIA_SKIP_TO","UPDATE_MEDIA_SKIP_BY_OPTIONS"];function Y(e,t){return(2!==J()?K:W).filter(r=>!!("SWAP_STATE_TO"!==r||m.glU.isSelectionContainedInStateOrStateInstance())&&(r!==V||!!e)&&("UPDATE_MEDIA_PLAY_PAUSE_OPTIONS"===r||"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS"===r||"UPDATE_MEDIA_SKIP_TO"===r||"UPDATE_MEDIA_SKIP_BY_OPTIONS"===r?e:("CONDITIONAL"!==r||!t)&&("SET_VARIABLE_MODE"!==r||!!(0,l.kc)().prototype_set_mode_action)))}function j(e){let t={connectionType:"NONE"};switch(e){case"NAVIGATE_TO":t.connectionType="INTERNAL_NODE",t.navigationType="NAVIGATE";break;case"OPEN_OVERLAY":t.connectionType="INTERNAL_NODE",t.navigationType="OVERLAY";break;case"SCROLL_TO":t.connectionType="INTERNAL_NODE",t.navigationType="SCROLL_TO";break;case"SWAP_WITH":t.connectionType="INTERNAL_NODE",t.navigationType="SWAP";break;case"SWAP_STATE_TO":t.connectionType="INTERNAL_NODE",t.navigationType="SWAP_STATE";break;case"GO_BACK":t.connectionType="BACK";break;case"CLOSE_OVERLAY":t.connectionType="CLOSE";break;case"OPEN_URL":t.connectionType="URL";break;case"SET_VARIABLE":t.connectionType="SET_VARIABLE";break;case"SET_VARIABLE_MODE":t.connectionType="SET_VARIABLE_MODE";break;case"UPDATE_MEDIA_PLAY":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="PLAY";break;case"UPDATE_MEDIA_PAUSE":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="PAUSE";break;case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="TOGGLE_PLAY_PAUSE";break;case"UPDATE_MEDIA_MUTE":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="MUTE";break;case"UPDATE_MEDIA_UNMUTE":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="UNMUTE";break;case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="TOGGLE_MUTE_UNMUTE";break;case"UPDATE_MEDIA_SKIP_BY_OPTIONS":case"UPDATE_MEDIA_SKIP_FORWARD":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="SKIP_FORWARD";break;case"UPDATE_MEDIA_SKIP_BACKWARD":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="SKIP_BACKWARD";break;case"UPDATE_MEDIA_SKIP_TO":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="SKIP_TO";break;case"CONDITIONAL":t.connectionType="CONDITIONAL"}return t}function z(e,t){let r=(0,i.wA)();return(0,n.useCallback)(()=>{r(d.to({type:y.DV,data:{team:t,resource:e,editorType:f._Y.DESIGN,currentPlan:p.F.Plan.STARTER,upsellPlan:p.F.Plan.PRO}})),(0,a.sx)("prototype.payment_upsell_modal_shown",{paywallFeature:e})},[r,e,t])}function $(){let{canUseAdvancedPrototyping:e,canMoveFileToProPlus:t,showMoveToProTeam:r}=(0,b.R0)(),n=(0,l.kc)().prototype_multi_path_paywall&&!e,a=(0,i.d4)(e=>e.openFile),o=(0,i.d4)(e=>a&&a.teamId?e.teams[a.teamId]:null),c=(0,s.md)(g.Hu),d=z(E.Bi.PROTOTYPING_MULTIPLE_ACTIONS,o),u=z(E.Bi.PROTOTYPING_CONDITIONAL_ACTIONS,o),p=z(E.Bi.PROTOTYPING_VARIABLES,o),m=z(E.Bi.VIDEOS_IN_PROTOTYPES,o);return{shouldShowAdvancedPrototypingPaywall:n,showAdvancedPrototypinglMultipleActionsModal:t?r:d,showAdvancedPrototypingConditionalActionsModal:t?r:u,showAdvancedPrototypingVariablesModal:t?r:p,showVideosModal:t&&!c?r:m}}var Z=(e=>(e[e.SINGLE_COL=0]="SINGLE_COL",e[e.TWO_COL=1]="TWO_COL",e[e.NONE=2]="NONE",e))(Z||{});function q(e){return e.some(e=>{var t;return null==(t=e.actions)?void 0:t.some(e=>"CONDITIONAL"===e.connectionType)})}function J(){var e;let t=(0,T.HS)(),{selectedInteractions:r,differentLengthActions:n}=(0,T.Ay)(t);if(!(0,u.GS)()||!(0,l.kc)().unified_index_v3_prototype_interaction_panel)return 2;let i=q(r)||r.some(e=>{var t;return void 0!==e.actions&&(null==(t=e.actions)?void 0:t.length)>1}),a=r.length>1&&!n&&(null==(e=r[0].actions)?void 0:e.length)===1&&q(r)&&!r.every(e=>{var t;return null==(t=e.actions)?void 0:t.every(e=>"CONDITIONAL"===e.connectionType)});return!i||n||a?0:1}function X(e,t,r){let{navigationType:n="NAVIGATE",connectionType:i="NONE",transitionType:a,easingType:o,easingFunction:l,transitionDuration:s,transitionShouldSmartAnimate:c,transitionPreserveScroll:d,transitionResetVideoPosition:u,openUrlInNewTab:p,transitionResetScrollPosition:m,transitionResetInteractiveComponents:_}=e,h=C(a,o,l,s,c,d,u,p,m,_),g=P(r),f=M(g)&&I.zZ.haveInteractionsBeenUpgraded(r);return{showPanel:(t.interactionActions.length>1||x(g,i,n))&&(k(g)||f),transition:h}}},73349:(e,t,r)=>{"use strict";r.d(t,{E8:()=>s,RI:()=>c,U8:()=>a,_i:()=>o,pu:()=>d,wb:()=>l});var n=r(682331),i=r(126911);function a(e){let t=[],r=i.y.isApple();return r&&e.metaKey&&t.push("\u2318"),!r&&e.metaKey&&t.push(e.ctrlKey?"\u2318":"Ctrl"),e.ctrlKey&&t.push(r?"\u2303":"Ctrl"),e.shiftKey&&t.push(r?"\u21E7":"Shift"),e.altKey&&t.push(r?"\u2325":"Alt"),t.push(d[e.keyCode]||String.fromCharCode(e.keyCode)),t.join(r?"":"+")}function o(e){if(!e)return null;let t={metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:0};for(let r of e)switch(r){case 16:t.shiftKey=!0;break;case 17:t.ctrlKey=!0;break;case 18:t.altKey=!0;break;case 91:case 92:case 93:case 224:t.metaKey=!0;break;default:t.keyCode=r}return t.keyCode?t:null}function l(e){return[e.keyCode,e.shiftKey?16:0,e.ctrlKey?17:0,e.altKey?18:0,e.metaKey?91:0].filter(Boolean)}function s(e,t=!1){var r;if(!e||(null==e?void 0:e.triggerDevice)==="KEYBOARD")return null;let i=u.get(null==e?void 0:e.triggerDevice),a=(null==(r=null==e?void 0:e.keyCodes)?void 0:r[0])??0,o=(null==i?void 0:i.get(a))??function(e){if(e>=n.c){let t=Math.floor((e-n.c)/2);return`Axis ${t} ${e%2==0?"-":"+"}`}return`Button ${e}`}(a);return o.length<=1&&!t&&(o+=" (Gamepad)"),o}let c=new Set([16,17,18,91,92,93,224]),d={3:"Break",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"Caps Lock",27:"Esc",32:"Space",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"\u2190",38:"\u2191",39:"\u2192",40:"\u2193",41:"Select",42:"Print",43:"Execute",44:"Print Screen",45:"Ins",46:"Del",47:"Help",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:":",59:"=",60:"<",61:"=",63:"\xdf",64:"@",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",95:"Sleep",96:"Numpad 0",97:"Numpad 1",98:"Numpad 2",99:"Numpad 3",100:"Numpad 4",101:"Numpad 5",102:"Numpad 6",103:"Numpad 7",104:"Numpad 8",105:"Numpad 9",106:"*",107:"+",108:".",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"Num Lock",145:"Scroll Lock",151:"Airplane Mode",160:"^",161:"!",163:"#",164:"$",166:"Page Backward",167:"Page Forward",168:"Refresh",170:"*",172:"Home",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",193:"?",194:".",219:"[",220:"\\",221:"]",222:"'",223:"`"},u=new Map([["SWITCH_PRO",new Map([[0,"B"],[1,"A"],[2,"Y"],[3,"X"],[4,"L"],[5,"R"],[6,"ZL"],[7,"ZR"],[8,"-"],[9,"+"],[10,"LStick Press"],[11,"RStick Press"],[12,"DPad Up"],[13,"DPad Down"],[14,"DPad Left"],[15,"DPad Right"],[16,"Home"],[17,"Capture"],[1e3,"LStick Left"],[1001,"LStick Right"],[1002,"LStick Up"],[1003,"LStick Down"],[1004,"RStick Left"],[1005,"RStick Right"],[1006,"RStick Up"],[1007,"RStick Down"]])],["PS4",new Map([[0,"X"],[1,"\u25CB"],[2,"\u25A1"],[3,"\u25B3"],[4,"L1"],[5,"R1"],[6,"L2"],[7,"R2"],[8,"Share"],[9,"Options"],[10,"LStick Press"],[11,"RStick Press"],[12,"DPad Up"],[13,"DPad Down"],[14,"DPad Left"],[15,"DPad Right"],[16,"Home"],[17,"Touch Pad"],[1e3,"LStick Left"],[1001,"LStick Right"],[1002,"LStick Up"],[1003,"LStick Down"],[1004,"RStick Left"],[1005,"RStick Right"],[1006,"RStick Up"],[1007,"RStick Down"]])],["XBOX_ONE",new Map([[0,"A"],[1,"B"],[2,"X"],[3,"Y"],[4,"LB"],[5,"RB"],[6,"LT"],[7,"RT"],[8,"View"],[9,"Menu"],[10,"LStick Press"],[11,"RStick Press"],[12,"DPad Up"],[13,"DPad Down"],[14,"DPad Left"],[15,"DPad Right"],[16,"Xbox Button"],[1e3,"LStick Left"],[1001,"LStick Right"],[1002,"LStick Up"],[1003,"LStick Down"],[1004,"RStick Left"],[1005,"RStick Right"],[1006,"RStick Up"],[1007,"RStick Down"]])]])},38340:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>y,HS:()=>E,R:()=>f,a2:()=>g});var n=r(188507),i=r(776250),a=r(717068),o=r(531664),l=r(529004),s=r(987918),c=r(356390),d=r(848661),u=r(234945),p=r(279702),m=r(113468);function _(e){var t,r,n,i,a,o;if(!e||!e.interactionType)return"NONE";switch(e.interactionType){case"MOUSE_IN":case"MOUSE_OUT":case"MOUSE_ENTER":case"MOUSE_LEAVE":case"MOUSE_DOWN":case"MOUSE_UP":return e.interactionType+((null==(t=e.interactionMaintained)?void 0:t.toString())??"0");case"ON_KEY_DOWN":return e.interactionType+((null==(r=e.keyTrigger)?void 0:r.triggerDevice)??"")+((null==(i=null==(n=e.keyTrigger)?void 0:n.keyCodes)?void 0:i.sort().toString())??"");case"AFTER_TIMEOUT":return e.interactionType+((null==(a=e.transitionTimeout)?void 0:a.toString())??"0");case"ON_MEDIA_HIT":return e.interactionType+((null==(o=e.mediaHitTime)?void 0:o.toString())??"0");default:return e.interactionType}}function h(e,t){return Object.keys(e).length>1?function(e){let t=[],r=new Map;for(let t of e){let e=_(t.event);r.has(e)||r.set(e,[]);let n=r.get(e);n&&n.push(t)}for(let[e,n]of r)n&&n.length>0&&n[0].event&&t.push({key:e,event:n[0].event,interactions:n});return t}(t):function(e){let t=[];if(e.length>0&&e[0].event)for(let r of e)r.event&&t.push({key:_(r.event),event:r.event,interactions:[r]});return t}(t)}function g(){let e=(0,n.d4)(A);return h((0,n.d4)(u.Xt),e)}function f(){let e=(0,n.d4)(C);return h((0,n.d4)(u.Xt),e)}function E(){let e=(0,n.d4)(A),t=new Set((0,n.d4)(N));return e.some(e=>{let r=e.id&&e.sourceNodeID?l.d({nodeID:e.sourceNodeID,interactionID:e.id}):void 0;return r&&t.has(r)})?m.J.NORMAL:m.J.INHERITED_INTERNAL}function y(e){let t=(0,n.d4)(A),r=(0,n.d4)(C),a=e===m.J.INHERITED_INTERNAL?r:t,o=(0,n.d4)(N),u=new Set(o),_=new Set,h=[];a.forEach((e,t)=>{let r=e.id&&e.sourceNodeID?l.d({nodeID:e.sourceNodeID,interactionID:e.id}):void 0;r&&u.has(r)&&(_.add(t),h.push(e))});let g=h.map(e=>{var t;return null==(t=e.actions)?void 0:t.length}).some(e=>{var t;return e!==(null==(t=h[0].actions)?void 0:t.length)}),E=(0===h.length?[]:h[0].actions||[]).map(e=>({...e}));if(!g)for(var y=0;y<h.length;y++){let e=h[y].actions||[];for(var I=0;I<e.length;I++){let t=E[I],r=e[I];for(let e in r)t[e]?v(r,t,e)||(t[e]=d.oV):t[e]=r[e]}}let O=n=>(function o(l){let s=function(...o){let[s,u]=o,h=!1,g=[],f=[];for(let e in s)(0,d.gl)(D[e])?(h=!0,g.push(e)):f.push(e);let{changes:E,eventChanges:y,actionChanges:b,interactionChanges:v}=function(e){let t={},r={},n={},i={};for(let a in e)S.has(a)?n[a]=e[a]:T.has(a)?r[a]=e[a]:w.has(a)?i[a]=e[a]:t[a]=e[a];return{changes:t,eventChanges:r,actionChanges:n,interactionChanges:i}}(s),I=[];a.forEach((e,t)=>{if(_.has(t)){let t={...e.event,...y},r=[],i=e.actions||[];for(let e=0;e<i.length;e++)if(e===n){if(l.length>1){let{newPrototypeAction:t}=function(e,t,r){if(t.length>2&&e.conditionalActions){let a=e.conditionalActions,o=e.conditionalActions,l=t[1],s=o[l];var n={condition:s.condition,actions:[]},i=[];let c=s.actions?s.actions:[];for(let e=0;e<c.length;e++)e===t[2]?i.push({...c[e],...r}):i.push({...c[e]});n.actions=i,a[l]=n,e.conditionalActions=a}return{newPrototypeAction:e}}(i[e],l,b);r[e]=t}else r.push({...i[e],...b})}else r.push({...i[e]});n>=r.length&&r.push({...b}),I.push({...e,...v,event:t,actions:r})}else I.push(e)}),(0,i.sx)("prototype_update_selection_properties",{mixedUpdate:h,mixedUpdatedProperties:g,nonMixedUpdatedProperties:f,num_connector:_.size,category:e}),e===m.J.NORMAL?I=[...I,...r]:e===m.J.INHERITED_INTERNAL&&(I=[...t,...I]),E.prototypeInteractions=I,c.Y5.updateSelectionProperties(E,{shouldCommit:(null==u?void 0:u.shouldCommit)||p.zk.YES,overwrite:null==u?void 0:u.overwrite})};return s.appendActionIndex=function(e){return o([...l,e])},s})([n]),L=e=>e&&null!=e.actions?e.actions[0]:null,R=e=>{let t=L(e);if(null==t)return s.dI(e.sourceNodeID);let r=s.dI(t.transitionNodeID);return r===s.AD||null===r?s.dI(e.sourceNodeID):r},P=(e,t)=>{var r;if(!e.actions||(null==(r=e.actions)?void 0:r.length)===0||0===t.length)return null;if(!(t.length>2))return e.actions[t[0]];{let r=e.actions.length>t[0]?e.actions[t[0]]:null;if(r&&r.conditionalActions){let e=r.conditionalActions.length>t[1]?r.conditionalActions[t[1]]:null;if(e&&e.actions)return e.actions.length>t[2]?e.actions[t[2]]:null}}},k=(e,t)=>{if(null==t||void 0===t)return s.dI(e.sourceNodeID);let r=s.dI(t.transitionNodeID);return r===s.AD||null===r?s.dI(e.sourceNodeID):r},D=function(e){let t={},r={};for(let n of e){if(!n||!n.event)continue;for(let e in n.event)t[e]?b(n.event,t,e)||(t[e]=d.oV):t[e]=n.event[e];let e=n.actions&&{...n.actions[0]};if(e)for(let t in e)r[t]?v(e,r,t)||(r[t]=d.oV):r[t]=e[t]}return{...t,...r}}(h),M=function(e){let t={},r=[{}];for(let i of e){if(!i||!i.event)continue;for(let e in i.event)t[e]?b(i.event,t,e)||(t[e]=d.oV):t[e]=i.event[e];if(!i.actions)continue;let e=i.actions;var n=0;for(let t of e){for(let e in t){n>r.length-1&&r.push({});let i=r[n];i[e]?v(t,i,e)||(i[e]=d.oV):i[e]=t[e]}n++}}return{interactionEvent:t,interactionActions:r}}(h),x=new Set(o.map(e=>{let t=l.s(e);return t?s.dI(t.nodeID):""}).filter(e=>""!==e)),F=a.filter(e=>e.sourceNodeID&&x.has(s.dI(e.sourceNodeID)));var U=[...F];let B=f();if(B.length>0)for(var y=0;y<B.length;y++){let e=B[y];for(var H=0;H<e.interactions.length;H++){let t=e.interactions[H];U.find(e=>e.id===t.id)||U.push(t)}}return{makeUpdateSelectionPropertiesForActionIndex:O,updateSelectionProperties:O(0),makeUpdateMultipleDestinationNodesForActionIndex:n=>(function n(i){let o=function(n,o,l){let d={},u=[];a.forEach(e=>{let t=P(e,i),r=k(e,t);if(t&&r&&-1!==Object.keys(n).indexOf(r)&&s.sH(n[r])){let c=s.sH(n[r]);if(c){if(!e.actions)return;var a=[];let r=i[0];if(t){if(i.length>2){let t=e.actions[r],n=i[1];if(t.conditionalActions){let r=t.conditionalActions[n],s=i[2],d=t.conditionalActions;var o={condition:t.conditionalActions[n].condition,actions:[]};if(r.actions){let u={...r.actions[s],transitionNodeID:c};var l=[...r.actions];l.splice(s,1,u),o.actions=l,d[n]=o,t.conditionalActions=d,(a=[...e.actions]).splice(i[0],1,t)}}}else{let t={...e.actions[i[0]],transitionNodeID:c};(a=[...e.actions]).splice(i[0],1,t)}u.push({...e,actions:a})}}}else u.push(e)}),e===m.J.NORMAL?u=[...u,...r]:e===m.J.INHERITED_INTERNAL&&(u=[...t,...u]),d.prototypeInteractions=u,c.Y5.updateSelectionProperties(d,{shouldCommit:o,overwrite:l})};return o.appendActionIndex=function(e){return n([...i,e])},o.updateMultipleDestinationNodes=function(e,t,r){return o},o})([n]),updateMultipleDestinationNodes:(n,i,o)=>{let l={},d=[];a.forEach(e=>{let t=R(e);if(t&&-1!==Object.keys(n).indexOf(t)&&s.sH(n[t])){let r=s.sH(n[t]);if(r){if(!e.actions)return;let t=e.actions.findIndex(e=>"INTERNAL_NODE"===e.connectionType&&"SWAP_STATE"===e.navigationType);if(-1!==t){let n={...e.actions[t],transitionNodeID:r},i=[...e.actions];i.splice(t,1,n),d.push({...e,actions:i})}}}else d.push(e)}),e===m.J.NORMAL?d=[...d,...r]:e===m.J.INHERITED_INTERNAL&&(d=[...t,...d]),l.prototypeInteractions=d,c.Y5.updateSelectionProperties(l,{shouldCommit:i,overwrite:o})},detailPropsMultipleActions:M,detailProps:D,interactionsOnSelectedNode:F,interactionsOnSelectedNodesAndComponents:U,selectedInteractions:h,mergedActions:E,differentLengthActions:g,selectedNoodleIds:o}}function b(e,t,r){if("keyTrigger"===r){let n=e[r],i=(0,d._W)(t[r],void 0);return(0,a.lu)((null==n?void 0:n.keyCodes)||[],(null==i?void 0:i.keyCodes)||[])&&(null==n?void 0:n.triggerDevice)===(null==i?void 0:i.triggerDevice)}return e[r]===t[r]}function v(e,t,r){switch(r){case"transitionNodeID":let n=e[r],i=(0,d._W)(t[r],void 0);return s.aI(n,i);case"targetVariable":let a=e[r],l=t[r];if(!a&&!l)return!0;if(a&&l){if("id"in a&&"id"in l)return a.id===l.id;if("nodeFieldAlias"in a&&"nodeFieldAlias"in l)return a.nodeFieldAlias===l.nodeFieldAlias}return!1;case"overlayRelativePosition":let c=e[r],u=(0,d._W)(t[r],void 0);return(null==c?void 0:c.x)===(null==u?void 0:u.x)&&(null==c?void 0:c.y)===(null==u?void 0:u.y);case"easingType":let p=e[r],m=(0,d._W)(t[r],void 0);if("CUSTOM_CUBIC"!==p||"CUSTOM_CUBIC"!==m)return p===m;return I((0,d._W)(e.easingFunction,void 0),(0,d._W)(t.easingFunction,void 0));case"easingFunction":return I(e[r],(0,d._W)(t[r],void 0));case"extraScrollOffset":let _=e[r],h=(0,d._W)(t[r],void 0);return(null==_?void 0:_.x)===(null==h?void 0:h.x)&&(null==_?void 0:_.y)===(null==h?void 0:h.y);case"targetVariableData":case"conditionalActions":return(0,o.c2)(e[r],t[r]);default:return e[r]===t[r]}}function I(e,t){if(e===t)return!0;if(void 0===e||void 0===t||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}let T=new Set(["interactionType","interactionMaintained","interactionDuration","keyTrigger","transitionTimeout","mediaHitTime"]),S=new Set(["transitionNodeID","transitionType","transitionDuration","easingType","easingFunction","transitionShouldSmartAnimate","connectionType","connectionURL","targetVariable","targetVariableData","navigationType","transitionPreserveScroll","transitionResetVideoPosition","openUrlInNewTab","extraScrollOffset","mediaAction","mediaSkipToTime","mediaSkipByAmount","conditions","conditionalActions","transitionResetScrollPosition","transitionResetInteractiveComponents","targetVariableSetID","targetVariableModeID","targetVariableSetKey"]),w=new Set(["stateManagementVersion"]);function A(e){return e.mirror.selectionProperties.prototypeInteractions||[]}function C(e){return e.mirror.selectionProperties.prototypeInheritedInternalInteractions||[]}function N(e){return e.mirror.appModel.selectedInteractions}},122255:(e,t,r)=>{"use strict";r.d(t,{F9:()=>B,Z0:()=>j});var n=r(411855),i=r(935283),a=r(153234),o=r(347082),l=r(572206),s=r(987918),c=r(939863),d=r(293017),u=r(259927),p=r(101505),m=r(672517),_=r(226055),h=r(356390),g=r(617453),f=r(843495),E=r(848661),y=r(94500),b=r(143678),v=r(509453),I=r(746806),T=r(390487),S=r(832637),w=r(856088),A=r(136261),C=r(811555),N=r(438371),O=r(386560),L=r(937853),R=r(7959),P=r(756103),k=r(641160),D=r(105020),M=r(548183),x=r(854547),F=r(654784),U=r(351731);function B(e){let{videoMediaLoop:t,videoAutoplay:r,videoMuted:n,numVideosSelected:a}=e;return(0,i.B1)(t),(0,i.B1)(r),(0,i.B1)(n),(0,i.B1)(a),{autoplay:r,muted:n,mediaLoop:t,numVideosSelected:a}}function H(){return n.createElement(S.u,{idForTests:"create-connection-hint",title:(0,c.t)("proto.onboarding.creating_a_connection"),userFlag:"dismissed_create_connection_hint",icon_DEPRECATED:x.A,iconFallback:F.A,hintText:(0,c.t)("proto.onboarding.select_a_frame_or_object_hint")})}function V(){return n.createElement(S.u,{idForTests:"delete-connection-hint",title:(0,c.t)("proto.onboarding.removing_a_connection"),userFlag:"dismissed_delete_connection_hint",icon_DEPRECATED:D.A,iconFallback:M.A,hintText:(0,c.t)("proto.onboarding.to_delete_a_connection_click_and_drag_on_either_end")})}function G(){return n.createElement(S.u,{idForTests:"play-button-hint",title:(0,c.t)("proto.onboarding.running_your_prototype"),userFlag:"dismissed_play_button_hint",icon_DEPRECATED:U.A,hintText:(0,c.t)("proto.onboarding.use_the_play_button_hint")})}function W({dismissedCreateConnectionHint:e,dismissedDeleteConnectionHint:t,dismissedPlayButtonHint:r,numTransitionsOnCurrentPage:i}){let a=0===i&&!e,o=0!==i&&!t,l=!r,s=n.useMemo(()=>a?p.c.CREATING_A_CONNECTION:o?p.c.REMOVING_A_CONNECTION:l?p.c.RUNNING_YOUR_PROTOTYPE:null,[a,o,l]);return s?n.createElement(m.fu,{name:"Prototype Onboarding Hint Panel V1",properties:{trackingDescriptor:s}},n.createElement(R.Zk,null,n.createElement("div",null,a&&n.createElement(H,null),o&&n.createElement(V,null),l&&n.createElement(G,null)))):null}function K(e){let{bigNudgeAmount:t,smallNudgeAmount:r}=(0,g.sT)(),i=(0,_.GS)();return n.createElement(Y,{...e,bigNudgeAmount:t,smallNudgeAmount:r,useUI3:i})}class Y extends n.PureComponent{constructor(){super(...arguments),this.onClickShowPrototypeSettings=()=>{this.props.dispatch((0,y._P)({name:"Show Prototype Settings Clicked"})),f.wr()}}renderOnboardingPanel(){let e=!!this.props.userFlags.dismissed_create_connection_hint,t=!!this.props.userFlags.dismissed_delete_connection_hint,r=!!this.props.userFlags.dismissed_play_button_hint,i=this.props.selectionProperties.numTransitionsOnCurrentPage;return n.createElement(W,{dismissedCreateConnectionHint:e,dismissedDeleteConnectionHint:t,dismissedPlayButtonHint:r,numTransitionsOnCurrentPage:i})}renderPrototypeSettingsPanel(){return n.createElement(o.p,{name:"show_prototype_settings_panel"},n.createElement(R.Zk,null,n.createElement(v.z,{onClick:this.onClickShowPrototypeSettings,recordingKey:a.Pt(this.props,"prototypeSettingsButton")},n.createElement(c.Tx,{id:"proto.menu.show_prototype_settings"}))))}renderDevicePanel(){(0,i.KF)((0,E.hS)(this.props.selectionProperties.prototypeDevice),"should not have mixed device selection");let e=(0,y.Qx)(this.props.selectionProperties.prototypeDevice);return n.createElement(A.L,{key:"device-panel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,prototypeBackgroundColor:this.props.selectionProperties.prototypeBackgroundColor,prototypeDevice:e,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:"devicePanel",useUI3:this.props.useUI3,pickerShown:this.props.pickerShown})}render(){var e,t,r,i;let o=!(0,E.hS)(this.props.selectionProperties.transitionNodeID)||s.fn((0,E.E7)(this.props.selectionProperties.transitionNodeID)),p=(null==(e=this.props.selectionProperties)?void 0:e.numSelected)??!1,m=!!this.props.selectionProperties.numVideosSelected,_=this.props.selectionProperties.isInstanceSelected||this.props.selectionProperties.isInstanceSublayerSelected,g=(0,y.Zd)()||this.props.selectionProperties.prototypeStartingPointsInfo&&this.props.selectionProperties.prototypeStartingPointsInfo.length>0,f=!o&&!(0,y.Zd)(),b=this.props.selectionProperties.isValidPrototypingSourceSelected??!0;if(!p)return n.createElement("div",{className:(0,y.Zd)()?k.Pd:void 0},(0,y.Zd)()&&g&&n.createElement(C.A,null),this.renderDevicePanel(),!this.props.useUI3&&n.createElement(w.$,{recordingKey:a.Pt(this.props,"backgroundPanel"),prototypeBackgroundColor:this.props.selectionProperties.prototypeBackgroundColor,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch}),!(0,y.Zd)()&&g&&n.createElement(C.A,null),f&&this.renderOnboardingPanel(),n.createElement(T.Mw,{panelName:T.ON.PROTOTYPE}));{let e=n.createElement(P.ag,{dropdownShown:this.props.dropdownShown,scrollDirection:this.props.selectionProperties.scrollDirection??"NONE",showScrollWarning:this.props.selectionProperties.showWontScrollWarning??!1,disableOverflowBehaviorItem:!!_,recordingKey:a.Pt(this.props,"scrollBehaviorPanel"),updateSelectionProperties:h.Y5.updateSelectionProperties});return n.createElement("div",{className:(0,y.Zd)()?k.Pd:void 0},this.props.selectionProperties.isTopLevelFrameAndValidPrototypeSourceSelected&&n.createElement(O.A,{recordingKey:a.Pt(this.props,"startingPointPanel")}),!(0,y.Zd)()&&b&&n.createElement(N.y7,null),(0,y.Zd)()?(null==(t=this.props.pickerShown)?void 0:t.id)===u.AO&&n.createElement(I.vx,{title:(0,c.t)("proto.scroll_panel.scroll_behavior_title"),headerSize:"small",initialPosition:new l.Mi(null==(r=this.props.pickerShown)?void 0:r.initialX,null==(i=this.props.pickerShown)?void 0:i.initialY),recordingKey:"scroll-behavior-modal-panel",onClose:()=>{this.props.dispatch(d.XE())},dataTestId:"scroll-behavior-modal-panel"},n.createElement(R.Id,null,e)):e,m&&!(0,y.Zd)()&&n.createElement(L.A,{updateSelectionProperties:h.Y5.updateSelectionProperties,dispatch:this.props.dispatch,videoPlayback:B(this.props.selectionProperties)}),!(0,y.Zd)()&&this.renderPrototypeSettingsPanel(),f&&this.renderOnboardingPanel(),n.createElement(T.Mw,{panelName:T.ON.PROTOTYPE}))}}}Y.displayName="PrototypePanel";let j=(0,y.Zd)()?K:(0,m.kp)(K,b.e0.PROTOTYPE_PANEL)},394781:(e,t,r)=>{"use strict";let n;r.d(t,{PR:()=>l,XO:()=>n,zZ:()=>a});var i=r(987918);let a=new class{constructor(){this.upgradedInteractions=new Set}getGUIDString(e){return i.dI(e)??i.dI(i.Hr)}recordInteractionUpgraded(e,t){return this.upgradedInteractions.add(`${this.getGUIDString(e)},${this.getGUIDString(t)}`)}hasInteractionBeenUpgraded(e,t){return this.upgradedInteractions.has(`${this.getGUIDString(e)},${this.getGUIDString(t)}`)}haveInteractionsBeenUpgraded(e){for(let t of e)if(!this.hasInteractionBeenUpgraded(t.id,t.sourceNodeID))return!1;return!0}haveAnyInteractionsBeenUpgraded(e){for(let t of e)if(1===t.stateManagementVersion&&this.hasInteractionBeenUpgraded(t.id,t.sourceNodeID))return!0;return!1}clearData(){this.upgradedInteractions=new Set}};class o{recordInteractionUpgraded(e,t){a.recordInteractionUpgraded(i.sH(e),i.sH(t))}}function l(){n=new o}},7959:(e,t,r)=>{"use strict";r.d(t,{$4:()=>T,Id:()=>f,JU:()=>C,K0:()=>h.K0,Me:()=>h.Me,U8:()=>I,UZ:()=>N,YW:()=>h.YW,Zk:()=>E,fI:()=>y,hl:()=>b,jT:()=>w,ks:()=>A,rp:()=>O,xw:()=>v});var n=r(411855),i=r(629019),a=r.n(i),o=r(153234),l=r(522739),s=r(659838),c=r(574176),d=r(283942),u=r(498606),p=r(697652),m=r(333483),_=r(733982),h=r(227795);let g=(e,t)=>({...e,className:`${t} ${e.className||""}`});function f(e){return n.createElement(l.D8,{...g(e,m.a2),"data-non-interactive":!0})}class E extends o.o6{render(){return n.createElement(l.D8,{...g(this.props,"propertiesPanel"),"data-non-interactive":!0})}}E.displayName="Panel";class y extends o.o6{render(){let e;let{selected:t,selectedSecondary:r,heightMultiplier:i,...a}=this.props,o=r?m.kR:t?m.CZ:null;return e=2===i?m.X0:1.25===i?m.ht:1.5===i?m.LE:m.l$,o&&(e+=" "+o),n.createElement(l.D8,{...g(a,e),"data-non-interactive":!0})}}function b(e){return n.createElement(l.D8,{...g(e,m.Zz),"data-non-interactive":!0})}function v(e){let{doNotReserveSpaceForChevron:t,faded:r,extended:i,innerRef:a,isPanelBodyCollapsedAtom:o,...s}=e,c=m.Dn;e.faded&&(c=m.Tz),e.extended&&(c=m.iY),o&&(c=c+" "+m.bW);let d=g(s,c);return n.createElement(l.D8,{...d,forwardedRef:a},!t&&n.createElement(p.r2,{isPanelBodyCollapsedAtom:o||null}),e.children)}function I(e){let t=g(e,m.co);return delete t.title,delete t.dataTooltipContentKey,delete t.dataTooltipTimeoutDelay,n.createElement(l.D8,{...e,"data-non-interactive":!0},n.createElement("div",{className:m.n1},e.title),n.createElement(c.B,{className:m.zU,svg:_.A,"data-tooltip-type":u.Ib.SPECIAL,"data-tooltip":e.dataTooltipContentKey,"data-tooltip-timeout-delay":e.dataTooltipTimeoutDelay}))}function T({...e}){return n.createElement("div",{...g(e,m.DS),dir:"auto"})}function S({noLeftBorder:e,squareRightBorder:t,noBorderOnFocus:r,noPlaceholderLine:n,softDisabled:i,className:o,...l}){return e&&(o+=` ${m.Z4}`),t&&(o+=` ${m.O1}`),r||(o+=` ${m.PQ}`),n&&(o+=` ${m.LJ}`),i&&(o+=` ${m.EA}`),Object.assign(l,{className:a()(m._Z,o)})}y.displayName="Row";let w=n.forwardRef(function(e,t){let r=S(e);return n.createElement(l.u2,{autoComplete:"false",spellCheck:!1,forwardedRef:t,...r})});class A extends n.PureComponent{constructor(){super(...arguments),this.onKeyDown=e=>{!(0,d.jr)(e,d.W0.NO)&&this.props.onKeyDown&&this.props.onKeyDown(e)}}render(){let e=S(this.props);return n.createElement(s.L,{"data-testid":this.props.dataTestId,type:"text",spellCheck:!1,...e,onKeyDown:this.onKeyDown,ref:e.innerRef})}}function C({disabled:e,...t}){return n.createElement("label",{...g(t,e?m.wh:m.Pf),dir:"auto"})}function N(e){return n.createElement("label",{...g(e,m.wh)})}A.displayName="TextInput";let O=n.forwardRef((e,t)=>{let{className:r,...i}=S(e);return n.createElement(l.D8,{...i,className:a()(r,m.PB),forwardedRef:t,tabIndex:0})})},544403:(e,t,r)=>{"use strict";r.d(t,{l:()=>u,w:()=>d});var n=r(411855),i=r(829816),a=r(243742),o=r(629019),l=r.n(o),s=r(711117),c=r(373935);let d=(0,n.forwardRef)(function({size:e,defaultSize:t,animation:r,disableResizing:i,unsetSizeWhenDisabled:a,onResize:o,side:l,children:c,...d},u){let m=(0,n.useRef)(0),_=(0,n.useRef)(0),h="left"===l?-1:1,g=n.createElement(n.Fragment,null,i?null:n.createElement(p,{side:l,onDragStart:()=>{_.current=e,m.current||(m.current=e)},onDrag:e=>{let t="bottom"===l?e.delta.y:e.delta.x;o(_.current+t*h)},onDoubleClick:()=>{o(t??m.current)}}),c),f=i&&a?void 0:e,E="left"===l||"right"===l?f:void 0,y="bottom"===l?f:void 0;return r?n.createElement(s.P.div,{style:{width:E,height:y},...d,ref:u,...r},g):n.createElement("div",{style:{width:E,height:y},...d,ref:u},g)}),u=(0,n.forwardRef)(function(e,t){let{version:r}=(0,a.DP)(),{size:i,defaultSize:o,animation:l,disableResizing:s,onResize:c,side:u,children:p,...m}=e;return"ui2"===r?n.createElement("div",{...m,ref:t},p):n.createElement(d,{...e,ref:t})});function p({side:e,onDoubleClick:t,onDragStart:r,onDrag:a}){let[,o]=(0,i.i)({onDragStart:r,onDrag:a});return n.createElement("button",{...o({className:l()("bottom"===e?c.verticalHandle:c.horizontalHandle,c[e]),onDoubleClick:t})})}},232531:(e,t,r)=>{"use strict";r.d(t,{S:()=>C,O:()=>A});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(62935),s=r(153234),c=r(852800),d=r(617453),u=r(555074),p=r(869156),m=r(318812),_=r(279702),h=r(498606),g=r(218973),f=r(533573),E=r(282263),y=r(683859),b=r(564092),v=r(574176),I=r(538697),T=r(221537),S=r(614851),w=r(5068);function A(e,t){let[r,i,a]=(0,E.JV)([e],t),{clearVariableConsumption:o,consumedVariable:l}=(0,b.u3)([e]),s=(0,b.lC)(e),c=(0,f.MH)(l),d=(0,b.Ek)(e),u=!!s&&(0,f.eF)(s);return{memoizedProviderValue:(0,n.useMemo)(()=>({showBindingUI:i,isShowingBindingUI:r,onVariableSelected:a,boundVariableId:c,isBoundVariableDeleted:u,mismatchedValue:d}),[c,u,r,d,a,i]),clearVariableConsumption:o,showBindingUI:i,boundVariable:s,consumedVariable:l}}function C({id:e,value:t,scrubStartValue:r,tooltipText:a,showTooltipOnTargetOnly:f,variableField:E,outerClassName:b,onChange:C,inputRef:N,inputClassName:O,iconId:L,icon:R,fallbackIcon:P,ui3Icon:k,disabled:D,scrubbingDisabled:M,noLeftBorder:x,squareRightBorder:F,onFocus:U,onBlur:B,onMouseEnter:H,onMouseEnterNonPropagating:V,onMouseLeave:G,onScrubBegin:W,onScrubEnd:K,onScrubClick:Y,onKeyDown:j,onKeyUp:z,onPaste:$,onNudge:Z,recordingKey:q,inputTestId:J,allowEmpty:X,placeholder:Q,options:ee,label:et,mixedMathHandler:er,onMixedMathNudge:en,formatter:ei,dropdownWidth:ea,omitValueFromDropdown:eo,shouldFocus:el,onboardingKey:es,openBelowTarget:ec,dropdownAlignment:ed,shiftVariableOptionToAlign:eu}){let ep=(0,m.U)(),{smallNudgeAmount:em,bigNudgeAmount:e_}=(0,d.sT)(),eh=(0,i.wA)(),eg=(0,n.useRef)(!1),ef=(0,l.M)(N),eE=(0,p.SG)([E]).data??[],{memoizedProviderValue:ey,showBindingUI:eb,consumedVariable:ev}=A(E,c.rXF.FLOAT),eI=s.rf(s.Pt(q,"scrub"),"click",()=>{null==Y||Y()}),eT=function(e,t,r){let i=[...e];if(t){let e=n.createElement(v.B,{className:S.vP,svg:w.default});i.push(n.createElement(I.sK,{key:"divider"})),i.push(n.createElement(I.c$,{iconToReplaceCheck:e,key:"apply_variable",value:T.y8,additionalStylesClassName:r?S.wO:void 0}))}return i}(ee,eE.length>0,eu),eS=(0,u.kl)("WIDTH"===E?"stackHorizontalSize":"stackVerticalSize")===c.mKm.FIXED||!["WIDTH","HEIGHT"].includes(E);return n.createElement(y.p.Provider,{value:eS?ey:void 0},n.createElement(g.fl,{className:o()("stack_apply_variable_combobox--scrubbableDropdown--IPQh4",b),id:e,formatter:ei,isTokenizable:!0,forwardedRef:ef,inputClassName:o()(O),value:t,placeholder:Q,scrubStartValue:r,wheelMultiplier:em,scrubMultiplier:em,smallNudgeAmount:em,bigNudgeAmount:e_,onValueChange:(e,t=_.zk.YES)=>{e===T.y8?eb(ef.current):C(e,t)},mixedMathHandler:er,onMixedMathNudge:en,disabled:D,scrubbingDisabled:M,dispatch:eh,noBorderOnFocus:!0,noLeftBorder:x,squareRightBorder:F,"data-tooltip-type":h.Ib.TEXT,"data-tooltip":a,"data-tooltip-proxy-element-id":ev?L:void 0,"data-tooltip-show-on-target-only":f||void 0,"data-tooltip-max-width":200,onFocus:U,onBlur:B,onMouseEnterNonPropagating:V,onMouseEnter:H,onMouseLeave:G,onScrubBegin:e=>{eg.current=!0,null==W||W(e)},onScrubEnd:e=>{eg.current=!1,null==K||K(e)},onScrubClick:Y?eI:void 0,onKeyDown:j,onKeyUp:z,onPaste:$,onNudge:Z,recordingKey:q,dataTestId:J,dropdownShown:ep,svg:R,fallbackSvg:P,ui3Icon:k,label:et,allowEmpty:X,unNamespacedInputRecordingKey:!0,dropdownWidth:ea??130,omitValueFromDropdown:eo,autoFocus:el,noPlaceholderLine:!0,onboardingKey:es,openBelowTarget:ec,chevronClassName:"stack_apply_variable_combobox--chevron--T0dhq combo_box--smallChevronSizing--uySoZ",dropdownAlignment:ed,disableSelectFocus:!0},eT))}},876618:(e,t,r)=>{"use strict";r.d(t,{sR:()=>g,uV:()=>E,wm:()=>f});var n=r(411855),i=r(188507),a=r(939683),o=r(622422),l=r(966712),s=r(848661),c=r(555074),d=r(29680),u=r(601607),p=r(234945),m=r(279702),_=r(32067),h=r(221537);function g(){let[e,t]=(0,c.lJ)("stackCounterAlignItems"),r=(0,a.am)(),o=(0,i.d4)(p.qd),l=y(e,"CENTER",e=>!e||(0,s.gl)(e)||"BASELINE"===e);return(0,n.useCallback)((e,n)=>{t(e?"BASELINE":l),r(e?"Enable baseline alignment":"Disable baseline alignment",{source:n,nodeIds:o})},[t,r,l,o])}function f(){let e=(0,_.Tv)(),t=(0,u.Fk)((e,t)=>t?t.map(t=>{let r=e.get(t);return r?r.childrenGuids.length:0}):null,e);return{selection:e??[],selectedChildCount:t}}function E(){let[e,t]=(0,c.lJ)("stackPrimaryAlignItems"),r=(0,a.am)(),{selection:i,selectedChildCount:o}=f(),d=y(e,"CENTER",e=>!e||(0,s.gl)(e)||(0,h.rO)(e));return(0,n.useCallback)((e,n,a=m.zk.YES)=>{let c=(0,l.kc)().ce_stack_justify_space_between?"SPACE_BETWEEN":"SPACE_EVENLY",u=e?c:d;t(u,a),r("Autolayout spacing mode changed",{mode:(0,s.gl)(u)?"MIXED":u,source:n,selectedGuids:i,selectedCount:i.length,selectionChildCount:o})},[t,r,d,i,o])}function y(e,t,r){let i=(0,d.KH)(),a=(0,o.$)(i),l=(0,n.useRef)(void 0);return r(e)?(a&&(l.current=t),l.current):(l.current=e,e)}},221537:(e,t,r)=>{"use strict";r.d(t,{Bn:()=>ex,C8:()=>en,Fp:()=>ej,HF:()=>ed,Jj:()=>ef,Kl:()=>eB,Md:()=>eV,Nu:()=>eZ,QG:()=>eR,VY:()=>ev,Wr:()=>eS,Wx:()=>ez,XO:()=>ei,Xb:()=>ea,Y9:()=>e$,Zg:()=>eN,aj:()=>ec,bd:()=>eg,e2:()=>er,f3:()=>eA,hl:()=>ew,jQ:()=>eb,jw:()=>ek,jz:()=>eI,lL:()=>e_,lW:()=>ey,mw:()=>eL,mx:()=>et,p3:()=>eU,qi:()=>eK,rO:()=>eo,s$:()=>eu,tH:()=>eH,vC:()=>eM,wH:()=>el,wf:()=>eG,y8:()=>eD,zg:()=>eF,zn:()=>eP});var n=r(411855),i=r(188507),a=r(340970),o=r(876579),l=r(698558),s=r(174496),c=r(532123),d=r(447501),u=r(902470),p=r(126049),m=r(935283),_=r(939683),h=r(44948),g=r(794272),f=r(966712),E=r(374626),y=r(38580),b=r(646240),v=r(939863),I=r(259927),T=r(973149),S=r(83909),w=r(356390),A=r(852800),C=r(662531),N=r(617453),O=r(292404),L=r(848661),R=r(113058),P=r(555074),k=r(155300),D=r(301462),M=r(234945),x=r(279702),F=r(303380),U=r(649295),B=r(969756),H=r(528822),V=r(355593),G=r(312077),W=r(792594),K=r(804264),Y=r(127027),j=r(904459),z=r(715682),$=r(904595),Z=r(396347),q=r(182586),J=r(464397),X=r(317392),Q=r(183919),ee=r(255032),et=(e=>(e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT",e[e.HORIZONTAL=4]="HORIZONTAL",e[e.VERTICAL=5]="VERTICAL",e[e.ALL=6]="ALL",e))(et||{});let er={0:Q.A,1:X.A,2:Z.A,3:J.A,5:ee.A,4:q.A,6:$.A},en={0:a.z,1:o.M,2:l.v,3:s.R,5:c.K,4:d.y,6:u.z},ei={minWidth:[K.A,Y.A],maxWidth:[H.A,V.A],minHeight:[G.A,W.A],maxHeight:[U.A,B.A],removeWidthLimit:[z.A,z.A],removeHeightLimit:[j.A,j.A]};function ea(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?ei.minWidth:ei.maxWidth;case"height":return"min"===e.minOrMax?ei.minHeight:ei.maxHeight}}function eo(e){return"SPACE_EVENLY"===e||"SPACE_BETWEEN"===e}function el(e){switch(e){case 0:return(0,v.t)("fullscreen.properties_panel.stack_panel.top_padding");case 1:return(0,v.t)("fullscreen.properties_panel.stack_panel.right_padding");case 2:return(0,v.t)("fullscreen.properties_panel.stack_panel.bottom_padding");case 3:return(0,v.t)("fullscreen.properties_panel.stack_panel.left_padding");case 4:return(0,v.t)("fullscreen.properties_panel.stack_panel.horizontal_padding");case 5:return(0,v.t)("fullscreen.properties_panel.stack_panel.vertical_padding");case 6:return(0,v.t)("fullscreen.properties_panel.stack_panel.all_paddings")}}function es(e,t){let r=1===e.length,n=e[0],i=n,a=n;switch(t){case 0:return{stackVerticalPadding:n};case 1:return{stackPaddingRight:i};case 2:return{stackPaddingBottom:a};case 3:return{stackHorizontalPadding:n};case 4:return r||(i=e[1]),{stackHorizontalPadding:n,stackPaddingRight:i};case 5:return r||(a=e[1]),{stackVerticalPadding:n,stackPaddingBottom:a};case 6:return function(e){let t=e[0],r=e[0],n=e[0],i=e[0];return e.length>=2&&(r=e[1],i=e[1]),e.length>=3&&(n=e[2]),e.length>=4&&(i=e[3]),{stackHorizontalPadding:i,stackVerticalPadding:t,stackPaddingRight:r,stackPaddingBottom:n}}(e)}}function ec(){return(0,p.A)((0,n.useCallback)((e,t)=>{null==e?A.Qa7.setHoverStackLayoutSize(A.mKm.FIXED,A._0v.X,!1):A.Qa7.setHoverStackLayoutSize(e,t,!0)},[]),100)}function ed(e){let t=function(){let e=(0,i.d4)(M.qd),{stackPaddingBottom:t,stackVerticalPadding:r,stackPaddingRight:a,stackHorizontalPadding:o}=(0,i.d4)(e=>e.mirror.selectionProperties);return(0,n.useCallback)((n,i)=>{D.FZ.trackFromFullscreen("Autolayout Padding Changed",{side:et[n],top:r,bottom:t,left:o,right:a,nodeIds:e,...i})},[r,t,o,a,e])}(),r=(0,i.d4)(t=>{let r=function(e,t){switch(e){case 0:return[t.stackVerticalPadding];case 1:return[t.stackPaddingRight];case 2:return[t.stackPaddingBottom];case 3:return[t.stackHorizontalPadding];case 4:return[t.stackHorizontalPadding,t.stackPaddingRight];case 5:return[t.stackVerticalPadding,t.stackPaddingBottom];case 6:return[t.stackVerticalPadding,t.stackPaddingRight,t.stackPaddingBottom,t.stackHorizontalPadding]}}(e,t.mirror.selectionProperties);return(0,L.ZX)(r)});return[(0,h.zN)(r),(0,n.useCallback)((r,n,i)=>{n&&i&&t(e,i);let a=es(r,e);w.Y5.updateSelectionProperties(a,{shouldCommit:n})},[e,t])]}function eu(e,t){e===A.QeU.SPACE_BETWEEN?C.l7.user("set-stack-distribution-mode",()=>{A.Qa7.setDistributeOnSelectedStacks()}):e===A.QeU.PACKED&&t!==A.QeU.PACKED&&w.Y5.updateSelectionProperties({stackPrimaryAlignItems:"MIN"},{shouldCommit:x.zk.NO})}function ep(e,t,r){return e!==t&&(S.wt.reportAnyPropertyChange([r]),!0)}class em extends R.M{getValueForNode(e){return eo(e.stackPrimaryAlignItems)?null:e.stackSpacing}setValueForNode(e,t){!eo(e.stackPrimaryAlignItems)&&ep(e.stackSpacing,t,"stackSpacing")&&C.l7.user("set-stack-spacing",()=>{e.stackSpacing=t})}}let e_=new em;class eh extends R.M{getValueForNode(e){return e.stackCounterSpacing}setValueForNode(e,t){ep(e.stackCounterSpacing,t,"stackCounterSizing")&&C.l7.user("set-stack-counter-spacing",()=>{e.stackSpacing=t})}}let eg=new eh;function ef(e){let t=(e,t)=>{eE("stackTopPadding","stackVerticalPadding",e,t),eE("stackBottomPadding","stackPaddingBottom",e,t),eE("stackLeftPadding","stackHorizontalPadding",e,t),eE("stackRightPadding","stackPaddingRight",e,t)};class r extends R.M{getValueForNode(t){return function(e,t){switch(t){case 0:return[e.stackTopPadding];case 1:return[e.stackRightPadding];case 2:return[e.stackBottomPadding];case 3:return[e.stackLeftPadding];case 4:return[e.stackLeftPadding,e.stackRightPadding];case 5:return[e.stackTopPadding,e.stackBottomPadding];case 6:return[e.stackTopPadding,e.stackRightPadding,e.stackBottomPadding,e.stackLeftPadding]}}(t,e)}setValueForNode(r,n){C.l7.user("set-stack-padding",()=>{t(r,es(n,e))})}}return new r}function eE(e,t,r,n){let i=n[t];null!=i&&ep(r[e],i,t)&&(r[e]=i)}function ey(e){let{min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a,allowUnformatted:o,allowEmpty:l}=e;return(0,n.useMemo)(()=>new eC({min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a,allowUnformatted:o,allowEmpty:l}),[l,o,a,r,t,i])}function eb(e,t){let r=eS(),{smallNudgeAmount:i,bigNudgeAmount:a}=(0,N.sT)();return(0,n.useMemo)(()=>new eN({min:(0,f.kc)().editor_zero_width_input?I.ak:0,smallNudgeAmount:i,bigNudgeAmount:a,onEvaluateExpressionError:t},r,e),[a,i,r,t,e])}function ev(e){let{smallNudgeAmount:t,bigNudgeAmount:r}=(0,N.sT)();return(0,n.useMemo)(()=>new eO({min:"max"===e.minOrMax?1:0,smallNudgeAmount:t,bigNudgeAmount:r},e),[t,r,e])}function eI(e,t,r,n){let i;i="width"===n?new O.M(t,e.size.y):new O.M(e.size.x,t);let a=A.Qa7.sizeClampedToMinAndMaxIfFixed(i,e.guid);return(0,k.o)(a.x,i.x,.1)&&(0,k.o)(a.y,i.y,.1)?t:r}function eT(e,t,r){(0,F.fv)().forEach(n=>{let i=eI(n,e,t,r);i!==("width"===r?n.size.x:n.size.y)&&A.Egt.setNodeTransformProperties(n.guid,{[r]:i,sizeChangeIsAutomatic:!0})})}function eS(){let e=(0,_.am)(),[t,r]=(0,P.lJ)("minHeight"),[i,a]=(0,P.lJ)("maxHeight"),[o,l]=(0,P.lJ)("minWidth"),[s,c]=(0,P.lJ)("maxWidth"),d=(0,P.kl)("width"),u=(0,P.kl)("height"),p=(0,P.kl)("stackMode"),m="VERTICAL"===p?"vertical":"HORIZONTAL"===p?"horizontal":void 0,h=(0,n.useMemo)(()=>({minOrMax:"min",widthOrHeight:"height",minOrMaxWidthOrHeight:"minHeight",enabled:null!=t,value:t,set:(n,i,a)=>{e("Min max updated",{minOrMax:"min",axis:"height",oldValue:null==t?void 0:t.toString(),newValue:null==n?void 0:n.toString(),currentValueInAxis:null==u?void 0:u.toString(),stackMode:m}),r(n,i),a&&eT(a,n,"height")}}),[t,r,m,u,e]),g=(0,n.useMemo)(()=>({minOrMax:"max",widthOrHeight:"height",minOrMaxWidthOrHeight:"maxHeight",enabled:null!=i,value:i,set:(t,r,n)=>{e("Min max updated",{minOrMax:"max",axis:"height",oldValue:null==i?void 0:i.toString(),newValue:null==t?void 0:t.toString(),currentValueInAxis:null==u?void 0:u.toString(),stackMode:m}),a(t,r),n&&eT(n,t,"height")}}),[i,a,m,u,e]),f=(0,n.useMemo)(()=>({minOrMax:"min",widthOrHeight:"width",minOrMaxWidthOrHeight:"minWidth",enabled:null!=o,value:o,set:(t,r,n)=>{e("Min max updated",{minOrMax:"min",axis:"width",oldValue:null==o?void 0:o.toString(),newValue:null==t?void 0:t.toString(),currentValueInAxis:null==d?void 0:d.toString(),stackMode:m}),l(t,r),n&&eT(n,t,"width")}}),[o,l,m,d,e]),E=(0,n.useMemo)(()=>({minOrMax:"max",widthOrHeight:"width",minOrMaxWidthOrHeight:"maxWidth",enabled:null!=s,value:s,set:(t,r,n)=>{e("Min max updated",{minOrMax:"max",axis:"width",oldValue:null==s?void 0:s.toString(),newValue:null==t?void 0:t.toString(),currentValueInAxis:null==d?void 0:d.toString(),stackMode:m}),c(t,r),n&&eT(n,t,"width")}}),[s,c,m,d,e]);return(0,n.useMemo)(()=>({width:{min:f,max:E,actual:{value:d}},height:{min:h,max:g,actual:{value:u}}}),[g,E,h,f,d,u])}function ew(){let{minWidth:e,maxWidth:t,minHeight:r,maxHeight:i}=(0,g.R)(e=>e.mirror.selectionProperties);return(0,n.useMemo)(()=>({width:{min:null!=e,max:null!=t},height:{min:null!=r,max:null!=i}}),[e,t,r,i])}function eA(){return(0,i.d4)(e=>{let{stackMode:t,nodesAreAllInsideStacks:r,isInstanceSublayerSelected:n}=e.mirror.selectionProperties;return(null!=t&&"NONE"!==(0,L.E7)(t)||!!r)&&!n})}class eC extends T.PZ{format(e){return null==e?"":"number"!=typeof e&&e!==L.Q8?e===eD?(0,v.t)("fullscreen.properties_panel.apply_variable_ellipses"):((0,m.KF)(!0,"Unknown stack spacing dropdown option: '"+e+"'"),""):super.format(e)}}class eN extends T.Lk{constructor(e,t,r){super(e),this.minmax=t,this.activeDimension=r}format(e){if(null==e)return"";if("number"!=typeof e){let t=e=>(0,L.gl)(e)?(0,v.t)("fullscreen.mixed"):null==e?"":e.toFixed(0);switch(e){case A.mKm[A.mKm.FILL_CONTAINER]:return(0,v.t)("fullscreen.properties_panel.stack_panel.al.fill");case A.mKm[A.mKm.FIXED]:return"width"===this.activeDimension?(0,v.t)("fullscreen.properties_panel.stack_panel.al.fixed.width",{value:t(this.minmax.width.actual.value)}):(0,v.t)("fullscreen.properties_panel.stack_panel.al.fixed.height",{value:t(this.minmax.height.actual.value)});case A.mKm[A.mKm.HUG_CONTENT]:return(0,v.t)("fullscreen.properties_panel.stack_panel.al.hug");case eL:return this.minmax.width.min.enabled?(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_value",{value:t(this.minmax.width.min.value)}):(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_add");case eR:return this.minmax.width.max.enabled?(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_value",{value:t(this.minmax.width.max.value)}):(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_add");case eP:return this.minmax.height.min.enabled?(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_value",{value:t(this.minmax.height.min.value)}):(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_add");case ek:return this.minmax.height.max.enabled?(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_value",{value:t(this.minmax.height.max.value)}):(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_add");case eD:return(0,v.t)("fullscreen.properties_panel.apply_variable_ellipses");case eF:return(0,v.t)("fullscreen.properties_panel.stack_panel.remove_min_and_max");default:return(0,m.KF)(!0,"Unknown width/height dropdown option: '"+e+"'"),""}}return super.format(e)}}class eO extends T.Lk{constructor(e,t){super(e),this.minmaxApi=t}format(e){if(null==e)return"";if("number"!=typeof e)switch(e){case eM:return this.getCurrentSizeString();case ex:return this.getRemoveLimitString();case eD:return(0,v.t)("fullscreen.properties_panel.apply_variable_ellipses");default:return(0,m.KF)(!0,"Unknown width/height dropdown option: '"+e+"'"),""}return super.format(e)}getCurrentSizeString(){return"width"===this.minmaxApi.widthOrHeight?(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.apply_current_width"):(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.apply_current_height")}getRemoveLimitString(){switch(this.minmaxApi.widthOrHeight){case"width":return"min"===this.minmaxApi.minOrMax?(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.remove_min_width"):(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.remove_max_width");case"height":return"min"===this.minmaxApi.minOrMax?(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.remove_min_height"):(0,v.t)("fullscreen.properties_panel.stack_panel.minmax.remove_max_height")}}}let eL="minWidth",eR="maxWidth",eP="minHeight",ek="maxHeight",eD="apply-variable",eM="set-to-current-size",ex="remove-size-limit",eF="remove-min-and-max",eU={width:{min:!1,max:!1},height:{min:!1,max:!1}},eB=(0,E.M2)((0,y.eU)(eU));function eH(e){return e.width.min||e.width.max||e.height.min||e.height.max}let eV=(0,E.M2)((0,y.eU)(null));function eG(e){let t=ew(),[r,i]=(0,E.fp)(eB),a=(0,b.Xr)(eV);return(0,n.useCallback)(()=>{a(null);let n=r[e];if(n.min||n.max){i({...r,[e]:eU[e]});return}i({...r,[e]:t[e]})},[t,r,a,i,e])}let eW=(0,E.M2)((0,y.eU)(null));var eK=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.YES_ONLY_MIN_MAX=2]="YES_ONLY_MIN_MAX",e))(eK||{});let eY={count:0};function ej(){let[e,t]=(0,E.fp)(eW),r=(0,p.A)((0,n.useCallback)((t,r,n,i)=>{if(i!==eY.count)return;let a=!(null==e?void 0:e.minMaxOnly)||"minmax"===t;A.Qa7.setMinMaxVisuals(r||(1!==n&&a?(null==e?void 0:e.visuals)??null:r))},[e]),100);return(0,n.useCallback)((n,i,a=0)=>{let o=(null==e?void 0:e.minMaxOnly)&&"minmax"===n;if(0!==a||!o){let e=0!==a||o?i:null;t(e?{visuals:e,minMaxOnly:2===a}:null)}r(n,i,a,++eY.count)},[r,null==e?void 0:e.minMaxOnly,t])}function ez(){let e=ej();return(0,n.useCallback)((t,r)=>{r?A.Qa7.setMinMaxVisuals(null):e("other",null),A.Qa7.setFocusStackPanelInput(t,r)},[e])}function e$(){let e=ej();return(0,n.useCallback)((t,r)=>{r?A.Qa7.setMinMaxVisuals(null):e("other",null),A.Qa7.setHoverStackPanelInput(t,r)},[e])}function eZ(e,t,...r){let i=(0,h.zN)(r);(0,n.useEffect)(()=>{if(!e)return;let r=e=>{i.some(t=>{var r;return null==(r=t.current)?void 0:r.contains(e.target)})||t()};return document.addEventListener("mousedown",r,!0),document.addEventListener("pointerdown",r,!0),document.addEventListener("keydown",r,!0),()=>{document.removeEventListener("mousedown",r,!0),document.removeEventListener("pointerdown",r,!0),document.removeEventListener("keydown",r,!0)}},[t,e,i])}},12519:(e,t,r)=>{"use strict";r.d(t,{KI:()=>F,gm:()=>x,pW:()=>M});var n=r(411855),i=r(188507),a=r(140001),o=r(648839),l=r(629019),s=r.n(l),c=r(574176),d=r(939863),u=r(356390),p=r(852800),m=r(662531),_=r(617453),h=r(848661),g=r(809511),f=r(555074),E=r(301462),y=r(861233),b=r(279702),v=r(498606),I=r(218973),T=r(760066),S=r(952675),w=r(538697),A=r(552901),C=r(893606),N=r(232531),O=r(876618),L=r(221537),R=r(769502),P=r(560185),k=r(30562);let D="STACK_SPACING";function M({OriginalComponent:e,...t}){return n.createElement(e,{...t,inputClassName:R.be,svgClassName:R.Kk})}function x({OriginalComponent:e,...t}){return n.createElement(e,{...t,outerClassName:R.kk,pillsContainerClassName:R.j1})}function F({focusOnMount:e,source:t,onCanvasUI:r,...l}){let F=(0,i.wA)(),{smallNudgeAmount:U,bigNudgeAmount:B}=(0,_.sT)(),H=(0,f.kl)("stackDistributionMode"),V=(0,f.kl)("stackMode"),[G,W]=(0,f.lJ)("stackSpacing"),{selection:K,selectedChildCount:Y}=(0,O.wm)(),j=(0,C.R)(),z=(0,n.useRef)(!1),$=(0,n.useRef)(null);n.useEffect(()=>{var t,r;e&&(null==(t=$.current)||t.focus(),null==(r=$.current)||r.select())},[e]);let Z="HORIZONTAL"===V||(0,h.gl)(V)?P.A:k.A,q=`stack-spacing-input-icon-${V}`,J=j&&("HORIZONTAL"===V||(0,h.gl)(V))?n.createElement(a.E,null):n.createElement(o.W,null),{boundVariable:X,consumedVariable:Q}=(0,N.O)(D,p.rXF.FLOAT);(0,n.useEffect)(()=>{X&&H===g.QeU.SPACE_BETWEEN&&(0,L.s$)(g.QeU.PACKED,H)},[X,H]);let ee=(0,L.lW)({bigNudgeAmount:B,smallNudgeAmount:U}),et=(0,h.gl)(H)?h.oV:H===g.QeU.SPACE_BETWEEN?h.Q8:G,er=H===g.QeU.SPACE_BETWEEN,en="HORIZONTAL"===V?j?(0,d.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalGap"):(0,d.t)("fullscreen.properties_panel.stack_panel.gap_items_horizontal"):"VERTICAL"===V?j?(0,d.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalGap"):(0,d.t)("fullscreen.properties_panel.stack_panel.gap_items_vertical"):j?(0,d.t)("fullscreen.properties_panel.section_autoLayout.tooltip_mixedGap"):(0,d.t)("fullscreen.properties_panel.stack_panel.gap_items"),{clearVariableConsumption:ei}=(0,N.O)(D,p.rXF.FLOAT),ea=(e,r)=>{r&&(E.FZ.trackFromFullscreen("Autolayout Spacing Changed",{source:t,input:z.current?"scrub":"textfield",spacing:(0,h.SX)(e)?"auto":e,numericSpacing:(0,h.SX)(e)?void 0:e,autoSpacing:(0,h.SX)(e),selectedGuids:K,selectedCount:K.length,selectionChildCount:Y}),p.glU.temporarilyHideOverlay(p.hJs.SELECTION)),"number"==typeof e?m.l7.user("set-stack-spacing",()=>{(0,L.s$)(g.QeU.PACKED,H),W(e,b.zk.NO)}):m.l7.user("unset-stack-spacing",()=>{ei(),p.Qa7.unsyncStackCounterSpacing(),(0,L.s$)(g.QeU.SPACE_BETWEEN,H)}),r===b.zk.YES&&u.Y5.triggerAction("commit")},eo=[n.createElement(w.c$,{key:"value",value:(0,y.E)(G)?G:B}),n.createElement(w.c$,{key:"auto",value:h.Q8})];return r?n.createElement(T.sA,{recordingKey:l.recordingKey,inputClassName:l.outerClassName,fields:[D],currentFieldValue:"number"==typeof et?et:void 0,resolvedType:p.rXF.FLOAT,disableEntryPoint:r},n.createElement(I.Se,{noBorderOnHover:!0,isTokenizable:!0,forwardedRef:$,inputClassName:s()(R.hF,l.inputClassName),value:et,wheelMultiplier:U,scrubMultiplier:U,smallNudgeAmount:U,bigNudgeAmount:B,onValueChange:ea,mixedMathHandler:L.lL,scrubbingDisabled:er,dispatch:F,noBorderOnFocus:l.noBorderOnFocus,noLeftBorder:l.noLeftBorder,squareRightBorder:l.squareRightBorder,"data-tooltip-type":v.Ib.TEXT,"data-tooltip":en,"data-tooltip-show-on-target-only":j||void 0,"data-tooltip-proxy-element-id":Q?q:void 0,"data-tooltip-max-width":200,onFocus:l.onFocus,onBlur:l.onBlur,onMouseEnter:l.onMouseEnter,onMouseLeave:l.onMouseLeave,onScrubBegin:e=>{var t;z.current=!0,null==(t=l.onScrubBegin)||t.call(l,e)},onScrubEnd:e=>{var t;z.current=!1,null==(t=l.onScrubEnd)||t.call(l,e)},onKeyDown:l.onKeyDown,onPaste:l.onPaste,onNudge:l.onNudge,recordingKey:l.recordingKey,dataTestId:l.inputTestId},n.createElement(c.B,{className:s()(R.QK,l.svgClassName),svg:Z,"data-tooltip-type":Q?v.Ib.TEXT:void 0,"data-tooltip":Q?en:void 0,"data-tooltip-max-width":Q?200:void 0,id:Q?q:void 0}))):n.createElement(S.ow,{value:{select:j?M:void 0,inputComponent:j?x:void 0}},n.createElement(w.tV,{value:{chevron:j?A.c9:void 0}},n.createElement(N.S,{id:"stackSpacing",options:eo,inputRef:$,inputClassName:l.inputClassName,outerClassName:s()(l.outerClassName,{[R.Sz]:j}),value:et,formatter:ee,variableField:D,mixedMathHandler:L.lL,onChange:ea,scrubbingDisabled:er,noBorderOnFocus:l.noBorderOnFocus,noLeftBorder:l.noLeftBorder,squareRightBorder:l.squareRightBorder,tooltipText:en,showTooltipOnTargetOnly:j,iconId:q,"data-tooltip-max-width":200,onFocus:l.onFocus,onBlur:l.onBlur,onMouseEnter:l.onMouseEnter,onMouseLeave:l.onMouseLeave,onScrubBegin:l.onScrubBegin,onScrubEnd:l.onScrubEnd,onKeyDown:l.onKeyDown,onPaste:l.onPaste,onNudge:l.onNudge,recordingKey:l.recordingKey,inputTestId:l.inputTestId,icon:Z,ui3Icon:J,source:t,onboardingKey:l.onboardingKey,shiftVariableOptionToAlign:!0,dropdownWidth:140})))}},45148:(e,t,r)=>{"use strict";r.d(t,{EP:()=>f.A,aV:()=>y,aq:()=>E,oE:()=>b});var n=r(411855),i=r(498481),a=r(629019),o=r.n(a),l=r(794272),s=r(946689),c=r(46481),d=r(939863),u=r(852800),p=r(843495),m=r(893606),_=r(690710),h=r(731262),g=r(975687),f=r(87171);function E({flushWithContainer:e}){let t=function(){let{allStates:e,selectedStates:t,stateGroupError:r,stateGroupSelectionMode:i}=(0,l.R)(e=>({allStates:(0,_.ow)(e)??[],selectedStates:(0,_._f)(e)??[],stateGroupError:(0,_.Hf)(e),stateGroupSelectionMode:(0,_.i$)(e)}));if(i===u.iCO.STATE_GROUP){let t=()=>{let t=(0,h.pg)(e,r).map(e=>e.symbol.node_id);p.wr(),p.Dh(t)};switch(r){case u.bwI.PARSE_ERROR:return n.createElement(n.Fragment,null,n.createElement(d.Tx,{id:"design_systems.states_panel.some_layers_have_invalid_names"}),n.createElement("div",null,n.createElement("strong",null,n.createElement(d.Tx,{id:"design_systems.states_panel.prop_value_prop_value"}))),n.createElement(s.N_,{onClick:t,className:g.pV,trusted:!0},n.createElement(d.Tx,{id:"design_systems.states_panel.select_invalid_variants"})));case u.bwI.DUPLICATE_STATE_ERROR:return n.createElement(n.Fragment,null,n.createElement(d.Tx,{id:"design_systems.states_panel.some_variants_have_the_same_property_values_applied"}),n.createElement(s.N_,{onClick:t,className:g.pV,trusted:!0},n.createElement(d.Tx,{id:"design_systems.states_panel.select_conflicting_variants"})));case u.bwI.MISSING_PROPERTIES_ERROR:return n.createElement(n.Fragment,null,n.createElement(d.Tx,{id:"design_systems.states_panel.some_variants_are_missing_properties"}),n.createElement(s.N_,{onClick:t,className:g.pV,trusted:!0},n.createElement(d.Tx,{id:"design_systems.states_panel.select_invalid_variants"})));case u.bwI.TOO_MANY_STATES_ERROR:return n.createElement(n.Fragment,null,n.createElement(d.Tx,{id:"design_systems.states_panel.components_with_more_than_1000_variants_may_experience_performance_issues"}))}}else if(i===u.iCO.STATE||i===u.iCO.STATE_INSTANCE)switch((0,h.A)(t)){case u.bwI.PARSE_ERROR:return n.createElement(n.Fragment,null,n.createElement(d.Tx,{id:"design_systems.states_panel.layer_has_invalid_name",layers:t.length}),n.createElement("div",null,n.createElement("strong",null,n.createElement(d.Tx,{id:"design_systems.states_panel.prop_value_prop_value"}))));case u.bwI.DUPLICATE_STATE_ERROR:return n.createElement(n.Fragment,null,n.createElement(d.Tx,{id:"design_systems.states_panel.the_properties_and_values_of_variant_are_conflicting",variants:t.length}));case u.bwI.MISSING_PROPERTIES_ERROR:return n.createElement(n.Fragment,null,n.createElement(d.Tx,{id:"design_systems.states_panel.variants_are_missing_one_or_more_properties",variants:t.length}))}return null}();return null===t?null:n.createElement(y,{flushWithContainer:e},t)}function y({title:e,children:t,flushWithContainer:r,appendedClassName:a}){let l=(0,m.R)();return n.createElement("div",{className:o()(r?g.jO:g.lG,a)},n.createElement("div",{className:g.Z7},n.createElement(c.U,{className:g.Ev,svg:f.A},n.createElement(i.r,null)),!l&&e),n.createElement("div",{className:g.t},l&&!!e&&n.createElement("div",{className:g.Qb},e),t))}function b({title:e,children:t,closeButton:r}){let a=(0,m.R)();return n.createElement("div",{className:g.Vf},n.createElement("div",{className:g.Ii},n.createElement("div",{className:g.Z7},n.createElement(c.U,{className:g.Ev,svg:f.A},n.createElement(i.r,null)),!a&&e),r),n.createElement("div",{className:g.t},a&&!!e&&n.createElement("div",{className:g.Qb},e),t))}},690710:(e,t,r)=>{"use strict";r.d(t,{D1:()=>g,Hf:()=>u,NA:()=>p,OC:()=>m,_7:()=>s,_f:()=>h,i$:()=>c,ow:()=>_});var n=r(97395),i=r(852800),a=r(335682),o=r(731262);function l(e){return e.mirror.selectionProperties.stateGroupSelectionInfo}function s(e){let t=l(e);return(null==t?void 0:t.mode)===i.iCO.NON_STATE_COMPONENTS?null==t?void 0:t.numSelectedNonStateComponents:0}function c(e){var t;return null==(t=l(e))?void 0:t.mode}function d(e){let t=l(e);return t&&t.mode!==i.iCO.NONE&&t.mode!==i.iCO.NON_STATE_COMPONENTS?t.stateGroupModel:null}let u=(0,n.Zm)(function(e){var t;return null==(t=d(e))?void 0:t.stateGroupError});function p(e){let t=l(e);return t&&t.mode!==i.iCO.NONE&&t.mode!==i.iCO.NON_STATE_COMPONENTS?t.stateGroup:null}let m=(0,n.Zm)(function(e){var t;return null==(t=d(e))?void 0:t.propertySortOrder}),_=(0,n.P8)([l,a.sS,a.XJ],(e,t,r)=>e&&e.mode!==i.iCO.NONE&&e.mode!==i.iCO.NON_STATE_COMPONENTS?e.allStates.map(e=>(0,o.dq)(e,t,r)):null),h=(0,n.P8)([l,a.sS,a.XJ],(e,t,r)=>e&&(e.mode===i.iCO.STATE||e.mode===i.iCO.STATE_INSTANCE||e.mode===i.iCO.STATE_OR_STATE_INSTANCE_SUBLAYER)?e.selectedStates.map(e=>(0,o.dq)(e,t,r)):null),g=(0,n.P8)([h,c,d],(e,t,r)=>e&&r&&(t===i.iCO.STATE||t===i.iCO.STATE_INSTANCE||t===i.iCO.STATE_OR_STATE_INSTANCE_SUBLAYER)?(0,o.m4)(e,r.propertySortOrder||[]):null)},731262:(e,t,r)=>{"use strict";r.d(t,{A:()=>f,Jj:()=>y,NE:()=>N,O4:()=>O,QV:()=>v,bk:()=>S,cP:()=>A,dq:()=>w,kz:()=>b,m4:()=>g,pg:()=>E,q1:()=>T,uL:()=>C,xJ:()=>_,zb:()=>I,zh:()=>h});var n=r(411855);r(188507);var i=r(302245),a=r(776250),o=r(75224),l=r(83909),s=r(356390),c=r(852800),d=r(843495),u=r(848661),p=r(335682),m=r(416095);let _="\u2014";function h(e,t){return Object.keys(e).sort((e,r)=>t.indexOf(e)-t.indexOf(r)).map(t=>`${t}=${e[t]}`).join(", ")}function g(e,t,r){let n={};for(let i of e){if(void 0!==i.actionIndexPath&&void 0!==r&&i.actionIndexPath.some((e,t)=>e!==r[t]))continue;let{propertyValues:e}=i.stateInfo;if(e)for(let r of t)r in n&&n[r]!==e[r]?n[r]=n[r]&&e[r]?u.oV:"":n[r]=e[r]||""}return n}function f(e){let t=c.bwI.NONE;for(let r of e)r.stateInfo.stateError&&r.stateInfo.stateError>t&&(t=r.stateInfo.stateError);return t}function E(e,t){return e.filter(e=>e.stateInfo.stateError===t)}function y(e,t,r){let n=[],i=0;for(let e of r){let r=e.propertyValues;if(!r)continue;let a=0;for(let e of t){if(e.value!==r[e.property])break;a++}a>i?(i=a,n=[e]):a===i&&n.push(e)}if(0===i)return null;let a=null,o=1/0;for(let t of n){let r=function(e,t){let r=0;for(let n in e)e[n]!==u.oV&&e[n]!==t[n]&&r++;return r}(e,t.propertyValues);r<o&&(o=r,a=t)}return a}function b(e,t,r){let n=[],i=0;for(let e of r){let r=e.stateInfo.propertyValues;if(!r)continue;let a=0;for(let e of t){if(e.value!==r[e.property])break;a++}a>i?(i=a,n=[e]):a===i&&n.push(e)}if(0===i)return null;let a=null,o=1/0;for(let t of n){let r=function(e,t){let r=0;for(let n in e)e[n]!==u.oV&&e[n]!==t[n]&&r++;return r}(e,t.stateInfo.propertyValues);r<o&&(o=r,a=t)}return a}function v(e){return e.replace(/[,=]/g,"").trim()}function I(e,t,r){let n=c.glU.getStateGroupAnalyticsInfo(t);(0,a.sx)(e,{...n,...r||{}})}function T(e,t,r,n){if(""===(t=v(t))||e===t||-1===n.indexOf(e))return;let i=[...n];i[i.indexOf(e)]=t,r.forEach(r=>{let n=r.stateInfo.propertyValues;n&&(n={...n})[e]&&(n[t]=n[e],delete n[e],e!==t&&l.wt.reportEditAction("rename-property"),d.i(r.symbol.node_id,h(n,i)))}),s.Y5.commit()}function S(e,t,r,n){I("Deleting Property from Variant Component",n),t.forEach(t=>{let n=t.stateInfo.propertyValues;if(!n)return;for(let t of(n={...n},e))n[t]&&delete n[t];let i=h(n,r);""===i&&(i="Property 1=Default"),l.wt.reportEditAction("delete-prop"),d.i(t.symbol.node_id,i)}),s.Y5.commit()}function w(e,t,r){return{stateInfo:e.stateInfo,symbol:(0,m.i_)(null,null,e.symbol,t||"",r||(0,o.lt)("")),actionIndexPath:function(e){if(!e)return[];let t=e.match(/\{(.*?)\}/);return!t||t.length<2?[]:t[1].trim().split(",").map(e=>parseFloat(e.trim()))}(e.actionIndexPath)}}function A(e,t,r,n){var i;if(!e)return null;let a=e.mode;if(a===c.iCO.NONE)return null;if(a===c.iCO.NON_STATE_COMPONENTS)return{mode:a,numSelectedNonStateComponents:e.numSelectedNonStateComponents};let o=e.stateGroup,l=e.stateGroupModel,s=(null==(i=null==l?void 0:l.propertySortOrder)?void 0:i.length)===1,d=e.allStates.map(e=>w(e,t,r));if(a===c.iCO.STATE_GROUP)return{mode:a,stateGroup:o,stateGroupModel:l,allStates:d,modelIsOneDimensional:s};let u=e.selectedStates.map(e=>w(e,t,r)),p=g(u,l.propertySortOrder||[],n);return c.iCO.STATE,{mode:a,stateGroup:o,stateGroupModel:l,allStates:d,modelIsOneDimensional:s,selectedStates:u,selectedStatesPropertyValues:p}}n.createContext(null);let C=(0,i.Mz)([e=>e.mirror.selectionProperties.stateGroupSelectionInfo,p.sS,p.XJ],A),N=[["yes","no"],["true","false"],["on","off"]],O=N.reduce((e,t)=>e.concat(t),[])},376503:(e,t,r)=>{"use strict";r.d(t,{$6:()=>eX,EN:()=>eZ,Hd:()=>eK,NC:()=>ez,OH:()=>e$,SO:()=>ej,Th:()=>eJ,_2:()=>e4,mP:()=>eq,qR:()=>eV});var n=r(411855),i=r(188507),a=r(978783),o=r(921738),l=r(91408),s=r(153234),c=r(572206),d=r(46481),u=r(348425),p=r(505113),m=r(939863),_=r(293017),h=r(31043),g=r(297336),f=r(226055),E=r(356390),y=r(852800),b=r(848661),v=r(100197),I=r(279702),T=r(498606),S=r(218973),w=r(746806),A=r(205135),C=r(7959),N=r(410465),O=r(538697),L=r(860168),R=r(415979),P=r(106524),k=r(7479),D=r(313876),M=r(613887),x=r(568154),F=r(810381),U=r(410671),B=r(796476),H=r(625536),V=r(761285),G=r(430712),W=r(920003),K=r(110111),Y=r(134316),j=r(800467),z=r(234496),$=r(222396),Z=r(144983),q=r(237419),J=r(824356),X=r(316179),Q=r(900897),ee=r(260934),et=r(729920),er=r(161349),en=r(748839),ei=r(467172),ea=r(155450),eo=r(706449),el=r(204931),es=r(328176),ec=r(340598),ed=r(625819),eu=r(660984),ep=r(641594),em=r(773248),e_=r(710011),eh=r(98221),eg=r(15305),ef=r(822834),eE=r(494491),ey=r(554473),eb=r(866014),ev=r(448760),eI=r(256735),eT=r(595324),eS=r(511219),ew=r(123262),eA=r(151809),eC=r(20918),eN=r(606409),eO=r(292030),eL=r(41025),eR=r(240078);let eP=(0,l.hG)(L.hhC);class ek extends N.I{}class eD extends N.Y{}class eM extends O.l6{}class ex extends O.c${}class eF{constructor(){this.format=e=>{switch(e){case"LINE":return(0,m.t)("fullscreen.properties_panel.stroke_settings.solid");case"SIMPLE_DASH":return(0,m.t)("fullscreen.properties_panel.stroke_settings.simple_dash");case"CUSTOM_DASH":return(0,m.t)("fullscreen.properties_panel.stroke_settings.custom");default:return""}}}}function eU(e,t){switch(e){case"LINE":return"default"===t?eC.A:eN.A;case"SIMPLE_DASH":return"default"===t?ew.A:eA.A;default:return}}class eB extends N.I{}class eH extends N.Y{}function eV(e){return e.dashCap?n.createElement(eB,{className:e.className,property:e.dashCap,onChange:e.onChange,recordingKey:e.recordingKey},n.createElement(eH,{svg:K.A,fallbackSvg:Y.A,value:"NONE",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.none"),recordingKey:s.Pt(e,"NONE")}),n.createElement(eH,{svg:$.A,fallbackSvg:Z.A,value:"SQUARE",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.square"),recordingKey:s.Pt(e,"SQUARE")}),n.createElement(eH,{svg:j.A,fallbackSvg:z.A,value:"ROUND",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.round"),recordingKey:s.Pt(e,"ROUND")})):null}function eG(e){return e?(0,b.gl)(e)?b.oV:0===e.length?"LINE":2!==e.length?"CUSTOM_DASH":0===e[0]&&0===e[1]?"LINE":"SIMPLE_DASH":"LINE"}function eW(e){if(e){if((0,b.gl)(e))return b.oV;if(2===e.length)return e[0]}}function eK(e){if((0,b.gl)(e))return b.oV;switch(e){case"NONE":case"ROUND":case"SQUARE":return e;default:return}}function eY(e){let t=(0,i.wA)(),r=new eF,{strokePanelMode:l,maxStrokeWeight:c,dashPattern:u,connectorLineStyle:_}=e,[f,E]=n.useState(eG(u));n.useEffect(()=>{E(eG(u))},[u]);let[v,w]=n.useState(!0),[N,L]=n.useState(),P=eW(u),k=function(e){if(e){if((0,b.gl)(e))return b.oV;if(2===e.length)return e[1]}}(u),D=()=>{if(!u||(0,b.gl)(u)||2!==u.length)return;w(!0);let t=u[0];e.onChange({dashPattern:[t,t]})},M=n.useRef("NONE"),x=n.createRef(),F=n.createRef(),U=n.createRef();n.useEffect(()=>{var e,t,r,n;if("NONE"!==M.current){if("FOCUS_CURRENT_EVENT"===M.current)switch(f){case"SIMPLE_DASH":null==(e=F.current)||e.focus(),null==(t=F.current)||t.select();break;case"CUSTOM_DASH":null==(r=x.current)||r.focus(),null==(n=x.current)||n.select()}"FOCUS_NEXT_EVENT"===M.current?M.current="FOCUS_CURRENT_EVENT":M.current="NONE"}},[u,f,F,x]);let B=eK(e.dashCap),H=l===y.yTM.VERTEX||l===y.yTM.ENDPOINT,V=(0,i.d4)(e=>e.mirror.selectionProperties.numSelectedByType),G=(0,g.vx)(V,"CONNECTOR"),W=N??f;return n.createElement("div",{className:R.wO},G&&void 0!==_&&n.createElement(C.fI,null,n.createElement(C.JU,{className:G?R.Tm:R.Uk},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.path_style"})),n.createElement(ek,{className:R.rI,property:_,onChange:t=>{e.onChange({connectorLineStyle:t})},recordingKey:s.Pt(e,"pathStyle")},n.createElement(eD,{svg:eR.A,value:"STRAIGHT",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.straight"),recordingKey:s.Pt(e,"STRAIGHT")}),n.createElement(eD,{svg:eO.A,fallbackSvg:eL.A,value:"ELBOWED",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.elbowed"),recordingKey:s.Pt(e,"ELBOWED")}))),n.createElement(C.fI,null,n.createElement(C.JU,{className:H?R.VB:R._f},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.stroke_style"})),n.createElement(eM,{id:"line-style-select",className:R.au,property:f,formatter:r,onChange:(t,r=I.zk.YES)=>{M.current="FOCUS_NEXT_EVENT";let n=2*(c??1);switch(t){case"LINE":e.onChange({dashPattern:[]},r);break;case"SIMPLE_DASH":e.onChange({dashPattern:[n,n]},r);break;case"CUSTOM_DASH":e.onChange({dashPattern:[n,2*n,3*n,4*n]},r)}},dispatch:t,dropdownShown:e.dropdownShown,dropdownWidth:120,recordingKey:s.Pt(e,"strokeStyle"),svg:eU(f,"default"),fallbackSvg:eU(f,"fallback"),ui3Icon:"LINE"===f?n.createElement(a.t,null):"SIMPLE_DASH"===f?n.createElement(o.S,null):void 0,svgClassName:H?R.uX:R.eD,disabled:H,onPreview:e=>{L(e)},enablePreview:!0},n.createElement(ex,{additionalStylesClassName:R.Z,value:"LINE",recordingKey:s.Pt(e,"LINE")},n.createElement("span",{className:R.Z},n.createElement(d.U,{className:R.yW,svg:eC.A,fallbackSvg:eN.A},n.createElement(a.t,null)),n.createElement(p.o,{text:r.format("LINE")}))),n.createElement(ex,{value:"SIMPLE_DASH",recordingKey:s.Pt(e,"SIMPLE_DASH"),additionalStylesClassName:R.Z},n.createElement("span",{className:R.Z},n.createElement(d.U,{svg:ew.A,fallbackSvg:eA.A,className:R.yW},n.createElement(o.S,null)),n.createElement(p.o,{text:r.format("SIMPLE_DASH")}))),n.createElement(O.sK,null),n.createElement(ex,{value:"CUSTOM_DASH",recordingKey:s.Pt(e,"CUSTOM_DASH")}))),("SIMPLE_DASH"===W||W===b.oV)&&n.createElement(n.Fragment,null,n.createElement(C.fI,null,n.createElement(C.JU,{className:H?R.S_:R.bP},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.dash"})),n.createElement(S.$j,{className:R.T7,min:0,value:eW(u),onValueChange:t=>{let r;if(M.current="NONE",!u||(0,b.gl)(u)||2!==u.length)r=[t,t];else{let e=u[0],n=u[1];r=v&&e===n?[t,t]:[t,n]}e.onChange({dashPattern:r})},dispatch:t,smallNudgeAmount:1,bigNudgeAmount:10,recordingKey:s.Pt(e,"dash"),"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.stroke_settings.dash"),tooltipForScreenReadersOnly:!0,forwardedRef:F,disabled:H})),n.createElement(C.fI,null,n.createElement(C.JU,{className:H?R.qF:R.Jd},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.gap"})),n.createElement(S.$j,{className:R.rQ,min:0,value:void 0!==k&&(0,b.hS)(k)&&v&&P===k?void 0:k,placeholder:void 0!==k&&(0,b.hS)(k)&&v&&P===k?String(parseFloat(k.toFixed(2))):void 0,onValueChange:t=>{let r;M.current="NONE",w(!1),r=!u||(0,b.gl)(u)||2!==u.length?[t,t]:[u[0],t],e.onChange({dashPattern:r})},onBlur:e=>{var t;(null==(t=U.current)?void 0:t.value)===""&&D()},dispatch:t,smallNudgeAmount:1,bigNudgeAmount:10,recordingKey:s.Pt(e,"gap"),"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.stroke_settings.gap"),tooltipForScreenReadersOnly:!0,forwardedRef:U,disabled:H}))),"CUSTOM_DASH"===W&&n.createElement(C.fI,null,n.createElement(C.JU,{className:H?R.g5:R.Rm},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.dashes"})),n.createElement(A.nA,{className:R.Ng,forwardedRef:x,formatter:h.B,property:e.dashPattern,onChange:t=>{e.onChange({dashPattern:t})},placeholder:(0,m.t)("fullscreen.properties_panel.stroke_settings.dash_gap"),recordingKey:s.Pt(e,"dashes"),disabled:H})),(l===y.yTM.VECTOR||l===y.yTM.LINE)&&("SIMPLE_DASH"===W||"CUSTOM_DASH"===W)&&void 0!==B&&n.createElement(C.fI,null,n.createElement(C.JU,{className:R.$E},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.dash_cap"})),n.createElement(eV,{className:R.pl,dashCap:B,onChange:t=>{e.onChange({dashCap:t})},recordingKey:s.Pt(e,"dashCap")})))}eY.displayName="StrokeLineStyleSettings";class ej extends O.l6{}class ez extends O.c${}class e${constructor(){this.format=e=>{switch(e){case"NONE":return(0,m.t)("fullscreen.properties_panel.stroke_settings.none");case"ARROW_LINES":return(0,m.t)("fullscreen.properties_panel.stroke_settings.line_arrow");case"ARROW_EQUILATERAL":return(0,m.t)("fullscreen.properties_panel.stroke_settings.triangle_arrow");case"TRIANGLE_FILLED":return(0,m.t)("fullscreen.properties_panel.stroke_settings.reversed_triangle");case"CIRCLE_FILLED":return(0,m.t)("fullscreen.properties_panel.stroke_settings.circle_arrow");case"DIAMOND_FILLED":return(0,m.t)("fullscreen.properties_panel.stroke_settings.diamond_arrow");case"ROUND":return(0,m.t)("fullscreen.properties_panel.stroke_settings.round");case"SQUARE":return(0,m.t)("fullscreen.properties_panel.stroke_settings.square");case"HIGHLIGHT":case"WASHI_TAPE_1":case"WASHI_TAPE_2":case"WASHI_TAPE_3":case"WASHI_TAPE_4":case"WASHI_TAPE_5":case"WASHI_TAPE_6":return""}}}}let eZ={format(e){switch(e){case"NONE":return(0,m.t)("fullscreen.properties_panel.stroke_settings.none");case"ARROW_LINES":return(0,m.t)("fullscreen.properties_panel.section_stroke.dropdown_startEndPoint.value_line");case"ARROW_EQUILATERAL":return(0,m.t)("fullscreen.properties_panel.section_stroke.dropdown_startEndPoint.value_triangle");case"TRIANGLE_FILLED":return(0,m.t)("fullscreen.properties_panel.section_stroke.dropdown_startEndPoint.value_reversed");case"CIRCLE_FILLED":return(0,m.t)("fullscreen.properties_panel.section_stroke.dropdown_startEndPoint.value_circle");case"DIAMOND_FILLED":return(0,m.t)("fullscreen.properties_panel.section_stroke.dropdown_startEndPoint.value_diamond");case"ROUND":return(0,m.t)("fullscreen.properties_panel.stroke_settings.round");case"SQUARE":return(0,m.t)("fullscreen.properties_panel.stroke_settings.square");case"HIGHLIGHT":case"WASHI_TAPE_1":case"WASHI_TAPE_2":case"WASHI_TAPE_3":case"WASHI_TAPE_4":case"WASHI_TAPE_5":case"WASHI_TAPE_6":return""}}},eq=["NONE","ARROW_LINES","ARROW_EQUILATERAL","TRIANGLE_FILLED","CIRCLE_FILLED","DIAMOND_FILLED"],eJ=["ROUND","SQUARE"],eX=["NONE","ROUND","SQUARE"];function eQ(e,t,r){switch(e){case"NONE":default:return;case"ARROW_LINES":if(r)return t?ec.A:eo.A;return t?F.A:x.A;case"ARROW_EQUILATERAL":if(r)return t?ev.A:eE.A;return t?W.A:G.A;case"TRIANGLE_FILLED":if(r)return t?eh.A:ep.A;return t?B.A:U.A;case"DIAMOND_FILLED":if(r)return t?ea.A:er.A;return t?M.A:D.A;case"CIRCLE_FILLED":if(r)return t?et.A:X.A;return t?k.A:P.A;case"ROUND":return r?eg.A:H.A;case"SQUARE":return r?ef.A:V.A}}function e0(e,t){switch(e){case"NONE":return"default"===t?ed.A:eu.A;case"ARROW_LINES":return"default"===t?el.A:es.A;case"ARROW_EQUILATERAL":return"default"===t?ey.A:eb.A;case"TRIANGLE_FILLED":return"default"===t?em.A:e_.A;case"DIAMOND_FILLED":return"default"===t?en.A:ei.A;case"CIRCLE_FILLED":return"default"===t?Q.A:ee.A;case"ROUND":return q.A;default:return J.A}}function e1(e){let t=(0,i.wA)(),r=new e$,a=e.strokePanelMode===y.yTM.ENDPOINT,o=1===e.strokePanelTerminalPointCount||a;return n.createElement("div",{className:R.wO},n.createElement(C.fI,{"data-testid":"end-point-settings-row"},n.createElement(C.JU,{disabled:e.disabled,className:e.disabled?R.RR:R.mZ},o?(0,m.t)("fullscreen.properties_panel.stroke_settings.end_point"):(0,m.t)("fullscreen.properties_panel.stroke_settings.end_points")),n.createElement(ej,{id:"end-point-select",className:R.yc,property:e.endPoint,formatter:r,onChange:t=>{e.onChange({terminalCap:t}),e.onChange({strokeCap:t})},blurOnChange:!0,dispatch:t,dropdownShown:e.dropdownShown,dropdownWidth:200,recordingKey:e.recordingKey,svg:eQ(e.endPoint,!1,o),fallbackSvg:eQ(e.endPoint,!0,o),svgClassName:e.disabled?R.qv:R.O1,dropdownOverride:(0,b.gl)(e.endPoint)?void 0:"NONE"===e.endPoint?(0,m.t)("fullscreen.properties_panel.stroke_settings.none"):" ",disabled:e.disabled},eq.map(t=>n.createElement(ez,{key:t,value:t,recordingKey:s.Pt(e,t)},n.createElement("span",{className:R.Z6},n.createElement(u.t,{className:R.yW,svg:e0(t,"default"),fallbackSvg:e0(t,"fallback")}),n.createElement(p.o,{text:r.format(t)})))),n.createElement(O.sK,null),eJ.map(t=>n.createElement(ez,{key:t,value:t,recordingKey:s.Pt(e,t)},n.createElement("span",{className:R.Z6},n.createElement(u.t,{className:R.yW,svg:e0(t,"default"),fallbackSvg:e0(t,"fallback")}),n.createElement(p.o,{text:r.format(t)})))))))}e1.displayName="EndPointSettings";class e2 extends N.I{}class e3 extends N.Y{}function e5(e){let t=(0,i.wA)();return n.createElement("div",{className:R.wO},n.createElement(C.fI,null,n.createElement(C.JU,{className:e.disabled?R.u0:R.PF},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.join"}))," ",n.createElement(e2,{className:R.fj,property:e.disabled?void 0:e.strokeJoin,onChange:t=>{e.onChange({strokeJoin:t})},disabled:e.disabled,recordingKey:e.recordingKey},n.createElement(e3,{svg:eT.A,value:"MITER",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.miter"),recordingKey:s.Pt(e,"MITER")}),n.createElement(e3,{svg:eI.A,value:"BEVEL",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.bevel"),recordingKey:s.Pt(e,"BEVEL")}),n.createElement(e3,{svg:eS.A,value:"ROUND",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.round_join"),recordingKey:s.Pt(e,"ROUND")}))),!e.disabled&&"MITER"===e.strokeJoin&&n.createElement(C.fI,null,n.createElement(C.JU,{className:e.disabled?R.NW:R.kF},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.miter_angle"})),n.createElement(S.M4,{className:R.Cj,disabled:e.disabled||"MITER"!==e.strokeJoin,value:e.miterLimitAngle,onValueChange:t=>{e.onChange({miterLimitAngle:t})},recordingKey:s.Pt(e,"miterAngle"),tooltipForScreenReadersOnly:!0,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.stroke_settings.miter_angle"),dispatch:t})))}function e4(e){let t=(0,i.wA)(),r=(0,v.J2)(y.Ez5.propertiesPanelState().isVertexSelectionAndHasEndpoints),a=(0,f.GS)();if(!e.pickerShown)return null;let o=new c.Mi(e.pickerShown.initialX,e.pickerShown.initialY),{strokePanelMode:l,strokePanelTerminalPointCount:d,numSelectedByType:u,arcRadius:p,arcSweep:h}=e,g=l===y.yTM.ENDPOINT||l===y.yTM.VECTOR&&d>0||r,b=l!==y.yTM.PENCIL,I=l===y.yTM.VECTOR||l===y.yTM.VERTEX,T=l===y.yTM.VECTOR&&0===d,S=T&&u&&1===Object.keys(u).length&&u.ELLIPSE&&1===p&&0!==h,A=e.strokePanelMode===y.yTM.VECTOR&&"LINE"!==eG(e.dashPattern)&&e.terminalCap?e.terminalCap:e.strokeCap;return n.createElement(w.vx,{title:a?(0,m.t)("fullscreen.properties_panel.stroke_settings"):(0,m.t)("fullscreen.properties_panel.stroke_settings.advanced_stroke"),initialPosition:o,headerSize:"small",onClose:()=>{t(_.XE()),E.Y5.deselectProperty()},recordingKey:s.Pt(e,"modal"),initialWidth:eP},n.createElement(eY,{onChange:e.onChange,strokePanelMode:e.strokePanelMode,strokePanelTerminalPointCount:e.strokePanelTerminalPointCount,connectorLineStyle:e.connectorLineStyle,dashPattern:e.dashPattern,dashCap:e.dashCap,maxStrokeWeight:e.maxStrokeWeight,strokeCap:e.strokeCap,terminalCap:e.terminalCap,dropdownShown:e.dropdownShown,recordingKey:s.Pt(e.recordingKey,"lineStyle")}),g&&n.createElement(e1,{onChange:e.onChange,endPoint:A,dropdownShown:e.dropdownShown,strokePanelTerminalPointCount:e.strokePanelTerminalPointCount,disabled:T&&!S&&!r,recordingKey:s.Pt(e.recordingKey,"endPoint"),strokePanelMode:l}),b&&n.createElement(e5,{onChange:e.onChange,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,disabled:!I,recordingKey:s.Pt(e.recordingKey,"join")}))}e5.displayName="StrokeJoinAndMiterAngleSettings"},238093:(e,t,r)=>{"use strict";r.d(t,{A8:()=>E,OS:()=>h,WH:()=>v,bi:()=>b,dd:()=>f,f$:()=>T,yT:()=>I,zb:()=>g});var n=r(411855),i=r(188507),a=r(966712),o=r(515009),l=r(987918),s=r(852800),c=r(848661),d=r(29680),u=r(335682),p=r(622896),m=r(241691),_=r(173454);function h(e){return`styles-picker-${e}`}function g(e){return e.stylePickerShown.isShown&&e.stylePickerShown.id===h(e.inheritStyleKeyField)?e.stylePickerShown:null}function f(e){return e&&(0,l.fn)(e.guid)}function E(e){let t=(0,c.E7)(e);return t&&t!==o.n3.INVALID}function y({library:e,sceneGraph:t,inheritStyleKey:r,inheritStyleID:n}){let i=(0,c.E7)(r);if(!i)return null;let a=(0,c.E7)(n);if(!a)return null;let s=(0,l.dI)(a.guid),d=Object.values(e.local.styles).find(e=>e.node_id===s);if(d)return d.is_soft_deleted?null:d;let u=t.get(s);return u?{key:i,style_type:u.styleType,type:_.PW.STYLE,node_id:s,name:u.name,isLocal:!1,content_hash:u.styleVersionHash??void 0,userFacingVersion:(0,o.IA)(u.userFacingVersion),file_key:"",library_key:u.sourceLibraryKey}:null}function b({library:e,sceneGraph:t,inheritStyleKey:r,inheritStyleID:n}){if((0,a.kc)().ds_zombie_styles_fixes)return y({library:e,sceneGraph:t,inheritStyleID:n,inheritStyleKey:r});if(!E(r))return null;let i=(0,c.E7)(r);if(!i)return null;let o=Object.values(e.local.styles).find(e=>e.key===i);if(o&&!o.is_soft_deleted)return o;let l=(0,m.b)({library:e},i,(0,c.E7)(n));return(null==l?void 0:l.status)==="loaded"?l.data:null}function v(e,t,r){let o=(0,i.d4)(e=>e.library),l=(0,d.eY)(),s=(0,p.bO)(),c=(0,u.tS)(),m=y({library:o,sceneGraph:l,inheritStyleKey:e,inheritStyleID:t}),_=n.useMemo(()=>{if(!e)return null;let n=b({library:o,inheritStyleKey:e,inheritStyleID:t,sceneGraph:l});if(n)return n;for(let t of Object.values(s))if((null==t?void 0:t.status)==="loaded"&&t.data.fileKey!==c){for(let n of(0,p.z5)(t,r))if(n.key===e)return n}return null},[t,e,s,o,c,l,r]);return(0,a.kc)().ds_zombie_styles_fixes?m:_}function I(e){return{dropdownShown:e.dropdownShown,openFile:e.openFile,library:e.library,modalShown:e.modalShown,pickerShown:e.pickerShown,sceneGraphSelection:e.sceneGraphSelection,selectedStyleProperties:e.selectedStyleProperties,stylePickerShown:e.stylePickerShown,hasMissingFont:e.hasMissingFont,hasMixedProperties:e.hasMixedProperties||!1,inheritStyleKey:e.inheritStyleKey,inheritStyleKeyField:e.inheritStyleKeyField,inheritStyleID:e.inheritStyleID,stylePickerListLayout:e.stylePickerListLayout,styleType:e.styleType,onToggleListLayout:e.onToggleListLayout,dispatch:e.dispatch}}function T(e){if(!e)return;let t=e=>(0,l.fn)((0,l.sH)(e))?e:void 0;return t(s.glU.getStyleNodeId(e.key,e.version))??t(s.glU.getSoftDeletedStyleNodeId(e.key,e.version))}},783908:(e,t,r)=>{"use strict";r.d(t,{GC:()=>p,VX:()=>u,bf:()=>m,hg:()=>d});var n=r(411855),i=r(188507),a=r(297666),o=r(452246),l=r(378905),s=r(318812),c=r(353341);function d(e,t){let r=(0,i.wA)(),l=n.useMemo(()=>(0,a.s)(r,200),[r]);n.useEffect(()=>{(null==t?void 0:t.skip)||l(o.GT({styleType:e}))})}function u(e){let t=(0,i.wA)(),r=n.useMemo(()=>(0,a.s)(t,200),[t]);n.useEffect(()=>{r(o.GT({styleType:e}))},[r,e])}function p(e){let t=(0,s.U)();return n.useMemo(()=>t&&t.type===c.vG&&t.data.style.style_type===e?t:null,[t,e])}function m(e){let t=(0,i.d4)(e=>e.stylePreviewShown);return n.useMemo(()=>t.isShown&&!t.isCreating&&t.style.node_id===e.node_id&&(0,l.EF)(t.style,e),[t,e])}},552901:(e,t,r)=>{"use strict";r.d(t,{c9:()=>J,j3:()=>er,LN:()=>Z});var n=r(411855),i=r(188507),a=r(730447),o=r(511315),l=r(669136),s=r(766530),c=r(343798),d=r(270023),u=r(629019),p=r.n(u),m=r(939683),_=r(966712),h=r(374626),g=r(572174),f=r(153234),E=r(520581),y=r(46481),b=r(348425),v=r(939863),I=r(259927),T=r(356390),S=r(852800),w=r(662531),A=r(848661),C=r(555074),N=r(234945),O=r(279702),L=r(498606),R=r(219101),P=r(218973),k=r(760066),D=r(142403),M=r(952675),x=r(538697),F=r(232531),U=r(221537),B=r(295753),H=r(893606),V=r(480099),G=r(784940);function W(){return{next:{},numMatches:0,validWord:void 0}}function K(){return{[(0,v.t)("fullscreen.properties_panel.constraints_resizing_panel.hug")]:S.mKm.HUG_CONTENT,[(0,v.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents")]:S.mKm.HUG_CONTENT,[(0,v.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")]:S.mKm.FILL_CONTAINER,[(0,v.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")]:S.mKm.FILL_CONTAINER}}var Y=r(614851);let j="dimension_input--dropdownIcon--IaH6E",z="dimension_input--comboBoxInput--J0jWQ",$={width:{[S.mKm.FILL_CONTAINER]:a.G,[S.mKm.FIXED]:o.w,[S.mKm.HUG_CONTENT]:l.v},height:{[S.mKm.FILL_CONTAINER]:s.N,[S.mKm.FIXED]:c.T,[S.mKm.HUG_CONTENT]:d.C}},Z=173;function q(e){switch(e){case"FILL_CONTAINER":return S.mKm.FILL_CONTAINER;case"HUG_CONTENT":return S.mKm.HUG_CONTENT;case"FIXED":return S.mKm.FIXED;default:return null}}function J({providedClassName:e,OriginalComponent:t}){return n.createElement("div",{className:"dimension_input--chevronContainer--CJdqK"},n.createElement(t,{providedClassName:e}))}function X({checkSvg:e,selected:t,iconToReplaceCheck:r,icon:i,OriginalComponent:a}){return n.createElement(a,{ignoreCheck:!1,icon:n.createElement("div",{className:j},i??r),iconToReplaceCheck:null,rightCheck:!1,selected:t,checkSvg:e})}function Q(e){let t=parseFloat(e);return isNaN(t)?e:parseFloat(t.toFixed(2)).toString()}function ee({OriginalComponent:e,property:t,onChange:r,...a}){let{stackSize:o,axis:l}=(0,V.bD)(),s=(0,U.aj)(),c=ea(),d=function(e){let t=(0,n.useMemo)(K,[]),r=(0,n.useMemo)(()=>(function(e){let t=W();for(let r of e){let e=t;for(let t=0;t<r.length;t++){let n=r[t].toUpperCase();e.next[n]=e.next[n]??W(),e.numMatches++,e=e.next[n]}e.validWord=r}return t})(Object.keys(t)),[t]);return(0,n.useCallback)(n=>{if(!n.length)return null;let i=new Set,a=function(e,t){let r=e;for(let e=0;e<t.length;e++){let n=t[e].toUpperCase();if(!(r=r.next[n]))return null}return r}(r,n);return a?(!function e(t,r){if(t.validWord&&!r(t.validWord))return!1;for(let n of Object.values(t.next))if(!e(n,r))return!1;return!0}(a,r=>{let n=t[r];return!e.has(n)||(i.add(n),!(i.size>1))}),1===i.size?S.mKm[Array.from(i)[0]]:null):null},[r,e,t])}(function(){let e=(0,i.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions);return(0,n.useMemo)(()=>new Set((e??ei).map(e=>e.size)),[e])}()),u=(0,n.useMemo)(()=>null==o||(0,A.gl)(o)||o===S.mKm.FIXED?null:S.mKm[o],[o]),[m,_]=(0,n.useState)(null),{measurementNode:h,bestText:g}=function({property:e,stackSize:t,input:r}){let[i,a]=(0,n.useState)(null),[o,l]=(0,n.useState)(0),s=(0,n.useMemo)(()=>null==t?[]:function(e,t){switch(e){case S.mKm.HUG_CONTENT:return[(0,v.t)("fullscreen.properties_panel.constraints_resizing_panel.hug"),(0,v.t)("fullscreen.properties_panel.stack_panel.al.hug_with_value",{value:t})];case S.mKm.FILL_CONTAINER:return[(0,v.t)("fullscreen.properties_panel.constraints_resizing_panel.fill"),(0,v.t)("fullscreen.properties_panel.stack_panel.al.fill_with_value",{value:t})]}}(t,Q(e)),[e,t]),c=(0,n.useMemo)(()=>s.map(()=>n.createRef()),[s]),d=(0,n.useMemo)(()=>n.createElement(n.Fragment,null,s.map((e,t)=>n.createElement("span",{key:t,ref:c[t],className:"dimension_input--measuredInputText--E0PKL"},e))),[s,c]);return(0,n.useLayoutEffect)(()=>{r&&l(r.getBoundingClientRect().width);let e=new ResizeObserver(e=>{l(e[0].contentRect.width)});if(r)return e.observe(r),()=>e.unobserve(r)},[r]),(0,n.useLayoutEffect)(()=>{if(!c.length){null!==i&&a(null);return}let e=c.map(e=>{var t;return o-((null==(t=e.current)?void 0:t.getBoundingClientRect().width)??0)}).reduce((e,t,r,n)=>t<n[e]&&t>=0?r:e,0);i!==s[e]&&a(s[e])},[i,a,o,s,c]),{measurementNode:d,bestText:i}}({property:t,stackSize:null!=o&&o!==S.mKm.FIXED&&(0,A.hS)(o)?o:null,input:m}),f=(0,n.useMemo)(()=>(function(e,t,r,n){var i;let a={...e};Object.setPrototypeOf(a,U.Zg.prototype);let o=a.format.bind(a);a.format=e=>r||o(e);let l=a.parse.bind(a);a.parse=e=>{let r=t(e);return null!=r?r:l(e)},a.incrementBy=(e,t,r)=>"number"==typeof n?n+t:e;let s=null==(i=a.clamp)?void 0:i.bind(a);return s&&(a.clamp=e=>e===S.mKm[S.mKm.FILL_CONTAINER]||e===S.mKm[S.mKm.HUG_CONTENT]?e:s(e)),a.isEqual=(e,t)=>"string"==typeof e||"string"==typeof t?e===t:o(e)===o(t),a})(a.formatter,d,g,t),[a.formatter,d,g,t]),E=(0,n.useMemo)(()=>({...f,format:e=>"number"==typeof t?Q(String(t)):f.format(e),incrementBy:(e,r,n)=>"number"==typeof t?t+r:e}),[f,t]),{forwardedRef:y}=a,b=a.shouldUseHoveringFormatterIfCombobox?E:f;return n.createElement(n.Fragment,null,n.createElement(e,{...a,outerClassName:z,formatter:b,property:u??t,pillsContainerClassName:"dimension_input--comboBoxPillsContainer--Uv3fj",onChange:e=>{let t="string"==typeof e?q(e):null;if(t){s(t,l),c(t,l);return}s(null,l),c(S.mKm.FIXED,l),r(e)},forwardedRef:(0,n.useCallback)(e=>{_(e),"function"==typeof y?y(e):y&&(y.current=e)},[_,y])}),n.createElement("div",{className:p()(z,"dimension_input--hideMeasurementNode--7MP1z")},h))}function et(){let e=(0,C.kl)("nodesAreAllStacksOrInStacks"),{minValue:t,maxValue:r}=(0,V.bD)();return(!(0,g.uy)(t)||!(0,g.uy)(r))&&e}function er(e){let{strings:t,value:r,setValue:i,key:a,variableField:o,relativeInputHandler:l,scrubbableInputClass:s}=(0,V.bD)(),c=(0,H.R)(),d=(0,B.e)(),u=c&&d,p=(0,G.KG)({key:a,setValue:i}),m=(0,U.f3)(),h=(0,D.C)();return m?n.createElement(eo,{onSizeConstraintClick:e.onSizeConstraintClick,onEvaluateExpressionError:l,disabled:h,recordingKey:f.Pt(e,`${a}Input`),showResizingTooltips:u}):n.createElement(E.E,{name:`${a}_input`},n.createElement(R.e,{condition:!m,wrapper:t=>n.createElement(k.sA,{recordingKey:f.Pt(e,`${a}InputWrapper`),fields:[o],disabled:e.disabled,resolvedType:S.rXF.FLOAT,currentFieldValue:(0,A.hS)(r)?r:void 0,inputClassName:s},t)},n.createElement(P.$j,{isTokenizable:!0,inputClassName:Y.hF,value:r??0,disabled:e.disabled,...p,onEvaluateExpressionError:l,noBorderOnHover:!0,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":u?t.dim.resizing:t.dim.fixed,"data-tooltip-show-on-target-only":c||void 0,tooltipForScreenReadersOnly:!c,dataTestId:`transform-${a}`,recordingKey:f.Pt(e,`${a}Input`),min:(0,_.kc)().editor_zero_width_input?I.ak:void 0},n.createElement("span",{className:`${Y.QK} svg`},t.dimAbbrev))))}function en({OriginalComponent:e,...t}){let{stackSize:r,axis:i}=(0,V.bD)(),a=(0,U.aj)(),o=(0,n.useMemo)(()=>(0,A.hS)(r)&&null!=r?r:null,[r]);return n.createElement(e,{...t,property:null!=o?S.mKm[o]:t.property,openBelowTarget:!1,onOptionFocus:(e,r)=>{var n;null==(n=t.onOptionFocus)||n.call(t,e,r),a(q(e),i)},inputClassName:"dimension_input--selectInput--yZiCE"})}let ei=[];function ea(){let e=(0,m.am)(),t=(0,i.d4)(N.qd),r=(0,i.d4)(N.dK),a=t.map(e=>{let t=r.get(e);return null==t?void 0:t.parentGuid});return(0,n.useCallback)((r,n)=>{w.l7.user("change-stack-layout-size",()=>{S.Qa7.setStackSizeOnSelection(r,n)}),e("Autolayout sizing changed",{axis:n,size:r,source:"dropdown",nodeIds:t,parentNodeIds:a})},[t,a,e])}function eo(e){let{minValue:t,maxValue:r,setValue:a,setMinValue:o,setMaxValue:l,key:s,axis:c,variableField:d,minMaxOptions:u,strings:m,autolayoutMinMaxIcon:_,limitIcon:g,dropdownAlignment:v,stackSize:I}=(0,V.bD)(),w=et(),N=function(e){let t=(0,H.R)(),r=(0,i.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions)??ei,{minMaxOptions:a,removeLimitIcons:o,key:l,axis:s}=(0,V.bD)(),c=(0,C.kl)("isInstanceSublayerSelected"),d=et();return(0,n.useMemo)(()=>{let i=[];if(t&&(r.forEach(e=>{let t=$[l][e.size];i.push(n.createElement(x.c$,{disabled:e.disabled,additionalStylesClassName:Y.wO,key:S.mKm[e.size],value:S.mKm[e.size],iconToReplaceCheck:n.createElement(t,null),dataTestId:`${S.mKm[e.size]}-${S._0v[s]}`}))}),i.push(n.createElement(x.sK,{key:"ui3-divider"}))),a.forEach(r=>{let[a,o]=U.XO[r];i.push(n.createElement(x.c$,{additionalStylesClassName:Y.wO,iconToReplaceCheck:n.createElement(b.t,{className:t?j:Y.vP,svg:a,fallbackSvg:o}),key:r,value:r,disabled:!!c,recordingKey:f.Pt(e,"select",r)}))}),d&&!c){let[r,a]=o;i.push(n.createElement(x.sK,{key:"first-divider"})),i.push(n.createElement(x.c$,{additionalStylesClassName:Y.wO,key:U.zg,value:U.zg,iconToReplaceCheck:n.createElement(b.t,{className:t?j:Y.vP,svg:r,fallbackSvg:a}),recordingKey:f.Pt(e,"select",U.zg)}))}return i},[d,c,a,e,o,t,r,l,s])}(e),L=(0,G.KG)({key:s,setValue:a}),R=(0,U.jQ)(s,e.onEvaluateExpressionError),[P,k]=(0,h.fp)(U.Kl),[D,B]=(0,h.fp)(U.Md),W=P[s].min||P[s].max,K=(0,U.wf)(s),z=(0,U.Fp)(),Q=ea(),er=(0,H.R)(),eo=w?n.createElement("div",{className:Y.QK},n.createElement(y.U,{svg:g,role:"img"},_)):n.createElement("span",{className:`${Y.QK} svg`},m.dimAbbrev),el=m.dim;null!=t&&null!=r?el=m.dimWithMinMax:null!=t?el=m.dimWithMin:null!=r&&(el=m.dimWithMax);let es=e.showResizingTooltips&&er?el.resizing:el.fixed,ec=(0,U.aj)();return n.createElement(M.ow,{value:{select:er?en:void 0,inputComponent:er?ee:void 0}},n.createElement(x.tV,{value:{chevron:er?J:void 0,leftCheckIcon:er?X:void 0}},n.createElement(E.E,{name:`${s}_input_min_max_combobox`},n.createElement(F.S,{id:`${s}Transform`,options:N,outerClassName:p()(Y.Kw,{"dimension_input--ui3ComboBoxContainer--BbSLS":er}),...function(e){let t=(0,H.R)(),{value:r,isAuto:n,key:i}=(0,V.bD)(),a=n&&(0,A.hS)(r)&&!t,o=(0,U.jQ)(i,void 0);return{value:a?void 0:r??0,placeholder:a?o.format(r):void 0}}(),formatter:R,variableField:d,onChange:(t,r)=>{if("number"==typeof t)L.onValueChange(t,r);else if(t===u[0])e.onSizeConstraintClick("min");else if(t===u[1])e.onSizeConstraintClick("max");else if(t===U.zg)o(null,O.zk.NO),l(null,O.zk.NO),T.Y5.triggerAction("commit"),k({...P,[s]:{min:!1,max:!1}}),B(null);else if("string"==typeof t){let e=q(t);null!=e&&Q(e,c)}},dropdownWidth:er||w?Z:147,tooltipText:es,showTooltipOnTargetOnly:er,iconId:`${s}-label`,dropdownAlignment:v,label:eo,"data-tooltip-max-width":200,disabled:e.disabled,onFocus:()=>z("minmax",{axis:c,renderLabels:!1},U.qi.YES),onBlur:()=>{z("minmax",{axis:c,renderLabels:!1},U.qi.YES_ONLY_MIN_MAX)},onMouseEnterNonPropagating:()=>{er&&ec((0,A.hS)(I)&&null!=I?I:null,c)},onMouseEnter:()=>{z("minmax",{axis:c,renderLabels:!0})},onMouseLeave:()=>{z("minmax",null),er&&ec(null,c)},onScrubBegin:er?()=>{ec(null,c)}:void 0,onScrubClick:w||W?K:void 0,onKeyUp:L.onKeyUp,mixedMathHandler:L.mixedMathHandler,onMixedMathNudge:L.onMixedMathNudge,source:"panel",noBorderOnFocus:!0,omitValueFromDropdown:!0,openBelowTarget:!0,shiftVariableOptionToAlign:!0,inputTestId:`transform-${s}`,onboardingKey:`transform-${s}`,recordingKey:e.recordingKey}))))}},480099:(e,t,r)=>{"use strict";r.d(t,{bD:()=>I,ht:()=>b,kR:()=>v});var n=r(411855),i=r(250021),a=r(418708),o=r(939863),l=r(852800),s=r(555074),c=r(279702),d=r(221537),u=r(106502),p=r(784940),m=r(614851),_=r(633138),h=r(222077);function g(e,t){return(0,u.r)(e,(e,r)=>l.glU.setNodeSelectionSizeWithAnchor(e,t,r)?c.zk.YES:c.zk.NO)}let f=g("relative-h",l._0v.Y),E=g("relative-w",l._0v.X),y=(0,n.createContext)(null);function b({children:e}){let[t,r]=(0,s.lJ)("height"),[a,c]=(0,s.lJ)("minHeight"),[u,h]=(0,s.lJ)("maxHeight"),g={key:"height",axis:l._0v.Y,dropdownAlignment:"right",limitIcon:_.A,autolayoutMinMaxIcon:n.createElement(i.I,null),removeLimitIcons:d.XO.removeHeightLimit,relativeInputHandler:f,value:t,minValue:a,maxValue:u,setValue:r,setMinValue:c,setMaxValue:h,stackSize:(0,s.kl)("stackVerticalSize"),isAuto:(0,p.M9)().heightIsAuto,variableField:"HEIGHT",minMaxOptions:[d.zn,d.jw],strings:{dimAbbrev:(0,o.t)("fullscreen.properties_panel.transform_panel.h"),dim:{fixed:(0,o.t)("fullscreen.properties_panel.transform_panel.height"),resizing:(0,o.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizing")},dimWithMinMax:{fixed:(0,o.t)("fullscreen.properties_panel.transform_panel.height_min_max"),resizing:(0,o.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMinMaxH")},dimWithMin:{fixed:(0,o.t)("fullscreen.properties_panel.transform_panel.height_min"),resizing:(0,o.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMinH")},dimWithMax:{fixed:(0,o.t)("fullscreen.properties_panel.transform_panel.height_max"),resizing:(0,o.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMaxH")}},scrubbableInputClass:m.sC};return n.createElement(y.Provider,{value:g},e)}function v({children:e}){let[t,r]=(0,s.lJ)("width"),[i,c]=(0,s.lJ)("minWidth"),[u,_]=(0,s.lJ)("maxWidth"),g={key:"width",axis:l._0v.X,dropdownAlignment:"left",limitIcon:h.A,autolayoutMinMaxIcon:n.createElement(a.X,null),removeLimitIcons:d.XO.removeWidthLimit,relativeInputHandler:E,value:t,minValue:i,maxValue:u,setValue:r,setMinValue:c,setMaxValue:_,stackSize:(0,s.kl)("stackHorizontalSize"),isAuto:(0,p.M9)().widthIsAuto,variableField:"WIDTH",minMaxOptions:[d.mw,d.QG],strings:{dimAbbrev:(0,o.t)("fullscreen.properties_panel.transform_panel.w"),dim:{fixed:(0,o.t)("fullscreen.properties_panel.transform_panel.width"),resizing:(0,o.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizing")},dimWithMinMax:{fixed:(0,o.t)("fullscreen.properties_panel.transform_panel.width_min_max"),resizing:(0,o.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMinMaxW")},dimWithMin:{fixed:(0,o.t)("fullscreen.properties_panel.transform_panel.width_min"),resizing:(0,o.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMinW")},dimWithMax:{fixed:(0,o.t)("fullscreen.properties_panel.transform_panel.width_max"),resizing:(0,o.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMaxW")}},scrubbableInputClass:m.BP};return n.createElement(y.Provider,{value:g},e)}function I(){let e=(0,n.useContext)(y);if(!e)throw Error("DimensionInputConfigContext not initialized!");return e}},784940:(e,t,r)=>{"use strict";r.d(t,{rn:()=>w,AY:()=>S,Jo:()=>C,KG:()=>v,Xs:()=>I,Df:()=>A,M9:()=>T});var n=r(411855),i=r(188507),a=r(776250),o=r(966712),l=r(498750),s=r(801161),c=r(798099),d=r(297336),u=r(852800),p=r(662531),m=r(617453),_=r(848661),h=r(113058),g=r(555074),f=r(100197),E=r(498606),y=r(469572);class b{constructor(e){this._controls=0|e}get framePresetsItem(){return this.getValue(u.Sqb.FRAME_PRESETS_ITEM)}get cornerRadius(){return this.getValue(u.Sqb.CORNER_RADIUS)}get frameOptions(){return this.getValue(u.Sqb.FRAME_OPTIONS)}get count(){return this.getValue(u.Sqb.COUNT)}get starInnerScale(){return this.getValue(u.Sqb.STAR_INNER_SCALE)}get rectangleCornerRadii(){return this.getValue(u.Sqb.RECTANGLE_CORNER_RADII)}get fixedFrameOptions(){return this.getValue(u.Sqb.FIXED_FRAME_OPTIONS)}get arcData(){return this.getValue(u.Sqb.ARC_DATA)}get transform(){return this.getValue(u.Sqb.TRANSFORM)}get size(){return this.getValue(u.Sqb.SIZE)}get angle(){return this.getValue(u.Sqb.ANGLE)}get sectionItem(){return this.getValue(u.Sqb.SECTION_ITEM)}getValue(e){return!!(this._controls&1<<e)}}function v(e){var t;let r=(0,i.wA)(),a=(0,m.sT)(),{bigNudgeAmount:o,smallNudgeAmount:d}=a,_=(0,n.useCallback)((e,t,n)=>{n.stopPropagation();let i=e===l.Uz.UP_ARROW?"+":"-",a=`${i}${t?o:d}`;r(s.eB({target:{kind:E.Ui.TEXT,text:a},targetRect:n.currentTarget.closest("label").getBoundingClientRect(),position:E.Zj.BELOW,hideAfterDelay:200}))},[r,o,d]),g=(t=e.key,(0,n.useMemo)(()=>{class e extends h.M{getValueForNode(e){return u.Egt.getNodeTransformProperties(e.guid)[t]}setValueForNode(e,r){p.l7.user(`transform-change-${t}`,()=>{try{u.Egt.setNodeTransformProperties(e.guid,{[t]:r})}catch{}})}}return new e},[t])),f=function({key:e,setValue:t}){let r=(0,i.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo.mode);return(0,n.useCallback)((n,i)=>{w(e),r!==u.nzw.NONE&&u.glU.hideOnCanvasNameEditor(),t(n,i)},[e,r,t])}(e);return{...a,dispatch:r,onValueChange:f,mixedMathHandler:g,onMixedMathNudge:_,onKeyUp:c.dG}}function I(){let{smallNudgeAmount:e,bigNudgeAmount:t}=(0,m.sT)();return{smallNudgeAmount:e,bigNudgeAmount:t,wheelMultiplier:e,scrubMultiplier:e}}function T(){let e=(0,g.kl)("stackHorizontalSize"),t=(0,g.kl)("stackVerticalSize"),r=(0,g.kl)("textAutoResize"),n=S(),a=(0,i.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,d.vx)(t,"TEXT")}),o=i=>{let o=("VERTICAL"===i?t:e)!==u.mKm.FIXED,l=a&&((0,_.gl)(r)||"WIDTH_AND_HEIGHT"===r||"VERTICAL"===i&&"HEIGHT"===r);return o||"VERTICAL"===i&&n||l};return{widthIsAuto:o("HORIZONTAL"),heightIsAuto:o("VERTICAL")}}function S(){return(0,i.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,d.OU)(t,["LINE","WASHI_TAPE"])})}function w(e){(0,o.kc)().ce_properties_panel_tracking&&(0,a.sx)("editor-transform-panel-change",{key:e}),(0,y.a2)(e)}function A(){let e=(0,f.J2)(u.Ez5.propertiesPanelState().shownTransformControls);return(0,n.useMemo)(()=>new b(e),[e])}function C(){let e=(0,f.J2)(u.Ez5.propertiesPanelState().enabledTransformControls);return(0,n.useMemo)(()=>new b(e),[e])}},295753:(e,t,r)=>{"use strict";r.d(t,{e:()=>l});var n=r(852800),i=r(848661),a=r(555074);function o(e){return(0,i.hS)(e)&&null!=e&&e!==n.mKm.FIXED}function l(){let e=(0,a.kl)("stackHorizontalSize"),t=(0,a.kl)("stackVerticalSize");return o(e)||o(t)}},994481:(e,t,r)=>{"use strict";r.d(t,{Cm:()=>d,TN:()=>s,cS:()=>c,dx:()=>l});var n=r(411855),i=r(629019),a=r.n(i),o=r(761725);let l=(0,n.forwardRef)(function({left:e,right:t,appendedClassName:r},i){let l=a()(o.RF,r);return n.createElement("div",{className:l,ref:i},e?n.createElement("div",{className:o.kb},e):null,t?n.createElement("div",{className:o.pG},t):null)}),s=(0,n.forwardRef)(function({children:e,appendedClassName:t},r){let i=a()(o.Pv,t);return n.createElement("div",{className:i,ref:r},e)}),c=(0,n.forwardRef)(function({label:e,input:t,appendedClassName:r},i){let l=a()(o.Od,r);return n.createElement("div",{className:l,ref:i},null!=e?n.createElement(u,null,e):null,n.createElement("div",{className:o.hF},t))}),d=(0,n.forwardRef)(function({label:e,leftInput:t,rightInput:r,appendedClassName:i},l){let s=a()(o.Y7,i);return n.createElement("div",{className:s,ref:l},n.createElement(u,null,e),n.createElement("div",{className:o.ig},t),n.createElement("div",{className:o.by},r))});function u(e){return n.createElement("span",{"aria-hidden":"true",className:o.Pf,"data-non-interactive":!0},e.children)}},343559:(e,t,r)=>{"use strict";r.d(t,{Wv:()=>p,mS:()=>u,r:()=>d});var n=r(411855),i=r(629019),a=r.n(i),o=r(522739),l=r(697652),s=r(939791),c=r(322515);let d=n.forwardRef(function({titleTx:e,icon:t,faded:r,...i},o){return n.createElement(s.DE,{...i,ref:o,appendedClassName:a()(c.En,{[c.yf]:r}),input:n.createElement(s.Mw,null,e),label:null,icon:t})}),u=n.forwardRef(function({titleTx:e,input:t,faded:r,isPanelBodyCollapsedAtom:i,appendedClassName:d,...u},p){let m=a()(c.e4,{[c.yf]:r},d);return n.createElement(o.D8,{className:m,forwardedRef:p,...u,"data-non-interactive":!0},n.createElement("div",{className:c.Dn},n.createElement(l.r2,{isPanelBodyCollapsedAtom:i||null}),n.createElement(s.Mw,null,e)),n.createElement("div",{className:c.Ix,"data-non-interactive":!0},t))}),p=n.forwardRef(function({titleTx:e,faded:t,children:r,...i},o){return n.createElement(s.oO,{...i,ref:o,appendedClassName:a()(c.En,{[c.yf]:t}),input:n.createElement(s.Mw,null,e)},r)});n.forwardRef(function({titleTx:e,leftIcon:t,rightIcon:r,faded:i,...o},l){return n.createElement(s.pG,{...o,ref:l,appendedClassName:a()(c.En,{[c.yf]:i}),input:n.createElement(s.Mw,null,e),leftIcon:t,rightIcon:r})})},939791:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>g,DE:()=>h,Mw:()=>v,Oe:()=>_,Y9:()=>T,fn:()=>m,my:()=>b,oO:()=>E,pG:()=>f,sY:()=>y});var n=r(411855),i=r(629019),a=r.n(i),o=r(522739),l=r(574176),s=r(617453),c=r(100197),d=r(490393),u=r(78947),p=r(323316);let m=(0,n.forwardRef)(function({leftLabel:e,leftInput:t,rightLabel:r,rightInput:i,appendedClassName:l,icon:s,...c},d){return n.createElement(o.D8,{className:a()(u.$f,l),forwardedRef:d,...c,"data-non-interactive":!0},null!=e?n.createElement(S,null,e):null,n.createElement("div",{className:u.Vp,"data-non-interactive":!0},t),null!=r?n.createElement(w,null,r):null,n.createElement("div",{className:u.ON,"data-non-interactive":!0},i),n.createElement(I,null,s))});(0,n.forwardRef)(function({label:e,leftIcon:t,input:r,rightIcon:i,...a},o){return n.createElement("div",{className:u.iv,ref:o,...a,"data-non-interactive":!0},null!=e?n.createElement(S,null,e):null,n.createElement("div",{className:u.dk,"data-non-interactive":!0},t),n.createElement("div",{className:u.Wy,"data-non-interactive":!0},r),n.createElement("div",{className:u.pK,"data-non-interactive":!0},i))});let _=(0,n.forwardRef)(function({label:e,leftIcon:t,input:r,firstRightIcon:i,secondRightIcon:a,...o},l){return n.createElement("div",{className:u.o7,ref:l,...o,"data-non-interactive":!0},null!=e?n.createElement(S,null,e):null,n.createElement("div",{className:u.dk,"data-non-interactive":!0},t),n.createElement("div",{className:u.Wy,"data-non-interactive":!0},r),n.createElement("div",{className:u.pK,"data-non-interactive":!0},i),n.createElement("div",{className:u.wm,"data-non-interactive":!0},a))}),h=(0,n.forwardRef)(function({label:e,input:t,icon:r,appendedClassName:i,...l},s){let c=a()(u.xx,i);return n.createElement(o.D8,{className:c,forwardedRef:s,...l,"data-non-interactive":!0},null!=e?n.createElement(S,null,e):null,n.createElement("div",{className:u.Vp,"data-non-interactive":!0},t),n.createElement(I,null,r))}),g=(0,n.forwardRef)(function({input:e,label:t,appendedClassName:r,alwaysShowLabel:i,...o},l){return n.createElement("div",{className:a()(u.cN,r),ref:l,...o,"data-non-interactive":!0},t?n.createElement(S,{alwaysShowLabel:i},t):null,n.createElement("div",{className:u.Vp,"data-non-interactive":!0},e))}),f=(0,n.forwardRef)(function({input:e,leftIcon:t,rightIcon:r,appendedClassName:i,...l},s){let c=a()(u.jz,i);return n.createElement(o.D8,{className:c,forwardedRef:s,...l,"data-non-interactive":!0},n.createElement("div",{className:u.q1,"data-non-interactive":!0}," ",e," "),n.createElement("div",{className:u.eK,"data-non-interactive":!0}," ",t," "),n.createElement("div",{className:u.H_,"data-non-interactive":!0}," ",r," "))}),E=(0,n.forwardRef)(function({input:e,children:t,appendedClassName:r,...i},l){let s=a()(u.qv,r);return n.createElement(o.D8,{className:s,forwardedRef:l,...i,"data-non-interactive":!0},n.createElement("div",{className:u.q1,"data-non-interactive":!0},e),n.createElement("div",{className:u.wH},t))}),y=(0,n.forwardRef)(function({leftLabel:e,rightLabel:t,topIcon:r,bottomIcon:i,appendedClassName:l,topLeftInput:s,bottomLeftInput:c,topRightInput:d,bottomRightInput:p,leftInput:m,rightInput:_,...h},g){let f=a()(u.d1,l),E=null!=m?n.createElement("div",{className:u.kW},m):s,y=null!=_?n.createElement("div",{className:u.kW},_):d,v=null!=m?null:n.createElement("div",null,c),I=null!=_?null:n.createElement("div",null,p);return n.createElement(o.D8,{className:f,forwardedRef:g,...h,"data-non-interactive":!0},n.createElement(S,null,e),n.createElement(w,null,t),n.createElement(b,null),E,y,n.createElement("div",null,r),v,I,n.createElement("div",null,i))});function b({}){return n.createElement("div",{"data-non-interactive":!0})}function v({children:e}){return n.createElement("span",{"aria-hidden":"true"},e)}function I({children:e}){return e?n.createElement("div",{className:u.to,"data-non-interactive":!0},e):null}let T=(0,n.forwardRef)(function({selected:e,grabberClassName:t,hideGrabber:r,singletonRow:i,dragging:s,children:c,selectedSecondary:m,containerClassName:_,...h},g){let f=!r&&(!i||s),E=e&&s?d.Aw:u.gB,y=m?u.kR:e?u.CZ:"";return n.createElement(o.D8,{...h,forwardedRef:g,className:a()(y,_)},f&&n.createElement("div",{className:a()(t,{[u.tp]:s,[u.kI]:!s})},(!s||e)&&n.createElement(l.B,{className:E,svg:p.A})),c)});function S({children:e,alwaysShowLabel:t}){return(0,c.J2)((0,s.UK)().showPropertyLabels)||t?n.createElement("span",{"aria-hidden":"true",className:u.Qb,"data-non-interactive":!0},e):n.createElement(b,null)}function w({children:e}){return(0,c.J2)((0,s.UK)().showPropertyLabels)?n.createElement("span",{"aria-hidden":"true",className:u.iV,"data-non-interactive":!0},e):n.createElement(b,null)}},546962:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i});var n=r(503457);let i=new(r(554630)).b({name:"properties_panel",enforce:!1,dependencies:[],exports:["views.ts*"],friendFiles:[],routeHints:["fullscreen","design"]}).createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(8044),r.e(137),r.e(7355)]).then(r.bind(r,312018)).then(e=>e.PropertiesPanel),{loading:()=>null,error:n.H4.NONE,componentName:"LazyPropertiesPanel"})},251828:(e,t,r)=>{"use strict";r.d(t,{ai:()=>ea,_x:()=>eg,sN:()=>ep});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(126049),s=r(776250),c=r(935283),d=r(91408),u=r(320063),p=r(966712),m=r(38580),_=r(374626),h=r(498750),g=r(255942),f=r(395900),E=r(563706),y=r(522739),b=r(743282),v=r(723325),I=r(493323),T=r(827586),S=r(574176),w=r(939863),A=r(75224),C=r(738269),N=r(809831),O=r(298527),L=r(696673),R=r(453681),P=r(473744),k=r(534804),D=r(543817),M=r(335682),x=r(141123),F=r(232205),U=r(853966),B=r(99506),H=r(435011),V=r(532888),G=r(173454),W=r(279145),K=r(111405),Y=r(462524),j=r(18293),z=r(448406),$=r(48515),Z=r(179530),q=r(538376),J=r(811529),X=r(538408),Q=r(390864),ee=r(659265),et=r(802454),er=r(860168),en=r(146935),ei=r(377849);let ea="insert",eo=(0,d.jz)(er.E1c),el="Quick Actions Component Search",es=(0,d.jz)(er.iRR),ec=en.dropdownZ+1,ed=(0,m.eU)(!1),eu=(0,m.eU)({type:$.I.ALL});var ep=(e=>(e.KEYBOARD_SHORTCUT="Keyboard Shortcut (Shift + I)",e.MENU_OPTION="Menu Option",e.INSERT_TAB="Insert [Tab]",e))(ep||{}),em=(e=>(e.KEYBOARD_OR_CLICK="Keyboard navigation or click",e.DRAG_AND_DROP="Drag and drop",e))(em||{});let e_=(0,m.eU)(""),eh=(0,m.eU)([]);function eg(){var e;let[t,r]=(0,_.fp)(e_),[a,o]=(0,n.useState)(!1),[d,m]=(0,_.fp)(ed),[g,y]=(0,_.fp)(eh),[A,P]=(0,_.fp)(eu),[k,D]=(0,n.useState)({type:""}),[x,F]=(0,n.useState)(""),G=(0,n.useRef)(null);(0,u.h)(()=>{var e;null==(e=G.current)||e.select()});let j=(0,i.d4)(V.vx),J=(0,i.d4)(H.hK),ee=(0,i.d4)(e=>e.currentUserOrgId),er=(0,i.d4)(M.tB),en=(0,i.d4)(V.t_),ea=(0,_.md)(R.qp),ec=(0,i.d4)(V.u0),ep=(0,_.md)(R.oE),em=(0,i.d4)(e=>e.dropdownShown),eg=(0,O.Ck)(),eb=(0,p.Ay)().tracking_session_id,ev=(null==em?void 0:em.type)===W.Ee?null==(e=em.data)?void 0:e.entryPoint:void 0,eI=(0,i.wA)();U.YG.useInitSearch(),(0,u.h)(()=>{(0,s.sx)("quick_actions.search_opened",{tracking_session_id:eb,searchSessionId:x,entryPoint:ev}),eS()});let eT=(0,n.useCallback)(()=>{x&&(0,s.sx)("quick_actions.search_session_end",{tracking_session_id:eb,searchSessionId:x,entryPoint:ev})},[ev,x,eb]);n.useEffect(()=>eT,[ev,eT,x,eb]);let eS=(0,n.useCallback)(()=>{eT(),F((0,b.g)()),(0,s.sx)("quick_actions.search_session_start",{tracking_session_id:eb,searchSessionId:x,entryPoint:ev})},[ev,eT,x,eb]),ew=(0,n.useCallback)(()=>{eI(C.oB())},[eI]),eA=(0,n.useCallback)(()=>{eI(C.j7({type:W.jv,hasOwnEscKeyHandler:!0}))},[eI]),eC=(0,l.A)(async e=>{let t=new f.jk("quick_actions.search_query_time",{});t.start();let r=await eO(e);y((0,U.Ow)(r.normalizedSearchResults)),o(!1);let n=t.stop();(0,s.sx)("quick_actions.search_query_time",{query:e,searchResultCount:r.normalizedSearchResults.length,searchType:A.type,searchElapsedTime:n,tracking_session_id:eb,searchSessionId:x,entryPoint:ev})},200),eN=(0,N.AU)(J)===B._Y.DESIGN,eO=n.useCallback(e=>{switch(A.type){case $.I.LOCAL:return U.YG.computeLocalResultsPromise(e,null==er?void 0:er.key);case $.I.FILE:return U.YG.computeFileResultsPromise(e,A.fileKey,null==er?void 0:er.key,eN,()=>Promise.resolve(eg()),x);case $.I.RECENT:case void 0:case $.I.ALL:return U.YG.computeAllResultsPromise(e,eN,j,ee,er,en,ea,()=>Promise.resolve(eg()),x);default:return(0,c.xb)(A,"unknown search type")}},[A,ee,en,ea,j,eg,eN,er,x]),eL=n.useCallback(e=>{er&&(e?(r(e),o(!0),eC(e)):(r(""),o(!1),eC.cancel(),y([]),eS()))},[eC,er,eS,r,y]),eR=(0,n.useCallback)(e=>eL(e.currentTarget.value),[eL]),eP=(0,n.useCallback)(e=>{if(e.keyCode===h.Uz.BACKSPACE&&0===e.currentTarget.value.length||(E.Ay.mac?(0,h.vN)(e,h.xH.META):(0,h.vN)(e,h.xH.CONTROL))&&(e.keyCode===h.Uz.P||e.keyCode===h.Uz.FORWARD_SLASH)){e.preventDefault(),eA();return}},[eA]),ek=(0,n.useCallback)(()=>{if(0===g.length)return n.createElement("div",{className:"quick_actions_component_search--noResults--2jsYe"},n.createElement("p",{className:"quick_actions_component_search--noResultsText--8m7-y text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement(w.Tx,{id:"fullscreen_actions.quick_actions_component_search.no-results",searchQuery:t})));let e=(0,z.PI)(g,!0),r={layout:e,isList:d,containerWidth:d?eo:eo-4*es,maxSmallThumbSize:X.nU,maxWideColWidth:X.U5},i=(0,z.A5)(r),{width:a,height:o}=(0,z.rj)(r,i);return n.createElement(T.P,{hideScrollbar:!0,className:"quick_actions_component_search--results--jK5VZ"},n.createElement("div",{className:d?"quick_actions_component_search--list--oEVxX":"quick_actions_component_search--grid--ViFOI"},g.map((r,i)=>n.createElement(eE,{key:ey(r.node_id),afterSuccessfulInsert:ew,asset:r,fileNameByKey:ec,fileNameByLibraryKey:ep,isList:d,thumbLayout:e,thumbHeight:o,thumbWidth:a,row:d?i+1:Math.floor(i/4)+1,column:d?0:i%4,assetTypeDropdownSelection:A.type,searchQuery:t,searchSessionId:x??"",entryPoint:ev,openFileKey:(null==er?void 0:er.key)??""}))))},[g,d,t,ew,ec,ep,A.type,x,ev,null==er?void 0:er.key]),eD=(0,_.md)(Y.I1),eM=n.useMemo(()=>{if(eD.data)return eD.data.filter(e=>!(0,L.wJ)(e.fileKey))},[eD.data]),ex=n.useMemo(()=>{let e={};return"loaded"!==eD.status||eM&&eM.forEach(t=>{e[t.fileKey]=t.name}),e},[eD.status,eM]),eF=(0,n.useCallback)(()=>{var e;m(e=>!e),null==(e=G.current)||e.focus()},[m]),eU=(0,n.useCallback)(e=>{var t;e.keyCode===h.Uz.BACKSPACE&&(null==(t=G.current)||t.focus())},[]);return n.createElement(K.s,null,n.createElement(Q.H,{onKeyDown:eU},n.createElement(v.dP,null,n.createElement("div",{className:et.$P},n.createElement(S.B,{svg:ei.A,className:et.qc}),n.createElement("div",{className:"quick_actions_component_search--insertSquare--SJWGe text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(w.Tx,{id:"fullscreen_actions.quick_actions_component_search.insert"})),n.createElement(ef,{onSearchInputChange:eR,searchQuery:t,searchSessionId:x,trackingSessionId:eb,entryPoint:ev,onKeyDown:eP,searchInputRef:G})),t&&n.createElement("div",null,n.createElement("div",{className:"quick_actions_component_search--header--vxsAF"},n.createElement(Z.x,{assetType:A,libraryNameByFileKey:ex,onSetAssetType:function(e){var r;P(e),eL(t),null==(r=G.current)||r.focus()},validAssetTypeOptions:$.v,useLocalState:!0,onHideDropdownOverride:()=>{D({type:""})},onShowDropdownOverride:()=>{D({type:Z.w})},dropdownShown:k}),n.createElement(q.l,{recordingKey:el,isList:d,onToggleViewMode:eF,disabled:0===g.length})),a?n.createElement("div",{className:"quick_actions_component_search--loading--3-dhs"},n.createElement(I.kt,{className:"quick_actions_component_search--loadingSpinner--IwExg"})):ek()))))}function ef({onSearchInputChange:e,searchQuery:t,searchSessionId:r,trackingSessionId:i,entryPoint:a,onKeyDown:o,searchInputRef:l}){let{setKeyboardNavigationElement:c}=(0,v.M3)({path:[0],column:0});return n.createElement(y.u2,{onKeyDown:o,forwardedRef:(0,g.A)(l,c),className:et.Rt,placeholder:(0,w.t)("fullscreen_actions.quick_actions_component_search.search-prompt"),onChange:e,value:t,maxLength:150,spellCheck:!1,onFocus:()=>{(0,s.sx)("quick_actions.search_focused",{tracking_session_id:i,searchSessionId:r,entryPoint:a})},onBlur:()=>{(0,s.sx)("quick_actions.search_unfocused",{tracking_session_id:i,searchSessionId:r,entryPoint:a})}})}function eE({asset:e,fileNameByKey:t,fileNameByLibraryKey:r,thumbLayout:i,thumbHeight:a,thumbWidth:l,isList:s,row:c,column:d,assetTypeDropdownSelection:u,searchQuery:m,searchSessionId:_,afterSuccessfulInsert:h,entryPoint:g,openFileKey:f}){let{setKeyboardNavigationElement:E}=(0,v.M3)({path:[c],column:d}),b=(0,k.Hu)(e.file_key),I=(0,k.GZ)(e.file_key,b),T=n.useMemo(()=>({assetKey:(0,U.u2)(e),assetFileKey:(0,A.hH)(e),assetLibraryKey:e.library_key,sectionPosition:4*c+d,assetTypeDropdownSelection:u,libraryType:b,viewMode:s?"LIST":"GRID",searchQuery:m,searchSessionId:_,source:el,sourceSection:el,type:e.type===G.PW.COMPONENT?"component":"state_group",subscriptionLevel:I,isExample:(0,P.o)(e)}),[e,u,d,s,b,c,m,_,I]),S=(0,D.u)({canSwap:!1,openFileKey:f,sourceForTracking:el,insertAsChildOfCanvas:!0,insertLogArgsOverride:{...T,entryPoint:g,insertionAction:"Keyboard navigation or click"}}),{onInsertableResourcePointerDown:w,dragState:C}=(0,F.j)({isList:s,sourceForTracking:el,resource:e,clickToInsert:!1,insertLogArgsOverride:{...T,entryPoint:g,insertionAction:"Drag and drop"},afterSuccessfulInsert:h}),N=(0,n.useCallback)(t=>{S(t,e),h()},[h,e,S]),O=(0,A.hH)(e),L=O?null==t?void 0:t[O]:void 0,R=e.library_key?null==r?void 0:r[e.library_key]:void 0,M=(0,p.u4)("ds_use_lib_keys",R,L);return n.createElement(y.GG,{key:ey(e.node_id),forwardedRef:E,className:s?"quick_actions_component_search--resultItemList--w8FKY":o()(ee.QT,ee.y$),onPointerDown:w,onClick:N},n.createElement(x.q,{dragState:C,isList:s,zIndexOverride:ec}),n.createElement("div",{className:"quick_actions_component_search--noPointerEvents--1LzxQ"},n.createElement(j.W,{asset:e,fileName:M,sourceForTracking:el,thumbLayout:i,thumbHeight:a,thumbWidth:l,viewMode:s?J.Bk.List:J.Bk.Grid,noFlyout:!0,sectionNameForTracking:el,preventDrag:!0,disableContextMenu:!0})))}function ey(e){return`quick-actions-tile-${e}`}},845284:(e,t,r)=>{"use strict";r.d(t,{X:()=>p,j:()=>u});var n=r(966712),i=r(38580),a=r(374626),o=r(499737),l=r(279453),s=r(93062),c=r(65296);let d=(0,i.eU)(null);function u(e){let t=function(e){let t=(0,o.Rs)(l.kS$,{fileKey:e},{enabled:(0,s.AL)()&&(0,n.kc)().qa_ai_metering});if("errors"===t.status||"loading"===t.status||!t.data||!t.data.aiMeterUsage)return null;let{aiMeterUsage:r}=t.data;return r.status===o.tT.Error?null:r.data}(e),[r,i]=(0,a.fp)(d);i(t)}function p(e){let t=a.zl.get(d);if(!(0,n.kc)().qa_ai_metering||e===c.JT.FIND_INSPIRATION)return{withinMeter:!0};if(!t)return{withinMeter:!1};let r=t.find(t=>t.userActions.includes(e));if(!r)return{withinMeter:!1};let i=parseInt(r.remaining);return isNaN(i)?{withinMeter:!1}:{withinMeter:i>0,meterResetDate:r.resetsAt}}},531171:(e,t,r)=>{"use strict";r.d(t,{G3:()=>E,GG:()=>b,I8:()=>S,LC:()=>I,vh:()=>y,y1:()=>v,ze:()=>T});var n=r(38329),i=r(966712),a=r(38580),o=r(374626),l=r(499737),s=r(877723),c=r(960884),d=r(335682),u=r(279453),p=r(984968),m=r(479296),_=r(93062),h=r(438821);let g=(0,a.eU)(!1),f=(0,a.eU)(!1);function E(e){let t=function(e){let t=(0,l.Rs)(u.GIl,{key:e},{enabled:(0,_.AL)()&&(0,i.kc)().qa_ai_metering});if("errors"===t.status||"loading"===t.status||!t.data)return!1;let{file:r}=t.data;return(null==r?void 0:r.status)===l.tT.Loaded&&null!=r&&!!r.data&&r.data.hasPermission}(e),[r,n]=(0,o.fp)(g);n(t)}let y=(0,m.n)(()=>{let e=(0,s.q8)(),t=(0,o.md)(g);return!!(0,h.$)()&&((0,i.kc)().qa_ai_metering?t:!e)});function b(){if(!(0,h.$)())return!1;let e=o.zl.get(g);if((0,i.kc)().qa_ai_metering)return e;let t=o.zl.get(c.Z),r=o.zl.get(p.Me),a=n.D.getState().openFile,l=!a||!a.canEdit;return!(0,s.lt)(t,r,l)}function v(e){let t=function(e){let t=(0,l.Rs)(u.WoR,{key:e},{enabled:(0,_.AL)()&&(0,i.kc)().qa_ai_metering});if("errors"===t.status||"loading"===t.status||!t.data)return!1;let{file:r}=t.data;return(null==r?void 0:r.status)===l.tT.Loaded&&null!=r&&!!r.data&&r.data.hasPermission}(e),[r,n]=(0,o.fp)(f);n(t)}let I=(0,m.n)(()=>{let e=(0,s.q8)(),t=(0,o.md)(f);return!!(0,h.$)()&&((0,i.kc)().qa_ai_metering?t:!e)});var T=(e=>(e.PERSONAL_DRAFT="PERSONAL_DRAFT",e.UNKNOWN="UNKNOWN",e))(T||{});function S(){let e=y(),t=(0,d.q5)();return!(0,i.kc)().qa_ai_checks||e?null:!t||t.parentOrgId||t.teamId?"UNKNOWN":"PERSONAL_DRAFT"}},93062:(e,t,r)=>{"use strict";r.d(t,{AL:()=>a,C7:()=>c,Ii:()=>p,KK:()=>l,Ll:()=>u,am:()=>s,h8:()=>o,qF:()=>d});var n=r(966712),i=r(438821);function a(){return!!(0,n.kc)().qa_v2&&(0,i.Q)()}function o(){return!!(0,n.kc)().qa_search_frecency&&(0,i.Q)()}function l(){return!!(0,n.kc)().first_draft_make_changes&&(0,i.$)()}function s(){return!!(0,n.kc)().api_asset_search&&(0,i.$)()}function c(){return!!(0,n.kc)().asset_suggestions&&(0,i.$)()}function d(){return!!(0,n.kc)().eai_image_tools&&(0,i.$)()}function u(){return!!(0,n.kc)().prototype_ai_magic_link&&(0,i.$)()}function p(){return!!(0,n.kc)().eai_auto_rename_layers&&(0,i.$)()}},65296:(e,t,r)=>{"use strict";r.d(t,{HW:()=>i,JT:()=>a,wC:()=>n});let n=354,i=600;var a=(e=>(e.TRANSLATE_TEXT="translate-text",e.REWRITE_TEXT="rewrite-text",e.SHORTEN_TEXT="shorten-text",e.FIRST_DRAFT="first-draft",e.FIRST_DRAFT_MAKE_CHANGES="first-draft-make-changes",e.FIRST_DRAFT_LINTING="first-draft-linting",e.FIRST_DRAFT_DEBUG="first-draft-debug",e.FIND_INSPIRATION="find-inspiration",e.REMOVE_BACKGROUND="remove-background",e.AUTO_RENAME_LAYERS="auto-rename-layers",e.GENERATE_IMAGE="generate-image",e.MAGIC_LINK="magic-link",e.CONTENT_FILL="content-fill",e.SLIDES_REWRITE_TEXT="slides-rewrite-text",e))(a||{})},58:(e,t,r)=>{"use strict";r.d(t,{C:()=>l,s:()=>o});var n=r(411855),i=r(320063);let a=(0,n.createContext)((0,n.createRef)());function o({children:e}){let t=(0,n.useRef)(!1);return n.createElement(a.Provider,{value:t},e)}function l(e){let t=(0,n.useContext)(a);(0,i.h)(()=>{e.current&&""!==e.current.value&&!1===t.current&&e.current.select(),t.current=!0})}},789089:(e,t,r)=>{"use strict";r.d(t,{m:()=>w});var n=r(411855),i=r(188507),a=r(939863),o=r(829488),l=r(466636),s=r(376441),c=r(662275),d=r(964197),u=r(780700),p=r(269167),m=r(641638),_=r(170786),h=r(335682),g=r(694687),f=r(860178),E=r(555328),y=r(239671),b=r(376485),v=r(928754),I=r(500720),T=r(394867),S=r(364069);function w({augmentedExtension:e,submenuRef:t,displayAboveTarget:r}){var _;let w=(0,T._I)(),{extension:C,publishedExtension:N,canRun:O,canRequest:L}=e,R=(0,i.wA)(),{close:P}=(0,S.c)(),k=p.EO(N),D=p.OY(N),M=p.gn(N),x=function(e){let t=(0,f.TA)(),r=(0,i.d4)(e=>e.authedActiveCommunityProfile),a=p.ej(e);return n.useCallback(()=>{if(!e)return;let n=E.aL.QUICK_ACTIONS;(0,o.mG)(e,n,t,null==r?void 0:r.id),a()},[e,t,r,a])}(N),F=n.useCallback(()=>{R(s.v({}))},[R]),U=(0,u.Gt)(C.plugin_id,"quick-actions"),B=(0,I.q8)(C),H=(0,I.U4)(C),V=(0,I.S3)({submenuIsShown:H,extension:C,displayAboveTarget:r}),G=(0,n.useCallback)(()=>!(C.manifest.parameters&&!1!==C.manifest.parameterOnly)&&!B,[C.manifest.parameters,C.manifest.parameterOnly,B]),W=n.useCallback(()=>{(0,b.k0)(C)?A(C):B&&t?V(t.current):U(),w(T.Gb.RUN_PUBLISHED_EXTENSION),G()&&P()},[C,w,G,U,P,V,t,B]),K=(0,h.q5)(),Y=(0,m.RW)(),j=n.useCallback(()=>{if(!K||!K.parentOrgId)return;let e={extension:{pluginId:C.plugin_id,iconUrl:C.redirect_icon_url,name:C.name},isWidget:(0,b.k0)(C),orgId:K.parentOrgId,workspaceDetails:Y.loaded?Y.data:void 0,openedFrom:"editor",fullscreenEditorType:(0,y.wN)(K.editorType)};R((0,c.to)({type:v.S,data:e}))},[R,C,K,Y]),z=(0,g.sZ)(),$=(0,d.a)(null==z?void 0:z.id,C.plugin_id,Y.loaded?null==(_=Y.data)?void 0:_.workspaceId:void 0);return n.useMemo(()=>{let e=null==N?void 0:N.monetized_resource_metadata;return k&&!D&&e?{onAction:x,actionText:(0,l.XR)(e)}:M?{onAction:F,actionText:(0,a.t)("qa.extensions.update_payment")}:O?{onAction:W,actionText:(0,a.t)("qa.extensions.run")}:$?{onAction:()=>{},actionText:(0,a.t)("qa.extensions.approval_pending")}:L?{onAction:j,actionText:(0,a.t)("qa.extensions.request_approval")}:{onAction:()=>{},actionText:""}},[k,D,N,x,M,F,O,L,$,j,W])}let A=e=>{(0,_.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:e.id,triggeredFrom:"quick-actions"})}},258043:(e,t,r)=>{"use strict";r.d(t,{Dl:()=>p,ID:()=>h,LU:()=>T,Q0:()=>S,SX:()=>_,Uu:()=>b,_M:()=>v,aK:()=>w,as:()=>m,hm:()=>f,i9:()=>E,nP:()=>g,uZ:()=>y,zQ:()=>I});var n=r(411855),i=r(776250),a=r(374626),o=r(743282),l=r(479296),s=r(133894),c=r(739009),d=r(201035);let u=(0,l.n)((e,t)=>{(0,i.sx)(e,t)});function p(e){u(d.j4,e)}function m(e){u(d.G5,e)}function _(e){u(d.Bq,e)}function h(e){(0,i.sx)(d.Lv,e)}function g(e){u(d.m0,e)}function f(e){u(d.Ec,e)}function E(e){u(d.hA,e)}function y(e){u(d.f0,e)}function b(e){let t=a.zl.get(s.rE),r=a.zl.get(s.dd);return{action:e,source:(null==t?void 0:t.source)??null,client_lifecycle_id:(0,o.g)(),quick_actions_session_id:r,file_key:(null==t?void 0:t.fileKey)??null,product_type:(null==t?void 0:t.productType)??null}}function v({action:e,client_lifecycle_id:t}){let r=(0,a.md)(s.rE),i=(null==r?void 0:r.source)??null,o=(0,a.md)(s.dd),l=(null==r?void 0:r.fileKey)??null,c=(null==r?void 0:r.productType)??null;return(0,n.useMemo)(()=>({action:e,source:i,client_lifecycle_id:t,quick_actions_session_id:o,file_key:l,product_type:c}),[e,t,l,c,o,i])}function I(e){return e.shortcut?{interaction_type:d.Cq.KEYBOARD_SHORTCUT,keyboard_shortcut:(0,c.F1)(e.shortcut)}:{interaction_type:d.Cq.BUTTON_CLICK}}function T(e){return e.shortcut?{interaction_type:d.eb.KEYBOARD_SHORTCUT,keyboard_shortcut:(0,c.F1)(e.shortcut)}:{interaction_type:d.eb.BUTTON_CLICK}}function S(e){return e.shortcut?{interaction_type:d.bp.KEYBOARD_SHORTCUT,keyboard_shortcut:(0,c.F1)(e.shortcut)}:{interaction_type:d.bp.BUTTON_CLICK}}function w(e){return e.shortcut?{interaction_type:d.dk.KEYBOARD_SHORTCUT,keyboard_shortcut:(0,c.F1)(e.shortcut)}:{interaction_type:d.dk.BUTTON_CLICK}}},556442:(e,t,r)=>{"use strict";r.d(t,{$L:()=>u,NP:()=>m,Nv:()=>p,OW:()=>s,RA:()=>a,Sq:()=>c,U3:()=>d,W3:()=>n,gc:()=>o,l4:()=>l,mP:()=>i,tq:()=>h,uP:()=>_});let n="Quick Actions Search",i="open-quick-actions",a="Quick Actions Search Query Result",o="search-quick-actions";var l=(e=>(e.EXTENSION="extension",e.ACTION="action",e))(l||{});let s="Quick Actions Action",c="Quick Actions Suggestion Toast Shown",d="quick_actions_v1",u="quick_actions_v2",p="frecency",m="string-match",_="extensions",h="assets"},123749:(e,t,r)=>{"use strict";let n;r.d(t,{$I:()=>N,Jf:()=>L,KY:()=>k,RM:()=>x,ZO:()=>n,_V:()=>C,el:()=>D,gn:()=>M,h$:()=>U,iP:()=>P,jD:()=>O});var i=r(776250),a=r(344780),o=r(38329),l=r(38580),s=r(374626),c=r(743282),d=r(738269),u=r(809831),p=r(852800),m=r(341860),_=r(239671),h=r(279145),g=r(479296),f=r(845284),E=r(531171),y=r(93062),b=r(65296),v=r(556442),I=r(133894),T=r(767760),S=r(208672),w=r(36630);let A=(0,l.eU)(null);function C(){var e;let t=s.zl.get(I.dd);if(!t)throw Error("Session ID is missing when opening a module in Quick Actions V2.");return{sessionId:t,canvasSelection:null==(e=m.qo.instance.getCurrentPage())?void 0:e.directlySelectedNodes,searchQuery:s.zl.get(I.Q8)}}function N(e,t,r){let n=a.sn.start(v.mP);if(s.zl.set(I.rE,r||null),M(t)){if(s.zl.set(I.Bu,!0),s.zl.get(I.dd)||s.zl.set(I.dd,(0,c.g)()),s.zl.set(A,null),t){if(t.beforeModuleOpen){let e=C();t.beforeModuleOpen(e)}"tab"===t.type?(s.zl.set(I.Lk,t.module),t.filter&&s.zl.set(S.t,t.filter)):s.zl.set(I.YH,e=>[t.module,...e])}p.qmM.setDefaultTool()}else{let t=(e,t)=>{(0,i.sx)(v.W3,{...r,qaVersion:t,quickActionsSessionId:e,timeToShowModal:n.stop()},{forwardToDatadog:!0})};e(d.j7({type:h.jv,hasOwnEscKeyHandler:!0,data:{fireQuickActionsTrackingEvent:e=>t(e,v.U3)}}))}}function O(e,t){if(s.zl.get(I.Bu)){if(s.zl.get(I.ZG))return!1;s.zl.set(I.Bu,!1),s.zl.set(I.dd,null),(0,w.R)(),(0,T.b)()}else(null==t?void 0:t.type)===h.jv&&e(d.oB());return!0}function L(e){return s.zl.get(I.Bu)||(null==e?void 0:e.type)===h.jv}function R(e){for(let t of Object.values(b.JT))if(e===t)return t;return null}function P(e,t={}){!(!(0,y.AL)()||s.zl.get(I.Bu))&&(!R(e)||(0,E.GG)())&&function(e){let t=R(e);if(!t)return!0;let{withinMeter:r}=(0,f.X)(t);return r}(e)&&(s.zl.get(I.dd)||s.zl.set(I.dd,(0,c.g)()),s.zl.set(A,{action:e,payload:t}))}function k(){s.zl.get(A)&&(s.zl.set(A,null),s.zl.set(I.dd,null))}function D(){return(0,s.md)(A)}function M(e){let t=p.Ez5.uiState().isUI3.getCopy(),r=o.D.getState().selectedView,n=(0,u.JV)(r),i=n&&n!==_.nT.Whiteboard;return!!((0,y.AL)()&&i&&(t||e))}let x=(0,g.n)(e=>{let t=p.Ez5.uiState().isUI3.getCopy(),r=o.D.getState().selectedView,n=(0,u.JV)(r),i=n&&n===_.nT.Design;return!!((0,y.AL)()&&i&&(t||e))});class F{isQuickActionsShown(){return L(o.D.getState().dropdownShown)}}function U(){n=new F}},133894:(e,t,r)=>{"use strict";r.d(t,{Bu:()=>y,Bw:()=>c,IH:()=>f,JB:()=>T,Jc:()=>m,Lk:()=>_,Q8:()=>u,Rt:()=>p,Sf:()=>g,TT:()=>d,YH:()=>E,ZG:()=>I,dd:()=>h,fq:()=>v,hw:()=>w,jh:()=>S,rE:()=>b});var n=r(411855),i=r(288706),a=r(38580),o=r(877822),l=r(743282);let s=(0,i.tx)(null),c=(0,i.tx)({}),d=(0,i.tx)(null),u=(0,i.tx)(""),p=(0,a.eU)((0,l.g)());var m=(e=>(e.ALL="all",e.EXTENSIONS="extensions",e.ASSETS="assets",e))(m||{});let _=(0,i.tx)("all"),h=(0,i.tx)(null),g=(0,a.eU)(null),f=(0,a.eU)(null),E=(0,i.tx)([]),y=(0,a.eU)(!1),b=(0,a.eU)(null),v=(0,a.eU)(0),I=(0,a.eU)(!1);function T(){let e=(0,o.AY)(s),t=(0,o.AY)(d);return(0,n.useCallback)(()=>{e(),t()},[t,e])}function S(){let e=(0,o.AY)(s),t=(0,o.AY)(d),r=(0,o.AY)(u),i=(0,o.AY)(E),a=(0,o.AY)(_);return(0,n.useCallback)(()=>{e(),t(),r(),i(),a()},[e,i,r,t,a])}function w(){let e=(0,o.AY)(u);return(0,n.useCallback)(()=>{e()},[e])}},150729:(e,t,r)=>{"use strict";r.d(t,{E:()=>l,x:()=>o});var n=r(411855),i=r(762638),a=r(501114),o=(e=>(e.DEFAULT="default",e.BRAND="brand",e.ON_MENU="on_menu",e))(o||{});function l({children:e,variant:t="default"}){let r=i.cx.b1.flex.h16.py0.px4.font11.itemsCenter.justifyCenter.gap4.bRadius5.match(t,{default:i.cx.colorBorder.colorTextSecondary,brand:i.cx.colorBorderBg.colorTextBrand,on_menu:i.cx.colorTextMenuSecondary}).$,o=a.sx.if("on_menu"===t,a.sx.add({borderColor:"var(--color-badge-border, var(--color-border-menu))"})).$;return n.createElement("div",{className:r,style:o,"data-testid":"qav2-item-badge"},e)}},304041:(e,t,r)=>{"use strict";r.d(t,{SD:()=>v,ms:()=>I,rX:()=>T});var n=r(411855),i=r(535904),a=r(326331),o=r(841563),l=r.n(o),s=r(358145),c=r(498750),d=r(153234),u=r(268537),p=r(723325),m=r(762638),_=r(318812),h=r(720488),g=r(750427),f=r(639094),E=r(742206),y=r(739009),b=r(749307);function v(e){let t=n.useRef(null),{itemIndex:r,layoutIndex:i,inPrimaryLayout:a}=(0,b.tm)(t),{isFauxFocused:o,setKeyboardNavigationElement:l,keyboardNavigationItem:s}=(0,p.M3)({path:[i,0],column:r}),c=(0,p.z3)("faux"),{active:d}=(0,g.i)({isPrimaryLayout:a,layoutIndex:i,itemIndex:r,isFauxFocused:o,keyboardNavigationItem:s});(0,n.useEffect)(()=>{t.current&&!s&&l(t.current)},[s,l]);let u=(0,b.R$)();return n.createElement(I,{...e,buttonRef:t,active:d,onVisibleChange:e=>{e?c():(u(),null==s||s.fauxFocus())}})}function I(e){return n.createElement(A,{...e,buttonComponent:S})}function T(e){return n.createElement(A,{...e,buttonComponent:w})}function S(e){let t=(0,n.useMemo)(()=>e.selected?e.labelForSelectedItem?e.labelForSelectedItem(e.selected):e.selected.toString():e.placeholder,[e]),r=d.rf(d.Pt(e,"dropdownButton"),"click",()=>{e.onSelect()});return n.createElement(f.l,{onClick:e=>{e.stopPropagation(),r()},iconSuffix:n.createElement(a.r,null),variant:"secondary",disabled:e.disabled},t)}function w(e){let t=d.rf(d.Pt(e,"dropdownIconButton"),"click",()=>{e.onSelect()});return n.createElement(i.d,{"aria-label":e.iconAriaLabel,toggled:e.isActive,variant:"secondary",onClick:e=>{e.stopPropagation(),t()}},e.iconSvg)}function A(e){let t=n.useRef(null),r=e.buttonRef||t,i=(0,n.useId)(),a=e.id??i,{toggle:o,hide:d,showing:p}=(0,_.B)(a),g=(0,s.ZC)(p),[f,b]=(0,n.useState)(),v=()=>{var e;let t=r.current;t&&(b(t.getBoundingClientRect()),(null==document?void 0:document.activeElement)&&document.activeElement instanceof HTMLElement&&(null==(e=document.activeElement)||e.blur()),o())},I=(0,n.useCallback)(()=>{d()},[d]),{onFocus:T,active:S}=e;(0,n.useEffect)(()=>{T&&S&&T()},[S,T]),(0,y.kz)(c.Uz.ENTER,t=>{if(!t.target)return;let r=e.items.filter(e=>"checkableOption"===e.type).find(e=>e.text===t.target.text);r&&w(r),v()},S);let w=(0,n.useCallback)(t=>{t.disabled||(t.onSelectOverride?t.onSelectOverride():e.onSelectedChange&&t.value&&e.onSelectedChange(t.value),I())},[I,e]);return(0,n.useEffect)(()=>{var t;void 0!==g&&g!==p&&(null==(t=e.onVisibleChange)||t.call(e,p))},[g,e,p]),n.createElement("div",null,n.createElement("div",{ref:r},n.createElement(E.c,{active:!!S},n.createElement(e.buttonComponent,{...e,onSelect:v,isActive:p}))),p&&f&&n.createElement(h.Jz,{lean:e.lean||"left",targetRect:f,displayAboveTarget:e.displayAboveTarget,hideDropdown:I,maxWidth:e.maxWidth,autoHeight:!0,autofocusPrevOnDismount:!0,options:e.items.map((t,r)=>{switch(t.type){case"header":return n.createElement(u.W.Option,{key:r,disabled:!0},n.createElement("div",{className:m.cx.overflowHidden.ellipsis.block.$},t.text));case"separator":return n.createElement(u.W.Separator,{key:r});case"option":return n.createElement(u.W.Option,{key:r,disabled:t.disabled,onClick:()=>w(t)},n.createElement("div",{className:m.cx.overflowHidden.ellipsis.block.$},t.text));case"checkableOption":return n.createElement(u.W.CheckableOption,{key:r,disabled:t.disabled,onClick:()=>w(t),checked:l()(e.selected,t.value)},n.createElement("div",{className:m.cx.overflowHidden.ellipsis.block.$},t.text))}})}))}},646142:(e,t,r)=>{"use strict";r.d(t,{B:()=>m});var n=r(411855),i=r(153234),a=r(723325),o=r(827586),l=r(762638),s=r(750427),c=r(749307),d=r(145747),u=r(304261),p=r(366180);function m({children:e,resultCount:t,primary:r,maxVisibleResults:i}){let a=(0,n.useRef)(null),s=(0,n.useRef)(null),{tracker:u,index:p,isPrimaryLayout:m}=(0,c.L0)(s,r),_=(0,d.N)(t,u,s,i);return 0===t?null:n.createElement(c.MQ.Provider,{value:{trackerRef:u,layoutIndex:p,primary:m}},n.createElement("div",{ref:s,className:l.cx.flex.gap4.if(void 0===i,l.cx.absolute.left0.right0.top0.bottom0).$},n.createElement(o.P,{ref:a,height:_,hideScrollbar:!0,className:l.cx.wFull.$},n.createElement(c.AD,null,n.createElement("div",{className:l.cx.flex.flexColumn.pb8.$},e)))))}(e=>{function t({children:t,primaryAction:r,secondaryAction:o,actionLabel:d=!0,debug:m,setActive:_,ignoreFocusStyle:h,recordingKey:g,scrollMargin:f}){let[E,y]=n.useState(!1),b=(0,n.useRef)(null),{itemIndex:v,layoutIndex:I,inPrimaryLayout:T}=(0,c.tm)(b),S=[I,v],{isFauxFocused:w,setKeyboardNavigationElement:A,keyboardNavigationItem:C}=(0,a.M3)({path:S,navigationOptions:{supportHorizontalNavigation:!1,simulateClickOnEnter:!1,fauxFocusByDefault:T&&0===v}}),{focus:N,active:O}=(0,s.i)({isPrimaryLayout:T,layoutIndex:I,itemIndex:v,isFauxFocused:w,keyboardNavigationItem:C,debug:m}),L=l.cx.flex.alignCenter.bRadius5.ml8.mr8.p4.flex1.if(w&&!h,l.cx.colorBgHover).$,R=(0,n.useMemo)(()=>C?{item:C,index:v,element:b.current}:null,[v,C]),{onClickCallback:P}=(0,u.k)({primaryAction:r,secondaryAction:o,active:w,actionLabel:d,target:R});(0,n.useEffect)(()=>{_&&_(O)},[O,_]),(0,n.useEffect)(()=>{b.current&&!C&&A(b.current)},[C,A]);let k=(0,p.U)(),D=(0,i.Pt)(k,"list",g||""),M=(0,i.rf)(D,"mouseenter",()=>{E&&N({preventScroll:!0})}),x=(0,i.rf)(D,"mousemove",()=>{E||(y(!0),N({preventScroll:!0}))}),F=(0,i.rf)(D,"mouseleave",()=>{y(!1)}),U=(0,i.rf)(D,"click",()=>{P()});return n.createElement(e.ListItemActiveContext.Provider,{value:O},n.createElement("button",{className:L,onMouseEnter:M,onMouseMove:x,onMouseLeave:F,onClick:U,ref:b,"data-testid":g,style:{scrollMargin:f}},t))}e.ListItemActiveContext=(0,n.createContext)(!1),e.Item=t,(t=e.Item||(e.Item={})).useIsActive=function(){return n.useContext(e.ListItemActiveContext)},e.Section=function({header:e,first:t,children:r}){return n.createElement("div",{className:l.cx.flex.flexColumn.$},n.createElement("h1",{className:l.cx.colorTextSecondary.lh16.font11.fontMedium.ml12.mb8.if(!t,l.cx.mt8).$},e),r)}})(m||(m={}))},179774:(e,t,r)=>{"use strict";r.d(t,{c0:()=>y,fu:()=>E,oz:()=>f});var n=r(411855),i=r(442539),a=r(498750),o=r(153234),l=r(723325),s=r(750427),c=r(304041),d=r(742206),u=r(739009),p=r(896344),m=r(749307),_=r(304261),h=r(366180),g=r(203258);function f({tabId:e,onAction:t,children:r,navigatingShortcut:c,recordingKey:p}){let f=(0,h.U)(),E=(0,o.Pt)(f,"tabs",p??e),y=(0,n.useRef)(null),{itemIndex:v,layoutIndex:I,inPrimaryLayout:T}=(0,m.tm)(y),{isFauxFocused:S,setKeyboardNavigationElement:w,keyboardNavigationItem:A}=(0,l.M3)({path:[I,0],column:v}),{activeTabId:C}=n.useContext(b),{active:N}=(0,s.i)({layoutIndex:I,isPrimaryLayout:T,itemIndex:v,isFauxFocused:S,keyboardNavigationItem:A,autoFocusOverride:C===e});(0,u.TH)(c?[c]:[],e=>{e.preventDefault(),t()}),(0,n.useEffect)(()=>{y.current&&!A&&w(y.current)},[A,w]);let O=(0,n.useMemo)(()=>A?{index:v,item:A,element:y.current}:null,[v,A]),L=(0,n.useMemo)(()=>({shortcuts:[{key:a.Uz.ENTER}],onAction:t}),[t]),{onClickCallback:R}=(0,_.k)({primaryAction:L,active:N,actionLabel:!1,target:O}),P=(0,o.rf)(E,"click",R);return n.createElement("button",{ref:y,tabIndex:0,onClick:P},n.createElement(d.c,{active:N},n.createElement("div",{className:g.eg},n.createElement(i.x.Option,{id:e,value:e}),n.createElement("label",{htmlFor:e},r))))}function E({children:e,onChange:t,value:r}){return n.createElement(p.B,{primary:!1,gap:8,fullWidth:!0,justify:"space-between"},n.createElement(i.x.Root,{value:r,onChange:t,className:g.gy},n.createElement(b.Provider,{value:{activeTabId:r}},e)))}function y(e){return n.createElement(c.SD,{...e})}let b=n.createContext({activeTabId:""})},749307:(e,t,r)=>{"use strict";r.d(t,{AD:()=>E,AM:()=>m,L0:()=>g,MQ:()=>p,R$:()=>h,Uz:()=>d,aH:()=>u,bE:()=>_,tm:()=>y,zp:()=>b});var n=r(411855),i=r(320063),a=r(860601),o=r(743282),l=r(318812);class s{constructor(){this.listLength=0,this.map=new Map}reset(){this.listLength=0,this.map=new Map}register(e,t,r){var n;if(!this.map.has(e)){void 0!==r?this.listLength+=r:this.listLength++;let n=this.listLength-1;return this.map.set(e,{index:n,ref:t}),n}return(null==(n=this.map.get(e))?void 0:n.index)??-1}unregister(e){this.map.delete(e),this.listLength--}getRef(e){for(let[t,{index:r,ref:n}]of this.map.entries())if(r===e)return n;return null}}let c={register:()=>a.lQ,unregister:a.lQ,getRef:()=>null,getIndex:()=>-1,items:[],reset:a.lQ,findFirstIndexWith:()=>-1},d=n.createContext({tracker:c,renderId:0,setRenderId:a.lQ});function u(){return{tracker:function(){let[e,t]=n.useState([]),r=(0,n.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),i=(0,n.useCallback)(e=>{null!==e.ref.current&&t(t=>t.findIndex(t=>t.id===e.id)>-1?t:[...t,e].sort((e,t)=>{var r;return e.ref.current&&t.ref.current?(r=e.ref.current,t.ref.current.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_PRECEDING)?-1:1:0}).filter(e=>null!==e.ref.current))},[]),a=(0,n.useCallback)(t=>{var r;return(null==(r=e[t])?void 0:r.ref)??null},[e]),o=(0,n.useCallback)(t=>e.findIndex(e=>e.id===t),[e]),l=(0,n.useCallback)(()=>{t([])},[]),s=(0,n.useCallback)(t=>e.findIndex(t),[e]);return{register:i,unregister:r,getRef:a,getIndex:o,reset:l,items:e,findFirstIndexWith:s}}()}}let p=n.createContext({trackerRef:n.createRef(),layoutIndex:-1}),m=n.createContext({trackerRef:n.createRef(),layoutIndex:-1,columns:1});function _(e){let t=n.useContext(d),r=(0,l.U)();(0,n.useEffect)(()=>{var t;r||null==(t=e.current)||t.focus()},[t.renderId,r,e])}function h(){let{renderId:e,setRenderId:t}=n.useContext(d);return(0,n.useCallback)(()=>{t(e+1)},[e,t])}function g(e,t){let r=n.useRef(new s),{tracker:a}=n.useContext(d),o=(0,n.useId)(),l=a.getIndex(o);(0,i.h)(()=>(a.register({id:o,ref:e,primary:t}),()=>{a.unregister(o)}));let c=a.findFirstIndexWith(e=>!!e.primary);return{tracker:r,index:l,isPrimaryLayout:c<0?void 0:c===l}}let f=n.createContext({});function E(e){var t,r;let i=n.useContext(p),a=n.useContext(m);null==(t=i.trackerRef.current)||t.reset(),null==(r=a.trackerRef.current)||r.reset();let l=(0,o.g)();return n.createElement(f.Provider,{value:l},e.children)}function y(e){let t=n.useContext(p),r=(0,n.useContext)(f),i=(0,n.useId)(),[a,o]=n.useState(-1),l=v(t.layoutIndex);return(0,n.useLayoutEffect)(()=>{var r;(null==(r=t.trackerRef)?void 0:r.current)&&o(t.trackerRef.current.register(i,e))},[t.trackerRef,i,e,r]),{itemIndex:v(a),layoutIndex:l,inPrimaryLayout:t.primary}}function b(e,t=!1){let r=n.useContext(m),i=(0,n.useContext)(f),a=(0,n.useId)(),[o,l]=n.useState(-1),s=v(r.layoutIndex),c=v(t?0:o%r.columns),d=v(Math.floor(o/r.columns));return(0,n.useLayoutEffect)(()=>{var n;(null==(n=r.trackerRef)?void 0:n.current)&&l(r.trackerRef.current.register(a,e,t?r.columns:void 0))},[r.trackerRef,a,e,i,r.columns,t]),{rowIndex:d,itemIndex:v(o),layoutIndex:s,columnIndex:c,inPrimaryLayout:r.primary}}function v(e){return e<0?0:e}},400871:(e,t,r)=>{"use strict";r.d(t,{B$:()=>er,tF:()=>et,XO:()=>ee});var n=r(411855),i=r(697378),a=r(767129),o=r(498481),l=r(189904),s=r(818150),c=r(629019),d=r.n(c),u=r(913817),p=r.n(u),m=r(776250),_=r(935283),h=r(91408),g=r(38329),f=r(320063),E=r(374626),y=r(860601),b=r(762638),v=r(939863),I=r(632430),T=r(696673),S=r(853966),w=r(336599),A=r(643067),C=r(498606),N=r(48515),O=r(179530),L=r(177550),R=r(588664),P=r(560468),k=r(268816),D=r(325231),M=r(364069),x=r(133894),F=r(11206),U=r(896344),B=r(914191),H=r(479999),V=r(253262),G=r(179774),W=r(851573),K=r(51333),Y=r(849680),j=r(355330),z=r(39653),$=r(686776),Z=r(279071),q=r(153539),J=r(477508),X=r(882004),Q=r(598284);async function ee(e,t,r){let n=E.zl.get(x.dd);if(n){if(e&&(r&&ei(e)&&(0,K.u)({type:"text"},{sessionId:n,canvasSelection:void 0,searchQuery:e}),en(e))){let t;try{t=await E.zl.get(T.ce)}catch{t=()=>!1}(0,D.ES)({type:"input-text",query:e,assetTypeOption:{type:N.I.ALL},hasCommunityLibrariesInEditor:t})}t()}}function et({searchHandle:e,hiddenFauxFocusHandle:t}){let{currentSearch:r}=(0,E.md)(D.WP),i=(0,j.V)(),a=(0,E.md)(k.hO.currentSearchAtom),{push:s}=(0,M.c)(),c=(0,E.md)(x.dd),u=(0,w.oh)(I.fi),{recentFragments:_}=(0,k.cN)(!i);if((null==r?void 0:r.result.status)==="errors"&&(!i||(null==a?void 0:a.result.status)==="errors"))return n.createElement("div",{"data-testid":"assets-tab"},n.createElement(B.n.Stretch,null,n.createElement(X.S,{fillHeight:!0},n.createElement(z.I,{icon:n.createElement(o.r,null),variant:"danger",title:(0,v.t)("assets_in_actions.error.title"),subtitle:(0,v.t)("assets_in_actions.error.description")}))));let h=!i||(null==a?void 0:a.result.status)==="loaded"&&0===a.result.data.length;if((null==r?void 0:r.result.status)==="loaded"&&0===r.result.data.length&&h){let e=(null==r?void 0:r.input.type)==="input-text"?r.input.query:"";return n.createElement("div",{"data-testid":"assets-tab"},n.createElement(B.n.Stretch,null,n.createElement(X.S,{fillHeight:!0},n.createElement("span",{className:b.cx.textBodyMedium.colorTextSecondary.$},n.createElement(v.Tx,{id:"assets_in_actions.no_results.title",query:p()(e,{length:24})})))))}return n.createElement(H.q,{key:null==r?void 0:r.queryId},n.createElement("div",{className:d()(b.cx.flex.flexColumn.gap8.$,"assets_tab--bodyFontMedium--lfA3l text--fontPos11--2LvXf text--_fontBase--QdLsd"),"data-testid":"assets-tab"},n.createElement(Z.O,{hiddenFauxFocusHandle:t,header:{title:(0,v.t)("assets_in_actions.assets_section.title"),seeMore:{title:(0,v.t)("assets_in_actions.see_more_button"),onAction:()=>{(0,m.sx)("Asset search see more"),s(n.createElement(er,null),{shouldResetSearchQuery:!1})},recordingKey:"assetsTab.assetsSeeMore"}},numberOfGridColumns:4,maxResults:8}),i&&n.createElement(q.M,{hiddenFauxFocusHandle:t,header:{title:(0,v.t)("assets_in_actions.fragments_section.title"),icon:n.createElement(l.N,null),seeMore:{title:(0,v.t)("assets_in_actions.see_more_button"),onAction:()=>{(0,m.sx)("Fragment search see more",(0,k.d3)(c,a?a.searchId:"",a?a.input:null,!1)),s(n.createElement(er,{initialTab:$.xA.FRAGMENTS}),{shouldResetSearchQuery:!1})},recordingKey:"assetsTab.fragmentsSeeMore"}},initialState:{type:"recents",recents:_},numberOfGridColumns:3,maxResults:6,focusHandle:e,forceLoadingState:(null==r?void 0:r.result.status)==="loading"||u})))}function er({initAssetSearch:e=!1,initialTab:t=$.xA.COMPONENTS}){let r=(0,j.V)(),{currentUserOrgId:o,orgById:c}=g.D.getState(),d=(0,A.wA)({orgById:c,currentUserOrgId:o}),u=n.useRef(null),p=n.useRef(null),{currentSearch:m}=(0,E.md)(D.WP),I=(0,E.md)(k.hO.currentSearchAtom),[T,w]=(0,E.fp)(x.Q8),{recentFragments:M}=(0,k.cN)(!r),K=(0,J.U)(r);S.YG.useInitSearch({disabled:!e});let{debouncedAssetSearch:z,clearAssetSearchAndCancelDebounce:X,cancelDebouncedAssetSearch:et,flushDebouncedAssetSearch:er}=(0,D.TC)({debounceWait:300}),{debouncedFragmentTextSearch:ea,clearFragmentSearchAndCancelDebounce:eo,cancelDebouncedFragmentTextSearch:el,flushDebouncedFragmentTextSearch:es}=(0,Y.S)({debounceWait:300}),[ec,ed]=n.useState({type:N.I.ALL}),eu=n.useCallback(e=>{ed(e),z(T,e),er()},[z,er,T]),ep=n.useRef(null);(0,f.h)(()=>()=>{E.zl.set(P.q4),ee(E.zl.get(x.Q8),y.lQ,r)});let[em,e_]=i.t.useTabs({[$.xA.COMPONENTS]:!0,[$.xA.FRAGMENTS]:!0},{defaultActive:r?t:$.xA.COMPONENTS}),eh=n.useCallback(e=>{var t;switch(e){case $.xA.COMPONENTS:r&&el(),en(T)&&(z(T,ec),er());break;case $.xA.FRAGMENTS:et(),ei(T)&&(ea(T),es());break;default:(0,_.xb)(e)}e_.setActiveTab(em[e].id),null==(t=u.current)||t.focus()},[el,z,ec,er,et,ea,es,T,e_,em,r]),eg=n.useCallback(e=>{w(e),(e_.activeTab===$.xA.COMPONENTS||0===e.length)&&z(e,ec),r&&(e_.activeTab===$.xA.FRAGMENTS||0===e.length)&&ea(e)},[w,e_.activeTab,z,ec,ea,r]),ef=n.createElement(G.fu,{value:e_.activeTab,onChange:y.lQ,numItems:2},n.createElement(G.oz,{tabId:$.xA.COMPONENTS,onAction:()=>eh($.xA.COMPONENTS)},n.createElement(v.Tx,{id:"assets_in_actions.detail_view.components_tab.title"})),n.createElement(G.oz,{tabId:$.xA.FRAGMENTS,onAction:()=>eh($.xA.FRAGMENTS)},n.createElement(v.Tx,{id:"assets_in_actions.detail_view.fragments_tab.title"}))),eE=null==m?void 0:m.queryId,ey=null==I?void 0:I.searchId,eb=e_.activeTab===$.xA.COMPONENTS?eE:ey,ev=T?n.createElement("div",{className:b.cx.flex.wFull.colorBgSelected.itemsCenter.px8.py6.radiusMedium.$},n.createElement(l.N,{style:{"--color-icon":"var(--color-icon-brand)"}}),n.createElement("span",{className:b.cx.ml8.textBodyMedium.$},d?n.createElement(v.Tx,{id:"assets_in_actions.fragments.fragment_search_sugggestion",boldText:n.createElement("span",{className:b.cx.textBodyMediumStrong.$},n.createElement(v.Tx,{id:"assets_in_actions.fragments.fragment_search_sugggestion_bold_text"})),orgText:d.name}):n.createElement(v.Tx,{id:"assets_in_actions.fragments.fragment_search_sugggestion_no_org",boldText:n.createElement("span",{className:b.cx.textBodyMediumStrong.$},n.createElement(v.Tx,{id:"assets_in_actions.fragments.fragment_search_sugggestion_bold_text"}))})),n.createElement("span",{className:b.cx.mlAuto.textBodyMediumStrong.colorTextBrand.$},n.createElement(v.Tx,{id:"assets_in_actions.fragments.fragment_search_sugggestion_hint"}))):void 0,eI={type:"suggestions",suggestions:[(0,v.t)("assets_in_actions.fragments_section.empty_state.suggestion_1"),(0,v.t)("assets_in_actions.fragments_section.empty_state.suggestion_2"),(0,v.t)("assets_in_actions.fragments_section.empty_state.suggestion_3"),(0,v.t)("assets_in_actions.fragments_section.empty_state.suggestion_4"),(0,v.t)("assets_in_actions.fragments_section.empty_state.suggestion_5"),(0,v.t)("assets_in_actions.fragments_section.empty_state.suggestion_6"),(0,v.t)("assets_in_actions.fragments_section.empty_state.suggestion_7")].map(e=>e.toLocaleLowerCase()),onAction:e=>{w(e),ea(e),es()}},eT=null===M||M.length?{type:"recents",recents:M}:eI,eS=(0,L.F)(),ew=(0,R.o)(eS.subscribedFileSubtrees);return n.createElement(B.n,{width:(0,h.jz)(Q.X),height:480,bodyFontMedium:!0,dataTestId:"assetsDetailView"},n.createElement(B.n.Header,null,n.createElement("div",{ref:ep,className:b.cx.flex.flexColumn.$},n.createElement(V.v,{ref:u,searchQuery:T,onSearchChange:eg,onClear:()=>{w(""),X(),r&&eo()},endEnhancer:r&&n.createElement(a.K,{"aria-label":(0,v.t)("asset_suggestions.visual_search_icon_button_tooltip"),onClick:$.KB,"data-tooltip":(0,v.t)("asset_suggestions.visual_search_icon_button_tooltip"),"data-tooltip-type":C.Ib.TEXT,"data-tooltip-show-above":!0},n.createElement(s.A,null)),placeholder:K}),n.createElement(F.X,{ref:p,key:eb}),n.createElement("div",{className:b.cx.px8.pb8.flex.itemsCenter.justifyBetween.$},n.createElement(U.b,{primary:!1,gap:8,align:"center"},r?ef:n.createElement("span",{className:b.cx.textBodyMediumStrong.colorTextSecondary.$},(0,v.t)("assets_in_actions.detail_view.components_tab.title"))),n.createElement(i.t.TabPanel,{...em[$.xA.COMPONENTS]},n.createElement("div",{className:b.cx.h32.$},m&&n.createElement(O.x,{assetType:ec,onSetAssetType:eu,libraryNameByFileKey:ew,validAssetTypeOptions:{[N.I.ALL]:!0,[N.I.RECENT]:!1,[N.I.FILE]:!0,[N.I.LOCAL]:!0}}))),n.createElement(i.t.TabPanel,{...em[$.xA.FRAGMENTS]},r&&I&&n.createElement(W.s,{containerRef:ep}))))),n.createElement(B.n.Body,null,n.createElement(i.t.TabPanel,{...em[$.xA.COMPONENTS]},n.createElement(H.q,{key:eE},n.createElement(Z.O,{hiddenFauxFocusHandle:p,numberOfGridColumns:6,stretchEmptyStates:!0,suggestion:r&&ev,onClickSuggestion:()=>{eh($.xA.FRAGMENTS)}}))),n.createElement(i.t.TabPanel,{...em[$.xA.FRAGMENTS]},n.createElement(H.q,{key:ey},n.createElement(q.M,{hiddenFauxFocusHandle:p,focusHandle:u,initialState:eT,stretchEmptyStates:!0})))))}function en(e){let{currentSearch:t}=E.zl.get(D.WP);return null===t||"input-text"!==t.input.type?e.length>0:t.input.query!==e}function ei(e){let t=E.zl.get(k.hO.currentSearchAtom);return null===t?e.length>0:"input-text"!==t.input.type||t.input.value!==e}},305281:(e,t,r)=>{"use strict";r.d(t,{Ct:()=>z,Ok:()=>j});var n=r(411855),i=r(188507),a=r(767129),o=r(755020),l=r(297501),s=r(846627),c=r(812115),d=r(776621),u=r(96328),p=r(304783),m=r(827586),_=r(574176),h=r(762638),g=r(939863),f=r(501114),E=r(67294),y=r(970516),b=r(677664),v=r(756085),I=r(376485),T=r(350913),S=r(760445),w=r(65296),A=r(364069),C=r(789089),N=r(601976),O=r(937311),L=r(186876),R=r(914191),P=r(304261),k=r(943970),D=r(500720),M=r(500987),x=r(706590),F=r(462141),U=r(794412),B=r(110354);function H({augmentedExtension:e}){let{extension:t,publishedExtension:r}=e,{pop:a}=(0,A.c)(),o=n.useRef(null),{onAction:l,actionText:c}=(0,C.m)({augmentedExtension:e,submenuRef:o,displayAboveTarget:!0}),d=function(e){let t=function(e){let t=(0,i.wA)(),r=(0,I.k0)(e)?(0,T.ox)(e.plugin_id):(0,T.ab)(e.plugin_id);return(0,n.useCallback)(()=>{(0,s.e)(r)||t((0,b.RK)({rawInput:r}))},[t,r])}(e);return{shortcuts:[k.r7],onAction:t,text:(0,g.t)("qa.extensions.open_in_community")}}(t),u=(0,n.useMemo)(()=>({shortcuts:[k.Hz],onAction:l,text:c,submenuRef:o}),[l,c,o]);(0,P.k)({primaryAction:u,secondaryAction:d,actionLabel:!0,active:!0,target:null});let p=(0,N.x)(),_=w.HW-48-41,f=r.unique_run_count,E=r.like_count;return n.createElement(R.n,{height:w.HW,width:p,dataTestId:"extension-details-view"},n.createElement(O.t,null),n.createElement(V,{extension:t,onGoBack:a}),n.createElement(m.P,{height:_,className:h.cx.px16.$},n.createElement(G,{imgUrl:t.redirect_cover_image_url,extensionName:t.name}),n.createElement(W,{name:t.name,numLikes:E,numRuns:f}),n.createElement(K,{publishedExtension:r}),n.createElement(Y,{description:t.description})),n.createElement(D.Xq,{extension:t}))}function V({extension:e,onGoBack:t}){let r=(0,I.k0)(e),s=r?(0,g.t)("qa.extensions.widget"):(0,g.t)("qa.extensions.plugin"),c=e.plugin_id,d=(0,i.wA)(),u=n.useCallback(()=>{d(y.S({url:r?(0,T.ox)(c):(0,T.ab)(c)}))},[d,r,c]);return n.createElement("div",{className:h.cx.p8.$,style:f.sx.add({height:"48 px"}).$},n.createElement("div",{className:h.cx.flex.h32.px4.itemsCenter.justifyBetween.$},n.createElement("div",{className:h.cx.flex.flexRow.$},n.createElement(a.K,{onClick:t,"aria-label":(0,g.t)("qa.go_back")},n.createElement(o.C,null)),n.createElement("div",{className:h.cx.pl8.colorText.textBodyLarge.$},s)),n.createElement(a.K,{onClick:u,"aria-label":(0,g.t)("qa.copy_link")},n.createElement(l.W,null))))}function G({imgUrl:e,extensionName:t}){return n.createElement("div",{className:h.cx.overflowHidden.bRadius5.mb12.$,style:f.sx.add({aspectRatio:"16/9",background:"var(--color-loading)"}).$},n.createElement("img",{src:e,className:h.cx.hFull.wFull.eventsNone.$,style:f.sx.add({objectFit:"cover"}).$,alt:`Thumbnail for ${t}`}))}function W({name:e,numLikes:t,numRuns:r}){return n.createElement("div",{className:h.cx.flex.flexRow.justifyBetween.$},n.createElement("div",{className:h.cx.colorText.textHeadingMedium.$},e),n.createElement("div",{className:h.cx.flex.flexRow.itemsCenter.gap8.colorTextSecondary.textBodyMedium.$},n.createElement("div",{className:h.cx.flex.flexRow.gap2.$},n.createElement(_.B,{svg:B.A,className:h.cx.colorIconSecondary.$,style:f.sx.add({margin:"3px"}).$}),n.createElement("div",null,(0,u.$M)(t))),n.createElement("div",{className:h.cx.flex.flexRow.gap2.$},n.createElement(_.B,{svg:U.A,className:h.cx.mx2.colorIconSecondary.$}),n.createElement("div",null,(0,u.$M)(r)))))}function K({publishedExtension:e}){var t;if(!e)return null;let r=null==(t=e.community_publishers)?void 0:t.accepted[0];if(!r)return null;let{img_url:i,name:a}=r;return n.createElement("div",{className:h.cx.pt4.flex.flexRow.itemsCenter.justifyBetween.colorTextSecondary.textBodyMedium.$},n.createElement("div",{className:h.cx.flex.$},n.createElement(E.H8,{user:{img_url:i,name:a},size:E.Pf.SMALL16}),n.createElement("div",{className:h.cx.pl8.$},(0,S.kB)(e))),n.createElement("div",null,n.createElement(M.o,{publishedExtension:e,showTooltip:!0})))}function Y({description:e}){return n.createElement("div",{className:h.cx.pt16.pb8.$},n.createElement(c.R,{value:e,quillClassName:F.C,fallback:null,errorFallback:null}))}function j(e){let{push:t}=(0,A.c)();return(0,n.useCallback)(()=>{if((0,x.JT)(e)){(0,d.$D)(p.e.EXTENSIBILITY,Error("[Quick Actions] Trying to open details view for a local extension, which should not be possible."),{extra:{extensionId:e.extension.plugin_id,isWidget:(0,I.k0)(e.extension),types:Array.from(e.types).toString()}});return}if(!e.publishedExtension){(0,d.$D)(p.e.EXTENSIBILITY,Error("[Quick Actions] Trying to open details view for an extension without a published extension, which should not be possible."),{extra:{extensionId:e.extension.plugin_id,isWidget:(0,I.k0)(e.extension),types:Array.from(e.types).toString()}});return}let r={...e,publishedExtension:e.publishedExtension};t(n.createElement(H,{augmentedExtension:r}))},[e,t])}function z({extensionId:e,extensionType:t}){let{pop:r}=(0,A.c)(),i=(0,v._P)(e,!0),a=(0,x.Oy)();if(!i.loaded)return n.createElement(L.R,null);let o=i.plugin;if(!o)return r(),null;let l=a(o,t);return(0,x.JT)(l)||!l.publishedExtension?(r(),null):n.createElement(H,{augmentedExtension:{...l,publishedExtension:l.publishedExtension}})}},500720:(e,t,r)=>{"use strict";r.d(t,{S3:()=>v,U4:()=>b,Xq:()=>y,lM:()=>I,q8:()=>E});var n=r(411855),i=r(188507),a=r(96796),o=r(762638),l=r(501114),s=r(738269),c=r(912177),d=r(142045),u=r(480952),p=r(318812),m=r(376485),_=r(632788),h=r(364069),g=r(394867);let f="EXTENSION_SUBMENU_DROPDOWN";function E(e){return e.manifest.menu&&e.manifest.menu.length>0}function y({extension:e}){let t=(0,p.U)(),r=b(e),i=(0,u.c4)(),a=(0,g._I)(),{close:o}=(0,h.c)();if(!r||!e||!e.manifest||!e.manifest.menu)return null;let l=(0,m.ZQ)(e)?{localFileId:e.localFileId}:{pluginId:e.plugin_id},s=(0,d.z)(e.manifest.menu,l).map(e=>(0,c.aS)(e,e=>()=>{(0,c.Im)(i,"quick-actions",e),a(g.Gb.RUN_LOCAL_EXTENSION),o()}));return n.createElement(_.ms,{parentRect:null==t?void 0:t.data.targetRect,displayAboveTarget:null==t?void 0:t.data.displayAboveTarget,lean:"left",minWidth:64,items:s})}function b(e){let t=(0,p.U)();return(0,m.ZQ)(e)?(null==t?void 0:t.type)===f&&(null==t?void 0:t.data.extensionId)===e.plugin_id&&(null==t?void 0:t.data.localFileId)===e.localFileId:(null==t?void 0:t.type)===f&&(null==t?void 0:t.data.extensionId)===e.plugin_id&&(null==t?void 0:t.data.localFileId)===null}function v({submenuIsShown:e,extension:t,displayAboveTarget:r}){let a=(0,i.wA)();return n.useCallback(n=>{if(e)a(s.oB());else if(n){let e=n.getBoundingClientRect();a(s.j7({type:f,data:{extensionId:t.plugin_id,localFileId:(0,m.ZQ)(t)?t.localFileId:null,targetRect:e,displayAboveTarget:r}}))}},[a,e,t,r])}function I({augmentedExtension:e,submenuRef:t}){let{extension:r,canRun:i}=e;return E(r)&&i?n.createElement("span",{className:o.cx.bgTransparent.$,"data-testid":"submenu-button",ref:t,style:l.sx.add({marginLeft:"-8px"}).$},n.createElement(a.O,null)):null}},176428:(e,t,r)=>{"use strict";r.d(t,{BY:()=>s,ox:()=>c});var n=r(411855),i=r(517333),a=r(939863),o=r(694687),l=r(179774),s=(e=>(e.ALL="all",e.PLUGINS="plugins",e.WIDGETS="widgets",e.FROM_ORG="from-org",e.DEVELOPMENT="development",e))(s||{});function c({extensionFilter:e,setExtensionFilter:t}){let r=(0,o.sZ)(),s={label:(0,a.t)("qa.filter.all"),value:"all"},c={label:(0,a.t)("qa.filter.plugins"),value:"plugins"},u={label:(0,a.t)("qa.filter.widgets"),value:"widgets"},p={label:(0,a.t)("qa.filter.from_org_name",{org_name:(null==r?void 0:r.name)||""}),value:"from-org"},m={label:(0,a.t)("qa.filter.development"),value:"development"},_=[s,c,u,p,m].find(t=>t.value===e)||s,h=!!r,g=i.y3(),f=[{type:"checkableOption",value:s,text:s.label},{type:"checkableOption",value:c,text:c.label},{type:"checkableOption",value:u,text:u.label}];return(h||g)&&f.push({type:"separator"}),h&&f.push({type:"checkableOption",value:p,text:p.label}),g&&f.push({type:"checkableOption",value:m,text:m.label}),n.createElement(l.c0,{selected:_,placeholder:"Filter",onSelectedChange:e=>{t(e.value)},labelForSelectedItem:e=>e.label,displayAboveTarget:!1,items:f,id:d,recordingKey:d})}let d="extensions-filter-dropdown"},500987:(e,t,r)=>{"use strict";r.d(t,{g:()=>h,o:()=>g});var n=r(411855),i=r(574176),a=r(762638),o=r(939863),l=r(809840),s=r(466636),c=r(555328),d=r(498606),u=r(112512);function p({publishedExtension:e,showTooltip:t}){if(!e.monetized_resource_metadata)return null;let r=(0,s.X2)(e.monetized_resource_metadata);return t?n.createElement("div",{"data-testid":"freemium-text",className:a.cx.flex.itemsCenter.gap4.$,"data-tooltip":r,"data-tooltip-type":d.Ib.TEXT,"data-tooltip-show-below":!0,"data-tooltip-show-immediately":!0},n.createElement(l.E,{i18nId:"community.buyer.in_app_purchases",fontSize:11}),n.createElement(i.B,{svg:u.A,className:a.cx.colorIconSecondary.$})):n.createElement("div",{"data-testid":"freemium-text"},n.createElement(l.E,{i18nId:"community.buyer.in_app_purchases",fontSize:11}))}function m({publishedExtension:e}){return e.monetized_resource_metadata?n.createElement("div",{"data-testid":"free-trial-text"},n.createElement(l.E,{fontSize:11},n.createElement(o.Tx,{id:"community.resource.free_trial_days",days:e.monetized_resource_metadata.trial_length_in_days}))):null}function _({showTooltip:e}){return e?n.createElement("div",{"data-testid":"off-platform-text",className:a.cx.flex.itemsCenter.gap4.$,"data-tooltip":(0,o.t)("community.detail_view.resource_outside_of_figma"),"data-tooltip-type":d.Ib.TEXT,"data-tooltip-show-below":!0,"data-tooltip-show-immediately":!0},n.createElement(l.E,{i18nId:"community.detail_view.third_party_badge.off_platform",fontSize:11}),n.createElement(i.B,{svg:u.A,className:a.cx.colorIconSecondary.$})):n.createElement("div",{"data-testid":"off-platform-text"},n.createElement(l.E,{i18nId:"community.detail_view.third_party_badge.off_platform",fontSize:11}))}function h(e){return!!e&&((0,c.PM)(e)||(0,s.Lt)({resource:e,payment:e.community_resource_payment})||(0,c.zF)(e))}function g({publishedExtension:e,showTooltip:t}){return(0,c.PM)(e)?n.createElement(p,{publishedExtension:e,showTooltip:t}):(0,s.Lt)({resource:e,payment:e.community_resource_payment})?n.createElement(m,{publishedExtension:e}):(0,c.zF)(e)?n.createElement(_,{showTooltip:t}):null}},706590:(e,t,r)=>{"use strict";r.d(t,{C5:()=>g,JT:()=>b,Nf:()=>f,Oy:()=>p,ZM:()=>m,bL:()=>y,jb:()=>h,m5:()=>E,wj:()=>_});var n=r(411855),i=r(935283),a=r(756085),o=r(269167),l=r(694687),s=r(215822),c=r(376485),d=r(943970),u=r(176428);function p(){let e=(0,a.tB)(),t=(0,a.ll)(),r=(0,a.U6)(),i=(0,a.cW)(),d=(0,a.ZT)(),u=(0,o.FP)(),p=(0,l.sZ)();return n.useCallback((n,a)=>(function({extension:e,org:t,allowlistPlugins:r,allowlistWidgets:n,publishedPlugins:i,publishedWidgets:a,communityPaymentsState:l,lastUsedTimestampById:d,type:u}){let p=(0,o.Y8)({extension:e,publishedPlugins:i,publishedWidgets:a,communityPaymentsState:l}),m={types:new Set([u]),publishedExtension:p,key:function(e){let t=e.plugin_id;return(0,c.ZQ)(e)?`${t}-${e.localFileId}`:t}(e),lastUsedTimestamp:d[e.plugin_id]};if((0,c.bH)(e))return{...m,extension:e,canRun:!0,canRequest:!1};if((0,c.ZQ)(e))return p&&!(0,s.nf)(p)&&(m.publishedExtension=void 0),{...m,extension:e,canRun:!0,canRequest:!1};if(!t)return{...m,extension:e,canRun:!0,canRequest:!1};let _=t.public_plugins_allowed,h=t.plugins_whitelist_enforced,g=t.widgets_whitelist_enforced,f=t.plugin_requests_allowed,E=t.widget_requests_allowed,y=(0,c.k0)(e);if(!_)return{...m,extension:e,canRun:!1,canRequest:!1};if(!(y?g:h))return{...m,extension:e,canRun:!0,canRequest:!1};let b=!!(y?n:r)[e.plugin_id];return{...m,extension:e,canRun:b,canRequest:!b&&(y?E:f)}})({extension:n,org:p,allowlistPlugins:t,allowlistWidgets:r,publishedPlugins:i,publishedWidgets:d,communityPaymentsState:u,lastUsedTimestampById:e,type:a}),[p,t,r,i,d,u,e])}function m(e){let t={};for(let r of e){let{extension:e,key:n}=r;if(!e)continue;let i=t[n];if(i){let e=new Set([...i.types,...r.types]);t[n].types=e}else t[n]=r}return Object.values(t)}function _(e){return e.types.has(d.Ag.RECENT)||e.types.has(d.Ag.USER_SAVED)||e.types.has(d.Ag.LOCAL)}function h(e){return e.types.has(d.Ag.ORG_SAVED)}function g(e){return h(e)||e.types.has(d.Ag.ORG_PRIVATE)}function f(e){return e.types.has(d.Ag.COMMUNITY)}function E(e){switch(e){case u.BY.ALL:return()=>!0;case u.BY.PLUGINS:return e=>!(0,c.k0)(e.extension);case u.BY.WIDGETS:return e=>(0,c.k0)(e.extension);case u.BY.FROM_ORG:return e=>e.types.has(d.Ag.ORG_PRIVATE);case u.BY.DEVELOPMENT:return e=>e.types.has(d.Ag.LOCAL);default:(0,i.xb)(e)}}function y(e,t){return e.lastUsedTimestamp&&t.lastUsedTimestamp?t.lastUsedTimestamp-e.lastUsedTimestamp:0}function b(e){let{extension:t}=e;return(0,c.ZQ)(t)}},162157:(e,t,r)=>{"use strict";r.d(t,{S:()=>T,d:()=>S});var n=r(411855),i=r(697378),a=r(767129),o=r(421757),l=r(523679),s=r(96796),c=r(463420),d=r(983405),u=r(762638),p=r(809840),m=r(535217),_=r(417511),h=r(25108),g=r(356390),f=r(852800),E=r(341860),y=r(335682),b=r(498606),v=r(304041),I=r(896344);function T(){let e=(0,y.tS)(),[t,r]=n.useState(e?(0,h.rZ)(e):[]),[o,s]=n.useState(t[0]||null),c=n.useMemo(()=>t.map(e=>({type:"option",text:e.name})),[t]),[p,g]=i.t.useTabs({[m.i.STRUCTURE]:!0,[m.i.THEME]:!0}),f=(0,_.C)((null==o?void 0:o.dsKitKey)||null);return n.createElement(d.Y1,{padding:{vertical:12,horizontal:12},width:400,direction:"vertical"},n.createElement(I.B,{fullWidth:!0,justify:"space-between"},n.createElement(v.ms,{selected:o,onSelectedChange:e=>s(e),placeholder:"No local kits",labelForSelectedItem:e=>e.name,displayAboveTarget:!0,lean:"right",items:c,disabled:0===c.length}),n.createElement(I.B,null,n.createElement(i.t.TabStrip,{manager:g},n.createElement(i.t.Tab,{recordingKey:"lintStructure",...p.structure},"Structure"),n.createElement(i.t.Tab,{recordingKey:"lintTheme",...p.theme},"Theme")),n.createElement(a.K,{"aria-label":"Refresh","data-tooltip-type":b.Ib.TEXT,"data-tooltip":"Refresh",onClick:()=>{e&&r((0,h.rZ)(e))}},n.createElement(l.o,null)))),o&&f&&n.createElement("div",{className:u.cx.wFull.$},n.createElement(i.t.TabPanel,{recordingKey:"structureLintPanel",...p.structure},n.createElement(S,{validationFailures:f,selectedKit:o,category:m.i.STRUCTURE})),n.createElement(i.t.TabPanel,{recordingKey:"themeLintPanel",...p.theme},n.createElement(S,{validationFailures:f,selectedKit:o,category:m.i.THEME}))))}function S({validationFailures:e,category:t,selectedKit:r}){return n.createElement(n.Fragment,null,[...e.system.filter(e=>e.rule.category===t).map(e=>n.createElement(A,{key:e.rule.key,rule:e.rule,output:e.output,dsKitKey:r.dsKitKey})),...e.component.filter(e=>e.rule.category===t).map(e=>n.createElement(w,{key:e.rule.key,rule:e.rule,output:e.output}))])}function w({rule:e,output:t}){let r=n.useCallback(r=>{var n;if(r.stopPropagation(),!e.fix)return!1;{let r=!0,i=E.qo.instance;for(let a in t){let o=i.get(a);o&&!e.fix(o,null==(n=t[o.guid])?void 0:n.meta)&&(r=!1)}return g.Y5.triggerAction("commit"),r}},[e,t]),i=n.useMemo(()=>Object.values(t).flatMap(e=>e.guids),[t]),a=n.useCallback(()=>{f.Egt.clearSelection(),f.Egt.addToSelection(i)},[i]);return 0===Object.keys(t).length?null:n.createElement(C,{rule:e,guids:i,meta:null,autofix:r,selectLayers:a})}function A({dsKitKey:e,rule:t,output:r}){let i=n.useCallback(n=>(n.stopPropagation(),!!t.fix&&t.fix(e,r.meta)),[t,e,r]);return 0===r.guids.length?null:n.createElement(C,{rule:t,guids:r.guids,meta:r.meta,autofix:i})}function C({rule:e,guids:t,meta:r,autofix:i,selectLayers:a}){let[l,m]=n.useState(!1),[_,h]=n.useState(!1);return 0===t.length?null:n.createElement(n.Fragment,null,n.createElement(I.B,{fullWidth:!0,justify:"space-between",align:"center"},n.createElement("button",{onClick:()=>m(!l),className:u.cx.cursorPointer.flex.itemsCenter.$},l?n.createElement(s.O,null):n.createElement(c.k,null),n.createElement(N,{severity:e.severity}),n.createElement(p.E,{fontSize:11,fontWeight:"medium"},e.name)),e.fix&&n.createElement(o.$n,{variant:"secondary",onClick:e=>{h(i(e))}},_?"Fixed":"Autofix")),l&&n.createElement(d.Y1,{padding:{horizontal:12},direction:"vertical"},n.createElement(p.E,{fontSize:11,fontWeight:"regular",color:"secondary"},e.warning),a&&n.createElement(o.$n,{variant:"link",onClick:a},"Select offending layers"),n.createElement(p.E,{fontSize:11,fontWeight:"regular",color:"secondary"},r?JSON.stringify(r):t.join(", "))))}function N({severity:e}){switch(e){case m.x.ERROR:return n.createElement("div",{className:u.cx.p2.font11.colorTextDanger.justifyCenter.fontSemiBold.$},"[Error]");case m.x.WARNING:return n.createElement("div",{className:u.cx.p2.font11.colorTextWarning.justifyCenter.fontSemiBold.$},"[Warning]");default:return null}}},552010:(e,t,r)=>{"use strict";r.d(t,{JP:()=>eO,Ne:()=>eI,Xy:()=>ev,jF:()=>eP,qn:()=>eR});var n=r(411855),i=r(380620),a=r(648598),o=r(902237),l=r(256296),s=r(752256),c=r(697378),d=r(767129),u=r(497189),p=r(11190),m=r(755020),_=r(629019),h=r.n(_),g=r(265171),f=r.n(g),E=r(755887),y=r(153234),b=r(574176),v=r(762638),I=r(939863),T=r(428654),S=r(168039),w=r(356390),A=r(774191),C=r(498606),N=r(896344),O=r(948529),L=r(111731),R=r(819598),P=r(781779),k=r(255214),D=r(248114),M=r(662322),x=r(713634),F=r(68596),U=r(186109),B=r(909351),H=r(647975),V=r(557901),G=r(553380),W=r(787848),K=r(515337),Y=r(668015),j=r(3199),z=r(579371),$=r(589750),Z=r(315706),q=r(433146),J=r(521422),X=r(108627),Q=r(98743),ee=r(422810),et=r(788522),er=r(982170),en=r(496188),ei=r(692645),ea=r(395999),eo=r(474143),el=r(285509),es=r(479500),ec=r(432384),ed=r(231512),eu=r(782251),ep=r(767642),em=r(728741),e_=r(477572),eh=r(599936),eg=r(487781),ef=r(988646),eE=r(276183),ey=r(956376),eb=r(591241);let ev=0,eI=2,eT=[P.jRe,P.N06,P.k0u,P.RO$,P.Sb0].map(e=>({string:e,color:T.F.parse(e)})),eS=new Map().set(0,ed.A).set(f()(.25*eI,2),eu.A).set(f()(eI/2,2),ep.A).set(f()(.75*eI,2),em.A).set(eI,e_.A),ew=new Map().set(0,eg.A).set(f()(.25*eI,2),ef.A).set(f()(eI/2,2),eE.A).set(f()(.75*eI,2),ey.A).set(eI,eb.A),eA=new Map().set("Plus Jakarta Sans",er.A).set("Outfit",ei.A).set("Inter",et.A).set("Public Sans",ea.A).set("Domine",ee.A).set("Source Serif 4",es.A).set("Roboto Serif",el.A).set("Roboto Mono",eo.A).set("JetBrains Mono",en.A).set("Space Mono",ec.A),eC=new Map().set("Plus Jakarta Sans",x.A).set("Outfit",U.A).set("Inter",M.A).set("Public Sans",B.A).set("Domine",D.A).set("Source Serif 4",G.A).set("Roboto Serif",V.A).set("Roboto Mono",H.A).set("Space Mono",W.A).set("JetBrains Mono",F.A),eN=new Map().set("Plus Jakarta Sans",j.A).set("Outfit",$.A).set("Inter",Y.A).set("Public Sans",Z.A).set("Domine",K.A).set("Source Serif 4",X.A).set("Roboto Serif",J.A).set("Roboto Mono",q.A).set("Space Mono",Q.A).set("JetBrains Mono",z.A);function eO(e){let t=(0,S.DP)(),r=e.selectedColor||eT[1].color;"string"==typeof r&&(r=T.F.parse(r));let a=(t,r,a)=>n.createElement(i.E,{"aria-label":r,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-above":!0,recordingKey:y.Pt(e,t),className:h()(k.gb,e.activeTab===t&&k.mR),onClick:()=>e.onTabChange(t)},a),o=eS.get(Math.round(2*e.cornerRadiusStop)/2),l=ew.get(Math.round(2*e.spacingStop)/2),s=n.createElement(b.B,{svg:o,className:k.Sm}),c=n.createElement(b.B,{svg:l,className:k.Sm});return n.createElement(N.B,{fullWidth:!0,justify:"space-between"},a(R.m.COLOR,(0,I.t)("first_draft.theme_panel.color"),n.createElement(O.cd,{size:"medium",value:r,paletteType:"base",background:"dark"===t?"dark":"light",swatchStyle:{boxSizing:"border-box",boxShadow:"none"}})),a(R.m.RADIUS,(0,I.t)("first_draft.theme_panel.radius"),s),a(R.m.SPACING,(0,I.t)("first_draft.theme_panel.spacing"),c),a(R.m.FONT,(0,I.t)("first_draft.theme_panel.font"),n.createElement(b.B,{svg:eh.A,className:k.i9})))}let eL={[R.m.COLOR]:function(e){let t=(0,S.DP)(),[r,i]=n.useState(!1),l=e.selectedColor,{activeColorIdx:s,activeColorOutline:c,selectedColor:d}=n.useMemo(()=>{let e=l;return"string"==typeof e&&(e=T.F.parse(e)),{activeColorIdx:eT.findIndex(e=>e.string===l||(0,E.xN)((0,A.oB)(e.color).h,(0,A.oB)(l).h,.001)),activeColorOutline:`2px solid ${T.F.format(e)}`,selectedColor:e}},[l]);return r?n.createElement(L.V,{onHide:()=>i(!1),...e}):n.createElement("div",{className:v.cx.flex.flexRow.flexGrow1.p16.pt12.pb12.gap16.itemsCenter.$},n.createElement(eF,{onBack:e.onBack}),n.createElement(a.I.Root,{onChange:e.onChangeColorMode,value:e.colorMode,recordingKey:y.Pt(e,"colorModePicker"),legend:n.createElement(o.q,null,n.createElement(I.Tx,{id:"first_draft.theme_tool.color.mode_picker"}))},n.createElement(a.I.Option,{value:"light","aria-label":(0,I.t)("first_draft.theme_tool.color.light_mode"),icon:n.createElement("div",{className:v.cx.flex.w44.itemsCenter.justifyCenter.$},n.createElement(u.Z,null))}),n.createElement(a.I.Option,{value:"dark","aria-label":(0,I.t)("first_draft.theme_tool.color.dark_mode"),icon:n.createElement("div",{className:v.cx.flex.w44.itemsCenter.justifyCenter.$},n.createElement(p.a,null))})),n.createElement("div",{className:v.cx.flex.flexGrow1.justifyBetween.$,style:{boxSizing:"content-box"}},eT.map((r,i)=>n.createElement(O.cd,{size:"medium",key:i,value:r.color,background:"dark"===t?"dark":"light",onClick:async()=>{await e.onChangeColor(r.color),w.Y5.triggerAction("commit")},paletteType:"base",swatchStyle:{...s===i&&{outline:c,outlineOffset:"2px"},boxSizing:"border-box",boxShadow:"none"}})),n.createElement("div",{className:v.cx.radiusFull.$},-1===s?n.createElement(O.cd,{size:"medium",value:d,paletteType:"base",selectionState:"selected_custom",background:"dark"===t?"dark":"light",onClick:()=>i(!0),swatchStyle:{boxSizing:"border-box",boxShadow:"none"}}):n.createElement(O.ZI,{size:"medium",onClick:()=>i(!0),swatchStyle:{boxSizing:"border-box",boxShadow:"none"}}))))},[R.m.RADIUS]:function(e){let[t,r]=n.useState(e.cornerRadiusStop);return n.createElement("div",{className:v.cx.flex.flexRow.flexGrow1.itemsCenter.p16.gap16.$},n.createElement(eF,{onBack:e.onBack}),n.createElement(l.J,{className:v.cx.opacity0_5.$},n.createElement(I.Tx,{id:"first_draft.theme_panel.radius"})),n.createElement(s.A,{"aria-label":(0,I.t)("first_draft.theme_panel.radius"),min:ev,max:eI,hints:[ev],step:.1,bigStep:.2,recordingKey:y.Pt(e,"cornerRadiusSlider"),value:e.cornerRadiusStop,rangeAnchor:ev,defaultValue:t,onChange:e.onChangeCornerRadiusStop}))},[R.m.SPACING]:function(e){let[t,r]=n.useState(e.spacingStop);return n.createElement("div",{className:v.cx.flex.flexRow.flexGrow1.itemsCenter.p16.gap16.$},n.createElement(eF,{onBack:e.onBack}),n.createElement(l.J,{className:v.cx.opacity0_5.$},n.createElement(I.Tx,{id:"first_draft.theme_panel.spacing"})),n.createElement(s.A,{"aria-label":(0,I.t)("first_draft.theme_panel.spacing"),min:ev,max:eI,step:eP,hints:[ev],bigStep:.2,recordingKey:y.Pt(e,"spacingSizeSlider"),value:e.spacingStop,rangeAnchor:ev,defaultValue:t,onChange:e.onChangeSpacingStop}))},[R.m.FONT]:function(e){let[t,r]=c.t.useTabs({[R.q.TITLE]:null!==e.bodyTitleFont,[R.q.BODY]:null!==e.bodyTextFont,[R.q.LABLE]:null!==e.bodyLabelFont},{defaultActive:R.q.BODY,recordingKey:y.Pt(e,"fontEditor")});return n.createElement("div",{className:v.cx.flex.flex1.flexColumn.$},n.createElement("div",{className:v.cx.flex.flex1.flexRow.gap8.p8.$},n.createElement(eF,{onBack:e.onBack}),n.createElement(c.t.TabStrip,{manager:r},n.createElement(c.t.Tab,{...t.title},n.createElement(I.Tx,{id:"first_draft.theme_panel.label.fontTitle"})),n.createElement(c.t.Tab,{...t.body},n.createElement(I.Tx,{id:"first_draft.theme_panel.label.fontBody"})),n.createElement(c.t.Tab,{...t.label},n.createElement(I.Tx,{id:"first_draft.theme_panel.label.fontLabel"})))),n.createElement("div",{className:v.cx.wFull.colorBgTertiary.h1.$}),n.createElement("div",{className:v.cx.flex.flex1.flexColumn.gap8.p8.$},n.createElement(c.t.TabPanel,{...t.title},n.createElement(eD,{...e})),n.createElement(c.t.TabPanel,{...t.body},n.createElement(eM,{...e})),n.createElement(c.t.TabPanel,{...t.label},n.createElement(ex,{...e}))))}};function eR(e){if(!e.section)return null;let t=eL[e.section];return n.createElement("div",{className:h()(k.XN,v.cx.flex.relative.wFull.$)},n.createElement(t,{...e}))}let eP=.1;function ek({selectedKey:e,items:t,recordingKey:r}){return n.createElement("div",{className:v.cx.flex.flex1.flexWrap.itemsCenter.rowGap8.justifyBetween.$},t.map(({key:t,name:a,svg:o,onClick:l})=>n.createElement(i.E,{"aria-label":a,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":a,"data-tooltip-show-above":!0,recordingKey:y.Pt(r,t),className:h()(k.tA,k.i9,e===t&&k.wH),key:t,onClick:l},n.createElement(b.B,{svg:o}))))}function eD(e){let t=`FontTitle_${e.bodyTitleFont}`,r=Array.from(eA).map(([t,r])=>({key:`FontTitle_${t}`,name:t,svg:r,onClick:()=>e.onChangeBodyTitleFont(t)}));return null===e.bodyTitleFont?null:n.createElement(ek,{selectedKey:t,items:r,recordingKey:e.recordingKey})}function eM(e){let t=`FontBody_${e.bodyTextFont}`,r=Array.from(eN).map(([t,r])=>({key:`FontBody_${t}`,name:t,svg:r,onClick:()=>e.onChangeBodyTextFont(t)}));return null===e.bodyTextFont?null:n.createElement(ek,{selectedKey:t,items:r,recordingKey:e.recordingKey})}function ex(e){let t=`FontLabel_${e.bodyLabelFont}`,r=Array.from(eC).map(([t,r])=>({key:`FontLabel_${t}`,name:t,svg:r,onClick:()=>e.onChangeBodyLabelFont(t)}));return null===e.bodyLabelFont?null:n.createElement(ek,{selectedKey:t,items:r,recordingKey:e.recordingKey})}function eF({onBack:e}){return e?n.createElement("div",{className:v.cx.h24.$},n.createElement(d.K,{onClick:e,"aria-label":(0,I.t)("qa.go_back")},n.createElement(m.C,null))):null}},394867:(e,t,r)=>{"use strict";r.d(t,{GE:()=>d,Gb:()=>o,Zq:()=>s,_I:()=>l,uf:()=>c});var n=r(411855),i=r(966712),a=r(966981),o=(e=>(e.RUN_LOCAL_EXTENSION="run_local_extension",e.RUN_PUBLISHED_EXTENSION="run_published_extension",e))(o||{});function l(){let{Sprig:e}=(0,a.A)();return(0,n.useCallback)(t=>{(0,i.kc)().qa_sprig_tracking&&e("track","quick_actions_success",{action:t})},[e])}function s(){let{Sprig:e}=(0,a.A)();return(0,n.useCallback)(()=>{(0,i.kc)().qa_sprig_tracking&&e("track","quick_actions_failure")},[e])}function c(){let{Sprig:e}=(0,a.A)();return(0,n.useCallback)(()=>{(0,i.kc)().qa_sprig_tracking&&e("track","quick_actions_action_taken")},[e])}function d(e){let t=(0,i.kc)(),r=l();return(0,n.useCallback)(()=>{t.qa_sprig_tracking&&r(e)},[t.qa_sprig_tracking,r,e])}},390864:(e,t,r)=>{"use strict";r.d(t,{H:()=>d,h:()=>u});var n=r(411855),i=r(153234),a=r(268537),o=r(827586),l=r(259927),s=r(233890),c=r(802454);class d extends i.o6{constructor(e){super(e),this.onKeyDownFromFullscreen=e=>{e.accept(),this.props.onKeyDown(e.event)},this.onContainerClick=e=>{e.stopPropagation()}}componentDidMount(){super.componentDidMount(),document.addEventListener("keydown",this.props.onKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.props.onKeyDown)}render(){let e={left:window.innerWidth/2-200,top:window.innerHeight/8,width:400};return n.createElement(s.vL,{name:this.props.recordingKey||"",handleKeyDown:this.onKeyDownFromFullscreen,focusOnMount:!0},n.createElement(a.W.Dropdown,{className:`${c.DU} ${l.Dm}`,style:e,"data-testid":this.props["data-testid"]},n.createElement("div",{onClick:this.onContainerClick},this.props.children)))}}class u extends i.o6{constructor(e){super(e),this.scrollContainerRef=n.createRef()}scrollElementAtIndexIntoView(e){if(this.props.resultCount>=10){let t=this.scrollContainerRef.current.getScrollTop(),r=32*e,n=32*e+32;r<t?this.scrollContainerRef.current.scrollTo(r):n>t+304&&this.scrollContainerRef.current.scrollTo(n-304)}}render(){let e=this.props.resultCount,t=Math.min(Math.max(e,1),10);return n.createElement(o.P,{ref:this.scrollContainerRef,width:400,height:32*t+(e>=10?-16:8),hideScrollbar:!0,role:this.props.role,contentId:this.props.id},this.props.children,n.createElement("div",{style:{height:8}}))}}},55069:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,Vm:()=>c,ks:()=>d});var n=r(411855),i=r(38580),a=r(374626),o=r(457630),l=r(601607);let s=(0,i.eU)({});function c(e,t){a.zl.set(s,r=>{let n={...r};return n[e]=t,n})}function d(e){a.zl.set(s,t=>{let r={...t};return delete r[e],r})}function u(){let[e]=(0,a.fp)(s);return 0===Object.keys(e).length?null:n.createElement(p,null)}function p(){let e=(0,o._X)({subscribeToUpdates_expensive:!0}),[t]=(0,a.fp)(s);return n.createElement(n.Fragment,null,Object.keys(t).map(r=>{let i=t[r];return n.createElement(m,{key:r,viewportInfo:e,nodeId:r},i)}))}function m({viewportInfo:e,nodeId:t,children:r}){let i=(0,l.Fk)((e,t)=>e.get(t),t);if(!i)return null;let a=i.absoluteBoundingBox,s=(0,o.Yb)(e,{x:a.x,y:a.y,width:a.w,height:a.h});return n.createElement("div",{style:{position:"fixed",width:s.width,height:s.height,top:0,left:0,transform:`translate(${s.x+e.x}px, ${s.y+e.y}px)`,pointerEvents:"none"}},r)}function _(){return n.createElement("div",{style:{width:"100%",height:"100%",opacity:.4,backgroundImage:"linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"}})}window.testOverlayForNode=function(e){c(e,n.createElement(_,null))}},952746:(e,t,r)=>{"use strict";r.d(t,{Kf:()=>S,MX:()=>f,Xc:()=>E});var n=r(411855),i=r(243742),a=r(966712),o=r(153234),l=r(572206),s=r(428654),c=r(798099),d=r(601978),u=r(421123),p=r(460187),m=r(852800),_=r(529118);function h(e){let{version:t}=(0,i.DP)();return n.createElement(g,{...e,uiVersion:t})}class g extends o.o6{constructor(){super(...arguments),this.dragging=!1,this.srgbCanvasElement=null,this.srgbCanvasRef=e=>{this.srgbCanvasElement=e,this.srgbCanvasElement&&((0,a.kc)().ee_color_management_force_canvas?(0,d.dM)({canvas:this.srgbCanvasElement,canvasWidth:this.canvasWidth(),canvasHeight:this.canvasHeight(),renderCanvas:this.props.renderCanvas,value:this.props.value,colorSpace:"srgb"}):this.props.renderCanvas(this.srgbCanvasElement,this.props.value))},this.displayP3CanvasElement=null,this.displayP3CanvasRef=e=>{let t=!!(null===this.displayP3CanvasElement&&e);this.displayP3CanvasElement=e,this.displayP3CanvasElement&&(0,d.dM)({canvas:this.displayP3CanvasElement,canvasWidth:this.canvasWidth(),canvasHeight:this.canvasHeight(),renderCanvas:this.props.renderCanvas,value:this.props.value,colorSpace:"display-p3",initializeCanvasColorSpace:t})},this.barElement=null,this.barRef=e=>{this.barElement=e,e&&this.disableWeirdHorizontalScrollingPageNavigation(e)},this.handleElement=null,this.handleRef=e=>{this.handleElement=e,this.handleElement&&(this.props.renderHandle(this.props.value,this.handleElement),this.disableWeirdHorizontalScrollingPageNavigation(this.handleElement))},this.offset=new l.Mi(0,0),this.setOffset=e=>{if(null!=e){let t=e.target.getBoundingClientRect(),r=new l.Mi(t.left+t.width/2,t.top+t.height/2);this.offset=r.subtract(new l.Mi(e.clientX,e.clientY))}else null!=this.props.offset?this.offset=this.props.offset:this.offset=new l.Mi(0,0)},this.ensureInitialized=()=>{if(!this.barElement)throw Error("callback called before rendering barElement")},this.mouseToValue=e=>{this.ensureInitialized();let t=this.barElement.getBoundingClientRect(),r=e.x+this.offset.x,n=e.y+this.offset.y;return r-=t.left+(this.props.handlePadding?this.props.handle/2:0),n-=t.top+(this.props.handlePadding?this.props.handle/2:0),r/=this.props.width,n/=this.props.height,r=Math.max(Math.min(r,1),0),n=Math.max(Math.min(n,1),0),new l.Mi(r,n)},this.valueToPosition=e=>{let t=e.x,r=e.y;return t*=this.props.width,r*=this.props.height,t-=this.props.handlePadding?0:this.props.handle/2,r-=this.props.handlePadding?0:this.props.handle/2,new l.Mi(t,r)},this.onPointerDown=o.Am(this,"pointerdown",e=>{e.stopPropagation(),this.dragging=!0,e.currentTarget.setPointerCapture(e.pointerId),e.currentTarget===this.handleElement?this.setOffset(e):(this.setOffset(),this.props.mouseCallback(this.mouseToValue(new l.Mi(e.clientX,e.clientY)),!1))},{recordMetadata:e=>{this.ensureInitialized();let t=this.barElement.getBoundingClientRect();return{left:(e.clientX-t.left)/t.width,top:(e.clientY-t.top)/t.height}},playbackMetadata:e=>{this.ensureInitialized();let t=this.barElement.getBoundingClientRect();return{clientX:e.left*t.width+t.left,clientY:e.top*t.height+t.top}}}),this.onPointerUp=o.Am(this,"pointerup",e=>{if(!this.dragging)return o.aH;this.dragging=!1,this.props.mouseCallback(this.mouseToValue(new l.Mi(e.clientX,e.clientY)),!0)},{recordMetadata:e=>{this.ensureInitialized();let t=this.barElement.getBoundingClientRect();return{left:(e.clientX-t.left)/t.width,top:(e.clientY-t.top)/t.height}},playbackMetadata:e=>{this.ensureInitialized();let t=this.barElement.getBoundingClientRect();return{clientX:e.left*t.width+t.left,clientY:e.top*t.height+t.top}}}),this.onPointerMove=e=>{this.dragging&&(e.stopPropagation(),this.props.mouseCallback(this.mouseToValue(new l.Mi(e.clientX,e.clientY)),!1))},this.onWheel=o.M5(this,"wheel",e=>{var t,r;e.stopPropagation();let n=e.ctrlKey;null==(r=(t=this.props).wheelCallback)||r.call(t,new l.Mi(e.deltaX,e.deltaY),e.altKey,n)},{recordMetadata:e=>({deltaX:e.deltaX,deltaY:e.deltaY,deltaMode:e.deltaMode,ctrlKey:e.ctrlKey}),playbackMetadata:e=>({deltaX:e.deltaX,deltaY:e.deltaY,deltaMode:e.deltaMode,ctrlKey:e.ctrlKey})}),this.onKeyDown=o.C0(this,"keydown",e=>{e.stopPropagation(),this.props.keyDownCallback(e)})}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.value!==this.props.value&&(this.srgbCanvasRef(this.srgbCanvasElement),this.displayP3CanvasRef(this.displayP3CanvasElement),this.handleRef(this.handleElement))}componentWillUnmount(){super.componentWillUnmount(),this.dragging=!1}disableWeirdHorizontalScrollingPageNavigation(e){e.addEventListener("wheel",e=>e.preventDefault(),{passive:!1})}canvasWidth(){return this.props.width+(this.props.handlePadding?this.props.handle:0)}canvasHeight(){return this.props.height+(this.props.handlePadding?this.props.handle:0)}render(){let e={position:"relative",boxSizing:"border-box",overflow:"hidden",width:this.props.width+(this.props.handlePadding?this.props.handle:0),height:this.props.height+(this.props.handlePadding?this.props.handle:0),borderRadius:this.props.handlePadding?.5*this.props.handle:0,...this.props.canvasWrapperStyles},t="ui3"===this.props.uiVersion?I:v,r={position:"absolute",boxShadow:`inset ${t}`,left:0,top:0,width:this.props.width+(this.props.handlePadding?this.props.handle:0),height:this.props.height?1:this.props.height+(this.props.handlePadding?this.props.handle:0),borderRadius:this.props.handlePadding?.5*this.props.handle:0,...this.props.ghostStyles},i=this.valueToPosition(this.props.value),a={position:"absolute",boxSizing:"border-box",boxShadow:t,left:i.x,top:i.y,width:this.props.handle,height:this.props.handle,borderRadius:.5*this.props.handle},o=this.props.hitBoxMargin;return n.createElement("div",{className:this.props.containerClass,style:{position:"relative"}},n.createElement("div",{ref:this.barRef,style:e},this.props.colorProfile===m.RYP.SRGB?n.createElement("canvas",{ref:this.srgbCanvasRef,width:`${this.canvasWidth()}px`,height:`${this.canvasHeight()}px`}):void 0,this.props.colorProfile===m.RYP.DISPLAY_P3?n.createElement("canvas",{ref:this.displayP3CanvasRef,width:`${this.canvasWidth()}px`,height:`${this.canvasHeight()}px`}):void 0,n.createElement("div",{style:r})),this.props.children,n.createElement("div",{ref:this.handleRef,onMouseDown:c.dG,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerUp,onPointerMove:this.onPointerMove,onLostPointerCapture:this.onPointerUp,onWheel:this.onWheel,onKeyDown:this.onKeyDown,style:a,tabIndex:0,className:_.p}),n.createElement("div",{onMouseDown:c.dG,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerUp,onLostPointerCapture:this.onPointerUp,onPointerMove:this.onPointerMove,onWheel:this.onWheel,style:{position:"absolute",left:-o,top:-o,right:-o,bottom:-o}}))}}function f(e){return"ui3"===e?b:y}function E(){let{version:e}=(0,i.DP)();return f(e)}g.displayName="SliderControlInner";let y=12,b=16,v="0 0 0 .6px rgba(0, 0, 0, 0.2)",I="var(--elevation-200-canvas)",T=s.F;function S({hitBoxMargin:e,width:t,height:r,handlePadding:a,value:o,offset:l,mouseCallback:s,wheelCallback:c,keyDownCallback:d,renderCanvas:_,containerClass:g,recordingKey:E,canvasWrapperStyles:y,ghostStyles:b,colorProfile:v,colorHandle:I,children:S}){let{version:w}=(0,i.DP)(),A=(0,n.useCallback)((e,t)=>{let r=f(w);if(t.style.borderRadius=`${r/2}px`,t.style.borderStyle="solid",t.style.borderWidth="0.5px",t.style.borderColor="var(--color-icon-tertiary, white)",t.style.background="var(--color-bg, white)",I){t.style.borderColor="white",t.style.borderWidth=`${"ui3"===w?4:2}px`;let r=I(e);v===m.RYP.DISPLAY_P3&&(0,p.p3)()?t.style.backgroundImage=`url(${(0,u.rl)(r,v||m.RYP.SRGB)})`:t.style.background=T.format(r,(0,p.VG)(v||m.RYP.SRGB))}},[I,v,w]),C=f(w),N="ui3"===w?{outlineWidth:"1px",outlineStyle:"solid",outlineColor:"var(--color-bordertranslucent)",outlineOffset:"-1px"}:{};return n.createElement(h,{hitBoxMargin:e,width:t,height:r,handle:C,handlePadding:a,value:o,offset:l,mouseCallback:s,wheelCallback:c,keyDownCallback:d,renderCanvas:_,renderHandle:A,containerClass:g,recordingKey:E,canvasWrapperStyles:{...N,...y},ghostStyles:b,colorProfile:v},S)}},377020:(e,t,r)=>{"use strict";let n;r.d(t,{IS:()=>eI,Lh:()=>n,O0:()=>ey,eg:()=>eb,fH:()=>eD,nu:()=>eC,o3:()=>eT,ur:()=>eL});var i=r(411855),a=r(188507),o=r(243742),l=r(629019),s=r.n(l),c=r(711117),d=r(388809),u=r(966712),p=r(374626),m=r(499737),_=r(752553),h=r(886653),g=r(153234),f=r(776621),E=r(304783),y=r(498480),b=r(80161),v=r(946689),I=r(574176),T=r(762638),S=r(939863),w=r(256975),A=r(910741),C=r(964881),N=r(944682),O=r(670915),L=r(293017),R=r(782656),P=r(103907),k=r(672517),D=r(289104),M=r(226055),x=r(788811),F=r(857766),U=r(355513),B=r(411916),H=r(516398),V=r(408405),G=r(122983),W=r(369870);r(488983);var K=r(52570),Y=r(335682),j=r(860178),z=r(279453),$=r(147206),Z=r(428467),q=r(800876),J=r(498606),X=r(143678),Q=r(507956),ee=r(810014),et=r(377747),er=r(634694),en=r(459343),ei=r(525060),ea=r(676939),eo=r(860142),el=r(601538),es=r(585645),ec=r(816626),ed=r(267850),eu=r(733378),ep=r(170875),em=r(237409),e_=r(944068),eh=r(784578),eg=r(553520),ef=r(250116);let eE=(0,G.ck)(),ey="FULLSCREEN_FILENAME_CHEVRON",eb="FULLSCREEN_FILENAME_DROPDOWN";class ev extends g.o6{constructor(e){super(e),this.startRenaming=g.cZ(this,"click",()=>{this.props.canRename&&this.props.user&&this.props.dispatch(L.vg())}),this.submitFileName=e=>{this.props.dispatch(L.Wk()),this.props.onRename(e)},this.cancelFileName=()=>{this.props.dispatch(L.Wk())},this.nameRef=i.createRef()}render(){let e=(0,b._C)({textRef:this.nameRef,text:this.props.name});return this.props.isRenaming?i.createElement(es.A,{className:s()(eg.a6),placeholderValue:this.props.name,submit:this.submitFileName,cancel:this.cancelFileName,recordingKey:g.Pt(this.props,"input"),maxLength:this.props.maxLength}):i.createElement("span",{className:s()(eg.DD,{[eg.il]:!!this.props.user}),onClick:this.startRenaming,dir:"auto","data-testid":this.props.dataTestId||"filename",tabIndex:0,role:"textbox",ref:this.nameRef,onKeyDown:e=>(0,H.hx)({e,onClickHandler:this.startRenaming}),"aria-label":(0,S.t)("fullscreen.filename_view.file_input_title"),"data-tooltip-type":J.Ib.TEXT,"data-tooltip":e?this.props.name:void 0},this.props.name)}}function eI(e){let t=(0,M.GS)();return i.createElement(ev,{...e,name:(0,F.oj)(e.repo),onRename:t=>{e.dispatch(R.NN({repo:e.repo,name:t}))},isUI3:t})}function eT(e){let t=(0,a.wA)(),r=(0,j.iZ)(),n=(0,Y.q5)(),o=(0,a.d4)(e=>e.isRenaming),l=(0,a.d4)(e=>{var t,r,n;return(0,V.T)(e.progressBarState.mode)?!(null==(t=e.openFile)?void 0:t.canEdit):null==(n=null==(r=e.mirror)?void 0:r.appModel)?void 0:n.isReadOnly}),s=(0,p.md)(x.lu),c=!!n&&(0,eu.DF)(n,r),d=!!r&&!!n&&!!l,u=null==n&&null!=s?{type:"new-autosave-file",newAutosaveFile:s}:{type:"open-file",openFile:n,canRename:c};return i.createElement(eS,{dispatch:t,user:r,renamableFile:u,isRenaming:o,viewOnly:d,recordingKey:e.recordingKey})}function eS(e){var t;let r,n,a;let o=(0,_.n_)(x.b_),l=(0,M.GS)(),{renamableFile:s}=e;"open-file"===s.type?(r=s.canRename,n=null==(t=s.openFile)?void 0:t.name):(r=!0,n=s.newAutosaveFile.name,a=s.newAutosaveFile.editorType);let c="new-autosave-file"===s.type;return i.useEffect(()=>{c&&n&&a&&(0,U.pE)(n,a)},[c,n,a]),i.createElement(ev,{...e,name:n||(0,S.t)("fullscreen.filename_view.title_placeholder"),canRename:r,onRename:t=>{"new-autosave-file"===s.type?o({fileKey:s.newAutosaveFile.fileKey,name:t,source:x.oE.EDITOR}):s.openFile?e.dispatch(N.Nw({file:s.openFile,name:t})):(0,f.$D)(E.e.UNOWNED,Error("Tried renaming but file does not exist"))},isUI3:l,maxLength:100})}function ew({file:e}){let t=(0,a.wA)(),r=(0,P.n6)();if(!e||!(0,F.Kz)(e))return null;let n=X.e0.EDITOR_TOOLBAR_ACTION;return i.createElement("div",{className:eg._H},i.createElement(er.a$,{branchFileKey:e.key,size:y.vj.LARGE,onClick:e=>{t(O.hx({direction:q.Kn.TO_SOURCE,trackingContextName:n,unreadCommentCount:r}))},convertsToDotWithSmallScreen:!0,isToolbar:!0}))}ev.displayName="EditableName";let eA=e=>{var t;let r=(0,m.Rs)(z.op7,{repoId:e});if("loaded"!==r.status)return;let n=null==(t=r.data.repo)?void 0:t.files;return!!n&&n.map(e=>(0,er.AM)(e)).some(e=>e===er.pT.IN_REVIEW||e===er.pT.CHANGES_REQUESTED||e===er.pT.APPROVED)},eC="Filename chevron clicked";function eN({file:e,viewOnly:t}){let r=(0,m.Rs)(z.Std,{orgId:e.parentOrgId}),n=(0,m.Rs)(z.nn0,{fileKey:e.key}),o=(0,Q.ks)(),l=(0,w._I)(),s=(0,A.m3)(),d=(0,C.l7)(),u=(0,D.JT)(),p="loading"===r.status||e.parentOrgId&&!e.org,_=(0,et.Yj)(e.fileRepoId),h=e.fileRepoId?_:null,g=(0,a.wA)(),f=(0,eh.kU)({file:e,viewOnly:t}),E=t&&!f;if(!e||(null==h?void 0:h.status)==="loading"||p||"loading"===n.status||E)return null;let y=!!(e.repo&&(0,F.Ns)(e,e.repo)),b=!((0,F.Kz)(e)&&e.trashedAt)&&!d;if(o&&!l){if(s)return i.createElement("div",{className:T.cx.flex.itemsCenter.wFitContent.$},i.createElement(ea.g,{variant:"toolbar-secondary",text:(0,S.t)("general.dev_mode")}));let t=u&&!u.unpublishedAt;return i.createElement("div",{className:T.cx.flex.itemsCenter.wFitContent.$},i.createElement(ep.A,null),!t&&i.createElement(v.Kz,{direction:"x",multiple:2}),b&&i.createElement(em.a7,{file:e,viewPermission:f,recordingKey:"fileNamePermission"}))}return i.createElement(c.P.div,{transition:{duration:.3,ease:"easeOut",delay:.2,opactity:{ease:"linear",delay:.2}},initial:{width:0,translateX:-100,opacity:0},animate:{width:"auto",translateX:0,opacity:1}},i.createElement("div",{className:T.cx.flex.itemsCenter.wFitContent.$},y&&e.fileRepoId&&i.createElement(eO,{repoId:e.fileRepoId,isEditor:e.canEdit,dispatch:g,branchInfo:h}),i.createElement(i.Fragment,null,i.createElement(ep.A,null),b&&i.createElement(em.a7,{file:e,viewPermission:f,recordingKey:"fileNamePermission"}))))}function eO(e){let t=eA(e.repoId),{branchInfo:r}=e;if(!r||"loaded"!==r.status)return null;let n=r.data.activeBranches.length;return n<1?null:i.createElement(ee.L,{text:(0,S.t)("fullscreen.filename_view.branch-count",{BRANCHES:n}),onClick:()=>e.dispatch(O.o5({trackingContextName:X.e0.EDITOR_TOOLBAR_ACTION})),showIndicator:e.isEditor&&t,indicatorStyle:eg.q3})}function eL({openFile:e,user:t}){let r=(0,e_._)(),n=function(e,t){if(!(null==e?void 0:e.project))return"";let r=e.project;return r.path?r.path:(0,u.kc)().ps_benchmark&&r.id===(null==t?void 0:t.personal_drafts_folder_id)?(0,S.t)("fullscreen.filename_view.drafts_to_move"):(0,S.t)("fullscreen.filename_view.drafts")}(e,t),a=n.length>25?n:void 0,o=(0,M.GS)();return i.createElement("div",{className:n?eg.TV:eg.jw,title:a},i.createElement("div",{className:eg.ub,onClick:r,role:"link",tabIndex:0},n),!o&&i.createElement(I.B,{ariaHidden:!0,svg:ef.A,className:eg.xo}))}class eR extends g.o6{constructor(e){super(e),n=i.createRef()}renderDropdownMenu(){var e,t;let{dropdownShown:r,recordingKey:n,dispatch:a}=this.props,o=!!r&&r.type===eb;return i.createElement(ed.G,{trackEvent:(e,t)=>{this.context.trackEvent(e,t)},dropdownTargetRect:null==(e=null==r?void 0:r.data)?void 0:e.targetRect,recordingKey:n,dispatch:a,dropdownVisible:o,activatePathOnMount:null==(t=null==r?void 0:r.data)?void 0:t.activatePathOnMount})}renderChevronWithDropdown(e,t){let r=i.createElement(i.Fragment,null,i.createElement(en.c,{divRef:n,className:e?eg.ai:eg.fN,svgContainerClassName:eg.Gp,dispatch:this.props.dispatch,showingDropdown:!!t&&this.showingDropdown(),dropdownKey:eb,recordingKey:g.Pt(this.props,"chevron"),dataOnboardingKey:ey,rcsHandlerId:eC,tabIndex:0,ariaLabel:(0,S.t)("fullscreen.filename_view.edit_file_menu"),dataTestId:"filename-menu-chevron",isUI3:this.props.isUI3}),this.renderDropdownMenu());return i.createElement("div",{className:s()({[eg.Xz]:!e}),onMouseDown:e=>{var t;let r=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0});null==(t=null==n?void 0:n.current)||t.dispatchEvent(r)},onClick:e=>{e.stopPropagation()}},r)}showingDropdown(){var e;return(null==(e=this.props.dropdownShown)?void 0:e.type)===eb}render(){let{user:e,openFile:t,isRenaming:r,isUI3:a}=this.props,o=null==t?void 0:t.repo,l=!!(t&&(0,F.Kz)(t)),c=!!(t&&o&&(0,F.Ns)(t,o)),u=!!t&&(0,eu.DF)(t,e),p=!!this.props.user&&!!t&&!!this.props.editorIsReadOnly,m=!!t&&(0,$.Pe)(t),_=!r&&e&&t&&!m&&!this.props.isLimitedDevMode&&!this.props.isDevModeOverview,h=!r&&e&&t&&this.props.isLimitedDevMode&&this.props.shouldSeeBlockingModalDevModePaywall,f=_||h,E=!eE&&this.props.currentWorkspace&&this.props.hasMultipleWorkspaces;return i.createElement("div",{className:s()(eg.iW,{[eg.Ij]:!e}),id:"fullscreen-filename","data-onboarding-key":el.G8,onContextMenu:e=>{if(n.current){let t=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0});n.current.dispatchEvent(t),e.preventDefault()}}},i.createElement("div",{className:r?eg.Tt:eg.W},(null==t?void 0:t.fileRepoId)&&(null==e?void 0:e.id)&&i.createElement(i.Fragment,null,i.createElement(d.a,{openFile:t,modalShown:this.props.modalShown,topLevelMode:this.props.topLevelMode,dispatch:this.props.dispatch}),i.createElement(K.jQ,{repoId:t.fileRepoId,openFileKey:t.key,currentUserId:e.id,appMergingStatus:this.props.mergingStatus,openFileMerge:this.props.openFileMerge})),!1,E&&!a&&i.createElement("div",{className:eg.tL},i.createElement(e_.H,{iconClassName:eg.ht})),i.createElement(eL,{user:e,openFile:t}),!r&&l&&o&&i.createElement(ei.o,{repo:o,dispatch:this.props.dispatch,trackingContextName:X.e0.EDITOR_TOOLBAR_ACTION}),c&&o?i.createElement(eI,{dispatch:this.props.dispatch,user:e,repo:o,canRename:u,isRenaming:r,viewOnly:p}):i.createElement(eT,{recordingKey:g.Pt(this.props,"fileName")}),!r&&t&&e&&i.createElement("div",{className:eg.ld},i.createElement(ew,{file:t})),!r&&t&&i.createElement(ec.s,{openFile:t}),i.createElement("div",{className:s()({[eg.Dg]:!f})},f&&this.renderChevronWithDropdown(c,t)),(0,W.MP)()&&i.createElement(eo.e,{isUI3:!1,targetKey:ey}),!r&&t&&i.createElement(eN,{file:t,viewOnly:p})))}}eR.displayName="FilenameView",eR.contextType=k.QE;let eP=(0,h.xx)(B.vp),ek=(0,a.Ng)(function(e){var t,r,n;let i;let a=(0,Z.getPermissionsState)(e),o=(0,u.kc)().ps_benchmark;i=o?eP(a.user,a.currentUserOrgId,a.currentTeamId):eP(a.user,a.currentUserOrgId);let l=(0,V.T)(e.progressBarState.mode)?!(null==(t=e.openFile)?void 0:t.canEdit):null==(n=null==(r=e.mirror)?void 0:r.appModel)?void 0:n.isReadOnly,s=!1;return s=o?e.plans.length>1:(0,B.Tt)(e.authedUsers.orderedIds,a),{canRequestToEdit:!!(0,Z.canRequestToEdit)(e),editorIsReadOnly:l,isLimitedDevMode:(0,Q.$A)(e.selectedView)&&!(0,w.tn)(e),openFile:e.openFile,loadingState:e.loadingState,userStateLoaded:e.userStateLoaded,dropdownShown:e.dropdownShown,isRenaming:e.isRenaming,userFlags:e.userFlags,currentWorkspace:i,hasMultipleWorkspaces:s,workspaceName:(0,B.HE)(e,i),selectedView:e.selectedView,topLevelMode:e.mirror.appModel.topLevelMode,modalShown:e.modalShown,mergingStatus:e.mergingStatus,openFileMerge:e.openFileMerge,...a}})(eR);function eD(e){let t=(0,p.md)(x.lu),r="ui3"===(0,o.DP)().version,n=(0,Y.q5)(),l=(0,j.iZ)(),s=(0,a.wA)(),c=(0,Z.usePermissionsState)().repos,d=(0,A.m3)(),u=(0,C.l7)();return i.useEffect(()=>{let e=window.FigmaMobile,t=window.FigmaMobile;if(null==e?void 0:e.updateFilePermission){let r=!!n&&(0,eu.DF)(n,l),i=!!n&&(0,eu.OG)(n,l);e.updateFilePermission(r,i),t&&(t._move_to_project=()=>{i&&(0,eu.RG)(s,n,c)()})}},[s,n,c,l]),i.createElement(ek,{recordingKey:e.recordingKey,newAutosaveFile:t,isUI3:r,shouldSeeBlockingModalDevModePaywall:d,isDevModeOverview:u})}},267850:(e,t,r)=>{"use strict";r.d(t,{G:()=>eh,s:()=>ep});var n=r(411855),i=r(188507),a=r(138020),o=r(966712),l=r(499737),s=r(939863),c=r(54552),d=r(944682),u=r(738269),p=r(507877),m=r(76320),_=r(293017),h=r(662275),g=r(103907),f=r(672517),E=r(289104),y=r(965480),b=r(226055),v=r(857766),I=r(888429),T=r(12493),S=r(906400),w=r(396226),A=r(711296),C=r(723245),N=r(27703),O=r(875847),L=r(356390),R=r(285381),P=r(665723),k=r(852800),D=r(122983),M=r(869156),x=r(335682),F=r(279453),U=r(428467),B=r(284321),H=r(694517),V=r(300874),G=r(239671),W=r(451e3),K=r(813408),Y=r(851363),j=r(279145),z=r(143678),$=r(392340),Z=r(858212),q=r(87627),J=r(671667),X=r(634694),Q=r(193948),ee=r(611964),et=r(18339),er=r(206074),en=r(884129),ei=r(171267),ea=r(476710),eo=r(828736),el=r(236192),es=r(776983),ec=r(849295),ed=r(13678),eu=r(733378);let ep="FILENAME_VIEW_MOVE_TO_PROJECT",em=(0,D.ck)();var e_=(e=>(e.DISABLED="disabled",e.PUBLISH="publish",e.SHOW_UPSELL_MODAL="show_upsell_modal",e))(e_||{});function eh({trackEvent:e,dropdownTargetRect:t,recordingKey:r,dispatch:e_,dropdownVisible:eh,activatePathOnMount:eg,leanPadding:ef}){var eE,ey,eb,ev,eI,eT,eS,ew,eA,eC,eN,eO,eL,eR;let eP=(0,i.d4)(e=>e.mirror.appModel),ek=(0,i.d4)(e=>e.selectedView),eD=(0,i.d4)(e=>(0,U.getPermissionsStateMemoized)(e)),eM=(0,i.d4)(e=>e.userStateLoaded),ex=(0,i.d4)(e=>e.openFile),eF=(0,x.Cq)({useSinatraType:!0}),eU=(0,i.d4)(e=>e.repos),eB=(0,i.d4)(e=>e.teams),eH=(0,i.d4)(e=>e.currentUserOrgId),eV=(0,i.d4)(e=>e.currentTeamId),eG=(0,$.Q)({currentOrgId:eH,currentTeamId:(0,o.kc)().ps_benchmark?eV:null}),eW=(0,b.GS)(),eK=(0,ea.s)(),eY=(0,o.kc)().file_delete_pv2_cleanup,ej=(0,l.Rs)(F.dTR,{fileKey:(null==ex?void 0:ex.key)||""}),ez=(0,i.d4)(B.fA),e$=(0,i.d4)(B.LD);(0,M.SR)();let eZ=(0,l.Rs)(F._iU,{branchFileKey:(null==ex?void 0:ex.key)||""}),eq=(0,E.JT)(),eJ=n.useMemo(()=>{if(ex&&"loaded"===eG.status)return(0,C.T0)(eG.data,ex.key)},[ex,eG]),eX=(0,i.d4)(B.F9),eQ=(0,i.d4)(e=>e.mirror.appModel.topLevelMode),e0=(0,ec.jT)(ex,eX),e1=(0,T.$n)(),e2=(0,g.n6)(),e3=(0,y.kD)(),e5=(0,y.J3)()===y.kN.CAN_PUBLISH,e4=(0,q.J_)(),e8=(0,q.pH)((null==ex?void 0:ex.key)??null,{enabled:!!ex&&e4()}),e6=k.Ez5.uiState().isRecovery.getCopy(),e7=n.useMemo(()=>e$?"disabled":ez?"publish":"show_upsell_modal",[ez,e$]),e9=(0,R.R6)(),{colorProfilePreference:te}=(0,P.jK)(),tt=(0,P.hP)(te),tr=(0,Z.S)();if(!ex||!eh)return null;let tn=ek.editorType,ti=tn!==G.nT.Whiteboard,ta=!!(ti&&(0,v.Kz)(ex)),to=!1;"loaded"===ej.status&&(to=eY?ta?!!(null==(ey=null==(eE=ej.data)?void 0:eE.file)?void 0:ey.canDelete):!!(null==(ev=null==(eb=ej.data)?void 0:eb.file)?void 0:ev.canTrash)&&!!(0,a.oA)(null==(eT=null==(eI=ej.data)?void 0:eI.file)?void 0:eT.canTrash):!!(null==(ew=null==(eS=ej.data)?void 0:eS.file)?void 0:ew.canDelete));let tl="loaded"===eG.status&&(0,C.gV)(eG.data,eH),ts=eD.user,tc="loaded"===eZ.status&&(null===eZ.data.file||eZ.data.file&&(0,X.AM)(eZ.data.file)===X.pT.MERGED),td=ta&&("loaded"!==eZ.status||tc),tu=(0,U.isFileFigjamDisabled)(ex,eD)||(0,U.isOrgUserExternallyRestrictedFromState)(eD),tp=ts&&ex.canManage,tm=!1;tm=eY?to:!!ts&&ex.canDelete;let t_=!!(ta&&ex.trashedAt),th=t_&&!td,tg=eq&&eq.profile.entityType===K.o1.TEAM,tf=ts&&tm&&!tg,tE=(0,eu.DF)(ex,ts),ty=!!eJ,tb=ex.project,tv=tb&&(0,U.canCreateFileLG)(tb,eD,ex.editorType)?ta?(0,s.t)("fullscreen.filename_view.duplicate-as-new"):(0,s.t)("fullscreen.filename_view.duplicate"):(0,s.t)("fullscreen.filename_view.duplicate-to-drafts"),tI=null,tT=(0,o.kc)().ps_benchmark;tT?tb&&""!==tb.path&&(tI=tb):tI=ex.teamId?tb:null;let tS=tT&&ex.folderId===(null==ts?void 0:ts.personal_drafts_folder_id),tw=ex.canEdit&&!!ex.thumbnailGuid,tA=(null==(eO=null==(eN=null==(eC=null==(eA=eG.data)?void 0:eA.currentUser)?void 0:eC.baseOrgUser)?void 0:eN.fileBrowserPreferences)?void 0:eO.orderedSidebarSections)??[],tC=(null==(eR=null==(eL=eG.data)?void 0:eL.currentUser)?void 0:eR.userSidebarSections)!=null?(0,a.oA)(eG.data.currentUser.userSidebarSections):null,tN=(0,C.t$)(tC??[],tA),tO=tN.find(e=>e.id===(null==eJ?void 0:eJ.resource.sidebarSectionId)),tL=()=>{let e=[];return 0===tN.length&&e.push({recordingKey:"favorite-custom",displayText:(0,s.t)("sidebar.starred"),isChecked:!1,callback:()=>tD(!1)}),tN.map(t=>{e.push({recordingKey:"favorite-custom",displayText:""===t.name?(0,s.t)("sidebar.starred"):t.name,isChecked:!!tO&&tO.id===t.id,callback:()=>tD(!!tO&&tO.id===t.id,t.id)})}),e},tR=()=>{if(!e4()||"loaded"!==e8.status)return[];let{canPinFileToWorkspace:e,canEditPin:t,existingFilePinId:r}=e8.data;return e?[{displayText:(0,s.t)("tile.dropdown.pin_to_workspace"),callback:()=>tM()}]:t?[{displayText:(0,s.t)("tile.dropdown.edit_workspace_pin"),callback:()=>tx(r)},{displayText:(0,s.t)("tile.dropdown.remove_workspace_pin"),callback:()=>tF(r)}]:[]},tP=()=>{e_(h.to({type:ed.dD,data:{entrypoint:ee.RR.FILENAME_VIEW_DROPDOWN}}))},tk=()=>{let e=ex.teamId&&eB[ex.teamId];e_(h.to({type:et.$3,data:{afterFileMove:tP,team:e||null}}))},tD=(e,t)=>{if(!eF)return;let r={entrypoint:"editor",favoriteId:null==eJ?void 0:eJ.resource.id,sectionId:t,file:eF,fileBrowserEntryPoint:!1};e?e_(c.qP(r)):e_(c.Fb(r))},tM=()=>{e_(h.to({type:ei.aJ,data:{fileKey:ex.key}}))},tx=e=>{e_(h.to({type:ei.l9,data:{pinnedFileId:e}}))},tF=e=>{e_(h.to({type:ei.IZ,data:{pinnedFileId:e}}))},tU=!em&&ek.editorType===G.nT.Design&&ex.canEdit,tB=(0,Q.jv)((0,I.t)(e1,z.e0.EDITOR_TOOLBAR,eQ),{appModel:eP,selectedView:ek}),tH=(0,Q.jv)((0,I.m)(e1,z.e0.EDITOR_TOOLBAR,eQ,e2),{appModel:eP,selectedView:ek}),tV=(()=>{if(em)return[];let e=[];return tr&&!tS&&((!tl||ty)&&e.push({displayText:ty?(0,s.t)("favorited_resources.indicate_section_prefix")+": "+(tO&&""!==tO.name?tO.name:(0,s.t)("sidebar.starred")):(0,s.t)("favorited_resources.add_to_sidebar"),children:tL()}),ty&&e.push({recordingKey:"favorite-custom-remove",displayText:(0,s.t)("favorited_resources.remove_from_sidebar"),callback:()=>tD(!0,null==tO?void 0:tO.id)})),e.push(...tR()),e})(),tG=(e,t)=>e?t:[],tW=[...tH,...tG(ta,tB),{separator:!0,displayText:""},...tG(!em&&!e6,[{disabled:!(0,j.Yh)(eP,"enter-history-mode"),recordingKey:"toggleVersionHistory",displayText:(0,el.Ah)(eP.activeCanvasEditModeType)?(0,s.t)("fullscreen.filename_view.version-history-hide"):(0,s.t)("fullscreen.filename_view.version-history-show"),callback:()=>{e_(u.oB()),(0,el.Ah)(eP.activeCanvasEditModeType)?e_((0,H.Eg)()):e_((0,H._b)({source:z.e0.EDITOR_TOOLBAR}))}}]),...tG(!!e3,[(0,eo.r)({dispatch:e_,fileKey:(null==e3?void 0:e3.fileKey)||"",templateName:(null==e3?void 0:e3.name)||""})]),...tG(e5,[(0,eo.w)({dispatch:e_,fileKey:ex.key,isPublished:!!e3,source:"filename-context-menu"})]),...tG(!em&&!(ti&&ta)&&tn!==G.nT.Whiteboard&&!eK,[{disabled:"disabled"===e7,recordingKey:"publishVersion",displayText:(0,s.t)("fullscreen.filename_view.publish-styles-and-components"),callback:()=>{"show_upsell_modal"===e7?tk():"publish"===e7&&tP()}}]),...tG(e0,[{recordingKey:"viewFileAnalytics",displayText:(0,s.t)("fullscreen.filename_view.file_analytics"),callback:()=>{e_((0,h.to)({type:es.e,data:{fileKey:ex.key,entrypoint:A.F.FileView}}))}}]),...tG(ti&&!eK&&!e6,[{disabled:!ts,recordingKey:"exportSelectedExportables",displayText:(0,s.t)("fullscreen.filename_view.export"),shortcut:eP.keyboardShortcuts&&(0,j.c1)(eP.keyboardShortcuts,"export-selected-exportables"),callback:()=>{L.Y5.triggerAction("export-selected-exportables",{source:"toolbar"})}}]),...tG(tV.length>0,[{separator:!0,displayText:""},...tV]),{separator:!0,displayText:""},...tG(!ta,tB),{separator:!0,displayText:""},...tG(tU,[(0,S.o)(e9,tt)]),{separator:!0,displayText:""},...tG(!em&&!tS,[{disabled:!eM||tu,recordingKey:"duplicate",displayText:tv,callback:()=>{e_(u.oB());let e=(0,D.xp)(ex,eD);if(e){e_(h.to({type:en.DV,data:{team:e,resource:V.vL.FILE,action:Y.ZN.DUPLICATE_FILES,editorType:ex.editorType||"design",currentPlan:w.F.Plan.STARTER,upsellPlan:w.F.Plan.PRO}}));return}L.Y5.dispatchIfSaved(d.YW({file:ex,checkOssSalesExperiment:eX}))}}]),...tG(!t_,[{disabled:!tE,recordingKey:"rename",displayText:ta?(0,s.t)("fullscreen.filename_view.rename-branch"):(0,s.t)("fullscreen.filename_view.rename"),callback:()=>{e_(u.oB()),e_(_.vg())}}]),...tG(!em&&th,[{disabled:!tp,displayText:"Restore",callback:()=>{e_(u.oB()),eF&&e_(d.iF({fileKeys:{[ex.key]:eF},userInitiated:!0}))}}]),...tG(!em&&!!tI,[{disabled:!1,displayText:(0,s.t)("fullscreen.filename_view.go_to_project"),callback:()=>{if(tI){let e;e=(0,o.kc)().ps_benchmark?(0,O.cU)(tI.id,tI.orgId??null,tI.teamId,eD):(0,W.EE)(tI.id,tI.orgId??null),e_(p.V3({url:e}))}}}]),...tG(!em&&!ta,[{disabled:!tf,recordingKey:"moveToProject","data-onboarding-key":ep,displayText:(0,s.t)("fullscreen.filename_view.move-to-project"),callback:(0,eu.RG)(e_,ex,eU)}]),...tG(!tr&&(ty||!tl)&&!tS,[{recordingKey:"favorite",displayText:ty?(0,s.t)("fullscreen.filename_view.unfavorite_label"):(0,s.t)("fullscreen.filename_view.favorite_label"),callback:()=>tD(!!ty)}]),...tG(!em&&!t_&&!tS&&to,[{disabled:!tf,recordingKey:"delete",displayText:ta?(0,s.t)("fullscreen.filename_view.archive-branch"):(0,s.t)("fullscreen.filename_view.delete"),callback:ta?()=>{e_(u.oB()),eF&&(e_(d.VK({fileKeys:{[ex.key]:eF},userInitiated:!0})),e("Branch Archived",{fileKey:ex.key,fileRepoId:ex.fileRepoId}))}:()=>{e_(u.oB());let e=(0,v.up)(ex,eU);if(e&&(0,v.SA)(ex,e)){let t=(0,U.getDeleteReposPayload)({[e.id]:!0},eD,!0);e_(m.U1({filesByKey:{},reposById:t}))}else{let e=(0,N.RD)({[ex.key]:!0},eD,!0,{[ex.key]:to});e_(m.U1({filesByKey:e}))}}}]),...tG(!em&&t_,[{disabled:!tp,displayText:(0,s.t)("fullscreen.filename_view.delete-branch"),callback:()=>{e_(u.oB()),e_(h.to({type:J.e,data:{fileName:ex.name,onConfirm:()=>e_(m.kj({fileKeys:{[ex.key]:!0},userInitiated:!0}))}}))}}]),...tG(!!tw,[{separator:!0,displayText:""},{recordingKey:"resetFileThumbnail",displayText:(0,s.t)("fullscreen.filename_view.restore_default_thumbnail"),callback:()=>{e_(d.$m({file_key:ex.key,thumbnail_guid:null}))}}])];return n.createElement(f.fu,{name:z.e0.EDITOR_FILENAME_DROPDOWN},n.createElement(er.j,{items:tW,parentRect:t,showPoint:!eW,recordingKey:r,dispatch:e_,allowCodegenOptions:ek.editorType===G.nT.Design,onSelectItem:e=>{e.callback&&e.callback("",{},e_)},activatePathOnMount:eg,lean:eW?"right":void 0,leanPadding:ef,shouldUsePortal:eW}))}},784578:(e,t,r)=>{"use strict";r.d(t,{$5:()=>U,Kw:()=>B,RJ:()=>G,Xo:()=>K,i1:()=>H,kU:()=>V,m7:()=>F,oH:()=>Y});var n=r(411855),i=r(188507),a=r(776250),o=r(966712),l=r(499737),s=r(493323),c=r(939863),d=r(553015),u=r(750293),p=r(672517),m=r(226055),_=r(852800),h=r(737499),g=r(594901),f=r(317946),E=r(860178),y=r(99506),b=r(279453),v=r(336599),I=r(643067),T=r(243987),S=r(147206),w=r(428467),A=r(802026),C=r(668860),N=r(498606),O=r(143678),L=r(507956),R=r(979796),P=r(651994),k=r(733378),D=r(987279),M=r(676939),x=r(473174);let F="edit-button-onboarding",U="edit_button_upgrading_to_edit";var B=(e=>(e.EDIT_BUTTON_LOADING="editButtonLoading",e.EDIT_BUTTON="editButton",e.PRO_REQUEST_UPGRADE="proRequestUpgrade",e.ORG_REQUEST_UPGRADE="orgRequestUpgrade",e.REQUEST_EDIT_VIEW="requestEditView",e.PENDING_UPGRADE_REQUEST="pendingUpgradeRequest",e.VIEW_ONLY="viewOnly",e))(B||{});function H(e){return!!e&&["orgRequestUpgrade","proRequestUpgrade","requestEditView"].includes(e.type)}function V(e){var t,r,s,d,u,p,m,_,N,O,R;let P=e.file,D=(0,i.d4)(e=>e.loadingState),M=(0,i.d4)(e=>e.orgUsersByOrgId),x=(0,i.d4)(e=>e.teamUserByTeamId),F=(0,i.d4)(e=>e.teams),B=(0,i.d4)(e=>e.showEditButton),H=(0,i.d4)(e=>(0,w.getPermissionsStateMemoized)(e)),V=H.user,G=(0,n.useMemo)(()=>!!P&&(0,S.Pe)(P),[P]),W=(0,i.d4)(({openFile:e})=>{var t;return null==(t=null==e?void 0:e.org)?void 0:t.name}),K=function(e,t){let r=(0,E.iZ)();return(0,n.useCallback)(n=>{let i={file_key:n.key,hasRoleAccess:(0,w.hasFileAccess)(n.key,C.e6.VIEWER,e,!0),link_access:n.linkAccess},o=n.parentOrgId&&t.orgUsers[n.parentOrgId],l=r&&o&&o[r.id];n.parentOrgId?(i.account_type=l&&l.design_paid_status,i.parent_org_id=n.parentOrgId):n.teamId&&(i.team_id=n.teamId),(0,a.sx)("Edit Button Events",{edit_button_event:"click",...i})},[r,e,t])}(H,M),Y=(0,h.BI)(),j=(0,l.Rs)(b.nn0,{fileKey:P.key}),z=(0,l.Rs)(b.Std,{orgId:P.parentOrgId}),$=!1,Z=(0,f.E)(),q=P.canEdit,J=(0,k.iv)(P),X=(0,g.sj)(P),Q=(0,L.ks)(),ee=P.canAccessFullDevMode;if("loading"===z.status||P.parentOrgId&&!P.org)return null;if("loaded"===z.status&&($=(null==(r=null==(t=P.org)?void 0:t.inviteWhitelist)?void 0:r.guestInviteSetting)===A.Gv.REQUIRE_APPROVAL&&!!z.data.orgJoinRequest),!$&&(0,v.VP)(D,U))return{type:"editButtonLoading"};if(!$&&B)return{type:"editButton",upgrade:async()=>{await Z(P,U),K(P)}};if(e.viewOnly){let t;let r=(0,o.kc)().edit_action_vr,n=P.parentOrgId&&M.orgUsers[P.parentOrgId],i=V&&n&&n[V.id],a=P.teamId&&x[P.teamId],l=V&&a&&a[V.id]||null,h=!!(r&&!i&&!l&&(null==(d=null==(s=P.org)?void 0:s.inviteWhitelist)?void 0:d.guestInviteSetting)===null&&P.linkAccess===y.PQ.EDIT),g=!!(r&&!l&&!P.org&&P.linkAccess===y.PQ.EDIT&&!(0,S.R$)(V,i?i.org_id:"")),f=!!(i&&(0,S.Jd)(i,P.editorType)),E=!!(l&&(0,S.qR)(l,P.editorType)),b=P.teamId&&F[P.teamId],v=E&&!P.parentOrgId,w=P.editorType===y._Y.DESIGN?null==(u=P.currentPartialOrgUser)?void 0:u.designAccountTypeRequest:null==(p=P.currentPartialOrgUser)?void 0:p.whiteboardAccountTypeRequest,C=P.editorType===y._Y.DESIGN?null==(m=P.currentTeamUser)?void 0:m.designAccountTypeRequest:null==(_=P.currentTeamUser)?void 0:_.whiteboardAccountTypeRequest,L=(null==w?void 0:w.status)==="pending",D=(null==C?void 0:C.status)==="pending",U=!1;if((null==Y?void 0:Y.updateHasPendingEditRequest)&&Y.updateHasPendingEditRequest(!1),V&&!(0,T.b9)({folder_id:P.folderId,team_id:P.teamId},H)){if((r||l)&&b&&(g||(0,I.dk)(v,D,b,V)))return{type:"proRequestUpgrade",file:e.file,teamUser:l,team:b,isDevMode:Q};if(P.org&&(f||h)&&!L&&!(0,S.R$)(V,i?i.org_id:"")&&!(Q&&q&&!ee))return{type:"orgRequestUpgrade",editorType:P.editorType,fileKey:P.key,orgUser:i,orgId:P.parentOrgId,isDevMode:Q};if("loading"===j.status)return null;if("loaded"===j.status){let e=V.id;(null==(N=j.data.file)?void 0:N.fileRoleRequests.find(t=>t.requesterUserId===e))&&(U=!0,(null==Y?void 0:Y.updateHasPendingEditRequest)&&Y.updateHasPendingEditRequest(!0))}if(!v&&!g&&!f&&!h&&!q&&!U&&!$&&!(0,S.R$)(V,i?i.org_id:"")&&!((null==(R=null==(O=P.org)?void 0:O.inviteWhitelist)?void 0:R.guestInviteSetting)===A.Gv.BANNED&&!P.currentPartialOrgUser)&&(!(0,k.Qy)(P)||J))return{type:"requestEditView",fileKey:P.key,userId:V.id,isDevMode:Q}}$?t=(0,c.t)("fullscreen.toolbar.pending-org-join-request-tooltip",{orgName:W||""}):U&&(t=(0,c.t)("fullscreen.toolbar.pending-edit-request-tooltip"));let B=L?w:D?C:null;return B&&!Q?{type:"pendingUpgradeRequest",pendingUpgradeRequest:B,editorType:P.editorType,isRestrictedView:G,isDisabledView:X,pendingToolTipMessage:t,orgId:P.parentOrgId,pendingRequest:!0}:{type:"viewOnly",isRestrictedView:G,isDisabledView:X,pendingToolTipMessage:t,pendingRequest:L||D||U||$}}return null}function G(e){let t=(0,i.d4)(e=>e.openFile);return t?n.createElement(W,{file:t,viewOnly:e.viewOnly,variant:e.variant,recordingKey:e.recordingKey,hideViewOnlyText:e.hideViewOnlyText}):null}function W(e){let t=V({file:e.file,viewOnly:e.viewOnly});return t?n.createElement(K,{viewPermission:t,variant:e.variant,recordingKey:e.recordingKey,hideViewOnlyText:e.hideViewOnlyText}):null}function K({viewPermission:e,variant:t,recordingKey:r,hideViewOnlyText:i}){let a=(0,m.GS)();switch(e.type){case"editButtonLoading":return n.createElement("div",{className:x.Hg},n.createElement(d.$,{"aria-label":(0,c.t)("fullscreen.toolbar.edit-file-button-loading-aria-label"),disabled:!0,variant:t,recordingKey:r,width:a?"fill-parent":void 0},n.createElement("span",{className:x.yx},n.createElement(c.Tx,{id:"fullscreen.toolbar.edit-file-button"})),n.createElement(s.kt,{className:x.yU})));case"editButton":{let i={"data-tooltip":(0,c.t)("fullscreen.toolbar.edit-file-button-hover-tooltip"),"data-tooltip-show-immediately":!0,"data-tooltip-type":N.Ib.TEXT,"data-tooltip-max-width":500,"data-tooltip-offset-y":5};return n.createElement(p.fu,{name:O.e0.FILE_EDIT_BUTTON},n.createElement("div",{"data-onboarding-key":F},n.createElement(d.$,{variant:t,onClick:e.upgrade,recordingKey:r,width:a?"fill-parent":void 0,...i},n.createElement(c.Tx,{id:"fullscreen.toolbar.edit-file-button"}))))}case"requestEditView":return n.createElement(R.N,{fig_file_key:e.fileKey,user_id:e.userId,variant:t,recordingKey:r,isDevMode:e.isDevMode});case"orgRequestUpgrade":return n.createElement(p.fu,{name:O.e0.FILE_ORG_REQUEST_UPGRADE_BUTTON,properties:{isDevMode:e.isDevMode,buttonVariant:t,orgId:e.orgId}},n.createElement(P.R7,{fig_file_key:e.fileKey,orgUser:e.orgUser,orgId:e.orgId,editorType:e.editorType,variant:t,recordingKey:r}));case"proRequestUpgrade":return n.createElement(p.fu,{name:O.e0.FILE_PRO_REQUEST_UPGRADE_BUTTON,properties:{isDevMode:e.isDevMode,buttonVariant:t,teamId:e.team.id}},n.createElement(P.sG,{file:e.file,teamUser:e.teamUser,team:e.team,entryPoint:u.tc.EDIT_FILE,variant:t,recordingKey:r}));case"pendingUpgradeRequest":{if("dltBannerViewPermission"===r)return n.createElement(M.h,{isRestrictedView:e.isRestrictedView,isDisabledView:e.isDisabledView,pendingRequest:e.pendingRequest,variant:t,hideViewOnlyText:i});let a={...e,variant:t,hideViewOnlyText:i};return n.createElement(D.K,{...a})}case"viewOnly":return n.createElement(M.h,{isRestrictedView:e.isRestrictedView,isDisabledView:e.isDisabledView,pendingToolTipMessage:e.pendingToolTipMessage,pendingRequest:e.pendingRequest,variant:t,hideViewOnlyText:i})}}function Y(){return(0,i.d4)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.isRecoveryMode&&_.Ez5.uiState().isRecovery.getCopy())}},364871:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});let n=(0,r(38580).eU)(!1)},549166:(e,t,r)=>{"use strict";r.d(t,{Cv:()=>eh,Lx:()=>e_,cU:()=>eT,v7:()=>eb});var n=r(411855),i=r(188507),a=r(782683),o=r(139689),l=r(243742),s=r(629019),c=r.n(s),d=r(126049),u=r(91408),p=r(517333),m=r(737947),_=r(939683),h=r(358145),g=r(966712),f=r(374626),E=r(498750),y=r(683192),b=r(438741),v=r(489604),I=r(554322),T=r(768137),S=r(946689),w=r(659838),A=r(827586),C=r(46481),N=r(939863),O=r(649506),L=r(738269),R=r(507877),P=r(293017),k=r(931828),D=r(798099),M=r(198371),x=r(226055),F=r(516398),U=r(852800),B=r(369870),H=r(85098),V=r(335682),G=r(754209),W=r(396462),K=r(94500),Y=r(416822),j=r(628705),z=r(571232),$=r(338400),Z=r(498606),q=r(70699),J=r(619031),X=r(720488),Q=r(275415),ee=r(637820),et=r(459343),er=r(104295),en=r(636203),ei=r(648044),ea=r(435761),eo=r(27947),el=r(860168),es=r(531114),ec=r(639685),ed=r(630834);let eu="multiplayer-nickname-dropdown",ep=(0,B.ck)(),em=(0,u.jz)(el.rJv);function e_(e,t,r,n,i,a,o){if(!i)return;let l=e.sessionID,s=l===t,c=a&&a.sessionID===t;if(s&&c)o();else if(n){let t=i.observingSessionID===l||i.sessionID===l?-1:e.sessionID,n=-1!==i.observingSessionID,a=i.observingSessionID!==l&&i.sessionID!==l;n&&r((0,K._P)({name:"Prototype Observation Ended",params:{multiplayerObservingSessionID:i.observingSessionID,multiplayerSessionID:i.sessionID}})),a&&(r((0,K._P)({name:"Prototype Observation Started",params:{multiplayerObservingSessionID:l,multiplayerSessionID:i.sessionID}})),r(k.b({aware_of_observation_mode:!0}))),r(P.J4({...i,observingSessionID:t}))}else U.h3O.observeUser(l),i.observingSessionID!==l&&i.sessionID!==l&&r(k.b({aware_of_observation_mode:!0}))}function eh(e){let t=(0,V.q5)(),{user:r,multiplayer:a,dropdownShown:o}=e,l=(0,i.wA)(),s=(0,i.d4)(e=>"prototype"===e.selectedView.view),c=(0,G.dR)(),d=(0,G.Ww)(),u=(0,b.B4)(),p=n.useCallback(e=>{e_(e,null==d?void 0:d.sessionID,l,s,a,c,u)},[null==d?void 0:d.sessionID,l,s,a,c,u]),m=s?null:t;return r?n.createElement(n.Fragment,null,!ep&&m&&r&&n.createElement(ee.k,{fileKey:m.key}),n.createElement(eg,{dropdownShown:o,multiplayer:a,user:r,editingFile:m,onUserClick:p})):n.createElement(n.Fragment,null,!ep&&m&&r&&n.createElement(ee.k,{fileKey:m.key}),n.createElement(ev,{dropdownShown:o,multiplayer:a,user:r,editingFile:m,onUserClick:p}))}function eg(e){let{multiplayer:t,user:r,onUserClick:i,dropdownShown:a,editingFile:o}=e,l=(0,n.useMemo)(()=>t.allUsers.find(e=>e.sessionID===t.sessionID)||null,[t.allUsers,t.sessionID]);(0,n.useEffect)(()=>{},[t,r]);let s=(0,M.DG)((null==o?void 0:o.key)||"").enabled;return n.createElement("div",{className:es.Wh},n.createElement(eo.sK,null),l&&n.createElement(eb,{dropdownShown:a,multiplayer:t,currentUser:l,onUserClick:i}),o&&n.createElement(ea.w,{user:r,editingFile:o,isFileInWorkshop:s}))}let ef=(0,n.forwardRef)(function(e,t){let{query:r,setQuery:i}=e,l=(0,h.ZC)(r),s=n.useRef(null),[d,u]=n.useState(!1);return(n.useEffect(()=>{s.current&&r!==l&&(s.current.scrollWidth>s.current.clientWidth?u(!0):u(!1))},[l,r]),(0,g.kc)().live_feedback_large_meetings)?n.createElement("div",{ref:t,className:es.MT},n.createElement("div",{className:es.qc},n.createElement(C.U,{svg:ec.A,"aria-label":(0,N.t)("fullscreen.accessibility.search_icon")},n.createElement(a.h,null))),n.createElement(w.L,{ref:s,placeholder:(0,N.t)("collaboration.spotlight.menu.search.placeholder"),className:c()({[es.Rt]:!0,[es.ro]:d}),value:r,onClick:D.dG,onChange:e=>{i(e.target.value),(0,D.dG)(e)},onKeyDown:e=>{"Escape"===e.key&&(i(""),(0,D.dG)(e))},spellCheck:!1}),!!r&&n.createElement("button",{className:es.hC,onClick:e=>{e.stopPropagation(),i("")},"aria-label":(0,N.t)("search.sidebar_search_clear")},n.createElement("div",{className:es.i3},n.createElement(C.U,{svg:ed.default},n.createElement(o.A,null))))):null});function eE(e){let{targetRect:t,arrowOffsetFromRectLeft:r,currentUser:a,peopleList:o,userListRenderer:s,onUserClick:c,onKeyDown:u}=e,p=(0,n.useRef)(null),m=(0,n.useRef)(null),[h,E]=(0,f.fp)(v.ah),[w,C]=(0,f.fp)(v.Dv),[R,P]=n.useState(200),k="ui3"===(0,l.DP)().version,D=(0,i.wA)(),M=(0,I.Av)(),x=Math.min(window.innerHeight-M-22,450);n.useLayoutEffect(()=>{if(p.current&&m.current){let e=k?8:0;P(x-p.current.offsetHeight-m.current.offsetHeight-2*e)}},[k,x]);let F=(0,n.useCallback)(()=>{E(!0)},[E]),{start:U,cancel:B}=(0,W.Z)(F),H=(0,n.useCallback)(()=>{B(),E(!1)},[B,E]),V=(0,b.Vi)(),K=(0,n.useCallback)(()=>{V(),H(),C(!0),D(L.oB())},[H,D,C,V]),Y=(0,b.B4)(),j=(0,n.useCallback)(()=>{Y(),D(L.oB())},[D,Y]),z=(0,G.dR)(),$=z&&e.currentUser.sessionID===z.sessionID?n.createElement(T.pz,{onClick:j,className:es.BK},n.createElement(N.Tx,{id:"collaboration.spotlight.button.stop"})):n.createElement(S.$$,{onClick:K,className:es.BK,onMouseOver:()=>{U(300)},onMouseLeave:H},n.createElement(N.Tx,{id:"collaboration.spotlight.tooltip.spotlight_me"})),Z=n.useContext(y.q),J=n.useCallback(()=>{H(),Z.startWalkthroughRecording(),D(L.oB())},[H,Z,D]),Q=n.useMemo(()=>(0,g.kc)().async_spotlight?n.createElement(S.$$,{onClick:J,className:es.BK,onMouseOver:()=>{U(300)},onMouseLeave:H},n.createElement(N.Tx,{id:"collaboration.spotlight.recording.tooltip.record_me"})):null,[J,U,H]),[et,er]=n.useState(""),{searchResults:en}=function(e){let{query:t,usersToSearch:r}=e,[i,a]=n.useState(r),o=n.useRef(!1),l=(0,_.am)(),s=n.useRef(!1),c=s.current,u=n.useCallback(async e=>{if(""===e)a(r);else{o.current=!1;let t=await (0,ei.n)(e,r);o.current||(a(t.map(e=>e.item)),c||(l("Multiplayer Tools User Search",{otherUserSessionsCount:r.length}),s.current=!0))}},[c,l,r]),p=(0,d.A)(u,200);return n.useEffect(()=>(p(t),()=>{p.cancel(),o.current=!0}),[p,t,r]),{searchResults:i}}({query:et,usersToSearch:o});return n.createElement(X.Cf,{className:es.qN,targetRect:t,maxHeight:x,maxWidth:em,lean:"center",arrowOffsetFromRectLeft:r,onKeyDown:u,showPoint:!k,disableDropdownScrollContainer:!0,propagateCloseClick:!0},n.createElement("div",{ref:p,className:es.az},n.createElement(q.Q,{user:a,isOverflow:!0}),n.createElement("div",{className:es.Vr},$,Q,n.createElement(ee.L,null))),o.length>0&&n.createElement(n.Fragment,null,n.createElement("div",{className:es.me}),n.createElement(ef,{ref:m,query:et,setQuery:er}),n.createElement(A.P,{width:em-16,maxHeight:R},n.createElement(O.W,{autofocus:!0,label:(0,N.t)("fullscreen.toolbar.multiplayer.all_users"),renderer:s,onSelect:e=>{e.length&&(c(e[0]),D(L.oB()))},initiallyNotSelected:!0,customClassName:es.cu},en))))}let ey="multiplayer-tools-dropdown";function eb(e){let{multiplayer:t,dropdownShown:r,currentUser:a,onUserClick:o}=e,l=(0,n.useRef)(null),s=(0,n.useRef)(null),d=(0,n.useRef)(null),u=(0,n.useRef)(null),h=(0,n.useRef)(null),y=(0,x.GS)(),I=(0,i.wA)(),[T,S]=n.useState(!1),w=(null==r?void 0:r.type)===ey,A=(0,n.useMemo)(()=>t.allUsers.filter(e=>e.sessionID!==(null==a?void 0:a.sessionID)),[t.allUsers,a]),[C,O]=(0,f.fp)(v.ah);C&&!w&&O(!1);let P=l.current&&s.current?l.current.clientWidth-s.current.clientWidth:void 0,k=(0,H.Wq)(P),{users:M,overflowUsers:U}=(0,H.uC)(A,null,!1,k),B=(0,n.useMemo)(()=>[...M,...U],[U,M]),V=(0,_.am)(),W=(0,n.useCallback)(e=>{if((0,D.dG)(e),!s.current)return;d.current=s.current.getBoundingClientRect();let t=(null==r?void 0:r.type)===ey;I(R.gR({type:ey})),t||V("Multiplayer Tools Opened",{currentUserSessionID:a.sessionID,otherUserSessionsCount:B.length})},[a.sessionID,I,null==r?void 0:r.type,B.length,V]),K=(0,G.dR)(),z=K&&K.sessionID!==a.sessionID?K:null,$=(0,i.d4)(e=>e),J=(0,g.kc)().ps_benchmark?(0,j.i)($):(0,Y.j)($),X=(0,b.tu)(),Q=(0,b.oJ)(),ee=n.useMemo(()=>({label:e=>e.name,id:e=>String(e.sessionID),renderDisplay(e,{hasCursor:r}){let i=(0,E.Gc)(()=>{let t=`/files${J}/user/${e.userID}`;m.Ay.redirect(t,p.eD?void 0:"_blank")}),a=[],o=t.sessionNominatedByCurrentUser===e.sessionID;return t.presenterSessionID!==e.sessionID&&(o?a.push({text:n.createElement(N.Tx,{id:"collaboration.spotlight.tooltip.menu.cancel_ask_to_spotlight"}),onClick:()=>{(0,H.AD)(e)&&Q(e.sessionID,t)},key:"cancel-ask-to-spotlight"}):a.push({text:n.createElement(N.Tx,{id:"collaboration.spotlight.tooltip.ask_to_spotlight"}),onClick:()=>{(0,H.AD)(e)&&X(e.sessionID,t)},key:"ask-to-spotlight"})),a.push({text:n.createElement(N.Tx,{id:"avatar.tooltip.view_profile"}),onClick:e=>{i(e)},key:"view-profile"}),n.createElement(q.Q,{key:e.sessionID,user:e,isOverflow:!0,isInListbox:!0,containsCursor:r,secondaryActions:a})}}),[t,J,X,Q]),en=w||T,ei=B.length+1,ea=n.createElement(er.s,{featured:z,quickAccess:M,maxVisibleUsers:(y?H.A8:H.Q2)-1,onUserClick:o}),eo=n.createElement("button",{id:"multiplayer-toolbar-container","aria-label":(0,N.t)("fullscreen.toolbar.multiplayer.multiplayer_tools"),"aria-expanded":null!=d.current&&(null==r?void 0:r.type)===ey,"data-tooltip-type":Z.Ib.TEXT,"data-tooltip":(0,N.t)("fullscreen.toolbar.multiplayer.multiplayer_tools"),"data-tooltip-offset-x":s.current&&h.current?s.current.offsetWidth/2-h.current.offsetWidth/2-1.5:0,"data-tooltip-offset-y":s.current&&l.current?l.current.clientHeight/2-s.current.clientHeight/2:0,className:c()({[es.XE]:!0,[es.yx]:y&&U.length>0,[es.Ge]:y&&0===U.length,[es.wH]:w,[es.yo]:!w&&T}),ref:s,onMouseOverCapture:e=>{S(!0),(0,D.dG)(e)},onMouseDownCapture:W,onMouseLeave:()=>{S(!1)},onKeyDown:e=>{(0,F.hx)({e,onClickHandler:e=>{W(e)},onEscapeHandler:()=>{var e;null==(e=null==s?void 0:s.current)||e.blur()}})},onClick:D.dG},n.createElement("span",{key:a.sessionID,ref:u,className:es.r9},n.createElement(q.Q,{user:a,key:a.sessionID,isOverflow:!1})),n.createElement("span",{"data-onboarding-key":"multiplayer-spotlight-nux-key",className:es.rR},U.length>0&&n.createElement("span",{className:c()({[es.zk]:!0,[es.r9]:!0,[es.wH]:w,[es.yo]:!w&&T}),style:{minWidth:ei<10?8:ei<100?15:22}},`${ei}`),n.createElement(et.o,{divRef:h,disableHoverAnimation:y,className:c()({[es.ai]:!0,[es.r9]:!0,[es.wH]:w,[es.yo]:!w&&T}),showingDropdown:en})));return n.createElement("span",{className:es.EI,ref:l,"data-onboarding-key":"multiplayer-users-container"},y?n.createElement(n.Fragment,null,eo,ea):n.createElement(n.Fragment,null,ea,eo),(null==r?void 0:r.type)===ey&&h.current&&n.createElement(eE,{targetRect:h.current.getBoundingClientRect(),arrowOffsetFromRectLeft:h.current?h.current.offsetWidth/2+1:0,currentUser:a,onUserClick:o,userListRenderer:ee,peopleList:B,onKeyDown:e=>{"Tab"===e.key&&I(L.oB())}}))}function ev(e){let{multiplayer:t,user:r,onUserClick:i,dropdownShown:a,editingFile:o}=e,l=(0,n.useMemo)(()=>t.allUsers.find(e=>e.sessionID===t.sessionID)||null,[t.allUsers,t.sessionID]);(0,n.useEffect)(()=>{},[t,r]);let s=(0,M.DG)((null==o?void 0:o.key)||"").enabled;return n.createElement("div",{className:es.Wh},n.createElement(eo.sK,null),n.createElement(eT,{dropdownShown:a,multiplayer:t,currentUser:l,onUserClick:i,editingFile:o}),o&&n.createElement(ea.w,{user:r,editingFile:o,isFileInWorkshop:s}))}let eI="multiplayer-users-dropdown";function eT(e){let{editingFile:t,multiplayer:r,dropdownShown:a,currentUser:o,onUserClick:l}=e,s=(0,n.useRef)(null),c=(0,n.useRef)(null),d=(0,n.useRef)(null),u=(0,i.wA)(),_=(0,n.useCallback)(e=>{(0,D.dG)(e),s.current&&(c.current=s.current.getBoundingClientRect(),u(R.gR({type:eI})))},[u]),h=null==a?void 0:a.type,g=(0,n.useMemo)(()=>h===eu&&d.current?d.current.getBoundingClientRect():null,[h]),f=(0,Q.C$)(),y=(0,i.d4)(Y.j),v=(0,$.Lk)(),I=(null==t?void 0:t.key)??null,{usersNotInCall:T}=(0,z.W5)(I,!0),S=r.allUsers,w=(0,H.D4)(),A=(0,i.d4)(e=>I&&e.voice.activeCall[I])||!1,{users:C,overflowUsers:P}=(0,H.uC)(v?T:S,o,A,w),k=n.useCallback(e=>0===e?"multiplayer-spotlight-nux-key":1===e?"multiplayer-observation-nux-key":"",[]),M=(0,b.tu)(),x=(0,b.oJ)(),U=n.useMemo(()=>({label:e=>e.name,id:e=>String(e.sessionID),renderDisplay(e,{hasCursor:t}){let i=(0,E.Gc)(()=>{let t=`/files${y}/user/${e.userID}`;m.Ay.redirect(t,p.eD?void 0:"_blank")}),a=[],o=r.sessionNominatedByCurrentUser===e.sessionID;return r.presenterSessionID!==e.sessionID&&(o?a.push({text:n.createElement(N.Tx,{id:"collaboration.spotlight.tooltip.menu.cancel_ask_to_spotlight"}),onClick:()=>{(0,H.AD)(e)&&x(e.sessionID,r)},key:"cancel-ask-to-spotlight"}):a.push({text:n.createElement(N.Tx,{id:"collaboration.spotlight.tooltip.ask_to_spotlight"}),onClick:()=>{(0,H.AD)(e)&&M(e.sessionID,r)},key:"ask-to-spotlight"})),a.push({text:n.createElement(N.Tx,{id:"avatar.tooltip.view_profile"}),onClick:e=>{i(e)},key:"view-profile"}),n.createElement(q.Q,{key:e.sessionID,user:e,isOverflow:!0,isInListbox:!0,containsCursor:t,secondaryActions:a})}}),[r,y,M,x]);return n.createElement("span",{className:es.VV,"data-onboarding-key":"multiplayer-avatars"},C.map((e,t)=>{let r=n.createElement(q.Q,{user:e,onboardingKey:k(t),key:e.sessionID,isOverflow:!1,onUserClick:l});return e.sessionID===(null==o?void 0:o.sessionID)?n.createElement("span",{key:e.sessionID,ref:d},r):r}),P.length>0&&n.createElement(n.Fragment,null,n.createElement("button",{id:"multiplayer-overflow-container","aria-label":(0,N.t)("fullscreen.toolbar.multiplayer.more_users"),"aria-expanded":null!=c.current&&(null==a?void 0:a.type)===eI,className:es.O5,ref:s,onMouseDown:_,onKeyDown:e=>{(0,F.hx)({e,onClickHandler:e=>{_(e)},onEscapeHandler:()=>{var e;null==(e=null==s?void 0:s.current)||e.blur()}})},onClick:D.dG},n.createElement(J.f,{className:es.zb,text:`${P.length}`})),(null==a?void 0:a.type)===eI&&s.current&&n.createElement(Q.WM,{targetRect:s.current.getBoundingClientRect(),onKeyDown:e=>{"Tab"===e.key&&u(L.oB())}},n.createElement(O.W,{autofocus:!0,label:"More multiplayer users",renderer:U,onSelect:e=>{e.length&&(l(e[0]),u(L.oB()))},customClassName:es.cu},P))),(null==a?void 0:a.type)===eu&&g&&n.createElement(X.Cf,{targetRect:g,maxHeight:f,className:es.a1,propagateCloseClick:!0},n.createElement(en.M,null)))}},157147:(e,t,r)=>{"use strict";r.d(t,{Ax:()=>eh,Ce:()=>L,D4:()=>eu,FW:()=>ep,Fz:()=>e_,GP:()=>ed,HK:()=>u,JQ:()=>ec,JR:()=>O,LB:()=>p,Nu:()=>C,Te:()=>es,XU:()=>S,ZU:()=>c,Zk:()=>d,_8:()=>em,ec:()=>v,h4:()=>P,hm:()=>R,mb:()=>w,sY:()=>I,yY:()=>b,zO:()=>k});var n=r(572174),i=r(809511),a=r(813648),o=r(279145),l=r(259494),s=r(605492),c=(e=>(e[e.TOOL=0]="TOOL",e[e.ACTION=1]="ACTION",e[e.CUSTOM_ACTION=2]="CUSTOM_ACTION",e[e.ACTION_SUBMENU=3]="ACTION_SUBMENU",e[e.FLYOUT=4]="FLYOUT",e[e.LABEL=5]="LABEL",e[e.TEXT_BUTTON=6]="TEXT_BUTTON",e))(c||{});function d(e){return"action"in e}function u(e){return"divider"in e}let p=[i.m1T.DESIGN_LAYOUT,i.m1T.WHITEBOARD_LAYOUT,i.m1T.SLIDE_LAYOUT,i.m1T.RASTER,i.m1T.GRADIENT,i.m1T.TEXT,i.m1T.COMMENTS],m=p.concat([i.m1T.VECTOR]),_=p.concat([i.m1T.VECTOR,i.m1T.PLACE_IMAGE]),h=[i.m1T.VECTOR],g=[i.m1T.PLACE_IMAGE],f=[i.m1T.PREVIEW,i.m1T.BRANCHING,i.m1T.COMPARE_CHANGES,i.m1T.HISTORY],E=[i.m1T.DESIGN_LAYOUT,i.m1T.TEXT,i.m1T.RASTER,i.m1T.GRADIENT,i.m1T.PREVIEW,i.m1T.COMMENTS,i.m1T.BRANCHING,i.m1T.HISTORY,i.m1T.COMPARE_CHANGES],y={type:4,name:"move-flyout",children:[{action:"set-tool-default",property:"currentTool",propertyValue:i.NLJ.SELECT,recordingKey:"toolDefault"},{action:"set-tool-scale",property:"currentTool",propertyValue:i.NLJ.SCALE,recordingKey:"toolScale"}],editModes:_,recordingKey:"moveFlyout"},b={type:4,name:"shape-flyout",editModes:p,recordingKey:"shapeFlyout",children:[{action:"set-tool-rectangle",property:"currentTool",propertyValue:i.NLJ.SHAPE_RECTANGLE,recordingKey:"toolShapeRectangle"},{action:"set-tool-line",property:"currentTool",propertyValue:i.NLJ.SHAPE_LINE,recordingKey:"toolShapeLine"},{action:"set-tool-arrow",property:"currentTool",propertyValue:i.NLJ.SHAPE_ARROW,recordingKey:"toolShapeArrow"},{action:"set-tool-ellipse",property:"currentTool",propertyValue:i.NLJ.SHAPE_ELLIPSE,recordingKey:"toolShapeEllipse"},{action:"set-tool-regular-polygon",property:"currentTool",propertyValue:i.NLJ.SHAPE_REGULAR_POLYGON,recordingKey:"toolShapePolygon"},{action:"set-tool-star",property:"currentTool",propertyValue:i.NLJ.SHAPE_STAR,recordingKey:"toolShapeStar"},{action:"place",recordingKey:"toolPlaceImage",onboardingKey:"tool-place-image"}]},v={type:0,tool:i.NLJ.COMMENTS,action:"set-tool-comments",editModes:p.concat([i.m1T.PREVIEW]),nonEditorsAllowed:!0,onboardingKey:"comment",recordingKey:"toolComment"},I="insert",T={type:1,action:"component-insert",editModes:p,recordingKey:"toolResourceInsert",onboardingKey:I,isActive:a.kg},S=[{type:0,tool:i.NLJ.SELECT,action:"set-tool-default",nonEditorsAllowed:!0,editModes:f,recordingKey:"toolDefault"},y,{type:4,name:"region-flyout",editModes:p,onboardingKey:"frame",recordingKey:"regionFlyout",children:[{action:"set-tool-frame",property:"currentTool",propertyValue:i.NLJ.FRAME,recordingKey:"toolFrame"},{action:"set-tool-section",property:"currentTool",propertyValue:i.NLJ.SECTION,recordingKey:"toolSection"},{action:"set-tool-slice",property:"currentTool",propertyValue:i.NLJ.SLICE,recordingKey:"toolSlice"}]},b,{type:4,name:"pen-flyout",editModes:m,recordingKey:"penFlyout",onboardingKey:"pen",children:[{action:"set-tool-pen",property:"currentTool",propertyValue:i.NLJ.VECTOR_PEN,recordingKey:"toolPen"},{action:"set-tool-pencil",property:"currentTool",propertyValue:i.NLJ.VECTOR_PENCIL,recordingKey:"toolPencil"}]},{type:0,tool:i.NLJ.VECTOR_BEND,action:"set-tool-bend",editModes:h,recordingKey:"toolBend"},{type:0,tool:i.NLJ.VECTOR_PAINT_BUCKET,action:"set-tool-paint-bucket",editModes:h,recordingKey:"toolPaintBucket"},{type:0,tool:i.NLJ.TYPE,action:"set-tool-type",editModes:p,recordingKey:"toolType",onboardingKey:"tool-type-onboarding"},T,{type:0,tool:i.NLJ.HAND,action:"set-tool-hand",nonEditorsAllowed:!0,loggedOutAllowed:!0,editModes:E,recordingKey:"toolHand"},v,{type:5,label:"toolbar-place-image",editModes:g,recordingKey:"toolPlaceOneImage"},{type:6,action:"place-all-images",editModes:g,recordingKey:"toolPlaceAllImages"},{type:6,action:"discard-all-images",editModes:g,recordingKey:"toolDiscardAllImages"},{type:6,action:"leave-edit-mode",editModes:h,tooltip:"leave-vector-edit-mode",recordingKey:"toolLeaveVectorEditMode"}],w={type:1,action:"focus-mode-component-set-toggle",editModes:[i.m1T.DESIGN_LAYOUT],recordingKey:"focusModeComponentSetToggle",isActive:()=>i.Ez5.uiState().focusModeState.getCopy()===i.xc1.COMPONENT_SET,onboardingKey:"focus-mode-component-set-toggle"},A=[{type:1,action:"multi-edit-text",editModes:p,recordingKey:"multiEditText",onboardingKey:"multi-edit-text"},{type:1,action:"select-matching",editModes:[i.m1T.DESIGN_LAYOUT],recordingKey:"selectMatching"},w],C=["add-selection-ready-status","remove-selection-status"],N=e=>t=>{var r;return!!(null==(r=t.mirror.selectionProperties.resettableInstanceOverrides)?void 0:r.selectionOverrides[e])},O={type:1,editModes:p,action:"live-boolean-union",recordingKey:"toolBooleanUnion"},L={type:1,editModes:p,action:"live-boolean-subtract",recordingKey:"toolBooleanSubtract"},R={type:1,editModes:p,action:"live-boolean-intersect",recordingKey:"toolBooleanIntersect"},P={type:1,editModes:p,action:"live-boolean-xor",recordingKey:"toolBooleanXor"},k={type:1,editModes:p,action:"flatten-selection",recordingKey:"toolFlatten"},D={type:1,action:"focus-mode-component-set-toggle",editModes:[i.m1T.DESIGN_LAYOUT],recordingKey:"focusModeComponentSetToggle",isActive:()=>i.Ez5.uiState().focusModeState.getCopy()===i.xc1.COMPONENT_SET,onboardingKey:"focus-mode-component-set-toggle"},M={type:1,action:"select-matching",editModes:[i.m1T.DESIGN_LAYOUT],recordingKey:"selectMatching",isAvailable:e=>(0,o.Yh)(e.mirror.appModel,"select-matching")},x={type:1,action:"multi-edit-text",editModes:p,recordingKey:"multiEditText",onboardingKey:"multi-edit-text"},F={type:1,action:"add-selection-ready-status",editModes:[...p,i.m1T.DEV_HANDOFF],recordingKey:"toolAddReadyStatus"},U={type:1,action:"remove-selection-status",editModes:[...p,i.m1T.DEV_HANDOFF],isActive:()=>!0,recordingKey:"toolRemoveStatus"},B={type:1,action:"text-edit-hyperlink",isActive:()=>i.Ez5.editorState().selectionIsHyperlink.getCopy(),editModes:[i.m1T.DESIGN_LAYOUT,i.m1T.TEXT],recordingKey:"editHyperlink"},H={type:1,action:"create-symbol",recordingKey:"toolCreateSymbol",onboardingKey:"create-symbol"},V={type:1,action:"create-multiple-symbols",recordingKey:"toolCreateMultipleSymbols",onboardingKey:"create-symbol"},G={type:1,action:"create-multiple-symbols-and-state-group",recordingKey:"toolCreateMultipleSymbolsAndStateGroup",onboardingKey:"create-symbol"},W={type:1,action:"detach-instance",recordingKey:"detachInstance",onboardingKey:"detach-instance"},K={type:1,action:"push-changes-to-main",recordingKey:"pushChangesToMain"},Y={type:1,action:"reset-symbol",recordingKey:"resetSymbol"},j={type:1,action:"reset-size",recordingKey:"resetSize",isAvailable:N(i.YnC.SIZE)},z={type:1,action:"reset-exports",recordingKey:"resetExports",isAvailable:N(i.YnC.EXPORTS)},$={type:1,action:"reset-effects",recordingKey:"resetEffects",isAvailable:N(i.YnC.EFFECTS)},Z={type:1,action:"reset-layer",recordingKey:"resetLayer",isAvailable:N(i.YnC.LAYER)},q={type:1,action:"reset-visible",recordingKey:"resetChanges",isAvailable:N(i.YnC.VISIBLE)},J={type:1,action:"reset-name",recordingKey:"resetName",isAvailable:N(i.YnC.NAME)},X={type:1,action:"reset-fill",recordingKey:"resetFill",isAvailable:N(i.YnC.FILL)},Q={type:1,action:"reset-stroke",recordingKey:"resetStroke",isAvailable:N(i.YnC.STROKE)},ee={type:1,action:"reset-text",recordingKey:"resetText",isAvailable:N(i.YnC.TEXT)},et={type:1,action:"reset-text-style",recordingKey:"resetStyle",isAvailable:N(i.YnC.TEXT_STYLE)},er={type:1,action:"reset-prototype-interactions",recordingKey:"resetPrototypeInteractions",isAvailable:N(i.YnC.PROTOTYPE_INTERACTIONS)},en={type:1,action:"reset-overlay",recordingKey:"resetOverlay",isAvailable:N(i.YnC.OVERLAY)},ei={type:1,action:"add-variant",editModes:p,recordingKey:"addVariant"},ea={type:1,action:"mask-selection",isActive:()=>i.Ez5.editorState().selectionIsMask.getCopy()===i.F84.ON,editModes:p,recordingKey:"toolMaskSelection"},eo={type:1,action:"crop-image",editModes:p,recordingKey:"toolCropImage"},el={type:1,action:"request-edit-mode-via-toolbar",editModes:p,recordingKey:"toolEditMode"};function es(){return[F,U]}function ec(e,t,r,i,a){let o=[t,r,H,V,G,i,K,W,e].filter(n.Vq);return a?[o]:[[D,x,M,ei,F,U,B,eo],o,[el,ea],[O,L,R,P,k]]}function ed(){return[Y,z,$,Z,q,J,X,Q,ee,et,j,er,en]}let eu=[{type:1,action:"create-section-from-selection",editModes:p,recordingKey:"toolCreateSection"},{type:1,action:"request-edit-mode-via-toolbar",editModes:p,recordingKey:"toolEditMode"},...A,{type:1,action:"reset-symbol",editModes:p,recordingKey:"toolResetSymbol"},{type:4,name:"symbol-flyout",editModes:p,recordingKey:"createSymbolFlyout",flyoutHideOptionsIfSingleEnabledAction:!0,flyoutShowItemIcons:!1,onboardingKey:"create-symbol",children:[{action:"create-symbol",recordingKey:"toolCreateSymbol",onboardingKey:"create-symbol"},{action:"create-multiple-symbols",recordingKey:"toolCreateMultipleSymbols",onboardingKey:"create-symbol"},{action:"create-multiple-symbols-and-state-group",recordingKey:"toolCreateMultipleSymbolsAndStateGroup",onboardingKey:"create-symbol"}]},{type:1,action:"add-variant",editModes:p,recordingKey:"addVariant"},{type:1,action:"mask-selection",isActive:()=>i.Ez5.editorState().selectionIsMask.getCopy()===i.F84.ON,editModes:p,recordingKey:"toolMaskSelection"},{type:4,name:"boolean-flyout",editModes:p,children:[{action:"live-boolean-union",recordingKey:"toolBooleanUnion"},{action:"live-boolean-subtract",recordingKey:"toolBooleanSubtract"},{action:"live-boolean-intersect",recordingKey:"toolBooleanIntersect"},{action:"live-boolean-xor",recordingKey:"toolBooleanXor"},{divider:!0},{action:"flatten-selection",recordingKey:"toolFlatten"}],recordingKey:"booleanFlyout"},{type:1,action:"crop-image",editModes:p,recordingKey:"toolCropImage"},{type:1,action:"text-edit-hyperlink",isActive:()=>i.Ez5.editorState().selectionIsHyperlink.getCopy(),editModes:[i.m1T.DESIGN_LAYOUT,i.m1T.TEXT],recordingKey:"editHyperlink"},{type:1,action:"add-image-description",propertyValue:!0,editModes:p,recordingKey:"addImageDescription"},{type:1,action:"add-selection-ready-status",editModes:[...p,i.m1T.DEV_HANDOFF,i.m1T.PREVIEW],nonEditorsAllowed:!0,recordingKey:"toolAddReadyStatus"},{type:1,action:"remove-selection-status",editModes:[...p,i.m1T.DEV_HANDOFF,i.m1T.PREVIEW],nonEditorsAllowed:!0,isActive:()=>!0,recordingKey:"toolRemoveStatus"}],ep=[{type:0,tool:i.NLJ.SELECT,action:"set-tool-default-figjam",nonEditorsAllowed:!0,onlyShowInReadOnly:!0,editModes:[...p,i.m1T.PREVIEW,i.m1T.HISTORY],recordingKey:"toolDefault"},{type:0,tool:i.NLJ.HAND,action:"set-tool-hand",nonEditorsAllowed:!0,onlyShowInReadOnly:!0,editModes:[...p,i.m1T.PREVIEW,i.m1T.HISTORY],recordingKey:"toolHand",onboardingKey:l.N}],em=[{type:0,tool:i.NLJ.SELECT,action:"set-tool-default-dev-handoff",editModes:[i.m1T.DEV_HANDOFF,i.m1T.DEV_HANDOFF_HISTORY],recordingKey:"toolDefault",nonEditorsAllowed:!0,onlyShowInReadOnly:!1,newFileDisabled:!0,iconOverride:s.A,isWideForEditors:!0},{type:0,tool:i.NLJ.MEASURE,action:"set-tool-measure",editModes:[i.m1T.DEV_HANDOFF],recordingKey:"toolMeasure",nonEditorsAllowed:!1,newFileDisabled:!1,onlyShowInReadOnly:!1,hideInExtension:!0,onboardingKey:"tool-measurements-onboarding"},{type:0,tool:i.NLJ.ANNOTATE,action:"set-tool-annotate",editModes:[i.m1T.DEV_HANDOFF],recordingKey:"toolAnnotate",nonEditorsAllowed:!1,newFileDisabled:!1,onlyShowInReadOnly:!1,hideInExtension:!0,onboardingKey:"tool-annotations-onboarding"},{type:0,tool:i.NLJ.COMMENTS,action:"set-tool-comments",editModes:[i.m1T.DEV_HANDOFF],recordingKey:"toolComment",nonEditorsAllowed:!0,newFileDisabled:!0,onlyShowInReadOnly:!1}],e_={type:4,name:"prototype-view-flyout",editModes:p.concat([i.m1T.DEV_HANDOFF,i.m1T.PREVIEW]),nonEditorsAllowed:!0,loggedOutAllowed:!0,recordingKey:"prototypeViewFlyout",dontChainRecordingKeys:!0,flyoutDoNotStyleActiveItem:!0,children:[{action:"present-as-prototype",actionOnFlyoutItemClick:"set-prototype-view-present",isActive:()=>i.Ez5.prototypingEditorState().prototypeViewMode.getCopy()===i.dBj.PRESENT,recordingKey:"prototypeViewPresent",onboardingKey:"prototype-view-present-dropdown-option"},{action:"toggle-inline-preview",actionOnFlyoutItemClick:"set-prototype-view-preview",isActive:()=>i.Ez5.prototypingEditorState().prototypeViewMode.getCopy()===i.dBj.PREVIEW,recordingKey:"prototypeViewPreview"}],onboardingKey:"prototype-view-flyout"},eh={type:1,action:"toggle-inline-html-preview",recordingKey:"prototypeViewSitesPreview"}},136297:(e,t,r)=>{"use strict";r.d(t,{I:()=>n,M:()=>i});let n=r(706607);function i(e,t,r=!0){let i=n.enabledButton;return e?t&&r&&(i=n.activeButton):i=n.disabledButton,i}},252828:(e,t,r)=>{"use strict";r.d(t,{HT:()=>$,QT:()=>Z,pK:()=>z});var n=r(411855),i=r(188507),a=r(243742),o=r(629019),l=r.n(o),s=r(961747),c=r(939683),d=r(794272),u=r(966712),p=r(498750),m=r(860601),_=r(153234),h=r(268537),g=r(939863),f=r(738269),E=r(809831),y=r(506599),b=r(226055),v=r(728325),I=r(356390),T=r(949632),S=r(852800),w=r(617453),A=r(227944),C=r(318812),N=r(100197),O=r(94500),L=r(239671),R=r(498606),P=r(279145),k=r(259494),D=r(507956),M=r(810014),x=r(459343),F=r(206074),U=r(227795),B=r(585645),H=r(610544),V=r(349307),G=r(179544),W=r(98285),K=r(539954);let Y="zoom-input-dropdown";function j({targetRect:e,showingZoomDropdown:t,toggleZoomMenu:r,recordingKey:o}){let l=(0,c.am)();n.useEffect(()=>{l("View Menu Opened")},[l]);let s=(0,E.E3)(),p="ui3"===(0,a.DP)().version,m=(0,N.J2)((0,T.d)().activeCanvasCurrentZoom),_=(0,N.J2)((0,w.UK)().activeCanvasPixelPreview),h=(0,N.J2)((0,T.d)().activeCanvasRetinaMode),g=(0,d.R)(e=>e.mirror.appModel.keyboardShortcuts),f=(0,i.d4)(e=>!e.mirror.appModel.isReadOnly),y=(0,i.d4)(e=>!!e.user),b=(0,i.d4)(e=>(0,D.$A)(e.selectedView)),C=e=>(0,i.d4)(t=>!!t.mirror.appModel[e]),R=s===L.nT.Design,k="design"===(0,L.oD)(s),M=(0,i.d4)(e=>e.mirror.appModel.prototypeCanvasUiVisible),x=(0,N.J2)(S.Ez5.editorPreferences().showPropertyLabels),F=(0,N.J2)(S.Ez5.editorPreferences().showFrameGrids),U=(0,N.J2)((0,T.d)().showFrameGridsViewOnly),B=f?"showFrameGrids":"showFrameGridsViewOnly",H=(0,N.J2)((0,u.kc)().figjam_snap_to_dot_grid_reset?(0,w.UK)().snapToDotGridStagingReset:(0,w.UK)().snapToDotGrid),V=(0,N.J2)((0,w.UK)().snapToPixelGrid),G=(0,N.J2)((0,w.UK)().showDotGrid),W=(0,N.J2)((0,w.UK)().renderGrid),K=[{type:"ZOOM_IN",shortcut:(0,P.c1)(g,"zoom-in"),recordingKey:"zoomIn",disabled:!(0,A.Zr)("zoom-in")},{type:"ZOOM_OUT",shortcut:(0,P.c1)(g,"zoom-out"),recordingKey:"zoomOut",disabled:!(0,A.Zr)("zoom-out")},{type:"ZOOM_TO_FIT",shortcut:(0,P.c1)(g,"zoom-to-fit"),recordingKey:"zoomToFit"},{type:"ZOOM_TO_50",recordingKey:"zoomTo50"},{type:"ZOOM_TO_100",shortcut:(0,P.c1)(g,"zoom-reset"),recordingKey:"zoomTo100"},{type:"ZOOM_TO_200",recordingKey:"zoomTo200"},{type:"separator"},{type:"PIXEL_PREVIEW",isChildChecked:_,recordingKey:"activeCanvasPixelPreview",hidden:!R&&!b,disabled:(0,A.Zr)("activeCanvasPixelPreview"),children:[{type:"PIXEL_PREVIEW_DISABLED",shortcut:(0,P.c1)(g,"toggle-pixel-preview"),isChecked:!_,recordingKey:"disabled"},{type:"PIXEL_PREVIEW_1X",isChecked:_&&!h,shortcut:h?void 0:(0,P.c1)(g,"toggle-pixel-preview"),recordingKey:"1x"},{type:"PIXEL_PREVIEW_2X",isChecked:_&&h,shortcut:h?(0,P.c1)(g,"toggle-pixel-preview"):void 0,recordingKey:"2x"}]},{type:k?"PIXEL_GRID":"DOT_GRID",shortcut:(0,P.c1)(g,k?"toggle-grid":"toggle-show-dot-grid"),recordingKey:k?"renderGrid":"showDotGrid",isChecked:k?W:G,disabled:!(0,A.Zr)("toggle-grid")},{type:k?"SNAP_TO_PIXEL_GRID":"SNAP_TO_DOT_GRID",shortcut:(0,P.c1)(g,k?"toggle-snapping-to-pixels":"toggle-snapping-to-dots"),recordingKey:R?"snapToPixelGrid":"snapToDotGrid",isChecked:k?V:H,disabled:!(0,A.Zr)(R?"toggle-snapping-to-pixels":"toggle-snapping-to-dots"),hidden:b},{type:"LAYOUT_GRIDS",shortcut:(0,P.c1)(g,"toggle-shown-layout-grids"),recordingKey:B,hidden:!k||!y,isChecked:f?F:U,disabled:(0,A.Zr)(B)},{type:"RULERS",shortcut:(0,P.c1)(g,"toggle-rulers"),recordingKey:"renderRulers",hidden:!k,isChecked:(0,N.J2)((0,w.UK)().renderRulers),disabled:(0,A.Zr)("renderRulers")},{type:"OUTLINES_MENU",recordingKey:"outlinesMenu",hidden:!k||!y,disabled:(0,A.Zr)("showOutlines"),children:[{type:"OUTLINES",shortcut:(0,P.c1)(g,"toggle-outlines-with-migration-notice")||(0,P.c1)(g,"toggle-outlines"),isChecked:(0,N.J2)((0,T.d)().showOutlines),recordingKey:"showOutlines"},{type:"separator"},{type:"OUTLINES_HIDDEN_LAYERS",isChecked:(0,N.J2)((0,T.d)().showOutlineHiddenLayers),recordingKey:"hiddenLayers"},{type:"OUTLINES_OBJECT_BOUNDS",isChecked:(0,N.J2)((0,T.d)().showOutlineObjectBounds),recordingKey:"objectBounds"}]},{type:"MULTIPLAYER_CURSORS",shortcut:(0,P.c1)(g,"toggle-multiplayer-cursors"),recordingKey:"hideMultiplayerCursors",isChecked:!C("hideMultiplayerCursors"),disabled:(0,A.Zr)("hideMultiplayerCursors")},{type:"PROPERTY_LABELS",recordingKey:"toggleShowPropertyLabels",isChecked:x,hidden:!p},{type:"separator"},{type:"COMMENTS",shortcut:(0,P.c1)(g,"toggle-show-comments"),recordingKey:"showComments",isChecked:C("showComments"),disabled:(0,A.Zr)("showComments")},{type:"ANNOTATIONS",recordingKey:"showAnnotations",isChecked:(0,N.J2)(S.Ez5.uiState().showAnnotations),disabled:!(0,A.Zr)("toggle-show-annotations"),hidden:!b},{type:"PROTOTYPING",shortcut:(0,P.c1)(g,"toggle-prototyping-info"),recordingKey:"prototypingMode",hidden:!R||f&&!(0,O.Zd)(),isChecked:M},{type:"SINGLE_PROPERTIES_PANEL",recordingKey:"singlePropertiesPanel",hidden:!(0,u.kc)().prototype_modality,isChecked:(0,O.Zd)()}],Y=n.useCallback(e=>{S.glU.setCanvasZoomScale(e/100)},[]);return n.createElement(z,{targetRect:e,showingZoomDropdown:t,toggleZoomMenu:r,recordingKey:o,allowCodegenOptions:k,currentZoom:100*m,dropdownItems:K,onSelectDropdownItem:(e,t)=>{switch(e){case"ZOOM_IN":I.Y5.triggerAction("zoom-in",{source:"zoom-menu"});break;case"ZOOM_OUT":I.Y5.triggerAction("zoom-out",{source:"zoom-menu"});break;case"ZOOM_TO_FIT":I.Y5.triggerAction("zoom-to-fit",{source:"zoom-menu"});break;case"ZOOM_TO_50":S.glU.setCanvasZoomScale(.5);break;case"ZOOM_TO_100":S.glU.setCanvasZoomScale(1);break;case"ZOOM_TO_200":S.glU.setCanvasZoomScale(2);break;case"PIXEL_PREVIEW":v.VU.get("toggle-pixel-preview","toolbar")(t);break;case"PIXEL_GRID":v.VU.get("toggle-grid","toolbar")(t);break;case"SNAP_TO_PIXEL_GRID":v.VU.get("toggle-snapping-to-pixels","toolbar")(t);break;case"SNAP_TO_DOT_GRID":v.VU.get("toggle-snapping-to-dots","toolbar")(t);break;case"DOT_GRID":v.VU.get("toggle-show-dot-grid","toolbar")(t);break;case"LAYOUT_GRIDS":v.VU.get("toggle-shown-layout-grids","toolbar")(t);break;case"MULTIPLAYER_CURSORS":v.VU.get("toggle-multiplayer-cursors","toolbar")(t);break;case"PROPERTY_LABELS":v.VU.get("toggle-show-property-labels","toolbar")(t);break;case"PROTOTYPING":v.VU.get("toggle-prototyping-info","toolbar")(t);break;case"SINGLE_PROPERTIES_PANEL":I.Y5.triggerAction("toggle-prototyping-tab-merge");break;case"RULERS":v.VU.get("toggle-rulers","toolbar")(t);break;case"SLICES":v.VU.get("toggle-show-slices","toolbar")(t);break;case"COMMENTS":v.VU.get("toggle-show-comments","toolbar")(t);break;case"ANNOTATIONS":v.VU.get("toggle-show-annotations","toolbar")(t);break;case"OUTLINES":I.Y5.triggerAction("toggle-outlines",{source:"zoom-menu"});break;case"OUTLINES_HIDDEN_LAYERS":I.Y5.triggerAction("toggle-outline-mode-hidden-layers",{source:"zoom-menu"});break;case"OUTLINES_OBJECT_BOUNDS":I.Y5.triggerAction("toggle-outline-mode-object-bounds",{source:"zoom-menu"});break;case"PIXEL_PREVIEW_DISABLED":_&&I.Y5.triggerAction("toggle-pixel-preview",{source:"zoom-menu"});break;case"PIXEL_PREVIEW_1X":_||I.Y5.triggerAction("toggle-pixel-preview",{source:"zoom-menu"}),h&&I.Y5.triggerAction("toggle-retina-mode",{source:"zoom-menu"});break;case"PIXEL_PREVIEW_2X":_||I.Y5.triggerAction("toggle-pixel-preview",{source:"zoom-menu"}),h||I.Y5.triggerAction("toggle-retina-mode",{source:"zoom-menu"})}r()},onSubmitCustomZoom:Y})}function z({targetRect:e,showingZoomDropdown:t,recordingKey:r,allowCodegenOptions:o,currentZoom:l,dropdownItems:s,displayAboveTarget:c,onSelectDropdownItem:d,onSubmitCustomZoom:u}){let m=(0,i.wA)(),E="ui3"===(0,a.DP)().version,y=n.useMemo(()=>({ZOOM_IN:(0,g.t)("fullscreen_actions.zoom-in"),ZOOM_OUT:(0,g.t)("fullscreen_actions.zoom-out"),ZOOM_TO_FIT:(0,g.t)("fullscreen_actions.zoom-to-fit"),ZOOM_TO_50:(0,g.t)("fullscreen.toolbar.zoom_menu.zoom_to_50"),ZOOM_TO_100:(0,g.t)("fullscreen_actions.zoom-reset"),ZOOM_TO_200:(0,g.t)("fullscreen.toolbar.zoom_menu.zoom_to_200"),PIXEL_PREVIEW:(0,g.t)("fullscreen.toolbar.zoom_menu.pixel_preview"),PIXEL_GRID:(0,g.t)("fullscreen_actions.toggle-grid"),SNAP_TO_PIXEL_GRID:(0,g.t)("fullscreen_actions.toggle-snapping-to-pixels"),PROTOTYPING:(0,g.t)("fullscreen_actions.toggle-prototyping-information"),SNAP_TO_DOT_GRID:(0,g.t)("fullscreen_actions.toggle-snapping-to-dots"),DOT_GRID:(0,g.t)("fullscreen_actions.toggle-show-dot-grid"),LAYOUT_GRIDS:(0,g.t)("fullscreen_actions.toggle-shown-layout-grids"),MULTIPLAYER_CURSORS:(0,g.t)("fullscreen_actions.toggle-multiplayer-cursors"),PROPERTY_LABELS:(0,g.t)("fullscreen_actions.toggle-show-property-labels"),RULERS:(0,g.t)("fullscreen_actions.toggle-rulers"),SLICES:(0,g.t)("fullscreen_actions.toggle-show-slices"),COMMENTS:(0,g.t)("fullscreen_actions.toggle-show-comments"),ANNOTATIONS:(0,g.t)("fullscreen_actions.toggle-show-annotations"),OUTLINES:(0,g.t)("fullscreen_actions.toggle-outlines"),OUTLINES_MENU:(0,g.t)("fullscreen_actions.outlines-menu"),OUTLINES_HIDDEN_LAYERS:(0,g.t)("fullscreen_actions.outline-mode-hidden-layers"),OUTLINES_OBJECT_BOUNDS:(0,g.t)("fullscreen_actions.outline-mode-object-bounds"),PIXEL_PREVIEW_DISABLED:(0,g.t)("fullscreen.toolbar.zoom_menu.pixel_preview_disabled"),PIXEL_PREVIEW_1X:(0,g.t)("fullscreen.toolbar.zoom_menu.pixel_preview_1x"),PIXEL_PREVIEW_2X:(0,g.t)("fullscreen.toolbar.zoom_menu.pixel_preview_2x"),SINGLE_PROPERTIES_PANEL:(0,g.t)("fullscreen_actions.single-properties-panel")}),[]),b=n.useMemo(()=>{let e=t=>{if("separator"===t.type)return{displayText:"",disabled:!0,separator:!0};let{children:r,...n}=t,i={displayText:y[t.type]};switch(t.type){case"ZOOM_TO_50":i.isChecked=50===l;break;case"ZOOM_TO_100":i.isChecked=100===l;break;case"ZOOM_TO_200":i.isChecked=200===l}return r&&(i.children=r.map(e)),{...n,...i}};return s.map(e)},[l,s,y]),v=n.useCallback((e,t)=>{d(e.type,t)},[d]);return n.createElement(F.j,{items:b,onSelectItem:v,parentRect:e,showPoint:!E,dispatch:m,recordingKey:_.Pt(r,"dropdown"),alwaysShowCheckMarkOffset:!0,allowCodegenOptions:o,displayAboveTarget:c},n.createElement("div",{style:{height:2}}),n.createElement("div",{className:H.zj,onKeyDown:e=>{(e.keyCode===p.Uz.ENTER||e.keyCode===p.Uz.ESCAPE)&&t&&m(f.oB())}},n.createElement(B.A,{className:H.hF,placeholderValue:`${Math.round(l)}%`,cancel:e=>{e&&e.blur()},submit:e=>{e.endsWith("%")&&(e=e.substr(0,e.length-1));let t=-1;try{t=parseInt(e,10)}catch(e){}t>0&&u(t)},recordingKey:_.Pt(r,"dropdown","zoomInput")})),n.createElement(h.W.Separator,null))}let $=n.memo(function({recordingKey:e}){let t=(0,E.E3)(),r=(0,A.Zr)("zoom-out"),i=(0,A.Zr)("zoom-in"),a=100*(0,N.J2)((0,T.d)().activeCanvasCurrentZoom);return t===L.nT.Whiteboard?n.createElement(Z,{type:"FULL",recordingKey:e,currentZoom:a,Dropdown:j,dropdownId:Y,canZoomIn:i,canZoomOut:r,onZoomIn:()=>I.Y5.triggerAction("zoom-in"),onZoomOut:()=>I.Y5.triggerAction("zoom-out")}):n.createElement(Z,{type:"DROPDOWN_ONLY",recordingKey:e,currentZoom:a,Dropdown:j,dropdownId:Y})});function Z({type:e,recordingKey:t,currentZoom:r,Dropdown:a,...o}){let c=(0,i.wA)(),d=n.useRef(null),u=(0,C.B)(o.dropdownId),[p,h]=(0,n.useState)(null),f=(0,b.GS)(),{isPropertiesPanelCollapsed:E}=(0,y.i)(),v=n.useCallback(()=>{var e;h((null==(e=null==d?void 0:d.current)?void 0:e.getBoundingClientRect())||null)},[d]);n.useEffect(()=>(v(),s._.addListener(v),window.addEventListener("resize",v),()=>{s._.removeListener(v),window.removeEventListener("resize",v)}),[v]);let I=n.useCallback(()=>{v(),u.toggle({hasOwnEscKeyHandler:!1})},[u,v]),T=_.rf(_.Pt(t,"zoomButton"),"click",I),S=u.showing&&p&&n.createElement(a,{targetRect:p,showingZoomDropdown:u.showing,toggleZoomMenu:u.toggle,recordingKey:t});function w(){let e=Math.round(r);return f?e.toString().length<5?`${e}%`:`${e}`:`${e}%`}switch(e){case"FULL":{let e=!("canZoomIn"in o)||o.canZoomIn,r=!("canZoomOut"in o)||o.canZoomOut,i="onZoomIn"in o?o.onZoomIn:m.lQ,a="onZoomOut"in o?o.onZoomOut:m.lQ;return n.createElement("div",{role:"none",className:l()(H.sH,H.mu),onClick:e=>e.stopPropagation()},n.createElement(U.K0,{recordingKey:_.Pt(t,"zoomOutButton"),className:l()({[H.QO]:!0,[H.Sn]:r}),svg:V.A,fallbackSvg:G.A,disabled:!r,onClick:a,"data-tooltip-type":R.Ib.LOOKUP,"data-tooltip":"zoom-out"}),n.createElement(M.L,{ariaLabel:(0,g.t)("fullscreen.zoom_menu.zoom_view_options"),onClick:T,selected:u.showing,className:l()(H.LY,u.showing&&H.vu),onboardingKey:k.q,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.zoom_menu.zoom_view_options")},n.createElement("div",{className:H.cm,"data-testid":"zoom-amount",ref:d},w()),n.createElement("div",{className:H.FH,ref:d},n.createElement(x.c,{dispatch:c,dropdownKey:Y,showingDropdown:u.showing,dataTestId:"zoom-menu-chevron",className:u.showing?H.r4:H.Dn,svgContainerClassName:H.r2,toggleOnClick:!0}))),S,n.createElement(U.K0,{recordingKey:_.Pt(t,"zoomInButton"),className:l()({[H.sy]:!0,[H.Sn]:e}),svg:W.A,fallbackSvg:K.A,disabled:!e,onClick:i,"data-tooltip-type":R.Ib.LOOKUP,"data-tooltip":"zoom-in"}))}case"DROPDOWN_ONLY":{let e=f?H.l4:H.Xf,t=f?u.showing?H.wg:E?H.Jk:H.Y7:u.showing?H.om:H.wR,r=f?u.showing?H.S0:H.i5:H.cm,i=n.createElement("div",{className:t,ref:f?d:void 0,onClick:T,role:"button",tabIndex:0},n.createElement("div",{className:r,"data-testid":"zoom-amount"},w()),n.createElement("div",{className:l()(H.FH,{[H.WB]:f&&u.showing}),ref:d},n.createElement(x.c,{dispatch:c,dropdownKey:Y,showingDropdown:u.showing,dataTestId:"zoom-menu-chevron",toggleOnClick:!0,isUI3:f})));return n.createElement("div",{className:H.sH,role:"none",onClick:e=>e.stopPropagation()},n.createElement(M.L,{selected:u.showing,className:e,onboardingKey:k.q,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.zoom_menu.zoom_view_options"),onClick:I,onClickForKeyDownOnly:!0,isUI3:f},i),S)}default:return null}}},258525:(e,t,r)=>{"use strict";r.d(t,{B:()=>m,P:()=>_});var n=r(411855),i=r(188507),a=r(320063),o=r(939863),l=r(931828),s=r(862442),c=r(746806),d=r(970332),u=r(67350),p=r(788256);let m="text-panel-container";function _(e){let[t,r]=n.useState(!1),_=(0,s.Z)(),h=(0,i.wA)();if((0,a.h)(()=>{queueMicrotask(async function(){var t;let n=null==(t=e.getNodeForViewportFocus)?void 0:t.call(e),i=e.getNodeToSelect();i?(await (0,p.zU)({navigate:_,guidToFocus:null==n?void 0:n.guid,guidToSelect:i.guid}),r(!0),h(l.b({format_text_step_shown:!0}))):e.skip()})}),!t)return null;let g=e.fromCursorBot?u.b:d.VF,f={dismissModal:e.onClose,disableHighlight:!0,targetKey:m,title:e.title||n.createElement(o.Tx,{id:"tooltips_plus_onboarding.text_formatting.title"}),trackingContextName:"Tooltips+ Text Formatting Step",lowerLeftText:e.lowerLeftText,onSecondaryCtaClick:e.onSecondaryCtaClick,onPrimaryCtaClick:e.onPrimaryCtaClick,arrowPosition:c.F_.RIGHT_BODY,shouldCenterArrow:c.EL.FALLBACK,pointsTo:"designPanel",primaryCtaProps:e.primaryCtaProps,secondaryCtaProps:e.secondaryCtaProps},E={...f,collapseToTopRight:e.fromCursorBot,trackingContextName:"Cursor Bot Text Formatting Step"+(e.isFollowUp?" (Reactive Follow Up)":"")};return n.createElement(g,{...e.fromCursorBot?E:f},e.bodyText||n.createElement(o.Tx,{id:"tooltips_plus_onboarding.text_formatting.description"}))}},788256:(e,t,r)=>{"use strict";r.d(t,{Qf:()=>_,aD:()=>g,d4:()=>c,eN:()=>p,en:()=>s,u4:()=>f,wy:()=>h,zU:()=>E});var n=r(356390),i=r(843495),a=r(497306),o=r(457630),l=r(442997),s=(e=>(e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD",e))(s||{});let c="exp_tooltips_plus_onboarding",d="product page";function u(e,t){return t.some(t=>e.toLowerCase().startsWith(t.toLowerCase()))}function p(e,t,r){let n;if((null==r?void 0:r.type)===t)return r;let i=_(e);return i&&(0,a.hV)(e,i,e=>{if(e.type===t)return n=e,"stop"}),n}function m({nodeType:e,sceneGraph:t,preferredName:r,backupNames:n,ancestorName:i}){let o;let l=_(t);if(!l)return o;let s=[];return((0,a.hV)(t,l,t=>{if(t.type===e&&u(t.name,[r])&&(!i||i&&function(e,t){let r=e.parentNode;for(;r&&!r.name.toLowerCase().startsWith(t.toLowerCase());)r=r.parentNode;return!!(null==r?void 0:r.name.toLowerCase().startsWith(t.toLowerCase()))}(t,i)))return o=t,"stop";n&&t.type===e&&u(t.name,n)&&s.push(t)}),o)?o:s.length>0?s[0]:void 0}function _(e){let t=null;try{t=e.getCurrentPage()}catch(e){if(e.message!==l.e)throw e}return t}function h(e,t){return m({nodeType:"TEXT",sceneGraph:e,preferredName:t?"add your own":"heirloom tomato",backupNames:t?["browse our shop","we\u2019re farmers","sustainability is"]:["organic ginger","sweet onion","order summary","we\u2019re farmers","grown in"],ancestorName:t?void 0:d})||p(e,"TEXT")}function g(e,t){let r=m({nodeType:"TEXT",sceneGraph:e,preferredName:t?"browse our shop":"heirloom tomato",backupNames:t?["basket"]:["organic ginger","sweet onion","order summary","we\u2019re farmers","grown in"],ancestorName:t?void 0:d});if(r&&"TEXT"===r.type){let t=(0,a.PA)(e,r.guid);if((null==t?void 0:t.type)==="FRAME")return t}return p(e,"FRAME")}function f(e,t){let r;if(!t)return;let n=m({nodeType:"FRAME",sceneGraph:e,preferredName:"landing page"});return n&&(0,a.hD)(e,t.guid,e=>{if(e.guid===n.guid)return r=n,"stop"}),r}async function E({navigate:e,guidToFocus:t,guidToSelect:r}){i.wr(),await e((0,o.QZ)({nodeId:t||r,alwaysPan:!1,minSizePx:t?200:32})),i.Dh([r]),n.Y5.commit()}},282263:(e,t,r)=>{"use strict";r.d(t,{Cr:()=>K,Gx:()=>H,JV:()=>B,Q8:()=>X,V5:()=>z,_X:()=>V,eT:()=>U,hu:()=>Y,jp:()=>J,nE:()=>W,rf:()=>j,tZ:()=>Z});var n=r(411855),i=r(188507),a=r(767129),o=r(927457),l=r(531664),s=r(966712),c=r(153234),d=r(572206),u=r(46481),p=r(939863),m=r(896474),_=r(632430),h=r(169231),g=r(356390),f=r(852800),E=r(662531),y=r(848661),b=r(869156),v=r(279702),I=r(498606),T=r(420186),S=r(521223),w=r(227795),A=r(683859),C=r(29808),N=r(533573),O=r(158406),L=r(830324),R=r(939143),P=r(746806),k=r(502601),D=r(83695),M=r(564092),x=r(875157),F=r(501191);function U(e){return{type:f.Z_n.EXPRESSION,resolvedType:f.rXF.BOOLEAN,value:{expressionFunction:f.JTp.IS_TRUTHY,expressionArguments:["variable"in e&&"variableId"in e?(0,M.y$)(e.variable.resolvedType,e.variableId):e]}}}function B(e,t,r,a,o,c){let{mapVariableIdToTypedValue:d}=a??{},u=(0,i.wA)(),p=(0,i.d4)(e=>e.variablePickerShown),{updateVariableConsumption:m,clearVariableConsumption:g}=(0,M.u3)(e),f=(0,n.useCallback)(e=>{r?r(e):e?u((0,_.Yi)({item:e,callback:r=>{d?m(d({variable:e,variableId:r})):m((0,M.y$)(t,r))}})):g()},[r,u,m,t,g,d]),E=(0,n.useCallback)(e=>e?o?o(e):(m(d?d(e):e),!0):(g(),!0),[d,g,o,m]);return[p.isShown&&"variable-picker-fields"===p.type&&(0,l.c2)(p.fields,e)&&(null==a?void 0:a.metadata)===p.metadata,(0,n.useCallback)((r,n)=>{let i=(null==n?void 0:n.initialPosition)??(null==c?void 0:c())??(0,L.n)(r);u((0,h.C)({type:"variable-picker-fields",isShown:!0,initialPosition:i,fields:e,resolvedType:t,requestedTypes:null==a?void 0:a.requestedTypes,currentFieldValue:null==n?void 0:n.currentFieldValue,onVariableSelected:f,metadata:null==a?void 0:a.metadata,variableFilters:null==a?void 0:a.variableFilters,onExpressionSubmitted:(0,s.kc)().prototype_expressions_nodefields?E:void 0}))},[u,e,t,null==a?void 0:a.requestedTypes,null==a?void 0:a.metadata,null==a?void 0:a.variableFilters,c,f,E]),f,(0,s.kc)().prototype_expressions_nodefields?E:void 0]}function H(e,t,r){let a=(0,i.wA)(),o=(0,i.d4)(e=>e.variablePickerShown),l=(0,n.useCallback)(n=>{n?a((0,_.Yi)({item:n,callback:n=>{let i=(0,M.y$)(r,n);E.l7.user("alias-variable",()=>f.CWU.setVariableValueForMode(e,t,i))&&g.Y5.triggerAction("commit")}})):E.l7.user("unalias-variable",()=>f.CWU.detachVariableValueForMode(e,t))&&g.Y5.triggerAction("commit")},[a,e,t,r]);return[o.isShown&&"variable-picker-alias"===o.type&&o.variableID===e&&o.modeID===t,(0,n.useCallback)((n,i)=>{let o=n.getBoundingClientRect();a((0,h.C)({type:"variable-picker-alias",isShown:!0,initialPosition:new d.Mi(o.left,o.bottom),initialView:null==i?void 0:i.initialView,variableID:e,modeID:t,resolvedType:r,onVariableSelected:l}))},[e,t,r,a,l]),l]}function V({children:e,...t}){return n.createElement(G,{...t,children:e})}function G({fields:e,children:t,resolvedType:r,requestedTypes:i,editingStyleGuid:a,initialPickerPosition:o,onVariableSelected:l,onExpressionSubmitted:s}){let{consumedVariable:c}=(0,M.u3)(e,a),d=(0,N.MH)(c),u=(0,b.u)(d??void 0),p=!!u&&(0,N.eF)(u),[m,_,h,g]=B(e,r,l,{requestedTypes:i},s,o),f=(0,n.useMemo)(()=>({showBindingUI:_,isShowingBindingUI:m,onVariableSelected:h,boundVariableId:d,isBoundVariableDeleted:p,onExpressionSubmitted:g}),[_,m,h,d,p,g]);return n.createElement(A.p.Provider,{value:f},t)}function W({variableID:e,modeID:t,children:r,resolvedType:i}){let[a,o,l]=H(e,t,i),s=(0,b.bL)(e,t),c=(0,N.MH)(s??null),d=(0,b.u)(c??void 0),u=!!d&&(0,N.eF)(d),p=(0,n.useMemo)(()=>({showBindingUI:o,isShowingBindingUI:a,onVariableSelected:l,boundVariableId:c,isBoundVariableDeleted:u}),[o,a,l,c,u]);return n.createElement(A.p.Provider,{value:p},r)}function K({children:e,resolvedType:t,variableValue:r,onVariableValueChange:i,onVariableSelected:a}){let o=n.useRef(),[l,s]=n.useState(!1),c=(0,n.useCallback)(()=>{s(!1)},[]),u=(0,n.useCallback)(e=>{let t=e.getBoundingClientRect();o.current=new d.Mi(t.left,t.bottom),s(!0)},[]),p=r.type===f.Z_n.ALIAS?r.value:void 0,m=(0,b.u)(p),_=!!m&&(0,N.eF)(m),h=(0,n.useMemo)(()=>({showBindingUI:u,isShowingBindingUI:l,boundVariableId:p??null,isBoundVariableDeleted:_}),[u,l,p,_]),g=(0,b.BQ)(p);return n.createElement(A.p.Provider,{value:h},e,l?r.resolvedType!==f.rXF.COLOR?n.createElement(ee,{disabledVariableIds:new Set,boundVariable:null,initialPosition:o.current,resolvedType:t,onVariableSelected:a,onClose:c,pickerType:"create-modal",recordingKey:"variableBindingsDropdown"}):r.type===f.Z_n.COLOR?n.createElement(S.sk,{disabledVariableIds:new Set,title:"",color:r.value,boundVariable:null,initialPosition:o.current,recordingKey:"variableBindingsDropdown",onChange:e=>i({type:f.Z_n.COLOR,resolvedType:f.rXF.COLOR,value:{...e,a:1}}),onVariableChange:a,onClose:c}):r.type===f.Z_n.ALIAS?n.createElement(S.sk,{disabledVariableIds:new Set,title:"",color:g.value,boundVariable:m,initialPosition:o.current,recordingKey:"variableBindingsDropdown",onChange:e=>i({type:f.Z_n.COLOR,resolvedType:f.rXF.COLOR,value:{...e,a:1}}),onVariableChange:a,onClose:c}):void 0:null)}function Y({boundVariableId:e,resolvedType:t,requestedTypes:r,initialPickerPosition:a,onVariableSelected:o,children:l}){let s=(0,b.u)(e??void 0),c=!!s&&(0,N.eF)(s),[u,p,m]=function({resolvedType:e,requestedTypes:t,boundVariableId:r,initialPickerPosition:a,onVariableSelected:o}){let l=(0,n.useId)(),s=(0,i.wA)(),c=(0,i.d4)(e=>e.variablePickerShown);return[c.isShown&&"variable-picker-controlled"===c.type&&c.key===l,(0,n.useCallback)((n,i)=>{let c=n.getBoundingClientRect();s((0,h.C)({type:"variable-picker-controlled",isShown:!0,initialPosition:(null==i?void 0:i.initialPosition)??(null==a?void 0:a())??new d.Mi(c.left,c.bottom),initialView:null==i?void 0:i.initialView,variableID:r,key:l,resolvedType:e,requestedTypes:t,onVariableSelected:o}))},[s,r,l,e,t,a,o]),l]}({resolvedType:t,requestedTypes:r,boundVariableId:e,initialPickerPosition:a,onVariableSelected:o});return n.createElement(A.p.Provider,{value:{boundVariableId:e??null,isBoundVariableDeleted:c,isShowingBindingUI:u,showBindingUI:p,onVariableSelected:o,variableBindingContextKey:m}},l)}function j({variableScope:e}){let t=(0,i.wA)(),r=(0,n.useCallback)(()=>{t((0,h.B)())},[t]),a=(0,i.d4)(e=>e.variablePickerShown);if(!a.isShown||"variable-picker-controlled"!==a.type)return null;let{resolvedType:o,initialPosition:l,requestedTypes:s,variableID:c,onVariableSelected:d,variableFilters:u}=a;return n.createElement($,{variableID:c,resolvedType:o,requestedTypes:s,initialPosition:l,onVariableSelected:d,onClose:r,variableScopes:e?new Set([e]):void 0,variableFilters:u})}function z({variableScope:e}){var t,r;let a=(0,i.wA)(),o=(0,n.useCallback)(()=>{a((0,h.B)())},[a]),l=null==(t=(0,n.useContext)(A.p))?void 0:t.isShowingBindingUI,s=null==(r=(0,n.useContext)(A.p))?void 0:r.variableBindingContextKey,c=(0,i.d4)(e=>e.variablePickerShown);if(!l||!c.isShown||"variable-picker-controlled"!==c.type||c.key!==s)return null;let{resolvedType:d,initialPosition:u,requestedTypes:p,variableID:m,onVariableSelected:_,variableFilters:g}=c;return n.createElement($,{variableID:m,resolvedType:d,requestedTypes:p,initialPosition:u,onVariableSelected:_,onClose:o,variableScopes:e?new Set([e]):void 0,variableFilters:g})}function $({resolvedType:e,requestedTypes:t,initialPosition:r,variableID:i,onVariableSelected:a,onClose:o,variableScopes:l,variableFilters:s}){let c=(0,b.u)(i),d=(0,n.useMemo)(()=>{if(i&&c)return{type:f.Z_n.ALIAS,resolvedType:e,value:i}},[e,i,c]);return n.createElement(ee,{disabledVariableIds:new Set,initialPosition:r,resolvedType:e,requestedTypes:t,boundVariable:c,newVariableInitialValue:d,onVariableSelected:a,onClose:o,variableScopes:l,variableFilters:s,pickerType:"fields",recordingKey:"variableBindingsDropdown"})}function Z(){let e=(0,i.wA)(),t=(0,n.useCallback)(()=>{e((0,h.B)())},[e]),r=(0,i.d4)(e=>e.variablePickerShown);if(!r.isShown||"variable-picker-fields"!==r.type)return null;let{fields:a,resolvedType:o,initialPosition:l,onVariableSelected:c,currentFieldValue:d,requestedTypes:u,variableFilters:p,onExpressionSubmitted:m,metadata:_}=r;return(0,s.kc)().prototype_expressions_nodefields&&m?n.createElement(q,{fields:a,resolvedType:o,requestedTypes:u,variableFilters:p,initialPosition:l,onExpressionSubmitted:m,variantProperty:_}):n.createElement(J,{fields:a,resolvedType:o,requestedTypes:u,variableFilters:p,initialPosition:l,currentFieldValue:d,onVariableSelected:c,onClose:t})}function q({fields:e,resolvedType:t,requestedTypes:r,initialPosition:a,onExpressionSubmitted:o,variantProperty:l}){let s=(0,i.wA)(),{consumedVariable:c}=(0,M.u3)(e),[d,u]=(0,n.useState)(!0);return n.createElement(D.KN,{resolvedType:t,requestedTypes:r,targetVariableData:c??void 0,setVariableValue:o,onClose:()=>{s((0,h.B)()),u(!1)},isNarrowPanel:!0,autoOpenExpressionBuilder:d,setAutoOpenExpressionBuilder:u,showVariableThumbnails:!0,initialPosition:a,variantProperty:l})}function J({fields:e,resolvedType:t,requestedTypes:r,variableFilters:i,initialPosition:a,currentFieldValue:o,onVariableSelected:l,onClose:s}){let{consumedVariable:c}=(0,M.u3)(e),d=c&&(0,y.hS)(c)&&c.type===f.Z_n.ALIAS?c.value:void 0,u=(0,b.u)(d),p=(0,n.useMemo)(()=>d&&u?{type:f.Z_n.ALIAS,resolvedType:t,value:d}:o?{type:(0,N.e4)(t),resolvedType:t,value:o}:void 0,[o,t,d,u]),m=n.useMemo(()=>{if((0,x.yg)(t,r))return(0,x.iG)(e)},[r,e,t]);return n.createElement(ee,{disabledVariableIds:new Set,initialPosition:a,resolvedType:t,requestedTypes:r,boundVariable:u,newVariableInitialValue:p,onVariableSelected:l,onClose:s,pickerType:"fields",recordingKey:"variableBindingsDropdown",variableScopes:m,variableFilters:i})}function X(){let e=(0,i.d4)(e=>e.variablePickerShown);return e.isShown&&"variable-picker-alias"===e.type?n.createElement(Q,{pickerShownState:e}):null}function Q({pickerShownState:e}){let t=(0,i.wA)(),{variableID:r,modeID:a,resolvedType:o,initialPosition:l,initialView:s,onVariableSelected:d,variableFilters:u}=e,p=(0,b.bL)(r,a),m=(0,b.u)((null==p?void 0:p.type)===f.Z_n.ALIAS?null==p?void 0:p.value:void 0),_=(0,n.useCallback)(()=>{t((0,h.B)())},[t]),y=(0,n.useCallback)((e,t)=>{let n={type:f.Z_n.COLOR,resolvedType:f.rXF.COLOR,value:e};E.l7.user("set-color-variable-value",()=>f.CWU.setVariableValueForMode(r,a,n))&&t===v.zk.YES&&g.Y5.triggerAction("commit")},[r,a]);return(null==p?void 0:p.resolvedType)===f.rXF.COLOR&&(null==p?void 0:p.type)!==f.Z_n.NODE_FIELD_ALIAS?n.createElement(k.Q,null,n.createElement(et,{disabledVariableIds:new Set([r]),boundVariable:m,variableValue:p,initialPosition:l,initialView:s,onColorChange:y,onVariableSelected:d,onClose:_,recordingKey:"variableBindingsDropdown"}),n.createElement(R.$3,{recordingKey:c.Pt("variableBindingsDropdown","closer"),onClose:_})):n.createElement(n.Fragment,null,n.createElement(k.Q,null,n.createElement(ee,{disabledVariableIds:new Set([r]),initialPosition:l,resolvedType:o,variableFilters:u,boundVariable:m,onVariableSelected:d,onClose:_,pickerType:"alias",recordingKey:"variableBindingsDropdown"})),n.createElement(R.$3,{recordingKey:c.Pt("variableBindingsDropdown","closer"),onClose:_}))}function ee({disabledVariableIds:e,initialPosition:t,boundVariable:r,newVariableInitialValue:i,resolvedType:l,requestedTypes:d,variableFilters:_,pickerType:h,variableScopes:g,recordingKey:f,onVariableSelected:E,onClose:y}){let b=n.useRef(null),{VariableCreateModalRoot:v,VARIABLE_CREATE_MODAL_WIDTH_PX:S}=(0,n.useContext)(C.l)??{},[A,N]=(0,n.useState)(!1),L=n.useRef();function k(){var e;let t=null==(e=b.current)?void 0:e.getEl();if(!t)return;let r=(0,T.cn)(t,S);L.current=r,N(!0)}return n.createElement(n.Fragment,null,n.createElement(P.vx,{ref:b,title:"",headerSize:"hidden",initialPosition:t,onClose:y,dragHeaderOnly:!1,initialWidth:O.d9,autoflowHeight:!0},n.createElement(R.Rp,{selectedItem:r,disabledVariableIds:e,resolvedType:l,pickerType:h,recordingKey:f,setControlRightButtons:function(){if(v&&void 0!==l&&"fields"===h)return(0,s.kc)().fpl_variables_button_migration?n.createElement(a.K,{"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,p.t)("variables.binding_ui.create_variable_button_tooltip"),"aria-label":(0,p.t)("variables.binding_ui.create_variable_button_tooltip"),recordingKey:c.Pt(f,"createVariable"),onClick:k},n.createElement(u.U,{svg:m.KC["plus-32"]},n.createElement(o.e,null))):n.createElement(w.K0,{"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,p.t)("variables.binding_ui.create_variable_button_tooltip"),recordingKey:c.Pt(f,"createVariable"),svg:F.A,onClick:k})}(),onVariableSelected:E,onClose:y,requestedTypes:d,variableScopes:g,variableFilters:_})),n.createElement(R.$3,{recordingKey:c.Pt(f,"closer"),onClose:y}),A&&(v&&void 0!==l&&L.current?n.createElement(v,{initialPosition:L.current,initialValue:i,resolvedType:l,onCreateVariable:E,onClose:function(){N(!1)}}):null))}function et({disabledVariableIds:e,boundVariable:t,variableValue:r,initialPosition:i,initialView:a,recordingKey:o,onColorChange:l,onVariableSelected:s,onClose:c}){let d=r.type===f.Z_n.COLOR?r.value:{r:1,g:1,b:1,a:1};return n.createElement(S.sk,{title:"",color:d,disabledVariableIds:e,initialPosition:i,initialView:a,boundVariable:t,recordingKey:o,onChange:l,onVariableChange:s,onClose:c})}},564092:(e,t,r)=>{"use strict";r.d(t,{A1:()=>en,AA:()=>ec,Ek:()=>ef,FR:()=>et,JG:()=>Z,Mo:()=>G,Px:()=>J,QT:()=>e_,R1:()=>$,Tt:()=>ei,UE:()=>H,Ws:()=>V,Yc:()=>K,Yn:()=>W,ZP:()=>ea,_B:()=>ep,d2:()=>X,hZ:()=>Q,iR:()=>er,iw:()=>Y,kN:()=>q,lC:()=>eg,lk:()=>ee,oU:()=>ed,u3:()=>eo,xp:()=>es,y$:()=>j});var n=r(411855),i=r(188507),a=r(89865),o=r.n(a),l=r(900956),s=r.n(l),c=r(776250),d=r(531664),u=r(44948),p=r(966712),m=r(374626),_=r(987918),h=r(939863),g=r(392592),f=r(308977),E=r(239349),y=r(581250),b=r(662275),v=r(852800),I=r(662531),T=r(848661),S=r(814431),w=r(555074),A=r(869156),C=r(57392),N=r(234945),O=r(861233),L=r(173454),R=r(279702),P=r(507956),k=r(836283),D=r(478655),M=r(875157),x=r(859703),F=r(715762),U=r(507662),B=r(761334);let H="INHERIT",V="DEFAULT",G="MIXED",W="DELETED",K="https://help.figma.com/hc/articles/15343816063383#conflicts";var Y=(e=>(e[e.LEARN_MORE=0]="LEARN_MORE",e[e.REVIEW_UPDATES=1]="REVIEW_UPDATES",e))(Y||{});function j(e,t){return{type:v.Z_n.ALIAS,resolvedType:e,value:t}}function z(e){if(0===e.length)return null;if(e.length>=2){for(let t=1;t<e.length;t++)if(!(0,d.c2)(e[t],e[0]))return T.oV}let t=e[0];return(null==t?void 0:t.isMixed)?T.oV:t}function $(){var e;let[t,r]=(0,w.lJ)("variableConsumptionInfo");return{variableConsumptionMap:(null==(e=(0,T.E7)(t))?void 0:e.variableConsumptionMap)||{},setVariableConsumptionMap:(0,n.useCallback)((e,t=R.zk.YES)=>{r({variableConsumptionMap:e},t)},[r])}}function Z(){return(0,T.E7)((0,S.b)("variableConsumptionMap"))||{}}function q(){let e=(0,w.kl)("variableConsumptionInfo"),t=(0,u.k9)(()=>{var t;return(null==(t=(0,T.E7)(e))?void 0:t.variableSetKeyToModeData)||{}},[e]),r=X(),n=er();return(0,u.wm)(()=>{var e,i;for(let[a,o]of Object.entries(r))if(!t[a]&&n[a]){let r=n[a];if(!(null==(e=r.modes)?void 0:e.find(e=>e.id===o)))continue;t[a]={collectionID:r.node_id,collectionName:r.name,modeOptions:(null==(i=r.modes)?void 0:i.map(e=>({modeId:{guid:e.id,collectionKey:r.key},name:e.name,isCompatible:!0})))||[],explicitMode:{guid:o,collectionKey:r.key},inheritMode:null,fileKey:r.file_key}}return t},[n,r,t])}function J(){let e=(0,w.kl)("variableConsumptionInfo");return(0,u.k9)(()=>{var t;return(null==(t=(0,T.E7)(e))?void 0:t.variableSetKeyToMode)||{}},[e])}function X(){let e=(0,w.kl)("variableConsumptionInfo");return(0,u.k9)(()=>{var t;return(null==(t=(0,T.E7)(e))?void 0:t.variableSetKeyToPageLevelPresetMode)||{}},[e])}function Q(){let e=(0,i.wA)(),t=(0,w.lJ)("numSelectedByType")[0],r=q(),a=eE();return(0,n.useCallback)((n,i,o)=>{if(i!==G&&i!==W){if(t&&(0,T.hS)(t)){let e=s()(Object.values(t));c.az.trackDefinedEvent("variables.explicit_mode_changed",{numSelected:e,numSelectedFrames:t.FRAME??0,numSelectedInstances:t.INSTANCE??0,numSelectedRectangles:t.ROUNDED_RECTANGLE??0,numSelectedSymbols:t.SYMBOL??0})}I.l7.user("set-explicit-variable-mode",()=>{v.CWU.setExplicitVariableModeForSelection(n,i===H||i===V?null:i,!0)}),Object.values(r).some(e=>e.modeOptions.some(e=>(0,d.c2)(e.modeId,i)&&!e.isCompatible))&&(0,p.kc)().ds_variables_relax_modes&&i!==H&&i!==V&&o&&(a?e(g.F.enqueue({message:(0,h.t)("variables.visual_bell.variables_incompatible_modes_needs_updates",{modeName:o}),button:{text:(0,h.t)("variables.modes.option.review_updates"),action:()=>{e(b.to({type:U.T,data:{initialTab:L.Wv.UPDATES,entrypoint:F.r6.INCMPATIBLE_MODES_VISUAL_BELL}}))}}})):e(g.F.enqueue({message:(0,h.t)("variables.visual_bell.variables_incompatible_modes_no_updates",{modeName:o})})))}},[e,a,r,t])}function ee(){let e=q();return(0,u.wm)(()=>Object.fromEntries(Object.entries(e).filter(([e,t])=>!t.fileKey&&t.modeOptions.length>1)),[e])}function et(){let e=q();return(0,u.wm)(()=>Object.fromEntries(Object.entries(e).filter(([e,t])=>!!t.fileKey&&t.modeOptions.length>1)),[e])}function er(){let e=(0,A.jI)();return(0,u.wm)(()=>{var t;if("loaded"===e.status){let r=null==(t=e.data)?void 0:t.items.filter(e=>e.modes&&e.modes.length>1);return o()(r,e=>e.key)}return{}},[e])}function en(e){let t=ee(),r=et(),n=er();return Object.values(t).length>0||Object.values(r).length>0||e&&Object.values(n).length>0}function ei(){let e=q();return(0,u.wm)(()=>Object.values(e).some(e=>e.modeOptions.some(e=>!e.isCompatible)),[e])}function ea(){let e=eE(),t=(0,m.md)(C.I7),r=(0,i.d4)(e=>(0,N.$u)(e));return r&&e?1:!r&&t?1:0}function eo(e,t){let{variableConsumptionMap:r,setVariableConsumptionMap:i}=$(),a=(0,S.b)("guid"),o=Z(),l=r;return t&&(0,T.hS)(a)&&_.aI(t,a)&&(l=o),{consumedVariable:l&&z(e.map(e=>l[e])),updateVariableConsumption:(0,n.useCallback)(t=>{let r={};e.forEach(e=>{r[e]=t,(0,B.oz)(e,t)}),i(r)},[i,e]),clearVariableConsumption:(0,n.useCallback)((t=R.zk.YES)=>{let r={};e.forEach(e=>{r[e]=null}),i(r,t)},[i,e])}}function el(e){if(e&&(0,T.hS)(e)){if(e.type===v.Z_n.EXPRESSION&&1===e.value.expressionArguments.length){let t=e.value.expressionArguments[0];if(t.type===v.Z_n.ALIAS)return t.value}if(e.type===v.Z_n.FONT_STYLE){let t=e.value.asString??e.value.asFloat;if((null==t?void 0:t.type)===v.Z_n.ALIAS)return t.value}if(e.type===v.Z_n.ALIAS)return e.value}}function es(e,t,r){return ed(e,function(e){if(!(!e||(0,T.gl)(e)))return{type:v.Z_n.FLOAT,resolvedType:v.rXF.FLOAT,value:e}}(t),r)}function ec(e,t,r){return ed(e,function(e){if(e)return{type:v.Z_n.STRING,resolvedType:v.rXF.STRING,value:e}}(t),r)}function ed(e,t,r){let n=(0,E.uQ)(),i=(0,y.Q)(),a=(0,P.ks)(),o=(0,f.v4)(),{variableConsumptionMap:l}=$(),s=r||l,c=el(s&&z([e].map(e=>s[e]))||null),d=M.ZM[e]??v.j0r.ALL_SCOPES,u=!c&&a&&t?(0,A.UT)(n,[d],t):void 0,p=(0,A.u)(c??u);if(!p)return{};let m=(0,f.xv)(p,o.id),_=a&&"code"===i.inspectionMode&&m?m:null==p?void 0:p.name;return{variable:p,variableDisplayName:_,isSuggested:!c}}function eu(e,t,r){var n;if(!e)return{};let{colorVar:i,color:a,opacity:o}=t;return(null==(n=null==i?void 0:i.value)?void 0:n.alias)?{boundVar:D.dI(i.value.alias)}:a&&r?{matchingVars:(0,A.iC)(e,Array.from(r),{type:v.Z_n.COLOR,resolvedType:v.rXF.COLOR,value:{...a,a:a.a*(o??1)}})}:{}}function ep(e,t){let r=(0,E.uQ)(),n=(0,y.Q)(),i=(0,f.v4)(),a=(0,P.ks)(),{boundVar:o,matchingVars:l}=eu(r,e,t),s=o??((null==l?void 0:l.length)===1?l[0]:void 0),c=!o&&!!s;return eh((0,A.u)(s),{variableId:s,isSuggested:c,matchingVars:l},i.id,a,n.inspectionMode)}function em(e,t,r,n,i){let a=function(e,t){let r=function(e,t){let r=e.variableScope?new Set([e.variableScope]):void 0,{boundVar:n,matchingVars:i}=eu(t,e.paint,r),a=n??((null==i?void 0:i.length)===1?i[0]:void 0);return{variableId:a,isSuggested:!n&&!!a,matchingVars:i}}(e,t);if(!r.variableId)return{variable:null,variableData:r};let n=m.zl.get((0,x.Ev)(r.variableId));if(n)return{variable:n,variableData:r};let i=v.CWU.getSubscribedVariableInfo(r.variableId);return i?{variable:(0,L.ZI)(i),variableData:r}:{variable:null,variableData:r}}(e,t),o=eh(a.variable,a.variableData,r,n,i);return{...e,variable:o}}function e_(e,t,r,n,i){return e.map(e=>e.type===k.q.STYLE?function(e,t,r,n,i){let a=e.paints.map(e=>em(e,t,r,n,i));return{...e,paints:a}}(e,t,n.id,i,r):em(e,t,n.id,i,r))}function eh(e,t,r,n,i){if(t.isSuggested&&!n)return{variable:null};let a=(0,f.xv)(e,r),o=n&&"code"===i&&a?a:null==e?void 0:e.name;return{variable:e,variableDisplayName:o,isSuggested:t.isSuggested,matchingVars:n?t.matchingVars:[]}}function eg(e){let{consumedVariable:t}=eo([e]),r=el(t);return(0,A.u)(r)}function ef(e){return(0,i.d4)(t=>{var r;let n=((null==(r=(0,T.E7)(t.mirror.selectionProperties.variableConsumptionInfo))?void 0:r.variableNotMatchingSetValue)||{})[e]??void 0;return(0,O.U)(n)&&"isMixed"in n?T.oV:n})}function eE(){let{componentUpdatesForSelection:e,stateGroupUpdatesForSelection:t,styleUpdatesForSelection:r,variableSetUpdatesForSelection:n}=function(){let{componentUpdatesForCurrentPage:e,stateGroupUpdatesForCurrentPage:t,styleUpdatesForCurrentPage:r,variableSetUpdatesForCurrentPage:n}=(0,m.md)(C.P1),i=(0,w.kl)("directlySubscribedAssetKeys"),a=[],o=[],l=[],s=[];if(i&&!(0,T.gl)(i)){let c=new Set(i);a=e.filter(e=>c.has(e.component_key??"")),o=t.filter(e=>c.has(e.key)),l=r.filter(e=>c.has(e.key)),s=n.filter(e=>c.has(e.key))}return{componentUpdatesForSelection:a,stateGroupUpdatesForSelection:o,styleUpdatesForSelection:l,variableSetUpdatesForSelection:s}}();return e.length>0||t.length>0||r.length>0||n.length>0}},533573:(e,t,r)=>{"use strict";r.d(t,{Io:()=>h,MH:()=>function e(t){var r,n;let i=(0,c.E7)(t);if(i){if("dataType"in i&&"ALIAS"===i.dataType&&(null==(r=i.value)?void 0:r.alias))return d.dI(null==(n=i.value)?void 0:n.alias);if("type"in i){if(i.type===s.Z_n.ALIAS)return i.value;if(i.type===s.Z_n.FONT_STYLE)return e(i.value.asFloat??i.value.asString??null);if((null==i?void 0:i.type)===s.Z_n.EXPRESSION&&i.value.expressionFunction===s.JTp.STRINGIFY&&1===i.value.expressionArguments.length)return e(i.value.expressionArguments[0])}}return null},NX:()=>f,Oi:()=>u,Pr:()=>function e(t){return({*[Symbol.iterator](){if(yield t,t.type===s.Z_n.EXPRESSION)for(let r of t.value.expressionArguments)yield*e(r);else if(t.type===s.Z_n.MAP)for(let r of Object.values(t.value))yield*e(r)}})[Symbol.iterator]()},e4:()=>m,eF:()=>_,gQ:()=>g,rY:()=>p});var n=r(935283),i=r(568214),a=r(531664),o=r(939863),l=r(775664),s=r(852800),c=r(848661),d=r(478655);function u(e){if("MIXED"===e)return(0,o.t)("fullscreen.mixed");if(!e)return null;switch(e.resolvedType){case s.rXF.FLOAT:return String(parseFloat(e.value.toFixed(2)));case s.rXF.BOOLEAN:return e.value?(0,o.t)("variables.values.boolean.true"):(0,o.t)("variables.values.boolean.false");case s.rXF.COLOR:return l.TI.format(e.value);case s.rXF.STRING:return e.value;default:return JSON.stringify(e.value)}}function p(e,t){if(e===t)return!0;if(!e||!e.dataType||!e.resolvedDataType||!e.value||!t||!t.dataType||!t.resolvedDataType||!t.value||e.dataType!==t.dataType||e.resolvedDataType!==t.resolvedDataType)return!1;switch(e.dataType){case"BOOLEAN":return e.value.boolValue===t.value.boolValue;case"FLOAT":return e.value.floatValue===t.value.floatValue;case"STRING":return e.value.textValue===t.value.textValue;case"COLOR":return(0,n.B1)(e.value.colorValue),(0,n.B1)(t.value.colorValue),(0,i.YU)(e.value.colorValue)===(0,i.YU)(t.value.colorValue);default:return(0,a.c2)(e,t)}}function m(e){switch(e){case s.rXF.BOOLEAN:return s.Z_n.BOOLEAN;case s.rXF.FLOAT:return s.Z_n.FLOAT;case s.rXF.STRING:return s.Z_n.STRING;case s.rXF.COLOR:return s.Z_n.COLOR;case s.rXF.MAP:return s.Z_n.MAP;case s.rXF.SYMBOL_ID:return s.Z_n.SYMBOL_ID}}function _(e){return"LOCAL"===e.subscriptionStatus&&e.isSoftDeleted}let h={CORNER_RADIUS:[s.rXF.FLOAT],STACK_SPACING:[s.rXF.FLOAT],STACK_PADDING_LEFT:[s.rXF.FLOAT],STACK_PADDING_TOP:[s.rXF.FLOAT],STACK_PADDING_RIGHT:[s.rXF.FLOAT],STACK_PADDING_BOTTOM:[s.rXF.FLOAT],TEXT_DATA:[s.rXF.STRING,s.rXF.FLOAT],WIDTH:[s.rXF.FLOAT],HEIGHT:[s.rXF.FLOAT],RECTANGLE_TOP_LEFT_CORNER_RADIUS:[s.rXF.FLOAT],RECTANGLE_TOP_RIGHT_CORNER_RADIUS:[s.rXF.FLOAT],RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS:[s.rXF.FLOAT],RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS:[s.rXF.FLOAT],STACK_COUNTER_SPACING:[s.rXF.FLOAT],MIN_WIDTH:[s.rXF.FLOAT],MAX_WIDTH:[s.rXF.FLOAT],MIN_HEIGHT:[s.rXF.FLOAT],MAX_HEIGHT:[s.rXF.FLOAT],STROKE_WEIGHT:[s.rXF.FLOAT],OPACITY:[s.rXF.FLOAT],BORDER_TOP_WEIGHT:[s.rXF.FLOAT],BORDER_BOTTOM_WEIGHT:[s.rXF.FLOAT],BORDER_LEFT_WEIGHT:[s.rXF.FLOAT],BORDER_RIGHT_WEIGHT:[s.rXF.FLOAT],MISSING:[],PARAGRAPH_SPACING:[s.rXF.FLOAT],PARAGRAPH_INDENT:[s.rXF.FLOAT],VISIBLE:[s.rXF.BOOLEAN],VARIANT_PROPERTIES:[s.rXF.SYMBOL_ID],FONT_FAMILY:[s.rXF.STRING],FONT_STYLE:[s.rXF.STRING,s.rXF.FLOAT],FONT_VARIATIONS:[s.rXF.FLOAT],FONT_SIZE:[s.rXF.FLOAT],LETTER_SPACING:[s.rXF.FLOAT],LINE_HEIGHT:[s.rXF.FLOAT]};function g(e){return!!e.variable}function f({variable:e,variableDisplayName:t}){var r;return(null==(r=e.codeSyntax)?void 0:r[s.y0x.WEB])?e.codeSyntax[s.y0x.WEB]:`var(--${(t??e.name).replace(/[^a-zA-Z0-9-]/g,"")})`}},939143:(e,t,r)=>{"use strict";r.d(t,{$3:()=>ec,Rp:()=>Q,YK:()=>en,Zd:()=>eh,jc:()=>er});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(935283),s=r(320063),c=r(966712),d=r(498750),u=r(255942),p=r(527735),m=r(153234),_=r(173748),h=r(723325),g=r(493323),f=r(574176),E=r(939863),y=r(378905),b=r(696673),v=r(788744),I=r(756317),T=r(680681),S=r(83422),w=r(852800),A=r(912666),C=r(869156),N=r(318812),O=r(29680),L=r(335682),R=r(694687),P=r(643067),k=r(173454),D=r(878319),M=r(498606),x=r(7959),F=r(538697),U=r(110382),B=r(181075),H=r(512596),V=r(405209),G=r(425483),W=r(503795),K=r(90211),Y=r(387727),j=r(761334),z=r(875157),$=r(669459),Z=r(280999),q=r(731719),J=r(703475);function X({resolvedType:e,requestedTypes:t}){return t||(e?[e]:null)}function Q({selectedItem:e,resolvedType:t,requestedTypes:r,variableFilters:i,pickerType:a,disabledVariableIds:o,setControlRightButtons:s,variableScopes:c,recordingKey:d,onVariableSelected:u,onStyleSelected:p,onClose:m}){let{currentView:_,setCurrentView:h,toggleLayout:g}=(0,V.R)({selectedItem:e,resolvedType:t}),f=function(e){switch(e.type){case"ALL_LIBRARIES":return ei;case"LOCAL_VARIABLES":return en;case"SUBSCRIBED_VARIABLES":return ee;case"COMPONENT_PROPS":return er;default:(0,l.xb)(e,"Unhandled view for picker body")}}(_),E=(0,n.useMemo)(()=>X({requestedTypes:r,resolvedType:t??null}),[r,t]),[y,b]=(0,n.useState)("");return n.createElement(n.Fragment,null,n.createElement(f,{selectedItem:e,currentView:_,setCurrentView:h,toggleLayout:g,resolvedType:t,disabledVariableIds:o,pickerType:a,setControlRightButtons:s,recordingKey:d,onVariableSelected:u,onStyleSelected:p,onClose:m,requestedTypes:r,searchQuery:y,onSearchInputChange:b,variableScopes:c,variableFilters:i}),n.createElement(H.M,{resolvedTypes:E,selectedItem:e}))}function ee({selectedItem:e,currentView:t,setCurrentView:r,toggleLayout:i,resolvedType:a,pickerType:o,setControlRightButtons:l,recordingKey:s,onVariableSelected:c,onStyleSelected:d,onClose:u,requestedTypes:p,searchQuery:m,onSearchInputChange:_,variableScopes:h,variableFilters:g}){let f=t.fileKey,E=(0,C.kf)(f),b=(0,C.u5)(f),v=(null==e?void 0:e.type)===k.PW.VARIABLE?e:null,I=(0,C.G6)((null==v?void 0:v.variableSetId)||""),T="loading"===b.status||"loading"===E.status,[S,A]=(0,n.useMemo)(()=>{let e=E.data??[],t=b.data??[];return(null==v?void 0:v.subscriptionStatus)==="SUBSCRIBED"&&(0,y.TK)(v,f)&&!e.find(e=>e.key===(null==v?void 0:v.key))&&I?[[...e,v],[...t,I]]:[e,t]},[f,E,b,v,I]);return a===w.rXF.COLOR&&"color-picker"===o&&d?n.createElement(et,{fileKey:f,selectedStyle:(null==e?void 0:e.type)===k.PW.STYLE?e:null,render:({isLoading:f,dsStyles:E})=>n.createElement(es,{variables:S,variableSets:A,dsStyles:E,currentView:t,setCurrentView:r,toggleLayout:i,selectedItem:e,disabledVariableIds:new Set,resolvedType:a,pickerType:o,setControlRightButtons:l,recordingKey:s,isLoading:f||T,onVariableSelected:c,onStyleSelected:d,onClose:u,requestedTypes:p,searchQuery:m,onSearchInputChange:_,variableScopes:h,variableFilters:g})}):n.createElement(es,{variables:S,variableSets:A,dsStyles:[],currentView:t,setCurrentView:r,toggleLayout:i,selectedItem:e,disabledVariableIds:new Set,resolvedType:a,pickerType:o,setControlRightButtons:l,recordingKey:s,onVariableSelected:c,onClose:u,requestedTypes:p,searchQuery:m,onSearchInputChange:_,variableScopes:h})}function et({fileKey:e,selectedStyle:t,render:r}){var i;let a=(0,U.AH)((null==t?void 0:t.key)||null,t),{status:o,stylesByFileKey:l}=(0,U.Zk)({styleType:A.s4.FILL,initialSelectedSubscribedStyle:a}),s=(null==(i=l[e])?void 0:i.styles)??[];return n.createElement(B.m,null,r({isLoading:"loaded"!==o,dsStyles:s}))}function er({selectedItem:e,disabledVariableIds:t,currentView:r,setCurrentView:i,toggleLayout:a,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onStyleSelected:u,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f,onComponentPropSelected:E}){let y=(0,C.Rb)(),b=(0,C.yp)();return o===w.rXF.COLOR&&"color-picker"===l&&u?n.createElement(ea,{styleType:A.s4.FILL,render:E=>n.createElement(es,{variables:y,variableSets:b,dsStyles:E,currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onStyleSelected:u,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f})}):E?n.createElement(eo,{render:u=>n.createElement(es,{variables:y,variableSets:b,dsStyles:[],currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f,onComponentPropSelected:E,componentProps:u})}):n.createElement(es,{variables:y,variableSets:b,dsStyles:[],currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f})}function en({selectedItem:e,disabledVariableIds:t,currentView:r,setCurrentView:i,toggleLayout:a,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onStyleSelected:u,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f}){let E=(0,C.Rb)(),y=(0,C.yp)();return o===w.rXF.COLOR&&"color-picker"===l&&u?n.createElement(ea,{styleType:A.s4.FILL,render:b=>n.createElement(es,{variables:E,variableSets:y,dsStyles:b,currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onStyleSelected:u,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f})}):n.createElement(es,{variables:E,variableSets:y,dsStyles:[],currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f})}function ei({selectedItem:e,disabledVariableIds:t,currentView:r,setCurrentView:i,toggleLayout:a,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onStyleSelected:u,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f}){var E,y;let b=(0,C.Rb)(),v=(0,C.yp)(),I=(0,C.pN)(),T="loaded"!==I.status,S=null==(E=I.data)?void 0:E.libraryVariables,N=null==(y=I.data)?void 0:y.libraryVariableSets,O=(0,n.useMemo)(()=>[...b,...S??[]],[b,S]),L=(0,n.useMemo)(()=>[...v,...N??[]],[v,N]);return o===w.rXF.COLOR&&"color-picker"===l&&u?n.createElement(el,{styleType:A.s4.FILL,selectedStyle:(null==e?void 0:e.type)===k.PW.STYLE?e:null,render:({dsStyles:E,isLoading:y})=>n.createElement(es,{variables:O,variableSets:L,dsStyles:E,isLoading:y||T,currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onStyleSelected:u,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f})}):n.createElement(es,{variables:O,variableSets:L,dsStyles:[],isLoading:T,currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f})}function ea({styleType:e,render:t}){return t((0,U.Je)(e))}function eo({render:e}){return e(n.useCallback(()=>{let e=w.CWU.getComponentPropsForVariableAliasList(),t=[];return(0,c.kc)().prototype_expression_props&&e&&Object.keys(e).length>0&&e.forEach(e=>{e.values.forEach(e=>{t.push({type:"COMPONENT_PROP",value:e})})}),t},[])())}function el({styleType:e,selectedStyle:t,render:r}){let i=(0,U.Je)(e),a=(0,U.AH)((null==t?void 0:t.key)||null,t),{status:o,stylesByFileKey:l}=(0,U.Zk)({styleType:A.s4.FILL,initialSelectedSubscribedStyle:a}),s=(0,n.useMemo)(()=>Object.values(l).reduce((e,{styles:t})=>(e.push(...t),e),[]),[l]),c=(0,n.useMemo)(()=>i.concat(s),[i,s]);return n.createElement(B.m,null,r({isLoading:"loaded"!==o,dsStyles:c}))}function es({variables:e,variableSets:t,dsStyles:r,currentView:i,setCurrentView:a,toggleLayout:l,selectedItem:s,disabledVariableIds:c,resolvedType:u,pickerType:p,setControlRightButtons:_,recordingKey:f,isLoading:y,onVariableSelected:b,onStyleSelected:I,onClose:S,requestedTypes:A,searchQuery:C,onSearchInputChange:O,variableScopes:M,variableFilters:F,onComponentPropSelected:U,componentProps:B}){(0,j.D)({isLoading:y??!1,eventName:"variables.variable_picker_load_time"});let V=(0,L.tS)(),Z=(0,N.U)(),q=s?(0,W.UT)(s):null,[J,Q]=n.useState(null);n.useRef(null).current=J;let ee=n.useRef(null),{canToggleLayout:et,layout:er}=C.length>0?{canToggleLayout:!1,layout:"list"}:{canToggleLayout:!0,layout:i.layout},en=(0,n.useCallback)(()=>{ee.current&&ee.current.focus(),l()},[l]),ei=(0,n.useMemo)(()=>X({requestedTypes:A,resolvedType:u??null}),[A,u]),ea=I?[k.ub.VARIABLE,k.ub.STYLE]:[k.ub.VARIABLE],eo=(0,H.A)(ei,s,ea),el=(0,R.sZ)(),es=(0,v.Fl)(),ec=(0,P.Oe)(el)&&(0,T.NX)(es),eu=(0,n.useMemo)(()=>{if(ec){let e=eo.map(({fileKey:e,fileName:t})=>({key:e,name:t}));return(0,T.k9)({libraries:e,approvedLibraryKeysByResourceType:es}),e.map(({key:e,name:t})=>({fileKey:e,fileName:t}))}return eo.sort((e,t)=>e.fileName.localeCompare(t.fileName))},[eo,ec,es]),ep=(0,n.useMemo)(()=>{let e={};return(ec?eu:eo).forEach(t=>{e[t.fileKey]=t.fileName}),e},[eo,eu,ec]),em=(0,n.useMemo)(()=>{let t=e.filter(e=>!("LOCAL"===e.subscriptionStatus&&w.Ez5.slideThemeLibBindings().doesAssetBelongToTheme(e.node_id.replace("VariableID:",""))));return A?t.filter(e=>A.includes(e.resolvedType)):t.filter(e=>void 0===u||e.resolvedType===u)},[e,u,A]),e_=(0,n.useMemo)(()=>M?em.filter(e=>(0,W.UT)(e)===q||(0,z.AQ)(e,M)):em,[em,M,q]),eg=(0,K.qF)(e_,C),ef=(0,n.useMemo)(()=>C.length>0?eg:eg.filter(e=>{var t;let r=e.resolvedType,n=null==F?void 0:F[D.t.HIDE_IN_DEFAULT_VIEW];if(n&&n[r])return!1;let i=null==F?void 0:F[D.t.MUST_INCLUDE_ONE_OF];if(i&&(null==(t=i[r])?void 0:t.length)){let t=i[r];if("LIBRARY"===e.subscriptionStatus||t&&!Object.values(e.modeValues).some(e=>{if(e.type===w.Z_n.STRING){let r=e.value.trim().toLocaleLowerCase();return null==t?void 0:t.some(e=>e===r)}return!1}))return!1}return!0}),[eg,C,F]),eE=(0,K.bT)(r,C),ey=(0,K.tZ)(B??[],C),eb=(0,n.useMemo)(()=>{if("ALL_LIBRARIES"===i.type)return(0,W.dC)({variables:ef,variableSets:t,styles:eE,layout:er,fileNamesByKey:ep,openFileKey:V});if(u===w.rXF.COLOR)return(0,W.w$)({variables:ef,variableSets:t,styles:eE,layout:er});if("COMPONENT_PROPS"!==i.type)return(0,W.HK)({variables:ef,variableSets:t,layout:er});{let e=(0,W.dh)({componentProps:ey}),r=(0,W.HK)({variables:ef,variableSets:t,layout:er});return e.length>0&&r.length>0&&e.push({type:W.Yc.SECTION_HEADER,name:"Variables in file"}),e.concat(r)}},[i.type,u,ef,t,eE,er,ep,V,ey]),ev=n.useRef([]);ev.current=eb;let eI=n.useRef(null),eT=(0,n.useCallback)(()=>{var e;null==(e=eI.current)||e.scrollToTop();let t=function(e){let t=null;for(let r of e)if("items"in r){t=r.items[0];break}return t}(ev.current);Q(t?(0,W.UT)(t):null)},[]),eS=(0,n.useCallback)((e,t)=>{var r;let n=(0,W.oM)(ev.current,e);n>=0&&(null==(r=eI.current)||r.scrollToIndex(n,t)),Q(e)},[]);(0,n.useLayoutEffect)(()=>{!y&&(C.length>0||!q?eT():C||eS(q,{align:"center"}))},[C,q,y,eT,eS]);let{showStyleContextMenu:ew,hideStyleContextMenu:eA}=(0,Y.XM)(),eC=(0,n.useCallback)((e,t)=>{e.type===k.PW.STYLE&&ew({dsStyle:e,position:t})},[ew]),eN=(0,n.useCallback)(e=>{Q((0,W.UT)(e))},[Q]),eO=(0,n.useCallback)(e=>{J===(0,W.UT)(e)&&Q(null)},[J,Q]),eL=(0,n.useCallback)(e=>{e.type===k.PW.VARIABLE?b(e):e.type===k.PW.STYLE?null==I||I(e,{fromSearch:C.length>0}):"COMPONENT_PROP"===e.type&&(null==U||U(e)),S()},[S,b,I,C.length,U]),eR=(0,n.useCallback)(e=>{O(e.currentTarget.value)},[O]),eP=(0,n.useCallback)(t=>{var n;if(t.keyCode===d.Uz.ENTER){let t=function({highlightedItemID:e,variables:t,dsStyles:r,componentProps:n}){return e?[...t,...r,...n].find(t=>(0,W.UT)(t)===e)??null:null}({variables:e,dsStyles:r,componentProps:ey,highlightedItemID:J});t?eL(t):s&&b(),S()}else t.keyCode===d.Uz.ESCAPE?S():((0,h.Nt)(t,!1)||(0,h.c2)(t,!1)||(0,h.yn)(t.code,!1)||(0,h.lv)(t.code,!1))&&(J?((null==(n=eI.current)?void 0:n.getVirtualItems())??[]).some(e=>{let t=ev.current[e.index];return"items"in t&&t.items.some(e=>(0,W.UT)(e)===J)})||eS(J,{align:"center"}):q?eS(q,{align:"center"}):eT())},[e,r,ey,J,S,eL,s,b,q,eS,eT]);return n.createElement(h.dP,{recordingKey:f,onClick:eA},n.createElement("div",{className:$.PP},n.createElement(ed,{inputRef:ee,value:C,onChange:eR,onKeyDown:eP,recordingKey:m.Pt(f,"input")})),n.createElement(eh,{recordingKey:f,currentView:i,resolvedType:u,subscribedLibraries:eu,setControlRightButtons:_,onSetSelect:a,onToggleLayoutIconClick:et?en:void 0}),n.createElement(x.Id,{className:o()({[$.eB]:u!==w.rXF.COLOR,[$.a2]:!0})},y?n.createElement("div",{className:$.S,style:{height:(0,W.Ih)({layout:er})}},n.createElement(g.kt,null)):0===eE.length&&0===ef.length&&0===ey.length?n.createElement("div",{className:$.p$,style:{height:(0,W.Ih)({layout:er})}},C.length>0?(0,E.t)("variables.binding_ui.no_search_results"):u===w.rXF.COLOR?(0,E.t)("variables.binding_ui.no_colors_empty_state"):(0,E.t)("variables.binding_ui.no_variables_empty_state")):"list"===er?n.createElement(G.HZ,{ref:eI,className:$.jG,listItems:eb,selectedItemID:q,disabledVariableIds:c,highlightedItemID:J,pickerType:p,recordingKey:f,onItemHighlight:eN,onItemSelect:eL,onItemContextMenu:eC,onItemMouseLeave:eO}):n.createElement(G.Rm,{ref:eI,className:$.jG,listItems:eb,selectedItemID:q,highlightedItemID:J,recordingKey:f,onItemHighlight:eN,onItemSelect:eL,onItemContextMenu:eC,onItemMouseLeave:eO})),(null==Z?void 0:Z.type)===Y.A7&&n.createElement(Y.ip,{dsStyle:Z.data.dsStyle,position:Z.data.position,recordingKey:m.Pt(f,"contextMenu")}))}function ec({recordingKey:e,onClose:t}){let r=m.rf(e,"mousedown",n.useCallback(e=>{t(),e.stopPropagation()},[t]));return(0,O.dH)()===w.NLJ.DROPPER_COLOR?null:n.createElement("div",{tabIndex:0,role:"button",className:$.ZA,onMouseDown:r})}function ed({inputRef:e,value:t,onChange:r,onKeyDown:i,recordingKey:a}){let o=n.useRef(null);return(0,s.h)(()=>{o.current&&o.current.focus()}),n.createElement("div",{className:$.ON},n.createElement(f.B,{className:$.qc,svg:J.A}),n.createElement(x.jT,{ref:(0,u.A)(e,o),className:$.Rt,value:t,onChange:r,noBorderOnFocus:!0,placeholder:(0,E.t)("variables.binding_ui.search_placeholder"),onKeyDown:i,recordingKey:a}))}class eu extends F.l6{}class ep extends F.c${}function em({recordingKey:e,currentView:t,subscribedLibraries:r,onSetSelect:a,resolvedType:o}){let l=(0,i.wA)(),s=(0,N.U)(),d=(0,n.useRef)(`variable-binding-set-select-${(0,_.N)()}`),u=(0,n.useMemo)(()=>({format(e){switch(e.type){case"LOCAL_VARIABLES":return o===w.rXF.COLOR?(0,E.t)("variables.binding_ui.set_labels.local_colors"):(0,E.t)("variables.binding_ui.set_labels.local_variables");case"COMPONENT_PROPS":return"Component properties";case"SUBSCRIBED_VARIABLES":return e.fileName;case"ALL_LIBRARIES":return(0,E.t)("variables.binding_ui.set_labels.all_libraries")}},isEqual:(e,t)=>e.type===t.type&&("SUBSCRIBED_VARIABLES"!==e.type||e.fileKey===t.fileKey)}),[o]),h=r.length>0?n.createElement(ep,{value:{type:"LOCAL_VARIABLES",layout:t.layout},formattedValue:o===w.rXF.COLOR?(0,E.t)("variables.binding_ui.set_labels.local_colors"):(0,E.t)("variables.binding_ui.set_labels.local_variables"),recordingKey:m.Pt(e,"localVariables")}):null,{pass:g,fail:f}=(0,p.j)(r,e=>(0,b.wJ)(e.fileKey)),y=(0,R.sZ)(),v=(0,P.Oe)(y),A="SUBSCRIBED_VARIABLES"===t.type?t.fileKey:void 0,C=g.length>0&&!!(0,c.kc)().dse_preset_libraries;return n.createElement(eu,{id:d.current,dispatch:l,dropdownShown:s,dropdownWidth:200,className:$.DQ,chevronClassName:$.mL,inputClassName:$.NI,property:t,formatter:u,rightIcon:n.createElement(S.T,{resourceId:A}),onChange:a,recordingKey:e},n.createElement(ep,{value:{type:"ALL_LIBRARIES",layout:t.layout},formattedValue:(0,E.t)("variables.binding_ui.set_labels.all_libraries"),recordingKey:m.Pt(e,"allLibraries")}),h&&n.createElement(F.sK,null),h,h&&n.createElement(F.sK,null),f.length>0&&!!(0,c.kc)().dse_preset_libraries&&n.createElement(F.c$,{isHeader:!0,formattedValue:(0,E.t)("variables.binding_ui.libraries")}),f.map((r,i)=>{let a=v&&(0,T.vR)(r.fileKey);return n.createElement(ep,{key:r.fileKey,value:{type:"SUBSCRIBED_VARIABLES",layout:t.layout,fileKey:r.fileKey,fileName:r.fileName},formattedValue:r.fileName,recordingKey:m.Pt(e,"subscribedLibrary",i),removeTextRightPadding:a,rightSettingsIcon:a&&n.createElement(I.FX,null)})}),f.length>0&&C&&n.createElement(F.sK,null),C?n.createElement(F.c$,{isHeader:!0,formattedValue:(0,E.t)("variables.binding_ui.ui_kits")}):null,g.map((r,i)=>n.createElement(ep,{key:r.fileKey,value:{type:"SUBSCRIBED_VARIABLES",layout:t.layout,fileKey:r.fileKey,fileName:r.fileName},formattedValue:r.fileName,recordingKey:m.Pt(e,"subscribedLibrary",i)})))}function e_({recordingKey:e,currentView:t,resolvedType:r,onToggleLayoutIconClick:i}){if(r!==w.rXF.COLOR)return null;{let{tooltip:r,layoutSvg:a}=function(e){switch(e){case"list":return{tooltip:(0,E.t)("variables.binding_ui.show_as_grid_tooltip"),layoutSvg:Z.A};case"grid":return{tooltip:(0,E.t)("variables.binding_ui.show_as_list_tooltip"),layoutSvg:q.A}}}(t.layout);return n.createElement(x.K0,{"data-tooltip-type":M.Ib.TEXT,"data-tooltip":r,recordingKey:e,svg:a,onClick:i})}}function eh({recordingKey:e,currentView:t,subscribedLibraries:r,setControlRightButtons:i,resolvedType:a,onSetSelect:o,onToggleLayoutIconClick:l}){return n.createElement(x.fI,{className:$.zz},o?n.createElement(em,{currentView:t,subscribedLibraries:r,recordingKey:m.Pt(e,"setSelector"),onSetSelect:o,resolvedType:a}):n.createElement("div",{className:$.b8},(0,E.t)("variables.binding_ui.set_labels.local_variables")),(l||i)&&n.createElement("div",{className:$.aX},l&&n.createElement(e_,{currentView:t,resolvedType:a,onToggleLayoutIconClick:l,recordingKey:m.Pt(e,"toggleLayout")}),i))}},875157:(e,t,r)=>{"use strict";r.d(t,{$8:()=>x,AQ:()=>M,Mm:()=>k,ZM:()=>R,aZ:()=>U,iG:()=>D,my:()=>v,yg:()=>F});var n=r(411855),i=r(668e3),a=r(993086),o=r(291254),l=r(598977),s=r(692775),c=r(193161),d=r(966712),u=r(574176),p=r(939863),m=r(852800),_=r(595869),h=r(666139),g=r(560185),f=r(668524),E=r(180377),y=r(58502),b=r(402997),v=(e=>(e.SCOPE="scope",e.LABEL="label",e))(v||{});let I=new Set([m.rXF.FLOAT,m.rXF.COLOR]),T=new Set([m.rXF.FLOAT,m.rXF.COLOR,m.rXF.STRING]);function S(){return(0,d.kc)().variables_typography_scopes?T:I}let w=new Set([m.rrT.FILL,m.rrT.STROKE,m.rrT.EFFECT]),A=new Set([m.j0r.FRAME_FILL,m.j0r.SHAPE_FILL,m.j0r.TEXT_FILL]),C=[{type:"scope",scope:m.j0r.ALL_SCOPES,name:n.createElement(p.Tx,{id:"variables.scopes.all_properties"})},{type:"scope",scope:m.j0r.CORNER_RADIUS,name:n.createElement(p.Tx,{id:"variables.scopes.corner_radius"}),iconElement:n.createElement(u.B,{svg:_.A})},{type:"scope",scope:m.j0r.WIDTH_HEIGHT,name:n.createElement(p.Tx,{id:"variables.scopes.width_height"}),iconElement:n.createElement(u.B,{svg:E.A})},{type:"scope",scope:m.j0r.GAP,name:n.createElement(p.Tx,{id:"variables.scopes.gap"}),iconElement:n.createElement(u.B,{svg:g.A}),subLabel:n.createElement(p.Tx,{id:"variables.scopes.auto_layout"})},{type:"scope",scope:m.j0r.TEXT_CONTENT,name:n.createElement(p.Tx,{id:"variables.scopes.text_content"}),iconElement:n.createElement(u.B,{svg:b.A})},{type:"scope",scope:m.j0r.STROKE_FLOAT,name:n.createElement(p.Tx,{id:"variables.scopes.stroke"}),iconElement:n.createElement(u.B,{svg:y.A})},{type:"scope",scope:m.j0r.OPACITY,name:n.createElement(p.Tx,{id:"variables.scopes.layer_opacity"}),iconElement:n.createElement(i.N,null)},{type:"scope",scope:m.j0r.EFFECT_FLOAT,name:n.createElement(p.Tx,{id:"variables.scopes.effects"}),iconElement:n.createElement(u.B,{svg:h.A})}],N=[{type:"label",key:"typography",label:n.createElement(p.Tx,{id:"fullscreen.type_panel.typography"})},{type:"scope",scope:m.j0r.FONT_STYLE,name:n.createElement(p.Tx,{id:"variables.scopes.font_weight"}),iconElement:n.createElement(a.j,null)},{type:"scope",scope:m.j0r.FONT_SIZE,name:n.createElement(p.Tx,{id:"variables.scopes.font_size"}),iconElement:n.createElement(o.Z,null)},{type:"scope",scope:m.j0r.LINE_HEIGHT,name:n.createElement(p.Tx,{id:"variables.scopes.line_height"}),iconElement:n.createElement(l.e,null)},{type:"scope",scope:m.j0r.LETTER_SPACING,name:n.createElement(p.Tx,{id:"variables.scopes.letter_spacing"}),iconElement:n.createElement(s.y,null)},{type:"scope",scope:m.j0r.PARAGRAPH_SPACING,name:n.createElement(p.Tx,{id:"variables.scopes.paragraph_spacing"}),iconElement:n.createElement(c.o,null)},{type:"scope",scope:m.j0r.PARAGRAPH_INDENT,name:n.createElement(p.Tx,{id:"variables.scopes.paragraph_indent"}),iconElement:n.createElement(u.B,{svg:f.A})}],O=[{type:"scope",scope:m.j0r.ALL_SCOPES,name:n.createElement(p.Tx,{id:"variables.scopes.all_properties"})},{type:"scope",scope:m.j0r.ALL_FILLS,name:n.createElement(p.Tx,{id:"variables.scopes.all_fills"})},{type:"scope",scope:m.j0r.FRAME_FILL,name:n.createElement(p.Tx,{id:"variables.scopes.frame_fill"}),indented:!0},{type:"scope",scope:m.j0r.SHAPE_FILL,name:n.createElement(p.Tx,{id:"variables.scopes.shape_fill"}),indented:!0},{type:"scope",scope:m.j0r.TEXT_FILL,name:n.createElement(p.Tx,{id:"variables.scopes.text_fill"}),indented:!0},{type:"scope",scope:m.j0r.STROKE,name:n.createElement(p.Tx,{id:"variables.scopes.stroke"})},{type:"scope",scope:m.j0r.EFFECT_COLOR,name:n.createElement(p.Tx,{id:"variables.scopes.effects"})}],L=[{type:"scope",scope:m.j0r.ALL_SCOPES,name:n.createElement(p.Tx,{id:"variables.scopes.all_properties"})},{type:"scope",scope:m.j0r.TEXT_CONTENT,name:n.createElement(p.Tx,{id:"variables.scopes.text_content"}),iconElement:n.createElement(u.B,{svg:b.A})},{type:"scope",scope:m.j0r.FONT_FAMILY,name:n.createElement(p.Tx,{id:"variables.scopes.font_family"}),iconElement:n.createElement(o.Z,null)},{type:"scope",scope:m.j0r.FONT_STYLE,name:n.createElement(p.Tx,{id:"variables.scopes.font_weight_or_style"}),iconElement:n.createElement(a.j,null)}],R={CORNER_RADIUS:m.j0r.CORNER_RADIUS,STACK_SPACING:m.j0r.GAP,STACK_PADDING_LEFT:m.j0r.GAP,STACK_PADDING_TOP:m.j0r.GAP,STACK_PADDING_RIGHT:m.j0r.GAP,STACK_PADDING_BOTTOM:m.j0r.GAP,TEXT_DATA:m.j0r.TEXT_CONTENT,WIDTH:m.j0r.WIDTH_HEIGHT,HEIGHT:m.j0r.WIDTH_HEIGHT,RECTANGLE_TOP_LEFT_CORNER_RADIUS:m.j0r.CORNER_RADIUS,RECTANGLE_TOP_RIGHT_CORNER_RADIUS:m.j0r.CORNER_RADIUS,RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS:m.j0r.CORNER_RADIUS,RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS:m.j0r.CORNER_RADIUS,STACK_COUNTER_SPACING:m.j0r.GAP,MIN_WIDTH:m.j0r.WIDTH_HEIGHT,MAX_WIDTH:m.j0r.WIDTH_HEIGHT,MIN_HEIGHT:m.j0r.WIDTH_HEIGHT,MAX_HEIGHT:m.j0r.WIDTH_HEIGHT,STROKE_WEIGHT:m.j0r.STROKE_FLOAT,BORDER_TOP_WEIGHT:m.j0r.STROKE_FLOAT,BORDER_BOTTOM_WEIGHT:m.j0r.STROKE_FLOAT,BORDER_LEFT_WEIGHT:m.j0r.STROKE_FLOAT,BORDER_RIGHT_WEIGHT:m.j0r.STROKE_FLOAT,OPACITY:m.j0r.OPACITY,PARAGRAPH_SPACING:m.j0r.PARAGRAPH_SPACING,PARAGRAPH_INDENT:m.j0r.PARAGRAPH_INDENT,FONT_FAMILY:m.j0r.FONT_FAMILY,FONT_STYLE:m.j0r.FONT_STYLE,FONT_VARIATIONS:m.j0r.PARAGRAPH_SPACING,FONT_SIZE:m.j0r.PARAGRAPH_SPACING,LETTER_SPACING:m.j0r.LETTER_SPACING,LINE_HEIGHT:m.j0r.LINE_HEIGHT,MISSING:null,VISIBLE:null,VARIANT_PROPERTIES:null};Object.keys(m.Z6A).filter(e=>isNaN(Number(e)));let P={FRAME:m.j0r.FRAME_FILL,SYMBOL:m.j0r.FRAME_FILL,INSTANCE:m.j0r.FRAME_FILL,VECTOR:m.j0r.SHAPE_FILL,STAR:m.j0r.SHAPE_FILL,LINE:m.j0r.SHAPE_FILL,ELLIPSE:m.j0r.SHAPE_FILL,RECTANGLE:m.j0r.SHAPE_FILL,REGULAR_POLYGON:m.j0r.SHAPE_FILL,ROUNDED_RECTANGLE:m.j0r.SHAPE_FILL,TEXT:m.j0r.TEXT_FILL,VECTOR_OPERATION:m.j0r.SHAPE_FILL,NONE:null,DOCUMENT:null,CANVAS:null,GROUP_DEPRECATED:null,SLICE:null,STICKY:null,SHAPE_WITH_TEXT:null,CONNECTOR:null,CODE_BLOCK:null,WIDGET:null,STAMP:null,MEDIA:null,HIGHLIGHT:null,SECTION:null,SECTION_OVERLAY:null,WASHI_TAPE:null,VARIABLE:null,TABLE:null,TABLE_CELL:null,VARIABLE_SET:null,VARIABLE_OVERRIDE:null,SLIDE:null,SLIDE_ROW:null,SLIDE_GRID:null,ASSISTED_LAYOUT_DEPRECATED:null,INTERACTIVE_SLIDE_ELEMENT:null,MODULE:null};function k(e){return e===m.rXF.FLOAT?(0,d.kc)().variables_typography_scopes?[...C,...N]:C:e===m.rXF.COLOR?O:e===m.rXF.STRING&&(0,d.kc)().variables_typography_scopes?L:[]}function D(e){let t=new Set;for(let r of e)R[r]&&t.add(R[r]);return t}function M(e,t){if(!S().has(e.resolvedType))return!0;let r=!1;for(let e of t)if(A.has(e)){r=!0;break}for(let n of e.scopes)if(t.has(n)||n===m.j0r.ALL_SCOPES||n===m.j0r.ALL_FILLS&&r)return!0;return!1}function x(){return(0,d.kc)().variables_typography_scopes?[m.rXF.FLOAT,m.rXF.COLOR,m.rXF.STRING]:[m.rXF.FLOAT,m.rXF.COLOR]}function F(e,t){let r=S();return[...t??[],e].some(e=>r.has(e))}function U(e,t){if(!e||!t||!w.has(e))return;let r=new Set;switch(e){case m.rrT.STROKE:case m.rrT.STROKE_PRESET:r.add(m.j0r.STROKE);break;case m.rrT.FILL:for(let e in t){let t=P[e];t&&r.add(t)}break;case m.rrT.EFFECT:r.add(m.j0r.EFFECT_COLOR)}return r.size?r:void 0}},820396:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});var n=r(411855),i=r(574176),a=r(498606),o=r(893606),l=r(675357);function s({showTooltip:e=!0,type:t}){let r=(0,l.F)(t);if((0,o.R)()){let e=r.IconUI3;return n.createElement(e,null)}return n.createElement(i.B,{svg:r.iconUI2,"data-tooltip-type":e?a.Ib.TEXT:void 0,"data-tooltip":r.name})}},859703:(e,t,r)=>{"use strict";r.d(t,{A6:()=>em,BJ:()=>ed,Cg:()=>ei,Eo:()=>V,Ev:()=>ec,Gc:()=>el,H2:()=>G,JB:()=>eu,LC:()=>J,Oj:()=>Y,Ri:()=>K,TD:()=>er,Tg:()=>e_,Yt:()=>j,ZG:()=>H,bO:()=>es,cp:()=>W,hy:()=>ea,hz:()=>z,jt:()=>et,q9:()=>eh,qy:()=>U,uk:()=>eo,xA:()=>en});var n=r(636149),i=r.n(n),a=r(89865),o=r.n(a),l=r(802691),s=r.n(l),c=r(717068),d=r(966712),u=r(38580),p=r(374626),m=r(684107),_=r(394255),h=r(860601),g=r(572174),f=r(364898),E=r(515009),y=r(696673),b=r(830445),v=r(356390),I=r(852800),T=r(281889),S=r(674011),w=r(529928),A=r(279453),C=r(173454),N=r(875387);let O=(0,S.SG)(()=>I.Ez5.libraryAssets().fileLevelVariableSetsSubscribed),L=(0,u.eU)(e=>e(O).map(C.Rn)),R=(0,S.SG)(()=>I.Ez5.libraryAssets().fileLevelVariableSetsLocal),P=(0,u.eU)(e=>e(R).map(C.Dt)),k=(0,S.SG)(()=>I.Ez5.libraryAssets().fileLevelVariablesSubscribed),D=(0,S.SG)(()=>I.Ez5.libraryAssets().fileLevelVariablesLocal),M=(0,u.eU)(e=>e(D).map(C.kz)),x=(0,u.eU)(e=>e(k).map(C.ZI)),F=(0,u.eU)(e=>({...o()(e(P),e=>e.keyForPublish),...o()(e(L),e=>e.key)}));(0,u.eU)(e=>({...o()(e(M),e=>e.keyForPublish),...o()(e(x),e=>e.key)}));let U=(()=>{let e=(0,w.OX)({},"SYNC_ATOM_VARIABLE_SETS_BY_ID"),t=(0,p.FZ)(e,(e,t)=>{if(t){if("added"in t){let r=o()(t.added.map(C.Dt),e=>e.node_id);return{...e,...r}}if("deleted"in t){let r={...e};return delete r[t.deleted],r}}return{}});return t.onMount=e=>{v.Y5.onReady().then(()=>{e({added:I.CWU.getLocalVariableSetsInfo()})});let t=(0,T.Vr)(t=>{e(t)});return()=>{t(),e(null)}},(0,w.S9)(t,e.reducer)})(),B=(0,u.eU)(e=>({...e(U),...e(en)})),H=(0,p.Iz)(e=>(0,u.eU)(t=>t(U)[e]));(0,p.Iz)(e=>(0,u.eU)(t=>t(en)[e]));let V=(0,p.Iz)(e=>(0,u.eU)(t=>t(B)[e]));(0,p.Iz)(e=>(0,m.BV)(t=>r=>r(t({fileKey:e}))));let G=(0,p.Iz)(e=>(0,u.eU)(t=>{let r={};for(let n of e)r[n]=t((0,A.o9k)({fileKey:n}));return r}),c.lu),W=(0,p.Iz)(e=>(0,m.eS)(t=>r=>r(t({fileKey:e}))));function K(e){return(0,A.eHy)(e?{hubFileId:e}:null)}let Y=(0,p.Iz)(e=>(0,u.eU)(t=>{let r={};for(let n of e)r[n]=t((0,_.he)(A.cmY)({variableCollectionKey:n}));return r}),c.lu),j=(0,p.Iz)(e=>(0,u.eU)(t=>{let r={};for(let n of e)r[n]=t((0,A.jXq)({fileKey:n}));return r}),c.lu),z=(0,p.Iz)(e=>(0,u.eU)(t=>{let r={};for(let n of e)r[n]=t((0,A.eHy)({hubFileId:n}));return r}),c.lu),$=(0,u.eU)(e=>{let t=e(es),r=e(N.q),n=((0,d.kc)().dse_preset_libraries?Object.values(t).filter(e=>!(0,b.lR)(r,e)):Object.values(t)).map(e=>e.key).sort();return e((0,m.a5)(n.map(e=>({key:e})))).reduce((e,t)=>(e[(0,E.ey)(t.args.key)]=t.result,e),{})}),Z=(0,u.eU)(e=>{let t=e(es),r=e(N.q),n=(e(y.JB)?Object.values(t).filter(e=>(0,b.lR)(r,e)):[]).map(e=>e.key).sort().map(e=>({key:e})),i=(0,b.ku)(b.p9,n,e);return"loaded"!==i.status?{}:i.data.reduce((e,t)=>{if("loaded"!==t.result.status)return e;let r=t.result.data.variable;if(!r)return e;let n=(0,E.ey)(r.key);return{...e,[n]:t.result}},{})}),q=(0,u.eU)(e=>({...e($),...e(Z)}),h.lQ),J=(0,w.Pj)(q,"SYNC_ATOM_USED_LIBRARY_VARIABLES_BY_KEY",{}),X=(0,u.eU)(e=>{let t=[...new Set(Object.values(e($)).map(e=>{var t,r;return null==(r=null==(t=e.data)?void 0:t.variable)?void 0:r.variableCollection.key}).filter(g.Vq))].sort();return e((0,m.Ew)(t.map(e=>({key:e})))).reduce((e,t)=>(e[(0,E.yG)(t.args.key)]=t.result,e),{})},h.lQ),Q=(0,u.eU)(e=>{let t=[...new Set(Object.values(e(Z)).map(e=>{var t,r;return null==(r=null==(t=e.data)?void 0:t.variable)?void 0:r.variableCollection.key}).filter(g.Vq))].sort().map(e=>({key:e})),r=(0,b.ku)(b.nT,t,e);return"loaded"!==r.status?{}:r.data.reduce((e,t)=>{if("loaded"!==t.result.status)return e;let r=t.result.data.variableCollection;if(!r)return e;let n=(0,E.ey)(r.key);return{...e,[n]:t.result}},{})}),ee=(0,u.eU)(e=>({...e(X),...e(Q)}),h.lQ),et=(0,w.Pj)(ee,"SYNC_ATOM_USED_LIBRARY_VARIABLE_SETS_BY_KEY",{});(0,u.eU)(e=>{let t=Object.keys(e(U));if(0!==t.length)return t[0]});let er=(0,u.eU)(e=>Object.values(e(U))),en=(()=>{let e=(0,w.OX)({},"SYNC_ATOM_SUBSCRIBED_VARIABLE_SETS_BY_ID"),t=(0,p.FZ)(e,(e,t)=>{if(t){if("added"in t){let r=o()(t.added.map(C.Rn),e=>e.node_id);return{...e,...r}}{let r={...e};return delete r[t.deleted],r}}return{}});return t.onMount=e=>{v.Y5.onReady().then(()=>{e({added:I.CWU.getSubscribedVariableSetsInfo()})});let t=(0,T._n)(t=>{e(t)});return()=>{t(),e(null)}},(0,w.S9)(t,e.reducer)})(),ei=(()=>{let e=(0,w.OX)({},"SYNC_ATOM_LOCAL_VARIABLES_BY_ID"),t=(0,p.FZ)(e,(e,t)=>{if(t){if("added"in t)return{...e,...o()(t.added.map(C.kz),e=>e.node_id)};if("deleted"in t){let r=new Set(t.deleted);return s()(e,e=>e.node_id&&!r.has(e.node_id))}if("setDeleted"in t)return s()(e,e=>e.variableSetId!==t.setDeleted)}return{}});return t.onMount=e=>{v.Y5.onReady().then(()=>{e({added:I.CWU.getLocalVariablesInfo()})});let t=(0,T.j2)(t=>{e(t)});return()=>{t(),e(null)}},(0,w.S9)(t,e.reducer)})(),ea=(0,p.Iz)(e=>(0,u.eU)(t=>t(ei)[e]??null)),eo=(0,u.eU)(e=>Object.keys(e(ei)).map(t=>e(ea(t))).sort((e,t)=>-(0,f.Ez)(e.sortPosition,null==t?void 0:t.sortPosition))),el=(0,u.eU)(e=>i()(e(eo),e=>e.variableSetId)),es=(()=>{let e=(0,w.OX)({},"SYNC_ATOM_SUBSCRIBED_VARIABLES_BY_ID"),t=(0,p.FZ)(e,(e,t)=>{if(t){if("added"in t)return{...e,...o()(t.added.map(C.ZI),e=>e.node_id)};if("deleted"in t)return s()(e,e=>e.id!==t.deleted);if("setDeleted"in t)return s()(e,e=>e.variableSetId!==t.setDeleted)}return{}});return t.onMount=e=>{v.Y5.onReady().then(()=>{e({added:I.CWU.getSubscribedVariablesInfo()})});let t=(0,T.uE)(t=>{e(t)});return()=>{t(),e(null)}},(0,w.S9)(t,e.reducer)})();(0,p.Iz)(e=>(0,u.eU)(t=>t(es)[e]??null));let ec=(0,p.Iz)(e=>(0,u.eU)(t=>t(ei)[e]??t(es)[e]??null));function ed(e,t){let r=v.Y5.isReady(),n=r&&e?I.CWU.getVariableResolvedValue(e,t):null,i=(0,u.eU)(n);return e&&(i.onMount=n=>{r||v.Y5.onReady().then(()=>{n(I.CWU.getVariableResolvedValue(e,t))});let i=(0,T.RW)(e,t,e=>{n(e[t]??null)});return()=>{i(),n(null)}}),i}function eu(e){let t=v.Y5.isReady(),r=t&&e?I.CWU.getExplicitModeNames(e):null,n=(0,u.eU)(r);return e&&(n.onMount=r=>{t||v.Y5.onReady().then(()=>{r(I.CWU.getExplicitModeNames(e))});let n=(0,T.Lk)(e,e=>{r(e)});return()=>{n(),r(null)}}),n}let ep=(()=>{let e=(0,u.eU)({}),t=(0,p.FZ)(e,(e,t)=>{if(t){if("added"in t)return{...e,...o()(t.added.map(C.Vk),e=>e.node_id)};if("deleted"in t){let r=new Set(t.deleted);return s()(e,e=>e.node_id&&!r.has(e.node_id))}return{}}return e});return t.onMount=e=>{v.Y5.onReady().then(()=>{e({added:I.CWU.getLocalVariableOverridesInfo()})});let t=(0,T.xb)(t=>{e(t)});return()=>{t(),e(null)}},t})(),em=(0,p.Iz)(e=>(0,u.eU)(t=>{let r=Object.values(t(ep)).filter(t=>t.variableSetId===e);return o()(r,e=>e.rootVariableKey)}));function e_(){let e=v.Y5.isReady(),t=e?I.CWU.getPageLevelModes():null,r=(0,u.eU)(t);return r.onMount=t=>(e||v.Y5.onReady().then(()=>{t(I.CWU.getPageLevelModes())}),()=>{t(null)}),r}let eh=(0,u.eU)(e=>{if(!(0,d.kc)().ds_variables_resolution_v2||!(0,d.kc)().ds_variables_bump_set_versions)return!1;let t=e(er),r=e(F);return!!t.some(e=>(0,g.uy)(r[e.keyForPublish]))})},761334:(e,t,r)=>{"use strict";r.d(t,{D:()=>b,NF:()=>v,oz:()=>T,ty:()=>S});var n=r(411855),i=r(776250),a=r(38329),o=r(320063),l=r(358145),s=r(374626),c=r(776621),d=r(987918),u=r(988022),p=r(742621),m=r(151283),_=r(852800),h=r(335682),g=r(860178),f=r(478655),E=r(859703);function y(e){switch(e){case _.rXF.BOOLEAN:return"boolean";case _.rXF.FLOAT:return"float";case _.rXF.STRING:return"string";case _.rXF.COLOR:return"color";case _.rXF.MAP:return"map";case _.rXF.SYMBOL_ID:return"symbol_id";case _.rXF.FONT_STYLE:return"font_style";case _.rXF.TEXT_DATA:return"text_data"}}function b({isLoading:e,eventName:t}){let r=(0,l.ZC)(e),a=(0,n.useRef)();(0,o.h)(()=>{a.current=performance.now()});let s=function(e){let t=(0,n.useRef)(!1);return function(){t.current||(e(),t.current=!0)}}(function(){if(a.current){let e=performance.now()-a.current;i.az.trackDefinedEvent(t,{loadTimeMs:e})}});r&&!e&&s()}function v({resolvedType:e}){let t=(0,h.tS)(),r=(0,g.TA)();(0,o.h)(()=>{t&&r&&i.az.trackDefinedEvent("variables.inline_creation_dialog_opened",{fileKey:t,userId:r,resolvedType:y(e)})})}function I(e){return"type"in e}function T(e,t){var r,n,i,o,l;try{if(I(t)?t.type===_.Z_n.ALIAS:"ALIAS"===t.dataType){let o=I(t)?t.value:(0,f.dI)(null==(r=t.value)?void 0:r.alias),l=I(t)?y(t.resolvedType):t.resolvedDataType,c=a.D.getState(),h=Object.keys(c.mirror.sceneGraphSelection),g=null==(n=c.openFile)?void 0:n.key,b=c.user&&c.user.id,v=s.zl.get((0,E.Ev)(o)),T=(null==v?void 0:v.variableSetId)?null==(i=s.zl.get((0,E.Eo)(null==v?void 0:v.variableSetId)))?void 0:i.node_id:null,S=_.CWU.getSubscribedVariableInfo(o),{resourceId:w,libraryKey:A}=(0,p.Cw)(v??(0,p.O8)(S),c.openFile),C=(0,m.X)(w),N=c.mirror.selectedStyleProperties.guid;for(let t of(N&&(h=[d.dI(N)]),h))(0,u.ds)("ds_variable_reference_set",g,c,{userId:b,variable_id:o,collection_id:T,value_type:null==l?void 0:l.toString().toUpperCase(),node_id:t,variable_field_id:e,is_style:!!N,is_shared:(null==v?void 0:v.subscriptionStatus)==="SUBSCRIBED",library_key:A,partner_type:C},{forwardToDatadog:!0})}else if(I(t)&&t.type===_.Z_n.FONT_STYLE){let r=t.value.asString??t.value.asFloat,n=a.D.getState(),i=Object.keys(n.mirror.sceneGraphSelection),c=null==(o=n.openFile)?void 0:o.key,h=n.user&&n.user.id,g=s.zl.get((0,E.Ev)(null==r?void 0:r.value)),f=(null==g?void 0:g.variableSetId)?null==(l=s.zl.get((0,E.Eo)(null==g?void 0:g.variableSetId)))?void 0:l.node_id:null,b=_.CWU.getSubscribedVariableInfo(null==r?void 0:r.value),{resourceId:v,libraryKey:I}=(0,p.Cw)(g??(0,p.O8)(b),n.openFile),T=(0,m.X)(v),S=n.mirror.selectedStyleProperties.guid;for(let t of(S&&(i=[d.dI(S)]),i))(0,u.ds)("ds_variable_reference_set",c,n,{userId:h,variable_id:null==r?void 0:r.value,collection_id:f,value_type:(null==r?void 0:r.resolvedType)?y(null==r?void 0:r.resolvedType).toUpperCase():void 0,node_id:t,variable_field_id:e,is_style:!!S,is_shared:(null==g?void 0:g.subscriptionStatus)==="SUBSCRIBED",library_key:I,partner_type:T},{forwardToDatadog:!0})}}catch(e){(0,c.x1)("variables","Could not log variable consumption",{exception:e},{reportAsSentryError:!0})}}function S(e,t){var r;try{let n=a.D.getState(),i=Object.keys(n.mirror.sceneGraphSelection),o=null==(r=n.openFile)?void 0:r.key,l=n.user&&n.user.id,c=s.zl.get((0,E.Ev)(e)),d=_.CWU.getSubscribedVariableInfo(e),{resourceId:h,libraryKey:g}=(0,p.Cw)(c??(0,p.O8)(d),n.openFile),f=(0,m.X)(h);for(let r of i)(0,u.ds)("ds_variable_reference_set",o,n,{userId:l,variable_id:e,value_type:y(t),node_id:r,variable_field_id:"VARIANT_PROPERTIES",library_key:g,partner_type:f},{forwardToDatadog:!0})}catch(e){(0,c.x1)("variables","Could not log variant binding variable consumption",{exception:e},{reportAsSentryError:!0})}}},635736:(e,t,r)=>{"use strict";r.d(t,{m:()=>eh,y:()=>e_});var n=r(411855),i=r(188507),a=r(171975),o=r(140838),l=r(260906),s=r(629019),c=r.n(s),d=r(395096),u=r(776250),p=r(717068),m=r(91408),_=r(531664),h=r(820286),g=r(189430),f=r(966712),E=r(374626),y=r(860601),b=r(572174),v=r(153234),I=r(286640),T=r(347082),S=r(572206),w=r(46481),A=r(762638),C=r(939863),N=r(169231),O=r(798099),L=r(852800),R=r(662531),P=r(617453),k=r(869156),D=r(318812),M=r(6024),x=r(100197),F=r(301462),U=r(173454),B=r(498606),H=r(237870),V=r(746806),G=r(233890),W=r(227795),K=r(545317),Y=r(122350),j=r(282263),z=r(939384),$=r(859703),Z=r(868036),q=r(337676),J=r(273289),X=r(128282),Q=r(980984),ee=r(469560),et=r(865474),er=r(116273),en=r(210024),ei=r(63444),ea=r(313650),eo=r(84013);let el="variables-modal-width",es="variables-modal-height",ec="variables-modal-position",ed=(0,m.jz)(ea.gZ),eu=(0,m.jz)(ea.Ld),ep=(0,m.jz)(ea.Cg),em=(0,m.jz)(ea.NE),e_=(0,H.Ju)(function(){let e=(0,M.n)({type:e_}),t=(0,i.wA)(),r=(0,x.J2)((0,P.UK)().showGuids),s=(0,i.d4)(e=>e.variablePickerShown),L=(0,i.d4)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===Y.eK.type}),R=(0,E.md)($.q9),{state:{currentVariableSet:k,renamingModeGUID:H,renamingVariableID:eh,selectedGroupNames:eg,selectedVariableIDs:ef,variableGroupList:eE,variableList:ey,variableOverrides:eb,isSidebarOpen:ev},actions:eI}=(0,J.D)(J.u.WRITEABLE),{showing:eT,show:eS,hide:ew,data:eA}=(0,D.B)("variables-modal-context-menu"),eC=(0,n.useCallback)((e,t,r)=>{L&&eI.toggleEditVariableModal(null);let n=ef;ef.includes(e)||(eI.setSelectedVariableIDs([e]),n=[e]),eS({data:{position:{left:r.clientX,top:r.clientY},modeID:t,variables:(0,p.RP)(n,e=>ey.find(t=>t.node_id===e)),cellElement:r.currentTarget,groupNames:[]}}),r.preventDefault()},[L,ef,eS,eI,ey]),eN=(0,n.useCallback)((e,t)=>{eS({data:{position:{left:t.clientX,top:t.clientY},groupNames:eg,variables:[],cellElement:t.currentTarget}}),t.preventDefault()},[eg,eS]),eO=(0,i.d4)(F.c9);(0,n.useEffect)(()=>(0,u.sx)("ds_variables_modal_opened",eO),[eO]);let eL=e=>{var t;return ef.length>0&&(null==e?void 0:e.key)==="Enter"&&!!e.shiftKey&&(null==(t=eI.duplicateVariables)||t.call(eI),!0)},eR=v.fo("variablesModal","keydown",e=>{eL(e.event)&&(e.accept(),eL(e))}),eP=n.useRef(null),ek=(0,n.useRef)(null),eD=function({hasVariables:e=!0,isSidebarOpen:t=!1}={}){let r=(0,I.Q_)(),i=(0,K.P)(),a=(0,n.useMemo)(()=>new S.Mi(i+(0,m.jz)(ea.gZ),(0,m.jz)(ea.Ld)+(0,m.jz)(ea.gZ)),[i]),[{windowInnerHeight:o,windowInnerWidth:l}]=(0,d.A)((0,g.l)(),300,{equalityFn:_.c2}),[s]=(0,n.useState)(()=>{let e=null==r?void 0:r.getItem(ec);if(!e)return null;let n=JSON.parse(e);return n.x+(t?em:0)>l||n.y>o?(null==r||r.removeItem(ec),null==r||r.removeItem(el),null==r||r.removeItem(es),null):new S.Mi(n.x,n.y)}),[c]=(0,n.useState)(()=>{let e=Number(null==r?void 0:r.getItem(el));return e&&Number.isFinite(e)?e:642}),[u]=(0,n.useState)(()=>{let e=Number(null==r?void 0:r.getItem(es));return e&&Number.isFinite(e)?e:380});return{initialConstraints:s?{x:"left",y:"top"}:{x:"right",y:"top"},initialPosition:s??a,maxWidth:l-2*ed,maxHeight:o-eu-2*ed,minWidth:400,minHeight:e?180:300,initialWidth:c,initialHeight:u}}({hasVariables:ey.length>0,isSidebarOpen:ev}),eM=(0,K.P)(),ex=(0,I.Q_)(),eF=(0,n.useCallback)(({width:e,height:t})=>{null==ex||ex.setItem(el,String(e)),null==ex||ex.setItem(es,String(t-ep))},[ex]),eU=(0,n.useCallback)(e=>{null==ex||ex.setItem(ec,JSON.stringify(e))},[ex]),[eB,eH]=(0,n.useState)(null),eV=(0,n.useCallback)(()=>{let e=ek.current;e&&e.setTransform(e=>{let t={...e,position:new S.Mi(ed,ed+eu),width:window.innerWidth-2*ed,height:window.innerHeight-2*ed-eu};return(0,_.c2)(t,e)?(eH(null),eB):(eH(e),t)})},[eB]),eG=(0,n.useCallback)(e=>{e.target===e.currentTarget&&eV()},[eV]),eW=(0,b.Vq)(k),eK=(0,z.al)(),eY=!(0,f.kc)().ds_gradient_variables;return n.createElement(T.p,{name:"variables_modal"},n.createElement(G.vL,{handleKeyDown:eR,ref:eP,name:"variables-authoring-modal",focusOnMount:!0},n.createElement(V.vx,{allowAutoExpanding:!1,allowResizeHeight:!0,allowResizeWidth:!0,fullFrame:!0,initialConstraints:eD.initialConstraints,initialHeight:eD.initialHeight,initialPosition:eD.initialPosition,initialWidth:eD.initialWidth,maxHeight:eD.maxHeight,maxWidth:eD.maxWidth,minHeight:eD.minHeight,minWidth:eD.minWidth,onDragEnd:eU,onEdgeDoubleClick:eV,onResize:eF,ref:ek,contentContainerClassName:ei.yl,onClick:()=>{var e;s.isShown&&t((0,N.B)()),L&&eI.toggleEditVariableModal(null),null==(e=eP.current)||e.focus()},onKeyDown:eR,onClose:e,recordingKey:"variablesModal",title:n.createElement("div",{className:ei.DD,onDoubleClick:eG},!eW&&n.createElement("div",{className:A.cx.ml8.fontSemiBold.font11.fontUi.$},n.createElement(C.Tx,{id:"variables.authoring_modal.title"})),eW&&n.createElement("div",{className:c()({[ei.Cz]:!0,[ei.ho]:ev})},(0,f.kc)().fpl_variables_button_migration?n.createElement(a.f,{recordingKey:v.Pt("variablesModal","toggleSidebar"),"aria-label":(0,C.t)("variables.authoring_modal.toggle_sidebar"),onIcon:n.createElement(w.U,{svg:eo.A},n.createElement(o.C,null)),offIcon:n.createElement(w.U,{svg:eo.A},n.createElement(l.O,null)),checked:ev,onChange:e=>eI.setIsSidebarOpen(e)}):n.createElement(W.K0,{recordingKey:v.Pt("variablesModal","toggleSidebar"),svg:eo.A,"data-tooltip-type":B.Ib.TEXT,"data-tooltip":(0,C.t)("variables.authoring_modal.toggle_sidebar"),onClick:()=>eI.setIsSidebarOpen(e=>!e)})),eK&&n.createElement("div",{className:ei.ED},n.createElement(X.G,null)),eY&&n.createElement("div",{className:ei.aZ},n.createElement(Z.T,null)))},n.createElement(h.hh,null,n.createElement("div",{className:ei.kL,style:{"--propertiesPanelWidth":`${eM}px`},"data-testid":"variables-modal-container"},ev&&k&&n.createElement(et.z,{groups:eE,onChangeVariableSet:eI.setCurrentVariableSetID,onContextMenu:eN,onCreateVariableSet:eI.createVariableSet,onCreateVariableSetExtension:eI.createVariableSetExtension,onDeleteVariableSet:eI.deleteVariableSet,onMoveSelectedGroupsToGroup:eI.moveSelectedGroupsToGroup,onMoveVariableToGroup:eI.moveVariableToGroup,onRenameGroup:eI.renameGroup,onRenameVariableSet:eI.renameVariableSet,onReorderGroups:eI.reorderGroups,onMoveGroups:eI.moveGroups,recordingKey:"variablesModal",selectedGroupNames:eg,selectedVariableIDs:ef,setSelectedGroupNames:eI.setSelectedGroupNames,variableSet:k,isShowingGuids:r}),n.createElement("div",{className:ei.ok,onMouseDown:O.dG},R&&n.createElement(q.P,null),0!==ey.length&&k?n.createElement(T.p,{name:"variables_modal_table"},n.createElement(er.f,{groups:eE,key:eg.join("-"),onCreateMode:eI.createMode,onDeleteMode:eI.deleteMode,onDuplicateMode:eI.duplicateMode,onMoveVariableToGroup:eI.moveVariableToGroup,onRenameGroup:eI.renameGroup,onRenameMode:eI.renameMode,onRenameVariable:eI.renameVariable,onReorderVariables:eI.reorderVariables,onSetModeAsDefault:eI.setModeAsDefault,onVariableContextMenu:eC,recordingKey:"variablesModal",renamingModeGUID:H,renamingVariableID:eh,selectedGroupNames:eg,selectedVariableIDs:ef,setRenamingModeGUID:eI.setRenamingModeGUID,setRenamingVariableID:eI.setRenamingVariableID,setSelectedVariableIDs:eI.setSelectedVariableIDs,variableSet:k,isShowingGuids:r,toggleEditVariableModal:eI.toggleEditVariableModal,setVariableValueForMode:eI.setVariableValueForMode}),eI.setRenamingVariableID&&n.createElement("div",{className:ei.qr},n.createElement(ee.fr,{recordingKey:"variablesModal",groups:eE,selectedGroup:eg[0],setRenamingVariableID:eI.setRenamingVariableID,variableSetID:k.node_id,setSelectedVariableID:eI.setSelectedVariableIDs}))):n.createElement(en.j,{recordingKey:"variablesModal",groups:eE,selectedGroup:eg[0],setRenamingVariableID:eI.setRenamingVariableID,setSelectedVariableID:eI.setSelectedVariableIDs,variableSetID:null==k?void 0:k.node_id}),(0,f.kc)().ds_variables_extended_sets&&k&&(0,U.GI)(k)?n.createElement("pre",{className:A.cx.maxH200.overflowAuto.$},JSON.stringify(eb,void 0,2)):null))),eT&&eA&&n.createElement(Q.Q,{allVariables:ey,contextMenuData:eA,hasGroups:eE.length>1,hideContextMenu:ew,onCreateGroup:eI.createGroup,onUngroup:eI.ungroup,onDuplicateVariables:eI.duplicateVariables,onDeleteEmptyGroup:y.lQ,onDeleteVariables:eI.deleteVariables,onSetAllVariablesSelected:y.lQ,toggleEditVariableModal:eI.toggleEditVariableModal,recordingKey:v.Pt("variablesModal","contextMenuDropdown")}),n.createElement(j.Q8,null))))},"VariablesModal",H.ZU.YES);function eh(){let e=(0,M.n)({type:e_}),t=(0,k.yp)();return(0,n.useCallback)(()=>{0===t.length&&R.l7.system("create-default-variable-set",()=>L.CWU.createVariableSet((0,C.t)("variables.authoring_modal.default_collection_name"),L.G6k.AUTOMATIC_FIRST_COLLECTION)),e()},[t.length,e])}},554905:(e,t,r)=>{"use strict";r.d(t,{Td:()=>i,eC:()=>a,hS:()=>o});var n=r(188507);function i(){return(0,n.d4)(e=>a(e))}function a(e){var t;return null!==e.openFile&&!(null==(t=e.openFile)?void 0:t.canEditCanvas)}let o=(0,r(529928).bt)(e=>a(e))},428764:(e,t,r)=>{"use strict";r.d(t,{L7:()=>g,Uy:()=>y,qg:()=>E,tG:()=>f});var n=r(411855),i=r(188507),a=r(228997),o=r.n(a),l=r(38580),s=r(646240),c=r(572206),d=r(662275),u=r(493536),p=r(237870),m=r(746806),_=r(585878),h=r(733976);let g=(0,l.eU)(!1),f=(0,l.eU)(void 0),E=(0,l.eU)(void 0);(0,l.eU)(void 0);let y=(0,p.Ju)(function(e){let t=(0,i.wA)(),[r,a]=n.useState(void 0);n.useEffect(()=>{fetch(e.walkthrough.positionInfoSignedUrl).then(e=>e.arrayBuffer()).then(e=>{let t=new Uint8Array(e);a(JSON.parse(new TextDecoder().decode(t)))})},[e.walkthrough]);let l=(0,s.Xr)(E),p=(0,s.Xr)(g),y=(0,s.Xr)(f),b=n.useRef(null),v=n.useRef(void 0),I=n.useCallback(()=>{if(!b.current||!r)return;let e=1e3*b.current.currentTime,t=o()(r,{...u.r,msSinceRecordingStart:e},e=>e.msSinceRecordingStart);t>=r.length&&(t=r.length-1),l(r[t])},[r,l]),T=n.useCallback(()=>{v.current=setInterval(I,u.c)},[I]),S=n.useCallback(()=>{clearInterval(v.current),v.current=void 0},[]),w=n.useCallback(()=>{T(),p(!0)},[T,p]),A=n.useCallback(()=>{S(),p(!1)},[S,p]),C=n.useCallback(()=>{I()},[I]);n.useEffect(()=>{p(!0),y(e.walkthrough.creator.handle)},[p,A,e.walkthrough.creator.handle,y]);let N=n.useCallback(()=>{A(),y(void 0),t(d.Ce())},[A,t,y]);return n.createElement(m.vx,{initialPosition:new c.Mi(window.screenX+240,0)},n.createElement(_.IZ,{title:"Spotlight Replay",onClose:N}),n.createElement("div",{className:h.rc},n.createElement("video",{className:h.b,src:e.walkthrough.userMediaSignedUrl,autoPlay:!0,controls:!0,controlsList:"nofullscreen nodownload noremoteplayback",preload:"metadata",height:"180px",width:"240px",onPlay:w,onPause:A,onTimeUpdate:C,ref:b})))},"AsyncWalkthroughReplayModal")},648834:(e,t,r)=>{"use strict";r.d(t,{_:()=>A});var n=r(411855),i=r(109388),a=r(188507),o=r(782754),l=r(752256),s=r(629019),c=r.n(s),d=r(776250),u=r(946689),p=r(135876),m=r(762638),_=r(881388),h=r(939863),g=r(113853),f=r(101505),E=r(877953),y=r(959232),b=r(776615),v=r(731078),I=r(488578),T=r(237870),S=r(781779),w=r(321112);let A=(0,T.Ju)(function(e){let t=(0,a.wA)(),r=(0,n.useContext)(b.uW),i=(0,a.d4)(e=>e.avatarEditorState),l=(0,E.C)("fpl_modal"),s=o.a.useModal(e);return n.createElement(p.x,{isLoading:i.status!==v.hv.POSITIONING},()=>n.createElement(N,{...e,fplModalManager:l?s:void 0,designTokens:r,avatarEditorState:i,dispatch:t}))},"AVATAR_EDITOR_MODAL",T.ZU.YES),C={CIRCLE:(e,t)=>{e.fillStyle=(null==t?void 0:t.colorBg)||S.RvK,e.beginPath(),e.moveTo(0,0),e.lineTo(200,0),e.lineTo(200,200),e.lineTo(0,200),e.lineTo(0,0),e.moveTo(0,100),e.arc(100,100,100,0,2*Math.PI,!0),e.fill(),e.restore()},SQUARE:e=>{e.fillStyle=S.RvK;let t=Math.floor(20),r=new Path2D;r.moveTo(10+t,10),r.lineTo(190-t,10),r.arcTo(190,10,190,10+t,t),r.lineTo(190,190-t),r.arcTo(190,190,190-t,190,t),r.lineTo(10+t,190),r.arcTo(10,190,10,190-t,t),r.lineTo(10,10+t),r.arcTo(10,10,10+t,10,t),r.moveTo(0,0),r.lineTo(200,0),r.lineTo(200,200),r.lineTo(0,200),r.lineTo(0,0),r.closePath(),e.fill(r,"evenodd"),e.restore()}};class N extends n.Component{constructor(){super(...arguments),this.mask=C[this.props.avatarEditorState.shape??"CIRCLE"],this.previewScale=0,this.previewOffset={x:100,y:100},this.canvasStyle={background:`url('${(0,y.A)()}')`,width:200,height:200,display:"block",margin:"20px auto 10px auto",cursor:"move"},this.dragStart=null,this.state={hasImageLoaded:!1,sliderScale:0},this.componentDidMount=async()=>{try{this.image=await this.loadImageFile(this.props.avatarEditorState.file)}catch{this.props.dispatch(_.s.error((0,h.t)("avatar_editor.an_error_occurred_while_loading_the_image"))),this.props.onClose();return}if(this.image.width<v.Pf.LARGE||this.image.height<v.Pf.LARGE){this.props.dispatch(_.s.error((0,h.t)("avatar_editor.your_profile_image_must_be_at_least_500_x500_px"))),this.props.onClose();return}this.setState({hasImageLoaded:!0})},this.startUpload=()=>{this.props.onClose();let e=this.props.avatarEditorState.entityType===v.ck.WORKSPACE?"image/png":"image/jpeg";this.props.dispatch(g.pI({entity:this.props.avatarEditorState.entity,entityType:this.props.avatarEditorState.entityType,small:(0,g.nx)((0,g._E)(this.image,v.Pf.SMALL,this.computeImagePosition(v.Pf.SMALL),e)),large:(0,g.nx)((0,g._E)(this.image,v.Pf.LARGE,this.computeImagePosition(v.Pf.LARGE),e)),contentType:e})),(0,d.sx)("Change Profile Picture")},this.loadImageFile=e=>{let t=new Image;return new Promise((r,n)=>{t.onerror=e=>{n(e)},t.onload=()=>{URL.revokeObjectURL(i),r(t)};let i=URL.createObjectURL(e);t.src=i})},this.mountCanvas=e=>{if(!e)return;this.ctx=e.getContext("2d");let t=window.devicePixelRatio||1;e.width=200*t,e.height=200*t,this.ctx.scale(t,t);let r=this.hasAlpha(this.image)?Math.max(this.image.width,this.image.height)*Math.SQRT2:Math.min(this.image.width,this.image.height);this.previewScale=200/r,this.renderCanvasContent()},this.onCanvasDown=e=>{let t=e.nativeEvent;0===t.button&&(e.preventDefault(),document.addEventListener("mousemove",this.onCanvasMove),document.addEventListener("mouseup",this.onCanvasUp),this.dragStart={x:t.pageX,y:t.pageY})},this.onCanvasMove=e=>{if(e.preventDefault(),this.dragStart){let t=this.dragStart;this.previewOffset.x+=e.pageX-t.x,this.previewOffset.y+=e.pageY-t.y,this.renderCanvasContent(),this.dragStart={x:e.pageX,y:e.pageY}}},this.onCanvasUp=e=>{e.preventDefault(),document.removeEventListener("mousemove",this.onCanvasMove),document.removeEventListener("mouseup",this.onCanvasMove),this.dragStart=null},this.buttonRef=e=>{if(e){let t=i.findDOMNode(e);this.props.fplModalManager?t.autofocus=!0:t.focus()}}}hasAlpha(e){return this.ctx.clearRect(0,0,200,200),this.ctx.drawImage(e,0,0,200,200),this.ctx.getImageData(0,0,1,1).data[3]<255}computeImageScaleFactor(e){return e=e??this.state.sliderScale,this.previewScale*Math.pow(100,e)}computeImagePosition(e){let t=e/200,r=this.computeImageScaleFactor()*t,n=this.image.width*r,i=this.image.height*r;return{x:this.previewOffset.x*t-n/2,y:this.previewOffset.y*t-i/2,width:n,height:i}}renderCanvasContent(){let e=this.ctx;e.clearRect(0,0,200,200);let t=this.computeImagePosition(200);e.drawImage(this.image,t.x,t.y,t.width,t.height),e.save(),this.mask(e,this.props.designTokens)}render(){return this.state.hasImageLoaded?this.props.fplModalManager?n.createElement(o.a.Root,{manager:this.props.fplModalManager,width:296},n.createElement(o.a.Contents,null,n.createElement(o.a.HiddenTitle,null,n.createElement(h.Tx,{id:"avatar_editor.modal_title"})),n.createElement(p.x,{isLoading:this.props.avatarEditorState.status!==v.hv.POSITIONING},()=>n.createElement(o.a.Body,null,n.createElement("div",{className:m.cx.flex.flexColumn.gap24.itemsCenter.$},n.createElement("canvas",{ref:this.mountCanvas,style:this.canvasStyle,onMouseDown:this.onCanvasDown}),n.createElement("div",{className:m.cx.itemSelfStretch.flex.gap16.itemsCenter.font20.$},n.createElement("span",{"aria-hidden":"true",className:m.cx.selectNone.$},"-"),n.createElement(l.A,{"aria-label":(0,h.t)("avatar_editor.scale"),min:-.5,max:1,step:.001,bigStep:.1,value:this.state.sliderScale,onChange:e=>{let t=this.computeImageScaleFactor(),r=this.computeImageScaleFactor(e);this.previewOffset.x+=(100-this.previewOffset.x)*(1-r/t),this.previewOffset.y+=(100-this.previewOffset.y)*(1-r/t),this.previewScale=Math.pow(100,e),this.setState({sliderScale:e},()=>{this.renderCanvasContent()})}}),n.createElement("span",{"aria-hidden":"true",className:m.cx.selectNone.$},"+")),n.createElement(u.vd,{onClick:this.startUpload,className:w.pL,ref:this.buttonRef,trackingProperties:{trackingDescriptor:f.c.SAVE_PROFILE_PICTURE}},n.createElement(h.Tx,{id:"avatar_editor.save_image"}))))))):n.createElement(I.aF,{size:296,className:w.yl,...this.props},n.createElement(p.x,{isLoading:this.props.avatarEditorState.status!==v.hv.POSITIONING},()=>n.createElement("div",{className:c()(w.jE,m.cx.flex.flexColumn.gap24.itemsCenter.$)},n.createElement("canvas",{ref:this.mountCanvas,style:this.canvasStyle,onMouseDown:this.onCanvasDown}),n.createElement("div",{className:m.cx.itemSelfStretch.flex.gap8.itemsCenter.font20.$},n.createElement("span",{"aria-hidden":"true",className:m.cx.selectNone.$},"-"),n.createElement(l.A,{"aria-label":(0,h.t)("avatar_editor.scale"),min:-.5,max:1,step:.001,bigStep:.1,value:this.state.sliderScale,onChange:e=>{let t=this.computeImageScaleFactor(),r=this.computeImageScaleFactor(e);this.previewOffset.x+=(100-this.previewOffset.x)*(1-r/t),this.previewOffset.y+=(100-this.previewOffset.y)*(1-r/t),this.previewScale=Math.pow(100,e),this.setState({sliderScale:e},()=>{this.renderCanvasContent()})}}),n.createElement("span",{"aria-hidden":"true",className:m.cx.selectNone.$},"+")),n.createElement(u.vd,{onClick:this.startUpload,ref:this.buttonRef,trackingProperties:{trackingDescriptor:f.c.SAVE_PROFILE_PICTURE}},n.createElement(h.Tx,{id:"avatar_editor.save_image"}))))):null}}N.displayName="AvatarEditorModal"},984226:(e,t,r)=>{"use strict";r.d(t,{f:()=>h});var n=r(411855),i=r(96328),a=r(574176),o=r(939863),l=r(547733),s=r(466636),c=r(555328),d=r(498606),u=r(794412),p=r(110354);function m(e){return n.createElement("div",{className:"detail_engagement_row--engagementItem--Kpp0Y","data-tooltip":e["data-tooltip"],"data-tooltip-type":e["data-tooltip-type"],"data-tooltip-show-immediately":e["data-tooltip-show-immediately"]},e.children)}function _(){return n.createElement("div",{className:"detail_engagement_row--engagementDivider--t0laO"})}function h({resource:e}){let t=e.unique_run_count??0,r=(0,c.PM)(e),h=(0,c.zF)(e),g=(()=>{if(r)return n.createElement(l.Cg,{resource:e});if(h)return n.createElement(l.Gb,null);let t=(0,s.Lt)({resource:e,payment:e.community_resource_payment});return e.monetized_resource_metadata&&t?n.createElement(l.sw,{metadata:e.monetized_resource_metadata}):null})(),f=(0,i.$M)(t),E=(0,i.$M)(e.like_count);return n.createElement("div",{className:"detail_engagement_row--detailEngagementRow--JLmtH"},n.createElement(m,{"data-tooltip":(0,o.t)("community.try.people_like_this",{numPeople:e.like_count,numPeopleStr:E}),"data-tooltip-type":d.Ib.TEXT},n.createElement(a.B,{svg:p.A}),E),n.createElement(_,null),n.createElement(m,{"data-tooltip":(0,o.t)("community.try.people_use_this",{numPeople:t,numPeopleStr:f}),"data-tooltip-type":d.Ib.TEXT},n.createElement(a.B,{svg:u.A}),f),!!g&&n.createElement(n.Fragment,null,n.createElement(_,null),n.createElement(m,null,g)))}},774620:(e,t,r)=>{"use strict";r.d(t,{K:()=>y});var n=r(411855),i=r(188507),a=r(563706),o=r(768137),l=r(799569),s=r(939863),c=r(175290),d=r(809840),u=r(970516),p=r(662275),m=r(4564),_=r(498606),h=r(237870),g=r(227795),f=r(488578),E=r(552899);let y=(0,h.Ju)(function(e){let{localPlugin:t}=e,r=(0,i.wA)(),{error:h}=t;if(!h)return null;let y=(0,m.M)(),b=!!(null==y?void 0:y.isCompatibleWith({desktopVersion:80})),v=a.Ay.mac?n.createElement(s.Tx,{id:"universal_insert.show_in_finder"}):n.createElement(s.Tx,{id:"universal_insert.show_in_explorer"});return n.createElement(f.aF,{size:"small",title:(0,s.t)("universal_insert.manifest_error_title")},n.createElement(l.s_,{dispatch:r}),n.createElement(c.Y,{direction:"vertical",spacing:16},n.createElement(c.Y,{direction:"horizontal",horizontalAlignItems:"space-between",width:"fill-parent",verticalAlignItems:"start",spacing:8},n.createElement(c.Y,{backgroundColor:"secondary",padding:4,width:"fill-parent",cornerRadius:3},n.createElement(d.E,{color:"secondary",fontSize:13,fontFamily:"monospace"},h.text)),n.createElement(g.K0,{svg:E.A,onClick:()=>{r(u.lW({stringToCopy:h.text}))},"data-tooltip-type":_.Ib.TEXT,"data-tooltip":(0,s.t)("inspect_panel.copy")})),n.createElement(c.Y,{width:"fill-parent",horizontalAlignItems:"end"},n.createElement(o.nR,{onClick:()=>r(p.Lo())},n.createElement(s.Tx,{id:"universal_insert.cancel"})),n.createElement(o.$$,{onClick:()=>{b?y.openExtensionManifest(t.localFileId):y.openExtensionDirectory(t.localFileId)}},b?n.createElement(s.Tx,{id:"universal_insert.edit_manifest"}):v))))},"DevelopmentResourceErrorModal")},927206:(e,t,r)=>{"use strict";r.d(t,{Vv:()=>h,cu:()=>E,ur:()=>g,xY:()=>f});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(946689),s=r(574176),c=r(939863),d=r(376441),u=r(498606),p=r(194490),m=r(471174),_=(e=>(e.AUTO="auto",e.CONSTRAINED="constrained",e))(_||{});function h(e){let t=(0,i.wA)(),r=n.useCallback(()=>{t(d.v({}))},[t]),a=e.width||"constrained",s=o()(p.x6,{[p.Jp]:"constrained"===a});return n.createElement("div",{"data-not-draggable":!0},n.createElement(l.nR,{onClick:r,className:s},e.children))}function g(){let e=(0,i.wA)(),t=n.useCallback(t=>{t.stopPropagation(),e(d.v({}))},[e]);return n.createElement("button",{className:p.qS,onClick:t},n.createElement(c.Tx,{id:"community.buyer.update_payment"}))}function f(){return n.createElement("div",{className:p.QW,"data-tooltip-type":u.Ib.TEXT,"data-tooltip":(0,c.t)("community.buyer.update_payment_info_to_retain_access")},n.createElement(s.B,{svg:m.A}))}function E(){return n.createElement("div",{className:p.cI,"data-not-draggable":!0},n.createElement("div",{className:p.QW},n.createElement(s.B,{svg:m.A})),n.createElement("div",{className:p.hI},n.createElement(c.Tx,{id:"community.buyer.update_payment_info"})),n.createElement("div",{className:p.JL},n.createElement(h,{width:"auto"},n.createElement(c.Tx,{id:"community.buyer.go_to_stripe"}))))}},389211:(e,t,r)=>{"use strict";r.d(t,{I5:()=>i,_N:()=>s,ol:()=>c,qY:()=>l,xb:()=>a,xf:()=>o});var n=r(411855);function i(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{d:"M12 15L6 20L12 25",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("path",{d:"M28 15L34 20L28 25",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("rect",{x:"22.2002",y:"10",width:"2",height:"20",transform:"rotate(18 22.2002 10)",fill:"black",fillOpacity:"0.9"}))}function a(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25 8H15V6H25V8ZM31 22C31 28.0751 26.0751 33 20 33C13.9249 33 9 28.0751 9 22C9 15.9249 13.9249 11 20 11C26.0751 11 31 15.9249 31 22ZM33 22C33 29.1797 27.1797 35 20 35C12.8203 35 7 29.1797 7 22C7 14.8203 12.8203 9 20 9C23.0804 9 25.9105 10.0714 28.1382 11.8618L31 9L34.5355 12.5355L31.3731 15.698C32.4097 17.5647 33 19.7134 33 22ZM21 22V14H19V22C19 22.5523 19.4477 23 20 23C20.5523 23 21 22.5523 21 22Z",fill:"black",fillOpacity:"0.9"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}))}function o(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 10C6 7.79086 7.79086 6 10 6H30C32.2091 6 34 7.79086 34 10V21.1632V30C34 32.2091 32.2091 34 30 34H14.3864H10C7.79086 34 6 32.2091 6 30V10ZM10 8C8.89543 8 8 8.89543 8 10V23.1195L13.7151 15.8804L14.4948 14.8927L15.2809 15.8753L20.7081 22.6594L25.9453 19.1679L26.6001 18.7314L27.1783 19.2652L32 23.716V21.1632V10C32 8.89543 31.1046 8 30 8H10ZM8 30V26.3472L14.5052 18.1073L19.7191 24.6247L20.2919 25.3406L21.0547 24.8321L26.3999 21.2686L32 26.4378V30C32 31.1046 31.1046 32 30 32H14.3864H10C8.89543 32 8 31.1046 8 30ZM24 17C25.6569 17 27 15.6569 27 14C27 12.3431 25.6569 11 24 11C22.3431 11 21 12.3431 21 14C21 15.6569 22.3431 17 24 17Z",fill:"black",fillOpacity:"0.9"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}))}function l(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6C7.79086 6 6 7.79086 6 10V30C6 32.2091 7.79086 34 10 34H14.3864H30C32.2091 34 34 32.2091 34 30V21.1632V10C34 7.79086 32.2091 6 30 6H10ZM8 10C8 8.89543 8.89543 8 10 8H30C31.1046 8 32 8.89543 32 10V14H8V10ZM8 16V30C8 31.1046 8.89543 32 10 32H14.3864H30C31.1046 32 32 31.1046 32 30V21.1632V16H8ZM13 11C13 12.1046 12.1046 13 11 13C9.89543 13 9 12.1046 9 11C9 9.89543 9.89543 9 11 9C12.1046 9 13 9.89543 13 11ZM17 19.9207V27.0793C17 27.4911 17.4435 27.7505 17.8024 27.5486L24.1657 23.9693C24.5316 23.7635 24.5316 23.2365 24.1657 23.0307L17.8024 19.4514C17.4435 19.2495 17 19.5088 17 19.9207Z",fill:"black",fillOpacity:"0.9"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}))}function s(){return n.createElement("svg",{width:40,height:40,fill:"none"},n.createElement("rect",{width:40,height:40,rx:8,fill:"#fff"}),n.createElement("rect",{x:.5,y:.5,width:39,height:39,rx:7.5,stroke:"#000",strokeOpacity:.2}),n.createElement("circle",{cx:16.5,cy:16.5,r:1.5,fill:"#000"}),n.createElement("circle",{cx:23.5,cy:16.5,r:1.5,fill:"#000"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.549 20H14.074C13.5 20 13 20.424 13 21a7.002 7.002 0 005.97 6.925c.218-.667.484-1.312.796-1.93A5.002 5.002 0 0115.1 22h7.674a14.038 14.038 0 012.775-2z",fill:"#000"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.28 19.28c-7.18 0-13 5.82-13 13 0 .241.006.481.019.72L33 19.299a13.15 13.15 0 00-.72-.02z",fill:"#000"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.34 30.92c-.439.052-.886.08-1.34.08-6.075 0-11-4.925-11-11S13.925 9 20 9s11 4.925 11 11c0 .454-.027.901-.08 1.34l2.06-2.06C32.606 12.434 26.938 7 20 7 12.82 7 7 12.82 7 20c0 6.938 5.435 12.606 12.28 12.98l2.06-2.06z",fill:"#000"}))}function c(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("rect",{x:"5",y:"17",width:"10",height:"6",rx:"2",stroke:"black",strokeWidth:"2"}),n.createElement("rect",{x:"24",y:"9",width:"10",height:"6",rx:"2",stroke:"black",strokeWidth:"2"}),n.createElement("rect",{x:"24",y:"25",width:"10",height:"6",rx:"2",stroke:"black",strokeWidth:"2"}),n.createElement("path",{d:"M15 20H15.5C17.7091 20 19.5 18.2091 19.5 16V16C19.5 13.7909 21.2909 12 23.5 12H24",stroke:"black",strokeWidth:"2"}),n.createElement("path",{d:"M15 20H15.5C17.7091 20 19.5 21.7909 19.5 24V24C19.5 26.2091 21.2909 28 23.5 28H24",stroke:"black",strokeWidth:"2"}))}},491815:(e,t,r)=>{"use strict";r.d(t,{DN:()=>w,H6:()=>W,HI:()=>P,Hb:()=>Y,SK:()=>k,Sp:()=>K,Td:()=>V,cX:()=>G,hY:()=>B,ik:()=>x,kD:()=>R,mS:()=>M,mk:()=>F,qZ:()=>H,s3:()=>L,t$:()=>D,wR:()=>O});var n=r(411855),i=r(188507),a=r(91408),o=r(794272),l=r(966712),s=r(572174),c=r(572206),d=r(939863),u=r(466636),p=r(395281),m=r(756085),_=r(875847),h=r(694687),g=r(860178),f=r(336599),E=r(106112),y=r(401730),b=r(376485),v=r(231472),I=r(811529),T=r(705129),S=r(860168);function w(e){let t=[(0,d.t)("whiteboard.inserts.search_placeholder_1"),(0,d.t)("whiteboard.inserts.search_placeholder_2"),(0,d.t)("whiteboard.inserts.search_placeholder_3"),(0,d.t)("whiteboard.inserts.search_placeholder_4"),(0,d.t)("whiteboard.inserts.search_placeholder_5"),(0,d.t)("whiteboard.inserts.search_placeholder_6"),(0,d.t)("whiteboard.inserts.search_placeholder_7"),(0,d.t)("whiteboard.inserts.search_placeholder_8")];return"en"===e&&(t=t.concat([(0,d.t)("whiteboard.inserts.search_placeholder_9"),(0,d.t)("whiteboard.inserts.search_placeholder_10"),(0,d.t)("whiteboard.inserts.search_placeholder_11"),(0,d.t)("whiteboard.inserts.search_placeholder_12")])),t[Math.floor(Math.random()*t.length)]}let A=(0,a.hG)(S.tui),C=(0,a.hG)(S.fWT),N=(0,a.hG)(S.nnJ),O=(0,a.hG)(S.i_6),L=(0,a.hG)(S.Yr1)+(0,a.hG)(S.Eg1)+5,R=(0,a.hG)(S.yUQ),P=(0,a.hG)(S.BuT),k=62,D=new c.Mi(O,O+A);function M(e,t,r){let n=e===v.t.PINNED_AND_DOCKED_LEFT&&window.innerWidth>=N?0:2*O+C,i=window.innerHeight-r-A-2*O-n;return e===v.t.PINNED_AND_DOCKED_LEFT?i:Math.min(t,i)}function x(e,t,r,n){let a=(0,i.d4)(e=>e.figjamDefaultInserts)[t],o=[];for(let n of a)r(n,e)&&("templates"===t?o.push({type:E.n.HubFile,template:n}):o.push(n));return e.push(...o),e.slice(0,n)}function F(e,t){let r=(0,n.useRef)(null),i=(0,n.useRef)(!1);return t.every(e=>!!e)&&!i.current&&(r.current=e,i.current=!0),null!==r.current?r.current:e}function U(e,t){let r=new Map(e.map(e=>{var r;return[e.key,(r=1e4*Math.sin(t++))-Math.floor(r)]}));return e.sort((e,t)=>{let n=r.get(e.key)||0,i=r.get(t.key)||0;return n>i?1:n<i?-1:0})}function B(){let e=(0,i.wA)(),{openFile:t,fileVersion:r,fileByKey:a,loadingState:s,library:c}=(0,o.R)(e=>({openFile:e.openFile,fileVersion:e.fileVersion,fileByKey:e.fileByKey,sceneGraphSelection:e.mirror.sceneGraphSelection,loadingState:e.loadingState,library:e.library})),d=(0,g.TA)()||"";n.useEffect(()=>{e(p.cr({shouldSearchDefaultLibraries:!0}))},[e]);let u=t&&r&&(0,f.Sc)(s,(0,T.yD)(t.key));n.useEffect(()=>{u&&e(p.zK({}))},[e,u]);let m=(0,_.T9)(null==t?void 0:t.project);return n.useMemo(()=>{let e;let r=(0,I.ff)(c,t,a,m),n=(0,I.Ld)(c,t,a,m),i=new Set(n.subscribedFiles.map(e=>e.key)),o=r.subscribedFiles.filter(e=>!i.has(e.key));e=window.location.origin.includes("staging.figma.com")?"3oeQNbicdVK70ytqmfZJhR":"AglYtWdfaNikShoD8HZ8pJ";let s=n.subscribedFiles.find(t=>t.key===e);if(s&&(0,l.kc)().figjam_ngima_stickers){let t=U(n.subscribedFiles.filter(t=>t.key!==e),parseInt(d)%1e3);t.unshift(s),n.subscribedFiles=t}else n.subscribedFiles=U(n.subscribedFiles,parseInt(d)%1e3);return{subscribedFiles:[...o,...n.subscribedFiles],fileKeyToSubscribedItems:{...r.fileKeyToSubscribedItems,...n.fileKeyToSubscribedItems}}},[c,t,a,m,d])}function H(){let e=(0,h.sZ)(),t=!!(e&&e.plugins_whitelist_enforced),r=!!(e&&e.widgets_whitelist_enforced);return!t&&!r}let V=n.createContext(null);function G(){return(0,s.sR)(n.useContext(V),"Must be wrapped within <FigJamBrowseResourceModalContext.Provider>")}function W(e){return e.filter(e=>e.editor_type===b.HK.UNIVERSAL||e.editor_type===b.HK.FIGJAM)}function K(){return j((0,m.ZT)(),(0,i.d4)(e=>e.communityPayments))}function Y(){return j((0,m.cW)(),(0,i.d4)(e=>e.communityPayments))}function j(e,t){return function(r){let n=e[r.plugin_id];if(!n||!n.monetized_resource_metadata)return!0;let i=t[n.monetized_resource_metadata.id]||n.community_resource_payment;return!i||!(0,u.WJ)(i,y.G3.PENDING)}}},157004:(e,t,r)=>{"use strict";r.d(t,{O:()=>_});var n=r(411855),i=r(629019),a=r.n(i),o=r(563706),l=r(153234),s=r(522739),c=r(574176),d=r(762638),u=r(939863),p=r(498606),m=r(41486);function _(e){return n.createElement(s.D8,{className:a()("pin_button--pinButton--FRpn1",{[d.cx.ml8.$]:!e.noMargin}),onClick:o.Ay.isIpad?void 0:e.setPinned,onPointerDown:t=>o.Ay.isIpad?e.setPinned():void 0,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,u.t)("whiteboard.inserts.dock_to_side"),recordingKey:l.Pt("universalInsert","pin"),dataTestId:"universal-insert-modal-popout-button","data-not-draggable":!0},n.createElement(c.B,{svg:m.A}))}},379928:(e,t,r)=>{"use strict";r.d(t,{I:()=>T,Q:()=>S});var n=r(411855),i=r(109388),a=r(188507),o=r(629019),l=r.n(o),s=r(522739),c=r(572206),d=r(986270),u=r(356390),p=r(852800),m=r(312167),_=r(860178),h=r(809073),g=r(498606),f=r(80332),E=r(634951),y=r(16774),b=r(936986),v=r(732519);function I({children:e,mini:t,user:r}){return t?n.createElement("div",{className:l()(v.HG,v.ET)},e):n.createElement("div",{"data-tooltip-type":g.Ib.TEXT,"data-tooltip":r.name||r.handle||"","data-tooltip-timeout-delay":"500","data-tooltip-show-below":!0,"data-tooltip-offset-y":"-20",className:l()(v.HG)},e)}function T({user:e,hideName:t,mini:r,searchQuery:i,triggeredFrom:o}){let l=e.hi_res_img_url||e.img_url,s=`${l}?c=1`,g=(0,f.$L)(e.id,f.us),b=(0,E.LL)(s,e.name||e.handle||"",g),T=(0,_.TA)(),N=(0,y.b)(),O=(0,a.wA)(),L=n.useCallback(()=>{O(d.F9({currentUserId:T??void 0,storeInRecentsKey:h.$A.FigJam,item:{id:e.id,user:e,type:h.vt.FaceStamp}}))},[T,O,e]),{dragState:R,onInsertableResourcePointerDown:P}=(0,m.Z)({icon:n.createElement("img",{src:b,className:v.iE,alt:`profile stamp for ${e.name}`}),insertAction:t=>{let{dropPosition:r,isClick:n,type:i}=t;if(n||"click"===i){let t=u.Y5.getViewportInfo();(0,E.xG)(b,t.offsetX,t.offsetY,e.id,"click",p.zkO.USER),L()}else{let n=t.pointerPercentageOffset?t.pointerPercentageOffset.x:0,i=t.pointerPercentageOffset?t.pointerPercentageOffset.y:0,a=new c.Mi(50,50),o=r.subtract(new c.Mi(n*a.x,i*a.y)).subtract(new c.Mi(5,5));(0,E.xG)(b,o.x,o.y,e.id,"drag",p.zkO.USER),L()}},clickToInsert:!r,afterSuccessfulInsert:N,resource:{id:e.id,name:e.name||"",img:b},triggeredFrom:o,searchQuery:i,mini:r});return r&&!b?null:n.createElement(I,{mini:r,user:e},b?n.createElement(n.Fragment,null,n.createElement(A,{stampImageUrl:b,username:e.name||"",onPointerDown:P,dragging:null!==R,mini:r}),n.createElement(C,{dragState:R,imageUrl:b}),!t&&n.createElement(w,{username:e.name||e.handle||""})):n.createElement(n.Fragment,null,n.createElement(S,{mini:r}),!t&&n.createElement(w,{username:""})))}function S({mini:e}={}){return n.createElement("div",{className:l()(v.HG,{[v.ET]:e,[v.M4]:!e})},n.createElement("div",{className:l()(v.eP,v.iE)}),!e&&n.createElement("div",{className:l()(v.t$,v.OP)}))}function w({username:e}){return n.createElement("div",{title:e,className:v.OP},e)}function A(e){return n.createElement(s.GG,{recordingKey:"facestamp",dataTestId:`facestamp-${e.username}${e.mini?"-mini":""}`,onPointerDown:e.onPointerDown},n.createElement("img",{draggable:!1,src:e.stampImageUrl,className:l()(v.iE,{[v.Jy]:e.dragging,[v.dG]:e.mini}),alt:`profile stamp for ${e.username}`}))}function C(e){var t;if(!(null==(t=e.dragState)?void 0:t.dragPosition)||!e.dragState.grabbedPointerPercentageOffset)return null;let r=function(){let{zoomScale:e}=u.Y5.getViewportInfo();return new c.Mi(50,50).scale(e)}(),a=e.dragState.dragPosition.subtract(new c.Mi(e.dragState.grabbedPointerPercentageOffset.x*r.x,e.dragState.grabbedPointerPercentageOffset.y*r.y));return(0,i.createPortal)(n.createElement("img",{alt:"",className:l()(b.$J,{[b.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:a.x,top:a.y,width:r.x,height:r.y},src:e.imageUrl}),document.getElementById("fullscreen-root"))}},465448:(e,t,r)=>{"use strict";r.d(t,{U5:()=>c,d0:()=>s,d2:()=>u,qK:()=>p});var n=r(411855),i=r(188507),a=r(720289),o=r(707465),l=r(809073);function s(){let e=!!(0,i.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.org}),t=(0,i.d4)(e=>(0,o.zg)(e.selectedView)&&!e.user);return!!(e&&!t)}function c(e,t=20){let r=u(e),a=(0,i.d4)(e=>e.faceStamps);return n.useMemo(()=>{let e=new Map;return r.forEach(t=>{e.set(t.id,t)}),a.forEach(t=>{e.set(t.id,t)}),Array.from(e.values()).slice(0,t)},[t,r,a])}let d=(e,t)=>(e.name||"").toLowerCase().includes(t.toLowerCase())||(e.handle||"").toLowerCase().includes(t.toLowerCase())||(e.email||"").toLowerCase().split("@")[0].includes(t.toLowerCase());function u(e){let t=(0,i.d4)(e=>e.recentlyUsed.faceStamps[l.$A.FigJam]);return n.useMemo(()=>t.map(e=>e.user).filter(t=>!e||d(t,e)),[t,e])}function p(){let e=(0,i.d4)(e=>e.recentlyUsed.faceStamps),t=s(),r=(0,a.o)();return n.useMemo(()=>r&&t?e.figjam.map(e=>e.user):[],[r,e,t])}},391926:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var n=r(411855),i=r(522739);function a({text:e,description:t,onClick:r,onPointerDown:a,iconComponent:o,recordingKey:l,rightCaret:s}){return n.createElement(i.GG,{recordingKey:l,dataTestId:l,onClick:r,onPointerDown:a,className:"native_figjam_action_block--optionContainer--PAZPH"},n.createElement("div",{className:"native_figjam_action_block--actionBlockLeftSide--lGAtd native_figjam_action_block--actionBlockRightSide--lUQRE"},n.createElement("div",{className:"native_figjam_action_block--iconComponent--nQLDP"},o)),n.createElement("div",{className:"native_figjam_action_block--actionBlockRightSide--lUQRE"},n.createElement("div",{className:"native_figjam_action_block--textRow--yGuij"},n.createElement("div",{className:"native_figjam_action_block--text--S9XDd text--fontPos13--xW8hS text--_fontBase--QdLsd"},e)),n.createElement("div",{className:"native_figjam_action_block--description--FdkF2 text--fontPos11--2LvXf text--_fontBase--QdLsd"},t)),s&&n.createElement("svg",{className:"native_figjam_action_block--rightCaret--mk9xP",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.46967 2.46967L0.96967 6.96967L2.03033 8.03033L6 4.06066L9.96967 8.03033L11.0303 6.96967L6.53033 2.46967L6 1.93934L5.46967 2.46967Z",fill:"black"})))}},416333:(e,t,r)=>{"use strict";r.d(t,{j6:()=>ea,G0:()=>es,fQ:()=>ec,l7:()=>eo,Sn:()=>ei,Ox:()=>en,vh:()=>et,ue:()=>er,m_:()=>el,qX:()=>ee});var n=r(411855),i=r(188507),a=r(153234),o=r(939863),l=r(738274),s=r(662275),c=r(986270),d=r(852800),u=r(662531),p=r(737499),m=r(109388),_=r(629019),h=r.n(_),g=r(936986);function f(e){var t,r;if(!(null==(t=e.dragState)?void 0:t.dragPosition)||!(null==(r=e.dragState)?void 0:r.dragOffset))return null;let i=e.dragState.dragPosition.subtract(e.dragState.dragOffset);return(0,m.createPortal)(n.createElement("div",{className:h()(g.Az,{[g.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:i.x,top:i.y,width:e.dragState.draggingThumbSize.x,height:e.dragState.draggingThumbSize.y}},e.icon),document.getElementById("fullscreen-root"))}var E=r(596256),y=r(964937),b=r(809831),v=r(960887),I=r(57150),T=r(867795),S=r(161405);function w(e){let t="whiteboard"===(0,b.lg)(),r=(0,S.F5)(),n=async n=>(e.insertAction(n),t&&(0,S.oM)({type:T.p.MORE,id:e.resource,source:e.triggeredFrom,options:{...r,query:e.searchQuery}}),await Promise.resolve());return(0,v.t)(e,{insertAction:n,dragPreviewPointerPosition:I.N.CENTERED,getDragPreviewSrc:()=>"data:image/svg+xml;utf8,"+(0,y.F)(e.icon),recordingKey:a.Pt("more",e.resource.toLowerCase())})}var A=r(831236),C=r(288300),N=r(809073),O=r(389211),L=r(391926),R=r(16774),P=r(501972),k=r(813648),D=r(237870),M=r(746806),x=r(620597),F=r(984064);let U="delightful-toolbar-media-button",B="InsertMediaModal",H=(0,D.Ju)(function(){let e=(0,i.wA)(),t=(0,i.d4)(e=>{var t,r;return!!(null==(r=null==(t=e.modalShown)?void 0:t.data)?void 0:r.shouldMountCenter)}),r=n.useRef(null),a=t?{kind:"mountCenter"}:{kind:"buttonTarget",buttonTarget:U},{initialModalPosition:l,modalPosition:c,setModalPosition:u}=(0,k.ts)(a,157,320),p=n.useCallback(()=>{d.glU.triggerAction("set-tool-default",null),e(s.ES({type:B}))},[e]),_=n.useCallback(e=>{u(e)},[u]),h=!c||!!(null==l?void 0:l.equals(c));return(n.useEffect(()=>{let e=e=>{var t;let n=m.findDOMNode(null==(t=r.current)?void 0:t.getEl()),i=(0,P.Tc)(U);if(!n||!i)return;let a=n.contains(e.target),o=i.contains(e.target);!h||a||o||p()};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[p,h]),l)?n.createElement(M.vx,{ref:r,initialPosition:l,initialWidth:320,title:(0,o.t)("whiteboard.embeds.insert_embed_modal.title"),onClose:p,onDragStart:()=>d.glU.triggerActionInUserEditScope("set-tool-default",null),onDragEnd:_,dragHeaderOnly:!0,arrowRelativeX:t?void 0:160,arrowPosition:M.F_.BOTTOM,smallArrow:!0,containerClassName:F.jT,headerClassName:F.N1,isFigJam:!0},n.createElement("div",{className:F.hQ,"data-testid":"insert-media-modal"},n.createElement(x.q,{onSuccess:p}))):null},B);var V=r(511080),G=r(972283),W=r(487392),K=r(491815);let Y=V.PW(),j=V.Ch(),z=V.oV(),$=V.aO(),Z=O.I5(),q=O.xb(),J=O.xf(),X=O.qY(),Q=O.ol();function ee(e){let t=function(e){switch(e){case"Table":return d.NLJ.TABLE;case"CodeBlock":return d.NLJ.CODE_BLOCK;case"MindMap":return d.NLJ.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS;case"Text":return d.NLJ.TYPE;case"Section":return d.NLJ.SECTION;default:throw Error(`Unknown tool: ${e}`)}}(e);return e=>{let{dropPosition:r,isClick:n}=e;n?u.l7.user("click-insert-tool",()=>d.glU.createNodeAtViewportCenterFromTool(t)):u.l7.user("drag-insert-tool",()=>d.glU.createNodeFromTool(t,r.x,r.y))}}function et(){let e=(0,R.b)(),t=(0,i.wA)(),r=(0,i.d4)(e=>{var t;return null==(t=e.user)?void 0:t.id}),{currentTab:l,searchQuery:s}=(0,K.cX)(),d=()=>{t(c.ay({currentUserId:r,storeInRecentsKey:N.$A.FigJam,item:{id:"Table",type:N.vt.WhiteboardTool}})),e()},{dragState:u,onInsertableResourcePointerDown:p}=(0,A.fo)({resource:"Table",insertAction:e=>{ee("Table")(e),d()},clickToInsert:!0,afterSuccessfulInsert:d,triggeredFrom:(0,C.V)(l),searchQuery:s});return n.createElement(n.Fragment,null,n.createElement(L.t,{text:(0,o.t)("whiteboard.inserts.table_title"),description:(0,o.t)("whiteboard.inserts.table_description"),onPointerDown:p,iconComponent:Y,recordingKey:a.Pt("inserts","more","table")}),n.createElement(E.I,{dragState:u}))}function er(){let e=(0,R.b)(),{currentTab:t,searchQuery:r}=(0,K.cX)(),i=()=>{e()},{dragState:l,onInsertableResourcePointerDown:s}=(0,A.fo)({resource:"Text",insertAction:e=>{ee("Text")(e),i()},clickToInsert:!0,afterSuccessfulInsert:i,triggeredFrom:(0,C.V)(t),searchQuery:r,icon:j});return n.createElement(n.Fragment,null,n.createElement(L.t,{text:(0,o.t)("whiteboard.inserts.text_title"),description:(0,o.t)("whiteboard.inserts.text_description"),onPointerDown:s,iconComponent:j,recordingKey:a.Pt("inserts","more","text")}),n.createElement(E.I,{dragState:l,icon:j}))}function en(){let e=(0,R.b)();return n.createElement(n.Fragment,null,n.createElement(L.t,{text:(0,o.t)("whiteboard.inserts.stamp_title"),description:(0,o.t)("whiteboard.inserts.stamp_description"),onPointerDown:()=>{(0,G.AH)({source:"figjam_universal_inserts"}),e()},iconComponent:z,recordingKey:a.Pt("inserts","more","stamp")}))}function ei(){let e=(0,R.b)(),{currentTab:t,searchQuery:r}=(0,K.cX)(),i=()=>{e()},{dragState:l,onInsertableResourcePointerDown:s}=(0,A.fo)({resource:"Section",insertAction:e=>{ee("Section")(e),i()},clickToInsert:!0,afterSuccessfulInsert:i,triggeredFrom:(0,C.V)(t),searchQuery:r,icon:$});return n.createElement(n.Fragment,null,n.createElement(L.t,{text:(0,o.t)("whiteboard.inserts.section_title"),description:(0,o.t)("whiteboard.inserts.section_description"),onPointerDown:s,iconComponent:$,recordingKey:a.Pt("inserts","more","section")}),n.createElement(E.I,{dragState:l,icon:$}))}function ea(){let e=(0,R.b)(),t=(0,i.wA)(),r=(0,i.d4)(e=>{var t;return null==(t=e.user)?void 0:t.id}),{currentTab:l,searchQuery:s}=(0,K.cX)(),d=()=>{t(c.ay({currentUserId:r,storeInRecentsKey:N.$A.FigJam,item:{id:"CodeBlock",type:N.vt.WhiteboardTool}})),e()},{dragState:u,onInsertableResourcePointerDown:p}=(0,A.fo)({resource:"CodeBlock",insertAction:e=>{ee("CodeBlock")(e),d()},clickToInsert:!0,afterSuccessfulInsert:d,triggeredFrom:(0,C.V)(l),searchQuery:s});return n.createElement(n.Fragment,null,n.createElement(L.t,{text:(0,o.t)("whiteboard.inserts.code_block_title"),description:(0,o.t)("whiteboard.inserts.code_block_description"),onPointerDown:p,iconComponent:Z,recordingKey:a.Pt("inserts","more","codeBlock")}),n.createElement(E.I,{dragState:u}))}function eo(){let e=(0,R.b)(),t=(0,i.wA)(),r=(0,i.d4)(e=>{var t;return null==(t=e.user)?void 0:t.id}),{currentTab:l,searchQuery:s}=(0,K.cX)(),d=()=>{t(c.ay({currentUserId:r,storeInRecentsKey:N.$A.FigJam,item:{id:"MindMap",type:N.vt.WhiteboardTool}})),e()},p=u.nc.user("insert-mindmap",e=>{ee("MindMap")(e),d()}),{dragState:m,onInsertableResourcePointerDown:_}=(0,A.fo)({resource:"MindMap",insertAction:p,clickToInsert:!0,afterSuccessfulInsert:d,triggeredFrom:(0,C.V)(l),searchQuery:s});return n.createElement(n.Fragment,null,n.createElement(L.t,{text:(0,o.t)("whiteboard.inserts.mind_map_title"),description:(0,o.t)("whiteboard.inserts.mind_map_description"),onPointerDown:_,iconComponent:Q,recordingKey:a.Pt("inserts","more","mindMap")}),n.createElement(E.I,{dragState:m}))}function el(){let e=(0,R.b)(),{currentTab:t,searchQuery:r}=(0,K.cX)(),i=(0,W.MR)(),{dragState:l,onInsertableResourcePointerDown:s}=w({resource:"Timer",icon:q,insertAction:()=>{i({source:W.OO.INSERTS_MENU}),e()},clickToInsert:!0,afterSuccessfulInsert:e,triggeredFrom:(0,C.V)(t),searchQuery:r});return n.createElement(n.Fragment,null,n.createElement(L.t,{text:(0,o.t)("whiteboard.inserts.timer_title"),description:(0,o.t)("whiteboard.inserts.timer_description"),onPointerDown:s,iconComponent:q,recordingKey:a.Pt("inserts","more","timer")}),n.createElement(f,{icon:q,dragState:l}))}function es(){var e;let t=(0,i.wA)(),r=(0,R.b)(),{currentTab:s,searchQuery:c}=(0,K.cX)(),u=()=>{d.glU.triggerAction("set-tool-default",null),d.glU.triggerAction("place",{source:"MEDIA_MODAL"}),t(l.qC({open:!0})),r()},{dragState:m,onInsertableResourcePointerDown:_}=w({resource:"Image",icon:J,insertAction:u,clickToInsert:!0,afterSuccessfulInsert:r,triggeredFrom:(0,C.V)(s),searchQuery:c}),h=!(null==(e=(0,p.BI)())?void 0:e.shouldOptimizeForIpadApp);return n.createElement(n.Fragment,null,n.createElement(L.t,{text:(0,o.t)("whiteboard.inserts.media_title"),description:(0,o.t)("whiteboard.inserts.media_description"),onPointerDown:h?_:void 0,onClick:h?void 0:u,iconComponent:J,recordingKey:a.Pt("inserts","more","images")}),n.createElement(f,{icon:J,dragState:m}))}function ec(){let e=(0,i.wA)(),t=(0,R.b)(),{currentTab:r,searchQuery:l}=(0,K.cX)(),{dragState:c,onInsertableResourcePointerDown:u}=w({resource:"Link",icon:X,insertAction:()=>{d.glU.triggerAction("set-tool-default",null),e(s.$O({type:H.type,data:{shouldMountCenter:!0}})),t()},clickToInsert:!0,afterSuccessfulInsert:t,triggeredFrom:(0,C.V)(r),searchQuery:l});return n.createElement(n.Fragment,null,n.createElement(L.t,{text:(0,o.t)("whiteboard.inserts.links_title"),description:(0,o.t)("whiteboard.inserts.links_description"),onPointerDown:u,iconComponent:X,recordingKey:a.Pt("inserts","more","links")}),n.createElement(f,{icon:X,dragState:c}))}},16774:(e,t,r)=>{"use strict";r.d(t,{b:()=>l});var n=r(188507),i=r(801161),a=r(813648),o=r(231472);function l(e){let t=(0,n.d4)(e=>e.universalInsertModal),r=(0,a.LR)(),l=(0,n.wA)();return()=>{t.pinned===o.t.NOT_PINNED&&(r(),(null==e?void 0:e.hideTooltips)&&l(i.jD()))}}},148009:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var n=r(188507),i=r(226055),a=r(231472);function o(){let e=(0,i.GS)(),t=(0,n.d4)(({universalInsertModal:{pinned:e}})=>e===a.t.NOT_PINNED);return!e&&t}},172226:(e,t,r)=>{"use strict";r.d(t,{ak:()=>U,cH:()=>B,xl:()=>F});var n=r(411855),i=r(188507),a=r(966712),o=r(812115),l=r(268537),s=r(210954),c=r(493323),d=r(827586),u=r(574176),p=r(939863),m=r(71425),_=r(941381),h=r(662275),g=r(672517),f=r(756085),E=r(269167),y=r(170786),b=r(813648),v=r(318812),I=r(737499),T=r(336599),S=r(215822),w=r(288300),A=r(555328),C=r(237870),N=r(96557),O=r(720488),L=r(984226),R=r(927206),P=r(491815),k=r(16774),D=r(488578),M=r(687348),x=r(270951);function F(e){let t=(0,i.d4)(e=>e.universalInsertModal),r=e.id,m=(0,i.d4)(e=>e.publishedWidgets[r]),C=(0,E.gn)(m),D=(0,i.wA)(),F=Object.values((0,f.yQ)()).find(t=>t.plugin_id===e.id),H=!!(0,f.bh)().find(t=>t.id===e.id)&&!F,V=(0,i.d4)(e=>{var t,r;return null==(r=null==(t=e.dropdownShown)?void 0:t.data)?void 0:r.targetRect}),G=(0,v.U)(),W=(null==G?void 0:G.type)===B&&G.data.widgetId===r,K=(0,P.cX)().currentTab,Y=(0,w.V)(K),j=(0,I.Kx)(),z=(null==j?void 0:j.shouldOptimizeForIpadApp)||(0,a.kc)().cmty_m10n_test_apple_os;n.useEffect(()=>{m||D(_.af({id:r,resourceType:A.bD.WIDGET}))},[r,D,m]);let $=(0,k.b)();if((0,T.oh)(_.af.loadingKeyForPayload({id:r,resourceType:A.bD.WIDGET}))&&!m)return n.createElement(c.kt,{className:M.S});if(!m)return null;let Z=(0,S.uF)(m);return n.createElement(g.fu,{name:"detail",properties:{resourceId:e.id,isMonetized:(0,A.m3)(m),resourceType:A.bD.WIDGET,editorType:"figjam"}},n.createElement(d.P,{height:(0,P.mS)(t.pinned,500,P.s3)},n.createElement("div",{className:M.tJ},C&&n.createElement(R.cu,null),n.createElement("img",{className:e.onInsertableWidgetMouseDown?void 0:M.VM,onMouseDown:t=>{var r;return null==(r=e.onInsertableWidgetMouseDown)?void 0:r.call(e,t,Z)},src:Z.redirect_cover_image_url||"",alt:`${Z.name}`,width:b.gR,height:b.gR/2}),n.createElement("div",{className:M.oQ},n.createElement(L.f,{resource:m})),n.createElement("div",{className:M.h_},n.createElement(o.R,{fallback:null,errorFallback:null,value:Z.description})))),!z&&n.createElement(s.N,{className:M.P0,href:`/community/widget/${r}`,target:"_blank",trusted:!0},n.createElement(u.B,{svg:x.A,className:M.JX}),n.createElement(p.Tx,{id:"whiteboard.inserts.see_more_details_in_community"})),W&&V&&n.createElement(O.Cf,{targetRect:V,lean:"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},(null==F?void 0:F.error)||H?n.createElement(l.W.Option,{onClick:()=>{F&&F.error?D((0,h.to)({type:N.r,data:{error:F.error,dispatch:D,resourceType:A.bD.WIDGET},showModalsBeneath:!0})):D((0,h.to)({type:U,data:{dispatch:D},showModalsBeneath:!0}))}},n.createElement(p.Tx,{id:"whiteboard.inserts.in_development_version_error_dropdown"})):n.createElement(l.W.Option,{onClick:()=>{(0,y.j)({pluginID:Z.plugin_id,widgetName:Z.name,pluginVersionID:"",triggeredFrom:Y}),$()}},n.createElement(p.Tx,{id:"whiteboard.inserts.in_development_version_dropdown"})),n.createElement(l.W.Option,{onClick:()=>{(0,y.j)({pluginID:Z.plugin_id,widgetName:Z.name,pluginVersionID:Z.id,triggeredFrom:Y}),$()}},n.createElement(p.Tx,{id:"whiteboard.inserts.published_version_dropdown"}))))}let U=(0,C.Ju)(function({dispatch:e}){return n.createElement(D.Rw,{confirmationTitle:(0,p.t)("whiteboard.inserts.widget_development_error_modal_title"),content:(0,p.t)("whiteboard.inserts.widget_development_error_modal_description"),onConfirm:()=>{e((0,m.JZ)({resourceType:"widget"})),e(h.Lo())},confirmText:(0,p.t)("whiteboard.inserts.widget_development_import_manifest"),size:"small",disableClickOutsideToHide:!0,hideOnConfirm:!1,cancelText:(0,p.t)("whiteboard.inserts.widget_development_error_modal_close"),hideCancel:!1,popStack:!0})},"FigjamPublishedDevelopmentWidgetErrorModal",C.ZU.YES),B="DROPDOWN_TYPE_WIDGET_DETAIL_SUBMENU"},632788:(e,t,r)=>{"use strict";r.d(t,{EJ:()=>D,Gq:()=>P,NR:()=>O,T9:()=>x,_n:()=>k,lD:()=>F,ms:()=>U,yW:()=>M});var n=r(411855),i=r(188507),a=r(517333),o=r(966712),l=r(268537),s=r(939863),c=r(71425),d=r(970516),u=r(662275),p=r(884484),m=r(756085),_=r(170786),h=r(813648),g=r(318812),f=r(694687),E=r(215822),y=r(555328),b=r(376485),v=r(18993),I=r(400466),T=r(96557),S=r(350913),w=r(507956),A=r(206074),C=r(720488),N=r(172226);function O(e){let t=(0,i.wA)(),r=(0,m.ZT)()[e.widgetId],o=(0,E.uF)(r),c=(0,m.WK)(e.widgetId),d=(0,m.Ud)(e.widgetId),p=a.eD&&!!d&&!c;return n.createElement(C.Cf,{targetRect:e.targetRect,lean:e.lean||"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},(null==c?void 0:c.error)||p?n.createElement(l.W.Option,{onClick:()=>{c&&c.error?t((0,u.to)({type:T.r,data:{error:c.error,dispatch:t,resourceType:y.bD.WIDGET},showModalsBeneath:!0})):t((0,u.to)({type:N.ak,data:{dispatch:t},showModalsBeneath:!0}))}},"\u26A0 ",n.createElement(s.Tx,{id:"universal_insert.in_development_version"})):n.createElement(l.W.Option,{onClick:()=>{(0,_.j)({pluginID:o.plugin_id,widgetName:o.name,pluginVersionID:"",triggeredFrom:"universal-insert"})}},n.createElement(s.Tx,{id:"universal_insert.in_development_version"})),n.createElement(l.W.Option,{onClick:()=>{(0,_.j)({pluginID:o.plugin_id,widgetName:o.name,pluginVersionID:o.id,triggeredFrom:"universal-insert"})}},n.createElement(s.Tx,{id:"universal_insert.published_version"})))}function L({pluginId:e,preferences:t}){let{pinnedPlugins:r,pinPlugin:n,unpinPlugin:i}=t;return r.find(t=>t.plugin_id===e)?{displayText:(0,s.t)("dev_handoff.inspect_panel.unpin"),callback:()=>{i(e)}}:{displayText:(0,s.t)("dev_handoff.inspect_panel.pin"),callback:()=>{n(e)}}}function R({plugin:e}){let{callback:t,isPluginSetToAutoRun:r}=(0,v.bE)(e??null);return(0,v.aY)(e)&&(0,o.kc)().dev_mode_auto_run_plugin?{displayText:(0,s.t)("dev_handoff.inspect_panel.auto_run"),callback:t,isChecked:r}:null}function P(e){let t=(0,i.wA)(),r=(0,g.U)(),a=(0,w.ks)(),o=(0,I.VR)(),l=(0,f.sZ)(),c=(0,m.ll)(),u=R({plugin:e.plugin}),p=n.useCallback(()=>{t(d.S({url:e.resourceType===y.vt.PLUGIN?(0,S.ab)(e.resourceId):(0,S.ox)(e.resourceId)}))},[t,e.resourceType,e.resourceId]),_=[];return(e.resourceType===y.vt.PLUGIN&&((0,E.Th)(e.plugin,l,c)&&o.loaded&&_.push(L({pluginId:e.plugin.plugin_id,preferences:o})),u&&_.push(u)),_.push({displayText:(0,s.t)("universal_insert.copy_link"),callback:p}),r)?a?n.createElement(U,{parentRect:null==r?void 0:r.data.targetRect,items:_,autoHeight:!0,minWidth:u?220:void 0}):n.createElement(U,{parentRect:null==r?void 0:r.data.targetRect,lean:"left",minWidth:64,items:_}):null}let k="DROPDOWN_TYPE_SAVED_AND_RECENT_ACTIONS_DROPDOWN";function D(e){let t=(0,g.U)(),r=(0,I.VR)(),i=(0,w.ks)(),a=(0,f.sZ)(),o=(0,m.ll)(),l=R({plugin:e.plugin}),c=[];return(c.push({displayText:(0,s.t)("universal_insert.view_details"),callback:e.viewResource}),i&&((0,E.Th)(e.plugin,a,o)&&r.loaded&&c.push(L({pluginId:e.plugin.plugin_id,preferences:r})),l&&c.push(l)),t)?i?n.createElement(U,{parentRect:null==t?void 0:t.data.targetRect,lean:"left",minWidth:64,items:c,autoHeight:!0}):n.createElement(U,{parentRect:null==t?void 0:t.data.targetRect,lean:"left",minWidth:64,items:c}):null}let M="DROPDOWN_TYPE_PLUGIN_USER_OPTIONS_DROPDOWN";function x(e){var t;if(!e.localResource&&!e.publishedResource)throw Error("Either localResource or publishedResource is required");let r=(0,w.ks)(),a=(0,i.wA)(),o=(0,g.U)(),l=Object.values((0,m.$1)()).find(t=>{var r;return t.plugin_id===(null==(r=e.publishedResource)?void 0:r.id)}),d=(0,I.VR)(),u=R({plugin:e.publishedResource?(0,E.uF)(e.publishedResource):null}),_=e.localResource||l,f=(0,m.B7)(_?_.plugin_id:e.publishedResource.id),y=(0,m.Ud)(_?_.plugin_id:e.publishedResource.id),v=e.publishedResource||f||y,T=!!(null==v?void 0:v.versions[v.current_plugin_version_id]),S=v?v.is_widget:null==_?void 0:_.manifest.containsWidget,A=(0,h.LR)(),C=(0,p.NV)(_,v),N=(0,p.OX)(v),O=(0,p.x2)(_,v,A),P=(0,p.qu)(_),k=(0,p.qi)(T,()=>{_&&a(c.qR(null==_?void 0:_.localFileId))});if(!o||!o.data.targetRect)return null;let D=[];(_&&!_.error||v)&&D.push(C),T&&e.viewResource&&D.push({displayText:(0,s.t)("universal_insert.view_details"),callback:e.viewResource}),T&&D.push(O),_&&(null==(t=_.error)?void 0:t.type)!==b.ho.LOAD&&D.push(P),_||D.push({displayText:(0,s.t)("universal_insert.locate_local_version"),callback:()=>{(0,c.JZ)({resourceType:S?"widget":"plugin"})}});let M=[];v&&T&&d.loaded&&r&&M.push(L({pluginId:v.id,preferences:d})),T&&u&&M.push(u);let x=[];_&&x.push(k),N&&x.push(N);let F=D.some(Boolean)&&(x.some(Boolean)||M.some(Boolean))&&{displayText:"",separator:!0},B=x.some(Boolean)&&M.some(Boolean)&&{displayText:"",separator:!0};return n.createElement(U,{parentRect:o.data.targetRect,lean:"left",minWidth:u?220:120,rootAndSubmenuMaxWidth:u?void 0:190,disableDropdownScrollContainer:!0,hidePointWhenContentOffScreen:!0,dataTestId:"developmentResourceOptionDropdown",items:[...D,F,...M,B,...x].filter(e=>!!e)})}let F="DROPDOWN_TYPE_DEVELOPMENT_RESOURCE_OPTIONS_DROPDOWN";function U(e){let t=(0,i.wA)();return n.createElement(A.j,{...e,dispatch:t,showPoint:!0,type:C.it.DEFAULT,onSelectItem:e=>{e.callback&&e.callback("",null,t)}})}},760445:(e,t,r)=>{"use strict";r.d(t,{AN:()=>v,B0:()=>F,B6:()=>M,CF:()=>K,CG:()=>H,CK:()=>V,Ex:()=>G,IT:()=>U,Ix:()=>N,Kr:()=>S,NF:()=>x,Nh:()=>B,Xo:()=>P,Zm:()=>R,Zv:()=>O,dQ:()=>D,fO:()=>Y,ff:()=>w,gC:()=>T,kB:()=>W,np:()=>k,tS:()=>L,wR:()=>A});var n=r(411855),i=r(188507),a=r(91408),o=r(374626),l=r(572174),s=r(96328),c=r(572206),d=r(799569);r(762638);var u=r(939863),p=r(870505),m=r(372174),_=r(457630),h=r(231472);r(457689);var g=r(507956),f=r(56714),E=r(157004),y=r(148009),b=r(860168);r(179494);let v=(0,a.hG)(b.rDe),I=(0,a.hG)(b.SKA),T=(0,a.hG)(b.rZj),S=44,w=(0,a.hG)(b.wgS),A=(0,a.hG)(b.iah),C=(0,a.hG)(b.LdP),N=(0,a.hG)(b.paq),O="#toolbar-action-component-insert",L="#toolbelt-action-component-insert",R=6,P=10,k=0,D=1,M=2;function x(e){let t=V(),r=(0,g.ks)(),n=(0,i.d4)(e=>e.universalInsertModal.pinned),a=(0,o.md)(p.g);if(m.z4.getIsExtension())return a-A-e;if(r)return window.innerHeight-A-e;let l=window.innerHeight-t.y-A-e;return n===h.t.PINNED_AND_DOCKED_LEFT?l:Math.min(I-e,l)}let F=n.createContext(null);function U(){return(0,l.sR)(n.useContext(F),"Must be wrapped within <FdBrowseResourceModalContext.Provider>")}function B(e){var t;if(!e)return{x:A,y:A};let r=document.querySelector(L);if(r){let e=r.getBoundingClientRect(),t=e?(null==e?void 0:e.top)-I-6:C;return{x:(null==e?void 0:e.x)||284,y:t}}{let e=null==(t=document.querySelector(O))?void 0:t.getBoundingClientRect();return{x:(null==e?void 0:e.x)||284,y:(null==e?void 0:e.bottom)||C}}}function H(){let e=(0,i.d4)(e=>e.mirror.appModel.showUi),t=V(),[r,a]=n.useState(e?new c.Mi(284,C):t);return n.useLayoutEffect(()=>{let t=()=>{if(!e)return;let{x:t,y:n}=B(!0);(t&&r.x!==t||n&&r.y!==n)&&a(new c.Mi(t,n))};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[e,r.x,r.y]),n.useEffect(()=>{e||a(t)},[t,e]),r}function V(){let e=(0,_.ni)();return n.useMemo(()=>new c.Mi(e.x+A,e.y+A),[e.x,e.y])}function G({containerClassName:e}){let{closeModal:t,pinModal:r}=U(),i=(0,y.F)()?n.createElement(E.O,{setPinned:r}):n.createElement(d.Jn,{onClick:t});return n.createElement("div",{className:e},i)}function W(e){var t;if(!(null==(t=e.community_publishers)?void 0:t.accepted)||0===e.community_publishers.accepted.length)return"";let r=e.community_publishers.accepted[0].name;return 1===e.community_publishers.accepted.length?(0,u.t)("community.resource.by_creator",{spaceChar:" ",creator:r}):(0,u.t)("community.resource.by_more_than_2_creators",{spaceChar:" ",creator1:r,others:(0,u.t)("community.resource.by_x_others",{numPublishers:e.community_publishers.accepted.length-1})})}function K(e){let t=("community_publishers"in e?e.community_publishers??[]:[]).map(({profile:e})=>e).filter(e=>null!=e).map(e=>{var t,r,n;return(null==(t=e.user)?void 0:t.name)??(null==(r=e.team)?void 0:r.name)??(null==(n=e.org)?void 0:n.name)??""}),r=(0,f.cG)(e.plugin_id,t),n=r.length;if(0===n)return"";let i=r[0];return 1===n?(0,u.t)("community.resource.by_creator",{spaceChar:" ",creator:i}):(0,u.t)("community.resource.by_more_than_2_creators",{spaceChar:" ",creator1:i,others:(0,u.t)("community.resource.by_x_others",{numPublishers:n-1})})}function Y(e){let t=W(e),r=e.unique_run_count,n=(0,u.t)("community.try.people_use_this",{numPeople:r,numPeopleStr:(0,s.$M)(r)});return`${t}${r>0?` \xb7 ${n}`:""}`}},76158:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i,s:()=>n});var n=(e=>(e.COMPONENT="component",e.PLUGIN="plugin",e.WIDGET="widget",e))(n||{}),i=(e=>(e[e.MAIN=0]="MAIN",e[e.ORG_PRIVATE_EXPANDED_LIST=1]="ORG_PRIVATE_EXPANDED_LIST",e[e.ORG_ALLOWLIST_EXPANDED_LIST=2]="ORG_ALLOWLIST_EXPANDED_LIST",e))(i||{})},794321:(e,t,r)=>{"use strict";r.d(t,{Lz:()=>i,Og:()=>n,fD:()=>o,qy:()=>a});let n="Make Something Modal",i="Make something modal V2 dismissal interacted";var a=(e=>(e.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED="Make something modal V2 brainstorm template interacted",e.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED="Make something modal V2 team updates template interacted",e.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED="Make something modal V2 team chart template interacted",e.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED="Make something modal V2 planning ahead template interacted",e))(a||{}),o=(e=>(e.BRAINSTORM="BRAINSTORM",e.UPDATES="TEAM UPDATES",e.PLAN="PLANNING AHEAD",e.TEAM="TEAM CHART",e.NONE="NONE",e))(o||{})},27928:(e,t,r)=>{"use strict";r.d(t,{KF:()=>M,N$:()=>U,PH:()=>B});var n=r(411855),i=r(188507),a=r(935283),o=r(91408),l=r(951158),s=r(939863),c=r(662275),d=r(931828),u=r(140908),p=r(672517),m=r(178323),_=r(777078),h=r(988022),g=r(860178),f=r(820642),E=r(99506),y=r(106112),b=r(555328),v=r(809073),I=r(237870),T=r(488578),S=r(15839),w=r(342056),A=r(406094),C=r(998401),N=r(458602),O=r(938573),L=r(623009),R=r(900758),P=r(79132),k=r(860168),D=r(945892);function M(e,t){t.editorType=t.editorType||E._Y.WHITEBOARD,e(c.$O({type:B.type,data:t}))}function x(e){let t;let{onTemplateInsertedCurrentFile:r,onTemplateInsertedNewFile:o,hideModal:p}=e,h=(0,i.wA)(),E=n.useRef(null),I=(0,g.TA)(),{templates:T,categoryTitles:S,duplicateFile:w,fileKey:k,searchQuery:M,searchTemplatesResult:x,setSearchQuery:F,categoryIds:U,subcategories:H}=(0,P.bg)({source:"browse-templates-modal"}),V=T,{templates:G,categoryIds:W}=(0,P.bg)({templatesShelfType:b.cS.FIGJAM_SIMPLE_TEMPLATES_PICKER}),K={};W.reduce((e,t)=>(e[t]=(0,s.t)("browse_templates_modal_sidebar.get_started"),e),K);let Y={...S,...K},j=1===W.length&&(0,u.qO)(I);j&&(V={...G,...V});let[z,$]=n.useState(),[Z,q]=n.useState(),J=(0,l.Im)(V),X=z&&Object.values(V).find(e=>e.includes(z))||[],{insertTemplate:Q,isInsertingTemplate:ee}=(0,_.Fz)(),et=(0,i.d4)(e=>z?e.hubFiles[z]:null),er=n.useCallback(()=>{"newFile"===e.triggeredFrom&&h(d.b({figjam_templates_picker_new_file_closed:!0})),p?p():h(c.ES(B))},[e.triggeredFrom,h,p]),en=n.useCallback(()=>{r?r():er()},[r,er]);n.useEffect(()=>{let t=U.filter(t=>S[t]===e.initiallySelectedCategoryTitle);1===t.length&&q(t[0])},[U,S,e.initiallySelectedCategoryTitle]),n.useEffect(()=>{var e;null==(e=E.current)||e.scrollTo(0,0),z&&et&&(0,m._)("resource_previewed",{fileKey:k,resourceType:"template",resourceName:(0,f.a6)(et).name,resourceId:z,triggeredFrom:"browse-templates-modal",templateType:y.n.HubFile})},[z,k,et]);let ei=!M,ea=(0,_.b4)(),eo=(0,_.WS)(),el=e=>ee(e)||eo(e),es=t=>{if(e.templateInsertionLocation===f.RD.CURRENT_FILE)Q({template:t,onSuccess:en,triggeredFrom:"browse-templates-modal"});else{switch(t.type){case y.n.HubFile:w(t.template.id);break;case y.n.TeamTemplate:ea({templateIdentifier:{type:v.vt.TeamTemplate,file_key:t.template.file_key},templateName:t.template.name,openInNewTab:!0});break;default:(0,a.xb)(t)}null==o||o()}};return z?(t=n.createElement(C.h,{templateId:z,templateInsertionLocation:e.templateInsertionLocation,insertTemplate:es,isInsertingTemplate:el(z),moreTemplateIds:X,selectTemplate:$}),ei=!1):t=M?n.createElement(N.D,{searchQuery:M,hubFileResultIds:x,isInsertingTemplate:el,onInsertTemplate:es,onPreviewHubFileTemplate:$}):Z===O.L?n.createElement(R.PF,{insertTemplate:es,isInsertingTemplate:el,templateInsertionLocation:e.templateInsertionLocation}):J?n.createElement(n.Fragment,null):n.createElement(A.s,{templates:V,categoryIds:U,categoryTitles:Y,selectedCategory:Z,selectCategory:q,enterCommunityUrl:"/community/figjam",templateInsertionLocation:e.templateInsertionLocation,previewHubFile:$,onInsertTemplate:es,isInsertingTemplate:el}),n.createElement(n.Fragment,null,n.createElement(L.F,{editorType:e.editorType,triggeredFrom:e.triggeredFrom,searchQuery:M,setSearchQuery:F,previewTemplateId:z,goBack:()=>$(void 0),hideModal:er}),n.createElement("div",{className:D.jE,ref:E},ei&&n.createElement(O.J,{categoryIds:U,categoryTitles:Y,selectedCategory:Z,selectCategory:q,shouldShowMakeSomethingV2:j,makeSomethingCategoryId:j?W[0]:"",triggeredFrom:e.triggeredFrom,subcategories:H}),t))}function F(e){let t=(0,i.wA)(),{hideModal:r,hideTintedModalBackground:a}=e,l=n.useCallback(()=>{r?r():t(c.ES(B))},[t,r]),s="newFile"===e.triggeredFrom,d="whiteboard"===e.editorType?s?D.hW:D.sd:s?D.b8:D.yl,{properties:u,name:m}=(0,p.j6)();return n.createElement(T.aF,{className:d,backgroundClassName:s?D.XO:void 0,size:(0,o.hG)(k.jmC),onHide:()=>{(0,h.Cu)({...u,trackingContext:m,text:w.T}),l()},tintedModalBackground:!a},n.createElement(x,{...e}))}function U(e){let t=(0,i.d4)(e=>e.openFile?e.openFile.key:null);return n.createElement(p.fu,{name:"template_modal_shown",properties:{fileKey:t,source:e.triggeredFrom}},n.createElement(F,{...e}))}let B=(0,I.Ju)(U,"BrowseTemplatesModal"),H=(e=!0,t)=>({modalType:S.q3.WELCOME,trackingContextName:"Browse Templates Modal",element:r=>n.createElement(U,{editorType:E._Y.WHITEBOARD,templateInsertionLocation:f.RD.CURRENT_FILE,triggeredFrom:"newFile",hideModal:t?r.onClickPrimaryCta:r.dismissModal,hideTintedModalBackground:e})});H(),H(!0,!0),H(!1)},540292:(e,t,r)=>{"use strict";r.d(t,{AF:()=>x,Cm:()=>Y,G3:()=>K,Kt:()=>W,Pr:()=>F,iq:()=>k,mS:()=>D,tJ:()=>U});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(983405),s=r(935283),c=r(737947),d=r(499737),u=r(755887),p=r(860601),m=r(768137),_=r(268537),h=r(493323),g=r(762638),f=r(939863),E=r(970516),y=r(738269),b=r(988022),v=r(128765),I=r(27703),T=r(318812),S=r(820642),w=r(279453),A=r(106112),C=r(218934),N=r(554905),O=r(927625),L=r(555207),R=r(79132),P=r(945892);function k(e){return n.createElement("div",{className:P.sk},e.children)}function D({template:e}){var t,r;let i=(0,T.U)(),{primaryKey:a}=(0,v.fG)()(e);return(null==i?void 0:i.type)===R.hx&&(null==(t=null==i?void 0:i.data)?void 0:t.templatePrimaryKey)===a&&(null==(r=i.data)?void 0:r.position)?n.createElement(M,{template:e,position:i.data.position}):null}function M({template:e,position:t}){var r,a;let o=(0,i.wA)(),{viewSourceFileUrl:s,duplicateLink:u,primaryKey:p}=(0,v.fG)()(e),m=e.type===A.n.TeamTemplate,b=(0,d.Rs)(w.sMs,{key:p},{enabled:m});return n.createElement(_.W.Dropdown,{style:{...t,position:"fixed"}},n.createElement(_.W.Option,{onClick:()=>{o(y.oB()),o(E.S({url:u}))}},n.createElement(f.Tx,{id:"browse_templates_modal.context_menu.copy_link"})),s&&m&&n.createElement(_.W.Option,{onClick:()=>{o(y.oB()),c.Ay.redirect(s,"_blank")},disabled:"loading"===b.status||"disabled"===b.status||!(null==(a=null==(r=b.data)?void 0:r.file)?void 0:a.hasPermission)},n.createElement(l.Y1,{width:"fill-parent",horizontalAlignItems:"space-between",verticalAlignItems:"center",spacing:8},n.createElement("span",null,n.createElement(f.Tx,{id:"browse_templates_modal.context_menu.view_original_file"})),n.createElement(h.kt,{className:g.cx.if("loading"!==b.status,g.cx.invisible).$}))))}function x(e){let{clientMeta:t,imageUrl:r,thumbnailIsSet:i,isWhiteboard:a,name:o,publishers:l,hubFileId:s,resizedThumbnailUrls:c}=(0,v.fG)()(e.template),d=(0,R.jq)(e.template),u=(0,N.Td)();return n.createElement(n.Fragment,null,n.createElement(C.zq,{onContextMenu:d,image:n.createElement(C.FK,{backgroundColor:(0,I.Cn)(t)},n.createElement(C.zx.Cover,null,n.createElement("button",{className:P.n_,onClick:e.onInsert,disabled:e.isInsertingTemplate||u})),n.createElement(C.zx.Center,null,n.createElement(L.i,{insertTemplate:e.onInsert,isInsertingTemplate:e.isInsertingTemplate,shouldUseOpaqueBackground:!0},(0,S.Ve)(e.templateInsertionLocation))),n.createElement(O.Ho,{image:r,isSet:i,isWhiteboard:a,hubFileId:s,alt:o,resizedThumbnailUrls:c})),bottomRow:n.createElement(C.Wf.FullMetadata,{name:o,publishers:l,hoverText:e.onPreview?(0,f.t)("browse_templates_modal.view_details"):void 0,onClick:e.onPreview||p.lQ})}),n.createElement(D,{template:e.template}))}function F(e){let t=(0,i.d4)(t=>t.hubFiles[e.hubFileId]);return n.createElement(x,{template:{template:t,type:A.n.HubFile},onInsert:()=>e.onInsert({template:t,type:A.n.HubFile}),isInsertingTemplate:e.isInsertingTemplate,onPreview:e.previewHubFile,templateInsertionLocation:e.templateInsertionLocation})}function U({url:e,fileKey:t}){return n.createElement("a",{href:e,target:"_blank"},n.createElement(m.nR,{className:P._p,onClick:()=>{(0,b.Cu)({fileKey:t,uiSelectedView:"see_more_button",name:"Templates Modal Browse More"},"cta_clicked")}},n.createElement(f.Tx,{id:"browse_templates_modal_content.see_more_in_community"})))}function B(){return n.createElement("div",{className:g.cx.flex.itemsCenter.h40.my8.wFull.$},n.createElement(H,null))}function H(){return n.createElement("div",{className:o()(g.cx.w100.h16.bRadius3.$,P.Mm)})}function V({lightness:e="normal"}){let t=function(e){switch(e){case"normal":return P.Mm;case"light":return P.EQ;case"lightest":return P.Y;default:(0,s.xb)(e)}}(e);return n.createElement(C.zq,{image:n.createElement(C.FK,{removeBorder:!0},n.createElement("div",{className:o()(t,g.cx.wFull.hFull.$)})),bottomRow:n.createElement("div",{className:o()(t,g.cx.h16.w100.bRadius3.$)})})}function G({shouldFade:e}){return n.createElement(n.Fragment,null,(0,u.y1)(3).map(t=>{let r="normal";return e&&(r=2===t?"lightest":1===t?"light":"normal"),n.createElement(V,{key:t,lightness:r})}))}function W(){return n.createElement("div",{className:g.cx.px24.$},n.createElement(B,null),n.createElement(k,null,n.createElement(G,null),n.createElement(G,null),n.createElement(G,{shouldFade:!0})))}function K({shouldFade:e}){return n.createElement("div",{className:g.cx.pb20.$},n.createElement("div",{className:g.cx.h24.mb16.$},n.createElement(H,null)),n.createElement(k,null,n.createElement(G,{shouldFade:e})))}function Y(){return n.createElement(l.Y1,{width:"fill-parent",height:"fill-parent",verticalAlignItems:"center",horizontalAlignItems:"center"},n.createElement(h.kt,{size:"large"}))}},900758:(e,t,r)=>{"use strict";r.d(t,{DL:()=>S,PF:()=>A,Z0:()=>w});var n=r(411855),i=r(629019),a=r.n(i),o=r(717068),l=r(268537),s=r(428322),c=r(574176),d=r(762638),u=r(939863),p=r(175290),m=r(965480),_=r(694687),h=r(643067),g=r(106112),f=r(383986),E=r(143678),y=r(630028),b=r(540292),v=r(945892),I=r(949207),T=r(432023);function S({filterOptions:e,selectedIds:t,isMyTeamsOnly:r,onFilterChange:i,userTeamOrWorkspaceIds:a,showWorkspaces:s,rightAlignOptions:c=!0}){let _=new Set(t||e.map(e=>e.id)),h=[],g=[],y=[],b=!1;for(let t of e)_.has(t.id)&&y.push(t),(0,m.qI)(t)?b=!0:a.has(t.id)?h.push(t):g.push(t);(0,o.KQ)(h,"name"),(0,o.KQ)(g,"name");let v=h.filter(e=>_.has(e.id)),I=g.filter(e=>_.has(e.id)),T=function({filterOptionsCount:e,userMemberFilterOptionsSelected:t,userNonMemberFilterOptionsSelected:r,isMyTeamsOnly:n,showWorkspaces:i,unassignedTeamsSelected:a}){let o=[...t,...r],l=o.length+(a?1:0);return 0===l?(0,u.t)("browse_templates_modal.none_selected"):l===e?i?n?(0,u.t)("browse_templates_modal.my_teams_only"):(0,u.t)("browse_templates_modal.all_workspaces"):(0,u.t)("browse_templates_modal.all_teams"):1===l?a?(0,u.t)("browse_templates_modal.other_teams"):o[0].name:(0,u.t)("browse_templates_modal.first_name_count_more",{count:l-1,firstName:o[0].name})}({filterOptionsCount:e.length,userMemberFilterOptionsSelected:v,userNonMemberFilterOptionsSelected:I,showWorkspaces:s,isMyTeamsOnly:r,unassignedTeamsSelected:_.has(f.s)}),S=(e,t)=>{i({ids:e?y.reduce((e,r)=>r.id===t.id?e:[...e,r.id],[]):[...y.map(e=>e.id),t.id],myTeamsOnly:r})},w=(e,t)=>{let n=new Set(_);e.forEach(e=>{t?n.add(e.id):n.delete(e.id)}),i({ids:Array.from(n),myTeamsOnly:r})},A=[];if(s){if(A.push(...[...h,...g].filter(e=>!!e.id).map(e=>{let t=_.has(e.id);return n.createElement(l.W.CheckableOptionTrackable,{key:e.id||e.name,checked:t,onClick:()=>{S(t,e)},displayType:l.W.CheckableDisplayType.Checkbox},e.name)})),A.length&&A.unshift(n.createElement(l.W.Separator,{key:"my-teams-only-separator"})),A.unshift(n.createElement(l.W.CheckableOptionTrackable,{key:"my-teams-only",checked:r,onClick:()=>i({ids:t,myTeamsOnly:!r}),displayType:l.W.CheckableDisplayType.Checkmark},n.createElement(u.Tx,{id:"browse_templates_modal.my_teams_only"}))),b){let e=_.has(f.s);A.push(n.createElement(l.W.Separator,{key:"unassigned-teams-separator"}),n.createElement(l.W.CheckableOptionTrackable,{key:"unassigned-teams",checked:e,onClick:()=>{S(e,{id:f.s})},displayType:l.W.CheckableDisplayType.Checkbox},n.createElement(u.Tx,{id:"browse_templates_modal.other_teams"})))}}else h.length>0&&A.push(n.createElement(l.W.CheckableOptionTrackable,{displayType:l.W.CheckableDisplayType.Checkbox,key:"my-teams",checked:h.length===v.length,mixed:h.length>v.length&&v.length>0,onClick:()=>{w(h,v.length<h.length)}},n.createElement(u.Tx,{id:"browse_templates_modal.my_teams"}))),A.push(...h.map(e=>{let t=_.has(e.id);return n.createElement(l.W.CheckableOptionTrackable,{key:e.id||e.name,checked:t,onClick:()=>{S(t,e)},displayType:l.W.CheckableDisplayType.Checkbox,nested:!0},e.name)})),h.length>0&&g.length>0&&A.push(n.createElement(l.W.Separator,{key:"other-teams-separator"})),g.length>0&&A.push(n.createElement(l.W.CheckableOptionTrackable,{key:"other-teams",displayType:l.W.CheckableDisplayType.Checkbox,checked:g.length===I.length,mixed:g.length>I.length&&I.length>0,onClick:()=>{w(g,I.length<g.length)}},n.createElement(u.Tx,{id:"browse_templates_modal.all_others"}))),A.push(...g.map(e=>{let t=_.has(e.id);return n.createElement(l.W.CheckableOptionTrackable,{key:e.id||e.name,checked:t,onClick:()=>{S(t,e)},displayType:l.W.CheckableDisplayType.Checkbox,nested:!0},e.name)}));return A.length?n.createElement(p.Y,{spacing:0,width:"hug-contents"},n.createElement("span",{className:d.cx.colorTextSecondary.$},n.createElement(u.Tx,{id:"browse_templates_modal.published_from"})),n.createElement(l.W.DropdownSelector,{label:T,noBorder:!0,rightAlignOptions:c,stayOpenOnSelect:!0,optionsBelowSelector:!0,options:A,notDraggable:!0,noRightPadding:!0,menuTrackingContextName:E.e0.TEMPLATES_BROWSE_FILTERS,menuTrackingProperties:{isEnterpriseOrg:s}})):null}function w(e){let[t,r]=(0,n.useState)(!0),i=(0,n.useRef)(null),o=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{var e;!0!==o.current||t||null==(e=i.current)||e.scrollIntoView()},[t]),n.createElement("section",null,n.createElement("button",{className:a()(d.cx.wFull.alignLeft.sticky.top0.zIndexTemplateModalTeamName.font13.my8.h40.fontMedium.colorBg.$,v.MY),onClick:()=>r(!t),ref:i},n.createElement("h2",null,n.createElement(c.B,{className:d.cx.relative.inlineFlex.justifyCenter.colorIconTertiary.mx2.w16.$,style:{top:"-2px"},svg:t?I.A:T.A}),e.workspaceName&&n.createElement("span",{className:d.cx.colorTextSecondary.fontNormal.$},e.workspaceName," / "),e.teamName)),t&&n.createElement(n.Fragment,null,n.createElement("div",{className:d.cx.if(e.minimalSpacing,d.cx.px0.mb0,d.cx.px24.mb20).$},e.children),n.createElement(s.a,{"data-testid":`load-more-team-${e.teamId}`,onIntersectionChange:({isIntersecting:t})=>{t&&e.onRequestLoadMoreForTeam(e.teamId)}})),n.createElement(s.a,{onIntersectionChange:({isIntersecting:e})=>{o.current=e}}))}function A(e){let t=(0,n.useRef)(null),r=(0,_.sZ)(),i=(0,h.G7)(r),{filterOptions:a,selectedTeamOrWorkspaceOrLicenseGroupIds:o,isMyTeamsOnly:l,onFilterChange:c,requestLoadMore:f,requestLoadMoreForTeam:E,templatesByTeam:v,userTeamOrWorkspaceIds:I,isLoadingTeamTemplates:T}=(0,m.GT)(r);return n.createElement("div",{className:d.cx.wFull.$},n.createElement(p.Y,{horizontalAlignItems:"space-between",height:56,padding:{left:24,right:24},strokeWidth:{bottom:1},strokeColor:"default"},n.createElement("div",{className:d.cx.font13.fontMedium.$},n.createElement(u.Tx,{id:"browse_templates_modal.published_by_current_org_name",orgName:r.name})),n.createElement(S,{filterOptions:a,selectedIds:o,isMyTeamsOnly:l,onFilterChange:e=>{var r;"function"==typeof(null==(r=t.current)?void 0:r.scroll)&&t.current.scroll({top:0,behavior:"smooth"}),c(e)},userTeamOrWorkspaceIds:new Set(I),showWorkspaces:i})),0===v.length?T?n.createElement(b.Kt,null):n.createElement(y.Ht,null):n.createElement("section",{className:d.cx.overflowYScroll.$,ref:t,style:{height:"calc(100% - 56px)"}},v.map(({team_id:t,team_name:r,workspace_name:a,templates:o})=>n.createElement(w,{key:t,teamName:r,workspaceName:i?a:null,teamId:t,onRequestLoadMoreForTeam:E},n.createElement(b.iq,null,o.map(t=>n.createElement(b.AF,{templateInsertionLocation:e.templateInsertionLocation,key:t.file_key,template:{template:t,type:g.n.TeamTemplate},onInsert:()=>e.insertTemplate({template:t,type:g.n.TeamTemplate}),isInsertingTemplate:e.isInsertingTemplate(t.file_key)}))))),n.createElement(s.a,{"data-testid":"load-more-teams",className:d.cx.relative.$,style:{bottom:"250px"},onIntersectionChange:({isIntersecting:e})=>{e&&f()}})))}},79132:(e,t,r)=>{"use strict";r.d(t,{hx:()=>w,S:()=>C,jq:()=>A,bg:()=>S});var n=r(411855),i=r(188507),a=r(297666),o=r(966712),l=r(498750),s=r(939863),c=r(384162),d=r(410424),u=r(738269),p=r(178323),m=r(988022),_=r(128765),h=r(820642),g=r(99506),f=r(336599),E=r(463592),y=r(106112),b=r(555328),v=r(301400);let I={},T={};function S(e){var t;let{templatesShelfType:r,source:l}=e,u=(0,i.wA)(),[p]=n.useState(()=>new E.Ef([],{keys:["name"]})),_=r||b.cS.FIGJAM_TEMPLATES_PICKER,g=c.sz.loadingKeyForPayload({shelfType:_}),y=(0,f.oh)(g),v=(0,f.mC)(g),I=(0,i.d4)(e=>e.hubFiles),T=(0,i.d4)(e=>e.communityHub.shelves[_]),S=(0,i.d4)(e=>e.openFile?e.openFile.key:null),w=null==(t=(0,o.Ay)().user_data)?void 0:t.id,[A,C]=n.useState(""),[N,O]=n.useState([]),L=n.useMemo(()=>(T||[]).reduce((e,t)=>({...e,[t.id]:t.shelf_content.map(e=>e.id)}),{}),[T]),R=n.useMemo(()=>(T||[]).reduce((e,t)=>({...e,[t.id]:(0,s.Yd)(t.i18n_meta.title,t.title)}),{}),[T]),P=n.useMemo(()=>(T||[]).map(({id:e})=>e),[T]),k=n.useCallback(e=>{let t=I[e],r=(0,h.a6)(t);u(d.rL({hubFileId:e,hubFileName:r.name||"this file",openInNewTab:!0,source:l}))},[u,I,l]);return n.useEffect(()=>{y||v||u(c.sz({shelfType:_}))},[u,v,y,_]),n.useEffect(()=>{let e=Object.keys(L).reduce((e,t)=>[...e,...L[t]],[]).map(e=>(0,h.a6)(I[e]));p.set(e)},[L,I,p]),n.useEffect(()=>{let e;A?(e=[...new Set(e=p.search(A).map(e=>e.hub_file_id))],(0,m.Cu)({userId:w,fileKey:S,entry_point:"templates_modal",scope:"Templates Modal"},"search_query_result")):e=[],O(e)},[A,w,S,p]),{templates:L,categoryTitles:R,hubFiles:I,isLoading:y,duplicateFile:k,fileKey:S,userId:w,setSearchQuery:n.useCallback((0,a.s)(C,300),[]),searchQuery:A,searchTemplatesResult:N,categoryIds:P,subcategories:n.useMemo(()=>{if(!T)return[];let e={activity:(0,s.t)("browse_templates_modal.subcategory.activity"),role:(0,s.t)("browse_templates_modal.subcategory.role")},t=[];return T.forEach(r=>{if(!r.shelf_meta.category)return;let n=r.shelf_meta.category,i=t.find(e=>e.id===n);i?i.categoryIds.push(r.id):t.push({id:n,title:e[n]||n,categoryIds:[r.id]})}),t},[T])}}let w="templates_context_menu";function A(e){let t=(0,i.wA)(),{primaryKey:r}=(0,_.fG)()(e);return n.useCallback(e=>{e.preventDefault();let n={templatePrimaryKey:r,position:{top:e.clientY,left:e.clientX}};t(u.j7({type:w,data:n}))},[t,r])}function C(e){let{additionalCtaLoggingProps:t,templateId:r,source:a,forceOpenNewTab:o=!1}=e,s=(0,i.wA)(),[c]=(0,n.useState)(()=>new Promise(e=>(function(e,t){if(T[e]){t(T[e]);return}I[e]||(I[e]=[],v.H.getVersions({id:e}).then(t=>{if(!t)return;let{data:r}=t,n=r.meta;T[e]=n,I[e].map(e=>e(n)),I[e]=[]})),I[e].push(t)})(r,e)));return async(e,n)=>{let i=await c,u=(0,h.a6)(i);s(d.rL({hubFileId:r,hubFileName:(null==u?void 0:u.name)||"this file",openInNewTab:!!o||(0,l.oJ)(e),folderId:void 0,source:a,callback:e=>{(0,m.Cu)({fileKey:e,templateId:r,productType:i.viewer_mode===g.y4.WHITEBOARD?"figjam":"design",...t}),(0,p._)("resource_inserted",{fileKey:e,resourceId:r,resourceName:null==u?void 0:u.name,resourceType:"template",templateType:y.n.HubFile,triggeredFrom:a}),null==n||n(e)}}))}}},302608:(e,t,r)=>{"use strict";r.d(t,{bb:()=>ep,jH:()=>$});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(320063),s=r(189430),c=r(966712),d=r(38580),u=r(374626),p=r(646240),m=r(574705),_=r(153234),h=r(554322),g=r(572206),f=r(27087),E=r(448169),y=r(946689),b=r(511443),v=r(827586),I=r(574176),T=r(939863),S=r(392592),w=r(934533),A=r(865618),C=r(970516),N=r(662275),O=r(931828),L=r(318812),R=r(611978),P=r(309798),k=r(239671),D=r(103101),M=r(237870),x=r(7959),F=r(538697),U=r(746806),B=r(69474),H=r(390980),V=r(786972),G=r(33798),W=r(681109),K=r(589084),Y=r(132208),j=r(175479),z=r(785496);let $=(0,d.eU)(!1),Z=e=>e.map(e=>{let t=e.name.match(/((.*)\s+-\s+)?(.*)/);return{optionCategoryName:t&&t[2]||"Other",optionSubareaName:t&&t[3]||e.name,gid:e.gid}}).reduce((e,t)=>{let r=e.get(t.optionCategoryName);return r||(r=[],e.set(t.optionCategoryName,r)),r.push({name:t.optionSubareaName,gid:t.gid}),e},new Map),q=e=>{let t=e.match(/app\.asana\.com\/\d\/\d+\/(\d+)/);if(!t||t.length<2)throw Error((0,T.t)("bug_reporter.error_invalid_asana_url"));return t[1]};function J(e){return!X(e)}function X(e){return"error"in e}let Q={gid:"",name:"Pick an option"},ee="bugReporter",et=(0,d.eU)(!0),er=(0,d.eU)(""),en=(0,d.eU)(""),ei=(0,d.eU)(""),ea=(0,d.eU)(Q),eo=(0,d.eU)(Q),el=(0,d.eU)(!1),es=n.createElement("div",{className:V.jM},"WARNING: because the title begins with TEST: your bug will be routed to the ",n.createElement("a",{className:V.Hm,href:"https://app.asana.com/0/1203643376438098/list",target:"_blank"},n.createElement(T.Tx,{id:"bug_reporter.warning_asana_board"})));function ec(e){let t=(0,L.U)(),r=(0,i.wA)(),a=(0,h.Av)(),{windowInnerHeight:d}=(0,s.l)(),[p,m]=(0,u.fp)(er),[g,f]=(0,u.fp)(en),[w,C]=(0,u.fp)(ei),[N,O]=(0,u.fp)(ea),[R,P]=(0,u.fp)(eo),[k,D]=(0,u.fp)(el),[M,B]=n.useState(!0),[W,K]=n.useState(!1),[j,z]=n.useState([]),[$,Z]=n.useState(void 0),J=d-(a+U.uF+b.Ug)-b.lc;(0,l.h)(()=>{!0===k&&(X(),D(!1))});let X=()=>{B(!0),z([]),e.clearForm()},Q=()=>!!(!e.isSubmitting&&g.trim()&&w.trim())&&(!e.isNewReport||!!N.gid&&!!R.gid),et=t=>{if(t)try{let r=q(t);e.attachFromTask(r)}catch(e){r(S.F.enqueue({message:`${e}`,error:!0}))}},ec=_.AF(_.Pt(ee,"link-input"),"change",e=>{let t=e.target.value;m(t),""===t&&X()}),eu=_.AF(_.Pt(ee,"title-input"),"change",e=>{f(e.target.value)}),ep=_.AF(_.Pt(ee,"description-input"),"change",e=>{C(e.target.value)}),em=_.qP(_.Pt(ee,"severity-input")??"","change",e=>{O(e)}),e_=_.qP(_.Pt(ee,"product-area-input")??"","change",e=>{P(e)}),eh=n.useCallback(e=>{let t=[],n=[];for(let r of e)if(r.size>52428800)n.push(r.name);else{let e=URL.createObjectURL(r);t.push({fileContent:r,url:e,name:r.name,type:r.type})}if(n.length>0){let e=`Error: files could not be attached (over 50MB limit): [${n.join(", ")}].`;console.error(e),r(S.F.enqueue({error:!0,message:e}))}return t},[r]),eg=e=>{if(e.files.length>0){let t=eh([...e.files]);z(e=>[...e,...t])}K(!1)},ef=_.AF(_.Pt(ee,"include-filekey-input"),"change",e=>{B(e.currentTarget.checked)}),eE=_.of(ee,"submit",t=>{t.preventDefault(),Q()&&e.submitBugReport(g,w,N,R,M,j,$)}),ey=(e,t)=>{let r=e.target;"Enter"===e.key&&(e.metaKey||e.ctrlKey?eE(e):("description"!==t&&e.preventDefault(),"asanaInput"===t&&et(p))),"Escape"===e.key&&r&&r.blur()},eb=_.v_(_.Pt(ee,"asanaInput"),"keydown",e=>{ey(e,"asanaInput")});return n.createElement(E.Y,{className:o()(W&&V.oE),isDragTarget:()=>!0,onTargetDragEnter:()=>{K(!0)},onTargetDragLeave:()=>{K(!1)},onTargetDrop:e=>eg(e)},W&&n.createElement("div",{className:V.$1},n.createElement(I.B,{svg:G.A}),n.createElement(T.Tx,{id:"bug_reporter.drop_attachments"})),n.createElement(v.P,{maxHeight:J,hideScrollbar:W},n.createElement("form",{onSubmit:eE,onPaste:e=>{if(e.clipboardData.files.length>0){let t=eh([...e.clipboardData.files]);z(e=>[...e,...t])}},className:o()(V.yl,W&&V.vw)},n.createElement("div",{className:V.uu},n.createElement(x.JU,{className:V.y8},n.createElement(T.Tx,{id:"bug_reporter.asana_hint"})),n.createElement(y.ks,{className:V._Z,placeholder:(0,T.t)("bug_reporter.modal.asana_link_placeholder"),value:p,onChange:ec,onPaste:e=>{let t=e.clipboardData.getData("text");try{q(t),et(t)}catch{}},onKeyDown:eb,maxLength:150})),n.createElement("div",null,n.createElement(x.JU,{className:V.Pf},n.createElement(T.Tx,{id:"bug_reporter.modal.title"})),n.createElement(y.ks,{className:V._Z,placeholder:(0,T.t)("bug_reporter.modal.title_placeholder"),autoFocus:!0,onKeyDown:e=>ey(e,"title"),value:g,onChange:eu,maxLength:150})),n.createElement("div",null,n.createElement(x.JU,{className:V.Pf},n.createElement(T.Tx,{id:"bug_reporter.modal.severity"})),n.createElement(F.l6,{id:"bug_reporter_select_severity",dispatch:r,property:N,onChange:em,dropdownShown:t,formatter:{format:e=>e.name,isEqual:(e,t)=>e.gid===t.gid}},0===e.severityOptions.length&&n.createElement(F.c$,{key:"loading",disabled:!0},n.createElement(T.Tx,{id:"bug_reporter.modal.loading"})),e.severityOptions.map(e=>n.createElement(F.c$,{value:e,key:e.gid},e.name)))),n.createElement("div",null,n.createElement(x.JU,{className:V.Pf},n.createElement(T.Tx,{id:"bug_reporter.modal.product_area"})),n.createElement(F.l6,{id:"bug_reporter_select_product_area",dispatch:r,property:R,onChange:e_,dropdownShown:t,formatter:{format:e=>e.name,isEqual:(e,t)=>e.gid===t.gid}},(()=>{if(0===e.productAreaGroups.size)return n.createElement(F.c$,{value:null,key:"loading",disabled:!0},n.createElement(T.Tx,{id:"bug_reporter.modal.loading"}));let t=[];return e.productAreaGroups.forEach((e,r)=>{t.push(n.createElement(F.c$,{value:null,key:r,disabled:!0},r)),e.forEach(e=>t.push(n.createElement(F.c$,{value:e,key:e.gid},e.name))),t.push(n.createElement(F.sK,{key:`${r}.divider`}))}),t.pop(),t})())),n.createElement("div",null,n.createElement(x.JU,{className:V.Pf},n.createElement(T.Tx,{id:"bug_reporter.modal.description"})),n.createElement(y.ks,{className:[V._Z,V.Tg].join(" "),placeholder:(0,T.t)("bug_reporter.modal.description_placeholder"),type:"textarea",value:w,onChange:ep,onKeyDown:e=>ey(e,"description"),maxLength:1e3})),n.createElement("div",null,n.createElement(x.JU,{className:V.Pf},n.createElement(T.Tx,{id:"bug_reporter.modal.images_and_videos"})),n.createElement(ed,{attachmentFiles:j,setAttachmentFiles:z,validateInputFiles:eh})),n.createElement("div",null,(0,c.kc)().in_app_performance_profiling&&n.createElement(n.Fragment,null,n.createElement(x.JU,{className:V.Pf},n.createElement(T.Tx,{id:"bug_reporter.profiler.title"})),n.createElement(H.J,{onProfilingFinish:e=>{Z(e)}}),$&&n.createElement(T.Tx,{id:"bug_reporter.profiler.profile_attached"}))),"fullscreen"===e.selectedView.view&&n.createElement("div",{className:V.HI},n.createElement(A.S,{checked:M,onChange:ef,label:(0,T.t)("bug_reporter.modal.include_filekey")}),n.createElement("div",{className:V.kB},n.createElement(I.B,{svg:Y.A}),n.createElement("div",{className:V.dX},n.createElement(T.Tx,{id:"bug_reporter.modal.include_filekey_info"})))),g.startsWith("TEST:")&&es,n.createElement(y.e2,{className:V.GC},n.createElement(y.nR,{onClick:e.onClose,type:"button"},n.createElement(T.Tx,{id:"bug_reporter.modal.cancel"})),n.createElement(y.$$,{type:"submit",disabled:!Q()},(0,T.t)("bug_reporter.modal.submit"))))))}function ed(e){let{attachmentFiles:t,setAttachmentFiles:r,validateInputFiles:i}=e,a=n.useRef(null),o=n.useCallback(()=>{a.current&&(a.current.value="")},[]),l=n.useCallback(()=>{var e;let t=(null==(e=a.current)?void 0:e.files)||null;if(null===t||0===t.length)return;let n=i([...t]);r(e=>[...e,...n]),o()},[o,i,r]),s=(e,t,n)=>{e.preventDefault(),r(e=>(e.splice(t,1),[...e])),URL.revokeObjectURL(n)};return n.createElement("div",{className:V.VL},t.length>0&&t.map((e,t)=>n.createElement("div",{className:V.Dq,key:t},n.createElement("div",null,e.type.startsWith("image")?n.createElement("img",{className:V.cR,alt:e.name,key:t,src:e.url}):n.createElement("video",{className:V.cR,key:t,src:e.url}),n.createElement("div",{className:V.Lw})),n.createElement("button",{onClick:r=>s(r,t,e.url)},n.createElement(I.B,{className:V.Yz,svg:z.A})))),n.createElement("label",{className:V.UM,htmlFor:"file-upload"},n.createElement(I.B,{svg:K.A})),n.createElement("input",{id:"file-upload",type:"file",accept:"image/png, image/jpeg, image/gif, video/mp4, video/quicktime",ref:a,onChange:l,multiple:!0,hidden:!0}))}function eu(e){let t=(0,i.wA)(),r=_.rf(_.Pt(ee,"asana-link"),"click",()=>{});return n.createElement("div",{className:V.yl},n.createElement("div",{className:V.lM},n.createElement(T.Tx,{id:"bug_reporter.success_message"})),n.createElement("div",{className:V.U3},n.createElement("div",{className:V.AX},n.createElement(I.B,{svg:j.A}),n.createElement(y.CY,{onClick:r,href:e.taskUrl,target:"_blank",trusted:!0},n.createElement(T.Tx,{id:"bug_reporter.asana_link"}))),n.createElement("div",{className:V.AX},n.createElement(I.B,{svg:W.A}),n.createElement(y.CY,{onClick:()=>{t(C.lW({stringToCopy:e.taskUrl}))},trusted:!0},n.createElement(T.Tx,{id:"bug_reporter.copy_link"})))),e.isNewReport&&n.createElement("div",null,n.createElement(T.Tx,{id:"bug_reporter.urgent_bug_info",notifyTheRelevantOncall:n.createElement(y.CY,{href:"https://go/find-oncall",target:"_blank",trusted:!0},n.createElement(T.Tx,{id:"bug_reporter.notify_oncall"}))})),e.slackUrl&&n.createElement("div",null,n.createElement(y.vx,{className:V.$U,href:e.slackUrl,target:"blank",type:"button"},n.createElement(T.Tx,{id:"bug_reporter.open_slack_discussion"}))),e.submissionErrorMessages.length>0&&e.submissionErrorMessages.map(e=>n.createElement("p",{key:e},e.toString())))}let ep=(0,M.Ju)(function(){let e=(0,i.d4)(e=>e.multiplayer.allUsers.length),t=(0,i.d4)(e=>{var t;return null==(t=e.user)?void 0:t.id}),r=(0,R._6)(),a=(0,i.wA)(),{windowInnerHeight:o}=(0,s.l)(),d=(0,B.O)(),[_,h]=n.useState([]),[E,y]=(0,u.fp)(er),v=(0,p.Xr)(en),I=(0,p.Xr)(ei),A=(0,p.Xr)(ea),C=(0,p.Xr)(eo),[L,M]=n.useState(new Map),x=(0,p.Xr)(el),[F,H]=(0,u.fp)(et),[G,W]=n.useState(!1),[K,Y]=n.useState(!1),j=n.useRef(""),z=n.useRef(""),es=n.useRef(""),ed=n.useRef(""),ep=n.useRef(""),em=n.useRef([]),e_=n.useRef(null),eh=n.useRef(0),eg=(0,p.Xr)($),ef=()=>{a(N.Ce())},eE=(0,P.f)("seen_bug_reporter_modal");(0,l.h)(()=>{eE||a(O.b({seen_bug_reporter_modal:!0})),eg(!0)}),n.useEffect(()=>{(async()=>{try{let{data:e}=await D.o.getMeta();h(e.meta.severity),M(Z(e.meta.product_area))}catch(e){a(S.F.enqueue({message:`Could not fetch field metadata: ${e}`,error:!0}))}})()},[a]);let ey=()=>D.o.getGetTask({taskGid:j.current}).then(({data:e})=>e).catch(e=>{var t;let r=`Couldn't fetch task details from Asana. ${e.data.message}`;e instanceof f.Dr&&(null==(t=e.data)?void 0:t.message)&&(r=e.data.message),a(S.F.enqueue({message:r,error:!0}))}),eb=async e=>{if(0===e.length)return{attachments:[],errorMessages:[]};let t=e.map(async e=>{try{return{uuid:await eI(e.fileContent,e.type),name:e.name}}catch(t){return{error:`Please add attachment ${e.name} directly in Asana instead. ${t}`}}}),r=await Promise.all(t);return em.current=r.filter(X).map(({error:e})=>e),{attachments:r.filter(J),errorMessages:r.filter(X).map(({error:e})=>e)}},ev=async e=>{if(!e)return{attachments:[],errorMessages:[]};try{return{attachments:[{uuid:await eI(JSON.stringify(e),"application/json"),name:"profile.json"}],errorMessages:[]}}catch(e){return{attachments:[],errorMessages:[`Please record a profile directly in dev tools instead. ${e}`]}}},eI=async(e,t)=>{let r=await D.o.getAttachmentUploadUrl({fileType:t});if(200!==r.status)throw Error("Failed to get presigned upload URL from S3");let{upload_url:n,fields:i,uuid:a}=r.data.meta,o=new FormData;for(let e in i)o.append(e,i[e]);if(o.append("content-type",t),o.append("file",e),204!==(await fetch(n,{method:"post",body:o})).status)throw Error("Failed to upload attachment to S3");return a},eT=async(n,i,o,l,s,d,u)=>{var p,_,h;Y(!0),ed.current=n,ep.current=i,a(S.F.enqueue({type:"bug-reporter-submitting",message:(0,T.t)("bug_reporter.submitting_visual_bell"),timeoutType:"exact",timeoutOverride:4e3,icon:w.zX.SPINNER})),a(S.F.enqueue({type:"bug-reporter-submitting-long",message:(0,T.t)("bug_reporter.long_submitting_visual_bell"),delay:4e3,icon:w.zX.SPINNER}));let g={env:(0,c.tl)().cluster_name,user_agent:navigator.userAgent,view:r.view,user_id:t,org_id:(0,c.tl)().org_id,tracking_session_id:(0,c.tl)().tracking_session_id,release_commit:(0,c.tl)().release_manifest_git_commit,device_info:(0,m.N)(),num_people_in_file:e};"fullscreen"===r.view?(g.editor_type=(0,k.Bu)(r.editorType),s&&(g.file_key=r.fileKey,g.url=window.location.href)):g.url=window.location.href;let y={title:n,severity:o.gid,product_area:l.gid,description:i,metadata:g},b=[eb(d),ev(u)],[v,I]=await Promise.all(b);v.attachments.length>0&&(y.attachments=v.attachments),I.attachments.length>0&&(y.profileUuid=I.attachments[0].uuid),(v.errorMessages.length||I.errorMessages.length)&&(em.current=[...v.errorMessages,...I.errorMessages]);try{let e=F?await f.Ay.post("/api/bug_reports",y):await f.Ay.put("/api/bug_reports/update_task",{...y,task_gid:j.current=q(E)});if(e.status>=200&&e.status<300)a(S.F.dequeue({matchType:"bug-reporter-submitting"})),a(S.F.dequeue({matchType:"bug-reporter-submitting-long"})),z.current=e.data.meta.task_url,j.current=e.data.meta.task_gid,F||(es.current=e.data.meta.slack_url),eh.current=(null==(_=null==(p=e_.current)?void 0:p.getCurrentContentSize())?void 0:_.y)||0,W(!0),x(!0),Y(!1);else throw Error(`Request failed with code ${e.status}.`)}catch(t){a(S.F.dequeue({matchType:"bug-reporter-submitting"})),a(S.F.dequeue({matchType:"bug-reporter-submitting-long"}));let e=t.message;t instanceof f.Dr&&(null==(h=t.data)?void 0:h.message)&&"string"==typeof t.data.message&&(e=t.data.message),a(S.F.enqueue({message:`${e}. Couldn't submit report. Try again or use /bug in Slack.`,error:!0})),Y(!1)}},eS=async e=>{j.current=e,H(!1);let t=await ey();t&&(v(t.meta.title),I(t.meta.description),A(t.meta.severity??Q),C(t.meta.product_area??Q))};return n.createElement(U.vx,{ref:e_,title:(0,T.t)("help_widget.menu.report_issue"),initialPosition:(()=>{let e=d?b.lc:b.Ug,t=b.lc;return G&&(t=o-(eh.current+U.uF)-b.lc),new g.Mi(e,t)})(),initialConstraints:{x:"right",y:G?"top":"bottom"},onClose:ef,recordingKey:ee,headerClassName:V.yK,dragHeaderOnly:!0},G?n.createElement(eu,{isNewReport:F,taskUrl:z.current,taskGid:j.current,slackUrl:es.current,title:ed.current,description:ep.current,submissionErrorMessages:em.current}):n.createElement(ec,{isNewReport:F,selectedView:r,severityOptions:_,productAreaGroups:L,attachFromTask:eS,submitBugReport:eT,onClose:ef,clearForm:()=>{H(!0),v(""),I(""),C(Q),A(Q),j.current="",y("")},isSubmitting:K}))},"BugReporterModal")},744426:(e,t,r)=>{"use strict";r.d(t,{Bj:()=>I,S3:()=>S});var n=r(411855),i=r(188507),a=r(27087),o=r(946689),l=r(88122),s=r(939863),c=r(63397),d=r(738269),u=r(662275),p=r(107877),m=r(672517),_=r(336599),h=r(143678),g=r(488578),f=r(237870),E=r(953759),y=r(943230),b=(e=>(e[e.SET_PROFILE_HANDLE=0]="SET_PROFILE_HANDLE",e[e.SUCCESS=1]="SUCCESS",e))(b||{});let v=class e extends n.Component{constructor(e){super(e),this.saveHandle=e=>{this.setState({newProfileHandle:e})},this.onProfileHandleValidationSuccess=()=>{this.setState({submitDisabled:!1})},this.onProfileHandleValidationFailure=()=>{this.setState({submitDisabled:!0})},this.sendValidateEmail=async()=>{let{status:e}=await a.Ay.post("/api/validation/email/send");200===e&&this.setState({validateEmailSent:!0,submitDisabled:!0})},this.onSubmit=e=>{if(e.preventDefault(),!this.props.emailValidatedAt){this.sendValidateEmail();return}this.setState({submitDisabled:!0});let t=this.props.profileId;if(t){let e={profileHandle:this.state.newProfileHandle,profileId:t,onSuccess:this.props.onFinish};this.props.dispatch(c.aP(e)),this.setState({loadingKey:c.aP.loadingKeyForPayload(e)})}else if(1==[this.props.userId,this.props.teamId,this.props.orgId].filter(e=>e).length){let e={profileHandle:this.state.newProfileHandle,teamId:this.props.teamId,orgId:this.props.orgId,userId:this.props.userId,onSuccess:this.props.onFinish};this.props.dispatch(c.vQ(e)),this.setState({loadingKey:c.vQ.loadingKeyForPayload(e)})}},this.onChangeSubmit=e=>{e.preventDefault(),this.setState({submitDisabled:!0}),this.props.profileId&&this.props.dispatch(c.aP({profileHandle:this.state.newProfileHandle,profileId:this.props.profileId})),this.props.dispatch(u.Lo())},this.navigateToProfileWithHandle=e=>{this.props.dispatch(d.$T({view:"communityHub",subView:"handle",handle:this.state.newProfileHandle})),this.props.dispatch(u.Ce())},this.state={newProfileHandle:e.existingProfileHandle||"",submitDisabled:!!e.emailValidatedAt,step:0,validateEmailSent:!1,emailAddressForValidation:void 0}}componentDidUpdate(){this.state.loadingKey&&((0,_.GH)(this.props.loadingState,this.state.loadingKey)?this.setState({step:1,loadingKey:void 0}):(0,_.aF)(this.props.loadingState,this.state.loadingKey)&&this.setState({loadingKey:void 0}))}renderHeaderImage(){return 0===this.state.step?this.props.emailValidatedAt?n.createElement(E.l_,null):n.createElement(E.uD,null):n.createElement(E.l1,null)}renderUnvalidatedAccount(e,t){return n.createElement("div",null,n.createElement("div",{className:y.eu},e?n.createElement(s.Tx,{id:"community.change_profile_handle_modal.new_verification_email_sent"}):n.createElement(s.Tx,{id:"community.change_profile_handle_modal.check_your_email"})),n.createElement("div",{className:y.V_},n.createElement(s.Tx,{id:"community.change_profile_handle_modal.verify_email_prompt"})),n.createElement("div",{className:y.V_},n.createElement(s.Tx,{id:"community.change_profile_handle_modal.sent_email",email:n.createElement("strong",null,n.createElement(s.Tx,{id:"community.profiles.email"}))})),n.createElement("div",{className:y.V_},n.createElement(s.Tx,{id:"community.change_profile_handle_modal.no_email_check_spam_or_click_resend_email_below"})))}renderTitle(){return 0===this.state.step?n.createElement("div",{className:y.eu},this.props.profileId?n.createElement(s.Tx,{id:"community.change_profile_handle_modal.change_your_unique_profile_handle"}):this.props.userId?n.createElement(s.Tx,{id:"community.change_profile_handle_modal.to_like_comment_follow_or_publish_please_create_a_community_profile"}):n.createElement(s.Tx,{id:"community.change_profile_handle_modal.create_a_community_profile_to_publish_publicly_as_your_org_or_team"})):n.createElement("div",{className:y.eu},n.createElement(s.Tx,{id:"community.change_profile_handle_modal.welcome_to_figma_community"}))}renderContent(){return 0===this.state.step?n.createElement("form",{id:e.id,onSubmit:this.onSubmit},n.createElement(l.v,{saveHandle:this.saveHandle,onProfileHandleValidationSuccess:this.onProfileHandleValidationSuccess,onProfileHandleValidationFailure:this.onProfileHandleValidationFailure})):n.createElement("div",{className:y.fv},n.createElement(s.Tx,{id:"community.change_profile_handle_modal.new_profile_link",url:n.createElement("div",{className:y.wN},n.createElement("span",{className:y.v8},"figma.com/@",this.state.newProfileHandle))}))}renderFooterCTAs(){return 0!==this.state.step?n.createElement(n.Fragment,null,n.createElement(o.nR,{onClick:this.navigateToProfileWithHandle},n.createElement(s.Tx,{id:"community.change_profile_handle_modal.view_profile"})),n.createElement(o.$$,{type:"submit",onClick:()=>this.props.dispatch(u.Lo()),className:y.pL},n.createElement(s.Tx,{id:"general.done"}))):this.props.profileId?n.createElement(n.Fragment,null,n.createElement(o.nR,{onClick:()=>this.props.dispatch(u.Lo())},n.createElement(s.Tx,{id:"general.cancel"})),n.createElement(o.vd,{type:"submit",onClick:this.onChangeSubmit,className:y.pL,disabled:this.state.submitDisabled,trackingProperties:{action:p.s0.UPDATE_PROFILE_HANDLE,communityHubEntity:p.ZO.PROFILES,communityHubEntityId:this.props.profileId}},n.createElement(s.Tx,{id:"community.change_profile_handle_modal.change_handle"}))):n.createElement(n.Fragment,null,n.createElement(o.nR,{onClick:()=>this.props.dispatch(u.Lo())},n.createElement(s.Tx,{id:"general.cancel"})),n.createElement(o.vd,{type:"submit",onClick:this.onSubmit,className:y.pL,disabled:this.state.submitDisabled||this.props.communityBlockedAt,trackingProperties:{action:p.s0.CREATE_PROFILE,communityHubEntity:this.props.userId?p.ZO.USERS:this.props.teamId?p.ZO.TEAMS:p.ZO.ORGS,communityHubEntityId:this.props.userId??this.props.teamId??this.props.orgId}},this.props.emailValidatedAt?n.createElement(s.Tx,{id:"community.change_profile_handle_modal.create_profile"}):n.createElement(s.Tx,{id:"community.change_profile_handle_modal.resend_email"})))}render(){let e={};e.type=this.props.profileId?p.s0.UPDATE_PROFILE_HANDLE:p.s0.CREATE_PROFILE,this.props.profileId?(e.communityHubEntity=p.ZO.PROFILES,e.communityHubEntityId=this.props.profileId):(e.communityHubEntity=this.props.userId?p.ZO.USERS:this.props.teamId?p.ZO.TEAMS:p.ZO.ORGS,e.communityHubEntityId=this.props.userId??this.props.teamId??this.props.orgId);let t=this.props.emailValidatedAt?n.createElement(n.Fragment,null,this.renderTitle(),this.renderContent()):this.renderUnvalidatedAccount(this.state.validateEmailSent,this.props.userEmail);return n.createElement(g.aF,{size:"medium",className:y.WA,popStack:!0},n.createElement(m.fu,{name:h.e0.PROFILE_CREATE_MODAL,properties:e},n.createElement("div",{className:y.yK},this.renderHeaderImage()),n.createElement("div",{className:y.yp},t),n.createElement("div",{className:y.qr},n.createElement("div",{className:y.oh},this.renderFooterCTAs()))))}};function I(e){let t=e.getState();t.modalShown&&t.modalShown.type===S&&e.dispatch(u.Lo())}v.displayName="ChangeProfileHandle",v.id="profile-change-handle";let T=(0,i.Ng)((e,t)=>{var r,n;return{loadingState:e.loadingState,emailValidatedAt:!!(null==(r=e.user)?void 0:r.email_validated_at),communityBlockedAt:!!e.user&&!!e.authedUsers.byId[e.user.id].community_blocked_at,userEmail:null==(n=e.user)?void 0:n.email}})(v),S="CHANGE_PROFILE_HANDLE";(0,f.qK)(S,e=>{let t=e.modalShown;return n.createElement(T,{profileId:t.data.profileId,existingProfileHandle:t.data.profileHandle,teamId:t.data.teamId,orgId:t.data.orgId,userId:t.data.userId,onFinish:t.data.onFinish})})},884812:(e,t,r)=>{"use strict";r.d(t,{d:()=>u,l:()=>d});var n=r(411855),i=r(946689),a=r(939863),o=r(662275),l=r(585878),s=r(793712);function c(e){return n.createElement("div",{style:{height:e.height}})}function d(e){let t=e.onHide||(()=>{e.dispatch(o.Lo())});return n.createElement(l.XV,{...e,isCloseHidden:!0},n.createElement(c,{height:18}),e.children&&n.createElement("div",{className:s.Vw},e.children,n.createElement(c,{height:18})),n.createElement(u,{onConfirm:e.onConfirm,onCancel:t,confirmButtonText:e.buttonText,hideCancelButton:e.hideCancelButton,makeButtonAppearNegative:e.makeButtonAppearNegative},e.checkboxText))}class u extends n.PureComponent{constructor(e){super(e),this.onCheck=()=>{this.setState({checked:!this.state.checked})},this.state={checked:!1}}render(){return n.createElement("div",{className:this.props.className},n.createElement(i.JU,{className:s.Pf},n.createElement(i.tB,{checked:this.state.checked,onChange:this.onCheck,className:s.kv}),this.props.children),n.createElement("div",{className:s.aV},!this.props.hideCancelButton&&n.createElement(i.tM,{onClick:this.props.onCancel},this.props.cancelButtonText||(0,a.t)("modal.cancel")),this.props.makeButtonAppearNegative?n.createElement(i.qM,{disabled:!this.state.checked,onClick:this.props.onConfirm},this.props.confirmButtonText||(0,a.t)("modal.confirm")):n.createElement(i.vd,{disabled:!this.state.checked,onClick:this.props.onConfirm},this.props.confirmButtonText||(0,a.t)("modal.confirm"))))}}u.displayName="CheckboxConfirmButtons"},443958:(e,t,r)=>{"use strict";r.d(t,{E1:()=>A,WB:()=>N,n$:()=>w});var n=r(411855),i=r(188507),a=r(38580),o=r(374626),l=r(946689),s=r(773058),c=r(47506),d=r(939863),u=r(896474),p=r(809840),m=r(662275),_=r(672517),h=r(460187),g=r(665723),f=r(585575),E=r(237870),y=r(526360),b=r(585878),v=r(27858);let I=(e,t)=>{switch(e){case f.M.SRGB:return{text:(0,d.t)("fullscreen.color_management.user_color_profile_modal.info.srgb_supported"),type:"info"};case f.M.DISPLAY_P3:switch(t.status){case"SupportedNatively":case"SupportedWithPolyfill":return{text:(0,d.t)("fullscreen.color_management.user_color_profile_modal.info.display_p3_supported"),type:"info"};case"ClientNotSupported":let r=t.diagnostics&&"client"in t.diagnostics&&"desktop-app"===t.diagnostics.client?(0,d.t)("fullscreen.color_management.user_color_profile_modal.client_type.desktop_app"):(0,d.t)("fullscreen.color_management.user_color_profile_modal.client_type.browser");if(t.diagnostics&&"shouldRestartDesktopAppInManagedColorSpace"in t.diagnostics&&t.diagnostics.shouldRestartDesktopAppInManagedColorSpace)return{text:(0,d.t)("fullscreen.color_management.beta.warning.desktop_unmanaged"),type:"warning"};return{text:(0,d.t)("fullscreen.color_management.user_color_profile_modal.warning.display_p3_not_supported.client",{client:r}),type:"warning"};case"MonitorNotSupported":if(t.diagnostics&&"alternativeMonitorName"in t.diagnostics&&t.diagnostics.alternativeMonitorName)return{text:(0,d.t)("fullscreen.color_management.user_color_profile_modal.warning.display_p3_not_supported.alternative_display",{displayName:t.diagnostics.alternativeMonitorName}),type:"warning"};return{text:(0,d.t)("fullscreen.color_management.user_color_profile_modal.warning.display_p3_not_supported.display"),type:"warning"}}}},T="user-color-profile",S={srgbOption:`${T}-srgb-option`,p3Option:`${T}-p3-option`,supportDetailsWarningIcon:`${T}-warning-icon`,supportDetailsInfoIcon:`${T}-info-icon`},w=(0,a.eU)(!1),A="user_color_profile_modal_closed",C=(0,E.Ju)(function(){let e=(0,i.wA)(),t=(0,g.jK)(),r=function(e){switch(e){case f.M.DEFAULT:case f.M.SRGB:return f.M.SRGB;case f.M.DISPLAY_P3:return f.M.DISPLAY_P3}}(t.colorProfilePreference),a=I(r,(0,h.Av)()),E=function(e){switch(e){case f.M.SRGB:return(0,d.t)("fullscreen.color_management.user_color_profile_modal.options.srgb.description");case f.M.DISPLAY_P3:return(0,d.t)("fullscreen.color_management.user_color_profile_modal.options.display_p3.description")}}(r),[T,C]=(0,o.fp)(w);return n.useEffect(()=>(T||C(!0),()=>{T&&((0,c.YQ)({id:A}),C(!1))}),[C,T]),n.createElement(_.fu,{name:"color_management_user_color_profile_modal"},n.createElement(b.XV,{title:(0,d.t)("fullscreen.color_management.user_color_profile_modal.title"),minWidth:320,maxWidth:320,onClose:()=>{e((0,m.AS)())}},n.createElement("div",{className:v.yl},n.createElement("label",{className:v.fK},n.createElement(p.E,null,n.createElement(d.Tx,{id:"fullscreen.color_management.user_color_profile_modal.options.label"}))),n.createElement(s.z,{isHorizontal:!0,className:v.R$,value:r,onChange:e=>{(0,g.it)({colorProfilePreference:e,id:t.id})}},n.createElement(s.Z,{className:v.hO,value:f.M.SRGB,dataTestId:S.srgbOption},(0,d.t)("fullscreen.color_management.user_color_profile_modal.options.srgb.value")),n.createElement(s.Z,{className:v.hO,value:f.M.DISPLAY_P3,dataTestId:S.p3Option},(0,d.t)("fullscreen.color_management.user_color_profile_modal.options.display_p3.value"))),n.createElement(p.E,{color:"secondary"},E),n.createElement("div",{className:v.jH}),n.createElement(p.E,{color:"secondary"},n.createElement(d.Tx,{id:"fullscreen.color_management.user_color_profile_modal.descriptions.affected_files"})),n.createElement("span",{style:{whiteSpace:"pre"}}," "),n.createElement(l.Ph,{trusted:!0,href:y.s,target:"_blank",className:v.nf},n.createElement(d.Tx,{id:"rcs.rcs_shared.learn_more"})),n.createElement("div",{className:v.jH}),n.createElement("div",{className:v.yF}),n.createElement("div",{className:v.cd},n.createElement(u.In,{icon:"warning"===a.type?"warning-32":"info-32",dataTestId:"warning"===a.type?S.supportDetailsWarningIcon:S.supportDetailsInfoIcon}),n.createElement("span",null,a.text,"warning"===a.type&&n.createElement(n.Fragment,null,n.createElement("span",{style:{whiteSpace:"pre"}}," "),n.createElement(l.Ph,{trusted:!0,href:y.s,target:"_blank",className:v.nf},n.createElement(d.Tx,{id:"rcs.rcs_shared.learn_more"}))))))))},"user_color_profile_modal");function N(){return{name:"user-color-profile-menu-option",displayForQuickCommand:"user-color-profile-quick-action",callback:(e,t,r)=>{r((0,m.to)({type:C}))}}}},760172:(e,t,r)=>{"use strict";r.d(t,{M:()=>u});var n=r(411855),i=r(939863),a=r(63397),o=r(583894),l=r(488578),s=r(647079),c=r(237870);class d extends n.Component{constructor(){super(...arguments),this.deleteProfile=()=>{this.props.dispatch(a.oB({profileId:this.props.profileId,handle:this.props.handle}))}}render(){let e=n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement(i.Tx,{id:"community.delete_profile_modal.delete_profile_info"})),n.createElement("br",null),this.props.stripe_account_status&&this.props.stripe_account_status!==o.P5.NONE&&n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement(i.Tx,{id:"settings.any_resources_you_have_marked_for_sale",creatorAgreement:s.Hl})),n.createElement("br",null)),n.createElement("p",null,n.createElement(i.Tx,{id:"settings.delete_user_account.for_more_information_about_how_we_treat_your_data",privacyPolicyLink:s.hM})));return n.createElement(l.Rw,{destructive:!0,confirmationTitle:(0,i.t)("community.delete_profile_modal.delete_profile_title"),content:e,onConfirm:this.deleteProfile,confirmText:(0,i.t)("general.delete"),popStack:!0,...this.props})}}let u=(0,c.Ju)(d,"DeleteProfileModal")},79190:(e,t,r)=>{"use strict";r.d(t,{$D:()=>P,OZ:()=>k,v5:()=>O}),r(625609);var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(126049),s=r(207286),c=r(768137),d=r(799569),u=r(976999),p=r(762638),m=r(47506),_=r(939863),h=r(392592),g=r(175290),f=r(896474),E=r(662275),y=r(672517),b=r(694687),v=r(820113),I=r(802026),T=r(756704),S=r(679892),w=r(237870),A=r(538088),C=r(488578),N=r(452434);let O="dev_mode_opt_in_success_event";function L(e,t){return t(E.Lo()),S.Eh.postDevModeOptInTermsAccepted({orgId:e}).catch(e=>(t(h.F.enqueue({message:(0,_.t)("dev_mode_opt_in.modal.failed_to_agree_to_opt_in"),error:!0})),Promise.reject(e))).then(()=>(0,m.YQ)({id:O}))}function R(){let e=(0,i.wA)();return n.createElement(d.Jn,{onClick:()=>e(E.Lo()),innerText:"Close"})}let P=(0,w.Ju)(function(e){let t=(0,i.wA)(),r=(0,b.sZ)(),a=parseInt(e.emailRequestId??""),o=!Number.isNaN(a);return n.createElement(y.fu,{name:"DevMode Opt-in Page",properties:{org_id:r.id,source:o?"email":"notif"}},n.createElement("div",{className:N.$1},n.createElement(D,{org:r,onAccept:()=>{let e=L(r.id,t);return o&&e.then(()=>{T.w.approveRequests({plan_id:r.id,plan_type:A.ps.ORG,included_request_ids:[a.toString()],selection_method:A.Xv.EMAIL}).catch(e=>(t(h.F.enqueue({message:(0,_.t)("dev_mode_opt_in.modal.upgrade_seats_error",{seatCount:1}),error:!0})),Promise.reject(e))).then(()=>t(h.F.enqueue({message:(0,_.t)("dev_mode_opt_in.modal.upgraded_seats",{seatCount:1}),type:"requests-approved"})))}),e},showNotNow:!1,hasAssociatedSeats:o})),n.createElement("div",{className:N.NX,style:{position:"absolute",top:24,right:24}},n.createElement(R,null)))},"DEV_MODE_OPT_IN_FULL_SCREEN_MODAL"),k=(0,w.Ju)(function(e){let t=(0,i.wA)(),r=(0,b.sZ)();return n.createElement(y.fu,{name:"DevMode Opt-in Modal",properties:{org_id:r.id,source:e.source?e.source:"dashboard"}},n.createElement(C.aF,{className:p.cx.overflowHidden.$,padding:40,size:520},n.createElement(D,{org:r,onAccept:()=>{let n=L(r.id,t);e.onOptInUpgrade&&n.then(()=>e.onOptInUpgrade()),e.onOptInShowModal&&n.then(()=>e.onOptInShowModal())},showNotNow:!0,hasAssociatedSeats:!!e.onOptInUpgrade}),n.createElement("div",{style:{position:"absolute",top:4,right:4}},n.createElement(R,null))))},"DEV_MODE_OPT_IN_PARTIAL_MODAL");function D(e){var t;let r=(0,i.wA)(),a=(0,s.Xf)(e.org.id),d=(0,l.A)(e.onAccept,750,{leading:!0,trailing:!1}),m=n.createElement("a",{className:p.cx.cursorPointer.fontMedium.$,href:"https://help.figma.com/hc/articles/19813618057623",target:"_blank",rel:"noopener noreferrer"},(0,_.t)("dev_mode_opt_in.modal.guide_to_dev_mode_billing")),h=n.createElement("a",{className:p.cx.cursorPointer.fontMedium.$,href:"https://www.figma.com/pricing",target:"_blank",rel:"noopener noreferrer"},"figma.com/pricing"),b=new v.vr((null==(t=a.data)?void 0:t.currency)??"usd"),T=e.org.plan??I.ju.ORGANIZATION,S=b.getPricesForOrgPlan(T),w="loaded"===a.status?n.createElement(n.Fragment,null,b.formatMoney(S.dev_mode)):n.createElement(u.Wi,{className:p.cx.h8.w20.inlineBlock.$});return n.createElement("div",{className:N.hQ},n.createElement("div",{className:N.rf},n.createElement("div",{className:N.wx},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.header"})),n.createElement("div",{className:o()(N.uI,p.cx.mb24.$)},e.hasAssociatedSeats?n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.subheader_with_seats"}):n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.subheader"})),n.createElement("div",{className:N.fZ},n.createElement("div",{className:p.cx.mt16.ml16.mr16.$},n.createElement(g.Y,{width:"fill-parent",spacing:8},n.createElement(f.In,{icon:"file-design-with-devmode-32-file-type"}),n.createElement("span",null,n.createElement("div",{className:N.uI},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.pricing.with_design.main_text"})),n.createElement("div",{className:N.Yg},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.pricing.with_design.sub_text"}))))),n.createElement("div",{className:N.Ot}),n.createElement("div",{className:p.cx.ml16.mr16.mb16.$},n.createElement(g.Y,{width:"fill-parent",spacing:8},n.createElement(f.In,{icon:"file-devmode-32-file-type"}),n.createElement("span",null,n.createElement("div",{className:N.uI},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.pricing.dev_mode_only.main_text"})),n.createElement("div",{className:N.Yg},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.pricing.dev_mode_only.sub_text"})))))),n.createElement("div",{className:N.Yg},n.createElement("div",{className:p.cx.mt24.fontMedium.$},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.description_question"})),n.createElement("div",{className:p.cx.mt8.$},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.description_provision",pricingLink:h,plan:T===I.ju.ORGANIZATION?(0,_.t)("dev_mode_opt_in.modal.org"):(0,_.t)("dev_mode_opt_in.modal.ent"),price:w,billingLink:m}))),n.createElement(c.vd,{className:o()(N.x6,p.cx.mt24.$),type:"button",onClick:d},e.hasAssociatedSeats?n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.agree_with_seats"}):n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.agree"})),e.showNotNow&&n.createElement(y.jm,{role:"button",className:o()(p.cx.mt8.flex.justifyCenter.$,N.qD),onClick:()=>r(E.Lo())},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.not_now"}))))}},765165:(e,t,r)=>{"use strict";r.d(t,{K:()=>u,Q:()=>d});var n=r(411855),i=r(91408),a=r(153234),o=r(816660),l=r(860168),s=r(550371);let c=(0,i.jz)(l.LdP);function d({resizeTo:e,getCurrentContainerBounds:t,isResizing:r,setIsResizing:i,setResizeDirections:l,onResizeEnd:s,lockAspectRatio:d,recordingKey:u,hidden:p,mirrorResizeHorizontally:_=!1}){let h=n.useRef(),g=n.useRef(),f=n.useRef([]),E=n.useRef({x:0,y:0}),[y,b]=n.useState(!1),v=n.useCallback(({x:t,y:n},i)=>{if(!r||!g.current||!e){b(!1);return}let a=d||i,l={x:t-E.current.x,y:n-E.current.y};l.y=Math.max(l.y,c);let{left:s,top:u,right:p,bottom:h}=m(l,g.current,r,a,_);e({[o.OP.TOP]:u!==g.current.top,[o.OP.BOTTOM]:h!==g.current.bottom,[o.OP.LEFT]:s!==g.current.left,[o.OP.RIGHT]:p!==g.current.right},{left:s,top:u,right:p,bottom:h,lockAspectRatio:a})},[r,d,_,e,b]),I=n.useCallback(()=>{b(!1),i(void 0),l([]),f.current=[],null==s||s()},[b,i,s,l]),T=n.useRef(I);T.current=I,(0,n.useEffect)(()=>()=>{r&&T.current()},[r]);let S=a.rf(u,"mouseup",I),w=a.rf(u,"mousemove",n.useCallback(e=>{if(p)return a.aH;e.stopPropagation(),e.preventDefault();let t={x:e.clientX,y:e.clientY};if(h.current=t,r)v(t,e.shiftKey);else{let e=Object.create(null);f.current.forEach(t=>{e[t]=!0}),l(f.current),i(e)}},[p,r,v,i,l]),{recordMetadata:e=>({clientX:e.clientX,clientY:e.clientY}),playbackMetadata:e=>({clientX:e.clientX,clientY:e.clientY})}),A=a.v_(u,"keydown",n.useCallback(e=>{e.shiftKey&&h.current&&v(h.current,!0)},[v])),C=a.v_(u,"keyup",n.useCallback(e=>{h.current&&v(h.current,e.shiftKey)},[v]));return(0,n.useEffect)(()=>{if(y)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),document.addEventListener("keydown",A),document.addEventListener("keyup",C),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S),document.removeEventListener("keydown",A),document.removeEventListener("keyup",C)}},[y,w,S,A,C]),{startResizing:n.useCallback((e,r)=>{f.current=e;let n=t();g.current=n;let i={x:e.includes(o.OP.LEFT)?n.left:e.includes(o.OP.RIGHT)?n.right:r.x,y:e.includes(o.OP.TOP)?n.top:e.includes(o.OP.BOTTOM)?n.bottom:r.y};E.current={x:r.x-i.x,y:r.y-i.y},b(!0)},[t,b]),stopResizing:I}}function u({allowedResizeDirections:e,onEdgeDoubleClick:t,resizeTo:r,onResizeEnd:i,getCurrentContainerBounds:l,lockAspectRatio:s,isResizing:c,setIsResizing:u,setResizeDirections:m,hidden:_,recordingKey:h,mirrorResizeHorizontally:g=!1}){let{startResizing:f}=d({resizeTo:r,getCurrentContainerBounds:l,onResizeEnd:i,isResizing:c,setIsResizing:u,setResizeDirections:m,lockAspectRatio:s,hidden:_,recordingKey:h,mirrorResizeHorizontally:g});return _?null:n.createElement("div",null,Object.values(o.OP).map((r,i)=>e.includes(r)?n.createElement(p,{key:i,directions:[r],startResizing:f,onDoubleClick:t,recordingKey:a.Pt(h,r)}):null),[o.OP.TOP,o.OP.BOTTOM].map(r=>[o.OP.LEFT,o.OP.RIGHT].map((i,o)=>e.includes(r)&&e.includes(i)?n.createElement(p,{key:o,directions:[r,i],startResizing:f,onDoubleClick:t,recordingKey:a.Pt(h,r,i)}):null)))}class p extends a.o6{constructor(){super(...arguments),this.onMouseDown=e=>a.cZ(this,"mousedown",t=>{t.stopPropagation(),t.preventDefault(),this.props.startResizing(e,{x:t.clientX,y:t.clientY})}),this.onDoubleClick=a.cZ(this,"dblclick",()=>{var e,t;if(!this.props.onDoubleClick)return a.aH;null==(t=(e=this.props).onDoubleClick)||t.call(e)}),this.directionsToStyle=e=>{if(1===e.length)switch(e[0]){case o.OP.TOP:return s.In;case o.OP.BOTTOM:return s.Mo;case o.OP.LEFT:return s.Wg;case o.OP.RIGHT:return s.N2}else if(2===e.length){if(e[0]===o.OP.TOP&&e[1]===o.OP.RIGHT)return s.Mq;if(e[0]===o.OP.TOP&&e[1]===o.OP.LEFT)return s.pg;if(e[0]===o.OP.BOTTOM&&e[1]===o.OP.RIGHT)return s.my;if(e[0]===o.OP.BOTTOM&&e[1]===o.OP.LEFT)return s.Do}}}render(){return n.createElement("div",{role:"presentation",className:this.directionsToStyle(this.props.directions),onMouseDown:this.onMouseDown(this.props.directions),onDoubleClick:this.onDoubleClick})}}let m=(e,t,r,n,i)=>{let{x:a,y:l}=e,s=r[o.OP.LEFT]?a:t.left,c=r[o.OP.RIGHT]?a:t.right,d=r[o.OP.TOP]?l:t.top,u=r[o.OP.BOTTOM]?l:t.bottom;if(i){let e=(t.left+t.right)/2;r[o.OP.LEFT]?c=e+(e-a):r[o.OP.RIGHT]&&(s=e-(a-e))}if(n){let e=(t.right-t.left)/(t.bottom-t.top-o.uF),n=r[o.OP.LEFT]?t.left-a:a-t.right,i=r[o.OP.TOP]?t.top-l:l-t.bottom,p=r[o.OP.LEFT]||r[o.OP.RIGHT],m=r[o.OP.TOP]||r[o.OP.BOTTOM];if(p&&m){let a,l;let p=n/e;p<i?(a=n,l=p,r[o.OP.TOP]?d=t.top-l:u=t.bottom+l):(a=i*e,l=i,r[o.OP.LEFT]?s=t.left-a:c=t.right+a)}else if(p){let n=r[o.OP.LEFT]?t.left-a:a-t.right;u=t.bottom+n/e}else if(m){let n=r[o.OP.TOP]?t.top-l:l-t.bottom;c=t.right+n*e}}return{left:s,top:d,right:c,bottom:u}}},425569:(e,t,r)=>{"use strict";r.d(t,{Qn:()=>f});var n=r(411855),i=r(188507),a=r(517333),o=r(737947),l=r(966712),s=r(799569),c=r(946689),d=r(762638),u=r(939863),p=r(662275),m=r(672517),_=r(237870),h=r(488578),g=r(451725);let f=(0,_.Ju)(function(){let e=(0,i.d4)(e=>{var t,r;return null==(r=null==(t=e.modalShown)?void 0:t.data)?void 0:r.onImportCompleted}),t=(0,i.d4)(e=>{var t,r;return null==(r=null==(t=e.modalShown)?void 0:t.data)?void 0:r.onConnectClick}),r=(0,i.d4)(e=>{var t,r;return null==(r=null==(t=e.modalShown)?void 0:t.data)?void 0:r.isLoading})||!1,_=(0,i.wA)(),f=()=>{_(p.AS()),null==e||e()};return n.createElement(m.fu,{name:"google_connect_disclaimer_modal"},n.createElement(h.aF,{size:360,className:g.k,onHide:()=>null==e?void 0:e()},n.createElement(s.s_,{dispatch:_,trackingProperties:{text:"dismiss"},onClose:f}),n.createElement("img",{src:"https://static.figma.com/uploads/bbeffb0922b3841d79ccfa204400c7dc2c399628",width:30,height:26,className:d.cx.mb8.$,alt:(0,u.t)("rcs.jamboard.google_drive_icon.alt")}),a.eD?n.createElement(n.Fragment,null,n.createElement("h2",{className:d.cx.mb8.font18.fontSemiBold.lh24.$},n.createElement(u.Tx,{id:"rcs.jamboard.open_in_browser_disclaimer.title"})),n.createElement("p",{className:d.cx.mb24.font11.lh16.$},n.createElement(u.Tx,{id:"rcs.jamboard.open_in_browser_disclaimer.desc1"})),n.createElement("div",{className:d.cx.flex.justifyEnd.gap8.$},n.createElement(c.tM,{onClick:f},n.createElement(u.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.cancel"})),n.createElement(c.vd,{onClick:()=>{f(),o.Ay.redirect(window.location.href,"_blank")},className:g.F},n.createElement(u.Tx,{id:"rcs.jamboard.open_in_browser_disclaimer.button"})))):n.createElement(n.Fragment,null,n.createElement("h2",{className:d.cx.mb8.font18.fontSemiBold.lh24.$},n.createElement(u.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.title"})),n.createElement("p",{className:d.cx.mb8.font11.lh16.$},n.createElement(u.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.desc1"})),!(0,l.kc)().figjam_jamboard_bulk_import&&n.createElement("p",{className:d.cx.mb24.font11.lh16.$},n.createElement(u.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.desc2"})),n.createElement("div",{className:d.cx.flex.justifyEnd.gap8.$},n.createElement(c.tM,{onClick:f},n.createElement(u.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.cancel"})),n.createElement(c.vd,{onClick:t,disabled:r,className:g.F},n.createElement(u.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.button"}))))))},"ConnectToGoogleDriveDisclaimerModal")},488578:(e,t,r)=>{"use strict";r.d(t,{Nb:()=>T,Rw:()=>A,Tc:()=>v,Xk:()=>I,aF:()=>S});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(776250),s=r(498750),c=r(331757),d=r(153234),u=r(799569),p=r(946689),m=r(493323),_=r(271779),h=r(939863),g=r(896474),f=r(662275),E=r(259927),y=r(672517),b=r(209590),v=(e=>(e.CLICK_OUTSIDE="click_outside",e.PRESS_ESCAPE="press_escape",e))(v||{});let I=400;function T(e){let t,r;let{useModalViewScroll:i=!0,tintedModalBackground:a=!0,hide:l,disableClickOutsideToHide:d,size:u,alignment:p,absolutePosition:m,padding:_,height:h,maxHeight:g,width:f,title:y,titleClassName:v,className:I,fixedTop:T,backgroundClassName:S,onKeyDown:w,disableKeyboardEventPropagation:A,modalRef:C,onModalClick:N,enableEscapeToClose:O,children:L,animateIn:R,disableFocusTrap:P}=e;(0,c.h)();let k=n.useCallback(()=>{d||l("click_outside")},[d,l]),D=n.useCallback(e=>{e.stopPropagation()},[]),M=n.useCallback(e=>{N&&N(e)},[N]),x=n.useCallback(e=>{if(e.keyCode===s.Uz.ESCAPE&&(!d||O)){l("press_escape"),e.preventDefault(),e.stopPropagation();return}w&&w(e),A&&(e.nativeEvent.stopImmediatePropagation(),e.stopPropagation())},[d,l,w,A,O]),F=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(F.current.matches(":focus-within")||F.current.focus(),P)return;let e=e=>{var t;e.target.closest('[aria-modal="true"]')||null==(t=F.current)||t.focus()};return document.body.addEventListener("focus",e,!0),()=>document.body.removeEventListener("focus",e,!0)},[P]),"number"==typeof u&&(t=u,r=u);let U=o()({[b.JY]:"small"===u,[b.ew]:"fitContent"===u,[b.Gx]:"mobile"===u,[b.R7]:!u||"medium"===u||"number"==typeof u}),B=o()(b.K1,S,E.Dm,{[b.Y0]:a,[b.CY]:T,[b.Xt]:"left"===p,[b.Ir]:"right"===p,[b.L4]:"leftNoPadding"===p}),H=o()(U,I,{[b.yl]:i,[b.Er]:!i,[b.KJ]:!!m,[b.HY]:R}),V={minWidth:t,maxWidth:r,height:h,maxHeight:g,width:f,padding:_,...m?{top:m.top,left:m.left}:{}};return n.createElement("div",{tabIndex:0,className:B,onMouseDown:k,onKeyDown:x,ref:F,"data-testid":"modal-background","aria-modal":"true"},n.createElement("div",{className:H,style:V,onMouseDown:D,onClick:M,ref:C,role:"dialog","data-testid":e["data-testid"]},y&&n.createElement("div",{className:`${b.DD} ${v||""}`},y),L))}function S(e){let t=(0,i.wA)(),{onHide:r,popStack:a}=e,{name:o,properties:s}=(0,y.j6)(),c=null==s?void 0:s.fileKey,d=null==s?void 0:s.productType,u=n.useCallback(e=>{a?t(f.Lo()):t(f.Ce()),r&&r(),(0,l.sx)("Modal Close",{source:e,trackingContext:o,fileKey:c,productType:d})},[t,c,o,r,a,d]);return n.createElement(T,{...e,hide:u})}let w={playback:()=>({preventDefault:()=>{}})};function A(e){let t=e.recordingKey??"",r=e.destructive??!1,a=e.autoFocusCta??!0,o=(0,i.wA)(),{dontClose:l,popStack:s}=e,c=n.useCallback(()=>{l||(s?o(f.Lo()):o(f.Ce()))},[o,l,s]),{onCloseButtonClick:E}=e,y=n.useCallback(()=>{c(),null==E||E()},[c,E]),v=(0,d.rf)(t,"click",y),{hideOnConfirm:I,onConfirm:T}=e,A=n.useCallback(e=>{e.preventDefault(),(I??!0)&&c(),T()},[c,I,T]),C=(0,d.qP)(t,"confirm",A,w),{hideOnCancel:N,onCancel:O}=e,L=n.useCallback(e=>{e.preventDefault(),(N??!0)&&c(),null==O||O()},[c,N,O]),R=(0,d.qP)(t??"","cancel",L,w),P=r?p.qM:p.vd,k=!(e.dontClose||e.hideClose);return n.createElement(S,{size:e.size||"small",...e,className:e.className||b.yl,onHide:e.overrideOnHide??e.onCancel},k&&n.createElement(u.i0,{...e,className:e.closeClass,onClick:v}),n.createElement(_.i,{displayAs:_.C.Block},!e.hideConfirmationTitle&&n.createElement("div",{className:e.titleClass??b.DD},e.confirmationTitle??n.createElement(h.Tx,{id:"modal.are_you_sure"})),e.children?e.children:n.createElement("div",{className:b.jE},e.content),n.createElement("div",{className:b.v0},n.createElement("div",{className:e.helperTextClass??b._f},e.helperText),!e.hideCancel&&n.createElement(p.tM,{onClick:R,autoFocus:!!a&&r},e.cancelText??n.createElement(h.Tx,{id:"modal.cancel"})),e.isLoading?n.createElement(P,{dataTestId:"confirmation-modal-confirm-action-button",tabIndex:0,type:"submit",className:b.LO,disabled:!0,trackingProperties:e.trackedConfirmationProperties||{}},n.createElement(m.kt,{className:e.loadingText?b.FQ:b.u1}),e.loadingText):n.createElement("form",{onSubmit:C},n.createElement(P,{dataTestId:"confirmation-modal-confirm-action-button",tabIndex:0,type:"submit",className:b.pL,disabled:e.disableConfirm,autoFocus:!!a&&!r,trackingProperties:e.trackedConfirmationProperties||{}},e.confirmText))),e.bottomWarningText&&n.createElement("div",{className:b.$$},n.createElement(g.In,{icon:"warning-32"}),e.bottomWarningText)))}},447402:(e,t,r)=>{"use strict";r.d(t,{$w:()=>S,Lu:()=>A,PG:()=>C});var n=r(411855),i=r(188507),a=r(776250),o=r(201888),l=r(737947),s=r(966712),c=r(563706),d=r(153234),u=r(946689),p=r(939863),m=r(738269),_=r(809831),h=r(356390),g=r(852800),f=r(99506),E=r(239671),y=r(237870),b=r(391297),v=r(488578),I=r(834886),T=r(321112);function S(e,t={}){var r,n;(0,a.sx)("memory_warning_event",{currentAllocatedBytes:null==(r=g.hMR)?void 0:r.getTotalUsedHeapMemory(),maxAllocatedBytes:null==(n=g.hMR)?void 0:n.getMaxUsedHeapMemory(),...e,...t})}var w=(e=>(e.SHOW_RELOAD="showReload",e.SHOW_RECOVERY_MODE="showRecoveryMode",e.SHOW_BROWSER_UPGRADE="showBrowserUpgrade",e.SHOW_BROWSER_UPGRADE_AND_DESKTOP_DOWNLOAD="showBrowserUpgradeAndDesktop",e))(w||{});let A="memory-warning-modal";function C(e){var t,r;let a=h.Y5.hasDesktopApp(),y=(0,i.d4)(e=>e.mirror.appModel.isReadOnly),w=(0,i.d4)(e=>e.selectedView),A=(0,_.AU)(w)===f._Y.DESIGN,C=(0,i.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.key})||(null==(r=null==(t=(0,s.Ay)().editing_file)?void 0:t.source_file)?void 0:r.key)||"",N=(0,i.wA)(),O={view:"fullscreen",editorType:A?E.nT.Design:E.nT.Whiteboard,fileKey:C,isRecoveryMode:!0},L=g.hMR.getHeapMemoryMode()===g.rCR.RECOVERY,R=y||L?"showReload":c.Ay.isWasm4gbSupported?"showRecoveryMode":a?"showBrowserUpgrade":"showBrowserUpgradeAndDesktop",P={chrome:"https://support.google.com/chrome/answer/95414",safari:"https://support.apple.com/en-us/HT204416",firefox:"https://support.mozilla.org/en-US/kb/update-firefox-latest-release",msedge:"https://support.microsoft.com/en-us/topic/update-to-the-new-microsoft-edge-182d0668-e3f0-49da-b8bb-db5675245dc2"},k=n.createElement(u.CY,{onClick:()=>h.Y5.navigateToURL(c.Ay.mac?"/download/desktop/mac":"/download/desktop/win",g.jkn.NEW_TAB),trusted:!0},n.createElement(p.Tx,{id:"memory_warning_modal.desktop_app_download_link"})),D="showReload"===R?{title:(0,p.t)("memory_warning_modal.reload_modal_title"),content:(0,p.t)("memory_warning_modal.reload_modal_content"),contentCTA:(0,p.t)("memory_warning_modal.reload_modal_content_cta"),buttonCTA:(0,p.t)("memory_warning_modal.reload_page_button"),secondaryButtonCTA:(0,p.t)("memory_warning_modal.learn_more"),buttonExternalLink:null,secondaryButtonExternalLink:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files/"}:"showRecoveryMode"===R?{title:(0,p.t)("memory_warning_modal.recovery_mode_modal_title"),content:(0,p.t)("memory_warning_modal.recovery_mode_modal_out_of_memory"),contentCTA:(0,p.t)("memory_warning_modal.recovery_mode_modal_content"),buttonCTA:(0,p.t)("memory_warning_modal.recovery_mode_button"),secondaryButtonCTA:(0,p.t)("memory_warning_modal.learn_more"),buttonExternalLink:null,secondaryButtonExternalLink:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files/"}:"showBrowserUpgrade"===R?{title:(0,p.t)("memory_warning_modal.old_browser_out_of_memory_modal_title"),content:(0,p.t)("memory_warning_modal.old_browser_out_of_memory_modal_content"),contentCTA:(0,p.t)("memory_warning_modal.old_browser_out_of_memory_modal_content_cta_and_open_in_desktop"),buttonCTA:(0,p.t)("memory_warning_modal.old_browser_primary_button_cta"),secondaryButtonCTA:(0,p.t)("memory_warning_modal.open_in_desktop"),buttonExternalLink:c.Ay.browserType&&P[c.Ay.browserType]||null,secondaryButtonExternalLink:null}:{title:(0,p.t)("memory_warning_modal.old_browser_out_of_memory_modal_title"),content:(0,p.t)("memory_warning_modal.old_browser_out_of_memory_modal_content"),contentCTA:null,buttonCTA:(0,p.t)("memory_warning_modal.old_browser_primary_button_cta"),secondaryButtonCTA:null,buttonExternalLink:c.Ay.browserType&&P[c.Ay.browserType]||null,secondaryButtonExternalLink:null};return e.isBranching?n.createElement(b.E,null):n.createElement(v.aF,{size:"small",className:T.yl,disableClickOutsideToHide:!0},n.createElement("div",{className:I.GK},D.title),n.createElement("div",{className:I.jE},n.createElement("div",null,D.content,n.createElement("br",null),"\xa0",n.createElement("br",null)),"showBrowserUpgradeAndDesktop"===R?n.createElement(p.Tx,{id:"memory_warning_modal.old_browser_out_of_memory_modal_content_cta_and_download_desktop",desktopAppLink:k}):D.contentCTA,n.createElement("br",null)),n.createElement("div",{className:T.v0},D.secondaryButtonCTA&&n.createElement(u.nR,{recordingKey:d.Pt(e,"crash"),onClick:()=>{D.secondaryButtonCTA===(0,p.t)("memory_warning_modal.learn_more")&&S({warningEvent:"LEARN_MORE",fileKey:C},{isReadOnly:y}),"showBrowserUpgrade"===R&&(0,o.Sr)(location.href)}},n.createElement("a",{className:I.Xi,href:D.secondaryButtonExternalLink||void 0,target:"_blank"},D.secondaryButtonCTA)),n.createElement(u.$$,{recordingKey:d.Pt(e,"crash"),className:T.pL,onClick:()=>{D.buttonCTA===(0,p.t)("memory_warning_modal.recovery_mode_button")&&S({warningEvent:"OPEN_RECOVERY_MODE",fileKey:C},{isReadOnly:y}),("showRecoveryMode"===R||y)&&N(m.$T(O)),("showReload"===R||"showRecoveryMode"===R)&&l.Ay.reload("Memory warning panel")}},n.createElement("a",{className:I.Zb,href:D.buttonExternalLink||void 0,target:"_blank"},D.buttonCTA))))}(0,y.qK)(A,e=>{let{isBranching:t}=e.modalShown.data;return n.createElement(C,{isBranching:t})})},63666:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>C,CR:()=>k,Du:()=>D,Dv:()=>M,NJ:()=>R,OA:()=>P,gm:()=>L,uv:()=>A});var n=r(411855),i=r(629019),a=r.n(i),o=r(91408),l=r(602126),s=r(374626),c=r(860601),d=r(799569),u=r(946689),p=r(987918),m=r(101505),_=r(672517),h=r(726864),g=r(168039),f=r(74505),E=r(457630),y=r(746806),b=r(884342),v=r(485861),I=r(860168),T=r(983238),S=r(630834),w=r(304516);let A=(0,o.hG)(I.W8e);function C(e){let t=(0,h.Yk)(),r=(0,E._X)({subscribeToUpdates_expensive:!0}),i=n.useRef({x:0,y:0,width:0,height:0,angle:0,absoluteBounds:{x:0,y:0,width:0,height:0},page:p.AD}),[a,o]=n.useState({left:0,top:0,pointerOffset:0,pointerPosition:0}),l=n.useMemo(()=>(0,b.P7)(e.pointerType||b.gm.arrow),[e.pointerType]),s=e.topPadding||-l.pointerTargetOverlap,c=n.useCallback(()=>{if(!i.current){o(null);return}let n=(0,E.Yb)(r,i.current.absoluteBounds),a={x:n.x+r.x,y:n.y+r.y,height:n.height,width:n.width};o((0,b.my)({width:e.width,height:e.height,targetRect:a,positioningConstants:l,alignPointerToLeft:e.alignPointerToLeft,shouldCenterArrow:e.shouldCenterArrow,topPadding:s,arrowPosition:e.arrowPosition,targetType:"canvas",viewportTopOffset:r.y,viewportBottomOffset:t}))},[e.height,e.width,l,e.alignPointerToLeft,e.shouldCenterArrow,s,t,e.arrowPosition,r]);return n.useEffect(()=>{var t;let r=(0,f.EE)(`useCanvasNodeRepositioning-${e.targetKey}`,[e.targetKey],e=>{i.current=e.position,c()});return i.current=(null==(t=r.currentNodePosition[e.targetKey])?void 0:t.position)||null,c(),()=>{(0,f.lB)(`useCanvasNodeRepositioning-${e.targetKey}`)}},[e.targetKey,c]),(0,v.pc)({location:a,onTargetLost:e.onTargetLost,targetKey:e.targetKey,targetType:"canvas"}),a}function N(e,t){switch(e){case y.F_.TOP:case y.F_.BOTTOM:return{left:t};case y.F_.LEFT_TITLE:case y.F_.RIGHT_BODY:return{top:t};case y.F_.RIGHT_TITLE:return{}}}let O={[y.F_.TOP]:{foregroundStyle:T.FQ,backgroundStyle:T.oX},[y.F_.BOTTOM]:{foregroundStyle:T.nW,backgroundStyle:T.a5},[y.F_.LEFT_TITLE]:{foregroundStyle:T.Hn,backgroundStyle:T.gF},[y.F_.RIGHT_TITLE]:{foregroundStyle:T.Ar,backgroundStyle:T.Ny},[y.F_.RIGHT_BODY]:{foregroundStyle:T.Ar,backgroundStyle:T.Ny}};function L(e){let{foregroundStyle:t,backgroundStyle:r}=O[e.arrowPosition],i={...e.modalColor?{backgroundColor:e.modalColor}:{},...e.arrowOffset?N(e.arrowPosition,e.arrowOffset):{}},a={...e.modalColor?{backgroundColor:e.modalColor}:{},...e.pointerBorder?{backgroundColor:e.pointerBorderColor||"#444444"}:{},...e.arrowOffset?N(e.arrowPosition,e.arrowOffset):{}};return n.createElement(n.Fragment,null,n.createElement("div",{"aria-hidden":!0,className:r,style:a}),n.createElement("div",{"aria-hidden":!0,className:t,style:i}))}function R(e){let t=(0,b.P7)(b.gm.arrow),r=e.width||t.defaultModalWidth,i=e.backgroundColor,a=e.onVisibilityChange,[o,l]=n.useState(0),s=n.useCallback(e=>{null!==e&&l(e.getBoundingClientRect().height)},[]),c=(e.isCanvasNode?C:v.eP)({targetKey:e.targetKey,height:o,width:r+2*A,topPadding:e.topPadding,alignPointerToLeft:e.alignPointerToLeft,shouldScrollTargetIntoView:e.shouldScrollTargetIntoView,shouldCenterArrow:e.shouldCenterArrow,arrowPosition:e.arrowPosition,onTargetLost:e.onTargetLost}),u=!!c;if(n.useEffect(()=>{a&&a(u)},[u,a]),!c)return null;let p={left:c.left,top:c.top,width:r};e.topOffset&&(p.marginTop=e.topOffset),e.leftOffset&&(p.marginLeft=e.leftOffset);let m=e.backgroundColor?{backgroundColor:e.backgroundColor}:{};return n.createElement("div",{className:`${e.className||T.Lq} ${e.noAnimation?T.gh:""}`,style:{...p,...m},ref:s,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,role:"none"},n.createElement("div",{ref:e.containerRef,role:"tooltip"},!e.shouldHideArrow&&n.createElement(L,{arrowPosition:c.pointerPosition,arrowOffset:c.pointerOffset,modalColor:i}),e.shouldNotWrapInParagraphTag?e.children:n.createElement("p",null,e.children),e.dismissModal&&n.createElement(d.Jn,{useOriginalSrcFills_DEPRECATED:!0,className:T.b,onClick:e.dismissModal,innerText:"close",svg:w.A})))}function P(e){let{arrowPosition:t}=e,r=(0,b.P7)(b.gm.arrow),i=e.width||r.defaultModalWidth,a=e.backgroundColor,o="dark"===(0,g.DP)(),l="light"===e.background,[s,c]=n.useState(0),p=n.useCallback(e=>{null!==e&&c(e.getBoundingClientRect().height)},[]),m=(0,v.eP)({targetKey:e.targetKey,height:s,width:i+2*A,topPadding:e.topPadding,shouldCenterArrow:e.shouldCenterArrow,alignPointerToLeft:e.alignPointerToLeft,...t&&{arrowPosition:t}});if(!m&&!e.shouldCenterModal)return null;let h=l&&!o,f=n.createElement(d.Jn,{useOriginalSrcFills_DEPRECATED:!0,className:`${T._S} ${!h&&e.isUI3?T.uS:""}`,onClick:e.dismissModal,innerText:"close",svg:h?S.default:w.A}),E=n.createElement("div",null,e.ctaText&&e.onClickPrimaryCta&&n.createElement("div",{className:T.ZA},e.bottomLeftText&&n.createElement("b",null,e.bottomLeftText),n.createElement("div",{className:T.OQ},e.secondaryCtaText&&e.onClickSecondaryCta&&n.createElement(_.$z,{className:l?T.jS:T.dC,onClick:e.onClickSecondaryCta,"aria-hidden":!0},e.secondaryCtaText),e.ctaText&&e.onClickPrimaryCta&&n.createElement(u.vd,{className:l?T.TI:T.ZO,onClick:e.onClickPrimaryCta,trackingProperties:e.buttonContext?{buttonContext:e.buttonContext}:void 0},e.ctaText)))),y={backgroundColor:a,width:i,margin:e.topOffset?`${e.topOffset}px auto`:"auto"},I=m?{left:m.left,top:m.top}:{left:0,right:0,top:0,bottom:0};return n.createElement("div",{className:l?T.IL:T.wV,ref:p,style:{...y,...I}},n.createElement("div",null,m&&n.createElement(L,{arrowPosition:m.pointerPosition,arrowOffset:m.pointerOffset,modalColor:l?"var(--color-bg)":void 0}),n.createElement("h1",null,e.title),e.children,f),E)}let k=n.forwardRef(function(e,t){let[r,i]=n.useState(0),a=n.useCallback(e=>{null!==e&&i(e.getBoundingClientRect().height),null!=t&&(t.current=e)},[t]),o=n.useRef(null),s=e.disableClickOutsideToHide?c.lQ:e.dismissModal;(0,l.ww)(o,s);let u=n.useRef(null),p=(0,v.eP)({targetKey:e.targetKey,height:e.passHeightForLocation?e.height?e.height:0:r,width:e.width+2*A,topPadding:e.topPadding,shouldCenterArrow:e.shouldCenterArrow,arrowPosition:e.arrowPosition,onTargetLost:e.onTargetLost});n.useEffect(()=>{p&&(u.current=p)},[p]);let _=p||u.current,h=e.hideIfTargetLost&&null==p;if(!_||h||e.hideModal||e.shouldDismissWhenLostDOMTarget&&!p)return null;let g=e.pointerBackgroundColor||"var(--color-border, rgba(0, 0, 0, 0.2))",f=e.pointerForegroundColor||"var(--color-bg, white)",E={left:_.left,top:_.top,width:e.width};e.height&&(E.height=e.height);let y=e.animateQuickly?T.B9:T.w0,b=e.pointerPaddingOffset??0;return n.createElement("div",{ref:o},n.createElement("div",{className:e.className?`${e.className}`:y,style:E,ref:a,"data-testid":"walkThroughModal"},!e.hidePointer&&n.createElement(L,{arrowPosition:_.pointerPosition,arrowOffset:_.pointerOffset+b,modalColor:f,pointerBorderColor:g,pointerBorder:!0}),e.children,!e.hideCloseButton&&n.createElement(d.Jn,{className:`${T.b} ${e.closeButtonClassName||""} ${e.useWhiteCloseButton?T.uS:""} `,onClick:()=>{e.additionalOnExplicitDismiss&&e.additionalOnExplicitDismiss(),e.dismissModal()},innerText:"close",svg:e.useWhiteCloseButton?w.A:S.default,trackingProperties:{trackingDescriptor:m.c.CLOSE_BUTTON}})))});function D({skipConnectorModal:e,shouldSkipConnectorModalAtom:t}){let[r,n]=(0,s.fp)(t);return r&&e&&e(),{handleTargetLost:function(t,r){t&&("canvas"===r&&n(!0),e&&e())}}}function M(e){return n.createElement(x,{useRepositioning:"canvas"===e.targetType?C:v.eP,targetType:e.targetType,targetKey:e.targetKey,topPadding:e.topPadding,isBold:e.isBold,hasShadow:e.hasShadow,arrowPosition:e.arrowPosition,children:e.children,autoWidth:e.autoWidth,fixedWidth:e.fixedWidth,shouldHideArrow:e.shouldHideArrow,shouldCenterArrow:e.shouldCenterArrow,onTargetLost:e.onTargetLost})}function x(e){let t=(0,b.P7)(b.gm.connector),[r,i]=n.useState(0),[o,l]=n.useState(0),s=n.useRef(null),c=e.useRepositioning({targetKey:e.targetKey,height:r,width:e.autoWidth?o:e.fixedWidth?e.fixedWidth:t.defaultModalWidth,topPadding:e.topPadding,pointerType:b.gm.connector,arrowPosition:e.arrowPosition,shouldCenterArrow:e.shouldCenterArrow});return(n.useLayoutEffect(()=>{let e=s.current;if(!e)return;let t=new ResizeObserver(()=>{let t=e.getBoundingClientRect();i(t.height),l(t.width)});return t.observe(e),()=>t.disconnect()},[c]),c)?n.createElement("div",{className:a()({[T.hw]:!0,[T.qb]:!e.isBold,[T.Cr]:!!e.isBold,[T.r7]:!!e.hasShadow,[T.zG]:"dom"===e.targetType,[T.Ju]:"canvas"===e.targetType}),style:{left:c.left,top:c.top,width:e.autoWidth?"auto":e.fixedWidth?e.fixedWidth:t.defaultModalWidth},ref:s},!e.shouldHideArrow&&n.createElement(F,{connectorPosition:c.pointerPosition,connectorOffset:c.pointerOffset,isBold:e.isBold}),e.children):null}function F(e){let t=n.createElement("div",{className:a()({[T.M3]:!0,[T.Mn]:!0}),style:{left:e.connectorOffset}},n.createElement("div",{className:a()({[T._y]:!0,[T.qb]:!e.isBold,[T.Cr]:!!e.isBold})}),n.createElement("div",{className:a()({[T.Ok]:!0,[T.qb]:!e.isBold,[T.Cr]:!!e.isBold})})),r=n.createElement("div",{className:a()({[T.M3]:!0,[T.sQ]:!0}),style:{left:e.connectorOffset}},n.createElement("div",{className:a()({[T.Ok]:!0,[T.qb]:!e.isBold,[T.Cr]:!!e.isBold})}),n.createElement("div",{className:a()({[T._y]:!0,[T.qb]:!e.isBold,[T.Cr]:!!e.isBold})})),i=n.createElement("div",{className:a()({[T.M3]:!0,[T.kb]:!0}),style:{top:e.connectorOffset}},n.createElement("div",{className:a()({[T._y]:!0,[T.qb]:!e.isBold,[T.Cr]:!!e.isBold})}),n.createElement("div",{className:a()({[T.Ym]:!0,[T.qb]:!e.isBold,[T.Cr]:!!e.isBold})})),o=n.createElement("div",{className:a()({[T.M3]:!0,[T.pG]:!0}),style:{top:e.connectorOffset}},n.createElement("div",{className:a()({[T.Ym]:!0,[T.qb]:!e.isBold,[T.Cr]:!!e.isBold})}),n.createElement("div",{className:a()({[T._y]:!0,[T.qb]:!e.isBold,[T.Cr]:!!e.isBold})}));return n.createElement(n.Fragment,null,e.connectorPosition===y.F_.TOP&&t,e.connectorPosition===y.F_.BOTTOM&&r,e.connectorPosition===y.F_.LEFT_TITLE&&i,e.connectorPosition===y.F_.RIGHT_TITLE&&o,e.connectorPosition===y.F_.RIGHT_BODY&&o)}},66154:(e,t,r)=>{"use strict";r.d(t,{$v:()=>A,BI:()=>N,Ec:()=>P,Lz:()=>k,Mi:()=>O,Nm:()=>L,P4:()=>T,_G:()=>R,jA:()=>S,lj:()=>C,rQ:()=>D,yG:()=>w});var n=r(411855),i=r(188507),a=r(498480),o=r(574176),l=r(762638),s=r(939863),c=r(293017),d=r(852800),u=r(99506),p=r(243987),m=r(397065),_=r(279145),h=r(746806),g=r(2882),f=r(601538),E=r(252092),y=r(704728),b=r(400232),v=r(951864);function I(){return n.createElement(a.Ex,{color:a.zE.DEFAULT,text:(0,s.t)("pro_onboarding.professional"),className:l.cx.colorTextBrand.colorBgSelectedSecondary.font11.$})}function T({dismissModal:e}){return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:"create-new-project-permission-dropdown",arrowPosition:h.F_.RIGHT_BODY,title:(0,s.t)("pro_onboarding.protect_your_projects"),subtitle:(0,s.t)("pro_onboarding.change_who_can_edit_and_view_your_files_on_your_professional_plan"),width:320,badge:n.createElement(I,null)})}function S({dismissModal:e}){let t="team-view-new-project-cta";return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:h.F_.TOP,title:(0,s.t)("pro_onboarding.hello_organized_files"),subtitle:(0,s.t)("pro_onboarding.now_that_you_re_on_a_professional_team_move_your_files_into_project"),width:320,shouldCenterArrow:h.EL.FALLBACK,badge:n.createElement(I,null)})}function w({dismissModal:e,canCreateFigjamBoard:t}){let r="folder-page-view-new-file-cta";return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:r,calloutTargetKey:r,arrowPosition:h.F_.TOP,title:t?(0,s.t)("pro_onboaridng.so_many_files_and_boards"):(0,s.t)("pro_onboaridng.so_many_files"),subtitle:t?(0,s.t)("pro_onboaridng.you_now_get_unlimited_design_files_pages_and_figjam_boards"):(0,s.t)("pro_onboaridng.you_now_get_unlimited_design_files"),width:320,shouldCenterArrow:h.EL.FALLBACK,badge:n.createElement(I,null)})}function A({dismissModal:e}){let t="share-prototype";return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:h.F_.TOP,title:(0,s.t)("pro_onboarding.prototpye_only_links"),subtitle:(0,s.t)("pro_onboarding.on_your_professional_plan_you_can_share_prototypes"),width:300,badge:n.createElement(I,null)})}function C({dismissModal:e}){let t="meeting-panel-button";return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:h.F_.TOP,title:(0,s.t)("pro_onboarding.start_a_voting_session"),subtitle:(0,s.t)("pro_onboarding.if_you_want_to_reach_a_decision_keep_things_simple_with_a_figjam_vote"),width:320,badge:n.createElement(I,null)})}function N({dismissModal:e}){return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:"pages-panel-toggle",calloutTargetKey:"pages-panel-toggle",arrowPosition:h.F_.LEFT_TITLE,title:(0,s.t)("rcs.pro_trials_onboarding.unlimited_pages_title"),subtitle:n.createElement(s.Tx,{id:"rcs.pro_trials_onboarding.unlimited_pages_subtitle",maxFreePages:p.LF[u._Y.DESIGN]}),width:320,badge:n.createElement(I,null)})}function O({dismissModal:e}){let t=(0,i.d4)(e=>e.multiplayer.allUsers.length>1),r=t?"audio-nux-key":f.v4,a=t?(0,s.t)("pro_onboarding.if_other_people_are_in_your_file_select_the_headphones"):(0,s.t)("rcs.pro_trials_onboarding.audio_subtitle_without_multiple_users");return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:r,calloutTargetKey:r,arrowPosition:h.F_.TOP,title:(0,s.t)("rcs.pro_trials_onboarding.audio_title"),subtitle:a,width:320,badge:n.createElement(I,null)})}function L({dismissModal:e}){return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:"file-workshop-row",calloutTargetKey:"file-workshop-button",arrowPosition:h.F_.RIGHT_TITLE,title:(0,s.t)("rcs.pro_trials_onboarding.open_sessions_title"),subtitle:(0,s.t)("rcs.pro_trials_onboarding.open_sessions_subtitle"),width:300,badge:n.createElement(I,null)})}function R({dismissModal:e}){let t=[(0,s.t)("rcs.pro_trials_onboarding.password_protection_first_instruction",{linkAccessOptionText:(0,s.t)("file_access_row.anyone_with_the_link_and_password")}),(0,s.t)("rcs.pro_trials_onboarding.password_protection_second_instruction")];return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:"file-access-row",calloutTargetKey:g.PW,arrowPosition:h.F_.RIGHT_TITLE,title:(0,s.t)("rcs.pro_trials_onboarding.password_protection_title"),width:320,instructions:t,disableClickOutsideToHide:!0,badge:n.createElement(I,null)})}function P({dismissModal:e}){let t=(0,i.wA)(),r=(0,i.d4)(e=>Object.keys(e.library.local.components).length>0),a=(0,i.d4)(e=>e.mirror.appModel.keyboardShortcuts),l=(0,_.c1)(a,"create-symbol");n.useEffect(()=>{t(c.FP({tab:d.xae.ASSETS}))},[]);let u=n.createElement(o.B,{svg:v.A,title:(0,s.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),role:"img",ariaLabel:(0,s.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),autosize:!0}),p=n.createElement(o.B,{svg:b.A,title:(0,s.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),role:"img",ariaLabel:(0,s.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),autosize:!0}),g=[n.createElement(n.Fragment,null,n.createElement(s.Tx,{id:"rcs.pro_trials_onboarding.component_publishing_second_instruction_with_components",teamLibraryIcon:u})),(0,s.t)("rcs.pro_trials_onboarding.component_publishing_third_instruction_with_components",{publishButtonText:(0,s.t)("design_systems.libraries_modal.publish")})],f=[(0,s.t)("rcs.pro_trials_onboarding.component_publishing_first_instruction_without_components"),n.createElement(n.Fragment,null,n.createElement(s.Tx,{id:"rcs.pro_trials_onboarding.component_publishing_second_instruction_without_components",createComponentIcon:p,createComponentShortcut:l}))],y=r?(0,s.t)("rcs.pro_trials_onboarding.component_publishing_title_with_components"):(0,s.t)("rcs.pro_trials_onboarding.component_publishing_title_without_components"),T=r?void 0:(0,s.t)("rcs.pro_trials_onboarding.component_publishing_subtitle_without_components");return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:m.D,calloutTargetKey:m.D,arrowPosition:h.F_.LEFT_TITLE,title:y,subtitle:T,width:320,instructions:r?g:f,badge:n.createElement(I,null)})}function k({dismissModal:e}){let t=n.createElement(o.B,{svg:y.A,title:(0,s.t)("rcs.pro_trials_onboarding.video_icon"),role:"img",ariaLabel:(0,s.t)("rcs.pro_trials_onboarding.video_icon"),autosize:!0}),r=n.createElement(s.Tx,{id:"rcs.pro_trials_onboarding.video_subtitle",imageOrVideoIcon:t});return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:"tool-place-image",calloutTargetKey:"tool-place-image",arrowPosition:h.F_.LEFT_TITLE,title:(0,s.t)("rcs.pro_trials_onboarding.video_title"),subtitle:r,width:320,badge:n.createElement(I,null)})}function D({dismissModal:e}){let t="local-variables-panel-title";return n.createElement(E.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:h.F_.LEFT_TITLE,title:(0,s.t)("pro_onboarding.variables_save_you_time"),subtitle:n.createElement(s.Tx,{id:"pro_onboarding.use_variables_in_components_and_prototypes"}),width:320,badge:n.createElement(I,null)})}},899726:(e,t,r)=>{"use strict";r.d(t,{H:()=>E});var n=r(411855),i=r(188507),a=r(498750),o=r(946689),l=r(659838),s=r(939863),c=r(662275),d=r(902957),u=r(672517),p=r(498606),m=r(237870),_=r(171267),h=r(585878),g=r(530809),f=r(321112);let E=(0,m.Ju)(function(e){let[t,r]=n.useState(""),m=(0,i.wA)(),E=1===Object.values((0,i.d4)(e=>e.teams)).length,y=e=>{e.preventDefault(),m(c.Ce())},b=n.useCallback(()=>{m(c.Ce()),m((0,c.to)({type:_.lb,data:{teamId:e.team.id}}))},[m,e.team.id]);if(!e.team.org_id&&e.subscriptionStatus)return n.createElement(u.fu,{name:"Blocked Pro Team Delete Modal"},n.createElement(h.Eo,{title:(0,s.t)("team_delete_modal.pro_plan_cancel_modal_header"),confirmText:(0,s.t)("team_delete_modal.proceed_to_cancel"),onConfirm:()=>{m((0,c.to)({type:g.v,data:{teamId:e.team.id,onContinue:b}}))},cancelText:(0,s.t)("team_delete_modal.dismiss"),trackedConfirmationProperties:{teamId:e.team.id}},n.createElement(s.Tx,{id:"team_delete_modal.cancel_to_delete_team",teamName:e.team.name})));let v=e.team.name!==t;return n.createElement(u.fu,{name:"Team Delete Modal",properties:{teamid:e.team.id}},n.createElement(h.XV,{maxWidth:344,minWidth:344,fixedTop:!0,onClose:y,title:(0,s.t)("team_delete_modal.delete_this_props_team_name",{teamName:e.team.name})},n.createElement("div",{className:f.kL},n.createElement(s.Tx,{id:"team_delete_modal.warning_confirmation_text",teamName:n.createElement("span",{className:f.Vq},e.team.name)}),n.createElement("div",null,n.createElement("div",null,"\xa0"),n.createElement(s.Tx,{id:"team_delete_modal.days_to_undo_deletion",numDays:n.createElement("span",{className:f.Vq},n.createElement(s.Tx,{id:"team_delete_modal.days_for_team_deletion_undo",numDays:28}))})),n.createElement("div",null,"\xa0"),n.createElement(s.Tx,{id:"team_delete_modal.to_confirm_please_enter_the_name_of_the_team"}),n.createElement("form",{onSubmit:t=>{t.preventDefault(),m(d.yH({team:e.team,userInitiated:!0,teamDelete:!0})),m(c.Lo()),r("")}},n.createElement("div",null,n.createElement(l.L,{className:f._Z,type:"text",value:t,onKeyDown:e=>{e.keyCode===a.Uz.ENTER&&e.preventDefault()},onChange:e=>{r(e.currentTarget.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),E&&n.createElement(n.Fragment,null,n.createElement("div",null,"\xa0"),n.createElement(s.Tx,{id:"team_delete_modal.deleting_last_team_notice",notice:n.createElement("span",{className:f.Vq},n.createElement(s.Tx,{id:"team_delete_modal.warning_note"}))})),n.createElement("div",{className:f.v0},n.createElement(o.nR,{onClick:y},n.createElement(s.Tx,{id:"general.cancel"})),n.createElement(o.qM,{type:"submit",className:f.pL,disabled:v},n.createElement("span",{"data-tooltip":(0,s.t)("team_delete_modal.to_confirm_please_enter_the_name_of_the_team"),"data-tooltip-type":v?p.Ib.TEXT:null},n.createElement(s.Tx,{id:"team_delete_modal.delete_team"}))))))))},"TeamConfirmDeleteModal")},161394:(e,t,r)=>{"use strict";r.d(t,{Q:()=>h,U:()=>E});var n=r(411855),i=r(776250),a=r(794272),o=r(946689),l=r(493323),s=r(939863),c=r(852800),d=r(100197),u=r(488578),p=r(237870),m=r(456893),_=r(321112);let h="upgrading-modal";(0,p.qK)(h,e=>n.createElement(g,{upgradingState:e.modalShown.data.upgradingState,dispatch:e.dispatch}));class g extends n.Component{render(){let e=this.props.upgradingState===c.kul.UPGRADING?(0,s.t)("multiplayer_upgrade_modal.content_saving"):(0,s.t)("multiplayer_upgrade_modal.content_reloading");return n.createElement(u.aF,{size:"small",className:_.yl,disableClickOutsideToHide:!0},n.createElement("div",{className:_.DD},n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.title"})),n.createElement(m.B,null),n.createElement("div",{className:_.jE},e),n.createElement("div",{className:_.v0},n.createElement(l.kt,null)))}}g.displayName="UpgradingModal";class f extends n.Component{constructor(){super(...arguments),this.noOp=e=>e,this.onUpdateClicked=()=>{(0,i.sx)("Upgrade Modal Clicked"),c.h3O.startUpgrade()}}render(){let{multiplayerSessionState:e,isReadOnly:t}=this.props,r=e!==c.kul.UNJOINED;return e===c.kul.UPGRADING||e===c.kul.WAITING_FOR_RELOAD?null:n.createElement(u.aF,{size:"small",className:_.yl,disableClickOutsideToHide:!0},n.createElement("div",{className:_.DD},n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.title"})),n.createElement("div",{className:_.jE},n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.content"}),!r&&n.createElement("span",null,n.createElement("br",null),"\xa0",n.createElement("br",null),n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.content_offline"}))),r&&n.createElement("div",{className:_.v0},n.createElement(o.$$,{onClick:this.onUpdateClicked},t?n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.reload_button"}):n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.save_and_reload_button"}))))}}function E(){var e,t;let{multiplayerSessionState:r,isReadOnly:i}=(0,a.R)(e=>({multiplayerSessionState:e.mirror.appModel.multiplayerSessionState,isReadOnly:e.mirror.appModel.isReadOnly}));return(0,d.ut)(null==(t=null==(e=c.Ez5)?void 0:e.uiState())?void 0:t.showOutOfDateWall,!1)?n.createElement(f,{multiplayerSessionState:r,isReadOnly:i}):null}f.displayName="OutOfDateWall"},299410:(e,t,r)=>{"use strict";r.d(t,{J4:()=>L,YU:()=>x,Kd:()=>U,Iz:()=>F,_9:()=>R,lG:()=>D,fb:()=>P,p8:()=>k,mi:()=>V,wO:()=>B,ET:()=>H});var n=r(411855),i=r(188507),a=r(302586),o=r(240624),l=r(918152),s=r(790484),c=r(137035),d=r(773058),u=r(46481),p=r(939863),m=r(226055),_=r(318812),h=r(99506),g=r(851363),f=r(498606),E=r(231959),y=r(977468),b=r(538697);let v="audience_selector--iconContainer--W80mw",I="audience_selector--radioText--OD-3K",T="audience_selector--radioOption--4NDFa",S="audience_selector--radioSubtitle--g3Mry",w="audience_selector--blackIcon--PM3f-",A="audience_selector--containerName--5i9Dn";var C=r(585101),N=r(535011),O=r(204702),L=(e=>(e.VIEW="view",e.EDIT="edit",e))(L||{}),R=(e=>(e.ANYONE="anyone",e.ORG="org",e.WORKSPACE="workspace",e.TEAM="team",e.FOLDER="folder",e.INVITE_ONLY="invite_only",e))(R||{});let P={[h.PQ.EDIT]:{shareAudience:"anyone",audienceAccessLevel:"edit"},[h.PQ.VIEW]:{shareAudience:"anyone",audienceAccessLevel:"view"},[h.PQ.ORG_EDIT]:{shareAudience:"org",audienceAccessLevel:"edit"},[h.PQ.ORG_VIEW]:{shareAudience:"org",audienceAccessLevel:"view"},[h.PQ.WORKSPACE_VIEW]:{shareAudience:"workspace",audienceAccessLevel:"view"},[h.PQ.WORKSPACE_EDIT]:{shareAudience:"workspace",audienceAccessLevel:"edit"},[h.PQ.INHERIT]:{shareAudience:"invite_only",audienceAccessLevel:null},[h.PQ.INVITE_ONLY]:{shareAudience:"invite_only",audienceAccessLevel:null}},k={[h.Pu.VIEW]:{shareAudience:"anyone",audienceAccessLevel:"view"},[h.Pu.ORG_VIEW]:{shareAudience:"org",audienceAccessLevel:"view"},[h.Pu.INHERIT]:{shareAudience:"invite_only",audienceAccessLevel:null}};function D(e,t){return"anyone"===e?"edit"===t?h.PQ.EDIT:h.PQ.VIEW:"org"===e?"edit"===t?h.PQ.ORG_EDIT:h.PQ.ORG_VIEW:h.PQ.INVITE_ONLY}let M=(e,t)=>{if("anyone"===e){if("anyone"!==t)return!1}else if("org"===e&&"invite_only"===t)return!1;return!0};function x(e){var t,r,d;let g=(0,i.wA)(),I={[h.vt.TEAM]:["invite_only"],[h.vt.FOLDER]:["invite_only"],[h.vt.FILE]:["anyone","invite_only"],[h.vt.FILE_REPO]:["anyone","invite_only"]}[e.resourceType],T=null;e.org&&(e.workspace&&e.workspace.id!==E.O&&I.splice(1,0,"workspace"),I.splice(1,0,"org")),e.isPrototype&&(I=I.filter(t=>M(e.fileShareAudience,t)),"anyone"===e.fileShareAudience&&1===I.length&&"anyone"===I[0]&&(T=(0,p.t)("permissions.audience_selector.can_only_be_adjusted_in_the_main_file")));let S=(0,_.U)(),A={anyone:(0,p.t)("permissions.audience_selector.anyone"),workspace:(null==(t=e.workspace)?void 0:t.name)||"",org:(null==(r=e.org)?void 0:r.name)||"",team:(null==(d=e.team)?void 0:d.name)||"",folder:"",invite_only:(0,p.t)("permissions.audience_selector.only_invited_people")},L=(0,m.GS)(),R={anyone:n.createElement("div",{className:v},n.createElement(u.U,{svg:N.A,className:w},n.createElement(a.Y,null))),workspace:e.workspace&&n.createElement("div",{className:v},L?n.createElement(o.w,null):n.createElement(y.z6,{entity:e.workspace,size:16})),org:e.org&&n.createElement("div",{className:v},L?n.createElement(l.Y,null):n.createElement(u.U,{svg:O.A,className:w},n.createElement(l.Y,null))),team:e.team&&n.createElement("div",{className:v},n.createElement(y.Ro,{entity:{id:e.team.id,imgUrl:e.team.img_url,name:e.team.name},hideFallbackInitial:!1,size:16})),folder:n.createElement(n.Fragment,null),invite_only:n.createElement("div",{className:v},n.createElement(u.U,{svg:C.A,className:w},n.createElement(s.c,null)))},P=n.useCallback(()=>{let t={[h.vt.TEAM]:(0,p.t)("permissions.audience_selector.team_resource_name"),[h.vt.FOLDER]:(0,p.t)("permissions.audience_selector.project_resource_name"),[h.vt.FILE]:(0,p.t)("permissions.audience_selector.file_resource_name"),[h.vt.FILE_REPO]:(0,p.t)("permissions.audience_selector.file_resource_name")};return e.isPrototype?(0,p.t)("permissions.audience_selector.prototype_resource_name"):t[e.resourceType]},[e.isPrototype,e.resourceType]),k=n.useMemo(()=>{let t=P();switch(e.value){case"anyone":return(0,p.t)("permissions.audience_selector.anyone_even_those_outside_your_org_can_access_this_resource",{resourceName:t});case"org":if(e.searchable)return(0,p.t)("permissions.audience_selector.audience_can_access_through_search_link_or_file_browser",{resourceName:t,audience:(0,p.t)("permissions.audience_selector.org_members")});return(0,p.t)("permissions.audience_selector.audience_can_access_through_link_or_file_browser",{resourceName:t,audience:(0,p.t)("permissions.audience_selector.org_members")});case"workspace":return(0,p.t)("permissions.audience_selector.audience_can_access_through_search_link_or_file_browser",{resourceName:t,audience:(0,p.t)("permissions.audience_selector.workspace_members")});case"team":case"folder":return(0,p.t)("permissions.audience_selector.can_access_through_search_file_browser_link");case"invite_only":return(0,p.t)("permissions.audience_selector.only_people_you_directly_invited_can_access",{resourceName:t})}},[e.value,e.searchable,P]);return n.createElement("div",{"data-testid":"create-team-modal-audience-selector"},n.createElement(b.l6,{id:"create-team-modal-audience-selector",property:e.value,formatter:{format:e=>A[e]},onChange:e.onChange,dispatch:g,dropdownShown:S,className:"audience_selector--dropdownSelector--eEAHQ select--selectInputExpanded--Lz6m4",inputClassName:"audience_selector--dropdownSelectorTitle---y7CH",icon:R[e.value],dropdownClassName:"audience_selector--dropdownContainer--Xyoak",openBelowTarget:!L,focusedOption:I[0],disabled:!!T||e.disabled,rightIcon:T?n.createElement(c.b,{"data-tooltip-type":f.Ib.TEXT,"data-tooltip":T}):void 0},I.map(t=>n.createElement(b.c$,{value:t,key:t,height:28,icon:R[t],dataTestId:`audience-option-${t}`,rightCheck:!0,disabled:"anyone"===t&&e.publicLinksBanned},A[t]))),n.createElement("div",{className:"audience_selector--subtitle--MIXKn text--fontPos11--2LvXf text--_fontBase--QdLsd"},k))}function F(e){return n.createElement(n.Fragment,null,n.createElement(d.z,{value:e.selectedPermissionsLevel,onChange:e.setSelectedPermissionsLevel,isHorizontal:!0,dataTestId:"permissions-level-radio-group"},n.createElement(d.Z,{key:"view-only",value:"view",className:T,disabled:e.disabled},n.createElement("p",{className:I},n.createElement(p.Tx,{id:"team_creation.view"}))),n.createElement(d.Z,{key:"edit",value:"edit",className:T,disabled:e.disabled||e.disableEdit},n.createElement("p",{className:I},e.teamCanAccess?n.createElement(p.Tx,{id:"permissions.level_name_capitalized.can_access"}):n.createElement(p.Tx,{id:"team_creation.edit"})))))}function U(e){return n.createElement(n.Fragment,null,n.createElement(d.z,{dataTestId:"org-browsable-team-radio-options",value:e.selectedDiscoverability,onChange:e.setSelectedDiscoverability},n.createElement(d.Z,{key:"org_browsable",value:g.Fb.ORG_BROWSABLE,className:T},n.createElement("p",{className:I},n.createElement(p.Tx,{id:"team_creation.visible"}))),n.createElement("p",{className:S},n.createElement(p.Tx,{id:"team_creation.anyone_can_find_this_team"})),n.createElement(d.Z,{key:"hidden",value:g.Fb.HIDDEN,className:T},n.createElement("p",{className:I},n.createElement(p.Tx,{id:"team_creation.hidden"}))),n.createElement("p",{className:S},n.createElement(p.Tx,{id:"team_creation.only_team_members_can_find_and_access"}))))}function B(e,t,r,i){let a=t=>e===h.vt.TEAM?n.createElement(p.Tx,{id:"team_view.team_permissions_modal.anyone_in_container_can_edit_this_team",containerName:n.createElement("span",{className:A},t)}):e===h.vt.FOLDER?n.createElement(p.Tx,{id:"folder_access_row.anyone_in_container_can_edit_this_project",containerName:n.createElement("span",{className:A},t)}):void 0,o=t=>e===h.vt.TEAM?n.createElement(p.Tx,{id:"team_view.team_permissions_modal.anyone_in_container_can_view_this_team",containerName:n.createElement("span",{className:A},t)}):e===h.vt.FOLDER?n.createElement(p.Tx,{id:"folder_access_row.anyone_in_container_can_view_this_project",containerName:n.createElement("span",{className:A},t)}):void 0;return t&&i!==h.PQ.INVITE_ONLY?i===h.PQ.ORG_EDIT?a(t.name):i===h.PQ.WORKSPACE_EDIT&&r?a(r.name):i===h.PQ.ORG_VIEW?o(t.name):i===h.PQ.WORKSPACE_VIEW&&r?o(r.name):n.createElement(n.Fragment,null):n.createElement(p.Tx,{id:"team_view.team_permissions_modal.only_invited_people_can_access"})}function H(e,t,r,i){return e===h.PQ.EDIT||e===h.PQ.VIEW?i?n.createElement(p.Tx,{id:"file_audience_row.anyone_with_password"}):n.createElement(p.Tx,{id:"permissions.anyone"}):e===h.PQ.ORG_EDIT||e===h.PQ.ORG_VIEW?t&&n.createElement(p.Tx,{id:"permissions.anyone_in_container_name",containerName:t.name}):e===h.PQ.WORKSPACE_EDIT||e===h.PQ.WORKSPACE_VIEW?r&&n.createElement(p.Tx,{id:"permissions.anyone_in_container_name",containerName:r.name}):e===h.PQ.INVITE_ONLY||e===h.PQ.INHERIT?n.createElement(p.Tx,{id:"permissions.only_those_invited"}):n.createElement(n.Fragment,null)}function V(e){return e===h.PQ.EDIT||e===h.PQ.ORG_EDIT||e===h.PQ.WORKSPACE_EDIT?n.createElement(p.Tx,{id:"file_access_row.can_edit"}):e===h.PQ.VIEW||e===h.PQ.ORG_VIEW||e===h.PQ.WORKSPACE_VIEW?n.createElement(p.Tx,{id:"file_access_row.can_view"}):void 0}},717156:(e,t,r)=>{"use strict";r.d(t,{mK:()=>f,ox:()=>g,q2:()=>m});var n=r(411855),i=r(188507),a=r(181912),o=r(27087),l=r(47506),s=r(662275),c=r(877645),d=r(860178),u=r(963719),p=r(971646);let m="link_expired_event";function _(e){o.Ay.put(`/api/files/${e}/expire_public_link`)}let h=(e,t)=>{let r=n.useRef(null);n.useEffect(()=>{let n=e?(0,a.A)(e).diff((0,a.A)()):void 0;return void 0!==n&&n<2147483647?(r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{r.current=null,t()},n)):r.current&&(clearTimeout(r.current),r.current=null),()=>{r.current&&clearTimeout(r.current)}},[e,t])};function g(e){let t=(0,d.iZ)(),r=(0,i.wA)(),{file:a,onCanvasExpired:o}=e,p=null==a?void 0:a.key,g=(0,c.v)(e.file),f=n.useRef(void 0),E=null==g?void 0:g.activeExpiration,y=null==g?void 0:g.file,b=null==y?void 0:y.hasViewPrototypeRole,v=null==g?void 0:g.accessReverted;n.useEffect(()=>{var e,t;b&&v&&!(null==(e=f.current)?void 0:e.accessReverted)&&g.expiresAt&&g.expiresAt===(null==(t=f.current)?void 0:t.expiresAt)&&(0,l.YQ)({id:m}),f.current=g},[g,v,b]),h(E,n.useCallback(()=>{p&&(b&&t||(r(s.to({type:u.J})),null==o||o()),_(p))},[r,o,p,t,b]))}function f(e,t){var r;h(null==(r=(0,p.d4)(t))?void 0:r.toISOString(),n.useCallback(()=>{_(e)},[e]))}},2882:(e,t,r)=>{"use strict";r.d(t,{PW:()=>q,nu:()=>X});var n=r(411855),i=r(790484),a=r(302586),o=r(348136),l=r(240624),s=r(339502),c=r(918152),d=r(897379),u=r(841563),p=r.n(u),m=r(966712),_=r(860601),h=r(96328),g=r(946689),f=r(439729),E=r(574176),y=r(46481),b=r(939863),v=r(662275),I=r(27703),T=r(99506),S=r(243987),w=r(837502),A=r(239671),C=r(802026),N=r(103271),O=r(498606),L=r(791929),R=r(140830),P=r(723856),k=r(614210),D=r(971646),M=r(303159),x=r(490800),F=r(515471),U=r(234269),B=r(109361),H=r(547008),V=r(54375),G=r(358617),W=r(767069),K=r(750652),Y=r(353252),j=r(650063),z=r(658891),$=r(168379),Z=r(153529);let q="file-share-audience-select-key",J="file-share-level-select-key";class X extends n.PureComponent{constructor(){super(...arguments),this.state={descriptionModeExpanded:!1,unsavedDropdownValues:null,isLinkExpirationInputDisplayed:!!this.getExpiration()||(0,w.Q3)(this.props.sharedOrgLicenseGroupSetting),publicLinkDisplayState:x.im.VIEW},this.onCollapseDescription=()=>{this.setState({descriptionModeExpanded:!1})},this.onExpandDescription=()=>{this.setState({descriptionModeExpanded:!0})},this.onUpdateUnsavedDropdownValues=e=>{this.setState({unsavedDropdownValues:e})},this.onUpdatePublicLinkDisplayStatus=e=>{this.setState({publicLinkDisplayState:e})},this.onResetProperties=()=>{this.setState({unsavedDropdownValues:null,publicLinkDisplayState:x.im.VIEW})},this.onDropdownValuesChange=e=>{let t={},r=this.state.unsavedDropdownValues||(0,P.vp)(this.props.permissions),{filePayload:n,transformedValues:i}=(0,P.YW)(r,e,this.props.team,this.props.org,this.props.isFreeUserOnly,this.props.isInDraftsFolder,(0,A.oD)(this.props.editorType)),a=(0,P.LW)(i),o=(0,w.Q3)(this.props.sharedOrgLicenseGroupSetting),l=(0,P.jm)(this.props.mainFileLinkExpirationConfig),s=o&&a&&!this.props.isBranch&&!l||o&&a&&!this.props.isBranch&&l&&r.audience!==e.audience||(0,x.Xl)(this.state.publicLinkDisplayState)&&r.audience===i.audience&&a;if("public-password"!==r.audience&&"public-password"===i.audience){if(this.props.team&&!this.props.org&&!(0,S.w5)(this.props.team)){(0,P.$M)(this.props.dispatch,this.props.editorType,this.props.team);return}(()=>{this.setState({unsavedDropdownValues:i,publicLinkDisplayState:o?x.im.EDIT_PWD_AND_EXP:x.im.EDIT_PWD,isLinkExpirationInputDisplayed:!1})})();return}if("public-password"===r.audience&&"public-password"!==i.audience&&Object.assign(t,{publicLinkDisplayState:x.im.VIEW,unsavedDropdownValues:null}),a&&(!(0,P.LW)(r)||r.audience!==e.audience)&&(o&&!this.props.isBranch||this.props.isBranch&&this.getExpiration())&&Object.assign(t,{isLinkExpirationInputDisplayed:!0,publicLinkDisplayState:this.props.isBranch?x.im.VIEW:x.im.EDIT_EXP}),"edit"===r.level&&"edit"!==i.level&&!this.props.hasEditRole&&!this.props.isOwner){let e=this.props.modalShown;this.props.dispatch(v.to({type:L.z,data:{onConfirm:()=>{e&&this.props.dispatch(v.to(e)),s?this.onUpdateUnsavedDropdownValues(i):this.props.onUpdate(n)},onCancel:()=>{e&&this.props.dispatch(v.to(e))}}}));return}if(!this.props.isBranch&&this.props.containingRepo&&function(e,t){if(!t.has_active_branches)return!1;switch(e){case"inherit":return!0;case"org":case"org-browsable":if(t.link_access===T.PQ.VIEW||t.link_access===T.PQ.EDIT)return!0;return!1;default:return!1}}(e.audience,this.props.containingRepo)){this.props.dispatch(v.to({type:R.j,data:{repoId:this.props.containingRepo.id,onConfirm:()=>{this.props.onUpdate(n)}}}));return}a||s||Object.assign(t,{publicLinkDisplayState:x.im.VIEW,unsavedDropdownValues:null}),s?Object.assign(t,{unsavedDropdownValues:i}):(this.props.onUpdate(n),Object.assign(t,{unsavedDropdownValues:null})),this.setState(t)}}componentDidUpdate(e){let t={};p()(this.getAccessPermissions(this.props.permissions),this.getAccessPermissions(e.permissions))||(0,P.og)(this.props.permissions)||Object.assign(t,{unsavedDropdownValues:null}),p()(this.getExpiration(),(0,D.d4)(e.mainFileLinkExpirationConfig))||Object.assign(t,{isLinkExpirationInputDisplayed:!!this.getExpiration()||(0,w.Q3)(this.props.sharedOrgLicenseGroupSetting)}),this.setState(t)}getAccessPermissions(e){return{has_file_link_password:e.has_file_link_password,has_proto_link_password:e.has_proto_link_password,link_access:e.link_access,proto_link_access:e.proto_link_access,org_browsable:e.org_browsable}}getExpiration(){return(0,D.d4)(this.props.mainFileLinkExpirationConfig)}shouldShowDescription(){var e;if((0,N.yq)())return!1;let t=this.props.org,r=this.state.unsavedDropdownValues||(0,P.vp)(this.props.permissions);return t&&!t.domain_capture&&(0,P.KP)(r)&&(null==(e=this.props.orgUser)?void 0:e.permission)!==T._D.GUEST}renderDescription(){if(!this.props.permissions||!this.props.org||!this.props.orgDomains||this.props.orgDomains.domains.length<=0)return n.createElement("div",null);let e=this.props.orgDomains.domains.map(e=>e.domain),t=this.props.org.name;if(this.state.descriptionModeExpanded)return n.createElement("div",null,n.createElement("p",{className:F.VP},n.createElement(b.Tx,{id:"file_access_row.org_name_members_have_emails_at_emails_list_show_less",orgName:t,emailsList:n.createElement(f.T,null,e.map(e=>n.createElement("span",{key:e},e))),showLess:n.createElement(g.CY,{onClick:this.onCollapseDescription,trusted:!0},n.createElement(b.Tx,{id:"file_access_row.show_less"}))})));{let r=e[0],i=e.length-1;return n.createElement("p",{className:F.VP},n.createElement(b.Tx,{id:"file_access_row.orgname_members_have_emails_at_first_domain_plus_others",domainCount:e.length,orgName:t,firstDomain:r,remainingDomainCountLink:n.createElement(g.CY,{onClick:this.onExpandDescription,trusted:!0},n.createElement(b.Tx,{id:"file_access_row.remaining_domain_count_more",remainingDomainCount:i}))}))}}render(){let e=this.state.unsavedDropdownValues||(0,P.vp)(this.props.permissions),{passwordSetAt:t,passwordSetByUser:r,hideLinkAccessInfo:i,mainFileLinkExpirationConfig:a}=this.props,o="inherit"===e.audience,l=H.A;o?l=W.A:"public-password"===e.audience?l=z.A:"public"===e.audience?l=B.A:"org"===e.audience?l=$.A:"org-browsable"===e.audience&&(l=Y.A),this.props.inWorkshop&&"public-password"!==e.audience&&(l=B.A);let s=!!e.publicProto||!this.shouldShowDescription();return n.createElement(n.Fragment,null,n.createElement("div",{"data-onboarding-key":"file-access-row"},n.createElement("div",{className:F.xf},!this.props.isUI3&&n.createElement(E.B,{className:F.wk,svg:l}),n.createElement("div",{className:F.$S},!i&&n.createElement(en,{...this.props,ui3Icon:this.props.isUI3?n.createElement(ea,{audience:e.audience,isSelected:!0}):void 0,dropdownValues:e,onDropdownValuesChange:this.onDropdownValuesChange}),i&&n.createElement(n.Fragment,null,n.createElement(b.Tx,{id:"file_access_row.only_editors_can_invite_people_to_this_file.seat_rename"})))),n.createElement(k.e,{isPasswordProtected:(0,P.og)(this.props.permissions),passwordSetAt:t,passwordSetByUser:r||null,expirationSetByUser:a?a.setByUser:null,onResetProperties:this.onResetProperties,dropdownValues:e,displayState:this.state.publicLinkDisplayState,currentExpiration:this.getExpiration(),shouldShowDescription:this.shouldShowDescription(),renderDescription:this.renderDescription.bind(this),onDropdownValuesChange:this.onDropdownValuesChange,onUpdateDisplayStatus:this.onUpdatePublicLinkDisplayStatus,...this.props}),s&&n.createElement("div",null)))}}function Q(e){let{has_file_link_password:t,has_proto_link_password:r}=e;return!!t||!!r}function ee(e,t){switch(e){case"public":if(t.link_access!==T.PQ.VIEW&&t.link_access!==T.PQ.EDIT||Q(t))return!0;return!1;case"org":case"org-browsable":if(t.link_access===T.PQ.INHERIT||Q(t))return!0;return!1;default:return!1}}class et extends n.PureComponent{constructor(){super(...arguments),this.FILE_LINK_AUDIENCE_DROPDOWN="file-link-audience-dropdown",this.onAudienceChange=e=>{let t={...this.props.dropdownValues,audience:e};(0,P.KP)(t)||(t.publicProto=null),this.props.onDropdownValuesChange(t)},this.isBranchOfPwdProtectedRepo=()=>!!(this.props.containingRepo&&this.props.isBranch&&Q(this.props.containingRepo)),this.getInviteOnlyText=e=>this.isBranchOfPwdProtectedRepo()?(0,b.t)("file_access_row.anyone_with_the_link_and_password"):(0,b.t)("file_access_row.only_people_invited_to_this_noun",{noun:e}),this.orgOptions=()=>{let e=(0,w.Bg)(this.props.sharedOrgLicenseGroupSetting),t=(0,w.Cy)(this.props.sharedOrgLicenseGroupSetting),r=this.props.fileKey&&this.props.editorType===A.nT.Whiteboard&&(0,w.Q3)(this.props.sharedOrgLicenseGroupSetting),i=this.props.editorType===A.nT.Slides&&!(0,m.kc)().piper_create_public_links,a=!!this.props.containingRepo&&this.props.isBranch,o=(0,b.t)("file_access_row.anyone_with_the_link");!this.props.inWorkshop&&(e||t||r||i)&&(o=(0,b.t)("file_access_row.anyone_with_the_link_disabled_by_admin"));let l=this.props.org.name,s=this.props.noun,c=[{type:"option",key:"public",text:o,icon:n.createElement(ei,{icon:U.A,audience:"public"}),disabled:e||t||r||i||!!a&&ee("public",this.props.containingRepo)}],d=(0,b.t)("file_access_row.anyone_with_the_link_and_password");return!this.props.inWorkshop&&(e||r||i)&&(d=(0,b.t)("file_access_row.anyone_with_the_link_and_password_disabled_by_admin")),c.push({type:"option",key:"public-password",text:d,icon:n.createElement(ei,{icon:j.A,audience:"public-password"}),disabled:e||r||i||!!this.props.isBranch||!!this.props.isPublishedHubFile}),c.push({type:"separator"}),c.push({type:"option",key:"org",text:(0,b.t)("file_access_row.anyone_at_org_name_with_the_link",{orgName:(0,h.EJ)(l,37)}),icon:n.createElement(ei,{icon:Z.A,audience:"org"}),disabled:!!a&&ee("org",this.props.containingRepo)}),this.showOrgBrowsable()&&c.push({type:"option",key:"org-browsable",text:(0,b.t)("file_access_row.anyone_at_org_name",{orgName:(0,h.EJ)(l,37)}),icon:n.createElement(ei,{icon:K.A,audience:"org-browsable"}),disabled:!!a&&ee("org-browsable",this.props.containingRepo)}),c.push({type:"separator"}),c.push({type:"option",key:"inherit",text:this.getInviteOnlyText(s),icon:n.createElement(ei,{icon:G.A,audience:"inherit"})}),c},this.nonOrgOptions=()=>{let e=this.props.noun,t=!!this.props.team||(0,P.og)(this.props.permissions),r=[{type:"option",key:"public",text:(0,b.t)("file_access_row.anyone_with_the_link")}];return t&&r.push({type:"option",key:"public-password",text:(0,b.t)("file_access_row.anyone_with_the_link_and_password")}),r.push({type:"option",key:"inherit",text:this.getInviteOnlyText(e)}),r}}showOrgBrowsable(){let{dropdownValues:e,isBranch:t}=this.props;return!("proto-view-only"===e.level||t)}render(){let e=this.props.hasEditRole,t=this.props.dropdownValues.audience;return this.props.inWorkshop&&"public-password"!==t&&(t="public"),n.createElement(M.H,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,value:t,options:this.props.org?this.orgOptions():this.nonOrgOptions(),onChange:this.onAudienceChange,id:this.FILE_LINK_AUDIENCE_DROPDOWN,dataOnboardingKey:q,placeholder:(0,b.t)("file_access_row.only_people_invited_to_this_noun",{noun:this.props.noun}),disabled:!e&&!this.props.isOwner||this.props.inWorkshop||this.isBranchOfPwdProtectedRepo(),trackingProperties:{canUserAccessProFeature:(0,S.w5)(this.props.team)},ui3Icon:this.props.ui3Icon})}}et.displayName="FileLinkAudience";class er extends n.PureComponent{constructor(){super(...arguments),this.LINK_LEVEL_DROPDOWN="link-level-dropdown",this.onLevelChange=e=>{this.props.onDropdownValuesChange({...this.props.dropdownValues,level:e})}}showEditOption(){let{dropdownValues:e,team:t,isFreeUserOnly:r,org:n,isInDraftsFolder:i}=this.props;return"edit"===e.level||(n?"inherit"!==e.audience&&!(n.invite_whitelist_guest_invite_setting===C.Gv.BANNED&&"public"===e.audience):!!(0,I.Oi)(t,r,i))}showEditWarning(){let{dropdownValues:e,org:t,inWorkshop:r}=this.props;return!!t&&!r&&"edit"===e.level&&"public"===e.audience&&t.invite_whitelist_guest_invite_setting===C.Gv.REQUIRE_APPROVAL}showPrototypeOnlyOption(){let{dropdownValues:e}=this.props;return"org-browsable"!==e.audience}render(){let{dropdownValues:e,team:t,hasEditRole:r,editorType:i}=this.props,a="inherit"===e.audience&&"proto-view-only"!==e.level,o=[];if(a){let e=[{type:"option",key:"edit",text:(0,b.t)("file_access_row.can_edit")}],t=[{type:"option",key:"access",text:(0,b.t)("file_access_row.can_access")}];return n.createElement(M.H,{dataOnboardingKey:J,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,value:this.props.inWorkshop?"edit":"access",options:this.props.inWorkshop?e:t,onChange:_.lQ,id:this.LINK_LEVEL_DROPDOWN,disabled:!0})}return(this.showEditOption()||this.props.inWorkshop)&&o.push({type:"option",key:"edit",text:(0,b.t)("file_access_row.can_edit")}),o.push({type:"option",key:"view",text:(0,b.t)("file_access_row.can_view")}),(0,S.w5)(t)&&i===A.nT.Design&&this.showPrototypeOnlyOption()&&o.push({type:"option",key:"proto-view-only",text:(0,b.t)("file_access_row.can_view_prototypes")}),n.createElement("div",{className:this.showEditWarning()?F.b$:""},this.showEditWarning()&&n.createElement(E.B,{className:F.G,svg:V.A,"data-tooltip-max-width":201,"data-tooltip-timeout-delay":50,"data-tooltip-type":O.Ib.TEXT,"data-tooltip":(0,b.t)("file_access_row.external_users_can_view_this_file_but_need_admin_approval_to_edit")}),n.createElement(M.H,{dataOnboardingKey:J,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,value:this.props.inWorkshop?"edit":e.level,options:o,onChange:this.onLevelChange,id:this.LINK_LEVEL_DROPDOWN,disabled:!r&&!this.props.isOwner||1===o.length||this.props.inWorkshop}))}}function en(e){return n.createElement(n.Fragment,null,n.createElement(et,{...e}),n.createElement(er,{...e}))}function ei({icon:e,...t}){return n.createElement(y.U,{className:F.qB,svg:e},n.createElement(ea,{...t}))}function ea({audience:e,isSelected:t=!1}){switch(e){case"inherit":return n.createElement(i.c,null);case"public":return n.createElement(a.Y,null);case"public-password":return n.createElement(o.m,null);case"org":return t?n.createElement(l.w,null):n.createElement(s._,null);case"org-browsable":return n.createElement(c.Y,null);default:return n.createElement(d.r,null)}}er.displayName="FileLinkLevel"},303159:(e,t,r)=>{"use strict";r.d(t,{H:()=>A,V:()=>w});var n=r(411855),i=r(326331),a=r(629019),o=r.n(a),l=r(91408),s=r(268537),c=r(46481),d=r(47506),u=r(175290),p=r(809840),m=r(738269),_=r(672517),h=r(720488),g=r(45265),f=r(392327),E=r(515471),y=r(289298);let b=(0,l.hG)(f.p3),v=(0,l.hG)(g.km),I=(0,l.hG)(g.LF),T=(0,l.hG)(g.hX),S=b-v/2;function w({dispatch:e,dropdownClassName:t,dropdownShown:r,options:i,value:a,onChange:l,trackingProperties:c={}}){var d;let[_,g]=(0,n.useState)(0),[f,y]=(0,n.useState)(window.innerWidth),w=()=>{y(window.innerWidth)};(0,n.useEffect)(()=>(window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)),[]);let A=n.useRef(null),C=n.useRef(null);(0,n.useEffect)(()=>{var e;if(A.current&&C.current){let t=A.current.getBoundingClientRect(),r=null==(e=A.current.offsetParent)?void 0:e.getBoundingClientRect();!t||!r||t.top>=r.top&&t.bottom<=r.bottom||(A.current.scrollIntoView(!1),C.current.scrollBy(8)),g(t.width)}},[]);let N={...(null==(d=null==r?void 0:r.data)?void 0:d.position)||{top:0,left:0}},O=0,L=0,R=!1,P=-1,k=i.map((t,r)=>{var o;if("separator"===t.type)return R||(O+=T),L+=T,n.createElement(s.W.Separator,{key:t.key?String(t.key):r,dataTestId:`dropdown-separator-${r}`});let d=t.key===a;d&&(P=r),R=R||d;let _=t.subtext?I:v;R||(O+=_),L+=_;let h={};return t.subtext&&(null==(o=i[r+1])?void 0:o.type)!=="separator"&&(h.paddingBottom=8,L+=8),n.createElement("div",{key:String(t.key),ref:d?A:null,style:h,"data-testid":`dropdown-option-${r}`,"data-onboarding-key":`dropdown-option-${String(t.key)}`},n.createElement(s.W.CheckableOptionTrackable,{checked:d,onClick:r=>{r.stopPropagation(),d||l(t.key),e(m.oB())},trackingProperties:{...c,key:String(t.key)},disabled:t.disabled,"data-testid":`dropdown-option-checkable-${r}`},n.createElement("div",{style:{display:"flex",alignItems:"center"}},!!t.icon&&n.createElement(n.Fragment,null,t.icon),n.createElement(u.Y,{direction:"vertical",spacing:4,height:_,verticalAlignItems:"center"},n.createElement(p.E,{fontSize:12},t.text),t.subtext&&n.createElement(p.E,{fontSize:11,color:"menu-disabled"},t.subtext)))))});_+N.left+4>f&&(N.left="auto",N.right=4);let D=16;P===i.length-1&&(D=8),"auto"!==N.top&&void 0!==N.top&&(N.top-=Math.min(O,S-D),N.top=Math.max(16,N.top));let M=n.createElement(h.g1,{maxDropdownHeight:e=>"auto"===N.top||void 0===N.top?b:Math.min(b,Math.round(e-N.top-8-16)),dropdownChildrenHeight:L,ref:C},k);return n.createElement(s.W.DropdownWithScrim,{stopScrollPropagation:!0,dispatch:e,className:o()(E.N1,t),style:N},M)}function A({dispatch:e,dropdownShown:t,value:r,options:a,onChange:l,id:s,placeholder:u,disabled:p=!1,dropdownData:h={},isOpen:g,trackingProperties:f={},dataOnboardingKey:b,onOpenRcsEvent:v,ui3Icon:I}){let T=(0,n.useRef)(null),S=a.findIndex(e=>"option"===e.type&&e.key===r),A=a[S],C=(null==A?void 0:A.type)==="option"?A.selectedLabel||A.text:u,N=(null==A?void 0:A.type)==="option"&&A.selectedLabelClass||"";return g=g??(null==t?void 0:t.type)===s,n.createElement("div",{ref:T},n.createElement(_.jm,{trackingProperties:f,className:o()({[E.Lt]:!p,[E.rp]:I}),onClick:p?void 0:r=>{r.stopPropagation(),r.preventDefault(),t&&t.type===s?e(m.oB()):a.length&&!p&&(e(m.j7({type:s,data:{...h,...function(e){var t;let r=null==(t=e.current)?void 0:t.getBoundingClientRect();return r?{position:{top:r.top,bottom:"auto",left:r.left,right:"auto"}}:{}}(T)}})),v&&(0,d.YQ)({id:v}))}},I,n.createElement("div",{className:`${E.Ck} ${N}`,"data-testid":"dropdown-label"},C),!p&&n.createElement("div",{className:E.Lo},n.createElement(c.U,{"data-onboarding-key":!p&&b?b:"",svg:y.A},n.createElement(i.r,null)))),g&&n.createElement(w,{dispatch:e,dropdownShown:t,dropdownClassName:E.W8,value:r,options:a,onChange:l,trackingProperties:f}))}},623910:(e,t,r)=>{"use strict";r.d(t,{gx:()=>R,xq:()=>O});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(358145),s=r(499737),c=r(574176),d=r(47506),u=r(939863),p=r(944682),m=r(662275),_=r(988022),h=r(67085),g=r(27703),f=r(29680),E=r(499743),y=r(892542),b=r(279453),v=r(707465),I=r(239671),T=r(498606),S=r(136297),w=r(632462),A=r(67471),C=r(602346),N=r(681109);let O="simple-sharing-copy-link-button",L=!1;function R(e){let{fileKey:t,selectedView:r,startingPointsData:a,isFigJamTry:o,userId:c}=e,[T,S]=n.useState(!1),C=(0,i.wA)(),N=(0,f.aV)(),O=(0,f.eY)(),R=(0,i.d4)(e=>e.mirror.appModel.pagesList.length),k=(0,i.d4)(e=>e.mirror.appModel.isReadOnly),D=(0,E.p)(),M=n.useRef(),x=(0,s.Rs)(b.SxV,{fileKey:t}),F="loaded"===x.status?x.data.file:null,U=(0,l.ZC)(x.status),B="prototype"===r.view,H="fullscreen"===r.view,V=H&&N,G=n.useCallback(()=>{o?C((0,m.to)({type:A.p,data:{fileKey:t}})):C((0,m.to)({type:w.g_,data:{fileKey:t,source:B?h.nk.prototypeCopyLinkButtonVisualBell:h.nk.fullscreenCopyLinkButtonVisualBell}}))},[C,o,t,B]),W=(0,h.bj)(F,B),K=n.useCallback(e=>{let n=(0,v.s5)(r),i=n?O.get(n):null;C(p.S({fileKey:t,source:y.d.SIMPLE_SHARING_COPY_LINK_BUTTON,url:(0,g.um)({selectedView:r,file:e,repo:e.repo,attributionContext:(0,y.b)(D,y.d.SIMPLE_SHARING_COPY_LINK_BUTTON),isReadOnly:k,isFigJam:"fullscreen"===r.view&&r.editorType===I.nT.Whiteboard}),visualBellMessageOverride:(0,h.RS)({nodeType:null==i?void 0:i.type,selectedView:r,startingPointsData:a,numPages:R}),visualBellButton:{text:(0,u.t)("permissions.copy_link_button.visual_bell.see_link_settings"),action:()=>G()},trackingProperties:{access:null==W?void 0:W.access,isPrototype:B}}))},[D,C,t,B,R,O,r,a,W,G,k]),Y=n.useCallback(()=>{!V&&("loading"===x.status?S(!0):F&&K(F))},[F,K,V,x.status]);return n.useEffect(()=>{"loaded"===x.status&&"loading"===U&&T&&F&&(K(F),S(!1))},[T,F,K,U,x.status]),n.createElement(P,{onClick:Y,tooltip:(null==W?void 0:W.tooltipText)||"",onMouseEnter:()=>{F&&W&&((0,d.YQ)({id:"Copy link button interacted"}),L||(M.current=setTimeout(()=>{var e;L=!0,(0,_.qD)({name:"Simple Sharing: Permission Tooltip",userId:c,fileKey:F.key,fileTeamId:F.teamId,fileParentOrgId:null==(e=F.org)?void 0:e.id,access:W.access,productType:(0,_.pi)(F),isPrototype:B})},2e3)))},onMouseLeave:()=>{clearTimeout(M.current)},isFigJam:H&&r.editorType===I.nT.Whiteboard})}function P(e){let t=n.createElement(c.B,{svg:N.A,title:(0,u.t)("permissions.copy_link_button.title"),role:"img"}),r=o()((0,S.M)(!0,!1),{[C.rr]:!e.isFigJam,[C.oC]:e.isFigJam});return n.createElement("button",{onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:r,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":e.tooltip,"data-tooltip-max-width":300,"data-onboarding-key":O},t)}},1700:(e,t,r)=>{"use strict";r.d(t,{E4:()=>S,R9:()=>I,_r:()=>C,hP:()=>T,nu:()=>w});var n=r(411855),i=r(188507),a=r(74522),o=r(629019),l=r.n(o),s=r(574176),c=r(46481),d=r(939863),u=r(720647),p=r(99506),m=r(243987),_=r(147206),h=r(265361),g=r(668860),f=r(498606),E=r(303159),y=r(515471),b=r(860574),v=r(957412);function I(e){let t="level-change-dropdown",r=(0,i.wA)(),a=()=>e.dropdownShown&&e.dropdownShown.type===t&&e.dropdownShown.data.dropdownId===e.id;return n.createElement("div",{className:e.inSharingClarity?y.zn:y.xf},n.createElement("div",{className:y.H},n.createElement(T,{user:e.user,contacts:e.contacts,id:e.id,pending:e.pending})),n.createElement("div",{className:y.$S},n.createElement("div",{key:`name-${e.id}`,className:e.pending?y.NE:y.UU},e.userName),e.warningMessage&&n.createElement(s.B,{className:y.QW,svg:v.A,"data-tooltip-timeout-delay":50,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":e.warningMessage}),e.warningTooltipId&&n.createElement(s.B,{className:y.QW,svg:v.A,"data-tooltip-type":f.Ib.SPECIAL,"data-tooltip":e.warningTooltipId,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0}),(()=>{let i=e.getRoleOptions();return i?n.createElement(E.H,{dispatch:r,onChange:e.onChangeLevel,options:i,id:t,value:e.level,dropdownShown:e.dropdownShown,dropdownData:{dropdownId:e.id},isOpen:!!a()}):n.createElement("span",{className:y.C1},(0,_.C1)(e.level,e.isBranchFile))})()))}function T(e){let{user:t,pending:r,contacts:i}=e,o=!1===r?t.img_url:t.email&&t.email in i&&i.usersByEmail[t.email].img_url;return o?n.createElement("img",{"data-tooltip-type":f.Ib.TEXT,"data-tooltip":e.user.email,key:`avatar-${e.id}`,src:o,className:l()(e.pending?y.LS:y.my,e.small&&y.dT),alt:""}):n.createElement("div",{className:l()(y.f1,e.small&&y.dT),"data-tooltip-type":f.Ib.TEXT,"data-tooltip":e.user.email},n.createElement(c.U,{key:`avatar-${e.id}`,svg:b.A,className:l()(y.Zk,e.small&&y.dT)},n.createElement(a.A,{className:l()(y.Zk,e.small&&y.dT)})))}function S(e,t){return!1===e.pending?e.user.handle:e.user.email in t?t.usersByEmail[e.user.email].handle:e.user.email}function w(e,t,r,n,i,a,o,l,s,c){let u=[],h=!1;if(!r)return null;s&&a===g.e6.VIEW_PROTOTYPES?u.push({type:"option",key:g.e6.VIEW_PROTOTYPES,text:(0,_.C1)(g.e6.VIEWER)}):t?u.push(A(a)):(e&&!i&&u.push(A(g.e6.OWNER)),n&&u.push(A(g.e6.ADMIN)),u.push(A(g.e6.EDITOR)),u.push(A(g.e6.VIEWER)),(o===p.vt.FILE||o===p.vt.FILE_REPO)&&(0,m.w5)(l)&&!c&&u.push(A(g.e6.VIEW_PROTOTYPES)),h=i);let f=t&&!e?(0,d.t)("confirm_remove_role.leave"):(0,d.t)("confirm_remove_role.remove");return u.push({type:"separator"}),h&&u.push({type:"option",key:"resend",text:(0,d.t)("role_row.resend_invite")}),u.push({type:"option",key:g.e6.NONE,text:f}),u}function A(e){return{type:"option",key:e,text:(0,_.C1)(e)}}function C(e,t){let r="";return e&&!t?r=(0,h.E)(u.oM.DESIGN):!e&&t&&(r=(0,h.E)(u.oM.WHITEBOARD)),r}},56714:(e,t,r)=>{"use strict";r.d(t,{I$:()=>T,Jr:()=>w,UM:()=>A,cG:()=>S});var n=r(966712),i=r(882225),a=r(813408),o=r(93623),l=r(492330);let s={id:"4317920",team_id:null,org_id:"675025436003846244",location:"San Francisco, CA",profile_handle:"asana",public_at:"2020-05-06T20:49:58.442Z",follower_count:341,following_count:0,primary_user_id:null,name:"Asana",img_url:"https://s3-alpha.figma.com/profile/d8034acd-76dd-4b36-98da-58fdf79529f2",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/d8034acd-76dd-4b36-98da-58fdf79529f2","500_500":"https://s3-alpha.figma.com/profile/5c98d80b-d276-446c-8080-7e586b085612"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:a.o1.ORG,website:"asana.design",twitter:"twitter.com/asanadesignteam",instagram:"instagram.com/asanadesignteam",description:"We\u2019re the Design team behind Asana.\nWe design the future of teamwork. \u2728\n\nJoin us: asana.com/jobs/product",pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"/profile/4317920/cover_image",is_community_beta:!0,badges:[i.s.FIGMA_PARTNER]},c={id:"1521",team_id:null,org_id:"703355754804194517",location:"Sydney, Australia",profile_handle:"atlassian",public_at:"2020-06-22T18:25:34.800Z",follower_count:4297,following_count:0,primary_user_id:null,name:"Atlassian",img_url:"https://s3-alpha.figma.com/profile/c1b2cbe9-346d-4ba4-9af0-aca1bc444657",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/c1b2cbe9-346d-4ba4-9af0-aca1bc444657","500_500":"https://s3-alpha.figma.com/profile/26a88a1d-27d7-460c-9301-dd0910d39614"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:a.o1.ORG,website:"https://atlassian.com",twitter:null,instagram:null,description:"The official home of Atlassian's design resources in Figma.",pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"/profile/1521/cover_image",is_community_beta:!0,badges:[i.s.FIGMA_PARTNER]},d={id:"1608",team_id:null,org_id:"797266083973274396",location:null,profile_handle:"github",public_at:"2020-02-12T18:27:36.218Z",follower_count:126,following_count:0,primary_user_id:null,name:"GitHub",img_url:"https://s3-alpha.figma.com/profile/2789d808-2da3-4e73-a540-a7333e924556",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/2789d808-2da3-4e73-a540-a7333e924556","500_500":"https://s3-alpha.figma.com/profile/84ae1734-e47e-4945-884c-f536e5d3f427"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:a.o1.ORG,website:"https://www.github.com",twitter:null,instagram:null,description:null,pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"",is_community_beta:!1,badges:[i.s.FIGMA_PARTNER]},u={id:"1731",team_id:null,org_id:null,location:"Los Angeles, CA",profile_handle:"snap",public_at:"2020-03-02T14:56:23.081Z",follower_count:17,following_count:0,primary_user_id:null,name:"Snapchat",img_url:"https://s3-alpha.figma.com/profile/7a97c4dc-8a42-4273-bcdd-d97bcabcd0b2",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/7a97c4dc-8a42-4273-bcdd-d97bcabcd0b2","500_500":"https://s3-alpha.figma.com/profile/7bbd1ecd-0481-4423-9092-58ec01c00d68"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:a.o1.ORG,website:"https://www.snapchat.com/l/en-gb/",twitter:null,instagram:null,description:null,pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"/profile/1731/cover_image",is_community_beta:!1,badges:[]},p={id:"2480257",team_id:null,org_id:null,location:"San Francisco, CA",profile_handle:"figma",public_at:"2019-10-21T22:53:16.561Z",follower_count:16253,following_count:53,primary_user_id:"768244674400796816",name:"Figma",img_url:"https://s3-alpha.figma.com/profile/c82ecc52-1c47-405d-980b-904ff54c6577",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/c82ecc52-1c47-405d-980b-904ff54c6577","500_500":"https://s3-alpha.figma.com/profile/c4bc0357-6f54-412a-ac89-f311905bbec5"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:a.o1.USER,website:"www.figma.com",twitter:"twitter.com/figma",instagram:"instagram.com/figma",description:"Figma is the design tool for teams who build products together. Claim your community profile here: https://bit.ly/3euhKR9",pronouns:null,has_shared_teams:!1,has_shared_orgs:null,redirect_cover_image_url:"/profile/2480257/cover_image",is_community_beta:!0,badges:[]},m="1098405969270214551",_="1094001923188252679",h="1101944648482192724",g="1151936790942917527",f={[s.id]:m,[d.id]:h,[c.id]:_,[u.id]:g},E="1220512233196109878",y="1220802563996996107",b={[d.id]:E,[c.id]:y};function v(){return(!!(0,n.kc)().widgets_hardcode_cocreators||!!(0,n.kc)().cmty_hardcode_cocreators)&&"prod"===(0,n.tl)().cluster_name}function I(e){if(!v())return[];switch(e){case m:return[p,s];case y:case _:return[p,c];case E:case h:return[p,d];case g:return[p,u];default:return[]}}function T(e){var t;if(!v())return e;let r=I(e.id);if(0===r.length)return e;let n=((null==(t=e.community_publishers)?void 0:t.accepted)??[]).filter(e=>!r.find(t=>t.id===e.id)),i=r.concat(n);return{...e,community_publishers:{...e.community_publishers,accepted:i}}}function S(e,t){let r=I(e).map(e=>e.name);if(0===r.length)return t;let n=t.filter(e=>!r.includes(e));return r.concat(n)}async function w(e){if(!v())return[];try{let t=f[e];if(t){let e=(await l.U.getVersions({widgetId:t})).data.meta.plugin;return[T(e)]}}catch(e){console.error(e)}return[]}async function A(e){if(!v())return[];try{let t=b[e];if(t){let e=(await o.V.getVersions({pluginId:t})).data.meta.plugin;return[T(e)]}}catch(e){console.error(e)}return[]}},927625:(e,t,r)=>{"use strict";r.d(t,{AB:()=>ef,Ho:()=>es,Q7:()=>em,TL:()=>ey,cS:()=>eg,hT:()=>eE,v_:()=>eb});var n,i,a,o,l,s=r(411855),c=r(188507),d=r(629019),u=r.n(d),p=r(935283),m=r(737947),_=r(498750),h=r(563706),g=r(563042),f=r(761870),E=r(498480),y=r(696601),b=r(708258),v=r(574176),I=r(348425),T=r(939863),S=r(392592),w=r(674694),A=r(590237),C=r(837324),N=r(545941),O=r(853799),L=r(727749),R=r(738269),P=r(662275),k=r(672517),D=r(697551),M=r(27703),x=r(560718),F=r(820642),U=r(215822),B=r(555328),H=r(376485),V=r(498606),G=r(978527),W=r(977468),K=r(619031),Y=r(720488),j=r(127391),z=r(466636),$=r(746738),Z=r(580999),q=r(821134),J=r(350913),X=r(326869),Q=r(457689),ee=r(734309),et=r(832807),er=r(432845),en=r(885700),ei=r(109226),ea=r(758064),eo=r(237494),el=r(851750);function es(e){let t;let[r,n]=s.useState(!1),i=!r&&e.isSet?er.Bz:e.isWhiteboard?er.kj:er.h1,a=e.showNewBadge?s.createElement(em,null):e.showFigPickBadge?s.createElement(ep,null):s.createElement(s.Fragment,null),o=u()(e.isSet?er.mH:er.ZX,{[er.eB]:e.includeChromiumDownscalingFix&&h.Ay.chrome},e.imageClassName);return t=e.image?e.showOriginalThumbnail?s.createElement("img",{className:o,src:e.image,loading:"lazy",onLoad:()=>n(!0),alt:e.alt,draggable:!1}):s.createElement(w.Xy,{className:o,image:e.image,onLoad:()=>n(!0),hubFileId:e.hubFileId,alt:e.alt,thumbnailContext:e.thumbnailContext,resizedThumbnailUrls:e.resizedThumbnailUrls}):s.createElement(X.Ek,null),s.createElement("div",{className:i,style:{backgroundColor:e.backgroundColor}},t,a,e.showPrototypeIcon&&s.createElement("div",{className:er.cT},s.createElement(I.t,{svg:el.A,className:er.wr,useOriginalSrcFills_DEPRECATED:!0,fallbackSvg:el.A})),e.showWhiteboardIcon&&s.createElement(e_,null))}function ec(e){let t=(0,c.d4)(e=>e.orgById),r="search"===(0,c.d4)(({selectedView:e})=>e).view,n=e.plugin.org_id&&(null==t?void 0:t[e.plugin.org_id]),i=(0,U.uF)(e.plugin),{tagline:a,description:o,name:l}=i,d=(0,N.G8)({description:e.isPublishing?"":o??"",tagline:a??""},g.$J);return s.createElement("div",{className:er.Ak},s.createElement("div",{className:er.vG},s.createElement("img",{src:i.redirect_icon_url,loading:"lazy",alt:""})),s.createElement("div",{className:er.wA},s.createElement(G.V,{plugin:i,className:er.Az,loading:"lazy",alt:""})),l&&s.createElement("div",{className:er.K9},l),d&&s.createElement("div",{className:l?er.Ry:er.Tk},d),r&&n&&s.createElement("div",{className:er.jG},s.createElement(j.H,{entityId:n.id,entityName:n.name,imgUrl:n.img_url,hideTooltip:!0}),n.name),e.showNewBadge?s.createElement(em,null):e.showInstalledIcon&&s.createElement("span",{className:er.qP},s.createElement(T.Tx,{id:"community.plugins.saved"})),e.children)}s.memo(function(e){function t(){return e.name?s.createElement("div",{className:er.ZR},e.name):s.createElement("div",{className:er._},e.placeholderName)}function r(){return s.createElement("div",null,e.author?e.author:s.createElement("div",{className:er.JM}))}return s.createElement(s.Fragment,null,s.createElement("div",{className:e.showFileNameAsPrimary?er.cR:er.i1,onClick:e.onClick},s.createElement("div",{className:er.__},s.createElement("a",{className:er.t5,href:e.href,onClick:e=>e.preventDefault(),style:{backgroundColor:e.backgroundColor,backgroundClip:h.Ay.safari?"padding-box":""}},s.createElement(es,{image:e.backgroundImage,isWhiteboard:e.isWhiteboard,isSet:!!e.thumbnailIsSet,showFigPickBadge:e.showFigPickBadge,showNewBadge:e.showNewBadge,showPrototypeIcon:e.isPrototype,showWhiteboardIcon:e.isWhiteboard,showOriginalThumbnail:e.showOriginalThumbnail,hubFileId:e.hubFileId,alt:e.name}))),s.createElement("div",{className:er.HC},s.createElement("div",{className:er.dB},e.showFileNameAsPrimary?s.createElement(r,null):s.createElement(t,null)),s.createElement("div",{className:er.bI},s.createElement("div",{className:er.vz},ed(e.commentsSetting)&&s.createElement(eu,{count:e.commentCount}),e.duplicateButton),e.showFileNameAsPrimary?s.createElement(t,null):s.createElement(r,null)))))});let ed=e=>e!==x.Ni.ALL_DISABLED;function eu(e){return s.createElement("div",{className:er.Z2},s.createElement(v.B,{className:er.Ls,svg:ea.A})," ",e.count)}function ep(){return s.createElement("div",{className:er.jq,"data-tooltip-type":V.Ib.TEXT,"data-tooltip":(0,T.t)("community.profiles.boosted_by_the_figma_team"),"data-tooltip-show-immediately":!0},s.createElement(E.Ex,{text:(0,T.t)("community.profiles.fig_pick"),color:E.zE.BRAND,className:er.q2}))}function em(){return s.createElement("div",{className:er.jq},s.createElement(E.Ex,{text:(0,T.t)("community.profiles.new"),color:E.zE.SUCCESS,className:er.q2}))}function e_(){return s.createElement("div",{className:er.o_,"data-tooltip-type":V.Ib.TEXT,"data-tooltip":(0,T.t)("community.profiles.made_in_fig_jam"),"data-tooltip-show-immediately":!0},s.createElement(I.t,{svg:en.A,useOriginalSrcFills_DEPRECATED:!0,fallbackSvg:en.A}))}function eh(e){let{AuthorsJSX:t,CreatorsOverlay:r,creatorsOverlayProps:i}=n.useCreatorsHoverOverlay({resource:e.plugin}),a=s.createElement("div",{className:er.gx},s.createElement("div",{className:er.MN},t)),o=e.isPaid?{id:"0",badges:[],monetized_resource_metadata:{id:"0",price:(0,z.ae)(e.price),is_subscription:!1}}:null;return s.createElement("div",{className:h.Ay.mobile?er.IM:e.showAuthorByDefault?er.Gf:er.U$,onClick:e.onClick},o&&s.createElement(A.Mr,{resource:o||e.plugin}),s.createElement(r,{...i},s.createElement("div",{className:er.w},s.createElement("div",{className:er._F},s.createElement(ec,{showInstalledIcon:e.isSaved,showNewBadge:e.showNewBadge,isPublishing:e.isPublishing,plugin:e.plugin},s.createElement("div",{className:er.bs},s.createElement(b.C,{...e})))),s.createElement("div",{className:er.uB},e.showInstallCount&&s.createElement("div",{className:er.Rw},e.isPublic&&(e.author||a),!e.isPublic&&s.createElement("div",{className:er.Wf},s.createElement(v.B,{className:er.hz,svg:eo.A}),s.createElement(T.Tx,{id:"community.cards.private"})),s.createElement("div",{className:er.y},e.isPublic&&ed(e.commentsSetting)&&s.createElement(eu,{count:e.commentCount}),e.isPaid?s.createElement(Q.Ij,{metric:e.uniqueRunCount||0}):s.createElement("div",{className:h.Ay.mobile?er.hA:er.Pw},s.createElement(y.f,{className:h.Ay.mobile||e.isBrowsingAsTeamOrOrgProfile?er.Ys:e.isSaved?er.XC:er.sn,count:e.installCount,prefix:s.createElement("div",{className:er.uu},e.isSaved?"\u2713 ":"\u2193 "),onClick:h.Ay.mobile||e.isBrowsingAsTeamOrOrgProfile?void 0:e.onSaveClick}),e.isSaved&&s.createElement("div",{className:er.a_,onClick:h.Ay.mobile||e.isBrowsingAsTeamOrOrgProfile?void 0:e.onSaveClick},s.createElement(T.Tx,{id:"community.profiles.remove_from_saved_plugins"}))),e.dropdown)),!e.showInstallCount&&s.createElement(W.Ro,{entity:e.entity,size:24})))))}(e=>{function t(e){var t;return s.createElement("div",{onMouseLeave:()=>{e.setDropdownRef(null),e.setDropdownContent(null)}},e.dropdownContent&&(null==(t=e.dropdownRef)?void 0:t.current)&&s.createElement(Y.Cf,{targetRect:e.dropdownRef.current.getBoundingClientRect(),maxWidth:150,minWidth:1,type:Y.it.LIGHT,className:er.s3,disableDropdownScrollContainer:!0,propagateCloseClick:!0},s.createElement("div",{className:er.kP},e.dropdownContent)),e.children)}function r(e){let{setDropdownContent:t,setDropdownRef:r}=e,n=[s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null)],i=s.useRef(null),a=({profile:n,ref:i})=>s.createElement("span",{onMouseEnter:()=>{r(i),t(s.createElement(Z.Qi,{publisher:n,className:er.Ah}))},ref:i,className:e.avatarContainerClassName,key:`author-link-${n.id}`},s.createElement(Z.Qi,{publisher:n,className:er.CD,avatarClassName:er.Vz,avatarSize:e.avatarSize,showAvatar:!0,hideName:!0})),o=({profile:t,stylesOverride:r})=>s.createElement(Z.Qi,{key:`author-link-${t.id}`,publisher:t,className:r||er.CD,avatarClassName:er.my,avatarSize:e.avatarSize,showAvatar:!0}),l=({profiles:e,ref:n})=>{let i=s.createElement(Z.Qi,{publisher:e[0],className:er.CD});return s.createElement("div",{className:er.NB},1===e.length&&s.createElement(T.Tx,{id:"community.by_publisher",publisher:i}),e.length>1&&s.createElement(T.Tx,{id:"community.by_publisher_with_suffix",publisherName:i,publishersSuffix:s.createElement(s.Fragment,null,s.createElement("span",{ref:n,className:er.Jt,onMouseLeave:()=>{r(null)},onMouseEnter:()=>{r(n),t(s.createElement(s.Fragment,null,e.slice(1).map(e=>o({profile:e,stylesOverride:er.Ah}))))}},s.createElement(T.Tx,{id:"community.cards.pluralize_num_other_publishers",numOtherPublishers:e.length-1})))}))},{resource:c}=e;if(!c)return null;let d=c.community_publishers.accepted;return 1===d.length?e.showAuthorAndOthersTextLabel?s.createElement(s.Fragment,null,a({profile:d[0],ref:n[0]}),l({profiles:d,ref:i})):s.createElement(s.Fragment,null,o({profile:d[0]})):d.length<=4?s.createElement(s.Fragment,null,d.map((e,t)=>a({profile:e,ref:n[t]})),e.showAuthorAndOthersTextLabel&&l({profiles:d,ref:i})):s.createElement(s.Fragment,null,...d.slice(0,4).map((e,t)=>a({profile:e,ref:n[t]})),(({profiles:n,ref:i})=>s.createElement("span",{ref:i,onMouseEnter:()=>{r(i),t(s.createElement(s.Fragment,null,n.map(e=>o({profile:e,stylesOverride:er.Ah}))))},onMouseLeave:()=>{r(null)}},s.createElement(K.f,{size:e.avatarSize,className:er.zb,text:`${n.length}`})))({profiles:d.slice(4),ref:n[4]}),e.showAuthorAndOthersTextLabel&&l({profiles:d,ref:i}))}e.useCreatorsHoverOverlay=function({resource:e,avatarStyleOverrides:n={size:24,containerClassName:er.H,showAuthorAndOthersTextLabel:!1}}){let[i,a]=s.useState(null),[o,l]=s.useState(null),c=s.useMemo(()=>({setDropdownRef:l,setDropdownContent:a,dropdownRef:o,dropdownContent:i,avatarStyleOverrides:n}),[l,a,o,i,n]);return{AuthorsJSX:s.useMemo(()=>s.createElement(r,{resource:e,showAuthorAndOthersTextLabel:n.showAuthorAndOthersTextLabel,avatarSize:n.size,avatarContainerClassName:n.containerClassName,setDropdownContent:a,setDropdownRef:l}),[e,a,l,n]),CreatorsOverlay:t,creatorsOverlayProps:c}},e.Authors=r})(n||(n={})),(e=>{class t extends s.PureComponent{constructor(){super(...arguments),this.onClick=e=>{var t;if((0,_.oJ)(e)){m.Ay.redirect((0,J.ho)(null==(t=this.props.plugin)?void 0:t.id),"_blank");return}this.props.onClick()},this.loggedOutAction=(e,t,r)=>{if(h.rr){window.location.href="/login";return}this.props.onLoggedOutAction(e,t,r)},this.onUnsave=e=>{null==e||e.stopPropagation(),null==e||e.preventDefault(),this.props.currentUser&&this.props.onUnsave()},this.onSave=e=>{if(null==e||e.stopPropagation(),null==e||e.preventDefault(),!this.props.currentUser){let e=(0,T.t)("community.profiles.save_this_plugin_to_give_you_and_figma_a_boost");this.loggedOutAction(e,"plugin_install_signed_out",ei.A);return}this.props.onSave()}}isSaved(){if(this.props.isPublic)return this.props.authedActiveCommunityProfile?(0,q.a)(this.props.authedActiveCommunityProfile,this.props.plugin):this.props.plugin.profile_install_status===H.u8.PLUGIN_INSTALLED_FOR_USER;{let e=[H.u8.PLUGIN_INSTALLED_FOR_USER];return this.props.orgEntity&&e.push(H.u8.PLUGIN_INSTALLED_FOR_ORG),!!this.props.plugin.install_status&&e.includes(this.props.plugin.install_status)}}render(){let e=(0,U.uF)(this.props.plugin),t=e.description;return s.createElement(eh,{...this.props,onClick:this.onClick,href:(0,J.ho)(this.props.plugin.id),isPublic:this.props.isPublic,onSaveClick:this.isSaved()?this.onUnsave:this.onSave,description:t,tagline:e.tagline,name:e.name,showInstallCount:!0,isSaved:this.isSaved(),isLiked:this.props.currentUserLiked,installCount:this.props.plugin.install_count,likeCount:this.props.plugin.like_count,commentCount:this.props.plugin.comment_count,entity:this.props.plugin.publisher||this.props.plugin.creator,commentsSetting:this.props.plugin.comments_setting,showAuthorByDefault:this.props.showAuthorByDefault,showNewBadge:!!(this.props.lastViewedAtForNewBadge&&Date.parse(this.props.plugin.created_at)>Date.parse(this.props.lastViewedAtForNewBadge)),isBrowsingAsTeamOrOrgProfile:this.props.isBrowsingAsTeamOrOrgProfile,dropdown:this.props.dropdown,plugin:this.props.plugin})}}e.ConnectedPluginTile=(0,c.Ng)(e=>({currentUser:e.user||null,orgEntity:(0,D.Jl)(e),isBrowsingAsTeamOrOrgProfile:(0,D.cs)(e.authedActiveCommunityProfile),authedActiveCommunityProfile:e.authedActiveCommunityProfile}),(e,t)=>({onClick:()=>{var r;null==(r=t.onClick)||r.call(t),e(R.$T({view:"communityHub",subView:"plugin",publishedPluginId:t.pluginId}))},onProfileCreate:r=>{e(P.to({type:et.G$,data:{variations:[et.FF.OPT_IN],userId:r.id,onFinish:()=>e(O.C({id:t.pluginId,resourceType:B.vt.PLUGIN}))}}))},onSave:()=>{e(L.oj({id:t.pluginId,resourceType:B.vt.PLUGIN,orgId:void 0}))},onUnsave:()=>{e(L.s1({id:t.pluginId,resourceType:B.vt.PLUGIN,source:L.uR.COMMUNITY_HUB})),e(S.F.enqueue({message:(0,T.t)("community.profiles.removed_from_saved_plugins"),type:"plugin-installed",button:{text:(0,T.t)("community.comments.undo"),action:()=>{e(L.oj({id:t.pluginId,resourceType:B.vt.PLUGIN,orgId:void 0}))}}}))},onLoggedOutAction:(t,r,n)=>{e(f.I.init({origin:r})),e((0,P.to)({type:ee.l,data:{headerText:t,icon:n,dispatch:e}}))}}))(t),e.PluginTile=function(t){var r;let n=(0,c.d4)(e=>e.publishedPlugins),i=t.plugin||(0,U.my)(t.pluginId,n),a=!!(null==(r=(0,C.Bl)(i.id,B.vt.PLUGIN).data)?void 0:r[0]);return s.createElement(e.ConnectedPluginTile,{...t,plugin:i,currentUserLiked:a})}})(i||(i={}));let eg=i.PluginTile,ef=(0,k.tf)(eg);class eE extends s.Component{render(){let{numResources:e,maxResources:t,className:r}=this.props;return s.createElement(s.Fragment,null,e<t?Array(t-e).fill(null).map((e,t)=>s.createElement("div",{key:t,className:r})):null)}}eE.defaultProps={maxResources:4},(e=>{class t extends s.Component{constructor(){super(...arguments),this.onHubFileClick=(0,_.Gc)(e=>{e.preventDefault(),e.stopPropagation(),this.props.onHubFileClick()})}render(){let e=(0,F.a6)(this.props.hubFile);return s.createElement("div",{className:er.Yt},s.createElement("div",{className:er.sj},s.createElement("a",{className:er.Ai,style:{backgroundColor:(0,M.Cn)(this.props.hubFile.client_meta),backgroundImage:`url(${this.props.hubFile.thumbnail_url})`},onClick:this.onHubFileClick,href:(0,J.X$)(this.props.hubFile.id)},s.createElement("div",{className:er.tr},s.createElement("div",{className:er.Ll},e.name)))))}}t.displayName="PublicProfileHubFileTile",e.PublicProfileHubFileTile=(0,c.Ng)(null,(e,t)=>({onHubFileClick:()=>{e(R.$T({view:"communityHub",subView:"hubFile",hubFileId:t.hubFile.id}))}}))(t)})(a||(a={})),(e=>{class t extends s.Component{constructor(){super(...arguments),this.onPluginClick=(0,_.Gc)(e=>{e.preventDefault(),e.stopPropagation(),this.props.onResourceClick()})}render(){let e=(0,U.uF)(this.props.resource),t=(0,B.xQ)(this.props.resource);return s.createElement("div",{className:er.Yt},s.createElement("div",{className:er.sj},s.createElement("a",{className:er.IC,onClick:this.onPluginClick,href:t?(0,J.YW)(this.props.resource.id):(0,J.ho)(this.props.resource.id)},s.createElement(G.V,{className:er.pt,plugin:e,loading:"lazy",alt:""}),s.createElement("div",{className:er.FK},e.name))))}}t.displayName="PublicProfilePluginTile",e.PublicProfileBasePluginTile=(0,c.Ng)(null,(e,t)=>({onResourceClick:()=>{(0,B.xQ)(t.resource)?e(R.$T({view:"communityHub",subView:"widget",widgetId:t.resource.id})):e(R.$T({view:"communityHub",subView:"plugin",publishedPluginId:t.resource.id}))}}))(t)})(o||(o={})),(e=>{class t extends s.Component{constructor(e){super(e),this.onPublicProfileClick=e=>{if((0,_.oJ)(e)){let e=this.props.publicProfile;if(!e)return;m.Ay.redirect((0,J.bL)(e.profile_handle)||"","_blank");return}this.props.onPublicProfileClick()},this.updateFollowInfoOnFollowClick=()=>{let e=this.state.currentUserIsFollowing?{currentUserFollowActionCountDiff:this.state.currentUserFollowActionCountDiff-1,currentUserIsFollowing:!1}:{currentUserFollowActionCountDiff:this.state.currentUserFollowActionCountDiff+1,currentUserIsFollowing:!0};this.setState(e)},this.state={currentUserFollowActionCountDiff:0,currentUserIsFollowing:e.publicProfile.current_user_is_following}}render(){let e=this.props.publicProfile;if(!e)return null;let t={id:e.id,name:e.name,img_url:e.img_url};return s.createElement("div",{className:`${er.uy} ${this.props.notTabletSidebarOptimized?er.HG:""}`},s.createElement("div",{className:er.DU},s.createElement("div",{onClick:this.onPublicProfileClick},s.createElement(W.Ro,{entity:t,size:96,className:er.W8})),s.createElement("div",{className:er.kl},s.createElement("div",{className:er.r9,onClick:this.onPublicProfileClick},e.name),e.profile_handle&&s.createElement("div",{className:er.TD},s.createElement("div",{className:er.O3,onClick:this.onPublicProfileClick},"@",e.profile_handle),e.current_user_is_followed&&s.createElement(eb,null)),e.location&&s.createElement("div",{className:er._7},e.location),s.createElement("div",{className:er.k1},!this.props.isOwnProfile&&s.createElement($.W,{profile:e,followClassName:er.u8,followingClassName:er.u8,unfollowClassName:er.u8,onClick:this.updateFollowInfoOnFollowClick,onError:this.updateFollowInfoOnFollowClick}),s.createElement("div",null,s.createElement("div",{className:er.u0},s.createElement(T.Tx,{id:"community.follow.followers"})),s.createElement("div",{className:er.oQ},e.follower_count+this.state.currentUserFollowActionCountDiff))))),this.props.resources.length>0&&s.createElement("div",{className:er.iR},this.props.resources.map(e=>{let t=(0,C.Vm)(e);switch(t){case B.vt.HUB_FILE:return s.createElement(a.PublicProfileHubFileTile,{hubFile:e,key:e.id});case B.vt.PLUGIN:case B.vt.WIDGET:return s.createElement(o.PublicProfileBasePluginTile,{resource:e,key:e.id});default:(0,p.xb)(t)}}),s.createElement(eE,{numResources:this.props.resources.length,maxResources:6,className:er.Yt})),0===this.props.resources.length&&s.createElement("div",{className:er.t9},s.createElement(T.Tx,{id:"community.profiles.no_resources_published_yet"})))}}t.displayName="PublicProfileTile";let r=(e,t)=>{var r;return{isOwnProfile:(null==(r=e.authedActiveCommunityProfile)?void 0:r.id)===t.publicProfile.id}},n=(e,t)=>({onPublicProfileClick:()=>{t.onClick&&t.onClick(),e(R.$T({view:"communityHub",subView:"handle",handle:t.publicProfile.profile_handle}))}});e.ConnectedPublicProfileTile=(0,c.Ng)(r,n)(t),e.ConnectedPublicProfileTileTracked=(0,c.Ng)(r,n)((0,k.tf)(t))})(l||(l={}));let ey=l.ConnectedPublicProfileTile;function eb({color:e=E.zE.DEFAULT}){return s.createElement(E.Ex,{text:(0,T.t)("community.profiles.follows_you"),color:e,className:er.x7})}l.ConnectedPublicProfileTileTracked},223556:(e,t,r)=>{"use strict";r.d(t,{$W:()=>o,BX:()=>s,Ew:()=>u,Ho:()=>l,is:()=>d});var n=r(935283),i=r(992271),a=r(852800);function o(e){let t=e.getCurrentPage();(0,n.vA)(!!t,"expected currentPage to exist");let r=t.prototypeDevice;return r?r.presetIdentifier:null}function l(e,t,r){let i=t.x/t.y,a=e.x/e.y;(0,n.vA)(.01>Math.abs(i-a),`Expected ${i} \u2248 ${a}`);let o=e.x/t.x;return{x:r.x*o,y:r.y*o}}function s(e,t,r){let n=e.x/r.x;return{x:t.x*n,y:t.y*n}}let c=e=>{let t=i.hY[e];return(0,n.B1)(t,"getDeviceImageIdealSize must take in a valid presetIdentifier"),{x:t.imageSize.x/t.scaleFactor,y:t.imageSize.y/t.scaleFactor}};function d(e,t){let r=e=>({x:e.y,y:e.x}),{framePresetSize:n,offset:o}=i.hY[e],l=c(e),s=t===a.xOL.CCW_90,d={x:l.x-n.x-o.x,y:o.y};return s?{idealDeviceSize:r(l),framePresetSize:r(n),offset:r(d)}:{idealDeviceSize:l,framePresetSize:n,offset:o}}function u(e,t){let r=i.hY[e],a=i.hY[t];return(0,n.B1)(r,"expected device1 to exist"),(0,n.B1)(a,"expected device2 to exist"),r.deviceName===a.deviceName&&r.imageSize.x===a.imageSize.x&&r.imageSize.y===a.imageSize.y}},716253:(e,t,r)=>{"use strict";r.d(t,{Ah:()=>_,Fe:()=>g,HS:()=>I,Sq:()=>f,UB:()=>O,hF:()=>C,hX:()=>N,kl:()=>h,l5:()=>E,nw:()=>T,ut:()=>S,wR:()=>m,xY:()=>y});var n=r(188507),i=r(935283),a=r(939863),o=r(392592),l=r(992271),s=r(356390),c=r(852800),d=r(239671),u=r(746806),p=r(223556);let m=16,_=216,h=152,g=104,f=20;var E=(e=>(e[e.DEVICE=0]="DEVICE",e[e.WEBSITE=1]="WEBSITE",e[e.SMALL=2]="SMALL",e))(E||{});function y(e){return"fullscreen"===e.selectedView.view&&(e.selectedView.editorType===d.nT.Design||e.selectedView.editorType===d.nT.DevHandoff||e.selectedView.editorType===d.nT.Slides)}let b=16/9,v=(e,t)=>{let r=t.getCurrentPage();if(!r)throw Error("Expected currentPage to exist");let{prototypeDevice:n}=r;return n?n.type===c.XQq.PRESENTATION?{x:e.absoluteBoundingBox.w,y:e.absoluteBoundingBox.h}:n.type===c.XQq.NONE?null:n.rotation===c.xOL.NONE?n.size:{x:n.size.y,y:n.size.x}:null};function I(e,t){let r=v(t,e);return r?{type:0,...r}:t.absoluteBoundingBox.w>=1280?{type:1}:{type:2}}function T(e,t){switch(e.type){case 0:return{x:e.x,y:e.y};case 1:return{x:t.absoluteBoundingBox.w,y:t.absoluteBoundingBox.w/b};case 2:return{x:t.absoluteBoundingBox.w,y:t.absoluteBoundingBox.h};default:(0,i.xb)(e)}}function S(e,t){var r,n;return((null==(n=null==(r=e.getCurrentPage())?void 0:r.prototypeDevice)?void 0:n.rotation)??c.xOL.NONE)===c.xOL.NONE?{x:g,y:f+(t?u.uF:0)}:{x:g,y:g}}let w=(e,{x:t,y:r},n)=>{let i=r/e.y,a=Math.min(i,t/e.x),{x:o,y:l}=S(n);if(a<1){if(a===i){if(Math.max(e.x*a,o)!==o)return{x:e.x*a,y:e.y*a};{let t=o/e.x;return{x:o,y:e.y*t}}}if(Math.max(e.y*a,l)!==l)return{x:e.x*a,y:e.y*a};{let t=l/e.y;return{x:e.x*t,y:l}}}return e},A=(e,{x:t,y:r},n)=>{let{x:i,y:a}=S(n),o=a/e.y,l=Math.max(o,i/e.x);if(l>1){if(l===o){if(Math.min(e.x*l,t)!==t)return{x:e.x*l,y:e.y*l};{let r=t/e.x;return{x:t,y:e.y*r}}}if(Math.min(e.y*l,r)!==r)return{x:e.x*l,y:e.y*l};{let t=r/e.y;return{x:e.x*t,y:r}}}return e};function C(e,t,r,a,o){var c,d;let _=o.get(a);(0,i.vA)(!!_,"expected node to exist");let h=I(o,_);if(e&&(0,n.bN)(e.breakpoint,h)&&!t)return e;let f=s.Y5.getViewportInfo(),E=f.height-u.uF-2*m,y=Math.max(.5*f.width,g),b=(0,p.$W)(o),v=!!b&&(0,l.L_)(b);if(!(0===h.type&&r&&v)){let e=w(T(h,_),{x:y,y:E},o);return{initialViewerSize:e=A(e,{x:y,y:E},o),breakpoint:h}}let S=null==(d=null==(c=o.getCurrentPage())?void 0:c.prototypeDevice)?void 0:d.rotation;(0,i.B1)(S,"expected device rotation to exist");let{idealDeviceSize:C,framePresetSize:N}=(0,p.is)(b,S),O=w(C,{x:y,y:E},o);return O=A(O,{x:y,y:E},o),{initialViewerSize:(0,p.BX)(O,N,C),breakpoint:h}}function N(e,t,r,n){(0,i.vA)(0!==r.type,"Can't fit to aspect ratio for devices");let a=T(r,t);if(e.x<a.x)switch(r.type){case 1:a={x:e.x,y:e.x/b};break;case 2:{let r=t.absoluteBoundingBox.w/t.absoluteBoundingBox.h;a={x:e.x,y:e.x/r};break}default:(0,i.xb)(r)}return{initialViewerSize:a=A(a,{x:1/0,y:1/0},n),breakpoint:r}}function O(e,t,r){let n=s.Y5.getViewportInfo();e.x>.9*n.width&&t(o.F.enqueue({type:"inline-preview-resize-to-actual-size",message:(0,a.t)("inline_preview.resize_to_actual_size_visual_bell"),button:{text:(0,a.t)("bindings.revert"),editScope:"inline-preview-resize-revert",action:r},error:!1}))}},250118:(e,t,r)=>{"use strict";r.d(t,{Ac:()=>eq,Bf:()=>e6,Fg:()=>e0,GP:()=>eX,IK:()=>eK,JI:()=>eH,PG:()=>e8,Pz:()=>eJ,QZ:()=>ew,Qd:()=>eD,RR:()=>eP,Ti:()=>ez,VX:()=>eU,Xl:()=>ek,Yu:()=>ey,Zt:()=>ex,b0:()=>eB,cT:()=>eC,dH:()=>eb,ew:()=>eM,f9:()=>eA,kS:()=>eV,kZ:()=>e3,l1:()=>e4,on:()=>eL,pZ:()=>eF,pw:()=>eT,r7:()=>eN,uR:()=>eI,w6:()=>e$,xu:()=>e1});var n=r(411855),i=r(188507),a=r(776250),o=r(344780),l=r(935283),s=r(511617),c=r(297666),d=r(517333),u=r(513654),p=r(737947),m=r(966712),_=r(374626),h=r(646240),g=r(38580),f=r(498750),E=r(588169),y=r(499737),b=r(860601),v=r(563706),I=r(179940),T=r(153234),S=r(776621),w=r(96328),A=r(539130),C=r(30637),N=r(572206),O=r(30090),L=r(175515),R=r(201242),P=r(939863),k=r(56029),D=r(392592),M=r(980820),x=r(362252),F=r(831216),U=r(975350),B=r(944682),H=r(738269),V=r(293017);r(906113);var G=r(938908),W=r(992271),K=r(356390),Y=r(498083),j=r(581880),z=r(860707),$=r(379202),Z=r(87623),q=r(126911),J=r(809511),X=r(499743),Q=r(737499),ee=r(605328),et=r(335682),er=r(611978),en=r(193212);r(241437);var ei=r(892542),ea=r(279453),eo=r(155300),el=r(828527),es=r(94500),ec=r(549774),ed=r(433861),eu=r(559403),ep=r(344202),em=r(453381),e_=r(750252),eh=r(963719),eg=r(717156),ef=r(337414),eE=r(624187),ey=(e=>(e[e.PRESENTATION=0]="PRESENTATION",e[e.LARGE=1]="LARGE",e[e.SMALL=2]="SMALL",e[e.DEFAULT=3]="DEFAULT",e))(ey||{});function eb(){return s.GZ()}function ev(e,t){let{getViewport:r,viewportPositionToPrototypeCanvas:i}=eM(e,t);return n.useCallback(e=>{let t=r();return t?i(t,e):null},[r,i])}function eI(e,t,r,a,o){let[l,s]=n.useState(!1),c=n.useRef(l);c.current=l;let[d]=n.useState(()=>new ef.e(()=>c.current,s));(0,en.U3)("focus",d.onWindowFocus),n.useEffect(()=>()=>{d.teardown()},[d]),n.useEffect(()=>{r.showProgressBar||d.handleProgressBarStoppedShowing()},[d,r.showProgressBar]),n.useEffect(()=>{o?d.didEnterCommentsMode():d.didLeaveCommentsMode()},[d,o]),n.useEffect(()=>{d.didRscUserFlagsUpdate([])},[d]),(0,L.O5)(e,"baseScreenChanged",e=>{e.userInitiated&&d.handleHotspotClicked()});let u=ev(e,t),p=n.useCallback(t=>{if(!e)return;let r=u(t);if(!r)return;let n=e.prototypeViewHitTest(r);d.handlePageMouseDownOrTouchStart(n)},[e,d,u]);(0,L.O5)(e,"canvasMouseDown",p),(0,L.O5)(e,"canvasTouchDown",p);let m=(0,i.wA)(),_=(0,er._6)(),h=(0,X.p)(),g=(0,ei.b)(h,ei.d.PROTOTYPE_HIDE_UI_VISUAL_BELL),f=n.useCallback(e=>{let t={..._,hideUI:e};m(H.$T(t));let r=e0();e?(m(D.F.enqueue({type:"prototype-ui-hidden",get message(){return(0,P.t)("viewer.popup.press_key_to_show_ui_again",{keycommand:r})},button:{text:(0,P.t)("viewer.popup.copy_sharing_link"),action:()=>{m(B.S({fileKey:a.key,url:`${a.prototypeUrl}${(0,ec.vp)(t,null,null,g)}`,source:ei.d.PROTOTYPE_HIDE_UI_VISUAL_BELL,skipVisualBell:!0}))}}})),m(G.BZ())):d.handleUnhideUI()},[m,d,_,a,g]);return{fadeBehavior:d,showUI:l,setHideUI:f}}function eT(){let e=(0,i.wA)(),t=(0,er._6)();return n.useCallback(r=>{let n={...t,disableDefaultKeyboardNav:r};e(H.$T(n)),e((0,es.Zh)({name:"prototype.figma_shortcuts_setting_changed",params:{enabled:!r}})),r?e(D.F.enqueue({type:"prototype-default-keyboard-nav-disabled",get message(){return(0,P.t)("viewer.options.default_keyboard_navigation_disabled")}})):e(D.F.enqueue({type:"prototype-default-keyboard-nav-enabled",get message(){return(0,P.t)("viewer.options.default_keyboard_navigation_enabled")}}))},[e,t])}function eS(e,t){-1!==e.observingSessionID&&(t(V.Z_()),t((0,es._P)({name:"Prototype Observation Ended",params:{multiplayerObservingSessionID:e.observingSessionID,multiplayerSessionID:e.sessionID}})))}function ew(){n.useEffect(()=>{let e=document.body.style.overscrollBehavior;return document.body.style.overscrollBehavior="none",()=>{document.body.style.overscrollBehavior=e}},[]),(0,en.U3)("touchmove",e=>e.preventDefault(),{passive:!1})}function eA(e,t,r){let a=(0,i.wA)(),o=(0,er._6)(),l=(0,Q.e8)();n.useEffect(()=>{l&&(l._is_restartable=()=>!0,l._set_show_hotspots=e=>{a((0,es.KJ)({showHotspots:e}))},l._set_content_scale_to_responsive=t=>{if(!(0,m.kc)().prototype_responsive_viewer)return;let r={viewportScalingMode:"fit-width",contentScalingMode:"fixed"};t&&(r={viewportScalingMode:"contain",contentScalingMode:"responsive"}),null==e||e.setScalingMode(r),a((0,es.Jr)({...r,source:"mobile",userInitiated:!0}))},l._restart=()=>{a((0,es.Zh)({name:"prototype.replay_clicked",params:{source:"new tab viewer"}})),null==e||e.restartPrototype()},l._get_file_name=()=>{var e=r.pages.find(e=>e.nodeId===r.currentPageId);return e?t.name+" - "+e.name:t.name},l._set_active_prototype_starting_point_node_id=t=>{null==e||e.setActivePrototypeStartingPointNodeId(t),null==e||e.navigateToFrameAndCloseOverlays(t),null==e||e.restartPrototype(),a(H.$T({...o,nodeId:t,startingPointNodeId:t}))},l._set_comments_visibility=e=>{e?a(G._b()):a(G.BZ())},l._get_memory_stats=()=>{var e,t,r,n;return{metadata:JSON.parse(JSON.stringify({coreJsBufferMemory:(null==(e=J.hMR)?void 0:e.getJsBufferMemory())||0,coreLocalMaxUsedHeapMemory:(null==(t=J.hMR)?void 0:t.getLocalMaxUsedHeapMemory())||0,coreMaxUsedHeapMemory:(null==(r=J.hMR)?void 0:r.getMaxUsedHeapMemory())||0,coreTotalUsedHeapMemory:(null==(n=J.hMR)?void 0:n.getTotalUsedHeapMemory())||0})),reservedWasmMemory:(0,z.le)()||0,rendererGpuMemory:0}},l._override_document_visibility_state=e_.R)},[l,a,t,r,e,o])}function eC(e,t,r,i,a,o){let l=(0,er._6)(),s=(0,Q.Jp)();n.useEffect(()=>{(null==s?void 0:s.updateTrackingSessionId)&&i&&s.updateTrackingSessionId(i)},[s,i]),(0,ee.kn)(a,o),n.useEffect(()=>{void 0!==l.showHotspots&&(null==s?void 0:s.updatePrototypeHotspotHintsVisibility)&&s.updatePrototypeHotspotHintsVisibility(l.showHotspots)},[s,l.showHotspots]),n.useEffect(()=>{var e;(0,m.kc)().prototype_responsive_viewer&&void 0!==l.scalingInfo&&(null==s?void 0:s.updatePrototypeResponsiveContentScalingEnabled)&&s.updatePrototypeResponsiveContentScalingEnabled((null==(e=l.scalingInfo)?void 0:e.contentScalingMode)==="responsive")},[s,l.scalingInfo]),n.useEffect(()=>{l.nodeId&&r.currentPageId&&l.nodeId!==r.currentPageId&&(null==s?void 0:s.updatePrototypeDisplayedFrameId)&&s.updatePrototypeDisplayedFrameId(l.nodeId)},[s,l.nodeId,r.currentPageId]),n.useEffect(()=>{let e=r.pages.find(e=>e.nodeId===r.currentPageId);if(e&&(null==s?void 0:s.updatePrototypeName)){let r=t.name+" - "+e.name;s.updatePrototypeName(r)}},[s,t,r]),n.useEffect(()=>{var t,r,n,i=(null==(t=null==e?void 0:e.prototypeStartingPointsData)?void 0:t.call(e))||[],a=null==(r=null==e?void 0:e.getActivePrototypeStartingPointNodeId)?void 0:r.call(e);a&&0===i.length&&i.push({id:a,name:"Flow 1",description:""}),(null==s?void 0:s.updatePrototypeStartingPoints)&&s.updatePrototypeStartingPoints({startingPoints:i,activeStartingPointNodeId:a||(null==(n=i[0])?void 0:n.id)})},[s,t,e])}function eN(e,t,r,a,o,l,s,c,d,u,p,h){let g=(0,i.wA)(),E=(0,er._6)(),y=(0,_.md)(e6),{showNextFrame:b,showPreviousFrame:v,restartPrototype:I}=eD(t,c),S=(0,i.d4)(e=>e.interactionTestDialogShown),w=(0,F.fe)(),A=n.useCallback(e=>{s?null===l.activeThread?g(G.BZ()):l.activeThread.id&&g(U.UU()):eb()||(p(!1),g((0,es._P)({name:"Prototype Shortcut",params:{type:"show UI"}})),g((0,es._P)({name:"Prototype Hide UI",params:{hide:!1}})))},[g,s,l.activeThread,p]),C=n.useCallback(()=>{let e=!E.hideUI;return!eb()&&(p(e),g((0,es._P)({name:"Prototype Shortcut",params:{type:`${e?"hide":"show"} UI`}})),g((0,es._P)({name:"Prototype Hide UI",params:{hide:e}})),!0)},[g,E.hideUI,p]),N=n.useCallback(()=>{g((0,es._P)({name:"Prototype Shortcut",params:{type:"comments"}})),r?s?g(G.BZ()):g(G._b()):d()},[g,s,d,r]),O=n.useCallback(e=>{let t=(0,es.M9)(E),r=eJ(null==o?void 0:o.type,y),n=eq(t,r),i=r.findIndex(e=>e.scalingOptionId===n);-1===i?i=e.shiftKey?r.length-1:0:e.shiftKey?0===i?i=r.length-1:i--:i===r.length-1?i=0:i++;let a=r[i];g((0,es.Jr)({...a.scalingInfo,userInitiated:!0})),g(D.F.clearAll()),g(D.F.enqueue({get message(){return(0,P.t)("viewer.popup.zoom_get_scaling_strings_new_scaling_mode",{scalingMode:eX(a.scalingOptionId)})}}))},[E,null==o?void 0:o.type,y,g]),L=n.useCallback(e=>{var t,r;if((null==u?void 0:u.type)===ep.x)return T.aH;let n=e.target?e.target:null;if(n&&"BUTTON"===n.tagName&&["Space","Enter"].includes(e.code)||n&&"menu"===n.getAttribute("role")&&["Escape","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Space","Enter"].includes(e.code))return T.aH;let i=!1;(0,es.RL)(e,E)?(v(),i=!0):e.keyCode===f.Uz.ESCAPE?(A(e),i=!0):((0,f.Te)(e)||(0,f.sC)(e,0))&&(null!=e.code&&((0,m.kc)().ce_iso_macos_i18n_keys_swap&&e.key===(null==(t=eQ())?void 0:t.key)||e.code===(null==(r=eQ())?void 0:r.code))||(0,f.Te)(e)&&("\\"===e.key||"."===e.key))?C()&&(i=!0):(0,es.eA)(e,E)?(N(),i=!0):e.keyCode!==f.Uz.V||!s||e.metaKey||e.shiftKey||e.ctrlKey?(0,es.fz)(e,E)?(g((0,es._P)({name:"Prototype Shortcut",params:{type:"replay"}})),g((0,es.Zh)({name:"prototype.replay_clicked",params:{source:"new tab viewer"}})),I(),i=!0):(0,es.Bx)(e,E)?(g((0,x._M)()),i=!0):(0,es.e)(e,E)?(O(e),i=!0):(0,es.ql)(e)||((0,es.yE)(e,E)&&(0,em.i)()?(0,F.xf)(g,w):(0,es.Hs)(e,E)&&!l.activeThread&&(b(),i=!0)):(N(),i=!0),h.handleKeyDown(e,i)},[g,l.activeThread,h,N,A,C,O,u,I,b,v,E,s,t,S,w]),R=(0,T.v_)(e,"keydown",L);(0,en.U3)("keydown",R)}let eO=!1;function eL(){eO=!0}let eR=(0,M.nF)((e,{nodeId:t,startingPointNodeId:r,forceReplaceState:n})=>{let i=e.getState().selectedView;e.dispatch(H.$T({...i,nodeId:t,startingPointNodeId:r,forceReplaceState:n}))});function eP({baseScreenBounds:e,deviceType:t}){let r=3;if((0,C.PN)())return r;let n=e&&(0,eo.o)(e.width/e.height,16/9);if("PRESENTATION"===t||n)r=0;else if(e){let{width:t}=e;r=t>1024?1:2}return r}function ek(e){let[t,r]=n.useState(0),[i,a]=n.useState(0),[o,l]=n.useState([]),[s,c]=n.useState(!1),[d,u]=n.useState(!1),[p,m]=n.useState(!1),_=n.useCallback(()=>{(null==e?void 0:e.hasActiveScene())&&(r(e.getPrototypeStateCurrentIndex()),a(e.getNodesToShowInPrototype().length),l(e.getNodesToShowInPrototype()),c("FRAME_LIST"===e.prototypeType()),u(e.getNavigateForwardEnabled()),m(e.getNavigateBackwardEnabled()))},[e]);return(0,L.O5)(e,"navigationInfoInvalidated",_),(0,L.O5)(e,"topLevelFramesListInvalidated",_),(0,L.O5)(e,"topLevelFrameChange",_),n.useEffect(()=>{_()},[_]),{currFrameIndex:t,numFrames:i,nodesToShowInPrototype:o,shouldShowFrameCounter:s,navigateForwardEnabled:d,navigateBackwardEnabled:p}}function eD(e,t){let r=(0,i.wA)();return{showNextFrame:n.useCallback(()=>{var n;t&&eS(t,r),(null==e?void 0:e.getNavigateForwardEnabled())&&(null==(n=(0,R.mt)())||n.animateNext(),null==e||e.navigateForward())},[t,r,e]),showPreviousFrame:n.useCallback(()=>{var n;t&&eS(t,r),(null==e?void 0:e.getNavigateBackwardEnabled())&&(null==(n=(0,R.mt)())||n.animateBack(),null==e||e.navigateBackward())},[t,r,e]),restartPrototype:n.useCallback(()=>{null==e||e.restartPrototype()},[e])}}function eM(e,t){let r=n.useRef(null),i=n.useRef(null),a=n.useCallback(()=>{if(t){let e=t.getElementsByTagName("canvas");return 1===e.length?e[0]:null}return null},[t]),o=n.useCallback(()=>{var e,t;let n=a(),o=r.current;if(!n||!o)return;let l=n.getBoundingClientRect(),s={x:l.left,y:l.top,width:l.width,height:l.height,offsetX:-o.offset.x+((null==(e=null==i?void 0:i.current)?void 0:e.x)||0),offsetY:-o.offset.y+((null==(t=null==i?void 0:i.current)?void 0:t.y)||0),zoomScale:o.zoomScale,isPanning:!1,isZooming:!1};K.Y5.viewport.trigger("onSetViewport",s)},[a]),l=n.useCallback(()=>{var e,t;let n=a(),o=r.current,l=n&&n.getBoundingClientRect();return l&&o?{x:l.left,y:l.top,width:l.width,height:l.height,offsetX:o&&-o.offset.x+((null==(e=null==i?void 0:i.current)?void 0:e.x)||0),offsetY:o&&-o.offset.y+((null==(t=null==i?void 0:i.current)?void 0:t.y)||0),zoomScale:o&&o.zoomScale,isPanning:!1,isZooming:!1}:ed.t4},[a]),s=n.useCallback((e,t)=>{let r=a(),n=r&&r.getBoundingClientRect();return n?N.Mi.rounded({x:(t.x-n.width/2)/e.zoomScale+e.offsetX,y:(t.y-n.height/2)/e.zoomScale+e.offsetY}):null},[a]);return(0,L.O5)(e,"viewportChanged",t=>{if(r.current=t,e){let t=e.getTopmostFrameNode();t&&(i.current=e.nodeScrollBounds(t))}o()}),(0,L.O5)(e,"scrollNode",t=>{if(e){let r=e.getTopmostFrameNode();r&&t===e.nodeId(r)&&(i.current=e.nodeScrollBounds(r),o())}}),(0,L.O5)(e,"canvasResize",o),{getViewport:l,viewportPositionToPrototypeCanvas:s}}function ex(e,t,r){let i=null==r?void 0:r.prototypeStartingPointsData(),a=null==r?void 0:r.getActivePrototypeStartingPointNodeId();n.useEffect(()=>{let r=e.pages.find(t=>t.nodeId===e.currentPageId);if(r){var n;n=r.name,e2()&&window.parent.postMessage({type:"EMBED_PROTO_FILE_METADATA",data:{fileName:t,pageName:n,startingPointsData:i,activeStartingPointNodeId:a}},"*")}},[t,e.pages,e.currentPageId,i,a])}function eF(e){if(e2()&&e&&e.height>0){let t=e.width/e.height;t&&window.parent.postMessage({type:"EMBED_PROTO_ASPECT_RATIO",data:{aspectRatio:t}},"*")}}function eU(e,t,r){n.useEffect(()=>{var n;let i,a,o,l;if(!e||v.Ay.mobile)return;let s=((null==(n=null==r?void 0:r.presetIdentifier)?void 0:n.length)||0)>0;"scale-down-width"!==t&&"fit-width"!==t&&("min-zoom"!==t||s)?(i=12,a=12,o=54,l=54):(i=0,a=0,o=0,l=0),e.setScrollPadding({left:i,right:a,top:o,bottom:l})},[e,t,r])}function eB(){return(0,i.d4)(e=>!!("prototype"===e.selectedView.view&&e.selectedView.inlinePreview))}function eH(e,t){let r=(0,en.aq)(),i=n.useCallback(()=>{t&&r()&&(eb()?window.location.replace("/404"):p.Ay.redirect("/404"))},[t,r]);(0,L.O5)(e,"redirectingToFirstPageDueToInvalidStartNode",i)}function eV(e,t){let r=(0,i.wA)(),a=n.useCallback((0,c.s)(()=>{t&&r(D.F.enqueue({type:"Symbol",get message(){return(0,P.t)("viewer.popup.couldn_t_play_interaction_nested_instance_is_swapped_with_its_parent_instance")},error:!1}))},200),[]);(0,L.O5)(e,"stateSwapFailedDueToCycle",a)}let eG=b.lQ;function eW(e){return e&&"NONE"!==e&&"PRESENTATION"!==e}var eK=(e=>(e.UNKNOWN="UNKNOWN",e.ACTUAL_SIZE="ACTUAL_SIZE",e.FIT_TO_SCREEN="FIT_TO_SCREEN",e.FIT_WIDTH="FIT_WIDTH",e.FILL_SCREEN="FILL_SCREEN",e.RESPONSIVE="RESPONSIVE",e))(eK||{});let eY={3:["ACTUAL_SIZE","FIT_TO_SCREEN","FIT_WIDTH","FILL_SCREEN","RESPONSIVE"],0:["FILL_SCREEN","ACTUAL_SIZE","FIT_TO_SCREEN","FIT_WIDTH","RESPONSIVE"],1:["ACTUAL_SIZE","RESPONSIVE","FIT_WIDTH","FIT_TO_SCREEN","FILL_SCREEN"],2:["ACTUAL_SIZE","FIT_TO_SCREEN","FIT_WIDTH","RESPONSIVE","FILL_SCREEN"]},ej={ACTUAL_SIZE:{viewportScalingMode:"min-zoom",contentScalingMode:"fixed"},FIT_TO_SCREEN:{viewportScalingMode:"scale-down",contentScalingMode:"fixed"},FIT_WIDTH:{viewportScalingMode:"scale-down-width",contentScalingMode:"fixed"},FILL_SCREEN:{viewportScalingMode:"contain",contentScalingMode:"fixed"},RESPONSIVE:{viewportScalingMode:"contain",contentScalingMode:"responsive"}};function ez(e){var t;return"RESPONSIVE"===e?"responsive":(null==(t=ej[e])?void 0:t.viewportScalingMode)||"unknown"}function e$(e){switch(e.viewportScalingMode){case"scale-down":return"FIT_TO_SCREEN";case"scale-down-width":return"FIT_WIDTH";case"min-zoom":return"ACTUAL_SIZE";case"contain":if("fixed"===e.contentScalingMode)return"FILL_SCREEN";return"RESPONSIVE";default:return"UNKNOWN"}}function eZ(e){return"UNKNOWN"===e?ej.ACTUAL_SIZE:ej[e]}function eq(e,t){for(let r of t){let t=!r.scalingInfo.viewportScalingMode||r.scalingInfo.viewportScalingMode===e.viewportScalingMode,n=!r.scalingInfo.contentScalingMode||r.scalingInfo.contentScalingMode===e.contentScalingMode;if(t&&n)return r.scalingOptionId}return"UNKNOWN"}function eJ(e,t){let r=eY[t??3];return eW(e)&&(r=(r=r.filter(e=>"FIT_WIDTH"!==e)).filter(e=>"RESPONSIVE"!==e)),(0,m.kc)().prototype_responsive_viewer||(r=r.filter(e=>"RESPONSIVE"!==e)),r.map(t=>{let r={scalingOptionId:t,scalingInfo:{}};return eW(e)?r.scalingInfo.viewportScalingMode=eZ(t).viewportScalingMode:r.scalingInfo=eZ(t),r})}function eX(e){switch(e){case"ACTUAL_SIZE":return(0,P.t)("viewer.options_menu.actual_size_100",{zoomAmount:100});case"FIT_TO_SCREEN":return(0,P.t)("viewer.options_menu.fit_to_screen");case"FIT_WIDTH":return(0,P.t)("viewer.options_menu.fit_width");case"FILL_SCREEN":return(0,P.t)("viewer.options_menu.fill_screen");case"RESPONSIVE":return(0,P.t)("viewer.options_menu.responsive");default:return""}}function eQ(){let e=(0,E.v7)();switch(e){case J.aTn.GERMAN:return{key:"^",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.SWEDISH:case J.aTn.FINNISH:case J.aTn.UK_MAC:return{key:"\xa7",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.UK_PC:return{key:"`",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.DANISH:return{key:"$",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.NORWEGIAN:return v.Ay.mac?{key:"'",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"}:{key:"|",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.PORTUGUESE:return v.Ay.mac?{key:"\xa7",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"}:{key:"\\",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.SPANISH:return{key:"\xba",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.SPANISH_LATAM:return{key:"|",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.FRENCH_AZERTY:return{key:"@",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.HIRAGANA_KANA:return{key:"@",code:"BracketLeft"};case J.aTn.KOREAN:return{key:"\u20A9",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.ITALIAN:return{key:"\\",code:q.y.isIntlBacklashAndBackquoteSwapped()?"IntlBackslash":"Backquote"};case J.aTn.US_QWERTY:case J.aTn.UNKNOWN:case J.aTn.DVORAK:case J.aTn.CHINESE:return null;default:return(0,l.xb)(e)}}function e0(){var e;let t=null==(e=eQ())?void 0:e.key;return null!=t?t:`${v.Ay.mac?"\u2318":"Ctrl"}\\`}let e1="embedded-prototype-";function e2(){if(!(0,m.kc)().piper_embeds)return!1;if(window!==top)try{let e=parent.document.getElementsByTagName("iframe");for(let t=0;t<e.length;t++)if(e[t].contentWindow===window&&e[t].id.startsWith(e1))return!0}catch(e){}return!1}function e3(){let e=(0,i.wA)(),t=(0,_.md)(eE.Md);n.useEffect(()=>{t.status===eE.z2.LOADED&&e(G.ku({showProgress:!1}))},[e,t])}let e5=null;function e4(e,t,r,c,_,g,f,E,y,b){let T=(0,i.wA)(),w=(0,i.d4)(e=>e.comments),N=t.inlinePreview,[R,M]=n.useState(!1),x=(0,L.ur)("PROTOTYPE",e,{workerURL:Fig.tsViewerWorkerURL,deviceName:N?"viewer":"prototype",scrollToPan:!eb()||null!=(0,I.qg)(p.Ay.location.search).fullscreen,featureFlags:(0,m.kc)(),trackAnalyticsEvent:a.sx,definedAnalyticsHandler:a.az,appTimerStart:e=>{o.rH.start(`viewer:${e}`),"rendererDraw"===e&&(0,eE.AH)()&&k.Su.handleDocumentRenderStart()},appTimerStop:e=>{o.rH.stop(`viewer:${e}`),"rendererDraw"===e&&(0,eE.AH)()&&(M(!0),k.Su.handleDocumentRenderStop())},trackingSessionId:(0,m.Ay)().tracking_session_id||null,deviceInfoByIdentifier:W.hY,bowser:v.Ay,gameControllerListener:L.l9,interactionTestState:(0,C.Ns)()?"RECORD":(0,C.nl)()?"PLAYBACK":"NONE",disablePrototypeDeviceFrames:v.rr||N,isInlinePreview:N,isSlidesEmbed:e2(),forceMobileOptimizations:t.mobileOptimizations,kiwiSchema:A.w});n.useEffect(()=>{if(x)return N||window.focus(),()=>x.reset()},[N,x,t.showDebugStats]),function(e,t,r,a,o){let l=(0,en.aq)(),c=(0,i.wA)(),d=(0,et.tS)()||"",u=n.useRef(-1),p=n.useRef(!1);n.useEffect(()=>{e&&u.current<0&&(u.current=Date.now())},[e]);let m=n.useCallback(e=>{let n;if(p.current)return;let{baseScreenHeight:i,baseScreenWidth:a,deviceSizeWidth:l,deviceSizeHeight:s,...m}=e;l&&s&&(a<l||i<s?n="smaller":a>l?n="bigger":a===l&&i>=s&&(n="same"));let _={mobile:v.Ay.mobile,hasConnections:0!==e.numTransitions,scalingMode:t,urlHideUI:!!r.hideUI,numAnimatedTransitions:e.numTransitionsWithAnimation,timeSinceViewerCreatedMs:Date.now()-u.current,baseScreenHeight:e.isInlinePreview?void 0:i,baseScreenWidth:e.isInlinePreview?void 0:a,contentSizeComparedToDeviceSize:n,...m,productType:o,fileKey:d};c((0,es._P)({name:"Prototype Viewed",params:_})),r.hideUI&&c((0,es._P)({name:"Prototype Hide UI",params:{hide:!0}})),p.current=!0},[c,t,r.hideUI,o,d]),_=n.useCallback(async()=>{if(!e||eb()||"design"!==r.file.editor_type)return;let t=e.getNodesToShowInPrototype()[0],n=t?e.pageIdForNodeId(t):null;await s.Lb(),await new Promise(e=>setTimeout(e,4e3)),l()&&c(G.Q9({fileKey:r.file.key,pageId:n||""}))},[l,c,e,r.file.key,r.file.editor_type]),g=(0,Q.Jp)(),f=n.useCallback(()=>{(null==g?void 0:g.handleCompleteInitialLoad)&&g.handleCompleteInitialLoad()},[g]),E=(0,h.Xr)(eE.Md),y=n.useCallback(()=>{if((0,S.ED)("Prototype","handleCompletedInitialLoad"),E({type:eE.pb.LOAD_VIEWER_INSTANCE}),$.r.logValue("viewerSceneDidCompleteInitialLoad",Math.round(performance.now())),e){let t=e.getStatsForAnalytics();(0,C.PN)()||(0,j._I)(t.isHardwareAccelerationDisabled,c),m(t)}_(),f();try{e2()&&e&&window.parent.postMessage({type:"PRESENTER_SESSION_ID",data:{sessionId:e.userSessionId()}},"*")}catch(e){}},[e,_,m,f,c,E]),[b,I]=n.useState(!1);n.useEffect(()=>{a&&b&&k.Su.handleDocumentIsLoaded()},[a,b]);let T=n.useCallback(()=>{window.DebuggingHelpers&&(window.DebuggingHelpers.documentIsLoaded=!0),I(!0)},[]);(0,L.O5)(e,"sceneDidCompleteInitialLoad",y),(0,L.O5)(e,"documentIsLoaded",T)}(x,r.viewportScalingMode,t,R,b),function(e){let t=(0,i.wA)(),r=(0,er._6)(),a=n.useCallback(e=>{t(G.Mo({color:e||eu.o}))},[t]);(0,L.O5)(e,"prototypeBackgroundColorChange",a),n.useEffect(()=>{e&&void 0!==r.backgroundColorHex&&e.setPrototypeBackgroundColorOverride(r.backgroundColorHex)},[e,r.backgroundColorHex])}(x),function(e,{viewportScalingMode:t,contentScalingMode:r}){n.useEffect(()=>{null==e||e.setScalingMode({viewportScalingMode:t,contentScalingMode:r})},[e,t,r])}(x,r),function(e,t){let r=(0,i.wA)(),a=n.useCallback(()=>{-1!==t.observingSessionID&&r(V.Z_())},[r,t]);(0,L.O5)(e,"disengageObservationMode",a)}(x,c),function(e,t){let r=(0,i.wA)(),a=n.useRef("none"),o=n.useCallback(e=>{a.current!==t&&(a.current=t,r((0,es._P)({name:"Prototype Zoom Attempted",params:{scalingMode:t,method:e}})))},[r,t]);n.useEffect(()=>{null==e||e.setUserDidAttemptZoom(o)},[e,o])}(x,r.viewportScalingMode),function(e,t){let[r]=n.useState(()=>new el.k("Prototype Page Query"));n.useEffect(()=>{r.setFileKey(t)},[t,r]),(0,L.O5)(e,"incrementalLoadingInfo",r.logEvent)}(x,t.file.key),function(e,t){let r=(0,i.wA)(),a=n.useCallback(e=>{e=e||{observingSessionID:t.observingSessionID,presenterSessionID:t.presenterSessionID,followerCount:t.followerCount,sessionID:t.sessionID,allUsers:[],sessionNominatedByCurrentUser:null,sessionsNominatingCurrentUser:[]},r(V.J4(e))},[r,t]);(0,L.O5)(e,"multiplayerUserInfoChange",a)}(x,c),function(e,t){let r=(0,i.wA)(),a=n.useCallback(e=>{if(t.key!==e.fileKey)throw Error("Navigating to unexpected file");r(H.$T({view:"prototype",file:t,nodeId:e.guid})),p.Ay.reload("Navigate to prototype")},[r,t]);(0,L.O5)(e,"navigateToPrototype",a)}(x,t.file),function(e){let t=(0,i.wA)(),r=n.useCallback(()=>{t(D.F.enqueue({get message(){return(0,P.t)("viewer.popup.one_or_more_images_in_this_prototype_failed_to_load")},type:"image-fetch-failure-ui",button:{text:(0,P.t)("viewer.popup.learn_why"),action:()=>{p.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360052988373#Prototype_images",v.Ay.mobile?void 0:"_blank")}}}))},[t]);(0,L.O5)(e,"showImageFetchFailureUI",r)}(x),(0,L.O5)(x,"urlClicked",async e=>{var t,r,n;let i=(r=e.url,n=window.location.origin,r.startsWith(n+"/proto"));if(d.eD&&i){let r=await d.eD.isTabOpen(e.url);e.openInNewWindow||r||null==(t=d.eD)||t.close({suppressReopening:!1,shouldForceClose:!1}),p.Ay.postRedirect(e.url,"_blank")}else s.jJ(e)}),(0,L.O5)(x,"loadVideoJsLib",async()=>{await (0,O.Fe)().then(e=>{x&&x.injectVideoJsLib(e)})}),function(e){let[t,r]=n.useState(!1),a=(0,i.wA)(),o=n.useCallback(()=>{t||a(D.F.enqueue({type:"missing_font_updated_prototype",get message(){return(0,P.t)("viewer.popup.some_missing_fonts_were_replaced")},error:!1})),r(!0)},[a,t,r]);(0,L.O5)(e,"missingOrLocalFontsDetected",o)}(x),function(e){let t=(0,i.wA)(),r=n.useCallback(()=>{if(!e)return;let r=e.getPages().map(e=>((0,l.KF)(!!e.id&&!!e.name,"Either page id or name is not set"),{nodeId:e.id,name:e.name})),n=e.getNodesToShowInPrototype()[0],i=n?e.pageIdForNodeId(n):null;t(G.$9({pages:r})),t(G.uh({currentPageId:i}))},[t,e]);(0,L.O5)(e,"pagesChange",r),(0,L.O5)(e,"baseScreenChanged",r)}(x),function(e,t){let r=(0,i.wA)();n.useEffect(()=>p.Ay.listen(e=>{"POP"===e&&eL()}),[]),n.useEffect(()=>{e&&e.hasActiveScene()&&eO&&(eO=!1,t.startingPointNodeId&&e.getActivePrototypeStartingPointNodeId()!==t.startingPointNodeId&&(e.setActivePrototypeStartingPointNodeId(t.startingPointNodeId),e.restartPrototype()),t.nodeId&&e.getBaseScreenId()!==t.nodeId&&e.navigateToFrameAndCloseOverlays(t.nodeId))},[e,t.nodeId,t.startingPointNodeId]);let a=n.useCallback(t=>{if(!e)return;let n=e.getActivePrototypeStartingPointNodeId();t.updateURL&&r(eR({nodeId:t.nodeId,startingPointNodeId:n,forceReplaceState:t.repairsInvalidState}))},[e,r]);(0,L.O5)(e,"baseScreenChanged",a)}(x,t),n.useEffect(()=>{null==x||x.setObservingSessionID(c.observingSessionID)},[x,c.observingSessionID]),n.useEffect(()=>{null==x||x.setShowHotspots(!!_)},[x,_]),n.useEffect(()=>{null==x||x.setShowDeviceFrame(!!g)},[x,g]),n.useEffect(()=>{null==x||x.setShowBareUI(e2())},[x]),n.useEffect(()=>{null==x||x.setTransitionOnClick(!f),null==x||x.setDragToPan(!f)},[x,f]),n.useEffect(()=>{if(x&&null!=(0,L.R4)()){let e=(0,L.R4)();e&&x.setMockEmbedListener(e)}},[x]),n.useEffect(()=>(x&&(e5=new u._f(t.file.key,b)).setViewer(x),()=>{null==e5||e5.uninstall()}),[x,t.file.key,b]);let F=n.useRef(t.file.key||null);return Z.Ts("Prototype Periodic Metrics",()=>F.current,()=>b),(0,L.O5)(x,"sceneWillRebuildAfterReconnecting",()=>{T(G.AF({isReconnecting:!0}))}),(0,L.O5)(x,"sceneDidRebuildAfterReconnecting",()=>{T(G.AF({isReconnecting:!1}))}),(0,L.O5)(x,"baseScreenChanged",e=>{(0,a.sx)("Prototype Viewer Base Screen Changed",{nodeId:e.nodeId})}),!function(e,t,r,a,o){let s=n.useCallback(e=>{r&&Y.lS.handleMouseDown(e.x,e.y)},[r]);(0,L.O5)(e,"canvasMouseDown",s);let c=n.useCallback(e=>{r&&Y.lS.handleMouseUp(e.x,e.y)},[r]);(0,L.O5)(e,"canvasMouseUp",c);let d=n.useCallback(e=>{r&&Y.lS.handleMouseMove(e.x,e.y)},[r]);(0,L.O5)(e,"canvasMouseMove",d),(0,L.O5)(e,"canvasMouseDrag",d);let u=(0,er._6)(),p=(0,i.wA)(),m=n.useRef(!1),_=n.useRef(!0),h=n.useCallback(()=>{let t=u.commentThreadId;(null==e?void 0:e.hasActiveScene())&&((null==e?void 0:e.getNodesToShowInPrototype().length)||0)>0&&t&&!m.current&&_.current?((0,l.KF)(!!o,"We shouldn't be trying to show comments for anonymous users."),m.current=!0,_.current=!1,p(G._b())):"-1"===t&&!m.current&&o&&(m.current=!0,p(G._b()))},[p,e,u.commentThreadId,o]);(0,L.O5)(e,"sceneDidCompleteInitialLoad",h);let g=n.useRef(""),f=n.useCallback(e=>{e.nodeId!==g.current&&t.activeThread&&p(U.UU()),g.current=e.nodeId},[p,t.activeThread]);(0,L.O5)(e,"baseScreenChanged",f)}(x,w,f,0,y),eG(x),!function(e,t,r){let a=(0,i.wA)(),o=ev(e,t),l=n.useCallback(e=>{o(e)&&eS(r,a)},[o,r,a]);(0,L.O5)(e,"canvasMouseDown",l),(0,L.O5)(e,"canvasTouchDown",l)}(x,e,c),x}function e8(e){let t=(0,h.Xr)(eE.Md);k.Su.handleLivegraphConnectionOpened();let r=function(e,t){let r=(0,y.Rs)(ea.kJx,{fileKey:e}),n=(0,i.d4)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===eh.M});if((0,eg.ox)({file:t}),"loaded"!==r.status)return null;let a=r.data.file;if(n)return null;if(!a)return p.Ay.reload("lost access to file"),null;let{canViewPrototype:o,canView:l}=a;return{file:{key:a.key,name:a.name,prototypeUrl:`${window.location.origin}/proto/${a.key}/${(0,w.sy)(a.name)}`,touchedAt:a.updatedAt.toISOString(),teamId:a.teamId,folderId:a.folderId,editorType:a.editorType,canView:a.canView,canEdit:a.canEdit,canViewPrototypeAndNotFile:o&&!l}}}(e.file.key,{key:e.file.key,fileRepoId:e.file.file_repo_id,sourceFileKey:e.file.source_file_key}),a=!!r;return n.useEffect(()=>{a&&(t({type:eE.pb.LOAD_LIVEGRAPH}),k.Su.handleLivegraphConnectionResponded())},[a,t]),r}let e6=(0,g.eU)(3)},70964:(e,t,r)=>{"use strict";r.d(t,{GV:()=>h,Gv:()=>_,Uj:()=>d,ak:()=>u,iy:()=>g,lp:()=>f,mS:()=>p,ok:()=>m,sb:()=>y,u9:()=>n,wz:()=>E});var n,i=r(411855),a=r(629019),o=r.n(a),l=r(672517),s=r(256320),c=r(918012);let d=i.createContext(void 0);function u(e){return i.createElement("div",{className:o()(s.Qs,e.className)},e.children)}function p(e){return i.createElement("div",{className:s.BL},e.children)}function m(e){return i.createElement("div",{className:s.iM},e.children)}function _(e){let t={width:"300px"};return e.width&&("number"==typeof e.width?t.width=`${e.width}px`:t.width=e.width),e.height&&(t.height=e.height),e.margin&&(t.margin=e.margin),i.createElement(d.Consumer,null,r=>i.createElement("div",{className:o()(s.Dg,e.containerClassName)},i.createElement("img",{src:e.src,style:t,onLoad:r,alt:e.alt})))}function h(e){let t=void 0===e.width?{width:"300px"}:{width:`${e.width}px`};return e.height&&(t.height=e.height),e.margin&&(t.margin=e.margin),i.createElement(d.Consumer,null,r=>i.createElement("div",{className:s.Dg},i.createElement("video",{autoPlay:!0,muted:!0,loop:!0,"object-fit":"initial",style:t,onLoad:r,"aria-hidden":"true"},i.createElement("source",{src:e.src,type:"video/mp4"}))))}function g(e){return i.createElement("div",{className:e.className?e.className:s.qr},e.children)}(n||(n={})).Content=function(e){return i.createElement("div",{className:e.className||s.xC,style:e.style},e.children)};let f=(0,l.tf)(e=>i.createElement("a",{className:c.B,href:e.href,target:"_blank",rel:"noopener",onClick:e.onClick},e.children));function E({children:e}){return i.createElement("div",{className:s.GQ},e)}function y({children:e}){return i.createElement("div",{className:s.I5},i.createElement("div",{className:s.Qn},e))}},525414:(e,t,r)=>{"use strict";r.d(t,{j:()=>d,t:()=>u});var n=r(411855),i=r(629019),a=r.n(i),o=r(946689),l=r(259927),s=r(256320);let c="mobile_shelf--rowCta--BUbfa text--fontPos13--xW8hS text--_fontBase--QdLsd";function d(e){return n.createElement("div",{tabIndex:0,className:a()("mobile_shelf--background--Msmrp modal--modalBackground--PCmzN",l.Dm)},n.createElement("div",{className:a()("mobile_shelf--shelf--XNQ2O",s.Kb)},e.children))}function u(e){let{icon:t,title:r,description:i,ctaType:a,ctaText:l}=e,s="ctaOnClick"in e?e.ctaOnClick:void 0,d="ctaHref"in e?e.ctaHref:void 0,u="primary"===a?n.createElement(o.vd,{onClick:s,className:c},l):n.createElement(o.tM,{onClick:s,className:c},l);return n.createElement("div",{className:"mobile_shelf--rowContainer--9Vsrx"},n.createElement("div",{className:"mobile_shelf--rowIconAndText--2So5-"},n.createElement("img",{src:t,alt:"icon",className:"mobile_shelf--rowIcon--jAN5E"}),n.createElement("div",{className:"mobile_shelf--rowText--qUPio"},n.createElement("div",{className:"mobile_shelf--rowTitle--QI3ZU text--fontPos13--xW8hS text--_fontBase--QdLsd"},r),i&&n.createElement("div",{className:"mobile_shelf--rowDescription--2jdzt text--fontPos11--2LvXf text--_fontBase--QdLsd"},i))),d&&n.createElement("a",{href:d},u),!d&&u)}},660280:(e,t,r)=>{"use strict";r.d(t,{Iy:()=>X,yP:()=>J,hA:()=>Q});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(540193),s=r(358145),c=r(794272),d=r(499737),u=r(572174),p=r(776621),m=r(304783),_=r(268537),h=r(946689),g=r(449124),f=r(574176),E=r(762638),y=r(939863),b=r(392592),v=r(67294),I=r(134279),T=r(738269),S=r(873189),w=r(662275),A=r(931828),C=r(809831),N=r(226055),O=r(396226),L=r(318812),R=r(335682),P=r(860178),k=r(99506),D=r(279453),M=r(428467),x=r(300874),F=r(851363),U=r(498606),B=r(237870),H=r(884129),V=r(377020),G=r(267850),W=r(733378),K=r(746806),Y=r(63666),j=r(601538);let z="move_drafts_nudge_rcs_steps--bodyWithoutTitle--H7oik",$="move_drafts_nudge_rcs_steps--infoText--dIEdg";var Z=r(702595),q=r(132208);function J(e){let t=(0,c.R)(e=>(0,M.getPermissionsState)(e)),r=(0,P.TA)(),a=(0,i.wA)(),o=(0,L.U)(),l=(0,i.d4)(e=>e.openFile),s=(0,i.d4)(e=>e.repos),d=(0,i.d4)(e=>e.userFlags.seen_move_drafts_nudge),[u,p]=n.useState(!1),m=(0,M.hasProTeamPaidStatus)(t,null==l?void 0:l.editorType,r),{dismissModal:_}=e;setTimeout(()=>{p(!0)},3e3);let h=()=>a(A.b({dismissed_move_drafts_nudge:!0}));n.useEffect(()=>()=>{d||a(A.b({seen_move_drafts_nudge:!0}))},[a,d]);let g=()=>{d?(h(),_()):e.onClickPrimaryCta()};n.useEffect(()=>{(null==o?void 0:o.type)===V.eg&&_()},[null==o?void 0:o.type,_]);let f=d?(0,y.t)("rcs.move_drafts_nudge.dismiss"):(0,y.t)("rcs.move_drafts_nudge.not_now"),E=m?(0,y.t)("rcs.move_drafts_nudge.when_to_draft_when_to_file_pro_user"):(0,y.t)("rcs.move_drafts_nudge.when_to_draft_when_to_file"),b=m?n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.edit_with_professional_tools"}):n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.you_re_currently_working_solo_on_a_draft"});return u?n.createElement(Y.OA,{targetKey:V.O0,dismissModal:g,title:E,ctaText:(0,y.t)("rcs.move_drafts_nudge.move_file"),onClickPrimaryCta:()=>{h(),(0,W.RG)(a,l,s)()},secondaryCtaText:f,onClickSecondaryCta:g,width:268},n.createElement("p",null,b)):null}function X(e){let t=(0,i.wA)(),r=(0,L.U)(),{dismissModal:a}=e,o=(null==r?void 0:r.type)===V.eg,l=(0,s.ZC)(o);return n.useEffect(()=>{l&&!o&&a()},[o,l,a]),n.useEffect(()=>{var e,r;if(!(null==(e=V.Lh)?void 0:e.current)){a();return}return t(T.j7({type:V.eg,data:{targetRect:null==(r=V.Lh.current)?void 0:r.getBoundingClientRect(),activatePathOnMount:[(0,y.t)("fullscreen.filename_view.move-to-project")]}})),()=>{t(T.oB())}},[t,a]),n.createElement("div",{onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation()}},n.createElement(Y.OA,{targetKey:G.s,title:"",shouldCenterArrow:K.EL.FALLBACK,dismissModal:a,ctaText:(0,y.t)("rcs.move_drafts_nudge.got_it"),onClickPrimaryCta:e.onClickPrimaryCta,width:268},n.createElement("p",{className:z},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.okay_you_can_move_drafts_and_files_into_team_projects_here_any_time"}))))}function Q({dismissModal:e,onClickPrimaryCta:t}){var r;let a=(0,i.wA)(),s=(0,L.U)(),c=(0,C.lg)(),T=(0,R.q5)(),A=(0,l.ql)(null),[P,M]=n.useState(void 0),B=(0,N.GS)();n.useEffect(()=>{(null==s?void 0:s.type)===V.eg&&e()},[null==s?void 0:s.type,e]);let G=(0,d.Rs)(D.RIo,{orgId:null});if("loaded"!==G.status||0===G.data.currentUser.teamEditRoles.length)return null;let W=G.data.currentUser.teamEditRoles.map(e=>e.team).filter(e=>e&&e.projects&&!e.deletedAt&&e.projects.length>0);if(0===W.length)return(0,p.$D)(m.e.MONETIZATION_UPGRADES,Error("MoveDraftsTeamNudgeView rendered with noTeamWithProjects")),null;let j=1===W.length;if(!P){let e=j?W[0]:function(e,t){if(null===t)return e[0];let r=new Map;for(let t=0;t<e.length;t++){let n=e[t];r.set(n?n.id:null,{count:0,index:t})}let n=0,i=0;for(let e of t)if(e.team_id&&r.has(e.team_id)){let t=r.get(e.team_id);t.count++,t.count>n&&(n=t.count,i=t.index)}return e[i]}(W,null==A?void 0:A.data);null!==e&&M(e)}if(!P||!T)return null;let z={key:T.key,name:T.name,folder_id:T.folderId,editor_type:T.editorType,is_team_template:T.isTeamTemplate},J=e=>{a(b.F.enqueue({type:"file-moved",i18n:{id:"visual_bell.file_move_folder",params:{folderName:e||""}}})),a(w.to({type:ee}))};function X(e){return(null==T?void 0:T.editorType)===k._Y.WHITEBOARD?[k.P4.WHITEBOARD_FILES_LIMITED,k.P4.WHITEBOARD_FILES_LIMITED_BETA].some(t=>{var r;return!!(null==(r=e.restrictionsList)?void 0:r.includes(t))}):[k.P4.FILES_LIMITED,k.P4.FILES_LIMITED_LEGACY].some(t=>{var r;return!!(null==(r=e.restrictionsList)?void 0:r.includes(t))})}return n.createElement(Y.CR,{targetKey:V.O0,dismissModal:e,width:268,shouldCenterArrow:B?void 0:K.EL.FALLBACK},function(e,t){let r=e.roles.filter(e=>!!e.user&&e.user.id!==t),i=r.sort(()=>Math.random()-Math.random()).slice(0,Math.min(r.length,3)).map(e=>(0,u.sR)(e.user)),a=n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.ready_to_bring_in_your_team"});if(0===i.length)a=n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.want_to_get_ideas_from_teammates"});else if(1===i.length){let e=i[0];a=n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.want_to_get_ideas_from_user_name",userName:e.name?e.name.split(" ")[0]:e.email||e.handle})}return n.createElement(n.Fragment,null,n.createElement("div",{className:"move_drafts_nudge_rcs_steps--avatarRow--cUnRs"},i.map(e=>n.createElement("div",{key:e.id,className:E.cx.relative.$},n.createElement(v.H8,{user:{name:e.name||e.email||"",img_url:e.imgUrl},size:v.Pf.LARGE})))),n.createElement("h1",{className:"move_drafts_nudge_rcs_steps--modalTitle--Rk7Jg"},a))}(P,G.data.currentUser.id),(r=j?P:null)?n.createElement("p",{className:$},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.drafts_are_great_for_solo_work_but_teammates_can_t_find_or_contribute_to_this_file_move_it_to_team_name_to_let_others_edit",teamName:n.createElement("b",null,r.name)})):n.createElement("p",{className:$},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.drafts_are_great_for_solo_work_but_teammates_can_t_find_or_contribute_to_this_file_move_it_to_your_team_to_let_others_edit"})),!j&&n.createElement("div",{className:"move_drafts_nudge_rcs_steps--moveFileSelector--bUHWg"},n.createElement("h2",null,n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.move_file_to"})),n.createElement(_.W.DropdownSelector,{className:"move_drafts_nudge_rcs_steps--dropdownSelector--vE83U",optionsBelowSelector:!0,shouldRenderAutocompleteStyles:!0,label:(0,y.t)("rcs.move_drafts_nudge.team_project",{teamName:P.name,projectName:P.projects[0].path}),iconLabel:n.createElement(v.nl,{size:v.Pf.XSMALL,fallbackDisplay:I.U.HIDDEN,team:{id:P.id,imgUrl:P.imgUrl||void 0}}),options:W.map((e,t)=>!!e&&!!e.projects&&n.createElement(_.W.Option,{key:t,id:String(t),onClick:e=>M(W[parseInt(e.currentTarget.id)]),className:"move_drafts_nudge_rcs_steps--projectRow--4JZde"},n.createElement("div",{className:"move_drafts_nudge_rcs_steps--teamAvatarIcon--vjnRi"},n.createElement(v.nl,{size:v.Pf.XSMALL,fallbackDisplay:I.U.HIDDEN,team:{id:e.id,imgUrl:e.imgUrl||void 0}})),n.createElement("div",{className:o()("move_drafts_nudge_rcs_steps--optionText----TA7",{"move_drafts_nudge_rcs_steps--optionTextWithWarning--ENYe0":X(e)})},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.team_project",teamName:e.name,projectName:e.projects[0].path})),X(e)&&n.createElement("div",{className:"move_drafts_nudge_rcs_steps--warningIcon--KHIj5"},n.createElement(f.B,{svg:Z.A,"data-tooltip-type":U.Ib.TEXT,"data-tooltip":(0,y.t)("file_browser.file_move.paywall_team_tooltip")}))))})),X(P)&&n.createElement("div",{className:"move_drafts_nudge_rcs_steps--banner--S35O-"},n.createElement(g.z,{orientation:"vertical",variant:"warning",iconSrc:q.A,action:{label:(0,y.t)("rcs.move_drafts_nudge.upgrade_to_continue"),onClick:()=>{a(w.to({type:H.DV,data:{team:P,resource:x.vL.FILE,action:F.ZN.MOVE_FILES,currentPlan:O.F.Plan.STARTER,upsellPlan:O.F.Plan.PRO,editorType:c,multipleResources:!1}}))}}},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.team_team_name_reached_the_starter_plan_file_limit_of_3_files",teamName:P.name}))),n.createElement("div",{className:"move_drafts_nudge_rcs_steps--ctaContainer--VD-a6"},n.createElement(h.tM,{className:"move_drafts_nudge_rcs_steps--secondaryCtaButton--yOPJx",onClick:t},(0,y.t)("rcs.move_drafts_nudge.cancel")),n.createElement(h.vd,{onClick:()=>{a(S.z({files:[z],team:P,folder:P.projects[0],fromFileModal:!0,onFinishCallback:J})),t()},disabled:X(P)},(0,y.t)("rcs.move_drafts_nudge.move_file"))))}let ee=(0,B.Ju)(function(){let e=(0,i.wA)();return n.createElement(Y.OA,{targetKey:j.v4,title:"",dismissModal:()=>{e(w.AS())},ctaText:(0,y.t)("rcs.move_drafts_nudge.got_it"),onClickPrimaryCta:()=>{e(w.AS())},width:268},n.createElement("p",{className:z},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.now_that_you_ve_moved_this_file_to_projects_your_teammates_can_edit_and_collaborate_with_you"})))},"MoveDraftsFeedbackModal")},936181:(e,t,r)=>{"use strict";r.d(t,{x:()=>l});var n=r(411855),i=r(629019),a=r.n(i),o=r(364993);class l extends n.Component{componentDidMount(){this.interval=setInterval(()=>{this.forceUpdate()},1e3)}componentWillUnmount(){clearInterval(this.interval)}render(){let e=document.querySelector(`[data-onboarding-key=${this.props.target}]`);if(!e)return n.createElement("div",null);{let t=e.getBoundingClientRect();if(!e.offsetParent)return n.createElement("div",null);let r=t.left+t.width/2,i=t.top+t.height/2,l=a()(o.xl,{[o.Df]:this.props.isBrandColor});return n.createElement("div",{className:l,style:{top:i,left:r}})}}}l.displayName="RcsCallout"},601538:(e,t,r)=>{"use strict";r.d(t,{BQ:()=>h,Bh:()=>p,G8:()=>o,ON:()=>_,P7:()=>i,Qr:()=>c,Ro:()=>d,Vn:()=>m,ao:()=>a,lm:()=>s,oi:()=>u,tO:()=>l,v4:()=>n});let n="share",i="show onboarding template connector after share or dismiss",a={key:"figjamTrySave",value:"1"},o="FULLSCREEN_FILENAME_CONTAINER",l="FULLSCREEN_TOGGLE_MENU",s="center_button_group",c="ASSETS_PANEL_ONBOARDING_KEY",d="ACCOUNT_SWITCHING_NOTIFICATION_ONBOARDING_KEY";var u=(e=>(e.PAN="PAN_PREFERENCE_ONBOARDING_KEY",e.ZOOM="ZOOM_PREFERENCE_ONBOARDING_KEY",e))(u||{});let p="shared_with_you_tab",m="account_profile_switching_onboarding_key",_="dev_mode_mode_switcher_onboarding_key",h="dev_mode_code_connect_onboarding_key"},15839:(e,t,r)=>{"use strict";r.d(t,{LN:()=>n,M_:()=>u,No:()=>c,_L:()=>i,dZ:()=>s,pN:()=>d,q3:()=>l});var n=(e=>(e.TOP_RIGHT="top-right",e.CENTER="center",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e))(n||{}),i=(e=>(e.LEFT_TITLE="left_title",e.RIGHT_TITLE="right_title",e))(i||{}),a=(e=>(e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.RIGHT_TITLE=2]="RIGHT_TITLE",e[e.RIGHT_BODY=3]="RIGHT_BODY",e[e.LEFT_TITLE=4]="LEFT_TITLE",e))(a||{}),o=(e=>(e.FALLBACK="fallback",e.BEST_EFFORT="best_effort",e))(o||{}),l=(e=>(e.DRAGGABLE="draggable",e.FEATURE_UPDATE="feature_update",e.WELCOME="welcome",e.SELF_CONTAINED="self_contained",e.WALK_THROUGH="walk_through",e.ANNOUNCEMENT_POINTER="announcement_pointer",e.POINTER="pointer",e.MOBILE="mobile",e))(l||{}),s=(e=>(e.MODAL="modal",e.SHELF="shelf",e))(s||{});let c=740,d=580;var u=(e=>(e.ON_DARK="on_dark",e.ON_LIGHT="on_light",e.HIGH_CONTRAST="high_contrast",e.HIDDEN="hidden",e))(u||{})},653734:(e,t,r)=>{"use strict";r.d(t,{i:()=>N});var n=r(411855),i=r(109388),a=r(629019),o=r.n(a),l=r(91408),s=r(860601),c=r(572206),d=r(799569),u=r(946689),p=r(511443),m=r(135876),_=r(271779),h=r(672517),g=r(746806),f=r(488578),E=r(63666),y=r(70964),b=r(936181),v=r(15839),I=r(525414),T=r(256320),S=r(860168);let w=(0,l.hG)(S.tui),A=(0,l.hG)(S.IKB),C=e=>null!==e?e:void 0;class N extends n.Component{constructor(e){super(e),this.renderIfDocumentComplete=()=>{"complete"===document.readyState&&this.forceRender()},this.getRcsKeyElementInterval=null,this.startScanningForRcsKeyElement=()=>{this.cleanUpRcsKeyElementScanner();let e=this.props.step;if(e.modalType===v.q3.DRAGGABLE){if(!e.onboardingKey){this.setState({rcsKeyLocation:null});return}this.getRcsKeyElementInterval=setInterval(()=>{let e=this.getRcsKeyElement();if(null!=e){let t=this.computeLocation(e.getBoundingClientRect());(null==this.state.rcsKeyLocation||this.state.rcsKeyLocation.top!==t.top||this.state.rcsKeyLocation.left!==t.left)&&this.setState({rcsKeyLocation:t})}else this.setState({rcsKeyLocation:null})},50)}},this.cleanUpRcsKeyElementScanner=()=>{null!=this.getRcsKeyElementInterval&&(clearInterval(this.getRcsKeyElementInterval),this.getRcsKeyElementInterval=null)},this.acceptHeight=e=>this.setState({modalHeight:e}),this.nextButtonRef=e=>{e&&(this.button=i.findDOMNode(e),this.focusButton())},this.focusButton=()=>{this.button&&!this.props.step.UNSAFE_disableFocus&&this.button.focus()},this.computeLocation=e=>{let t=this.props.step;if(t.modalType!==v.q3.DRAGGABLE)return{top:null,left:null,arrowRelativeX:null,arrowRelativeY:null,arrowPosition:null};if(t.pointDirection===v._L.LEFT_TITLE){let t=e.top+e.height/2;return{left:e.left+e.width+16,top:t-20,arrowRelativeX:-18,arrowRelativeY:g.uF/2-9,arrowPosition:g.F_.LEFT_TITLE}}if(t.pointDirection===v._L.RIGHT_TITLE){let t=e.top+e.height/2,r=e.left-this.width-16,n=g.uF/2-9;return{left:r,top:t-20,arrowRelativeX:this.width,arrowRelativeY:n,arrowPosition:g.F_.RIGHT_TITLE}}let r=e.left+e.width/2,n=e.bottom+18,i=r-this.width/2,a=r-(i=Math.min(i=Math.max(i,10),window.innerWidth-10-this.width)),o=g.F_.TOP;return null!=this.state.modalHeight&&window.innerHeight-n<this.state.modalHeight+12&&(n=e.top-this.state.modalHeight-12,o=g.F_.BOTTOM),{left:i,top:n,arrowRelativeX:a,arrowRelativeY:null,arrowPosition:o}},this.getFramePosition=()=>this.state.rcsKeyLocation?this.state.rcsKeyLocation:{top:null,left:null,arrowPosition:null,arrowRelativeX:null,arrowRelativeY:null},this.getRcsKeyElement=()=>{let e=this.props.step;if(e.modalType!==v.q3.DRAGGABLE)return null;let t=document.querySelector(`[data-onboarding-key=${e.onboardingKey}]`);if(!t)return null;let r=t.getBoundingClientRect();return 0===r.left&&0===r.right&&0===r.height&&0===r.width?null:t},this.acceptTitle=e=>{this.setState({title:e,titleSetByStep:this.props.step})},this.forceRender=()=>this.setState({renderCount:this.state.renderCount+1}),this.getPositionAndConstraints=(e,t)=>{let r=this.getFramePosition();if(r.top&&r.left)return{initialPosition:new c.Mi(r.left,r.top)};switch(e){case v.LN.BOTTOM_LEFT:return{initialPosition:t||new c.Mi(A,A),initialConstraints:{x:"left",y:"bottom"}};case v.LN.BOTTOM_RIGHT:return{initialPosition:t||new c.Mi(p.lc,16),initialConstraints:{x:"right",y:"bottom"}};case v.LN.TOP_RIGHT:return{initialPosition:t||new c.Mi(A,w+A),initialConstraints:{x:"right",y:"top"}};case v.LN.CENTER:default:return{initialPosition:t||new c.Mi(window.innerWidth/2-this.width/2,window.innerHeight/2-this.height/2)}}},this.state={modalHeight:328,rcsKeyLocation:null,renderCount:0}}componentDidMount(){window.addEventListener("beforeunload",this.props.onClose),this.startScanningForRcsKeyElement(),document.addEventListener("readystatechange",this.renderIfDocumentComplete)}componentWillUnmount(){this.props.onClose(),window.removeEventListener("beforeunload",this.props.onClose),document.removeEventListener("readystatechange",this.renderIfDocumentComplete),this.cleanUpRcsKeyElementScanner()}componentDidUpdate(e,t){this.focusButton();let r=this.props.step;if(r.modalType!==v.q3.DRAGGABLE)return;let n=e.step;(n.modalType!==v.q3.DRAGGABLE||r.onboardingKey&&r.onboardingKey!==n.onboardingKey)&&this.startScanningForRcsKeyElement()}get width(){let e=this.props.step;switch(e.modalType){case v.q3.FEATURE_UPDATE:return e.width||v.No;case v.q3.DRAGGABLE:return e.width||350;default:return 350}}get height(){return this.state.modalHeight||328}static getDerivedStateFromProps(e,t){return e.step!==t.titleSetByStep?{title:void 0,titleSetByStep:void 0}:{}}render(){let e=this.props.step,t=this.getFramePosition(),r={acceptTitle:this.acceptTitle,dismissModal:this.props.dismissModal,onClickPrimaryCta:this.props.onClickPrimaryCta,forceRender:this.forceRender},i=n.createElement(y.Uj.Provider,{value:this.forceRender},n.createElement(e.element,{...r}));return(0,h.T8)((()=>{switch(e.modalType){case v.q3.DRAGGABLE:let{initialPosition:r,initialConstraints:a}=this.getPositionAndConstraints(e.defaultLocation,e.initialPosition),l=e.title instanceof Function?e.title():e.title,c=this.state.title||l,p=e.onboardingKey||e.highlightOnlyKey;return n.createElement(n.Fragment,null,p&&!e.disableHighlight&&n.createElement(b.x,{target:p}),n.createElement(g.vx,{initialWidth:this.width,acceptHeight:this.acceptHeight,title:c,initialPosition:r,initialConstraints:a,arrowRelativeX:e.hideArrow?void 0:C(t.arrowRelativeX),arrowRelativeY:e.hideArrow?void 0:C(t.arrowRelativeY),arrowPosition:e.hideArrow?void 0:C(t.arrowPosition),animatedIn:!0,dragHeaderOnly:!!c,onClose:this.props.dismissModal,headerClassName:e.headerClassName,zIndex:e.zIndex,disableDragging:e.disableDragging},i,e.disableFooter?null:n.createElement(y.iy,{className:e.footerClassName},!e.hideStepCounter&&e.stepCounter&&n.createElement("div",{className:T.S},e.stepCounter),n.createElement("div",{className:T.v0},e.additionalButton&&n.createElement(u.NY,{className:T.lI,href:"link"===e.additionalButton.onClickBehavior?e.additionalButton.href:void 0,target:"link"===e.additionalButton.onClickBehavior?"_blank":void 0,onClick:"function"===e.additionalButton.onClickBehavior?()=>{e.additionalButton.onClick(this.props.dispatch),this.props.dismissModal()}:void 0,trackingProperties:e.additionalButton.textForTracking?{text:e.additionalButton.textForTracking()}:{}},e.additionalButton.label),n.createElement(u.vd,{ref:this.nextButtonRef,onClick:this.props.onClickPrimaryCta,className:T.lI,trackingProperties:{trackingDescriptor:e.ctaTrackingDescriptor},disabled:!!e.ctaIsLoading},n.createElement(m.x,{isLoading:!!e.ctaIsLoading,className:T.zP},()=>n.createElement("div",null,e.ctaText)))))));case v.q3.FEATURE_UPDATE:{let t=e.closeButtonStyle===v.M_.ON_DARK?T.oO:e.closeButtonStyle===v.M_.HIGH_CONTRAST?T.Db:e.closeButtonStyle===v.M_.ON_LIGHT?T.o:T.MD;return n.createElement(f.Nb,{className:`${T.yl} ${T.Kb}`,size:this.width,height:e.height,hide:this.props.dismissModal,disableClickOutsideToHide:e.disableClickOutsideToHide},i,e.closeButtonStyle!==v.M_.HIDDEN&&n.createElement(d.Jn,{innerText:"Close",className:t,onClick:()=>{this.props.additionalOnExplicitDismiss&&this.props.additionalOnExplicitDismiss(),this.props.dismissModal()}}))}case v.q3.MOBILE:if(e.type===v.dZ.SHELF)return n.createElement(I.j,null,i);return n.createElement(f.Nb,{className:`${T.yl} ${T.Kb} ${T.Yf}`,hide:this.props.dismissModal,disableClickOutsideToHide:!0,size:"mobile"},i,n.createElement(d.Jn,{innerText:"Close",className:T.iQ,onClick:()=>{this.props.additionalOnExplicitDismiss&&this.props.additionalOnExplicitDismiss(),this.props.dismissModal()}}));case v.q3.WALK_THROUGH:return n.createElement(n.Fragment,null,!e.disableHighlight&&n.createElement(b.x,{target:e.onboardingKey}),n.createElement(E.CR,{targetKey:e.onboardingKey,dismissModal:this.props.dismissModal,height:e.height,width:e.width,pointerForegroundColor:e.pointerForegroundColor,shouldCenterArrow:e.shouldCenterArrow,topPadding:e.topPadding,className:e.className,shouldDismissWhenLostDOMTarget:e.shouldDismissWhenLostDOMTarget,additionalOnExplicitDismiss:this.props.additionalOnExplicitDismiss,hideCloseButton:e.hideCloseButton,disableClickOutsideToHide:e.disableClickOutsideToHide},i));case v.q3.WELCOME:return n.createElement(n.Fragment,null,e.fullscreen&&n.createElement("div",{className:T.qg}),n.createElement(f.Nb,{className:o()(void 0!==e.fullscreen&&e.fullscreen?T.SV:T.Tw,e.className),size:"fitContent",hide:this.props.dismissModal,disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,tintedModalBackground:void 0===e.tintedModalBackground||e.tintedModalBackground},n.createElement(_.i,{displayAs:_.C.Block},i)));case v.q3.SELF_CONTAINED:return i;case v.q3.POINTER:return n.createElement(n.Fragment,null,e.showHighlight&&n.createElement(b.x,{target:e.onboardingKey}),n.createElement(E.NJ,{dismissModal:this.props.dismissModal,targetKey:e.onboardingKey,width:e.width,topPadding:e.topPadding,shouldCenterArrow:e.shouldCenterArrow,shouldNotWrapInParagraphTag:e.shouldNotWrapInParagraphTag,arrowPosition:e.arrowPosition,onTargetLost:e.onTargetLost},i));case v.q3.ANNOUNCEMENT_POINTER:let h=e.title instanceof Function?e.title():e.title;return n.createElement(E.OA,{targetKey:e.onboardingKey,dismissModal:this.props.dismissModal,title:h,bottomLeftText:e.stepCounter,ctaText:e.ctaText,onClickPrimaryCta:this.props.onClickPrimaryCta,secondaryCtaText:e.secondaryCtaText,onClickSecondaryCta:e.preventDismissOnClickSecondaryCta?s.lQ:this.props.dismissModal,width:e.width,topPadding:e.topPadding,shouldCenterModal:e.shouldCenterModal,shouldCenterArrow:e.shouldCenterArrow,arrowPosition:e.arrowPosition},i)}})(),e.trackingContextName,e.trackingProperties,e.trackingEnabled)}}N.displayName="RcsFrame"},255533:(e,t,r)=>{"use strict";r.d(t,{Cj:()=>A,JG:()=>S});var n=r(411855),i=r(729064),a=r(629019),o=r.n(a),l=r(91408),s=r(886653),c=r(860601),d=r(946689),u=r(876058),p=r(976999),m=r(827586),_=r(762638),h=r(501114),g=r(672517),f=r(10648),E=r(269135),y=r(165275),b=r(692665),v=r(860168),I=r(950142);class T extends n.PureComponent{render(){let e=this.props.isReversed?"\u2191":"\u2193";return n.createElement("div",{className:`${y.LI} ${this.props.className||""}`,onClick:this.props.onClick,"data-onboarding-key":this.props.onboardingKey},this.props.name,this.props.isSelected&&n.createElement("div",{className:b.UE},e),this.props.extraContent)}}T.displayName="MultiSelectHeader";let S="msl_header_toggle_select_all_onboarding_key",w=(0,l.hG)(v.B6G);class A extends n.Component{constructor(e){super(e),this.rangeSelectAnchorRowKey=null,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequest=null},this.onScroll=e=>{this.nextScrollTop=e,null==this.frameRequest&&(this.frameRequest=requestAnimationFrame(this.setScrollTopState)),this.props.onScroll&&this.props.onScroll()},this.itemKeys=(0,s.xx)((e,t)=>e.map(e=>t(e))),this.selectableItemKeys=()=>{let e=this.itemKeys(this.props.items,this.props.getItemKey);return this.props.unselectableItemKeys?e.filter(e=>{var t;return!(null==(t=this.props.unselectableItemKeys)?void 0:t.has(e))}):e},this.toggleSelectMultiple=(e,t,r=!1)=>{this.rangeSelectAnchorRowKey=null;let n=this.props.onSelectedItemsChange??c.lQ;if(t){if(r)this.setState({selectedItemKeys:new Set,selectedAll:!1}),n([]);else{let t=new Set(this.state.selectedItemKeys);e.forEach(e=>t.delete(e)),this.setState(e=>({selectedItemKeys:t,selectedAll:e.selectedAll})),n(this.filterToSelected(this.props.items,t,this.props.unselectableItemKeys,this.props.getItemKey))}}else{let t=new Set([...e,...this.state.selectedItemKeys]);this.setState(e=>({selectedItemKeys:t,selectedAll:e.selectedAll||r})),n(this.filterToSelected(this.props.items,t,this.props.unselectableItemKeys,this.props.getItemKey))}},this.isItemSelected=e=>{var t;let r=this.props.getItemKey(e);return this.state.selectedItemKeys.has(r)&&!(null==(t=this.props.unselectableItemKeys)?void 0:t.has(r))},this.toggleSelect=e=>{var t;let r=this.props.getItemKey(e);if(null==(t=this.props.unselectableItemKeys)?void 0:t.has(r))return;let n=new Set(this.state.selectedItemKeys);this.rangeSelectAnchorRowKey=r,this.isItemSelected(e)?n.delete(r):n.add(r),this.setState({selectedItemKeys:n}),this.props.onSelectedItemsChange&&this.props.onSelectedItemsChange(this.filterToSelected(this.props.items,n,this.props.unselectableItemKeys,this.props.getItemKey))},this.selectRowsInRange=(e,t,r)=>{if(e===t)return;let n=this.props.items.map(e=>this.props.getItemKey(e)).filter(e=>{var t;return!(null==(t=this.props.unselectableItemKeys)?void 0:t.has(e))}),i=n.indexOf(e),a=n.indexOf(t);if(-1===i||-1===a)return;let o=Math.min(i,a),l=Math.max(i,a),s=n.slice(o,l+1);r?this.toggleSelectMultiple(s,!0):this.toggleSelectMultiple(s,!1)},this.onRowClick=(e,t)=>{var r;let n=this.props.getItemKey(t);if(null==(r=this.props.unselectableItemKeys)||!r.has(n)){if(e.shiftKey){let e;if(1===this.state.selectedItemKeys.size?e=[...this.state.selectedItemKeys][0]:this.rangeSelectAnchorRowKey&&(e=this.rangeSelectAnchorRowKey),e&&e!==n){let t=this.state.selectedItemKeys.has(n);this.selectRowsInRange(e,n,t),this.rangeSelectAnchorRowKey=n;return}}this.toggleSelect(t)}},this.isFirstInSelectedGroup=e=>{let t=this.props.items[e],r=this.props.getItemKey(t);if(!this.state.selectedItemKeys.has(r))return!1;let n=this.props.items[e-1];if(!n)return!0;let i=this.props.getItemKey(n);return!this.state.selectedItemKeys.has(i)},this.isLastInSelectedGroup=e=>{let t=this.props.items[e],r=this.props.getItemKey(t);if(!this.state.selectedItemKeys.has(r))return!1;let n=this.props.items[e+1];if(!n)return!0;let i=this.props.getItemKey(n);return!this.state.selectedItemKeys.has(i)},this.rowWithCheckbox=(e,t,r)=>{var i,a,l,s,c;let d=this.isItemSelected(e),p=this.props.getItemKey(e),m=o()(b.sM,null==(i=this.props.styleOverrideClassNames)?void 0:i.unselectedCheckbox),_=this.props.itemBasedStyleOverride?this.props.itemBasedStyleOverride(e):void 0,h=o()(b.nM,null==(a=this.props.styleOverrideClassNames)?void 0:a.row,null==_?void 0:_.row),g=o()(null==(l=this.props.styleOverrideClassNames)?void 0:l.selectedRow,null==_?void 0:_.selectedRow),f=(null==(s=this.props.unselectableItemKeys)?void 0:s.has(p))?null:n.createElement(u.y,{className:d?void 0:m,allChecked:d,someChecked:!1,"data-onboarding-key":d?"msl_selected_row_onboarding_key":void 0,"data-testid":"multi-select-list-select-item-checkbox",onChange:e=>{}}),y=e.tooltipText,v=[];return this.props.shouldRoundBordersForSelectedRows&&(v.push(b.uH),d&&!this.isFirstInSelectedGroup(r)&&v.push(b.BA),d&&!this.isLastInSelectedGroup(r)&&v.push(b.D)),n.createElement(E.iA,{className:o()(b.nM,h,d?g:void 0,...v),selected:d,key:p,onClick:t=>this.onRowClick(t,e),tooltipText:y,useAdminTableStyles:!0,dataTestId:"multi-select-list-table-trackable-row"},n.createElement("div",{className:o()(b.E0,null==(c=this.props.styleOverrideClassNames)?void 0:c.checkboxColumn)},f),this.props.columns.map(i=>n.createElement("div",{className:i.className,key:i.name},i.cellComponent(e,t,r))))},this.renderLoadingRow=e=>{var t,r;let i=0;return e<2?i=1:e<10&&(i=1-(e-2+1)/9),n.createElement("div",{key:e,style:{opacity:i},"data-testid":"multi-select-list-loading-row"},n.createElement(E.iA,{className:o()(b.nM,null==(t=this.props.styleOverrideClassNames)?void 0:t.row),useAdminTableStyles:!0,dataTestId:"multi-select-list-table-loading-row"},n.createElement("div",{className:o()(b.E0,null==(r=this.props.styleOverrideClassNames)?void 0:r.checkboxColumn)}),this.props.columns.map((t,r)=>t.name?n.createElement("div",{className:t.className,key:t.name},t.loadingComponent?t.loadingComponent:n.createElement("div",{style:h.sx.add({width:`${50*Math.abs(Math.sin(e+r+1))+30}%`}).$},n.createElement(p.Wi,{className:_.cx.h12.$,animationType:p.JR.SHIMMER}))):n.createElement("div",{key:t.name,className:o()(_.cx.wFull.$,t.className)}))))},this.filterToSelected=(0,s.xx)((e,t,r,n)=>e.filter(e=>t.has(n(e))&&!(null==r?void 0:r.has(n(e))))),this.state={scrollTop:0,selectedItemKeys:new Set,selectedAll:!1},this.stickBannerRef=n.createRef(),this.scrollContainerRef=n.createRef()}componentDidUpdate(e,t){var r,n;if(e.sortState.columnName!==this.props.sortState.columnName||e.sortState.isReversed!==this.props.sortState.isReversed||e.items.length!==this.props.items.length){if(this.rangeSelectAnchorRowKey=null,(e.isLoading||this.props.isLoading)&&e.items.length<this.props.items.length&&this.state.selectedAll){let t=this.props.items.slice(e.items.length).map(e=>this.props.getItemKey(e));this.setState(e=>({selectedItemKeys:new Set([...e.selectedItemKeys,...t])}))}this.props.isLoading&&0===this.props.items.length&&this.state.selectedAll&&(this.setState({selectedItemKeys:new Set,selectedAll:!1}),null==(n=(r=this.props).onToggleSelectAll)||n.call(r,!0))}}onHeaderClick(e){this.props.onSetSortState(e)}renderColumnHeaders(e){var t,r;let i=e.length===this.selectableItemKeys().length,a=e.length>0,l=0===e.length;return n.createElement(E.Hj,{header:!0,useAdminTableStyles:!0,className:o()(this.props.disabled?b.eO:b.U1,null==(t=this.props.styleOverrideClassNames)?void 0:t.header),dataTestId:"multi-select-list-table-header-row"},n.createElement("div",{className:o()(b.E0,null==(r=this.props.styleOverrideClassNames)?void 0:r.checkboxColumn)},this.selectableItemKeys().length>0&&!this.props.selectAllDisabled&&n.createElement(u.y,{allChecked:i,"data-onboarding-key":S,someChecked:a,onChange:()=>{l?(this.toggleSelectMultiple(this.selectableItemKeys(),!1,!0),this.props.onToggleSelectAll&&this.props.onToggleSelectAll(!1)):(this.toggleSelectMultiple(this.selectableItemKeys(),!0,!0),this.props.onToggleSelectAll&&this.props.onToggleSelectAll(!0))},"data-testid":"multi-select-list-select-all-checkbox"})),this.props.columns.map(e=>n.createElement("div",{className:e.className,key:e.name},n.createElement(T,{className:e.headerClassName,extraContent:e.headerExtraContent,name:e.name,isReversed:this.props.sortState.isReversed,isSelected:e.sorting_key?e.sorting_key===this.props.sortState.columnName:e.name===this.props.sortState.columnName,onClick:e.getSortValue?()=>this.onHeaderClick(e.sorting_key??e.name):void 0,onboardingKey:e.onboardingKey}))))}render(){var e,t,r,i,a;let s=this.filterToSelected(this.props.items,this.state.selectedItemKeys,this.props.unselectableItemKeys,this.props.getItemKey),c=this.props.isBannerHeightDynamic?{top:(null==(r=null==(t=null==(e=this.stickBannerRef)?void 0:e.current)?void 0:t.getBoundingClientRect())?void 0:r.height)||0}:void 0,u=this.props.isLoading&&0===this.props.items.length,p=this.props.trackingProperties?this.props.trackingProperties.batchAction:{};return n.createElement(n.Fragment,null,n.createElement("div",{className:o()(b.wY,{[b.TH]:this.props.hasNewScrollContext},null==(i=this.props.styleOverrideClassNames)?void 0:i.tableWrapper)},n.createElement(m.P,{className:b.jG,innerClassName:o()(b.NM,this.props.scrollContainerInnerClassName),onScroll:this.onScroll,minContentWidth:this.props.minContentWidth||(0,l.hG)(v.fAD),scrollContainerRef:this.scrollContainerRef,scrollingDisabled:u,horizontalScrollingDisabled:this.props.hasNewScrollContext,scrollBarAlways:this.props.scrollBarAlwaysVisible},n.createElement(n.Fragment,null,n.createElement("div",{ref:this.stickBannerRef,className:b.ln},this.props.stickyBanner),n.createElement("div",null,this.props.scrollAwayContent),n.createElement("div",{className:void 0!==this.props.stickyBanner?b.T3:b.ln,style:c},n.createElement(g.fu,{name:"MultiSelectList Header",trackingTargets:f.K.NONE,properties:{tableType:this.props.itemTypeContext.itemType}},this.props.stickyContent),this.renderColumnHeaders(s)),0===this.props.items.length&&!this.props.isLoading&&n.createElement("div",{className:b.p$},this.props.emptyContent),n.createElement(g.fu,{name:"MultiSelectList - Row",trackingTargets:f.K.RCS,properties:{tableType:this.props.itemTypeContext.itemType}},n.createElement(C,{totalLoaded:this.props.items.length,isLoading:!!this.props.isLoading,disabled:!!this.props.disabled,renderLoadingRow:e=>this.renderLoadingRow(e),renderItem:e=>this.rowWithCheckbox(this.props.items[e],s.length>0,e),scrollContainerRef:this.scrollContainerRef,onFetchMore:this.props.onFetchMore,rowHeight:this.props.rowHeightOverride??w,paddingEnd:this.props.paddingEnd||32})))),this.props.actionBar&&n.createElement(g.fu,{name:"MultiSelectList BatchAction",trackingTargets:f.K.RCS,properties:{selectedAll:this.state.selectedAll,selectedCount:s.length,...p}},n.createElement("div",{className:s.length>0?b._Z:b.KY,"data-testid":"multi-select-list-action-bar"},n.createElement("div",{className:o()(s.length>0?b.SB:b.cr,this.props.actionBarClassName)},n.createElement("div",{className:b.SM},this.props.itemTypeContext.getSelectedCountString(this.props.getTotalSelected?this.props.getTotalSelected(s,this.selectableItemKeys()):s.length)),this.props.actionBar(s),n.createElement(d.RW,{className:o()(b.Ym,null==(a=this.props.styleOverrideClassNames)?void 0:a.batchActionClearButton),svg:I.A,onClick:()=>{this.toggleSelectMultiple(this.selectableItemKeys(),!0,!0),this.props.onToggleSelectAll&&this.props.onToggleSelectAll(!0)},trackingProperties:{action:"Clear Selection"}}))))),this.props.footer&&this.props.footer(s))}}function C({totalLoaded:e,isLoading:t,disabled:r,renderItem:a,renderLoadingRow:o,scrollContainerRef:l,onFetchMore:s,rowHeight:c,paddingEnd:d}){let u=n.useCallback(()=>c,[c]),{virtualItems:p,totalSize:m}=(0,i.z)({size:t||s?e+10:e,parentRef:l,overscan:15,estimateSize:u,paddingEnd:d||32});return n.useEffect(()=>{let t=p[p.length-1];e&&s&&(null==t?void 0:t.index)>=e-1&&s()},[s,e,p]),n.createElement("div",{className:`${r?b.ry:b.jm}`,style:{height:m}},p.map(t=>n.createElement("div",{key:t.index,style:{position:"absolute",top:t.start,left:0,width:"100%",height:t.size}},t.index>=e?o(t.index-e):a(t.index))))}A.displayName="MultiSelectList"},548593:(e,t,r)=>{"use strict";r.d(t,{TN:()=>p,pG:()=>g,rw:()=>E});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(738269),s=r(459343),c=r(720488),d=r(11476),u=r(594994),p=(e=>(e.DEFAULT="default",e.ADMIN_SETTINGS="adminSettings",e))(p||{});class m extends d.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:u.zP})}}class _ extends d.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:u.NQ,selected:u.xW})}}class h extends n.PureComponent{constructor(e){super(e),this.shouldShowDropdown=()=>!!(this.props.dropdownKey&&this.props.dropdownShown&&this.props.dropdownShown.type===this.props.dropdownKey&&this.props.dropdownShown.data&&this.props.dropdownShown.data.targetRect),this.toggleDropdown=()=>{let e=this.dropdownRef.current;this.props.dropdownKey&&e&&(this.props.dropdownShown?this.props.dispatch(l.oB()):this.props.dispatch(l.j7({type:this.props.dropdownKey,data:{targetRect:e.getBoundingClientRect()}})))},this.getTabClassWithStyling=()=>"adminSettings"===this.props.variant?_:m,this.dropdownRef=n.createRef()}render(){let e=this.getTabClassWithStyling();return n.createElement(e,{tab:this.props.tab,selectedTab:this.props.selectedTab,onClick:this.props.onClick??this.toggleDropdown,disabled:this.props.disabled,tooltipText:this.props.tooltipText,showTooltipWhenDisabled:this.props.showTooltipWhenDisabled,dataText:this.props.dataText},n.createElement("span",{ref:this.dropdownRef,className:u.Y1,"data-onboarding-key":this.props["data-onboarding-key"]},this.props.children),this.props.dropdownKey&&n.createElement(n.Fragment,null,n.createElement(s.c,{showingDropdown:this.shouldShowDropdown(),dropdownKey:this.props.dropdownKey,dispatch:this.props.dispatch,className:o()(u.ai,this.props.chevronClassName),svgContainerClassName:u.hq}),this.shouldShowDropdown()&&n.createElement(c.Cf,{targetRect:this.props.dropdownShown.data.targetRect,lean:"right",minWidth:120,propagateCloseClick:!0},this.props.dropdownOptions)))}}let g=h.name,f=e=>({dropdownShown:e.dropdownShown});function E(){return(0,i.Ng)(f)(h)}},436128:(e,t,r)=>{"use strict";r.d(t,{W:()=>f});var n=r(411855),i=r(188507),a=r(966712),o=r(96328),l=r(939863),s=r(198371),c=r(611978),d=r(860178),u=r(416822),p=r(628705),m=r(668860),_=r(637590),h=r(498606);function g(e,t,r){let n=(0,o.EJ)(e,25),i=r?function(e){switch(e){case m.e6.OWNER:return" (owner)";case m.e6.ADMIN:return" (admin)";default:return""}}(r):"";return t?(0,l.t)("avatar.tooltip.current_user_handle",{handle:n,roleName:i}):(0,l.t)("avatar.tooltip.other_user_handle",{handle:n,roleName:i})}function f(e){let t=(0,d.iZ)(),r=(0,i.d4)(e=>e.multiplayer),o=(0,i.d4)(e=>e),l=(0,a.kc)().ps_benchmark?(0,p.i)(o):(0,u.j)(o),m="user"in e?`user-${e.user.id}`:`role-${e.role.id}`,f="user"in e?e.user:e.role.user,E=!1,y="sessionId"in f&&f.sessionId===r.sessionID;t?E=f.id===t.id:"sessionId"in f&&(E=y);let b="role"in e?g(f.handle,E,e.role.level):g(f.handle,E),v=function(e){let t=(0,d.iZ)();return function(e){var t;let{localUser:r,tooltipUser:n,multiplayer:i,isInWorkshop:a,selectedView:o}=e,l=(null==(t=n.id)?void 0:t.includes("VISITOR-"))||!n.id,s=-1!==i.sessionID,c="sessionId"in n&&n.sessionId===i.sessionID,d="sessionId"in n&&n.sessionId===i.presenterSessionID,u="sessionId"in n&&i.observingSessionID===n.sessionId;return!s||(0,_.QB)(o)?l?"none":"view-profile":c?l||!r?a?"edit-name":"none":d?"stop-presenting":"none":d&&!u?"follow-presenter":u?"stop-observe":"start-observe"}({localUser:t,tooltipUser:e,multiplayer:(0,i.d4)(e=>e.multiplayer),isInWorkshop:(0,s.$D)(),selectedView:(0,c._6)()})}(f),I=`/files${l}/user/${f.id}`;return n.createElement("div",{id:e.id,key:`avatar-${m}`,"data-tooltip-type":h.Ib.SPECIAL,"data-tooltip":h.MW.VIEW_USER_PROFILE,"data-tooltip-user-handle":b,"data-tooltip-user-session-id":"sessionId"in f?f.sessionId:void 0,"data-tooltip-timeout-delay":150,"data-tooltip-user-profile-url":I,"data-tooltip-click-action":v,"data-tooltip-max-width":300,"data-tooltip-offset-y":e.tooltipOffsetY??8,"data-tooltip-interactive":!0,style:{display:"inherit"}},e.children)}},527429:(e,t,r)=>{"use strict";r.d(t,{$:()=>a,V:()=>o});var n=r(542367);let i=/https?:\/\/(?![\w.-]+\.(?:auto|map|center)[^\w.-]?)\S*/i;function a(e){try{return new URL(e),!0}catch(e){return!1}}function o(e){return n.I6(e,"url").concat(n.I6(e,"email")).filter(e=>!!a(e.href)&&i.test(e.href))}},177514:(e,t,r)=>{"use strict";r.d(t,{Jo:()=>a,RQ:()=>i,jU:()=>n}),r(451469);let n="organize-favorite-menu",i="team-link-context-menu",a="TEAM_PROJECT_LINK_ONBOARDING_KEY"},171267:(e,t,r)=>{"use strict";r.d(t,{Hu:()=>S,IZ:()=>f,Jk:()=>V,Lg:()=>R,PE:()=>v,PP:()=>C,T9:()=>E,VX:()=>z,WO:()=>F,WX:()=>k,XD:()=>Z,Y4:()=>N,YO:()=>W,aJ:()=>u,cg:()=>J,hc:()=>c,ih:()=>m,jo:()=>L,l9:()=>h,lb:()=>b,p2:()=>B,qB:()=>M,so:()=>Y});var n=r(411855),i=r(237870),a=r(196700),o=r(627526),l=r(111452);r(206089),r(660778);let s=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,991905)).then(e=>e.TeamRenameModal),(0,i.Ij)("TeamNameModal")),c=(0,i.Ju)(s),d=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,251169)).then(e=>e.AddPinModal),(0,i.Ij)("AddPinModal")),u=(0,i.Ju)(d),p=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,251169)).then(e=>e.ConfirmPermissionsUpdateToPinModal),(0,i.Ij)("ConfirmPermissionsUpdateToPinModal")),m=(0,i.Ju)(p),_=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,251169)).then(e=>e.EditPinModal),(0,i.Ij)("EditPinModal")),h=(0,i.Ju)(_),g=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,251169)).then(e=>e.DeletePinModal),(0,i.Ij)("DeletePinModal")),f=(0,i.Ju)(g),E="team-permissions-modal",y=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,14153)).then(e=>e.TeamPermissionsModal),(0,i.Ij)("TeamPermissionsModal"));(0,i.qK)(E,y);let b="team-admin-downgrade-survey",v="leave-team-downgrade-survey",I=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,400575)).then(e=>e.DowngradeSurveyModalAdmin),(0,i.Ij)("DowngradeSurveyModalAdmin")),T=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,400575)).then(e=>e.DowngradeSurveyModalLeaveTeam),(0,i.Ij)("DowngradeSurveyModalLeaveTeam"));(0,i.qK)(b,e=>n.createElement(I,{...e})),(0,i.qK)(v,e=>n.createElement(T,{...e}));let S="team-admin-confirm-downgrade",w=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,951559)).then(e=>e.ConfirmDowngradeModal),(0,i.Ij)("ConfirmDowngradeModal"));(0,i.qK)(S,w);let A=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,11457)).then(e=>e.MemberEditAccessModal),(0,i.Ij)("MemberEditAccessModal")),C=(0,i.Ju)(A,"MemberEditAccessModal"),N=(0,i.Ju)(o.Q,"AssetTransferAdminListModal"),O=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,34686)).then(e=>e.ConfirmTeamUserPaidStatusUpdateModal),(0,i.Ij)("ConfirmTeamUserPaidStatusUpdateModal")),L=(0,i.Ju)(O,"ConfirmTeamUserPaidStatusUpdateModal"),R=(0,i.Ju)(l.oS,"AssetTransferRequestModal"),P=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,900911)).then(e=>e.ConfirmDowngradeEditorsModal),(0,i.Ij)("ConfirmDowngradeEditorsModal")),k=(0,i.Ju)(P,"ConfirmDowngradeEditorsModal"),D=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,318067)).then(e=>e.EduUpgradeModal),(0,i.Ij)("EduUpgradeModal")),M=(0,i.Ju)(D,"EDU_UPGRADE_MODAL"),x=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,937700)).then(e=>e.NewFolderModal),(0,i.Ij)("NewFolderModal")),F=(0,i.Ju)(x,"NEW_FOLDER_MODAL"),U=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,815186)).then(e=>e.FolderCreationModal),(0,i.Ij)("FolderCreationModal")),B=(0,i.Ju)(U,"FOLDER_CREATION_MODAL"),H=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,796831)).then(e=>e.FolderMoveModal),(0,i.Ij)("FolderMoveModal")),V=(0,i.Ju)(H,"FOLDER_MOVE_MODAL",i.ZU.YES),G=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,271621)).then(e=>e.ChangeVatGstIdModal),(0,i.Ij)("ChangeVatGstIdModal")),W=(0,i.Ju)(G,"ChangeVatGstIdModal"),K=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,830192)).then(e=>e.TeamChangePaymentModal),(0,i.Ij)("TeamChangePaymentModal")),Y=(0,i.Ju)(K,"TeamChangePaymentModal"),j=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,908453)).then(e=>e.ConfirmCancelAnnualPlanModal),(0,i.Ij)("ConfirmCancelAnnualPlanModal")),z=(0,i.Ju)(j,"ConfirmCancelAnnualPlanModal"),$=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,908453)).then(e=>e.ChangeAnnualPlanModal),(0,i.Ij)("ChangeAnnualPlanModal")),Z=(0,i.Ju)($,"ChangeAnnualPlanModal"),q=a.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(8655),r.e(3630),r.e(8044),r.e(8112),r.e(187),r.e(4170),r.e(1497),r.e(7748)]).then(r.bind(r,479280)).then(e=>e.ProCostBreakdownModal),(0,i.Ij)("ProCostBreakdown")),J=(0,i.Ju)(q,"ProCostBreakdownModal")},464382:(e,t,r)=>{"use strict";r.d(t,{C:()=>o,q:()=>a});var n=r(374626),i=r(320660);let a=(0,i.Q)(n.zl,"FileBrowser",(0,i.h)("filebrowser-loading-page",e=>{e.setAttribute("id",""),e.classList.remove("hidden"),e.classList.remove("fadeOut")})),o=a.useIsLoading},786395:(e,t,r)=>{"use strict";r.d(t,{GQ:()=>ei,_7:()=>en,lJ:()=>ee,xL:()=>er});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(511617),s=r(737947),c=r(966712),d=r(498750),u=r(822985),p=r(564577),m=r(67833),_=r(762638),h=r(939863),g=r(809840),f=r(953993),E=r(386909),y=r(54552),b=r(738269),v=r(507877),I=r(296559),T=r(128751),S=r(672517),w=r(10648),A=r(835156),C=r(788811),N=r(723245),O=r(355513),L=r(27703),R=r(477782),P=r(112235),k=r(694687),D=r(611978),M=r(860178),x=r(132135),F=r(99506),U=r(428467),B=r(984968),H=r(608902),V=r(935938),G=r(378356),W=r(498606),K=r(723127),Y=r(907220),j=r(127391),z=r(228017),$=r(677005),Z=r(107980),q=r(507921),J=r(148201),X=r(668919),Q=r(602244);function ee(e){let t=(0,J.l)(e.file.folder_id),r=t.data;return(0,L.i4)(e.file)?n.createElement("span",{className:Q.gO},n.createElement(h.Tx,{id:"tile.file_tile.password_protected"})):"loaded"!==t.status?null:n.createElement("div",{className:Q.m2},n.createElement("span",{className:_.cx.inlineFlex.$},e.left||null),n.createElement("span",{className:Q.ag},e.file.touched_at&&!r&&n.createElement("span",{className:Q.gO},n.createElement(h.Tx,{id:"tile.file_tile.edited_time",time:n.createElement(p.h1,{date:e.file.touched_at})})),e.file.touched_at&&r&&n.createElement("span",{className:Q.Vj},n.createElement(h.Tx,{id:"tile.file_tile.edited_time_with_separator",time:n.createElement(p.h1,{date:e.file.touched_at})})),r&&n.createElement(g.E,{truncate:!0,showTooltipWhenTruncated:!0},r)))}function et(e){let{file:t,currentUserId:r}=e,i=n.createElement(n.Fragment,null,n.createElement($.RX,{date:e.file.trashed_at}));return n.Fragment,t.trashed_user_id&&t.trashed_user_id===r?n.createElement("span",{className:Q.Yg},n.createElement(h.Tx,{id:"tile.file_tile.deleted_by_you",time:i})):t.trashed_user&&t.trashed_user.handle?n.createElement("span",null,n.createElement(h.Tx,{id:"tile.file_tile.deleted_by_other_user",userHandle:t.trashed_user.handle,time:i})):n.createElement("span",{className:Q.Yg},n.createElement(h.Tx,{id:"tile.file_tile.deleted_generic",time:i}))}function er(e){var t,r,a;let o;let s=(0,D._6)(),c="deletedFiles"===s.view,d="recentFiles"===s.view||"recentsAndSharing"===s.view&&s.tab===V.G.RECENTLY_VIEWED,u="sharedWithYou"===s.view&&"files"===s.tab||"recentsAndSharing"===s.view&&s.tab===V.G.SHARED_FILES,m=(0,k.dq)(),_=(null==(t=(0,B.ol)())?void 0:t.id)||null,g=(0,M.iZ)(),f=(0,i.d4)(t=>{let r=e.tile.file.parent_org_id?t.orgById[e.tile.file.parent_org_id]:null,n=e.tile.file.team_id?t.teams[e.tile.file.team_id]:null;return r||n}),E=(0,i.d4)(e=>e.activeFileUsers),y=(0,i.d4)(e=>(0,C.QM)(e.autosave.unclaimedFilesWithChangesInIDB,e)),[v,I]=n.useState(!1),N=(0,i.wA)(),{isDropdownShown:O,onTileContextMenu:L,tile:P,index:F}=e,U=n.useCallback(e=>{e.stopPropagation(),e.preventDefault()},[]),H=n.useCallback(e=>{L&&(e.stopPropagation(),e.preventDefault(),O()?N(b.oB()):(N(T.an()),N(T.y$({type:G.F.FILES,tiles:[P]})),L(P,e,F)))},[L,O,N,P,F]),W=n.useCallback(e=>{e.stopPropagation()},[]),K=n.useMemo(()=>c?[]:(0,A.g)(E,g.id,P.file.key),[E,c,P.file.key,g.id]),Y=e.tile.file,z=R.Tf.useIsRenaming(e.tile),Z=e;z&&(Z={...Z,draggable:!1});let J=e.showSettingsIcon?{showSettingsIcon:!0,onFileSettingsClick:H,onFileSettingsMouseDown:W,onFileSettingsDoubleClick:U}:{showSettingsIcon:!1};if(u&&((null==(r=Y.shared_by_user)?void 0:r.name)||Y.shared_at)){let e=Y.shared_at&&n.createElement(n.Fragment,null,n.createElement(h.Tx,{id:"swy_tile.shared"}),n.createElement(p.h1,{date:new Date(Y.shared_at)})),t=(null==(a=Y.shared_by_user)?void 0:a.name)?`From ${Y.shared_by_user.name}`:e,r=Y.parent_org||Y.parent_team;o=n.createElement(n.Fragment,null,n.createElement("div",{className:Q.wx},r&&n.createElement(j.H,{entityId:r.id,entityName:r.name||void 0,imgUrl:r.imgUrl||void 0}),n.createElement("div",null,t)))}else o=c?n.createElement(et,{currentUserId:g.id,file:e.tile.file}):d?n.createElement("div",{className:Q.wx},n.createElement(ee,{left:f&&n.createElement(j.H,{entityId:f.id,entityName:f.name,imgUrl:f.img_url}),file:Y})):n.createElement(ee,{file:Y});let X=(0,x.rl)(Y);return X=(0,l.mc)(X,g),X=(0,l.vk)(X,m,_,s),n.createElement(S.fu,{name:"File Tile",trackingTargets:w.K.RCS,properties:{fileKey:Y.key}},n.createElement($.XQ,{...Z,href:X,onMouseEnter:()=>{I(!0)},onMouseLeave:()=>{I(!1)},isHover:v,tileRef:e.tileRef},e.isListView?n.createElement(q.I,{tile:e.tile,activeFileUserList:K,...J}):n.createElement(en,{file:Y,subtitle:o,activeFileUsers:K,currentUser:g,hasUnsyncedChanges:(()=>{let t=e.tile.file.key;return y.findIndex(e=>e.fileKey===t)>=0})(),isHover:v,...J})))}function en(e){var t;let r=e.file.last_published_at,a=(0,P.p)(),l=(0,p.Ak)(r),s=(0,i.d4)(e=>"deletedFiles"===e.selectedView.view),d=(0,i.d4)(e=>"teamFeed"===e.selectedView.view),_=(0,c.kc)().ps_benchmark,g=(0,i.wA)();(0,c.kc)().statsig_aa_flag_web_file_tile;let{file:b}=e,v=e.tile,I=n.useMemo(()=>v||{type:R.nb.FILE,file:b},[v,b]),T=b.parent_org_id??(null==(t=b.parent_org)?void 0:t.id)??null,S=_&&(null==b?void 0:b.team_id)?b.team_id:null,w=(0,f.Y)(b.key,F.bk.FILE,T,S),A=n.useMemo(()=>"loaded"===w.status?!!w.favorite:R.Tf.getIsFavorited(I),[I,w]),C=n.useMemo(()=>{if(I.type===R.nb.REPO)return I.repo.id},[I]),L=n.useCallback((e,t,r)=>{if(I.type===R.nb.FILE||I.type===R.nb.REPO){let n={entrypoint:"file_tile",favoriteId:t,sectionId:r,file:b,repoId:C,fileBrowserFavorite:!0};e?g(y.Fb(n)):g(y.qP(n))}},[b,I,C,g]),k=(0,O.jm)(T,S),D=!!(0,c.kc)().ps_benchmark,M=D&&!b.team_id&&!b.parent_org_id;return n.createElement(n.Fragment,null,n.createElement(u.H,{file:e.file,disabled:e.disabled,tooltipText:e.tooltipText}),n.createElement("div",{className:Q.vS},!e.disableIconOverlays&&n.createElement(m.oS,{type:a(b),size:m.LE.MEDIUM,"data-tooltip-type":r?W.Ib.TEXT:void 0,"data-tooltip":r?(0,h.t)("tile.file_tile.published_as_library",{time:l}):void 0}),e.showBranchIndicator&&n.createElement(X.I,{className:Q.su,fileKey:e.file.key,branches:e.branches,selectedBranchKey:e.selectedBranchKey,onSelectBranch:e.onSelectBranch})),n.createElement("div",{className:o()(Q.SA,{[Q.RK]:A})},!e.disableIconOverlays&&!!((!D||k)&&!s&&!d&&!M)&&n.createElement("div",{className:Q.A4},n.createElement(E.r,{setFavorite:L,favoriteType:(0,N.UL)(I.type),resourceId:e.file.key,noHoverState:!0,size:E.m.MEDIUM,orgId:T,teamId:S}))),n.createElement("div",{className:Q.q6},n.createElement(Z.S,{tile:I,...e,isListView:!1}),n.createElement("div",{className:Q.SC},e.hasUnsyncedChanges&&n.createElement(z.K,null),n.createElement($.md,{subtitle:e.subtitle,disabled:e.disabled})),n.createElement("div",{className:Q.WM},n.createElement(Y.W,{entityList:e.activeFileUsers,maxNumHeads:3,currentUser:e.currentUser,overlapped:!0}))))}function ei(e){let t=(0,U.usePermissionsState)(),r=(0,i.d4)(e=>(0,C.QM)(e.autosave.unclaimedFilesWithChangesInIDB,t)).findIndex(t=>t.fileKey===e.file.key)>=0,a=(0,i.d4)(e=>e.currentUserOrgId),u=(0,i.d4)(e=>e.currentTeamId),p=(0,i.d4)(e=>e.user),m=(0,i.d4)(e=>e.selectedView),_=(0,i.wA)();return n.createElement("div",{className:Q.CK},n.createElement("div",{onClick:t=>{if(e.overrideOnClick){t.preventDefault(),e.onClick(t);return}if((0,c.kc)().ps_benchmark?_(I.c5({planId:a||u,planType:a?H.O.ORG:H.O.TEAM})):_(I.p4({planId:a||K.P})),(0,d.oJ)(t)){_(v.UN({fileKey:e.file.key,entrypoint:"standalone file tile",viewMode:0===e.viewMode?"list":"grid"}));let t=`/file/${e.file.key}`;t=(0,l.mc)(t,p),t=(0,l.vk)(t,a,u,m),s.Ay.redirect(t,"_blank")}else if((0,l.N7)(a,e.file.parent_org_id,u,e.file.team_id)){_(v.UN({fileKey:e.file.key,entrypoint:"standalone file tile",viewMode:0===e.viewMode?"list":"grid"}));let t=(0,c.kc)().ps_benchmark;(0,l.QV)(e.file.key,p,a,t?u:null,m,e.file.editor_type||void 0)}else t.preventDefault(),e.onClick(t)},className:o()(Q.m4,Q.Tr,{[Q.FR]:e.isSelected}),role:"link",tabIndex:0},n.createElement("div",{className:Q.yl},n.createElement("div",{className:Q.XK}),n.createElement(en,{...e,hasUnsyncedChanges:r}))))}},677005:(e,t,r)=>{"use strict";r.d(t,{RX:()=>m,XQ:()=>u,d3:()=>d,md:()=>p});var n=r(411855),i=r(629019),a=r.n(i),o=r(433011),l=r(564577),s=r(672517),c=r(602244);function d(e){let[t]=n.useState(()=>new o.W),[r,i]=n.useState(!1),{onClick:l,openTile:s,tile:d,index:u,selectable:p,isSelected:m,selectTile:_}=e,h=n.useCallback(e=>{if(l(),!p){s(d,e,u);return}r?(m&&_(d,e),s(d,e,u)):(_(d,e),t.reset(),t.scheduleOnce(()=>{i(!1)},500),i(!0),e.preventDefault(),e.stopPropagation())},[t,u,m,s,l,_,p,d,r]);n.useEffect(()=>()=>t.reset(),[t]);let g=e.isRenaming||!1,f=a()(c.kL,{[c.mi]:e.isListView,[c.FR]:e.selectable&&e.isSelected}),E=a()(c.XK,c.ZL);return n.createElement("a",{className:f,href:!e.selectable||r?e.href:void 0,rel:"noopener",onClick:h,onContextMenu:e.onTileContextMenu?t=>{e.onTileContextMenu&&e.onTileContextMenu(e.tile,t,e.index)}:void 0,draggable:!!e.draggable&&void 0,onDragStart:e.draggable?t=>{e.draggable&&e.onTileDragStart(e.tile,t)}:void 0,onDragEnd:e.draggable?t=>{e.draggable&&e.onTileDragEnd(e.tile,t)}:void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,ref:e.tileRef},n.createElement("div",{className:a()(c.yl,c.Tr),draggable:e.draggable&&!g},e.isListView?e.children:n.createElement(n.Fragment,null,n.createElement("div",{className:E,onClick:()=>!0}),e.children)))}let u=(0,s.tf)(d);function p({subtitle:e,disabled:t}){return n.createElement("div",{className:t?c.Dv:c.VA},e)}function m({date:e}){return n.createElement("div",{className:c.m_},n.createElement(l.h1,{className:c.gO,date:e}))}},507921:(e,t,r)=>{"use strict";r.d(t,{I:()=>U});var n=r(411855),i=r(188507),a=r(935283),o=r(498750),l=r(822985),s=r(564577),c=r(708258),d=r(574176),u=r(762638),p=r(386909),m=r(54552),_=r(507877),h=r(857766),g=r(723245),f=r(985139),E=(e=>(e.FILE_NAME="FILE_NAME",e.GENERIC_NAME="GENERIC_NAME",e.TOUCHED_AT="TOUCHED_AT",e.ACCESSED_AT="ACCESSED_AT",e.CREATED_AT="CREATED_AT",e.TRASHED_AT="TRASHED_AT",e))(E||{}),y=(e=>(e.RECENT_FILES="RECENT_FILES",e.FOLDER="FOLDER",e.DELETED_FILES="DELETED_FILES",e.TEAM="TEAM",e))(y||{});let b={RECENT_FILES:["FILE_NAME","ACCESSED_AT"],FOLDER:["FILE_NAME","TOUCHED_AT","CREATED_AT"],DELETED_FILES:["FILE_NAME","CREATED_AT","TRASHED_AT"],TEAM:["GENERIC_NAME","TOUCHED_AT"]};var v=r(477782),I=r(611978),T=r(860178),S=r(498606),w=r(907220),A=r(137560),C=r(858212),N=r(558185),O=r(946992),L=r(107980),R=r(939863),P=r(707465),k=r(671653);let D={[E.FILE_NAME]:{isValid:(e,t)=>!0},[E.TOUCHED_AT]:{isValid:(e,t)=>!(0,P.K)(t)&&e.type!==v.nb.PROTOTYPE},[E.ACCESSED_AT]:{isValid:(e,t)=>(0,P.K)(t)},[E.CREATED_AT]:{isValid:(e,t)=>!(0,P.K)(t)},[E.TRASHED_AT]:{isValid:(e,t)=>"deletedFiles"===t.view&&e.type!==v.nb.PROTOTYPE},[E.GENERIC_NAME]:{isValid:(e,t)=>e.type===v.nb.PROJECT}};k.C0.NAME,R.Tx,k.C0.ACCESSED_AT,R.Tx,k.C0.TOUCHED_AT,R.Tx,k.C0.CREATED_AT,R.Tx,k.C0.TRASHED_AT,R.Tx,k.C0.NAME,R.Tx,k.C0.TOUCHED_AT,R.Tx,k.C0.CREATED_AT,R.Tx;var M=r(602244),x=r(405993),F=r(159917);function U(e){let t=(0,i.wA)(),r=(0,T.iZ)(),y=(0,I._6)(),R="deletedFiles"===y.view,P=function(e){switch(e.view){case"recentFiles":return b.RECENT_FILES;case"deletedFiles":return b.DELETED_FILES;case"team":return b.TEAM;default:return b.FOLDER}}(y),k=(0,C.S)(),U=(0,i.d4)(e=>e.currentUserOrgId),B=n.useMemo(()=>v.Tf.getFavoriteResourceId(e.tile),[e.tile]),H=n.useMemo(()=>v.Tf.getOrgId(e.tile),[e.tile])===U&&e.tile.type!==v.nb.OFFLINE_FILE,V=e=>{e.stopPropagation(),e.preventDefault()},G=e=>{e.stopPropagation()},W=r=>{if(e.tile.type===v.nb.PROTOTYPE)return;r.stopPropagation(),r.preventDefault();let n=[],i=[];switch(e.tile.type){case v.nb.FILE:n=[e.tile.file.key];break;case v.nb.REPO:n=e.tile.branches.map(e=>e.key),i=[e.tile.repo.id]}t((0,f.b4)({fileKeys:n,repoIds:i}))},K=e.tile,Y=n.useCallback((e,r,n)=>{let i={entrypoint:"file_list_view",favoriteId:r,sectionId:n};if(K.type===v.nb.FILE||K.type===v.nb.REPO){let r=K.type===v.nb.REPO?K.branches.find(e=>(0,h.SA)(e,K.repo)):K.file;if(!r)return;let n=K.type===v.nb.REPO?K.repo.id:void 0,a={...i,file:r,repoId:n,fileBrowserFavorite:!0};e?t(m.Fb(a)):t(m.qP(a))}else if(K.type===v.nb.PROTOTYPE){let r={...i,prototype:K.prototype,fileBrowserEntryPoint:!0};e?t(m.iN(r)):t(m.X7(r))}},[K,t]),j=()=>{if(H)return e.tile.type!==v.nb.PROJECT||k?B&&n.createElement("div",{className:`${u.cx.flex.mr4.$} ${M.j0}`},n.createElement(p.r,{resourceId:B,favoriteType:(0,g.UL)(K.type),setFavorite:Y,orgId:v.Tf.getOrgId(e.tile)??null,teamId:v.Tf.getFavoriteResourceTeamId(e.tile)??null})):n.createElement("div",{className:u.cx.p4.$},n.createElement(A.d,{folder:e.tile.folder}))},z=n.useMemo(()=>{switch(e.tile.type){case v.nb.PROTOTYPE:return n.createElement(N.n,{isLocked:!!e.tile.prototype.fig_file.has_proto_link_password,thumbnail_url:e.tile.prototype.thumbnail_url});case v.nb.FILE:return n.createElement(l.H,{file:e.tile.file,listView:!0});case v.nb.REPO:let t=(0,h.LH)(e.tile.repo,e.tile.branches,e.tile.selectedBranchKey);return n.createElement(l.H,{file:t,listView:!0});case v.nb.PINNED_FILE:case v.nb.PROJECT:return null;case v.nb.OFFLINE_FILE:return n.createElement(O.A,{listView:!0});default:(0,a.xb)(e.tile)}},[e.tile]),$=n.useMemo(()=>{if(e.tile.type!==v.nb.REPO)return null;let t=e.tile.branches.filter(e=>!e.trashed_at),r=(0,h.LH)(e.tile.repo,t,e.tile.selectedBranchKey);return r&&r.source_file_key?n.createElement("div",{className:"tile_list_view--branchIndicator--AaoXA ellipsis--ellipsis--Tjyfa"},n.createElement(d.B,{svg:x.A}),n.createElement("div",{className:"tile_list_view--branchName--CFKi2",dir:"auto"},r.name)):null},[e.tile]),Z=t=>{let r=v.Tf.getAccessedAt(e.tile);return n.createElement("div",{key:`${t}`,style:{gridColumn:t+1}},r?n.createElement(s.h1,{date:r}):null)},q=t=>{let r=v.Tf.getTouchedAt(e.tile);return n.createElement("div",{key:`${t}`,style:{gridColumn:t+1}},r?n.createElement(s.h1,{date:r}):null)},J=t=>n.createElement("div",{key:`${t}`,style:{gridColumn:t+1}},n.createElement(s.h1,{date:v.Tf.getCreatedAt(e.tile)})),X=t=>{let r=v.Tf.getTrashedAt(e.tile);return n.createElement("div",{key:`${t}`,style:{gridColumn:t+1}},r?n.createElement(s.h1,{date:r}):null)},Q=t=>n.createElement("div",{key:`${t}`,className:M.Ge},j(),z,n.createElement(L.S,{tile:e.tile,isListView:!0}),$),ee=(r,i)=>{let a=(0,o.Gc)(r=>{r.preventDefault(),e.tile.type===v.nb.PROJECT&&(t(_.kg({clickedResourceType:"folder",resourceIdOrKey:e.tile.folder.id})),t(_.gN(e.tile.folder.id)))});return n.createElement("div",{key:`${r}`,className:u.cx.flex.itemsCenter.$},j(),n.createElement("div",{className:"tile_list_view--folderName--H18VP text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",onClick:a,role:"button",tabIndex:0},i.folder.folderName))};return n.createElement(n.Fragment,null,n.createElement("div",{className:M.uG},P.filter(t=>D[t].isValid(e.tile,y)).map((t,r)=>{switch(t){case E.FILE_NAME:return Q(r);case E.GENERIC_NAME:return ee(r,e.tile);case E.ACCESSED_AT:return Z(r);case E.TOUCHED_AT:return q(r);case E.CREATED_AT:return J(r);case E.TRASHED_AT:return X(r)}})),e.tile.type!==v.nb.PROTOTYPE&&n.createElement(n.Fragment,null,R&&n.createElement("div",{className:M.wn},(()=>{let t=e.tile.type===v.nb.FILE&&!!e.tile.file.folder_id||e.tile.type===v.nb.REPO&&!!e.tile.repo.folder_id;return n.createElement(d.B,{svg:F.A,className:M.q_,onClick:t?W:void 0,onMouseDown:G,onDoubleClick:V,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":t?"Restore file":"This file belonged to a project that has been deleted and cannot be restored. Duplicate this file to continue working on it in your drafts."})})()),!R&&e.activeFileUserList&&n.createElement(w.W,{className:M.wn,entityList:e.activeFileUserList,maxNumHeads:3,currentUser:r}),n.createElement(c.C,{...e,useVerticalIcon:!0,className:"tile_list_view--settingsIcon--yvY8o"})))}},873327:(e,t,r)=>{"use strict";r.d(t,{lZ:()=>U,Ug:()=>H,Bq:()=>B});var n=r(411855),i=r(188507),a=r(115630),o=r(794272),l=r(966712),s=r(498750),c=r(268537),d=r(574176),u=r(939863),p=r(738269),m=r(507877),_=r(119198),h=r(662275),g=r(750293),f=r(672517),E=r(720647),y=r(544949),b=r(594901),v=r(99506),I=r(945020),T=r(927440),S=r(875847),w=r(720488),A=r(731210),C=r(895379),N=r(935283),O=r(67833),L=r(194026),R=r(861653),P=(e=>(e[e.DESIGN=0]="DESIGN",e[e.DESIGN_SELECTED=1]="DESIGN_SELECTED",e[e.WHITEBOARD=2]="WHITEBOARD",e[e.WHITEBOARD_SELECTED=3]="WHITEBOARD_SELECTED",e[e.SLIDES=4]="SLIDES",e))(P||{});function k(e){switch(e.type){case 0:return n.createElement(d.B,{svg:R.A,className:"file_badges--figmaDesignBadge--Wmxzl"});case 1:return n.createElement(d.B,{svg:R.A,className:"file_badges--figmaDesignBadgeSelected--vKPLj"});case 2:return n.createElement(d.B,{svg:L.A,className:"file_badges--figjamBadge--Nhc7R"});case 3:return n.createElement(d.B,{svg:L.A,className:"file_badges--figjamBadgeSelected--wapoU"});case 4:return n.createElement(O.oS,{size:O.LE.SMALL,type:O.y1.SLIDES});default:(0,N.xb)(e.type)}}let D="new_file_dropdown--dropdownOptionGroup--FfQTA",M="new_file_dropdown--optionSubtext--F1fJe";var x=r(852068);let F=(0,f.tf)(c.W.Option),U="CREATE_FILES_ONBOARDING_KEY";function B(e){let t=(0,b.FC)(),r=(0,o.R)(t=>({selectedView:e?m.gN(e).payload:t.selectedView,currentOrgId:t.currentUserOrgId,orgById:t.orgById,currentTeamId:t.currentTeamId,teams:t.teams}));return{...t,...r}}function H(e){let{from:t,anchorRef:r,team:o,lean:f}=e,N=B(e.folder.id),O=(0,b.Xx)(null==N?void 0:N.currentOrgId),L=e.folder.canCreateFigjamFile,R=e.folder.canCreateDesignFile,H=e.folder.canCreateSlidesFile,V=(0,b.b0)(e.folder,v._Y.WHITEBOARD),G=(0,b.b0)(e.folder,v._Y.DESIGN),W=(0,n.useRef)(null),K=(0,i.wA)(),[Y,j]=(0,n.useState)(null),[z,$]=n.useState(!1),[Z,q]=n.useState(!1),J=r.current;if((0,n.useLayoutEffect)(()=>{if(!J)return;let e=J.getBoundingClientRect();e.y+=4,j(e)},[J]),!Y)return null;let X=(r,n,i)=>{let a={state:N,editorType:i,team:o,folderId:e.folder.id,isDraftsFolder:(0,S.T9)(e.folder),from:t,openNewFileIn:(0,s.oJ)(r)?I.ai.NEW_TAB:I.ai.SAME_TAB};K(_.zE(a)),K(p.oB())},Q=e=>{var t;let r=null==(t=N.user)?void 0:t.id,n=N.currentOrgId,i=n&&N.orgUsersByOrgId.orgUsers[n],a=r&&i&&i[r];n&&a&&K((0,h.to)({type:A.Y,data:{orgId:n,orgUser:a,entryPoint:g.PE.CreateFile,licenseType:(0,E.vc)(e)}}))};return n.createElement(n.Fragment,null,n.createElement(w.Cf,{leanPadding:8,lean:f,targetRect:Y,ref:W,className:"new_file_dropdown--newFileDropdown--5lbLY",onboardingKey:(0,S.T9)(e.folder)?U:void 0,propagateCloseClick:!0},n.createElement(F,{disabled:!G,key:"design",onPointerUp:e=>G&&!R?Q(v._Y.DESIGN):X(e,!1,v._Y.DESIGN),className:"new_file_dropdown--extraSpaceOption--gWX20",onPointerOver:()=>$(!0),onPointerOut:()=>$(!1)},n.createElement("div",{className:D},n.createElement("span",null,n.createElement(u.Tx,{id:"sidebar.new_design_file"})),G&&!R&&n.createElement("span",{className:M},n.createElement(u.Tx,{id:"sidebar.need_an_upgrade_to_create"}))),n.createElement(k,{type:z?P.DESIGN_SELECTED:P.DESIGN})),n.createElement(F,{disabled:!V,key:"whiteboard",onPointerUp:e=>V&&!L?Q(v._Y.WHITEBOARD):X(e,!1,v._Y.WHITEBOARD),onPointerOver:()=>q(!0),onPointerOut:()=>q(!1),className:V?"new_file_dropdown--purpleHoverOption---psYE":""},n.createElement("div",{className:D},n.createElement("div",{className:"new_file_dropdown--figjamFileOptionContainer--USmyS"},n.createElement("span",null,n.createElement(u.Tx,{id:"sidebar.new_fig_jam_file"}))),O&&n.createElement("span",{className:M},n.createElement(u.Tx,{id:"sidebar.disabled_by_your_organization"})),V&&!L&&n.createElement("span",{className:M},n.createElement(u.Tx,{id:"sidebar.need_an_upgrade_to_create"}))),n.createElement(k,{type:Z?P.WHITEBOARD_SELECTED:P.WHITEBOARD})),H?n.createElement(a.v,{mode:"piper"},n.createElement(F,{key:"slides",onPointerUp:e=>X(e,!1,v._Y.SLIDES),className:"new_file_dropdown--genericHoverOption--ru9dk"},n.createElement("div",{className:D},n.createElement("span",null,n.createElement(u.Tx,{id:"sidebar.new_slides_file"}))),n.createElement(k,{type:P.SLIDES}))):void 0,n.createElement(c.W.Separator,null),n.createElement(F,{key:C.D.IMPORT,onClick:()=>{K(m.gN(e.folder.id)),K((0,y.L)({showImportModal:(0,l.kc)().figjam_3p_file_importer}))},disabled:!L&&!R,onboardingKey:T._s},n.createElement("div",{className:D},n.createElement(u.Tx,{id:"sidebar.import"})),n.createElement("span",{className:"new_file_dropdown--icon--PJfmW"},n.createElement(d.B,{svg:x.A})))))}},253967:(e,t,r)=>{"use strict";r.d(t,{d:()=>w});var n=r(411855),i=r(109388),a=r(188507),o=r(268537),l=r(762638),s=r(939863),c=r(442597),d=r(662275),u=r(258237),p=r(318812),m=r(694687),_=r(860178),h=r(428467),g=r(813408),f=r(498606),E=r(749449),y=r(180881),b=r(720488),v=r(227795),I=r(362679),T=r(13556);function S(e){let{publishedResource:t,targetRect:r}=e,i=(0,a.wA)(),l=(0,_.TA)();if(!r)return null;let p=[E.KM.PERMISSIONS];((0,u.Ro)(t,l??"")||t.creator.id===l)&&p.push(E.KM.PUBLISH);let m=(r,n)=>{r.stopPropagation(),i((0,c.r)({publishedPluginId:null==t?void 0:t.id,initialTab:n,entryPoint:g.k2.ADMIN,initialAllowedTabs:p})),e.hide()};return n.createElement(b.Cf,{targetRect:r,type:b.it.DEFAULT,lean:"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},p.includes(E.KM.PUBLISH)&&n.createElement(o.W.Option,{onClick:e=>m(e,E.KM.PUBLISH)},t.is_widget?n.createElement(s.Tx,{id:"community.plugins.edit_resource_details.widget"}):n.createElement(s.Tx,{id:"community.plugins.edit_resource_details.plugin"})),n.createElement(o.W.Option,{onClick:e=>m(e,E.KM.PERMISSIONS)},n.createElement(s.Tx,{id:"universal_insert.manage_permissions"})),n.createElement(o.W.Separator,null),n.createElement(o.W.Option,{onClick:r=>{r.stopPropagation(),i((0,d.to)({type:y.H,data:{plugin:t},showModalsBeneath:!0})),e.hide()}},(0,s.t)("community.resource.unpublish")))}function w(e){var t,r;let a=n.useRef(null),o=(0,p.B)("ORG_ADMIN_RESOURCE_DROPDOWN"),c=null==(t=i.findDOMNode(a.current))?void 0:t.getBoundingClientRect(),d=(0,_.TA)(),u=(0,m.sZ)(),g=(0,h.usePermissionsState)();return u&&d&&(0,h.canAdminOrg)(null==u?void 0:u.id,g,d)?n.createElement("div",{className:l.cx.ml4.$},n.createElement(v.K0,{ref:a,svg:I.A,fallbackSvg:T.A,onClick:t=>{t.stopPropagation(),o.toggle({data:{publishedResource:e.resource}})},"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,s.t)("universal_insert.more_options")}),o.showing&&(null==(r=o.data)?void 0:r.publishedResource.id)===e.resource.id&&n.createElement(S,{publishedResource:e.resource,targetRect:c,hide:()=>o.hide()})):null}},927440:(e,t,r)=>{"use strict";r.d(t,{Bq:()=>E,E_:()=>g,_s:()=>h,oz:()=>f});var n=r(411855),i=r(188507),a=r(966712),o=r(860601),l=r(939863),s=r(239831),c=r(544949),d=r(498606),u=r(895379),p=r(267687),m=r(83299),_=r(714236);let h="import";function g(e){let t=f(e),r=t.disabled?_.NY:void 0;return n.createElement(s.K,{action:{kind:s.A.BUTTON,key:t.key,displayText:t.displayText,onClick:t.onClick,dataTestId:t.dataTestId,styleClass:r,"data-onboarding-key":h,"data-tooltip":t.dataTooltip,"data-tooltip-type":t.dataTooltipType}})}function f(e){let t=(0,i.wA)(),r=e.disabled?o.lQ:()=>{t((0,c.L)({showImportModal:(0,a.kc)().figjam_3p_file_importer}))},n=e.disabled?(0,l.t)("locked_team.label.tooltip"):void 0,s=e.disabled?d.Ib.TEXT:void 0;return{disabled:!!e.disabled,onClick:r,dataTooltip:n,dataTooltipType:s,displayText:(0,l.t)("file_browser.folder.import"),dataTestId:"file-import-button",key:u.D.IMPORT}}function E(e){let t=f(e);return{displayText:t.displayText,preventDismissOnSelected:!0,render:()=>n.createElement(p.R,{disabled:t.disabled,text:t.displayText,onClick:t.onClick,listOptionType:m.R.IMPORT,dataTestId:t.dataTestId,key:t.key})}}},267687:(e,t,r)=>{"use strict";r.d(t,{R:()=>f});var n=r(411855),i=r(308548),a=r(42086),o=r(449486),l=r(302586),s=r(954244),c=r(629019),d=r.n(c),u=r(860601),p=r(762638),m=r(498606),_=r(83299),h=r(219044);let g={[_.R.DESIGN]:h.E,[_.R.WHITEBOARD]:h.Am,[_.R.SLIDES]:h.MB,[_.R.SITES]:h.zf,[_.R.IMPORT]:h.n_};function f(e){let t={[_.R.DESIGN]:n.createElement(i.k,{className:e.disabled?h.Ir:h.Kk}),[_.R.WHITEBOARD]:n.createElement(a.A,{className:e.disabled?h.Ir:h.Kk}),[_.R.SLIDES]:n.createElement(o.g,{className:e.disabled?h.Ir:h.Kk}),[_.R.SITES]:n.createElement(l.Y,{className:e.disabled?h.Ir:h.Kk}),[_.R.IMPORT]:n.createElement(s.R,{className:e.disabled?h.Ir:h.Kk})};return n.createElement("div",{role:"link",tabIndex:0,onClick:e.disabled?u.lQ:e.onClick,"data-testid":e.dataTestId,"data-tooltip":e.dataTooltip,"data-tooltip-type":m.Ib.TEXT,"data-tooltip-timeout-delay":300},n.createElement("div",{className:d()({[p.cx.flex.gap8.flexRow.pl6.pt6.pb6.pr8.overflowHidden.$]:!0,[g[e.listOptionType]]:!e.disabled})},n.createElement("div",{className:p.cx.flex.w24.h24.flexRow.itemsCenter.alignCenter.justifyCenter.flexShrink0.$},t[e.listOptionType]),n.createElement("div",{className:d()({[p.cx.flex.h24.flexRow.overflowHidden.flexGrow1.itemsCenter.$]:!0,[p.cx.colorTextMenu.$]:!e.disabled,[p.cx.colorTextTertiary.$]:!!e.disabled})},e.text)))}},83299:(e,t,r)=>{"use strict";r.d(t,{R:()=>i,x:()=>n});let n="FILE_CREATION_OMNICREATE_DROPDOWN";var i=(e=>(e.DESIGN="RESOURCE_CREATION_DESIGN_OPTION",e.WHITEBOARD="RESOURCE_CREATION_WHITEBOARD_OPTION",e.SLIDES="RESOURCE_CREATION_SLIDES_OPTION",e.SITES="RESOURCE_CREATION_SITES_OPTION",e.IMPORT="RESOURCE_IMPORT_OPTION",e))(i||{})},801729:(e,t,r)=>{"use strict";r.d(t,{J:()=>g,S:()=>h});var n=r(411855),i=r(188507),a=r(946689),o=r(493323),l=r(939863),s=r(392592),c=r(63397),d=r(746058),u=r(237870),p=r(958985),m=r(488578),_=r(141773);function h(e){let{profileId:t,profileHandle:r,emptyStateText:u}=e,m=(0,i.wA)(),[h,g]=n.useState([]),[f,E]=n.useState(!1);n.useEffect(()=>{E(!0),d.s.getRestrictedProfiles({profileId:t}).then(({data:e})=>{g(e.meta),E(!1)})},[t]);let y=(e,t)=>{g(h.map(r=>r.id===e?{...r,is_restricted_by_current_user:t}:r))},b=(e,t)=>{y(e,t),m(s.F.enqueue({message:t?(0,l.t)("community.comments.restricted_this_user_s_comments"):(0,l.t)("community.comments.unrestricted_this_user_s_comments"),type:"profile-restricted-change",button:{text:(0,l.t)("community.undo"),action:()=>{t?I(e):v(e)}}}))},v=t=>{m(c._8({profileId:e.profileId,blockedProfileId:t,onSuccess:()=>b(t,!0)}))},I=t=>{m(c.dL({profileId:e.profileId,blockedProfileId:t,onSuccess:()=>b(t,!1)}))},T=h&&h.length>0;if(!u&&!T)return n.createElement(n.Fragment,null);if(f)return n.createElement(o.kt,null);let S=T?n.createElement(n.Fragment,null,r?(0,l.t)("community.comments.these_people_can_t_comment_on_any_of_profile_handles_community_files_and_plugins",{profileHandle:r}):(0,l.t)("community.comments.these_people_can_t_comment_on_any_of_your_community_files_and_plugins")):n.createElement(n.Fragment,null,u," ",n.createElement(l.Tx,{id:"community.comments.learn_more_about_managing_comments_on_your_files_and_plugins_in_community",learnMoreLink:n.createElement(a.Us,{href:"https://help.figma.com/hc/articles/1500002628062",target:"_blank",trusted:!0},n.createElement(l.Tx,{id:"general.learn_more"}))})," "),w=n.createElement("div",{className:e.wrapperClassName?e.wrapperClassName:""},n.createElement("div",{className:_.tB},h.map(e=>n.createElement(p.y,{profile:e,key:e.profile_handle,rightSide:e.is_restricted_by_current_user?n.createElement(a.nR,{onClick:I.bind(null,e.id)},n.createElement(l.Tx,{id:"community.comments.unrestrict"})):n.createElement(a.$$,{onClick:v.bind(null,e.id)},n.createElement(l.Tx,{id:"community.comments.restrict"}))}))));return n.createElement(n.Fragment,null,n.createElement("div",{className:_.bV},n.createElement(l.Tx,{id:"settings_tab.community_commenters_label"})),S,w)}let g=(0,u.Ju)(function(e){return n.createElement(m.aF,{className:_.Iy,popStack:!0},n.createElement(h,{profileId:e.profileId,profileHandle:e.profileHandle,emptyStateText:e.emptyStateText}))},"ProfilesBlockedFromCommentingModal")},506520:(e,t,r)=>{"use strict";r.d(t,{o:()=>E,t:()=>f});var n=r(411855),i=r(109388),a=r(188507),o=r(966712),l=r(860601),s=r(939863),c=r(54552),d=r(738269),u=r(723245),p=r(206074),m=r(177514),_=r(482571);let h=(e,t,r,n={})=>e?[{displayText:t||"",callback:r,...n}]:[],g=()=>{let e=(0,a.d4)(e=>e.dropdownShown);return e&&(null==e?void 0:e.type)===m.jU?e:null};function f(e){let t=(0,a.wA)(),r=(0,a.d4)(e=>e.currentTeamId),o=(0,a.d4)(e=>e.currentUserOrgId),l=(0,a.d4)(e=>e.mobileNavShown),s=(0,a.d4)(e=>e.favorites.collapsedCustomSections),c=n.useMemo(()=>(0,u.t$)(e.sections,e.customSectionOrdering),[e.sections,e.customSectionOrdering]),d=g();if(null==d)return null;let{updateFavorite:m,resourceId:_,resourceType:h,isFavorited:f,currentSectionId:y}=e,b=E({dispatch:t,currentOrgId:o,currentTeamId:r,collapsedCustomSections:s,updateFavorite:m,resourceId:_,resourceType:h,isFavorited:f,currentSectionId:y,sections:c,mobileNavShown:l}),v=n.createElement(p.j,{items:b,parentRect:d.data.targetRect,showPoint:!!e.showPoint,lean:"right",recordingKey:"organize-favorited-dropdown",dispatch:t,onSelectItem:(e,r)=>{var n;null==(n=e.callback)||n.call(e,"",{},t,r)}});return(0,i.createPortal)(v,document.body)}function E(e){let{dispatch:t,currentOrgId:r,currentTeamId:n,collapsedCustomSections:i,updateFavorite:a,resourceId:u,resourceType:p,isFavorited:m,currentSectionId:g,sections:f}=e,E=(e,n)=>{a(e,n),t(d.oB()),e&&n&&(i.delete(n),t(c.U6({collapsedCustomSections:i})),_.Fp({type:"topLevel",id:"custom",orgId:r,sectionId:n},!0))},y=f.map(e=>({displayText:""===e.name?(0,s.t)("sidebar.starred"):e.name,isChecked:m&&g===e.id,alwaysShowCheckMarkOffset:!0,callback:()=>E(!(m&&g===e.id),e.id)})),b=[...h(m,null,l.lQ,{separator:!0}),...h(m,(0,s.t)("favorited_resources.remove_from_sidebar"),()=>E(!1))],v=n&&(0,o.kc)().ps_benchmark,I=[...h(!e.showFavoriteOptionsOnly&&!v,(0,s.t)("favorited_resources.create_a_new_section"),()=>{void 0===e.mobileNavShown||e.mobileNavShown||t(d.PY());let r=g?f.findIndex(e=>e.id===g):0;p&&t(c.to({movingResource:{resourceId:u,isFavorited:!0,resourceType:p}})),t(c.pS({newCustomSectionIndex:r})),t(d.oB())})],T=[{displayText:"",separator:!0}],S=f.find(e=>e.id===g),w=m?`${(0,s.t)("favorited_resources.indicate_section_prefix")}: ${(null==S?void 0:S.name)||(0,s.t)("sidebar.starred")}`:(0,s.t)("favorited_resources.add_to_sidebar");return f.length>4?[{displayText:w,children:[...y,...T,...I]},...b]:[...h(!0,(0,s.t)("favorited_resources.add_to_sidebar"),l.lQ,{disabled:!0}),...y,...T,...b,...T,...I]}},501354:(e,t,r)=>{"use strict";r.d(t,{a:()=>V,p:()=>G});var n=r(411855),i=r(188507),a=r(776250),o=r(91408),l=r(72933),s=r(320063),c=r(966712),d=r(752553),u=r(762638),p=r(881388),m=r(939863),_=r(392592),h=r(970516),g=r(270056),f=r(662275),E=r(672517),y=r(10648),b=r(988022),v=r(396226),I=r(688083),T=r(875847),S=r(428467),w=r(417512),A=r(984968),C=r(300874),N=r(451e3),O=r(668860),L=r(564517),R=r(858212),P=r(206074),k=r(650816),D=r(884129),M=r(714728),x=r(171267),F=r(111452),U=r(386798),B=r(140581),H=r(860168);function V(e){let t=(0,i.d4)(e=>e.fileKeysByFolderId),r=(0,i.d4)(e=>e.repoIdsByFolderId),n=(0,i.d4)(e=>(0,S.getPermissionsState)(e)),s=(0,i.d4)(e=>e.currentUserOrgId),_=(0,i.d4)(e=>e.currentTeamId),E=(0,i.d4)(e=>e.loadedFolders),y=(0,R.S)(),b=(0,d.n_)(I.tO),L=s||_,P=(0,i.d4)(e=>e.teams),V=(0,l.YO)(e),G=(0,i.wA)();return({folder:e,useLGPerms:i,onRenameClick:l,shouldShowJoinButton:d,onRevokeTransfer:_,getPendingInfo:S,pendingTransfer:R})=>{var W,K,Y,j,z,$,Z;let q=e.teamId,J=e&&e.teamId?P[e.teamId]:void 0,X=J?J.org_id:e.orgId;if("loaded"!==V.status)return[];let Q=()=>{G(f.to({type:B.C,data:{folder:e}}))},ee=({canTransferProject:e,canAccessPaidFeatures:t,team:r})=>{let n=(0,c.kc)().enable_starter_project_transfers;if(!r||!e){er();return}if(t||n){et();return}G(f.to({type:D.DV,data:{team:r,resource:C.Bi.PROJECT_TRANSFER,currentPlan:v.F.Plan.STARTER,upsellPlan:v.F.Plan.PRO,editorType:null}}))},et=()=>{e.teamId&&S&&G(f.to({type:x.Lg,data:{folder:n.folders[e.id],team:n.teams[e.teamId],entryPoint:F.Lq.PROJECT_SETTINGS,onRequestClose:S}}))},er=()=>{e.teamId&&G(f.to({type:x.Y4,data:{folder:n.folders[e.id],team:n.teams[e.teamId],entryPoint:F.Lq.PROJECT_SETTINGS}}))},en=e=>{R&&_&&G(f.to({type:U.d,data:{pending:R,canTransferProject:e,onRevokeTransfer:_}}))},ei=!!(null==(W=V.data)?void 0:W.canEdit),ea=!!(null==(K=V.data)?void 0:K.canDelete),eo=!!(null==(Y=V.data)?void 0:Y.canShare),el=!!(null==(j=V.data)?void 0:j.canMove),es=e.teamId?n.teams[e.teamId]:void 0,ec=!!(null==(z=V.data)?void 0:z.canSeeTransferOption),ed=!!(null==($=V.data)?void 0:$.canTransfer),eu=!!(null==(Z=V.data)?void 0:Z.canEditDescription),ep=window.innerWidth<=(0,o.hG)(H.tgj),em=[];return e.description&&(em.push({displayText:(0,m.t)("project_menu.description"),disabled:!0},{displayText:e.description,displayTextClassName:u.cx.colorTextMenuSecondary.preWrap.$,disabled:!0},{displayText:"",separator:!0}),eu&&em.push({displayText:(0,m.t)("project_menu.edit_description"),callback:Q},{displayText:"",separator:!0})),!e.description&&eu&&em.push({displayText:(0,m.t)("project_menu.add_description"),callback:Q}),em.push({displayText:(0,m.t)("file_browser.copy_link"),callback:()=>{let t=(0,N.EE)(e.id,s);G(h.S({url:t}))}}),d||(eo&&ep&&em.push({displayText:(0,m.t)("sidebar.share"),callback:()=>{G((0,I.jl)({folderId:e.id,loadedFolders:E})),G(f.to({type:M.W,data:{folderId:e.id}}))}}),(X===L||q===L)&&em.push({displayText:(0,m.t)("sidebar.move_project"),callback:()=>{G((0,I.jl)({folderId:e.id,loadedFolders:E})),G(f.to({type:x.Jk,data:{folderId:e.id}}))},disabled:!el}),l&&em.push({displayText:(0,m.t)("sidebar.rename"),callback:()=>{l&&l(e)},disabled:!ei}),y||em.push({displayText:e.isSubscribed?(0,m.t)("sidebar.remove_from_favorites"):(0,m.t)("sidebar.add_to_favorites"),callback:()=>{G(g.ZJ({folderId:e.id,folderName:e.path,teamId:e.teamId,isSubscribed:!e.isSubscribed}))}}),em.push({displayText:"",separator:!0}),ec&&!R&&em.push({displayText:(0,m.t)("project_menu.transfer"),callback:()=>ee({canTransferProject:ed,canAccessPaidFeatures:!!(es&&(0,A.PS)(es)),team:es}),trackingProperties:{canUserAccessProFeature:!!(es&&(0,A.PS)(es))}}),R&&ec&&em.push({displayText:"",separator:!0},{displayText:(0,m.t)("project_menu.pending_transfer_request"),disabled:!0},{displayText:(0,m.t)("project_menu.view_transfer_details"),callback:()=>en(!!ed)},{displayText:"",separator:!0}),em.push({displayText:(0,m.t)("project_menu.delete"),callback:()=>{var n;(0,a.sx)("Folder Delete Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId});(i?!!(null==(n=e.folderPerms)?void 0:n.canSkipDeletionConfirmation):(0,T.wc)(e.id,{fileKeysByFolderId:t,repoIdsByFolderId:r}))?b({folderId:e.id}).catch(()=>{G(p.s.error((0,m.t)("file_browser.api_folder.error_when_deleting")))}):G(f.to({type:k.i,data:{folder:e}}))},disabled:!ea}),ea||e.teamId||em.push({displayText:(0,m.t)("sidebar.leave_shared_project"),callback:()=>{G((0,w.lP)({role:n.roles.byFolderId[e.id][n.user.id],level:O.e6.NONE}))}})),em}}function G({className:e,folder:t,useLGPerms:r,onRenameClick:a}){var o;let l=(0,i.d4)(e=>e.dropdownShown),c=(0,i.wA)(),[d,u]=n.useState(void 0),p=()=>{L.S.getFolderTransfer({folderId:t.id}).then(({data:e})=>{u(e.meta)},e=>{u(void 0)})};(0,s.h)(()=>{p()});let m=(0,E.j6)(),h=V(t.id),g=null==(o=null==l?void 0:l.data)?void 0:o.targetRect;if(!g)return null;let f=h({folder:t,useLGPerms:r,onRenameClick:a,onRevokeTransfer:()=>{d?L.S.deleteAssetTransferRequest({id:d.id}).then(()=>{u(void 0),c(_.F.enqueue({message:"Transfer revoked."}))},e=>{c(_.F.enqueue({message:"Something went wrong - check your connection and try again",error:!0}))}):c(_.F.enqueue({message:"No pending transfer found for this project.",error:!0}))},getPendingInfo:p,pendingTransfer:d});return n.createElement(E.fu,{trackingTargets:y.K.RCS,name:"Folder Context Menu"},n.createElement(P.j,{className:e,items:f,parentRect:g,showPoint:!1,lean:"right",dispatch:c,onSelectItem:(e,t)=>{e.callback&&e.callback("",{},c,t),e.trackingProperties&&(0,b.Cu)({...m.properties,trackingContext:m.name,...e.trackingProperties})}}))}},498138:(e,t,r)=>{"use strict";r.d(t,{BS:()=>O,BZ:()=>N,He:()=>C,p_:()=>A});var n=r(411855),i=r(188507),a=r(752553),o=r(886653),l=r(448169),s=r(413695),c=r(574176),d=r(881388),u=r(939863),p=r(919114),m=r(738269),_=r(507877),h=r(873189),g=r(93536),f=r(688083),E=r(875847),y=r(99506),b=r(428467),v=r(164249),I=r(993957),T=r(724874),S=r(958510),w=r(853705);let A=e=>`new-file-from-folder-link-${e}`;function C(e){return e&&e.type===N?e.data.folder:null}let N="nav-folder-context-menu",O=(0,i.Ng)((e,t)=>{let r=(0,o.xx)(b.canCreateFileOrRequestUpgradeLG),n=r(t.folder,e,y._Y.WHITEBOARD),i=r(t.folder,e,y._Y.DESIGN);return{shouldSeeCreateFileButton:n||i,dragState:e.dragState}})(function(e){var t;let r=n.useRef(null),o=(0,i.wA)(),[y,b]=n.useState(!1),[O,L]=n.useState(!1),R=(0,a.n_)(f.mq),P=()=>!e.folder.teamId&&e.folder.path,k=(e,t)=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};o(m.j7({type:N,data:{folder:{...e,isSubscribed:!0,description:e.description},targetRect:r}}))},D=t=>{let{folder:r}=e;if(t.isFigFiles()){b(!1);let n=t.getData();return!!n&&(o(h.z({files:n,folder:r,team:e.team})),!0)}if(t.isRepos()){b(!1);let n=t.getReposData();return!!n&&(o(h.z({files:n.files,repos:n.repos,folder:r,team:e.team})),!0)}return!1},M=(e,t)=>{R({folderId:e.id,folderName:t}),o(m.aK({folderId:e.id}))},x=e.folder;if(e.renamingNavFolderWithId===x.id)return n.createElement(T.Z,{useSpacer:!0,text:n.createElement("div",{key:`rename-input-${x.id}`,className:S.BC},n.createElement(s.p,{className:S.fy,placeholderValue:x.path,submit:e=>{M(x,e)},cancel:()=>{let t=e.folder;o(m.aK({folderId:t.id}))}}))});let F=(0,E.CI)(x),U=e.disambiguationFolders?(0,E.pr)(x,e.disambiguationFolders,e.permissionsState.teams,e.permissionsState.roles):void 0,B=e.draggable,H=B&&(O||e.dragState.type===v.R.Folder&&(null==(t=e.dragState.data)?void 0:t.id)===e.folder.id),V=S.BC,G=null,W=C(e.dropdownShown),K="folder"===e.selectedView.view&&e.selectedView.folderId===x.id;K&&(G=e.selectedItemRef),W&&W.id===x.id?V=S.nP:y&&(V=S.vT);let Y=e.shouldSeeCreateFileButton?n.createElement(I.h,{folder:e.folder,dropdownType:A(e.folder.id),isUserDraftFolder:!1}):void 0,j=`(${U})`;return n.createElement("div",{ref:G},n.createElement(l.Y,{className:V,title:F.length>28?F:void 0,draggable:B,isDragTarget:e=>{let t=new g.le(e);return t.isFigFiles()||t.isRepos()},onTargetDragEnter:e=>{P()||b(!0)},onTargetDragLeave:e=>{P()||b(!1)},onTargetDrop:e=>{if(P()){o(d.s.error((0,u.t)("file_browser.error_on_move_to_personal_project")));return}D(new g.le(e))},onDragStart:t=>{let n=e.folder;t.dataTransfer.effectAllowed="move";let i=new g.le(t.dataTransfer);i.setArbitraryData(n),r.current&&i.setDragImage(r.current),o(p.v({type:v.R.Folder,data:n})),t.stopPropagation()},onDragEnd:e=>{o(p.T())},onMouseOver:()=>{L(!0)},onMouseLeave:()=>{L(!1)},onMouseDown:t=>{let r=e.folder;t.metaKey||t.ctrlKey||0!==t.button||(o(_.gN(r.id)),o(m.Oe({clickedResourceType:"folder",resourceIdOrKey:r.id})))},onContextMenu:e=>k(x,e)},n.createElement("div",{className:S.XK}),n.createElement(T.Z,{showGrabber:H,isSelected:K,icon:e.isSharedProject?n.createElement(c.B,{className:S.Kk,svg:w.A}):void 0,useSpacer:!0,text:n.createElement("span",{className:S.LB},F,U&&n.createElement("span",{className:S.Zk},j)),badge:Y})),n.createElement("div",{className:S.AD,ref:e=>{r.current=e}}))})},482571:(e,t,r)=>{"use strict";r.d(t,{CL:()=>c,Fp:()=>s,hG:()=>l});var n=r(286640);let i="sidebar-collapsed-sections";function a(e,t){return"custom"===e.id?e.type===t.type&&e.id===t.id&&e.orgId===t.orgId&&e.sectionId===t.sectionId:e.type===t.type&&e.id===t.id&&e.orgId===t.orgId}function o(){return(0,n.DN)().get(i)||[]}function l(e){return!o().find(t=>a(t,e))}function s(e,t){let r=(0,n.DN)();l(e)?t||r.set(i,[...o(),e]):t&&r.set(i,o().filter(t=>!a(t,e)))}function c(){let e=new Set;return o().forEach(t=>{"custom"===t.id&&t.sectionId?e.add(t.sectionId):"favorited"===t.id&&e.add(t.id)}),e}},889908:(e,t,r)=>{"use strict";r.d(t,{L:()=>eu,Z:()=>ep});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(776250),s=r(511617),c=r(823810),d=r(72933),u=r(517333),p=r(966712),m=r(498750),_=r(499737),h=r(391388),g=r(255942),f=r(563706),E=r(498480),y=r(192437),b=r(564577),v=r(493323),I=r(428322),T=r(708258),S=r(574176),w=r(221364),A=r(762638),C=r(939863),N=r(809840),O=r(738269),L=r(507877),R=r(119198),P=r(296559),k=r(128751),D=r(988022),M=r(723245),x=r(688083),F=r(27703),U=r(477782),B=r(318812),H=r(611978),V=r(99506),G=r(279453),W=r(623746),K=r(982121),Y=r(428467),j=r(239671),z=r(945020),$=r(935938),Z=r(378356),q=r(723127),J=r(127391),X=r(873327),Q=r(175527),ee=r(498606),et=r(392340),er=r(858212),en=r(498138),ei=r(861949),ea=r(678235),eo=r(341798),el=r(847152),es=r(559735),ec=r(126815);function ed(e){var t,r,a,l,u;let m=(0,i.wA)(),E=(0,Y.usePermissionsState)(),y=(0,H._6)(),b=(0,i.d4)(e=>e.currentUserOrgId),T=(0,i.d4)(e=>e.currentTeamId),S="recentsAndSharing"===y.view&&"shared-projects"===y.tab?(null==(t=e.folder.parent_org)?void 0:t.id)??null:b,w="recentsAndSharing"===y.view&&"shared-projects"===y.tab?(null==(r=e.folder.parent_team)?void 0:r.id)??null:T,A=(0,p.kc)().ps_benchmark,C=A?w:null,N=(0,er.S)(),R=(0,B.U)(),k=(0,p.kc)().ps_benchmark,x=(0,_.Rs)(G.qjT,{resourceId:e.folder.id,resourceType:V.bk.FOLDER,orgId:S,teamId:S?null:w}),F=(0,et.Q)({currentOrgId:S,currentTeamId:(C??w)||null}),U=(0,d.YO)(e.folder.id),K=n.useMemo(()=>{if("loaded"===x.status){if(A||N)return void 0!==(0,M.eU)(x.data,V.bk.FOLDER)}else if("loaded"===F.status)return(0,M.tx)(F.data,e.folder.id);return A||N?!!e.folder.is_favorited:!!e.folder.is_subscribed},[e.folder.id,F,x,N,A,e.folder.is_favorited,e.folder.is_subscribed]),z=()=>{var t,r;m(L.kg({clickedResourceType:"team",resourceIdOrKey:e.folder.id})),(0,D.xr)("file_browser_folder_click",e.folder.id,e.folder.team_id,E,{selectedView:"recentsAndSharing"===y.view?y.tab||$.G.RECENTLY_VIEWED:y.view,planFilterId:(null==(t=e.currentPlanFilter)?void 0:t.planId)||null,planFilterType:(null==(r=e.currentPlanFilter)?void 0:r.planType)||null,viewMode:"grid"}),m(L.gN(e.folder.id))},Z="loaded"===U.status&&!!(null==(a=U.data)?void 0:a.canEdit),J=n.useCallback(e=>{m(L.UN({fileKey:e.key,entrypoint:"folder list card"})),m(P.p4({planId:b||q.P}));let t="recentsAndSharing"===y.view||"folder"===y.view?y:void 0;(0,s.N7)(b,e.parent_org_id,T,e.team_id)?(0,s.QV)(e.key,E.user,b,k?T:null,y,e.editor_type||void 0):m(O.$T({view:"fullscreen",fileKey:e.key,editorType:(0,j.wN)(e.editor_type),prevSelectedView:t}))},[b,T,m,k,E.user,y]),X="loaded"===U.status&&!!(null==(l=U.data)?void 0:l.canCreateDesignFile),ee=(null==(u=e.folderFilesResult.data)?void 0:u.length)||0,ei=h.Qw.useTransform(e.folderFilesResult,(0,n.useCallback)(e=>e.sort((e,t)=>e.touched_at<t.touched_at?1:-1).slice(0,15),[])),ea=h.Qw.useTransform(ei,(0,n.useCallback)(t=>{let r=t.slice(0,4).map(t=>n.createElement(eh,{key:t.key,file:t,teamId:e.folder.team_id,onFileClick:J,selectedView:y}));for(;r.length<4;)r.push(n.createElement(eg,{key:`${r.length}`,folder:e.folder,canCreateFile:X}));return r},[X,J,e.folder,y])),eo=n.useMemo(()=>(ei.data||[]).slice(0,15).map(e=>e.key),[ei]);return(0,c.iu)(eo,!!(0,p.kc)().tile_action_dropdown_lg&&!!(0,p.kc)().file_browser_items_view),n.createElement("div",{ref:(0,g.A)(e.folderRef),className:o()(el.HM,{[el.Wy]:!0}),onClick:e=>{(f.Ay.mac?e.metaKey:e.ctrlKey)||e.shiftKey||(e.preventDefault(),e.stopPropagation(),2===e.detail&&z())},onContextMenu:t=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};m(O.j7({type:en.BZ,data:{folder:{...(0,W.Bp)(e.folder),folderPerms:e.folder.folderPerms,description:e.folder.description,canEdit:Z,isSubscribed:K},useLGPerms:e.useLGPerms,targetRect:r}}))},"data-onboarding-key":e.dataOnboardingKey,tabIndex:0},n.createElement("div",{className:el.Gd}),n.createElement("div",{className:el.SM},n.createElement(I.a,{onIntersectionChange:e.onIntersectionChange}),"loaded"===ea.status?n.createElement("div",{className:el.kC},ea.data):n.createElement(v.qc,null),n.createElement(n.Fragment,null,n.createElement("div",{className:el.SA},n.createElement("div",{className:o()(el.A4,{[el.Oi]:(null==R?void 0:R.type)==="organize-favorite-menu"}),tabIndex:0},n.createElement(Q.n,{folder:{...e.folder,is_subscribed:K},containerStyle:el.is}))),n.createElement("div",{className:el.Ow},n.createElement(e_,{...e,folder:e.folder,folderName:e.folderName,folderTeamName:e.folderTeamName,folderOwnerName:e.folderOwnerName,folderLastUpdated:e.folderLastUpdated,folderFileCount:ee,showTeamNameOrAuthor:!1,showFavoriteStar:!1,hideSubscribe:!!e.hideSubscribe,isSharerInfoIncluded:e.isSharerInfoIncluded,canEdit:Z})))))}function eu(e){return n.createElement(y.tH,{boundaryKey:"FolderListCard",fallback:y.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(ed,{...e}))}function ep(e){let t=(0,i.d4)(t=>(0,eo.Z)(t,e.folder)),[r,a]=n.useState(!1),o=h.Qw.useTransform((0,x.LK)(e.folder.id,r),e=>e.previewFiles);return n.createElement(eu,{...e,...t,folderFilesResult:o,onIntersectionChange:e=>{e.isIntersecting&&a(!0)}})}let em={open:!0,openNewTab:!0,share:!0,copyLink:!0,delete:!0,moveFile:!0};function e_(e){var t;let r=e.folder,a=(0,i.d4)(e=>e.orgById),o=(0,K.x)(),l=(0,H._6)(),s=e.folderTeamName,c=e.folderOwnerName&&(0,C.t)("team_view.folder_list_card.owner_handle",{folderOwnerName:e.folderOwnerName}),d=r.shared_by_user&&r.shared_by_user.name?n.createElement(C.Tx,{id:"team_tile.shared_by",shared_by_text:r.shared_by_user.name}):r.shared_at&&n.createElement("div",{className:el.C$},n.createElement(C.Tx,{id:"swy_tile.shared"}),n.createElement(b.h1,{date:new Date(r.shared_at)})),u=r.parent_org||r.parent_team,p=n.createElement(n.Fragment,null,n.createElement("div",{className:el.wi},n.createElement(N.E,{fontSize:11,i18nId:"team_view.folder_list_card.number_of_files",i18nParams:{numFiles:e.folderFileCount}}),n.createElement("div",null,"\xa0\xb7\xa0"),n.createElement(N.E,{fontSize:11,truncate:!0},u&&n.createElement(J.H,{entityId:u.id,entityName:u.name||void 0,imgUrl:u.imgUrl||void 0}),d))),m=r.parent_org_id&&a[r.parent_org_id]||r.team_id&&o[r.team_id],_=m&&"search"===l.view?n.createElement("div",{className:A.cx.flex.flexRow.itemsCenter.pre.$},n.createElement(J.H,{entityId:m.id,entityName:m.name,imgUrl:m.img_url}),s&&n.createElement(n.Fragment,null,s+" \xb7 "),n.createElement(C.Tx,{id:"team_view.folder_list_card.number_of_files",numFiles:e.folderFileCount})):n.createElement(n.Fragment,null,n.createElement(C.Tx,{id:"team_view.folder_list_card.number_of_files",numFiles:e.folderFileCount}),e.folderLastUpdated&&n.createElement(C.Tx,{id:"team_view.folder_list_card.last_updated_at",lastUpdatedTime:n.createElement(b.h1,{date:e.folderLastUpdated})})),h=!!e.checksForViewOnlyLabels&&e.checksForViewOnlyLabels.teamId===e.folder.team_id&&e.checksForViewOnlyLabels.isLockedTeam;return n.createElement("div",{className:el.rZ},n.createElement("div",{className:el.h4},n.createElement("div",{className:el.ub},n.createElement(N.E,{fontSize:13,fontWeight:"medium",truncate:!0},e.folderName),h&&n.createElement(E.Ex,{color:E.zE.WARNING_TERTIARY,text:(0,C.t)("locked_team.label.view_only"),dataTooltip:(0,C.t)("locked_team.label.tooltip"),dataTooltipType:ee.Ib.TEXT,className:el.ol}),e.canEdit&&(null==(t=e.folder.settings)?void 0:t.legacy_team_root_folder)&&"Untitled project"===e.folder.path?n.createElement(S.B,{className:el.G,svg:ec.A,"data-tooltip-type":ee.Ib.SPECIAL,"data-tooltip-interactive":!0,"data-tooltip":ee.MW.TEAM_ROOT_FOLDER_RENAME,"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-folder-id":e.folder.id}):null),n.createElement(T.C,{...e})),e.showTeamNameOrAuthor&&n.createElement("div",{className:el.fT},s||c),n.createElement("div",{className:el.h_},n.createElement("div",{className:el.qL},n.createElement("div",{className:el.gz},(r.shared_by_user||r.shared_at)&&e.isSharerInfoIncluded?p:_))))}function eh(e){let t=(0,i.wA)(),{showing:r,show:a,data:s}=(0,ea.L)(),c=null!=s&&!!s.tile&&U.Tf.getId(s.tile)===e.file.key,d=t=>{t.preventDefault(),t.stopPropagation(),u.eD&&(0,l.sx)("Open File Click",{fileKey:e.file.key,uiSelectedView:JSON.stringify({teamId:e.teamId})}),e.onFileClick(e.file)},p=e.file,m="whiteboard"===p.editor_type?el.QG:el.Rv,_=p.thumbnail_guid?el.uX:el.xn,h={type:U.nb.FILE,file:p};return n.createElement("button",{className:o()(el.Fj,{[el.wH]:c}),onClick:e=>{2===e.detail&&d(e)},draggable:!1,tabIndex:0,onContextMenu:e=>{e.preventDefault(),e.stopPropagation(),a({data:{tile:h,targetRect:{top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1}}}),t(k.an()),t(k.y$({type:Z.F.FILES,tiles:[h]}))}},n.createElement("div",{className:el.Sl},n.createElement("div",{className:m,style:{backgroundColor:(0,F.Cn)(p.client_meta)}},p.has_file_link_password||p.has_proto_link_password?n.createElement("div",{className:o()(_,el.xt)},n.createElement(w.yT,null)):n.createElement("div",{className:_,style:{backgroundImage:`url(${p.thumbnail_url})`}}))),n.createElement("div",{className:el.XP},n.createElement("div",{className:el.sy},p.name)),n.createElement(ei.i,{tileActions:em,tile:h,openTile:d,dropdownVisible:r}))}function eg(e){let t=(0,i.wA)(),r=(0,X.Bq)(),a=(0,i.d4)(t=>e.folder.team_id?t.teams[e.folder.team_id]:void 0);return n.createElement("a",{href:"#",rel:"noopener",role:"button",className:el.wL,onClick:n=>{n.preventDefault(),n.stopPropagation(),e.canCreateFile&&t(R.zE({state:r,editorType:V._Y.DESIGN,folderId:e.folder.id,team:a,from:z.f6.FILE_BROWSER_FOLDER_EMPTY_TILE,openNewFileIn:(0,m.oJ)(n)?z.ai.NEW_TAB:z.ai.SAME_TAB}))},draggable:!1,tabIndex:0,onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},e.canCreateFile&&n.createElement(S.B,{svg:es.A}))}},341798:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(875847),i=r(668860);function a(e,t){let r=t.team_id&&e.teams[t.team_id],a=e.roles.byFolderId[t.id]||{},o=Object.keys(a).map(e=>a[e]).find(e=>e.level===i.e6.OWNER);return{folderName:(0,n.CI)(t),folderTeamName:r?r.name:null,folderOwnerName:o?o.user.handle:null,folderLastUpdated:new Date(t.touched_at),folderSharedAt:t.shared_at?new Date(t.shared_at):null}}},878227:(e,t,r)=>{"use strict";r.d(t,{X:()=>d,v:()=>u});var n=r(966712),i=r(259829),a=r(563706);let o=a.XN?"iPadOS":a.Ay.osname,l=a.XN?0:+a.Ay.osversion;function s(e){let t=window.navigator.languages||[];return e<t.length?t[e]:void 0}let c={browser_name:a.Ay.name,browser_version:+a.Ay.version,os_name:o,os_version:l,release:n.tl().release_manifest_git_commit,release_tag:n.tl().release_git_tag,page_locale:n.mm()[0],navigatorLanguage1:s(0),navigatorLanguage2:s(1),navigatorLanguage3:s(2),navigatorLanguages:(window.navigator.languages||[]).join(","),uiVersion:(0,i.fF)()};function d(){return c}function u(e){c={...c,...e}}},830646:(e,t,r)=>{"use strict";r.d(t,{j:()=>l,l:()=>s});var n=r(411855),i=r(776250),a=r(358145),o=r(153234);function l(e,t){return n.useCallback(r=>{let{event:n,...a}=r||{},l=n&&o.Pt(e,n)||e;(0,i.sx)(l,{...t,...a})},[e,t])}function s(e,t,r){let[o,l]=n.useState(e),s=(0,a.ZC)(o);return n.useEffect(()=>{t&&o!==s&&(0,i.sx)(t,{previousState:s,newState:o,...r})},[o]),[o,l]}},717068:(e,t,r)=>{"use strict";r.d(t,{AM:()=>m,Bq:()=>function e(t,r=[]){for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?e(i,r):r.push(i)}return r},Ef:()=>d,GK:()=>b,Jk:()=>s,KQ:()=>f,Kg:()=>l,LN:()=>I,M0:()=>w,N9:()=>o,Pe:()=>a,QP:()=>p,RP:()=>L,TR:()=>O,Tt:()=>g,Tw:()=>h,Tz:()=>y,Ul:()=>T,Vs:()=>N,WI:()=>S,g6:()=>R,hR:()=>_,k4:()=>u,lX:()=>P,lq:()=>A,lu:()=>c,my:()=>v,qg:()=>C,v7:()=>E});var n=r(755887),i=r(572174);function a(e,t,r,n){let i=e.indexOf(t,0);if(i<0)return e;let a=null==r?-1:e.indexOf(r);a<0?a=n?0:e.length:n&&i<a?a-=1:!n&&i>a&&(a+=1);let o=e.slice();return i>-1&&a!==i&&(o.splice(i,1),o.splice(a,0,t)),o}function o(e,t){-1===e.indexOf(t)&&e.push(t)}function l(e,t){-1===e.indexOf(t)&&e.unshift(t)}function s(e,t){let r=e.indexOf(t);-1!==r&&e.splice(r,1)}function c(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function d(e){for(let t=1;t<e.length;t++)if(void 0===e[t]||e[t]!==e[t-1])return!1;return!0}function u(e,t){let r=e.length,n,i;for(;0!==r;)i=Math.floor((t?function(e=Date.now()){return(9301*e+49297)%233280/233280}(t):Math.random())*r),r-=1,n=e[r],e[r]=e[i],e[i]=n;return e}function p(e){return e[Math.floor(Math.random()*e.length)]}function m(e,t,r=!1){return _(e,e=>e[t],r)}function _(e,t,r=!1,n,i=!1){e.sort((e,a)=>{if(t(e)===t(a)&&n){let t=i?-1:1;return n(e)<n(a)?-t:t}let o=r?-1:1;return t(e)<t(a)?-o:o})}let h=200,g=new Intl.Collator("en",{numeric:!0,sensitivity:"base"});function f(e,t,r={}){E(e,e=>e[t],r)}function E(e,t,r={},n){let i=e=>{let r=t(e);return r&&r.toLowerCase?r.toLowerCase():""},a=e=>{if(!n)return"";let t=n(e);return t&&t.toLowerCase?t.toLowerCase():""},o=r.isDescending?-1:1;r.useExpensiveNaturalComparison?e.sort((e,t)=>g.compare(i(e),i(t))*o):e.sort((e,t)=>{if(i(e)===i(t)&&n){let n=r.isSecondaryDescending?-1:1;return a(e)<a(t)?-n:n}return i(e)<i(t)?-o:o})}function y(e,t,r=!1,n,i=!1){let a=(e,t)=>{let r=e(t);return"string"==typeof r?r.toLowerCase():"number"==typeof r?r:""},o=r?-1:1;e.sort((e,r)=>{if(a(t,e)===a(t,r)&&n){let t=i?-1:1;return a(n,e)<a(n,r)?-t:t}return a(t,e)<a(t,r)?-o:o})}function b(e,t,r=!1){return e.sort((e,n)=>{let i=new Date(t(e)).getTime()<new Date(t(n)).getTime()?1:-1;return r?-i:i})}function v(e,t,r=!1){return b(e,e=>e[t],r)}function I(e){return b(e,e=>e.created_at)}function T(e,...t){return e.sort((e,r)=>{for(let n of t){let t=n(e,r);if(0!==t)return t}return 0})}function S(e){return e.filter(i.Vq)}function w(e,t,r=i.Vq){for(let n=t+1;n<e.length;n++){let t=e[n];if(r(t,n))return t}}function A(e,t,r=i.Vq){for(let n=t-1;n>=0;n--){let t=e[n];if(r(t,n))return t}}function C(e,t,r="left",a=i.Vq){t=(0,n.qE)(t,0,e.length-1);for(let n=0;t-n>=0||t+n<e.length;n++){let[i,o]="left"===r?[t-n,t+n]:[t+n,t-n];if(i>=0&&i<e.length){let t=e[i];if(a(t,i))return t}if(o>=0&&o<e.length){let t=e[o];if(a(t,o))return t}}}function N(e){let t=[...e],r=(0,i.sR)(t.pop(),"input must be non-empty");return[t,r]}function O(e,t,r=String){let n={};t.forEach((e,t)=>{n[r(e)]=t});let i=0,a=0,o=[];for(;;){let l=e[i],s=t[a];if(void 0===l||void 0===s){if(void 0===l&&void 0===s)return o;void 0!==l&&void 0===s?(o.push({hasBoth:!1,left:l,right:void 0}),i++):void 0===l&&void 0!==s&&(o.push({hasBoth:!1,left:void 0,right:s}),a++)}else{let e=n[r(l)];void 0===e||e<a?(o.push({hasBoth:!1,left:l,right:void 0}),i++):(e===a?(o.push({hasBoth:!0,left:l,right:s}),i++):o.push({hasBoth:!1,left:void 0,right:s}),a++)}}}function L(e,t){let r=[];for(let n of e){let e=t(n);null!=e&&r.push(e)}return r}function R(e,t){return e.includes(t)?e.filter(e=>e!==t):e.concat(t)}async function P(e,t){let r=e.map(t);return await Promise.all(r)}},966159:(e,t,r)=>{"use strict";r.d(t,{Cz:()=>_,Mx:()=>u,NY:()=>s,Ok:()=>o,ok:()=>m,uW:()=>c,ux:()=>l,xj:()=>p,yx:()=>d});var n=r(586459);let i={status:n.r.INIT},a={status:n.r.LOADING};function o(){return i}function l(){return a}function s(e){return{status:n.r.SUCCESS,value:e}}function c(e){return{status:n.r.FAILURE,error:e}}function d(e){return e.status===n.r.INIT}function u(e){return e.status===n.r.LOADING}function p(e){return e.status===n.r.SUCCESS}function m(e){return e.status===n.r.FAILURE}function _(e){return p(e)?e.value:void 0}},511617:(e,t,r)=>{"use strict";r.d(t,{$R:()=>v,E:()=>w,FJ:()=>S,GZ:()=>C,Lb:()=>P,N7:()=>E,NQ:()=>g,QV:()=>b,R7:()=>O,Up:()=>N,dR:()=>h,jJ:()=>f,mc:()=>I,n5:()=>x,pK:()=>M,t7:()=>A,vk:()=>T,wy:()=>F});var n=r(737947),i=r(498750),a=r(563706),o=r(776621),l=r(304783),s=r(132135),c=r(608902),d=r(935938),u=r(776250),p=r(77909),m=r(517333),_=r(966712);function h(e,t){let r,n;try{r=new URL(e,_.Lz),n=new URLSearchParams(r.search)}catch(r){throw(0,o.$D)(l.e.EXPLORE,r,{extra:{...t,url:e}}),r}Object.entries(t).forEach(e=>{let[t,r]=e;n.set(t,r)});let i=n.toString();i&&(r.search=`?${i}`);let a=r.href;return a.startsWith(_.Lz)?a.substr(_.Lz.length):a}function g(e,t,r){let n=new URL(e,_.Lz),i=new URLSearchParams(n.search);i.has(t)||i.set(t,r);let a=i.toString();a&&(n.search=`?${a}`);let o=n.href;return o.startsWith(_.Lz)?o.substr(_.Lz.length):o}function f(e){var t=e.url;if(null!=t){if(t.startsWith("mailto:")){n.Ay.unsafeRedirect(t,e.openInNewWindow?"_blank":"");return}t.startsWith("http://")||t.startsWith("https://")||(t="http://"+t),n.Ay.postRedirect(`/exit?url=${encodeURIComponent(t)}`,e.openInNewWindow?"_blank":"")}}function E(e,t,r,n){return(0,_.kc)().ps_benchmark?e?e!==t:r!==n:e!==t}let y="external-teams";function b(e,t,r,i,a,o,l="file"){let d=I((0,_.kc)().dt_url_improvements?(0,s.jN)({file:{key:e,editorType:o},base:l}):`/${l}/${e}`,t);(0,_.kc)().ps_benchmark?(d=T(d,r,i,a),function(e,t,r,n="file"){(0,u.sx)("file_browser_fresh_external_file_load",{fileKey:e,entryPlanId:t||r,planType:t?c.O.ORG:c.O.TEAM,urlType:n})}(e,r,i,l)):(d=T(d,r,null,a),v(e,r,l)),n.Ay.redirect(d)}function v(e,t,r="file"){(0,u.sx)("file_browser_fresh_external_file_load",{fileKey:e,entryPlanId:t||y,urlType:r})}function I(e,t){return t?g(e,"fuid",t.id):e}function T(e,t,r,n){let i=(0,_.kc)().ps_benchmark,a="";if(i){let n=t||r;n&&(a=g(e,"prev-plan-id",n),a=g(a,"prev-plan-type",t?c.O.ORG:c.O.TEAM))}else a=g(e,"prev-org-id",t||y);return n&&(a=g(a,"prev-selected-view",n.view),a="folder"===n.view?g(a,"prev-folder-id",n.folderId):a,a="recentsAndSharing"===n.view?g(a,"prev-tab",n.tab||d.G.RECENTLY_VIEWED):a),a}function S(e,t,r){return window.open(e,t,r)}function w(e){return{top:e?e.top:0,right:e?e.right:0,bottom:e?e.bottom:0,left:e?e.left:0,width:e?e.width:0,height:e?e.height:0}}function A(e,t){return e&&t?JSON.stringify(w(e))===JSON.stringify(w(t)):e===t}function C(){return self!==top}function N(){try{return self!==top&&self.location.host!==(null==top?void 0:top.location.host)}catch(e){return!0}}let O={},L=document&&document.documentElement;function R(e,t){Object.defineProperty(O,e,{enumerable:!0,configurable:!0,get(){let r=t();return Object.defineProperty(O,e,{enumerable:!0,value:r}),r}})}function P(){return null==document.visibilityState||"visible"===document.visibilityState?Promise.resolve():new Promise(e=>{document.addEventListener("visibilitychange",function t(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",t),e())})})}R("pointerLock",()=>!!(L&&L.requestPointerLock)),R("fullscreenChangeEventName",()=>"onfullscreenchange"in document?"fullscreenchange":"onmozfullscreenchange"in document?"mozfullscreenchange":"onwebkitfullscreenchange"in document?"webkitfullscreenchange":"onMSFullscreenChange"in document?"MSFullscreenChange":"onmsfullscreenchange"in document?"msfullscreenchange":null),R("fullscreenErrorEventName",()=>"onfullscreenerror"in document?"fullscreenerror":"onmozfullscreenerror"in document?"mozfullscreenerror":"onwebkitfullscreenerror"in document?"webkitfullscreenerror":"onMSFullscreenError"in document?"MSFullscreenError":"onmsfullscreenerror"in document?"msfullscreenerror":null),R("requestFullscreenFunc",()=>L&&(L.requestFullscreen||L.mozRequestFullScreen||L.webkitRequestFullscreen||L.msRequestFullscreen||null)),R("exitFullscreenFunc",()=>{let e=document.exitFullscreen||document.mozExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen||null;return e?e.bind(document):null}),R("getFullscreenElement",()=>document.fullscreenElement?()=>document.fullscreenElement:document.mozFullScreenElement?()=>document.mozFullScreenElement:document.webkitFullscreenElement?()=>document.webkitFullscreenElement:document.msFullscreenElement?()=>document.msFullscreenElement:()=>null),R("fullscreen",()=>null!=O.requestFullscreenFunc&&null!=O.exitFullscreenFunc&&(document.fullscreenEnabled||document.webkitFullscreenEnabled));let k="hidden"===document.visibilityState?Date.now():null,D=new Set;function M(){if(null===k||Date.now()-k<3e4)return Promise.resolve();let{promise:e,resolve:t}=(0,p.v)();return D.add(t),e}function x(){let e=RegExp(`${a.Ay.name}\\/${a.Ay.version}[0-9.]*`),t=navigator.userAgent.match(e);if(t)return t[0]}function F(e){let t=(0,_.Ay)().user_data,r=t&&t.id,a=function(e){if(!r||e instanceof KeyboardEvent&&e.keyCode!==i.Uz.ENTER)return;let t=e.target;if(!(t instanceof Element))return;let a=t.closest("a");if(!a||a.hostname!==window.location.hostname)return;let o=window.location.href,l=a.href.substr(0,a.href.indexOf("#")),s=o.indexOf("#"),c=o.substr(0,s),d=o.substr(s+1);l&&l===(c||d)||m.eD&&113>m.eD.getVersion()&&a.pathname===n.Ay.location.pathname||(a.href=g(a.href,"fuid",r))},o=e??document;o.addEventListener("click",a),o.addEventListener("keydown",a)}document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState?k=Date.now():"visible"===document.visibilityState&&(k=null,D.forEach(e=>e()),D.clear())})},627776:(e,t,r)=>{"use strict";r.d(t,{Fe:()=>u,GH:()=>p,ce:()=>s,cm:()=>d,fp:()=>g});var n=r(411855),i=r(776250),a=r(878227),o=r(563706),l=r(776621);function s(){return o.Ay.chromeos&&window.matchMedia("(display-mode: tabbed)").matches}let c=/^\/(files|idle_timeout|ip_account_restriction|my_plugins|user|org|team)(\/.*)?$/;function d(e){return c.test(e)||"/"===e||""===e}function u(e){document.body.style.backgroundColor="#2c2c2c"}function p(){o.Ay.chromeos&&o.Ay.chrome&&(window.matchMedia("(display-mode: tabbed)").addEventListener("change",()=>{s()&&(u("dark"),m())}),window.addEventListener("appinstalled",()=>{(0,i.sx)("chrome_os_app_installed")}),m())}function m(){s()&&((0,a.v)({browser_name:"Figma ChromeOS App"}),(0,l.kF)("chrome_os_app",!0))}let _=new Set(["BrowserRefresh","BrowserBack","BrowserForward","ZoomToggle","PrintScreen","BrightnessUp","BrightnessDown","MediaPlayPause","AudioVolumeMute","AudioVolumeUp","AudioVolumeDown","F4","Unidentified"]);function h(e){_.has(e.key)&&e.stopPropagation()}function g(){let e=function(){let[e,t]=(0,n.useState)(s());return(0,n.useEffect)(()=>{if(!o.Ay.chromeos||!o.Ay.chrome)return;let e=()=>t(s()),r=window.matchMedia("(display-mode: tabbed)");return r.addEventListener("change",e),()=>r.removeEventListener("change",e)},[]),e}();(0,n.useEffect)(()=>{if(e)return document.addEventListener("keydown",h,!0),()=>document.removeEventListener("keydown",h,!0)},[e])}},568214:(e,t,r)=>{"use strict";r.d(t,{$K:()=>J,$q:()=>_,AW:()=>R,BU:()=>L,Bx:()=>F,DA:()=>q,FO:()=>p,F_:()=>x,G$:()=>N,GL:()=>C,H0:()=>g,HD:()=>w,HL:()=>S,UE:()=>l,Uv:()=>o,X9:()=>h,YN:()=>d,YR:()=>Z,YU:()=>M,_W:()=>b,di:()=>T,e3:()=>c,kx:()=>X,mx:()=>E,ol:()=>s,ql:()=>O,sN:()=>P,tK:()=>f,tM:()=>u,ty:()=>A,x1:()=>m,yi:()=>U});var n=r(755887),i=r(719720),a=r(774191);let o={r:0,g:0,b:0,a:1},l={r:1,g:1,b:1,a:1};var s=(e=>(e.MULTIPLAYER_GRAY="#667799",e.MULTIPLAYER_BLUE="#007BE5",e.MULTIPLAYER_PURPLE="#9747FF",e.MULTIPLAYER_PINK="#FF24BD",e.MULTIPLAYER_RED="#F24822",e.MULTIPLAYER_YELLOW="#FFCD29",e.MULTIPLAYER_GREEN="#14AE5C",e))(s||{});let c="var(--color-textondarkcanvas, #ffffff)",d="var(--color-textonlightcanvas, #000000)",u="inset 0px 0px 0px 1px rgba(255, 255, 255, 0.15)",p="inset 0px 0px 0px 1px rgba(0, 0, 0, 0.1)",m="inset 0px 0px 0px 2px var(--color-bordertranslucent)",_={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(e,t){return{...e,a:t}}function g(e,t){if(!e)return null;if("string"!=typeof e)return e;let r=null!=t,n=t??1;return function(e,t=1){let r=e.match(/color\(\s*display-p3\s*(?<red>[-+]?[0-9]*\.?[0-9]+)\s+(?<green>[-+]?[0-9]*\.?[0-9]+)\s+(?<blue>[-+]?[0-9]*\.?[0-9]+)\s*(?:\/\s*(?<alpha>[-+]?[0-9]*\.?[0-9]+%?))?\s*\)/);if(r&&r.groups&&"red"in r.groups&&"green"in r.groups&&"blue"in r.groups){let{red:e,green:n,blue:i,alpha:a}=r.groups;return{r:parseFloat(e),g:parseFloat(n),b:parseFloat(i),a:a?parseFloat(a):t}}return null}(e,n)??T(e,n)??E(e,n)??f(e,r,n)??null}function f(e,t=!1,r=1){let n=/[^0-9a-f]*([0-9a-f]*)/i.exec(e.trim());if(!n)return null;let i=n[1];if(i.length>=8&&t)return k(V(i.substring(0,2)),V(i.substring(2,4)),V(i.substring(4,6)),V(i.substring(6,8)));if(7===i.length&&t)return k(V(i.substring(0,2)),V(i.substring(2,4)),V(i.substring(4,6)),H(i[6]));if(i.length>=6)return k(V(i.substring(0,2)),V(i.substring(2,4)),V(i.substring(4,6)),r);if(5===i.length&&t)return k(H(i[0]),H(i[1]),H(i[2]),V(i.substring(3,5)));if(4===i.length&&t)return k(H(i[0]),H(i[1]),H(i[2]),H(i[3]));if(i.length>=3)return k(H(i[0]),H(i[1]),H(i[2]),r);if(2===i.length){let e=V(i);return k(e,e,e,r)}else if(1===i.length){let e=H(i);return k(e,e,e,r)}return null}function E(e,t=1){let r;return(r=Q.exec(e=e.trim()))?k(W(r[1]),W(r[2]),W(r[3]),null==r[4]?t:Y(r[4])):(r=ee.exec(e))?k(G(r[1]),G(r[2]),G(r[3]),null==r[4]?t:Y(r[4])):(r=et.exec(e))?function(e,t,r,n){if(0===t)return k(r,r,r,n);let i=r<.5?r*(1+t):r+t-r*t,a=2*r-i,o=[0,0,0];for(let t=0;t<3;++t){let r=e+-(1/3*(t-1));r<0&&++r,r>1&&--r,6*r<1?o[t]=a+(i-a)*6*r:2*r<1?o[t]=i:3*r<2?o[t]=a+(i-a)*(2/3-r)*6:o[t]=a}return k(o[0],o[1],o[2],n)}(j(r[1]),W(r[2]),W(r[3]),null==r[4]?t:Y(r[4])):(r=er.exec(e))?function(e,t,r,n){let i=(100*e+16)/116,a=t/500+i,o=i-r/200,l=e=>{let t=e**3;return t>y?t:(e-16/116)/7.787};i=l(i);let s=e=>e>.0031308?1.055*e**(1/2.4)-.055:12.92*e,c=s(3.2404542*(a=95.047*l(a)/100)+-1.5371385*i+-.4985314*(o=108.883*l(o)/100)),d=s(-.969266*a+1.8760108*i+.041556*o),u=s(.0556434*a+-.2040259*i+1.0572252*o);return k($(c),$(d),$(u),n)}(W(r[1]),parseFloat(r[2]),parseFloat(r[3]),null==r[4]?t:Y(r[4])):(r=en.exec(e))?(0,a.I0)({l:K(r[1],.01),c:K(r[2],.004),h:j(r[3]),a:null==r[4]?t:Y(r[4])}):(r=ei.exec(e))?(0,a.oq)({l:K(r[1],.01),ax:K(r[2],.01),bx:parseFloat(r[3]),a:null==r[4]?t:Y(r[4])}):null}let y=(6/29)**3;function b(e,t){return I(v(e),v(t))/.002741735}let v=e=>{let t=1-(1-e.r/255)*e.a,r=1-(1-e.g/255)*e.a,n=1-(1-e.b/255)*e.a,i,a,o;return i=(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92))/.95047,a=(.2126*t+.7152*r+.0722*n)/1,o=(.0193*t+.1192*r+.9505*n)/1.08883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,{l:116*(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116)-16,a:500*(i-a),b:200*(a-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))}},I=(e,t)=>{let r=e.l-t.l,n=e.a-t.a,i=e.b-t.b,a=Math.sqrt(e.a*e.a+e.b*e.b),o=a-Math.sqrt(t.a*t.a+t.b*t.b),l=n*n+i*i-o*o,s=r/1,c=o/(1+.045*a),d=(l=l<0?0:Math.sqrt(l))/(1+.015*a),u=s*s+c*c+d*d;return u<0?0:Math.sqrt(u)};function T(e,t=1){let r=_[e.toLowerCase()];return r?f(r,!1,t):null}function S(e){return{r:z(e.r),g:z(e.g),b:z(e.b),a:z(e.a)}}function w(e,t=.627){let r=g(e);return!!r&&B(r)<t}function A(e){if(!e)return!0;let t=g(e);return!t||(null==t?void 0:t.a)===0}function C(e){return w(e)?c:d}function N(e){return w(e)?"var(--color-textondarkcanvassecondary, rgba(255,255,255,0.6))":"var(--color-textonlightcanvassecondary, rgba(0,0,0,0.6))"}function O(e,t,r){let n=g(e),i=g(t);if(!n||!i)return;let a=P(n,i),o=B(n),l=B(a);if(r){let e=B(i);return"light"===r&&e>.9||"dark"===r&&e<.25?m:void 0}return o<.2&&l<o+.1?u:o>.8&&.1>Math.abs(l-o)?p:void 0}function L(e,t){let r="dark"===t,n=g(e);if(!n||(null==n?void 0:n.a)===0)return!1;let i=B(n),a=function(e){let t=Math.max(e.r,e.g,e.b),r=Math.min(e.r,e.g,e.b),n=t-r;return t===r?0:(t+r)/2<=.5?n/(t+r):n/(2-t-r)}(n);return w(e)&&r?!(a>.5)||i<.427:!w(e)&&!r&&(!(a>.5)||i>.827)}function R(e=[]){function t(e){return null!=e}let r=e.map(e=>{if("SOLID"===e.type)return e.color;let r=(e.stops??[]).map(e=>e.color).filter(t);if(r.length)return P(...r)}).filter(t);return r.length?P(...r):void 0}function P(...e){return e.reduceRight((e,t)=>{let r=t.a,n=e.a,i=r*(1-n),a=i+n,o=i/a,l=n/a;return{r:t.r*o+e.r*l,g:t.g*o+e.g*l,b:t.b*o+e.b*l,a:a}})}function k(e,t,r,n=1){return isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)?null:{r:e,g:t,b:r,a:n}}function D({r:e,g:t,b:r,a:n}){return{r:Math.round(255*e),g:Math.round(255*t),b:Math.round(255*r),a:Math.round(255*n)}}function M(e){let{r:t,g:r,b:n}=D(e);return`rgba(${t}, ${r}, ${n}, ${e.a})`}function x(e){let{r:t,g:r,b:n,a:i}=D(e),a=Math.min(Math.max(0,r),255),o=Math.min(Math.max(0,n),255),l=Math.min(Math.max(0,i),255),s=Math.min(Math.max(0,t),255).toString(16).padStart(2,"0"),c=a.toString(16).padStart(2,"0"),d=o.toString(16).padStart(2,"0"),u=l.toString(16).padStart(2,"0");return 255===l?`#${s}${c}${d}`:`#${s}${c}${d}${u}`}function F(e){switch(e){case"legacy":return"#e5e5e5";case"light":default:return"#f5f5f5";case"dark":return"#1e1e1e"}}function U(e,t){let r=[255*e.r,255*e.g,255*e.b],n=[255*t.r,255*t.g,255*t.b],a=(0,i.ej)((0,i.h9)(r),(0,i.h9)(n));if("number"!=typeof a||isNaN(a))throw Error(`APCAcontrast returned an invalid value: ${a}`);return a}function B(e){return .299*e.r+.587*e.g+.114*e.b}function H(e){return V(`${e}${e}`)}function V(e){return z(parseInt(e,16))}function G(e){return z(parseFloat(e))}function W(e){return $(.01*parseFloat(e))}function K(e,t){return e.endsWith("%")?$(parseFloat(e)*t):parseFloat(e)}function Y(e){return e?e.includes("%")?W(e):$(parseFloat(e)):1}function j(e){let t=parseFloat(e),r=0;return r=e.includes("grad")?.9*t:e.includes("rad")?180*t/Math.PI:e.includes("turn")?360*t:t,(r=(0,n._g)(r,360))/360}function z(e){return $(e/255)}function $(e){return(0,n.qE)(e,0,1)}function Z(e){return e&&!isNaN(e.r)&&!isNaN(e.g)&&!isNaN(e.b)&&e.r>=0&&e.r<=1&&e.g>=0&&e.g<=1&&e.b>=0&&e.b<=1}function q(e,t){let{r:r,g:i,b:a,a:o}=e,{r:l,g:s,b:c,a:d}=t;return(0,n.xN)(r,l)&&(0,n.xN)(i,s)&&(0,n.xN)(a,c)&&(0,n.xN)(o,d)}function J(e,t){return!!e&&!!t&&e.length===t.length&&e.every((e,r)=>q(e,t[r]))}function X(e){let t=g(e);return!!t&&.2126*t.r+.7152*t.g+.0722*t.b<.6}let Q=/^(?:rgba?\()?\s*([-+]?[0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,ee=/^(?:rgba?\()?\s*([0-9]*\.?[0-9]+)\s*?[, ]\s*([0-9]*\.?[0-9]+)\s*?[, ]\s*([0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,et=/^(?:hsla?\()?\s*([-+]?[0-9]*\.?[0-9]+(?:deg|rad|grad|turn)?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,er=/^(?:lab?\()?\s*([0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,en=/^(?:oklch?\()\s*([0-9]*\.?[0-9]+%?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+%?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+(?:deg|rad|grad|turn)?))?\s*\)?\s*;?$/,ei=/^(?:oklab?\()\s*([0-9]*\.?[0-9]+%?)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+%?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/},138392:(e,t,r)=>{"use strict";r.d(t,{Eg:()=>M,Hd:()=>u,Wn:()=>d,Yw:()=>w,jA:()=>c,oN:()=>p,uv:()=>S,zq:()=>O});var n=r(539321),i=r(404199),a=r(775664),o=r(534367),l=r(568214),s=r(755887);function c(e,t,r="IGNORE",n){if(!e||!(0,l.YR)(e))return console.warn("Invalid color passed to calculateColorWithRampValue. Ensure r, g, b, and a are between 0 and 1",e),null;if(t<0||t>1e3)return console.warn("Invalid value passed into calculateColorWithRampValue. Ensure value is between 0 and 1000",t),null;let i=E(e),a=I(i),o=T(i.hsluv_l,a);if(n){let{LESS_THAN:t,GREATER_THAN:r}=n;if(t&&100*o<t||r&&100*o>r)return e}return v(i,t/1e3,a,o),"IGNORE"!==r&&L(i,"BLACK"===r||"BLACK_AND_WHITE"===r,"WHITE"===r||"BLACK_AND_WHITE"===r),f(i)}function d(e){if(!e||!(0,l.YR)(e))return console.warn("Invalid color passed to calculateColorWithRampValue. Ensure r, g, b, and a are between 0 and 1",e),null;let t=E(e),r=I(t);return Math.floor(100*T(t.hsluv_l,r))}function u(e,t,r="IGNORE"){if(!e||!(0,l.YR)(e))return console.warn("Invalid color passed to calculateColorWithRelativeAdjustment. Ensure r, g, b, and a are between 0 and 1",e),null;if(t<-1||t>1)return console.warn("Invalid percentage passed into calculateColorWithRelativeAdjustment. Ensure percentage is between -1 and 1",t),null;let n=E(e),i=I(n),a=n.hsluv_l,o=a;o=t>0?a+(100-a)*t:a*(1- -1*t);let s=T(a,i);return v(n,T(o,i)/10,i,s),"IGNORE"!==r&&L(n,"BLACK"===r||"BLACK_AND_WHITE"===r,"WHITE"===r||"BLACK_AND_WHITE"===r),f(n)}function p(e,t,r){let i=E((0,l.H0)(e));return L(i,t,r),(0,n.colorToHex)(f(i))}let m=["red","orange","yellow","green","blue","purple"],_={red:{a:-.079,b:16.1},orange:{a:-2.55,b:56.4},yellow:{a:-4.26,b:81.7},green:{a:1.67,b:131},blue:{a:3.4,b:227},purple:{a:.0136,b:282}},h={red:{d:95.2,c:-3.15,b:1.3,a:-.159},orange:{d:108,c:-11.7,b:2.8,a:-.183},yellow:{d:76.3,c:-3.03,b:1.96,a:-.151},green:{d:102,c:-44.8,b:11.8,a:-.776},blue:{d:95.5,c:-10.7,b:3.71,a:-.306},purple:{d:95.6,c:-2.82,b:1.43,a:-.189}},g={red:{d:96.4,c:-.7,b:-2.01,a:.125},orange:{d:103,c:-6.98,b:.0827,a:-.0256},yellow:{d:102,c:-5.84,b:.849,a:-.0972},green:{d:96.5,c:2.77,b:-2.86,a:.171},blue:{d:97.5,c:.173,b:-2.12,a:.127},purple:{d:98.1,c:-2.29,b:-1.94,a:.132}},f=e=>(e.hsluvToRgb(),{r:(0,s.qE)(e.rgb_r,0,1),g:(0,s.qE)(e.rgb_g,0,1),b:(0,s.qE)(e.rgb_b,0,1),a:1}),E=e=>{let t=new i.h;return t.rgb_r=e.r,t.rgb_g=e.g,t.rgb_b=e.b,t.rgbToHsluv(),t},y={red:1,orange:.75,yellow:.6,green:1,blue:1.1,purple:1};function b(e){if((0,l.yi)(e,l.UE)<=A)return R(e);let t=E(e),r=new i.h;if(r.hsluv_h=t.hsluv_h,t.hsluv_l<=10)return r.hsluv_s=0,r.hsluv_l=60,f(r);if(t.hsluv_l<=30){let e=.03*t.hsluv_l;r.hsluv_s=t.hsluv_s*e}else r.hsluv_s=Math.min(100,1.5*t.hsluv_s);return r.hsluv_l=Math.min(100,.444*t.hsluv_l+55.555),k(r)}function v(e,t,r,n=5){t*=10;let i=_[r].a*n+_[r].b-e.hsluv_h;e.hsluv_h=_[r].a*t+_[r].b-i;let a=e.hsluv_s,o=h[r].a*n*n*n+h[r].b*n*n+h[r].c*n+h[r].d;e.hsluv_s=h[r].a*t*t*t+h[r].b*t*t+h[r].c*t+h[r].d,e.hsluv_s*=a/o,e.hsluv_l=g[r].a*t*t*t+g[r].b*t*t+g[r].c*t+g[r].d,e.hsluv_s>100&&(e.hsluv_s=100),e.hsluv_l>100&&(e.hsluv_l=100),e.hsluv_h>360&&(e.hsluv_h=360),e.hsluv_h<0&&(e.hsluv_h=0)}function I(e){let t={blue:0,yellow:0,green:0,purple:0,red:0,orange:0},r=e.hsluv_l/100;e.hsluvToRgb(),m.forEach(n=>{let a=new i.h;a.rgb_r=o.r[n].r,a.rgb_g=o.r[n].g,a.rgb_b=o.r[n].b,a.rgbToHsluv(),v(a,r,n,5),a.hsluvToRgb();let s=(0,l._W)(f(e),f(a));t[n]=s/y[n]});let n="yellow",a=t[n];for(let e in t)t[e]<a&&(a=t[e],n=e);return e.rgbToHsluv(),n}function T(e,t){let r=(0,s.Ae)(g[t].a,g[t].b,g[t].c,g[t].d-e),n=r.filter(e=>0<e&&e<10);return 1===n.length?n[0]:r.length>1?(r.sort(),r[Math.floor(r.length/2)]):e<50?11:-1}let S=60,w=30,A=10,C={BLACK:l.Uv,WHITE:l.UE},N=(e,t)=>{let{colorForContrastCheck:r,isCustomColorForeground:n,contrastMinimum:i}=t,a=()=>n?Math.abs((0,l.yi)(s,r)):Math.abs((0,l.yi)(r,s)),o=(0,l.HD)(r)?.1:-.1,s=f(e);for(;a()<i+.2&&(e.hsluv_l+=o,!(e.hsluv_l>100)&&!(e.hsluv_l<0));)s=f(e);return e.rgbToHsluv(),a()>=i+.2};function O(e,t){let r=E(e),n=N(r,t);return{adjustedColor:f(r),contrastMet:n}}let L=(e,t,r)=>{let n;let i=f(e),a=Math.abs((0,l.yi)(l.UE,i)),o=Math.abs((0,l.yi)(l.Uv,i));if(t&&r)n=o>=a?"BLACK":"WHITE";else{if(!t&&!r)return;n=t?"BLACK":"WHITE"}("BLACK"!==n||!(o>=S))&&("WHITE"===n&&a>=S||N(e,{contrastMinimum:S,colorForContrastCheck:C[n],isCustomColorForeground:!1}))},R=e=>({r:(0,s.qE)((e.r-1)/.55+1,0,1),g:(0,s.qE)((e.g-1)/.55+1,0,1),b:(0,s.qE)((e.b-1)/.55+1,0,1),a:1}),P=e=>{e.hsluvToRgb();let t=new i.h;return t.rgb_r=1-.55*(1-e.rgb_r),t.rgb_g=1-.55*(1-e.rgb_g),t.rgb_b=1-.55*(1-e.rgb_b),t.rgbToHsluv(),t},k=e=>{let t=P(e);return N(t,{contrastMinimum:A,colorForContrastCheck:C.WHITE,isCustomColorForeground:!1}),R(f(t))};function D(e){let t=[],r=new Set;return e.forEach(e=>{let n=a.z5.format(e);r.has(n)||(r.add(n),t.push(e))}),t}function M(e){if(e)return{base:e,widget:e,baseLight:D(e.map(e=>u(e,.6,"BLACK_AND_WHITE")||l.Uv)),sticky:D(e.map(e=>c(e,400,"BLACK",{LESS_THAN:400})||l.Uv)),highlight:D(e.map(b)),pencilUI3:e}}},609494:(e,t,r)=>{"use strict";r.d(t,{B2:()=>p,I:()=>y,Kq:()=>E,Kx:()=>b,L4:()=>w,Pq:()=>T,Rc:()=>function e(t=[],r=!0){var n;let i=(Array.isArray(t)?t:[{t:t}]).map(t=>{var r;let n={t:null,styles:null,children:null,user:null,userId:null,link:null,isHashtag:null};if(t.user_annotated&&t.user_id)return{...n,userId:t.user_id,user:{...t.user_annotated,name:t.user_annotated.name??null,imgUrl:t.user_annotated.img_url}};if(t.profile_id||null===t.profile_id)return{...n,t:"@"+t.t,styles:["lightbold"]};let i={...n,t:t.t||n.t,styles:t.styles||n.styles,link:t.link||n.link};return(null==(r=t.children)?void 0:r.length)&&(i.children=t.children.map(t=>({...n,children:e(t.children,!1)}))),i});if(r&&i.length){let e=i[i.length-1];e.t=(null==(n=e.t)?void 0:n.replace(/\s+$/g,""))??null}return i},Wf:()=>function e(t,r){if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],a=r[n];if(i.t!==a.t||i.user_id!==a.user_id)return!1;if(!_(i,a))return!1;if(i.profile_id!==a.profile_id)return!1;else if(i.link!==a.link)return!1;else if(!m(i,a))return!1;else if(!e(i.children??[],a.children??[]))return!1}return!0},_Z:()=>f,cs:()=>I,l5:()=>g,pV:()=>S,q:()=>v,sP:()=>function e(t=[]){if(!t)return"";let r=t.reduce((t,r)=>{var n;let o=r.t||"",l=r.styles||[];r.user_annotated?(o=r.user_annotated.handle,l=["lightbold"]):r.profile_id||null===r.profile_id?(o="@"+r.t,l=["lightbold"]):(null==(n=r.children)?void 0:n.length)?r.children.forEach((r,n)=>{(t||o)&&(o+="\n"),o+=(l.includes("ol")?`${n+1}. `:"* ")+e(r.children)}):(o=(0,a.x6)(o).map(e=>"string"==typeof e?(0,c.hX)(e):`<span class="${u.mh}">${e.props["data-text"]}</span>`).join("\n"),r.link&&(l=["lightbold"]));let s=[];return l.forEach(e=>{"b"===e?s.push(u.hp):"lightbold"===e?s.push(u.XH):"i"===e?s.push(u.u5):"s"===e&&s.push(u.Vc)}),s.length&&(o=`<span class='${i()(...s)}'>`+o+"</span>"),t+o},"");return(0,s.F)(r)||""},vj:()=>h});var n=r(629019),i=r.n(n),a=r(934480),o=r(531664),l=r(572174),s=r(733334),c=r(96328),d=r(572206),u=r(632007);let p=5,m=(e,t)=>{var r;if((0,l.uy)(e.styles)&&(0,l.uy)(t.styles))return!0;if((0,l.uy)(e.styles)!==(0,l.uy)(e.styles))return!1;let n=null==(r=e.styles)?void 0:r.filter(e=>{var r;return!(null==(r=t.styles)?void 0:r.includes(e))});return(null==n?void 0:n.length)===0},_=(e,t)=>!!((0,l.uy)(e.user_annotated)&&(0,l.uy)(t.user_annotated))||(0,l.uy)(e.user_annotated)===(0,l.uy)(e.user_annotated)&&(0,o.c2)(e.user_annotated,t.user_annotated);var h=(e=>(e.EDITOR_MENTION="editor_mention",e.COMMUNITY_MENTION="community_mention",e.PLAIN_TEXT="plain_text",e.EMOJI="emoji",e.NONE="none",e))(h||{});function g(e){return 2===Object.keys(e).length&&Object.keys(e).includes("user_id")&&Object.keys(e).includes("user_annotated")?"editor_mention":2===Object.keys(e).length&&Object.keys(e).includes("profile_id")&&Object.keys(e).includes("t")?"community_mention":Object.keys(e).includes("t")&&!Object.keys(e).includes("link")&&e.t&&(0,a.xM)(e.t)?"emoji":Object.keys(e).includes("t")&&!Object.keys(e).includes("link")?"plain_text":"none"}function f(e=[],t){if(!e)return"";let r=e.reduce((e,t)=>{var r,n,i;let a=t.t||"";return t.user_annotated?a=t.user_annotated.handle:t.profile_id||null===t.profile_id?a="@"+t.t:(null==(r=t.children)?void 0:r.length)&&(null==(n=t.styles)?void 0:n.length)?t.children.forEach((r,n)=>{(e||a)&&(a+="\n"),a+=(t.styles.includes("ol")?`${n+1}. `:"* ")+f(r.children)}):(null==(i=t.styles)?void 0:i.length)&&t.styles.includes("s")&&(a=""),e+a},"");return(null==t?void 0:t.includeTrailingWhitespace)||(r=r.replace(/\s+$/g,"")),(0,s.F)(r)||""}function E(e,t){var r;let n=f(e,t),i=(0,a.Bx)(n);return((null==(r=globalThis.Intl)?void 0:r.Segmenter)?Array.from(new Intl.Segmenter().segment(i)):Array.from(i)).length}function y(e){return 0===e.length||/^\s*$/.test(f(e))}function b(e){return y(e)||f(e).length<=5}function v(e){return f(e).length>=17500}function I(e){if(!Array.isArray(e))return[];let t=function e(t){let r=[];return t.forEach(t=>{var n;(null==(n=t.user_id)?void 0:n.includes("invite-"))?t.t&&r.push(t.t):t.children&&r.push(...e(t.children))}),r}(e);return!function e(t){return t.forEach(t=>{var r;(null==(r=t.user_id)?void 0:r.includes("invite-"))?delete t.user_id:t.children&&e(t.children)}),t}(e),t}function T(e){var t;return e.length>0&&(e[e.length-1].t=null==(t=e[e.length-1].t)?void 0:t.trimEnd()),e}function S(e,t){let r=Math.min(Math.max(e.x,t.x),t.x+t.width),n=Math.min(Math.max(e.y,t.y),t.y+t.height);return new d.Mi(r,n)}function w(e){return e.includes("-")}},93484:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,y:()=>i});var n=r(411855);let i=n.createContext(null);function a({name:e,children:t,order:r}){let a=(0,n.useMemo)(()=>({name:e,priorityMap:r.reduce((e,t,n)=>(e.set(t,r.length-n),e),new Map)}),[e,r]);return n.createElement(i.Provider,{value:a},t)}},623738:(e,t,r)=>{"use strict";r.d(t,{C4:()=>m,L3:()=>p,Uc:()=>h,iZ:()=>c});var n=r(852800),i=r(126911),a=r(966712),o=r(588169),l=r(286640);let s="customKeyboardShortcuts",c=new Map(Object.entries(n.XpX).map(([e,t])=>[e,t])),d=new Map(Object.entries(n.XpX).map(([e,t])=>[t,e]));function u(e,t,r){let n=d.get(t),i=Object.entries(e).find(([e,t])=>t.type===n&&t.action===r);return null==i?void 0:i[0]}function p(e,t,r){var c,p;if(!(0,a.kc)().ce_custom_keyboard_shortcuts)return;let m=_(),h=o.dZ.get((0,o.v7)())||"UNKNOWN",g=i.y.isApple()?"mac":"!mac",f=d.get(e),E=(null==(c=m[h])?void 0:c[g])??{},y=u(E,e,t);y&&delete E[y],m[h]={...m[h],[g]:{...E,[r]:{type:f,action:t}}},console.log("[CustomKeyboardShortcuts] saving shortcuts to local storage",{typeString:f,action:t,shortcutStr:r,shortcuts:m}),null==(p=l.x4)||p.setItem(s,JSON.stringify(m)),n.glU.reloadKeyboardShortcuts()}function m(e,t){var r,c;if(!(0,a.kc)().ce_custom_keyboard_shortcuts)return;let p=_(),m=o.dZ.get((0,o.v7)())||"UNKNOWN",h=i.y.isApple()?"mac":"!mac",g=d.get(e),f=(null==(r=p[m])?void 0:r[h])??{},E=u(f,e,t);if(E)delete f[E];else{console.error("[CustomKeyboardShortcuts] could not find existing shortcut",{typeString:g,action:t,shortcuts:p});return}p[m]={...p[m],[h]:{...f}},null==(c=l.x4)||c.setItem(s,JSON.stringify(p)),n.glU.reloadKeyboardShortcuts()}function _(){let e;if(!l.x4)return{};let t=l.x4.getItem(s);if(!t)return{};try{e=JSON.parse(t)}catch(e){console.error("[Custom Keyboard Shortcuts] Failed to parse from local storage",e)}return e}function h(){var e;let t=o.dZ.get((0,o.v7)())||"UNKNOWN",r=i.y.isApple()?"mac":"!mac";return(null==(e=(_()??{})[t])?void 0:e[r])??{}}},540193:(e,t,r)=>{"use strict";r.d(t,{_v:()=>L,yN:()=>O,ql:()=>R,lP:()=>k,O8:()=>P});var n=r(411855),i=r(188507),a=r(945827),o=r.n(a),l=r(38329),s=r(966712),c=r(309225),d=r(499737),u=r(752553),p=r(391388),m=r(944682),_=r(270056),h=r(193360),g=r(938908),f=r(782656),E=r(988022),y=r(279453),b=r(623746),v=r(691205),I=r(569512),T=r(547807),S=r(66037);let w=new class{constructor(){this.RecentPrototypesSchemaValidator=(0,T.YV)("RecentPrototypesSchemaValidator",e=>e.object({recent_prototypes:e.ignore(),recent_prototype_repos:e.ignore(),org_drafts_owners:e.array(S.WU)}),null,!1)}getRecentPrototypes(e){return this.RecentPrototypesSchemaValidator.validate(async({xr:t})=>{var r;return await t.get("/api/recent_prototypes",T.td.toAPIParameters({...e,fuid:null==(r=(0,s.Ay)().user_data)?void 0:r.id}))})}};var A=r(224857);let C=null,N=v.M4.Query({fetch:async e=>{let t=(await I.f.getRecentFiles({orgId:e.orgId||void 0,isGlobal:!0})).data.meta;return D(t,e.orgId,!0),t},schema:I.m,sync:(e,{realtimeClient:t,mutate:r})=>t.subscribe("recent_file",(e,t)=>{r(r=>{"post"===t||"put"===t?(o()(r.recent_files,t=>t.key===e.key),r.recent_files.unshift(e)):"delete"===t&&o()(r.recent_files,t=>t.key===e.key)})}),syncObjects:!0,output:({data:e})=>({...e,recent_files:e.recent_files.filter(e=>!e.trashed_at&&!e.file_repo_id)}),key:"recentFiles"});async function O(e){var t,r,n;if(!C||"loaded"!==C.status)return;let i=[],a={},o=[];for(let l of(null==(r=null==(t=C.data)?void 0:t.currentUser)?void 0:r.recentFiles2)??[])(null==(n=null==l?void 0:l.file)?void 0:n.key)&&e.includes(l.file.key)&&(i.push({key:l.file.key,parent_org_id:l.file.parentOrgId,team_id:l.file.teamId,folder_id:l.file.folderId}),a[l.id]=null,o.push(l.file.key));let l=I.f.removeRecentFiles({fileKeys:o}),s=(0,c.WB)().optimisticallyDelete({RecentFile2:a},l);(0,E.OH)("File RecentFiles Removed",i),await s}let L=v.M4.Mutation((e,{query:t})=>{let{orgId:r,newFile:n}=e;t.mutate(N({orgId:r}),e=>{let t=e.recent_files.findIndex(e=>e.key===n.key);-1!==t&&e.recent_files.splice(t,1),e.recent_files.unshift(n)})});function R(e,t={}){return(0,s.kc)().livegraph_recent_files_full_read?k(e):function(e,t={}){let{revalidateOnMount:r}=t,[i]=(0,u.IT)(N({orgId:e}),{revalidateOnMount:r}),a=n.useMemo(()=>i.transform(e=>e.recent_files),[i]),o=(0,A.f)(a);return n.useMemo(()=>o.status===p.H.LOADING||o.status===p.H.DISABLED?p.Qw.loading():o.status===p.H.ERRORS?p.Qw.error(o.errors):o,[o])}(e,t)}let P=function(e){let t=(0,i.wA)();n.useEffect(()=>(function(e,t){w.getRecentPrototypes({orgId:t||void 0,isGlobal:!0,includeRepo:!0}).then(({data:t})=>{e(g.q0());let{recent_prototypes:r,recent_prototype_repos:n,org_drafts_owners:i}=t.meta;for(let t of r)e(g.Am({prototype:t}));e(h.lk({orgDraftsOwners:i})),e(f.uo({repos:n}))}).catch(e=>{})})(t,e),[t,e]);let r=(0,i.d4)(e=>e.recentPrototypes);return n.useMemo(()=>{let e=r.filter(e=>!e.trashed);return p.Qw.from({status:"loaded",data:e,errors:[]})},[r])};function k(e){var t,r;let i=(0,d.Rs)(y.wZi,{});C=i;let a=null==(r=null==(t=i.data)?void 0:t.currentUser)?void 0:r.recentFiles2;return(0,n.useEffect)(()=>{i.status===p.H.LOADED&&D((0,b.YN)(a||[]),e,!1)},[i.status,a,e]),n.useMemo(()=>{if(i.status===p.H.LOADING||i.status===p.H.DISABLED)return p.Qw.loading();if(i.status===p.H.ERRORS)return p.Qw.error(i.errors);let e=(0,b.YN)(a||[]);return p.Qw.loaded(e.recent_files)},[i.errors,i.status,a])}function D(e,t,r){let n=e.recent_repos.map(e=>e.files).reduce((e,t)=>e.concat(t),[]);l.D.dispatch(m.uo({files:e.recent_files.concat(n),subscribeToRealtime:!1})),l.D.dispatch(f.nF({recent_repos:e.recent_repos,subscribeToRealtime:r})),l.D.dispatch(h.lk({orgDraftsOwners:e.org_drafts_owners})),l.D.dispatch(_.Kc({folderId:`recents-${t||"no-org"}`,state:"loaded"}))}},207286:(e,t,r)=>{"use strict";r.d(t,{I2:()=>_,QD:()=>h,SM:()=>g,Xf:()=>f});var n,i=r(411855),a=r(358145),o=r(752553),l=r(27087),s=r(939863),c=r(6949),d=r(99506),u=r(691205),p=r(356931),m=r(679892);(n||(n={})).orgBillingDataQuery=u.M4.Query({fetch:async e=>(await m.Eh.getBillingData({orgId:e})).data.meta,enabled:e=>!!e});let _=u.M4.Mutation(async(e,{query:t})=>{let{orgId:r,billingContacts:i,onRejected:a}=e,o=await l.Ay.put(`/api/orgs/${r}/billing_data`,{admin_email:i}).catch(e=>{throw a(e),e});t.mutate(n.orgBillingDataQuery(r),e=>{e&&(e.admin_email=o.data.meta.admin_email)})}),h=u.M4.Mutation(async(e,{query:t})=>{let r=await l.Ay.put(`/api/orgs/${e.orgId}/lock_invoice`,{license_quantities:e.licenseQuantities}),i=n.orgBillingDataQuery(e.orgId);return t.mutate(i,e=>{e&&(e.invoices=r.data.meta.invoices)}),await t.refetch(i),r.data.meta});function g(e){let[t,{refetch:r}]=(0,o.IT)(n.orgBillingDataQuery(e));return r}function f(e,t=!0){let r=(0,c.a9)(),l=!!(r&&r.permission===d._D.ADMIN),[u,m]=(0,o.IT)(n.orgBillingDataQuery(e),{enabled:t});(0,p.i)(u,(0,s.t)("org_billing_error_default"));let _=(0,a.ZC)(e),h=i.useMemo(()=>_!==e&&!!_,[e,_]),g=(0,a.ZC)(l),f=i.useMemo(()=>!1===g&&l&&u.data&&0===Object.keys(u.data).length,[l,u.data,g]),E=i.useMemo(()=>f||h,[f,h]);return(0,i.useEffect)(()=>{"loading"!==u.status&&E&&m.refetch()},[m,E,u.status]),u}},224857:(e,t,r)=>{"use strict";r.d(t,{S:()=>d,f:()=>c});var n=r(411855),i=r(499737),a=r(391388),o=r(279453),l=r(428467),s=r(75274);function c(e,t=!0){let r=(0,n.useMemo)(()=>{var t;return(null==(t=e.data)?void 0:t.map(e=>({key:e.key})))??[]},[e]),l=(0,i.p)(o.sMs,r,{enabled:r.length>0});return(0,n.useMemo)(()=>(function(e,t,r=!0){if("loaded"!==e.status)return e;let n={},i=!1,o=null;return(t.forEach(e=>{var t;if("loading"===e.result.status||"disabled"===e.result.status){i=!0;return}if("errors"===e.result.status){o=e.result.errors;return}n[e.args.key]=(null==(t=e.result.data.file)?void 0:t.hasPermission)??!1}),null!=o)?r?e:a.Qw.error(o):i?r?e:a.Qw.loading():a.Qw.loaded(e.data.filter(e=>n[e.key]))})(e,l,t),[l,e,t])}function d(e){let t=(0,l.usePermissionsState)(),r=(0,n.useMemo)(()=>{let r=(0,l.canViewFile)(e,t);return(0,i.gB)({result:r})},[e,t]),c=(0,i.Rs)(o.sMs,{key:e}),d=a.Qw.from(c).transform(e=>{var t;return!!(null==(t=e.file)?void 0:t.hasPermission)});return(0,s.u)({oldValue:r.data.result,newValueQueryResult:d,label:s.o.FILE_CAN_VIEW,callSite:"useFileCanViewPermission",args:{fileKey:e}}),r}},823810:(e,t,r)=>{"use strict";r.d(t,{g4:()=>m,iu:()=>g,m8:()=>_,n:()=>u,ru:()=>c,t5:()=>h,v_:()=>p});var n=r(411855),i=r(138020),a=r(966712),o=r(499737),l=r(391388),s=r(279453);function c(e){var t,r;let n=(0,a.kc)().file_delete_pv2_cleanup,o=e.canEdit,l=e.canEdit,s=e.canRename,c=!!(null==(t=e.project)?void 0:t.canView),d=!!(null==(r=e.project)?void 0:r.canEdit),u=(n?!!(0,i.oA)(e.canTrash):e.canDelete)&&!e.isTrashed,p=e.canEdit||!e.viewerExportRestricted,m=(n?!!(0,i.oA)(e.canRestore):e.canEdit)&&e.isTrashed,_=e.canFavorite,h=e.isFavorited;return{canEdit:o,canRename:s,canMove:u,canShowInProject:c,canPin:d,canDelete:u,canDuplicate:p,canRestore:m,canFavorite:_,isFavorited:h,canDeleteForever:(n?(0,i.oA)(e.canPermanentlyDelete):e.canDelete)&&e.isTrashed||!e.folderId&&e.canEdit,canUseInNewFile:e.isTeamTemplate,canRestoreFromVersion:l,isWorkspaceVisible:e.isWorkspaceVisible}}let d=e=>(t,r)=>r?t.filter(t=>{let n=r[t];return!!(null==n?void 0:n[e])}):[],u=d("canDelete"),p=d("canDuplicate"),m=d("canRestore"),_=d("canDeleteForever");function h(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({fileKey:e})),[e]),i=(0,o.p)(s.XRI,r,{enabled:r.length>0&&t}),a=!0,l=null,d={};return i.forEach(e=>{var t;if("loaded"!==e.result.status&&(a=!1),"errors"===e.result.status){l=e.result.errors;return}let r=null==(t=e.result.data)?void 0:t.file;r&&(d[e.args.fileKey]=c(r))}),{isLoaded:a,error:l,permsByFileKey:d}}function g(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({fileKey:e})),[e]),i=(0,o.p)(s.XRI,r,{enabled:t});return(0,n.useMemo)(()=>l.Qw.all(i.map(e=>e.result)).transform(e=>{let t={};for(let r of e){let e=r.file;e&&(t[e.id]=c(e))}return t}),[i])}},307524:(e,t,r)=>{"use strict";r.d(t,{Ro:()=>l,eM:()=>c,fI:()=>s});var n=r(411855),i=r(499737),a=r(391388),o=r(279453);function l(e){return{canRead:e.canRead,canFavorite:e.canRead&&!e.isFavorited,canUnfavorite:e.canRead&&e.isFavorited}}function s(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({prototypeId:e})),[e]),a=(0,i.p)(o.vE,r,{enabled:r.length>0&&t}),s=!0,c=null,d={};return a.forEach(e=>{var t;if("loaded"!==e.result.status&&(s=!1),"errors"===e.result.status){c=e.result.errors;return}let r=null==(t=e.result.data)?void 0:t.prototype;r&&(d[e.args.prototypeId]=l(r))}),{isLoaded:s,error:c,permsByPrototypeId:d}}function c(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({prototypeId:e})),[e]),s=(0,i.p)(o.vE,r,{enabled:t});return(0,n.useMemo)(()=>a.Qw.all(s.map(e=>e.result)).transform(e=>{let t={};for(let r of e){let e=r.prototype;e&&(t[e.id]=l(e))}return t}),[s])}},388120:(e,t,r)=>{"use strict";r.d(t,{BS:()=>m,_H:()=>d,gX:()=>u,nL:()=>p,w8:()=>_,zh:()=>l,zj:()=>c});var n=r(411855),i=r(499737),a=r(391388),o=r(279453);function l(e){var t,r;let n=e.canEdit,i=e.canEdit,a=!!(null==(t=e.project)?void 0:t.canView),o=e.canEdit&&!e.isTrashed,l=e.canEdit&&e.isTrashed,s=e.canEdit&&e.isTrashed,c=!!(null==(r=e.sourceFile)?void 0:r.isFavorited);return{canDelete:o,canRename:n,canShowInProject:a,isFavorited:c,canRestore:s,canForeverDelete:l,canFavorite:e.canRead&&!!e.sourceFile&&!e.sourceFile.isFavorited,canUnfavorite:e.canRead&&!!e.sourceFile&&e.sourceFile.isFavorited,isMainBranch:t=>{var r;return t===(null==(r=e.sourceFile)?void 0:r.key)},canMove:i,canEditBranch:t=>{var r,n;return!!(null==(n=null==(r=e.branches)?void 0:r.find(e=>e.key===t))?void 0:n.canEdit)},canPin:!!e.project&&e.canEdit}}let s=e=>(t,r)=>r?t.filter(t=>{let n=r[t];return!!(null==n?void 0:n[e])}):[],c=s("canDelete"),d=s("canRestore"),u=s("canForeverDelete");function p(e,t,r){return r?e.filter(e=>{let n=t[e],i=r[e];return null==i?void 0:i.isMainBranch(n)}):[]}function m(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({repoId:e})),[e]),a=(0,i.p)(o.rwE,r,{enabled:r.length>0&&t}),s=!0,c=null,d={};return a.forEach(e=>{var t;if("loaded"!==e.result.status&&(s=!1),"errors"===e.result.status){c=e.result.errors;return}let r=null==(t=e.result.data)?void 0:t.repo;r&&(d[e.args.repoId]=l(r))}),{isLoaded:s,error:c,permsByRepoId:d}}function _(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({repoId:e})),[e]),s=(0,i.p)(o.rwE,r,{enabled:t});return(0,n.useMemo)(()=>a.Qw.all(s.map(e=>e.result)).transform(e=>{let t={};for(let r of e){let e=r.repo;e&&(t[e.id]=l(e))}return t}),[s])}},517333:(e,t,r)=>{"use strict";r.d(t,{GN:()=>p,O_:()=>u,S8:()=>d,X3:()=>h,aw:()=>n.aw,eD:()=>c,fU:()=>_,hl:()=>m,y3:()=>g});var n=r(723069),i=r(878227),a=r(563706),o=r(776621),l=r(323653),s=r(427018);let c=(0,n.rb)(),d=window.bellFeedAPI?window.bellFeedAPI:null;function u(e){return window.bellFeedAPI&&null!=window.bellFeedAPI.version&&window.bellFeedAPI.version>=e?window.bellFeedAPI:null}function p(){let e=(0,l.x5)(null==c?void 0:c.getInformationalVersion());return e.status===l.JN.DEPRECATED?e.date:null}function m(){return(0,l.x5)(null==c?void 0:c.getInformationalVersion()).status===l.JN.DISABLED}function _(){if(c&&a.Ay.mac){let[e,t]=`${a.Ay.osversion}`.split(".");return 10>+e||10==+e&&12>+t}return!1}function h(e){e?document.body.classList.add(s.s9):document.body.classList.remove(s.s9)}function g(){return!!c}c&&!navigator.userAgent.match(/figma-linux/)&&((0,i.v)({browser_name:"Figma Desktop",desktop_channel:c.beta?"beta":"stable",desktop_version:c.getInformationalVersion(),desktop_client_id:c.getClientID()}),(0,o.XM)("browser",{name:"Desktop",version:c.getInformationalVersion()})),delete window.__figmaDesktop},323653:(e,t,r)=>{"use strict";r.d(t,{JN:()=>s,Pi:()=>u,x5:()=>c});var n=r(367035),i=r(181912),a=r(374626),o=r(38580);let l=[{minVersion:"116.10.0",date:"2024-01-01"},{minVersion:"116.16.0",date:"2024-08-01"}];var s=(e=>(e.SUPPORTED="SUPPORTED",e.DEPRECATED="DEPRECATED",e.DISABLED="DISABLED",e))(s||{});function c(e,t=(0,i.A)(),r=l){if(window.__figmaContent)return{status:"DISABLED"};if(null==e)return{status:"SUPPORTED"};if(!window.trustedTypes)return{status:"DISABLED"};for(let{minVersion:a,date:o}of r){if(1!==(0,n.Z)(e,a))continue;let r=(0,i.A)(o);if(r.isBefore(t))return{status:"DISABLED"};if(r.subtract(1,"month").isBefore(t))return{status:"DEPRECATED",date:r}}return{status:"SUPPORTED"}}let d=(0,a.E3)("last_dismissed_desktop_deprecation_banner","",{subscribeToChanges:!0}),u=(0,o.eU)(e=>{let t=e(d);if(t){let e=(0,i.A)(t),r=(0,i.A)().subtract(1,"week");if(e.isAfter(r))return!0}return!1},(e,t,r)=>{t(d,r?(0,i.A)().toISOString():"")})},895235:(e,t,r)=>{"use strict";function n(e,t){return null!=e&&"function"==typeof e.closest&&null!=e.closest(`[${t}]`)}function i(e,t,r){let n=e;for(;n;){if(r(n))return n;if(n===t)break;n=n.parentElement}return null}function a(e){for(;;){var t;if(null==e)return null;if(null!=(t=e)&&t instanceof HTMLElement)return e;if(!("parentNode"in e))return null;e=e.parentNode}}function o(e){return!!e&&!!(d(e)||s(e)||p(e)||e.isContentEditable||e.hasAttribute("tabindex"))}function l(e){return!!e&&"INPUT"===e.tagName}function s(e){return!!e&&!!("A"===e.tagName&&e.hasAttribute("href"))}function c(e){return"button"===e.type||"submit"===e.type}function d(e){return!!e&&!!("BUTTON"===e.tagName||l(e)&&c(e))}function u(e){return s(e)||!!e&&!!(d(e)||function(e,...t){let r=e.getAttribute("role");return null!==r&&t.includes(r)}(e,"button"))}function p(e){return!!e&&(!!l(e)&&!c(e)||"SELECT"===e.tagName||"TEXTAREA"===e.tagName)}r.d(t,{Ap:()=>p,Bu:()=>u,NX:()=>n,SD:()=>a,Xx:()=>o,qR:()=>i})},323762:(e,t,r)=>{"use strict";r.d(t,{CV:()=>p,Cy:()=>d,Js:()=>c,KJ:()=>u,LU:()=>m});var n=r(296210),i=r(966712),a=r(302067);let o=new Set(["airtable.com","asana.com","calendly.com","chorus.ai","coda.io","codepen.io","docs.google.com","drive.google.com","paper.dropbox.com","figma.com","framer.com","github.com","gmail.com","atlassian.com","loom.com","lottiefiles.com","lucidchart.com","maze.co","office.com","miro.com","mode.com","mural.co","notion.so","quip.com","rollbar.com","sentry.io","slab.com","slideshare.net","surveymonkey.com","tableau.com","trello.com","typeform.com","usertesting.com","whimsical.com","behance.net","dribbble.com","facebook.com","google.com","maps.google.com ","instagram.com","linkedin.com","medium.com","pinterest.com","soundcloud.com","spotify.com","open.spotify.com","tiktok.com","twitter.com","vimeo.com","youtu.be","youtube.com"]),l=RegExp("^<iframe[^>]+src\\s*=\\s*(?:(?:\"([^\">]+)\")|(?:'([^'>]+)')).*><\\/iframe>$"),s=RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");function c(e){let t=new URL(e).hostname;return 0===t.indexOf("www.")&&(t=t.slice(4)),t}function d(e){if(!(0,i.kc)().figjam_embeds_allowlist)return!0;try{let t=c(e);return o.has(t)}catch(e){return console.error("Invalid URL in embed"),!1}}function u(e){let t=function(e){if(!e.startsWith("<iframe"))return"";let t=n.sanitize(e,{ALLOWED_TAGS:["iframe"],ALLOWED_ATTR:["src"]}),r=l.exec(t);return r&&r.length>1?r[1]:""}(e),r=t||e,i=r.startsWith("http://")||r.startsWith("https://")?r:`https://${r}`;return s.test(i)?{isFromIFrame:!!t,url:i}:null}function p(e,t,r){let n=u(t.trim());return n?(e(a.MY({clipboardText:t,url:n.url,isTextIframe:n.isFromIFrame,entrypoint:r})),{valid:!0}):{valid:!1,reason:"Text was not a valid URL or IFrame"}}function m(e="",t){if(!e.startsWith("<meta charset='utf-8'><div><a href='https://app.asana.com"))return null;let r=n.sanitize(e,{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href"]}).split("<a"),i=/href="(https:\/\/app\.asana\.com[^"]*)"/,a=[];for(let e of r){let t=e.match(i);t&&t[1]&&a.push({url:t[1],isFromIFrame:!1})}return a.length!==t.split("\n").length?null:a}},744493:(e,t,r)=>{"use strict";r.d(t,{J3:()=>i,ok:()=>o,vC:()=>a});var n=r(313894);class i extends n.w{constructor(){super(),this.type="Particle",this.velocity={x:0,y:0},this.kick={x:0,y:0},this.kickDecay=1,this.gravity={x:0,y:0}}static fastVectorAddScaled(e,t,r){e.x+=t.x*r,e.y+=t.y*r}update(e){return i.fastVectorAddScaled(this.position,this.velocity,e),i.fastVectorAddScaled(this.position,this.kick,e),i.fastVectorAddScaled(this.kick,this.kick,Math.pow(this.kickDecay,e/.016)-1),i.fastVectorAddScaled(this.velocity,this.gravity,e),super.update(e)}}class a extends n.w{constructor(){super(...arguments),this.emissionProfile=()=>1,this.emitParticle=()=>{},this.alreadyEmitted=0}update(e){for(;this.alreadyEmitted<this.emissionProfile(this.age);)this.emitParticle(),this.alreadyEmitted++;return super.update(e)}}class o extends n.L{constructor(){super(...arguments),this.MAX_PARTICLES=512,this.addParticle=e=>{this.getParticles().length<this.MAX_PARTICLES&&this.addEntity(e)}}getParticles(){return this.getEntities().filter(e=>e instanceof i)}}},722138:(e,t,r)=>{"use strict";r.d(t,{DF:()=>p,Dr:()=>s,K2:()=>h,LP:()=>l,Pe:()=>_,SX:()=>m,gB:()=>o,hp:()=>u,j4:()=>c,to:()=>a,vg:()=>i,xs:()=>d});var n=r(776250);let i="sidebar favorited row";function a(e,t,r,i,a,o){(0,n.sx)("resource_removed_from_favorites",{resource_id:e,selectedView:t,entrypoint:r,resource_type:i,editor_type:a,fileBrowserUnfavorite:o})}function o(e,t,r,i,a,o){(0,n.sx)("resource_added_to_favorites",{resourceId:e,editor_type:a,selectedView:t,resource_type:i,entrypoint:r,fileBrowserFavorite:o})}function l(e,t,r,i,a){(0,n.sx)("favorited_resource_clicked",{resource_id:e,resource_type:t,editor_type:a,section_id:r,entrypoint:i})}function s(e,t){(0,n.sx)("favorites_to_move_add_to_sidebar_click",{favorited_resource_id:e,dest_team_id:t})}function c(e){(0,n.sx)("favorites_to_move_unstar_all_click",{favorited_resource_id:e})}function d(e){(0,n.sx)("sidebar_section_collapsed",{is_collapse:e,section:"favorites"})}function u(){(0,n.sx)("favorites_reordered",{})}function p(e){(0,n.sx)("favorites_context_menu_action_clicked",{action:e})}function m(e,t){(0,n.sx)("File Browser Sidebar Custom Section Created",{new_custom_section_name:t,new_custom_section_id:e})}function _(e){(0,n.sx)("File Browser Sidebar Custom Section Deleted",{new_custom_section_id:e})}function h(e,t){(0,n.sx)("File Browser Sidebar Custom Section Renamed",{new_custom_section_new_name:t,new_custom_section_id:e})}},879466:(e,t,r)=>{"use strict";function n(e,t){let r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t+".txt"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}r.d(t,{j:()=>n})},697170:(e,t,r)=>{"use strict";r.d(t,{BJ:()=>R,Bs:()=>L,DT:()=>I,Rm:()=>O,W8:()=>k,_B:()=>w,aL:()=>A,ty:()=>T,xI:()=>N});var n=r(776250),i=r(511617),a=r(38329),o=r(737947),l=r(286640),s=r(27087),c=r(761870),d=r(145356),u=r(195847),p=r(6108),m=r(938571),_=r(881388),h=r(939863),g=r(662275),f=r(479296),E=r(367253),y=r(966712),b=r(776621);let v="google_sso_temp";var I=(e=>(e.COMMUNITY_FASTMA="google_one_tap_logged_out_community_fastma",e.COMMUNITY="google_one_tap_logged_out_community",e.LOGGED_OUT_FILE="google_one_tap_logged_out_file",e))(I||{}),T=(e=>(e.LOGGED_OUT_FOOTER="logged_out_footer",e.LOGGED_OUT_FOOTER_CONTINUE_WITH_GOOGLE="logged_out_footer_continue_with_google",e.FIGJAM_TRY_FOOTER_BANNER="figjam_try_footer_banner",e.FIGJAM_TRY_FOOTER_BANNER_CONTINUE_WITH_GOOGLE="figjam_try_footer_banner_continue_with_google",e))(T||{});let S=Object.values(I).concat(Object.values(T)),w="/api/session/google_auth/signin",A="google_one_tap_login",C=(0,f.D)(()=>new Promise((e,t)=>{document.cookie=v+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";let r=(0,i.FJ)("/start_google_sso","","width=600,height=600");if(null===r){(0,n.sx)("GoogleSSOError",{step:"window-not-found"}),t(Error((0,h.t)("auth.google-sso.unable-to-get-info")));return}window.setTimeout(function i(){let a=(0,l.OS)(document.cookie,v);if(null!==a){let r=JSON.parse(a);document.cookie=v+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",r.token?e(r):((0,n.sx)("GoogleSSOError",{step:"token-not-found"}),t(Error((0,h.t)("auth.google-sso.unable-to-get-info"))))}else r.closed?((0,n.sx)("GoogleSSOError",{step:"cookie-not-found"}),t(Error((0,h.t)("auth.google-sso.unable-to-get-info")))):window.setTimeout(i,250)},250)}));async function N(e,t){let r=await C();return await k(r,{dispatch:e,apiUrl:"/api/session/google_auth/signin_or_signup",origin:t})}async function O({dispatch:e,shouldDelayExtraInfoStep:t,origin:r}){let n=await C();return await k(n,{dispatch:e,apiUrl:w,shouldDelayExtraInfoStep:!!t,origin:r})}function L(e,t,r){(0,d.g6)("google_sso_login_redirect_attempt",r,{fromMsTeams:t}),document.cookie=v+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";let n=JSON.stringify({apiUrl:w,redirectPath:e});document.cookie=`${v}=${encodeURIComponent(n)}; path=/`;let i=t?o.Ay.unsafeRedirectMsTeams:o.Ay.redirect,a="/start_google_sso?should_use_redirect_instead=1";t&&(a+="&from_ms_teams=1"),i(a)}async function R(e,t,r){let n=await C();return await k(n,{dispatch:e,apiUrl:w,origin:t,showExtraInfoModalCb:r})}function P(e,t){t(c.I.setGoogleIdToken({googleIdToken:e.token})),t(c.I.setGoogleTokenType({googleTokenType:e.tokenType})),t(c.I.changeName({value:e.name}))}function k(e,{dispatch:t,apiUrl:r,origin:i,showExtraInfoModalCb:l,shouldDelayExtraInfoStep:f,__TEST_ONLY_markDone:v}){return new Promise(async(T,w)=>{var A,C,N,O,L;try{let{data:a}=await function(e,t){let r={name:t.name,token:t.token,token_type:t.tokenType,google_fed_cm_enabled:(0,y.kc)().google_federated_cm??!1};return s.Ay.post(e,r)}(r,e);t(_.s.flash((0,h.t)("auth.sign-in-success",{email:a.meta.email}))),a.meta&&a.meta.email_domain_type?((0,n.sx)("Sign Up (GTM)",{isWorkEmail:(0,E.iE)(a)}),await (0,m.p)("sign_up_google_sso")):((0,n.sx)("google_sso",{eventSubtype:"google_sso_success_signin",user_id:null==(A=null==a?void 0:a.meta)?void 0:A.id,origin:i}),await (0,m.p)("sign_in_google_sso")),T(a.meta)}catch({data:s}){let r=(0,h.Jv)({data:s},null==s?void 0:s.message);if(i&&Object.values(I).includes(i)&&(0,d.g6)("google_one_tap_login_error",i,{error:r}),r===(0,h.t)("auth.error.account-not-found")){if((0,y.kc)().antispam_arkose_google_signup&&(0,y.tl)().do_arkose){let r;(r=f?c.I.googleSignupSkipExtraInfo:c.I.signUpExtraInfoGoogle,null!=i&&S.includes(i))?(t(c.I.init({origin:i,formState:u.qB.SIGN_UP,redirectUrl:o.Ay.location.pathname})),t(g.to({type:p.a,data:{}}))):(null==(O=null==(N=null==(C=a.D)?void 0:C.getState())?void 0:N.modalShown)?void 0:O.type)!==p.a&&(0,d.MZ)()&&(0,b.xi)("authenticate_google_user","Skipped launching auth modal before arkose verification",{auth_origin:i},{reportAsSentryError:!0,modeEventName:"google_sso_skipped_launching_auth_modal"}),P(e,t),t(c.I.showForm({formState:u.qB.VERIFY_HUMAN,prevState:u.qB.SIGN_UP,postVerificationAction:r}))}else f?f?(P(e,t),t(c.I.googleSignupSkipExtraInfo())):(0,n.sx)("google_sso",{eventSubtype:"google_sso_unexpected_state_no_callback",user_id:null==(L=null==s?void 0:s.meta)?void 0:L.id,origin:i}):(l?l():t(c.I.showForm({formState:u.qB.SIGN_UP_EXTRA_INFO})),P(e,t));null==v||v()}else w(Error(r||(0,h.t)("auth.google-sso.unable-to-auth")))}})}},939683:(e,t,r)=>{"use strict";r.d(t,{IL:()=>c,NV:()=>u,U:()=>l,am:()=>s,iT:()=>d});var n=r(411855),i=r(188507),a=r(126049),o=r(988022);function l(){let e=(0,i.Pj)();return n.useCallback((t,r,n)=>{var i;let a=e.getState();(0,o.ds)(t,null==(i=a.openFile)?void 0:i.key,a,r,n)},[e])}function s(){let e=(0,i.Pj)();return n.useCallback((t,r)=>{var n;let i=e.getState(),a=null==(n=i.openFile)?void 0:n.key,l=i.user&&i.user.id;(0,o.ds)(t,a,i,{userId:l,...r})},[e])}function c(){let e=(0,i.Pj)();return n.useCallback((t,r)=>{var n;let i=e.getState(),a=null==(n=i.openFile)?void 0:n.key,l=i.mirror.appModel.currentPage;(0,o.ds)(t,a,i,{pageId:l,...r})},[e])}function d(){let e=(0,i.Pj)();return n.useCallback((t,r)=>{let n=e.getState(),i=n.currentUserOrgId??"";(0,o.Fr)(t,i,n,{...r})},[e])}function u(e){let t=d();return(0,a.A)(t,e,{leading:!0,trailing:!1})}},981952:(e,t,r)=>{"use strict";r.d(t,{P:()=>i,R:()=>a});var n=r(411855);function i(e){(0,n.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function a(e){let[t,r]=(0,n.useState)(window.innerWidth<=e);return i(n=>{n.width<=e&&!t?r(!0):n.width>e&&t&&r(!1)}),t}},963490:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var n=r(411855),i=r(358145);function a(e){let[t,r]=(0,n.useState)(e?1:0),a=(0,i.ZC)(e);return(0,n.useEffect)(()=>{!1===a&&e&&r(e=>e+1)},[a,e]),t}},622422:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(358145);function i(e){let t=(0,n.ZC)(e);return e!==t}},602126:(e,t,r)=>{"use strict";r.d(t,{Xq:()=>i,ww:()=>a});var n=r(411855);function i(e,t,r){var i;return i=[e.current],n.useEffect(()=>{function e(e){i.some(t=>t&&t.contains(e.target))||r(e)}return document.addEventListener(t,e),()=>{document.removeEventListener(t,e)}},[t,r,i]),e}function a(e,t){return i(e,"mousedown",t)}},18519:(e,t,r)=>{"use strict";r.d(t,{G:()=>l});var n=r(38580),i=r(374626);let a=(0,n.eU)(window.scrollY);window.addEventListener("scroll",()=>{i.zl.set(a,window.scrollY)});let o=(0,n.eU)(e=>0===e(a));function l(){return(0,i.md)(o)}},179479:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var n=r(411855);function i(e){let t=(0,n.useRef)(e);return t.current=e,t}},22332:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,j:()=>a});var n=r(411855);function i(e){let[t,r]=(0,n.useState)(()=>matchMedia(e).matches);return(0,n.useEffect)(()=>{let t=matchMedia(e),n=e=>{r(e.matches)};return t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}},[e]),t}function a(){return i("(prefers-reduced-motion: reduce)")}},62935:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(411855);function i(e){let t=(0,n.useRef)(null);return(0,n.useImperativeHandle)(e,()=>t.current),t}},663668:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,U:()=>l});var n=r(296210),i=r.n(n);function a(e){var t;if(!e)return"";try{let r=e.replace(/<br>|<\/p>|<\/h2>|<\/li>/g,"$&\n"),n=o(r);return(null==(t=new DOMParser().parseFromString(n,"text/html").documentElement.textContent)?void 0:t.trim())??""}catch(e){return console.error(e),""}}let o=(()=>{let e;return t=>(e||(e=i()()),e.sanitize(t))})();function l(e){return e?e.replace(/[&"'<>]/g,e=>{switch(e){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return e}}):""}},404843:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});let n=(0,r(38580).eU)(!1)},300785:(e,t,r)=>{"use strict";r.d(t,{N_:()=>o,Rc:()=>i,Rg:()=>l,qr:()=>s,r:()=>a,vS:()=>n});var n=(e=>(e.MINUTES="minutes",e.HOURS="hours",e.DAYS="days",e))(n||{});let i=60,a=3600,o=86400,l="on-idle-timeout-logged-in-ipc-key";function s(e){return e<a?[e/60,"minutes"]:e<o?[e/3600,"hours"]:e%o==0?[e/86400,"days"]:[e/3600,"hours"]}},966712:(e,t,r)=>{"use strict";r.d(t,{AU:()=>R,Ay:()=>P,DC:()=>b,DZ:()=>g,Hk:()=>E,IX:()=>T,Lz:()=>k,O_:()=>w,Uv:()=>L,W4:()=>N,YG:()=>S,b5:()=>A,bg:()=>O,gq:()=>s,kc:()=>m,mV:()=>f,mm:()=>D,sL:()=>C,sj:()=>y,tl:()=>v,u4:()=>h,w0:()=>_});var n,i=r(667536),a=r(443259),o=r(479296),l=r(179940);let s={disable_personal:!0,teams:[],team_users:[],roles:[],orgs:[],org_drafts_owners:[],user_favorite_fonts:[],is_free_user:!0,is_starter_user:!0},c={...JSON.parse(JSON.stringify(v().feature_flags||{}))},d=JSON.parse(JSON.stringify(v().launchdarkly_client_flags||{})),{zoom_client_user_agent:u}=v();u&&function(e,t){if(e.navigator.userAgent!==t){let r={get:function(){return t}};try{Object.defineProperty(e.navigator,"userAgent",r)}catch(t){e.navigator=Object.create(navigator,{userAgent:r})}}}(window,u),Object.freeze(c),Object.freeze(d);let p=JSON.parse(JSON.stringify(v().experiments||{}));Object.freeze(p);let m=(0,o.D)(()=>c);function _(){return d}function h(e,t,r){return m()[e]?t:r}function g(){return p}function f(e){return p[e]}(n||(n={})).withFeatureFlag=function(e,t){if(m()[e])return t;let r=e=>null;return r.displayName="",r};let E=e=>{self.INITIAL_OPTIONS={...self.INITIAL_OPTIONS,editing_file:e}},y=()=>{self.INITIAL_OPTIONS={...self.INITIAL_OPTIONS,payment_flow_data:null}};function b(){return v().payment_flow_data}function v(){return window.INITIAL_OPTIONS||{}}function I(e){Object.defineProperty(v(),e,{writable:!1,configurable:!1})}function T(){return"local"===v().cluster_name}function S(){return"staging"===v().cluster_name}function w(){return"prod"===v().cluster_name}function A(){var e;return T()||S()||(null==(e=v().cluster_name)?void 0:e.startsWith("devenv"))||"gov-staging"===v().cluster_name}function C(){let e=v().cluster_name;return"gov"===e||"gov-staging"===e}function N(){return C()?"support-figgov@figma.com":"support@figma.com"}function O(){return v().consent_region}function L(){return function(e){switch(e){case"staging":return e;case"prod":return"production";case"gov":return"gov-prod";case"gov-staging":return"gov-staging";default:return"development"}}(v().cluster_name||"")}function R(){var e;return(null==(e=v().editing_file)?void 0:e.editor_type)??void 0}I("jubilee"),I("index_v3");let P=v,k="https://fakepath.figma.com";function D(){let e=[(0,a.$e)(),(0,a.bQ)()];for(let t=0;t<e.length;t++){let r=e[t];if(r){let e=(0,l.qg)(r);if(e.locale)return(0,a.$W)(e.locale)}}let t=(0,a.Np)();if(t){let e=t.split("/")[1];if(e&&i.Up.includes(e))return(0,a.$W)(e)}let{user_data:r}=v();return(null==r?void 0:r.locale)&&(null==r?void 0:r.locale)!==i.Xn?[null==r?void 0:r.locale,i.Xn]:[i.Xn]}},259829:(e,t,r)=>{"use strict";r.d(t,{F5:()=>s,SI:()=>m,fF:()=>p,hs:()=>d,yA:()=>c});var n=r(966712),i=r(563706),a=r(270499),o=r(898148);let l=window.location.pathname;function s(e){return e.startsWith("/proto/")}function c(e){return e.startsWith("/embed/")}function d({isDesign:e,isDesignPrototypeViewer:t,isDevMode:r,isEmbed:n,isFigjam:i,isFigjamPagesInFigjam:a,isFigjamUi3LabEnabled:o,isMobileDevice:l,isSites:s,isSlides:c,isUi3ExpNonDesignLabEnabled:d,isUi3LabEnabled:u,isVSCodeExtension:p}){return!!c||!!s||!p&&((e||r)&&!t&&!n?u:i?o&&a&&(d||!l):u&&d)}function u(e){return d(e)?"ui3":"ui2"}function p(){let e=(0,n.AU)();return u({isDesign:"design"===e,isDesignPrototypeViewer:s(l),isDevMode:"design"===e,isEmbed:c(l),isFigjam:"whiteboard"===e,isFigjamPagesInFigjam:g("figjam_pages_in_figjam"),isFigjamUi3LabEnabled:(0,a.Y)({trueOverrideUserFlag:h("unified_index_v3_figjam_endpoint_override_true"),falseOverrideUserFlag:h("unified_index_v3_figjam_endpoint_override_false"),canOverride:g("unified_index_v3_figjam_endpoint"),defaultValue:g("unified_index_v3_figjam_default")}),isMobileDevice:i.Xb,isSites:"sites"===e,isSlides:"slides"===e,isUi3ExpNonDesignLabEnabled:(0,a.Y)({trueOverrideUserFlag:h("unified_index_v3_exp_override_true"),falseOverrideUserFlag:h("unified_index_v3_exp_override_false"),canOverride:g("unified_index_v3_exp"),defaultValue:g("unified_index_v3_exp_default")}),isUi3LabEnabled:_(),isVSCodeExtension:!1})}function m(){return u({isDesign:!0,isUi3LabEnabled:_(),isDesignPrototypeViewer:!1,isDevMode:!1,isEmbed:!1,isFigjam:!1,isFigjamPagesInFigjam:!1,isFigjamUi3LabEnabled:!1,isMobileDevice:!1,isSites:!1,isSlides:!1,isUi3ExpNonDesignLabEnabled:!1,isVSCodeExtension:!1})}function _(){return(0,a.Y)({trueOverrideUserFlag:h(o.pU),falseOverrideUserFlag:h(o.EM),canOverride:(0,o.kv)(),defaultValue:(0,o.Mx)()})}function h(e){var t;for(let r of(null==(t=(0,n.Ay)())?void 0:t.user_flags)||[])if(r.name===e)return!0;return!1}function g(e){return!0===(0,n.kc)()[e]}},374626:(e,t,r)=>{"use strict";r.d(t,{An:()=>A,E2:()=>I,E3:()=>v,FZ:()=>f,Hj:()=>y,Iz:()=>w,LJ:()=>h,M2:()=>g,S_:()=>T,fp:()=>_,md:()=>m,p6:()=>S,xP:()=>b,yu:()=>E,zl:()=>p});var n=r(411855),i=r(38580),a=r(646240),o=r(288706),l=r(841563),s=r.n(l),c=r(297666),d=r(614255),u=r(286640);let p=new class{constructor(){this.jotaiAtomStore=(0,i.y$)(),this.unsubscribeCallbacks=new Set,this.rerenderAtomsProviders=new Set}get(e){return this.jotaiAtomStore.get(e)}set(e,...t){return this.jotaiAtomStore.set(e,...t)}sub(e,t,r={}){let n=!1,i=()=>{n||(n=!0,Promise.resolve().then(()=>{n=!1,t()}))},a=this.jotaiAtomStore.sub(e,()=>{try{r.batchMicrotask?i():t()}catch(e){throw console.error(e),e}});return this.unsubscribeCallbacks.add(a),()=>{a(),this.unsubscribeCallbacks.delete(a)}}resetForTests(){for(let e of this.unsubscribeCallbacks)e();for(let e of(this.jotaiAtomStore=(0,i.y$)(),this.unsubscribeCallbacks=new Set,this.rerenderAtomsProviders))e();this.rerenderAtomsProviders=new Set}};function m(e,t){let r=(0,a.Pj)(),[[i,o,l],s]=n.useReducer(t=>{let n=r.get(e);return Object.is(t[0],n)&&t[1]===r&&t[2]===e?t:[n,r,e]},void 0,()=>[r.get(e),r,e]),c=r.get(e);(o!==r||l!==e)&&(s(),c=r.get(e));let u=(null==t?void 0:t.deferToFrame)??!1;return n.useEffect(()=>{let t;let n=r.sub(e,()=>{u?(void 0!==t&&cancelAnimationFrame(t),t=requestAnimationFrame(s)):s()});return s(),()=>{void 0!==t&&cancelAnimationFrame(t),n()}},[r,e,u]),n.useDebugValue(c),c instanceof Promise?(0,d.Y)(c):c}function _(e,t){return[m(e,t),(0,a.Xr)(e)]}function h(e,t){return(0,i.eU)(e=>t(e),(t,r,...n)=>r(e,...n))}function g(e,t=s()){return(0,i.eU)(t=>t(e),(r,n,i)=>{let a=r(e),o="function"==typeof i?i(a):i;t(a,o)||n(e,o)})}function f(e,t){return(0,i.eU)(t=>t(e),(r,n,i)=>{let a=t(r(e),i,r);n(e,a)})}function E(e,t){let r=null,n="write"in e?(0,i.eU)(t=>t(e),(t,r,...n)=>r(e,...n)):(0,i.eU)(t=>t(e));return n.onMount=n=>{let i;try{i=t({target:e,setSelf:n,onSet:e=>{r=e}})}catch(e){throw console.error(e),e}null==r||r(p.get(e));let a=p.sub(e,()=>{null==r||r(p.get(e))});return()=>{null==i||i(),a()}},n}function y(e,t){return E(e,({onSet:e})=>{e(t)})}function b(e){let t={past:[],present:e,future:[]},r=(0,i.eU)(t),n=(0,i.eU)(e=>e(r).present,(e,t,n)=>{let{past:i,present:a}=e(r);n!==a&&t(r,{past:i.concat(a),present:n,future:[]})});return{valueAtom:n,undoAtom:(0,i.eU)(e=>e(r).past.length>0,(e,t)=>{let{past:n,present:i,future:a}=e(r);n.length>0&&t(r,{past:n.slice(0,n.length-1),present:n[n.length-1],future:[i].concat(a)})}),redoAtom:(0,i.eU)(e=>e(r).future.length>0,(e,t)=>{let{past:n,present:i,future:a}=e(r);a.length>0&&t(r,{past:n.concat(i),present:a[0],future:a.slice(1)})}),historyAtom:(0,i.eU)(e=>{let{past:t,present:n,future:i}=e(r);return t.concat(n).concat(i)},(e,n)=>n(r,t))}}function v(e,t,{subscribeToChanges:r}={subscribeToChanges:!1},{debounceTime:n,stringify:a=JSON.stringify,parse:l=JSON.parse}={}){function s(){let r=(0,u.TQ)();if(r){let t=r.getItem(e);if(null!=t)try{let e=l(t);if(void 0!==e)return e}catch(e){}}return t}let d=(0,o.t_)(()=>s()),p=(()=>{let t=t=>{let r=(0,u.TQ)();r&&r.setItem(e,a(t))};return null==n?t:(0,c.s)(t,n)})(),m=(0,i.eU)(e=>e(d),(e,t,r)=>{t(d,r),p(e(d))});return r?E(m,({setSelf:t})=>{let r=r=>{r.key===e&&t(()=>s())};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)}):m}function I(e,t,r){let n=v(e,t);return(0,i.eU)(e=>{let i=e(n);return r(i)?i:t},(e,t,r)=>t(n,r))}function T({get:e,subscribe:t}){let r=(0,i.eU)(0),n=()=>p.set(r,e=>e+1),a=()=>Promise.resolve().then(n),o=!1;return r.onMount=()=>{o=!0;let e=t(n);return()=>{o=!1,e(),a()}},(0,i.eU)(t=>(t(r),o||a(),e()))}function S(e,t){var r;return r=(0,i.eU)(r=>{let n=[];for(let t=0;t<e.length;t++)n[t]=r(e[t]);return t(...n)}),(0,o.mg)(r,e=>e,s())}function w(e,t){let r=(0,o.Iz)(e,t);return r.removeAll=()=>{r.setShouldRemove(()=>!0),r.setShouldRemove(null)},r}function A(e){let[t,r]=n.useState(0);return n.useEffect(()=>{let e=()=>r(t+1);return p.rerenderAtomsProviders.add(e),()=>{p.rerenderAtomsProviders.delete(e)}}),n.createElement(a.Kq,{store:p.jotaiAtomStore},e.children)}},588169:(e,t,r)=>{"use strict";r.d(t,{As:()=>_,CZ:()=>E,Cg:()=>b,GP:()=>I,Ug:()=>m,dZ:()=>g,rd:()=>y,v7:()=>v,xt:()=>T});var n=r(286640),i=r(939863),a=r(22774),o=r(988022),l=r(356390),s=r(852800),c=r(38329),d=r(187623),u=r(27087);let p="keyboardLayoutPreference",m="keyboardLayoutPreference";function _(e){switch(e){case s.aTn.US_QWERTY:return(0,i.t)("keyboard_settings.us_qwerty");case s.aTn.DVORAK:return(0,i.t)("keyboard_settings.us_dvorak");case s.aTn.GERMAN:return(0,i.t)("keyboard_settings.german_qwertz");case s.aTn.FRENCH_AZERTY:return(0,i.t)("keyboard_settings.french_azerty");case s.aTn.HIRAGANA_KANA:return(0,i.t)("keyboard_settings.japanese_kana");case s.aTn.UK_MAC:return(0,i.t)("keyboard_settings.uk_mac");case s.aTn.UK_PC:return(0,i.t)("keyboard_settings.uk_pc");case s.aTn.SWEDISH:return(0,i.t)("keyboard_settings.swedish");case s.aTn.DANISH:return(0,i.t)("keyboard_settings.danish");case s.aTn.NORWEGIAN:return(0,i.t)("keyboard_settings.norwegian");case s.aTn.ITALIAN:return(0,i.t)("keyboard_settings.italian");case s.aTn.SPANISH:return(0,i.t)("keyboard_settings.spanish");case s.aTn.FINNISH:return(0,i.t)("keyboard_settings.finnish");case s.aTn.SPANISH_LATAM:return(0,i.t)("keyboard_settings.spanish_latin_america");case s.aTn.CHINESE:return(0,i.t)("keyboard_settings.chinese");case s.aTn.PORTUGUESE:return(0,i.t)("keyboard_settings.portuguese");case s.aTn.KOREAN:return(0,i.t)("keyboard_settings.korean");case s.aTn.UNKNOWN:return(0,i.t)("keyboard_settings.default_unknown")}}let h=new Map(Object.entries(s.aTn).map(([e,t])=>[e,t])),g=new Map(Object.entries(s.aTn).map(([e,t])=>[t,e]));function f(e){let[t]=e.split(":"),r=h.get(t);return t&&r?{layout:r}:{layout:s.aTn.UNKNOWN}}function E(e){try{let t=c.D.getState();(0,o.uE)("keyboard_layout_preference",t,{layout:s.aTn[e.layout],eventName:e.eventName,detectedLayout:e.detectedLayout,detectedLayoutStr:e.detectedLayoutStr})}catch(e){}}function y({layout:e}){if(!n.x4)return;let t=s.aTn[e];n.x4.setItem(p,t),new d.P().sendToOtherTabs(m,t),E({layout:e,eventName:"user_manual_change"}),s.glU.reloadShortcuts(e),u.Ay.put("/api/user",{keyboard_preference:s.aTn[e],keyboard_preference_method:"manual"})}function b(e){if(!n.x4)return;n.x4.setItem(p,e);let{layout:t}=f(e);l.Y5&&l.Y5.isReady()&&s.glU.reloadShortcuts(t)}function v(){return function(){var e;if(n.x4){let e=n.x4.getItem(p);if(null!=e)return f(e)}if(!c.D)return{layout:s.aTn.UNKNOWN};let t=null==(e=c.D.getState().user)?void 0:e.keyboard_layout,r=h.get(t);if(!t||!r)return{layout:s.aTn.UNKNOWN};let i=t?r:s.aTn.UNKNOWN;return b(s.aTn[i]),{layout:i}}().layout}function I(){return Object.keys(s.aTn)}function T(){return 0===I().length?[]:[{name:"keyboard-layout-menu-option",callback:(e,t,r)=>{r(a.FU({tab:"layout"})),l.Y5.triggerAction("toggle-keyboard-shortcuts")}}]}},309225:(e,t,r)=>{"use strict";let n;r.d(t,{Ek:()=>F,MV:()=>L,RI:()=>U,S6:()=>H,S8:()=>B,WB:()=>R,ZA:()=>P,ap:()=>x,oD:()=>k,oS:()=>M});var i=r(411855),a=r(443683),o=r(138020),l=r(772824),s=r(776250);r(942456);var c=r(966712),d=r(499737),u=r(382652),p=r(200060),m=r(816440),_=r(616457),h=r(672715),g=r(279453),f=r(479296),E=r(517333),y=r(179587),b=r(391373),v=r(391388),I=r(776621),T=r(30637),S=r(743282);function w(){return d.ZJ.get()}let A=null,C=new u.K,N=new m.n,O=[g.wZi,g.ib2,g.$kt,g.w2r];function L(e){var t;let r=w();if(r){if(e===A||(0,T.nl)()||(0,T.Lg)())return r;(0,I.x1)("livegraph","userId changed after livegraph client creation. userId == null",{before:null==A,after:null==e}),r.close()}A=e;let n=window.LGEarlyWS;delete window.LGEarlyWS,t=function(e,t){var r;let n=!!(0,c.kc)().livegraph_connect_next,i=E.eD?"desktop":"web",l=new URLSearchParams((0,c.Ay)().page_load_token);l.append("userId",e||""),l.append("anonUserId",(0,c.Ay)().anonymous_user_id||""),l.append("clientType",i),l.append("clientUrl",document.URL);let s=(0,c.Ay)().release_manifest_git_commit||"missing";l.append("commitHash",s),l.append("preload",JSON.stringify((0,c.Ay)().livegraph_preload_views??{}));let d=(0,c.Ay)().figma_url,u=(0,p.o)(d,n,l.toString()),m=[],h=[];for(let[e,t]of Object.entries((0,c.Ay)().livegraph_preload_views??{})){let r=O.find(t=>t._name===e);r&&(t.hash===r._hash||"development"===t.hash)&&(m.push(r),h.push(t.args))}let g={tags:{commitHash:s,clientType:i},document,enableCrossViewIncompleteInstanceCheck:(0,c.kc)().livegraph_check_incomplete_view,preloadedViews:m,preloadedViewArgs:h,useIsLoadedOptimization:null==(r=(0,c.w0)().livegraph_hot_path_optimizations)?void 0:r.useIsLoadedOptimization,shouldBubbleUpNonNullableResultErrors:(0,c.w0)().livegraph_nonNullableResult_errors_bubble_up},f=new o.Sj(a.A),v=new o.iO(a.A.views,f),I=t||null,T=new o.Oh({userId:e},f,v,u,t?function(e){if(!I||I.readyState===WebSocket.CLOSED||I.readyState===WebSocket.CLOSING)return new WebSocket(e);let t=I;return t.url!==e?(console.warn(`Expecting to use an early socket for livegraph, urls don't match. Expected: ${t.url} Found: ${e}`),new WebSocket(e)):(I=null,t)}:e=>new WebSocket(e),g),S=new _.Iu(T,{connect_next:n?"true":"false"}),{livegraph_update_slo_client_frequency:w,livegraph_sessions_capturing_update_slo_percent:A,livegraph_update_slo_failure_threshold:L}=(0,c.w0)(),R=new b.x(T,w,L);Math.random()<A&&setTimeout(()=>R.startMeasureLoop(),6e4*Math.random()+5e3);let{livegraph_response_sampling_rate:P}=(0,c.w0)(),k=new y.o(e,P);T.addEventListener(e=>{C.logEvent(e),N.logEvent(e),S.onEvent(e),k.onEvent(e)});for(let e=0;e<((null==m?void 0:m.length)??0);e++){let t=m[e],r=h[e];S.onEvent({type:"SUBSCRIBE_VIEW_CLIENT",view:t,args:r}),S.onEvent({type:"SUBSCRIBE_VIEW_SERVER",view:t,args:r})}return T}(e,n),d.ZJ.set(t);let i=(0,g.XRH)(),l=w();return window.LIVEGRAPH={client:l,logger:C,viewBindings:i,subscribeForDebugging:(e,t)=>{let r=i.find(t=>t._name===e);if(!r){console.warn(`View ${e} not found`);return}l.subscribe(r,t,e=>{console.log(e)})}},(0,h.ZO)("LiveGraph connection",async()=>{await w().connect()}),w()}function R(){return w()}function P(){return(0,d.Vo)().client}function k({userId:e=null,children:t}){i.useLayoutEffect(()=>{if(void 0!==n&&e!==n&&!(0,T.Lg)()&&!(0,T.nl)())throw Error("Only a single userId should be provided to LivegraphProvider at any time");return n=e,()=>{n=void 0}},[e]);let r=i.useMemo(()=>L(e),[e]),[a,o]=i.useState(r);return i.useEffect(()=>(d.ZJ.addListener(o),()=>{d.ZJ.removeListener(o)}),[o]),i.createElement(d.DT,{value:{client:a}},t)}class D{constructor(e,t,r){this.viewArgs=e,this.traceId=(0,S.g)(),this.errors=null,this._isLoading=!0,this.timer=new _.M4({onTimeout:()=>t(this),timeoutMs:r})}finish(){this._isLoading=!1,this.timer.finish()}get timeElapsedMs(){return this.timer.getTime()}get wasBackgrounded(){return this.timer.backgrounded}get wasOffline(){return this.timer.wasOffline}get isLoading(){return this._isLoading}}function M(e,t,r){var n;let a=i.useRef(null),l=!1!==r.enabled,s=r.subscriptionLogger,c=i.useRef(t),u=a.current;!a.current&&l&&(a.current=new D(t,e=>s.onEvent("stuck",m,e),s.stuckMs));let p=l?a.current.traceId:void 0,m=(0,d.Rs)(e,t,{enabled:l,traceId:p});if(null===u&&l&&s.onEvent("initiated",m,a.current),!(0,o.lw)(t,c.current)){let e=new D(t,e=>s.onEvent("stuck",m,e),s.stuckMs);(null==(n=a.current)?void 0:n.isLoading)&&(a.current.finish(),s.onEvent("canceled",m,a.current,{nextTraceId:e.traceId})),a.current=e,s.onEvent("initiated",m,a.current),c.current=t}return i.useEffect(()=>{var e,t;"loaded"===m.status?(null==(e=a.current)?void 0:e.isLoading)&&(a.current.finish(),s.onEvent("loaded",m,a.current)):"errors"===m.status&&(null==(t=a.current)?void 0:t.isLoading)&&(a.current.finish(),a.current.errors=m.errors,s.onEvent("error",m,a.current))},[m,m.errors,m.status,s]),i.useEffect(()=>()=>{var e;(null==(e=a.current)?void 0:e.isLoading)&&(a.current.finish(),s.onEvent("canceled",m,a.current))},[]),m}function x(e,t,r={}){let n=i.useRef(window.performance.now()),a=i.useRef(!1);i.useEffect(()=>{if(!a.current&&"loading"!==e.status&&"disabled"!==e.status){let i=window.performance.now();(0,s.sx)(t,{...r,durationMs:i-n.current,status:e.status}),a.current=!0}},[r,t,e.status])}function F(e,t){return new Promise((r,n)=>{let i=w(),a=null==i?void 0:i.subscribe(e,t,e=>{"loaded"===e.status?(r(v.Qw.from(e)),setTimeout(()=>null==a?void 0:a())):e.errors&&(n(e.errors),setTimeout(()=>null==a?void 0:a()))})})}let U=(0,f.n)((e,t)=>new Promise(r=>{let n=w(),i=null==n?void 0:n.subscribe(e,t,e=>{r(e.status),null==i||i()})}));function B(e,t){return new Promise((r,n)=>{let i=w();if(!i){n(Error("Livegraph client not available"));return}let a=new l.A(i);i.subscribeAndUnsubscribeInBatches(e,t,a,e=>{e.every(e=>"loaded"===e.result.status||e.result.errors)&&(r(e),a.clearSubscriptions())})})}function H(){let e=C.startRecording();return()=>e?C.stopRecording(e):[]}},499737:(e,t,r)=>{"use strict";r.d(t,{DT:()=>m,Dj:()=>o.D,Rs:()=>g,Vo:()=>_,Wk:()=>y,Xm:()=>d.Xm,Ym:()=>E,ZJ:()=>d.ZJ,e1:()=>d.e1,gB:()=>d.gB,lQ:()=>u.lQ,lw:()=>i.lw,oA:()=>u.oA,p:()=>f,tT:()=>s.tT});var n=r(411855),i=r(138020),a=r(772824),o=r(525763),l=r(560512),s=r(772841),c=r(391388),d=r(349894),u=r(866206);let p=n.createContext(null),m=p.Provider;function _(){let e=n.useContext(p);if(!e)throw Error("Tried to use useSubscription outside a LiveGraph context provider");return e}function h(e){return!e.hasOwnProperty("enabled")||!!e.enabled}function g(e,t,r={}){let a=h(r),[o,s]=n.useState(a?d.F5:l.F4),u=_(),[p,m]=n.useState(t),g=r.traceId,f=o;return u.mock&&(f=u.mock.useSubscription(e,t)),(0,i.lw)(t,p)||(m(t),s(f=a?d.F5:l.F4)),n.useEffect(()=>{var t;if(u.mock)return;if(!1===a){s(l.F4);return}let r=null==(t=u.client)?void 0:t.subscribe(e,p,e=>{s(e)},g);return()=>{null==r||r()}},[a,p,u.client,u.mock,e,g]),n.useMemo(()=>c.Qw.from(f),[f])}function f(e,t,r={}){let i=_(),o=h(r),[s]=n.useState(()=>new a.A(i.client)),[u,p]=n.useState(()=>t.map(e=>({args:e,result:o?d.F5:l.F4})));return n.useLayoutEffect(()=>{var r;if(!1===o){p(e=>e.map(({args:e})=>({args:e,result:l.F4})));return}null==(r=i.client)||r.subscribeAndUnsubscribeInBatches(e,t,s,e=>{p(e)})},[o,t,s,i.client,e]),n.useLayoutEffect(()=>()=>{s.clearSubscriptions()},[s]),n.useMemo(()=>u.map(({args:e,result:t})=>({result:c.Qw.from(t),args:e})),[u])}function E(){let e=_(),[t,r]=n.useState(e.client?e.client.getHealthStatus():o.D.DISCONNECTED),i=e=>r(e);return n.useEffect(()=>{if(null!==e.client)return e.client.addHealthListener(i)},[e]),t}function y(e){return{status:s.tT.Loaded,data:e}}},286098:(e,t,r)=>{"use strict";r.d(t,{A2:()=>a,Nc:()=>p,QJ:()=>o,XJ:()=>c,ad:()=>s,f2:()=>u,h7:()=>l,zb:()=>d});var n=r(99506),i=r(499737);function a(e){var t;return(null==e?void 0:e.file)?{key:e.fileKey,name:e.file.name,editor_type:e.file.editorType,folder_id:e.file.folderId,team_id:e.file.teamId,parent_org_id:e.file.parentOrgId,file_repo_id:e.file.fileRepoId,source_file_key:e.fileKey,has_proto_link_password:e.file.hasProtoLinkPassword,proto_link_access:e.file.protoLinkAccess,created_at:e.file.createdAt.toString(),trashed_at:(null==(t=e.file.trashedAt)?void 0:t.toString())||null,prototype_url:(0,i.oA)(e.file.prototypeUrl)||""}:null}function o(e){return e.file&&e.file.repo?{id:e.file.fileRepoId??"",name:e.file.name,folder_id:e.file.folderId??"",default_file_key:e.file.key,deleted_at:e.file.repo.deletedAt&&e.file.repo.deletedAt.toString(),trashed_at:e.file.repo.trashedAt&&e.file.repo.trashedAt.toString(),created_at:e.file.repo.createdAt.toString(),updated_at:e.file.repo.updatedAt.toString(),team_id:e.file.teamId,link_access:e.file.repo.linkAccess,proto_link_access:e.file.repo.protoLinkAccess,has_file_link_password:e.file.repo.hasFileLinkPassword,has_proto_link_password:e.file.repo.hasProtoLinkPassword,org_audience:e.file.repo.orgAudience,org_browsable:e.file.repo.orgBrowsable,parent_org_id:e.orgId,has_active_branches:e.file.repo.hasActiveBranches}:null}function l(e){return{id:e.key,key:e.key,name:e.name,fileRepoId:e.file_repo_id,editorType:e.editor_type,folderId:e.folder_id,teamId:e.team_id,hasFileLinkPassword:!1,thumbnailUrl:e.thumbnail_url||"",thumbnailUrlOverride:e.thumbnail_url_override||"",thumbnailGuid:e.thumbnail_guid||null,clientMeta:e.client_meta,canView:!0,library:{numComponents:e.last_published_at?1:0,numStyles:0,numStateGroups:0,numVariableSets:0},repo:{id:e.file_repo_id||"",name:"",createdAt:new Date,deletedAt:new Date,trashedAt:null,updatedAt:new Date,linkAccess:e.link_access,protoLinkAccess:e.proto_link_access,hasFileLinkPassword:!1,hasProtoLinkPassword:!1,orgAudience:null,orgBrowsable:!0,hasActiveBranches:!1},project:null,isTeamTemplate:e.is_team_template||!1,checkpointClientMeta:""}}function s(e,t,r,i){return{userId:t,resourceType:n.bk.FOLDER,orgId:r??null,teamId:e.team_id??null,sidebarSectionId:i??null,createdAt:new Date,updatedAt:new Date,resourceId:e.id,project:{id:e.id,path:e.path,orgId:r,teamId:e.team_id,updatedAt:new Date(e.updated_at),createdAt:new Date(e.created_at),deletedAt:null!=e.deleted_at?new Date(e.deleted_at):null,viewOnlyAt:e.is_view_only?new Date:null,inviteOnlyAt:e.is_invite_only?new Date:null,canEdit:!1,description:e.description,team:{id:e.team_id??"",orgId:r,name:"",licenseGroup:{name:""},studentTeamAt:null,eduGracePeriod:{id:"",isValid:!1},restrictionsList:[],subscription:n.Qh.OK,gracePeriodEnd:null,canEdit:!1,canAdmin:!1}}}}function c(e,t,r,a){var o;return{userId:t,orgId:r??null,teamId:(null==(o=e.fig_file)?void 0:o.team_id)??null,sidebarSectionId:a??null,createdAt:new Date,updatedAt:new Date,resourceId:e.id??"",resourceType:n.bk.PROTOTYPE,prototype:{id:e.id||"unknown",name:e.name,fileKey:e.fig_file.key,pageId:e.page_id,thumbnailUrl:e.thumbnail_url,url:e.url,file:{parentOrgId:e.fig_file.parent_org_id||null,key:e.fig_file.key,folderId:e.fig_file.folder_id,teamId:e.fig_file.team_id,fileRepoId:e.fig_file.file_repo_id,hasProtoLinkPassword:e.fig_file.has_proto_link_password,name:e.fig_file.name,editorType:e.fig_file.editor_type,protoLinkAccess:e.fig_file.proto_link_access,createdAt:new Date(e.fig_file.created_at),trashedAt:e.fig_file.trashed_at?new Date(e.fig_file.trashed_at):null,prototypeUrl:{status:i.tT.Loaded,data:e.fig_file.prototype_url}}}}}function d(e,t,r,i){return{userId:t,orgId:r??null,sidebarSectionId:i??null,createdAt:new Date,updatedAt:new Date,resourceId:e.id,resourceType:n.bk.TEAM,teamId:null,team:{id:e.id,orgId:e.org_id,name:e.name,deletedAt:null,imgUrl:null,licenseGroup:null}}}function u(e,t,r,i){return{userId:t,orgId:r??null,teamId:e.team_id??null,sidebarSectionId:i??null,createdAt:new Date,updatedAt:new Date,resourceId:e.key,resourceType:n.bk.FILE,file:l(e)}}function p(e,t,r,i){return{userId:t,orgId:r??null,createdAt:new Date,updatedAt:new Date,resourceId:e.id,sidebarSectionId:i??null,resourceType:n.bk.WORKSPACE,workspace:e}}},538423:(e,t,r)=>{"use strict";r.d(t,{GC:()=>l,N7:()=>a,ff:()=>o});var n=r(935283),i=r(531664);function a(e,t){if(typeof e!=typeof t)return!1;if("object"!=typeof e)return e===t;let r={...e},n={...t};for(let e in r)e.startsWith("__IGNORE__")&&delete r[e];for(let e in n)e.startsWith("__IGNORE__")&&delete n[e];return(0,i.c2)(r,n)}function o(e){return{refetch:()=>{if(!e)return;let t=e({type:"refetch"});return(0,n.vA)(t instanceof Promise),t}}}function l(e){return{refetch:()=>{if(!e)return;let t=e({type:"refetch"});return(0,n.vA)(t instanceof Promise),t},fetchNextPage:t=>{if(!e)return;let r=e({type:"fetchNextPage",options:t});return(0,n.vA)(r instanceof Promise),r},fetchPreviousPage:t=>{if(!e)return;let r=e({type:"fetchPreviousPage",options:t});return(0,n.vA)(r instanceof Promise),r}}}},514943:(e,t,r)=>{"use strict";r.d(t,{H:()=>n,Kh:()=>o,aX:()=>i,uf:()=>a});let n=Symbol("__OPAQUE_RQ_QUERY__"),i=Symbol("__OPAQUE_RQ_PAGINATED_QUERY__");function a(e){return e.__OPAQUE_RQ_PAGINATED_QUERY__===i}function o(e){return e.__OPAQUE_RQ_QUERY__===n}},755887:(e,t,r)=>{"use strict";function n(e,t,r){return Math.min(Math.max(e,t),r)}function i(e,t,r){return e=null==t?e:Math.max(e,t),null==r?e:Math.min(e,r)}function a(e,t,r){return e+(t-e)*r}function o(e,t){if(e===t)return e;if(e>t)throw Error("random: start must be larger than end");return Math.random()*(t-e+1)+e}function l(e,t,r){let n=null!=t,i=n?t:e,a=n?e:0;r=null==r?Math.sign(i-a):r;let{result:o}=Array.from({length:Math.abs((i-a)/(r||1))}).reduce(({result:e,current:t})=>({result:[...e,t],current:t+r}),{current:a,result:[]});return o}function s(e,t){let r=[];for(let n=0;n<e;++n)r.push(t(n));return r}function c(e,t,r=1e-6){return Math.abs(e-t)<r}function d(e,t){return(e%t+t)%t}function u(e,t){return Math.round(e/t)*t}function p(e,t,r,n){let i;if(1e-8>Math.abs(e)){if(e=t,t=r,r=n,1e-8>Math.abs(e))return(e=t,t=r,1e-8>Math.abs(e))?[]:[-t/e];let i=t*t-4*e*r;return 1e-8>Math.abs(i)?[-t/(2*e)]:i>0?[(-t+Math.sqrt(i))/(2*e),(-t-Math.sqrt(i))/(2*e)]:[]}let a=(3*e*r-t*t)/(3*e*e),o=(2*t*t*t-9*e*t*r+27*e*e*n)/(27*e*e*e);if(1e-8>Math.abs(a))i=[Math.cbrt(-o)];else if(1e-8>Math.abs(o))i=[0].concat(a<0?[Math.sqrt(-a),-Math.sqrt(-a)]:[]);else{let e=o*o/4+a*a*a/27;if(1e-8>Math.abs(e))i=[-1.5*o/a,3*o/a];else if(e>0){let t=Math.cbrt(-o/2-Math.sqrt(e));i=[t-a/(3*t)]}else{let e=2*Math.sqrt(-a/3),t=Math.acos(3*o/a/e)/3,r=2*Math.PI/3;i=[e*Math.cos(t),e*Math.cos(t-r),e*Math.cos(t-2*r)]}}for(let r=0;r<i.length;r++)i[r]-=t/(3*e);return i}r.d(t,{Ae:()=>p,Cc:()=>a,KY:()=>i,M9:()=>s,YE:()=>u,_g:()=>d,qE:()=>n,xN:()=>c,y1:()=>l,yT:()=>o})},886653:(e,t,r)=>{"use strict";r.d(t,{UJ:()=>o,cm:()=>a,xx:()=>i});var n=r(218549);function i(e){let t=null;return function(...r){if(null!=t&&t.args.length===r.length){let e=!0;for(let n=0,i=r.length;n<i;n++)if(r[n]!=t.args[n]){e=!1;break}if(e)return t.result}return(t={args:r,result:e(...r)}).result}}function a(e){let t=new WeakMap;return r=>{let n=t.get(r);if(n)return n;let i=e(r);return t.set(r,i),i}}function o(e,t){let r=new n.q(t);return t=>{if(r.has(t))return r.get(t);let n=e(t);return r.set(t,n),n}}},994190:(e,t,r)=>{"use strict";r.d(t,{$G:()=>p,Ad:()=>a,B3:()=>f,Hh:()=>h,Jj:()=>_,Mw:()=>g,S:()=>m,Y7:()=>E,ai:()=>s,f1:()=>u,kJ:()=>c,s$:()=>d});var n=r(742808),i=r(692106);let a=["memory.fullscreen.","performance.fullscreen."],o=!0;function l(e,t){let r=-1/0;return()=>{let n=Date.now()/1e3;n-r>e&&(r=n,t())}}window.addEventListener("error",e=>{if(!o)return;o=!1;let{message:t,filename:r}=e,i=/abort/i.test(t),a=/\/compiled_/.test(r);(0,n.Rh)("unhandled_error",{abort:i,fullscreen:a})});let s=l(30,()=>{(0,n.Rh)("context_lost")}),c=l(30,()=>{(0,n.Rh)("context_restored")});function d(e){window.figmaPerfTesting&&window.postMessage({name:e,value:performance.now()/1e3},"*")}function u(){(0,n.Rh)("dirty_after_load")}function p(){(0,n.Rh)("consecutive_flushes")}function m(){(0,n.Rh)("consecutive_image_change_skips")}function _(){(0,n.Rh)("image_paste_error")}function h(){(0,n.Rh)("unsaved_changes_bell")}function g(){(0,n.Rh)("autosave_notification")}function f(e){(0,n.Rh)("reconnecting_banner",{client:e})}function E(e){return(0,i.x)(e,!0)}},453418:(e,t,r)=>{"use strict";r.d(t,{Sd:()=>I,Z1:()=>S,Zp:()=>E,np:()=>h,tB:()=>y,wc:()=>m});var n=r(966712),i=r(563706),a=r(286640),o=r(988022),l=r(356390),s=r(617453),c=r(601538),d=r(38329),u=r(187623),p=r(27087),m=(e=>(e.MouseScrollToZoom="mouse-scroll-wheel-zoom",e.RightClickDragToPan="right-click-drag-to-pan",e))(m||{});function _(e,t){var r;(null==(r=d.D.getState().user)?void 0:r.id)&&p.Ay.put("/api/user","mouse-scroll-wheel-zoom"===e?{mouse_scroll_to_zoom:t}:{right_click_drag_to_pan:t})}function h({navigationPreference:e,enabled:t}){new u.P().sendToOtherTabs(e,JSON.stringify(t)),function(e){try{let t=d.D.getState();(0,o.uE)("navigation_preferences",t,{navigationPreference:e.navigationPreference,enabled:e.enabled,eventName:e.eventName})}catch(e){}}({navigationPreference:e,enabled:t,eventName:"user_manual_change"}),_(e,t)}let g=[!0,1,"1","true"];function f(e){return g.includes(e)}function E(e){d.D.getState().isFullscreenDocumentLoaded&&b(f(e))}function y(e){d.D.getState().isFullscreenDocumentLoaded&&v(f(e))}function b(e){l.Y5.triggerAction(e?"set-scroll-wheel-zoom-enabled":"set-scroll-wheel-zoom-disabled")}function v(e){l.Y5.triggerAction(e?"set-right-click-pan-enabled":"set-right-click-pan-disabled")}function I(){return[{separator:!0,featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"]},{action:"toggle-scroll-wheel-zoom",featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"],hideForQuickCommand:i.Ay.isIpad,"data-onboarding-key":c.oi.ZOOM,callback:()=>{h({navigationPreference:"mouse-scroll-wheel-zoom",enabled:!(0,s.UK)().scrollWheelZoom.getCopy()})},checked:(0,s.UK)().scrollWheelZoom.getCopy()},{action:"toggle-right-click-pan",featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"],hideForQuickCommand:i.Ay.isIpad,"data-onboarding-key":c.oi.PAN,callback:()=>{h({navigationPreference:"right-click-drag-to-pan",enabled:!(0,s.UK)().rightClickPan.getCopy()})},checked:(0,s.UK)().rightClickPan.getCopy()},{separator:!0,featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"],flags:["!edit"]}]}function T(e,t=!1){var r,n,i;if(!a.x4)return;let o=t,l=a.x4.getItem(e),s="mouse-scroll-wheel-zoom"===e?null==(r=d.D.getState().user)?void 0:r.mouse_scroll_to_zoom:null==(n=d.D.getState().user)?void 0:n.right_click_drag_to_pan;null!==l?o=f(l):null!=s&&(o=s),i=o,"mouse-scroll-wheel-zoom"===e?b(i):v(i),new u.P().sendToOtherTabs(e,JSON.stringify(o)),s!==o&&_(e,o)}function S(){let e=(0,n.kc)().figjam_nav_new_user_onboarding;(0,n.kc)().navigation_mode_scroll_to_pref&&(0,n.kc)().figjam_navigation_mode&&(T("mouse-scroll-wheel-zoom",e),T("right-click-drag-to-pan",e))}},529004:(e,t,r)=>{"use strict";r.d(t,{d:()=>i,s:()=>a});var n=r(987918);function i(e){return`${n.dI(e.nodeID)}~${n.dI(e.interactionID)}`}function a(e){let[t,r]=e.split("~").map(e=>n.sH(e));return t&&r?{nodeID:t,interactionID:r}:null}},316082:(e,t,r)=>{"use strict";r.d(t,{w:()=>l,y:()=>s});var n=r(411855),i=r(852800),a=r(939683),o=r(966712);function l(){let[e,t]=n.useState(navigator.onLine);return n.useEffect(()=>{let e=()=>t(navigator.onLine);return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),e}function s(){let e=(0,a.U)(),t=(0,o.kc)().use_navigator_online_mp_fallback&&i.h3O?i.h3O.getSessionState():void 0,r=l();return n.useEffect(()=>{!r&&t&&t!==i.kul.DETACHED&&e("offline_multiplayer_discrepancy",{isNavigatorOnline:navigator.onLine,isJoined:t===i.kul.JOINED,multiplayerSessionState:t.toString()})},[r,t,e]),r||t===i.kul.JOINED}},183297:(e,t,r)=>{"use strict";r.d(t,{AS:()=>l,En:()=>c,WQ:()=>o,mL:()=>s,n0:()=>u,u9:()=>d,vs:()=>a});var n=r(411855),i=r(27087);let a=25;function o(e,t,r){let[i,o]=n.useState({});return n.useEffect(()=>{o({})},[e]),{fetchNext:n.useCallback((n=!1)=>d(i)||n?c(e,r||a,n?{}:i,l).then(e=>{var t,r;return o({pagination:{next_page:null==(t=e.pagination)?void 0:t.next_page,prev_page:null==(r=e.pagination)?void 0:r.prev_page}}),delete e.pagination,e}).catch(e=>(null==t||t(e),Promise.resolve({}))):Promise.resolve({}),[e,t,i,r]),hasMore:d(i)}}let l="next",s="prev";function c(e,t,r,n=l){return new Promise((a,o)=>{let l=r&&r.pagination,c=l&&(n===s?l.prev_page:l.next_page);(null==l||c)&&(c=c||`${e}${-1===e.indexOf("?")?"?":"&"}page_size=${t}`,(0,i.k9)(c).then(({data:e})=>{let t=e.pagination;null==l?l=t:n===s?t.prev_page&&(l.prev_page=t.prev_page):l.next_page=t.next_page,e.meta.pagination=l,a(e.meta)},o))})}function d(e){return!!(!(null==e?void 0:e.pagination)||e.pagination.next_page)}function u(e,t,r=a){let n=[],i=e.map(e=>e.sort(t));for(let e=0;e<r;e++){let e=null;for(let r=0;r<i.length;++r){let n=i[r];0!==n.length&&(null===e||0>t(n[0],i[e][0]))&&(e=r)}null!==e&&n.push(i[e].shift())}return{mergedResults:n,unmergedResultsList:i}}},563706:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>k,C8:()=>A,Ji:()=>N,KR:()=>O,Q1:()=>g,XN:()=>l,Xb:()=>L,Yb:()=>C,_N:()=>_,aJ:()=>R,aR:()=>f,cX:()=>c,g3:()=>S,j5:()=>y,j9:()=>d,m0:()=>h,mZ:()=>T,nW:()=>I,o4:()=>m,rr:()=>p,tS:()=>w,uF:()=>u,uG:()=>v,wg:()=>s});var n=r(477691),i=r(369870),a=r(479296),o=r(966712);let l=/iPad/.test(navigator.userAgent)||/Mac/.test(navigator.userAgent)&&!/iPhone/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||!1,s=(0,a.n)(()=>l);function c(){return n.mac}function d(){return n.linux}function u(){return n.windows}let p=/Mobi/.test(navigator.userAgent);function m(){return p}function _(){return/FigmaMirror-Android/.test(navigator.userAgent)}let h=/Android/.test(navigator.userAgent);function g(){return!!window.FigmaMobile}let f=/iPhone|iPad|iPod/.test(navigator.userAgent),E=/iPhone|iPod/.test(navigator.userAgent);function y(){return f}let b=h||f,v=b&&!O(),I=(h||E)&&!O(),T=h&&!O(),S=E&&!O();function w(){return b}function A(){return I}function C(){return!!window.FigmaMobile&&!window.FigmaMobile.handleTripleTaps}function N(){return _()||C()}function O(){return/FigmaMobile/.test(navigator.userAgent)}let L=p||h||l||O()||N(),R=(0,a.n)(()=>!L),P={},k={...n,get is64BitBrowser(){if(this.windows&&!this.firefox)return/(?:Win64|x64)/.test(window.navigator.userAgent);return/(?:MacIntel|Win64|x86_64)/.test(window.navigator.platform)},get isWasm4gbSupported(){if(this.chrome)return Number(this.version)>=83;if(this.firefox)return Number(this.version)>=89;if(this.safari)return Number(this.version)>=15.2;if(this.msedge)return Number(this.version)>=89;return!1},get browserType(){if(this.chrome)return"chrome";if(this.firefox)return"firefox";if(this.safari)return"safari";if(this.msedge)return"msedge"},get isMobileBrowser(){return/Mobi/.test(window.navigator.userAgent)},get isInNativeApp(){return g()},get isIpad(){return s()},get isIpadNative(){return s()&&window.FigmaMobile&&window.FigmaMobile.shouldOptimizeForIpadApp},get isMeetDevice(){return!!(0,o.kc)().figjam_3p_hardware_device&&(0,i.U1)()},get isZoomIntegration(){return(0,i.MP)()},override(e){for(let t in e)t in P||(P[t]=this[t]),this[t]=e[t]},resetOverrides(){for(let e in P)this[e]=P[e]}}},110727:(e,t,r)=>{"use strict";function n(e){return new Promise((t,r)=>{let n=Array(e.length),i=e.length,a=()=>{0===i&&t(n)};for(let t=0;t<e.length;t++)e[t].then(e=>{n[t]={type:"resolve",resolve:e,reject:void 0},i--,a()},e=>{n[t]={type:"reject",resolve:void 0,reject:e},i--,a()});a()})}function i(e){let t=null;return()=>(null===t&&(t=e()).catch(()=>t=null),t)}async function a(e,t,r){return await new Promise((n,i)=>{let a;let o=function(){0===t?i(a):e().then(n).catch(e=>{t--,a=e,setTimeout(function(){o()},null==r?0:r)})};o()})}r.d(t,{Kt:()=>i,OF:()=>a,_7:()=>n})},988261:(e,t,r)=>{"use strict";r.d(t,{Bq:()=>n,_H:()=>i,lc:()=>a});let n="figma.pc_modal";function i(){let e=`figma.pc=; domain=${window.location.hostname}; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 UTC;`;document.cookie=e}function a(){let e=`${n}=; domain=${window.location.hostname}; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 UTC;`;document.cookie=e}},812115:(e,t,r)=>{"use strict";r.d(t,{R:()=>a,X:()=>i});var n=r(503457);let i=(0,n.kf)("lazy_quill_editor",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(5679),r.e(5215)]).then(r.bind(r,367780))).QuillEditor})}),a=(0,n.kf)("lazy_readonly_quill_editor",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(5679),r.e(5215)]).then(r.bind(r,367780))).ReadOnlyQuillEditor})})},1372:(e,t,r)=>{"use strict";r.d(t,{$9:()=>d,EM:()=>o,J1:()=>s,V$:()=>c});var n=r(517655);let i=[],a=0;function o(e){let t=e.split(":");return{channel:t[0],timestamp:parseInt(t[1]),generation:parseInt(t[2]),signature:t[3]}}let l=(0,n.Xs)(),s=l,c=l.v2;function d(){s.disconnect();let e=(0,n.Xs)();s=e,c=e.v2,s.connect()}window.realtimeClient=l,[].push(function(){a>0||i.forEach(e=>{a+=1,setTimeout(()=>{try{e()}finally{a-=1}},6e4+24e4*Math.random())})})},517655:(e,t,r)=>{"use strict";r.d(t,{EM:()=>m,Xs:()=>h});var n,i=r(776250),a=r(966712),o=r(768444),l=r(845755),s=r(30637);let c=!1,d=[],u=[],p=0;function m(e){let t=e.split(":");return{channel:t[0],timestamp:parseInt(t[1]),generation:parseInt(t[2]),signature:t[3]}}let _=-1;function h(){let e=null,t=null,r=null,n=null,d=null,p={},h=!0,g=Date.now(),f=0,E=null,y=!0,b=!1,v=null,I=new o.Y("prototype.realtime_socket_connection_attempt","prototype.realtime_socket_disconnect"),T=()=>{null!=d&&clearInterval(d),null!=n&&n.close(),d=null,n=null,h=!0},S=()=>{E&&(clearTimeout(E),E=null),v&&(window.removeEventListener("online",v),v=null),O()},w=()=>{if(T(),!y||null!=E)return;let e=4+(Math.min(128,4*Math.pow(2,f))-4)*Math.random();console.log(`[Realtime] Disconnected. Will attempt reconnect in ${e.toFixed(0)} seconds.`),E=setTimeout(()=>{console.log(`[Realtime] Attempting reconnect now after waiting ${e.toFixed(0)} seconds.`),S()},1e3*e),f++,v=()=>{console.log("[Realtime] Attempting reconnect due to connectivity change."),navigator.onLine&&S()},window.addEventListener("online",v)},A=e=>{n&&n.readyState===n.OPEN&&n.send(`tok:${e.channel}:${e.timestamp}:${e.generation}:${e.signature}`)},C=e=>{let t=(0,a.tl)().user_data;if(!(null==t?void 0:t.id)){console.warn("Can't post to me channel without user id available"),(0,i.sx)("Me Channel UserId Missing");return}let r=`/me-${null==t?void 0:t.id}`;if(!(r in p)){if(console.warn("We're not subscribed to the me channel"),(0,i.sx)("Me Channel Subscription Missing"),null==t?void 0:t.realtime_token){(0,i.sx)("Me Channel Resubscribe");let e=m(t.realtime_token);p[r]=e,A(e)}else{console.warn("We're unable to subscribe to the me channel; server will reject this message"),(0,i.sx)("Me Channel No Token");return}}if(!n||n.readyState!==n.OPEN){(0,s.nl)()||console.warn("Sending to me without open websocket"),(0,i.sx)("Me Channel Websocket Missing");return}let o=JSON.stringify([{channel:r,data:e}]);n.send(`pme:${o}`)},N=e=>{delete p[e],n&&n.readyState===n.OPEN&&n.send(`uns:${e}`)},O=()=>{var t,r;T();let i="";i=("https:"===window.location.protocol?`wss://${window.location.host}`:`ws://${window.location.host}`)+"/api/realtime_v2";let a=window.INITIAL_OPTIONS&&window.INITIAL_OPTIONS.release_git_tag||"";i+=`?release_git_tag=${a}&user_id=${(null==(r=null==(t=window.INITIAL_OPTIONS)?void 0:t.user_data)?void 0:r.id)||""}`,(n=new WebSocket(i)).onopen=e=>{for(let e in I.handleSocketConnectionAttempt(!0,f,!c,!document.hidden),f=0,console.log(`[Realtime] Connected to ${i}.`),b=!0,d=setInterval(()=>{n.send("ping")},3e4+5e3*Math.random()-2500),c&&Date.now()-g>6e4&&u.forEach(e=>{setTimeout(e,0)}),c=!0,p)A(p[e])},n.onmessage=t=>{if("pong"===t.data){g=Date.now();return}let r=t.data.substr(0,4);if("tok:"===r){let e=m(t.data.substr(4));p[e.channel]=e;return}let n={};if("ouc:"===r){let e=t.data.substr(4).split(":");3!==e.length&&console.warn("Got ouc: command with wrong number of params");for(let t=0;t<e.length;t++)"null"===e[t]&&(e[t]=null);n={type:"verify_user_state",org_user_count:e[0]&&parseInt(e[0]),org_user_updated:e[1]&&new Date(parseInt(e[1])).toISOString(),target_user_id:e[2]}}else if("sub:"===r||"uns:"===r){let e=t.data.split(":"),r=e[e.length-1];if("ok"===r)return;if(delete p[e[1]],"expired"===r){if(!h)return;h=!1,n={type:"token_expired"}}else{console.warn(t.data);return}}else{try{n=JSON.parse(t.data)}catch(e){console.warn(`unexpected non-JSON realtime message: ${t.data}`);return}null!=n.err&&(console.warn("encountered error message from realtime",n.err),w())}e&&e(n)},n.onclose=e=>{b?I.handleSocketDisconnect(!0):I.handleSocketConnectionAttempt(!1,f,!c,!document.hidden),b=!1,n=null,w()}},L={},R=new Set,P=new Map,k={connect:O,disconnect:()=>{y=!1,T(),p={}},setCallback:t=>{e=e=>{let r=e.method,n=Object.keys(e).filter(e=>l.C.has(e)).map(t=>({type:t,value:e[t]})),i=!1;t(e),n.forEach(t=>{let n=L[t.type];n&&Object.keys(n).map(e=>n[e]).filter(e=>e.methods[r]).forEach(r=>{r.callback(t.value,e.method)})})}},setOnSubscribeCallback:e=>{t=e},setOnUnsubscribeCallback:e=>{r=e},subscribe:(e,r)=>{let n=p[e.channel];p[e.channel]=e,n||A(e),!1!==r&&R.add(e.channel),t&&t(e.channel)},unsubscribe:(e,t)=>{if(!1!==t&&R.delete(e),!1===t&&R.has(e))return;let n=P.get(e);n&&n.size>0||(delete p[e],N(e),r&&r(e))},postToMeChannel:e=>{C(e)}},D=()=>{let e=(0,a.tl)().user_data;return(null==e?void 0:e.realtime_token)?m(e.realtime_token):null},M=["post","put","delete"],x=e=>"string"==typeof e?{type:e,token:D(),methods:M}:e,F={subscriptions:p,subscribe:function(e,t){let r=x(e),n=r.token||D();if(!n)return()=>{};let i=(_+=1,`${_}:${performance.now()}`),a=L[r.type]||{},o=r.methods||M,l={};return o.forEach(e=>{l[e]=!0}),a[i]={methods:l,callback:t},L[r.type]=a,(P.get(n.channel)||new Set).add(i),k.subscribe(n,!1),()=>{let{channel:e}=n,t=P.get(e);null==t||t.delete(i);let a=L[r.type];if(a&&(delete a[i],0===Object.keys(a).length)){let e=r.type;delete L[e]}k.unsubscribe(e,!1)}}};return{...k,v2:F}}n=function(){p>0||d.forEach(e=>{p+=1,setTimeout(()=>{try{e()}finally{p-=1}},6e4+24e4*Math.random())})},u.push(n)},683192:(e,t,r)=>{"use strict";r.d(t,{q:()=>C,S:()=>A});var n=r(411855),i=r(188507),a=r(662275),o=r(356390),l=r(457630),s=r(335682),c=r(493536),d=r(782754),u=r(147755),p=r(717037),m=r(304783),_=r(946689),h=r(939863),g=r(392592),f=r(973131),E=r(746830),y=r(237870),b=r(321112);let v=(0,y.Ju)(function(e){let t=(0,i.wA)(),r=d.a.useModal(e),[o,l]=n.useState(""),s=n.useCallback(e=>{l(e.currentTarget.value)},[]),c=(0,u.X)(),y=n.useCallback(async()=>{let r=(0,f.J)(e.fileKey,o,"async walkthrough",t),n=await E.F.getUploadUrls(e.fileKey),i=JSON.stringify(e.recordedPositions),l=new TextEncoder().encode(i),s=(0,p.E)(m.e.EXPLORE,"uploadWalkthroughPositionRecording",n.data.meta.position.url,n.data.meta.position.fields,l,"application/json"),c=e.userMediaRecording.arrayBuffer().then(e=>{let t=new Uint8Array(e);return(0,p.E)(m.e.EXPLORE,"uploadWalkthroughMediaRecording",n.data.meta.media.url,n.data.meta.media.fields,t,"video/webm")}),[d,u,_]=await Promise.all([r,s,c]),h=e.recordedPositions[0];await E.F.saveWalkthroughMedia(e.fileKey,d.id,u,_,o,e.currentPage,h.viewportPath.offsetX,h.viewportPath.offsetY),t(g.F.enqueue({message:"Walkthrough saved"})),t(a.Lo())},[t,e.fileKey,e.recordedPositions,e.userMediaRecording,o,e.currentPage]);return n.createElement(d.a.Root,{manager:r,width:"md"},n.createElement(d.a.Contents,null,n.createElement(d.a.Header,null,n.createElement(d.a.Title,null,n.createElement(h.Tx,{id:"collaboration.spotlight.recording.modal_title"}))),n.createElement(d.a.Body,null,n.createElement(_.ks,{ref:c,name:"title",type:"text",className:b._Z,placeholder:(0,h.t)("collaboration.spotlight.recording.modal_field_placeholder"),value:o,onChange:s})),n.createElement(d.a.Footer,null,n.createElement(d.a.ActionStrip,null,n.createElement(_.$$,{type:"submit",className:b.pL,disabled:0===o.length,onClick:y},n.createElement(h.Tx,{id:"general.save"}))))))},"SAVE_ASYNC_WALKTHROUGH_MODAL",y.ZU.YES);var I=r(358145),T=r(966712),S=r(860601);let w={startWalkthroughRecording:S.lQ,stopWalkthroughRecording:S.lQ,isRecording:!1};function A(){let[e,t]=n.useState(!1),[r,d]=n.useState(void 0),u=n.useRef([]),p=n.useRef(),m=(0,s.tS)(),_=(0,i.wA)(),h=(0,i.d4)(e=>e.mirror.appModel.currentPage),g=function(e,t){let r=n.useRef(),i=n.useRef(),a=n.useRef([]),o=n.useCallback(async()=>{let e=await window.navigator.mediaDevices.getUserMedia({audio:!0,video:!0});r.current=e},[]),l=(0,I.ZC)(e),s=n.useCallback(()=>{if(!r.current||!r.current.active){console.error("the media stream was not active");return}i.current=new MediaRecorder(r.current),i.current.onerror=e=>{console.error("Recorder error:",e)},i.current.ondataavailable=e=>{e.data.size>0&&a.current.push(e.data)},i.current.start(100)},[]),c=n.useCallback(()=>{var e,n,o;0===a.current.length&&console.error("some error with the video recording"),t.current=new Blob(a.current,{type:null==(e=i.current)?void 0:e.mimeType}),null==(n=i.current)||n.stop(),null==(o=r.current)||o.getTracks().forEach(e=>e.stop())},[t]);return n.useEffect(()=>{e&&!l&&s()},[s,c,e,l]),n.useMemo(()=>({loadMediaStream:o,stopRecording:c}),[o,c])}(e,p),f=n.useCallback(()=>{u.current=[],g.loadMediaStream().then(()=>{d(new Date().getTime()),t(!0)})},[g]),E=n.useCallback(()=>{t(!1),g.stopRecording(),_((0,a.to)({type:v,data:{fileKey:m,recordedPositions:u.current,userMediaRecording:p.current,currentPage:h}}))},[_,m,g,h]);return function(e,t,r){let i=n.useRef(void 0),a=n.useRef(void 0),s=n.useCallback(e=>{let t=r.current.length,n=t>0?r.current[t-1].msSinceRecordingStart:void 0;n&&Math.floor(n/c.c)===Math.floor(e.msSinceRecordingStart/c.c)?r.current[t-1]=e:r.current.push(e)},[r]),d=n.useCallback(e=>{let r=new Date().getTime()-t;a.current=e;let n=i.current?i.current:{x:0,y:0};s({viewportPath:{offsetX:e.offsetX,offsetY:e.offsetY,zoomScale:e.zoomScale},mousePositionPath:n,msSinceRecordingStart:r})},[t,s]),u=n.useCallback(e=>{let r=new Date().getTime()-t,n=a.current;if(!n)return;let o={x:e.clientX,y:e.clientY},c=(0,l.$$)(n,o);i.current=c,s({viewportPath:{offsetX:n.offsetX,offsetY:n.offsetY,zoomScale:n.zoomScale},mousePositionPath:c,msSinceRecordingStart:r})},[t,s]);(0,l.D6)({subscribeToUpdates_expensive:e},d),n.useEffect(()=>{var t;if(e)return r.current=[],a.current=(null==(t=o.Y5)?void 0:t.isReady())?o.Y5.getViewportInfo():void 0,i.current=void 0,document.addEventListener("mousemove",u),()=>{document.removeEventListener("mousemove",u)}},[e,u,r])}(e,r??0,u),n.useMemo(()=>(0,T.kc)().async_spotlight||!m?{startWalkthroughRecording:f,stopWalkthroughRecording:E,isRecording:e}:w,[f,E,e,m])}let C=n.createContext(w)},964937:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=r(109388),i=r(775541);function a(e){let t=document.createElement("div"),r=(0,i.H)(t);return(0,n.flushSync)(()=>{r.render(e)}),t.innerHTML}},153234:(e,t,r)=>{"use strict";r.d(t,{AF:()=>B,Am:()=>K,BV:()=>Y,C0:()=>D,Fk:()=>u,Ht:()=>G,M5:()=>k,P_:()=>H,Pt:()=>h,Z7:()=>U,_3:()=>x,aH:()=>y,aQ:()=>P,c1:()=>_,cC:()=>E,cZ:()=>L,dp:()=>I,fA:()=>v,fo:()=>F,ht:()=>m,iQ:()=>W,kz:()=>p,nS:()=>d,o6:()=>g,of:()=>V,qP:()=>T,rf:()=>R,uA:()=>f,v_:()=>M,y6:()=>c});var n=r(411855),i=r(30637),a=r(763142),o=r(966712),l=r(599445);let s=new Set;function c(e){(0,i.nl)()&&s.add(e)}function d(e){(0,i.nl)()&&s.delete(e)}function u(){return!!i.b_||(0,i.lZ)()||(0,o.kc)()&&(0,o.kc)().interaction_recorder}function p(e){u()&&(0,l.Is)(e)}function m(e){u()&&(0,l.nL)(e)}function _(e){let t;t="string"==typeof e?e:null==e?void 0:e.recordingKey;let r=n.useMemo(()=>({recordingKey:t}),[t]);return n.useCallback((...e)=>h(r,...e),[r])}function h(e,...t){let r;return(r="string"==typeof e?e:null==e?void 0:e.recordingKey)===y||t.includes(y)?y:r?r+"."+t.join("."):r}class g extends n.PureComponent{recordingKey(){return this.props.recordingKey}componentDidMount(){p(this)}componentDidUpdate(e,t){p(this)}componentWillUnmount(){m(this)}}class f extends n.Component{recordingKey(){return this.props.recordingKey}componentDidMount(){p(this)}componentDidUpdate(e,t,r){p(this)}componentWillUnmount(){m(this)}}function E(e){let t=n.useMemo(()=>({recordingKey:()=>e}),[e]);return n.useLayoutEffect(()=>(p(t),()=>m(t)),[t]),t}let y=l.aH,b=new Set(["nativeEvent"]);function v(e,t,r){if(!u()||e.recordingKey()===y)return r;let n=[];return(0,l.YJ)(e,t,e=>{if(!(0,l.k3)())return r(e);let t=[];return(Array.isArray(e)?e:[e]).forEach((e,r)=>{e&&"object"==typeof e&&!Array.isArray(e)?t[r]=new Proxy(e,{get(e,t){let i=e[t];if(!Reflect.has(w,t)&&!b.has(t)){let e=n[r];void 0===e&&(e=n[r]={}),e[t]=i}return i}}):(n[r]=e,t[r]=e)}),r(Array.isArray(e)?t:t[0])},{record(){let e=n;return n=[],e},playback(e){if(!e)return e;function t(e){return"object"!=typeof e||Array.isArray(e)?e:{...e,...w}}return"object"==typeof e?Array.isArray(e)?e.map(t):t(e):e}})}function I(e,t,r,n={}){return u()&&e.recordingKey()!==y?(0,l.YJ)(e,t,r,n):r}function T(e,t,r,i){let a=E(e);return n.useMemo(()=>I(a,t,r,i),[a,t,r,i])}function S(e){let t={};return e.altKey&&(t.altKey=!0),e.shiftKey&&(t.shiftKey=!0),e.metaKey&&(t.metaKey=!0),e.ctrlKey&&(t.ctrlKey=!0),t}let w={preventDefault(){},stopPropagation(){}};function A(e){let t={};return t.altKey=!!e.altKey,t.ctrlKey=!!e.ctrlKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t}function C(e){var t,r;let n=null==(r=null==(t=e.currentTarget)?void 0:t.dataset)?void 0:r.testid;return n?{currentTarget:n}:{}}let N={value:"",blur(){},setPointerCapture(){},releasePointerCapture(){}};function O(e){if(e.currentTarget){let t=document.querySelector(`[data-testid="${e.currentTarget}"]`);if(!t)throw Error(`Expected to find element with data-testid="${e.currentTarget}" for currentTarget`);return{currentTarget:new Proxy(t,{get(e,t){switch(t){case"setPointerCapture":case"releasePointerCapture":return()=>{};default:let r=e[t];if("function"==typeof r)return r.bind(e);return r}}})}}return{currentTarget:N}}function L(e,t,r,n){return I(e,t,r,{record(e){e||(e={});let t={buttons:e.buttons,...S(e),...n&&n.recordMetadata?n.recordMetadata(e):{},...C(e)};return n&&n.includeTarget&&(t.target={tagName:e.target.tagName}),t},playback:e=>({clientX:0,clientY:0,button:0,buttons:e.buttons,target:(null==n?void 0:n.includeTarget)?e.target:N,...A(e),...w,...O(e),...n&&n.playbackMetadata?n.playbackMetadata(e):{}})})}function R(e,t,r,i){let a=E(e);return n.useMemo(()=>L(a,t,r,i),[a,t,r,i])}function P(e,t,r){return I(e,t,r,{record(e){let t=e.dataTransfer.files,r={};if(t){let e=[];for(let r of t){let t=e.length;e.push("(failed to read file)"),(function(e){return new Promise((t,r)=>{let n=new FileReader;n.onload=()=>t(new Uint8Array(n.result)),n.onerror=e=>r(e),n.readAsArrayBuffer(e)})})(r).then(r=>{let n=(0,a.lF)(r);n.length>1e3&&(console.warn("Recording of drop events is only supported for small files"),n="(file too large)"),e[t]=n})}r.files=e}return{buttons:e.buttons,...S(e),dataTransfer:r}},playback(e){let t={};return e.dataTransfer.files&&(t.files=e.dataTransfer.files.map(e=>new Blob([(0,a.D4)(e)]))),{clientX:0,clientY:0,button:0,buttons:e.buttons,...A(e),...w,dataTransfer:t}}})}function k(e,t,r,n){return I(e,t,r,{record:e=>(e||(e={}),{buttons:e.buttons,...S(e),...n&&n.recordMetadata?n.recordMetadata(e):{}}),playback:e=>({deltaX:0,deltaY:0,deltaMode:WheelEvent.DOM_DELTA_PIXEL,clientX:0,clientY:0,button:0,buttons:e.buttons,...A(e),...w,...n&&n.playbackMetadata?n.playbackMetadata(e):{}})})}function D(e,t,r,n){return I(e,t,r,{record:e=>({key:e.key,keyCode:e.keyCode,which:e.keyCode,type:t,...S(e),...n&&n.recordMetadata?n.recordMetadata(e):{},...C(e)}),playback:e=>({key:e.key,keyCode:e.keyCode,which:e.keyCode,type:t,...A(e),...w,...O(e),...n&&n.playbackMetadata?n.playbackMetadata(e):{}})})}function M(e,t,r,i){let a=E(e);return n.useMemo(()=>D(a,t,r,i),[a,t,r,i])}function x(e,t,r){return I(e,t,r,{record(e){let r=e.event;return{key:r.key,keyCode:r.keyCode,which:r.keyCode,type:t,...S(r)}},playback:e=>({event:{key:e.key,keyCode:e.keyCode,...A(e),...w},accept:()=>{}})})}function F(e,t,r){let i=E(e);return n.useMemo(()=>x(i,t,r),[i,t,r])}function U(e,t,r){return I(e,t,r,{record:e=>e.currentTarget instanceof HTMLInputElement&&"checkbox"===e.currentTarget.type?{checked:e.currentTarget.checked}:{value:e.currentTarget.value},playback(e){let t={value:e.value,checked:e.checked};return{target:t,currentTarget:t,...w}}})}function B(e,t,r){let i=E(e);return n.useMemo(()=>U(i,t,r),[i,t,r])}function H(e,t,r){return I(e,t,r,{record:e=>({}),playback:e=>({...w})})}function V(e,t,r){let i=E(e);return n.useMemo(()=>H(i,t,r),[i,t,r])}function G(e,t,r){return I(e,t,r,{record:e=>({}),playback:e=>({})})}function W(e,t,r){let i=E(e);return n.useMemo(()=>G(i,t,r),[i,t,r])}function K(e,t,r,n){return I(e,t,r,{record(e){e||(e={});let t={buttons:e.buttons,...S(e),...n&&n.recordMetadata?n.recordMetadata(e):{},...C(e)};return n&&n.includeTarget&&(t.target={tagName:e.target.tagName}),t},playback(e){let t=n&&n.includeTarget?{target:e.target}:{};return{clientX:0,clientY:0,button:0,buttons:e.buttons,pointerId:0,pointerType:"mouse",...A(e),...t,...w,...O(e),...n&&n.playbackMetadata?n.playbackMetadata(e):{}}}})}function Y(e,t,r,i){let a=E(e);return n.useMemo(()=>K(a,t,r,i),[a,t,r,i])}},522739:(e,t,r)=>{"use strict";r.d(t,{Bx:()=>c,D8:()=>s,GG:()=>u,Nf:()=>h,lt:()=>p,mv:()=>_,oj:()=>d,u2:()=>m});var n=r(411855),i=r(564974),a=r(672517),o=r(153234);class l extends o.o6{constructor(){super(...arguments),this.onClick=o.cZ(this,"click",e=>this.props.onClick?this.props.onClick(e):o.aH),this.onContextClick=o.cZ(this,"contextmenu",e=>this.props.onContextMenu?this.props.onContextMenu(e):o.aH),this.onDoubleClick=o.cZ(this,"dblclick",e=>this.props.onDoubleClick?this.props.onDoubleClick(e):o.aH),this.onMouseDown=o.cZ(this,"mousedown",e=>this.props.onMouseDown?this.props.onMouseDown(e):o.aH),this.onMouseUp=o.cZ(this,"mouseup",e=>this.props.onMouseUp?this.props.onMouseUp(e):o.aH),this.onMouseMove=o.cZ(this,"mousemove",e=>this.props.onMouseMove?this.props.onMouseMove(e):o.aH),this.onMouseEnter=o.cZ(this,"mouseenter",e=>this.props.onMouseEnter?this.props.onMouseEnter(e):o.aH),this.onMouseLeave=o.cZ(this,"mouseleave",e=>this.props.onMouseLeave?this.props.onMouseLeave(e):o.aH),this.onPointerDown=o.Am(this,"pointerdown",e=>this.props.onPointerDown?this.props.onPointerDown(e):o.aH),this.onPointerUp=o.Am(this,"pointerup",e=>this.props.onPointerUp?this.props.onPointerUp(e):o.aH),this.onPointerMove=o.Am(this,"pointermove",e=>this.props.onPointerMove?this.props.onPointerMove(e):o.aH),this.onKeyUp=o.C0(this,"keyup",e=>this.props.onKeyUp?this.props.onKeyUp(e):o.aH),this.onKeyDown=o.C0(this,"keydown",e=>this.props.onKeyDown?this.props.onKeyDown(e):o.aH),this.onFocus=o.Ht(this,"focus",e=>this.props.onFocus?this.props.onFocus(e):o.aH),this.onBlur=o.Ht(this,"blur",e=>this.props.onBlur?this.props.onBlur(e):o.aH)}render(){let{recordingKey:e,forwardedRef:t,dataTestId:r,...n}=this.props;return this.recordingKey()&&(this.props.onClick&&(n.onClick=this.onClick),this.props.onDoubleClick&&(n.onDoubleClick=this.onDoubleClick),this.props.onMouseDown&&(n.onMouseDown=this.onMouseDown),this.props.onMouseMove&&(n.onMouseMove=this.onMouseMove),this.props.onMouseEnter&&(n.onMouseEnter=this.onMouseEnter),this.props.onMouseLeave&&(n.onMouseLeave=this.onMouseLeave),this.props.onMouseUp&&(n.onMouseUp=this.onMouseUp),this.props.onContextMenu&&(n.onContextMenu=this.onContextClick),this.props.onKeyUp&&(n.onKeyUp=this.onKeyUp),this.props.onKeyDown&&(n.onKeyDown=this.onKeyDown),this.props.onFocus&&(n.onFocus=this.onFocus),this.props.onBlur&&(n.onBlur=this.onBlur),this.props.onPointerDown&&(n.onPointerDown=this.onPointerDown),this.props.onPointerUp&&(n.onPointerUp=this.onPointerUp),this.props.onPointerMove&&(n.onPointerMove=this.onPointerMove)),r&&(n["data-testid"]=r),this.node(n,t)}}class s extends l{node(e,t){return n.createElement("div",{...e,ref:t})}}s.displayName="RecordableDiv";let c=(0,a.tf)(s);class d extends l{node(e,t){return n.createElement("span",{...e,ref:t})}}d.displayName="RecordableSpan";class u extends l{node(e,t){return n.createElement("button",{...e,ref:t})}}u.displayName="RecordableButton";class p extends l{node(e,t){return n.createElement("a",{...e,ref:t})}}p.displayName="RecordableA";class m extends l{constructor(){super(...arguments),this.onChange=o.Z7(this,"change",e=>this.props.onChange?this.props.onChange(e):o.aH)}node(e,t){return n.createElement("input",{...e,onChange:this.onChange,ref:t,dir:"auto"})}}m.displayName="RecordableInput";class _ extends l{constructor(){super(...arguments),this.onChange=o.Z7(this,"change",e=>this.props.onChange?this.props.onChange(e):o.aH)}node(e,t){return n.createElement("textarea",{...e,onChange:this.onChange,ref:t,dir:"auto"})}}function h({children:e}){let t=(0,n.useMemo)(()=>o.Fk()?(e,t)=>{let r=o.cC(t.recordingKey);return(0,n.useMemo)(()=>{if(!e||!t.recordingKey)return e;let n=o.fA(r,t.eventName,t=>Array.isArray(t)?e(...t):e(t));return(...e)=>n(e)},[r,t.eventName,e,t.recordingKey])}:g,[]);return n.createElement(i.g.Provider,{value:{useInteraction:t}},e)}function g(e){return e}_.displayName="RecordableTextarea"},733334:(e,t,r)=>{"use strict";r.d(t,{F:()=>o,p:()=>l});var n=r(296210),i=r.n(n);let a=/[\u202A-\u202E\u2060-\u206F]/g;function o(e){return e?e.replace(a,"").normalize():e}function l(e){return i().sanitize(e)}},36381:(e,t,r)=>{"use strict";r.d(t,{JL:()=>o,We:()=>a,qV:()=>i});var n=r(763142);async function i(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}function a(e,t){return l(e,t)}function o(e){return window.crypto.subtle.importKey("raw",(0,n.D4)(e),"AES-GCM",!0,["encrypt","decrypt"])}async function l(e,t){let r=t.split(".");if(2!==r.length)throw Error("Could not parse message and nonce.");let i=r[0],a=r[1],o=(0,n.D4)(i),l=(0,n.D4)(a),s=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:o},e,l);return new TextDecoder().decode(s)}},708389:(e,t,r)=>{"use strict";var n;function i(e,t){return e>t?1:e<t?-1:0}r.d(t,{_:()=>i,f:()=>n}),(e=>{let t=(e,t)=>e<t?-1:1,r=Intl.Collator().resolvedOptions().locale+"-u-co-emoji";e.LEXICOGRAPHICALLY=(e,n)=>"string"!=typeof e?t(e,n):RegExp("\\p{Extended_Pictographic}|\\p{Regional_Indicator}","u").test(e)&&RegExp("\\p{Extended_Pictographic}|\\p{Regional_Indicator}","u").test(n)?e.localeCompare(n,r):e.localeCompare(n),e.BY_DATETIME=(e,r)=>{if("string"!=typeof e)return t(e,r);let n=Date.parse(e),i=Date.parse(r);return n&&i?i-n:t(e,r)},e.byProperty=function(e,r=t){return(t,n)=>t[e]===n[e]?0:r(t[e],n[e])},e.byComparators=function(...e){return(t,r)=>{for(let n=0;n<e.length;n++){let i=(0,e[n])(t,r);if(0!==i)return i}return 0}},e.reverse=function(e){return(t,r)=>-1*e(t,r)}})(n||(n={}))},438741:(e,t,r)=>{"use strict";r.d(t,{$:()=>f,B4:()=>_,KI:()=>I,L3:()=>w,NB:()=>A,Vi:()=>m,jA:()=>S,oJ:()=>g,tu:()=>h,y7:()=>E});var n=r(411855),i=r(188507),a=r(939863),o=r(392592),l=r(852800),s=r(78933),c=r(611978),d=r(776250),u=r(175515);function p(e){let{observingSessionID:t,presenterSessionID:r}=e,n=e.allUsers.find(t=>t.sessionID===e.sessionID),i=r?e.allUsers.find(e=>e.sessionID===r):null,a=t?e.allUsers.find(e=>e.sessionID===t):null;return{isPrototypeViewer:"prototype"===e.deviceNameFilter,presentingUserId:null==i?void 0:i.userID,presentingSessionId:null==i?void 0:i.sessionID,observingUserId:null==a?void 0:a.userID,observingSessionId:null==a?void 0:a.sessionID,currentUserId:null==n?void 0:n.userID,currentUserSessionId:null==n?void 0:n.sessionID}}function m(){let e=(0,s.T)(),t=(0,c.z3)();return n.useCallback(()=>{var r;e(s.N.START),"prototype"===t?null==(r=(0,u.hk)())||r.startPresenting():l.h3O.startPresenting()},[t,e])}function _(){let e=(0,c.z3)();return n.useCallback(()=>{var t;"prototype"===e?null==(t=(0,u.hk)())||t.stopPresenting():l.h3O.stopPresenting()},[e])}function h(){let e="prototype"===(0,c.z3)(),t=(0,i.wA)();return n.useCallback((r,n)=>{e?y(r,n,(0,u.hk)(),t):y(r,n,null,t)},[e,t])}function g(){let e="prototype"===(0,c.z3)(),t=(0,i.wA)();return n.useCallback((r,n)=>{e?b(r,n,(0,u.hk)(),t):b(r,n,null,t)},[e,t])}function f(){let e="prototype"===(0,c.z3)();return n.useCallback(t=>{e?T(t,(0,u.hk)()):T(t,null)},[e])}function E(){let e="prototype"===(0,c.z3)();return n.useCallback(t=>{e?v(t,(0,u.hk)()):v(t,null)},[e])}function y(e,t,r,n){r?r.nominatePresenter(e):l.h3O.nominatePresenter(e);let i=t.allUsers.find(t=>t.sessionID===e);if(null==i?void 0:i.name){let e=(0,a.t)("collaboration.spotlight.visual_bell.nominated_user_to_spotlight",{userName:i.name});n(o.F.enqueue({message:e,type:"nominated_presenter"}))}(0,d.sx)("Spotlight Nomination Requested",{nominatedSessionID:e,nominatedUserID:null==i?void 0:i.userID,...p(t)})}function b(e,t,r,n){r?r.cancelPresenterNomination(e):l.h3O.cancelPresenterNomination(e);let i=t.allUsers.find(t=>t.sessionID===e),s=(0,a.t)("collaboration.spotlight.visual_bell.stopped_nominating_user_to_spotlight");n(o.F.enqueue({message:s,type:"nominated_presenter"})),(0,d.sx)("Spotlight Nomination Canceled",{cancelledNomineeSessionId:null==i?void 0:i.sessionID,cancelledNomineeUserId:null==i?void 0:i.userID,cancelledByNominee:e===t.sessionID,...p(t)})}function v(e,t){t?t.startPresenting():l.h3O.startPresenting();let r=e.sessionsNominatingCurrentUser[0],n=e.allUsers.find(e=>e.sessionID===r);(0,d.sx)("Spotlight Nomination Accepted",{nominatorSessionId:null==n?void 0:n.sessionID,nominatorUserId:null==n?void 0:n.userID,...p(e)})}function I(e,t,r,n){let i=performance.now();e(),n&&(0,d.sx)(r,{sessionId:t.sessionID,timeToActionSeconds:Math.trunc(i-n)/1e3,...p(t)})}function T(e,t){var r;t?null==(r=(0,u.hk)())||r.setObservingSessionID(-1):l.h3O.observeUser(-1),(0,d.sx)("Spotlight Stop Following",{...p(e)})}function S(e){return e.presenterSessionID===e.sessionID}function w(e){return -1!==e.observingSessionID}function A(e){return e.sessionsNominatingCurrentUser.length>0}},742668:(e,t,r)=>{"use strict";r.d(t,{G:()=>n,m:()=>i});var n=(e=>(e.SDKReady="sdkReady",e.Call="call",e.SetProperty="setProperty",e.GetProperty="getProperty",e.SetContainerDimensions="setContainerDimensions",e.Error="error",e.GetPermissionToShowSurvey="getPermissionToShowSurvey",e.SurveyClosed="surveyClosed",e))(n||{});function i(e,t){return void 0===e||void 0===t?e===t:e.id===t.id&&e.direction===t.direction&&(void 0===e.rect?void 0===t.rect:e.rect.x===t.rect.x&&e.rect.y===t.rect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height)}},88570:(e,t,r)=>{"use strict";r.d(t,{A:()=>y,X:()=>b});var n=r(411855),i=r(511617),a=r(517333),o=r(966712),l=r(38580),s=r(374626),c=r(646240),d=r(30637),u=r(111538),p=r(966981),m=r(19266),_=r(742668);let h=(0,l.eU)([]),g=(0,l.eU)(null,(e,t,r)=>{let n=e(h);t(h,[...n,r])}),f=(0,l.eU)(null,(e,t,r)=>{let n=e(h),i=n.indexOf(r);-1!==i&&t(h,n.slice(0,i).concat(n.slice(i+1)))});function E(e,t){let{country:r,region:n}=e;return t.some(({country:e,region:t})=>(!e||r===e)&&(!t||n===t))}function y({children:e,onAttemptToShowSurvey:t,onSurveyClose:r,geofence:l={}}){var c;let _=(0,s.md)(u.EA),g=(c=function(){let e=(0,o.tl)();return{country:e.iso_code,region:e.viewer_region}}(),!(void 0!==l.exclude&&E(c,l.exclude))&&(void 0===l.include||E(c,l.include))),f=!(0,i.GZ)()&&!(0,d.lZ)()&&!(0,o.tl)().e2e_traffic&&_&&g&&(0,o.kc)().sprig_enabled&&!a.S8,[y,b]=(0,n.useState)(m.An),v=(0,s.md)(h);return(0,n.useEffect)(()=>{b(e=>(e.tearDown(),f?new m.Ay:m.An))},[f]),(0,n.useEffect)(()=>{y.setCallbacks({onAttemptToShowSurvey:t,onSurveyClose:r})},[t,r,y]),(0,n.useLayoutEffect)(()=>{m.Ay.setScreenAreasToAvoid(v)},[v]),n.createElement(p.M.Provider,{value:y},e)}function b(e){let[t,r]=(0,n.useState)(),i=(0,c.Xr)(g),a=(0,c.Xr)(f);(0,n.useEffect)(()=>{(0,_.m)(e,t)||r(e)},[e,t]),(0,n.useEffect)(()=>{if(void 0!==t)return i(t),()=>a(t)},[a,i,t])}},218881:(e,t,r)=>{"use strict";r.d(t,{I7:()=>I,S$:()=>T,XV:()=>S,aH:()=>f.aH,hW:()=>b,sq:()=>f.sq,w$:()=>E.w});var n=r(411855),i=r(188507),a=r(581749),o=r(331028),l=r(966712),s=r(374626),c=r(38580),d=r(672715),u=r(931828),p=r(582947),m=r(358145),_=r(30637),h=r(624601),g=r(891353),f=r(977373),E=r(409),y=(e=>(e.UserIDString="userID",e.OrgIdString="orgID",e.TeamIdString="teamID",e.StableIdString="stableID",e.DeveloperIdString="developerID",e.DefaultIdString="defaultID",e.RandomIdString="randomID",e.UserFigmateEmailString="userFigmateEmail",e))(y||{});async function b(e,t,r,n=!1){let i=s.zl.get(h.ZJ);return(r||(0,l.kc)().statsig_suspend)&&await i.initCompletedPromise,w(s.zl.get(h.ZJ),e,"getExperiment",t,n)}function v(e,t,r){let{userVersion:i}=(0,n.useContext)(o.StatsigContext),a=(0,m.ZC)(i),l=(0,s.md)(h.ZJ),c=(0,n.useRef)(null);return{getConfig:(0,n.useCallback)(()=>((a!==i||null==c.current)&&(c.current=w(l,e,"useExperiment",t,r)),c.current),[e,t,a,l,i,r])}}let I=(0,l.kc)().statsig_suspend?function(e,t,r){return(0,s.md)(h.u_),v(e,t,r)}:v;(0,l.kc)().statsig_suspend;let T=(0,s.Iz)(({experimentName:e,keepDeviceValue:t,disableExposureLogging:r})=>(0,c.eU)(async n=>{await n(h.u_),n(h.gR);let i=n(h.ZJ),a=null;return()=>(null==a&&(a=w(i,e,"getExperiment",t,r)),a)}),(e,t)=>e.experimentName===t.experimentName&&e.disableExposureLogging===t.disableExposureLogging&&e.keepDeviceValue===t.keepDeviceValue);function S(e,t,r){let a=(0,n.useMemo)(()=>(0,p.r1)(e),[e]),{getConfig:o}=I(t,r,(0,s.md)(a).data||!1),l=(0,i.wA)();return{getConfig:(0,n.useCallback)(()=>(l(u.b({[e]:!0})),o()),[l,e,o])}}function w(e,t,r,n=!1,i=!1){var a;if(!o.Statsig.initializeCalled()||(0,l.Ay)().e2e_ci_test||e.status!==f.Uv.COMPLETED)return A;let s=0,c=null,u=A;try{s=(0,d.vo)("statsigGetExperimentValDuration",()=>{(function(e){var t;if(!(0,l.kc)().web_exp_default_config_missing_id)return!0;let r=o.Statsig.getCurrentUser();if(!r)return!1;let n=o.Statsig.getExperimentWithExposureLoggingDisabled(e).getIDType();return!!n&&("userID"===n?!!r.userID:!!(null==(t=r.customIDs)?void 0:t[n]))})(t)&&(u=i?o.Statsig.getExperimentWithExposureLoggingDisabled(t,{keepDeviceValue:n}):o.Statsig.getExperiment(t,n))})}catch(r){let e=(null==(a=(0,l.Ay)().user_data)?void 0:a.id)||"undefined";(0,g.Us)(`Errored while fetching experiment config for experiment ${t} and user ${e}: ${r}`),c=r instanceof Error?r:null}if(null===c&&(0,g.zz)(t,s,r,u.getEvaluationDetails().reason,u.getRuleID(),o.Statsig.getCurrentUser()),(0,_.nl)()&&g.su===t){let e=u.getValue();(0,g.pk)(g.su,s),(0,g.pk)(`${g.su}_value`,e)}return u}let A=new a.DynamicConfig("default",{},"default",{reason:a.EvaluationReason.Unrecognized,time:Date.now()})},96328:(e,t,r)=>{"use strict";r.d(t,{$M:()=>I,Ay:()=>y,CE:()=>p,Cb:()=>a,DV:()=>g,EJ:()=>m,FS:()=>N,H9:()=>C,LD:()=>b,Qp:()=>O,Qt:()=>_,VZ:()=>l,Vs:()=>A,YH:()=>u,Yx:()=>E,Zr:()=>i,_5:()=>s,fs:()=>S,gU:()=>w,hX:()=>d,jN:()=>L,sy:()=>T,td:()=>v,uc:()=>o,vE:()=>c});var n=r(178466);function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function o(e){return e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase().replace(/[\W_]+/g,"_")}function l(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function c(e){return i(e.split("_").join(" ").toLocaleLowerCase())}function d(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e){let t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(var n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}function p(e){let t="",r=e.length;for(var n=0;n<r;n+=1024)t+=String.fromCharCode.apply(String,e.subarray(n,n+1024));return"\0"===t.slice(-1)&&(t=t.slice(0,-1)),decodeURIComponent(escape(t))}function m(e,t){return e.length>t?e.slice(0,t-1).trimEnd()+"\u2026":e}function _(e){let t=[];for(let r=0;r<e.length;r++){let n=function(e,t){let r=e.charCodeAt(t);if(Number.isNaN(r))return"";if(r<55296||r>57343)return e.charAt(t);if(55296<=r&&r<=56319){if(e.length<=t+1)throw Error("High surrogate without following low surrogate");let r=e.charCodeAt(t+1);if(56320>r||r>57343)throw Error("High surrogate without following low surrogate");return e.charAt(t)+e.charAt(t+1)}throw Error("Not the start of a single- or multibyte-character")}(e,r);r+=n.length-1,t.push(n)}return t}let h={numeric:!0,sensitivity:"base"};function g(e,t,r=h){let i=(0,n.Gq)().getPrimaryLocale(!1),a=new Intl.Collator(i,r);return e.sort((e,r)=>a.compare(t(e),t(r)))}let f={};function E(e,t="conjunction"){let r=(0,n.Gq)().getPrimaryLocale(!1);return f[t]||(f[t]=new Intl.ListFormat(r,{type:t})),f[t].format(e)}function y(e){var t=[];return(e=e.replace(/_|-/g," ")).split(" ").forEach(function(e){t.push(e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}),t.join(" ")}function b(e,t,r){return r=r||`${t}s`,1===e?t:r}function v(e,t,r){return null==e&&(e=0),`${e} ${b(e,t,r)}`}function I(e){return e<1e3?e.toString():e<1e5?`${Math.floor(e/100)/10}k`:e<1e6?`${Math.floor(e/1e3)}k`:e<1e8?`${Math.floor(e/1e5)/10}m`:e<1e9?`${Math.floor(e/1e6)}m`:e<1e11?`${Math.floor(e/1e8)/10}b`:`${Math.floor(e/1e9)}b`}function T(e){return encodeURIComponent(e.replace(/ /g,"-"))}function S(e){var t=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ .\-_\/\\:;|,&+=*]/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/\-+/g,"-").replace(/^\-+/,"").substring(0,100).replace(/\-+$/,"");return T(t=["thumbnail","icon","code","snapshot","duplicate","embed","canvas","remixes"].includes(t)?"":t)}let w=e=>/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,18}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(e);function A(e){for(var t=0,r=e.length>>>2,n=new Uint8Array(3*r),i=0,a=[],o=0;o<127;o++)a[o]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(String.fromCharCode(o));for(;t<r<<2;){var l=a[e.charCodeAt(t++)],s=a[e.charCodeAt(t++)],c=a[e.charCodeAt(t++)],d=a[e.charCodeAt(t++)];n[i++]=l<<2|s>>>4,c>=0&&(n[i++]=s<<4|c>>>2),d>=0&&(n[i++]=c<<6|d)}return i===n.length?n:n.subarray(0,i)}function C(e){for(var t="",r=e.length,n=0;n<r;n+=1024)t+=String.fromCharCode.apply(String,e.subarray(n,n+1024));return btoa(t)}function N(e){return e.replace(/\s+/g,"")}function O(e,t){return N(e)===N(t)}function L(e){return/^\s*$/.test(e)}},650322:(e,t,r)=>{"use strict";r.d(t,{GU:()=>_,Me:()=>p,QS:()=>g,SH:()=>s,cn:()=>o,df:()=>m,eB:()=>h,ej:()=>f,hP:()=>E,qS:()=>u,x$:()=>l,zR:()=>d});var n=r(181912),i=r(668860),a=r(966712);function o(e){return!!e.student_validated_at}function l(e,t){if(!e)return 1/0;let r=Math.ceil((0,n.A)(e).diff((0,n.A)(),"days",!0));return r>12?1/0:r<=0?t?1:0:r}function s(e,t){return{hasGracePeriod:!!(e&&t in e),isInValidGracePeriod:u(e,t)>0}}let c=(e,t)=>Math.ceil((0,n.A)(e[t].createdAt).add(7,"days").diff((0,n.A)(),"days",!0));function d(e,t){var r,n,i;if(!e||!(null==(r=e[t])?void 0:r.createdAt))return new Date;let a=new Date;return a.setDate((null==(i=null==(n=e[t])?void 0:n.createdAt)?void 0:i.getDate())+7),a}function u(e,t){return e&&e[t]?c(e,t):0}function p(e){if(!e)return 0;let t=1/0;for(let r in e){let n=c(e,r);n>0&&n<t&&(t=n)}return t===1/0?0:t}function m(e,t){let r=function(e){let t=e&&Object.keys(e).length>0,r=!1;for(let t in e)0>=c(e,t)&&(r=!0);return{hasGracePeriod:!!t,isInValidGracePeriod:p(e)>0,isInExpiredGracePeriod:r}}(e);if(!(0,a.kc)().edu_onboarding_grace_period||t||!r.hasGracePeriod)return{showReminder:!1,showAccessRestricted:!1};let n=!!r.isInExpiredGracePeriod;return{showReminder:r.isInValidGracePeriod&&!n,showAccessRestricted:n}}function _(e,t,r,n){let i=s(e,r);if(!(0,a.kc)().edu_onboarding_grace_period||t||!n||!i.hasGracePeriod)return{showReminder:!1,showAccessRestricted:!1};let o=i.isInValidGracePeriod;return{showReminder:o,showAccessRestricted:!o}}function h(e,t,r){for(let n in t){let a=t[n][e];if((null==r?void 0:r.student_team)&&(null==a?void 0:a.level)===i.e6.OWNER)return!0}return!1}function g(e,t,r){for(let n in t){let a=t[n][e];if((null==r?void 0:r.student_team)&&(null==a?void 0:a.level)>=i.e6.EDITOR)return!0}return!1}function f(e,t,r){for(let n in t){let a=t[n][e],o=r[n];if((null==o?void 0:o.student_team)&&(null==a?void 0:a.level)>=i.e6.EDITOR)return!0}return!1}function E(e,t,r){var n,a;return null!=r&&!!r.student_team&&(null==(a=null==(n=t[r.id])?void 0:n[e])?void 0:a.level)>=i.e6.EDITOR}},30637:(e,t,r)=>{"use strict";r.d(t,{Lg:()=>d,Ns:()=>n.k3,PN:()=>s,b_:()=>i,lZ:()=>l,nl:()=>o,tw:()=>c});var n=r(599445);let i=!1,a="/test/interactions"===window.location.pathname||"/test/interactions/proto"===window.location.pathname;function o(){return a}function l(){return a}function s(){return a||(0,n.k3)()}function c(){return null}function d(){try{return!1}catch{return!1}}},520581:(e,t,r)=>{"use strict";r.d(t,{E:()=>u});var n=r(411855),i=r(179479),a=r(69961),o=r(414441),l=r(92328),s=r(863359),c=r(201547),d=r(951783);function u(e){return(0,o.TR)()?n.createElement(p,{...e}):n.createElement(n.Fragment,null,e.children)}function p({name:e,children:t,alsoTrack:r}){let u=(0,i.F)(r),p=(0,o.MF)({name:e,alsoTrackRef:u}),m=(0,o.ps)(p),{error:_,trackablePath:h}=m,g=(0,o.MF)(()=>(0,o.ET)(h,p)),f=(0,n.useCallback)(e=>{!_&&(0,o.VC)(h)&&(0,l.I)({trackablePath:h.map(e=>e.name),interactableId:p.name,trackingMethod:"automatic",...e},g())},[h,p,g,_]),E=(0,d.s)(f,o.hs),y=(0,a.o3)(a.nt.trackableDebug),b=(0,o.MF)(()=>(0,o.R8)({componentName:"AutoInteractable",name:e,error:_,alsoTrackedProperties:g()}));return t=(0,c.C)({children:t,isDebugMode:y,name:e,color:_?"red":"blue",depth:h.length+1,getTooltipText:b}),n.createElement(s.f.Provider,{value:m},n.createElement("div",{className:"displayContents","data-interactable-name":e,...E},t))}},800576:(e,t,r)=>{"use strict";function n(e){return null==e?"":new URL(e).hostname}function i(e){return null==e?"":new URL(e).origin}function a(e){try{return new URL(e),!0}catch{return!1}}function o(e){return a(e)?e:new URL(e,window.location.origin).href}r.d(t,{Jk:()=>i,Kf:()=>n,ky:()=>o,vh:()=>a})},547807:(e,t,r)=>{"use strict";r.d(t,{YV:()=>g,_5:()=>v,ch:()=>b,q$:()=>f,td:()=>n,vh:()=>y});var n,i=r(953657),a=r.n(i),o=r(595977),l=r.n(o),s=r(612543),c=r.n(s),d=r(27087),u=r(330654),p=r(776250),m=r(966712),_=r(776621);class h{constructor(e,t,r,n=!1){this.featureFlagKey=r,this.enforce=n,this._input=null,this._output=null;let i="function"==typeof t?t(u):t;this.validator=new E(e,i,this.enforce?"error":"warn")}async validate(e){let t=await e({xr:d.IF});if("string"==typeof this.featureFlagKey&&!(0,m.kc)()[this.featureFlagKey]||200!==t.status)return t;try{let e=await this.validator.validate(()=>Promise.resolve(t));if(this.enforce)return e;return{...e,data:{...t.data,...e.data}}}catch(e){if(this.enforce)throw e;return t}}}function g(e,t,r,n=!1){let i="function"==typeof t?t(u):t;return new h(e,u.object({meta:i}),r,n)}function f(e,t){return new E(e,u.object({meta:t}),"error")}class E{constructor(e,t,r){this.debugKey=e,this.schema=t,this.logLevel=r,this._input=null,this._output=null}async validate(e){let t=await e({xr:d.IF}),r=this.schema.safeParse(t.data);if(r.success){let e=r.data,{data:n,...i}=t;return{...i,data:{...e}}}throw(0,p.sx)("Validator Failure",{name:this.debugKey,level:this.logLevel,error:JSON.stringify(r.error.flatten())},{forwardToDatadog:!0,batchRequest:!0}),"error"===this.logLevel&&(0,_.x1)("APIGetValidationFailure",`Validation failed for api response for ${this.debugKey}`,function(e){let t={};return e.issues.forEach(e=>{let r=e.path.map(e=>"number"==typeof e?"[#]":e).join(".");t[r]||(t[r]=new Set),t[r].add(e.message)}),Object.keys(t).reduce((e,r)=>(e[r]=[...t[r]],e),{})}(r.error),{reportAsSentryError:!0}),r.error}}function y(){return{_input:null,_output:null,validate:e=>e({xr:d.IF})}}function b(){return{_input:null,_output:null,validate:e=>e({xr:d.IF})}}(e=>{e.toAPIParameters=function(e,t=[]){if(void 0===e)return e;let r=new Set(t);return Object.keys(e).reduce((t,n)=>{let i=r.has(n)?n:c()(n),a=e[n];switch(void 0!==a&&(t[i]=a),typeof a){case"undefined":break;case"number":case"boolean":t[i]=a.toString();break;default:t[i]=a}return t},{})},e.toCamelCase=function(e){return e.transform(e=>l()(e,(e,t)=>a()(t)))}})(n||(n={}));let v=y()},15220:(e,t,r)=>{"use strict";r.d(t,{IJ:()=>g,WQ:()=>_,ap:()=>m,dK:()=>h,xt:()=>p});var n=r(776250),i=r(966712),a=r(742808),o=r(12850),l=r(574705);function s(e){console.log("[StencilTest] "+e)}function c(e,t,r,n){var i=e.createShader(t);return i&&(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)||(n&&e.getShaderInfoLog(i),e.deleteShader(i),i=null)),i}function d(e,t){switch(t){case 0:e.disable(e.STENCIL_TEST);break;case 1:e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,0,255),e.stencilOpSeparate(e.FRONT,e.INCR_WRAP,e.INCR_WRAP,e.INCR_WRAP),e.stencilOpSeparate(e.BACK,e.DECR_WRAP,e.DECR_WRAP,e.DECR_WRAP);break;case 2:e.enable(e.STENCIL_TEST),e.stencilFunc(e.NOTEQUAL,0,255),e.stencilOp(e.KEEP,e.KEEP,e.ZERO)}}function u(){return/\bEdge\b/.test(window.navigator.userAgent)}var p=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.NO_WEBGL=1]="NO_WEBGL",e[e.STENCIL_TEST_FAILURE=2]="STENCIL_TEST_FAILURE",e))(p||{});function m(){return o.X.isWebGL2Supported()}function _(){return o.X.isWebGL2Supported()}function h(){return null==window.webGLTestResult&&(window.webGLTestResult=function(){var e=0;try{let t=function(){let e=document.createElement("canvas");try{return e.getContext("webgl")}catch(e){}return null}();t?t.isContextLost()?(s("WebGL context lost. Can't test the device for stencil bugs."),e=0):!(0,i.kc)().fullscreen_disable_angle_dx9_bug_test&&/Win/.test(window.navigator.platform)&&!(!u()&&/\bTrident\b/.test(window.navigator.userAgent)||u())&&1==function(e){var t,r,n,i,a,o=0;e.getError();var l=(t="attribute vec2 pos; void main() { gl_Position = vec4(pos.xy * vec2(2.0, -2.0) + vec2(-1.0, 1.0), 0.0, 1.0); }",r="precision lowp float; void main() { gl_FragColor = vec4(1.0); }",n=c(e,e.VERTEX_SHADER,t,!0),i=c(e,e.FRAGMENT_SHADER,r,!0),(a=e.createProgram())&&n&&i&&(e.attachShader(a,n),e.attachShader(a,i),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||(e.getProgramInfoLog(a),e.deleteProgram(a),a=null)),e.getError()==e.NONE&&a&&n&&i||(e.deleteShader(n),e.deleteShader(i),e.deleteProgram(a),a=null),a),u=e.createBuffer();if(u){var p=new Float32Array([0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,1,0,0,0,0,1,1,1]);e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,p,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)}e.activeTexture(e.TEXTURE0+0);var m=e.getParameter(e.TEXTURE_BINDING_2D),_=e.getParameter(e.VIEWPORT),h=function(e,t,r){var n=e.createTexture();n&&(e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,4,4,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null));var i=e.createRenderbuffer();n&&i&&(e.bindRenderbuffer(e.RENDERBUFFER,i),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,4,4),e.bindRenderbuffer(e.RENDERBUFFER,null));var a=e.createFramebuffer();if(a&&n&&i){e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i);var o=e.checkFramebufferStatus(e.FRAMEBUFFER);e.bindFramebuffer(e.FRAMEBUFFER,null),o!=e.FRAMEBUFFER_COMPLETE&&(e.deleteFramebuffer(a),a=null)}return e.getError()==e.NONE&&a&&n&&i||(e.deleteTexture(n),e.deleteRenderbuffer(i),e.deleteFramebuffer(a),a=null),a}(e,0,0);if(u&&l&&h){e.bindBuffer(e.ARRAY_BUFFER,u),e.bindFramebuffer(e.FRAMEBUFFER,h),e.useProgram(l),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,e.FLOAT,!1,8,0),d(e,0),e.viewport(0,0,4,4),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT),e.colorMask(!1,!1,!1,!1),d(e,1),e.drawArrays(e.TRIANGLES,0,12),e.colorMask(!0,!0,!0,!0),d(e,2),e.drawArrays(e.TRIANGLES,0,6);var g=new Uint8Array(4);e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,g),e.getError()==e.NONE&&(0!=g[0]?(s("Failed. Test value is "+g[0]+" should be 0"),o=1):g[0]),d(e,0),e.disableVertexAttribArray(0)}return e.bindBuffer(e.ARRAY_BUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),_&&e.viewport(_[0],_[1],_[2],_[3]),e.useProgram(null),e.deleteBuffer(u),e.deleteProgram(l),e.deleteFramebuffer(h),e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,m),o}(t)&&(s("WebGL context has stencil bugs that prevent Figma from running properly."),s(`User agent ${window.navigator.userAgent}`),e=2):e=1,0!==e||(null==t?void 0:t.isContextLost())||function(e){let t=e.getExtension("WEBGL_debug_renderer_info"),r=t&&(e.getParameter(t.UNMASKED_RENDERER_WEBGL)+"").toLowerCase(),n={gpu_vendor:r?/\bamd\b|\bati\b/.test(r)?"amd":/\bnvidia\b/.test(r)?"nvidia":/\bintel\b/.test(r)?"intel":"unknown":"unknown",gpu_api:r?/direct3d9/.test(r)?"d3d9":/direct3d11/.test(r)?"d3d11":/opengl/.test(r)?"opengl":"unknown":"unknown"};(0,a.Rh)("page_load",n).catch(e=>console.error("Error trying to send tags",n,e))}(t)}catch(e){}return e}()),window.webGLTestResult}function g(){let e="webgl_not_supported",t="unknown",r="unknown",i="unknown";if(0===window.webGLTestResult){e=o.X.initializationStatus();let n=(0,l.N)();n&&(t=n.renderer,r=n.vendor,i=n.version)}n.az.trackDefinedEvent("rendering_and_animation.webgl_initialization",{status:e,renderer:t,vendor:r,version:i})}},330654:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BRAND:()=>a.qt,DIRTY:()=>a.jm,EMPTY_PATH:()=>a.I3,Favor:()=>h,INVALID:()=>a.uY,LIVESTORE_NORM:()=>s,LIVESTORE_PK:()=>l,NEVER:()=>a.tm,OK:()=>a.OK,ParseStatus:()=>a.MY,Schema:()=>a.Sj,ZodAny:()=>a.Ml,ZodArray:()=>a.n,ZodBigInt:()=>a.Lr,ZodBoolean:()=>a.WF,ZodBranded:()=>a.eN,ZodCatch:()=>a.hw,ZodDate:()=>a.aP,ZodDefault:()=>a.Xi,ZodDiscriminatedUnion:()=>b,ZodEffects:()=>a.k1,ZodEnum:()=>a.Vb,ZodError:()=>a.G,ZodFirstPartyTypeKind:()=>a.kY,ZodFunction:()=>a.CZ,ZodIntersection:()=>a.Jv,ZodIssueCode:()=>a.eq,ZodLazy:()=>a.Ih,ZodLiteral:()=>a.DN,ZodMap:()=>a.Ut,ZodNaN:()=>a.Tq,ZodNativeEnum:()=>a.WM,ZodNever:()=>a.iS,ZodNull:()=>a.PQ,ZodNullable:()=>a.l1,ZodNumber:()=>a.rS,ZodObject:()=>a.bv,ZodOptional:()=>a.Ii,ZodParsedType:()=>a.Zp,ZodPipeline:()=>a._c,ZodPromise:()=>a.$i,ZodReadonly:()=>a.EV,ZodRecord:()=>a.b8,ZodSchema:()=>a.lK,ZodSet:()=>a.Kz,ZodString:()=>a.ND,ZodSymbol:()=>a.K5,ZodTransformer:()=>a.BG,ZodTuple:()=>a.y0,ZodType:()=>a.aR,ZodUndefined:()=>a._Z,ZodUnion:()=>a.fZ,ZodUnknown:()=>a._,ZodVoid:()=>a.a0,addIssueToContext:()=>a.zn,any:()=>a.bz,array:()=>a.YO,bigint:()=>a.o,boolean:()=>a.zM,coerce:()=>m,custom:()=>a.Ie,date:()=>a.p6,defaultErrorMap:()=>a.su,discriminatedUnion:()=>I,effect:()=>a.QZ,enum:()=>a.k5,filteredArray:()=>y,function:()=>a.fH,getErrorMap:()=>a.$W,getParsedType:()=>a.CR,ignore:()=>p,instanceof:()=>a.Nl,intersection:()=>a.E$,isAborted:()=>a.G4,isAsync:()=>a.xP,isDirty:()=>a.DM,isValid:()=>a.fn,late:()=>a.yK,lazy:()=>a.RZ,literal:()=>a.eu,makeIssue:()=>a.y7,map:()=>a.Tj,nan:()=>a.oi,nativeEnum:()=>a.fc,never:()=>a.Zm,normalize:()=>d,null:()=>a.ch,nullable:()=>a.me,number:()=>a.ai,object:()=>a.Ik,objectUtil:()=>a.o6,oboolean:()=>a.yN,onumber:()=>a.p7,optional:()=>a.lq,ostring:()=>a.Di,partial:()=>E,pipeline:()=>a.Tk,preprocess:()=>a.vk,primaryKey:()=>c,promise:()=>a.iv,quotelessJson:()=>a.WI,record:()=>a.g1,set:()=>a.hZ,setErrorMap:()=>a.pJ,sinatra:()=>f,strictObject:()=>a.re,string:()=>a.Yj,symbol:()=>a.HR,transformer:()=>a.Gu,tuple:()=>a.PV,undefined:()=>a.Vx,union:()=>a.KC,unknown:()=>a.L5,util:()=>a.ZS,void:()=>a.rI,z:()=>a.z});var n=r(612543),i=r.n(n),a=r(563838),o=r(30637);let l="__LIVESTORE_PK__",s="__LIVESTORE_NORM__",c=()=>a.z.string().describe(l);function d(e,t){return t.describe(`${s}:${e}`)}let u=e=>{if(e instanceof a.z.ZodLazy)return u(e.schema);if(e instanceof a.z.ZodEffects)return u(e.innerType());if(e instanceof a.z.ZodLiteral)return[e.value];if(e instanceof a.z.ZodEnum)return e.options;if(e instanceof a.z.ZodNativeEnum)return Object.keys(e.enum);if(e instanceof a.z.ZodDefault)return u(e._def.innerType);if(e instanceof a.z.ZodUndefined)return[void 0];else if(e instanceof a.z.ZodNull)return[null];else return null};function p(e){return a.z.any().transform(e=>e)}let m={...a.z.coerce,null:e=>a.z.preprocess(e=>void 0===e?null:e,e),undefined:e=>a.z.preprocess(e=>{if(null!==e)return e},e)},_=new Set([a.kY.ZodNullable,a.kY.ZodOptional]);var h=(e=>(e[e.SINATRA=0]="SINATRA",e[e.LIVEGRAPH=1]="LIVEGRAPH",e))(h||{});function g(e){return a.z.preprocess(e=>{if(void 0===e)return null;if(e&&"string"==typeof e){if(""===e&&(0,o.Lg)())throw Error("You are passing an empty string for a sinatra date. Don't do that.");return new Date(e)}return e},e)}function f(e,t){return t?function(e,t){let r={},n=e.shape;Object.keys(n).map(e=>e).forEach(e=>{let o=i()(e),l=n[e]._def.typeName;if(l=_.has(l)?n[e]._def.innerType._def.typeName:l,o!==e&&(!t||t.shape[o])){if(l===a.kY.ZodDate){r[e]=g(n[e]);return}r[e]=a.z.preprocess(e=>void 0===e?null:e,n[e])}});let o=t.merge(a.z.object(r).passthrough());return a.z.preprocess(e=>{let t={...e};return Object.keys(n).map(e=>e).forEach(r=>{let n=i()(r);n!==r&&(t[r]=e[n])}),t},o.passthrough())}(e,t):function(e){let t={},r=e.shape;Object.keys(r).map(e=>e).forEach(e=>{let n=i()(e),o=r[e]._def.typeName;if(o=_.has(o)?r[e]._def.innerType._def.typeName:o,n===e||o===a.kY.ZodDate){t[e]=g(r[e]);return}});let n=a.z.object(e.shape);return a.z.preprocess(e=>{let t={...e};return Object.keys(r).map(e=>e).forEach(r=>{let n=i()(r);n!==r&&(t[r]=e[n])}),t},n)}(e)}function E(e,t=[]){let r={},n={...e.innerType().shape};t.forEach(t=>{r[t]=e.innerType().shape[t],delete n[t]});let i=a.z.object(n).partial(),o=a.z.object(r).merge(i);return a.z.effect(o,e._def.effect)}function y(e){return a.z.array(a.z.unknown()).transform(t=>t.filter(t=>e.safeParse(t).success))}Symbol("convertedSinatraModel"),(f||(f={})).discriminatedUnion=function(e,t,r){return a.z.preprocess(t=>({...t,[e]:t[i()(e)]}),v(e,t,r))};class b extends a.z.ZodType{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.z.ZodParsedType.object)return a.z.addIssueToContext(t,{code:a.z.ZodIssueCode.invalid_type,expected:a.z.ZodParsedType.object,received:t.parsedType}),a.z.INVALID;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(a.z.addIssueToContext(t,{code:a.z.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),a.z.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=u(("shape"in r?r.shape:r.innerType().shape)[e]);if(!t)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new b({typeName:a.kY.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...function(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:n??t.defaultError}:{message:r??t.defaultError},description:i}}(r)})}}let v=b.create,I=v},747396:(e,t,r)=>{"use strict";r.d(t,{In:()=>a,Wo:()=>i,jm:()=>n});let n={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,clusterBy:"page",orphanedBy:"deleted_pages"},i={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,clusterBy:"page",orphanedBy:"deleted_pages",filterBy:"hidden_sections"},a={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,clusterBy:"page",orphanedBy:"deleted_pages"}},155179:(e,t,r)=>{"use strict";r.d(t,{Fl:()=>i,av:()=>n,gD:()=>a});var n=(e=>(e[e.SAVED=0]="SAVED",e[e.SAVING=1]="SAVING",e[e.PAUSED=2]="PAUSED",e))(n||{}),i=(e=>(e[e.REQUESTED=0]="REQUESTED",e[e.SAVED=1]="SAVED",e))(i||{}),a=(e=>(e[e.PNG=0]="PNG",e[e.JPEG=1]="JPEG",e[e.PDF=2]="PDF",e))(a||{})},913539:(e,t,r)=>{"use strict";r.d(t,{$x:()=>u,B9:()=>c,JI:()=>l,MY:()=>a,Pi:()=>m,Ud:()=>f,Vq:()=>s,_3:()=>g,_E:()=>p,in:()=>o,pc:()=>n,pf:()=>_,sg:()=>i,xH:()=>d,xf:()=>h});var n=(e=>(e[e.V2=2]="V2",e[e.V3=3]="V3",e[e.V4=4]="V4",e[e.MIN=2]="MIN",e[e.MAX=4]="MAX",e))(n||{}),i=(e=>(e.Whiteboard="whiteboard",e))(i||{}),a=(e=>(e[e.V3=3]="V3",e[e.V4=4]="V4",e[e.V5=5]="V5",e[e.V6=6]="V6",e[e.MIN=3]="MIN",e[e.MAX=6]="MAX",e))(a||{}),o=(e=>(e[e.default=0]="default",e[e.last=1]="last",e))(o||{}),l=(e=>(e[e.none=0]="none",e[e.leading=1]="leading",e[e.trailing=2]="trailing",e[e.both=3]="both",e))(l||{}),s=(e=>(e[e.horizontal=0]="horizontal",e[e.vertical=1]="vertical",e))(s||{}),c=(e=>(e[e.horizontal=0]="horizontal",e[e.vertical=1]="vertical",e))(c||{}),d=(e=>(e[e.utility=0]="utility",e[e.drawing=1]="drawing",e))(d||{}),u=(e=>(e[e.automatic=0]="automatic",e[e.persistent=1]="persistent",e))(u||{}),p=(e=>(e.enterCropMode="enterCropMode",e.exitCropMode="exitCropMode",e))(p||{}),m=(e=>(e[e.gradient=0]="gradient",e[e.base=1]="base",e))(m||{}),_=(e=>(e[e.hoveringAboveBar=0]="hoveringAboveBar",e[e.sideEdge=1]="sideEdge",e[e.secondarySideEdge=2]="secondarySideEdge",e[e.pinnedToFloatingBar=3]="pinnedToFloatingBar",e))(_||{}),h=(e=>(e[e.presetColor=0]="presetColor",e[e.presetImage=1]="presetImage",e[e.colorPicker=2]="colorPicker",e[e.imagePicker=3]="imagePicker",e))(h||{}),g=(e=>(e[e.normal=0]="normal",e[e.destructive=1]="destructive",e))(g||{}),f=(e=>(e[e.presetColor=0]="presetColor",e[e.customColor=1]="customColor",e[e.presetImage=2]="presetImage",e[e.customImage=3]="customImage",e))(f||{})},64930:(e,t,r)=>{"use strict";r.d(t,{wu:()=>i,xN:()=>a});var n=(e=>(e[e.FEATURE_DISABLED=0]="FEATURE_DISABLED",e))(n||{}),i=(e=>(e[e.MOBILE_NATIVE_NAVBAR=0]="MOBILE_NATIVE_NAVBAR",e))(i||{}),a=(e=>(e[e.BEGAN=0]="BEGAN",e[e.MOVED=1]="MOVED",e[e.ENDED=2]="ENDED",e[e.CANCELLED=3]="CANCELLED",e[e.MOVED_COALESCED=4]="MOVED_COALESCED",e))(a||{}),o=(e=>(e[e.BEGAN=0]="BEGAN",e[e.MOVED=1]="MOVED",e[e.ENDED=2]="ENDED",e[e.CANCELLED=3]="CANCELLED",e))(o||{})},347240:(e,t,r)=>{"use strict";r.d(t,{H:()=>u,K:()=>m});var n=r(411855),i=r(188507),a=r(38329),o=r(798099),l=r(356390),s=r(809511),c=r(737499),d=r(64930);let u=[s.NLJ.VECTOR_PENCIL,s.NLJ.HIGHLIGHTER,s.NLJ.WASHI_TAPE,s.NLJ.ERASER,s.NLJ.LASSO],p=new Map([[s.NLJ.VECTOR_PENCIL,"set-tool-pencil"],[s.NLJ.HIGHLIGHTER,"set-tool-highlighter"],[s.NLJ.WASHI_TAPE,"set-tool-washi-tape"]]);function m(){let e=(0,c.BI)(),t=(0,c.m0)(),r=(0,c.pI)(),m=(0,i.d4)(e=>e.mirror.appModel.currentTool);n.useEffect(()=>{(null==e?void 0:e.shouldAllowNativeGestures)&&t&&(t._allow_native_gestures_on_points=e=>e.every(e=>!(0,o.UE)(document.elementFromPoint(e.x,e.y))),t._allow_web_gestures=e=>{l.Y5.allowWebGestures&&l.Y5.allowWebGestures(e?1:0)})},[e,t]),n.useEffect(()=>{t&&(t._toggle_auto_draw_with_pencil=e=>{t._auto_draw_with_pencil=e})},[t]);let _=n.useRef(s.NLJ.VECTOR_PENCIL);return n.useEffect(()=>{(null==t?void 0:t._auto_draw_with_pencil)&&m&&p.get(m)&&(_.current=m)},[m,t]),n.useEffect(()=>{if((null==e?void 0:e.suppliesPencilSamples)&&t){var r=!1;t._take_pencil_samples=(e,n)=>{if(l.Y5.takePencilSample&&n.length>0){let c=(e,t)=>{var r,n;null==(n=(r=l.Y5).takePencilSample)||n.call(r,e,t.x,t.y,t.modifierKeys??0)};switch(e){case d.xN.BEGAN:let m=a.D.getState().mirror.appModel.currentTool,h=n[0];if(r=!(0,o.UE)(document.elementFromPoint(h.x,h.y)),t._auto_draw_with_pencil){let e=u.includes(m),{multiplayerEmoji:t}=a.D.getState(),n="REACTING_OR_CHATTING"===t.type&&!!t.imageUrl,i=m===s.NLJ.MULTISELECT,o=p.get(_.current);!o||e||n||!r||i||(s.glU.triggerActionInUserEditScope(o,{source:"figma_mobile"}),m=s.NLJ.VECTOR_PENCIL)}if(r&&(r=u.includes(m)),r){c(d.xN.BEGAN,h);for(var i=1;i<n.length;i++)c(d.xN.MOVED_COALESCED,n[i])}break;case d.xN.MOVED:if(r){c(d.xN.MOVED,n[0]);for(var i=1;i<n.length;i++)c(d.xN.MOVED_COALESCED,n[i])}break;case d.xN.ENDED:if(r){let e=n.length-1;for(var i=0;i<e;i++)c(d.xN.MOVED_COALESCED,n[i]);c(d.xN.ENDED,n[e])}r=!1;break;case d.xN.CANCELLED:if(r){let e=n.length-1;for(var i=0;i<e;i++)c(d.xN.MOVED_COALESCED,n[i]);c(d.xN.CANCELLED,n[e])}r=!1}}}}},[e,t]),n.useEffect(()=>{r&&(r._take_indirect_pinch_gesture=(e,t,r,n)=>{l.Y5.takeIndirectPinchGesture&&!(0,o.UE)(document.elementFromPoint(r.x,r.y))&&l.Y5.takeIndirectPinchGesture(e,t,r.x,r.y,n)})},[r]),null}},555024:(e,t,r)=>{"use strict";r.d(t,{o:()=>i,t:()=>a});let n=!1;function i(e){n=e}function a(){let e=window.FigmaMobile;return n||((null==e?void 0:e.shouldAllowSimulatedRightClick)??!0)}},742482:(e,t,r)=>{"use strict";r.d(t,{vW:()=>eE,S0:()=>eo,pK:()=>ei,Jh:()=>ea,Jm:()=>el,W6:()=>e_,H_:()=>eh});var n=r(411855),i=r(188507),a=r(461816),o=r.n(a),l=r(126049),s=r(717068),c=r(935283),d=r(320063),u=r(358145),p=r(374626),m=r(964937),_=r(776621),h=r(881396),g=r(96328),f=r(304783),E=r(456363),y=r(902139),b=r(428654),v=r(726864),I=r(852800),T=r(662531),S=r(812821),w=r(701882),A=r(809511),C=r(555074),N=r(29680),O=r(737499),L=r(770333),R=r(100197),P=r(279702),k=r(231472),D=r(279145),M=r(16774),x=r(913539),F=r(161061),U=r(202232),B=r(548785),H=r(118003),V=r(238289),G=r(925075),W=r(781779);let K=window.devicePixelRatio;function Y({color:e=W.jRe}){return n.createElement("svg",{width:88*K,height:128*K,viewBox:"-5 1 88 128",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_3625_33331)"},n.createElement("g",{filter:"url(#filter0_ddd_3625_33331)"},n.createElement("mask",{id:"mask0_3625_33331",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"18",y:"29",width:"40",height:"100"},n.createElement("path",{d:"M31 29H46L57.5 129H18.5L31 29Z",fill:"#C4C4C4"})),n.createElement("g",{mask:"url(#mask0_3625_33331)"},n.createElement("g",{filter:"url(#filter1_f_3625_33331)"},n.createElement("rect",{x:"32.5",y:"31",width:"12",height:"102",fill:e}))),n.createElement("g",{filter:"url(#filter2_i_3625_33331)"},n.createElement("path",{d:"M34.4415 27C32.5094 27 30.8177 28.3242 30.3156 30.2296L16.7858 79.4873C15.9325 82.5938 15.5001 85.8008 15.5001 89.0223L15.5 130H62.5V89.039C62.5 85.8066 62.0647 82.589 61.2058 79.4729L47.6498 30.2922C47.1697 28.356 45.4636 27 43.5079 27H34.4415Z",fill:"white",fillOpacity:"0.66"}),n.createElement("path",{d:"M34.4415 27C32.5094 27 30.8177 28.3242 30.3156 30.2296L16.7858 79.4873C15.9325 82.5938 15.5001 85.8008 15.5001 89.0223L15.5 130H62.5V89.039C62.5 85.8066 62.0647 82.589 61.2058 79.4729L47.6498 30.2922C47.1697 28.356 45.4636 27 43.5079 27H34.4415Z",fill:"url(#paint0_linear_3625_33331)"})),n.createElement("g",{filter:"url(#filter3_i_3625_33331)"},n.createElement("path",{d:"M34.3445 27C32.3713 27 30.6436 28.3242 30.1308 30.2296L16.338 79.3986C15.4502 82.5634 15.0001 85.8349 15.0001 89.1218L15 130H63V89.1388C63 85.8408 62.5468 82.5585 61.6532 79.384L47.8339 30.2922C47.3435 28.356 45.6011 27 43.6038 27H34.3445Z",fill:"white",fillOpacity:"0.3"}),n.createElement("path",{d:"M34.3445 27C32.3713 27 30.6436 28.3242 30.1308 30.2296L16.338 79.3986C15.4502 82.5634 15.0001 85.8349 15.0001 89.1218L15 130H63V89.1388C63 85.8408 62.5468 82.5585 61.6532 79.384L47.8339 30.2922C47.3435 28.356 45.6011 27 43.6038 27H34.3445Z",fill:"url(#paint1_linear_3625_33331)"})),n.createElement("path",{d:"M30.3715 30.2972L30.3716 30.2972L30.3722 30.2946C30.8557 28.4983 32.4844 27.25 34.3445 27.25H43.6038C45.4867 27.25 47.1292 28.5284 47.5915 30.3536L47.5915 30.3536L47.5932 30.3599L61.4125 79.4517C62.3 82.6042 62.75 85.8638 62.75 89.1388V129.75H15.25L15.2501 89.1218C15.2501 85.8577 15.6971 82.6089 16.5787 79.4661L30.3715 30.2972Z",stroke:"#989898",strokeWidth:"0.5"}),n.createElement("path",{d:"M37.5019 11.1184C37.6985 10.4549 38.308 9.99976 39 9.99976V9.99976C39.692 9.99976 40.3015 10.4549 40.4981 11.1184L45.5 27.9998H32.5L37.5019 11.1184Z",fill:e}),n.createElement("path",{d:"M40.2584 11.1894L45.1652 27.7498H32.8348L37.7416 11.1894C37.9067 10.6321 38.4187 10.2498 39 10.2498C39.5813 10.2498 40.0933 10.6321 40.2584 11.1894Z",stroke:"#B8B8B8",strokeWidth:"0.5"}))),n.createElement("defs",null,n.createElement("filter",{id:"filter0_ddd_3625_33331",x:"-9",y:"-19.0002",width:"96",height:"168",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-1"}),n.createElement("feGaussianBlur",{stdDeviation:"2"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3625_33331"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-2"}),n.createElement("feGaussianBlur",{stdDeviation:"5"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_3625_33331",result:"effect2_dropShadow_3625_33331"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-5"}),n.createElement("feGaussianBlur",{stdDeviation:"12"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_dropShadow_3625_33331",result:"effect3_dropShadow_3625_33331"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect3_dropShadow_3625_33331",result:"shape"})),n.createElement("filter",{id:"filter1_f_3625_33331",x:"26.5",y:"25",width:"24",height:"114",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_3625_33331"})),n.createElement("filter",{id:"filter2_i_3625_33331",x:"15.5",y:"27",width:"47",height:"104.091",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"3.27273"}),n.createElement("feGaussianBlur",{stdDeviation:"0.545455"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.54 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_3625_33331"})),n.createElement("filter",{id:"filter3_i_3625_33331",x:"15",y:"27",width:"48",height:"105.182",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"4.36364"}),n.createElement("feGaussianBlur",{stdDeviation:"1.09091"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.67 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_3625_33331"})),n.createElement("linearGradient",{id:"paint0_linear_3625_33331",x1:"15.5",y1:"145",x2:"62.4948",y2:"144.504",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0.18"}),n.createElement("stop",{offset:"0.314097",stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.705075",stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopOpacity:"0.18"})),n.createElement("linearGradient",{id:"paint1_linear_3625_33331",x1:"15",y1:"144.857",x2:"63.0021",y2:"145.054",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.188089",stopColor:"white"}),n.createElement("stop",{offset:"0.410617",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.596847",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.814202",stopColor:"white"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("clipPath",{id:"clip0_3625_33331"},n.createElement("rect",{width:"78",height:"130",fill:"white",transform:"translate(0 -0.000244141)"}))))}function j({color:e=W.Sb0}){return n.createElement("svg",{width:88*K,height:128*K,viewBox:"-5 -4 88 128",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_3625_33342)"},n.createElement("g",{filter:"url(#filter0_dddd_3625_33342)"},n.createElement("mask",{id:"mask0_3625_33342",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"13",y:"24",width:"52",height:"102"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 24.8572H32.21C30.3188 24.8572 28.7857 26.3903 28.7857 28.2815V34.8427C28.7857 46.9138 23.9794 58.4883 15.4286 67.0087C13.8739 68.5578 13 70.6623 13 72.857V78.6925V126H39L65 126V78.6927V72.8572C65 70.6625 64.1261 68.558 62.5714 67.0089C54.0206 58.4885 49.2143 46.914 49.2143 34.8429V28.2817C49.2143 26.3905 47.6812 24.8574 45.79 24.8574H39V24.8572Z",fill:"white"})),n.createElement("g",{mask:"url(#mask0_3625_33342)"},n.createElement("mask",{id:"path-2-inside-1_3625_33342",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 24.8572H32.21C30.3188 24.8572 28.7857 26.3903 28.7857 28.2815V34.8427C28.7857 46.9138 23.9794 58.4883 15.4286 67.0087C13.8739 68.5578 13 70.6623 13 72.857V78.6925V121.429H39V121.429H65V78.6927V72.8572C65 70.6625 64.1261 68.558 62.5714 67.0089C54.0206 58.4885 49.2143 46.914 49.2143 34.8429V28.2817C49.2143 26.3905 47.6812 24.8574 45.79 24.8574H39V24.8572Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 24.8572H32.21C30.3188 24.8572 28.7857 26.3903 28.7857 28.2815V34.8427C28.7857 46.9138 23.9794 58.4883 15.4286 67.0087C13.8739 68.5578 13 70.6623 13 72.857V78.6925V121.429H39V121.429H65V78.6927V72.8572C65 70.6625 64.1261 68.558 62.5714 67.0089C54.0206 58.4885 49.2143 46.914 49.2143 34.8429V28.2817C49.2143 26.3905 47.6812 24.8574 45.79 24.8574H39V24.8572Z",fill:"#FDFDFD"}),n.createElement("path",{d:"M39 24.8572H39.5V24.3572H39V24.8572ZM15.4286 67.0087L15.7815 67.3628H15.7815L15.4286 67.0087ZM13 121.429H12.5V121.929H13V121.429ZM39 121.429H39.5V120.929H39V121.429ZM39 121.429H38.5V121.929H39V121.429ZM65 121.429V121.929H65.5V121.429H65ZM62.5714 67.0089L62.9244 66.6547L62.5714 67.0089ZM39 24.8574H38.5V25.3574H39V24.8574ZM32.21 25.3572H39V24.3572H32.21V25.3572ZM29.2857 28.2815C29.2857 26.6664 30.595 25.3572 32.21 25.3572V24.3572C30.0427 24.3572 28.2857 26.1141 28.2857 28.2815H29.2857ZM29.2857 34.8427V28.2815H28.2857V34.8427H29.2857ZM15.7815 67.3628C24.4264 58.7486 29.2857 47.0468 29.2857 34.8427H28.2857C28.2857 46.7809 23.5323 58.2279 15.0756 66.6545L15.7815 67.3628ZM13.5 72.857C13.5 70.7952 14.321 68.8182 15.7815 67.3628L15.0756 66.6545C13.4268 68.2975 12.5 70.5294 12.5 72.857H13.5ZM13.5 78.6925V72.857H12.5V78.6925H13.5ZM13.5 121.429V78.6925H12.5V121.429H13.5ZM39 120.929H13V121.929H39V120.929ZM38.5 121.429V121.429H39.5V121.429H38.5ZM39 121.929H65V120.929H39V121.929ZM65.5 121.429V78.6927H64.5V121.429H65.5ZM65.5 78.6927V72.8572H64.5V78.6927H65.5ZM65.5 72.8572C65.5 70.5296 64.5732 68.2977 62.9244 66.6547L62.2185 67.363C63.679 68.8184 64.5 70.7954 64.5 72.8572H65.5ZM62.9244 66.6547C54.4677 58.2281 49.7143 46.7811 49.7143 34.8429H48.7143C48.7143 47.047 53.5736 58.7488 62.2185 67.363L62.9244 66.6547ZM49.7143 34.8429V28.2817H48.7143V34.8429H49.7143ZM49.7143 28.2817C49.7143 26.1143 47.9573 24.3574 45.79 24.3574V25.3574C47.405 25.3574 48.7143 26.6666 48.7143 28.2817H49.7143ZM45.79 24.3574H39V25.3574H45.79V24.3574ZM38.5 24.8572V24.8574H39.5V24.8572H38.5Z",fill:"#B2B2B2",mask:"url(#path-2-inside-1_3625_33342)"}),n.createElement("g",{filter:"url(#filter1_f_3625_33342)"},n.createElement("mask",{id:"path-4-inside-2_3625_33342",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 24.8572H32.21C30.3188 24.8572 28.7857 26.3903 28.7857 28.2815V34.8427C28.7857 46.9138 23.9794 58.4883 15.4286 67.0087C13.8739 68.5578 13 70.6623 13 72.857V78.6925V121.429H39V121.429H65V78.6927V72.8572C65 70.6625 64.1261 68.558 62.5714 67.0089C54.0206 58.4885 49.2143 46.914 49.2143 34.8429V28.2817C49.2143 26.3905 47.6812 24.8574 45.79 24.8574H39V24.8572Z"})),n.createElement("path",{d:"M39 24.8572H41.1429V22.7143H39V24.8572ZM15.4286 67.0087L16.9411 68.5266L16.9411 68.5266L15.4286 67.0087ZM13 121.429H10.8571V123.571H13V121.429ZM39 121.429H41.1429V119.286H39V121.429ZM39 121.429H36.8571V123.572H39V121.429ZM65 121.429V123.572H67.1429V121.429H65ZM62.5714 67.0089L64.084 65.4909L62.5714 67.0089ZM39 24.8574H36.8571V27.0002H39V24.8574ZM32.21 27H39V22.7143H32.21V27ZM30.9286 28.2815C30.9286 27.5738 31.5023 27 32.21 27V22.7143C29.1354 22.7143 26.6429 25.2068 26.6429 28.2815H30.9286ZM30.9286 34.8427V28.2815H26.6429V34.8427H30.9286ZM16.9411 68.5266C25.8954 59.6041 30.9286 47.4835 30.9286 34.8427H26.6429C26.6429 46.3442 22.0633 57.3724 13.916 65.4907L16.9411 68.5266ZM15.1429 72.857C15.1429 71.2319 15.7899 69.6737 16.9411 68.5266L13.916 65.4907C11.9578 67.442 10.8571 70.0926 10.8571 72.857H15.1429ZM15.1429 78.6925V72.857H10.8571V78.6925H15.1429ZM15.1429 121.429V78.6925H10.8571V121.429H15.1429ZM39 119.286H13V123.571H39V119.286ZM36.8571 121.429V121.429H41.1429V121.429H36.8571ZM39 123.572H65V119.286H39V123.572ZM67.1429 121.429V78.6927H62.8571V121.429H67.1429ZM67.1429 78.6927V72.8572H62.8571V78.6927H67.1429ZM67.1429 72.8572C67.1429 70.0928 66.0422 67.4422 64.084 65.4909L61.0589 68.5268C62.2101 69.6739 62.8571 71.2321 62.8571 72.8572H67.1429ZM64.084 65.4909C55.9367 57.3726 51.3571 46.3444 51.3571 34.8429H47.0714C47.0714 47.4837 52.1046 59.6043 61.0589 68.5268L64.084 65.4909ZM51.3571 34.8429V28.2817H47.0714V34.8429H51.3571ZM51.3571 28.2817C51.3571 25.207 48.8647 22.7145 45.79 22.7145V27.0002C46.4977 27.0002 47.0714 27.574 47.0714 28.2817H51.3571ZM45.79 22.7145H39V27.0002H45.79V22.7145ZM36.8571 24.8572V24.8574H41.1429V24.8572H36.8571Z",fill:"#BFBFBF",mask:"url(#path-4-inside-2_3625_33342)"})),n.createElement("g",{filter:"url(#filter2_f_3625_33342)"},n.createElement("mask",{id:"path-6-inside-3_3625_33342",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 24.8572H32.21C30.3188 24.8572 28.7857 26.3903 28.7857 28.2815V34.8427C28.7857 46.9138 23.9794 58.4883 15.4286 67.0087C13.8739 68.5578 13 70.6623 13 72.857V78.6925V121.429H39V121.429H65V78.6927V72.8572C65 70.6625 64.1261 68.558 62.5714 67.0089C54.0206 58.4885 49.2143 46.914 49.2143 34.8429V28.2817C49.2143 26.3905 47.6812 24.8574 45.79 24.8574H39V24.8572Z"})),n.createElement("path",{d:"M39 24.8572H39.71V24.1472H39V24.8572ZM15.4286 67.0087L15.9297 67.5116H15.9297L15.4286 67.0087ZM13 121.429H12.29V122.139H13V121.429ZM39 121.429H39.71V120.719H39V121.429ZM39 121.429H38.29V122.139H39V121.429ZM65 121.429V122.139H65.71V121.429H65ZM62.5714 67.0089L63.0726 66.5059L62.5714 67.0089ZM39 24.8574H38.29V25.5674H39V24.8574ZM32.21 25.5672H39V24.1472H32.21V25.5672ZM29.4957 28.2815C29.4957 26.7824 30.7109 25.5672 32.21 25.5672V24.1472C29.9267 24.1472 28.0757 25.9982 28.0757 28.2815H29.4957ZM29.4957 34.8427V28.2815H28.0757V34.8427H29.4957ZM15.9297 67.5116C24.6142 58.858 29.4957 47.1026 29.4957 34.8427H28.0757C28.0757 46.7251 23.3445 58.1185 14.9274 66.5057L15.9297 67.5116ZM13.71 72.857C13.71 70.851 14.5087 68.9275 15.9297 67.5116L14.9274 66.5057C13.239 68.1881 12.29 70.4735 12.29 72.857H13.71ZM13.71 78.6925V72.857H12.29V78.6925H13.71ZM13.71 121.429V78.6925H12.29V121.429H13.71ZM39 120.719H13V122.139H39V120.719ZM38.29 121.429V121.429H39.71V121.429H38.29ZM39 122.139H65V120.719H39V122.139ZM65.71 121.429V78.6927H64.29V121.429H65.71ZM65.71 78.6927V72.8572H64.29V78.6927H65.71ZM65.71 72.8572C65.71 70.4737 64.761 68.1883 63.0726 66.5059L62.0703 67.5118C63.4913 68.9277 64.29 70.8512 64.29 72.8572H65.71ZM63.0726 66.5059C54.6555 58.1187 49.9243 46.7253 49.9243 34.8429H48.5043C48.5043 47.1028 53.3858 58.8582 62.0703 67.5118L63.0726 66.5059ZM49.9243 34.8429V28.2817H48.5043V34.8429H49.9243ZM49.9243 28.2817C49.9243 25.9984 48.0733 24.1474 45.79 24.1474V25.5674C47.2891 25.5674 48.5043 26.7826 48.5043 28.2817H49.9243ZM45.79 24.1474H39V25.5674H45.79V24.1474ZM38.29 24.8572V24.8574H39.71V24.8572H38.29Z",fill:"#999999",mask:"url(#path-6-inside-3_3625_33342)"})),n.createElement("g",{filter:"url(#filter3_f_3625_33342)"},n.createElement("path",{d:"M38.7094 24.8574C36.8183 24.8574 34.3566 26.3905 34.3566 28.2817V34.8429C34.3566 46.9141 33.2645 58.4885 24.7137 67.0089C23.159 68.5581 22.2852 70.6625 22.2852 72.8573V121.429H55.7137V72.8573C55.7137 70.6625 54.8398 68.5581 53.2852 67.0089C44.7344 58.4885 43.6423 46.9141 43.6423 34.8429V28.2817C43.6423 26.3905 41.1806 24.8574 39.2894 24.8574H38.7094Z",fill:"white"})),n.createElement("path",{d:"M13 76.2996H65V126.143H13V76.2996Z",fill:e}),n.createElement("path",{d:"M13 76H65V125.7H13V76Z",fill:"url(#paint0_linear_3625_33342)"}),n.createElement("path",{d:"M13 76H65V125.7H13V76Z",fill:"url(#paint1_linear_3625_33342)"}),n.createElement("path",{d:"M13.25 76.25H64.75V125.45H13.25V76.25Z",stroke:"#9B9B9B",strokeWidth:"0.5"})),n.createElement("path",{d:"M31.5713 16.0664C31.5713 15.7687 31.756 15.5022 32.0348 15.3976L45.4633 10.3619C45.9303 10.1868 46.4284 10.532 46.4284 11.0307V25.6H31.5713V16.0664Z",fill:e}),n.createElement("path",{d:"M31.8213 16.0664C31.8213 15.8729 31.9413 15.6997 32.1226 15.6317L45.5511 10.596C45.8546 10.4822 46.1784 10.7065 46.1784 11.0307V25.35H31.8213V16.0664Z",stroke:"#989898",strokeWidth:"0.5"}))),n.createElement("defs",null,n.createElement("filter",{id:"filter0_dddd_3625_33342",x:"0.142858",y:"-8.25575",width:"77.7143",height:"141.399",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-0.714286"}),n.createElement("feGaussianBlur",{stdDeviation:"0.371652"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.026 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3625_33342"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"1.04464"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_3625_33342",result:"effect2_dropShadow_3625_33342"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-0.714286"}),n.createElement("feGaussianBlur",{stdDeviation:"2.80246"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.054 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_dropShadow_3625_33342",result:"effect3_dropShadow_3625_33342"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-5.71429"}),n.createElement("feGaussianBlur",{stdDeviation:"6.42857"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect3_dropShadow_3625_33342",result:"effect4_dropShadow_3625_33342"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect4_dropShadow_3625_33342",result:"shape"})),n.createElement("filter",{id:"filter1_f_3625_33342",x:"5.85714",y:"17.7143",width:"66.2857",height:"110.857",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3.57143",result:"effect1_foregroundBlur_3625_33342"})),n.createElement("filter",{id:"filter2_f_3625_33342",x:"8.71429",y:"20.5715",width:"60.5714",height:"105.143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"2.14286",result:"effect1_foregroundBlur_3625_33342"})),n.createElement("filter",{id:"filter3_f_3625_33342",x:"17.9994",y:"20.5717",width:"42.0001",height:"105.143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"2.14286",result:"effect1_foregroundBlur_3625_33342"})),n.createElement("linearGradient",{id:"paint0_linear_3625_33342",x1:"65",y1:"101.844",x2:"13",y2:"101.844",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0"}),n.createElement("stop",{offset:"0.166394",stopColor:"white",stopOpacity:"0.08"}),n.createElement("stop",{offset:"0.516647",stopColor:"white",stopOpacity:"0.16"}),n.createElement("stop",{offset:"0.824577",stopColor:"white",stopOpacity:"0.08"}),n.createElement("stop",{offset:"1",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint1_linear_3625_33342",x1:"13",y1:"98.9387",x2:"65",y2:"98.9387",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.173337",stopOpacity:"0"}),n.createElement("stop",{offset:"0.831435",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopOpacity:"0.12"})),n.createElement("clipPath",{id:"clip0_3625_33342"},n.createElement("rect",{width:"78",height:"126",fill:"white"}))))}function z(e){return n.createElement("svg",{width:88*K,height:128*K,viewBox:"-5 -3 88 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.createElement("g",{clipPath:"url(#clip0_3625_33376)"},n.createElement("g",{filter:"url(#filter0_ddd_3625_33376)"},n.createElement("path",{d:"M11 21.6311C11 18.3174 13.6863 15.6311 17 15.6311H61C64.3137 15.6311 67 18.3174 67 21.6311V65.1068V123C67 124.657 65.6569 126 64 126H14C12.3431 126 11 124.657 11 123V65.1068V21.6311Z",fill:"white"})),n.createElement("mask",{id:"mask0_3625_33376",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"11",y:"15",width:"56",height:"111"},n.createElement("path",{d:"M11 20.6311C11 17.8697 13.2386 15.6311 16 15.6311H62C64.7614 15.6311 67 17.8697 67 20.6311V65.1068V126H11V65.1068V20.6311Z",fill:"#C4C4C4"})),n.createElement("g",{mask:"url(#mask0_3625_33376)"},n.createElement("g",{filter:"url(#filter1_i_3625_33376)"},n.createElement("path",{d:"M11 20.6311C11 17.8697 13.2386 15.6311 16 15.6311H62C64.7614 15.6311 67 17.8697 67 20.6311V65.1068V126H11V65.1068V20.6311Z",fill:"white"})),n.createElement("path",{d:"M11.25 20.6311C11.25 18.0078 13.3766 15.8811 16 15.8811H62C64.6233 15.8811 66.75 18.0078 66.75 20.6311V65.1068V125.75H11.25V65.1068V20.6311Z",stroke:"#989898",strokeWidth:"0.5"}),n.createElement("g",{filter:"url(#filter2_f_3625_33376)"},n.createElement("rect",{x:"7",y:"29.1458",width:"64",height:"18.0194",fill:"#E0E0E0"})),n.createElement("rect",{x:"17",y:"51.6699",width:"44",height:"66.4466",rx:"6",fill:"#666666"})),n.createElement("g",{filter:"url(#filter3_f_3625_33376)"},n.createElement("path",{d:"M61 83.2039C61 101.242 57.436 115.864 39 115.864C20.564 115.864 17 101.242 17 83.2039C17 65.1662 20.564 50.5437 39 50.5437C57.436 50.5437 61 65.1662 61 83.2039Z",fill:"#969696"})),n.createElement("mask",{id:"path-8-inside-1_3625_33376",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 10V15.6311V15.8494V111.739V111.864C19 114.073 20.7909 115.864 23 115.864H55C57.2091 115.864 59 114.073 59 111.864V111.739V15.8494V15.6311V10L54 15.6311L49 10L44 15.6311L39 10L34 15.6311L29 10L24 15.6311L19 10Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 10V15.6311V15.8494V111.739V111.864C19 114.073 20.7909 115.864 23 115.864H55C57.2091 115.864 59 114.073 59 111.864V111.739V15.8494V15.6311V10L54 15.6311L49 10L44 15.6311L39 10L34 15.6311L29 10L24 15.6311L19 10Z",fill:"url(#pattern0)"}),n.createElement("path",{d:"M19 10L19.3739 9.66802L18.5 8.68384V10H19ZM59 10H59.5V8.68384L58.6261 9.66802L59 10ZM54 15.6311L53.6261 15.963L54 16.3841L54.3739 15.963L54 15.6311ZM49 10L49.3739 9.66802L49 9.24695L48.6261 9.66802L49 10ZM44 15.6311L43.6261 15.963L44 16.3841L44.3739 15.963L44 15.6311ZM39 10L39.3739 9.66802L39 9.24695L38.6261 9.66802L39 10ZM34 15.6311L33.6261 15.963L34 16.3841L34.3739 15.963L34 15.6311ZM29 10L29.3739 9.66802L29 9.24695L28.6261 9.66802L29 10ZM24 15.6311L23.6261 15.963L24 16.3841L24.3739 15.963L24 15.6311ZM19.5 15.6311V10H18.5V15.6311H19.5ZM19.5 15.8494V15.6311H18.5V15.8494H19.5ZM19.5 111.739V15.8494H18.5V111.739H19.5ZM19.5 111.864V111.739H18.5V111.864H19.5ZM23 115.364C21.067 115.364 19.5 113.797 19.5 111.864H18.5C18.5 114.349 20.5147 116.364 23 116.364V115.364ZM55 115.364H23V116.364H55V115.364ZM58.5 111.864C58.5 113.797 56.933 115.364 55 115.364V116.364C57.4853 116.364 59.5 114.349 59.5 111.864H58.5ZM58.5 111.739V111.864H59.5V111.739H58.5ZM58.5 15.8494V111.739H59.5V15.8494H58.5ZM58.5 15.6311V15.8494H59.5V15.6311H58.5ZM58.5 10V15.6311H59.5V10H58.5ZM54.3739 15.963L59.3739 10.332L58.6261 9.66802L53.6261 15.2991L54.3739 15.963ZM48.6261 10.332L53.6261 15.963L54.3739 15.2991L49.3739 9.66802L48.6261 10.332ZM44.3739 15.963L49.3739 10.332L48.6261 9.66802L43.6261 15.2991L44.3739 15.963ZM38.6261 10.332L43.6261 15.963L44.3739 15.2991L39.3739 9.66802L38.6261 10.332ZM34.3739 15.963L39.3739 10.332L38.6261 9.66802L33.6261 15.2991L34.3739 15.963ZM28.6261 10.332L33.6261 15.963L34.3739 15.2991L29.3739 9.66802L28.6261 10.332ZM24.3739 15.963L29.3739 10.332L28.6261 9.66802L23.6261 15.2991L24.3739 15.963ZM18.6261 10.332L23.6261 15.963L24.3739 15.2991L19.3739 9.66802L18.6261 10.332Z",fill:"#B2B2B2",mask:"url(#path-8-inside-1_3625_33376)"}),n.createElement("path",{d:"M19 55.6699C19 53.4608 20.7909 51.6699 23 51.6699H55C57.2091 51.6699 59 53.4608 59 55.6699V113.864C59 114.969 58.1046 115.864 57 115.864H21C19.8954 115.864 19 114.969 19 113.864V55.6699Z",fill:"url(#paint0_linear_3625_33376)"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_ddd_3625_33376",x:"-6.1875",y:"-5.13713",width:"90.375",height:"144.744",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-0.716146"}),n.createElement("feGaussianBlur",{stdDeviation:"1.43229"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3625_33376"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-1.43229"}),n.createElement("feGaussianBlur",{stdDeviation:"3.58073"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_3625_33376",result:"effect2_dropShadow_3625_33376"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-3.58073"}),n.createElement("feGaussianBlur",{stdDeviation:"8.59375"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_dropShadow_3625_33376",result:"effect3_dropShadow_3625_33376"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect3_dropShadow_3625_33376",result:"shape"})),n.createElement("filter",{id:"filter1_i_3625_33376",x:"11",y:"15.6311",width:"56",height:"111.744",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"4.125"}),n.createElement("feGaussianBlur",{stdDeviation:"0.6875"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.4 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_3625_33376"})),n.createElement("filter",{id:"filter2_f_3625_33376",x:"1",y:"23.1458",width:"76",height:"30.0195",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_3625_33376"})),n.createElement("filter",{id:"filter3_f_3625_33376",x:"11",y:"44.5437",width:"56",height:"77.3203",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_3625_33376"})),n.createElement("pattern",{id:"pattern0",x:"19",y:"19",width:e.imageWidth/e.imageHeight*40,height:40,patternUnits:"userSpaceOnUse",patternTransform:"rotate(-90) translate(40)"},n.createElement("image",{id:"image0_2799_15249",width:e.imageWidth/e.imageHeight*40,height:40,xlinkHref:e.imageURL})),n.createElement("linearGradient",{id:"paint0_linear_3625_33376",x1:"39",y1:"51.6699",x2:"39",y2:"115.864",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.350624",stopColor:"white",stopOpacity:"0.7"}),n.createElement("stop",{offset:"0.442982",stopColor:"white",stopOpacity:"0.8"}),n.createElement("stop",{offset:"0.543827",stopColor:"white",stopOpacity:"0.7"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("clipPath",{id:"clip0_3625_33376"},n.createElement("rect",{width:"78",height:"126",fill:"white"}))))}var $=r(954355),Z=r(555021),q=r(939863);let J=[{itemStringType:"palette",identifier:"palettePencil",rowMaxSize:0,swatches:(0,$.bE)((0,$.LK)("PENCIL"),!0,"base")},{itemStringType:"divider",identifier:"DIVIDER_PENCIL_1",padding:x.JI.none,axis:x.Vq.vertical},{itemStringType:"iconAction",identifier:"markerDrawingOptions",iconImageURL:"https://static.figma.com/uploads/e138358eb8b3a07efda73c406e4c61cc3d9fe6d3",flashesOnPress:!1,submenu:{position:x.pf.secondarySideEdge,rowMaxSize:0,items:$.T5,pages:[{rowMaxSize:0,items:$.T5}]}},{itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}],X=[{itemStringType:"palette",identifier:"paletteHighlighter",rowMaxSize:0,swatches:(0,$.bE)((0,$.LK)("HIGHLIGHTER"),!1,"highlight")},{itemStringType:"divider",identifier:"DIVIDER_HIGHLIGHTER_1",padding:x.JI.none,axis:x.Vq.vertical},{itemStringType:"iconAction",identifier:"highlighterDrawingOptions",iconImageURL:"https://static.figma.com/uploads/c1837ca930ad93b0f6cc7e262e425757c34bca44",flashesOnPress:!1,submenu:{position:x.pf.secondarySideEdge,rowMaxSize:0,items:$.xp,pages:[{rowMaxSize:0,items:$.xp}]}},{itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}],Q=[{itemStringType:"palette",identifier:"paletteTape",rowMaxSize:0,swatches:(0,$.MC)($.FC,!0)}],ee=[{itemStringType:"iconAction",identifier:"ELBOWED",iconImageURL:"https://static.figma.com/uploads/b2ed461201ea92ddea96eec7dbd2581472b90982",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"STRAIGHT",iconImageURL:"https://static.figma.com/uploads/24fdae52d3a619a1f057011d4cc78d70b1d6134e",flashesOnPress:!1}],et=()=>{let e=(0,O.Ef)();if(e&&e.nativeToolbarSupportedVersions){let t=e.nativeToolbarSupportedVersions.min,r=e.nativeToolbarSupportedVersions.max,n=x.pc.MIN,i=x.pc.MAX;if(n<=r&&t<=i)return Math.min(r,i)}},er=()=>{let e=(0,O.se)();return!!e&&!!e.supportsCombinedHandSelect},en=()=>er()?"set-tool-default":"set-tool-hand";function ei(e){return e===I.NLJ.CONNECTOR_ELBOWED||e===I.NLJ.CONNECTOR_STRAIGHT?"CONNECTOR":(0,B.qW)(e)?"SHAPE":e===I.NLJ.VECTOR_PENCIL?"PENCIL":e===I.NLJ.WASHI_TAPE?"TAPE":e===I.NLJ.HAND_SELECT?"HANDSELECT":e===I.NLJ.MULTISELECT?"MULTISELECT":I.NLJ[e]}let ea=new Map([["SELECT","set-tool-default"],["HAND","set-tool-hand"],["HANDSELECT","set-tool-default"],["MULTISELECT","set-tool-multiselect"],["PENCIL","set-tool-pencil"],["HIGHLIGHTER","set-tool-highlighter"],["ERASER","set-tool-eraser"],["TAPE","set-tool-washi-tape"],["LASSO","set-tool-lasso"]]);function eo(e){return["PENCIL","HIGHLIGHTER","TAPE","ERASER","LASSO"].includes(e)}function el(e){I.glU.triggerActionInUserEditScope(e,{source:"figma_mobile"})}let es=T.nc.user("ios-native-toolbar",e=>{I.glU.nativeToolbarInsertItemOntoCanvas(e)});function ec(e){if(void 0!==e)switch(e){case x.pc.V2:return function(){let e=[{itemStringType:"stack",identifier:"STACK_SELECT_HAND",items:[{itemStringType:"tool",identifier:"SELECT",iconImageURL:"https://static.figma.com/uploads/9cd5627bc7c9002caec32417933fb336962c7e00",buttonType:x.xH.utility},{itemStringType:"tool",identifier:"HAND",iconImageURL:"https://static.figma.com/uploads/b999f3725564d8196d79083d0d01437932f4f88a",buttonType:x.xH.utility}]},{itemStringType:"divider",identifier:"DIVIDER_1",padding:x.JI.trailing},{itemStringType:"drawingToolGroup",identifier:"DRAWING",padding:x.JI.none,tools:[{itemStringType:"tool",identifier:"PENCIL",iconImageURL:"https://static.figma.com/uploads/95407cf40a9b4e6961940a82ce9f58fd2da90e1f",submenu:{position:x.pf.sideEdge,rowMaxSize:0,items:[{itemStringType:"palette",identifier:"palettePencil",rowMaxSize:0,swatches:(0,$.bE)((0,$.LK)("PENCIL"),!0,"base")},{itemStringType:"divider",identifier:"DIVIDER_PENCIL_1",padding:x.JI.none,axis:x.Vq.vertical},{itemStringType:"iconAction",identifier:"markerDrawingOptions",iconImageURL:"https://static.figma.com/uploads/e138358eb8b3a07efda73c406e4c61cc3d9fe6d3",flashesOnPress:!1,submenu:{position:x.pf.secondarySideEdge,rowMaxSize:0,items:$.T5}},{itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]},buttonType:x.xH.drawing},{itemStringType:"tool",identifier:"HIGHLIGHTER",iconImageURL:"https://static.figma.com/uploads/3d3b3635536c8b5134ab706267f05276bd93c8f3",submenu:{position:x.pf.sideEdge,rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteHighlighter",rowMaxSize:0,swatches:(0,$.bE)((0,$.LK)("HIGHLIGHTER"),!1,"highlight")},{itemStringType:"divider",identifier:"DIVIDER_HIGHLIGHTER_1",padding:x.JI.none,axis:x.Vq.vertical},{itemStringType:"iconAction",identifier:"highlighterDrawingOptions",iconImageURL:"https://static.figma.com/uploads/c1837ca930ad93b0f6cc7e262e425757c34bca44",flashesOnPress:!1,submenu:{position:x.pf.secondarySideEdge,rowMaxSize:0,items:$.xp}},{itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]},buttonType:x.xH.drawing},{itemStringType:"tool",identifier:"TAPE",iconImageURL:"https://static.figma.com/uploads/afcc32e60935f3760c53ac2165c6d9b60bb16b29",submenu:{position:x.pf.sideEdge,rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteTape",rowMaxSize:0,swatches:(0,$.MC)($.FC,!0)}]},buttonType:x.xH.drawing},{itemStringType:"tool",identifier:"ERASER",iconImageURL:"https://static.figma.com/uploads/76cba36d23a5bc4ca181a3f9485e12e1fa9835f1",buttonType:x.xH.drawing}]},{itemStringType:"divider",identifier:"DIVIDER_2",padding:x.JI.both},{itemStringType:"overflowingToolGroup",identifier:"PRIMARY_OVERFLOWING_TOOL_GROUP",iconImageURL:"https://static.figma.com/uploads/6deaa95dc38b36ee8f961dde17bf26e5b793eb18",tools:[{identifier:"SHAPE",iconImageURL:"https://static.figma.com/uploads/a2733e2faaf29eb36c4295c338335913b175633c",submenu:{position:x.pf.hoveringAboveBar,rowMaxSize:4,items:$.zD},overflowTitle:(0,q.t)("mobile_toolbars.shape"),overflowIconImageURL:"https://static.figma.com/uploads/0be9510a23488137a678f01ac5cd896772a80296",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STICKY",iconImageURL:"https://static.figma.com/uploads/b6b1bc0a50bc77eb596d759b04f361f562e728c7",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-sticky"),overflowIconImageURL:"https://static.figma.com/uploads/7a2d4171ef94d6eaea103c1c9bffdb06b8ec8287",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TYPE",iconImageURL:"https://static.figma.com/uploads/51937510898a125b0ca175f5d7d02c605c48ed2d",renderIconInColor:!0,overflowTitle:(0,q.t)("fullscreen_actions.set-tool-type"),overflowIconImageURL:"https://static.figma.com/uploads/c074b4868bc9231628c7b9e6a1614a754143175c",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TABLE",iconImageURL:"https://static.figma.com/uploads/22b12dc561adb16ad97d99c02d49345f9def11ee",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-table"),overflowIconImageURL:"https://static.figma.com/uploads/eca2a1f86871da1c1d3cdb81c1a8b23c47aea144",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"SECTION",iconImageURL:"https://static.figma.com/uploads/24fff4c1aaa1d8b2a6770272e9125f6eb3a3beba",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-section"),overflowIconImageURL:"https://static.figma.com/uploads/a78ea67aa20314d68d6d39ac98cec99151cd7be1",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STAMP",iconImageURL:"https://static.figma.com/uploads/3616f0c148716b9d60607811623d629f4305e662",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-stamp"),overflowIconImageURL:"https://static.figma.com/uploads/8529d36b4879c096a333662e64ea2ea1bab4613f",webWantsSourceRect:!0,flashesOnPress:!1},{identifier:"CONNECTOR",iconImageURL:"https://static.figma.com/uploads/cc0f6a01d9436a685b384d3a71382ebf5162131a",selectedIconImageURL:"https://static.figma.com/uploads/3a3405ca06b1ae40f4e7e35c950e602c8c19b016",renderIconInColor:!0,submenu:{position:x.pf.hoveringAboveBar,rowMaxSize:0,items:[{itemStringType:"iconAction",identifier:"ELBOWED",iconImageURL:"https://static.figma.com/uploads/b2ed461201ea92ddea96eec7dbd2581472b90982",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"STRAIGHT",iconImageURL:"https://static.figma.com/uploads/24fdae52d3a619a1f057011d4cc78d70b1d6134e",flashesOnPress:!1}]},overflowTitle:(0,q.t)("mobile_toolbars.connector"),overflowIconImageURL:"https://static.figma.com/uploads/a85d1067323794696bcb38964add37587a0f3518",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"INSERT",iconImageURL:"https://static.figma.com/uploads/e2bdbb0b1823d382e51f72211ac291757a6b5c7d",highlightedIconImageURL:"https://static.figma.com/uploads/5b71e7229996334b6afb133d26f10b4f3bc3279e",selectedIconImageURL:"https://static.figma.com/uploads/ca5002d6c2b8fb319fa945819ebaf3a5eb703900",overflowTitle:(0,q.t)("mobile_toolbars.universal_insert"),overflowIconImageURL:"https://static.figma.com/uploads/d8e8e439b0de3f0790a248cf1de5c58dd1e7eab0",webWantsSourceRect:!0,flashesOnPress:!1}]}];return{version:x.pc.V2,fileType:x.sg.Whiteboard,items:e}}();case x.pc.V3:return function(e){let t=[{itemStringType:"tool",identifier:"PENCIL",iconImageURL:"https://static.figma.com/uploads/95407cf40a9b4e6961940a82ce9f58fd2da90e1f",submenu:{position:x.pf.sideEdge,rowMaxSize:0,items:J,pages:[{rowMaxSize:0,items:J}]},buttonType:x.xH.drawing},{itemStringType:"tool",identifier:"HIGHLIGHTER",iconImageURL:"https://static.figma.com/uploads/3d3b3635536c8b5134ab706267f05276bd93c8f3",submenu:{position:x.pf.sideEdge,rowMaxSize:0,items:X,pages:[{rowMaxSize:0,items:X}]},buttonType:x.xH.drawing},{itemStringType:"tool",identifier:"TAPE",iconImageURL:"https://static.figma.com/uploads/afcc32e60935f3760c53ac2165c6d9b60bb16b29",submenu:{position:x.pf.sideEdge,rowMaxSize:0,items:Q,pages:[{rowMaxSize:0,items:Q}]},buttonType:x.xH.drawing},{itemStringType:"tool",identifier:"ERASER",iconImageURL:"https://static.figma.com/uploads/76cba36d23a5bc4ca181a3f9485e12e1fa9835f1",buttonType:x.xH.drawing}];e&&t.push({itemStringType:"tool",identifier:"LASSO",iconImageURL:"https://static.figma.com/uploads/edee04c23dd725946377d3bb6f13a95b54637599",inactiveIconImageURL:"https://static.figma.com/uploads/c4ca8c9633fa3369ab54c847741f72a2ab7c51b1",buttonType:x.xH.drawing});let r=[{itemStringType:"drawingToolGroup",identifier:"DRAWING",padding:e?x.JI.leading:x.JI.none,tools:t},{itemStringType:"divider",identifier:"DIVIDER_2",padding:x.JI.both},{itemStringType:"overflowingToolGroup",identifier:"PRIMARY_OVERFLOWING_TOOL_GROUP",iconImageURL:"https://static.figma.com/uploads/6deaa95dc38b36ee8f961dde17bf26e5b793eb18",tools:[{identifier:"SHAPE",iconImageURL:"https://static.figma.com/uploads/a2733e2faaf29eb36c4295c338335913b175633c",submenu:{position:x.pf.hoveringAboveBar,items:$.zD,rowMaxSize:4,pages:$.p6},overflowTitle:(0,q.t)("mobile_toolbars.shape"),overflowIconImageURL:"https://static.figma.com/uploads/0be9510a23488137a678f01ac5cd896772a80296",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STICKY",iconImageURL:"https://static.figma.com/uploads/b6b1bc0a50bc77eb596d759b04f361f562e728c7",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-sticky"),overflowIconImageURL:"https://static.figma.com/uploads/7a2d4171ef94d6eaea103c1c9bffdb06b8ec8287",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TYPE",iconImageURL:"https://static.figma.com/uploads/51937510898a125b0ca175f5d7d02c605c48ed2d",renderIconInColor:!0,overflowTitle:(0,q.t)("fullscreen_actions.set-tool-type"),overflowIconImageURL:"https://static.figma.com/uploads/c074b4868bc9231628c7b9e6a1614a754143175c",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TABLE",iconImageURL:"https://static.figma.com/uploads/22b12dc561adb16ad97d99c02d49345f9def11ee",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-table"),overflowIconImageURL:"https://static.figma.com/uploads/eca2a1f86871da1c1d3cdb81c1a8b23c47aea144",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"SECTION",iconImageURL:"https://static.figma.com/uploads/24fff4c1aaa1d8b2a6770272e9125f6eb3a3beba",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-section"),overflowIconImageURL:"https://static.figma.com/uploads/a78ea67aa20314d68d6d39ac98cec99151cd7be1",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STAMP",iconImageURL:"https://static.figma.com/uploads/3616f0c148716b9d60607811623d629f4305e662",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-stamp"),overflowIconImageURL:"https://static.figma.com/uploads/8529d36b4879c096a333662e64ea2ea1bab4613f",webWantsSourceRect:!0,flashesOnPress:!1},{identifier:"CONNECTOR",iconImageURL:"https://static.figma.com/uploads/cc0f6a01d9436a685b384d3a71382ebf5162131a",selectedIconImageURL:"https://static.figma.com/uploads/3a3405ca06b1ae40f4e7e35c950e602c8c19b016",renderIconInColor:!0,submenu:{position:x.pf.hoveringAboveBar,rowMaxSize:0,items:ee,pages:[{rowMaxSize:0,items:ee}]},overflowTitle:(0,q.t)("mobile_toolbars.connector"),overflowIconImageURL:"https://static.figma.com/uploads/a85d1067323794696bcb38964add37587a0f3518",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"INSERT",iconImageURL:"https://static.figma.com/uploads/e2bdbb0b1823d382e51f72211ac291757a6b5c7d",highlightedIconImageURL:"https://static.figma.com/uploads/5b71e7229996334b6afb133d26f10b4f3bc3279e",selectedIconImageURL:"https://static.figma.com/uploads/ca5002d6c2b8fb319fa945819ebaf3a5eb703900",overflowTitle:(0,q.t)("mobile_toolbars.universal_insert"),overflowIconImageURL:"https://static.figma.com/uploads/d8e8e439b0de3f0790a248cf1de5c58dd1e7eab0",webWantsSourceRect:!0,flashesOnPress:!1,menuPosition:x.in.last}]}];if(!e){let e={itemStringType:"tool",identifier:"SELECT",iconImageURL:"https://static.figma.com/uploads/9cd5627bc7c9002caec32417933fb336962c7e00",buttonType:x.xH.utility},t={itemStringType:"tool",identifier:"HAND",iconImageURL:"https://static.figma.com/uploads/b999f3725564d8196d79083d0d01437932f4f88a",buttonType:x.xH.utility},n={itemStringType:"divider",identifier:"DIVIDER_1",padding:x.JI.trailing};r.unshift({itemStringType:"stack",identifier:"STACK_SELECT_HAND",items:[e,t]},n)}return{version:x.pc.V3,fileType:x.sg.Whiteboard,identifier:"PRIMARY",items:r}}(er());case x.pc.V4:return function(){let e=[{itemStringType:"tool",identifier:"PENCIL",iconImageURL:"https://static.figma.com/uploads/95407cf40a9b4e6961940a82ce9f58fd2da90e1f",submenu:{position:x.pf.sideEdge,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"palettePencil",rowMaxSize:0,swatches:(0,$.bE)((0,$.LK)("PENCIL"),!0,"base")},{itemStringType:"divider",identifier:"DIVIDER_PENCIL_1",padding:x.JI.none,axis:x.Vq.vertical},{itemStringType:"iconAction",identifier:"markerDrawingOptions",iconImageURL:"https://static.figma.com/uploads/e138358eb8b3a07efda73c406e4c61cc3d9fe6d3",flashesOnPress:!1,submenu:{position:x.pf.secondarySideEdge,pages:[{rowMaxSize:0,items:$.T5}]}},{itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]}]},buttonType:x.xH.drawing},{itemStringType:"tool",identifier:"HIGHLIGHTER",iconImageURL:"https://static.figma.com/uploads/3d3b3635536c8b5134ab706267f05276bd93c8f3",submenu:{position:x.pf.sideEdge,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteHighlighter",rowMaxSize:0,swatches:(0,$.bE)((0,$.LK)("HIGHLIGHTER"),!1,"highlight")},{itemStringType:"divider",identifier:"DIVIDER_HIGHLIGHTER_1",padding:x.JI.none,axis:x.Vq.vertical},{itemStringType:"iconAction",identifier:"highlighterDrawingOptions",iconImageURL:"https://static.figma.com/uploads/c1837ca930ad93b0f6cc7e262e425757c34bca44",flashesOnPress:!1,submenu:{position:x.pf.secondarySideEdge,pages:[{rowMaxSize:0,items:$.xp}]}},{itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]}]},buttonType:x.xH.drawing},{itemStringType:"tool",identifier:"TAPE",iconImageURL:"https://static.figma.com/uploads/afcc32e60935f3760c53ac2165c6d9b60bb16b29",submenu:{position:x.pf.sideEdge,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteTape",rowMaxSize:0,swatches:(0,$.MC)($.FC,!0)}]}]},buttonType:x.xH.drawing},{itemStringType:"tool",identifier:"ERASER",iconImageURL:"https://static.figma.com/uploads/76cba36d23a5bc4ca181a3f9485e12e1fa9835f1",buttonType:x.xH.drawing},{itemStringType:"tool",identifier:"LASSO",iconImageURL:"https://static.figma.com/uploads/edee04c23dd725946377d3bb6f13a95b54637599",inactiveIconImageURL:"https://static.figma.com/uploads/c4ca8c9633fa3369ab54c847741f72a2ab7c51b1",buttonType:x.xH.drawing}],t=[{itemStringType:"drawingToolGroup",identifier:"DRAWING",padding:x.JI.leading,tools:e},{itemStringType:"divider",identifier:"DIVIDER_2",padding:x.JI.both},{itemStringType:"overflowingToolGroup",identifier:"PRIMARY_OVERFLOWING_TOOL_GROUP",iconImageURL:"https://static.figma.com/uploads/6deaa95dc38b36ee8f961dde17bf26e5b793eb18",tools:[{identifier:"SHAPE",iconImageURL:"https://static.figma.com/uploads/a2733e2faaf29eb36c4295c338335913b175633c",submenu:{position:x.pf.hoveringAboveBar,pages:$.p6},overflowTitle:(0,q.t)("mobile_toolbars.shape"),overflowIconImageURL:"https://static.figma.com/uploads/0be9510a23488137a678f01ac5cd896772a80296",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STICKY",iconImageURL:"https://static.figma.com/uploads/b6b1bc0a50bc77eb596d759b04f361f562e728c7",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-sticky"),overflowIconImageURL:"https://static.figma.com/uploads/7a2d4171ef94d6eaea103c1c9bffdb06b8ec8287",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TYPE",iconImageURL:"https://static.figma.com/uploads/51937510898a125b0ca175f5d7d02c605c48ed2d",renderIconInColor:!0,overflowTitle:(0,q.t)("fullscreen_actions.set-tool-type"),overflowIconImageURL:"https://static.figma.com/uploads/c074b4868bc9231628c7b9e6a1614a754143175c",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TABLE",iconImageURL:"https://static.figma.com/uploads/22b12dc561adb16ad97d99c02d49345f9def11ee",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-table"),overflowIconImageURL:"https://static.figma.com/uploads/eca2a1f86871da1c1d3cdb81c1a8b23c47aea144",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"SECTION",iconImageURL:"https://static.figma.com/uploads/24fff4c1aaa1d8b2a6770272e9125f6eb3a3beba",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-section"),overflowIconImageURL:"https://static.figma.com/uploads/a78ea67aa20314d68d6d39ac98cec99151cd7be1",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STAMP",iconImageURL:"https://static.figma.com/uploads/3616f0c148716b9d60607811623d629f4305e662",overflowTitle:(0,q.t)("fullscreen_actions.set-tool-stamp"),overflowIconImageURL:"https://static.figma.com/uploads/8529d36b4879c096a333662e64ea2ea1bab4613f",webWantsSourceRect:!0,flashesOnPress:!1},{identifier:"CONNECTOR",iconImageURL:"https://static.figma.com/uploads/cc0f6a01d9436a685b384d3a71382ebf5162131a",selectedIconImageURL:"https://static.figma.com/uploads/3a3405ca06b1ae40f4e7e35c950e602c8c19b016",renderIconInColor:!0,submenu:{position:x.pf.hoveringAboveBar,pages:[{rowMaxSize:0,items:[{itemStringType:"iconAction",identifier:"ELBOWED",iconImageURL:"https://static.figma.com/uploads/b2ed461201ea92ddea96eec7dbd2581472b90982",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"STRAIGHT",iconImageURL:"https://static.figma.com/uploads/24fdae52d3a619a1f057011d4cc78d70b1d6134e",flashesOnPress:!1}]}]},overflowTitle:(0,q.t)("mobile_toolbars.connector"),overflowIconImageURL:"https://static.figma.com/uploads/a85d1067323794696bcb38964add37587a0f3518",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"INSERT",iconImageURL:"https://static.figma.com/uploads/e2bdbb0b1823d382e51f72211ac291757a6b5c7d",highlightedIconImageURL:"https://static.figma.com/uploads/5b71e7229996334b6afb133d26f10b4f3bc3279e",selectedIconImageURL:"https://static.figma.com/uploads/ca5002d6c2b8fb319fa945819ebaf3a5eb703900",overflowTitle:(0,q.t)("mobile_toolbars.universal_insert"),overflowIconImageURL:"https://static.figma.com/uploads/d8e8e439b0de3f0790a248cf1de5c58dd1e7eab0",webWantsSourceRect:!0,flashesOnPress:!1,menuPosition:x.in.last}]}];return{version:x.pc.V4,fileType:x.sg.Whiteboard,identifier:"PRIMARY",items:t}}();default:(0,c.xb)(e)}}function ed(e){switch(e.itemStringType){case"action":case"tool":case"divider":case"overflowingToolGroup":case"paletteSelector":case"menu":case"imageSelector":case"actionSelector":return[e];case"drawingToolGroup":return[e].concat(o()(e.tools,e=>ed(e)));case"stack":return[e].concat(o()(e.items,e=>ed(e)));case"itemGroupWithFallbacks":let t=o()(e.options,e=>e);return[e].concat(o()(t,e=>ed(e)))}}function eu(e,t){let r=e=>{let r=[{type:"SOLID",color:t}];return e===E.GI?p.zl.set(E.GI,e=>({...e,paints:r})):p.zl.set(E.IZ,e=>({...e,paints:r}))};switch(e){case"PENCIL":r(E.GI);break;case"HIGHLIGHTER":r(E.IZ)}}function ep(e,t,r){let n=e.find(([e,r])=>b.F.format(t)===b.F.format(e));return n?{settingsType:x.Ud.presetColor,presetIdentifier:n[1],color:t,toolImageURL:r}:{settingsType:x.Ud.customColor,color:t,toolImageURL:r}}let em=()=>{var e,t;n.useEffect(()=>{(0,V.Qc)(G.B)},[]);let r=(0,i.d4)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.isReadOnly}),{washiTapePaint:a}=(0,p.md)(E.SK),o=(null==(e=null==a?void 0:a.image)?void 0:e.hash)&&(0,h.nj)(null==(t=null==a?void 0:a.image)?void 0:t.hash);n.useEffect(()=>{r||o||(0,V.Iw)((0,V.M8)(G.B[0]))},[o,r])};function e_(){return void 0!==et()}function eh(){let e=et(),t=(0,O.Ef)(),r=void 0!==e,i=(0,O.HS)(),a=(0,O.yx)(),o=(0,C.A5)("opacity"),[l,s]=n.useState(!1);n.useEffect(()=>{var r,n;let a=ec(e);if(a){if(i){let t=setTimeout(()=>{window.FigmaMobile.nativeToolbarSupportedVersions=void 0,i._native_toolbar_confirm_configuration=()=>{},(0,_.$D)(f.e.MOBILE_EDITOR,Error(`Native toolbar did not confirm configuration before timeout, version ${e}`))},2e3);i._native_toolbar_confirm_configuration=()=>{var e;clearTimeout(t),s(!0),er()&&(null==(e=I.Ez5)||e.makeDefaultToolHandSelect())}}null==(r=null==t?void 0:t.nativeToolbarAcceptConfiguration)||r.call(t,a)}else null==(n=null==t?void 0:t.nativeToolbarRejected)||n.call(t)},[e,t,i]);let c=(0,M.b)();n.useEffect(()=>{r&&i&&(i._native_toolbar_perform_action=e=>{c(),el(e)})},[r,i,c]);let d=(0,H.j)();return n.useEffect(()=>{r&&i&&((0,Z.I)(a),i._native_toolbar_set_tool_color=eu,i._native_toolbar_set_tool_preset=(e,t)=>{switch(e){case"PENCIL":case"HIGHLIGHTER":let r=(0,$.LK)(e).find(([e,r])=>r===t);r&&eu(e,r[0]);break;case"TAPE":let n=$.FC.find(e=>e.name===t);n&&(0,V.Iw)((0,V.M8)(n))}},i._native_toolbar_set_slider_value=(e,t)=>{switch(t){case"PRIMARY_PENCIL_OPACITY":p.zl.set(E.GI,t=>({...t,strokeOpacity:e}));break;case"CONTEXTUAL_PENCIL_OPACITY":o(e);break;case"imageCropSlider":if(!d)return;let{paint:r,onChange:n}=d,i=(0,F.KT)(r),a=(0,F.AO)(r,i,e);if(!a)return;n({...r,transform:a},P.zk.NO);break;default:console.error(`_native_toolbar_set_slider_value: tool ${t} not recognized`)}},i._native_toolbar_set_tool_image_data=(e,t,r)=>{if("TAPE"===e){let e=(0,g.Vs)(r);I.glU.setCustomWashiTapeImageFromFile(e)}},i._native_toolbar_activate_submenu_item=e=>{var t=e;switch($.U9.includes(e)?t="SHAPE_NAME":$.X4.includes(e)?t="STROKE_WIDTH":$.k.includes(e)&&(t="HIGHLIGHTER_WIDTH"),t){case"pencilThin":p.zl.set(E.GI,e=>({...e,strokeWeight:U.wv}));break;case"pencilThick":p.zl.set(E.GI,e=>({...e,strokeWeight:U.uM}));break;case"highlighterThin":p.zl.set(E.IZ,e=>({...e,strokeWeight:U.g5}));break;case"highlighterThick":p.zl.set(E.IZ,e=>({...e,strokeWeight:U.Iz}));break;case"STROKE_WIDTH":let r=$.E5.get(e);r&&p.zl.set(E.GI,e=>({...e,strokeWeight:r}));break;case"HIGHLIGHTER_WIDTH":let n=$.tj.get(e);n&&p.zl.set(E.IZ,e=>({...e,strokeWeight:n}));break;case"straightLine":el("toggle-straight-pencil");break;case"ELBOWED":es(A.NLJ.CONNECTOR_ELBOWED);break;case"STRAIGHT":es(A.NLJ.CONNECTOR_STRAIGHT);break;case"SHAPE_NAME":let i=B.Jc.get(e);i&&es(i)}})},[r,d,i,a,o]),[r,l]}let eg=(e,t=0)=>new Promise((r,n)=>{Promise.resolve().then(()=>{try{let i=(0,m.F)(e),a=`data:image/svg+xml,${encodeURIComponent(i)}`,o=new Image;o.decoding="sync",o.src=a,o.onload=()=>{setTimeout(()=>{let e=document.createElement("canvas");e.width=o.width,e.height=o.height;let t=e.getContext("2d");t?t.drawImage(o,0,0):r(void 0);let n=e.toDataURL();r(n)},t)},o.onerror=()=>n()}catch(e){console.error(e),n()}})}),ef=async e=>{let t;let r=G.B.find(t=>t.image===e);if(!(t=r?await (0,V.gC)(r):I.Bko.getCompressedImage(e)))return Promise.resolve(null);{let e="data:image/png;base64,"+(0,g.H9)(t),r=new Image;return r.src=e,await r.decode(),Promise.resolve({washiTapeImageURL:e,imageWidth:r.width,imageHeight:r.height})}};function eE(){var e,t,r,a;let m=(0,O.Ef)(),_=(0,l.A)(e=>{var t;null==(t=null==m?void 0:m.nativeToolbarUpdateVisible)||t.call(m,e)},250),g=!(0,L.WC)();n.useEffect(()=>{_(g),g||_.flush()},[_,g]),n.useEffect(()=>()=>{_(!1),_.flush()},[_]),em();let f=(0,N.aV)();n.useEffect(()=>{var e;null==(e=null==m?void 0:m.nativeToolbarUpdateEnabled)||e.call(m,!f)},[f,m]);let T=et(),C=n.useMemo(()=>{let e=ec(T);return e?function(e){switch(e.version){case x.pc.V2:case x.pc.V3:{let t=o()(e.items,e=>ed(e));return o()(t,e=>"action"===e.itemStringType?e.identifier:[])}case x.pc.V4:{let t=o()(e.items,e=>ed(e));return o()(t,e=>"action"===e.itemStringType?e.identifier:[])}default:(0,c.xb)(e)}}(e):[]},[T]),P=(0,i.d4)(e=>{let t=e.mirror.appModel;return C.filter(e=>(0,D.Yh)(t,e))}),F=(0,u.ZC)(P);n.useEffect(()=>{var e;!P||F&&(0,s.lu)(F,P)||null==(e=null==m?void 0:m.nativeToolbarUpdateEnabledActions)||e.call(m,P)},[m,P,F]);let B=ei((0,N.dH)());(0,d.h)(()=>{var e,t;B&&(null==(e=null==m?void 0:m.nativeToolbarUpdateActiveTool)||e.call(m,B),null==(t=null==m?void 0:m.nativeToolbarUpdateMultiselectActive)||t.call(m,"MULTISELECT"===B))});let H=(0,R.ut)(null==(e=I.Ez5)?void 0:e.editorState().selectionEmpty,!0),V=n.useMemo(()=>(0,$.LK)("PENCIL"),[]),G=(0,p.md)(E.GI);n.useEffect(()=>{var e,t;let r=null==(t=null==(e=G.paints)?void 0:e[0])?void 0:t.color;r&&eg(n.createElement(Y,{color:b.F.format(r)})).then(e=>{var t,n;e&&(null==(t=null==m?void 0:m.nativeToolbarUpdateToolSettings)||t.call(m,"PENCIL",ep(V,r,e)),null==(n=null==m?void 0:m.nativeToolbarUpdateToolSettings)||n.call(m,"PRIMARY_PENCIL_OPACITY",ep(V,r,e)))}).catch(console.error)},[m,G,V]);let W=n.useMemo(()=>(0,$.LK)("HIGHLIGHTER"),[]),K=(0,p.md)(E.IZ);n.useEffect(()=>{var e,t;let r=null==(t=null==(e=K.paints)?void 0:e[0])?void 0:t.color;r&&eg(n.createElement(j,{color:b.F.format(r)})).then(e=>{var t;e&&(null==(t=null==m?void 0:m.nativeToolbarUpdateToolSettings)||t.call(m,"HIGHLIGHTER",ep(W,r,e)))}).catch(console.error)},[m,K,W]);let Z=null==(t=(0,p.md)(E.SK).washiTapePaint)?void 0:t.image;n.useEffect(()=>{let e=null==Z?void 0:Z.hash;if(e){let t=(0,h.nj)(e),r=$.FC.find(e=>e.image===t);ef(t).then(e=>{e&&eg(n.createElement(z,{imageURL:e.washiTapeImageURL,imageWidth:e.imageWidth,imageHeight:e.imageHeight}),50).then(e=>{var n;if(e){let i;i=r?{settingsType:x.Ud.presetImage,presetIdentifier:r.name,toolImageURL:e,color:{r:0,g:0,b:0,a:0}}:{settingsType:x.Ud.customImage,imageIdentifier:t,toolImageURL:e,color:{r:0,g:0,b:0,a:0}},null==(n=null==m?void 0:m.nativeToolbarUpdateToolSettings)||n.call(m,"TAPE",i)}})})}},[m,Z]);let q=(0,R.ut)(null==(r=I.Ez5)?void 0:r.editorState().pencilStraightLine,!1),J=(0,R.ut)(null==(a=I.Ez5)?void 0:a.editorState().shiftStraightLine,!1),X=n.useMemo(()=>{let e=[];return G.strokeWeight===U.wv?e.push("pencilThin"):G.strokeWeight===U.uM&&e.push("pencilThick"),K.strokeWeight===U.g5?e.push("highlighterThin"):K.strokeWeight===U.Iz&&e.push("highlighterThick"),$.E5.forEach((t,r)=>{t===G.strokeWeight&&e.push(r)}),$.tj.forEach((t,r)=>{t===K.strokeWeight&&e.push(r)}),(q||J)&&e.push("straightLine"),e},[G.strokeWeight,K.strokeWeight,q,J]);function Q(e){return{viewportX:e.x+e.width/2,viewportY:e.y-(w.l+2+20)}}n.useEffect(()=>{var e;null==(e=null==m?void 0:m.nativeToolbarUpdateSelectedSubmenuItems)||e.call(m,X)},[m,X]);let ee=(0,L.T$)(),er=(0,i.d4)(e=>{let t=e.multiplayerEmoji;return"REACTING_OR_CHATTING"===t.type&&!!t.imageUrl}),eu=(0,n.useCallback)(e=>{if(ee)S.CB.closeWheel();else{let{viewportX:t,viewportY:r}=Q(e);S.CB.handleShortcutPressWithType({viewportX:t,viewportY:r,source:"figma_mobile",openedViaHover:!1,wheelType:"STAMP"}),S.CB.handleShortcutRelease(t,r)}},[ee]),e_=(0,n.useCallback)(e=>{if(ee){let{viewportX:t,viewportY:r}=Q(e);S.CB.updateEmojiWheelPosition(t,r)}},[ee]),eh=(0,L.wi)(),eE=(0,i.d4)(e=>e.universalInsertModal.pinned===k.t.NOT_PINNED),ey=(0,i.wA)(),eb=(0,n.useCallback)(e=>{eh?(eE&&el("set-tool-default"),ey(y.KE())):(e.y=e.y-30,el("clear-tool"),ey(y.En({initialX:0,initialY:0,sourceRect:e})))},[ey,eh,eE]),ev=(0,i.d4)(e=>!!e.universalInsertModal.sourceRect),eI=(0,n.useCallback)(e=>{ev&&(e.y=e.y-30,ey(y.jx({sourceRect:e})))},[ey,ev]);n.useEffect(()=>{var e;let t=[];(ee||er)&&t.push("STAMP"),eh&&t.push("INSERT"),null==(e=null==m?void 0:m.nativeToolbarUpdateToolsShowingSubmenus)||e.call(m,t)},[m,ee,er,eh]);let eT=(0,O.HS)(),eS=(0,v.Ii)(),ew=(0,M.b)();return n.useEffect(()=>{eT&&(eT._native_toolbar_activate_tool=e=>{let t;ew(),(t=e===B&&eo(B)?en():ea.get(e))&&el(t)},eT._native_toolbar_activate_overflowing_tool=(e,t)=>{switch(t.y=t.y-eS,"INSERT"!==e&&eE&&ey(y.KE()),"STAMP"!==e&&ee&&S.CB.closeWheel(),e){case"SHAPE":case"CONNECTOR":break;case"STICKY":es(A.NLJ.STICKY);break;case"TYPE":es(A.NLJ.TYPE);break;case"SECTION":H?es(A.NLJ.SECTION):(I.glU.triggerActionInUserEditScope("create-section-from-selection",{source:"figma_mobile"}),el("set-tool-default"));break;case"TABLE":es(A.NLJ.TABLE);break;case"STAMP":eu(t);break;case"INSERT":eb(t)}},eT._native_toolbar_update_tool_source_rect=(e,t)=>{setTimeout(()=>{switch(t.y=t.y-eS,e){case"STAMP":e_(t);break;case"INSERT":eI(t)}},200)})},[eT,eS,ew,eu,eb,e_,eI,ee,B,H,eE,ey]),null}},954355:(e,t,r)=>{"use strict";r.d(t,{E5:()=>p,FC:()=>_,LK:()=>h,MC:()=>f,T5:()=>T,U9:()=>A,X4:()=>C,bE:()=>g,k:()=>N,p6:()=>y,tj:()=>m,xp:()=>w,yp:()=>S,zD:()=>E});var n=r(428654),i=r(852800),a=r(913539),o=r(42173),l=r(925075);let s=[i.daH.BLACK,i.daH.RED,i.daH.ORANGE,i.daH.YELLOW,i.daH.GREEN,i.daH.BLUE,i.daH.VIOLET,i.daH.WHITE],c=[{color:i.daH.RED,palette:"base"},{color:i.daH.ORANGE,palette:"base"},{color:i.daH.YELLOW,palette:"base"},{color:i.daH.GREEN,palette:"base"},{color:i.daH.BLUE,palette:"base"},{color:i.daH.VIOLET,palette:"base"},{color:i.daH.RED_LIGHT,palette:"baseLight"},{color:i.daH.ORANGE_LIGHT,palette:"baseLight"},{color:i.daH.YELLOW_LIGHT,palette:"baseLight"},{color:i.daH.GREEN_LIGHT,palette:"baseLight"},{color:i.daH.BLUE_LIGHT,palette:"baseLight"},{color:i.daH.VIOLET_LIGHT,palette:"baseLight"},{color:i.daH.BLACK,palette:"base"},{color:i.daH.GRAY_DARK,palette:"base"},{color:i.daH.GRAY,palette:"baseLight"},{color:i.daH.GRAY_LIGHT,palette:"baseLight"},{color:i.daH.WHITE,palette:"base"}],d=[i.daH.HIGHLIGHT_GRAY,i.daH.HIGHLIGHT_RED,i.daH.HIGHLIGHT_ORANGE,i.daH.HIGHLIGHT_YELLOW,i.daH.HIGHLIGHT_GREEN,i.daH.HIGHLIGHT_BLUE,i.daH.HIGHLIGHT_VIOLET],u=[i.daH.STICKY_GRAY,i.daH.STICKY_RED,i.daH.STICKY_ORANGE,i.daH.STICKY_YELLOW,i.daH.STICKY_GREEN,i.daH.STICKY_BLUE,i.daH.STICKY_VIOLET,i.daH.STICKY_PINK,i.daH.STICKY_GRAY_LIGHT],p=new Map([["pencilStrokeWidth1",16],["pencilStrokeWidth2",12],["pencilStrokeWidth3",8],["pencilStrokeWidth4",6],["pencilStrokeWidth5",3]]),m=new Map([["highlighterStrokeWidth1",56],["highlighterStrokeWidth2",40],["highlighterStrokeWidth3",32],["highlighterStrokeWidth4",24],["highlighterStrokeWidth5",16]]),_=l.B;function h(e){switch(e){case"PENCIL":return s.map(e=>[(0,o.BV)(e,"base"),o.sE.get(e)]);case"WHITEBOARD_COLOR":return c.map(({color:e,palette:t})=>[(0,o.BV)(e,t),o.sE.get(e)]);case"HIGHLIGHTER":return d.map(e=>[(0,o.BV)(e,"highlight"),o.sE.get(e)]);case"STICKY":return u.map(e=>[(0,o.BV)(e,"sticky"),o.sE.get(e)]);default:return[]}}function g(e,t,r){let i=e.map(e=>({type:a.xf.presetColor,color:function(e,t){let r=(0,o.Cz)(e,t,"light");return n.F.parse(r)}(e[0],r),presetIdentifier:e[1]}));return t&&i.push({type:a.xf.colorPicker}),i}function f(e,t){let r=e.map(e=>({type:a.xf.presetImage,presetIdentifier:e.name,imageIdentifier:e.image}));return t&&r.push({type:a.xf.imagePicker}),r}let E=[{itemStringType:"iconAction",identifier:"SQUARE",iconImageURL:"https://static.figma.com/uploads/f79598e8524ca4f2fbc9a962a5d7215fca02e159",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ELLIPSE",iconImageURL:"https://static.figma.com/uploads/23396f7f2f6eef50a1e368b2f0f1cd241d23d3af",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"DIAMOND",iconImageURL:"https://static.figma.com/uploads/6230a108b0c86154a1b0c1080d3e09b5cec4e613",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"TRIANGLE_UP",iconImageURL:"https://static.figma.com/uploads/c9cc7ce416ca0ec4f70dc3b225f09d31615da5b8",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"TRIANGLE_DOWN",iconImageURL:"https://static.figma.com/uploads/d4bda7bcec3cad2d69741a18cbdf63b8da82a99e",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ROUNDED_RECTANGLE",iconImageURL:"https://static.figma.com/uploads/89d2895e6eb7b40fba803d4f672819c003cfb630",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"PARALLELOGRAM_RIGHT",iconImageURL:"https://static.figma.com/uploads/b55ccaf54dec26402c19d2d568c2a59256018d93",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"PARALLELOGRAM_LEFT",iconImageURL:"https://static.figma.com/uploads/42f42dcfa824b4e32e24969b933dffa9bf10084b",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ENG_DATABASE",iconImageURL:"https://static.figma.com/uploads/9e251dc52c5cff0da404e87e08ccce028119432d",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ENG_QUEUE",iconImageURL:"https://static.figma.com/uploads/af1de841856f01e74ad2920744377c0b2432fc97",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ENG_FILE",iconImageURL:"https://static.figma.com/uploads/3aefd3083060dc3d1f8610d9ec5d9294d92395ec",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ENG_FOLDER",iconImageURL:"https://static.figma.com/uploads/15a91df8c3e46310b0ecf10f8d9de1564fbc0e1b",flashesOnPress:!1}],y=[{rowMaxSize:5,items:[{itemStringType:"iconAction",identifier:"SQUARE",iconImageURL:"https://static.figma.com/uploads/f79598e8524ca4f2fbc9a962a5d7215fca02e159",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ELLIPSE",iconImageURL:"https://static.figma.com/uploads/5d2a40eb30657270a63dda0191efefc81efe585c",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"DIAMOND",iconImageURL:"https://static.figma.com/uploads/7d5dc35d510f22d669e59168fb77ff2bc1dca3f5",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"TRIANGLE_UP",iconImageURL:"https://static.figma.com/uploads/c9cc7ce416ca0ec4f70dc3b225f09d31615da5b8",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"TRIANGLE_DOWN",iconImageURL:"https://static.figma.com/uploads/d4bda7bcec3cad2d69741a18cbdf63b8da82a99e",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ROUNDED_RECTANGLE",iconImageURL:"https://static.figma.com/uploads/8ecac2dda9fec3ef20972f675a3eb7ef825f4ec9",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"CHEVRON",iconImageURL:"https://static.figma.com/uploads/c4cbbfdcca61f44472539daa91eb2db99c3606aa",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"PARALLELOGRAM_RIGHT",iconImageURL:"https://static.figma.com/uploads/b55ccaf54dec26402c19d2d568c2a59256018d93",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"PARALLELOGRAM_LEFT",iconImageURL:"https://static.figma.com/uploads/566be5f9829c7ec766a44e632655828be486784c",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"TRAPEZOID",iconImageURL:"https://static.figma.com/uploads/4d9265acf0a470ce44edc50a81921035b8f14737",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ENG_DATABASE",iconImageURL:"https://static.figma.com/uploads/edbfcf182d37c2ae6f2edd642694b447d67d1c17",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ENG_QUEUE",iconImageURL:"https://static.figma.com/uploads/a0a13dfe0484413fb7430cb5201b5c030c602b19",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ENG_FILE",iconImageURL:"https://static.figma.com/uploads/3aedb45c910ae3cf954da70b9379b93c6f2cb46c",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ENG_FOLDER",iconImageURL:"https://static.figma.com/uploads/15a91df8c3e46310b0ecf10f8d9de1564fbc0e1b",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"PREDEFINED_PROCESS",iconImageURL:"https://static.figma.com/uploads/2071f1648a3cb5285a9a9acfc170dfc639c527b2",flashesOnPress:!1}]},{rowMaxSize:5,items:[{itemStringType:"iconAction",identifier:"DOCUMENT_SINGLE",iconImageURL:"https://static.figma.com/uploads/8adb04e21ebdf1c4a754ee34e9c391ad43679cb0",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"DOCUMENT_MULTIPLE",iconImageURL:"https://static.figma.com/uploads/c9bba363f92b5e680fdbcc1705bf33ac16d86879",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"MANUAL_INPUT",iconImageURL:"https://static.figma.com/uploads/1810338f9f5baff03fca8e1378efdaf9d4e94831",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"HEXAGON",iconImageURL:"https://static.figma.com/uploads/65c741ec0b9ad01ba61a2c0377a93806704e78fa",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"INTERNAL_STORAGE",iconImageURL:"https://static.figma.com/uploads/2106da9efbaf96424b5dfa09ec6ce28df6928888",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"SUMMING_JUNCTION",iconImageURL:"https://static.figma.com/uploads/272cccc350581728358e2af57a3e61363f8263f1",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"OR",iconImageURL:"https://static.figma.com/uploads/a1386111045fdad7627e37b5e548e543caf28f29",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"SHIELD",iconImageURL:"https://static.figma.com/uploads/d853729cb404936b83e1c59c09e6a295d2193754",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"PENTAGON",iconImageURL:"https://static.figma.com/uploads/01a5db3521b65064ca726459887b4c6bbc0f9e8b",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"OCTAGON",iconImageURL:"https://static.figma.com/uploads/735de94f7163c356720141d7a0482e71d17d645e",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"PLUS",iconImageURL:"https://static.figma.com/uploads/82de45c7c45006028922aedc696ba1899eb0456d",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ARROW_LEFT",iconImageURL:"https://static.figma.com/uploads/2f28f081aefab479fe9e088530271445e143695b",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"ARROW_RIGHT",iconImageURL:"https://static.figma.com/uploads/0fce4e733bbdc50b20b522a42dc735ed592769fb",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"STAR",iconImageURL:"https://static.figma.com/uploads/865c87b8ca42950da5aaf92fab6c27c59abfbe06",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"SPEECH_BUBBLE",iconImageURL:"https://static.figma.com/uploads/bde92f09f777e82b43ea8829c819cf54f7a62c8f",flashesOnPress:!1}]}],b=[{itemStringType:"iconAction",identifier:"pencilStrokeWidth1",iconImageURL:"https://static.figma.com/uploads/14c3a9f0a217ea9b2352087f4fa9941f7633e354",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"pencilStrokeWidth2",iconImageURL:"https://static.figma.com/uploads/78a20ca3c78da46c777767a5c2e48b8f08e34f6e",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"pencilStrokeWidth3",iconImageURL:"https://static.figma.com/uploads/e138358eb8b3a07efda73c406e4c61cc3d9fe6d3",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"pencilStrokeWidth4",iconImageURL:"https://static.figma.com/uploads/86d9302f61c6ae08fd157ee9f809410bbc9943a0",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"pencilStrokeWidth5",iconImageURL:"https://static.figma.com/uploads/5501e15bcfa02ecf2a362c7ce4bf7de6af44e268",flashesOnPress:!1}],v=[{itemStringType:"divider",identifier:"VERTICAL_PENCIL_STROKE_DIVIDER",padding:a.JI.none,axis:a.Vq.horizontal},{itemStringType:"slider",identifier:"PRIMARY_PENCIL_OPACITY",start:.2,numIntervals:5,step:.2,axis:a.B9.vertical,sliderStyle:a.Pi.gradient}],I=[{itemStringType:"slider",identifier:"CONTEXTUAL_PENCIL_OPACITY",start:.2,numIntervals:5,step:.2,axis:a.B9.horizontal,sliderStyle:a.Pi.gradient},{itemStringType:"divider",identifier:"HORIZONTAL_PENCIL_STROKE_DIVIDER",padding:a.JI.none,axis:a.Vq.vertical}],T=[...b,...v],S=[...I,...b.slice().reverse()],w=[{itemStringType:"iconAction",identifier:"highlighterStrokeWidth1",iconImageURL:"https://static.figma.com/uploads/c147f32cfbda91123406824c6d820ddce58f165a",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"highlighterStrokeWidth2",iconImageURL:"https://static.figma.com/uploads/71078416a9e9151bf83f6db32d26955f77a66080",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"highlighterStrokeWidth3",iconImageURL:"https://static.figma.com/uploads/c1837ca930ad93b0f6cc7e262e425757c34bca44",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"highlighterStrokeWidth4",iconImageURL:"https://static.figma.com/uploads/67c151255ecd8c362abfe8fcfbb20e783c2bbab7",flashesOnPress:!1},{itemStringType:"iconAction",identifier:"highlighterStrokeWidth5",iconImageURL:"https://static.figma.com/uploads/14e77850a70a88a5099d521df0e485d2662fdc03",flashesOnPress:!1}],A=y.flatMap(e=>e.items.map(e=>e.identifier)),C=b.map(e=>e.identifier),N=w.map(e=>e.identifier)},555021:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(96328),i=r(852800),a=r(238289),o=r(925075);function l(e){e&&!e._native_toolbar_get_image_data&&(e._native_toolbar_get_image_data=async e=>{let t=o.B.find(t=>t.image===e);if(t){let e=await (0,a.gC)(t);return Promise.resolve((0,n.H9)(e))}{let t=i.Bko.getCompressedImage(e);if(t)return Promise.resolve((0,n.H9)(t))}return Promise.resolve(null)})}},463546:(e,t,r)=>{"use strict";function n(e,t){return{id:e,...t}}r.d(t,{$8i:()=>z,$T1:()=>tE,B14:()=>a,BTz:()=>ts,BWk:()=>tz,BrS:()=>tu,Byv:()=>tx,CVA:()=>tT,DFF:()=>tl,DKo:()=>V,Dqt:()=>tf,Duq:()=>eW,ENg:()=>tB,FgQ:()=>tA,Fq3:()=>th,GCV:()=>tW,GFz:()=>eL,GUu:()=>e9,H2x:()=>ei,Hv9:()=>eZ,I$z:()=>ti,I3H:()=>Z,I5n:()=>B,IQ:()=>tS,Igi:()=>eX,JGK:()=>K,JSq:()=>j,K69:()=>tL,K_4:()=>e4,K_h:()=>b,KdZ:()=>tV,KoA:()=>ee,Kze:()=>eb,LB2:()=>E,Lg0:()=>q,LiP:()=>em,MJs:()=>ef,MYY:()=>eD,MbD:()=>e$,Mpr:()=>f,Msu:()=>x,MwQ:()=>e8,MxF:()=>eQ,NdL:()=>e6,Njd:()=>eg,O5v:()=>eA,O9D:()=>h,ONe:()=>eN,OZt:()=>U,Ob5:()=>ev,P0g:()=>W,Q16:()=>ew,Q8d:()=>eH,QLv:()=>tD,Ql8:()=>eR,Qlc:()=>tn,QpH:()=>tY,Qqu:()=>w,RJL:()=>i,RKk:()=>tO,RSb:()=>tP,S$N:()=>eV,Smd:()=>en,SqV:()=>tj,SyB:()=>tF,Ttn:()=>k,U3h:()=>e5,UDe:()=>er,UGT:()=>eS,USq:()=>eM,Ujx:()=>ex,Ult:()=>M,UmN:()=>eC,VjY:()=>S,WD4:()=>$,Wb3:()=>tc,WyO:()=>c,X4W:()=>ez,X5_:()=>eI,XAb:()=>Y,XIg:()=>tH,Xh8:()=>Q,YHe:()=>tg,Yd_:()=>u,YiU:()=>tk,ZTu:()=>tm,ZxA:()=>J,_5$:()=>tw,_9u:()=>e0,_v_:()=>eT,a9B:()=>tU,aBI:()=>eF,aI5:()=>ep,aIY:()=>C,ar0:()=>ed,bGx:()=>te,bIZ:()=>tC,bJw:()=>e7,c6t:()=>g,cJy:()=>p,dZl:()=>ej,eD$:()=>G,ePo:()=>tK,fQh:()=>s,fR0:()=>tt,fiR:()=>O,fz8:()=>to,g4U:()=>td,gHN:()=>L,gZN:()=>N,hPP:()=>eu,hQM:()=>R,hsL:()=>ty,hxO:()=>et,jQF:()=>el,jRE:()=>eU,jVB:()=>e1,jkr:()=>t$,juT:()=>tr,k07:()=>m,kc4:()=>A,kmj:()=>I,kmq:()=>D,kp0:()=>eh,lLk:()=>e_,lk2:()=>d,n0G:()=>H,nIZ:()=>eO,nWd:()=>es,oLh:()=>eB,oyU:()=>e3,pIP:()=>eP,pjo:()=>tM,qnr:()=>y,qw_:()=>eY,r3Y:()=>P,r4m:()=>ec,rQs:()=>ek,s7O:()=>ea,s9V:()=>v,sqw:()=>eG,syA:()=>eJ,t0T:()=>tp,tBR:()=>ta,tUL:()=>_,tWD:()=>tN,t_E:()=>tb,tb3:()=>T,tzJ:()=>tG,uPw:()=>t_,uUL:()=>X,v75:()=>tv,wRI:()=>ey,wwW:()=>e2,x9K:()=>tI,xiH:()=>tR,y3_:()=>eo,y4J:()=>o,y6K:()=>F,yjU:()=>eK,yyi:()=>l,zMZ:()=>eq,zoI:()=>eE});let i=n("AccountProfileSwitcherPointer",{team:"explore"}),a=n("AdvancedPrototypingUpsellOverlay",{team:"monetization_upgrades"}),o=n("AudioNux",{team:"feedback",queueOnBlock:!0}),l=n("AutogenPasswordOnboarding",{team:"scale",allowShowingIfModalPresent:!0}),s=n("BillingGroupAdminOnboarding",{team:"scale"}),c=n("BillingGroupAdminRequestDashboardOnboarding",{team:"scale"}),d=n("BugReporterMachine",{team:"client_platform"}),u=n("CollectiveUpsellOverlay",{team:"monetization_upgrades"}),p=n("CommunityCreatorMediaUpsellModal",{team:"community",queueOnBlock:!0}),m=n("CommunityDeprecateBrowseAsAdminOverlay",{team:"community",queueOnBlock:!0}),_=n("CommunityDevModeFilterOnboarding",{team:"community",queueOnBlock:!0}),h=n("CommunityMonetizationMetricsTabOnboarding",{team:"community",queueOnBlock:!1}),g=n("CommunityProfileAdminDropdownOnboarding",{team:"community",queueOnBlock:!0}),f=n("Config24FeatureAnnouncementCarouselOverlay",{team:"activation",queueOnBlock:!0}),E=n("CustomSectionsNudge",{team:"explore"}),y=n("CustomTemplatePublishNudge",{team:"figjam_engagement"}),b=n("DesignFileLinkExpiration",{team:"scale"}),v=n("DesignStartingPointsOverlay",{team:"activation"}),I=n("DesktopDownloadModalPrompt",{team:"desktop"}),T=n("DevHandoffConfigWizard",{team:"developer_tools",queueOnBlock:!0}),S=n("DevHandoffTrialSuccessOverlay",{team:"developer_tools",queueOnBlock:!0}),w=n("DevHandoffMarketingOverlay",{team:"developer_tools"}),A=n("DevModeAnnotationIntroductionOverlay",{team:"developer_tools"}),C=n("DevModeLostPermissionPopup",{team:"developer_tools",queueOnBlock:!0}),N=n("DevModeDirectLinkPopup",{team:"developer_tools"}),O=n("DevModeCodeConnectFlyout",{team:"developer_tools"}),L=n("DevModeApprovedAccessPopup",{team:"developer_tools"}),R=n("DevModePaywallReminderPopup",{team:"developer_tools"}),P=n("DevModeOptInEventOnlyOverlay",{team:"scale"}),k=n("EditorFigjamWhatsNew",{team:"figjam_engagement"}),D=n("EduPostVerification",{team:"activation"}),M=n("EduOffboarding",{team:"monetization_upgrades"}),x=n("EnterpriseOrgAdminOnboarding",{team:"scale"}),F=n("ExpiringPublicLinksOnboarding",{team:"scale",allowShowingIfModalPresent:!0}),U=n("ExpiringLinksAndAutogenPwOnboarding",{team:"scale",allowShowingIfModalPresent:!0}),B=n("FigJamConnectGoogleDrive",{team:"figjam_meex"}),H=n("FigJamJamboardDelayedNuxQuestions",{team:"activation"}),V=n("FigJamJamboardImporterCallout",{team:"figjam_meex"}),G=n("FigJamPanZoomOnboardingDLTBannerOverlay",{team:"figjam_core",queueOnBlock:!0}),W=n("FigJamParticipantOnboardingOverlay",{team:"figjam_meex"}),K=n("FigJamTryConfirmSave",{team:"figjam_engagement",queueOnBlock:!0}),Y=n("FigJamTryDeviceAlreadyClaimed",{team:"figjam_engagement",queueOnBlock:!0}),j=n("FigJamMindmapsOnboarding",{team:"figjam_core"}),z=n("FigjamPagesOverlay",{team:"figjam_meex"}),$=n("FigmaBasicsTooltipOnboarding",{team:"activation",queueOnBlock:!0}),Z=n("FileBrowserFigjamWhatsNew",{team:"explore"}),q=n("Gen0WelcomeOverlay",{team:"activation"}),J=n("Gen1DesignOnboarding",{team:"activation",queueOnBlock:!0}),X=n("Gen1DesignOnboardingSync",{team:"activation",queueOnBlock:!0}),Q=n("Gen1DesignViewerOnboarding",{team:"activation",queueOnBlock:!0}),ee=n("Gen1WelcomeOverlay",{team:"activation",queueOnBlock:!0}),et=n("JapaneseLaunchAnnouncementMachine",{team:"growth_platform",queueOnBlock:!0}),er=n("LibrariesWorkspaceOnboarding",{team:"scale",allowShowingIfModalPresent:!0}),en=n("LocalComponentDragDrop",{team:"monetization_upgrades",queueOnBlock:!0}),ei=n("MobileCommentDownloadModalPrompt",{team:"desktop"}),ea=n("MobileOnboardFileBrowser",{team:"activation",queueOnBlock:!0}),eo=n("MobileProtoDownloadModalPrompt",{team:"desktop"}),el=n("MobileRedirect",{team:"activation",queueOnBlock:!0}),es=n("MoveDraftsNudge",{team:"monetization_upgrades"}),ec=n("MoveDraftsNudgeV2",{team:"monetization_upgrades"}),ed=n("MultiplayerObservationNux",{team:"feedback",queueOnBlock:!0}),eu=n("MultiplayerSpotlightNudgeNux",{team:"feedback"}),ep=n("MultiplayerSpotlightNux",{team:"feedback",queueOnBlock:!0}),em=n("OnboardDesignEditor",{team:"activation",queueOnBlock:!0}),e_=n("OnboardFigJamEditor",{team:"figjam_engagement",queueOnBlock:!0}),eh=n("OnboardFigJamEditorBrowseTemplates",{team:"figjam_engagement",queueOnBlock:!0}),eg=n("OnboardFigJamEditorMakeSomething",{team:"figjam_engagement",queueOnBlock:!0}),ef=n("OnboardFigJamViewer",{team:"figjam_engagement",queueOnBlock:!0}),eE=n("OnboardFigJamEditorUnified",{team:"figjam_engagement",queueOnBlock:!0}),ey=n("OnboardFigJamEditorUnifiedPanAndZoom",{team:"figjam_engagement",queueOnBlock:!0}),eb=n("OnboardFigJamEditorUnifiedProduct",{team:"figjam_engagement",queueOnBlock:!0}),ev=n("OnboardFileBrowser",{team:"activation",queueOnBlock:!0}),eI=n("OnboardOrgsWelcome",{team:"activation"}),eT=n("OpenPlaygroundFile",{team:"community"}),eS=n("OptimizedEditButton",{team:"monetization_upgrades"}),ew=n("OrgAdminActivityOnboarding",{team:"scale"}),eA=n("OrgAdminLicenseGroupsOnboarding",{team:"scale"}),eC=n("OrgAdminMembersOnboarding",{team:"scale"}),eN=n("OrgAdminRequestDashboardOnboarding",{team:"scale"}),eO=n("OrgAdminSelectionOnboarding",{team:"scale"}),eL=n("OrgAdminSurvey",{team:"scale"}),eR=n("OrgAdminTeamOnboarding",{team:"scale"}),eP=n("OrgAdminManageBillingGroup",{team:"scale"}),ek=n("OrgAdminWorkspacesOnboarding",{team:"scale"}),eD=n("OrgCartAbandonSurvey",{team:"monetization_upgrades"}),eM=n("OrgSelectWorkspace",{team:"explore",queueOnBlock:!0}),ex=n("OrgTrialExpiredOverlay",{team:"monetization_upgrades",queueOnBlock:!0}),eF=n("OrgTrialPendingOverlay",{team:"monetization_upgrades",queueOnBlock:!0}),eU=n("OssSalesUpsell",{team:"monetization_upgrades",queueOnBlock:!0}),eB=n("PanZoomAnnouncementOverlay",{team:"figjam_core",queueOnBlock:!0}),eH=n("PinnedCommentsCreatorEducationalOverlay",{team:"activation",queueOnBlock:!0}),eV=n("PinnedCommentsFeedbackGiverEducationalOverlay",{team:"activation",queueOnBlock:!0}),eG=n("PlanSpacesLaunchOverlay",{team:"monetization_upgrades",lifecycle:{userFlagName:"seen_plan_spaces_launch_modal",maxTimes:1}}),eW=n("PlanSpacesNewStarterTeamOverlay",{team:"sharing_and_access"}),eK=n("PlanSpacesRecreatedStarterTeamOverlay",{team:"sharing_and_access"}),eY=n("PluginPublishInvitePublishersOnboardingNudgeModal",{team:"extensibility",allowShowingIfModalPresent:!0}),ej=n("PresetsBaselineMultiStep",{team:"activation"}),ez=n("PresetsBaselineNudge",{team:"activation"}),e$=n("PresetsExistingUsersPopup",{team:"activation"}),eZ=n("ProCartAbandonSurvey",{team:"monetization_upgrades"}),eq=n("ProfessionalBadgeOverlay",{team:"monetization_upgrades",queueOnBlock:!0,allowShowingIfModalPresent:!0}),eJ=n("ProOnboardingTeamMemberWelcomeOverlay",{team:"explore"}),eX=n("ProOnboardingPrivateProjectsOverlay",{team:"monetization_upgrades"}),eQ=n("ProOnboardingPrototypeOnlyLinksOverlay",{team:"monetization_upgrades"}),e0=n("ProOnboardingUnlimitedProjectsOverlay",{team:"monetization_upgrades"}),e1=n("ProOnboardingUnlimitedFilesOverlay",{team:"monetization_upgrades"}),e2=n("ProOnboardingVariablesOverlay",{team:"monetization_upgrades"}),e3=n("ProOnboardingVotingOverlay",{team:"monetization_upgrades"}),e5=n("ProTrialsV3AudioOverlay",{team:"monetization_upgrades"}),e4=n("ProTrialsV3ComponentPublishingOverlay",{team:"monetization_upgrades"}),e8=n("ProTrialsV3EntryOverlay",{team:"monetization_upgrades"}),e6=n("ProTrialsV3ExpiryOverlay",{team:"monetization_upgrades"}),e7=n("ProTrialsV3OpenSessionsOverlay",{team:"monetization_upgrades"}),e9=n("ProTrialsV3PasswordProtectionOverlay",{team:"monetization_upgrades"}),te=n("ProTrialsV3TeamWelcomeOverlay",{team:"monetization_upgrades"}),tt=n("ProTrialsV3UnlimitedPagesOverlay",{team:"monetization_upgrades"}),tr=n("ProTrialsV3VideoOverlay",{team:"monetization_upgrades"}),tn=n("PromoCodeCreateTeam",{team:"monetization_upgrades"}),ti=n("PromoCodeSelectTeam",{team:"monetization_upgrades"}),ta=n("SearchWorkspaceOnboarding",{team:"scale"}),to=n("SharedFilesInRecentsPointer",{team:"explore"}),tl=n("SprigSurveysOverlay",{team:"community",queueOnBlock:!1,allowShowingIfModalPresent:!0}),ts=n("TeamProjectLinkOverlay",{team:"monetization_upgrades"}),tc=n("UniversalUpgrade",{team:"monetization_upgrades",queueOnBlock:!0}),td=n("UpsellLibrariesConsecutivePaste",{team:"monetization_upgrades",queueOnBlock:!0}),tu=n("UpsellLibrariesReuseComponentsOverlay",{team:"monetization_upgrades",lifecycle:{userFlagName:"seen_reuse_components_overlay",maxTimes:1}}),tp=n("ViewerToEditorOverlay",{team:"monetization_upgrades"}),tm=n("WarningChromeVersion",{team:"scenegraph_and_sync"}),t_=n("WorkflowInteropMachine",{team:"activation",queueOnBlock:!1}),th=n("WorkshopPointer",{team:"figjam_core"}),tg=n("WorkspaceAdminOnboarding",{team:"scale"}),tf=n("MobileReplyUpsellAnnouncement",{team:"desktop"}),tE=n("MobileReplyUpsellHint",{team:"desktop"}),ty=n("FigJamTemplatesWhatsNew",{team:"figjam_engagement"}),tb=n("ColorManagementDefaultToP3Modal",{team:"editor_usability",queueOnBlock:!0}),tv=n("LinkShortcutOverlay",{team:"extensibility"}),tI=n("OutlineModeShortcutPrefOverlay",{team:"text_and_vector"}),tT=n("FrameFormattingReactiveFollowUp",{team:"activation"}),tS=n("TextFormattingReactiveFollowUp",{team:"activation"}),tw=n("SetUserOnboardingProgressUserFlagsEventOnlyOverlay",{team:"activation"}),tA=n("AsyncWalkthroughOverlay",{team:"explore",queueOnBlock:!0,allowShowingIfModalPresent:!0}),tC=n("FeedPostDetailZoomPanNudge",{team:"explore",allowShowingIfModalPresent:!0}),tN=n("TeamFeedFirstTimePost",{team:"explore"}),tO=n("TeamFeedWeeklyPrompt",{team:"explore"}),tL=n("TeamFeedAudienceSelection",{team:"explore",allowShowingIfModalPresent:!0}),tR=n("FigJamAiNewFileOverlay",{team:"figjam_engagement",queueOnBlock:!0}),tP=n("FigJamAiSummarizationNudgeOverlay",{team:"figjam_meex"}),tk=n("FigJamAISummarizationEntrpointPointerOverlay",{team:"figjam_meex"}),tD=n("FigJamAiToolbarOverlay",{team:"figjam_engagement"}),tM=n("FigJamSectionPresetsAnnouncementOverlay",{team:"figjam_engagement",queueOnBlock:!0}),tx=n("FigJamSectionPresetPickerCallout",{team:"figjam_engagement"}),tF=n("CursorBotV2Overlay",{team:"activation",queueOnBlock:!0}),tU=n("CursorBotFrameFormattingFollowUp",{team:"activation"}),tB=n("CursorBotTextFormattingFollowUp",{team:"activation"}),tH=n("SharingClarityAdminOnboardingOverlay",{team:"workflow"}),tV=n("SharingClarityBranchModalOverlay",{team:"workflow",allowShowingIfModalPresent:!0}),tG=n("SharingClarityFileAudienceOverlay",{team:"workflow",allowShowingIfModalPresent:!0}),tW=n("SharingClarityFileModalOverlay",{team:"workflow",allowShowingIfModalPresent:!0}),tK=n("SharingClarityPrototypeModalOverlay",{team:"workflow",allowShowingIfModalPresent:!0}),tY=n("SharingClarityProjectCreationPermissionOverlay",{team:"workflow",allowShowingIfModalPresent:!0}),tj=n("SharingClarityProjectCreationTeamAccessOverlay",{team:"workflow",allowShowingIfModalPresent:!0}),tz=n("SharingClarityProjectModalOverlay",{team:"workflow",allowShowingIfModalPresent:!0}),t$=n("SharingClarityTeamCreationOverlay",{team:"workflow",allowShowingIfModalPresent:!0})},441748:(e,t,r)=>{"use strict";r.d(t,{lU:()=>tr.l,zj:()=>eI,qD:()=>n.qD,l1:()=>ta.l,Zn:()=>e2,lV:()=>n.lV,vd:()=>w,bS:()=>el,_3:()=>en,$c:()=>tn.$c,gr:()=>n.gr,ye:()=>n.ye,T3:()=>n.T3,FU:()=>n.FU,lI:()=>n.lI,C9:()=>n.C9,mc:()=>n.mc,$4:()=>n.$4,IB:()=>tt,$f:()=>n.$f,fB:()=>tr.f,g2:()=>ti.g});var n=r(909509),i=r(411855),a=r(188507),o=r(629019),l=r.n(o),s=r(374626),c=r(563706),d=r(762638),u=r(939863),p=r(738269),m=r(445092),_=r(697551),h=r(643067),g=r(498606),f=r(637590),E=r(810014),y=r(428467),b=r(967409);function v(){let e=(0,a.wA)(),t=(0,_.UP)(),r=(0,a.d4)(e=>(0,y.getPermissionsStateMemoized)(e));return i.useCallback(()=>{e(m.Ns({searchScope:t?b.Rx.COMMUNITY:r.currentUserOrgId?(0,y.canMemberOrg)(r.currentUserOrgId,r)?b.Rx.ORG:b.Rx.ORG_GUEST:b.Rx.PERSONAL}))},[e,t,r])}var I=r(586450),T=r(422247),S=r(639685);function w(e){let t=e.isMobile??c.Ay.mobile,r=(0,a.wA)(),n=(0,_.UP)(),o=(0,s.md)(I.Q),y=(0,a.d4)(e=>"search"===e.selectedView.view),b=(0,a.d4)(e=>(0,h.kY)(e)),[w,A,C]=function(){let[e,t]=i.useState(o||""),n=i.useCallback(()=>{t(""),r(m._z({}))},[]);return[e,t,n]}(),N=(0,a.d4)(e=>e.search.parameters.searchScope),O=v(),L=(0,a.d4)(e=>e.selectedView),[R,P]=i.useState(L);i.useEffect(()=>{let e=(0,_.zU)(R)&&(0,_.DC)(L)||(0,_.DC)(R)&&(0,_.zU)(L),t=(0,_.DC)(R)&&(0,_.DC)(L);e||t||!(w.length>0)||"search"===L.view||C(),P(L),O()},[L]),i.useEffect(()=>{A(o)},[o,A]);let k=e=>{e.preventDefault(),o||O()},D=e=>{k(e)},M=t?e=>{y?history.go(-1):(r(p.$T({view:"search",entryPoint:n?"community":"file_browser",previousView:L&&((0,f.QB)(L)||(0,f.bN)(L))?L:void 0})),k(e))}:D,x=!t&&!e.inSidebar;return i.createElement("div",{className:d.cx.flexGrow1.relative.minW0.$,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":b?"Search temporarily disabled":void 0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},t?i.createElement(E.L,{className:b?"search_button--disabledSearchActionMobile--EHTVy search_button--searchActionMobile--zxOlo search_button--searchAction--yuE1s":y?"search_button--searchActionActiveMobile--45U-P search_button--searchActionMobile--zxOlo search_button--searchAction--yuE1s":"search_button--searchActionMobile--zxOlo search_button--searchAction--yuE1s",svg:S.A,enabled:!0,onClick:M}):i.createElement("div",{className:l()({"search_button--disabledSearchAction--y0SbT search_button--searchAction--yuE1s":b,"search_button--searchAction--yuE1s":!e.inSidebar&&!b,"search_button--searchActionSidebar--C2cj5 search_button--searchAction--yuE1s":e.inSidebar&&!b})},i.createElement("div",{onClick:D,className:d.cx.wFull.$},i.createElement(T.x,{query:w,onQueryChanged:e=>A(e),searchScope:N,entryPoint:n?"community":"file_browser",placeholder:n?(0,u.t)("navbar.navbar.community_search_placeholder"):(0,u.t)("navbar.navbar.file_browser_search_placeholder"),useSidebarStyles:e.inSidebar,useBrowseIANavBarStyles:x,enableResultsPreview:!n}))))}var A=r(935283),C=r(531664),N=r(336599),O=r(671653),L=r(609936),R=r(976089),P=r(966712),k=r(499737),D=r(135876),M=r(574176),x=r(723245),F=r(279453),U=r(915306),B=r(501354),H=r(498138),V=r(958756),G=r(970737),W=r(71795),K=r(771007),Y=r(420630),j=r(271368),z=r(26520),$=r(927092),Z=r(117688),q=r(236705),J=r(83958),X=r(505422);let Q={[b.uH.HUB_FILES]:Z.A,[b.uH.PUBLIC_PLUGINS]:q.A,[b.uH.PRIVATE_PLUGINS]:null,[b.uH.PUBLIC_PROFILES]:$.A,[b.uH.FILES]:null,[b.uH.PROJECTS]:null,[b.uH.TEAMS]:null,[b.uH.USERS]:null,[b.uH.PUBLIC_WIDGETS]:J.A,[b.uH.PRIVATE_WIDGETS]:null},ee={[b.uH.PUBLIC_PLUGINS]:W.Of,[b.uH.PRIVATE_PLUGINS]:G.Of,[b.uH.PUBLIC_PROFILES]:z.hP,[b.uH.PUBLIC_WIDGETS]:K.nD.listStyle,[b.uH.PRIVATE_WIDGETS]:K.uB.listStyle};class et extends i.Component{componentDidMount(){!this.props.isLoading&&this.props.search.queryId!==this.props.search.lastAckedQueryId&&this.props.search.parameters.query.length>0&&(this.props.setSearchLastAckedQueryId(this.props.search.queryId),this.props.setLastLoadedQuery(this.props.search.sessionId,this.props.search.parameters.query,this.props.search.queryId),U.vj.Session.trackClientResult(this.props.search,this.props.selectedView))}componentDidUpdate(){!this.props.isLoading&&this.props.search.queryId!==this.props.search.lastAckedQueryId&&this.props.search.parameters.query.length>0&&(this.props.setSearchLastAckedQueryId(this.props.search.queryId),this.props.setLastLoadedQuery(this.props.search.sessionId,this.props.search.parameters.query,this.props.search.queryId),U.vj.Session.trackClientResult(this.props.search,this.props.selectedView))}renderContent(){let e=this.props.viewMode===O.XU.LIST?ee[this.props.searchModelType]??z.p_:(0,P.kc)().file_browser_items_view&&this.props.searchModelType===b.uH.FILES?void 0:z.Vg;e+=this.props.isLoggedIn?` ${z.Vz}`:"";let t=this.props.didSucceed&&0===this.props.searchResults.length;return i.createElement(D.x,{isLoading:this.props.isLoading,className:z.g4},()=>this.props.didFail?i.createElement(en,{illustration:X.A,resourceTypeDisplayString:this.props.failureMessage||(0,u.t)("search.search_model_type.search_error"),searchModelType:this.props.searchModelType,query:null,activePlan:this.props.activePlan,activeWorkspaceFilter:this.props.activeWorkspaceFilter,onResetWorkspaceFilter:this.props.onResetWorkspaceFilter}):t?i.createElement(en,{illustration:Q[this.props.searchModelType],resourceTypeDisplayString:(0,b.hf)(this.props.searchModelType),searchModelType:this.props.searchModelType,query:this.props.query,activePlan:this.props.activePlan,activeWorkspaceFilter:this.props.activeWorkspaceFilter,onResetWorkspaceFilter:this.props.onResetWorkspaceFilter}):i.createElement("div",{className:z.sb},i.createElement("div",{className:e},i.createElement(Y.L,{searchModelType:this.props.searchModelType,searchResults:this.props.searchResults,viewMode:this.props.viewMode,planFilter:this.props.planFilter}))))}renderProjectContextMenu(){let e=(0,H.He)(this.props.dropdownShown);return(0,x.D6)(this.props.currentOrgId)&&e&&i.createElement(B.p,{folder:e,useLGPerms:!0})}render(){let e=this.props.searchModelType===b.uH.FILES&&((0,P.kc)().file_browser_items_view||this.props.viewMode===O.XU.LIST)?void 0:this.props.viewMode===O.XU.LIST?z.UL:z.G2;return i.createElement(V.Q0,{isDropdown:!1,...this.props},i.createElement("div",{className:e},this.renderContent()),this.props.searchModelType===b.uH.PROJECTS&&this.renderProjectContextMenu())}}et.displayName="SearchResultView";let er=(0,a.Ng)((e,t)=>({viewMode:(0,j.z[t.searchModelType])(e.search.parameters,e.viewBarViewModeOptionByView).viewMode,isLoggedIn:!!e.user,search:e.search,activeWorkspaceFilter:e.search.parameters.workspaceFilter,activePlan:e.search.parameters.planFilter,dropdownShown:e.dropdownShown,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView}),(e,t)=>({onResetWorkspaceFilter:()=>{e(m.HI({}))},setSearchLastAckedQueryId:t=>{e(m.ej({lastAckedQueryId:t}))},setLastLoadedQuery:(t,r,n)=>{e(m.w2({sessionId:t,query:r,queryId:n}))}}))(et);function en(e){let{query:t,resourceTypeDisplayString:r}=e,n=(0,a.d4)(e=>e.currentUserOrgId),o="NON_ORG_TEAMS"!==e.activePlan&&e.activePlan||n,s=(0,k.Rs)(F.N63,{orgId:o??null}),c=i.useMemo(()=>{var e,t;return"loaded"===s.status?null==(t=null==(e=s.data)?void 0:e.org)?void 0:t.workspaces:[]},[s]),p=null==c?void 0:c.find(t=>null!=e.activeWorkspaceFilter&&t.id===e.activeWorkspaceFilter),m=e.onResetWorkspaceFilter,_=i.useMemo(()=>i.createElement(i.Fragment,null,r,null!==t?i.createElement(i.Fragment,null,"\xa0",i.createElement("span",{className:z.xV},t)):null,null!=p&&i.createElement(i.Fragment,null," in the ",i.createElement("span",{className:z.xV},p.name)," workspace",i.createElement("div",{className:l()(d.cx.pt16.$,z.YF),onClick:()=>{m&&m()},role:"button",tabIndex:0},i.createElement(u.Tx,{id:"search.empty_state.try_searching_whole_org"})))),[t,m,p,r]);return i.createElement("div",{className:z.p$},e.illustration&&i.createElement(M.B,{className:z.IC,svg:e.illustration,useOriginalSrcFills_DEPRECATED:!0}),i.createElement("div",{className:z.jI},i.createElement("span",{className:z.q6},_)),e.cta?i.createElement("div",{className:z.Ki},e.cta):null)}en.displayName="SearchResultEmptyState";class ei extends i.Component{constructor(e){super(e),this.onScroll=e=>{this.updateIsTop(e.target)},this.updateIsTop=e=>{this.props.setScrollTop(window.pageYOffset)},this.shouldScroll=()=>0!==this.props.searchScrollTop,this.getLoadingKey=()=>m.$P.loadingKeyForPayload({parameters:this.props.parameters}),this.isLoading=()=>N.VP(this.props.loadingState,this.getLoadingKey()),this.didSucceed=()=>N.GH(this.props.loadingState,this.getLoadingKey()),this.didFail=()=>N.aF(this.props.loadingState,this.getLoadingKey()),this.getFailedReason=()=>N.Fl(this.props.loadingStateFailureReasons,this.getLoadingKey());let t=this.getFilteredResults(e.searchResults??[],e.sortFilterConfig);this.state={showContainer:!this.shouldScroll(),filteredFileResults:t}}componentDidMount(){window.addEventListener("scroll",this.onScroll,!0),this.shouldScroll()?setTimeout(()=>{window.scrollTo(0,this.props.searchScrollTop),this.setState({showContainer:!0})},0):this.updateIsTop({})}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll,!0)}componentDidUpdate(e){if(this.props.searchModelType===b.uH.FILES){let t=e.searchResults??ea,r=this.props.searchResults??ea,n=t.length!==r.length;if(!n)for(let e=0;e<t.length;e++)(0,C.c2)(t[e],r[e])||(n=!0);if(n){let e=this.getFilteredResults(r,this.props.sortFilterConfig);this.setState({...this.state,filteredFileResults:e})}}}getFilteredResults(e,t){return this.props.searchModelType===b.uH.FILES?e.filter(e=>{let r=e.model;switch(t.filters.fileType){case O.t2.ANY:return!0;case O.t2.DESIGN:return"design"===r.editor_type;case O.t2.FIGJAM:return"whiteboard"===r.editor_type;case O.t2.SLIDES:return"slides"===r.editor_type;case O.t2.PROTOTYPE:return!1;default:(0,A.xb)(t.filters.fileType)}}):e}render(){let e=this.props.searchResults??ea,t=this.getFilteredResults(e,this.props.sortFilterConfig);return i.createElement(L.r,{key:"unified-search",toolbar:c.Ay.mobile?i.createElement(R.o,null):void 0,viewbar:i.createElement(j.Z,{sortControlsDisabled:0===e.length}),viewBarSticky:!0,content:i.createElement(er,{searchResults:t,searchScope:this.props.parameters.searchScope,searchModelType:this.props.searchModelType,sortState:this.props.parameters.sortState,onChangeSortState:this.props.onChangeSortState,isLoading:this.isLoading(),didSucceed:this.didSucceed(),didFail:this.didFail(),failureMessage:this.getFailedReason(),query:this.props.completedQuery,planFilter:this.props.parameters.planFilter})})}}ei.displayName="SearchPageView";let ea=[],eo=(0,a.Ng)((e,t)=>{let r=e.search.parameters,n=e.search.responses[t.searchModelType];return{parameters:r,completedQuery:e.search.completedQueries[t.searchModelType],searchResults:(null==n?void 0:n.results)||null,loadingState:e.loadingState,loadingStateFailureReasons:e.loadingStateFailureReasons,searchScrollTop:e.search.searchScrollTop,sortFilterConfig:e.tileSortFilterStateByView.search}},e=>({onChangeSortState:t=>{e(m.qv({sortState:t}))},setScrollTop:t=>{e(m.PP({top:t}))}}))(ei);function el(){var e;let t=(0,a.d4)(e=>e.search.parameters),r=(null==(e=t.facetFilters)?void 0:e.searchModelType)?t.facetFilters.searchModelType:b.uH.FILES;return i.createElement(eo,{searchModelType:r})}var es=r(320063),ec=r(564577),ed=r(67833),eu=r(659838),ep=r(32863),em=r(56691),e_=r(944682),eh=r(798184),eg=r(112235),ef=r(132135),eE=r(914176);let ey="search_bar--selectedSearchResult--k9j9t",eb="search_bar--searchResultsSeparator--3qkZN";var ev=r(630834);function eI(e){let{searchBarRef:t,selectedSearchResultIndex:r,onFocusSearchBar:n}=e,o=(0,a.wA)(),l=(0,a.d4)(e=>e.desktopNewTab.isSearchBarFocused),s=(0,a.d4)(e=>e.desktopNewTab.searchQuery),c=(0,a.d4)(e=>e.search.completedQueries[b.uH.FILES]),d=(0,eh.O)(),{isLoading:u,searchResults:p}=(0,eh.J)(),_=(0,a.d4)(e=>(0,em.gt)(e)),h=(0,i.useCallback)(e=>{""===s&&""!==e&&o(m.Dy({entryPoint:"desktop_new_tab"})),o(em.Ri(e)),o(m.PI({query:e,searchModelType:b.uH.FILES,searchScope:_,debounce:!0,searchTypeBehavior:b.Rr.ONE_TYPE,precacheInactiveTypes:!1}))},[o,s,_]),g=(0,i.useCallback)(()=>{o(em.Ri("")),o(m._z({}))},[o]),f=(0,i.useCallback)(e=>{n(),o(em.j3(!0)),""===s||e||o(m.Dy({entryPoint:"desktop_new_tab"}))},[o,n,s]),E=(0,i.useCallback)(()=>{o(em.j3(!1)),o(m.ky())},[o]);return i.createElement("div",{className:"search_bar--root--q5m-I"},i.createElement(eT,{ref:t,query:s,onChange:h,onSubmitInput:e=>{e.preventDefault()},clearSearch:g,focusOnMount:!1,isFocused:l,onBlur:E,onFocus:f}),d&&i.createElement(eS,{results:p,completedQuery:c,hasLoaded:!u,selectedIndex:r}))}let eT=i.forwardRef((e,t)=>{let{onFocus:r,clearSearch:n}=e,{searchInputRef:a,onMouseDown:o,onMouseUp:l,onClearSearchClick:s,onBlur:c,onSearchKeyDown:d,onSearchChange:p}=(0,ep.ne)(e,t),m=(0,i.useCallback)(()=>{a.current&&(a.current.focus({preventScroll:!0}),r&&r(!0))},[a,r]);return(0,es.h)(m),(0,i.useEffect)(()=>{let e=()=>{"visible"===document.visibilityState&&(n(),m())};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[n,m]),i.createElement("form",{onSubmit:e.onSubmitInput},i.createElement("div",{className:"search_bar--searchContainer--Nkv1c",onMouseDown:e=>{o(e),e.stopPropagation(),e.target.matches("input")||e.preventDefault()},onMouseUp:l,role:"presentation"},i.createElement(M.B,{className:"search_bar--searchIcon--9j3rS",svg:S.A}),i.createElement(eu.L,{ref:a,placeholder:(0,u.t)("desktop_new_tab.search.search_files_placeholder"),className:"search_bar--searchInput--2g9g5 text--fontPos13--xW8hS text--_fontBase--QdLsd",value:e.query,onBlur:c,onChange:p,onKeyDown:d,spellCheck:!1}),!!e.query&&i.createElement(M.B,{className:"search_bar--xIcon--8Zu2r",svg:ev.default,onClick:s})))});function eS(e){let t=(0,a.wA)(),r=(0,a.d4)(e=>e.search),n=(0,a.d4)(e=>e.selectedView);return e.hasLoaded&&e.completedQuery&&r.queryId!==r.lastAckedQueryId&&(t(m.ej({lastAckedQueryId:r.queryId})),t(m.w2({sessionId:r.sessionId,query:r.parameters.query,queryId:r.queryId})),U.vj.Session.trackClientResult(r,n)),i.createElement("div",{className:"search_bar--searchResults--lOjfN",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},role:"presentation"},e.hasLoaded&&e.completedQuery?0!==e.results.length?i.createElement(i.Fragment,null,e.results.map((t,r)=>i.createElement(ew,{key:t.model.key,result:t,isSelected:r===e.selectedIndex,index:r})),i.createElement("div",{className:eb}),i.createElement(eA,{isSelected:"see-all"===e.selectedIndex})):i.createElement("div",{className:"search_bar--emptySearchResults--QcQlN"},i.createElement("p",{className:"search_bar--emptySearchResultsMessage--V5jIc"},i.createElement(u.Tx,{id:"desktop_new_tab.search.no_file_results_matching",searchQuery:i.createElement("span",{className:"search_bar--searchResultsHighlightedQuery--KSBko"},e.completedQuery)}))):i.createElement("div",null,i.createElement(eC,null),i.createElement(eC,null),i.createElement(eC,null),i.createElement(eC,null),i.createElement(eC,null),i.createElement("div",{className:eb}),i.createElement(eN,null)))}function ew(e){var t;let r=(0,a.wA)(),n=(0,a.d4)(e=>e.folders),{result:o,index:s}=e,c=o.model,d=(0,i.useCallback)(e=>{e.preventDefault(),r(e_.yJ({file:o.model})),r(em.Gb({result:o,index:s,clickAction:U.vj.Query.ClickAction.CLICK}))},[o,s,r]),p=(0,eg.p)()(c),m=c.folder_id&&(null==(t=n[c.folder_id])?void 0:t.name),_=i.createElement(u.Tx,{id:"desktop_new_tab.edited_at_time_stamp",relativeTime:i.createElement(ec.h1,{date:c.touched_at})}),h=m?i.createElement(i.Fragment,null,m," \xb7 ",_):_;return i.createElement("a",{className:l()({"search_bar--searchResult--LMkun":!0,[ey]:e.isSelected}),href:(0,ef.rl)(c),onClick:d},i.createElement(ed.oS,{className:"search_bar--searchResultIcon--KAdHK",type:p}),i.createElement("div",{className:"search_bar--searchResultMetadata--xc09U ellipsis--ellipsis--Tjyfa"},i.createElement("div",{className:"search_bar--searchResultTitle--xIZR1 ellipsis--ellipsis--Tjyfa"},c.name),i.createElement("div",{className:"search_bar--searchResultSubtitle--6GiAE text--fontPos11--2LvXf text--_fontBase--QdLsd"},h)))}function eA(e){let t=(0,a.wA)(),r=(0,a.d4)(e=>e.desktopNewTab.searchQuery),n=(0,a.d4)(e=>e.currentUserOrgId),o=(0,eE.XW)(r,n,b.uH.FILES);return i.createElement("a",{className:l()({"search_bar--seeAllItem--pYyua":!0,[ey]:e.isSelected}),href:o,onClick:()=>t(em.ht())},i.createElement("p",null,i.createElement(u.Tx,{id:"search.preview_item.see_all_search_results"})))}function eC(){return i.createElement("div",{className:"search_bar--searchResultLoadingItem--Oyq04"},i.createElement("div",{className:"search_bar--loadingIcon--2ojWE search_bar--loadingBox--xITSt"}),i.createElement("div",null,i.createElement("div",{className:"search_bar--loadingTitle--H79rQ search_bar--loadingBox--xITSt"}),i.createElement("div",{className:"search_bar--loadingSubtitle---xiB- search_bar--loadingBox--xITSt"})))}function eN(){return i.createElement("div",{className:"search_bar--seeAllLoadingItem--AOCy6"},i.createElement("div",{className:"search_bar--loadingSeeAll--swZiX search_bar--loadingBox--xITSt"}))}var eO=r(91408),eL=r(646240),eR=r(723325),eP=r(896474),ek=r(662275),eD=r(611978),eM=r(268816),ex=r(691592),eF=r(831700),eU=r(971044),eB=r(827586),eH=r(582064),eV=r(237870),eG=r(488578),eW=r(61911),eK=r(954702),eY=r(621242),ej=r(146491),ez=r(677730),e$=r(29600),eZ=r(219233),eq=r(860168),eJ=r(152882);let eX=(0,eO.jz)(eq.RAo),eQ=(0,eO.jz)(eq.aIx),e0=(0,eV.Ju)(function(){var e;let t=(0,a.wA)(),r=(0,a.d4)(e=>e.modalShown),n=(0,a.d4)(e=>e.search.sessionId),o=(0,s.md)(I.Q),[l,c]=(0,s.fp)(ex.z5),d=(0,s.md)(ex.L8),u=(0,e$.A)();i.useEffect(()=>()=>{n&&U.vj.Session.searchModalExit(n)},[n]);let p=i.useCallback(()=>{t(eH.N.endSession()),l&&(c(null),u(b.uR.DROPDOWN,l))},[t,c,l,u]);if(!r)return null;let m=r.data.width?{width:`${r.data.width-2*eX}px`}:void 0;return i.createElement(eG.aF,{absolutePosition:{top:r.data.top,left:r.data.left},padding:`0 0 ${eX}px 0`,size:r.data.width??eQ,tintedModalBackground:!1,useModalViewScroll:!1,maxHeight:"90vh",onHide:p,popStack:!0,"data-testid":"facetedSearchModal"},i.createElement(eR.dP,null,i.createElement(ej.a3.Provider,{value:ej.Vm.PREVIEW},i.createElement("div",{className:eJ.PP,style:m},i.createElement(eU.Y,{hideSearchPreview:null==(e=r.data)?void 0:e.hideSearchPreview})),i.createElement(eB.P,{className:eJ.xx},l&&i.createElement("div",{className:eJ.v$},i.createElement(eW.s,{facetType:l,id:"facet-panel",path:[3]})),i.createElement(ez.L,{id:"suggestions",path:[4]}),r.data.hideSearchPreview?null:o||d.length>0?i.createElement(eY.j,{id:"search-results",path:[5]}):i.createElement(eK.n,{id:"recents",path:[5]})))))},eZ.r),e1=(0,eO.jz)(eq.RAo);function e2({hideSearchPreview:e,searchBarFullWidth:t}){let r=(0,a.wA)(),n=(0,a.d4)(e=>e.modalShown),o=(0,eD._6)(),l=v(),[c,d]=(0,s.fp)(I.Q8),p=(0,s.md)(ex.L8),_=i.useRef(null),h=(0,eL.Xr)(ex.q4),g=i.useCallback(()=>{if(!_.current||(null==n?void 0:n.type)===eZ.r)return;let i=_.current.getBoundingClientRect();r(ek.to({type:e0,data:{top:i.top-e1,left:i.left-e1,hideSearchPreview:e,width:t?i.width+2*e1:void 0},showModalsBeneath:!0}))},[r,n,e,t]);(0,es.h)(()=>{l()}),i.useEffect(()=>{let e=e=>{e.metaKey&&"/"===e.key&&!n&&g()},t=e=>{"Tab"===e.key&&(null==n?void 0:n.type)===eZ.r&&r(ek.AS())};return document.addEventListener("keydown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keydown",t)}},[r,n,g]);let f=(0,s.md)(eM.hO.isFragmentSearchAtom);return(i.useEffect(()=>{f||"search"===o.view||(r(m._z({})),d(""),h())},[r,o,d,h,f]),"search"===o.view)?i.createElement("div",{className:"faceted_search_entrypoint--fullResultsSearchWrapper--MXIrX"},i.createElement(eR.dP,null,i.createElement(eU.Y,null))):i.createElement("div",{className:"faceted_search_entrypoint--inputWrapper--uu1FO search--searchContainerSidebarWithSelection--I54MO search--_expandingSearchBoxSidebarContainerBase--Mj7Ol search--searchContainerSidebar--JLCAb",onClick:g,onFocus:g,ref:_,role:"button",tabIndex:0,"data-testid":"facetedSearchEntrypoint"},i.createElement(eP.In,{icon:"search-32"}),i.createElement("div",{className:"faceted_search_entrypoint--contentContainer--4YZBT"},i.createElement(eF.K,null),i.createElement(eu.L,{className:"faceted_search_entrypoint--input--YsWej faceted_search_bar--input--fyJRw",placeholder:0===p.length?(0,u.t)("search.search_bar.placeholder"):"",value:c})),!e&&i.createElement("div",{className:"faceted_search_entrypoint--leftFadeContainer--JwJoM faceted_search_bar--leftFadeContainer--qufK3 faceted_search_bar--_fadeContainer--4digk"}))}var e3=r(268537),e5=r(128751),e4=r(860178),e8=r(99506),e6=r(720488),e7=r(292164),e9=r(558011),te=r(205544);function tt(e){var t,r,o,s,c,m,_,h,g;let f=(0,a.wA)(),E=i.useRef(null),y=(0,a.d4)(({dropdownShown:e})=>e),b=(0,a.d4)(e=>e.selectedView),v=(0,n._n)().valuesToDisplayText,I=(0,e4.TA)(),T=(0,a.d4)(e=>e.orgUsersByOrgId.orgUsers),S=i.useMemo(()=>null!==I&&Object.values(T).some(e=>{var t;return(null==(t=e[I])?void 0:t.permission)===e8._D.ADMIN}),[I,T]),w=e.dropdownKey,A=w&&y&&y.type===e.dropdownKey&&y.data&&y.data.targetRect,C=!!w&&!!y&&(y.type===e.dropdownKey||y.type===(0,n._n)().dropdownId||y.type===n.kt||y.type===n.N1.dropdownId||y.type===n.Bm||y.type===n.R2),N=E.current,L=[i.createElement(e3.W.Option,{key:"tile-sort",children:i.createElement("div",{className:d.cx.flex.justifyBetween.itemsCenter.w150.pl16.$},v[e.sortFilterOptions.tileSortFilterConfig.sort.key],i.createElement(M.B,{svg:e9.A})),onClick:e=>{f(e5.an()),f(p.j7({type:(0,n._n)().dropdownId,data:{targetRect:null==N?void 0:N.getBoundingClientRect()}})),e.stopPropagation()}}),i.createElement(e3.W.Separator,{key:""}),i.createElement(e3.W.CheckableOption,{key:"grid-view-toggle",checked:e.sortFilterOptions.tileSortFilterConfig.viewMode===O.XU.GRID,onClick:()=>{e.onViewModeChange(O.XU.GRID)},children:(0,u.t)("file_browser.view_mode_toggle.show_as_grid")}),i.createElement(e3.W.CheckableOption,{key:"list-view-toggle",checked:e.sortFilterOptions.tileSortFilterConfig.viewMode===O.XU.LIST,onClick:()=>{e.onViewModeChange(O.XU.LIST)},children:(0,u.t)("file_browser.view_mode_toggle.show_as_list")})];if((null==(t=e.filters)?void 0:t.orgDeletedDrafts)&&S&&L.unshift(i.createElement(e3.W.Option,{key:"tile-org-deleted-drafts-filter",children:i.createElement("div",{className:d.cx.flex.justifyBetween.itemsCenter.w150.pl16.$},e.filters.orgDeletedDrafts[e.sortFilterOptions.tileSortFilterConfig.filters.orgDeletedDrafts??""],i.createElement(M.B,{svg:e9.A})),onClick:e=>{f(e5.an()),f(p.j7({type:n.kt,data:{targetRect:null==N?void 0:N.getBoundingClientRect()}})),e.stopPropagation()}})),(null==(r=e.filters)?void 0:r.fileType)||e.sortFilterOptions.tileSortFilterConfig.filters.fileType){let t=n.N1.valuesToDisplayText;L.unshift(i.createElement(e3.W.Option,{key:"tile-file-filter",children:i.createElement("div",{className:d.cx.flex.justifyBetween.itemsCenter.w150.pl16.$},t[e.sortFilterOptions.tileSortFilterConfig.filters.fileType],i.createElement(M.B,{svg:e9.A})),onClick:e=>{f(e5.an()),f(p.j7({type:n.N1.dropdownId,data:{targetRect:null==N?void 0:N.getBoundingClientRect()}})),e.stopPropagation()}}))}return(null==(o=e.filters)?void 0:o.plan)&&L.unshift(i.createElement(e3.W.Option,{key:"tile-plan-filter",children:i.createElement("div",{className:d.cx.flex.justifyBetween.itemsCenter.w150.pl16.$},null==(c=e.filters.plan[(null==(s=e.sortFilterOptions.tileSortFilterConfig.filters.plan)?void 0:s.planId)??""])?void 0:c.label,i.createElement(M.B,{svg:e9.A})),onClick:e=>{f(e5.an()),f(p.j7({type:n.Bm,data:{targetRect:null==N?void 0:N.getBoundingClientRect()}})),e.stopPropagation()}})),(null==(m=e.filters)?void 0:m.sharer)&&L.unshift(i.createElement(e3.W.Option,{key:"tile-sharer-filter",children:i.createElement("div",{className:d.cx.flex.justifyBetween.itemsCenter.w150.pl16.$},e.filters.sharer[e.sortFilterOptions.tileSortFilterConfig.filters.sharedBy??""],i.createElement(M.B,{svg:e9.A})),onClick:e=>{f(e5.an()),f(p.j7({type:n.R2,data:{targetRect:null==N?void 0:N.getBoundingClientRect()}})),e.stopPropagation()}})),i.createElement("button",{ref:E,onClick:t=>{e.dropdownKey&&N&&f(p.j7({type:e.dropdownKey,data:{targetRect:null==N?void 0:N.getBoundingClientRect()}}))},onMouseDown:e=>e.stopPropagation()},i.createElement("div",{className:l()(d.cx.flex.itemsCenter.bRadius4.pr6.colorIcon.$,{"tile_sort_filter_mobile_dropdown--dropdownSelected--uimRw":C})},i.createElement(M.B,{svg:te.A}),i.createElement(M.B,{svg:e7.A})),A&&i.createElement(e6.Cf,{targetRect:y.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},L),i.createElement(n.mc,{options:e.sortFilterOptions,selectedView:b,dispatch:f,tab:e.tab,isMobile:!0}),i.createElement(n.ye,{config:e.sortFilterOptions.tileSortFilterConfig,tab:e.tab,isMobile:!0}),(null==(_=e.filters)?void 0:_.orgDeletedDrafts)&&i.createElement(n.T3,{config:e.sortFilterOptions.tileSortFilterConfig,filterOptions:e.filters.orgDeletedDrafts,tab:e.tab,isMobile:!0}),(null==(h=e.filters)?void 0:h.plan)&&i.createElement(n.FU,{config:e.sortFilterOptions.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab,isMobile:!0}),(null==(g=e.filters)?void 0:g.sharer)&&i.createElement(n.lI,{config:e.sortFilterOptions.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab,isMobile:!0}))}var tr=r(885588),tn=r(689415),ti=r(98022),ta=r(441857)},441857:(e,t,r)=>{"use strict";r.d(t,{l:()=>v});var n=r(411855),i=r(188507),a=r(374626),o=r(574176),l=r(762638),s=r(939863),c=r(738269),d=r(128751),u=r(967409),p=r(691592),m=r(7918),_=r(61911),h=r(630343),g=r(29600),f=r(144743),E=r(791709),y=r(112512);let b=e=>{switch(e){case u.WY.RESOURCE:return n.createElement(s.Tx,{id:"search.preview_section.all_files"});case u.WY.CREATOR:return n.createElement(s.Tx,{id:"search.facets.created_by",creator:(0,s.t)("search.facets.anyone")});case u.WY.SPACE:return n.createElement(s.Tx,{id:"search.facets.space",space:(0,s.t)("search.facets.all_spaces")});default:return""}};function v({dropdownId:e,facetType:t,containerRef:r,hasQuickActionsStyling:s}){let v=(0,i.wA)(),I=n.useRef(null),T=(0,i.d4)(e=>e.dropdownShown),S=(null==T?void 0:T.type)===e,w=(0,a.md)((0,p.l4)(t??null)),A=(0,h.f)(),C=(0,g.A)(),N=u.uR.DROPDOWN,O=s?l.cx.relative.lhNormal.flex.h24.bRadius4.px8.py4.b1.colorBorder.fontMedium.$:E.P2,L=s?l.cx.ml8.flex.itemsCenter.$:E.dN;return n.createElement("div",{className:O,onMouseDown:r=>{r.stopPropagation(),v(d.an()),S?(v(c.oB()),C(N,t)):I.current&&(r.preventDefault(),v(c.j7({type:e,data:{facetType:t,targetRect:I.current.getBoundingClientRect()}})),A(N,t))},onClick:e=>e.stopPropagation(),role:"button",tabIndex:-1},n.createElement("span",{ref:I},!w||(0,m.II)(w)?b(t):(0,m.yA)(w)),n.createElement("div",{className:L},n.createElement(o.B,{svg:y.A,className:`${E.OW} ${S?E.iw:""}`})),S&&n.createElement(f.G,{dropdownId:e,dropdownChild:n.createElement(_.s,{facetType:t,id:"",path:[]}),containerRef:r,limitHeight:s}))}},909509:(e,t,r)=>{"use strict";r.d(t,{qD:()=>V,kt:()=>ee,Bm:()=>X,lV:()=>G,R2:()=>q,gr:()=>z,ye:()=>Z,T3:()=>et,FU:()=>Q,lI:()=>J,C9:()=>W,mc:()=>en,$4:()=>D,wA:()=>Y,$f:()=>H,_n:()=>er,N1:()=>$,D$:()=>K});var n=r(411855),i=r(188507),a=r(776250),o=r(935283),l=r(268537),s=r(574176),c=r(762638),d=r(939863),u=r(67294),p=r(738269),m=r(445092),_=r(128751),h=r(988022),g=r(161325),f=r(860178),E=r(99506),y=r(935938),b=r(967409),v=r(671653),I=r(720488),T=r(170588),S=r(127391);r(269135);var w=r(453381),A=r(441857),C=r(15730),N=r(144743),O=r(926288);let L="tile_sort_filter--dropdownCollectionContainer--QGtvr",R="tile_sort_filter--sortFilterLabel--PJrQ2 text--fontPos11--2LvXf text--_fontBase--QdLsd";var P=r(112512);let k=l.W.Separator;class D extends n.PureComponent{render(){let e="deletedFiles"===this.props.selectedView.view,t=this.props.options.tileSortFilterConfig.viewMode===v.XU.LIST;return n.createElement("div",{className:L},e&&n.createElement(z,{dispatch:this.props.dispatch,options:this.props.options,selectedView:this.props.selectedView,hideSortMenu:this.props.hideSortMenu}),n.createElement(Z,{config:this.props.options.tileSortFilterConfig}),!t&&!this.props.hideSortMenu&&n.createElement(en,{dispatch:this.props.dispatch,options:this.props.options,selectedView:this.props.selectedView,hideSortMenu:this.props.hideSortMenu}),t&&n.createElement(T.z,{query:"(max-width: 1120px)"},n.createElement(en,{dispatch:this.props.dispatch,options:this.props.options,selectedView:this.props.selectedView,hideSortMenu:this.props.hideSortMenu})))}}function M(){return n.createElement("div",{className:R},n.createElement(d.Tx,{id:"tile.sort_filter.sort_label"}))}function x(){return n.createElement("div",{className:R},n.createElement(d.Tx,{id:"tile.sort_filter.filter_label"}))}function F(){return n.createElement("div",{className:R},n.createElement(d.Tx,{id:"tile.sort_filter.from"}))}function U(){return n.createElement("div",{className:R},n.createElement(d.Tx,{id:"tile.sort_filter.plan"}))}function B(){return n.createElement("div",{className:R},n.createElement(d.Tx,{id:"tile.sort_filter.org_deleted_drafts"}))}function H(e){let t=(0,i.wA)();return n.createElement(n.Fragment,null,!e.hideSortMenu&&n.createElement("div",{className:c.cx.flex.$},n.createElement(M,null),n.createElement(en,{dispatch:t,options:e.options,selectedView:e.selectedView,hideSortMenu:e.hideSortMenu})))}function V(e){let t=(0,g.wW)(e.userId).user;return n.createElement("div",{className:c.cx.mr4.flex.itemsCenter.$},t&&n.createElement(u.H8,{user:t,size:14}))}function G(e){var t,r,a;let o=(0,i.d4)(e=>e.teams),l=(0,i.d4)(e=>e.orgById);if(!(null==(t=e.planOption)?void 0:t.plan_id))return null;let s="org"===e.planOption.plan_type&&e.planOption.plan_id?null==(r=l[e.planOption.plan_id])?void 0:r.img_url:null==(a=o[e.planOption.plan_id])?void 0:a.img_url;return n.createElement("div",{className:c.cx.flex.itemsCenter.$},n.createElement(S.H,{entityId:e.planOption.plan_id,entityName:e.planOption.label,imgUrl:s}))}function W(e){var t,r,a,o;let l="deletedFiles"===e.selectedView.view,s=(0,i.wA)(),c=(0,f.TA)(),d=(0,i.d4)(e=>e.orgUsersByOrgId.orgUsers),u=n.useMemo(()=>null!==c&&Object.values(d).some(e=>{var t;return(null==(t=e[c])?void 0:t.permission)===E._D.ADMIN}),[c,d]),p="sharedWithYou"===e.selectedView.view&&null!=e.sharedWithYouFilters;return n.createElement("div",{className:L},p?n.createElement(n.Fragment,null,(null==(t=e.sharedWithYouFilters)?void 0:t.sharer)&&n.createElement(n.Fragment,null,n.createElement(F,null),n.createElement(J,{config:e.options.tileSortFilterConfig,filterOptions:e.sharedWithYouFilters.sharer})),(null==(r=e.sharedWithYouFilters)?void 0:r.plan)&&n.createElement(n.Fragment,null,n.createElement(U,null),n.createElement(Q,{config:e.options.tileSortFilterConfig,filterOptions:e.sharedWithYouFilters.plan})),(null==(a=e.sharedWithYouFilters)?void 0:a.fileType)&&n.createElement(n.Fragment,null,n.createElement(x,null),n.createElement(Z,{config:e.options.tileSortFilterConfig})),(null==(o=e.sharedWithYouFilters)?void 0:o.orgDeletedDrafts)&&u&&n.createElement(n.Fragment,null,n.createElement(B,null),n.createElement(et,{config:e.options.tileSortFilterConfig,filterOptions:e.sharedWithYouFilters.orgDeletedDrafts}))):n.createElement(n.Fragment,null,n.createElement(x,null),l&&n.createElement(z,{dispatch:s,options:e.options,selectedView:e.selectedView,hideSortMenu:e.hideSortMenu}),n.createElement(Z,{config:e.options.tileSortFilterConfig})))}D.displayName="TileSortFilter";let K={values:[v.ue.ASC,v.ue.DESC],valuesToDisplayText:(e,t)=>{switch(e){case v.ue.ASC:switch(t){case v.rR.TIME:return(0,d.t)("tile.sort_filter.sort_direction_oldest_first");case v.rR.ALPHABETICAL:return(0,d.t)("tile.sort_filter.sort_direction_a_to_z");default:return(0,d.t)("tile.sort_filter.sort_direction_ascending")}case v.ue.DESC:switch(t){case v.rR.TIME:return(0,d.t)("tile.sort_filter.sort_direction_newest_first");case v.rR.ALPHABETICAL:return(0,d.t)("tile.sort_filter.sort_direction_z_to_a");default:return(0,d.t)("tile.sort_filter.sort_direction_descending")}default:(0,o.xb)(e)}}};function Y(e){let t=(0,i.wA)(),r=(0,n.useRef)(null),o=(0,i.d4)(e=>e.dropdownShown),c=(null==o?void 0:o.type)===e.dropdownId,u=(0,i.d4)(e=>e.selectedView),m=e=>{e.stopPropagation()},h=n=>{t(_.an()),c?t(p.oB()):r.current&&t(p.j7({type:e.dropdownId,data:{targetRect:r.current.getBoundingClientRect()}})),m(n)},g=()=>{c&&t(p.oB())},f=t=>e.includeSortDirection,E=e.disabled?"tile_sort_filter--dropdownContainerDisabled--gWdUU tile_sort_filter--dropdownContainer--3JW6G text--fontPos11--2LvXf text--_fontBase--QdLsd":"tile_sort_filter--dropdownContainer--3JW6G text--fontPos11--2LvXf text--_fontBase--QdLsd",y=(t,r)=>{(0,a.sx)("Sort Changed - Dropdown",{oldValueString:`${e.checkedValue}`,newValueString:`${t}`,model:`${e.searchModelType}`,dir:r===v.ue.ASC?"asc":r===v.ue.DESC?"desc":void 0}),e.onChange(t,r)},b=n.createElement(N.G,{dropdownId:e.dropdownId,dropdownChild:n.createElement(C.j,{checkedValue:e.checkedValue,currentDirection:e.includeSortDirection?e.currentDirection:null,tileSortValues:e.includeSortDirection?e.tileSortValues:[],dirValuesToDisplayText:K.valuesToDisplayText,values:e.values,valuesToDisplayText:e.valuesToDisplayText,onChange:e.onChange})}),T=c?n.createElement(I.Cf,{targetRect:o.data.targetRect,minWidth:162,showPoint:e.isMobile,lean:"right",leanPadding:0,maxHeight:e.maxHeight},!e.hideSortOptionLabel&&n.createElement(l.W.CheckableOption,{checked:!1,disabled:!0},n.createElement(d.Tx,{id:"tile.sort_filter.sort_by_label"})),e.values.map(t=>n.createElement(l.W.CheckableOptionTrackable,{key:t,checked:t===e.checkedValue,onClick:()=>{g(),y(t)},children:e.valuesToDisplayText[t]})),e.includeSortDirection&&n.createElement(n.Fragment,null,n.createElement(k,null),n.createElement(l.W.CheckableOption,{checked:!1,disabled:!0},n.createElement(d.Tx,{id:"tile.sort_filter.order_label"})),e.tileSortValues.map(t=>f(e.checkedValue)&&n.createElement(l.W.CheckableOptionTrackable,{key:K.valuesToDisplayText(t,(0,O.E)(e.checkedValue)),checked:e.currentDirection===t,onClick:()=>{g(),y(e.checkedValue,t)},children:K.valuesToDisplayText(t,(0,O.E)(e.checkedValue))})))):null;return e.isMobile?T:n.createElement("div",{className:`${E} ${e.className||""}`,onClick:e=>{m(e),h(e)}},n.createElement("span",{ref:r},e.textWhenClosedPrefix,e.hideValueWhenClosed||e.valuesToDisplayText[e.checkedValue]),n.createElement("div",{className:"tile_sort_filter--caretContainer--xvqYJ"},n.createElement(s.B,{svg:P.A,className:`tile_sort_filter--caret--4uvoG ${c?"tile_sort_filter--caretDown--EPNSS":""}`})),c?"search"===u.view?b:T:null)}let j={dropdownId:"tile-filter-creator-dropdown",values:[v.rJ.ANY,v.rJ.SELF,v.rJ.OTHER],textWhenClosedPrefix:"",valuesToDisplayText:{[v.rJ.ANY]:n.createElement(d.Tx,{id:"tile.sort_filter.created_by_anyone"}),[v.rJ.SELF]:n.createElement(d.Tx,{id:"tile.sort_filter.created_by_you"}),[v.rJ.OTHER]:n.createElement(d.Tx,{id:"tile.sort_filter.created_by_others"})}};class z extends n.PureComponent{constructor(){super(...arguments),this.onChange=e=>{let t=this.props.options.tileSortFilterConfig,r={...t,filters:{...t.filters,creator:e}};this.props.dispatch(p.JF({selectedView:this.props.selectedView,config:r}))}}render(){return n.createElement(Y,{dropdownId:j.dropdownId,values:j.values,textWhenClosedPrefix:j.textWhenClosedPrefix,valuesToDisplayText:j.valuesToDisplayText,includeSortDirection:!1,checkedValue:this.props.options.tileSortFilterConfig.filters.creator,onChange:this.onChange,hideSortOptionLabel:!0})}}z.displayName="TileFilterCreatorDropdown";let $={dropdownId:"tile-filter-file-type-dropdown",values:[v.t2.ANY,v.t2.DESIGN,v.t2.FIGJAM],valuesToDisplayText:{[v.t2.ANY]:n.createElement(d.Tx,{id:"tile.sort_filter.filter_by_all_files"}),[v.t2.DESIGN]:n.createElement(d.Tx,{id:"tile.sort_filter.filter_by_design_files"}),[v.t2.FIGJAM]:n.createElement(d.Tx,{id:"tile.sort_filter.filter_by_figjam_files"}),[v.t2.PROTOTYPE]:n.createElement(d.Tx,{id:"tile.sort_filter.filter_by_prototype_files"}),[v.t2.SLIDES]:n.createElement(d.Tx,{id:"tile.sort_filter.filter_by_slides_files"})}};function Z(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView),a="search"===r.view,o=(0,w.i)(),l="recentFiles"===r.view||"sharedWithYou"===r.view||"recentsAndSharing"===r.view,s=o?$.values.concat([v.t2.SLIDES]):$.values;return(s=l?s.concat([v.t2.PROTOTYPE]):s,"search"===r.view)?n.createElement(A.l,{dropdownId:"full-search-results-resource-facet-dropdown",facetType:b.WY.RESOURCE}):n.createElement(Y,{dropdownId:$.dropdownId,values:s,valuesToDisplayText:$.valuesToDisplayText,includeSortDirection:!1,checkedValue:e.config.filters.fileType,onChange:n=>{let i={...e.config,filters:{...e.config.filters,fileType:n}};a&&t(m.Rz({fileTypeFilter:n})),t(p.JF({selectedView:r,config:i,tab:e.tab}))},hideSortOptionLabel:!0,disabled:e.filterControlsDisabled,isMobile:e.isMobile})}let q="tile-filter-sharer-dropdown";function J(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView);return n.createElement(Y,{dropdownId:q,values:Object.keys(e.filterOptions),valuesToDisplayText:e.filterOptions,includeSortDirection:!1,checkedValue:e.config.filters.sharedBy??"",onChange:n=>{let i={...e.config,filters:{...e.config.filters,sharedBy:n}},a="recentsAndSharing"===r.view?r.tab||y.G.RECENTLY_VIEWED:r.view;(0,h.nX)(n,a),t(p.JF({selectedView:r,config:i,tab:e.tab}))},hideSortOptionLabel:!0,disabled:e.filterControlsDisabled,isMobile:e.isMobile,maxHeight:172})}let X="tile-filter-plan-dropdown";function Q(e){var t,r,a;let o=(0,i.wA)(),l=(0,i.d4)(e=>e.selectedView),s=n.useMemo(()=>{let t={};return Object.entries(e.filterOptions).forEach(([e,r])=>{t[e]=r.label}),t},[e.filterOptions]);if((null==(t=e.config.filters.plan)?void 0:t.planId)&&!s[null==(r=e.config.filters.plan)?void 0:r.planId]){let t={...e.config,filters:{...e.config.filters,plan:{planId:void 0,planType:void 0}}};o(p.JF({selectedView:l,config:t,tab:e.tab}))}return n.createElement(Y,{dropdownId:X,values:Object.keys(e.filterOptions),valuesToDisplayText:s,includeSortDirection:!1,checkedValue:(null==(a=e.config.filters.plan)?void 0:a.planId)??"",onChange:t=>{let{plan_id:r,plan_type:n}=e.filterOptions[t],i={...e.config,filters:{...e.config.filters,plan:{planId:r,planType:n}}},a="recentsAndSharing"===l.view?l.tab||y.G.RECENTLY_VIEWED:l.view;(0,h.FE)(r,a,n),o(p.JF({selectedView:l,config:i,tab:e.tab}))},hideSortOptionLabel:!0,disabled:e.filterControlsDisabled,isMobile:e.isMobile,maxHeight:500})}let ee="tile-filter-org_deleted_drafts-dropdown";function et(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView);return n.createElement(Y,{dropdownId:ee,values:Object.keys(e.filterOptions),valuesToDisplayText:e.filterOptions,includeSortDirection:!1,checkedValue:e.config.filters.orgDeletedDrafts??"",onChange:n=>{let i={...e.config,filters:{...e.config.filters,orgDeletedDrafts:n}};t(p.JF({selectedView:r,config:i,tab:e.tab}))},hideSortOptionLabel:!0,disabled:e.filterControlsDisabled,isMobile:e.isMobile})}function er(e={}){return{dropdownId:"tile-sort-dropdown",textWhenClosedPrefix:"",valuesToDisplayText:{[v.C0.CREATED_AT]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_date_created"}),[v.C0.TOUCHED_AT]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_last_modified"}),[v.C0.ACCESSED_AT]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_last_viewed"}),[v.C0.NAME]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_alphabetical"}),[v.C0.TRASHED_AT]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_date_deleted"}),[v.C0.SEARCH_RELEVANCE]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_relevance"}),[v.C0.SHARED_AT]:n.createElement(d.Tx,{id:"tile.sort_filter.date_shared"}),...e}}}class en extends n.PureComponent{constructor(){super(...arguments),this.getDefaultSortOrder=e=>({[v.C0.NAME]:v.ue.ASC,[v.C0.CREATED_AT]:v.ue.DESC,[v.C0.TOUCHED_AT]:v.ue.DESC,[v.C0.TRASHED_AT]:v.ue.DESC,[v.C0.SEARCH_RELEVANCE]:v.ue.DESC,[v.C0.PROJECT_NAME]:v.ue.ASC,[v.C0.ACCESSED_AT]:v.ue.DESC,[v.C0.SHARED_AT]:v.ue.DESC,[v.C0.OWNER]:v.ue.DESC})[e]||v.ue.ASC,this.onChange=(e,t)=>{let r=this.props.options.tileSortFilterConfig,n=void 0===t?this.getDefaultSortOrder(e):t,i={...r,sort:{key:e,dir:n}};this.props.dispatch(p.JF({selectedView:this.props.selectedView,config:i,tab:this.props.tab}))}}componentDidMount(){this.props.options.sortKeys.some(e=>e===this.props.options.tileSortFilterConfig.sort.key)||this.onChange(this.props.options.sortKeys[this.props.options.sortKeys.length-1],this.props.options.tileSortFilterConfig.sort.dir)}render(){return n.createElement(Y,{...er(),values:this.props.options.sortKeys,includeSortDirection:!0,tileSortValues:K.values,currentDirection:this.props.options.tileSortFilterConfig.sort.dir,checkedValue:this.props.options.tileSortFilterConfig.sort.key,onChange:this.onChange,isMobile:this.props.isMobile})}}en.displayName="TileSortDropdown"},885588:(e,t,r)=>{"use strict";r.d(t,{f:()=>d,l:()=>s});var n=r(411855),i=r(671653),a=r(909509),o=r(689415),l=r(111328);class s extends n.PureComponent{render(){return n.createElement("div",{className:`${l.kL} ${this.props.className||""}`},n.createElement("div",{className:l.zu},this.props.leftSide),!!this.props.center&&n.createElement("div",{className:l.gX},this.props.center),n.createElement("div",{className:l.ok},this.props.rightSide))}}s.displayName="BasicViewBar";let c=0;class d extends n.PureComponent{constructor(){super(...arguments),this.dropdownId=`view-bar-${c++}`,this.setViewMode=e=>{this.props.onChangeViewModeOption&&this.props.onChangeViewModeOption(e)},this.setSortKey=e=>{if(this.props.onChangeSortOptions){let r;let n=this.props.options;if(n.sortMode.sortKey===e)r=this.props.defaultSortKey&&n.viewMode===i.XU.LIST&&n.sortMode.sortDesc?{sortKey:this.props.defaultSortKey,sortDesc:!1}:{...n.sortMode,sortDesc:!n.sortMode.sortDesc};else{var t=n.sortMode.sortDesc;this.props.initialSortOrders&&void 0!==this.props.initialSortOrders[e]&&(t=this.props.initialSortOrders[e]===i.ue.DESC),r={...n.sortMode,sortDesc:t,sortKey:e}}this.props.onChangeSortOptions(r)}}}render(){let e=this.props.options;return n.createElement(n.Fragment,null,n.createElement(s,{leftSide:n.createElement(a.wA,{dropdownId:this.dropdownId,values:this.props.sortKeys,valuesToDisplayText:this.props.sortKeyDescriptions[e.viewMode],checkedValue:this.props.options.sortMode.sortKey,onChange:this.setSortKey,includeSortDirection:!0,tileSortValues:a.D$.values,currentDirection:e.sortMode.sortDesc?i.ue.DESC:i.ue.ASC}),rightSide:this.props.hideViewModeToggle?null:this.renderViewModeToggle()}))}renderViewModeToggle(){return n.createElement(o.$c,{initialViewMode:this.props.options.viewMode,onViewModeChange:this.setViewMode})}}},456363:(e,t,r)=>{"use strict";r.d(t,{Ch:()=>c,Fk:()=>s,GI:()=>h,HV:()=>l,IZ:()=>g,SK:()=>v,U9:()=>y,Wy:()=>d,ez:()=>E,gq:()=>_,hw:()=>p,ml:()=>u,qL:()=>f,wp:()=>b,yo:()=>m});var n=r(852800),i=r(674011),a=r(81804),o=r(161459);let l=(0,i.hR)(null,{changeFileBehavior:i.hW.RESET_VALUE_ON_FILE_CHANGE}),s=(0,i.hR)({total:0},{changeFileBehavior:i.hW.RESET_VALUE_ON_FILE_CHANGE,equalityFn:Object.is}),c=(0,i.hR)(null,{changeFileBehavior:i.hW.RESET_VALUE_ON_FILE_CHANGE}),d=(0,i.hR)(new Map,{changeFileBehavior:i.hW.RESET_VALUE_ON_FILE_CHANGE}),u=(0,i.hR)(new Set,{changeFileBehavior:i.hW.RESET_VALUE_ON_FILE_CHANGE}),p=(0,i.hR)(new Set,{changeFileBehavior:i.hW.RESET_VALUE_ON_FILE_CHANGE}),m=(0,i.hR)({...a.rA},{changeFileBehavior:i.hW.RESET_VALUE_ON_FILE_CHANGE}),_=(0,i.hR)({styles:[]},{changeFileBehavior:i.hW.RESET_VALUE_ON_FILE_CHANGE}),h=(0,i.x6)({paints:o.XQ,strokeWeight:o.qB},e=>n.glU.updatePencilStyle(e),{changeFileBehavior:i.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),g=(0,i.x6)({paints:o.Dq,strokeWeight:24},e=>n.glU.updateHighlighterStyle(e),{changeFileBehavior:i.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),f=(0,i.x6)(o.BD,e=>n.glU.updateToolStyles({stickyColor:e}),{changeFileBehavior:i.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),E=(0,i.x6)(o.n6,e=>n.glU.updateToolStyles({shapeColor:e}),{changeFileBehavior:i.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),y=(0,i.x6)(o.T7,e=>n.glU.updateToolStyles({shapeStrokeStyleType:e}),{changeFileBehavior:i.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),b=(0,i.x6)(o.LX,e=>n.glU.updateToolStyles({connectorToolColor:e}),{changeFileBehavior:i.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),v=(0,i.x6)({shapeWithTextType:"ELLIPSE",connectorToolLineStyle:"ELBOWED",connectorToolEndCap:"ARROW_LINES"},e=>n.glU.updateToolStyles(e),{changeFileBehavior:i.hW.SHARE_SAME_VALUE_FOR_ALL_FILES})},195847:(e,t,r)=>{"use strict";r.d(t,{By:()=>i,DP:()=>s,GF:()=>o,RE:()=>a,V7:()=>c,mK:()=>u,qB:()=>n,vR:()=>l,zl:()=>d});var n=(e=>(e.SIGN_IN="sign_in",e.CHECK_EMAIL_MAGIC_LINK_SIGN_IN_AFTER_PASSWORD="check_email_magic_link_sign_in_after_password",e.SAML_START="saml_start",e.SIGN_UP="sign_up",e.SIGN_UP_EXTRA_INFO="sign_up_extra_info",e.FORGOT_PASSWORD="forgot_password",e.SENT_PASSWORD_RESET="sent_password_reset",e.RESET_PASSWORD="reset_password",e.VALIDATE_EMAIL="validate_email",e.VALIDATE_CODE="validate_code",e.APP_AUTH_GRANT="app_auth_grant",e.APP_AUTH_REDEEM="app_auth_redeem",e.SSO_GATE="sso_gate",e.EMAIL_ONLY="email_only",e.ACCOUNT_PICKER="account_picker",e.JOIN_ORG="join_org",e.VERIFY_HUMAN="verify_human",e))(n||{}),i=(e=>(e[e.UNAUTHORIZED=0]="UNAUTHORIZED",e[e.BAD_REQUEST=1]="BAD_REQUEST",e[e.NO_SAML=2]="NO_SAML",e[e.SAML_REQUIRED=3]="SAML_REQUIRED",e[e.MAGIC_LINK_LOGIN_NO_ACCOUNT=4]="MAGIC_LINK_LOGIN_NO_ACCOUNT",e))(i||{}),a=(e=>(e.EMAIL="email",e.PASSWORD="password",e.VERIFICATION_CODE="verification_code",e.TOTP_KEY="totp_key",e.JOB_TITLE="job_title",e.USAGE_PURPOSE="usage_purpose",e))(a||{}),o=(e=>(e.WORK="For work",e.PERSONAL="For personal use",e.EDU="For teaching or taking a class",e))(o||{}),l=(e=>(e.GOOGLE="google",e.SAML="saml",e))(l||{}),s=(e=>(e.DESKTOP="desktop",e.MIRROR="mirror",e.MOBILE="mobile",e.VSCODE="vscode",e.VSCODE_INSIDERS="vscode-insiders",e.VSCODE_CURSOR="vscode-cursor",e.FIGJAM_MOBILE="figjam_mobile",e))(s||{}),c=(e=>(e.ACCESS_TOKEN="access_token",e.ID_TOKEN="id_token",e))(c||{});let d="signed_up_from_open_sessions",u="auth_iframe_external_options"},387019:(e,t,r)=>{"use strict";r.d(t,{Nf:()=>x,Yz:()=>P,_5:()=>F,ec:()=>D,w1:()=>L});var n=r(411855),i=r(109388),a=r(767129),o=r(927457),l=r(536825),s=r(629019),c=r.n(s),d=r(560945),u=r(320063),p=r(38580),m=r(374626),_=r(498750),h=r(755887),g=r(572174),f=r(572206),E=r(493323),y=r(574176),b=r(939863),v=r(226055),I=r(241395),T=r(931770),S=r(889973),w=r(943911),A=r(819785),C=r(501191);let N=e=>(0,g.sR)(n.useContext(O),`Cannot use ${e} component outside of a ZoomPanContext!`),O=n.createContext(null),L=(0,p.eU)(void 0);function R(e,t){let r=Number.MAX_VALUE;for(let n of e){let{containerDimensions:e,paddingPixels:i,imageWidth:a,imageHeight:o}=n,l=t?t.width:a,s=t?t.height:o;if(l<=0||s<=0)continue;let c=e.width-2*i,d=e.height-2*i;c<=0||d<=0||(r=Math.min(r,100*Math.min(c/l,d/s)))}return r}function P(e){let{zoomOnMousePointer:t}=e,r=n.useMemo(()=>e.zoomPercentageOptions.sort((e,t)=>e-t),[e.zoomPercentageOptions]),i=e.initialZoomPercentage??100,a={x:e.initialX??0,y:e.initialY??0},[o,l]=n.useState(!0),[s,c]=n.useState(!0),[d,p]=n.useState({zoomPercentage:i,position:a}),{zoomPercentage:_,position:g}=d,f=n.useCallback(e=>{p(t=>({...t,zoomPercentage:e}))},[]),E=n.useCallback(e=>{p(t=>({...t,position:e}))},[]),y=(0,m.md)(L),[b,v]=n.useState(!1),[I,T]=n.useState(null),[w,A]=n.useState(new Set),[C,N]=n.useState(!1);n.useEffect(()=>{if(C&&(!o||0===w.size||y)){c(!1);return}let e=R(w);e<Number.MAX_VALUE&&(f(Math.min(e,100)),N(!0),c(!1))},[o,w,C,y,f]),n.useEffect(()=>{if(!y)return;let e=Math.min(R(w,y),100);E({x:-(y.x+y.width/2),y:-(y.y+y.height/2)}),l(!1),f(e)},[y,w,f,E]),n.useLayoutEffect(()=>{c(!0),y||(l(!0),f(i),E(a))},[e.resetStateOnChangeValue,f]);let P=n.useCallback(e=>{let r,n,i,a;for(let{containerDimensions:o,imageWidth:l,imageHeight:s}of(r=n=Number.MIN_SAFE_INTEGER,i=a=Number.MAX_SAFE_INTEGER,w)){if(l<=0&&s<=0)continue;let c=(o.width+l*e/100-10)/2,d=(o.height+s*e/100-10)/2;t?(r=Math.max(Number.MIN_SAFE_INTEGER,r!==Number.MIN_SAFE_INTEGER?Math.min(r,-c):-c),n=Math.max(Number.MIN_SAFE_INTEGER,n!==Number.MIN_SAFE_INTEGER?Math.min(n,-d):-d),i=Math.min(Number.MAX_SAFE_INTEGER,i!==Number.MAX_SAFE_INTEGER?Math.max(i,c):c),a=Math.min(Number.MAX_SAFE_INTEGER,a!==Number.MAX_SAFE_INTEGER?Math.max(a,d):d)):(r=Math.max(r,-c),n=Math.max(n,-d),i=Math.min(i,c),a=Math.min(a,d))}return{xmin:r,ymin:n,xmax:i,ymax:a}},[w,t]);n.useEffect(()=>{let{xmin:e,ymin:t,xmax:r,ymax:n}=P(_);p(i=>({...i,position:{x:(0,h.qE)(i.position.x,e,r),y:(0,h.qE)(i.position.y,t,n)}}))},[_,P]);let[k,D]=n.useState(!1),M=e=>{D(e.ctrlKey)};(0,u.h)(()=>(document.addEventListener("keydown",M),document.addEventListener("keyup",M),()=>{document.removeEventListener("keyup",M),document.removeEventListener("keydown",M)}));let x=e=>{e.preventDefault(),v(!1),T(null)},F=n.useCallback(e=>{if(e.stopPropagation(),e.preventDefault(),e.ctrlKey||e.metaKey){let n=e=>(0,h.qE)(e,r[0]||10,r[r.length-1]||400);return l(!1),p(({position:r,zoomPercentage:i})=>{let a=n(i/100*(0,S.Z)(e,k)*100);if(t){let t=Array.from(w).find(t=>t.containerPosition.x<e.clientX&&t.containerPosition.y<e.clientY&&t.containerPosition.x+t.containerDimensions.width>e.clientX&&t.containerPosition.y+t.containerDimensions.height>e.clientY);if(t){let n=e.clientX-t.containerPosition.x-t.containerDimensions.width/2,o=e.clientY-t.containerPosition.y-t.containerDimensions.height/2,l=(n-r.x)*(1-a/i),s=(o-r.y)*(1-a/i),{xmin:c,ymin:d,xmax:u,ymax:p}=P(a);return{zoomPercentage:a,position:{x:(0,h.qE)(r.x+l,c,u),y:(0,h.qE)(r.y+s,d,p)}}}}return{zoomPercentage:a,position:r}}),!1}p(({position:t,zoomPercentage:r})=>{let{xmin:n,ymin:i,xmax:a,ymax:o}=P(r);return{zoomPercentage:r,position:{x:(0,h.qE)(t.x-e.deltaX,n,a),y:(0,h.qE)(t.y-e.deltaY,i,o)}}})},[w,r,P,k,t]);n.useEffect(()=>(document.addEventListener("mouseup",x),()=>{document.removeEventListener("mouseup",x)}));let U=n.useRef(null);return n.useEffect(()=>{let e=U.current;if(e)return e.addEventListener("wheel",F,{capture:!0,passive:!1}),()=>e.removeEventListener("wheel",F,{capture:!0})},[F]),n.createElement("div",{ref:U,onMouseUp:x,className:e.className},n.createElement(O.Provider,{value:{zoomPercentageOptions:r,zoomPercentage:_,position:g,containers:w,isFitZoom:o,isLoading:s,setZoomPercentage:f,setPosition:E,setContainers:A,setIsFitZoom:l,setIsLoading:c,initialZoomPercentage:i,handleMouseDown:e=>{e.preventDefault(),v(!0),T({x:e.clientX-g.x,y:e.clientY-g.y})},handleMouseUp:x,handleMouseMove:e=>{if(b&&null!==I){e.stopPropagation();let{xmin:t,ymin:r,xmax:n,ymax:i}=P(_);E({x:(0,h.qE)(e.clientX-I.x,t,n),y:(0,h.qE)(e.clientY-I.y,r,i)})}}}},e.children))}function k({canvasRef:e,containerRef:t,containerStyle:r,containerClassName:i,canvasClassName:a,handleMouseMove:o,handleMouseDown:l,isDrawn:s,children:d}){return n.createElement("div",{className:c()(i,w.eY),style:r,ref:t,onMouseDown:l,onMouseMove:o},!s&&n.createElement(E.kt,{className:w.Lq}),n.createElement("canvas",{ref:e,className:c()(a,w.jt)}),d&&n.createElement("div",{style:{zIndex:1,width:"100%",height:"100%",overflow:"clip"}},d))}function D(e){let{Overlay:t}=e,{data:r,width:a,height:o,scale:l}=e.image,s=n.useRef(null),c=(0,d.w)(s)??d.c,u=n.useRef(null),p=24*l,{zoomPercentage:m,position:_,setContainers:h,handleMouseDown:g,handleMouseMove:E,isLoading:y}=N("ZoomPanCanvasContainer"),[b,v]=n.useState(!1);n.useEffect(()=>{var t;let r=(null==(t=s.current)?void 0:t.getBoundingClientRect())??{x:0,y:0},n={containerPosition:{x:r.x,y:r.y},containerDimensions:c,imageNode:i.findDOMNode(u.current),imageHeight:o/l,imageWidth:a/l,paddingPixels:e.paddingPixels??10};return h(e=>new Set([...e,n])),()=>{h(e=>(e.delete(n),e))}},[h,o,a,l,c,e.paddingPixels]);let S=n.useMemo(()=>r instanceof HTMLImageElement?(0,T.oI)(r):(0,T.Q1)(r,new f.Mi(a,o)),[r,a,o]),w=Math.floor(a*m/100),A=Math.floor(o*m/100),C=n.useMemo(()=>{let e=Math.floor(a*m/100),t=Math.floor(o*m/100),r=document.createElement("canvas");r.width=e+2*p,r.height=t+2*p;let n=r.getContext("2d");return m<=25?n.imageSmoothingQuality="medium":m<=50&&(n.imageSmoothingQuality="low"),n.clearRect(0,0,r.width,r.height),n.drawImage(S,p,p,w,A),r},[S,m,p,a,o,w,A]),O=n.useCallback((e,t)=>[e/2-a/2*m/100,t/2-o/2*m/100],[a,o,m]),[L,R]=n.useState(void 0);return n.useEffect(()=>{if(!s.current||0===C.width||0===C.height||!c||y)return;let e=c.width,r=c.height,n=i.findDOMNode(u.current),d=n.getContext("2d"),m=window.devicePixelRatio||1,h=m*l,g=e*h,f=r*h;n.width!==g||n.height!==f?(n.width=g,n.height=f,n.style.width=e+"px",n.style.height=r+"px",d.scale(m,m)):d.clearRect(0,0,g,f);let[E,T]=O(e*l,r*l),S=Math.floor(E+_.x*l)-p,N=Math.floor(T+_.y*l)-p;if(d.drawImage(C,S,N),t){let e=w/a,t=A/o,r=I.s.identity();r.translate((S+p)/l,(N+p)/l),r.scale(e,t),R(r)}b||v(!0)},[_.x,_.y,C,O,s,p,l,y,c,b,m,w,A,a,o,t]),n.createElement(k,{canvasRef:u,containerRef:s,containerStyle:e.style,containerClassName:e.className,canvasClassName:e.canvasClassName,handleMouseDown:g,handleMouseMove:E,isDrawn:b},t&&L&&n.createElement(t,{transform:L}))}let M=(e,{sx:t,sy:r,sw:n,sh:i,dh:a,dw:o,dx:l,dy:s,scale:c,canvas:d})=>{e.drawImage(d,t*c,r*c,n*c,i*c,l,s,o,a)};function x(e){let{image:t,Overlay:r}=e,a=n.useRef(null),o=(0,d.w)(a)??d.c,l=n.useRef(null),s=window.devicePixelRatio||0,c=n.useMemo(()=>o!==d.c?function(e,t,r=1){let{width:n,height:i}=e.nodeBounds,a=Math.min(t.width/n,t.height/i)*r;return e.getImage({scale:a})}(t,o,s):void 0,[t,o,s]);n.useEffect(()=>{null===c&&t.showError()},[c,t]);let[u,p]=n.useState(null),{zoomPercentage:m,position:_,setContainers:h,handleMouseDown:g,handleMouseMove:E,isLoading:y}=N("ZoomPanCanvasContainer"),[b,v]=n.useState(!1);n.useEffect(()=>{var r;let n=(null==(r=a.current)?void 0:r.getBoundingClientRect())??{x:0,y:0},s={containerPosition:{x:n.x,y:n.y},containerDimensions:o,imageNode:i.findDOMNode(l.current),imageWidth:t.nodeBounds.width,imageHeight:t.nodeBounds.height,paddingPixels:e.paddingPixels??10};return h(e=>new Set([...e,s])),()=>{h(e=>(e.delete(s),e))}},[h,t,o,e.paddingPixels]);let S=n.useMemo(()=>c&&c.data.length>0?{canvasSpaceBounds:c.canvasSpaceBounds,scale:c.scale,canvas:(0,T.Q1)(c.data,new f.Mi(c.width,c.height))}:null,[c]),w=n.useMemo(()=>u&&u.data.length>0?{canvasSpaceBounds:u.canvasSpaceBounds,scale:u.scale,canvas:(0,T.Q1)(u.data,new f.Mi(u.width,u.height))}:null,[u]),A=n.useMemo(()=>{if(!a.current||y||!o)return null;let e=o.width,r=o.height,n=m/100,i=t.nodeBounds;return{canvasWidth:e,canvasHeight:r,zoomFactor:n,createImageSpec:({canvasSpaceBounds:t,canvas:a,scale:o},l)=>{let s=e/2-i.width*n/2+(t.x-i.x)*n,c=r/2-i.height*n/2+(t.y-i.y)*n,d=Math.floor(s+l.x),u=Math.floor(c+l.y),p=Math.max(0,d),m=Math.max(0,u),_=Math.max(-d/n,0),h=Math.max(-u/n,0),g=Math.min(t.width-_,e/n),f=Math.min(t.height-h,r/n);return{x:d,y:u,scale:o,sx:_,sy:h,sw:g,sh:f,dx:p,dy:m,dw:g*n,dh:f*n,canvas:a}}}},[y,o,m,t.nodeBounds]),C=n.useMemo(()=>A&&S&&A.createImageSpec(S,_),[A,S,_]),O=n.useMemo(()=>A&&w&&A.createImageSpec(w,_),[A,w,_]);n.useEffect(()=>{if(!C||!(null==A?void 0:A.canvasHeight)||!(null==A?void 0:A.canvasWidth))return;let{canvasHeight:e,canvasWidth:t}=A,r=requestAnimationFrame(()=>{let r=i.findDOMNode(l.current),n=r.getContext("2d");r.width!==t||r.height!==e?(r.width=t*s,r.height=e*s,r.style.width=t+"px",r.style.height=e+"px",n.scale(s,s)):n.clearRect(0,0,t,e),M(n,C),O&&M(n,O),b||v(!0)});return()=>cancelAnimationFrame(r)},[a,y,o,b,A,c,r,C,O,m,s]);let L=n.useMemo(()=>{if(!r||!(null==C?void 0:C.x)||!(null==C?void 0:C.y)||!(null==A?void 0:A.zoomFactor))return;let e=I.s.identity();return e.translate(C.x,C.y),e.scale(A.zoomFactor,A.zoomFactor),e},[null==C?void 0:C.x,null==C?void 0:C.y,null==A?void 0:A.zoomFactor,r]);return n.useEffect(()=>{if(!C||(null==A?void 0:A.zoomFactor)===void 0)return;let e={x:C.sx,y:C.sy,width:C.sw,height:C.sh},r=setTimeout(()=>{p(t.getImage({scale:A.zoomFactor*s,clipRect:e}))},200);return()=>clearTimeout(r)},[C,null==A?void 0:A.zoomFactor,t,s]),n.createElement(k,{canvasRef:l,containerRef:a,containerStyle:e.style,containerClassName:e.className,handleMouseDown:g,handleMouseMove:E,isDrawn:b},r&&L&&n.createElement(r,{transform:L}))}function F(e){let t=(0,v.GS)(),{zoomPercentage:r,setZoomPercentage:i,isFitZoom:s,setIsFitZoom:c,setPosition:d,zoomPercentageOptions:u}=N("ZoomSelectorToolbar"),p=(0,m.fp)(L)[1];n.useEffect(()=>{if(!e.keyboardShortcutsEnabled)return;let t=e=>{if(!e.metaKey&&!e.ctrlKey)return;let t=!0;switch(e.keyCode){case _.Uz.DASH:I();break;case _.Uz.EQUALS:E();break;default:t=!1}t&&(e.preventDefault(),e.stopPropagation())};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)});let h=e=>{let t=0,n=u.length-1;for(;t<=n;){let e=Math.floor((t+n)/2);if(u[e]===r)return e;u[e]>r?n=e-1:t=e+1}return e?n:t},g=r>=u[u.length-1],f=r<=u[0],E=()=>{g||(c(!1),i(u[h(!0)+1]))},I=()=>{f||(c(!1),i(u[h(!1)-1]))},T=(e,t,r,i,s)=>s?n.createElement("div",{className:w.a5},n.createElement(a.K,{"aria-label":"ZOOM_IN"===t?(0,b.t)("collaboration.branching.zoom_in"):(0,b.t)("collaboration.branching.zoom_out"),disabled:i,onClick:r},"ZOOM_IN"===t?n.createElement(o.e,null):n.createElement(l.O,null))):n.createElement("button",{"aria-label":"ZOOM_IN"===t?(0,b.t)("collaboration.branching.zoom_in"):(0,b.t)("collaboration.branching.zoom_out"),className:i?w.ro:w.qU,onClick:r},n.createElement(y.B,{svg:e,useOriginalSrcFills_DEPRECATED:!0}));return n.createElement("div",{className:e.className},n.createElement("div",{className:w.w},T(A.A,"ZOOM_OUT",I,f,t),n.createElement("button",{onClick:()=>{p(void 0),s?i(100):d({x:0,y:0}),c(!s)},className:w.iI},s?(0,b.t)("collaboration.branching.fit"):`${Math.round(r)}%`),T(C.A,"ZOOM_IN",E,g,t)))}},607283:(e,t,r)=>{"use strict";r.d(t,{GY:()=>l,N0:()=>a,We:()=>o,l$:()=>i,oz:()=>s,wI:()=>d,zq:()=>n});var n=(e=>(e[e.ROW=0]="ROW",e[e.TILE=1]="TILE",e[e.SEPARATOR=2]="SEPARATOR",e))(n||{}),i=(e=>(e.LIBRARY="library",e.PAGE="page",e.NAME_GROUP="name group",e.LOCAL_COMPONENTS="local components",e.LOCAL_TEMPLATES="local templates",e.COMPONENTS="library components",e.TEMPLATES="library templates",e))(i||{});function a(e){return 0===e.type&&"isSticky"in e&&e.isSticky}function o(e){return 0===e.type&&"isExpandable"in e&&e.isExpandable}function l(e){return 0===e.type&&"isButton"in e&&e.isButton}class s{constructor(e){this.allElements=[],this.isExpanded=e=>o(e)&&e.isExpanded,this.offsetTop=e}static getNextRenderedElementTop(e){if(!e||0===e.length)return 0;let t=e[e.length-1];return t.top+t.height}reset(){this.allElements=[]}getTotalHeight(){let e=0;for(let t of this.allElements)o(t)&&(e+=c(t));return s.getNextRenderedElementTop(this.allElements)+e}findExpandableElementWithKey(e){for(let t of function* e(t){for(let r of t)yield r,o(r)&&r.isExpanded&&(yield*e(r.children))}(this.allElements))if(o(t)&&t.key===e)return t;return null}getActualTop(e){let t=0;for(let r of this.allElements){if(r.key===e)return r.top+t;this.isExpanded(r)&&(t+=c(r))}return null}getRenderedElementsInView(e,t){let r=e-this.offsetTop,n=Math.ceil(t/2),i=Math.max(r-n,0),l=r+t+n,s=(e,t)=>!(e+t<i||e>l),d=(e,n)=>!(e+n<r||e>r+t),u=[],p={};for(let{element:e,actualTop:t}of function* e(t,r){for(let n of t){let t=r+n.top;if(yield{element:n,actualTop:t},o(n)&&n.isExpanded){let i=t+n.height;yield*e(n.children,i),r+=c(n)}}}(this.allElements,0))if(s(t,e.height)){p[e.key]=u.length;let r={...e,top:t};u.push(r)}let m=null,_=0;for(let e of u)if(r>0&&d(e.top,e.height)){0===e.type&&"isSticky"in e&&e.isSticky&&!(o(e)&&!e.isExpanded)?m=e:e.parent&&a(e.parent)&&(m={...e.parent,key:`${e.key}:parent`,isStaticRow:!0},u.push(m));break}return null!=m&&a(m)&&r>m.top&&(m.isFixed=!0,_=Math.max(r-m.top,0)),{elementsInView:u,stickyHeader:m&&m.isFixed?m:null,stickyHeaderOffset:_}}}let c=e=>{let t=0;if(e.isExpanded)for(let r of(t+=s.getNextRenderedElementTop(e.children),e.children))o(r)&&(t+=c(r));return t};function d(e){let t=e;for(;t&&!(o(t)&&["library","local components","local templates"].includes(t.rowType));)if(!(t=t.parent))return null;return t}},736174:(e,t,r)=>{"use strict";r.d(t,{N:()=>k,Q:()=>L});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(776250),s=r(374626),c=r(498750),d=r(75224),u=r(662275),p=r(146817),m=r(473744),_=r(534804),h=r(543817),g=r(335682),f=r(416095),E=r(853966),y=r(135076),b=r(180715),v=r(776018),I=r(790429),T=r(811529),S=r(603396),w=r(743415),A=r(93062),C=r(723325),N=r(659265),O=r(269754);function L({enableKeyboardNavigation:e,colIndex:t,rowIndex:r,isList:i,isTileSelected:a,renderedElement:o,shouldRefocusAfterKeyboardInsert:l}){return e?n.createElement(R,{colIndex:t,rowIndex:r,isList:i,isTileSelected:a,renderedElement:o,shouldRefocusAfterKeyboardInsert:l}):n.createElement(P,{enableKeyboardNavigation:e,isList:i,isTileSelected:a,renderedElement:o})}function R({colIndex:e,rowIndex:t,isList:r,isTileSelected:a,renderedElement:o,shouldRefocusAfterKeyboardInsert:l}){let s=n.useContext(y.U),c=(0,i.d4)(e=>e.modalShown),d=(0,i.d4)(g.sS),u=(0,I.J)(o.item,o.sectionPosition,o.sectionNameForTracking),m=(0,S.n)(o.item),_=(0,h.u)({canSwap:!0,openFileKey:d??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),f=n.useCallback(()=>{(null==c?void 0:c.type)!==v.V||m||u()},[m,null==c?void 0:c.type,u]),E=n.useCallback(()=>{(null==c?void 0:c.type)!==v.V&&(null==s||s.onOpenFlyout(o.item,o.sectionPosition,o.sectionNameForTracking))},[s,null==c?void 0:c.type,o.item,o.sectionPosition,o.sectionNameForTracking]),{keyboardNavigationItem:b,setKeyboardNavigationElement:T}=(0,C.M3)({path:[1,t],column:r?null:e,id:(0,p.V)(o.item),onFocus:f}),w=k({colIndex:e,rowIndex:t,isList:r,keyboardNavigationItem:b,onComponentInsertSwap:_,onOpenFlyout:E,...o,shouldRefocusAfterKeyboardInsert:l}),A=n.useCallback(e=>{(0!==e.detail||e.nativeEvent.pointerType)&&E()},[E]);return n.createElement(P,{enableKeyboardNavigation:!0,isList:r,isShownInFlyout:m,isTileSelected:a,onKeyDown:w,onClick:A,onSetKeyboardNavigationElement:T,renderedElement:o})}function P({enableKeyboardNavigation:e,isList:t,isShownInFlyout:r,isTileSelected:i,onKeyDown:a,onClick:l,onSetKeyboardNavigationElement:c,renderedElement:d}){let u=(0,s.md)(b.T),p=(null==i?void 0:i(d))??!1;n.useEffect(()=>{t?d.element=n.cloneElement(d.element,{}):d.element=n.cloneElement(d.element,{selected:p})},[t,p,d]);let m={top:d.top,left:d.left,height:t?d.height:void 0},_=o()(t?O.fJ:O.ND,{[N.QT]:!t,[O.r6]:t&&r,[O.HR]:t&&r&&u});return e||a||l?n.createElement("button",{key:d.key,style:m,className:_,onKeyDown:a,onClick:l,ref:c},d.element):n.createElement("div",{key:d.key,style:m,className:_},d.element)}function k({onComponentInsertSwap:e,onOpenFlyout:t,keyboardNavigationItem:r,item:a,sectionNameForTracking:o,sectionPosition:s,shouldRefocusAfterKeyboardInsert:p,rowIndex:h,colIndex:y,isList:b,sourceForTracking:I}){let S=(0,i.wA)(),C=(0,i.d4)(e=>e.modalShown),N=(0,i.d4)(g.sS),O=(0,w.k)(),L=(0,_.Ew)({assetKey:(0,E.u2)(a),assetFileKey:(0,d.hH)(a),assetLibraryKey:a.library_key,assetType:a.type,isList:b,sectionNameforTracking:o,sectionPosition:s,sourceForTracking:I??T.mZ,aiScore:a.ai_score??void 0,lexicalScore:a.lexical_score??void 0,isExample:(0,m.o)(a)}),R=n.useCallback(e=>{l.az.trackDefinedEvent("assets_panel.keyboard_insert",{...L,altKey:e.altKey,fileKey:N??void 0,assetsPanelVersion:O,aiResultsEnabled:(0,A.am)()})},[L,N,O]);return n.useCallback(n=>{if((n.keyCode===c.Uz.ENTER||n.keyCode===c.Uz.SPACE)&&(0,f.dx)(a)){if(n.metaKey){t();return}if(e(n,a),R(n),p&&!(0===h&&0===y)){let e=b?null==r?void 0:r.getItemAbove():null==r?void 0:r.getItemToTheLeft();null==e||e.focus()}else null==r||r.blur();(null==C?void 0:C.type)===v.V&&S(u.AS())}},[y,S,R,b,a,r,null==C?void 0:C.type,e,t,h,p])}},448169:(e,t,r)=>{"use strict";r.d(t,{V:()=>c,Y:()=>d});var n=r(411855),i=r(297666),a=r(860601),o=r(153234);let l=()=>!0,s={left:!1,upper:!1,upperQuarter:!1,lowerQuarter:!1,middleVerticalHalf:!1};function c(e){return n.createElement(d,{...e,isDragTarget:l,onTargetDragEnter:a.lQ,onTargetDragLeave:a.lQ,onTargetDrop:a.lQ})}class d extends o.o6{constructor(e){super(e),this.firstDragEnter=!1,this.secondDragEnter=!1,this.dragQuadrant={...s},this.targetContainerBounds=null,this.invalidateTargetContainerBounds=()=>{this.targetContainerBounds=null},this.scrollListener=(0,i.s)(this.invalidateTargetContainerBounds),this.onDragEndOrDrop=()=>{this.firstDragEnter=!1,this.secondDragEnter=!1,this.dragQuadrant={...s},this.targetContainerBounds=null},this.getDragQuadrant=e=>{let t=this.targetContainerBounds;if(!this.targetContainerBounds&&this.targetContainer.current&&(t=this.targetContainerBounds=this.targetContainer.current.getBoundingClientRect()),!t)return null;let r=e.clientX<t.left+t.width/2,n=e.clientY<t.top+t.height/2,i=e.clientY<t.top+t.height/4,a=e.clientY>t.top+.75*t.height;return{left:r,upper:n,upperQuarter:i,lowerQuarter:a,middleVerticalHalf:!i&&!a}},this.updateDragQuadrant=e=>{if(!this.props.onTargetDragQuadrantUpdate)return;let t=this.getDragQuadrant(e);t&&(!this.dragQuadrant||t.left!==this.dragQuadrant.left||t.upper!==this.dragQuadrant.upper||t.upperQuarter!==this.dragQuadrant.upperQuarter||t.lowerQuarter!==this.dragQuadrant.lowerQuarter||t.middleVerticalHalf!==this.dragQuadrant.middleVerticalHalf)&&(this.props.onTargetDragQuadrantUpdate(t),this.dragQuadrant=t)},this.acceptDrag=e=>(this.updateDragQuadrant(e),!!(e.dataTransfer&&this.props.isDragTarget(e.dataTransfer,this.dragQuadrant))&&(e.preventDefault(),e.stopPropagation(),!0)),this.onDragEnter=e=>{var t,r;this.firstDragEnter?this.secondDragEnter=!0:(this.firstDragEnter=!0,this.acceptDrag(e)&&(null==(r=(t=this.props).onTargetDragEnter)||r.call(t,e.dataTransfer,this.dragQuadrant)))},this.onDragLeave=e=>{var t,r;this.secondDragEnter?this.secondDragEnter=!1:this.firstDragEnter&&(this.firstDragEnter=!1),!this.firstDragEnter&&!this.secondDragEnter&&this.acceptDrag(e)&&(null==(r=(t=this.props).onTargetDragLeave)||r.call(t,e.dataTransfer))},this.onDrop=o.aQ(this,"drop",e=>{var t,r;this.acceptDrag(e)&&(null==(r=(t=this.props).onTargetDrop)||r.call(t,e.dataTransfer,this.dragQuadrant),this.onDragEndOrDrop())}),this.targetContainer=this.props.forwardedRef??n.createRef()}componentDidMount(){super.componentDidMount(),document.addEventListener("dragend",this.onDragEndOrDrop),document.addEventListener("drop",this.onDragEndOrDrop),window.addEventListener("scroll",this.scrollListener,!0)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("dragend",this.onDragEndOrDrop),document.removeEventListener("drop",this.onDragEndOrDrop),window.removeEventListener("scroll",this.scrollListener,!0)}render(){let e={...this.props};return delete e.recordingKey,delete e.forwardedRef,delete e.isDragTarget,delete e.onTargetDragEnter,delete e.onTargetDragQuadrantUpdate,delete e.onTargetDragLeave,delete e.onTargetDrop,delete e.onDragEnter,delete e.onDragOver,delete e.onDragLeave,delete e.onDrop,n.createElement("div",{ref:this.targetContainer,onDragEnter:this.onDragEnter,onDragOver:this.acceptDrag,onDragLeave:this.onDragLeave,onDrop:this.onDrop,...e},this.props.children)}}d.displayName="DragTarget"},192437:(e,t,r)=>{"use strict";r.d(t,{As:()=>h,H4:()=>_,S1:()=>y,tH:()=>f});var n=r(411855),i=r(776250),a=r(776621),o=r(304783),l=r(939863),s=r(178466),c=r(701707),d=r(447402),u=r(210954),p=r(945793);let m=Symbol("Default"),_={DEFAULT_FULL_PAGE:m,NONE_I_KNOW_WHAT_IM_DOING:Symbol("None")};function h(e,t){if(t){e.stack+="\n\nReact stack:"+t.componentStack;let r=Error("React component stack where the error occurred");r.stack=t.componentStack,e.cause=r}}let g=class e extends n.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(t,r){var n,l;h(t,r);try{null==(l=(n=this.props).onError)||l.call(n)}catch(e){}let s=this.props.fallback===_.DEFAULT_FULL_PAGE,c=(0,a.$D)(o.e.FRONTEND_PLATFORM,t,{tags:{react:!0,errorBoundary:this.props.boundaryKey,...this.props.sentryTags,...s?{severity:a.DZ.Critical}:{}}});s&&!e.reportedHardCrash&&(e.reportedHardCrash=!0,(0,i.sx)("js_hard_crash",{errorBoundary:this.props.boundaryKey},{forwardToDatadog:!0})),this.sentryID=c}render(){return this.state.hasError?(console.log("Rendering error: "+this.state.error),console.log("Boundary key: "+this.props.boundaryKey),this.state.error instanceof Error&&this.state.error.message.includes("Out of memory"))?n.createElement(d.PG,null):this.props.fallback===m?("boolean"==typeof this.props.hasCustomWASMBuild?this.props.hasCustomWASMBuild:this.props.hasCustomWASMBuild(),n.createElement(y,{sentryId:this.sentryID})):this.props.fallback===_.NONE_I_KNOW_WHAT_IM_DOING?null:this.props.fallback:this.props.children}};g.reportedHardCrash=!1;let f=g,E={title:"Figma ran into a problem",whiteboardTitle:"FigJam ran into a problem",descriptionP1:"Our team is looking into it now. If refreshing the page doesn't work, check our ",statusPage:"status page",descriptionP2:" for updates",refresh:"Refresh"};function y(e){let t=n.useMemo(()=>{let e=document.body.style.colorScheme;return e&&"dark"===e?"dark":"light"},[]),r=n.useMemo(()=>{let e=new URLSearchParams(window.location.search);return e.has("type")&&"whiteboard"===e.get("type")},[]),i=n.useMemo(()=>{try{let e=(0,s.Gq)();return(null==e?void 0:e.initialized)&&!!(0,l.t)("general.root_error_boundary_title")}catch(e){return!1}},[]);return n.createElement("div",{className:p.ZX,"data-preferred-theme":t},n.createElement("div",{className:p.fi},n.createElement("div",{className:p.v2},i?n.createElement(l.Tx,{id:r?"general.root_error_boundary_title_figjam":"general.root_error_boundary_title"}):r?E.whiteboardTitle:E.title),n.createElement("div",{className:p.rU},i?n.createElement(l.Tx,{id:"general.root_error_boundary_description",status_page:n.createElement(u.N,{trusted:!0,href:"https://status.figma.com",style:{display:"inline"}},n.createElement(l.Tx,{id:"general.root_error_boundary_status_page"}))}):n.createElement(n.Fragment,null,n.createElement("span",null,E.descriptionP1),n.createElement(u.N,{trusted:!0,href:"https://status.figma.com",style:{display:"inline"}},E.statusPage),n.createElement("span",null,E.descriptionP2))),n.createElement("div",{className:p.yV},n.createElement(c.$n,{variant:"primary",onClick:()=>location.reload()},i?n.createElement(l.Tx,{id:"general.root_error_boundary_refresh"}):E.refresh)),e.sentryId&&n.createElement("div",{className:p.g6},"Error ID: ",e.sentryId)))}},946689:(e,t,r)=>{"use strict";r.d(t,{$$:()=>w,$9:()=>P,C3:()=>W,CY:()=>ed,HE:()=>B,JU:()=>el,KL:()=>K,Kz:()=>em,LA:()=>V,Lf:()=>ea,M7:()=>U,NY:()=>X,N_:()=>es,O0:()=>G,Ph:()=>ec,RW:()=>e_,TA:()=>ee,Us:()=>eu,VA:()=>J,VE:()=>ep,Yo:()=>eh,cw:()=>F,e2:()=>T,eM:()=>ef,il:()=>en,jG:()=>eg,ks:()=>er,nD:()=>N,nR:()=>O,ny:()=>I,p6:()=>R,pY:()=>q,qM:()=>M,qZ:()=>D,rb:()=>$,s6:()=>k,tB:()=>eo,tM:()=>L,u4:()=>S,vd:()=>A,vv:()=>C,vx:()=>z,wG:()=>et});var n=r(411855),i=r(902008),a=r(629019),o=r.n(a),l=r(846627),s=r(498750),c=r(62557),d=r(153234),u=r(659838),p=r(574176),m=r(46481),_=r(498606),h=r(672517),g=r(988022),f=r(210954),E=r(3453),y=r(247245),b=r(126815);let v=null;function I(e){v=e}function T(e){return n.createElement("div",{className:o()(E.GC,e.reversed&&E.zi,e.className)},e.children)}class S extends d.uA{constructor(){super(...arguments),this.onKeyDown=e=>{v&&v(e)||(this.props.onKeyDown&&this.props.onKeyDown(e),e.keyCode===s.Uz.ESCAPE&&e.target.blur())},this.onClick=d.cZ(this,"click",e=>{this.props.onClick&&this.props.onClick(e)}),this.onPointerDown=d.Am(this,"pointerdown",e=>{this.props.onPointerDown&&this.props.onPointerDown(e)})}render(){let e={...this.props};e.className=`${this.props.defaultClass} ${this.props.className||""}`;let t=this.props.dataTestId;return delete e.defaultClass,delete e.recordingKey,delete e.dataTestId,this.props.onClick&&this.props.recordingKey&&(e.onClick=this.onClick),this.props.onPointerDown&&this.props.recordingKey&&(e.onPointerDown=this.onPointerDown),n.createElement("button",{onKeyDown:this.onKeyDown,...e,"data-testid":t},this.props.children)}}S.displayName="ButtonBase";class w extends n.Component{render(){let{fullWidth:e,...t}=this.props;return n.createElement(S,{defaultClass:o()(E.xZ,e&&E.Ij),...t})}}w.displayName="ButtonPrimary";let A=(0,h.tf)(w);class C extends n.Component{render(){let{fullWidth:e,...t}=this.props;return n.createElement(S,{defaultClass:o()(E.fY,e&&E.Ij),...t})}}C.displayName="BigButtonPrimary";let N=(0,h.tf)(C);class O extends n.Component{render(){return n.createElement(S,{defaultClass:E.HM,type:"button",...this.props})}}O.displayName="ButtonSecondary";let L=(0,h.tf)(O);class R extends n.Component{render(){let{fullWidth:e,...t}=this.props;return n.createElement(S,{defaultClass:o()(E.xJ,e&&E.Ij),type:"button",...t})}}R.displayName="BigButtonSecondary";let P=(0,h.tf)(R);class k extends n.Component{render(){return n.createElement(S,{defaultClass:E.oC,type:"button",...this.props})}}k.displayName="ButtonSecondaryNegative",(0,h.tf)(k);class D extends n.Component{render(){return n.createElement(S,{defaultClass:E.ky,type:"button",...this.props})}}D.displayName="ButtonNegative";let M=(0,h.tf)(D);class x extends n.Component{render(){return n.createElement(S,{defaultClass:E.OK,type:"button",...this.props})}}x.displayName="BigButtonNegative";class F extends n.Component{render(){return n.createElement(S,{defaultClass:E.I2,...this.props})}}F.displayName="ButtonWhite";let U=(0,h.tf)(F);class B extends n.Component{render(){return n.createElement(S,{defaultClass:E.rd,...this.props})}}B.displayName="ButtonInverse";class H extends n.Component{render(){let{fullWidth:e,...t}=this.props;return n.createElement(S,{defaultClass:o()(E.FO,e&&E.Ij),...t})}}H.displayName="BigButtonInverse";let V=(0,h.tf)(H);class G extends n.Component{render(){return n.createElement(S,{defaultClass:E.OY,...this.props})}}G.displayName="ButtonGreen";class W extends n.Component{render(){let{customClassName:e,...t}=this.props;return n.createElement(S,{defaultClass:E.Iw,className:e,...t})}}W.displayName="ButtonGrey";let K=(0,h.tf)(G);class Y extends n.Component{render(){return n.createElement(S,{defaultClass:this.props.solidWhenDisabled?E.dy:E.sY,...this.props})}}Y.displayName="BigButtonGreen",(0,h.tf)(Y);class j extends n.Component{render(){return n.createElement(S,{defaultClass:E.yT,...this.props})}}j.displayName="BigButtonBlack",(0,h.tf)(j);class z extends n.Component{render(){let e=`${E.xZ} ${this.props.className||""}`,t={...this.props,className:e,rel:"noopener"};return n.createElement("a",{...t},this.props.children)}}z.displayName="ButtonLink";let $=(0,h.tf)(z);class Z extends n.Component{render(){let{fullWidth:e,...t}=this.props,r=o()(E.fY,this.props.fullWidth&&E.Ij),i=`${r} ${this.props.className||""}`;return t={...t,className:i,rel:"noopener"},n.createElement("a",{...t},this.props.children)}}Z.displayName="ButtonLink";let q=(0,h.tf)(Z);class J extends n.Component{render(){let e=`${E.HM} ${this.props.className||""}`,t={...this.props,className:e,rel:"noopener"};return n.createElement("a",{...t},this.props.children)}}J.displayName="ButtonSecondaryLink";let X=(0,h.tf)(J);class Q extends n.Component{render(){let e=`${E.hz} ${this.props.className||""}`,t={...this.props,className:e,rel:"noopener"};return n.createElement("a",{...t},this.props.children)}}Q.displayName="BigButtonSecondaryLink",(0,h.tf)(Q);let ee=255,et=118,er=n.forwardRef(function({className:e,...t},r){return n.createElement(u.L,{className:o()(E._Z,e),...(0,c.d)(t),ref:r})});(0,h.h3)(er);class en extends n.Component{render(){let e=`${E.ki} ${this.props.className||""}`,t={...this.props,className:e};return n.createElement(u.L,{...t})}}en.displayName="BigTextInput";let ei=(0,h.h3)(u.L);class ea extends n.Component{render(){return n.createElement("div",{className:this.props.className||(this.props.disabled?E.d1:E.ri)},n.createElement("label",{htmlFor:this.props.htmlName,className:o()(E.dQ,{[E.QC]:this.props.value,[E.z3]:this.props.hasError})},this.props.label),this.props.trackingFieldName&&n.createElement(ei,{id:this.props.htmlName,name:this.props.htmlName,value:this.props.value,disabled:this.props.disabled,placeholder:this.props.placeholder||this.props.label,autoComplete:this.props.autoCompleteName,type:this.props.type||"text",maxLength:this.props.maxLength||50,onKeyPress:this.props.onKeyPress,onChange:this.props.onChange,onBlur:this.props.onBlur,onFocus:this.props.onFocus,trackingFieldName:this.props.trackingFieldName,trackingPopulationLevel:this.props.value?g._R.POPULATED_COMPLETE:g._R.NOT_POPULATED,dataTestId:this.props.dataTestId,required:this.props.required}),!this.props.trackingFieldName&&n.createElement(u.L,{id:this.props.htmlName,name:this.props.htmlName,value:this.props.value,disabled:this.props.disabled,placeholder:this.props.placeholder||this.props.label,autoComplete:this.props.autoCompleteName,type:this.props.type||"text",maxLength:this.props.maxLength||50,onKeyPress:this.props.onKeyPress,onChange:this.props.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,dataTestId:this.props.dataTestId,required:this.props.required}),this.props.tooltip&&n.createElement(p.B,{className:E.G,svg:b.A,"data-tooltip-type":_.Ib.TEXT,"data-tooltip":this.props.tooltip,"data-tooltip-timeout-delay":300}))}}class eo extends n.PureComponent{constructor(e){super(e),this.documentKeyDown=e=>{e.keyCode===s.Uz.TAB&&this.setState({showFocus:!0})},this.documentMouseDown=e=>{this.setState({showFocus:!1})},this.onFocus=e=>{this.state.showFocus||e.target.blur()},this.classNameForInput=()=>{let e=`${E.kv} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${E.hP}`),e},this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){let{svgOverride:e,classOverride:t,checked:r,...a}=this.props;return n.createElement("div",{className:E.HI},n.createElement("input",{...a,type:"checkbox",onFocus:this.onFocus,className:t||this.classNameForInput(),checked:r}),r?n.createElement("div",{className:E.Eg},n.createElement(m.U,{svg:e??y.A},n.createElement(i.l,null))):null)}}function el(e){let t=`${E.Pf} ${e.className||""}`;return n.createElement("label",{...e,className:t})}eo.displayName="Checkbox";let es=f.N,ec=(0,h.tf)(es);class ed extends n.Component{render(){let{trusted:e,className:t,...r}=this.props,i=`${E.MH} ${t||""}`,a={...r,className:i,rel:e?"noopener":"noopener nofollow noreferrer ugc",onClick:e=>{this.props.onClick&&this.props.onClick(e),this.props.href&&(0,l.e)(this.props.href,e)}};return n.createElement("a",{...a},this.props.children)}}ed.displayName="Link";let eu=(0,h.tf)(ed);class ep extends n.Component{render(){let e=`${E.X7} ${this.props.className||""}`,t={...this.props,className:e};return n.createElement("select",{...t})}}function em(e){return"x"===e.direction?n.createElement("div",{style:{width:8*e.multiple},"aria-hidden":"true"}):n.createElement("div",{style:{height:8*e.multiple},"aria-hidden":"true"})}ep.displayName="BigSelect",em.displayName="Spacing";let e_=(0,h.tf)(p.B),eh=(0,h.tf)(e=>n.createElement("a",{...e},e.children));function eg(e){return n.createElement(S,{defaultClass:o()(E._d,e.className),...e})}let ef=(0,h.tf)(eg)},210954:(e,t,r)=>{"use strict";r.d(t,{N:()=>o});var n=r(411855),i=r(846627),a=r(3453);class o extends n.Component{render(){let e=`${a.nf} ${this.props.className||""}`,{canFocus:t,trusted:r,...o}=this.props,l={...o,className:e,rel:r?"noopener":"noopener nofollow noreferrer ugc",onClick:e=>{this.props.onClick&&this.props.onClick(e),this.props.href&&(0,i.e)(this.props.href,e)}};return t&&(l={href:"#",tabIndex:0,...l}),n.createElement("a",{...l},this.props.children)}}o.displayName="Link"},511443:(e,t,r)=>{"use strict";r.d(t,{Ri:()=>a,Ug:()=>o,lc:()=>l});var n=r(91408),i=r(860168);let a=(0,n.jz)(i.pXQ),o=(0,n.jz)(i.aqw),l=(0,n.jz)(i.h4P)},262896:(e,t,r)=>{"use strict";r.d(t,{Fb:()=>l,L3:()=>u,b_:()=>m,ny:()=>_,wB:()=>p});var n=r(776250),i=r(686759),a=r(966712);let o=(0,a.tl)().zendesk_web_key_public,l={FREE:["account","billing","bugReport","community","events"],PAID:["account","billing","bugReport","community","events","productQuestion"]},s={productQuestion:{id:360001731233},bugReport:{id:360001744374},featureRequest:{id:360001746113},account:{id:360005944714},community:{id:7767730653079},billing:{id:9707134248215},events:{id:19669189307671},other:{id:360001758534}},c=function(){return{webWidget:{position:{horizontal:"right",vertical:"bottom"},offset:{horizontal:"0px",vertical:"40px"},contactForm:{selectTicketForm:{"*":"Please choose:"},ticketForms:Object.keys(s).map(e=>s[e])},helpCenter:{searchPlaceholder:{"*":"How can we help?"},messageButton:{"*":"Contact us"}}}}},d=null;function u(){return d||(d=(async()=>{if(window.figmaPerfTesting)throw Error("testing");if(window.zE)return window.zE;if(!o)throw Error("No zendesk_web_key_public api key");window.zESettings=c();try{return await (0,i.k0)("https://static.zdassets.com/ekr/snippet.js?key="+o,{id:"ze-snippet",cors:!1}),window.zE}catch(e){throw d=null,e}})())}function p(e,t){d&&window.zE&&(window.zESettings=c(),(null==t?void 0:t.ticketForms)&&(window.zESettings.webWidget.contactForm={ticketForms:t.ticketForms.map(e=>s[e]),fields:(t.fields||[]).map(e=>({id:e.id,prefill:{"*":e.value}}))}),(null==t?void 0:t.suppressAnswerBot)&&(window.zESettings.webWidget.helpCenter={suppress:!0},window.zESettings.webWidget.answerBot={suppress:!0}),(null==t?void 0:t.locale)&&window.zE("webWidget","setLocale",t.locale),window.zE("webWidget","updateSettings",window.zESettings),window.zE("webWidget","prefill",{name:{value:e.name,readOnly:!0},email:{value:e.email,readOnly:!0}}))}function m(){window.zE&&(window.zE("webWidget","show"),window.zE("webWidget","open"),window.zE("webWidget:on","close",()=>{window.zE("webWidget","hide")}),window.zE("webWidget:on","userEvent",e=>{var t,r,i;let a={action:e.action,relatedZendeskId:null==(t=e.properties)?void 0:t.id,relatedZendeskName:null==(r=e.properties)?void 0:r.name,searchTerm:null==(i=e.properties)?void 0:i.term};(0,n.sx)("zendesk_help_widget",a)}))}function _(e,t,r){u().then(()=>p(e,t)).then(m).catch(()=>console.error(`Our support center is not currently available. You can email us at ${(0,a.W4)()}.`))}},455057:(e,t,r)=>{"use strict";r.d(t,{S:()=>d,_:()=>u});var n=r(411855),i=r(629019),a=r.n(i),o=r(574176),l=r(501114),s=r(177949),c=r(54375),d=(e=>(e[e.INFORMATION=0]="INFORMATION",e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.FIGJAM=3]="FIGJAM",e[e.PLAIN=4]="PLAIN",e))(d||{});function u({color:e,icon:t,rounded:r=!0,text:i,dataTestId:d}){return n.createElement("div",{"data-testid":d,style:l.sx.if(!r,{borderRadius:"0px"}).$,className:a()({[s.ZI]:0===e,[s.z3]:1===e,[s.$e]:2===e,[s.hh]:3===e,[s.pj]:4===e})},n.createElement(o.B,{autosize:!0,className:s.G,width:"16px",height:"12px",svg:t??c.A}),n.createElement("p",null,i))}},439729:(e,t,r)=>{"use strict";r.d(t,{T:()=>a});var n=r(411855),i=r(178466);let a=n.memo(function(e){let t=e.locale||(0,i.Gq)().getPrimaryLocale(!1),r=n.useMemo(()=>new Intl.ListFormat(t,{style:e.formatStyle||"long",type:e.formatType||"conjunction"}),[t,e.formatStyle,e.formatType]),a=n.Children.toArray(e.children),o=r.formatToParts(a.map((e,t)=>`${t}`)).map((e,t)=>"element"===e.type?a[Number(e.value)]:"literal"===e.type?n.createElement("span",{key:`${t}_literal`},e.value):null);return n.createElement("span",{className:e.className||""},o)})},723325:(e,t,r)=>{"use strict";r.d(t,{M3:()=>E,Nt:()=>I,c2:()=>v,dP:()=>f,lv:()=>S,q_:()=>y,yn:()=>T,z3:()=>b});var n=r(411855),i=r(717068),a=r(935283),o=r(44948),l=r(966712),s=r(498750),c=r(860601),d=r(572174),u=r(563706),p=r(522739);let m={preventScroll:!1,block:"nearest"},_={supportHorizontalNavigation:!0,simulateClickOnEnter:!0};class h{constructor({id:e,path:t,column:r,element:n,defaultFocusOptions:i=m,setIsFauxFocused:a,fauxClick:o,keyboardItemNavigationOptions:l=_}){this.id=e,this.path=t,this.column=r,this.element=n,this.defaultFocusOptions=i,this.setIsFauxFocused=a,this.fauxClick=o,this.navigationOptions=l}addToTree(e,t){this.tree=e,function(e,t){let{path:r,column:n}=t;R(e,r,!0).items[n||0]=t}(e,this),t&&this.id&&t.set(this.id,this)}removeFromTree(e){this.tree&&(function(e,t){let{path:r,column:n}=t,a=R(e,r),o=a.items[n||0];if(o&&o===t&&(a.items[n||0]=void 0,a.items.every(d.uy))){L(e,r.slice(0,-1)).children[r[r.length-1]]=void 0;for(let t=r.length-1;t>=1;t--){let n=r.slice(0,t),[a,o]=(0,i.Vs)(n),l=L(e,a);if(L(e,n).children.every(d.uy))l.children[o]=void 0;else break}e.children.every(d.uy)&&(e.children=[])}}(this.tree,this),this.tree=void 0),e&&this.id&&e.delete(this.id)}focus(e=this.defaultFocusOptions){this.element.focus({preventScroll:!0}),e.preventScroll||this.element.scrollIntoView(e)}blur(){this.element.blur()}fauxFocus(e=this.defaultFocusOptions){this.setIsFauxFocused(!0,this),e.preventScroll||this.element.scrollIntoView(e)}fauxBlur(){this.setIsFauxFocused(!1,this)}simulateClick(){this.fauxClick?this.fauxClick():this.element.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))}getItemAbove(){return this.tree&&O(this.tree,this,"up")}getItemBelow(){if(!this.tree)return null;let e=O(this.tree,this,"down")||null;for(;e&&e.navigationOptions.skipOnDownNavigation;)e=e.getItemBelow();return e}getItemToTheLeft(){return this.tree&&N(this.tree,this,"left")}getItemToTheRight(){if(!this.tree)return null;let e=N(this.tree,this,"right")||null;for(;e&&e.navigationOptions.skipOnRightNavigation;)e=e.getItemToTheRight();return e}}let g=n.createContext(null),f=n.forwardRef(function({onKeyDown:e,allowVim:t=!1,disabled:r,overrideDown:i,overrideUp:a,allowHorizontalNavigationWhileInputFocused:o=!1,...l},s){let d=n.useRef({type:"parent",children:[]}),u=n.useRef(new Map),m=n.useRef(null),_=n.useCallback(e=>{m.current===e&&(m.current=null)},[]),h=n.useCallback(e=>{m.current=e},[]),f=n.useRef(null),E=n.useRef(null),y=n.useRef(c.lQ),b=n.useCallback(e=>{e===f.current&&(f.current=null,y.current(),y.current=c.lQ)},[]),w=n.useCallback((e,t)=>{f.current&&b(f.current),f.current=e,y.current=t},[b]),A=n.useCallback(r=>{var n,l,s,c,u,p,_,h;let g=m.current,y=f.current,b=k(r),w=!(r.metaKey||r.ctrlKey||r.altKey||r.shiftKey)&&o;if(v(r,t)){if(y){r.preventDefault();let e=P(d.current,y,a);e?null==e||e.fauxFocus():null==(n=y.getItemAbove())||n.fauxFocus()}else if(g){r.preventDefault();let e=P(d.current,g,a);e?null==e||e.focus():null==(l=g.getItemAbove())||l.focus()}}else if(I(r,t)){if(y){r.preventDefault();let e=P(d.current,y,i);e?null==e||e.fauxFocus():null==(s=y.getItemBelow())||s.fauxFocus()}else if(g){r.preventDefault();let e=P(d.current,g,i);e?null==e||e.focus():null==(c=g.getItemBelow())||c.focus()}else E.current&&E.current.fauxFocus()}else T(b,t,w)?y&&y.navigationOptions.supportHorizontalNavigation?(r.preventDefault(),null==(u=y.getItemToTheLeft())||u.fauxFocus()):g&&(r.preventDefault(),null==(p=g.getItemToTheLeft())||p.focus()):S(b,t,w)?y&&y.navigationOptions.supportHorizontalNavigation?(r.preventDefault(),null==(_=y.getItemToTheRight())||_.fauxFocus()):g&&(r.preventDefault(),null==(h=g.getItemToTheRight())||h.focus()):"Enter"===b?y&&(r.preventDefault(),y.navigationOptions.simulateClickOnEnter&&y.simulateClick()):"Escape"===b&&(g||y)&&(r.preventDefault(),g&&g.blur(),y&&y.fauxBlur());null==e||e(r)},[t,o,e,a,i]),C=n.useMemo(()=>({tree:d.current,lookupMap:u.current,onFocusItem:h,onBlurItem:_,onFauxFocusItem:w,onFauxBlurItem:b,fauxBlurItem:()=>{var e;return null==(e=f.current)?void 0:e.fauxBlur()},blurItem:()=>{var e;return null==(e=m.current)?void 0:e.blur()},setDefaultFauxFocusedItem:e=>{E.current||(E.current=e)},fauxFocusDefaultItem:()=>{var e;null==(e=E.current)||e.fauxFocus()}}),[h,_,w,b]);return n.createElement(g.Provider,{value:C},n.createElement(p.D8,{onKeyDown:r?e:A,forwardedRef:s,...l}))});function E({path:e,column:t=null,id:r,defaultFocusOptions:i,onFocus:a,onBlur:s,onFauxFocus:c,onFauxBlur:u,fauxClick:p,disabled:m,navigationOptions:_}){let f=(0,o.zN)(e),E=(0,o.zN)(i),y=(0,o.zN)(_);if(0===f.length)throw Error("Path must be non-empty");if(f.some(e=>e<0))throw Error("All path indices must be non-negative");if(null!=t&&t<0)throw Error("Column must be non-negative");let[b,v]=n.useState(void 0),[I,T]=n.useState(!1),[S,w]=n.useState(!1),A=n.useRef(null),{tree:C,lookupMap:N,onFocusItem:O,onBlurItem:L,onFauxFocusItem:R,onFauxBlurItem:P,setDefaultFauxFocusedItem:k}=(0,d.sR)(n.useContext(g),"Must use `useKeyboardNavigationItem` inside `<KeyboardNavigationProvider>");n.useEffect(()=>{if(b&&!m){let e=()=>T(!0),t=()=>T(!1);return b.addEventListener("focus",e),b.addEventListener("blur",t),b===document.activeElement&&e(),()=>{b.removeEventListener("focus",e),b.removeEventListener("blur",t),b===document.activeElement&&t()}}},[m,b]);let D=n.useCallback(e=>{w(t=>(t&&(null==u||u(),P(e)),!1))},[u,P]),M=n.useCallback(e=>{w(t=>(t||(null==c||c(),R(e,()=>{null!==A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{D(e)},0)})),!0))},[D,c,R]),x=n.useCallback((e,t)=>{e?M(t):D(t)},[M,D]);n.useEffect(()=>()=>{null!==A.current&&clearTimeout(A.current)},[]);let F=n.useMemo(()=>null==b||m?null:new h({id:r,path:f,column:t,element:b,defaultFocusOptions:E,setIsFauxFocused:(0,l.kc)().key_nav_faux_focus_sync?x:w,fauxClick:p,keyboardItemNavigationOptions:y}),[b,m,r,f,t,E,x,p,y]);return n.useEffect(()=>{if(F)return F.addToTree(C,N),F.navigationOptions.fauxFocusByDefault&&k(F),()=>{F.removeFromTree(N),F.navigationOptions.fauxFocusByDefault&&k(null)}},[F,N,k,C]),n.useEffect(()=>{if(F&&I)return null==a||a(),O(F),()=>{null==s||s(),L(F)}},[F,I,a,s,O,L]),n.useEffect(()=>{if(!(0,l.kc)().key_nav_faux_focus_sync&&F&&S)return null==c||c(),R(F,()=>{w(!1)}),()=>{null==u||u(),P(F)}},[F,S,c,u,R,P]),{setKeyboardNavigationElement:v,keyboardNavigationItem:F,isFocused:I,isFauxFocused:S}}function y(){let{lookupMap:e}=(0,d.sR)(n.useContext(g),"Must use `useKeyboardNavigationLookupMap` inside `<KeyboardNavigationProvider>");return n.useCallback(t=>e.get(t),[e])}function b(e="real"){let{blurItem:t,fauxBlurItem:r}=(0,d.sR)(n.useContext(g),"Must use `useBlurFocusedItem` inside `<KeyboardNavigationProvider>");return n.useCallback(()=>{switch(e){case"real":t();break;case"faux":r();break;default:(0,a.xb)(e)}},[t,r,e])}function v(e,t){let r=k(e),n=(0,s.vN)(e,s.xH.CONTROL),i=u.Ay.mac&&n;return"ArrowUp"===r||"KeyK"===r&&t&&w()||i&&"KeyP"===r}function I(e,t){let r=k(e),n=(0,s.vN)(e,s.xH.CONTROL),i=u.Ay.mac&&n;return"ArrowDown"===r||"KeyJ"===r&&t&&w()||i&&"KeyN"===r}function T(e,t,r=!1){return"ArrowLeft"===e&&A(r)||"KeyH"===e&&t&&w()}function S(e,t,r=!1){return"ArrowRight"===e&&A(r)||"KeyL"===e&&t&&w()}function w(){return!C(document.activeElement)}function A(e){let t=document.activeElement;return!C(t)||!!e||(t instanceof HTMLDivElement?""===t.textContent:""===t.value)}function C(e){return!!e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)||e instanceof HTMLDivElement&&"true"===e.contentEditable}function N(e,{path:t,column:r},n){if(null==r)return;let a=R(e,t);return("left"===n?i.lq:i.M0)(a.items,r)||O(e,{path:t,column:"left"===n?1/0:-1},"left"===n?"up":"down")}function O(e,{path:t,column:r},n){for(let a=t.length-1;a>=0;a--){let o=t.slice(0,a),l=t[a],s=L(e,o),c=("up"===n?i.lq:i.M0)(s.children,l);if(c){let e=("up"===n?function e(t){if("leaf"===t.type)return t;let r=(0,i.lq)(t.children,t.children.length);if(r)return e(r);throw Error("Expected a node but got nothing")}:function e(t){if("leaf"===t.type)return t;let r=(0,i.M0)(t.children,-1);if(r)return e(r);throw Error("Expected a node but got nothing")})(c);return(0,i.qg)(e.items,r||0)}}}function L(e,t,r=!1){for(let n of t){let t=e.children[n];if(t){if("leaf"===t.type)throw Error("Expected a parent but got a leaf");e=t}else if(r){let t={type:"parent",children:[]};e.children[n]=t,e=t}else throw Error("Expected a parent but got nothing")}return e}function R(e,t,r=!1){let[n,a]=(0,i.Vs)(t),o=L(e,n,r),l=o.children[a];if(l){if("parent"!==l.type)return l;throw Error("Expected a parent but got a leaf")}if(r){let e={type:"leaf",items:[]};return o.children[a]=e,e}throw Error("Expected a leaf but got nothing")}function P(e,t,r){try{var n,i;let a=null==r?void 0:r(t);return a&&(n=a.path,i=a.column,R(e,n).items[i??0])}catch(e){}}function k(e){return e.code??e.key}},638889:(e,t,r)=>{"use strict";r.d(t,{S:()=>a});var n=r(411855),i=r(338053);class a extends n.PureComponent{render(){let e=["\u2318","\u2325","\u21E7","\u2303"];return n.createElement("span",{className:this.props.className},this.props.shortcut.split("").map((t,r)=>{let a=-1!==e.indexOf(t)?i.C:i.G;return n.createElement("span",{key:r,className:a},t)}))}}a.displayName="KeyboardShortcut"},28928:(e,t,r)=>{"use strict";r.d(t,{V:()=>p,n:()=>n.o});var n=r(194422),i=r(411855),a=r(883541),o=r(91408),l=r(966712),s=r(493323),c=r(726864),d=r(860168);function u({children:e}){let t=(0,c.Yk)();return i.createElement("div",{className:"blocked_ui_loading_indicator--base--XVkv0",style:{bottom:0===t?(0,o.jz)(d.N21):(0,o.jz)(d.EaT)+t}},e)}function p({blockedUILoadingIndicator:e,dispatch:t}){let r=(0,l.kc)().fpl_visual_bell;i.useEffect(()=>{let r=null==e?void 0:e.callback;setTimeout(()=>{t(n.o.remove({})),null==r||r()},0)},[e,t]);let o=e?"blocked_ui_loading_indicator--shown--XJCOo":"",c=(null==e?void 0:e.showLoadingSpinner)?i.createElement("div",{className:"blocked_ui_loading_indicator--icon--wujoz"},i.createElement(s.kt,null)):null;return r?i.createElement(u,null,e&&e.message&&i.createElement(a.y.Root,null,c&&i.createElement(a.y.Icon,null,c),i.createElement(a.y.Message,null,e.message))):i.createElement(u,null,i.createElement("div",{className:`blocked_ui_loading_indicator--messageContainer--Xdio4 _overlayBase--_overlayBase--Rkj8l text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L ${o}`},e&&e.message&&i.createElement(i.Fragment,null,c,i.createElement("span",{className:"blocked_ui_loading_indicator--message--AM16c"},e.message))))}},194422:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var n,i=r(167249);(e=>{e.set=(0,i.N)("BLOCKED_UI_LOADING_INDICATOR_SET"),e.remove=(0,i.N)("BLOCKED_UI_LOADING_INDICATOR_REMOVE")})(n||(n={}))},976999:(e,t,r)=>{"use strict";r.d(t,{JR:()=>a,Qp:()=>s,Wi:()=>l,_b:()=>c});var n=r(411855),i=r(427371),a=(e=>(e.SHIMMER="shimmer",e.SHIMMER_ON_MENU="shimmer_on_menu",e.LIGHT_SHIMMER="light_shimmer",e.NO_SHIMMER="no_shimmer",e))(a||{});let o=e=>{switch(e){case"shimmer":default:return i._J;case"light_shimmer":return i.QH;case"shimmer_on_menu":return i.Sw;case"no_shimmer":return}};function l(e){return n.createElement("div",{style:{...e.style??{},opacity:e.opacity?`${e.opacity}%`:"100%"},className:`${"shimmer_on_menu"===e.animationType?i.ky:i.KQ} ${e.primary?i.lx:""} ${e.className||""}`,"data-testid":e.dataTestId},n.createElement("div",{className:o(e.animationType)}))}function s(e){return n.createElement("div",{style:{opacity:e.opacity?`${e.opacity}%`:"100%"},className:`${i.GE} ${e.primary?i.lx:""} ${e.className||""}`,"data-testid":e.dataTestId},n.createElement("div",{className:o(e.animationType)}))}function c(){return n.createElement("div",{className:i.qh})}},79647:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var n=r(411855),i=r(153234);function a(e){let t;let r=(0,i.rf)(e.recordingKey,"ondragstart",t=>{var r;null==(r=e.onDragStart)||r.call(e,t)}),a=(0,i.rf)(e.recordingKey,"ondragend",t=>{var r;null==(r=e.onDragEnd)||r.call(e,t)}),o=(0,i.rf)(e.recordingKey,"ondragover",t=>{var r;null==(r=e.onDragOver)||r.call(e,t)}),l=(0,i.rf)(e.recordingKey,"mousedown",t=>{var r;null==(r=e.onClick)||r.call(e,t)}),s=(0,i.rf)(e.recordingKey,"dblclick",t=>{var r;null==(r=e.onDoubleClick)||r.call(e,t)}),{selected:c,children:d,className:u,pillRef:p}=e;return(t=u||(c?"pill--pillSelected--mwWRM pill--pill--yeLll":"pill--pillDeselected--3YkmX pill--pill--yeLll"),e.href)?n.createElement("a",{href:e.href,draggable:e.draggable,onDragStart:r,onDragEnd:a,onDragOver:o,onClick:e=>{e.preventDefault(),l(e)},onDoubleClick:s,className:t,ref:p||null,dir:"auto"},d):n.createElement("span",{draggable:e.draggable,onDragStart:r,onDragEnd:a,onDragOver:o,onClick:l,onDoubleClick:s,className:t,ref:p||null,dir:"auto"},d)}},201242:(e,t,r)=>{"use strict";r.d(t,{PX:()=>y,gA:()=>b,hJ:()=>E,mt:()=>f,wi:()=>h,xy:()=>I});var n=r(411855),i=r(563706),a=r(153234),o=r(522739),l=r(574176),s=r(939863),c=r(938908),d=r(913854),u=r(18301),p=r(717682),m=r(942723),_=r(214735);function h(e){var t;let{dispatch:r,shouldShowUI:i}=e;return n.useEffect(()=>{r(c.y3({isFooterVisible:i}))},[r,i]),n.createElement("div",{className:i?d.qr:d.OH,role:"navigation","aria-label":(0,s.t)("viewer.footer.accessible_label")},n.createElement("div",{className:d.c0},(null==(t=e.renderDebugTools)?void 0:t.call(e))||""),n.createElement("div",{className:d.Pj},n.createElement(b,{navigateForwardEnabled:e.navigateForwardEnabled,navigateBackwardEnabled:e.navigateBackwardEnabled,shouldShowFrameCounter:e.shouldShowFrameCounter,frameCount:e.frameCount,currentFrameIndex:e.currentFrameIndex,showPreviousFrame:e.showPreviousFrame,showNextFrame:e.showNextFrame,backIcon:u.A,nextIcon:m.A,recordingKey:e.recordingKey,optionsMenu:e.optionsMenu})),n.createElement("div",{className:d.nf},n.createElement(v,{onClick:e.restartPrototype,recordingKey:a.Pt(e,"replayButton")})))}let g=null;function f(){return g}function E(e){let t=(0,n.useRef)(null),r=(0,n.useRef)(null);n.useEffect(()=>{let e={duration:200};function n(e){return[{transform:"translate3D(0px, 0, 0)"},{transform:`translate3D(${e}px, 0, 0)`},{transform:"translate3D(0px, 0, 0)"}]}return g={animateBack:()=>{null!==t.current&&t.current.animate(n(-4),e)},animateNext:()=>{null!==r.current&&r.current.animate(n(4),e)}},()=>{g=null}},[r,t]);let o=e.navigateBackwardEnabled?d.ij:d.S$,c=e.navigateForwardEnabled?d.Uz:d.cp,u=e.navigateForwardEnabled||e.navigateBackwardEnabled,p=!i.rr&&u,m=n.createElement(y,{forwardedRef:t,onClick:e.showPreviousFrame,recordingKey:a.Pt(e,"backButton"),label:(0,s.t)("viewer.footer.previous_frame"),disabled:!e.navigateBackwardEnabled,tabIndex:0,svg:n.createElement(l.B,{className:o,svg:e.backIcon})}),_=n.createElement(y,{forwardedRef:r,onClick:e.showNextFrame,recordingKey:a.Pt(e,"nextButton"),label:(0,s.t)("viewer.footer.next_frame"),disabled:!e.navigateForwardEnabled,tabIndex:0,svg:n.createElement(l.B,{className:c,svg:e.nextIcon})});return n.createElement("div",{className:e.containerClassName},p&&m,!!e.shouldShowFrameCounter&&n.createElement("div",{role:"status","aria-live":"polite","aria-label":(0,s.t)("viewer.footer.readable_frame_progress",{currentFrameIndex:e.currentFrameIndex+1,frameCount:e.frameCount}),className:e.frameCounterTextClassName},n.createElement(s.Tx,{id:"viewer.footer.frame_progress",currentFrameIndex:e.currentFrameIndex+1,frameCount:e.frameCount})),p&&_,e.optionsMenu&&n.createElement(n.Fragment,null,(p||e.shouldShowFrameCounter)&&n.createElement("div",{className:d.K5}),e.optionsMenu))}function y({onClick:e,recordingKey:t,label:r,svg:i,variant:a,tabIndex:l,forwardedRef:s,disabled:c=!1}){let u="padded-focus-halo"===a?d.yR:d.QY;return n.createElement(o.GG,{className:u,disabled:c,onClick:e,"aria-label":r,recordingKey:t,tabIndex:l,forwardedRef:s,"data-fullscreen-intercept":!0},i)}function b(e){return n.createElement(E,{navigateBackwardEnabled:e.navigateBackwardEnabled,navigateForwardEnabled:e.navigateForwardEnabled,shouldShowFrameCounter:e.shouldShowFrameCounter,frameCount:e.frameCount,currentFrameIndex:e.currentFrameIndex,showPreviousFrame:e.showPreviousFrame,showNextFrame:e.showNextFrame,backIcon:e.backIcon,nextIcon:e.nextIcon,containerClassName:e.containerClassName||d.YO,frameCounterTextClassName:d.d6,recordingKey:e.recordingKey,optionsMenu:e.optionsMenu})}function v(e){return n.createElement(o.GG,{className:d.cQ,onClick:e.onClick,recordingKey:e.recordingKey},n.createElement(l.B,{svg:p.A}),n.createElement("div",null,n.createElement(s.Tx,{id:"viewer.footer.restart"})," ",n.createElement("span",{className:d.lE},n.createElement(s.Tx,{id:"viewer.footer.r"}))))}function I(e){return n.createElement(o.D8,{className:e.className,onClick:e.onClick,recordingKey:e.recordingKey},n.createElement(l.B,{svg:_.A,className:d.t$}),n.createElement("div",null,n.createElement(s.Tx,{id:"viewer.footer.restart"})," ",n.createElement("span",{className:d.lE}," ",n.createElement(s.Tx,{id:"viewer.footer.r"}))))}},32863:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>F,IW:()=>M,Lp:()=>H,Qv:()=>U,jq:()=>V,kq:()=>x,ne:()=>D,o_:()=>G,xD:()=>B,y2:()=>W});var n=r(411855),i=r(782683),a=r(882316),o=r(629019),l=r.n(o),s=r(91408),c=r(320063),d=r(358145),u=r(498750),p=r(153234),m=r(522739),_=r(659838),h=r(574176),g=r(762638),f=r(939863),E=r(501114),y=r(896474),b=r(226055),v=r(283942),I=r(498606),T=r(507956),S=r(227795),w=r(170588),A=r(860168),C=r(901723),N=r(399403),O=r(700977),L=r(703475),R=r(630834),P=r(361807),k=r(372240);function D(e,t){let r=n.useCallback(e=>{setTimeout(()=>{b.current&&(b.current.focus(),e&&b.current.select())},0)},[]),i=n.useCallback(()=>{b.current&&b.current.blur()},[]),a=n.useCallback(()=>{b.current&&b.current.select()},[]);n.useImperativeHandle(t,()=>({focus:r,blur:i,select:a,searchInput:b.current}));let[o,l]=n.useState(!1),[s,m]=n.useState(!1),[_,h]=n.useState(void 0),{onFocus:g,onClick:f}=e,E=n.useCallback(()=>{g&&g(),m(!0)},[g]),y=n.useRef(!1),b=n.useRef(null),I=n.useCallback(e=>{y.current=document.activeElement!==e.target},[]),T=n.useCallback(()=>{var e;y.current&&(null==(e=b.current)||e.select(),E())},[E]),S=n.useCallback(()=>{e.onBlur&&e.onBlur(),m(!1)},[e]),w=p.AF(e.recordingKey,"change",t=>{let r=t.target;e.onChange(r.value)}),A=n.useCallback(t=>{var r;if(!(e.isKeyDownHandled&&e.isKeyDownHandled(t))){if(" "===t.key&&t.stopPropagation(),t.keyCode===u.Uz.ESCAPE){null==(r=b.current)||r.blur();return}(0,v.jr)(t,v.W0.NO)}},[e]),C=n.useCallback((e=!1)=>{e&&l(!0),r(),f&&f()},[r,f]),N=p.rf(e.recordingKey,"click",t=>{t.stopPropagation(),e.clearSearch(),l(!1),r()}),O=p.v_(e.recordingKey,"keydown",t=>{t.stopPropagation(),e.clearSearch(),l(!1),r()}),L=(0,d.ZC)(e.isFocused);return n.useEffect(()=>{L||!0!==e.isFocused?!0===L&&!1===e.isFocused&&i():r()},[i,r,L,e.isFocused]),(0,c.h)(()=>{e.focusOnMount&&b.current&&(b.current.focus(),E()),e.selectTextOnMount&&b.current&&b.current.select()}),{loggedOutSearchBarActivated:o,inputFocused:s,placeholderWidth:_,setPlaceholderWidth:h,searchInputRef:b,onMouseDown:I,onMouseUp:T,onSearchClick:C,onClearSearchClick:N,onClearSearchKeyDown:O,onFocus:g,onBlur:S,onClick:f,onSearchKeyDown:A,onSearchChange:w}}let M=n.forwardRef((e,t)=>{let r=(0,b.GS)(),{searchInputRef:a,onMouseDown:o,onMouseUp:l,onClearSearchClick:s,onFocus:c,onBlur:d,onClick:u,onSearchKeyDown:p,onSearchChange:m}=D(e,t),g=(0,T.ks)(),y=g?C.vq:C.rk;return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:`${y} ${e.className||""}`},e.withUI3Icon?n.createElement(i.h,{className:e.iconClassName}):n.createElement(h.B,{className:e.iconClassName??C.qc,svg:N.A}),n.createElement(_.L,{ref:a,placeholder:e.placeholder||(0,f.t)("general.search"),className:C.mn,value:e.query,onMouseDown:o,onMouseUp:l,onFocus:c,onBlur:d,onClick:u,onChange:m,onKeyDown:p,spellCheck:!1,style:E.sx.if(e.hasTransparentBackground,E.sx.add({background:"transparent"})).if(g||e.smallFont,E.sx.if(r,E.sx.textBodyMedium,E.sx.font11.$)).$,disabled:e.disabled,dataTestId:"search-bar-input",maxInputLength:e.maxInputLength}),n.createElement(K,{query:e.query,hideXIcon:!!e.hideXIcon,withSmallXIcon:!!e.withSmallXIcon,onClearSearchClick:s}))});n.forwardRef((e,t)=>{let r=(0,b.GS)(),{searchInputRef:i,onMouseDown:a,onMouseUp:o,onClearSearchClick:l,onFocus:s,onBlur:c,onClick:d,onSearchKeyDown:u,onSearchChange:p}=D(e,t),m=(0,T.ks)(),h=m?C.vq:C.rk;return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:`${h} ${e.className||""}`},n.createElement("button",{onClick:e.onBack,className:g.cx.colorBgSecondary.$},n.createElement(y.In,{icon:"chevron-left-32"})),n.createElement(_.L,{ref:i,placeholder:e.placeholder||(0,f.t)("general.search"),className:C.mn,value:e.query,onMouseDown:a,onMouseUp:o,onFocus:s,onBlur:c,onClick:d,onChange:p,onKeyDown:u,spellCheck:!1,style:E.sx.if(e.hasTransparentBackground,E.sx.add({background:"transparent"})).if(m||e.smallFont,E.sx.if(r,E.sx.textBodyMedium,E.sx.font11.$)).$,disabled:e.disabled,dataTestId:"search-bar-input",maxInputLength:e.maxInputLength}),n.createElement(K,{query:e.query,hideXIcon:!!e.hideXIcon,withSmallXIcon:!!e.withSmallXIcon,onClearSearchClick:l}))}),n.forwardRef((e,t)=>{let{inputFocused:r,placeholderWidth:i,setPlaceholderWidth:a,searchInputRef:o,onMouseDown:l,onMouseUp:s,onSearchClick:c,onClearSearchClick:d,onFocus:u,onBlur:p,onClick:m,onSearchKeyDown:g,onSearchChange:E}=D(e,t),y=e.placeholder||(0,f.t)("general.search"),b=`${e.className||""} ${r?C.pp:C.MI}`;return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:b},n.createElement(h.B,{className:C.MU,svg:N.A,onClick:()=>c()}),n.createElement(_.L,{ref:o,placeholder:y,className:C.mn,value:e.query,onMouseDown:l,onMouseUp:s,onFocus:u,onBlur:p,onClick:m,onChange:E,onKeyDown:g,style:{width:r?void 0:i},spellCheck:!1}),n.createElement("div",{className:C.ds,ref:e=>a(null==e?void 0:e.getBoundingClientRect().width)},y),n.createElement(K,{query:e.query,hideXIcon:!!e.hideXIcon,withSmallXIcon:!!e.withSmallXIcon,onClearSearchClick:d}))});let x=n.forwardRef((e,t)=>{let r=n.createRef();return n.useImperativeHandle(t,()=>r.current),n.createElement("div",{className:C.$7,onMouseDown:()=>{var e;return null==(e=r.current)?void 0:e.focus()},role:"presentation"},n.createElement(M,{...e,smallFont:!0,hasTransparentBackground:!0,className:l()(g.cx.wFull.$,e.className),ref:r}))}),F=n.forwardRef((e,t)=>{let{inputFocused:r,placeholderWidth:i,searchInputRef:a,onMouseDown:o,onMouseUp:l,onClearSearchClick:s,onFocus:c,onBlur:d,onClick:u,onSearchKeyDown:p,onSearchChange:m}=D(e,t),g=e.placeholder||(0,f.t)("general.search"),E=`${e.className||""} ${C.W1}`,y=e.query.length>0?C.p3:C.Rt;return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:E,onMouseDown:e=>{o(e),e.target.matches("input")||e.preventDefault()},onMouseUp:l,role:"presentation"},n.createElement(h.B,{className:C.mh,svg:N.A}),n.createElement(_.L,{ref:a,placeholder:g,className:y,value:e.query,onFocus:c,onBlur:d,onClick:u,onChange:m,onKeyDown:p,style:{width:r?void 0:i},spellCheck:!1}),n.createElement(K,{query:e.query,hideXIcon:!!e.hideXIcon,withSmallXIcon:!!e.withSmallXIcon,onClearSearchClick:s}))}),U=n.forwardRef((e,t)=>{let{inputFocused:r,placeholderWidth:i,setPlaceholderWidth:a,searchInputRef:o,onMouseDown:l,onMouseUp:s,onClearSearchClick:c,onFocus:d,onBlur:u,onClick:p,onSearchKeyDown:m,onSearchChange:h}=D(e,t),g=e.placeholder||(0,f.t)("general.search"),E=`${e.className||""} ${C.Gh}`,b=e.query.length>0?C.r3:C.nP;return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:E,onMouseDown:e=>{l(e),e.target.matches("input")||e.preventDefault()},onMouseUp:s,role:"presentation"},n.createElement(y.In,{icon:"search-32"}),n.createElement(_.L,{ref:o,placeholder:g,className:b,value:e.query,onFocus:d,onBlur:u,onClick:p,onChange:h,onKeyDown:m,style:{width:r?void 0:i},spellCheck:!1}),n.createElement("div",{className:C.lm,ref:e=>a(Math.max(50,null==e?void 0:e.getBoundingClientRect().width))},g),n.createElement(K,{query:e.query,hideXIcon:!!e.hideXIcon,withSmallXIcon:!!e.withSmallXIcon,onClearSearchClick:c}))}),B=n.forwardRef((e,t)=>{let{searchInputRef:r,onMouseDown:i,onMouseUp:a,onFocus:o,onBlur:l,onClick:s,onSearchKeyDown:c,onSearchChange:d}=D(e,t);return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:C.sb},n.createElement(_.L,{ref:r,placeholder:e.placeholder||(0,f.t)("general.search"),className:C.vs,value:e.query,onMouseDown:i,onMouseUp:a,onFocus:o,onBlur:l,onChange:d,onClick:s,onKeyDown:c,spellCheck:!1}),n.createElement(h.B,{className:C.Ck,svg:O.A,onClick:e.onSubmit}))}),H=n.forwardRef((e,t)=>{let{searchInputRef:r,onMouseDown:i,onMouseUp:a,onClearSearchClick:o,onFocus:s,onBlur:c,onClick:d,onSearchKeyDown:u,onSearchChange:m}=D(e,t);return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:l()(e.className||C.HD,{[C.RT]:!e.extraSpacing,[C.qX]:e.extraSpacing,[C.Cs]:e.hideSearchIcon})},!e.hideSearchIcon&&n.createElement(h.B,{svg:L.A,className:C.nk}),n.createElement(_.L,{ref:r,placeholder:e.placeholder||(0,f.t)("design_systems.publishing_modal.search_placeholder"),className:e.query?C.CC:C.Vl,value:e.query,onMouseDown:i,onMouseUp:a,onFocus:s,onBlur:c,onClick:d,onChange:m,onKeyDown:u,spellCheck:!1,dataTestId:e.dataTestId}),!!e.query&&!e.hideXIcon&&n.createElement(S.Me,{recordingKey:p.Pt(e,"closeX"),svg:R.default,onClick:o,"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,f.t)("search.search_bar.clear")}))}),V=n.forwardRef((e,t)=>{let{searchInputRef:r,onMouseDown:i,onMouseUp:a,onClearSearchClick:o,onFocus:l,onBlur:s,onClick:c,onSearchKeyDown:d,onSearchChange:u}=D(e,t);return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:`${C.ZG} ${e.className||""}`},n.createElement(h.B,{svg:L.A,className:C.MU}),n.createElement(_.L,{ref:r,placeholder:e.placeholder||(0,f.t)("general.search"),className:C.uD,value:e.query,onMouseDown:i,onMouseUp:a,onFocus:l,onBlur:s,onClick:c,onChange:u,onKeyDown:d,spellCheck:!1,style:e.hasTransparentBackground?{background:"transparent"}:void 0}),n.createElement(m.D8,{className:C.m9,onClick:o,recordingKey:p.Pt(e,"clearSearch")},!!e.query&&n.createElement(f.Tx,{id:"collaboration.branching_to_source.clear"})),!e.hideXIcon&&n.createElement("div",{className:C.NC},n.createElement(h.B,{className:C.i3,svg:R.default,onClick:e.onClose})))}),G=n.forwardRef((e,t)=>{let{loggedOutSearchBarActivated:r,searchInputRef:i,onMouseDown:a,onMouseUp:o,onSearchClick:l,onClearSearchClick:c,onFocus:d,onBlur:u,onClick:p,onSearchKeyDown:m,onSearchChange:g}=D(e,t);return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:`${C.ax} ${e.className||""}`},!r&&!e.query&&n.createElement("div",{className:C.JU,onClick:()=>l(!0)},n.createElement(h.B,{className:C.Qm,svg:O.A})),(r||!!e.query)&&n.createElement("div",{className:C.S_},n.createElement(_.L,{ref:i,placeholder:e.placeholder||(0,f.t)("general.search"),className:C.nA,value:e.query,onMouseDown:a,onMouseUp:o,onFocus:d,onBlur:u,onClick:p,onChange:g,onKeyDown:m,autoFocus:!0,spellCheck:!1}),n.createElement(w.z,{query:`(min-width: ${(0,s.hG)(A.tgj)}px)`},n.createElement(h.B,{className:C.i3,svg:P.A,onClick:c})),n.createElement(w.z,{query:`(max-width: ${(0,s.hG)(A.tgj)-1}px)`},n.createElement(h.B,{className:C.i3,svg:k.A,onClick:c}))))}),W=n.forwardRef((e,t)=>{let r=n.createRef();return n.useImperativeHandle(t,()=>r.current),n.createElement("div",{className:C.tL,style:e.styleOverrides,onMouseDown:()=>{var e;return null==(e=r.current)?void 0:e.focus()},role:"presentation"},n.createElement(M,{...e,smallFont:!0,className:l()(g.cx.wFull.$,e.className),ref:r}))});function K({query:e,hideXIcon:t,withSmallXIcon:r,onClearSearchClick:i}){return!e||t?null:n.createElement(n.Fragment,null,r?n.createElement(m.D8,{className:C.i3,onClick:e=>i(e)},n.createElement(a.f,null)):n.createElement(h.B,{dataTestId:"search-x-icon",className:C.i3,svg:R.default,onClick:i}))}},194400:(e,t,r)=>{"use strict";r.d(t,{y:()=>c,A:()=>d});var n=r(411855),i=r(188507),a=r(38580),o=r(374626),l=r(33818);let s="show_more--showMoreContainer--5car2";function c({items:e,getShowMoreLabel:t,pageSize:r=4,shouldResetOnSelectionChange:n,dataTestId:i}){let{visibleItems:a,button:o}=u({items:e,getShowMoreLabel:t,getShowLessLabel:null,pageSize:r,shouldResetOnSelectionChange:n,dataTestId:i});return{visibleItems:a,showMoreButton:o}}function d({items:e,getShowMoreLabel:t,getShowLessLabel:r,pageSize:n=4,shouldResetOnSelectionChange:i,stateStorageAtom:a,dataTestId:o}){let{visibleItems:l,button:s}=u({items:e,getShowMoreLabel:t,getShowLessLabel:r,pageSize:n,shouldResetOnSelectionChange:i,stateStorageAtom:a,dataTestId:o});return{visibleItems:l,showMoreOrLessButton:s}}function u({items:e,getShowMoreLabel:t,getShowLessLabel:r,pageSize:c=4,shouldResetOnSelectionChange:d,stateStorageAtom:u,dataTestId:p}){let m=(0,i.d4)(e=>e.mirror.sceneGraphSelection),_=n.useMemo(()=>(0,a.eU)(!1),[]),[h,g]=(0,o.fp)(u||_),f=Math.max(e.length,c),E=Math.min(c,e.length),[y,b]=n.useState(h?f:E),v=e.length,I=n.useMemo(()=>e.slice(0,Math.min(v,y)),[y,e,v]),T=n.useMemo(()=>h&&!0,[h,!0]);n.useEffect(()=>{d&&b(T?v:c)},[c,v,m,b,d,T,!0]);let S=n.useCallback(()=>{g(!0),b(v)},[b,v,g]),w=n.useCallback(()=>{g(!1),b(c)},[b,c,g]),A=v-I.length,C=I.length-c;return{visibleItems:I,button:n.useMemo(()=>{if(T){let e=n.createElement("div",{className:s},n.createElement(l.b,{label:r?r(C):"",onClick:w,dataTestId:p}));return C>0?e:null}{let e=n.createElement("div",{className:s},n.createElement(l.d,{label:t(A),onClick:S,dataTestId:p}));return A>0?e:null}},[T,!0,t,r,C,A,w,S,p])}}},271779:(e,t,r)=>{"use strict";r.d(t,{C:()=>s,i:()=>c});var n=r(411855),i=r(629019),a=r.n(i),o=r(503537),l=r(762638),s=(e=>(e.Block="block",e.DeprecatedFullHeightBlock="fullHeightBlock",e.Contents="contents",e))(s||{});class c extends n.Component{constructor(){super(...arguments),this.containerRef=n.createRef(),this.traverseChildren=()=>{this.firstTabbableEl=void 0,this.lastTabbableEl=void 0;let e=t=>{var r;for(let r of((0,o.B)(t)&&((!this.firstTabbableEl||t.tabIndex<this.firstTabbableEl.tabIndex)&&(this.firstTabbableEl=t),(!this.lastTabbableEl||t.tabIndex>=this.lastTabbableEl.tabIndex)&&(this.lastTabbableEl=t)),Array.from(t.children)))e(r);for(let n of Array.from((null==(r=t.shadowRoot)?void 0:r.children)||[]))e(n)};e(this.containerRef.current)},this.onFrontGuardFocus=e=>{this.traverseChildren();let t=this.containerRef.current.contains(e.relatedTarget)?this.lastTabbableEl:this.firstTabbableEl;this.focusElement(t)},this.onBackGuardFocus=()=>{this.traverseChildren(),this.focusElement(this.firstTabbableEl)}}focusElement(e){e&&setTimeout(()=>{var t;e.focus(),null==(t=e.select)||t.call(e)},0)}render(){let e=a()(this.props.className,{[l.cx.hFull.$]:"fullHeightBlock"===this.props.displayAs,displayContents:"contents"===this.props.displayAs});return n.createElement("div",{className:e,style:this.props.style},n.createElement("div",{"aria-hidden":"true",tabIndex:0,onFocus:this.onFrontGuardFocus}),n.createElement("div",{className:e,ref:this.containerRef},this.props.children),n.createElement("div",{"aria-hidden":"true",tabIndex:0,onFocus:this.onBackGuardFocus}))}}c.defaultProps={displayAs:"contents"},c.displayName="TabLoop"},221364:(e,t,r)=>{"use strict";r.d(t,{Vz:()=>h,tv:()=>m,yT:()=>_});var n=r(411855),i=r(629019),a=r.n(i),o=r(574176),l=r(762638),s=r(959232),c=r(498606),d=r(602244),u=r(986312),p=r(383234);function m({backgroundColor:e,forceLightMode:t,settings:r,listView:i,pinned:o,fillContainer:s,disabled:u,tooltipText:p,loading:m}){let{url:_,fullWidth:g,isLocked:f}=r,E=s?l.cx.hFull.wFull.$:i?"slightly-larger"===i?d.h5:d._O:o?void 0:d.CK,y=a()(E,{[d.H_]:u,[d.h3]:!0,[d.FC]:m});return n.createElement("div",{className:y,"data-tooltip-type":p?c.Ib.TEXT:void 0,"data-tooltip":p,"data-tooltip-show-immediately":!!p},n.createElement(h,{backgroundColor:e,forceLightMode:t,thumbnail_url:_,additionalClassName:s?l.cx.hFull.wFull.$:d.Sl,fillContainer:s,listView:!!i,fullWidth:g,isLocked:f}))}function _(e){return n.createElement("div",{className:a()({[u.y0]:!0,[e.additionalClassName||""]:!!e.additionalClassName})},n.createElement(o.B,{className:a()({[u.Fu]:!0,[e.iconClassName||""]:!!e.iconClassName}),svg:p.A}))}function h(e){let t=e.forceLightMode,r=e.backgroundColor,i=!e.isLocked&&!t;return n.createElement("div",{className:a()({[e.additionalClassName||""]:!!e.additionalClassName,[u.h3]:!0,[u.ZU]:e.isPreview,[u.Bq]:e.isLocked,[u.ZI]:e.isLocked&&e.listView}),style:i?{background:`url(${(0,s.A)()})`}:{}},n.createElement("div",{className:a()({[u.iT]:!t,[u.XS]:t}),style:i?{backgroundColor:r}:{}},n.createElement("div",{className:a()(l.cx.flex.itemsCenter.justifyCenter.$,e.fullWidth?u.wn:e.fillContainer?l.cx.wFull.hFull.$:e.listView?u.Vh:u.xn)},!!e.thumbnail_url&&!e.isLocked&&n.createElement("img",{className:e.fullWidth?u.Ln:e.listView?u.hp:u.cq,src:e.thumbnail_url,alt:"file thumbnail",loading:"lazy",draggable:"false"}),e.isLocked&&n.createElement(_,{additionalClassName:t?u.Hg:u.lF}))))}},752207:(e,t,r)=>{"use strict";r.d(t,{G:()=>d});var n=r(411855),i=r(629019),a=r.n(i),o=r(255942),l=r(219101),s=r(947131),c=r(163771);let d=n.forwardRef(function({text:e,className:t,showTooltip:r=s.i.WHEN_TRUNCATED,truncate:i="end"},d){let u=n.useRef(null),p=(0,s.m)(e,r,u);return n.createElement("div",{ref:(0,o.A)(d,u),className:a()({[c.bb]:"start"===i},c.zr,t),"aria-label":e,...p},n.createElement(l.e,{condition:"start"===i,wrapper:e=>n.createElement("span",{className:c.Pf},e)},n.createElement(n.Fragment,null,e)))})},979441:(e,t,r)=>{"use strict";r.d(t,{T:()=>d});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(964881),s=r(617453),c=r(100197);function d({side:e}){let t=(0,c.J2)((0,s.UK)().renderRulers),r=(0,l.l7)(),a=(0,i.d4)(e=>"fullscreen"===e.selectedView.view&&!!e.selectedView.devModeFocusId);return t||r||a?null:n.createElement("div",{className:o()("panel_background_gradient--gradient--xXM2u",{"panel_background_gradient--left--MwVhL":"left"===e,"panel_background_gradient--right--h-8ut":"right"===e})})}},378958:(e,t,r)=>{"use strict";r.d(t,{f:()=>_,v:()=>p});var n=r(411855),i=r(640783),a=r(800576),o=r(939863),l=r(691205),s=r(781294),c=r(574176);let d="link_favicon--favicon--jk134";var u=r(681109);function p({url:e}){let[t]=(0,l.IT)(m(e)),[r,s]=n.useState(null);if(n.useEffect(()=>{"loaded"===t.status&&t.data&&s(URL.createObjectURL(new Blob([new Uint8Array(t.data)],{type:"image/png"})))},[t.data,t.status]),e&&"github"===(0,i.Gw)(e))return _();let p=e&&(0,i.FB)(e);return(null==p?void 0:p.toLowerCase())==="jira.com"||(null==p?void 0:p.toLowerCase())==="atlassian.net"?n.createElement("img",{alt:(0,o.t)("design_systems.component_panel.favicon_alt",{hostName:(0,a.Kf)(e)}),className:d,src:"https://static.figma.com/uploads/aae0db2814117595e45cc509d52e79e7cc31333c"}):(null==p?void 0:p.toLowerCase())==="chromatic.com"?n.createElement("img",{alt:(0,o.t)("design_systems.component_panel.favicon_alt",{hostName:(0,a.Kf)(e)}),className:d,src:"https://static.figma.com/uploads/ae3807b6d650b52da20879078b85a0df23ee056a"}):"loading"===t.status?n.createElement("div",{className:"link_favicon--faviconLoadingPlaceholder--uJ-Kf"}):r?n.createElement("img",{alt:(0,o.t)("design_systems.component_panel.favicon_alt",{hostName:(0,a.Kf)(e)}),className:d,src:r}):n.createElement(c.B,{svg:u.A,className:"link_favicon--faviconPlaceholder--CFVEV"})}let m=l.M4.Query({fetch:async e=>e?(await s.$.getFaviconForUrlProxy({url:(0,a.Jk)(e)})).data.meta??null:null});function _(){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.97616 0.163086C3.56555 0.163086 0 3.75492 0 8.19851C0 11.7505 2.28457 14.7572 5.45388 15.8214C5.85012 15.9014 5.99527 15.6485 5.99527 15.4357C5.99527 15.2495 5.9822 14.6109 5.9822 13.9456C3.76343 14.4246 3.30139 12.9877 3.30139 12.9877C2.94482 12.0565 2.41649 11.8171 2.41649 11.8171C1.69029 11.3249 2.46939 11.3249 2.46939 11.3249C3.27494 11.3781 3.69763 12.1497 3.69763 12.1497C4.41061 13.3735 5.55951 13.0277 6.02171 12.8148C6.08767 12.296 6.2991 11.9368 6.52359 11.7373C4.75396 11.551 2.89208 10.8592 2.89208 7.77272C2.89208 6.89468 3.20882 6.17631 3.71069 5.61762C3.63151 5.41811 3.35412 4.59313 3.79004 3.48896C3.79004 3.48896 4.46351 3.27607 5.98204 4.31378C6.63218 4.13789 7.30265 4.04841 7.97616 4.04766C8.64963 4.04766 9.33616 4.14088 9.97012 4.31378C11.4888 3.27607 12.1623 3.48896 12.1623 3.48896C12.5982 4.59313 12.3207 5.41811 12.2415 5.61762C12.7566 6.17631 13.0602 6.89468 13.0602 7.77272C13.0602 10.8592 11.1984 11.5376 9.41551 11.7373C9.70612 11.99 9.9569 12.4689 9.9569 13.2272C9.9569 14.3048 9.94384 15.1696 9.94384 15.4356C9.94384 15.6485 10.0891 15.9014 10.4852 15.8215C13.6545 14.757 15.9391 11.7505 15.9391 8.19851C15.9522 3.75492 12.3736 0.163086 7.97616 0.163086Z",fill:"#24292f",style:{fill:"var(--color-icon)"}}))}},298365:(e,t,r)=>{"use strict";r.d(t,{n:()=>l});var n=r(411855),i=r(181912),a=r(178466),o=r(498606);function l(e){let t=function(e,t=(0,a.Gq)().getPrimaryLocale(!1)){return new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).format(i.A.utc(e).toDate())}(e.date,e.locale);return n.createElement("span",{"data-tooltip-type":o.Ib.TEXT,"data-tooltip":t},e.children)}},427472:(e,t,r)=>{"use strict";r.d(t,{Sz:()=>S,ZQ:()=>I,aJ:()=>T});var n=r(411855),i=r(629019),a=r.n(i),o=r(560945),l=r(966712),s=r(646240),c=r(374626),d=r(563706),u=r(946689),p=r(574176),m=r(939863),_=r(101505),h=r(672517),g=r(988022),f=r(111538),E=r(916058),y=r(909595),b=r(108545);function v(e){let[t,r]=n.useState(e.showBanner),{trackEvent:i}=(0,h.j6)(),l=n.useRef(null),c=(0,s.Xr)(f.P4),d=(0,o.w)(l)??o.c,E=t?d.height+(e.verticalPadding||0):0;n.useEffect(()=>{c(E)},[E,c]);let v=async()=>{r(!1),await (0,f.L3)({consentRegion:"explicit",cookiesEnabled:!1}),i(g.Ws,{trackingDescriptor:_.c.COOKIE_BANNER_EXPLICIT_CONSENT_OPT_OUT})},I=async()=>{r(!1),await (0,f.L3)({consentRegion:"explicit",cookiesEnabled:!0}),i(g.Ws,{trackingDescriptor:_.c.COOKIE_BANNER_EXPLICIT_CONSENT_OPT_IN})},T=async()=>{r(!1),await (0,f.L3)({consentRegion:"explicit",cookiesEnabled:!1}),i(g.Ws,{trackingDescriptor:_.c.COOKIE_BANNER_EXPLICIT_CONSENT_DISMISS})};return t?n.createElement("div",{className:a()(b.kL,e.variant===y.a.COMMUNITY&&[b.gC,b.Vt],e.variant===y.a.FILE_VIEWER&&b.ut,e.variant===y.a.PROTOTYPE&&b.Id,e.variant===y.a.AUTH&&[b.gC,b.Yp]),role:"region",ref:l,"aria-label":(0,m.t)("cookies.consent_manager"),"data-testid":"cookie-banner"},n.createElement("div",{className:b.rf},n.createElement(m.Tx,{id:"cookies.explicit_consent_body"})," ",n.createElement(u.Yo,{href:S(),target:"_blank",rel:"noreferrer"},n.createElement(m.Tx,{id:"cookies.cookies_settings"}))),n.createElement("div",{className:b.o1},n.createElement(e.SecondaryButton,{onClick:v,"data-testid":"cookie-opt-out-button"},n.createElement(m.Tx,{id:"cookies.do_not_allow_cookies"})),n.createElement(e.PrimaryButton,{onClick:I,"data-testid":"cookie-opt-in-button"},n.createElement(m.Tx,{id:"cookies.allow_all_cookies"}))),n.createElement("div",{className:b.X8},n.createElement("button",{onClick:T,type:"button","data-testid":"cookie-dismiss-button"},n.createElement(p.B,{className:b.MW,svg:e.dismissIcon})))):e.persistentMessage&&n.createElement(h.fu,{name:"Cookie Banner Persistent Message"},e.persistentMessage)||null}function I(e){var t;let r=(0,c.md)(f.Dr),i=!1;return(r===f.S6.UNLOADED&&(i=!0),r!==f.S6.YES||e.persistentMessage||(i=!0),(0,E.V)()&&(i=!0),(null==(t=(0,l.Ay)().user_data)?void 0:t.id)&&(i=!0),(0,l.Ay)().is_embed&&(i=!0),d.Ay.isMeetDevice&&(i=!0),n.useEffect(()=>{!i&&d.Ay.isIpadNative&&(0,f.L3)({consentRegion:"explicit",cookiesEnabled:!1})},[i]),i||d.Ay.isIpadNative)?null:n.createElement(h.fu,{name:"Cookie Banner",properties:{consentRegion:"explicit"}},n.createElement(v,{...e,showBanner:r===f.S6.NO}))}function T(){return(0,m.t)("cookies.manage_cookies_opt_out")}function S(){return(0,m.dS)("/consent-preferences/")}},802755:(e,t,r)=>{"use strict";r.d(t,{C$:()=>v,Ml:()=>I,e2:()=>T});var n=r(411855),i=r(629019),a=r.n(i),o=r(560945),l=r(966712),s=r(646240),c=r(374626),d=r(563706),u=r(946689),p=r(574176),m=r(101505),_=r(672517),h=r(988022),g=r(111538),f=r(916058),E=r(909595),y=r(108545);function b(e){let[t,r]=n.useState(e.showBanner),[i,l]=n.useState(!1),c=n.useRef(null),d=n.useRef(),f=(0,s.Xr)(g.P4),b=(0,o.w)(c)??o.c,v=t?b.height+(e.verticalPadding||0):0;n.useEffect(()=>{f(v)},[v,f]);let{trackEvent:I}=(0,_.j6)(),T=n.useRef(I);T.current=I,n.useEffect(()=>()=>{clearTimeout(d.current)},[]);let S=n.useCallback(e=>{var n;(null==(n=c.current)?void 0:n.contains(e.target))||(l(!0),window.removeEventListener("click",S),d.current=setTimeout(async()=>{if(!t)return null;r(!1),await (0,g.L3)({consentRegion:"implicit",cookiesEnabled:!0}),T.current(h.Ws,{trackingDescriptor:m.c.COOKIE_BANNER_IMPLICIT_CONSENT_DISMISS})},1e4))},[t]),w=n.useCallback(async()=>{clearTimeout(d.current),i&&(await (0,g.L3)({consentRegion:"implicit",cookiesEnabled:!0}),T.current(h.Ws,{trackingDescriptor:m.c.COOKIE_BANNER_IMPLICIT_CONSENT_DISMISS}))},[i]);n.useEffect(()=>{if(t)return window.addEventListener("click",S),window.addEventListener("beforeunload",w),()=>{window.removeEventListener("beforeunload",w),window.removeEventListener("click",S)}},[t,S,w]);let A=async()=>{r(!1),window.removeEventListener("click",S),await (0,g.L3)({consentRegion:"implicit",cookiesEnabled:!1}),T.current(h.Ws,{trackingDescriptor:m.c.COOKIE_BANNER_IMPLICIT_CONSENT_OPT_OUT})},C=async()=>{r(!1),window.removeEventListener("click",S),await (0,g.L3)({consentRegion:"implicit",cookiesEnabled:!0}),T.current(h.Ws,{trackingDescriptor:m.c.COOKIE_BANNER_IMPLICIT_CONSENT_DISMISS})};return t?n.createElement("div",{className:a()(y.kL,e.variant===E.a.COMMUNITY&&[y.gC,y.Vt],e.variant===E.a.FILE_VIEWER&&y.ut,e.variant===E.a.PROTOTYPE&&y.Id,e.variant===E.a.AUTH&&[y.gC,y.Yp]),role:"region","aria-label":"Consent Manager",ref:c,"data-testid":"cookie-banner"},n.createElement("div",{className:y.rf},"This website uses cookies, pixel tags, and local storage for performance, personalization, and marketing purposes. Our use of some cookies may be considered a sale, sharing for behavioral advertising, or targeted advertising. For more, see our"," ",n.createElement(u.Yo,{rel:"noopener",target:"_blank",href:"/privacy/"},"privacy policy"),". ",n.createElement("b",null,"California Residents")," can learn how personal information is"," ",n.createElement(u.Yo,{href:"/privacy/#ca-notice",rel:"noopener",target:"_blank"},"collected"),", including how it is"," ",n.createElement(u.Yo,{href:"/privacy/#purpose",rel:"noopener",target:"_blank"},"used"),", whether it is"," ",n.createElement(u.Yo,{href:"/privacy/#ca-notice",rel:"noopener",target:"_blank"},"\u201Csold\u201D or \u201Cshared\u201D"),", and how long it is"," ",n.createElement(u.Yo,{href:"/privacy/#retention",rel:"noopener",target:"_blank"},"retained"),"."),n.createElement("div",{className:y.o1},n.createElement(e.SecondaryButton,{onClick:A,"data-testid":"cookie-opt-out-button"},"Opt out")),n.createElement("div",{className:y.X8},n.createElement("button",{onClick:C,type:"button","data-testid":"cookie-dismiss-button"},n.createElement(p.B,{className:y.MW,svg:e.dismissIcon})))):e.persistentMessage&&n.createElement(_.fu,{name:"Cookie Banner Persistent Message"},e.persistentMessage)||null}function v(e){var t;let r=(0,c.md)(g.Dr),i=!1;return(r===g.S6.UNLOADED&&(i=!0),r!==g.S6.YES||e.persistentMessage||(i=!0),(0,f.V)()&&(i=!0),(null==(t=(0,l.Ay)().user_data)?void 0:t.id)&&(i=!0),(0,l.Ay)().is_embed&&(i=!0),d.Ay.isMeetDevice&&(i=!0),n.useEffect(()=>{!i&&d.Ay.isIpadNative&&(0,g.L3)({consentRegion:"explicit",cookiesEnabled:!1})},[i]),i||d.Ay.isIpadNative)?null:n.createElement(_.fu,{name:"Cookie Banner",properties:{consentRegion:"implicit"}},n.createElement(b,{...e,showBanner:r===g.S6.NO}))}let I="Do not sell or share my personal info",T="/opt-out/"},987918:(e,t,r)=>{"use strict";r.d(t,{AD:()=>i,EP:()=>o,Hr:()=>n,Xy:()=>l,aI:()=>c,dI:()=>d,fn:()=>s,sH:()=>u,x7:()=>a});let n={sessionID:-1,localID:-1},i="-1:-1",a="[-1:-1]",o=["-1:-1"],l="0:0";function s(e){return!!e&&(0|e.localID)>=0&&(0|e.sessionID)>=0}function c(e,t){return e&&t?e.sessionID===t.sessionID&&e.localID===t.localID:e===t}function d(e){return e?`${0|e.sessionID}:${0|e.localID}`:null}function u(e){if(!e)return null;let t=e.split(":");if(!t||2!==t.length)return null;let r=-1,n=-1;try{r=parseInt(t[0]),n=parseInt(t[1])}catch(e){return null}return isFinite(r)&&isFinite(n)?{sessionID:r,localID:n}:null}},239831:(e,t,r)=>{"use strict";r.d(t,{A:()=>p,K:()=>_});var n=r(411855),i=r(115630),a=r(629019),o=r.n(a),l=r(946689),s=r(493323),c=r(574176),d=r(762638),u=r(310435),p=(e=>(e[e.BUTTON=0]="BUTTON",e[e.ICON_BUTTON=1]="ICON_BUTTON",e[e.ICON_TEXT_BUTTON=2]="ICON_TEXT_BUTTON",e[e.CUSTOM=3]="CUSTOM",e[e.CUSTOM_BUTTON=4]="CUSTOM_BUTTON",e))(p||{});function m(e){switch(e.action.kind){case 0:return n.createElement(n.Fragment,null,e.action.displayText);case 1:return n.createElement(c.B,{svg:e.action.icon});case 2:return n.createElement(n.Fragment,null,n.createElement(c.B,{svg:e.action.icon,className:e.action.svgStyleClass,style:{alignSelf:"center",paddingRight:"5px"}}),n.createElement("div",null,e.action.displayText));case 4:return e.action.element;default:return null}}function _(e){if(3===e.action.kind)return n.createElement("div",{className:u.az,key:e.action.key},e.action.element);let t="isLoading"in e.action&&!0===e.action.isLoading,r=n.createElement(l.tM,{key:e.action.key,className:o()(d.cx.flex.itemsCenter.justifyCenter.$,e.action.showOnMobile?null:u.az,e.action.hideOnDesktop?u.i0:null,"styleClass"in e.action?e.action.styleClass:null),"data-tooltip":"data-tooltip"in e.action?e.action["data-tooltip"]:void 0,"data-tooltip-type":"data-tooltip-type"in e.action?e.action["data-tooltip-type"]:void 0,"data-onboarding-key":"data-onboarding-key"in e.action?e.action["data-onboarding-key"]:void 0,dataTestId:"dataTestId"in e.action?e.action.dataTestId:void 0,innerText:"displayText"in e.action?e.action.displayText:void 0,onClick:"onClick"in e.action?e.action.onClick:void 0},t?n.createElement(s.kt,{className:d.cx.px4.$}):n.createElement(m,{action:e.action}));return e.action.editorThemeMode?n.createElement(i.v,{mode:e.action.editorThemeMode},r):r}},258786:(e,t,r)=>{"use strict";r.d(t,{W:()=>a});var n=r(411855),i=r(356390);let a=n.createContext(new class{constructor(){this.singleTapTouchStartListeners={},this.singleTapTouchMoveListeners={},this.singleTapTouchEndListeners={},this.singleTapMouseDownListeners={},this.singleTapMouseUpListeners={},this.tapCallback=null,this.multiTapTouchStartListeners={},this.multiTapTouchEndListeners={},this.multiTapMouseDownListeners={},this.multiTapMouseUpListeners={},this.multiTapCallbacks={},this.multiTouchLongPressTouchStartListeners={},this.multiTouchLongPressTouchMoveListeners={},this.multiTouchLongPressTouchEndListeners={},this.multiTouchLongPressTouchCancelListeners={},this.multiTouchLongPressPointerDownListeners={},this.multiTouchLongPressPointerMoveListeners={},this.multiTouchLongPressPointerUpListeners={},this.multiTouchLongPressPointerCancelListeners={},this.multiTouchLongPressCallbacks=new Map}installTapGestureRecognizer(e,t){let r,n;this.tapCallback=t;let i=e=>{n=Date.now(),r=e},a=()=>{n=void 0,r=void 0},o=()=>{var e;r&&n&&Date.now()-n<500&&(null==(e=this.tapCallback)||e.call(this,r),a())};this.replaceEventListener(e,"touchstart",e=>{1===e.touches.length&&i({x:e.touches[0].screenX,y:e.touches[0].screenY})},this.singleTapTouchStartListeners,1),this.replaceEventListener(e,"touchmove",e=>{if(1===e.touches.length&&r){let t=e.touches[0];this.didMoveTooMuch([{identifier:0,screenX:t.screenX,screenY:t.screenY}],{0:{screenX:r.x,screenY:r.y}},10)&&a()}else a()},this.singleTapTouchMoveListeners,1),this.replaceEventListener(e,"touchend",o,this.singleTapTouchEndListeners,1),this.replaceEventListener(e,"mousedown",e=>{i({x:e.screenX,y:e.screenY})},this.singleTapMouseDownListeners,1),this.replaceEventListener(e,"mouseup",o,this.singleTapMouseUpListeners,1)}updateTapGestureRecognizer(e,t){this.tapCallback?this.tapCallback=t:this.installTapGestureRecognizer(e,t)}uninstallTapGestureRecognizer(e){this.tapCallback&&(this.tapCallback=null,e.removeEventListener("touchstart",this.singleTapTouchStartListeners[1],!0),e.removeEventListener("touchmove",this.singleTapTouchMoveListeners[1],!0),e.removeEventListener("touchend",this.singleTapTouchEndListeners[1],!0),e.removeEventListener("mousedown",this.singleTapMouseDownListeners[1],!0),e.removeEventListener("mouseup",this.singleTapMouseUpListeners[1],!0))}numTapsInRecencyThreshold(e,t){let r=Date.now(),n=0;for(let i=e.length-1;i>=0;i--)if(Math.abs(e[i]-r)<t)n++;else break;return n}installMultiTapGestureRecognizer(e,t,r){this.multiTapCallbacks[t.numTaps]=r;let n=[],i=!1,a=()=>{let e=Date.now();if(n.push(e),i=this.numTapsInRecencyThreshold(n,500)===t.numTaps)n=[];else for(;n.length>t.numTaps;)n.shift()},o=()=>{var e,r;i&&(null==(r=(e=this.multiTapCallbacks)[t.numTaps])||r.call(e),i=!1)};this.replaceEventListener(e,"touchstart",e=>{1===e.touches.length&&a()},this.multiTapTouchStartListeners,t.numTaps),this.replaceEventListener(e,"touchend",o,this.multiTapTouchEndListeners,t.numTaps),this.replaceEventListener(e,"mousedown",a,this.multiTapMouseDownListeners,t.numTaps),this.replaceEventListener(e,"mouseup",o,this.multiTapMouseUpListeners,t.numTaps)}updateMultiTapGestureRecognizer(e,t,r){this.multiTapCallbacks[t.numTaps]?this.multiTapCallbacks[t.numTaps]=r:this.installMultiTapGestureRecognizer(e,t,r)}installMultiTouchLongPressGestureRecognizer(e,t,r){this.multiTouchLongPressCallbacks.set(r,t);let n=null,a=null,o=e=>{if(null==a){for(let t of(a={},e))a[t.identifier]={screenX:t.screenX,screenY:t.screenY};n=setTimeout(()=>{var t;let n;1===e.length&&(n={x:e[0].screenX,y:e[0].screenY}),null==(t=this.multiTouchLongPressCallbacks.get(r))||t(n),i.Y5&&i.Y5.cancelPendingGestures&&i.Y5.cancelPendingGestures()},500)}},l=()=>{null!=n&&(clearTimeout(n),n=null,a=null)},s=e=>{e.length===r&&a?this.didMoveTooMuch(e,a,10)&&l():l()};this.replaceEventListener(e,"touchstart",e=>{e.touches.length===r?o(e.touches):l()},this.multiTouchLongPressTouchStartListeners,r),this.replaceEventListener(e,"touchmove",e=>s(e.touches),this.multiTouchLongPressTouchMoveListeners,r),this.replaceEventListener(e,"touchend",l,this.multiTouchLongPressTouchEndListeners,r),this.replaceEventListener(e,"touchcancel",l,this.multiTouchLongPressTouchCancelListeners,r),this.replaceEventListener(e,"pointerdown",e=>{1===r&&"touch"!==e.pointerType?o([{identifier:e.pointerId,screenX:e.screenX,screenY:e.screenY}]):l()},this.multiTouchLongPressPointerDownListeners,r),this.replaceEventListener(e,"pointermove",e=>{"touch"!==e.pointerType&&s([{identifier:e.pointerId,screenX:e.screenX,screenY:e.screenY}])},this.multiTouchLongPressPointerMoveListeners,r),this.replaceEventListener(e,"pointerup",l,this.multiTouchLongPressPointerUpListeners,r),this.replaceEventListener(e,"pointercancel",l,this.multiTouchLongPressPointerCancelListeners,r)}updateMultiTouchLongPressGestureRecognizer(e,t,r){this.multiTouchLongPressCallbacks.has(r)?this.multiTouchLongPressCallbacks.set(r,t):this.installMultiTouchLongPressGestureRecognizer(e,t,r)}uninstallMultiTouchLongPressGestureRecognizer(e,t){this.multiTouchLongPressCallbacks.has(t)&&(this.multiTouchLongPressCallbacks.delete(t),e.removeEventListener("touchstart",this.multiTouchLongPressTouchStartListeners[t],!0),e.removeEventListener("touchmove",this.multiTouchLongPressTouchMoveListeners[t],!0),e.removeEventListener("touchend",this.multiTouchLongPressTouchEndListeners[t],!0),e.removeEventListener("touchcancel",this.multiTouchLongPressTouchCancelListeners[t],!0),e.removeEventListener("pointerdown",this.multiTouchLongPressPointerDownListeners[t],!0),e.removeEventListener("pointermove",this.multiTouchLongPressPointerMoveListeners[t],!0),e.removeEventListener("pointerup",this.multiTouchLongPressPointerUpListeners[t],!0),e.removeEventListener("pointercancel",this.multiTouchLongPressPointerCancelListeners[t],!0))}replaceEventListener(e,t,r,n,i){n[i]&&e.removeEventListener(t,n[i],!0),n[i]=r,e.addEventListener(t,n[i],!0)}didMoveTooMuch(e,t,r){for(let n of e){let e=t[n.identifier];if(void 0===e||Math.hypot(e.screenX-n.screenX,e.screenY-n.screenY)>r)return!0}return!1}})},764257:(e,t,r)=>{"use strict";r.d(t,{IU:()=>n,Vl:()=>i,bC:()=>o,nJ:()=>a});let n=function(){return!1},i=function(){return!1},a=function(){return!1},o=function(){return!1}},664788:(e,t,r)=>{"use strict";function n(){return null}r.d(t,{$h:()=>o,Ah:()=>l,FN:()=>a,KH:()=>d,R1:()=>p,Xw:()=>s,cR:()=>c,fi:()=>_,rJ:()=>h,tL:()=>m,zD:()=>u});let i=(0,r(38580).eU)({}),a=n,o=n,l=n,s=i,c=n,d=n,u=n,p=n,m=n,_=n,h=null},476710:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});let n=function(){return!1}},509720:(e,t,r)=>{"use strict";r.d(t,{P2:()=>n,oY:()=>i,po:()=>o,rY:()=>a});let n=function(){return!1},i=function(){return""},a=function(){return[]},o=function(){return e=>{}}},142403:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});let n=()=>!1},983958:(e,t,r)=>{"use strict";r.d(t,{J:()=>n,Q:()=>i});let n=function(){return null},i=0},667528:(e,t,r)=>{"use strict";r.d(t,{Dl:()=>m,F4:()=>l,UM:()=>s,Vf:()=>o,_g:()=>c,fq:()=>u,ke:()=>p,r:()=>d});var n=r(38580),i=r(860601);let a=(0,n.eU)("CLEARED"),o=null,l=null,s=null,c=a,d=function(){return{publishState:"CLEARED",publishInProgress:!1}},u=function(){return[]},p=null,m=i.lQ},126674:(e,t,r)=>{"use strict";r.d(t,{DG:()=>x,Kc:()=>P,OQ:()=>k,Zp:()=>L,dy:()=>M,in:()=>B,lM:()=>U,rS:()=>D});var n=r(411855),i=r(188507),a=r(841563),o=r.n(a),l=r(776250);r(794272);var s=r(349894),c=r(547807),d=r(67833),u=r(970516),p=r(944682),m=r(507877),_=r(6949),h=r(763223),g=r(654034);r(697551);var f=r(912924);r(411916);var E=r(112235),y=r(29680),b=r(132135),v=r(99506),I=r(691205),T=r(549774),S=r(463592),w=r(440535),A=r(103271),C=r(588282),N=r(406158),O=r(563288),L=(e=>(e.TILE="tile",e.DETAIL_MODAL="detail",e))(L||{});function R(e,t){return e.org_id===t&&e.permission!==v._D.GUEST}function P(e,t){let r=`${location.origin}/files/${e}/feed-posts`;return(null==t?void 0:t.tab)?r+=`/${t.tab}`:(null==t?void 0:t.hashtag)&&(r+=`/t/${t.hashtag}`),(null==t?void 0:t.uuid)&&(r+=`/${t.uuid}`),r}function k({fileVersionId:e,fileKey:t,startingNodeId:r},n){let i=(0,T.lD)({startingPointNodeId:r,versionId:e});i["redirect-src"]="feed",Object.assign(i,n);let a=Object.entries(i).map(([e,t])=>`${e}=${t}`).join("&");return`${location.origin}/proto/${t}?${a}`}function D(e,t,r){let a=(0,i.wA)(),o=t.find(e=>e.type===A.cM.NODE||e.type===A.cM.PROTOTYPE),s=(o?o.fileKey:void 0)||r;n.useEffect(()=>{a(p.ZN({file_key:s??void 0}))},[a,s]);let c=I.M4.useFile(s).data,u=(0,E.p)(),_=n.useMemo(()=>c&&o&&o.type===A.cM.PROTOTYPE?d.y1.PROTOTYPE:c?u(c):void 0,[c,o,u]),h=c&&void 0!==_;return{fileData:c,fileIcon:_,fileLoaded:h,openFile:n.useCallback(()=>{if((0,l.sx)("Team Feed File Clicked",{postUuid:e}),o){if(o.type===A.cM.NODE){let t=(0,b.jN)({file:{key:o.fileKey},commentId:(0,C.iw)(e)});a(m.V3({url:t}))}else o.type===A.cM.PROTOTYPE&&a(m.V3({url:k(o)}))}if(s){let e=(0,b.jN)({file:{key:s}});a(m.V3({url:e}))}},[a,o,e,s])}}var M=(e=>(e.TILE="tile",e.DETAIL="detail",e))(M||{});function x(e,t){let r=(0,i.wA)();return n.useCallback(()=>{(0,l.sx)("Team Feed Copy Link Clicked",{postUuid:e,source:t}),r(u.le({view:"teamFeed",postUuid:e}))},[r,e,t])}let F=(0,c.vh)();function U(e){let[t]=n.useState(()=>new S.KH({keys:[{name:"text",weight:1}],caseSensitive:!1,shouldSort:!0,threshold:.3}));return n.useEffect(()=>{F.validate(async({xr:t})=>await t.get(`/api/feed_tags/${e}`)).then(e=>{t.set(e.data.meta)})},[t,e]),t}function B(e,t,r,i){let[a,c]=n.useState({}),[d,u]=n.useState({}),p=(0,y.eY)(),m=(0,_.a9)();return n.useEffect(()=>{if(e.errors&&e.errors.length){let t=JSON.stringify(e.errors.map(e=>{var t;return{code:e.code,path:e.path,message:(null==(t=e.error)?void 0:t.message)||""}}));console.error(`Failed to load feed posts: ${t}`),(0,l.sx)("Livegraph Feed Post Comments Errors",{errors:t})}},[e.errors]),n.useMemo(()=>{if((0,h.y)()&&"loaded"===e.status&&e.data.file&&(null==p?void 0:p.get)){let t=e.data.file.feedPosts,n=t.filter(e=>!!e.org&&!!m&&R(m,e.org.id)),l=(0,f.N)(n),s=r(l);Object.entries(s).every(([e,t])=>null===a[e]&&null===t||!!a[e]&&!!t&&a[e]===t)||c(s);let _=i(l,null==p?void 0:p.get.bind(p),t);Object.entries(_).every(([e,t])=>{let r=d[e];return!!r&&o()(r,t)})||u(_)}},[e,r,p,a,d,i,m]),n.useMemo(()=>m?function(e,t,r,n,i){var a;if("loaded"!==e.status)return e;if(!e.data.file)return(0,s.gB)([]);let o={},l=((null==(a=e.data.file)?void 0:a.feedPosts)||[]).sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()).filter(e=>!!e.org&&R(i,e.org.id)).map(e=>{var i,a;let l=e.comments.map(e=>({id:`feed_comment_${e.id}`,uuid:e.uuid,key:"",parent_id:null,user_id:e.user.id,created_at:e.createdAt.toISOString(),resolved_at:null,deleted_at:null,message_meta:(0,g.o8)(e.messageMeta),client_meta:null,order_id:null,isUnread:!1,isPendingFromSinatra:!1,user:(0,g.CR)(e.user),feed_id:e.id,attachments:e.attachments})),[s,...c]=(0,f.N)([e]);o[s]=o[s]+1||0;let d=r[s]??null,u=null==(i=n[e.publicUuid])?void 0:i[s],p={};for(let t of c)r[t]===d&&(p[t]=null==(a=n[e.publicUuid])?void 0:a[t]);let m=null,_=null;u&&(_={x:u.x+u.width,y:u.y},m={x:u.x,y:u.y+u.height});let h=(0,g.CR)(e.creator),E=(0,C.iw)(e.publicUuid),y=e.content.map(e=>JSON.parse(e)),{thumbnail:b,padImage:v,thumbnailBackground:I}=(0,N.i0)(y,e.backgroundColor??void 0);return{id:E,uuid:"",key:e.fileKey||"",anchored:!1,selectionAnchorCanvasPosition:null,page:d,pageName:null,isActive:t===E,isPendingFromSinatra:!1,canvasPosition:_,boundingBoxAnchorCanvasPosition:m,comments:[{id:E,uuid:"",key:e.fileKey||"",parent_id:null,user_id:h.id,created_at:e.createdAt.toISOString(),resolved_at:null,deleted_at:null,message_meta:(0,g.o8)(e.descriptionMeta),client_meta:null,order_id:null,isUnread:!1,isPendingFromSinatra:!1,user:h,feed_id:e.id},...l],messageMeta:[],attachments:[],isCanvasMention:!1,sidebarItemType:w.kT.FEED_POST,feedPostPublicUuid:e.publicUuid,feedPostTitle:e.title,feedPostThumbnail:b,feedPostThumbnailBackground:I,feedPostNumContent:e.content.length,feedPostContainerInfo:(0,O.e3)(e),padFeedPostThumbnail:v,otherBoundingBoxes:p,pinVerticalStagger:o[s]}});return(0,s.gB)(l)}(e,t,a,d,m):(0,s.gB)([]),[e,t,a,d,m])}},679736:(e,t,r)=>{"use strict";r.d(t,{M2:()=>E,My:()=>h,lt:()=>_,t1:()=>f});var n=r(411855),i=r(503457),a=r(493323),o=r(939863),l=r(501114),s=r(694687),c=r(237870),d=r(585878),u=r(49218),p=r(299264);let m=p.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(3630),r.e(4170),r.e(5099)]).then(r.bind(r,740645)).then(e=>e.CreateFeedPostModal),{loading:function(){let e=(0,s.sZ)(),t=((null==e?void 0:e.name)&&n.createElement(o.Tx,{id:"fig_feed.post_to_org_feed",orgName:e.name}))??n.createElement(o.Tx,{id:"fig_feed.post_to_feed"});return n.createElement(d.XV,{title:t,maxWidth:u.Fo},n.createElement("div",{style:l.sx.add({height:"675px"}).$},n.createElement(a.nt,null)))},error:i.H4.NONE,componentName:"CreateFeedPostModal"}),_=(0,c.Ju)(m,"CreateFeedPostModal");var h=(e=>(e.CONTEXT_MENU="content_menu",e.SHARE="share",e.FEED_HEADER="feed_header",e))(h||{});let g=p.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(3630),r.e(4170),r.e(5099)]).then(r.bind(r,498792)).then(e=>e.EditFeedPostModal),{loading:function(){return n.createElement(d.XV,{title:n.createElement(o.Tx,{id:"fig_feed.edit_post"}),maxWidth:u.Fo},n.createElement("div",{style:l.sx.add({height:"700px"}).$},n.createElement(a.nt,null)))},error:i.H4.NONE,componentName:"EditFeedPostModal"}),f=(0,c.Ju)(g,"EditFeedPostModal");var E=(e=>(e.FEED="feed",e.FILE="file",e))(E||{})},406158:(e,t,r)=>{"use strict";r.d(t,{AK:()=>A,BO:()=>v,EU:()=>N,Px:()=>y,Rl:()=>I,WI:()=>w,X2:()=>S,i0:()=>C,mz:()=>O,pj:()=>E,zr:()=>T});var n=r(539321),i=r(776250),a=r(935283),o=r(966712),l=r(395900),s=r(1844),c=r(27087),d=r(852800),u=r(204279),p=r(973131),m=r(103271),_=r(988771),h=r(421689);let g="team_feed",f=(e,t,r)=>{let n;let i=new Image;if(i.crossOrigin="anonymous",e.type===m.cM.NODE?n=(0,h.yt)(e.image_url,i).then(async e=>{let n=new Image;if(n.crossOrigin="anonymous",!r)throw Error("Expected a oldNodeImageUrl value");let i=await (0,h.yt)(r,n).then(e=>e.naturalWidth),a=e.naturalWidth/i;return t.state.zoom/=a,(0,h.Bt)(e,t.state)}):e.type===m.cM.IMAGE&&t.url&&(n=Promise.resolve(t.url)),!n)throw Error("Expected a previewImagePromise");return n.then(e=>fetch(e)).then(e=>e.arrayBuffer()).then(e=>{let t=new Uint8Array(e),r=URL.createObjectURL(new Blob([t]));return(0,s.Q)(g,t,"image/jpeg").then(({data:e})=>({data:e,localUrl:r}))}).then(({data:e,localUrl:r})=>({previewImageUrl:e.meta.url,localUrl:r,previewState:t.state}))};async function E(e,t,r,o){let s;if(t.find(e=>e.displayContentItem.type===m.cM.NODE||e.displayContentItem.type===m.cM.PROTOTYPE)){let t=new l.M4;t.start();let n=await (0,p.J)(r,o,"",e);t.stop(),(0,i.sx)("Team Feed New Savepoint Created",{elapsedTimeMs:t.getElapsedTime()}),s=n.id}let c=t.map(e=>{switch(e.displayContentItem.type){case m.cM.NODE:return e.processedContentItem.then(t=>{let r;let a={...t,fileVersionId:s};return e.preview&&(r=new l.M4).start(),(e.preview?f(a,e.preview,e.displayContentItem.image_url):Promise.resolve(void 0)).then(e=>{r&&(r.stop(),(0,i.sx)("Team Feed Preview Uploaded",{elapsedTimeMs:r.getElapsedTime()}));let t=void 0!==e?{...a,preview_image_url:e.previewImageUrl,backgroundColor:(0,n.colorToHex)(e.previewState.backgroundColor),initialX:e.previewState.x,initialY:e.previewState.y,initialZoom:e.previewState.zoom}:a;return(0,m.hM)(t)})});case m.cM.IMAGE:return e.processedContentItem.then(t=>{let r;return e.preview&&(r=new l.M4).start(),(e.preview?f(t,e.preview):Promise.resolve(void 0)).then(e=>{r&&(r.stop(),(0,i.sx)("Team Feed Preview Uploaded",{elapsedTimeMs:r.getElapsedTime()}));let a=void 0!==e?{...t,preview_image_url:e.previewImageUrl,backgroundColor:(0,n.colorToHex)(e.previewState.backgroundColor),initialX:e.previewState.x,initialY:e.previewState.y,initialZoom:e.previewState.zoom}:t;return(0,m.hM)(a)})});case m.cM.VIDEO:return e.processedContentItem.then(e=>(0,m.hM)(e));case m.cM.PROTOTYPE:return e.processedContentItem.then(e=>(0,m.hM)({...e,fileVersionId:s}));default:(0,a.xb)(e.displayContentItem)}});return await Promise.all(c)}function y(e,t,r){return t.map(t=>{let r={type:m.cM.NODE,fileKey:e,fileVersionId:"",nodeId:t,image_url:"",isLoading:!0};return{displayContentItem:r,processedContentItem:Promise.resolve(r)}})}let b=(e,t,r)=>_.Y.getGenerateImageToken({orgId:r,tokenVersion:"2",fileKey:e}).then(r=>{let n=r.data.meta,i=(0,o.Ay)().api_cdn_url||(0,o.Ay)().api_url;return c.Ay.crossOriginGet(`${i}/v1/images/${e}`,{token:n,scale:h.qc.toString(),ids:t.join(",")})});function v(e){let[t,r]=d.Vzr.generateThumbnailForNode(e,h.Ty.width,h.Ty.height,1,{});return r}async function I(e,t,r,n,a,o){let s;let c=b(e,t,r);if(a)s=t.map(t=>({type:m.cM.NODE,fileKey:e,fileVersionId:"",nodeId:t,image_url:a[t],backgroundColor:o&&o[t]}));else{let r=new l.M4;r.start();let n=t.map(t=>new Promise((r,n)=>{setTimeout(()=>{let n=new Blob([v(t)]),i=URL.createObjectURL(n);r({type:m.cM.NODE,fileKey:e,fileVersionId:"",nodeId:t,image_url:i})},0)}));s=await Promise.all(n),r.stop(),(0,i.sx)("Team Feed Client Node Image Generation",{fileKey:e,nodeIds:t,elapsedTimeMs:r.getElapsedTime()})}return t.map((t,r)=>{let i=c.then(i=>{var a;let o=i.data.images;return{type:m.cM.NODE,fileKey:e,fileVersionId:"",nodeId:t,image_url:o[t],backgroundColor:(null==(a=s[r])?void 0:a.backgroundColor)??n}});return{nodeId:t,displayContentItem:s[r],processedContentItem:i}}).reduce((e,t)=>({...e,[t.nodeId]:t}),{})}function T(e,t){return{displayContentItem:{type:m.cM.IMAGE,...e},processedContentItem:(0,u.rH)(e,g).then(e=>({type:m.cM.IMAGE,...e})),fileIdentifier:t}}function S(e,t,r,n){return{displayContentItem:{type:m.cM.VIDEO,mediaType:e.mediaType,path:e.url,sha:"",videoFileUuid:"",coverImage:""},processedContentItem:(0,u.bu)(e,t,r,g).then(e=>({type:m.cM.VIDEO,...e})),fileIdentifier:n}}function w(e,t){let r={...e,type:m.cM.PROTOTYPE,imageUrl:"",prototypeId:0,fileVersionId:""},n=b(e.fileKey,[e.startingNodeId],t).then(t=>(r.imageUrl=t.data.images[e.startingNodeId],r));return{displayContentItem:r,processedContentItem:n}}function A(e){switch(e.displayContentItem.type){case m.cM.NODE:return;case m.cM.IMAGE:URL.revokeObjectURL(e.displayContentItem.url),e.displayContentItem.preview_image_url&&URL.revokeObjectURL(e.displayContentItem.preview_image_url);return;case m.cM.VIDEO:URL.revokeObjectURL(e.displayContentItem.path);return;case m.cM.PROTOTYPE:return;default:(0,a.xb)(e.displayContentItem)}}function C(e,t){let r=e.find(e=>e.type===m.cM.NODE),n=(null==r?void 0:r.mediumImageUrl)||(null==r?void 0:r.preview_image_url)||(null==r?void 0:r.image_url);if(n)return{thumbnail:n,padImage:!r.preview_image_url,thumbnailBackground:O(r,t)};let i=e.find(e=>e.type===m.cM.PROTOTYPE),a=null==i?void 0:i.imageUrl;if(a)return{thumbnail:a,padImage:!1,thumbnailBackground:O(i,t)};let o=e.find(e=>e.type===m.cM.IMAGE),l=(null==o?void 0:o.mediumImageUrl)||(null==o?void 0:o.preview_image_url)||(null==o?void 0:o.url);if(l)return{thumbnail:l,padImage:!(null==o?void 0:o.preview_image_url),thumbnailBackground:O(o,t)};let s=e.find(e=>e.type===m.cM.VIDEO),c=null==s?void 0:s.coverImage;return c?{thumbnail:c,padImage:!1,thumbnailBackground:O(s,t)}:{thumbnail:"",padImage:!1,thumbnailBackground:O(null,t)}}function N(e){return!!((0,m.aT)(e)&&void 0!==e.initialX&&void 0!==e.initialY&&void 0!==e.initialZoom&&e.backgroundColor)}function O(e,t){return e?(0,m.aT)(e)?"backgroundColor"in e&&e.backgroundColor||t:"black":"var(--color-bg-secondary)"}},966465:(e,t,r)=>{"use strict";r.d(t,{a9:()=>C,$K:()=>b,aH:()=>y,Q6:()=>f});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(939863),s=r(259927),c=r(318812),d=r(498606),u=r(538697),p=r(300587),m=r(465032),_=r(677859),h=r(260378),g=r(30158),f=(e=>(e.ActualSize="Actual Size",e.Default="Default",e.Fit="Fit to Screen",e.FitWidth="Fit Width",e.FillScreen="Fill Screen",e))(f||{});let E={"Actual Size":()=>(0,l.t)("fig_feed.zoom_pan_preset.actual_size"),Default:()=>(0,l.t)("fig_feed.zoom_pan_preset.default"),"Fit to Screen":()=>(0,l.t)("viewer.options_menu.fit_to_screen"),"Fill Screen":()=>(0,l.t)("viewer.options_menu.fill_screen"),"Fit Width":()=>(0,l.t)("viewer.options_menu.fit_width")},y=Object.keys(f),b="Default";class v extends u.l6{}class I extends u.c${}let T={format:e=>e in f?E[f[e]]():(0,l.t)("fig_feed.zoom_pan_preset.custom")};function S({reportWidth:e,inputProps:t}){let r=n.useRef(null),i=t.property;return n.useLayoutEffect(()=>{let t=r.current;return t&&e(i,t.getBoundingClientRect().width),()=>e(i,void 0)},[r,i,e]),n.createElement("div",{className:g.D9,"aria-hidden":!0},n.createElement(u.uQ,{...t,containerClassName:o()(t.containerClassName,g.oO),ref:r}))}function w({reportWidth:e,value:t,optionProps:r}){let i=n.useRef(null);return n.useLayoutEffect(()=>{var r;let n=null==(r=i.current)?void 0:r.getElement();return n&&e(t,n.getBoundingClientRect().width),()=>e(t,void 0)},[i,t,e]),n.createElement("div",{className:g.D9,"aria-hidden":!0},n.createElement(I,{...r,additionalStylesClassName:o()(r.additionalStylesClassName,g.ZS),ref:i}))}function A(e){let[t,r]=n.useState(void 0),[a,o]=n.useState(void 0),u=(0,i.wA)(),p=(0,c.U)(),_=n.useMemo(()=>({inputClassName:"edit_preview_toolbar--input--FPZy0 text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",formatter:T}),[]),h=n.useMemo(()=>n.createElement(m.r,{setMaxWidth:r,render:({reportWidthOfValue:e})=>n.createElement(n.Fragment,null,y.map(t=>n.createElement(S,{key:t,reportWidth:e,inputProps:{..._,property:t}})))}),[_]),g=n.useMemo(()=>n.createElement(m.r,{setMaxWidth:o,render:({reportWidthOfValue:e})=>n.createElement(n.Fragment,null,y.map(t=>n.createElement(w,{key:t,value:t,reportWidth:e,optionProps:{height:32,value:t,formattedValue:T.format(t)}})))}),[]);return n.createElement("div",{className:"edit_preview_toolbar--zoomPanPresetSelectorContainer--45Nn2","data-tooltip-show-above":!0,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":(0,l.t)("fig_feed.zoom_pan_preset.tooltip")},g,h,n.createElement(v,{..._,inputWidth:t,property:e.value,onChange:t=>{e.setZoomPanPreset(t)},chevronClassName:"edit_preview_toolbar--chevron--zjsKc",dropdownClassName:s.Dm,id:`feedZoomPanPresetControl:${e.id}`,blurOnChange:!0,dropdownAlignment:"right",recordingKey:"feedZoomPanPreset",dispatch:u,dropdownShown:p,targetDomNode:document.body,dropdownWidth:a,preventHiddenInput:"always",ariaLabel:(0,l.t)("fig_feed.zoom_pan_preset.tooltip"),role:"combobox"},y.map(e=>n.createElement(I,{key:e,value:e,fullWidth:!0}))))}function C({id:e,backgroundColor:t,setBackgroundColor:r,zoomPanPreset:i,setZoomPanPreset:a,onResetCallback:s,applyToAllCallback:c}){let d=!(i in f);return n.createElement("div",{className:"edit_preview_toolbar--editPreviewToolbar--Gvlyc"},n.createElement(p.ZE,{value:t,onColorChange:r,recordingKey:"teamFeedEditablePreviewBackgroundColorControl",paletteType:"base",buttonCaretType:"down",buttonSize:"small",optionSize:"medium",positionX:()=>0,positionY:(e,t)=>(0,h.T1)(e,t,4),dropperDisabled:!0,inlineButtonTooltip:(0,l.t)("fig_feed.background_color.tooltip"),onlyShowCustomColorPopover:!0}),n.createElement(_.wv,null),n.createElement(A,{id:e,value:i,setZoomPanPreset:a}),!!c&&n.createElement(n.Fragment,null,n.createElement(_.wv,null),n.createElement(_.$n,{tooltip:(0,l.t)("fig_feed.apply_to_all.tooltip"),tooltipMaxWidth:200,caret:"none",onClick:async()=>{await c()},disabled:d,recordingKey:"teamFeedResetPreview"},n.createElement("span",{className:o()({"edit_preview_toolbar--buttonDisabled--hE0Am":d})},(0,l.t)("fig_feed.apply_to_all")))),s&&n.createElement(n.Fragment,null,n.createElement(_.wv,null),n.createElement(_.$n,{tooltip:(0,l.t)("fig_feed.reset.tooltip"),tooltipMaxWidth:200,caret:"none",onClick:s,recordingKey:"teamFeedResetPreview"},n.createElement("span",null,(0,l.t)("fig_feed.reset")))))}},563288:(e,t,r)=>{"use strict";r.d(t,{FD:()=>g,Ti:()=>f,e3:()=>m,lO:()=>h});var n=r(411855),i=r(574176),a=r(939863),o=r(99506),l=r(498606),s=r(787337),c=r(915320),d=r(204702),u=r(466423),p=r(655619);function m(e){var t,r,n,i;let a=e.containerTypeEnum;switch(a){case o.Gr.PROJECT:return{type:a,name:null==(t=e.project)?void 0:t.path};case o.Gr.TEAM:return{type:a,name:null==(r=e.team)?void 0:r.name};case o.Gr.WORKSPACE:return{type:a,name:null==(n=e.workspace)?void 0:n.name};case o.Gr.ORG:return{type:a,name:null==(i=e.org)?void 0:i.name};default:throw Error(`Unexpected container type ${a}`)}}let _={ORG:d.A,WORKSPACE:p.A,TEAM:u.A,PROJECT:c.A,SECRET_TEAM:s.A};function h(e){let{type:t,name:r}=e.containerInfo,s=function(e){switch(e){case o.Gr.PROJECT:return _.PROJECT;case o.Gr.TEAM:return _.TEAM;case o.Gr.WORKSPACE:return _.WORKSPACE;case o.Gr.ORG:default:return _.ORG}}(t),c=n.createElement(i.B,{svg:s});return e.withoutTooltip?c:r?n.createElement("div",{"data-tooltip-type":l.Ib.TEXT,"data-tooltip":(0,a.t)("fig_feed.tooltip.posted_to_members_of_container",{containerName:r})},c):null}function g(e){return({[o.Gr.ORG]:0,[o.Gr.WORKSPACE]:1,[o.Gr.TEAM]:2,[o.Gr.PROJECT]:3})[e]}function f(e){return"string"==typeof e&&(e=Number(e)),({0:o.Gr.ORG,1:o.Gr.WORKSPACE,2:o.Gr.TEAM,3:o.Gr.PROJECT})[e]??null}},160156:(e,t,r)=>{"use strict";r.d(t,{K1:()=>O,Zo:()=>G,xT:()=>H});var n=r(411855),i=r(629019),a=r.n(i),o=r(729074),l=r(935283),s=r(568214),c=r(988652),d=r(768137),u=r(135876),p=r(574176),m=r(939863),_=r(553015),h=r(28588),g=r(103271),f=r(498606),E=r(126674),y=r(406158),b=r(987669),v=r(421689),I=r(441883),T=r(303456),S=r(368640),w=r(501191),A=r(169852),C=r(95917),N=r(36129);function O(e){let t;switch(e.type){case g.cM.NODE:t=e.nodeId;break;case g.cM.IMAGE:t=e.url;break;case g.cM.VIDEO:t=e.path;break;case g.cM.PROTOTYPE:t=e.startingNodeId;break;default:throw Error("unexpected content item type")}return`${e.type}:${t}`}function L(e){let[t,r]=n.useState(!e.isThumbnail&&!e.usesPreviewImage);if(n.useEffect(()=>{if(!e.imgUrl)return;let t=new Image;t.src=e.imgUrl,t.onload=()=>{let e=t.width/t.height;r(t=>t&&Math.abs(e-v.dp)>.01)}},[e.imgUrl]),null===e.imgUrl)return n.createElement("div",null,(0,m.t)("fig_feed.could_not_load_preview_image"));let i=e.isThumbnail&&e.thumbnailUrl?e.thumbnailUrl:e.imgUrl;return n.createElement(n.Fragment,null,e.showPreviewFacade&&n.createElement("div",{className:S.Hq},n.createElement(d.pz,{onClick:e.onUpdatePreviewImage},(0,m.t)("fig_feed.update_preview_image"))),n.createElement("img",{src:i,alt:(0,m.t)("fig_feed.thumbnail_alt_text"),draggable:!1,className:a()(S.tv,e.isThumbnail&&S.Jq,t&&S.Pd)}),e.isThumbnail?null:"image/gif"===e.mediaType?n.createElement("div",{className:S.mB},(0,m.t)("fig_feed.gif")):null)}function R(e){let t=!!e.editPreviewOptions;return n.createElement("div",{className:S.yE},e.contentItems.map((r,i)=>{var o,l,c,d,u,p,m;let _;return(null==(o=e.editPreviewOptions)?void 0:o.applyToAllCallback)&&(_=t=>e.editPreviewOptions.applyToAllCallback(t,O(r))),n.createElement("div",{key:i,className:a()({[S.Xt]:!0,[S.sD]:i===e.selectedIdx})},n.createElement(v.DH,{key:`details::${r.image_url}`,imageSrc:r.image_url,shouldZoomToStart:!1,shouldWheelPan:!0,showEditPreviewControls:t,setContentPreview:i===e.selectedIdx?null==(l=e.editPreviewOptions)?void 0:l.setContentPreview:void 0,initialSnapshotState:null==(d=null==(c=e.editPreviewOptions)?void 0:c.initialSnapshotStates)?void 0:d[O(r)],disableReset:!!(null==(u=e.editPreviewOptions)?void 0:u.disableReset),resetSnapshotState:null==(p=e.editPreviewOptions)?void 0:p.selectedContentResetSnapshotState,pageBackgroundColor:(null==(m=e.editPreviewOptions)?void 0:m.pageBackgroundColor)||r.backgroundColor&&(0,s.H0)(r.backgroundColor)||e.pageBackgroundColor&&(0,s.H0)(e.pageBackgroundColor)||void 0,applyToAllCallback:_,imageScale:t?1:void 0,enableZoomKeyControls:i===e.selectedIdx&&(e.source===E.Zp.DETAIL_MODAL||t),enableSnapToGuidelines:t,enableZoomControls:e.source===E.Zp.DETAIL_MODAL}))}))}function P(e){return n.createElement(I.D,{item:e.prototypeContent})}function k(e){var t,r,i,a,o,l,c;let d=!!e.editPreviewOptions;return n.createElement(v.DH,{key:`details::${e.imageContent.url}`,imageSrc:e.imageContent.url,shouldZoomToStart:!1,shouldWheelPan:!0,showEditPreviewControls:d,setContentPreview:null==(t=e.editPreviewOptions)?void 0:t.setContentPreview,initialSnapshotState:null==(i=null==(r=e.editPreviewOptions)?void 0:r.initialSnapshotStates)?void 0:i[O(e.imageContent)],disableReset:!!(null==(a=e.editPreviewOptions)?void 0:a.disableReset),resetSnapshotState:null==(o=e.editPreviewOptions)?void 0:o.selectedContentResetSnapshotState,applyToAllCallback:(null==(l=e.editPreviewOptions)?void 0:l.applyToAllCallback)?t=>e.editPreviewOptions.applyToAllCallback(t,O(e.imageContent)):void 0,pageBackgroundColor:(null==(c=e.editPreviewOptions)?void 0:c.pageBackgroundColor)||e.imageContent.backgroundColor&&(0,s.H0)(e.imageContent.backgroundColor)||e.pageBackgroundColor&&(0,s.H0)(e.pageBackgroundColor)||void 0,imageScale:1,enableZoomKeyControls:e.source===E.Zp.DETAIL_MODAL||d,enableSnapToGuidelines:d,enableZoomControls:e.source===E.Zp.DETAIL_MODAL})}function D(e){let t=(0,T.jI)(e.feedPostUuid,e.videoContent.path,e.source);return n.createElement(T.l0,{id:t,videoContent:e.videoContent,isThumbnail:e.isThumbnail,feedPostUuid:e.feedPostUuid,source:e.source})}function M(e){return e.isThumbnail?n.createElement("div",null,n.createElement(m.Tx,{id:"fig_feed.video"})):n.createElement("div",null,n.createElement(m.Tx,{id:"fig_feed.transcode_after_submit"}))}function x(e){if(h.cU.includes(e.videoContent.mediaType)&&""===e.videoContent.videoFileUuid)return n.createElement(M,{isThumbnail:e.isThumbnail});if(e.isThumbnail&&e.videoContent.coverImage)return n.createElement(L,{imgUrl:e.videoContent.coverImage,isThumbnail:!0});let t=(0,T.jI)(e.feedPostUuid,e.videoContent.path,e.source);return n.createElement(T.l0,{id:t,videoContent:e.videoContent,isThumbnail:e.isThumbnail,feedPostUuid:e.feedPostUuid,feedPostIdx:e.feedPostIdx,source:e.source})}function F(e){return n.createElement(n.Fragment,null,n.createElement(u.x,{isLoading:!e.content.imageUrl},()=>n.createElement(L,{imgUrl:e.content.imageUrl,isThumbnail:e.isThumbnail})),!e.isThumbnail&&n.createElement("div",{className:S.mB},n.createElement(m.Tx,{id:"fig_feed.prototype_badge"})))}function U(e){let t=e.contentItems[e.selectedIdx];switch(t.type){case g.cM.NODE:return n.createElement(R,{selectedIdx:e.selectedIdx,contentItems:e.contentItems,editPreviewOptions:e.editPreviewOptions,pageBackgroundColor:e.pageBackgroundColor,source:e.source});case g.cM.IMAGE:return n.createElement(k,{imageContent:t,source:e.source,editPreviewOptions:e.editPreviewOptions,pageBackgroundColor:e.pageBackgroundColor});case g.cM.VIDEO:return n.createElement(D,{videoContent:t,isThumbnail:!1,feedPostUuid:e.feedPostUuid,source:e.source});case g.cM.PROTOTYPE:return n.createElement(P,{prototypeContent:t});default:(0,l.xb)(t)}}function B(e){switch(e.content.type){case g.cM.NODE:let t=e.content,r=t.mediumImageUrl??t.preview_image_url??t.image_url,i=t.preview_image_url??t.image_url;return n.createElement(u.x,{isLoading:!!t.isLoading},()=>n.createElement(L,{imgUrl:e.isEditing?i:r,usesPreviewImage:!!t.preview_image_url,isThumbnail:e.isThumbnail,thumbnailUrl:e.isEditing?i:t.thumbnailUrl,showPreviewFacade:e.showPreviewFacade,onUpdatePreviewImage:e.onUpdatePreviewImage}));case g.cM.IMAGE:let a=e.content.mediumImageUrl??e.content.preview_image_url??e.content.url,o=e.content.preview_image_url??e.content.url;return n.createElement(L,{imgUrl:e.isEditing?o:a,isThumbnail:e.isThumbnail,usesPreviewImage:!!e.content.preview_image_url,mediaType:e.content.mediaType,thumbnailUrl:e.isEditing?o:e.content.thumbnailUrl,showPreviewFacade:e.showPreviewFacade,onUpdatePreviewImage:e.onUpdatePreviewImage});case g.cM.VIDEO:return n.createElement(x,{videoContent:e.content,isThumbnail:e.isThumbnail,feedPostUuid:e.feedPostUuid,feedPostIdx:e.feedPostIdx,source:e.source});case g.cM.PROTOTYPE:return n.createElement(F,{content:e.content,isThumbnail:e.isThumbnail});default:(0,l.xb)(e.content)}}function H(e){let t=!!e.editPreviewOptions,r=e.contentItems.length>1||t,{selectedContentIdx:i,pageBackgroundColor:o,setSelectedContentIdx:l,contentItems:d,onContentHover:_}=e,[h,E]=(0,c.M)();n.useEffect(()=>{null==_||_(E)},[E,_]);let b=n.useMemo(()=>d[i],[d,i]),v=n.useMemo(()=>r?n.createElement(V,{direction:"horizontal",contentItems:d,selectedIdx:i,setSelectedIdx:l,pageBackgroundColor:e.pageBackgroundColor,feedPostUuid:e.feedPostUuid,canAddContent:!1}):null,[r,d,i,l,e.pageBackgroundColor,e.feedPostUuid]);e.editPreviewOptions&&b&&"node"===b.type&&b.backgroundColor&&(e.editPreviewOptions.pageBackgroundColor=(0,s.H0)(b.backgroundColor)??void 0);let{openEditPreviewModalCallback:I,deleteSelectedItemCallback:T}=e,[w,C]=n.useState(!1),N=n.useMemo(()=>{if(!I&&!T||!w||!b)return null;let e=r?S.IN:S.r$;return n.createElement("div",{className:e},b&&(0,g.aT)(b)&&I&&n.createElement("div",null,n.createElement("button",{onClick:I,className:S.nY},n.createElement(m.Tx,{id:"fig_feed.edit_preview"}))),T&&n.createElement(p.B,{svg:A.A,className:S.j5,onClick:T,autosize:!0,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,m.t)("fig_feed.delete"),dataTestId:"delete-content-item"}))},[w,b,r,I,T]);return n.createElement("div",{className:a()(S.qG,t&&S.Mm)},n.createElement("div",{ref:h,className:r&&!t?S.Uz:S.xs,style:{backgroundColor:(0,y.mz)(b,e.pageBackgroundColor)},onMouseDown:e.onSelectedTileMouseDown,role:"button",tabIndex:0,onPointerEnter:()=>C(!0),onPointerLeave:()=>C(!1),"data-testid":"feed-post-content-section"},N,n.createElement(u.x,{isLoading:!b},()=>e.staticContent?n.createElement(B,{content:b,isThumbnail:!1,feedPostUuid:e.feedPostUuid,feedPostIdx:e.feedPostIdx,source:e.source}):n.createElement(U,{contentItems:d.filter(e=>null!==e),selectedIdx:i,editPreviewOptions:e.editPreviewOptions,feedPostUuid:e.feedPostUuid,pageBackgroundColor:o,source:e.source}))),v)}function V(e){let t=n.useRef(null);n.useEffect(()=>{var r;let n=t.current,i=null==(r=t.current)?void 0:r.children[e.selectedIdx];if(!n||!i)return;let a=null==n?void 0:n.getBoundingClientRect();(null==a?void 0:a.top)>=0&&(null==a?void 0:a.left)>=0&&(null==a?void 0:a.bottom)<=(window.innerHeight||document.documentElement.clientHeight)&&(null==a?void 0:a.right)<=(window.innerWidth||document.documentElement.clientWidth)&&i.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},[e.direction,e.selectedIdx]);let r=(0,T.pN)(),{scrollToItem:i,onReorderCallback:l,setSelectedIdx:s,deleteItem:c}=e,[d,u]=n.useState(null),m=e.thumbnailType||"wide",h=n.useCallback((t,o,l)=>{let p=a()(S.iD,l&&S.Ut,"small"===m&&S.kL,"wide"===m&&S.Wr);return n.createElement("div",{className:p,onMouseDown:()=>{r(e.feedPostUuid),null==i||i(o),null==s||s(o)},onPointerEnter:()=>u(o),onPointerLeave:()=>u(null),role:"button",tabIndex:0,style:{backgroundColor:(0,y.mz)(t,e.pageBackgroundColor)},"data-testid":`content-item-${o}`},n.createElement(B,{content:t,isThumbnail:!0,isEditing:e.isEditing}),c&&o===d&&n.createElement("div",{className:S.nx},n.createElement("div",{className:S.fy,onClick:e=>{e.stopPropagation(),c(o)},role:"button",tabIndex:0},n.createElement(b.X,null))))},[e.pageBackgroundColor,e.feedPostUuid,m,e.isEditing,d,r,i,s,c]),g=t=>{if("horizontal"!==e.direction)return null;let r=e.selectedIdx===("left"===t?0:e.contentItems.length-1);return n.createElement(_.$,{onMouseDown:()=>{let r=(e.selectedIdx+("left"===t?-1:1)+e.contentItems.length)%e.contentItems.length;null==s||s(r)},icon:"left"===t?"chevron-left-32":"chevron-right-32",variant:"text",disabled:r})},f=a()(S.sm,"horizontal"===e.direction?S.d9:S.b1);if(l)return n.createElement("div",{className:f},n.createElement(o._.Group,{axis:"vertical"===e.direction?"y":"x",onReorder:l,values:e.contentItems,className:a()(S.M2,"horizontal"===e.direction?S.AA:S.h0),role:"button",tabIndex:0,ref:t},e.contentItems.map((t,r)=>n.createElement(o._.Item,{value:t,id:O(t),key:O(t),translate:"no"},h(t,r,!(e.canAddContent&&e.isAddingContent)&&r===e.selectedIdx))),e.canAddContent&&n.createElement("div",{className:a()(S.iD,"small"===e.thumbnailType&&S.kL,"wide"===e.thumbnailType&&S.Wr,e.isAddingContent?S.ad:S.WW),onMouseDown:e.setAddingActive,role:"button",tabIndex:0},n.createElement(p.B,{svg:w.A}))));{let r=a()(S.M2,"horizontal"===e.direction?S.n2:S.h0);return n.createElement("div",{className:f},g("left"),n.createElement("div",{className:r,ref:t},e.contentItems.map((t,r)=>n.createElement(n.Fragment,{key:r},h(t,r,r===e.selectedIdx)))),g("right"))}}function G(e){let t=e.contentItems[e.selectedIdx],r=t&&(0,g.aT)(t),{onReorderCallback:i,deleteItemAtIdx:o,setSelectedIdx:l,onFileInputChange:s,setContentPreview:c,openPostFromFileModal:d}=e,[_,h]=n.useState(0===e.contentItems.length);n.useEffect(()=>{0===e.contentItems.length?h(!0):h(!1)},[e.contentItems.length]);let E=e.contentItems.length>=1||r,b=n.useCallback(()=>{h(!0)},[]),I=n.useCallback(e=>{l(e),h(!1)},[l]),[T,w]=n.useState(!1),L=n.useMemo(()=>T&&t?n.createElement("div",{className:S.r$},o&&n.createElement(p.B,{svg:A.A,className:S.j5,onClick:()=>o(e.selectedIdx),autosize:!0,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,m.t)("fig_feed.delete"),dataTestId:"delete-content-item"})):null,[t,T,e.selectedIdx,o]),R=n.useRef(null),P=(e,t,r,i)=>n.createElement("div",{className:S.c9,onClick:i,role:"button",tabIndex:0},n.createElement(p.B,{svg:r}),n.createElement("div",{className:S.LO},n.createElement("div",{className:S.Gq},e),t)),k=n.useCallback((r,n,i)=>{let a=O(t);t&&a&&!(0,v.L$)(n,e.snapshotStates[a])&&c(a,r,n)},[t,e.snapshotStates,c]),D=(t,r)=>{k(t,r,e.selectedIdx)},[M,x]=n.useState({}),F=n.useCallback(()=>{x(e=>({...e,[O(t)]:!0}))},[t]);return n.createElement("div",null,(()=>{if(_){let t=null===e.attachedFile?(0,m.t)("fig_feed.add_frames"):"whiteboard"===e.attachedFile.editor_type?(0,m.t)("fig_feed.share_something_from_figjam"):(0,m.t)("fig_feed.add_frames_from_this_figma_file");return n.createElement("div",{className:a()(S.Er,E&&S.QX)},n.createElement("div",{className:a()(S.hM,e.dragging&&S.cB)},P((0,m.t)("fig_feed.choose_frames"),t,C.A,d),n.createElement("form",null,n.createElement("input",{type:"file",name:"fileInput",id:"fileInput",accept:g.bB.join(","),ref:R,onChange:s(R),multiple:!0,className:S.Fg}),n.createElement("label",{htmlFor:"fileInput"},P((0,m.t)("fig_feed.upload_files"),(0,m.t)("fig_feed.add_images_or_videos"),N.A)))))}return n.createElement("div",{className:a()(S.Er,E&&S.QX),style:{backgroundColor:(0,y.mz)(t,e.pageBackgroundColor)},role:"button",tabIndex:0,onPointerEnter:()=>w(!0),onPointerLeave:()=>w(!1)},L,n.createElement(u.x,{isLoading:!t},()=>(0,g.aT)(t)&&("edit"===e.mode&&(M[O(t)]||!t.shouldBlockEditPreview)||"create"===e.mode)?n.createElement(U,{contentItems:e.contentItems,selectedIdx:e.selectedIdx,editPreviewOptions:{setContentPreview:D,initialSnapshotStates:e.snapshotStates,disableReset:!0},feedPostUuid:e.feedPostUuid,pageBackgroundColor:e.pageBackgroundColor,source:e.source}):n.createElement(B,{content:t,isThumbnail:!1,feedPostUuid:e.feedPostUuid,source:e.source,showPreviewFacade:"edit"===e.mode&&(0,g.aT)(t)&&t.shouldBlockEditPreview,onUpdatePreviewImage:"edit"===e.mode?F:void 0})),e.dragging&&n.createElement("div",{className:S.c$},n.createElement("div",{className:S.W9})))})(),E?n.createElement(V,{direction:"horizontal",thumbnailType:"wide",contentItems:e.contentItems,onReorderCallback:i,deleteItem:o,selectedIdx:e.selectedIdx,setSelectedIdx:I,pageBackgroundColor:e.pageBackgroundColor,feedPostUuid:e.feedPostUuid,canAddContent:e.contentItems.length<g.e3,isAddingContent:_,setAddingActive:b,isEditing:!0}):null)}},52678:(e,t,r)=>{"use strict";r.d(t,{K:()=>ea});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(776250),s=r(935283),c=r(737947),d=r(358145),u=r(498750),p=r(503457),m=r(499737),_=r(27087),h=r(67833),g=r(827586),f=r(574176),E=r(47506),y=r(881388),b=r(939863),v=r(67294),I=r(975350),T=r(738269),S=r(662275),w=r(569172),A=r(654034),C=r(692630),N=r(355513),O=r(694687),L=r(611978),R=r(860178),P=r(279453),k=r(531827),D=r(103271),M=r(498606),x=r(819117),F=r(237870),U=r(402609),B=r(421422),H=r(727236),V=r(182876),G=r(400333),W=r(488578),K=r(126674),Y=r(679736),j=r(563288),z=r(160156),$=r(823885),Z=r(339617),q=r(531398),J=r(385121),X=r(430811),Q=r(634770),ee=r(412141),et=r(40674),er=r(893984),en=r(630834);function ei(){return n.createElement("div",null,(0,b.t)("fig_feed.post_dne"))}let ea=(0,F.Ju)(function(e){var t;let r=(0,i.wA)(),a=(0,O.sZ)(),o=(0,L._6)();n.useEffect(()=>{"teamFeed"!==o.view&&"user"!==o.view&&("fullscreen"===o.view&&e.inFileView||r(S.Ce()))},[r,o,e.inFileView]);let p=n.useRef({selectedView:o,inFileView:e.inFileView});n.useEffect(()=>{p.current={selectedView:o,inFileView:e.inFileView}},[e.inFileView,o]);let h=n.useCallback(t=>{let n={view:"teamFeed",hashtag:t};p.current={selectedView:n,inFileView:e.inFileView},r(T.$T(n)),r(S.Ce())},[e.inFileView,r]);n.useEffect(()=>()=>{p.current.inFileView||"teamFeed"!==p.current.selectedView.view||r(T.$T({...p.current.selectedView,postUuid:void 0}))},[r]);let g=n.useRef(!1),f=n.useCallback(t=>{g.current||!t||e.autofocusCommentInput||(t.focus(),g.current=!0)},[e.autofocusCommentInput]),v=(0,d.ZC)(e.postUuid);n.useEffect(()=>{a&&(e.inFileView||v===e.postUuid||"teamFeed"!==o.view||(g.current=!1,c.Ay.replace((0,K.Kc)(a.id,{uuid:e.postUuid,tab:o.feedTab,hashtag:o.hashtag}))))},[v,e.postUuid,a,e.inFileView,o]);let I=(0,m.Rs)(P.FHz,{publicUuid:e.postUuid});n.useEffect(()=>{var t,r;!e.inFileView&&(null==(r=null==(t=I.data)?void 0:t.feedPost)?void 0:r.title)&&(0,N.hL)(I.data.feedPost.title)},[e.inFileView,I.data]),n.useEffect(()=>((0,l.sx)("Team Feed Post Details View Visited",{postUuid:e.postUuid}),()=>{(0,l.sx)("Team Feed Post Closed",{postUuid:e.postUuid})}),[e.postUuid]),n.useEffect(()=>{_.Ay.post(`/api/feed_posts/${e.postUuid}/mark_viewed`)},[e.postUuid]);let[w,A]=n.useState(0);n.useEffect(()=>{A(e.selectedContentIdx||0)},[e.postUuid,e.selectedContentIdx]);let C=n.useMemo(()=>{var e;return(null==(e=I.data)?void 0:e.feedPost)?I.data.feedPost.content.map(e=>JSON.parse(e)):[]},[I.data]),R=C.length,{requestToOpenPostByFeedIdx:k}=e,M=n.useCallback(t=>{t.keyCode===u.Uz.LEFT_ARROW?0===w?k&&void 0!==e.feedIdx&&k(e.feedIdx-1):A(w-1):t.keyCode===u.Uz.RIGHT_ARROW&&(w===R-1?k&&void 0!==e.feedIdx&&k(e.feedIdx+1):A(w+1))},[w,R,k,e.feedIdx]),[x,F]=n.useState(!0),V=n.useCallback(()=>F(e=>!e),[]),[G,Y]=n.useState(!1);n.useEffect(()=>{!G&&"loaded"===I.status&&C[w]&&(0,D.Dr)(C[w])&&((0,E.YQ)({id:B.X}),Y(!0))},[I.status,G,C,w]);let j=(null==(t=I.data)?void 0:t.feedPost)||e.initialPreloadedPost;if(!j)switch(I.status){case"errors":return n.createElement(ei,null);case"loading":case"disabled":return n.createElement(W.aF,{className:Q.ZA,size:"any"});case"loaded":return r(y.s.error((0,b.t)("fig_feed.post_dne"))),r(S.Ce()),null;default:(0,s.xb)(I)}return n.createElement(n.Fragment,null,n.createElement(W.aF,{className:Q.ZA,size:"any"},n.createElement("div",{className:Q.Zp,role:"listbox",tabIndex:0,onKeyDown:M,ref:f},n.createElement("div",{className:Q.kL,"data-onboarding-key":H.O},n.createElement("div",{className:x?Q.hQ:Q.MZ},n.createElement(z.xT,{contentItems:C,staticContent:!1,selectedContentIdx:w,setSelectedContentIdx:t=>{var r;A(t),null==(r=e.onSetSelectedContentIdx)||r.call(e,t)},pageBackgroundColor:j.backgroundColor??void 0,feedPostUuid:e.postUuid,source:K.Zp.DETAIL_MODAL})),n.createElement(eo,{feedPost:j,contentItems:C,autofocusCommentInput:!!e.autofocusCommentInput,inFileView:e.inFileView,onSidebarToggle:V,show:x,onHashtagClick:h})))),n.createElement(U.p,null,n.createElement(H.b,null)))},C.E,F.ZU.YES);function eo(e){let t=(0,i.wA)(),r=(0,R.iZ)(),a=(0,i.d4)(e=>e.currentUserOrgId),o=n.useCallback(()=>{t(S.Ce())},[t]),{fileData:l,fileIcon:s,fileLoaded:c,openFile:d}=(0,K.rS)(e.feedPost.publicUuid,e.contentItems,e.feedPost.fileKey),u=n.useCallback(()=>{let r=e.inFileView&&e.feedPost.fileKey||void 0;t((0,S.to)({type:Y.t1,data:{preloadedFeedPost:e.feedPost,entryPoint:e.inFileView?Y.M2.FILE:Y.M2.FEED,lockedFileKey:r}}))},[t,e.feedPost,e.inFileView]),p=(0,K.DG)(e.feedPost.publicUuid,K.dy.DETAIL);if(!a||!r)return null;let m=n.createElement(n.Fragment,null,n.createElement("div",{className:Q.Si},n.createElement(X.Wu,{feedPost:e.feedPost,source:K.Zp.DETAIL_MODAL,onEditClick:u})),n.createElement("button",{onClick:p,"data-tooltip-type":M.Ib.TEXT,"data-tooltip":(0,b.t)("fig_feed.copy_link_to_post")},n.createElement(f.B,{svg:er.A,className:Q.Gp})),n.createElement("button",{onClick:e.onSidebarToggle},n.createElement(f.B,{svg:et.A,className:Q.Gp})),n.createElement("button",{onClick:o},n.createElement(f.B,{svg:en.default,className:Q.Nk})));if(!e.show)return n.createElement("div",{className:Q.SY},m);let _=n.createElement("div",{className:Q.N1},n.createElement("div",{className:Q.qd},n.createElement(b.Tx,{id:"fig_feed.details"})),n.createElement("div",{className:Q.IE,"data-testid":"feed-modal-open-file"},m)),g=(0,j.e3)(e.feedPost),E=n.createElement("div",{className:Q.op},n.createElement("div",{className:Q.mY},n.createElement(Z.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,size:v.Pf.MEDIUM,shortDate:!1,containerInfo:g})),n.createElement(es,{feedPost:e.feedPost,currentOrgId:a,currentUser:r,onHashtagClick:e.onHashtagClick}),c&&!e.inFileView&&n.createElement("button",{className:Q.XE,onClick:e.inFileView?void 0:d},n.createElement(b.Tx,{id:"fig_feed.from_file",fileComponent:n.createElement(n.Fragment,null,n.createElement(h.oS,{className:Q.Wv,type:s,size:h.LE.SMALL}),n.createElement("span",{className:Q.q4},l.name))})),n.createElement("div",{className:Q.E_},n.createElement(q.Q$,{type:q.Us.FULL,source:q.zY.DETAIL_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions})));return n.createElement("div",{className:Q.HP},_,n.createElement(el,{postInfo:E,comments:e.feedPost.comments,postUuid:e.feedPost.publicUuid,currentUser:r,currentOrgId:a,autofocusCommentInput:e.autofocusCommentInput}))}function el(e){let t=(0,i.wA)(),r=n.useRef(null),a=n.useRef(null),[o,l]=n.useState(!1),s=n.useCallback(t=>{0===t.intersectionRatio&&e.comments.length>0?l(!0):l(!1)},[e.comments.length]);(0,V.g)(a,s,{threshold:[0,1]});let c=n.useCallback(()=>{r.current&&r.current.scrollToBottom()},[]),d=e.comments.sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime()),[u,m]=n.useState(e.comments.length);n.useEffect(()=>{let t=u<e.comments.length;t&&m(e.comments.length);let r=e.comments[e.comments.length-1];t&&r.user.id===e.currentUser.id&&c()},[u,e.comments,e.currentUser,c]);let[_,h]=n.useState([]),E=(0,i.d4)(e=>e.comments.newComment),y=n.useCallback(()=>{t(w.gX({postUuid:e.postUuid,messageMeta:_,attachmentIds:Object.keys(E.attachments)})),h([]),t(I.$M({resetStatusOnly:!1}))},[t,e.postUuid,_,E]),T=n.useMemo(()=>({library:new k.M8(e.currentOrgId,e.postUuid)}),[e.currentOrgId,e.postUuid]),S=n.useCallback(e=>{t(I.nb({attachmentId:e.id,attachment:e}))},[t]),C=n.useCallback((e,r)=>{t(I.nb({attachmentId:e,attachment:null})),r?r.then(()=>x.J.delete(e)):x.J.delete(e)},[t]);return n.createElement("div",{className:Q.ty},n.createElement(g.P,{innerClassName:Q.qy,useBottomPinning:!0,ref:r},e.postInfo,n.createElement("div",{ref:a,className:Q.Ai},d.map(t=>n.createElement($.i,{key:t.id,commentId:t.id,commentUuid:t.uuid||"",createdAt:t.createdAt,commentUser:t.user,reactions:t.reactions,messageMeta:(0,A.o8)(t.messageMeta),user:e.currentUser,currentOrgId:e.currentOrgId,mentionables:T,attachments:t.attachments}))),o&&n.createElement("div",{className:Q.cm,onClick:c,role:"button",tabIndex:0},n.createElement(f.B,{svg:ee.A,className:Q.mL}),n.createElement(b.Tx,{id:"fig_feed.num_comments",numComments:d.length}))),n.createElement("div",{className:Q.kG},n.createElement("div",{className:Q.gK},n.createElement(v.H8,{user:e.currentUser,size:v.Pf.MEDIUM})),n.createElement(J.o,{fallback:null,errorFallback:p.H4.NONE,user:e.currentUser,currentOrgId:e.currentOrgId,autofocus:e.autofocusCommentInput,onSubmit:y,hideSubmitButton:!1,mentionables:T,composerContainerClass:Q.DA,editableTypeaheadClass:Q.OX,messageContent:_,updateMessage:h,editingExistingComment:!1,updateAttachment:S,deleteAttachment:C,attachments:Object.values(E.attachments)})))}function es(e){let t=n.useMemo(()=>(0,A.o8)(e.feedPost.descriptionMeta),[e.feedPost.descriptionMeta]);return n.createElement("div",{role:"textbox",tabIndex:0,className:Q.tL},n.createElement("div",{className:Q.pT},e.feedPost.title),n.createElement(G.HH,{messageMeta:t,commentId:e.feedPost.id,className:o()(Q.gG),enableHashtags:!0,onHashtagClick:e.onHashtagClick}))}},339617:(e,t,r)=>{"use strict";r.d(t,{A:()=>g,B:()=>h});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(210954),s=r(564577),c=r(939863),d=r(67294),u=r(738269),p=r(798099),m=r(589640),_=r(999357);function h(e){var t;let r=e.date&&n.createElement(s.h1,{date:e.date,style:e.shortDate?"short":void 0,capitalize:!0,key:"from-now"}),i=[n.createElement("div",{key:"from-now",onMouseDown:e.onTileMouseDown,role:"button",tabIndex:0,className:o()(e.onTileMouseDown&&_.WJ,_.PI)},(null==(t=e.containerInfo)?void 0:t.name)?n.createElement(c.Tx,{id:"fig_feed.time_ago_to_container",timeAgo:r,container:n.createElement("span",null,e.containerInfo.name)}):r)];return n.createElement("div",{className:_.ME},n.createElement(g,{user:e.user,size:e.size,noAvatar:e.noAvatar,noHandle:e.noHandle,appendToHandle:i}))}function g(e){let t=(0,i.wA)(),r=n.useCallback(r=>{r.stopPropagation(),e.user.id&&t(u.$T({view:"user",userId:e.user.id,userViewTab:m.o.INTERNAL_PROFILE_POSTS}))},[t,e.user.id]),a=e.appendToHandle||!1===e.noHandle;return n.createElement("div",{className:_.ME},!e.noAvatar&&n.createElement(l.N,{onClick:r,trusted:!0,onMouseDown:p.dG},n.createElement(d.H8,{user:e.user,size:e.size??d.Pf.LARGE})),a&&n.createElement("div",{className:_.Qs},!e.noHandle&&n.createElement(l.N,{className:_.TK,onClick:r,trusted:!0},n.createElement("div",{className:_.p$},e.user.handle)),e.appendToHandle))}},531398:(e,t,r)=>{"use strict";r.d(t,{Q$:()=>h,Us:()=>m,mz:()=>v,nn:()=>g,zY:()=>_});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(569172),s=r(318812),c=r(860178),d=r(555648),u=r(884101),p=r(400762),m=(e=>(e[e.FULL=0]="FULL",e[e.ADD_ONLY=1]="ADD_ONLY",e))(m||{}),_=(e=>(e[e.TILE_CONTENT=0]="TILE_CONTENT",e[e.TILE_POST=1]="TILE_POST",e[e.DETAIL_POST=2]="DETAIL_POST",e[e.DETAIL_COMMENT_NO_REACTION=3]="DETAIL_COMMENT_NO_REACTION",e[e.DETAIL_COMMENT_WITH_REACTION=4]="DETAIL_COMMENT_WITH_REACTION",e[e.FILE_POPOVER=5]="FILE_POPOVER",e))(_||{});function h(e){let t=(0,i.wA)(),r=(0,c.iZ)(),{existingReactionIdForCurrentUser:a}=y(e.feedReactions,r),o=n.useCallback(({emoji:r,addOnly:n})=>{let i=a(r);i?n||t(l.Oy({feedPostUuid:e.postUuid,emoji:r,reactionId:i})):t(l.EF({feedPostUuid:e.postUuid,feedPostId:e.postId,emoji:r}))},[t,a,e.postUuid,e.postId]);return n.createElement(f,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:o,feedResource:{type:"post",id:e.postUuid},feedReactions:e.feedReactions})}function g(e){let t=(0,i.wA)(),r=(0,c.iZ)(),{existingReactionIdForCurrentUser:a}=y(e.feedReactions,r),o=n.useCallback(({emoji:r,addOnly:n})=>{let i=a(r);i?n||t(l.t9({commentUuid:e.commentUuid,emoji:r,reactionId:i})):t(l.FJ({commentUuid:e.commentUuid,commentId:e.commentId,emoji:r}))},[t,a,e.commentUuid,e.commentId]);return n.createElement(f,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:o,feedResource:{type:"comment",id:e.commentUuid},feedReactions:e.feedReactions})}function f(e){let t=(0,c.iZ)(),{toggleReaction:r}=e,{reactionsWithSelected:i}=y(e.feedReactions,t),a=n.useCallback((e,t)=>{t.stopPropagation(),r({emoji:e.emoji,addOnly:!1})},[r]),o=n.useCallback(e=>{r({emoji:e,addOnly:!0})},[r]),l=n.createElement(E,{type:e.type,feedResource:e.feedResource,source:e.source,onAddReaction:o,hideAddReactionButton:e.hideAddReactionButton});return 1===e.type?l:n.createElement("div",{className:p.KD},n.createElement(u.Kb,{reactions:i,collapseOverflow:!1,onClickExisting:a,prependToList:e.prependToList},l))}function E(e){let t=n.useRef(null),{isReactionPickerVisible:r,toggleReactionPicker:i,emojiPicker:a}=I(e.feedResource,e.source,t,e.onAddReaction);return e.hideAddReactionButton&&!r?n.createElement("div",{className:p.$S}):n.createElement(n.Fragment,null,n.createElement("div",{ref:t,className:o()(1===e.type?p.D5:p.HL)},n.createElement(u.ny,{onClick:i,selected:r,styleClassName:p.$S,selectedStyleClassName:p.Qi})),r&&a)}let y=(e,t)=>{let r=n.useMemo(()=>{let r={};if(!t)return r;for(let n of e)n.user.id===t.id&&(r[n.emoji]=n.id);return r},[e,t]),i=n.useCallback(e=>r[e],[r]);return{reactionsWithSelected:n.useMemo(()=>{let t={};for(let r of e){let{emoji:e,user:n,createdAt:a}=r;t[e]||(t[e]={emoji:e,users:[],selected:!!i(e),createdAt:a.getTime(),skinTonesToUsers:{}}),t[e].createdAt=Math.min(t[e].createdAt,a.getTime()),t[e].users.push({handle:n.handle,id:n.id,img_url:n.imgUrl})}return Object.values(t).sort((e,t)=>e.createdAt-t.createdAt||e.emoji.localeCompare(t.emoji))},[e,i]),existingReactionIdForCurrentUser:i}},b=(e,t)=>`FEED_TILE_EMOJI_PICKER-${e}${t?`-${t}`:null}`;function v(e,t){return(0,s.B)(b(t,null==e?void 0:e.id)).showing}let I=(e,t,r,i)=>{let a=(0,s.B)(b(t,null==e?void 0:e.id)),o=n.useCallback(e=>{i(e.shortcodes),a.hide()},[a,i]),l=r.current&&n.createElement(d._,{onInsert:o,onCancel:a.hide,targetRect:r.current.getBoundingClientRect()});return{isReactionPickerVisible:a.showing,toggleReactionPicker:a.toggle,emojiPicker:l}}},430811:(e,t,r)=>{"use strict";r.d(t,{Hx:()=>f,Wu:()=>y,j8:()=>b});var n=r(411855),i=r(188507),a=r(776250),o=r(27087),l=r(268537),s=r(939863),c=r(662275),d=r(569172),u=r(963067),p=r(860178),m=r(237870),_=r(488578),h=r(665061);let g=(0,m.Ju)(function(e){let t=n.createElement(s.Tx,{id:"fig_feed.delete_confirmation"});return e.numComments&&e.numReactions?t=n.createElement(s.Tx,{id:"fig_feed.delete_confirmation_with_comments_and_reactions",numCommentsAndReactions:e.numComments+e.numReactions}):e.numComments?t=n.createElement(s.Tx,{id:"fig_feed.delete_confirmation_with_comments",numComments:e.numComments}):e.numReactions&&(t=n.createElement(s.Tx,{id:"fig_feed.delete_confirmation_with_reactions",numReactions:e.numReactions})),n.createElement(_.Rw,{destructive:!0,confirmationTitle:n.createElement(s.Tx,{id:"fig_feed.delete_post"}),confirmText:n.createElement(s.Tx,{id:"fig_feed.delete"}),onConfirm:e.onConfirm,popStack:!0},n.createElement("p",null,t))},"PostConfirmDeleteModal");var f=(e=>(e.USER="user_post_context_menu",e.SYSTEM="system_post_context_menu",e))(f||{});let E=e=>{let t=(0,p.iZ)(),r=(0,u.Yo)(),n=(t&&t.id===e.creator.id)??!1;return{canDelete:n,canAdminDelete:(null==r?void 0:r.isAdmin)??!1,canEdit:n}};function y(e){let t=(0,i.wA)(),r=n.useCallback(()=>t(d.Y9()),[t]),{onEditClick:u,feedPost:p}=e,{canDelete:m,canAdminDelete:_,canEdit:f}=E(p),y=p.comments.length,v=p.reactions.length,I=n.useCallback(()=>{t((0,c.AS)()),o.Ay.del(`/api/feed_posts/post_uuid/${p.publicUuid}`).then(()=>{(0,a.sx)("Team Feed Post Deleted",{postUuid:p.publicUuid}),r()})},[t,p.publicUuid,r]),T=n.useCallback(()=>{t((0,c.to)({type:g,data:{onConfirm:I,numComments:y,numReactions:v},showModalsBeneath:!0}))},[t,I,y,v]);if(!m&&!_)return null;let S=m?n.createElement(s.Tx,{id:"fig_feed.delete_ellipsis"}):n.createElement(s.Tx,{id:"fig_feed.delete_admin_ellipsis"}),w=[!!f&&!!u&&n.createElement(l.W.Option,{key:"edit",onClick:u},n.createElement(s.Tx,{id:"fig_feed.edit"})),(!!m||!!_)&&n.createElement(l.W.Option,{key:"delete",onClick:T},S)];return n.createElement(h.V,{dropdownId:b("user_post_context_menu",e.feedPost.publicUuid,e.source),options:w,hideTarget:e.hideTarget,lean:"left",maxWidth:120})}let b=(e,t,r)=>e+t+r},583765:(e,t,r)=>{"use strict";r.d(t,{A0:()=>H,Ac:()=>z,D2:()=>ea,H4:()=>U,JV:()=>q,KL:()=>Z,Pg:()=>L,RC:()=>et,Sn:()=>X,W1:()=>O,Wl:()=>N,Ze:()=>G,bJ:()=>P,dO:()=>Q,ft:()=>ei,l1:()=>J,qe:()=>D,rM:()=>ee,tz:()=>k,um:()=>j,xc:()=>$,xs:()=>V,zS:()=>x});var n=r(38329),i=r(966712),a=r(38580),o=r(776621),l=r(304783),s=r(825871),c=r(931828),d=r(74930),u=r(178323),p=r(378260),m=r(582947),_=r(106757),h=r(852800),g=r(335682),f=r(940596),E=r(888699),y=r(794321),b=r(258751),v=r(787523),I=r(435898),T=r(350042),S=r(315944),w=r(430933),A=r(211519),C=r(342824),N=(e=>(e.NONE="none",e.TOP_BAR="top-bar",e.NEW_FILE="new-file",e))(N||{});let O="used_figjam_ai_generate",L="used_figjam_ai_generate_modal_v2",R=(0,a.eU)(!1),P=(0,a.eU)(null,(e,t)=>{t(R,!0),t($,void 0)}),k=(0,a.eU)(null,(e,t)=>{t(F),t(R,!1)}),D=(0,a.eU)(!1),M=(0,a.eU)(null,(e,t)=>{t(F),t(D,!0)}),x=(0,a.eU)(e=>e(R)?"top-bar":(e(b.P)===v.iH.TRUE||e(K))&&!e(D)&&e(E.l5)===y.fD.NONE?"new-file":"none"),F=(0,a.eU)(null,(e,t)=>{t(V),t(K,!1),t($,void 0)}),U=(0,a.eU)(null,(e,t)=>{let r=e(x);"top-bar"===r?t(k):"new-file"===r&&t(M)}),B=(0,a.eU)(null,(e,t)=>{e(er).abort(),t(er,new AbortController),t(Q,{status:S.c.NONE})}),H=(0,a.eU)(null,(e,t)=>{t(F),t(D,!1),t(R,!1)}),V=(0,a.eU)(null,(e,t)=>{t(B),t(Y,I.Nb.ENTRY),t(q,void 0),t(J,(0,A.Xi)()),t(X,h.VIy.BASIC)}),G=(0,a.eU)(null,(e,t)=>{t(Y,I.Nb.PROMPT_BUILDER)}),W=(0,a.eU)(I.Nb.ENTRY),K=(0,a.eU)(!1),Y=(0,a.eU)(null,(e,t,r)=>{r===I.Nb.PROMPT_BUILDER&&t(K,!0),t(W,r)}),j=(0,a.eU)(e=>e(W)),z=(0,a.eU)(""),$=(0,a.eU)(void 0),Z=(0,a.eU)(""),q=(0,a.eU)(void 0),J=(0,a.eU)((0,A.Xi)()),X=(0,a.eU)(h.VIy.BASIC),Q=(0,a.eU)({status:S.c.NONE}),ee=(0,f.Wh)(()=>(0,a.eU)(!1)),et=(0,a.eU)(null,(e,t,r)=>{t(ee,r)}),er=(0,a.eU)(new AbortController),en=(0,a.eU)(null,async(e,t,{fileKey:r,prompt:a,stage:h,useCaseCategory:f,useCase:E,subtitle:y,entrypoint:b,jumpToNewLine:v,fromGenerateModalV2:N})=>{let R;if(null===r&&(0,o.$D)(l.e.FIGJAM_ENGAGEMENT,Error("No file key provided for FigJam AI Generate request")),!a)return{status:S.c.NONE};t(T.Mg,e=>e+1),e((0,m.r1)(O)).data||n.D.dispatch(c.b({[O]:!0}));let P=e((0,m.r1)(L)).data;N&&!P&&n.D.dispatch(c.b({[L]:!0})),t(B);let k=e(er).signal,D={orgId:e(p._s),teamId:e(g.As)||null,fileKey:r,userId:e(_.kS)||null,trackingSessionId:(0,s.f)()};t(Q,{status:S.c.LOADING}),t(q,f),t(Y,I.Nb.PROMPT_BUILDER);let M="board";try{globalThis.AI_DEBUG_XML&&(0,i.kc)().figjam_text_to_template_debug?M="board":(M=await (0,I.PQ)({prompt:a,signal:k,authInfo:D})||"board",(0,i.kc)().figjam_text_to_visual_timeline||"timeline"!==M||(M="gantt"),(0,I.$B)()||"mindmap"!==M||(M="board"))}catch(n){let e=(0,C.E$)(n,C.ez.GENERATE);return R={status:S.c.ERROR,type:M,errorMessage:e.message,trace:n.trace},(0,T.h5)(r,0,1,a,"inappropriate",h,b,f,E,y),(0,T.fK)(r,e.message),e.reportToSentry&&(0,o.$D)("board"===M?l.e.FIGJAM_ENGAGEMENT:l.e.FIGJAM_CORE,n),t(Q,R),R}f&&(f===I.es.FLOW_CHART?M="diagram":f===I.es.GANTT_CHART?M="gantt":f===I.es.ORG_CHART&&(M="orgchart"));let x=e(Z),F=x&&a.includes(x)?x:void 0;t(Z,""),(0,T.h5)(r,0,1,a,M,h,b,f,E,y,F);try{R=await (0,d.B)(()=>e(T.LX)||"null",r,u.T.AI,async()=>{let t;if("board"===M){let n=v||null,i=e(p._s);t=await (0,w.L)({prompt:a,signal:k,fileKey:r,authInfo:D,shouldJumpToNewLine:n,orgId:i})}else{let t=e(X),r=e(J),n=M;await (0,A.$D)({prompt:a,signal:k,visualType:n,authInfo:D,ganttColor:r,ganttType:t})}let n=e(T.LX);return(0,T.lx)(r,0,a,M,n),{status:S.c.SUCCESS,type:M,trace:t}})}catch(e){if((null==e?void 0:e.name)==="AbortError")R={status:S.c.NONE};else{let t=(0,C.E$)(e,C.ez.GENERATE);R={status:S.c.ERROR,type:M,errorMessage:t.message,trace:e.trace},t.reportToSentry&&(0,o.$D)("board"===M?l.e.FIGJAM_ENGAGEMENT:l.e.FIGJAM_CORE,e),(0,T.fK)(r,t.message)}}return t(Q,R),R}),ei=(0,a.eU)(null,(e,t,{prompt:r,stage:n,useCaseCategory:i,useCase:a,subtitle:s,entrypoint:c,jumpToNewLine:d,fromGenerateModalV2:u})=>{let p=e(g.ze);if(null===p||0===p.length){(0,o.$D)(l.e.FIGJAM_ENGAGEMENT,Error("No file key found for loaded file to use for FigJam AI Generate request"));return}t(en,{fileKey:p,prompt:r,stage:n,useCaseCategory:i,useCase:a,subtitle:s,entrypoint:c,jumpToNewLine:d,fromGenerateModalV2:u})}),ea=(0,a.eU)(null,(e,t,{fileKey:r,prompt:n,stage:i,useCaseCategory:a,useCase:o,subtitle:l,entrypoint:s,jumpToNewLine:c,fromGenerateModalV2:d})=>{t(en,{fileKey:r,prompt:n,stage:i,useCaseCategory:a,useCase:o,subtitle:l,entrypoint:s,jumpToNewLine:c,fromGenerateModalV2:d})})},435898:(e,t,r)=>{"use strict";r.d(t,{fV:()=>H,Zj:()=>V,Nb:()=>F,W9:()=>j,B1:()=>z,l0:()=>W,i_:()=>K,AM:()=>G,Dl:()=>Y,es:()=>B,$B:()=>eg,hZ:()=>eE,sM:()=>eu,PQ:()=>eh,FN:()=>ef,sm:()=>el,wg:()=>es,E4:()=>ea,w4:()=>eo,lu:()=>X,fF:()=>Q,Cb:()=>er,jo:()=>Z,LY:()=>q,Oo:()=>ec,re:()=>ed,UH:()=>$,Uy:()=>e_,TQ:()=>em,jJ:()=>ep});var n=r(411855),i=r(717068),a=r(966712),o=r(939863),l=r(574724);function s(){return n.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:48,height:48,rx:3.83999,fill:"#E9FAFF"}),n.createElement("g",{filter:"url(#filter0_d_2612_73757)"},n.createElement("rect",{width:13.1624,height:6.07498,transform:"translate(28.8417 20.3584)",fill:"#5551FF"})),n.createElement("path",{d:"M26.7158 21.4743L25.4747 15.0205L30.9356 18.2474L28.2052 18.9921L26.7158 21.4743Z",fill:"#5551FF"}),n.createElement("g",{filter:"url(#filter1_d_2612_73757)"},n.createElement("rect",{width:12.3882,height:5.71762,transform:"matrix(-1 0 0 1 19.5897 28.5029)",fill:"#80C9FF"})),n.createElement("path",{d:"M21.5109 29.6175L22.6864 23.5049L17.5142 26.5612L20.1003 27.2665L21.5109 29.6175Z",fill:"#80C9FF"}),n.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.33999,stroke:"black",strokeOpacity:.05}),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_2612_73757",x:27.4917,y:19.3459,width:15.8625,height:8.77494,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.337499}),n.createElement("feGaussianBlur",{stdDeviation:.674997}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2612_73757"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2612_73757",result:"shape"})),n.createElement("filter",{id:"filter1_d_2612_73757",x:5.93095,y:27.55,width:14.9294,height:8.2587,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.317646}),n.createElement("feGaussianBlur",{stdDeviation:.635292}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2612_73757"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2612_73757",result:"shape"}))))}function c(){return n.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:48,height:48,rx:3.84,fill:"#FFF8DF"}),n.createElement("g",{filter:"url(#a)"},n.createElement("path",{fill:"#FFC700",d:"M6.604 14.347h13.737V28.15H6.604z"})),n.createElement("g",{filter:"url(#b)"},n.createElement("path",{fill:"#FFC470",d:"M27.662 16.175h13.737v13.803H27.662z"})),n.createElement("g",{filter:"url(#c)"},n.createElement("path",{fill:"#DA8167",d:"M15.764 19.849h13.737v13.803H15.764z"})),n.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}),n.createElement("defs",null,n.createElement("filter",{id:"a",x:6.032,y:14.232,width:14.881,height:15.089,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.143}),n.createElement("feGaussianBlur",{stdDeviation:.057}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.02 0"}),n.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_2612_73754"}),n.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.172}),n.createElement("feGaussianBlur",{stdDeviation:.143}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{in2:"effect1_dropShadow_2612_73754",result:"effect2_dropShadow_2612_73754"}),n.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.6}),n.createElement("feGaussianBlur",{stdDeviation:.286}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),n.createElement("feBlend",{in2:"effect2_dropShadow_2612_73754",result:"effect3_dropShadow_2612_73754"}),n.createElement("feBlend",{in:"SourceGraphic",in2:"effect3_dropShadow_2612_73754",result:"shape"})),n.createElement("filter",{id:"b",x:27.089,y:16.06,width:14.881,height:15.089,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.143}),n.createElement("feGaussianBlur",{stdDeviation:.057}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.02 0"}),n.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_2612_73754"}),n.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.172}),n.createElement("feGaussianBlur",{stdDeviation:.143}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{in2:"effect1_dropShadow_2612_73754",result:"effect2_dropShadow_2612_73754"}),n.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.6}),n.createElement("feGaussianBlur",{stdDeviation:.286}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),n.createElement("feBlend",{in2:"effect2_dropShadow_2612_73754",result:"effect3_dropShadow_2612_73754"}),n.createElement("feBlend",{in:"SourceGraphic",in2:"effect3_dropShadow_2612_73754",result:"shape"})),n.createElement("filter",{id:"c",x:15.191,y:19.734,width:14.881,height:15.089,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.143}),n.createElement("feGaussianBlur",{stdDeviation:.057}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.02 0"}),n.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_2612_73754"}),n.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.172}),n.createElement("feGaussianBlur",{stdDeviation:.143}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{in2:"effect1_dropShadow_2612_73754",result:"effect2_dropShadow_2612_73754"}),n.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:.6}),n.createElement("feGaussianBlur",{stdDeviation:.286}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),n.createElement("feBlend",{in2:"effect2_dropShadow_2612_73754",result:"effect3_dropShadow_2612_73754"}),n.createElement("feBlend",{in:"SourceGraphic",in2:"effect3_dropShadow_2612_73754",result:"shape"}))))}function d(){return n.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:48,height:48,rx:3.84,fill:"#F1F9D8"}),n.createElement("rect",{x:28.2,y:17.391,width:13.2,height:13.2,rx:6.6,fill:"#BAD66D"}),n.createElement("path",{d:"M28.277 24.348a.5.5 0 0 0 0-.707l-3.182-3.182a.5.5 0 1 0-.707.707l2.828 2.828-2.828 2.829a.5.5 0 0 0 .707.707l3.182-3.182Zm-9.7.146h9.346v-1h-9.347v1Z",fill:"#000"}),n.createElement("rect",{x:6.598,y:17.994,width:12,height:12,rx:.45,fill:"#6D8E35"}),n.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}))}function u(){return n.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:48,height:48,rx:3.84,fill:"#FFE3F9"}),n.createElement("path",{fill:"#F697F9",d:"M7.205 15.955h22.29v7.2H7.205z"}),n.createElement("path",{fill:"#FFBDF2",d:"M14.654 25.084h27.35v7.2h-27.35z"}),n.createElement("path",{fill:"#000",d:"M22.5 13.884h1V34.12h-1z"}),n.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}))}function p(){return n.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:48,height:48,rx:3.84,fill:"#F0E3FF"}),n.createElement("path",{d:"M24.422 20.16v3.884h-9.545v4.127",stroke:"#000"}),n.createElement("path",{d:"M24.291 24.036h9.544v4.135",stroke:"#000"}),n.createElement("rect",{x:28.171,y:28.171,width:11.183,height:11.183,rx:.45,fill:"#DA9DFF"}),n.createElement("rect",{x:9,y:28.171,width:11.183,height:11.183,rx:.45,fill:"#DA9DFF"}),n.createElement("rect",{x:18.586,y:9,width:11.183,height:11.183,rx:.45,fill:"#A259FF"}),n.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}))}function m(){return n.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:48,height:48,rx:3.84,fill:"#E5EAF1"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.84 15h-7.218v5h7.216v.006l4.392-2.513-4.39-2.49V15Z",fill:"#fff"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.224 15h-7.22v5h7.216v.006l4.392-2.513-4.388-2.489V15Zm23.219 0h-7.219v5h7.184v.006L36.42 20h.023v-.013l4.357-2.493-4.357-2.471V15Z",fill:"#AFBCCF"}),n.createElement("path",{fill:"#AFBCCF",d:"M6 21.192h11.619v11.223H6z"}),n.createElement("path",{fill:"#fff",d:"M17.619 21.192h11.602v11.223H17.619z"}),n.createElement("path",{fill:"#AFBCCF",d:"M29.221 21.192h11.515v11.223H29.221z"}),n.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}))}function _(){return n.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:48,height:48,rx:3.2,fill:"#F1E5FF"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"2.7",stroke:"black",strokeOpacity:"0.05"}),n.createElement("path",{d:"M20 24C23.6128 24 23.6128 18 28 18",stroke:"black",strokeWidth:"0.689655",strokeLinecap:"round"}),n.createElement("path",{d:"M20 24C23.6128 24 23.6128 30 28 30",stroke:"black",strokeWidth:"0.689655",strokeLinecap:"round"}),n.createElement("rect",{x:"6",y:"20",width:"14",height:"8",rx:"4",fill:"#9747FF"}),n.createElement("rect",{x:"28",y:"14",width:"14",height:"8",rx:"4",fill:"#D9B8FF"}),n.createElement("rect",{x:"28",y:"26",width:"14",height:"8",rx:"4",fill:"#D9B8FF"}),n.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}))}function h(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},n.createElement("rect",{width:"48",height:"48",rx:"3.2",fill:"#FAEDEB"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"2.7",stroke:"black",strokeOpacity:"0.05"}),n.createElement("path",{d:"M8 24L40 24",stroke:"#D4583B",strokeWidth:"0.5",strokeLinecap:"round"}),n.createElement("path",{d:"M16.6667 24C16.6667 24.7364 17.2636 25.3333 18 25.3333C18.7364 25.3333 19.3333 24.7364 19.3333 24C19.3333 23.2636 18.7364 22.6667 18 22.6667C17.2636 22.6667 16.6667 23.2636 16.6667 24ZM18.25 24V18H17.75V24H18.25Z",fill:"#A55440"}),n.createElement("path",{d:"M31.3333 24C31.3333 23.2636 30.7364 22.6667 30 22.6667C29.2636 22.6667 28.6667 23.2636 28.6667 24C28.6667 24.7364 29.2636 25.3333 30 25.3333C30.7364 25.3333 31.3333 24.7364 31.3333 24ZM29.75 24L29.75 30L30.25 30L30.25 24L29.75 24Z",fill:"#A55440"}),n.createElement("rect",{x:"10",y:"8",width:"16",height:"10",rx:"1",fill:"#D4583B"}),n.createElement("rect",{x:"22",y:"30",width:"16",height:"10",rx:"1",fill:"#D4583B"}))}function g(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},n.createElement("rect",{width:"6.714",height:"6.714",x:"7.5",y:"7.5",fill:"#FFBDF2",stroke:"#F697F9",rx:".786"}),n.createElement("path",{fill:"#D5EB97",stroke:"#9CB74F",d:"M16.5 20.5a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"}),n.createElement("path",{stroke:"#AFBCCF",strokeLinecap:"round",strokeLinejoin:"round",d:"M18.572 10.857h5.142m0 0-2.571-2.571m2.571 2.571-2.571 2.572M10.857 23.714v-5.142m0 0 2.571 2.57m-2.571-2.57-2.572 2.57"}))}function f(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},n.createElement("rect",{width:"14",height:"6.5",x:"7.75",y:"9",fill:"#FFBDF2",stroke:"#F697F9",rx:".75"}),n.createElement("rect",{width:"11.5",height:"6.5",x:"12.75",y:"16.5",fill:"#E9FAFF",stroke:"#80CAFF",rx:".75"}))}function E(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},n.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"m14.45 21.758.976 2.277a.625.625 0 0 0 1.148 0l.976-2.277A1.25 1.25 0 0 1 18.7 21h4.175c.69 0 1.25-.56 1.25-1.25V9.125c0-.69-.56-1.25-1.25-1.25H9.125c-.69 0-1.25.56-1.25 1.25V19.75c0 .69.56 1.25 1.25 1.25H13.3c.5 0 .952.298 1.15.758Z"}),n.createElement("path",{fill:"#A259FF",d:"M13.5 12.25a2.5 2.5 0 1 0 5 0 2.5 2.5 0 0 0-5 0Z"}),n.createElement("path",{stroke:"#000",strokeLinecap:"round",d:"M12.25 17.25h7.5"}))}function y(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},n.createElement("rect",{width:"14",height:"9",x:"9",y:"7.75",fill:"#FFBDF2",stroke:"#F697F9",rx:"2"}),n.createElement("path",{stroke:"#F697F9",d:"M16 17.25v5"}),n.createElement("path",{stroke:"#AFBCCF",d:"M23.5 22.25h-15"}),n.createElement("circle",{cx:"16",cy:"22.25",r:"2.5",fill:"#F697F9"}))}function b(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},n.createElement("path",{stroke:"#AFBCCF",strokeLinecap:"round",d:"M6 16h1.25c.69 0 1.25-.56 1.25-1.25v-2.5c0-.69.56-1.25 1.25-1.25H11M6 16h1.25c.69 0 1.25.56 1.25 1.25v2.5c0 .69.56 1.25 1.25 1.25H11"}),n.createElement("rect",{width:"12.75",height:"6.5",x:"11.5",y:"7.75",fill:"#FFF2DF",stroke:"#FFC470",rx:"2"}),n.createElement("rect",{width:"12.75",height:"6.5",x:"11.5",y:"17.75",fill:"#E9FAFF",stroke:"#80CAFF",rx:"2"}))}function v(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},n.createElement("path",{fill:"#D5EB97",stroke:"#9CB74F",strokeLinecap:"round",strokeLinejoin:"round",d:"M17.875 8h-8.75C8.504 8 8 8.504 8 9.125v7.615c0 .607.641 1 1.182.723l2.295-1.171h6.398c.621 0 1.125-.504 1.125-1.125V9.125C19 8.504 18.496 8 17.875 8Z"}),n.createElement("path",{fill:"#fff",stroke:"#9CB74F",strokeLinecap:"round",strokeLinejoin:"round",d:"M14.126 14.27h8.809c.621 0 1.125.504 1.125 1.126v7.769a.813.813 0 0 1-1.186.722l-2.31-1.194h-6.438A1.125 1.125 0 0 1 13 21.569v-6.173c0-.62.503-1.124 1.125-1.124Z"}))}function I(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},n.createElement("path",{fill:"#fff",stroke:"#AFBCCF",d:"M7.75 12.75h16.5v9.517a1.983 1.983 0 0 1-1.983 1.983H9.733a1.983 1.983 0 0 1-1.983-1.983V12.75Z"}),n.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"M7.75 10.983C7.75 9.888 8.638 9 9.733 9h12.534c1.095 0 1.983.888 1.983 1.983v3.267H7.75v-3.267Z"}),n.createElement("rect",{width:"1",height:"3.75",x:"11",y:"7.539",fill:"#A259FF",rx:".5"}),n.createElement("rect",{width:"1",height:"3.75",x:"19.75",y:"7.539",fill:"#A259FF",rx:".5"}))}function T(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},n.createElement("mask",{id:"a",fill:"#fff"},n.createElement("path",{fillRule:"evenodd",d:"M19.75 19.125c0-.393.19-.758.48-1.024a6.25 6.25 0 1 0-8.46 0c.29.266.48.63.48 1.024v3.125a2.5 2.5 0 0 0 2.5 2.5h2.5a2.5 2.5 0 0 0 2.5-2.5v-3.125Z",clipRule:"evenodd"})),n.createElement("path",{fill:"#FFF2DF",fillRule:"evenodd",d:"M19.75 19.125c0-.393.19-.758.48-1.024a6.25 6.25 0 1 0-8.46 0c.29.266.48.63.48 1.024v3.125a2.5 2.5 0 0 0 2.5 2.5h2.5a2.5 2.5 0 0 0 2.5-2.5v-3.125Z",clipRule:"evenodd"}),n.createElement("path",{fill:"#FFC470",d:"M21.139 13.5a5.123 5.123 0 0 1-1.661 3.783l1.504 1.636a7.344 7.344 0 0 0 2.38-5.419h-2.223ZM16 8.361c2.838 0 5.139 2.3 5.139 5.139h2.222A7.361 7.361 0 0 0 16 6.139V8.36ZM10.861 13.5c0-2.838 2.3-5.139 5.139-5.139V6.14A7.361 7.361 0 0 0 8.639 13.5h2.222Zm1.661 3.783a5.123 5.123 0 0 1-1.66-3.783H8.638c0 2.144.918 4.075 2.379 5.419l1.504-1.636Zm.84 4.967v-3.125h-2.223v3.125h2.222Zm1.388 1.389a1.389 1.389 0 0 1-1.389-1.389H11.14a3.611 3.611 0 0 0 3.611 3.611V23.64Zm2.5 0h-2.5v2.222h2.5V23.64Zm1.389-1.389c0 .767-.622 1.389-1.389 1.389v2.222a3.611 3.611 0 0 0 3.611-3.611H18.64Zm0-3.125v3.125h2.222v-3.125H18.64Zm-7.621-.206c.106.097.12.18.12.206h2.223c0-.76-.366-1.406-.839-1.842l-1.504 1.636Zm8.46-1.636c-.473.436-.84 1.082-.84 1.842h2.223c0-.026.015-.109.121-.206l-1.504-1.636Z",mask:"url(#a)"}),n.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.111",d:"M16 20.375V17.25m0 0-2.5-2.5m2.5 2.5 2.5-2.5"}),n.createElement("path",{fill:"#fff",stroke:"#FFC470",strokeWidth:"1.111",d:"M12.806 20.306h6.388v1.944c0 1.074-.87 1.944-1.944 1.944h-2.5a1.944 1.944 0 0 1-1.944-1.944v-1.944Z"}))}function S(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},n.createElement("circle",{cx:"21",cy:"21",r:"3.25",fill:"#fff",stroke:"#AFBCCF"}),n.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"M21.833 13.781h-.5v1.777a.75.75 0 0 1-1.27.54l-2.258-2.177-.145-.14h-3.32l-.145.14-2.258 2.177a.75.75 0 0 1-1.27-.54v-1.777H8.5a.75.75 0 0 1-.75-.75V8.5a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 .75.75v4.531a.75.75 0 0 1-.75.75h-1.667Z"}),n.createElement("circle",{cx:"11",cy:"21",r:"3.25",fill:"#fff",stroke:"#AFBCCF"}))}function w(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},n.createElement("path",{fill:"#D5EB97",d:"M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Z"}),n.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",d:"M16 12.25v3.906l2.5 2.344"}),n.createElement("path",{fill:"#9CB74F",fillRule:"evenodd",d:"M10.256 11.146A7.52 7.52 0 1 1 8.479 16a.5.5 0 0 0-1 0A8.52 8.52 0 1 0 9.5 10.49V8a.5.5 0 0 0-1 0v3.646a.5.5 0 0 0 .5.5h3.646a.5.5 0 1 0 0-1h-2.39Z",clipRule:"evenodd"}))}function A(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},n.createElement("rect",{width:"5",height:"5",x:"1.5",y:"1.5",fill:"#FFBDF2",stroke:"#F697F9",rx:".5"}),n.createElement("path",{fill:"#D5EB97",stroke:"#9CB74F",d:"M8.5 11.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"}),n.createElement("path",{stroke:"#AFBCCF",strokeLinecap:"round",strokeLinejoin:"round",d:"M10 4h4m0 0-2-2m2 2-2 2M4 14v-4m0 0 2 2m-2-2-2 2"}))}function C(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},n.createElement("rect",{width:"11",height:"5",x:"1.5",y:"2.5",fill:"#FFBDF2",stroke:"#F697F9",rx:".5"}),n.createElement("rect",{width:"9",height:"5",x:"5.5",y:"8.5",fill:"#E9FAFF",stroke:"#80CAFF",rx:".5"}))}function N(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},n.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"m6.76 12.606.78 1.822a.5.5 0 0 0 .92 0l.78-1.822a1 1 0 0 1 .92-.606h3.34a1 1 0 0 0 1-1V2.5a1 1 0 0 0-1-1h-11a1 1 0 0 0-1 1V11a1 1 0 0 0 1 1h3.34a1 1 0 0 1 .92.606Z"}),n.createElement("path",{fill:"#A259FF",d:"M6 5a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z"}),n.createElement("path",{stroke:"#000",strokeLinecap:"round",d:"M5 9h6"}))}function O(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},n.createElement("rect",{width:"11",height:"7",x:"2.5",y:"1.5",fill:"#FFBDF2",stroke:"#F697F9",rx:"1.5"}),n.createElement("path",{stroke:"#F697F9",d:"M8 9v4"}),n.createElement("path",{stroke:"#AFBCCF",d:"M14 13H2"}),n.createElement("circle",{cx:"8",cy:"13",r:"2",fill:"#F697F9"}))}function L(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",fill:"none"},n.createElement("path",{stroke:"#AFBCCF",strokeLinecap:"round",d:"M1 8h1a1 1 0 0 0 1-1V5a1 1 0 0 1 1-1h1M1 8h1a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1h1"}),n.createElement("rect",{width:"10",height:"5",x:"5.5",y:"1.5",fill:"#FFF2DF",stroke:"#FFC470",rx:"1.5"}),n.createElement("rect",{width:"10",height:"5",x:"5.5",y:"9.5",fill:"#E9FAFF",stroke:"#80CAFF",rx:"1.5"}))}function R(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},n.createElement("path",{fill:"#D5EB97",stroke:"#9CB74F",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.5 1.5h-7a1 1 0 0 0-1 1v6.092a.75.75 0 0 0 1.091.668l1.815-.927H9.5a1 1 0 0 0 1-1V2.5a1 1 0 0 0-1-1Z"}),n.createElement("path",{fill:"#fff",stroke:"#9CB74F",strokeLinecap:"round",strokeLinejoin:"round",d:"M6.5 6.517h7.048a1 1 0 0 1 1 1v6.215a.75.75 0 0 1-1.094.667l-1.827-.944H6.5a1 1 0 0 1-1-1V7.517a1 1 0 0 1 1-1Z"}))}function P(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},n.createElement("path",{fill:"#fff",stroke:"#AFBCCF",d:"M1.5 5.5h13v7.513c0 .821-.666 1.487-1.487 1.487H2.987A1.487 1.487 0 0 1 1.5 13.013V5.5Z"}),n.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"M1.5 3.987c0-.821.666-1.487 1.487-1.487h10.026c.821 0 1.487.666 1.487 1.487V6.5h-13V3.987Z"}),n.createElement("rect",{width:"1",height:"3",x:"4",y:"1",fill:"#A259FF",rx:".5"}),n.createElement("rect",{width:"1",height:"3",x:"11",y:"1",fill:"#A259FF",rx:".5"}))}function k(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},n.createElement("mask",{id:"a",fill:"#fff"},n.createElement("path",{fillRule:"evenodd",d:"M11 10.5c0-.315.152-.606.384-.819a5 5 0 1 0-6.768 0c.232.213.384.504.384.819V13a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2.5Z",clipRule:"evenodd"})),n.createElement("path",{fill:"#FFF2DF",fillRule:"evenodd",d:"M11 10.5c0-.315.152-.606.384-.819a5 5 0 1 0-6.768 0c.232.213.384.504.384.819V13a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2.5Z",clipRule:"evenodd"}),n.createElement("path",{fill:"#FFC470",d:"m4.616 9.681-.677.736.677-.736Zm6.768 0-.677-.736.677.736ZM12 6a3.987 3.987 0 0 1-1.293 2.945l1.354 1.472A5.987 5.987 0 0 0 14 6h-2ZM8 2a4 4 0 0 1 4 4h2a6 6 0 0 0-6-6v2ZM4 6a4 4 0 0 1 4-4V0a6 6 0 0 0-6 6h2Zm1.293 2.945A3.987 3.987 0 0 1 4 6H2c0 1.748.748 3.322 1.94 4.417l1.353-1.472ZM6 13v-2.5H4V13h2Zm1 1a1 1 0 0 1-1-1H4a3 3 0 0 0 3 3v-2Zm2 0H7v2h2v-2Zm1-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2Zm0-2.5V13h2v-2.5h-2Zm-6.06-.083c.03.028.046.053.054.07.008.016.006.02.006.013h2c0-.645-.31-1.19-.707-1.555L3.94 10.417Zm6.767-1.472C10.31 9.31 10 9.855 10 10.5h2c0 .006-.002.003.006-.013a.247.247 0 0 1 .055-.07l-1.354-1.472Z",mask:"url(#a)"}),n.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",d:"M8 11.5V9m0 0L6 7m2 2 2-2"}),n.createElement("path",{fill:"#fff",stroke:"#FFC470",d:"M5.5 11.5h5V13A1.5 1.5 0 0 1 9 14.5H7A1.5 1.5 0 0 1 5.5 13v-1.5Z"}))}function D(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},n.createElement("circle",{cx:"12",cy:"12",r:"2.5",fill:"#fff",stroke:"#AFBCCF"}),n.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"M12.667 6.125h-.5v1.522a.5.5 0 0 1-.847.36L9.514 6.264l-.146-.14H6.632l-.146.14L4.68 8.006a.5.5 0 0 1-.847-.36V6.126H2a.5.5 0 0 1-.5-.5V2a.5.5 0 0 1 .5-.5h12a.5.5 0 0 1 .5.5v3.625a.5.5 0 0 1-.5.5h-1.333Z"}),n.createElement("circle",{cx:"4",cy:"12",r:"2.5",fill:"#fff",stroke:"#AFBCCF"}))}function M(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},n.createElement("path",{fill:"#D5EB97",d:"M14 8A6 6 0 1 1 2 8a6 6 0 0 1 12 0Z"}),n.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",d:"M8 5v3.125L10 10"}),n.createElement("path",{fill:"#9CB74F",fillRule:"evenodd",d:"M3.266 4.45A5.917 5.917 0 1 1 2.083 8a.5.5 0 0 0-1 0 6.917 6.917 0 1 0 1.584-4.404V2.168a.5.5 0 0 0-1 0v2.917a.5.5 0 0 0 .5.5h2.916a.5.5 0 0 0 0-1H3.114a.498.498 0 0 0 .152-.135Z",clipRule:"evenodd"}))}var x=(e=>(e.NEVER="never",e.ONCE="once",e.MORETHANEONCE="morethanonce",e))(x||{}),F=(e=>(e[e.ENTRY=0]="ENTRY",e[e.PROMPT_BUILDER=1]="PROMPT_BUILDER",e))(F||{}),U=(e=>(e.MEETING="meeting",e.GANTT_CHART="gantt_chart",e.BRAINSTORM="brainstorm",e.FLOW_CHART="flow_chart",e.ORG_CHART="org_chart",e.PLAN="plan",e.MIND_MAP="mind_map",e.TIMELINE="timeline",e))(U||{}),B=(e=>(e.WEEKLY_SYNC="weekly_sync",e.PLAN="plan",e.BRAINSTORM="brainstorm",e.TEAM_RETRO="team_retro",e.ONEONONE="1:1",e.GANTT_CHART="gantt_chart",e.FLOW_CHART="flow_chart",e.ORG_CHART="org_chart",e.MIND_MAP="mind_map",e.TIMELINE="timeline",e))(B||{}),H=(e=>(e.IN_EDITOR="in_editor",e.TEMPLATE_SHELF="template_shelf",e.COMMUNITY="community",e.ONBOARDING_MODAL="onboarding_modal",e))(H||{}),V=(e=>(e.GENERATE_MODE="generate_stage",e.REFINEMENT_MODE="refinement_stage",e))(V||{});let G="figjam_ai_summarization",W="figjam_ai_clustering",K="figjam_ai_diagram",Y="figjam_ai_template",j="https://help.figma.com/hc/articles/16822138920343";var z=(e=>(e.TEMPLATE="template",e.VISUAL="visual",e))(z||{});function $(e){return"categoryKey"in e}function Z(e){switch(e){case"weekly_sync":return[{icon:"\u{1F9CA}",title:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{icon:"\u{1F4CB}",title:(0,o.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{icon:"\u{1F5E3}",title:(0,o.t)("whiteboard.ai_modal.suggestion.updates"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.updates.prompt")},{icon:"\u27A1\uFE0F",title:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"plan":return[{icon:"\u{1F945}",title:(0,o.t)("whiteboard.ai_modal.suggestion.goals"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.goals.prompt")},{icon:"\u{1F4D1}",title:(0,o.t)("whiteboard.ai_modal.suggestion.project_list"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.plan_project_list.prompt")},{icon:"\u27A1\uFE0F",title:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"brainstorm":return[{icon:"\u{1F9CA}",title:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{icon:"\u{1F945}",title:(0,o.t)("whiteboard.ai_modal.suggestion.goals"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.goals.prompt")},{icon:"\u{1F4C8}",title:(0,o.t)("whiteboard.ai_modal.suggestion.research"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.research.prompt")},{icon:"\u27A1\uFE0F",title:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"team_retro":return[{icon:"\u{1F4CB}",title:(0,o.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{icon:"\u{1F9CA}",title:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{icon:"\u27A1\uFE0F",title:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"1:1":return[{icon:"\u{1F4CB}",title:(0,o.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{icon:"\u{1F5E3}",title:(0,o.t)("whiteboard.ai_modal.suggestion.updates"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.updates.prompt")},{icon:"\u{1F4C6}",title:(0,o.t)("whiteboard.ai_modal.suggestion.calendar"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.calendar.prompt")}];case"gantt_chart":return[{icon:"\u{1F4C6}",title:(0,o.t)("whiteboard.ai_modal.suggestion.date_range"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.date_range.prompt")},{icon:"\u{1F4D1}",title:(0,o.t)("whiteboard.ai_modal.suggestion.project_list"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.project_list.prompt")},{icon:"\u{1F3C1}",title:(0,o.t)("whiteboard.ai_modal.suggestion.milestones"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.milestones.prompt")}];case"flow_chart":return[{icon:"\u{1F522}",title:(0,o.t)("whiteboard.ai_modal.suggestion.decision_tree"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.decision_tree.prompt")}];case"org_chart":return[{icon:"\u{1FA9C}",title:(0,o.t)("whiteboard.ai_modal.suggestion.levels"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.levels.prompt")},{icon:"\u{1F9D1}",title:(0,o.t)("whiteboard.ai_modal.suggestion.people"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.people.prompt")}];case"mind_map":return[{icon:"\u{1F50D}",title:(0,o.t)("whiteboard.ai_modal.suggestion.explore_topics"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.explore_topics.prompt")}];case"timeline":return[{icon:"\u{1F3C1}",title:(0,o.t)("whiteboard.ai_modal.suggestion.milestones"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.milestones.prompt")}];default:return[]}}function q(e){switch(e){case"weekly_sync":return[{title:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.updates"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.updates.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"plan":return[{title:(0,o.t)("whiteboard.ai_modal.suggestion.goals"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.goals.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.project_list"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.plan_project_list.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"brainstorm":return[{title:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.goals"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.goals.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.research"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.research.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"team_retro":return[{title:(0,o.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"1:1":return[{title:(0,o.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.updates"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.updates.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.calendar"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.calendar.prompt")}];case"gantt_chart":return[{title:(0,o.t)("whiteboard.ai_modal.suggestion.date_range"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.date_range.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.project_list"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.project_list.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.milestones"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.milestones.prompt")}];case"flow_chart":return[{title:(0,o.t)("whiteboard.ai_modal.suggestion.decision_tree"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.decision_tree.prompt")}];case"org_chart":return[{title:(0,o.t)("whiteboard.ai_modal.suggestion.levels"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.levels.prompt")},{title:(0,o.t)("whiteboard.ai_modal.suggestion.people"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.people.prompt")}];case"mind_map":return[{title:(0,o.t)("whiteboard.ai_modal.suggestion.explore_topics"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.explore_topics.prompt")}];case"timeline":return[{title:(0,o.t)("whiteboard.ai_modal.suggestion.milestones"),prompt:(0,o.t)("whiteboard.ai_modal.suggestion.milestones.prompt")}];default:return[]}}let J=(e,t)=>e?t:[];function X(e,t){if(t)return Z(t).filter(t=>!e.includes(t.prompt));let r=[{icon:"\u{1F324}",title:(0,o.t)("whiteboard.ai_modal.usecase.weekly_sync"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.weekly_sync.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,o.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,o.t)("whiteboard.ai_modal.pill.keyword.weekly"),(0,o.t)("whiteboard.ai_modal.pill.keyword.sync"),(0,o.t)("whiteboard.ai_modal.usecase.weekly_sync")],categoryKey:"weekly_sync"},{icon:"\u270D\uFE0F",title:(0,o.t)("whiteboard.ai_modal.usecase.plan"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.plan.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.usecase.plan")],categoryKey:"plan"},{icon:"\u{1F9E0}",title:(0,o.t)("whiteboard.ai_modal.usecase.brainstorm"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.brainstorm.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.usecase.brainstorm")],categoryKey:"brainstorm"},{icon:"\u{1F538}",title:(0,o.t)("whiteboard.ai_modal.usecase.flow_chart"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.flow_chart.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,o.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,o.t)("whiteboard.ai_modal.pill.keyword.flow"),(0,o.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,o.t)("whiteboard.ai_modal.pill.keyword.flowchart"),(0,o.t)("whiteboard.ai_modal.usecase.flow_chart")],categoryKey:"flow_chart"},{icon:"\u{1F4C6}",title:(0,o.t)("whiteboard.ai_modal.usecase.gantt_chart"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.gantt_chart.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,o.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,o.t)("whiteboard.ai_modal.pill.keyword.gantt"),(0,o.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,o.t)("whiteboard.ai_modal.usecase.gantt_chart")],categoryKey:"gantt_chart"},{icon:"\u{1F4BC}",title:(0,o.t)("whiteboard.ai_modal.usecase.org_chart"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.org_chart.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,o.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,o.t)("whiteboard.ai_modal.pill.keyword.org"),(0,o.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,o.t)("whiteboard.ai_modal.usecase.org_chart")],categoryKey:"org_chart"},{icon:"\u{1F331}",title:(0,o.t)("whiteboard.ai_modal.usecase.team_retro"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.team_retro.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,o.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,o.t)("whiteboard.ai_modal.pill.keyword.team"),(0,o.t)("whiteboard.ai_modal.pill.keyword.retro"),(0,o.t)("whiteboard.ai_modal.pill.keyword.retrospective"),(0,o.t)("whiteboard.ai_modal.pill.keyword.team_retro"),(0,o.t)("whiteboard.ai_modal.usecase.team_retro")],categoryKey:"team_retro"},{icon:"\u{1F5E3}",title:(0,o.t)("whiteboard.ai_modal.usecase.1:1"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.1:1.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,o.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,o.t)("whiteboard.ai_modal.pill.keyword.1:1s"),(0,o.t)("whiteboard.ai_modal.usecase.1:1")],categoryKey:"1:1"},...J(eg(),[{icon:"\u{1F4AD}",title:(0,o.t)("whiteboard.ai_modal.usecase.mind_map"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.mind_map.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.usecase.mind_map")],categoryKey:"mind_map"}]),...J(!!(0,a.kc)().figjam_text_to_visual_timeline,[{icon:"\u23F1\uFE0F",title:(0,o.t)("whiteboard.ai_modal.usecase.timeline"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.timeline.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.usecase.timeline")],categoryKey:"timeline"}])];if(0===e.length)return r;let n=[],i=e.toLocaleLowerCase();return r.forEach(e=>{e.keywords.some(e=>e.toLocaleLowerCase().startsWith(i))&&n.push(e)}),n}function Q(e,t){if(t)return q(t).filter(t=>!e.includes(t.prompt));let r=[...J(eg(),[{title:(0,o.t)("whiteboard.ai_modal.usecase.mind_map"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.mind_map.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.options"),(0,o.t)("whiteboard.ai_modal.pill.keyword.ideas"),(0,o.t)("whiteboard.ai_modal.usecase.mind_map"),(0,o.t)("whiteboard.ai_modal.usecase.brainstorm")],categoryKey:"mind_map"}]),...J(!!(0,a.kc)().figjam_text_to_visual_timeline,[{title:(0,o.t)("whiteboard.ai_modal.usecase.timeline"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.timeline.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.schedule"),(0,o.t)("whiteboard.ai_modal.usecase.timeline")],categoryKey:"timeline"}]),{title:(0,o.t)("whiteboard.ai_modal.usecase.flow_chart"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.flow_chart.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,o.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,o.t)("whiteboard.ai_modal.pill.keyword.flow"),(0,o.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,o.t)("whiteboard.ai_modal.pill.keyword.flowchart"),(0,o.t)("whiteboard.ai_modal.pill.keyword.userflow"),(0,o.t)("whiteboard.ai_modal.pill.keyword.userjourney"),(0,o.t)("whiteboard.ai_modal.pill.keyword.journey"),(0,o.t)("whiteboard.ai_modal.pill.keyword.process"),(0,o.t)("whiteboard.ai_modal.usecase.flow_chart")],categoryKey:"flow_chart"},{title:(0,o.t)("whiteboard.ai_modal.usecase.gantt_chart"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.gantt_chart.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,o.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,o.t)("whiteboard.ai_modal.pill.keyword.gantt"),(0,o.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,o.t)("whiteboard.ai_modal.pill.keyword.schedule"),(0,o.t)("whiteboard.ai_modal.usecase.gantt_chart")],categoryKey:"gantt_chart"},{title:(0,o.t)("whiteboard.ai_modal.usecase.org_chart"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.org_chart.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,o.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,o.t)("whiteboard.ai_modal.pill.keyword.org"),(0,o.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,o.t)("whiteboard.ai_modal.usecase.org_chart")],categoryKey:"org_chart"},{title:(0,o.t)("whiteboard.ai_modal.usecase.1:1"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.1:1.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,o.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,o.t)("whiteboard.ai_modal.pill.keyword.1:1s"),(0,o.t)("whiteboard.ai_modal.usecase.1:1")],categoryKey:"1:1"},{title:(0,o.t)("whiteboard.ai_modal.usecase.plan"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.plan.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.usecase.plan")],categoryKey:"plan"},{title:(0,o.t)("whiteboard.ai_modal.usecase.brainstorm"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.brainstorm.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.usecase.brainstorm")],categoryKey:"brainstorm"},{title:(0,o.t)("whiteboard.ai_modal.usecase.weekly_sync"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.weekly_sync.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,o.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,o.t)("whiteboard.ai_modal.pill.keyword.weekly"),(0,o.t)("whiteboard.ai_modal.pill.keyword.sync"),(0,o.t)("whiteboard.ai_modal.usecase.weekly_sync")],categoryKey:"weekly_sync"},{title:(0,o.t)("whiteboard.ai_modal.usecase.team_retro"),prompt:(0,o.t)("whiteboard.ai_modal.usecase.team_retro.prompt"),keywords:[(0,o.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,o.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,o.t)("whiteboard.ai_modal.pill.keyword.team"),(0,o.t)("whiteboard.ai_modal.pill.keyword.retro"),(0,o.t)("whiteboard.ai_modal.pill.keyword.retrospective"),(0,o.t)("whiteboard.ai_modal.pill.keyword.team_retro"),(0,o.t)("whiteboard.ai_modal.usecase.team_retro")],categoryKey:"team_retro"}];if(0===e.length)return r;let n=[],i=e.toLocaleLowerCase();return r.forEach(e=>{e.keywords.some(e=>e.toLocaleLowerCase().startsWith(i))&&n.push(e)}),n}function ee(e){let t=Object.keys(e),r=t[Math.floor(Math.random()*t.length)],n=e[r];return{chosenUseCaseKey:r,suggestion:n[Math.floor(Math.random()*n.length)]}}function et(e){let t=Object.keys(e),r=(0,i.QP)(t),n=e[r];return{chosenUseCaseKey:r,suggestion:n[Math.floor(Math.random()*n.length)]}}function er(e){return et("template"===e?en():ei()).suggestion}function en(){return{brainstorm:[{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_1"),useCaseCategory:"brainstorm"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_2"),useCaseCategory:"brainstorm"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_3"),useCaseCategory:"brainstorm"}],weekly_sync:[{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_1"),useCaseCategory:"weekly_sync"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_2"),useCaseCategory:"weekly_sync"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_3"),useCaseCategory:"weekly_sync"}],plan:[{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.plan"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_1"),useCaseCategory:"plan"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.plan"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_2"),useCaseCategory:"plan"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.plan"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_3"),useCaseCategory:"plan"}],one_on_one:[{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_1"),useCaseCategory:"1:1"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_2"),useCaseCategory:"1:1"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_3"),useCaseCategory:"1:1"}],team_retro:[{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_1"),useCaseCategory:"team_retro"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_2"),useCaseCategory:"team_retro"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_3"),useCaseCategory:"team_retro"}]}}function ei(){return{flowchart:[{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.flowchart"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.flowchart.subtitle_1"),useCaseCategory:"flow_chart"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.flowchart"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.flowchart.subtitle_2"),useCaseCategory:"flow_chart"}],gantt:[{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.gantt"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.gantt.subtitle_1"),useCaseCategory:"gantt_chart"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.gantt"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.gantt.subtitle_2"),useCaseCategory:"gantt_chart"}],orgchart:[{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.orgchart"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.orgchart.subtitle_2"),useCaseCategory:"org_chart"}],...J(eg(),{mindmap:[{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_1"),useCaseCategory:"mind_map"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_2"),useCaseCategory:"mind_map"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_3"),useCaseCategory:"mind_map"}]}),...J(!!(0,a.kc)().figjam_text_to_visual_timeline,{timeline:[{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_1"),useCaseCategory:"timeline"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_2"),useCaseCategory:"timeline"},{title:(0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_3"),useCaseCategory:"timeline"}]})}}function ea(e){let t={meeting:[{type:"meeting",title:(0,o.t)("whiteboard.ai_modal.suggestion.weekly_sync"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.weekly_sync.subtitle_1"),useCaseCategory:"weekly_sync"},{type:"meeting",title:(0,o.t)("whiteboard.ai_modal.suggestion.team_retro"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.team_retro.subtitle_1"),useCaseCategory:"team_retro"},{type:"meeting",title:(0,o.t)("whiteboard.ai_modal.suggestion.1:1"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.1:1.subtitle_1"),useCaseCategory:"1:1"}],brainstorm:[{type:"brainstorm",title:(0,o.t)("whiteboard.ai_modal.suggestion.brainstorm"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.brainstorm.subtitle_1"),useCaseCategory:"brainstorm"}],plan:[{type:"plan",title:(0,o.t)("whiteboard.ai_modal.suggestion.plan"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.plan.subtitle_1"),useCaseCategory:"plan"},{type:"plan",title:(0,o.t)("whiteboard.ai_modal.suggestion.plan"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.plan.subtitle_2"),useCaseCategory:"plan"},{type:"plan",title:(0,o.t)("whiteboard.ai_modal.suggestion.plan"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.plan.subtitle_3"),useCaseCategory:"plan"}]},r={gantt:[{type:"gantt_chart",title:(0,o.t)("whiteboard.ai_modal.suggestion.gantt"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.gantt.subtitle_1"),useCaseCategory:"gantt_chart"},{type:"gantt_chart",title:(0,o.t)("whiteboard.ai_modal.suggestion.gantt"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.gantt.subtitle_2"),useCaseCategory:"gantt_chart"}],flowchart:[{type:"flow_chart",title:(0,o.t)("whiteboard.ai_modal.suggestion.flowchart"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.flowchart.subtitle_1"),useCaseCategory:"flow_chart"},{type:"flow_chart",title:(0,o.t)("whiteboard.ai_modal.suggestion.flowchart"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.flowchart.subtitle_2"),useCaseCategory:"flow_chart"}],orgchart:[{type:"org_chart",title:(0,o.t)("whiteboard.ai_modal.suggestion.orgchart"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.orgchart.subtitle_1"),useCaseCategory:"org_chart"},{type:"org_chart",title:(0,o.t)("whiteboard.ai_modal.suggestion.orgchart"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.orgchart.subtitle_2"),useCaseCategory:"org_chart"}],...J(eg(),{mindmap:[{type:"mind_map",title:(0,o.t)("whiteboard.ai_modal.suggestion.mind_map"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.mind_map.subtitle_1"),useCaseCategory:"mind_map"},{type:"mind_map",title:(0,o.t)("whiteboard.ai_modal.suggestion.mind_map"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.mind_map.subtitle_2"),useCaseCategory:"mind_map"}]}),...J(!!(0,a.kc)().figjam_text_to_visual_timeline,{timeline:[{type:"timeline",title:(0,o.t)("whiteboard.ai_modal.suggestion.timeline"),subtitle:(0,o.t)("whiteboard.ai_modal.suggestion.timeline.subtitle_1"),useCaseCategory:"timeline"}]})},n=[],l=ee(t);n.push(l.suggestion);let s=ee(r);n.push(s.suggestion);let c={...t,...r};delete c[s.chosenUseCaseKey],delete c[l.chosenUseCaseKey];for(let t=0;t<e;t++){let e=ee(c);n.push(e.suggestion),delete c[e.chosenUseCaseKey]}return(0,i.k4)(n)}function eo(e){let t=en(),r=ei(),n=[],a={...t,...r},o=et(t);n.push(o.suggestion);let l=et(r);n.push(l.suggestion),delete a[l.chosenUseCaseKey],delete a[o.chosenUseCaseKey];for(let t=0;t<e;t++){let e=et(a);n.push(e.suggestion),delete a[e.chosenUseCaseKey]}return(0,i.k4)(n)}function el(e){switch(e){case"meeting":return n.createElement(s,null);case"gantt_chart":return n.createElement(u,null);case"brainstorm":return n.createElement(c,null);case"flow_chart":return n.createElement(d,null);case"org_chart":return n.createElement(p,null);case"plan":return n.createElement(m,null);case"mind_map":return n.createElement(_,null);case"timeline":return n.createElement(h,null)}}function es(e){switch(e){case"weekly_sync":return n.createElement(S,null);case"brainstorm":return n.createElement(T,null);case"flow_chart":return n.createElement(g,null);case"gantt_chart":return n.createElement(f,null);case"org_chart":return n.createElement(E,null);case"1:1":return n.createElement(v,null);case"plan":return n.createElement(I,null);case"team_retro":return n.createElement(w,null);case"mind_map":return n.createElement(b,null);case"timeline":return n.createElement(y,null)}}function ec(e){switch(e){case"weekly_sync":return n.createElement(D,null);case"brainstorm":return n.createElement(k,null);case"flow_chart":return n.createElement(A,null);case"gantt_chart":return n.createElement(C,null);case"org_chart":return n.createElement(N,null);case"1:1":return n.createElement(R,null);case"plan":return n.createElement(P,null);case"team_retro":return n.createElement(M,null);case"mind_map":return n.createElement(L,null);case"timeline":return n.createElement(O,null)}}function ed(e,t){return void 0!==t&&e===function(e){switch(e){case"weekly_sync":return(0,o.t)("whiteboard.ai_modal.usecase.weekly_sync.prompt");case"brainstorm":return(0,o.t)("whiteboard.ai_modal.usecase.brainstorm.prompt");case"flow_chart":return(0,o.t)("whiteboard.ai_modal.usecase.flow_chart.prompt");case"gantt_chart":return(0,o.t)("whiteboard.ai_modal.usecase.gantt_chart.prompt");case"org_chart":return(0,o.t)("whiteboard.ai_modal.usecase.org_chart.prompt");case"1:1":return(0,o.t)("whiteboard.ai_modal.usecase.1:1.prompt");case"plan":return(0,o.t)("whiteboard.ai_modal.usecase.plan.prompt");case"team_retro":return(0,o.t)("whiteboard.ai_modal.usecase.team_retro.prompt");case"mind_map":return(0,o.t)("whiteboard.ai_modal.usecase.mind_map.prompt");case"timeline":return(0,o.t)("whiteboard.ai_modal.usecase.timeline.prompt")}}(t)}function eu(e,t,r=!0){return r?`${e} ${t}${(0,o.t)("whiteboard.ai_modal.prompt_builder.period")}`:`${e} ${t}`}function ep(e){let t=e.trim(),r=(0,o.t)("whiteboard.ai_modal.prompt_builder.period"),n=[r,",","!","?"].some(e=>e===t.charAt(t.length-1))?"":r;return`${t}${n} ${(0,o.t)("whiteboard.ai_modal.prompt_builder.add")}`}function em(e,t){var r;if(!t||"mind_map"===t)return!1;if(ed(e,t))return!0;for(let t of Object.values(ef()))if(e===eE(t))return!0;return e.endsWith(`${(0,o.t)("whiteboard.ai_modal.prompt_builder.period")} `)&&(r=e.trim(),[eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_1")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_2")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_3")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_1")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_2")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_3")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.plan"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_1")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.plan"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_2")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.plan"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_3")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_1")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_2")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_3")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_1")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_2")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_3")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.flowchart"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.flowchart.subtitle_1")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.flowchart"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.flowchart.subtitle_2")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.gantt"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.gantt.subtitle_1")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.gantt"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.gantt.subtitle_2")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.orgchart"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.orgchart.subtitle_2")),...J(eg(),[eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_1")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_2")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_3"))]),...J(!!(0,a.kc)().figjam_text_to_visual_timeline,[eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_1")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_2")),eu((0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline"),(0,o.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_3"))])].includes(r))&&!e.startsWith((0,o.t)("whiteboard.ai_modal.suggestion_v2.mind_map"))}function e_(){return!!(0,a.kc)().figjam_text_to_visual}async function eh({prompt:e,signal:t,authInfo:r}){let n=await l.Ay.figjam.classifyCreate({prompt:e},r);return t.aborted?null:n.type}function eg(){return!!(0,a.kc)().figjam_text_to_visual_mindmap&&!!(0,a.kc)().figjam_mindmaps_entry_enable}function ef(){return{"Mind map - Road trip":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.mind_map"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.mind_map.subtitle_1"),bold:!1}],category:"mind_map",setUseCaseCategory:!0},"Timeline - Product":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.timeline"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.timeline.subtitle_2"),bold:!1}],category:"timeline",setUseCaseCategory:!0},"Gantt chart - Research":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.gantt_chart"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.gantt_chart.subtitle_1"),bold:!1}],category:"gantt_chart",setUseCaseCategory:!0},"Team retro - Eng":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.team_retro"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.team_retro.subtitle_1"),bold:!1}],category:"team_retro",setUseCaseCategory:!0},"Timeline - Wedding":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.timeline"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.timeline.subtitle_1"),bold:!1}],category:"timeline",setUseCaseCategory:!0},"1:1 - Manager":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.1:1"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.1:1.subtitle_1"),bold:!1}],category:"1:1",setUseCaseCategory:!0},"Org chart - Project":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.org_chart"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.org_chart.subtitle_1"),bold:!1}],category:"org_chart",setUseCaseCategory:!0},"User flow":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.user_flow"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.user_flow.subtitle_1"),bold:!1}],category:"flow_chart",setUseCaseCategory:!1},Brainstorm:{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.brainstorm.subtitle_1.part_1"),bold:!1},{text:(0,o.t)("whiteboard.community_prompt.suggestion.brainstorm.subtitle_1.part_2"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.brainstorm.subtitle_1.part_3"),bold:!1}],category:"brainstorm",setUseCaseCategory:!1},"Weekly sync":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.weekly_sync"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.weekly_sync.subtitle_1"),bold:!1}],category:"weekly_sync",setUseCaseCategory:!0},"Process flow":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.process_flow"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.process_flow.subtitle_1"),bold:!1}],category:"flow_chart",setUseCaseCategory:!1},"Family tree":{suggestion:[{text:(0,o.t)("whiteboard.community_prompt.suggestion.family_tree"),bold:!0},{text:(0,o.t)("whiteboard.community_prompt.suggestion.family_tree.subtitle_1"),bold:!1}],category:"org_chart",setUseCaseCategory:!1}}}function eE(e){let t="";return e.suggestion.forEach(e=>{t=0===t.length?e.text:`${t} ${e.text}`}),t}},211041:(e,t,r)=>{"use strict";r.d(t,{OU:()=>p,RA:()=>u,tG:()=>m});var n=r(966712),i=r(563706),a=r(825871),o=r(877723),l=r(694687),s=r(594901),c=r(99506),d=r(285334);let u=new Set([d.Ph,d.T0]);function p(e){var t;let r=e.openFile,n=r?r.teamId:null;return{teamId:n,orgId:e.currentUserOrgId,fileKey:r?r.key:null,userId:(null==(t=e.user)?void 0:t.id)||null,trackingSessionId:(0,a.f)()}}function m(){let e=(0,l.sZ)(),t=(0,s.gj)(null,c._Y.WHITEBOARD),r=(0,o.q8)();return!((0,n.kc)().figjam_generate_handbrake||(0,i.KR)())&&!r&&(null==e||!e.k12_google_org)&&t}},350042:(e,t,r)=>{"use strict";r.d(t,{Br:()=>m,F9:()=>u,Fg:()=>f,LX:()=>E,Mg:()=>y,fK:()=>g,h5:()=>d,lt:()=>_,lx:()=>p,tV:()=>h});var n=r(776250),i=r(374626),a=r(38580),o=r(36381),l=(e=>(e.FREEFORM="freeform",e.SUGGESTION="suggestion",e.AUTOCOMPLETE="autocomplete",e))(l||{}),s=(e=>(e.AI_PROMPT_EDITED="ai_prompt_edited",e.AI_PROMPT_BUILDER_OUTPUT_REQUESTED="ai_prompt_builder_output_requested",e.AI_PROMPT_BUILDER_OUTPUT_STREAMING="ai_prompt_builder_output_streaming",e.AI_PROMPT_BUILDER_OUTPUT_CREATED="ai_prompt_builder_output_created",e.AI_PROMPT_REQUEST_ERROR="ai_prompt_request_error",e.AI_PROMPT_SUGGESTIONS_VIEWED="ai_prompt_suggestions_viewed",e))(s||{});let c=e=>"board"===e?"template":"visual";function d(e,t,r,a,l,s,d,u,p,m,_){let h="inappropriate"===l?l:c(l);(0,o.qV)(a).then(o=>{(0,n.sx)("ai_prompt_builder_output_requested",{fileKey:e,variantIndex:t,numVariants:r,promptId:o,outputType:h,oneClickPromptUseCase:p,oneClickPromptUseCaseCategory:u,oneClickPromptUseCaseSubCategory:m,numCharactersInput:a.length,localOutputId:i.zl.get(y),stage:s,uiTriggeredFrom:d,autocompletePromptAddition:_},{forwardToDatadog:!0})})}function u(e,t,r,a,l){(0,o.qV)(r).then(r=>{(0,n.sx)("ai_prompt_builder_output_streaming",{fileKey:e,variantIndex:t,promptId:r,outputType:c(a),cortexRequestId:l,localOutputId:i.zl.get(y)},{forwardToDatadog:!0})})}function p(e,t,r,a,l){(0,o.qV)(r).then(r=>{(0,n.sx)("ai_prompt_builder_output_created",{fileKey:e,variantIndex:t,promptId:r,outputType:c(a),cortexRequestId:l,localOutputId:i.zl.get(y)},{forwardToDatadog:!0})})}function m(){(0,n.sx)("ai_prompt_edited",{promptEditType:"freeform"},{forwardToDatadog:!0})}function _(e,t){(0,n.sx)("ai_prompt_edited",{promptEditType:"suggestion",promptSuggestionIndex:e,promptSuggestionText:t},{forwardToDatadog:!0})}function h(e){(0,n.sx)("ai_prompt_edited",{promptEditType:"autocomplete",autocompleteSuggestionText:e},{forwardToDatadog:!0})}function g(e,t){(0,n.sx)("ai_prompt_request_error",{fileKey:e,errorMessage:t},{forwardToDatadog:!0})}function f(e){let t=e.map(e=>e.title);(0,n.sx)("ai_prompt_suggestions_viewed",{prompt_suggestions:t},{forwardToDatadog:!0})}let E=(0,a.eU)(null),y=(0,a.eU)(0)},315944:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var n=(e=>(e.LOADING="loading",e.ERROR="error",e.SUCCESS="success",e.NONE="none",e))(n||{})},88596:(e,t,r)=>{"use strict";r.d(t,{Ux:()=>l,Vn:()=>c,mr:()=>o,sh:()=>s});var n=r(38329),i=r(988022),a=r(974105),o=(e=>(e.REQUEST="ai_summary_requested",e.CREATE="ai_summary_created",e.DELETE="ai_summary_deleted",e.LINK_COPED="ai_summary_link_copied",e.TEXT_COPIED="ai_summary_text_copied",e.TIME_TAKEN_TO_COMPLETE="figjam.summarize.time_taken_to_complete",e))(o||{}),l=(e=>(e.TIME_TAKEN_TO_COMPLETE="figjam.cluster.time_taken_to_complete",e))(l||{});function s(e){return JSON.stringify(e).length}function c(e,t){var r;let o=n.D.getState(),l=(null==(r=(0,a.d1)(o))?void 0:r.key)??"";(0,i.ds)(e,l,o,{...t})}},342824:(e,t,r)=>{"use strict";r.d(t,{E$:()=>g,ez:()=>p,tE:()=>_,um:()=>h,xQ:()=>m});var n=r(411855),i=r(188507),a=r(341092),o=r(879466),l=r(737947),s=r(966712),c=r(939863),d=r(392592),u=r(479296),p=(e=>(e.SUMMARIZE="sticky-summarization-error",e.CLUSTER="sticky-cluster-error",e.GENERATE="generate-error",e))(p||{});let m={"sticky-summarization-error":"Error summarizing sticky selection: ","sticky-cluster-error":"Error sorting sticky selection: ","generate-error":"Error generating: "};var _=(e=>(e.Reload="reload",e.Trace="trace",e))(_||{});function h(){let e=(0,i.wA)();return n.useCallback((t,r,n)=>{let i;if(n)switch(n.type){case"reload":i={text:(0,c.t)("whiteboard.ai.reload"),action:()=>l.Ay.reload("Resolving an error encountered in FigJam AI")};break;case"trace":(0,s.kc)().cortex_execution_tracing&&(i={text:(0,c.t)("whiteboard.ai_modal.share_trace"),action(){(0,o.j)(JSON.stringify(n.trace,null,2),"trace.json")}})}e(d.F.enqueue({type:r,message:t,error:!!i,button:i}))},[e])}let g=(0,u.D)((e,t)=>{let r={"sticky-summarization-error":{content_length_limit_exceeded:(0,c.t)("whiteboard.ai_summary.content_length_limit_exceeded_error"),figjam_summarize_out_of_date:(0,c.t)("whiteboard.ai_summary.out_of_date_error"),rate_limit_exceeded:(0,c.t)("whiteboard.ai_summary.rate_limit_exceeded_error"),ai_opt_out_error:(0,c.t)("whiteboard.ai.ai_opt_out_error"),generic:(0,c.t)("whiteboard.ai_summary.generic_error"),service_issue:(0,c.t)("whiteboard.ai.service_issue_error"),unsafe_or_harmful_content:(0,c.t)("whiteboard.ai.inappropriate_input_error"),offline:(0,c.t)("whiteboard.ai.offline_error"),unauthorized:(0,c.t)("whiteboard.ai_summary.generic_error")},"sticky-cluster-error":{content_length_limit_exceeded:(0,c.t)("whiteboard.ai_cluster.content_length_limit_exceeded_error"),figjam_cluster_out_of_date:(0,c.t)("whiteboard.ai_cluster.out_of_date_error"),rate_limit_exceeded:(0,c.t)("whiteboard.ai_cluster.rate_limit_exceeded_error"),ai_opt_out_error:(0,c.t)("whiteboard.ai.ai_opt_out_error"),generic:(0,c.t)("whiteboard.ai_cluster.generic_error"),service_issue:(0,c.t)("whiteboard.ai.service_issue_error"),unsafe_or_harmful_content:(0,c.t)("whiteboard.ai.inappropriate_input_error"),offline:(0,c.t)("whiteboard.ai.offline_error"),unauthorized:(0,c.t)("whiteboard.ai_cluster.generic_error")},"generate-error":{content_length_limit_exceeded:(0,c.t)("whiteboard.ai_generate.content_length_limit_exceeded_error"),rate_limit_exceeded:(0,c.t)("whiteboard.ai_generate.rate_limit_error"),ai_opt_out_error:(0,c.t)("whiteboard.ai.ai_opt_out_error"),generic:(0,c.t)("whiteboard.ai_generate.unknown_error"),service_issue:(0,c.t)("whiteboard.ai.service_issue_error"),unsafe_or_harmful_content:(0,c.t)("whiteboard.ai.inappropriate_input_error"),figjam_templates_out_of_date:(0,c.t)("whiteboard.ai_generate.out_of_date_error"),offline:(0,c.t)("whiteboard.ai.offline_error"),unauthorized:(0,c.t)("whiteboard.ai_generate.unknown_error")}},n="generic",i=!0;if(e instanceof a.G1)switch(e.type){case"content_length_limit_exceeded":n="content_length_limit_exceeded";break;case"figjam_summarize_out_of_date":n="figjam_summarize_out_of_date";break;case"figjam_cluster_out_of_date":n="figjam_cluster_out_of_date";break;case"figjam_templates_out_of_date":n="figjam_templates_out_of_date";break;case"rate_limit_exceeded":n="rate_limit_exceeded";break;case"service_issue":n="service_issue";break;case"offline":n="offline",i=!1;break;case"unsafe_or_harmful_content":n="unsafe_or_harmful_content",i=!1;break;case"unauthorized":n="unauthorized",i=!1;break;case"figjam_visual_parsing_error":n="generic",i=!1;break;case"generic":if(429===e.data.status){n="rate_limit_exceeded";break}403===e.data.status&&(n="ai_opt_out_error")}let o=r[t],l=o[n]??o.generic;return{type:n,message:l,reportToSentry:i}})},684690:(e,t,r)=>{"use strict";r.d(t,{$J:()=>x,$v:()=>R,Bw:()=>C,VR:()=>N,WR:()=>D,X8:()=>k,Z9:()=>O,iN:()=>P,qv:()=>M});var n=r(411855),i=r(188507),a=r(568214),o=r(138392),l=r(358145),s=r(646240),c=r(309225),d=r(752553),u=r(456363),p=r(939863),m=r(392592),_=r(774191),h=r(852800),g=r(335682),f=r(279453),E=r(140047),y=r(428467),b=r(984968),v=r(694241),I=r(166748),T=r(479296),S=r(161459),w=r(42173),A=r(225719);function C(){let e=(0,g.tS)(),t=(0,i.wA)(),r=(0,s.Xr)(A.Qv);return(n,i,a)=>{e&&(r(i),(0,c.WB)().optimisticallyUpdate({},I.v.setUserColorPaletteOverrideForFile(e,n)).catch(e=>{console.error(e),a||t(m.F.enqueue({message:(0,p.t)("fullscreen.color_palette.apply_palette_failure")}))}).finally(()=>{r(0)}))}}function N(){var e,t;let r=(0,g.tS)()||"",[n]=(0,d.IT)((0,f.nD6)({fileKey:r}),{enabled:!!r}),i=null==(e=n.data)?void 0:e.file;if("loaded"===n.status&&i&&(null==(t=i.defaultColorPaletteData)?void 0:t.colorPalette))return i.defaultColorPaletteData.colorPalette}let O=(0,T.D)(()=>{let e=(0,g.tS)(),[t]=(0,d.IT)((0,f.nD6)({fileKey:e||""}),{enabled:!!e}),{loadedPaletteVariations:r,loadedColorPalette:i}=function(e){let t=(0,n.useRef)(),{uuid:r,palette:i}=function(e){var t,r;let n={uuid:v.fJ,palette:void 0},i=null==(t=e.data)?void 0:t.file;if("loaded"!==e.status||!i)return n;if(i.userColorPaletteOverrideData){let e=i.userColorPaletteOverrideData.colorPaletteUuid;if(e===v.fJ)return n;if(i.userColorPaletteOverrideData.colorPalette)return{uuid:e,palette:i.userColorPaletteOverrideData.colorPalette}}return(null==(r=i.defaultColorPaletteData)?void 0:r.colorPalette)?{uuid:i.defaultColorPaletteData.colorPaletteUuid,palette:i.defaultColorPaletteData.colorPalette}:n}(e);t.current=i;let a=(null==i?void 0:i.baseColors.join(":"))||"";return(0,n.useMemo)(()=>{let n,i;let l=t.current;return"loaded"===e.status&&l&&r!==v.fJ&&(n=R(a.split(":")),i=(0,o.Eg)(n)),{loadedPaletteVariations:i,loadedColorPalette:l}},[r,a,e.status])}(t),a=(0,s.Xr)(A.$R);return((0,n.useEffect)(()=>{a(r)},[r,a]),i&&r)?{type:v.Yv.CUSTOM,variations:r,uuid:i.uuid,name:i.name,isTeamDefault:i.isTeamDefault}:{type:v.Yv.DEFAULT,uuid:v.fJ}});function L(e){return null!==e}function R(e){return e.map(e=>(0,a.tK)(e)).filter(L)}function P(e,t){let r=O();return!!e&&(r.type===v.Yv.CUSTOM?0>r.variations[t].findIndex(t=>(0,a.DA)(e,t)):(0,w.zS)(e,t)===h.daH.CUSTOM)}function k(){let e=(0,b.cD)(),t=(0,i.d4)(t=>(0,E._)(e,t)),r=(0,i.d4)(t=>e&&(0,y.canEditTeam)(e,t));return!!((null==t?void 0:t.org_id)&&r)}function D(){let e=(0,b.cD)(),t=(0,i.d4)(t=>(0,E._)(e,t)),r=(0,i.d4)(t=>e&&(0,y.canViewTeam)(e,t));return!!((null==t?void 0:t.org_id)&&r)}function M(){let e=O(),t=(0,l.ZC)(e.uuid),r=e.type===v.Yv.CUSTOM?(0,A.zd)(e):null,i=(0,s.Xr)(u.GI),a=(0,s.Xr)(u.IZ),o=(0,s.Xr)(u.ez),c=(0,s.Xr)(u.U9),d=(0,s.Xr)(u.qL);(0,n.useEffect)(()=>{e.uuid!==t&&(e.type===v.Yv.DEFAULT?void 0!==t&&(i({paints:S.XQ}),a({paints:S.Dq}),o(S.n6),c(S.T7),d(function(){let e=Math.floor(Math.random()*(0,w.Ku)().length);return(0,w.BV)((0,w.Ku)()[e],"sticky")||S.BD}()),h.DV9.setSectionToolColor((0,_.oU)(function(){let e=Math.floor(Math.random()*(0,w.Qe)().length);return(0,w.BV)((0,w.Qe)()[e],"baseLight")||(0,w.BV)(h.daH.BLUE_LIGHT,"baseLight")}()))):r&&(i({paints:[{type:"SOLID",color:r.pencilColor}]}),a({paints:[{type:"SOLID",color:r.highlighterColor}]}),o(r.shapeColor),d(r.stickyColor),h.DV9.setSectionToolColor((0,_.oU)(r.sectionColor))))},[e,t,r,i,a,o,c,d])}function x(e){let t=(0,s.Xr)(A.Ze);return{closeColorPalettePicker:(0,n.useCallback)((r=!1)=>{r?t(!0):e(!1)},[t,e]),openColorPalettePicker:(0,n.useCallback)(()=>{e(!0)},[e])}}},225719:(e,t,r)=>{"use strict";r.d(t,{$R:()=>_,In:()=>b,Jq:()=>u,NK:()=>E,Qv:()=>h,RN:()=>g,Uh:()=>I,Ze:()=>m,cl:()=>f,db:()=>T,dq:()=>y,rN:()=>p,zd:()=>v});var n=r(38580),i=r(374626),a=r(309225),o=r(939863),l=r(392592),s=r(852800),c=r(303380),d=r(166748);let u=(0,n.eU)(-1),p=(0,n.eU)([]),m=(0,n.eU)(!1),_=(0,n.eU)(void 0),h=(0,n.eU)(0);function g(e,t){(0,a.WB)().optimisticallyDeleteWithUUID({ColorPalette:{[e]:null}},d.v.deleteColorPalette(e)).then(()=>t(l.F.enqueue({message:(0,o.t)("fullscreen.color_palette.delete_success")}))).catch(()=>t(l.F.enqueue({message:(0,o.t)("fullscreen.color_palette.delete_failure")})))}function f(e,t,r){let{uuid:n}=e;(0,a.WB)().optimisticallyCreateWithUUID({ColorPalette:{[n]:e}},d.v.createColorPalette(e)).then(()=>{t(l.F.enqueue({message:(0,o.t)("fullscreen.color_palette.saved_success")}))}).catch(()=>{t(l.F.enqueue({message:(0,o.t)("fullscreen.color_palette.saved_failure")})),r()})}function E(e,t,r){let{uuid:n}=e;(0,a.WB)().optimisticallyUpdateWithUUID({ColorPalette:{[n]:e}},d.v.updateColorPalette(e)).then(()=>t(l.F.enqueue({message:(0,o.t)("fullscreen.color_palette.saved_success")}))).catch(()=>{t(l.F.enqueue({message:(0,o.t)("fullscreen.color_palette.saved_failure")})),r()})}function y(e,t,r){(0,a.WB)().optimisticallyUpdate({Team:{[e]:{defaultColorPaletteUuid:t}}},d.v.setTeamDefaultPalette(e,t)).catch(()=>{r(l.F.enqueue({message:(0,o.t)("whiteboard.color_palettes.visual_bell.failed_to_set_team_default")}))})}function b(e,t){(0,a.WB)().optimisticallyUpdate({Team:{[e]:{defaultColorPaletteUuid:null}}},d.v.clearTeamDefaultPalette(e)).catch(()=>{t(l.F.enqueue({message:(0,o.t)("whiteboard.color_palettes.visual_bell.failed_to_clear_team_default")}))})}function v(e){let{base:t,sticky:r,highlight:n}=e.variations;return 0===t.length||0===r.length||0===n.length?null:{pencilColor:t[0],highlighterColor:n[0],shapeColor:t.length>1?t[1]:t[0],stickyColor:r[Math.floor(Math.random()*r.length)],sectionColor:t[Math.floor(Math.random()*t.length)]}}function I(e){switch(e){case s.Z6A.STICKY:return["sticky"];case s.Z6A.HIGHLIGHT:return["highlight"];default:return["base","baseLight"]}}function T(){let e=i.zl.get(_);if(!e)return;let t=e.base;if(!t)return;let r=(0,c.fv)().filter(e=>"STICKY"===e.type||"SHAPE_WITH_TEXT"===e.type||"SECTION"===e.type||"CONNECTOR"===e.type||"VECTOR"===e.type||"HIGHLIGHT"===e.type),n=new Map;r.forEach(e=>{let t=e.fills.length>0?e.fills[0].color:void 0,r=e.strokePaints.data.length>0?e.strokePaints.data[0].color:void 0,i=t||r;i&&(n.has(i)?n.set(i,n.get(i)+1):n.set(i,1))});let a=Array.from(n.entries()).sort((e,t)=>t[1]-e[1]),o=new Map,l=t.sort(()=>Math.random()-.5);a.forEach((e,t)=>{o.set(e[0],l[t%l.length])}),r.forEach(e=>{if(e.fills.length>0){let t=e.fills[0].color,r=t?o.get(t):void 0;r&&(e.fills=[{type:"SOLID",color:r}])}else if(e.strokePaints.data.length>0){let t=e.strokePaints.data[0].color,r=t?o.get(t):void 0;r&&(e.strokePaints={data:[{type:"SOLID",color:r}],blobs:[]})}})}},161061:(e,t,r)=>{"use strict";r.d(t,{Id:()=>x,rT:()=>L,AZ:()=>N,Dz:()=>R,d4:()=>F,Fk:()=>U,KT:()=>P,AO:()=>D,Uq:()=>H,Mv:()=>B,nB:()=>k,te:()=>V,Xb:()=>O});var n=r(411855),i=r(188507),a=r(752256),o=r(776250),l=r(153234),s=r(268537),c=r(574176),d=r(939863),u=r(356390),p=r(852800),m=r(241395),_=r(848661),h=r(809511),g=r(555074),f=r(279702),E=r(118003),y=r(677859),b=r(437771),v=r(377869),I=r(521709),T=r(935059),S=r(666032),w=r(146747),A=r(93935);function C({paint:e,paintIndex:t}){return n.createElement(y.K0,{tooltip:(0,d.t)("whiteboard.inline_menu.replace_image"),svg:A.A,onClick:()=>{u.Y5.updateAppModel({currentSelectedProperty:{type:p.rrT.FILL,indices:[t]}});let r=e.blendMode||"NORMAL",n=e.opacity||1;p.glU.uploadPaintImage(r,n)},recordingKey:"toolbarReplaceImage"})}function N(){let e=(0,E.j)(),t=(0,i.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);if(!e)return null;let{paint:r,paintIndex:a,onChange:o}=e;return t===h.m1T.RASTER?n.createElement(M,{paint:r,onChange:o}):n.createElement(n.Fragment,null,n.createElement(C,{paint:r,paintIndex:a}),n.createElement(y.K0,{tooltip:(0,d.t)("whiteboard.inline_menu.crop_image"),svg:T.A,onClick:()=>{u.Y5.triggerActionInUserEditScope("crop-image")},recordingKey:"toolbarCrop"}))}function O(){let[e,t]=(0,g.lJ)("imageHasNoStroke");return()=>{t(!e),(0,o.sx)("figjam_image_border_change",{border:(0,_.hS)(e)?e:"__mixed__"})}}function L(){let e=(0,g.kl)("imageHasNoStroke"),t=O();return n.createElement(y.K0,{tooltip:(0,d.t)("whiteboard.inline_menu.image_border"),svg:w.A,active:e?"NONE":"LOUD",onClick:t,recordingKey:"toolbarImageBorder"})}function R(e={}){let t=e.setIsEditorOpen,r=(0,g.kl)("accessibleLabel");return t?n.createElement(y.$n,{tooltip:r?(0,d.t)("whiteboard.inline_menu.edit_image_description"):(0,d.t)("whiteboard.inline_menu.add_image_description"),onClick:()=>{t(!0)},recordingKey:"addImageDescription",buttonStyle:{width:"fit-content",borderLeft:"1px solid var(--light-bg-menu-secondary, #383838)"},buttonChildrenStyle:{width:"inherit",padding:"0 8px"},active:r?"LOUD":"NONE"},n.createElement("span",{className:"image_controls--label--VF4Hv text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},n.createElement(d.Tx,{id:"whiteboard.inline_menu.alt_text"}))):n.createElement(n.Fragment,null)}function P(e){let t=e.transform;if(!t)return 0;let{m00:r,m01:n,m10:i,m11:a}=t,o=Math.min(Math.sqrt(r*r+n*n),Math.sqrt(i*i+a*a));return 0===o?0:1/o}function k(){let e=(0,E.j)();return e?P(e.paint):0}function D(e,t,r){if(0===r||0===t||!e.transform)return;let n=t/r,i=m.s.fromFigMatrix(e.transform);return i.translate((1-n)/2,(1-n)/2),i.scale(n,n),i.toFigMatrix()}function M({paint:e,onChange:t}){let[r,i]=(0,n.useState)(1),[o,l]=(0,n.useState)(3),s=P(e);return(0,n.useEffect)(()=>{s&&(s<r&&i(s),s>o&&l(s))},[r,o,s]),n.createElement(n.Fragment,null,n.createElement("div",{className:"image_menu--scaleSlider--W6PND","data-preferred-theme":"dark"},n.createElement(a.A,{"aria-label":(0,d.t)("whiteboard.inline_menu.scale_image"),value:s,min:r,max:o,step:.01,bigStep:.1,onChange:(r,{commit:n})=>{let i=D(e,s,r)??e.transform;t({...e,transform:i},n?f.zk.YES:f.zk.NO)}})),n.createElement(y.K0,{svg:I.A,tooltip:(0,d.t)("whiteboard.inline_menu.rotate_image"),onClick:()=>u.Y5.triggerActionInUserEditScope("rotate-image-90-clockwise"),recordingKey:"toolbarRotate"}),n.createElement(G,null),n.createElement(y.wv,null),n.createElement(y.K0,{svg:v.A,tooltip:(0,d.t)("whiteboard.inline_menu.finish_image_editing"),recordingKey:"toolbarStopCropping",onClick:()=>{u.Y5.triggerActionInUserEditScope("leave-edit-mode")}}))}let x=new Map([["Original",void 0],["Custom",void 0],["Square",1],["Circle",1],["Landscape",4/3],["Portrait",3/4],["Wide",16/9]]);function F(e){switch(e){case"Square":case"Circle":return"1:1";case"Landscape":return"4:3";case"Portrait":return"3:4";case"Wide":return"16:9"}return""}function U(e){switch(e){case"Original":return(0,d.t)("whiteboard.crop_presets.original");case"Custom":return(0,d.t)("whiteboard.crop_presets.custom");case"Square":return(0,d.t)("whiteboard.crop_presets.square");case"Circle":return(0,d.t)("whiteboard.crop_presets.circle");case"Landscape":return(0,d.t)("whiteboard.crop_presets.landscape");case"Portrait":return(0,d.t)("whiteboard.crop_presets.portrait");case"Wide":return(0,d.t)("whiteboard.crop_presets.wide")}}function B(){let e=(0,g.kl)("imageOriginalAspectRatio"),t=(0,g.kl)("imageAspectRatio"),r=(0,g.kl)("cornerRadius"),n=(0,g.kl)("width"),i=(0,g.kl)("height");if(!(!n||!i||(0,_.gl)(e)||(0,_.gl)(t)||(0,_.gl)(n)||(0,_.gl)(i)))return function(e,t,r){if(t){if(t===r)return"Original";for(let[r,n]of x)if(n&&.001>Math.abs(t-n)){if(e&&"Square"===r)return"Circle";return r}return"Custom"}}(!!r&&!(0,_.gl)(r)&&n===i&&r>=n/2,t,e)}function H(){let e=(0,i.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType);return!!(1===(0,i.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected)&&e&&(1===e.FRAME||1===e.RECTANGLE||1===e.ROUNDED_RECTANGLE))}function V(){let e=B(),t=(0,g.kl)("imageOriginalAspectRatio");return(0,_.gl)(t)?null:r=>{if(r!==e){let e=function(e,t){switch(e){case"Original":return t;case"Custom":return;default:return x.get(e)}}(r,t);e&&u.Y5.updateSelectionProperties({imageAspectRatio:e,cornerRadius:"Circle"===r?65536:0},{shouldCommit:f.zk.YES})}}}function G(){let e=B(),t=H(),r=V();return e&&r?n.createElement(b.Fn,{value:e,onChange:r,renderButton:({onClick:e,ref:t,active:r})=>n.createElement(y.K0,{tooltip:(0,d.t)("whiteboard.inline_menu.aspect_ratio"),active:r?"NORMAL":"NONE",svg:S.A,onPointerDown:e,ref:t,recordingKey:"cropPresetsControl",caret:"down"}),options:Array.from(x.keys()),renderOption:({value:e,onClick:r,isSelected:i})=>n.createElement("div",{key:e},e&&n.createElement(W,{cropName:U(e),aspectRatio:F(e),recordingKey:(0,l.Pt)("cropPresetDropdown",e),disabled:"Circle"===e&&!t,selected:i,onPointerUp:r}),"Custom"===e&&n.createElement(s.W.Separator,null)),OptionWrapper:b.A3,PopoverWrapper:K}):null}function W(e){return n.createElement(s.W.Option,{recordingKey:e.recordingKey,onClick:e.onClick,onPointerUp:e.onPointerUp,className:"image_controls--overflowItem--N9HXJ",disabled:e.disabled},n.createElement("div",{className:"image_controls--overflowInner--7-ktg"},n.createElement("div",{className:"image_controls--iconContainer--1VyEZ"},e.selected&&n.createElement(c.B,{svg:v.A})),e.cropName),n.createElement("div",{className:"image_controls--secondaryText--Lar5b"},e.aspectRatio))}function K({children:e}){return n.createElement(y.W1,null,n.createElement("div",{className:"image_controls--popoverWrapper--cabPu"},e))}},511080:(e,t,r)=>{"use strict";r.d(t,{$W:()=>q,AZ:()=>ew,Ad:()=>Q,BK:()=>H,BV:()=>y,Bx:()=>ep,Ch:()=>eg,FJ:()=>eu,G7:()=>eM,Gb:()=>eE,H9:()=>U,Jo:()=>ea,KB:()=>V,LI:()=>ef,N7:()=>b,Nm:()=>Z,OS:()=>E,P6:()=>K,PW:()=>eP,QF:()=>el,RB:()=>ee,S2:()=>et,Ty:()=>em,UJ:()=>T,Uf:()=>f,VC:()=>Y,Vx:()=>X,Wm:()=>D,XD:()=>e_,XU:()=>eL,Xn:()=>eo,Z3:()=>z,ZH:()=>eF,aO:()=>eN,b1:()=>j,bE:()=>ec,bp:()=>M,cE:()=>er,cN:()=>eA,cc:()=>W,cs:()=>eU,dF:()=>eT,eX:()=>es,ej:()=>g,fl:()=>B,hP:()=>F,iB:()=>G,il:()=>x,jN:()=>h,kd:()=>ed,kf:()=>ei,kk:()=>v,lV:()=>eS,mS:()=>eI,nB:()=>m,nF:()=>k,nX:()=>ex,nb:()=>ek,nl:()=>ey,oN:()=>eD,oV:()=>eb,pk:()=>eR,qO:()=>$,rX:()=>I,sb:()=>J,sw:()=>eC,vO:()=>eh,wB:()=>_,wv:()=>eO,xc:()=>ev,y8:()=>en});var n=r(411855),i=r(629019),a=r.n(i),o=r(563706),l=r(762638),s=r(428654),c=r(774191),d=r(852800),u=r(158200);let p=new Map([[d.NLJ.SHAPE_WHITEBOARD_TRIANGLE_UP,104],[d.NLJ.SHAPE_WHITEBOARD_ELLIPSE,128],[d.NLJ.SHAPE_WHITEBOARD_SQUARE,112]]);function m(e){let t=p.get(e);return void 0===t?112:t}function _(){return n.createElement("svg",{width:"44",height:"40",viewBox:"0 0 44 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2793 13.98L29.4852 21.9631L23.1384 23.6856L19.4364 29.2787L16.2793 13.98ZM17.7214 16.0203L19.9298 26.7215L22.5126 22.8193L26.9682 21.6101L17.7214 16.0203Z",fill:"rgba(0,0,0,0.8)"}))}function h(){return n.createElement("svg",{width:"44",height:"40",viewBox:"0 0 44 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3953 11C20.3953 9.89543 21.2907 9 22.3953 9C23.2677 9 24.0096 9.55857 24.283 10.3376C24.601 10.1244 24.9836 10 25.3953 10C26.4998 10 27.3953 10.8954 27.3953 12V13.2676C27.6894 13.0974 28.031 13 28.3953 13C29.4998 13 30.3953 13.8954 30.3953 15L30.3953 23C30.3953 26.3137 27.709 29 24.3953 29H23.3953C21.5653 29 19.9262 28.1797 18.8271 26.8902C18.7996 26.8662 18.7724 26.8416 18.7455 26.8164L13.7406 22.1104C12.839 21.2628 12.7481 19.8444 13.5367 18.8895C14.309 17.9542 15.6644 17.7838 16.6422 18.5062L17.3953 19.0626V13C17.3953 11.8954 18.2907 11 19.3953 11C19.7596 11 20.1011 11.0974 20.3953 11.2676V11ZM21.3953 11C21.3953 10.4477 21.843 10 22.3953 10C22.9476 10 23.3953 10.4477 23.3953 11V18H24.3953V12C24.3953 11.9993 24.3953 11.9987 24.3953 11.998C24.3963 11.4466 24.8436 11 25.3953 11C25.9475 11 26.3953 11.4477 26.3953 12V18H27.3953V15C27.3953 14.4477 27.843 14 28.3953 14C28.9475 14 29.3953 14.4477 29.3953 15L29.3953 23C29.3953 25.7614 27.1567 28 24.3953 28H23.3953C21.842 28 20.4541 27.2917 19.5371 26.1805C19.5009 26.1514 19.4653 26.1205 19.4305 26.0878L14.4256 21.3819C13.9076 20.8949 13.8555 20.0739 14.3077 19.5262C14.7432 18.9989 15.4993 18.9052 16.0479 19.3105L18.3953 21.0448V13C18.3953 12.4477 18.843 12 19.3953 12C19.9475 12 20.3953 12.4477 20.3953 13V18H21.3953V11Z",fill:"rgba(0,0,0,0.8)"}))}function g(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4464 18.1536C12.3526 18.0598 12.3 17.9326 12.3 17.8C12.3 17.6674 12.3526 17.5402 12.4464 17.4465L18.0464 11.8465L18.4 11.4929L19.1071 12.2L18.7535 12.5536L14.0071 17.3H21.2C24.7898 17.3 27.7 20.2102 27.7 23.8V27.4H26.7V23.8C26.7 20.7625 24.2375 18.3 21.2 18.3H14.0071L18.7535 23.0465L19.1071 23.4L18.4 24.1071L18.0464 23.7536L12.4464 18.1536ZM13.6 17.7071V17.8929L13.5071 17.8L13.6 17.7071Z",fill:"rgba(0,0,0,0.8)"}))}function f(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.5536 18.085C27.6474 17.9912 27.7001 17.864 27.7001 17.7314C27.7001 17.5988 27.6474 17.4716 27.5536 17.3779L21.9536 11.7779L21.6001 11.4243L20.8929 12.1314L21.2465 12.485L25.9929 17.2314H18.8C15.2102 17.2314 12.3 20.1415 12.3 23.7314V27.3314H13.3V23.7314C13.3 20.6938 15.7625 18.2314 18.8 18.2314H25.993L21.2465 22.9779L20.8929 23.3314L21.6001 24.0385L21.9536 23.685L27.5536 18.085ZM26.4 17.6385V17.8243L26.4929 17.7314L26.4 17.6385Z",fill:"rgba(0,0,0,0.8)"}))}function E(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.117 8.1464C25.3123 7.9512 25.6289 7.9512 25.8242 8.1464L31.481 13.8033C31.6763 13.9986 31.6763 14.3151 31.481 14.5104L14.5104 31.481C14.3152 31.6762 13.9986 31.6762 13.8033 31.481L8.14645 25.8241C7.95119 25.6289 7.95119 25.3123 8.14645 25.117L25.117 8.1464ZM25.4706 9.2071L9.2071 25.4706L14.1569 30.4203L30.4203 14.1569L25.4706 9.2071Z",fill:"rgba(0,0,0,0.8)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.1171 14.5103L27.9455 17.3387L27.2384 18.0459L24.41 15.2174L25.1171 14.5103Z",fill:"rgba(0,0,0,0.8)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7532 20.8743L21.5816 23.7027L20.8745 24.4098L18.0461 21.5814L18.7532 20.8743Z",fill:"rgba(0,0,0,0.8)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.9954 18.7529L25.1167 20.8743L24.4096 21.5814L22.2883 19.46L22.9954 18.7529Z",fill:"rgba(0,0,0,0.8)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.6317 25.1169L18.7531 27.2382L18.0459 27.9453L15.9246 25.824L16.6317 25.1169Z",fill:"rgba(0,0,0,0.8)"}))}let y=n.forwardRef(({color:e,toolOrder:t=1,shouldAnimate:r=!0},i)=>n.createElement("div",{className:a()(u.fg,{[u.mL]:2===t,[u.ac]:3===t})},n.createElement("div",{className:a()(u.C0,u.UJ,{[u.bQ]:1===t,[u.yD]:2===t,[u.T5]:3===t,[u.i0]:r&&!o.Ay.safari}),style:{backgroundColor:e},ref:i},n.createElement("svg",{width:"48",height:"41",viewBox:"0 0 48 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:u.yR},n.createElement("path",{d:"M48 0C48 14.0001 9.5 8.00008 9.5 8.00008C9.5 8.00008 14 41.0001 0.000976562 41.0001H48V0Z",fill:"black",fillOpacity:"0.16"}))))),b=n.forwardRef(({color:e,toolbarIconScale:t=1,toolOrder:r=1,shouldAnimate:i=!0,isReversing:l=!1},s)=>{let c=1===r||2===r&&i&&!l;return n.createElement("div",{className:a()({[u.z6]:!0,[u.qF]:2===r,[u.mK]:3===r,[u.iD]:4===r}),style:{width:152*t,height:152*t}},n.createElement("div",{className:a()({[u.UJ]:!0,[u.Sq]:!0,[u.cj]:c,[u.LI]:1===r,[u.nS]:2===r,[u.ZY]:3===r,[u.dB]:4===r,[u.i0]:i&&!o.Ay.safari,[u.cb]:o.Ay.safari,[u.BE]:l&&!o.Ay.safari,[u.RH]:!l}),style:{backgroundColor:e,top:16*t,left:39*t,width:104*t,height:104*t},ref:s},c?n.createElement("div",{className:u.Du},n.createElement("svg",{width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute"}},n.createElement("g",{filter:"url(#filter0_f_2512_16752)"},n.createElement("path",{d:"M40.5001 48.5C7.70012 42.1 4.83347 56.8333 7.50014 65L104 65L104 1L55.5 1C33.5 1.4 36.3334 32.8334 40.5001 48.5Z",fill:e,className:u.cq})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_f_2512_16752",x:"-6.26074",y:"-12",width:"123.261",height:"90",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"6.5",result:"effect1_foregroundBlur_2512_16752"})))),n.createElement("svg",{width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M104 104L104 0.000486374C104 0.000486374 75.9586 0.000485148 41.0006 0.00048362C27.0005 0.000483008 33.0005 38.5005 33.0005 38.5005C33.0005 38.5005 0.000489434 34.0005 0.000488822 47.9995C0.000487681 74.1074 0.000486374 104 0.000486374 104C0.000486374 104 22.0677 104 44.1349 104C66.2022 104 104 104 104 104Z",fill:e,className:u.cq}),n.createElement("path",{d:"M104 104L104 0.000486374C104 0.000486374 75.9586 0.000485148 41.0006 0.00048362C27.0005 0.000483008 33.0005 38.5005 33.0005 38.5005C33.0005 38.5005 0.000489434 34.0005 0.000488822 47.9995C0.000487681 74.1074 0.000486374 104 0.000486374 104C0.000486374 104 22.0677 104 44.1349 104C66.2022 104 104 104 104 104Z",fill:"url(#paint0_linear_2512_16751)"}),n.createElement("path",{d:"M104 104L104 0.000486374C104 0.000486374 75.9586 0.000485148 41.0006 0.00048362C27.0005 0.000483008 33.0005 38.5005 33.0005 38.5005C33.0005 38.5005 0.000489434 34.0005 0.000488822 47.9995C0.000487681 74.1074 0.000486374 104 0.000486374 104C0.000486374 104 22.0677 104 44.1349 104C66.2022 104 104 104 104 104Z",fill:"url(#paint1_linear_2512_16751)",fillOpacity:"0.16"}),n.createElement("defs",null,n.createElement("linearGradient",{id:"paint0_linear_2512_16751",x1:"0.000488251",y1:"52.0005",x2:"88.6172",y2:"52.0005",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.18"})),n.createElement("linearGradient",{id:"paint1_linear_2512_16751",x1:"260",y1:"234.5",x2:"6",y2:"18.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{offset:"0.718538",stopOpacity:"0"}),n.createElement("stop",{offset:"1"}))))):null))});var v=(e=>(e[e.DEFAULT=1]="DEFAULT",e[e.INITIAL_DRAG_ON_DLT=2]="INITIAL_DRAG_ON_DLT",e[e.DRAG_ON_CANVAS=3]="DRAG_ON_CANVAS",e[e.DRAG_RETURN_TO_DLT=4]="DRAG_RETURN_TO_DLT",e))(v||{});let I=84,T=n.forwardRef(({color:e,toolbarIconScale:t=1,toolOrder:r=1,shouldAnimate:i=!0,stickyAnimationState:o=1},l)=>{let s=4===r,c=4===o,d=16,p=25;t<1&&(s?(d=24,p=32):d=19);let m={[u.Sk]:1===r,[u.gz]:2===r,[u.eB]:3===r,[u.ID]:s};return n.createElement("div",{className:a()({[u.qF]:2===r,[u.mK]:3===r,[u.iD]:s}),style:{width:116*t,height:116*t}},n.createElement("div",{className:a()({...m,[u.ZJ]:!0,[u.B4]:(!i||4===o)&&1===r||3===o&&2===r,[u.dB]:s,[u.i0]:3===o,[u.BE]:c,[u.rh]:!c&&!i&&2===r}),style:{top:d*t,left:p*t,width:104*t,height:104*t},ref:l},n.createElement("div",{className:a()({[u.uh]:!0,[u.WX]:!0})},n.createElement("svg",{className:u.SN,width:104*t,height:104*t,viewBox:"-20 -20 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",null,n.createElement("path",{className:a()(u.Wq,{[u.cq]:!0}),style:{clipPath:`url(#stickyMaskV3-${r})`},d:"M0.459717 0.680176L104.46 0.680243V104.68H0.459717V2.09514V0.680176Z",fill:e}),n.createElement("g",{className:u.BN},n.createElement("mask",{id:`stickyCurlMaskV3-${r}`,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:I,height:I},n.createElement("path",{d:"M31.9819 3.8766C34.7398 1.38156 38.3262 7.51147e-07 42.0452 2.10768e-06L104 2.47061e-05V104H3.61353e-05L3.37915e-06 39.4677C1.22757e-06 35.2289 1.7934 31.188 4.9367 28.3443L31.9819 3.8766Z",fill:"white"})),n.createElement("g",{mask:`url(#stickyCurlMaskV3-${r})`},n.createElement("path",{d:"M104 6.74129e-05L54.8928 48.5492L0 104V0L104 6.74129e-05Z",fill:e,className:u.cq}),n.createElement("g",{filter:"url(#stickyCurlBlurFilter)"},n.createElement("rect",{x:"-26",y:"50.6831",width:"96.831",height:"16.7797",transform:"rotate(-41.9127 -26 50.6831)",fill:"black",fillOpacity:"0.3"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.526 4.26953L3.2583 29.8513C10.3683 23.4168 26.3782 24.6229 26.3782 24.6229C26.3782 24.6229 25.0586 10.1224 31.526 4.26953Z",fill:e,className:u.cq}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.5262 4.26953L3.25854 29.8513C10.3686 23.4168 26.3784 24.6229 26.3784 24.6229C26.3784 24.6229 25.0588 10.1224 31.5262 4.26953Z",fill:"url(#paint0_linear_221_5067)"})))),n.createElement("defs",null,n.createElement("clipPath",{id:`stickyMaskV3-${r}`},n.createElement("path",{className:u.cP,d:"M50.9701 6.74129e-05L104.97 0V104H0.970459V46.9909L50.9701 6.74129e-05Z",fill:"#C20000"}),n.createElement("path",{className:u.dP,d:"M32.2236 3.8766C34.9815 1.38156 38.5679 7.51147e-07 42.2869 2.10768e-06L104.242 2.47061e-05V104H0.241735L0.241703 39.4677C0.2417 35.2289 2.0351 31.188 5.1784 28.3443L32.2236 3.8766Z",fill:"#2400FF"}),n.createElement("rect",{x:"250",y:"520",width:"1",height:"1"})),n.createElement("filter",{xmlns:"http://www.w3.org/2000/svg",id:`sticky_shadow-${r}`,x:"0",y:"0",width:"200%",height:"200%",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"1.5"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_276_2240"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"4"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_276_2240",result:"effect2_dropShadow_276_2240"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_276_2240",result:"shape"})),n.createElement("filter",{id:"stickyCurlBlurFilter",x:"-58",y:"-45.9995",width:"147.267",height:"141.169",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"16",result:"effect1_foregroundBlur_221_5067"})),n.createElement("linearGradient",{id:"paint0_linear_221_5067",x1:"18.1477",y1:"15.5989",x2:"25.7005",y2:"25.3824",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.5"}),n.createElement("stop",{offset:"0.319642",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.2"})))))))}),S="#699BF7",w="#B3B3B3",A=2/38,C=.5/38;function N(e,t=d.xbm.SOLID){if(t===d.xbm.NONE)return"#000000";let r=s.F.parse(e),n=d.DV9.getShapeWithTextBorderColor((0,c.oU)(r));return n?s.F.format((0,c.aH)(n)):"#757575"}function O(e,t=!1){return t&&(e===d.xbm.SOLID||e===d.xbm.DASHED)?"3px":"0px"}function L(e,t){return t===d.xbm.SOLID||t===d.xbm.DASHED?e*A:e*C}function R(e){return e===d.xbm.NONE?.2:1}function P({toolbarIconScale:e,children:t}){return n.createElement("svg",{fill:"none",height:144*e,width:144*e,viewBox:"0 0 144 144",xmlns:"http://www.w3.org/2000/svg",className:a()(u.WX,{[u.$d]:!0})},t)}let k=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{ref:r,fill:e,className:u.cq,d:"M109.821 18.253A3 3 0 00106.916 16H11.87a3 3 0 00-2.906 3.747l25.215 98.001A3 3 0 0037.084 120h95.046a3 3 0 002.906-3.748l-25.215-98z"}))),D=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{ref:r,fill:e,className:u.cq,d:"M34.179 18.253A3 3 0 0137.084 16h95.046a3 3 0 012.906 3.747l-25.215 98.001a3 3 0 01-2.905 2.252H11.87a3 3 0 01-2.906-3.748l25.215-98z"}))),M=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{ref:r,fill:e,className:u.cq,d:"M68.787 118.279c1.324 2.295 5.102 2.295 6.426 0l56.403-97.77c1.195-2.072-.542-4.509-3.213-4.509H15.597c-2.67 0-4.408 2.437-3.213 4.508l56.403 97.771z"}))),x=n.forwardRef(({color:e=S,toolbarIconScale:t=1,shapeStrokeStyleType:r,isDragging:i},a)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{ref:a,fill:e,className:u.cq,stroke:N(e,r),strokeWidth:O(r,i),d:"M68.787 17.721c1.324-2.295 5.102-2.295 6.426 0l56.403 97.771c1.195 2.071-.542 4.508-3.213 4.508H15.597c-2.67 0-4.408-2.437-3.213-4.508l56.403-97.77z"}),n.createElement("path",{d:"M130.75 115.992L130.75 115.992C131.134 116.658 131.057 117.364 130.645 117.942C130.223 118.534 129.432 119 128.403 119H15.5971C14.5693 119 13.7776 118.534 13.3555 117.942C12.9431 117.364 12.8659 116.658 13.2503 115.992L13.2503 115.992L69.6533 18.221C70.0992 17.4482 70.9999 17 72.0001 17C73.0004 17 73.9011 17.4482 74.347 18.221L130.75 115.992Z",stroke:N(e,r),strokeOpacity:R(r),strokeWidth:L(m(d.NLJ.SHAPE_WHITEBOARD_TRIANGLE_UP),r),className:l.cx.if(i,l.cx.hidden).$}))),F=n.forwardRef(({color:e=S,toolbarIconScale:t=1,shapeStrokeStyleType:r,isDragging:i},a)=>n.createElement(P,{toolbarIconScale:t},n.createElement("circle",{cx:"72",cy:"72",r:"64",fill:e,className:u.cq,stroke:N(e),strokeWidth:O(r,i),strokeLinecap:"round",ref:a}),n.createElement("circle",{cx:"72",cy:"72",r:"62",fill:"none",stroke:N(e,r),strokeOpacity:R(r),strokeWidth:L(m(d.NLJ.SHAPE_WHITEBOARD_ELLIPSE),r),className:l.cx.if(i,l.cx.hidden).$}))),U=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("rect",{x:"8",y:"20",width:"128",height:"104",rx:"40",fill:e,className:u.cq,ref:r}))),B=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("rect",{x:"16",y:"32",width:"112",height:"80",rx:"40",fill:e,className:u.cq,ref:r}))),H=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("g",{clipPath:"url(#clip0)"},n.createElement("rect",{width:"79.374",height:"79.374",x:"15.874",y:"71.874",fill:e,className:u.cq,ref:r,rx:"3.175",transform:"rotate(-45 15.874 71.874)"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0"},n.createElement("path",{fill:"#fff",d:"M0 0H112V112H0z",transform:"translate(16 16)"}))))),V=n.forwardRef(({color:e=S,toolbarIconScale:t=1,shapeStrokeStyleType:r,isDragging:i},a)=>n.createElement(P,{toolbarIconScale:t},n.createElement("rect",{x:"16",y:"16",width:"112",height:"112",fill:e,className:u.cq,ref:a,rx:"3.23077",stroke:N(e),strokeWidth:O(r,i)}),n.createElement("rect",{x:"16",y:"16",width:"110",height:"110",fill:"none",rx:"3.23077",stroke:N(e,r),strokeOpacity:R(r),strokeWidth:L(m(d.NLJ.SHAPE_WHITEBOARD_SQUARE),r),className:l.cx.if(i,l.cx.hidden).$}))),G=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("rect",{x:"16",y:"28",width:"112",height:"24",fill:"white",fillOpacity:"0.8"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 28.923V28.9231V30.1138C16.0601 30.1856 16.1242 30.2584 16.1926 30.3322C16.8824 31.076 17.9455 31.8465 19.3911 32.6163C22.2796 34.1545 26.5043 35.5903 31.753 36.8181C42.2352 39.2703 56.595 40.8462 72.0002 40.8462C87.4054 40.8462 101.765 39.2703 112.247 36.8181C117.496 35.5903 121.721 34.1545 124.609 32.6163C126.055 31.8465 127.118 31.076 127.808 30.3322C127.876 30.2586 127.94 30.1859 128 30.1141V28.9231C128 21.7859 102.928 16 72 16C41.0721 16 16.0001 21.7858 16 28.923ZM128 32.8361C127.295 33.376 126.471 33.8907 125.549 34.3816C122.441 36.0366 118.027 37.5202 112.703 38.7656C102.04 41.2599 87.523 42.8462 72.0002 42.8462C56.4774 42.8462 41.9602 41.2599 31.2975 38.7656C25.9738 37.5202 21.559 36.0366 18.4511 34.3816C17.5291 33.8907 16.7052 33.3758 16 32.8358V115.077C16 122.214 41.0721 128 72 128C102.928 128 128 122.214 128 115.077V32.8361Z",fill:e,className:u.cq,ref:r}))),W=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("rect",{x:"92",y:"16",width:"30",height:"98",fill:"white",fillOpacity:"0.8"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M110.734 64.6922C110.734 78.1641 112.117 90.7123 114.261 99.8663C115.334 104.451 116.587 108.133 117.923 110.644C118.592 111.901 119.257 112.817 119.891 113.407C120.188 113.683 120.463 113.874 120.717 114H120.75H120.75C126.963 114 132 92.062 132 65C132 37.938 126.963 16 120.75 16H120.75H119.867C119.24 16.5906 118.584 17.4993 117.923 18.7405C116.587 21.252 115.334 24.9336 114.261 29.5182C112.117 38.6721 110.734 51.2203 110.734 64.6922ZM117.254 16C116.874 16.5381 116.508 17.142 116.158 17.8012C114.705 20.5314 113.405 24.4026 112.314 29.0621C110.128 38.3965 108.734 51.1021 108.734 64.6922C108.734 78.2822 110.128 90.9879 112.314 100.322C113.405 104.982 114.705 108.853 116.158 111.583C116.649 112.507 117.169 113.322 117.72 114H23.25H22.7811V113.958C16.7854 112.888 12 91.3779 12 65C12 38.6221 16.7854 17.1124 22.7811 16.0418V16H23.25H117.254Z",fill:e,className:u.cq,ref:r}))),K=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M108 16H102V40V44H119.5H132V40H117.857L108 16Z",fill:"white",fillOpacity:"0.8"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106 16V37.5C106 39.9853 108.015 42 110.5 42L132 42V40H132V117C132 118.657 130.657 120 129 120H15C13.3432 120 12 118.657 12 117V40H12V19C12 17.3432 13.3431 16 15 16L106 16Z M132 40H111C109.343 40 108 38.6569 108 37V16L132 40Z",fill:e,className:u.cq,ref:r}))),Y=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M12.1764 37H78V39H12L12.1764 37Z",fill:"white",fillOpacity:"0.8"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2735 17.9549C19.7103 16.7797 20.8319 16 22.0856 16H67.9146C69.1683 16 70.2898 16.7797 70.7266 17.9549L77.805 37H78.0001H12.1953L19.2735 17.9549Z M12 39H129C130.657 39 132 40.3431 132 42V117C132 118.657 130.657 120 129 120H15C13.3431 120 12 118.657 12 117V39Z",fill:e,className:u.cq,ref:r}))),j=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M132.825 31H11.1751C9.11354 31 7.59918 32.9715 8.0945 35.0106L27.3025 110.463C27.653 111.906 28.924 112.92 30.3831 112.92H113.617C115.076 112.92 116.347 111.906 116.698 110.463L135.906 35.0106C136.401 32.9715 134.886 31 132.825 31Z",fill:e,className:u.cq,ref:r}))),z=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93.2603 48.8289L74.8382 18.1385C73.7284 16.4493 71.2511 16.4493 70.1413 18.1385L51.7195 48.8289C51.3354 49.4134 50.7472 49.8337 50.0698 50.0076L14.5248 57.5829C12.5231 58.0968 11.7423 60.523 13.0688 62.1078L37.2107 88.5999C37.6704 89.1492 37.903 89.8531 37.8609 90.5682L34.3002 125.894C34.1806 127.929 36.2 129.41 38.1052 128.685L71.4895 114.399C72.1339 114.154 72.8457 114.154 73.49 114.399L106.874 128.685C108.779 129.41 110.799 127.929 110.679 125.894L107.118 90.5682C107.077 89.8531 107.309 89.1492 107.769 88.5999L131.911 62.1078C133.237 60.523 132.457 58.0968 130.455 57.5829L94.9096 50.0076C94.2325 49.8337 93.6443 49.4134 93.2603 48.8289Z",fill:e,className:u.cq,ref:r}))),$=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M120.45 27H23.55C22.1417 27 21 28.1454 21 29.5583V86.4924C21 87.408 21.4877 88.2538 22.2789 88.7102L70.7289 116.66C71.5159 117.113 72.4841 117.114 73.2711 116.66L121.721 88.7102C122.512 88.2538 123 87.408 123 86.4924V29.5583C123 28.1454 121.858 27 120.45 27Z",fill:e,className:u.cq,ref:r}))),Z=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M122.802 26H21.1977C19.7551 26 18.4531 26.8662 17.8933 28.1982L0.280966 70.1061C-0.0936546 70.9975 -0.0936559 72.0025 0.280965 72.8939L17.8933 114.802C18.4531 116.134 19.7551 117 21.1977 117H122.802C124.245 117 125.547 116.134 126.107 114.802L143.719 72.8939C144.094 72.0025 144.094 70.9975 143.719 70.1061L126.107 28.1982C125.547 26.8662 124.245 26 122.802 26Z",fill:e,className:u.cq,ref:r}))),q=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M129.24 59.4647L74.475 16.7477C73.1969 15.7508 71.4046 15.7508 70.1265 16.7477L15.3612 59.4647C14.1752 60.3897 13.7044 61.9638 14.1876 63.388L34.9562 124.601C35.4429 126.035 36.7893 127 38.304 127H106.298C107.812 127 109.159 126.035 109.645 124.601L130.414 63.388C130.897 61.9638 130.426 60.3897 129.24 59.4647Z",fill:e,className:u.cq,ref:r}))),J=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.8699 16H49.1301C48.3125 16 47.5284 16.3248 46.9503 16.9029L16.9029 46.9503C16.3248 47.5284 16 48.3125 16 49.1301V94.8699C16 95.6875 16.3248 96.4716 16.9029 97.0497L46.9503 127.097C47.5284 127.675 48.3125 128 49.1301 128H94.8699C95.6875 128 96.4716 127.675 97.0497 127.097L127.097 97.0497C127.675 96.4716 128 95.6875 128 94.8699V49.1301C128 48.3125 127.675 47.5284 127.097 46.9503L97.0497 16.9029C96.4716 16.3248 95.6875 16 94.8699 16Z",fill:e,className:u.cq,ref:r}))),X=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.1111 47.1099V18.8718C47.1111 17.2857 48.3969 16 49.9829 16H94.0171C95.6031 16 96.8889 17.2857 96.8889 18.8718V46.632C96.8889 46.6325 96.8896 46.6325 96.8901 46.6325H125.128C126.714 46.6325 128 47.9182 128 49.5043V94.0171C128 95.6031 126.714 96.8889 125.128 96.8889H96.8894C96.8889 96.8889 96.8889 96.8896 96.8889 96.8901V125.128C96.8889 126.714 95.6031 128 94.0171 128H49.9829C48.3969 128 47.1111 126.714 47.1111 125.128V96.8894C47.1111 96.8889 47.1104 96.8889 47.1099 96.8889H18.8718C17.2857 96.8889 16 95.6031 16 94.0171V49.9829C16 48.3969 17.2857 47.1111 18.8718 47.1111H47.1106C47.1111 47.1111 47.1111 47.1104 47.1111 47.1099Z",fill:e,className:u.cq,ref:r}))),Q=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("rect",{x:"15.3628",y:"29.8053",width:"113.274",height:"84.3894",fill:"white",fillOpacity:"0.8"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.84961 32.354C8.84961 30.9462 9.99052 29.8053 11.3983 29.8053H17.062V114.195H11.3983C9.99052 114.195 8.84961 113.054 8.84961 111.646V32.354Z M18.7611 114.195V29.8053H125.239V114.195H18.7611Z M126.938 114.195V29.8053H132.602C134.01 29.8053 135.15 30.9462 135.15 32.354V111.646C135.15 113.054 134.01 114.195 132.602 114.195H126.938Z",fill:e,className:u.cq,ref:r}))),ee=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 31.9044C3 28.2578 6.22596 25.4544 9.83687 25.963L136.837 43.8517C139.798 44.2688 142 46.8027 142 49.793V112C142 115.314 139.314 118 136 118H9C5.68629 118 3 115.314 3 112V31.9044Z",fill:e,className:u.cq,ref:r}))),et=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.8014 70.724L8.31687 37.526C7.36024 35.695 8.68491 33.5 10.7466 33.5H112.245C113.225 33.5 114.13 34.0241 114.62 34.8749L135.632 70.6249C136.122 71.4758 136.122 72.5242 135.632 73.3751L114.62 109.125C114.13 109.976 113.225 110.5 112.245 110.5H10.7466C8.68491 110.5 7.36024 108.305 8.31687 106.474L27.8014 73.276C28.219 72.4768 28.219 71.5232 27.8014 70.724Z",fill:e,className:u.cq,ref:r}))),er=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.129 70.5542L11.8756 36.4458C10.776 34.4464 12.2225 32 14.5043 32H106.561C107.609 32 108.582 32.5478 109.126 33.4447L132.065 70.4447C132.645 71.4006 132.645 72.5994 132.065 73.5553L109.126 110.555C108.582 111.452 107.609 112 106.561 112H14.5043C12.2225 112 10.776 109.554 11.8756 107.554L33.129 73.4458C33.6241 72.5455 33.6241 71.4545 33.129 70.5542Z",fill:e,className:u.cq,ref:r}))),en=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M8 24.41C8 23.0789 9.07886 22 10.41 22H133.59C134.921 22 136 23.0789 136 24.4095V109.272C136 110.813 134.515 111.919 133.037 111.477L117.877 106.938C101.942 102.167 84.7341 104.324 70.4706 112.88C55.667 121.76 37.6577 123.527 21.4094 117.693L9.33252 113.356C8.53306 113.069 8 112.312 8 111.462V24.41Z",fill:e,className:u.cq,ref:r}))),ei=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M8 24.2588C8 23.0112 9.01116 22 10.2588 22H124.706C125.954 22 126.965 23.0112 126.965 24.2588V28.5255H18.2902C16.214 28.5255 14.5255 30.2092 14.5255 32.2897V106.223L9.51678 104.587L9.49722 104.581C8.60912 104.317 8 103.501 8 102.574V24.2588Z",fill:e,className:u.cq,ref:r}),n.createElement("path",{d:"M18.2902 30.0314H133.741C134.989 30.0314 136 31.0426 136 32.2897V111.827C136 113.272 134.608 114.309 133.223 113.894L119.014 109.64C104.079 105.168 87.9508 107.19 74.5823 115.209C60.7075 123.532 43.8282 125.188 28.5994 119.72L17.2803 115.655C16.531 115.386 16.0314 114.676 16.0314 113.88V32.2897C16.0314 31.0422 17.0444 30.0314 18.2902 30.0314Z",fill:e,className:u.cq}))),ea=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M8.94141 70.0367L59.3021 28.0736C60.95 26.7503 63.3967 27.9234 63.3967 30.037V50.1764C63.3967 50.1765 63.3968 50.1767 63.3969 50.1769V50.1769C63.3971 50.177 63.3973 50.1771 63.3974 50.1771H133.482C134.873 50.1771 136 51.3044 136 52.6951V91.3049C136 92.6956 134.873 93.823 133.482 93.823H63.3974C63.3973 93.823 63.3971 93.8231 63.3969 93.8232V93.8232C63.3968 93.8233 63.3967 93.8235 63.3967 93.8237V113.963C63.3967 116.077 60.95 117.25 59.3021 115.926L8.9414 73.9634C7.6862 72.9554 7.6862 71.0446 8.94141 70.0367Z",fill:e,className:u.cq,ref:r}))),eo=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M12.5068 70.5597C11.8311 71.4272 11.8311 72.5728 12.5068 73.4403L47.1369 117.894C48.7381 119.95 52.3844 118.949 52.3844 116.454V99.4781H129C130.657 99.4781 132 98.135 132 96.4781V48.7638C132 47.107 130.657 45.7638 129 45.7638H52.3844V27.5458C52.3844 25.0508 48.7381 24.05 47.1369 26.1055L12.5068 70.5597Z",fill:e,className:u.cq,ref:r}))),el=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M135.059 73.9634L84.6979 115.926C83.05 117.25 80.6033 116.077 80.6033 113.963V93.8237C80.6033 93.8235 80.6032 93.8233 80.6031 93.8232V93.8232C80.6029 93.8231 80.6028 93.823 80.6026 93.823H10.518C9.12736 93.823 8 92.6956 8 91.3049V52.6951C8 51.3044 9.12736 50.1771 10.518 50.1771H80.6026C80.6027 50.1771 80.6029 50.177 80.6031 50.1769V50.1769C80.6032 50.1767 80.6033 50.1765 80.6033 50.1764V30.037C80.6033 27.9234 83.05 26.7503 84.6979 28.0736L135.059 70.0367C136.314 71.0446 136.314 72.9554 135.059 73.9634Z",fill:e,className:u.cq,ref:r}))),es=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M131.493 70.5597C132.169 71.4272 132.169 72.5728 131.493 73.4403L96.8631 117.894C95.2619 119.95 91.6156 118.949 91.6156 116.454V99.4781H15C13.3432 99.4781 12 98.135 12 96.4781V48.7638C12 47.107 13.3432 45.7638 15 45.7638H91.6156V27.5458C91.6156 25.0508 95.2619 24.05 96.8631 26.1055L131.493 70.5597Z",fill:e,className:u.cq,ref:r}))),ec=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("circle",{cx:"72",cy:"72",r:"48.5",fill:"white",fillOpacity:"0.8"}),n.createElement("path",{d:"M23.5 72C23.5 59.2726 28.4024 47.6903 36.422 39.0383L69.8739 72.4902L36.9016 105.472C28.5983 96.7676 23.5 84.9792 23.5 72Z M71.9949 70.3686L38.5281 36.9017C47.2323 28.5984 59.0207 23.5 72 23.5C84.9743 23.5 96.7586 28.5945 105.462 36.8921L71.9949 70.3686Z M74.1162 72.4899L107.569 39.0281C115.594 47.6811 120.5 59.2676 120.5 72C120.5 84.9793 115.402 96.7677 107.098 105.472L74.1162 72.4899Z M71.9952 74.6115L104.962 107.578C96.3097 115.598 84.7274 120.5 72 120.5C59.2725 120.5 47.6901 115.598 39.0381 107.578L71.9952 74.6115Z",fill:e,className:u.cq,ref:r}))),ed=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("circle",{cx:"71.9978",cy:"71.9978",r:"48.475",fill:"white",fillOpacity:"0.8"}),n.createElement("path",{d:"M70.5 70.5H23.5228C24.3003 44.9064 44.9064 24.3003 70.5 23.5228V70.5Z M73.5 70.5V23.5228C99.0937 24.3003 119.7 44.9064 120.477 70.5H73.5Z M73.5 73.5H120.477C119.7 99.0937 99.0937 119.7 73.5 120.477V73.5Z M70.5 73.5V120.477C44.9064 119.7 24.3003 99.0937 23.5228 73.5H70.5Z",fill:e,className:u.cq,ref:r}))),eu=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M8 43.5V84.2344C8 98.0415 19.1929 109.234 33 109.234H33.4992C33.4994 109.234 33.4996 109.235 33.4997 109.235V109.235C33.4999 109.235 33.5 109.235 33.5 109.235V121.505C33.5 124.734 37.147 126.624 39.7975 124.769L61.9993 109.235V109.235C62.0001 109.235 62.001 109.234 62.002 109.234H111C124.807 109.234 136 98.0415 136 84.2344V43.5C136 29.6929 124.807 18.5 111 18.5H33C19.1929 18.5 8 29.6929 8 43.5Z",fill:e,className:u.cq,ref:r}))),ep=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M128 50V80.5754C128 92.7257 118.15 102.575 106 102.575H60.4126V102.575C60.4117 102.575 60.411 102.576 60.4103 102.577L42.151 115.27C39.9715 117.123 36.972 115.234 36.972 112.007L36.9715 102.576C36.9715 102.576 36.9717 102.576 36.9718 102.575C36.9718 102.575 36.9719 102.575 36.9718 102.575H26.486C20.6947 102.575 16 97.8807 16 92.0894V50C16 37.8497 25.8497 28 38 28H106C118.15 28 128 37.8497 128 50Z",fill:e,className:u.cq,ref:r}))),em=n.forwardRef(({color:e=S,toolbarIconScale:t=1},r)=>n.createElement(P,{toolbarIconScale:t},n.createElement("path",{d:"M8 31.8206C8 30.3939 9.15626 29.2377 10.583 29.2377H133.417C134.844 29.2377 136 30.3939 136 31.8206V112.179C136 113.606 134.844 114.762 133.417 114.762H10.583C9.15626 114.762 8 113.606 8 112.179V31.8206Z",fill:"white",fillOpacity:"0.8"}),n.createElement("path",{d:"M8 31.8206C8 30.3939 9.15626 29.2377 10.583 29.2377H15.4619V36.6996H8V31.8206Z M17.1839 36.6996V29.2377H133.417C134.844 29.2377 136 30.3939 136 31.8206V36.6996H17.1839Z M17.1839 38.4215H136V112.179C136 113.606 134.844 114.762 133.417 114.762H17.1839V38.4215Z M15.4619 38.4215V114.762H10.583C9.15626 114.762 8 113.606 8 112.179V38.4215H15.4619Z",fill:e,className:u.cq,ref:r}))),e_=n.forwardRef(({color:e=w,toolbarIconScale:t=1},r)=>n.createElement("svg",{width:31*t,height:34*t,viewBox:"0 0 32 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.7929 1.70711C22.4024 1.31658 22.4024 0.683417 22.7929 0.292893C23.1834 -0.0976311 23.8166 -0.0976311 24.2071 0.292893L30.2071 6.29289C30.5976 6.68342 30.5976 7.31658 30.2071 7.70711L24.2071 13.7071C23.8166 14.0976 23.1834 14.0976 22.7929 13.7071C22.4024 13.3166 22.4024 12.6834 22.7929 12.2929L27.0858 8H20.6834C17.922 8 15.6834 10.2386 15.6834 13V27C15.6834 30.866 12.5494 34 8.68341 34H1.5C0.947715 34 0.5 33.5523 0.5 33C0.5 32.4477 0.947715 32 1.5 32H8.68341C11.4448 32 13.6834 29.7614 13.6834 27V13C13.6834 9.13401 16.8174 6 20.6834 6H27.0858L22.7929 1.70711Z",fill:e,ref:r}))),eh=n.forwardRef(({color:e=w,toolbarIconScale:t=1},r)=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:28*t,height:30*t,viewBox:"0 0 28 30",fill:"none"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8987 2.17466C17.3465 2.18604 16.8897 1.74765 16.8783 1.19548C16.8669 0.643314 17.3053 0.186467 17.8575 0.175085L26.341 0.000216699C26.8931 -0.011165 27.35 0.427228 27.3614 0.979396L27.5362 9.46288C27.5476 10.015 27.1092 10.4719 26.5571 10.4833C26.0049 10.4947 25.548 10.0563 25.5367 9.50409L25.4197 3.82765L1.73377 29.4084C1.35854 29.8137 0.725841 29.838 0.320597 29.4628C-0.0846483 29.0875 -0.108983 28.4548 0.266244 28.0496L24.3476 2.04173L17.8987 2.17466Z",fill:e,ref:r})));function eg(){return n.createElement("svg",{width:"48",height:"40",viewBox:"0 0 48 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"4",width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"1",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),n.createElement("rect",{x:"41",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),n.createElement("path",{d:"M4.5 16V8.5C4.5 4.08172 7.49218 0.5 11.8 0.5H36.2C40.5078 0.5 43.5 4.08172 43.5 8.5V16",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{d:"M4.5 24V31.5C4.5 35.9183 7.49218 39.5 11.8 39.5H36.2C40.5078 39.5 43.5 35.9183 43.5 31.5V24",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9H15V11H23V31H25V11H33V9Z",fill:"black",fillOpacity:"0.9"}))}function ef(){return n.createElement("svg",{width:"48",height:"40",viewBox:"0 0 48 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"4",width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"1",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),n.createElement("rect",{x:"41",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9H15V11H23V31H25V11H33V9Z",fill:"black",fillOpacity:"0.9"}))}function eE(){return n.createElement("svg",{width:"48",height:"40",viewBox:"0 0 48 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 8C4 3.58172 7.58172 0 12 0H36C40.4183 0 44 3.58172 44 8V16H40V24H44V32C44 36.4183 40.4183 40 36 40H12C7.58172 40 4 36.4183 4 32V24H8V16H4V8Z",fill:"#F5F5F5"}),n.createElement("rect",{x:"1",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),n.createElement("rect",{x:"41",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),n.createElement("path",{d:"M4.5 16V8.5C4.5 4.08172 7.49218 0.5 11.8 0.5H36.2C40.5078 0.5 43.5 4.08172 43.5 8.5V16",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{d:"M4.5 24V31.5C4.5 35.9183 7.49218 39.5 11.8 39.5H36.2C40.5078 39.5 43.5 35.9183 43.5 31.5V24",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9H15V11H23V31H25V11H33V9Z",fill:"black",fillOpacity:"0.9"}))}function ey(){return n.createElement("svg",{width:"48",height:"40",viewBox:"0 0 48 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"1",y:"17",width:"6",height:"6",fill:"#9747FF",stroke:"white",strokeWidth:"2"}),n.createElement("rect",{x:"41",y:"17",width:"6",height:"6",fill:"#9747FF",stroke:"white",strokeWidth:"2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 8C4 3.58172 7.58172 0 12 0H36C40.4183 0 44 3.58172 44 8V16H40V24H44V32C44 36.4183 40.4183 40 36 40H12C7.58172 40 4 36.4183 4 32V24H8V16H4V8Z",fill:"#9747FF"}),n.createElement("mask",{id:"path-4-inside-1_1014310_50946",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9H15V11H23V31H25V11H33V9Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9H15V11H23V31H25V11H33V9Z",fill:"white"}),n.createElement("path",{d:"M15 9V8H14V9H15ZM33 9H34V8H33V9ZM15 11H14V12H15V11ZM23 11H24V10H23V11ZM23 31H22V32H23V31ZM25 31V32H26V31H25ZM25 11V10H24V11H25ZM33 11V12H34V11H33ZM15 10H33V8H15V10ZM16 11V9H14V11H16ZM23 10H15V12H23V10ZM24 31V11H22V31H24ZM25 30H23V32H25V30ZM24 11V31H26V11H24ZM33 10H25V12H33V10ZM32 9V11H34V9H32Z",fill:"white",mask:"url(#path-4-inside-1_1014310_50946)"}))}function eb(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"black",fillOpacity:"0.9"}))}function ev(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"black",fillOpacity:"0.9"}))}function eI(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"black",fillOpacity:"0.9"}))}function eT(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"white"}))}function eS(){return n.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("mask",{id:"path-3-inside-1_1019679_55716",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3576 13.6424L32 11L30.6424 13.6424L28 15L30.6424 16.3576L32 19L33.3576 16.3576L36 15L33.3576 13.6424ZM39.1682 26H41H42V27V38C42 40.2091 40.2091 42 38 42H18C15.7909 42 14 40.2091 14 38V27V26H15H28.1837C28.2225 25.3193 28.3893 24.6345 28.6965 23.9794C29.9863 21.2293 33.2613 20.0454 36.0114 21.3352C37.9039 22.2227 39.0547 24.0503 39.1682 26ZM37.1625 26C37.0532 24.8026 36.3294 23.6933 35.1622 23.146C33.4121 22.3252 31.3281 23.0786 30.5073 24.8287C30.329 25.2088 30.225 25.6047 30.1893 26H37.1625ZM25.8981 19.4218L22.4218 15.828L18.828 19.3044L22.3044 22.8981L25.8981 19.4218ZM23.8593 14.4375L22.4688 13L21.0312 14.3905L17.4375 17.8669L16 19.2574L17.3905 20.6949L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L23.8593 14.4375ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3576 13.6424L32 11L30.6424 13.6424L28 15L30.6424 16.3576L32 19L33.3576 16.3576L36 15L33.3576 13.6424ZM39.1682 26H41H42V27V38C42 40.2091 40.2091 42 38 42H18C15.7909 42 14 40.2091 14 38V27V26H15H28.1837C28.2225 25.3193 28.3893 24.6345 28.6965 23.9794C29.9863 21.2293 33.2613 20.0454 36.0114 21.3352C37.9039 22.2227 39.0547 24.0503 39.1682 26ZM37.1625 26C37.0532 24.8026 36.3294 23.6933 35.1622 23.146C33.4121 22.3252 31.3281 23.0786 30.5073 24.8287C30.329 25.2088 30.225 25.6047 30.1893 26H37.1625ZM25.8981 19.4218L22.4218 15.828L18.828 19.3044L22.3044 22.8981L25.8981 19.4218ZM23.8593 14.4375L22.4688 13L21.0312 14.3905L17.4375 17.8669L16 19.2574L17.3905 20.6949L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L23.8593 14.4375ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M32 11L33.7789 10.086L32 6.6237L30.2211 10.086L32 11ZM33.3576 13.6424L31.5787 14.5564L31.8723 15.1277L32.4436 15.4213L33.3576 13.6424ZM30.6424 13.6424L31.5564 15.4213L32.1277 15.1277L32.4213 14.5564L30.6424 13.6424ZM28 15L27.086 13.2211L23.6237 15L27.086 16.7789L28 15ZM30.6424 16.3576L32.4213 15.4436L32.1277 14.8723L31.5564 14.5787L30.6424 16.3576ZM32 19L30.2211 19.914L32 23.3763L33.7789 19.914L32 19ZM33.3576 16.3576L32.4436 14.5787L31.8723 14.8723L31.5787 15.4436L33.3576 16.3576ZM36 15L36.914 16.7789L40.3763 15L36.914 13.2211L36 15ZM39.1682 26L37.1715 26.1162L37.2812 28H39.1682V26ZM42 26H44V24H42V26ZM14 26V24H12V26H14ZM28.1837 26V28H30.0729L30.1804 26.1138L28.1837 26ZM28.6965 23.9794L26.8858 23.1302V23.1302L28.6965 23.9794ZM36.0114 21.3352L35.1622 23.146V23.146L36.0114 21.3352ZM37.1625 26V28H39.3533L39.1542 25.8183L37.1625 26ZM35.1622 23.146L34.313 24.9567V24.9567L35.1622 23.146ZM30.5073 24.8287L28.6965 23.9794L28.6965 23.9794L30.5073 24.8287ZM30.1893 26L28.1974 25.8203L28.0008 28H30.1893V26ZM22.4218 15.828L23.8593 14.4375L22.4688 13L21.0312 14.3905L22.4218 15.828ZM25.8981 19.4218L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L25.8981 19.4218ZM18.828 19.3044L17.4375 17.8669L16 19.2574L17.3905 20.6949L18.828 19.3044ZM22.3044 22.8981L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L22.3044 22.8981ZM22.4688 13L23.9063 11.6095L22.5157 10.172L21.0782 11.5625L22.4688 13ZM23.8593 14.4375L22.4218 15.828L22.4218 15.828L23.8593 14.4375ZM21.0312 14.3905L22.4218 15.828L22.4218 15.828L21.0312 14.3905ZM17.4375 17.8669L16.047 16.4294H16.047L17.4375 17.8669ZM16 19.2574L14.6095 17.8199L13.172 19.2104L14.5625 20.6479L16 19.2574ZM17.3905 20.6949L18.828 19.3044L18.828 19.3044L17.3905 20.6949ZM20.8669 24.2887L22.3044 22.8981H22.3044L20.8669 24.2887ZM22.2574 25.7262L20.8199 27.1167L22.2104 28.5542L23.6479 27.1637L22.2574 25.7262ZM23.6949 24.3356L22.3044 22.8981V22.8981L23.6949 24.3356ZM27.2887 20.8593L28.6792 22.2968V22.2968L27.2887 20.8593ZM28.7262 19.4688L30.1167 20.9063L31.5542 19.5157L30.1637 18.0782L28.7262 19.4688ZM27.3356 18.0313L28.7731 16.6407L28.7731 16.6407L27.3356 18.0313ZM16 28V26H14V28H16ZM40 28H42V26H40V28ZM30.2211 11.914L31.5787 14.5564L35.1366 12.7283L33.7789 10.086L30.2211 11.914ZM32.4213 14.5564L33.7789 11.914L30.2211 10.086L28.8634 12.7283L32.4213 14.5564ZM28.914 16.7789L31.5564 15.4213L29.7283 11.8634L27.086 13.2211L28.914 16.7789ZM31.5564 14.5787L28.914 13.2211L27.086 16.7789L29.7283 18.1366L31.5564 14.5787ZM33.7789 18.086L32.4213 15.4436L28.8634 17.2717L30.2211 19.914L33.7789 18.086ZM31.5787 15.4436L30.2211 18.086L33.7789 19.914L35.1366 17.2717L31.5787 15.4436ZM35.086 13.2211L32.4436 14.5787L34.2717 18.1366L36.914 16.7789L35.086 13.2211ZM32.4436 15.4213L35.086 16.7789L36.914 13.2211L34.2717 11.8634L32.4436 15.4213ZM39.1682 28H41V24H39.1682V28ZM41 28H42V24H41V28ZM40 26V27H44V26H40ZM40 27V38H44V27H40ZM40 38C40 39.1046 39.1046 40 38 40V44C41.3137 44 44 41.3137 44 38H40ZM38 40H18V44H38V40ZM18 40C16.8954 40 16 39.1046 16 38H12C12 41.3137 14.6863 44 18 44V40ZM16 38V27H12V38H16ZM16 27V26H12V27H16ZM14 28H15V24H14V28ZM15 28H28.1837V24H15V28ZM30.1804 26.1138C30.2049 25.6836 30.3102 25.2488 30.5073 24.8287L26.8858 23.1302C26.4684 24.0201 26.24 24.955 26.1869 25.8862L30.1804 26.1138ZM30.5073 24.8287C31.3281 23.0786 33.4121 22.3252 35.1622 23.146L36.8607 19.5244C33.1105 17.7657 28.6446 19.38 26.8858 23.1302L30.5073 24.8287ZM35.1622 23.146C36.3641 23.7096 37.099 24.8697 37.1715 26.1162L41.1648 25.8838C41.0104 23.2309 39.4437 20.7359 36.8607 19.5244L35.1622 23.146ZM39.1542 25.8183C38.9831 23.9427 37.8478 22.1964 36.0114 21.3352L34.313 24.9567C34.811 25.1903 35.1234 25.6625 35.1708 26.1817L39.1542 25.8183ZM36.0114 21.3352C33.2613 20.0454 29.9863 21.2293 28.6965 23.9794L32.318 25.6779C32.6698 24.9278 33.563 24.605 34.313 24.9567L36.0114 21.3352ZM28.6965 23.9794C28.4179 24.5735 28.2537 25.1964 28.1974 25.8203L32.1812 26.1797C32.1963 26.013 32.2401 25.8441 32.318 25.6779L28.6965 23.9794ZM30.1893 28H37.1625V24H30.1893V28ZM20.9843 17.2186L24.4606 20.8123L27.3356 18.0313L23.8593 14.4375L20.9843 17.2186ZM20.2186 20.7419L23.8123 17.2655L21.0312 14.3905L17.4375 17.8669L20.2186 20.7419ZM23.7419 21.5076L20.2655 17.9138L17.3905 20.6949L20.8669 24.2887L23.7419 21.5076ZM24.5076 17.9843L20.9138 21.4606L23.6949 24.3356L27.2887 20.8593L24.5076 17.9843ZM21.0312 14.3905L22.4218 15.828L25.2968 13.047L23.9063 11.6095L21.0312 14.3905ZM22.4218 15.828L23.8593 14.4375L21.0782 11.5625L19.6407 12.953L22.4218 15.828ZM18.828 19.3044L22.4218 15.828L19.6407 12.953L16.047 16.4294L18.828 19.3044ZM17.3905 20.6949L18.828 19.3044L16.047 16.4294L14.6095 17.8199L17.3905 20.6949ZM18.828 19.3044L17.4375 17.8669L14.5625 20.6479L15.953 22.0854L18.828 19.3044ZM22.3044 22.8981L18.828 19.3044L15.953 22.0854L19.4294 25.6792L22.3044 22.8981ZM23.6949 24.3356L22.3044 22.8981L19.4294 25.6792L20.8199 27.1167L23.6949 24.3356ZM22.3044 22.8981L20.8669 24.2887L23.6479 27.1637L25.0854 25.7731L22.3044 22.8981ZM25.8981 19.4218L22.3044 22.8981L25.0854 25.7731L28.6792 22.2968L25.8981 19.4218ZM27.3356 18.0313L25.8981 19.4218L28.6792 22.2968L30.1167 20.9063L27.3356 18.0313ZM25.8981 19.4218L27.2887 20.8593L30.1637 18.0782L28.7731 16.6407L25.8981 19.4218ZM22.4218 15.828L25.8981 19.4218L28.7731 16.6407L25.2968 13.047L22.4218 15.828ZM14 28V38H18V28H14ZM40 26H16V30H40V26ZM42 38V28H38V38H42ZM38 42C40.2091 42 42 40.2091 42 38H38V42ZM18 42H38V38H18V42ZM14 38C14 40.2091 15.7909 42 18 42V38H18H14Z",fill:"black",fillOpacity:"0.9",mask:"url(#path-3-inside-1_1019679_55716)"}),n.createElement("rect",{x:"8.5",y:"8.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}))}function ew(){return n.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"8.5",y:"8.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{d:"M11.5269 4L22.3945 9.08856L17.306 19.9562L6.4383 14.8677L11.5269 4Z",fill:"#FF8577"}),n.createElement("path",{d:"M51.3739 20.2821C49.7324 23.7823 45.5642 25.2891 42.064 23.6475C38.5639 22.006 37.0571 17.8378 38.6986 14.3376C40.3402 10.8375 44.5084 9.33072 48.0085 10.9723C51.5087 12.6138 53.0155 16.782 51.3739 20.2821Z",fill:"#C7B9FF"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.377 23.8507L25.8165 22.6624L27.3151 27.0003H28.4367L30.6793 20.0203L27.2397 21.2085L25.16 15.1885L22.377 23.8507Z",fill:"#FFC700"}),n.createElement("mask",{id:"path-6-inside-1_1019679_55739",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.0275 4.97265L36.5002 2L34.9728 4.97265L32.0002 6.5L34.9728 8.02735L36.5002 11L38.0275 8.02735L41.0002 6.5L38.0275 4.97265ZM33.3487 11.6515L32.5002 10L31.6517 11.6515L30.0002 12.5L31.6517 13.3485L32.5002 15L33.3487 13.3485L35.0002 12.5L33.3487 11.6515ZM19.7353 10.0517L12.4902 6.65937L9.09785 13.9045L16.343 17.2969L19.7353 10.0517ZM11.527 4L6.43848 14.8677L17.3062 19.9562L22.3947 9.08856L11.527 4ZM49.5634 19.4329C48.3908 21.9331 45.4136 23.0093 42.9134 21.8368C40.4133 20.6643 39.3371 17.687 40.5096 15.1869C41.6821 12.6867 44.6594 11.6105 47.1595 12.783C49.6596 13.9555 50.7359 16.9328 49.5634 19.4329ZM51.3741 20.2821C49.7326 23.7823 45.5644 25.2891 42.0642 23.6475C38.564 22.006 37.0573 17.8378 38.6988 14.3376C40.3404 10.8375 44.5085 9.33072 48.0087 10.9723C51.5089 12.6138 53.0156 16.782 51.3741 20.2821ZM25.1601 15.1882L22.377 23.8504L25.8166 22.6621L26.9697 26H28.758L30.6794 20.02L27.2398 21.2082L25.1601 15.1882ZM30.8587 26L32.5835 20.6318C32.8152 19.9105 32.6196 19.1203 32.0781 18.5905C31.5367 18.0607 30.7423 17.8823 30.0263 18.1296L28.4771 18.6648L27.0505 14.5352C26.7694 13.7215 25.9992 13.179 25.1384 13.1883C24.2776 13.1977 23.5193 13.7568 23.256 14.5764L20.4729 23.2386C20.2412 23.9598 20.4368 24.7501 20.9783 25.2799C21.5197 25.8097 22.3141 25.9881 23.0301 25.7408L24.5793 25.2056L24.8537 26H15H14V27V38C14 40.2091 15.7909 42 18 42H38C40.2091 42 42 40.2091 42 38V27V26H41H30.8587ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.0275 4.97265L36.5002 2L34.9728 4.97265L32.0002 6.5L34.9728 8.02735L36.5002 11L38.0275 8.02735L41.0002 6.5L38.0275 4.97265ZM33.3487 11.6515L32.5002 10L31.6517 11.6515L30.0002 12.5L31.6517 13.3485L32.5002 15L33.3487 13.3485L35.0002 12.5L33.3487 11.6515ZM19.7353 10.0517L12.4902 6.65937L9.09785 13.9045L16.343 17.2969L19.7353 10.0517ZM11.527 4L6.43848 14.8677L17.3062 19.9562L22.3947 9.08856L11.527 4ZM49.5634 19.4329C48.3908 21.9331 45.4136 23.0093 42.9134 21.8368C40.4133 20.6643 39.3371 17.687 40.5096 15.1869C41.6821 12.6867 44.6594 11.6105 47.1595 12.783C49.6596 13.9555 50.7359 16.9328 49.5634 19.4329ZM51.3741 20.2821C49.7326 23.7823 45.5644 25.2891 42.0642 23.6475C38.564 22.006 37.0573 17.8378 38.6988 14.3376C40.3404 10.8375 44.5085 9.33072 48.0087 10.9723C51.5089 12.6138 53.0156 16.782 51.3741 20.2821ZM25.1601 15.1882L22.377 23.8504L25.8166 22.6621L26.9697 26H28.758L30.6794 20.02L27.2398 21.2082L25.1601 15.1882ZM30.8587 26L32.5835 20.6318C32.8152 19.9105 32.6196 19.1203 32.0781 18.5905C31.5367 18.0607 30.7423 17.8823 30.0263 18.1296L28.4771 18.6648L27.0505 14.5352C26.7694 13.7215 25.9992 13.179 25.1384 13.1883C24.2776 13.1977 23.5193 13.7568 23.256 14.5764L20.4729 23.2386C20.2412 23.9598 20.4368 24.7501 20.9783 25.2799C21.5197 25.8097 22.3141 25.9881 23.0301 25.7408L24.5793 25.2056L24.8537 26H15H14V27V38C14 40.2091 15.7909 42 18 42H38C40.2091 42 42 40.2091 42 38V27V26H41H30.8587ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z",fill:"white"}),n.createElement("path",{d:"M36.5002 2L38.2791 1.08599L36.5002 -2.3763L34.7213 1.08599L36.5002 2ZM38.0275 4.97265L36.2486 5.88666L36.5422 6.45801L37.1135 6.75158L38.0275 4.97265ZM34.9728 4.97265L35.8868 6.75158L36.4582 6.45801L36.7518 5.88666L34.9728 4.97265ZM32.0002 6.5L31.0862 4.72107L27.6239 6.5L31.0862 8.27893L32.0002 6.5ZM34.9728 8.02735L36.7518 7.11334L36.4582 6.54199L35.8868 6.24842L34.9728 8.02735ZM36.5002 11L34.7213 11.914L36.5002 15.3763L38.2791 11.914L36.5002 11ZM38.0275 8.02735L37.1135 6.24842L36.5422 6.54199L36.2486 7.11334L38.0275 8.02735ZM41.0002 6.5L41.9142 8.27893L45.3765 6.5L41.9142 4.72107L41.0002 6.5ZM32.5002 10L34.2791 9.08599L32.5002 5.6237L30.7213 9.08599L32.5002 10ZM33.3487 11.6515L31.5698 12.5655L31.8633 13.1368L32.4347 13.4304L33.3487 11.6515ZM31.6517 11.6515L32.5657 13.4304L33.137 13.1368L33.4306 12.5655L31.6517 11.6515ZM30.0002 12.5L29.0862 10.7211L25.6239 12.5L29.0862 14.2789L30.0002 12.5ZM31.6517 13.3485L33.4306 12.4345L33.137 11.8632L32.5657 11.5696L31.6517 13.3485ZM32.5002 15L30.7213 15.914L32.5002 19.3763L34.2791 15.914L32.5002 15ZM33.3487 13.3485L32.4347 11.5696L31.8633 11.8632L31.5698 12.4345L33.3487 13.3485ZM35.0002 12.5L35.9142 14.2789L39.3765 12.5L35.9142 10.7211L35.0002 12.5ZM12.4902 6.65937L13.3383 4.84809L11.527 4L10.6789 5.81128L12.4902 6.65937ZM19.7353 10.0517L21.5466 10.8998L22.3947 9.08856L20.5834 8.24047L19.7353 10.0517ZM9.09785 13.9045L7.28657 13.0564L6.43848 14.8677L8.24976 15.7158L9.09785 13.9045ZM16.343 17.2969L15.4949 19.1082L17.3062 19.9562L18.1543 18.145L16.343 17.2969ZM6.43848 14.8677L4.6272 14.0196L3.7791 15.8309L5.59038 16.679L6.43848 14.8677ZM11.527 4L12.3751 2.18872L10.5638 1.34063L9.71575 3.15191L11.527 4ZM17.3062 19.9562L16.4581 21.7675L18.2693 22.6156L19.1174 20.8043L17.3062 19.9562ZM22.3947 9.08856L24.206 9.93665L25.0541 8.12537L23.2428 7.27728L22.3947 9.08856ZM42.9134 21.8368L43.7626 20.026L42.9134 21.8368ZM49.5634 19.4329L47.7526 18.5837L49.5634 19.4329ZM40.5096 15.1869L38.6988 14.3376V14.3376L40.5096 15.1869ZM47.1595 12.783L48.0087 10.9723L47.1595 12.783ZM42.0642 23.6475L41.215 25.4583H41.215L42.0642 23.6475ZM51.3741 20.2821L49.5634 19.4329L51.3741 20.2821ZM38.6988 14.3376L36.8881 13.4884V13.4884L38.6988 14.3376ZM48.0087 10.9723L47.1595 12.783L47.1595 12.783L48.0087 10.9723ZM22.377 23.8504L20.4729 23.2386L19.2493 27.0469L23.0301 25.7408L22.377 23.8504ZM25.1601 15.1882L27.0505 14.5352L25.0913 8.86403L23.256 14.5764L25.1601 15.1882ZM25.8166 22.6621L27.707 22.0091L27.0539 20.1187L25.1635 20.7718L25.8166 22.6621ZM26.9697 26L25.0793 26.6531L25.5446 28H26.9697V26ZM28.758 26V28H30.2161L30.6622 26.6118L28.758 26ZM30.6794 20.02L32.5835 20.6318L33.8071 16.8235L30.0263 18.1296L30.6794 20.02ZM27.2398 21.2082L25.3494 21.8613L26.0025 23.7517L27.8929 23.0986L27.2398 21.2082ZM30.8587 26L28.9546 25.3882L28.1155 28H30.8587V26ZM32.5835 20.6318L34.4876 21.2436V21.2436L32.5835 20.6318ZM30.0263 18.1296L30.6794 20.02H30.6794L30.0263 18.1296ZM28.4771 18.6648L26.5868 19.3179L27.2398 21.2082L29.1302 20.5552L28.4771 18.6648ZM27.0505 14.5352L28.9409 13.8821L27.0505 14.5352ZM25.1384 13.1883L25.1601 15.1882L25.1384 13.1883ZM23.256 14.5764L21.3519 13.9646L23.256 14.5764ZM20.4729 23.2386L22.377 23.8504H22.377L20.4729 23.2386ZM23.0301 25.7408L23.6831 27.6311L23.6831 27.6311L23.0301 25.7408ZM24.5793 25.2056L26.4696 24.5525L25.8166 22.6621L23.9262 23.3152L24.5793 25.2056ZM24.8537 26V28H27.6606L26.7441 25.3469L24.8537 26ZM14 26V24H12V26H14ZM42 26H44V24H42V26ZM16 28V26H14V28H16ZM40 28H42V26H40V28ZM34.7213 2.91401L36.2486 5.88666L39.8065 4.05864L38.2791 1.08599L34.7213 2.91401ZM36.7518 5.88666L38.2791 2.91401L34.7213 1.08599L33.1939 4.05863L36.7518 5.88666ZM32.9142 8.27893L35.8868 6.75158L34.0588 3.19372L31.0862 4.72107L32.9142 8.27893ZM35.8868 6.24842L32.9142 4.72107L31.0862 8.27893L34.0588 9.80628L35.8868 6.24842ZM38.2791 10.086L36.7518 7.11334L33.1939 8.94136L34.7213 11.914L38.2791 10.086ZM36.2486 7.11334L34.7213 10.086L38.2791 11.914L39.8065 8.94136L36.2486 7.11334ZM40.0862 4.72107L37.1135 6.24842L38.9415 9.80628L41.9142 8.27893L40.0862 4.72107ZM37.1135 6.75158L40.0862 8.27893L41.9142 4.72107L38.9415 3.19372L37.1135 6.75158ZM30.7213 10.914L31.5698 12.5655L35.1276 10.7375L34.2791 9.08599L30.7213 10.914ZM33.4306 12.5655L34.2791 10.914L30.7213 9.08599L29.8727 10.7375L33.4306 12.5655ZM30.9142 14.2789L32.5657 13.4304L30.7376 9.87255L29.0862 10.7211L30.9142 14.2789ZM32.5657 11.5696L30.9142 10.7211L29.0862 14.2789L30.7376 15.1275L32.5657 11.5696ZM34.2791 14.086L33.4306 12.4345L29.8727 14.2625L30.7213 15.914L34.2791 14.086ZM31.5698 12.4345L30.7213 14.086L34.2791 15.914L35.1276 14.2625L31.5698 12.4345ZM34.0862 10.7211L32.4347 11.5696L34.2627 15.1275L35.9142 14.2789L34.0862 10.7211ZM32.4347 13.4304L34.0862 14.2789L35.9142 10.7211L34.2627 9.87255L32.4347 13.4304ZM11.6421 8.47065L18.8873 11.863L20.5834 8.24047L13.3383 4.84809L11.6421 8.47065ZM10.9091 14.7526L14.3015 7.50747L10.6789 5.81128L7.28657 13.0564L10.9091 14.7526ZM17.1911 15.4856L9.94594 12.0932L8.24976 15.7158L15.4949 19.1082L17.1911 15.4856ZM17.9241 9.20365L14.5317 16.4488L18.1543 18.145L21.5466 10.8998L17.9241 9.20365ZM8.24976 15.7158L13.3383 4.84809L9.71575 3.15191L4.6272 14.0196L8.24976 15.7158ZM18.1543 18.145L7.28657 13.0564L5.59038 16.679L16.4581 21.7675L18.1543 18.145ZM20.5834 8.24047L15.4949 19.1081L19.1174 20.8043L24.206 9.93665L20.5834 8.24047ZM10.6789 5.81128L21.5466 10.8998L23.2428 7.27728L12.3751 2.18872L10.6789 5.81128ZM42.0642 23.6475C45.5644 25.2891 49.7326 23.7823 51.3741 20.2821L47.7526 18.5837C47.0491 20.0838 45.2627 20.7295 43.7626 20.026L42.0642 23.6475ZM38.6988 14.3376C37.0573 17.8378 38.564 22.006 42.0642 23.6475L43.7626 20.026C42.2626 19.3225 41.6168 17.5362 42.3203 16.0361L38.6988 14.3376ZM48.0087 10.9723C44.5085 9.33072 40.3404 10.8375 38.6988 14.3376L42.3203 16.0361C43.0238 14.536 44.8102 13.8902 46.3103 14.5938L48.0087 10.9723ZM51.3741 20.2821C53.0156 16.782 51.5089 12.6138 48.0087 10.9723L46.3103 14.5938C47.8104 15.2973 48.4561 17.0836 47.7526 18.5837L51.3741 20.2821ZM41.215 25.4583C45.7152 27.5688 51.0743 25.6316 53.1849 21.1314L49.5634 19.4329C48.3908 21.9331 45.4136 23.0093 42.9134 21.8368L41.215 25.4583ZM36.8881 13.4884C34.7775 17.9887 36.7148 23.3478 41.215 25.4583L42.9134 21.8368C40.4133 20.6643 39.3371 17.687 40.5096 15.1869L36.8881 13.4884ZM48.8579 9.1615C44.3577 7.05096 38.9986 8.98819 36.8881 13.4884L40.5096 15.1869C41.6821 12.6867 44.6594 11.6105 47.1595 12.783L48.8579 9.1615ZM53.1849 21.1314C55.2954 16.6311 53.3582 11.272 48.8579 9.1615L47.1595 12.783C49.6596 13.9555 50.7359 16.9328 49.5634 19.4329L53.1849 21.1314ZM24.2812 24.4622L27.0643 15.8L23.256 14.5764L20.4729 23.2386L24.2812 24.4622ZM25.1635 20.7718L21.724 21.96L23.0301 25.7408L26.4696 24.5525L25.1635 20.7718ZM28.8601 25.3469L27.707 22.0091L23.9262 23.3152L25.0793 26.6531L28.8601 25.3469ZM26.9697 28H28.758V24H26.9697V28ZM28.7752 19.4082L26.8539 25.3882L30.6622 26.6118L32.5835 20.6318L28.7752 19.4082ZM27.8929 23.0986L31.3324 21.9104L30.0263 18.1296L26.5868 19.3179L27.8929 23.0986ZM23.2698 15.8413L25.3494 21.8613L29.1302 20.5552L27.0505 14.5352L23.2698 15.8413ZM32.7629 26.6118L34.4876 21.2436L30.6794 20.02L28.9546 25.3882L32.7629 26.6118ZM34.4876 21.2436C34.9511 19.8011 34.5598 18.2206 33.4769 17.161L30.6794 20.02V20.02L34.4876 21.2436ZM33.4769 17.161C32.394 16.1014 30.8053 15.7445 29.3733 16.2392L30.6794 20.02L30.6794 20.02L33.4769 17.161ZM29.3733 16.2392L27.8241 16.7744L29.1302 20.5552L30.6794 20.02L29.3733 16.2392ZM30.3675 18.0117L28.9409 13.8821L25.1601 15.1882L26.5868 19.3179L30.3675 18.0117ZM28.9409 13.8821C28.3787 12.2548 26.8382 11.1697 25.1166 11.1884L25.1601 15.1882H25.1601L28.9409 13.8821ZM25.1166 11.1884C23.395 11.2072 21.8785 12.3254 21.3519 13.9646L25.1601 15.1882H25.1601L25.1166 11.1884ZM21.3519 13.9646L18.5688 22.6268L22.377 23.8504L25.1601 15.1882L21.3519 13.9646ZM18.5688 22.6268C18.1053 24.0693 18.4966 25.6498 19.5795 26.7094L22.377 23.8504L22.377 23.8504L18.5688 22.6268ZM19.5795 26.7094C20.6625 27.769 22.2511 28.1258 23.6831 27.6311L22.377 23.8504L22.377 23.8504L19.5795 26.7094ZM23.6831 27.6311L25.2323 27.096L23.9262 23.3152L22.377 23.8504L23.6831 27.6311ZM22.6889 25.8586L22.9633 26.6531L26.7441 25.3469L26.4696 24.5525L22.6889 25.8586ZM15 28H24.8537V24H15V28ZM14 28H15V24H14V28ZM16 27V26H12V27H16ZM16 38V27H12V38H16ZM18 40C16.8954 40 16 39.1046 16 38H12C12 41.3137 14.6863 44 18 44V40ZM38 40H18V44H38V40ZM40 38C40 39.1046 39.1046 40 38 40V44C41.3137 44 44 41.3137 44 38H40ZM40 27V38H44V27H40ZM40 26V27H44V26H40ZM41 28H42V24H41V28ZM30.8587 28H41V24H30.8587V28ZM14 28V38H18V28H14ZM40 26H16V30H40V26ZM42 38V28H38V38H42ZM38 42C40.2091 42 42 40.2091 42 38H38V42ZM18 42H38V38H18V42ZM14 38C14 40.2091 15.7909 42 18 42V38H18H14Z",fill:"black",fillOpacity:"0.9",mask:"url(#path-6-inside-1_1019679_55739)"}))}function eA(){return n.createElement("svg",{width:"56",height:"62",viewBox:"0 0 56 62",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"8",y:"11",width:"40",height:"40",rx:"8",fill:"#9747FF"}),n.createElement("path",{d:"M11.9511 6.09433L11.0454 5.67028L10.6214 6.57592L5.53284 17.4436L5.10879 18.3492L6.01443 18.7733L16.8821 23.8619L17.7878 24.2859L18.2118 23.3803L23.3004 12.5126L23.7244 11.6069L22.8188 11.1829L11.9511 6.09433Z",fill:"#9747FF",stroke:"#9747FF",strokeWidth:"2"}),n.createElement("path",{d:"M41.6394 27.5529C45.6396 29.4289 50.4033 27.7069 52.2793 23.7067C54.1553 19.7065 52.4334 14.9429 48.4331 13.0668C44.4329 11.1908 39.6693 12.9128 37.7933 16.913C35.9172 20.9132 37.6392 25.6769 41.6394 27.5529Z",fill:"#9747FF",stroke:"#9747FF",strokeWidth:"2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.3772 26.8504L25.8167 25.6621L27.3153 30H28.4369L30.6795 23.02L27.2399 24.2082L25.1602 18.1882L22.3772 26.8504Z",fill:"#9747FF"}),n.createElement("path",{d:"M15 30H41V41C41 42.6569 39.6569 44 38 44H18C16.3431 44 15 42.6569 15 41V30Z",stroke:"white",strokeWidth:"2"}),n.createElement("path",{d:"M37.3897 4.54299L36.5002 2.81185L35.6108 4.54299L34.2302 7.22997L31.5432 8.61054L29.8121 9.5L31.5432 10.3895L34.2302 11.77L35.6108 14.457L36.5002 16.1881L37.3897 14.457L38.7703 11.77L41.4573 10.3895L43.1884 9.5L41.4573 8.61054L38.7703 7.22997L37.3897 4.54299Z",fill:"white",stroke:"#9747FF",strokeWidth:"2"}),n.createElement("path",{d:"M32.5002 13L33.3488 14.6515L35.0002 15.5L33.3488 16.3485L32.5002 18L31.6517 16.3485L30.0002 15.5L31.6517 14.6515L32.5002 13Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7354 13.0517L12.4903 9.65937L9.09791 16.9045L16.343 20.2969L19.7354 13.0517ZM11.5271 7L6.43854 17.8677L17.3062 22.9562L22.3948 12.0886L11.5271 7Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.9135 24.8368C45.4136 26.0093 48.3909 24.9331 49.5634 22.4329C50.7359 19.9328 49.6597 16.9555 47.1596 15.783C44.6594 14.6105 41.6822 15.6867 40.5096 18.1869C39.3371 20.687 40.4134 23.6643 42.9135 24.8368ZM42.0643 26.6475C45.5645 28.2891 49.7327 26.7823 51.3742 23.2821C53.0157 19.782 51.509 15.6138 48.0088 13.9723C44.5086 12.3307 40.3404 13.8375 38.6989 17.3376C37.0574 20.8378 38.5641 25.006 42.0643 26.6475Z",fill:"white"}),n.createElement("mask",{id:"path-10-inside-1_1_174",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.1598 18.1883L22.3767 26.8505L25.8163 25.6623L26.9693 29.0001H24.8534L24.5789 28.2057L23.0297 28.7409C22.3137 28.9883 21.5194 28.8098 20.9779 28.28C20.4365 27.7502 20.2408 26.96 20.4726 26.2387L23.2557 17.5766C23.519 16.757 24.2772 16.1978 25.138 16.1885C25.9988 16.1791 26.7691 16.7216 27.0502 17.5353L28.4768 21.6649L30.026 21.1297C30.742 20.8824 31.5363 21.0608 32.0778 21.5906C32.6192 22.1204 32.8149 22.9107 32.5832 23.6319L30.8584 29.0001H28.7577L30.679 23.0201L27.2395 24.2084L25.1598 18.1883Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.1598 18.1883L22.3767 26.8505L25.8163 25.6623L26.9693 29.0001H24.8534L24.5789 28.2057L23.0297 28.7409C22.3137 28.9883 21.5194 28.8098 20.9779 28.28C20.4365 27.7502 20.2408 26.96 20.4726 26.2387L23.2557 17.5766C23.519 16.757 24.2772 16.1978 25.138 16.1885C25.9988 16.1791 26.7691 16.7216 27.0502 17.5353L28.4768 21.6649L30.026 21.1297C30.742 20.8824 31.5363 21.0608 32.0778 21.5906C32.6192 22.1204 32.8149 22.9107 32.5832 23.6319L30.8584 29.0001H28.7577L30.679 23.0201L27.2395 24.2084L25.1598 18.1883Z",fill:"white"}),n.createElement("path",{d:"M22.3767 26.8505L20.4726 26.2387L19.249 30.047L23.0297 28.7409L22.3767 26.8505ZM25.1598 18.1883L27.0502 17.5353L25.091 11.8642L23.2557 17.5766L25.1598 18.1883ZM25.8163 25.6623L27.7066 25.0092L27.0536 23.1189L25.1632 23.7719L25.8163 25.6623ZM26.9693 29.0001V31.0001H29.7763L28.8597 28.3471L26.9693 29.0001ZM24.8534 29.0001L22.963 29.6532L23.4283 31.0001H24.8534V29.0001ZM24.5789 28.2057L26.4693 27.5527L25.8163 25.6623L23.9259 26.3153L24.5789 28.2057ZM23.0297 28.7409L22.3767 26.8505L22.3767 26.8505L23.0297 28.7409ZM20.9779 28.28L22.3767 26.8505L22.3767 26.8505L20.9779 28.28ZM20.4726 26.2387L22.3767 26.8505L22.3767 26.8505L20.4726 26.2387ZM23.2557 17.5766L21.3515 16.9648L21.3515 16.9648L23.2557 17.5766ZM25.138 16.1885L25.1598 18.1883L25.138 16.1885ZM27.0502 17.5353L28.9405 16.8822L28.9405 16.8822L27.0502 17.5353ZM28.4768 21.6649L26.5864 22.318L27.2395 24.2084L29.1298 23.5553L28.4768 21.6649ZM30.026 21.1297L30.679 23.0201L30.679 23.0201L30.026 21.1297ZM32.0778 21.5906L30.679 23.0201L30.679 23.0201L32.0778 21.5906ZM32.5832 23.6319L34.4873 24.2437L34.4873 24.2437L32.5832 23.6319ZM30.8584 29.0001V31.0001H32.3165L32.7625 29.6119L30.8584 29.0001ZM28.7577 29.0001L26.8536 28.3883L26.0144 31.0001H28.7577V29.0001ZM30.679 23.0201L32.5832 23.6319L33.8067 19.8236L30.026 21.1297L30.679 23.0201ZM27.2395 24.2084L25.3491 24.8614L26.0021 26.7518L27.8925 26.0987L27.2395 24.2084ZM24.2808 27.4623L27.0639 18.8001L23.2557 17.5766L20.4726 26.2387L24.2808 27.4623ZM25.1632 23.7719L21.7236 24.9601L23.0297 28.7409L26.4693 27.5527L25.1632 23.7719ZM28.8597 28.3471L27.7066 25.0092L23.9259 26.3153L25.079 29.6532L28.8597 28.3471ZM24.8534 31.0001H26.9693V27.0001H24.8534V31.0001ZM26.7437 28.3471L26.4693 27.5527L22.6885 28.8588L22.963 29.6532L26.7437 28.3471ZM23.9259 26.3153L22.3767 26.8505L23.6828 30.6313L25.232 30.0961L23.9259 26.3153ZM22.3767 26.8505L22.3767 26.8505L19.5792 29.7095C20.6621 30.7692 22.2508 31.126 23.6828 30.6313L22.3767 26.8505ZM22.3767 26.8505L22.3767 26.8505L18.5684 25.6269C18.105 27.0694 18.4963 28.6499 19.5792 29.7095L22.3767 26.8505ZM22.3767 26.8505L25.1598 18.1883L21.3515 16.9648L18.5684 25.6269L22.3767 26.8505ZM25.1598 18.1883L25.1598 18.1883L25.1163 14.1886C23.3947 14.2073 21.8782 15.3256 21.3515 16.9648L25.1598 18.1883ZM25.1598 18.1883L25.1598 18.1883L28.9405 16.8822C28.3783 15.2549 26.8379 14.1699 25.1163 14.1886L25.1598 18.1883ZM25.1598 18.1883L26.5864 22.318L30.3672 21.0119L28.9405 16.8822L25.1598 18.1883ZM29.1298 23.5553L30.679 23.0201L29.3729 19.2394L27.8237 19.7746L29.1298 23.5553ZM30.679 23.0201L30.679 23.0201L33.4765 20.1611C32.3936 19.1015 30.805 18.7447 29.3729 19.2394L30.679 23.0201ZM30.679 23.0201L30.679 23.0201L34.4873 24.2437C34.9507 22.8012 34.5594 21.2207 33.4765 20.1611L30.679 23.0201ZM30.679 23.0201L28.9543 28.3883L32.7625 29.6119L34.4873 24.2437L30.679 23.0201ZM28.7577 31.0001H30.8584V27.0001H28.7577V31.0001ZM28.7749 22.4083L26.8536 28.3883L30.6618 29.6119L32.5832 23.6319L28.7749 22.4083ZM27.8925 26.0987L31.3321 24.9105L30.026 21.1297L26.5864 22.318L27.8925 26.0987ZM23.2694 18.8414L25.3491 24.8614L29.1298 23.5553L27.0502 17.5353L23.2694 18.8414Z",fill:"white",mask:"url(#path-10-inside-1_1_174)"}))}function eC(){return n.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("mask",{id:"path-2-inside-1_1042350_178059",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3576 13.6424L32 11L30.6424 13.6424L28 15L30.6424 16.3576L32 19L33.3576 16.3576L36 15L33.3576 13.6424ZM39.1682 26H41H42V27V38C42 40.2091 40.2091 42 38 42H18C15.7909 42 14 40.2091 14 38V27V26H15H28.1837C28.2225 25.3193 28.3893 24.6345 28.6965 23.9794C29.9863 21.2293 33.2613 20.0454 36.0114 21.3352C37.9039 22.2227 39.0547 24.0503 39.1682 26ZM37.1625 26C37.0532 24.8026 36.3294 23.6933 35.1622 23.146C33.4121 22.3252 31.3281 23.0786 30.5073 24.8287C30.329 25.2088 30.225 25.6047 30.1893 26H37.1625ZM25.8981 19.4218L22.4218 15.828L18.828 19.3044L22.3044 22.8981L25.8981 19.4218ZM23.8593 14.4375L22.4688 13L21.0312 14.3905L17.4375 17.8669L16 19.2574L17.3905 20.6949L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L23.8593 14.4375ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3576 13.6424L32 11L30.6424 13.6424L28 15L30.6424 16.3576L32 19L33.3576 16.3576L36 15L33.3576 13.6424ZM39.1682 26H41H42V27V38C42 40.2091 40.2091 42 38 42H18C15.7909 42 14 40.2091 14 38V27V26H15H28.1837C28.2225 25.3193 28.3893 24.6345 28.6965 23.9794C29.9863 21.2293 33.2613 20.0454 36.0114 21.3352C37.9039 22.2227 39.0547 24.0503 39.1682 26ZM37.1625 26C37.0532 24.8026 36.3294 23.6933 35.1622 23.146C33.4121 22.3252 31.3281 23.0786 30.5073 24.8287C30.329 25.2088 30.225 25.6047 30.1893 26H37.1625ZM25.8981 19.4218L22.4218 15.828L18.828 19.3044L22.3044 22.8981L25.8981 19.4218ZM23.8593 14.4375L22.4688 13L21.0312 14.3905L17.4375 17.8669L16 19.2574L17.3905 20.6949L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L23.8593 14.4375ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M32 11L33.7789 10.086L32 6.6237L30.2211 10.086L32 11ZM33.3576 13.6424L31.5787 14.5564L31.8723 15.1277L32.4436 15.4213L33.3576 13.6424ZM30.6424 13.6424L31.5564 15.4213L32.1277 15.1277L32.4213 14.5564L30.6424 13.6424ZM28 15L27.086 13.2211L23.6237 15L27.086 16.7789L28 15ZM30.6424 16.3576L32.4213 15.4436L32.1277 14.8723L31.5564 14.5787L30.6424 16.3576ZM32 19L30.2211 19.914L32 23.3763L33.7789 19.914L32 19ZM33.3576 16.3576L32.4436 14.5787L31.8723 14.8723L31.5787 15.4436L33.3576 16.3576ZM36 15L36.914 16.7789L40.3763 15L36.914 13.2211L36 15ZM39.1682 26L37.1715 26.1162L37.2812 28H39.1682V26ZM42 26H44V24H42V26ZM14 26V24H12V26H14ZM28.1837 26V28H30.0729L30.1804 26.1138L28.1837 26ZM28.6965 23.9794L26.8858 23.1302L28.6965 23.9794ZM36.0114 21.3352L35.1622 23.146L36.0114 21.3352ZM37.1625 26V28H39.3533L39.1542 25.8183L37.1625 26ZM35.1622 23.146L34.313 24.9567V24.9567L35.1622 23.146ZM30.5073 24.8287L28.6965 23.9794L28.6965 23.9794L30.5073 24.8287ZM30.1893 26L28.1974 25.8203L28.0008 28H30.1893V26ZM22.4218 15.828L23.8593 14.4375L22.4688 13L21.0312 14.3905L22.4218 15.828ZM25.8981 19.4218L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L25.8981 19.4218ZM18.828 19.3044L17.4375 17.8669L16 19.2574L17.3905 20.6949L18.828 19.3044ZM22.3044 22.8981L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L22.3044 22.8981ZM22.4688 13L23.9063 11.6095L22.5157 10.172L21.0782 11.5625L22.4688 13ZM23.8593 14.4375L22.4218 15.828L22.4218 15.828L23.8593 14.4375ZM21.0312 14.3905L19.6407 12.953V12.953L21.0312 14.3905ZM17.4375 17.8669L16.047 16.4294L17.4375 17.8669ZM16 19.2574L14.6095 17.8199L13.172 19.2104L14.5625 20.6479L16 19.2574ZM17.3905 20.6949L18.828 19.3044V19.3044L17.3905 20.6949ZM20.8669 24.2887L22.3044 22.8981H22.3044L20.8669 24.2887ZM22.2574 25.7262L20.8199 27.1167L22.2104 28.5542L23.6479 27.1637L22.2574 25.7262ZM23.6949 24.3356L22.3044 22.8981V22.8981L23.6949 24.3356ZM27.2887 20.8593L28.6792 22.2968V22.2968L27.2887 20.8593ZM28.7262 19.4688L30.1167 20.9063L31.5542 19.5157L30.1637 18.0782L28.7262 19.4688ZM27.3356 18.0313L28.7731 16.6407L28.7731 16.6407L27.3356 18.0313ZM16 28V26H14V28H16ZM40 28H42V26H40V28ZM30.2211 11.914L31.5787 14.5564L35.1366 12.7283L33.7789 10.086L30.2211 11.914ZM32.4213 14.5564L33.7789 11.914L30.2211 10.086L28.8634 12.7283L32.4213 14.5564ZM28.914 16.7789L31.5564 15.4213L29.7283 11.8634L27.086 13.2211L28.914 16.7789ZM31.5564 14.5787L28.914 13.2211L27.086 16.7789L29.7283 18.1366L31.5564 14.5787ZM33.7789 18.086L32.4213 15.4436L28.8634 17.2717L30.2211 19.914L33.7789 18.086ZM31.5787 15.4436L30.2211 18.086L33.7789 19.914L35.1366 17.2717L31.5787 15.4436ZM35.086 13.2211L32.4436 14.5787L34.2717 18.1366L36.914 16.7789L35.086 13.2211ZM32.4436 15.4213L35.086 16.7789L36.914 13.2211L34.2717 11.8634L32.4436 15.4213ZM39.1682 28H41V24H39.1682V28ZM41 28H42V24H41V28ZM40 26V27H44V26H40ZM40 27V38H44V27H40ZM40 38C40 39.1046 39.1046 40 38 40V44C41.3137 44 44 41.3137 44 38H40ZM38 40H18V44H38V40ZM18 40C16.8954 40 16 39.1046 16 38H12C12 41.3137 14.6863 44 18 44V40ZM16 38V27H12V38H16ZM16 27V26H12V27H16ZM14 28H15V24H14V28ZM15 28H28.1837V24H15V28ZM30.1804 26.1138C30.2049 25.6836 30.3102 25.2488 30.5073 24.8287L26.8858 23.1302C26.4684 24.0201 26.24 24.955 26.1869 25.8862L30.1804 26.1138ZM30.5073 24.8287C31.3281 23.0786 33.4121 22.3252 35.1622 23.146L36.8607 19.5244C33.1105 17.7657 28.6446 19.38 26.8858 23.1302L30.5073 24.8287ZM35.1622 23.146C36.3641 23.7096 37.099 24.8697 37.1715 26.1162L41.1648 25.8838C41.0104 23.2309 39.4437 20.7359 36.8607 19.5244L35.1622 23.146ZM39.1542 25.8183C38.9831 23.9427 37.8478 22.1964 36.0114 21.3352L34.313 24.9567C34.811 25.1903 35.1234 25.6625 35.1708 26.1817L39.1542 25.8183ZM36.0114 21.3352C33.2613 20.0454 29.9863 21.2293 28.6965 23.9794L32.318 25.6779C32.6698 24.9278 33.563 24.605 34.313 24.9567L36.0114 21.3352ZM28.6965 23.9794C28.4179 24.5735 28.2537 25.1964 28.1974 25.8203L32.1812 26.1797C32.1963 26.013 32.2401 25.8441 32.318 25.6779L28.6965 23.9794ZM30.1893 28H37.1625V24H30.1893V28ZM20.9843 17.2186L24.4606 20.8123L27.3356 18.0313L23.8593 14.4375L20.9843 17.2186ZM20.2186 20.7419L23.8123 17.2655L21.0312 14.3905L17.4375 17.8669L20.2186 20.7419ZM23.7419 21.5076L20.2655 17.9138L17.3905 20.6949L20.8669 24.2887L23.7419 21.5076ZM24.5076 17.9843L20.9138 21.4606L23.6949 24.3356L27.2887 20.8593L24.5076 17.9843ZM21.0312 14.3905L22.4218 15.828L25.2968 13.047L23.9063 11.6095L21.0312 14.3905ZM22.4218 15.828L23.8593 14.4375L21.0782 11.5625L19.6407 12.953L22.4218 15.828ZM18.828 19.3044L22.4218 15.828L19.6407 12.953L16.047 16.4294L18.828 19.3044ZM17.3905 20.6949L18.828 19.3044L16.047 16.4294L14.6095 17.8199L17.3905 20.6949ZM18.828 19.3044L17.4375 17.8669L14.5625 20.6479L15.953 22.0854L18.828 19.3044ZM22.3044 22.8981L18.828 19.3044L15.953 22.0854L19.4294 25.6792L22.3044 22.8981ZM23.6949 24.3356L22.3044 22.8981L19.4294 25.6792L20.8199 27.1167L23.6949 24.3356ZM22.3044 22.8981L20.8669 24.2887L23.6479 27.1637L25.0854 25.7731L22.3044 22.8981ZM25.8981 19.4218L22.3044 22.8981L25.0854 25.7731L28.6792 22.2968L25.8981 19.4218ZM27.3356 18.0313L25.8981 19.4218L28.6792 22.2968L30.1167 20.9063L27.3356 18.0313ZM25.8981 19.4218L27.2887 20.8593L30.1637 18.0782L28.7731 16.6407L25.8981 19.4218ZM22.4218 15.828L25.8981 19.4218L28.7731 16.6407L25.2968 13.047L22.4218 15.828ZM14 28V38H18V28H14ZM40 26H16V30H40V26ZM42 38V28H38V38H42ZM38 42C40.2091 42 42 40.2091 42 38H38V42ZM18 42H38V38H18V42ZM14 38C14 40.2091 15.7909 42 18 42V38H18H14Z",fill:"black",fillOpacity:"0.9",mask:"url(#path-2-inside-1_1042350_178059)"}))}function eN(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{d:"M7 18V30C7 31.6569 8.34315 33 10 33H30C31.6569 33 33 31.6569 33 30V10C33 8.34315 31.6569 7 30 7H26",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("rect",{x:"7",y:"7",width:"14",height:"6",rx:"1",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}))}function eO(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{d:"M7 18V30C7 31.6569 8.34315 33 10 33H30C31.6569 33 33 31.6569 33 30V10C33 8.34315 31.6569 7 30 7H26",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("rect",{x:"7",y:"7",width:"14",height:"6",rx:"1",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}))}function eL(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),n.createElement("path",{d:"M7 18V30C7 31.6569 8.34315 33 10 33H30C31.6569 33 33 31.6569 33 30V10C33 8.34315 31.6569 7 30 7H26",stroke:"white",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("rect",{x:"7",y:"7",width:"14",height:"6",rx:"1",stroke:"white",strokeWidth:"2"}))}function eR(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("path",{d:"M7 18V30C7 31.6569 8.34315 33 10 33H30C31.6569 33 33 31.6569 33 30V10C33 8.34315 31.6569 7 30 7H26",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("rect",{x:"7",y:"7",width:"14",height:"6",rx:"1",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}))}function eP(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6C7.79086 6 6 7.79086 6 10V30C6 32.2091 7.79086 34 10 34H30C32.2091 34 34 32.2091 34 30V10C34 7.79086 32.2091 6 30 6H10ZM8 10C8 8.89543 8.89543 8 10 8H14V15H8V10ZM14 17H8V23H14V17ZM16 23V17H32V23H16ZM14 25H8V30C8 31.1046 8.89543 32 10 32H14V25ZM16 32V25H32V30C32 31.1046 31.1046 32 30 32H16ZM16 15V8H30C31.1046 8 32 8.89543 32 10V15H16Z",fill:"black",fillOpacity:"0.9"}))}function ek(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6C7.79086 6 6 7.79086 6 10V30C6 32.2091 7.79086 34 10 34H30C32.2091 34 34 32.2091 34 30V10C34 7.79086 32.2091 6 30 6H10ZM8 10C8 8.89543 8.89543 8 10 8H14V15H8V10ZM14 17H8V23H14V17ZM16 23V17H32V23H16ZM14 25H8V30C8 31.1046 8.89543 32 10 32H14V25ZM16 32V25H32V30C32 31.1046 31.1046 32 30 32H16ZM16 15V8H30C31.1046 8 32 8.89543 32 10V15H16Z",fill:"black",fillOpacity:"0.9"}))}function eD(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6C7.79086 6 6 7.79086 6 10V30C6 32.2091 7.79086 34 10 34H30C32.2091 34 34 32.2091 34 30V10C34 7.79086 32.2091 6 30 6H10ZM8 10C8 8.89543 8.89543 8 10 8H14V15H8V10ZM14 17H8V23H14V17ZM16 23V17H32V23H16ZM14 25H8V30C8 31.1046 8.89543 32 10 32H14V25ZM16 32V25H32V30C32 31.1046 31.1046 32 30 32H16ZM16 15V8H30C31.1046 8 32 8.89543 32 10V15H16Z",fill:"white"}))}function eM({size:e=56,fill:t="black"}={}){return n.createElement("svg",{width:e,height:e,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6C7.79086 6 6 7.79086 6 10V30C6 32.2091 7.79086 34 10 34H30C32.2091 34 34 32.2091 34 30V10C34 7.79086 32.2091 6 30 6H10ZM8 10C8 8.89543 8.89543 8 10 8H14V15H8V10ZM14 17H8V23H14V17ZM16 23V17H32V23H16ZM14 25H8V30C8 31.1046 8.89543 32 10 32H14V25ZM16 32V25H32V30C32 31.1046 31.1046 32 30 32H16ZM16 15V8H30C31.1046 8 32 8.89543 32 10V15H16Z",fill:t,fillOpacity:"0.9"}))}function ex(){return n.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"8.5",y:"8.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 27V19H29V27H37V29H29V37H27V29H19V27H27Z",fill:"black",fillOpacity:"0.9"}))}function eF(){return n.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),n.createElement("rect",{x:"8.5",y:"8.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 27V19H29V27H37V29H29V37H27V29H19V27H27Z",fill:"black",fillOpacity:"0.9"}))}function eU(){return n.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"#9747FF"}),n.createElement("rect",{width:"32",height:"32",transform:"translate(12 12)",fill:"#9747FF"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 27V19H29V27H37V29H29V37H27V29H19V27H27Z",fill:"white"}))}},890530:(e,t,r)=>{"use strict";r.d(t,{UM:()=>s,kf:()=>d,zW:()=>c});var n=r(411855),i=r(629019),a=r.n(i),o=r(153234),l=r(574176);let s="dlt_banner_shortcut_button",c=(0,n.memo)((0,n.forwardRef)(function(e,t){let{shortcut:r,onClick:i,isActive:l,recordingKey:s,dataElementTarget:c,isPressed:d}=e,u=(0,o.rf)((0,o.Pt)("dltBannerShortcutButton",s),"click",i),p=a()("dlt_banner_inline_elements--shortcutButton--LOMMi",{"dlt_banner_inline_elements--active--zWunk":l,"dlt_banner_inline_elements--pressed--36odr":d});return n.createElement("button",{ref:t,className:p,onClick:u,"data-element-target":c},r)}));function d({icon:e}){return n.createElement("div",{className:"dlt_banner_inline_elements--iconInline--0YsSs"},n.createElement(l.B,{svg:e}))}},330505:(e,t,r)=>{"use strict";r.d(t,{Qn:()=>d,VQ:()=>m,fn:()=>p,oP:()=>c,uk:()=>u});var n=r(411855),i=r(188507),a=r(554322),o=r(852800),l=r(812821),s=r(890530);let c="dlt-banner-chat-shortcut",d="dlt-banner-emote-shortcut",u=(0,n.memo)(function(e){let t=(0,i.d4)(e=>e.mirror.appModel.currentTool===o.NLJ.COMMENTS),r=(0,n.useCallback)(()=>{t?o.glU.triggerActionInUserEditScope("set-tool-default",{source:s.UM}):o.glU.triggerActionInUserEditScope("set-tool-comments",{source:s.UM})},[t]);return n.createElement(s.zW,{shortcut:"C",onClick:r,isActive:t,recordingKey:"comment",isPressed:e.isPressed})}),p=(0,n.memo)(function(e){let t=(0,a.Av)(),r=(0,i.d4)(e=>"REACTING_OR_CHATTING"===e.multiplayerEmoji.type&&e.multiplayerEmoji.isChatting),o=(0,n.useCallback)(e=>{if(r){l.CB.closeWheel();return}let n=e.clientY-t;l.CB.startChat(e.clientX,n,s.UM)},[r,t]);return n.createElement(s.zW,{shortcut:"/",onClick:o,isActive:r,recordingKey:"cursorChat",dataElementTarget:c,isPressed:e.isPressed})}),m=(0,n.memo)(function(e){let t=(0,n.useRef)(null),r=(0,i.d4)(e=>{let t="WHEEL"===e.multiplayerEmoji.type,r="REACTING_OR_CHATTING"===e.multiplayerEmoji.type&&!!e.multiplayerEmoji.imageUrl;return t||r}),a=(0,n.useCallback)(()=>{var e;if(r){l.CB.closeWheel();return}let n=(null==(e=t.current)?void 0:e.getBoundingClientRect())??{x:0,y:0},i=n.x+100,a=n.y-200;l.CB.handleShortcutPressWithType({viewportX:i,viewportY:a,source:s.UM,wheelType:"REACTION"}),l.CB.handleShortcutRelease(i,a)},[r]);return n.createElement(s.zW,{ref:t,shortcut:"E",onClick:a,isActive:r,recordingKey:"emote",dataElementTarget:d,isPressed:e.isPressed})})},202232:(e,t,r)=>{"use strict";r.d(t,{BC:()=>g,HY:()=>p,Iz:()=>T,Nr:()=>f,P5:()=>h,Ru:()=>S,V4:()=>_,YB:()=>u,cG:()=>w,fK:()=>m,g5:()=>I,hx:()=>E,lq:()=>C,tl:()=>y,uM:()=>v,wn:()=>A,wv:()=>b});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(153234),s=r(140908),c=r(848661),d=r(158200);let u=1500,p="delightful-toolbar",m="delightful_toolbar",_="delightful-toolbar-submenu",h="mindmaps_onboarding",g="shapes",f="connectors";function E(e){return l.Pt("delightfulToolbar",e)}function y(e){return"ELBOWED"===e?"set-tool-connector-elbowed":"set-tool-connector-straight"}let b=3,v=8,I=24,T=40;function S(e){return(0,c.gl)(e)?e:e===v||e===T?"THICK":"THIN"}function w({className:e}){return n.createElement("div",{className:o()(d.yF,e)})}function A({children:e}){return n.createElement("div",{className:d.r6},e)}function C(){let e=(0,i.d4)(e=>e.isMakeSomethingV2Active),t=(0,s.Un)();return e&&!t}},161459:(e,t,r)=>{"use strict";r.d(t,{BD:()=>d,Dq:()=>c,LX:()=>m,T7:()=>p,XQ:()=>l,n6:()=>u,qB:()=>s});var n=r(966712),i=r(428654),a=r(852800),o=r(42173);let l=[{type:"SOLID",color:(0,o.BV)(a.daH.BLACK,"base")}],s=3,c=[{type:"SOLID",color:(0,o.BV)(a.daH.HIGHLIGHT_YELLOW,"highlight")}],d=(0,o.BV)(a.daH.STICKY_GRAY_LIGHT,"sticky"),u=i.F.parse((0,o.Mr)((0,n.kc)().figjam_default_shape_style_bw?a.daH.WHITE:a.daH.VIOLET_LIGHT)),p=(0,n.kc)().figjam_default_shape_style_bw?a.xbm.SOLID:a.xbm.NONE,m=(0,o.BV)(a.daH.GRAY,"baseLight")},219001:(e,t,r)=>{"use strict";r.d(t,{Wp:()=>o,Yg:()=>i,nS:()=>l,pw:()=>a});var n=r(411855),i=(e=>(e.ClickOut="clickOut",e.KeyboardEsc="keyboardEsc",e.ToolSelected="toolSelected",e.ChevronClicked="chevronClicked",e.PropertyChanged="propertyChanged",e.CloseButton="closeButton",e.ClickDemotedDlt="clickDemotedDlt",e))(i||{});function a(e,t){switch(t.type){case"start click":return{...e,shouldFinishClick:!0};case"start drag":return{...e,draggedTool:t.tool};case"end drag":return{...e,draggedTool:void 0};case"toggle drag cancellable":return{...e,draggedToolCanCancel:!e.draggedToolCanCancel};case"cancel drag":return{...e,draggedTool:void 0,shouldFinishClick:!1};case"open submenu":return{...e,submenu:{tool:t.submenu,shouldCloseOnClickOut:!!t.shouldCloseOnClickOut},shouldDemoteDlt:!1};case"close submenu":if(!e.submenu.tool||!e.submenu.shouldCloseOnClickOut&&"clickOut"===t.source)return e;return{...e,submenu:o.submenu,shouldDemoteDlt:!1};case"demote dlt":return{...e,shouldDemoteDlt:!0};case"end insert":return{...e,shouldFinishClick:!1};default:return e}}let o={draggedTool:void 0,submenu:{tool:void 0,shouldCloseOnClickOut:!0},draggedToolCanCancel:!0,shouldFinishClick:!0,shouldDemoteDlt:!1},l=n.createContext({state:o,dispatch:()=>null})},979686:(e,t,r)=>{"use strict";r.d(t,{FF:()=>f,FL:()=>w,ND:()=>I,Op:()=>v,V8:()=>y,bz:()=>S,hO:()=>E,hv:()=>T,oV:()=>h,rD:()=>g});var n=r(411855),i=r(188507),a=r(563706),o=r(809831),l=r(6949),s=r(965480),c=r(949462),d=r(29680),u=r(819338),p=r(554905),m=r(219001),_=r(525040);function h(){let e=(0,d.aV)(),t=(0,o.ow)(),r=(0,p.Td)(),n=(0,i.d4)(e=>!!e.user);return!e&&t&&r&&!a.Ay.isIpadNative&&n}function g(){let e=(0,d.aV)(),t=(0,o.ow)(),r=(0,c.N)(),n=(0,i.d4)(e=>!!e.user);return!e&&t&&r&&!a.Ay.isIpadNative&&n}function f(){let e=(0,i.d4)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi}),t=(0,o.ow)(),r=(0,i.d4)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.isReadOnly}),n=h(),a=g();return t&&e&&(!r||n||a)}function E(){let e=f(),t=v(),r=t&&t.right?t.right:null;return n.useMemo(()=>e&&"number"==typeof r?window.innerWidth-r:0,[r,e])}function y(){let e=I();return{bottom:e&&e.top?window.innerHeight-e.top:null,right:e&&e.right?window.innerWidth-e.right:null}}function b(e){let t=f(),[r,i]=(0,n.useState)(null);return(0,n.useLayoutEffect)(()=>{if(!e)return;let t=new ResizeObserver(t=>{for(let r of t)e===r.target&&i(e.getBoundingClientRect())});return i(e.getBoundingClientRect()),t.observe(e),()=>t.disconnect()},[e,i]),(0,n.useLayoutEffect)(()=>{if(!e)return;let t=()=>{i(e.getBoundingClientRect())};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e]),t&&r}let v=()=>{var e;return b(null==(e=(0,u.C)())?void 0:e.dltNode)},I=()=>{var e;return b(null==(e=(0,u.C)())?void 0:e.dltContainerNode)};function T(e={}){let{isEnabledForViewers:t}=e,r=(0,d.aV)(),n=(0,p.Td)(),i=(0,c.N)();return r||n&&!t||i&&!t}function S(){let e=(0,s.kD)(),t=(0,l.hC)(),r=(0,p.Td)();return!!e&&t&&r}function w(){let{state:e}=n.useContext(m.nS),t=e.submenu.tool,r=(0,_.sT)();return!!t||r}},178911:(e,t,r)=>{"use strict";r.d(t,{Hm:()=>f,Vc:()=>h,yl:()=>g});var n=r(411855),i=r(188507),a=r(902139),o=r(988022),l=r(852800),s=r(809511),c=r(498606),d=r(511080),u=r(202232),p=r(438304),m=r(383847),_=r(158200);let h="action_open_universal_insert_modal",g="delightful-toolbar-universal-insert";function f(){let e=(0,i.d4)(e=>e.universalInsertModal.showing),t=(0,i.d4)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===s.NLJ.NONE}),r=e&&t,f=(0,i.wA)(),E=(0,n.useCallback)(()=>{r?(f(a.KE()),l.glU.triggerActionInUserEditScope("set-tool-default",{source:u.fK})):(l.glU.triggerActionInUserEditScope("clear-tool",{source:u.fK}),f(a.En({initialX:0,initialY:0})),(0,o.Cu)({source:u.fK},h))},[f,r]);return n.createElement("div",{"data-element-target":"delightful-toolbar-universal-insert-button",className:_.Zh},n.createElement(m.IB,{toolType:"universal-insert",recordingKey:(0,u.hx)("universal-insert"),isSelected:r,className:_.pN,onClick:E,"data-tooltip-type":c.Ib.LOOKUP,"data-tooltip":"browse-all-resources-dlt",hasOpenSubmenu:r,onboardingKey:g},e=>n.createElement(p.gd,{toolType:"universal-insert",inactiveIcon:n.createElement(d.lV,null),hoveredIcon:n.createElement(d.AZ,null),activeIcon:n.createElement(d.cN,null),isSelected:r,isHovered:e})))}},48009:(e,t,r)=>{"use strict";r.d(t,{b:()=>x,q:()=>K,xX:()=>V});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(374626),s=r(192437),c=r(762638),d=r(47506),u=r(753643),p=r(801161),m=r(902139),_=r(988022),h=r(128765),g=r(852800),f=r(460289),E=r(694687),y=r(860178),b=r(336599),v=r(809073),I=r(498606),T=r(369394),S=r(867795),w=r(511080),A=r(202232),C=r(297483),N=r(178911),O=r(303526),L=r(949889),R=r(383847),P=r(123975),k=r(438304),D=r(158200),M=r(26229);let x="delightful-toolbar-universal-insert-button-icon",F=[{src:"https://static.figma.com/uploads/9cd2eb2ff31cb221dce81ca1e67aa51e12b24166",zIndex:0,width:50,height:50,translateStart:{x:42,y:36},rotateStart:-15,translateEnd:{x:42,y:36},rotateEnd:-15},{src:"https://static.figma.com/uploads/276fdbb8f6edbcb958f84235ebfc58b63eab0fc2",zIndex:1,width:50,height:50,translateStart:{x:95,y:36},rotateStart:15,translateEnd:{x:95,y:36},rotateEnd:15},{src:"https://static.figma.com/uploads/94db9cf93e2a26f927d5f1a7f066f8b045985011",zIndex:2,width:50,height:50,translateStart:{x:42,y:66},rotateStart:-10,translateEnd:{x:42,y:66},rotateEnd:-10},{src:"https://static.figma.com/uploads/004b50b1460d47029608e9aaa66c09c1c94c6741",zIndex:3,width:50,height:50,translateStart:{x:95,y:66},rotateStart:10,translateEnd:{x:95,y:66},rotateEnd:10}];function U({recentItems:e,toolbarIconScale:t,isModalOpen:r}){let i=(0,C.ws)(e);return n.createElement("div",{className:o()(D.Sr,D.JQ,M.JY),style:{width:112*t}},F.map((e,a)=>{var o,l;let s=i[a];return n.createElement(H,{key:(null==s?void 0:s.id)||e.src,zIndex:5+e.zIndex,width:e.width*t,height:e.height*t,isModalOpen:r,transform:(o={x:e.translateStart.x*t,y:e.translateStart.y*t},l=e.rotateStart,`translate(calc(-50% + ${o.x}px), calc(-50% + ${o.y}px)) rotate(${l}deg)`)},s?n.createElement(O.E,{item:s,width:e.width*t,height:e.height*t,disableTooltips:!0}):n.createElement("img",{src:e.src,alt:"",className:M.VF}))}))}function B({onClick:e,isSelected:t,isHovered:r}){return n.createElement("div",{className:c.cx.flex.itemsCenter.justifyCenter.mx20.h40.w40.$},n.createElement(R.IB,{toolType:"universal-insert-collage",recordingKey:(0,A.hx)("universal-insert-plus"),isSelected:t,hasOpenSubmenu:!1,onClick:e,"data-tooltip-type":I.Ib.LOOKUP,"data-tooltip":"browse-all-resources-dlt","data-tooltip-offset-y":-2},n.createElement(k.gd,{toolType:"universal-insert-collage",inactiveIcon:n.createElement(w.nX,null),hoveredIcon:n.createElement(w.ZH,null),activeIcon:n.createElement(w.cs,null),isSelected:t,isHovered:r})))}function H({zIndex:e,width:t,height:r,transform:i,isModalOpen:a,children:l}){return n.createElement("div",{className:o()(M.s,{[M.r3]:a}),style:{zIndex:e,width:t,height:r,transform:i}},n.createElement("div",{className:M.f_},l))}function V(e,t){let[r,i]=(0,n.useState)(!1),a=(0,n.useRef)(!1),o=(0,n.useRef)([]);return o.current=t,(0,n.useEffect)(()=>{e||a.current||(a.current=!0,async function(){let e=[];for(let t of o.current)t&&e.push(new Promise(e=>{let r=new Image;r.src=t,r.addEventListener("load",()=>e()),r.addEventListener("error",()=>e())}));await Promise.all(e),i(!0)}())},[e]),r}function G({toolbarIconScale:e}){let t=(0,y.TA)(),[r,a]=(0,n.useState)(!1),o=(0,i.wA)(),s=(0,C.NT)(),c=(0,l.md)(P.c),I=(0,f.XM)(),w=(0,E.sZ)(),k=(0,i.d4)(e=>e.universalInsertModal.showing),F=(0,h.fG)(),H=function(e,t){let r=(0,i.wA)();return(0,n.useCallback)(()=>{(0,d.YQ)({id:"figjam-saves"}),e?(r(m.KE()),g.glU.triggerActionInUserEditScope("set-tool-default",{source:A.fK})):(g.glU.triggerActionInUserEditScope("clear-tool",{source:A.fK}),r(p.jD()),r(m.En({initialX:0,initialY:0,initialTab:(null==t?void 0:t.stage)!=="FULL"?S.p.MORE:void 0})),(0,_.Cu)({source:A.fK},"action_open_universal_insert_collage_modal"))},[e,t,r])}(k,c);(0,n.useEffect)(()=>{o(T.cd.fetchTemplatesMetadata({key:v.$A.FigJam,orgId:null==w?void 0:w.id})),o(T.cd.fetchWidgetsMetadata({key:v.$A.FigJam})),a(!0)},[o,null==w?void 0:w.id]);let G=(0,b.oh)(u.fC),W=(0,b.oh)(T.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:v.$A.FigJam})),K=(0,b.oh)(T.cd.fetchWidgetsMetadata.loadingKeyForPayload({key:v.$A.FigJam})),Y=V(!r||G||W||K,s.map(e=>(0,O.h)(e,F,t??void 0)))?s.map(e=>e.id||"").sort((e,t)=>e.localeCompare(t)).join(""):"loading",j=I&&(null==c?void 0:c.stage)==="MINIMIZED_ZERO"||(null==c?void 0:c.stage)==="MINIMIZED"||(null==c?void 0:c.stage)==="CUT_OFF";return n.createElement(L.XN,{alignment:"CENTER"},n.createElement(R.IB,{toolType:"universal-insert-collage",recordingKey:(0,A.hx)("universal-insert-collage"),isSelected:k,className:D.qs,onClick:H,ariaLabel:"browse-all-resources-dlt",onboardingKey:N.yl,"data-does-not-dismiss-modal":!0,hasOpenSubmenu:k},t=>n.createElement(L.ti,{isSelected:t,noScaleAnimation:!0,isRightEdge:!0},n.createElement("div",{className:M.Ge,"data-onboarding-key":"figjam-saves","data-element-target":x,"data-cancel-insertable-resource-drag-and-drop":!0},!j&&n.createElement(U,{key:Y,recentItems:s,toolbarIconScale:e,isModalOpen:k}),n.createElement(B,{onClick:H,isSelected:k,isHovered:t})))))}function W(){return n.createElement(L.XN,{alignment:"CENTER"},n.createElement("div",{"data-element-target":x,className:M.V6},n.createElement(N.Hm,null)))}let K=(0,n.memo)(function({toolbarIconScale:e}){return n.createElement(s.tH,{fallback:n.createElement(W,null),boundaryKey:"UniversalInsertCollage"},n.createElement(G,{toolbarIconScale:e}))})},598384:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p,i:()=>u});var n=r(411855),i=r(629019),a=r.n(i),o=r(799569),l=r(325746),s=r(970939),c=r(66559),d=r(579764);function u(e){let{shouldAnimate:t,parentRect:r,size:i,hidePointer:o,onClose:l}=e,s=r.left+r.width/2;return n.createElement("div",{className:a()(d.oc,{[d.Fr]:e.hideBubble}),style:{left:s}},n.createElement(p,{size:i,textContent:e.textContent,hidePointer:o,onClose:l,hideBubble:e.hideBubble,shouldAnimate:t}))}function p(e){let t=n.useRef(null),r=n.useRef(null),i=n.useRef(null),u=n.useRef(null),p=n.useRef(null),m=n.useRef(null),[_,h]=n.useState(!1),{playAnimations:g}=(0,c.B)(e.size,{positionContainerRef:t,bubbleRef:r,bubbleShadowRef:i,textRef:u,checkmarkRef:p,closeButtonRef:m}),f=(0,l.LW)();return n.useEffect(()=>{e.shouldAnimate&&f&&!_&&(g(),h(!0))},[e.shouldAnimate,e.hideBubble,f,_,g]),n.createElement("div",{ref:t,className:a()({[d.Fr]:e.hideBubble})},n.createElement("div",{className:d.Xo,ref:i}),n.createElement("div",{className:a()(d.Tq,{[d.Wn]:!e.hidePointer}),ref:r},n.createElement("div",{className:d.AI},e.size===c._.SMALL?n.createElement(s.V,{checkmarkRef:p}):n.createElement(s.n,{checkmarkRef:p})),n.createElement("span",{className:d.P_,ref:u},e.textContent),n.createElement("div",{ref:m},n.createElement(o.Jn,{className:a()(d.b,{[d.jD]:_}),onClick:e.onClose}))))}},12374:(e,t,r)=>{"use strict";r.d(t,{$x:()=>E,Jx:()=>b,wG:()=>f});var n=r(411855),i=r(188507),a=r(358145),o=r(646240),l=r(762638),s=r(939863),c=r(672517),d=r(988022),u=r(335682),p=r(325746),m=r(979686),_=r(598384),h=r(66559),g=r(494842);function f(){let e=(0,m.FL)();return(0,p.LW)()&&!e}function E(e,t){let r=(0,p.yk)(e),n=(0,p.yk)(t),i=r||n,o=(0,a.ZC)(i);return!i&&o}let y="participant_onboarding_stamp_tooltip";function b(e){let t=(0,o.Xr)(p.EW),r=f(),m=function(e){let t=(0,p.yk)(e),r=(0,a.ZC)(t);return!t&&r}(p.eh.STAMP),E=(0,i.d4)(u.sS);return n.createElement(c.fu,{name:y,enabled:r,properties:{file_key:E,product_type:"figjam"}},n.createElement(_.i,{size:h._.SMALL,parentRect:e.parentRect,textContent:n.createElement("span",{className:g.Qq},n.createElement(s.Tx,{id:"whiteboard.delightful_toolbar.participant_onboarding.react_with_stamps",boldText:n.createElement("span",{className:l.cx.fontBold.$},n.createElement(s.Tx,{id:"whiteboard.delightful_toolbar.participant_onboarding.stamps_bolded"}))})),onClose:()=>{t({type:"DISMISS_TOOLTIP",tooltip:p.eh.STAMP}),(0,d.Cu)({context:y,text:"dismiss",file_key:E,product_type:"figjam"})},shouldAnimate:m,hideBubble:!r}))}},548785:(e,t,r)=>{"use strict";let n;r.d(t,{Ck:()=>B,Jc:()=>$,L2:()=>Y,LZ:()=>j,Qc:()=>G,Qd:()=>J,TW:()=>z,eg:()=>H,h$:()=>U.A,lx:()=>Z,qW:()=>q});var i=r(852800),a=r(511080),o=r(435651),l=r(319782),s=r(257693),c=r(944752),d=r(692801),u=r(267433),p=r(116198),m=r(861310),_=r(941283),h=r(491233),g=r(436762),f=r(715840),E=r(522075),y=r(399329),b=r(631552),v=r(535149),I=r(551251),T=r(270745),S=r(180516),w=r(15248),A=r(146820),C=r(35510),N=r(416014),O=r(386765),L=r(140592),R=r(453151),P=r(447757),k=r(761361),D=r(521391),M=r(944237),x=r(73345),F=r(390279),U=r(657666);let B=["SQUARE","ELLIPSE","ROUNDED_RECTANGLE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT","ENG_DATABASE","ENG_QUEUE","ENG_FILE","ENG_FOLDER"];function H(e){switch(e){case"SQUARE":return N.A;case"ELLIPSE":return p.A;case"ROUNDED_RECTANGLE":return L.A;case"DIAMOND":return c.A;case"TRIANGLE_UP":return O.A;case"TRIANGLE_DOWN":return x.A;case"PARALLELOGRAM_RIGHT":return S.A;case"PARALLELOGRAM_LEFT":return T.A;case"ENG_DATABASE":return m.A;case"ENG_QUEUE":return g.A;case"ENG_FILE":return _.A;case"ENG_FOLDER":return h.A;case"TRAPEZOID":return M.A;case"STAR":return k.A;case"SHIELD":return R.A;case"HEXAGON":return f.A;case"PENTAGON":return w.A;case"OCTAGON":return v.A;case"PLUS":return A.A;case"PREDEFINED_PROCESS":return C.A;case"MANUAL_INPUT":return y.A;case"CHEVRON":return s.A;case"DOCUMENT_SINGLE":return u.A;case"DOCUMENT_MULTIPLE":return d.A;case"ARROW_LEFT":return o.A;case"ARROW_RIGHT":return l.A;case"SUMMING_JUNCTION":return D.A;case"OR":return I.A;case"SPEECH_BUBBLE":return P.A;case"INTERNAL_STORAGE":return E.A;case"MINDMAP_TREE_NUCLEUS":return b.A;default:return F.A}}let V=["SQUARE","ELLIPSE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","ROUNDED_RECTANGLE","CHEVRON"],G=["SQUARE","ELLIPSE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","ROUNDED_RECTANGLE","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT"],W=["PREDEFINED_PROCESS","DOCUMENT_SINGLE","DOCUMENT_MULTIPLE","MANUAL_INPUT","HEXAGON","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT","ENG_DATABASE","ENG_QUEUE","INTERNAL_STORAGE","TRAPEZOID","SUMMING_JUNCTION","OR","SHIELD","ENG_FOLDER","ENG_FILE"],K=["PENTAGON","OCTAGON","PLUS","ARROW_LEFT","ARROW_RIGHT","STAR","SPEECH_BUBBLE"],Y=[...V,...W,...K],j=["BASIC","DIAGRAMMING","MISC"],z=new Map([["BASIC",V],["DIAGRAMMING",W],["MISC",K]]);i.daH.BLACK,i.daH.GRAY_DARK,i.daH.GRAY_LIGHT,i.daH.RED,i.daH.ORANGE,i.daH.YELLOW,i.daH.GREEN,i.daH.BLUE,i.daH.VIOLET,i.daH.WHITE;let $=new Map([["SQUARE",i.NLJ.SHAPE_WHITEBOARD_SQUARE],["ELLIPSE",i.NLJ.SHAPE_WHITEBOARD_ELLIPSE],["ROUNDED_RECTANGLE",i.NLJ.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE],["DIAMOND",i.NLJ.SHAPE_WHITEBOARD_DIAMOND],["TRIANGLE_UP",i.NLJ.SHAPE_WHITEBOARD_TRIANGLE_UP],["TRIANGLE_DOWN",i.NLJ.SHAPE_WHITEBOARD_TRIANGLE_DOWN],["PARALLELOGRAM_RIGHT",i.NLJ.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT],["PARALLELOGRAM_LEFT",i.NLJ.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT],["ENG_DATABASE",i.NLJ.SHAPE_WHITEBOARD_ENG_DATABASE],["ENG_QUEUE",i.NLJ.SHAPE_WHITEBOARD_ENG_QUEUE],["ENG_FILE",i.NLJ.SHAPE_WHITEBOARD_ENG_FILE],["ENG_FOLDER",i.NLJ.SHAPE_WHITEBOARD_ENG_FOLDER],["TRAPEZOID",i.NLJ.SHAPE_WHITEBOARD_TRAPEZOID],["STAR",i.NLJ.SHAPE_WHITEBOARD_STAR],["SHIELD",i.NLJ.SHAPE_WHITEBOARD_SHIELD],["HEXAGON",i.NLJ.SHAPE_WHITEBOARD_HEXAGON],["PENTAGON",i.NLJ.SHAPE_WHITEBOARD_PENTAGON],["OCTAGON",i.NLJ.SHAPE_WHITEBOARD_OCTAGON],["PLUS",i.NLJ.SHAPE_WHITEBOARD_PLUS],["PREDEFINED_PROCESS",i.NLJ.SHAPE_WHITEBOARD_PREDEFINED_PROCESS],["MANUAL_INPUT",i.NLJ.SHAPE_WHITEBOARD_MANUAL_INPUT],["CHEVRON",i.NLJ.SHAPE_WHITEBOARD_CHEVRON],["DOCUMENT_SINGLE",i.NLJ.SHAPE_WHITEBOARD_DOCUMENT_SINGLE],["DOCUMENT_MULTIPLE",i.NLJ.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE],["ARROW_LEFT",i.NLJ.SHAPE_WHITEBOARD_ARROW_LEFT],["ARROW_RIGHT",i.NLJ.SHAPE_WHITEBOARD_ARROW_RIGHT],["SUMMING_JUNCTION",i.NLJ.SHAPE_WHITEBOARD_SUMMING_JUNCTION],["OR",i.NLJ.SHAPE_WHITEBOARD_OR],["SPEECH_BUBBLE",i.NLJ.SHAPE_WHITEBOARD_SPEECH_BUBBLE],["INTERNAL_STORAGE",i.NLJ.SHAPE_WHITEBOARD_INTERNAL_STORAGE],["MINDMAP_TREE_NUCLEUS",i.NLJ.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS]]),Z=new Map(Array.from($,([e,t])=>[t,e]));function q(e){return Z.has(e)}function J(e){return n||(n=new Map([[i.NLJ.SHAPE_WHITEBOARD_SQUARE,{action:"set-tool-shape-whiteboard-square",Icon:a.KB,canvasToSvgScale:176/(0,a.nB)(i.NLJ.SHAPE_WHITEBOARD_SQUARE)}],[i.NLJ.SHAPE_WHITEBOARD_ELLIPSE,{action:"set-tool-shape-whiteboard-ellipse",Icon:a.hP,canvasToSvgScale:e?1.5625:176/(0,a.nB)(i.NLJ.SHAPE_WHITEBOARD_ELLIPSE)}],[i.NLJ.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE,{action:"set-tool-shape-whiteboard-rounded-rectangle",Icon:e?a.fl:a.H9,canvasToSvgScale:e?2:160/104}],[i.NLJ.SHAPE_WHITEBOARD_DIAMOND,{action:"set-tool-shape-whiteboard-diamond",Icon:a.BK,canvasToSvgScale:e?200/112:176/112}],[i.NLJ.SHAPE_WHITEBOARD_TRIANGLE_UP,{action:"set-tool-shape-whiteboard-triangle-up",Icon:a.il,canvasToSvgScale:176/(0,a.nB)(i.NLJ.SHAPE_WHITEBOARD_TRIANGLE_UP)}],[i.NLJ.SHAPE_WHITEBOARD_TRIANGLE_DOWN,{action:"set-tool-shape-whiteboard-triangle-down",Icon:a.bp,canvasToSvgScale:176/104}],[i.NLJ.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT,{action:"set-tool-shape-whiteboard-parallelogram-right",Icon:a.Wm,canvasToSvgScale:176/104}],[i.NLJ.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT,{action:"set-tool-shape-whiteboard-parallelogram-left",Icon:a.nF,canvasToSvgScale:176/104}],[i.NLJ.SHAPE_WHITEBOARD_ENG_DATABASE,{action:"set-tool-shape-whiteboard-eng-database",Icon:a.iB,canvasToSvgScale:176/112}],[i.NLJ.SHAPE_WHITEBOARD_ENG_QUEUE,{action:"set-tool-shape-whiteboard-eng-queue",Icon:a.cc,canvasToSvgScale:176/98}],[i.NLJ.SHAPE_WHITEBOARD_ENG_FILE,{action:"set-tool-shape-whiteboard-eng-file",Icon:a.P6,canvasToSvgScale:176/104}],[i.NLJ.SHAPE_WHITEBOARD_ENG_FOLDER,{action:"set-tool-shape-whiteboard-eng-folder",Icon:a.VC,canvasToSvgScale:176/104}],[i.NLJ.SHAPE_WHITEBOARD_TRAPEZOID,{action:"set-tool-shape-whiteboard-trapezoid",Icon:a.b1,canvasToSvgScale:152/81.92}],[i.NLJ.SHAPE_WHITEBOARD_STAR,{action:"set-tool-shape-whiteboard-star",Icon:a.Z3,canvasToSvgScale:e?216/112:240/112}],[i.NLJ.SHAPE_WHITEBOARD_SHIELD,{action:"set-tool-shape-whiteboard-shield",Icon:a.qO,canvasToSvgScale:212/90}],[i.NLJ.SHAPE_WHITEBOARD_HEXAGON,{action:"set-tool-shape-whiteboard-hexagon",Icon:a.Nm,canvasToSvgScale:152/91}],[i.NLJ.SHAPE_WHITEBOARD_PENTAGON,{action:"set-tool-shape-whiteboard-pentagon",Icon:a.$W,canvasToSvgScale:190/111}],[i.NLJ.SHAPE_WHITEBOARD_OCTAGON,{action:"set-tool-shape-whiteboard-octagon",Icon:a.sb,canvasToSvgScale:e?200/112:218/112}],[i.NLJ.SHAPE_WHITEBOARD_PLUS,{action:"set-tool-shape-whiteboard-plus",Icon:a.Vx,canvasToSvgScale:e?200/112:234/112}],[i.NLJ.SHAPE_WHITEBOARD_PREDEFINED_PROCESS,{action:"set-tool-shape-whiteboard-predefined-process",Icon:a.Ad,canvasToSvgScale:152/86.09}],[i.NLJ.SHAPE_WHITEBOARD_MANUAL_INPUT,{action:"set-tool-shape-whiteboard-manual-input",Icon:a.RB,canvasToSvgScale:152/93}],[i.NLJ.SHAPE_WHITEBOARD_CHEVRON,{action:"set-tool-shape-whiteboard-chevron",Icon:e?a.cE:a.S2,canvasToSvgScale:e?2:168/77}],[i.NLJ.SHAPE_WHITEBOARD_DOCUMENT_SINGLE,{action:"set-tool-shape-whiteboard-document-single",Icon:a.y8,canvasToSvgScale:188/99.08}],[i.NLJ.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE,{action:"set-tool-shape-whiteboard-document-multiple",Icon:a.kf,canvasToSvgScale:204/100.89}],[i.NLJ.SHAPE_WHITEBOARD_ARROW_LEFT,{action:"set-tool-shape-whiteboard-arrow-left",Icon:e?a.Xn:a.Jo,canvasToSvgScale:e?2:212/88.97}],[i.NLJ.SHAPE_WHITEBOARD_ARROW_RIGHT,{action:"set-tool-shape-whiteboard-arrow-right",Icon:e?a.eX:a.QF,canvasToSvgScale:e?2:212/88.97}],[i.NLJ.SHAPE_WHITEBOARD_SUMMING_JUNCTION,{action:"set-tool-shape-whiteboard-summing-junction",Icon:a.bE,canvasToSvgScale:100/97}],[i.NLJ.SHAPE_WHITEBOARD_OR,{action:"set-tool-shape-whiteboard-or",Icon:a.kd,canvasToSvgScale:100/96.95}],[i.NLJ.SHAPE_WHITEBOARD_SPEECH_BUBBLE,{action:"set-tool-shape-whiteboard-speech-bubble",Icon:e?a.Bx:a.FJ,canvasToSvgScale:2}],[i.NLJ.SHAPE_WHITEBOARD_INTERNAL_STORAGE,{action:"set-tool-shape-whiteboard-internal-storage",Icon:a.Ty,canvasToSvgScale:152/85.52}],[i.NLJ.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS,{action:"set-tool-mindmap-tree-nucleus",Icon:a.KB,canvasToSvgScale:176/112}]])),n}},972283:(e,t,r)=>{"use strict";r.d(t,{AH:()=>W,E$:()=>R,b9:()=>G,sV:()=>F});var n=r(411855),i=r(188507),a=r(629019),o=r.n(a),l=r(91408),s=r(563706),c=r(574176),d=r(939863),u=r(145519),p=r(625651),m=r(501972),_=r(852800),h=r(812821),g=r(701882),f=r(809511),E=r(460289),y=r(498606),b=r(511080),v=r(202232),I=r(12374),T=r(438304),S=r(383847),w=r(525040),A=r(522322),C=r(860168),N=r(158200),O=r(533600);let L="delightful-toolbar-stamp-button",R="stamp",P=(0,l.jz)(C.tui),k={padBottom:30,height:512},D=100*k.padBottom/k.height,M=`calc(${D}% + -14px)`,x=`translateY(${M})`,F=(0,n.memo)(function(){let e=(0,i.wA)(),t=V(),r=(0,i.d4)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===f.NLJ.STAMP})||t,a=(0,E.XM)(),l=(0,A.hr)(),s=l>0,c=(0,i.d4)(e=>e.universalInsertModal.showing),d=(0,w.bu)(),m=n.useRef(null),g=(0,n.useCallback)(()=>{a&&e(p.H1({votingStage:_.W8Y.NOT_JOINED})),e(u.Ho())},[e,a]),C=(0,n.useCallback)(()=>{t?h.CB.closeWheel():W({source:v.fK})},[t]);return n.createElement("div",{"data-element-target":L,className:o()(N.Zh,N.Bm),ref:m},(null==m?void 0:m.current)&&n.createElement(I.Jx,{parentRect:m.current.getBoundingClientRect()}),n.createElement(S.IB,{toolType:"stamp",recordingKey:(0,v.hx)("stamp"),isSelected:r,className:N.iE,onClick:C,"data-tooltip-type":y.Ib.LOOKUP,"data-tooltip":"set-tool-stamp",onboardingKey:R,tooltipLocation:a?"below":"above",tooltipOffset:a?{offsetX:0,offsetY:-14}:void 0,"data-tooltip-bottom-flip-margin":a?0:void 0,hasOpenSubmenu:!1},e=>n.createElement(T.gd,{toolType:"stamp",inactiveIcon:n.createElement(b.oV,null),hoveredIcon:n.createElement(b.mS,null),activeIcon:n.createElement(b.dF,null),isSelected:r,isHovered:e})),a&&!c&&!d&&n.createElement(n.Fragment,null,n.createElement(U,{leaveVotingSessionAndCloseWheel:g,onClickToOpenWheel:C,numVotesRemaining:l,hasRemainingVotes:s}),n.createElement(H,{onClickToOpenWheel:C,isStampToolSelected:r,hasRemainingVotes:s})))});function U({onClickToOpenWheel:e,leaveVotingSessionAndCloseWheel:t,numVotesRemaining:r,hasRemainingVotes:i}){let[a,l]=(0,n.useState)(!1),u=i&&!s.Ay.isIpad;B({shouldOpenWheelOnHover:u,isHovered:a});let p=i?N.rf:N.he;return n.createElement("button",{className:o()(N.tS,p),onMouseEnter:()=>!s.Ay.isIpad&&l(!0),onMouseLeave:()=>!s.Ay.isIpad&&l(!1),onClick:()=>{u||(i?e():t())},tabIndex:-1},i?n.createElement("span",{className:N._V},n.createElement(d.Tx,{id:"voting.delightful_toolbar.votes_remaining",numVotes:r})):n.createElement(n.Fragment,null,n.createElement(c.B,{className:N.oE,svg:O.A}),n.createElement("span",{className:N._V},n.createElement(d.Tx,{id:"voting.delightful_toolbar.no_votes_remaining"}))))}function B({shouldOpenWheelOnHover:e,isHovered:t}){let r=e&&t;(0,n.useEffect)(()=>{if(!r)return;let e=setTimeout(()=>W({source:"peeking_vote_wheel_hover",openedViaHover:!0}),100);return()=>clearTimeout(e)},[r])}function H({onClickToOpenWheel:e,isStampToolSelected:t,hasRemainingVotes:r}){let[i,a]=(0,n.useState)(!1),l=n.useRef(null),c=V(),d=function({isHidden:e,wheelRef:t}){let[r,i]=n.useState(!1);return n.useEffect(()=>{if(e){i(!0);return}let r=t.current;if(!r){i(!1);return}let n=()=>{i(!1),r.removeEventListener("transitionend",n)};return r.addEventListener("transitionend",n),()=>{r.removeEventListener("transitionend",n)}},[e,t]),e||r}({isHidden:c,wheelRef:l}),u=r&&!s.Ay.isIpad;B({shouldOpenWheelOnHover:u,isHovered:i}),(0,n.useEffect)(()=>{let e=l.current;if(!e)return;let t={transform:`${x} scale(1.05)`},r={transform:`${x} scale(1)`},n=new Animation(new KeyframeEffect(e,[{transform:"translateY(100%) scale(0.1)"},t],{duration:450,easing:"ease-out"})),i=new Animation(new KeyframeEffect(e,[t,r],{duration:200,easing:"ease-in-out"})),a=new Animation(new KeyframeEffect(e,[r,r],{duration:400})),o=new Animation(new KeyframeEffect(e,[r,{}],{duration:300,easing:"cubic-bezier(0.37, 0, 0.48, 1.33)"}));return n.play(),n.finished.then(()=>i.play()).catch(()=>{}),i.finished.then(()=>a.play()).catch(()=>{}),a.finished.then(()=>o.play()).catch(()=>{}),()=>{n.cancel(),a.cancel(),o.cancel()}},[l]);let p=!(t||r);return n.createElement("div",{className:N.$},n.createElement("button",{ref:l,tabIndex:-1,className:o()(N.uA,{[N.hA]:p,[N.wj]:c,[N.tq]:d,[N.FP]:!r}),onMouseEnter:()=>!s.Ay.isIpad&&a(!0),onMouseLeave:()=>!s.Ay.isIpad&&a(!1),onClick:()=>!u&&e()}))}function V(){return(0,i.d4)(e=>"WHEEL"===e.multiplayerEmoji.type&&["STAMP1","STAMP2"].includes(e.multiplayerEmoji.wheelType))}function G(){return(0,m.Tc)(L)}function W({source:e,openedViaHover:t=!1}){let r=G(),n=(0,m.Tc)(v.HY);if(r||n){let i=r?r.getBoundingClientRect():n.getBoundingClientRect(),a=i.x+i.width/2,o=i.y-(g.l+2)-14-P;h.CB.handleShortcutPressWithType({viewportX:a,viewportY:o,source:e,openedViaHover:t,wheelType:"STAMP"}),h.CB.handleShortcutRelease(a,o)}}},807671:(e,t,r)=>{"use strict";r.d(t,{J:()=>s,Z:()=>c});var n=r(411855),i=r(629019),a=r.n(i),o=r(563706),l=r(158200);function s({className:e,disabled:t,isDragging:r,children:i,"aria-hidden":s}){return n.createElement("div",{"aria-disabled":t,"aria-hidden":s,className:a()(l.F0,{[e||""]:!!e,[l.FK]:t,[l.Bx]:r,[l.i9]:!o.Ay.safari}),"data-fullscreen-intercept":!0},i)}function c({className:e,isHovering:t,isSelected:r,disabled:i,children:o,"aria-hidden":s}){return n.createElement("div",{"aria-disabled":i,"aria-hidden":s,className:a()({[e||""]:!!e,[l.dj]:!0,[l.M]:t,[l.lv]:r,[l.nI]:i}),"data-fullscreen-intercept":!0},o)}},949889:(e,t,r)=>{"use strict";r.d(t,{Qu:()=>b,Qw:()=>g,XN:()=>h,XI:()=>E,br:()=>f,ti:()=>y});var n=r(411855),i=r(629019),a=r.n(i),o=r(374626);r(522739);var l=r(47506),s=r(939863),c=r(385326),d=r(116723),u=r(684690);r(511080),r(979686);var p=r(557558),m=r(677859),_=r(948529);function h({alignment:e,children:t,onMouseEnter:r,onMouseLeave:i,innerRef:o}){return n.createElement("div",{className:a()("dlt_submenu--submenuContainer--M4ufs delightful_toolbar--passthruLayout--gz5r2",{"dlt_submenu--submenuLeftAligned--ADsMj":"LEFT"===e,"dlt_submenu--submenuCenterAligned--ryltJ":"CENTER"===e,"dlt_submenu--submenuRightAligned--kUi5D":"RIGHT"===e}),onMouseEnter:r,onMouseLeave:i,ref:o},t)}function g({isOpen:e,children:t,fadedOut:r,id:i,testId:s,optimizeForCompactSize:u,overflowChildren:m}){let _=(0,o.md)(c.D);n.useEffect(()=>{e&&_&&!p.l.has(_)&&(0,l.YQ)({id:d.X,properties:{requester:d.Y.FigjamDLTSubmenuOpen}})},[e,_]);let h=n.createElement("div",{className:"dlt_submenu--submenuItems--FJHkH"},t);return n.createElement("div",{className:a()("dlt_submenu--submenu--EmU1-",{"dlt_submenu--compactSize--yJCzh":!!u,"dlt_submenu--isOpen--sH4-4":e,"dlt_submenu--fadedOut--rHzEu":r}),"data-testid":s,"aria-hidden":!0,id:i},m?h:n.createElement("div",{className:"dlt_submenu--submenuCornerClipping--rhbch"},h))}function f({children:e,disabled:t,paddingLeft:r,paddingRight:i,height:o,shouldVerticallyCenter:l,shouldClipAndRoundTopRightCorner:s}){return n.createElement("div",{className:a()("dlt_submenu--submenuGroup--KSxIU",{"dlt_submenu--submenuGroupDisabled--BPix8":t,"dlt_submenu--submenuGroupVerticallyCentered---T24I":l,"dlt_submenu--submenuRightCornerClipping--ccFVw":s}),style:{paddingLeft:r,paddingRight:i,height:o}},e)}function E(){return n.createElement("div",{className:"dlt_submenu--submenuDivider--IwlsI"})}function y({isSelected:e,children:t,explicitWidth:r,shouldCenterContent:i,noScaleAnimation:o,isRightEdge:l}){return n.createElement("div",{style:{width:r},className:a()("dlt_submenu--toolBackground--St0Y2 delightful_toolbar--passthruLayout--gz5r2",{"dlt_submenu--toolBackgroundScalingHighlight--LTx6Y":!o,"dlt_submenu--toolBackgroundHighlighted--aUWM5":e,"dlt_submenu--toolBackgroundCenterContent--p466V":i,"dlt_submenu--toolBackgroundRightEdgeHighlight--hqdJJ":!!l})},t)}function b({currentColor:e,paletteType:t,showPopover:r,setShowPopover:i,alwaysUseCurrentColorInSwatch:a,recordingKey:o}){let l=(0,u.iN)(e,t),c=e&&(l||r||a);return n.createElement(m.$n,{onClick:()=>{i(!r)},active:r?"LOUD":"NONE",recordingKey:o,buttonStyle:{"--menu-padding-right":"4px",marginLeft:"4px",padding:"4px 4px 4px 0px"},isNewSubmenu:!0,tabIndex:-1},c?n.createElement(_.cd,{key:"custom-color",size:"medium",value:e,selectionState:r?"unselected":"selected_custom",background:"light",paletteType:"base",tooltip:(0,s.t)("whiteboard.colors.custom")}):n.createElement(_.ZI,{swatchStyle:{boxShadow:"0px 0px 0px 1px rgba(0, 0, 0, 0.2) inset"}}))}},383847:(e,t,r)=>{"use strict";r.d(t,{IB:()=>E,J7:()=>f});var n=r(411855),i=r(629019),a=r.n(i),o=r(498750),l=r(153234),s=r(522739),c=r(483990),d=r(672517),u=r(219001),p=r(751025),m=r(979686),_=r(520325),h=r(807671),g=r(158200);let f=(0,n.forwardRef)(({toolType:e,isSelected:t,onClick:r,children:i,tooltipOffset:d={offsetX:0,offsetY:12},tooltipLocation:p="above",className:f,recordingKey:E,onboardingKey:y,ButtonLayout:b=h.J,isDisabled:v=!1,clickOnMouseDown:I=!1,inTabOrder:T=!0,ariaLabel:S,isHovered:w,isEnabledForViewers:A=!1,onMouseEnter:C,onMouseMove:N,onMouseLeave:O,onTouchStart:L,onTouchEnd:R,hasOpenSubmenu:P,testId:k,...D},M)=>{let{state:x,dispatch:F}=(0,n.useContext)(u.nS),U=(0,m.hv)({isEnabledForViewers:A})||v,B=x.draggedTool===e,H=S||D["data-tooltip"],V=e=>{e.preventDefault(),e.stopPropagation(),x.shouldFinishClick&&!I&&r(e)};return n.createElement(s.D8,{className:a()(g.Zh,g.$y,{[g.ll]:U}),recordingKey:E,onMouseEnter:C,onMouseMove:N,onMouseLeave:O,onTouchStart:L,onTouchEnd:R,onPointerDown:U?void 0:e=>{if(e.preventDefault(),e.stopPropagation(),I?(r(e),F({type:"cancel drag"})):F({type:"start click"}),!_.T.RECORD_DETAILED_EVENTS)return l.aH},onClick:U?void 0:V,"data-tooltip-type":B?null:D["data-tooltip-type"],"data-tooltip-submenu-open":P,"data-tooltip":D["data-tooltip"],"data-tooltip-offset-x":D["data-tooltip-offset-x"]??d.offsetX,"data-tooltip-offset-y":D["data-tooltip-offset-y"]??d.offsetY,"data-tooltip-show-above":"above"===p||void 0,"data-tooltip-show-below":"below"===p||void 0,"data-tooltip-show-left":"left"===p||void 0,"data-tooltip-bottom-flip-margin":D["data-tooltip-bottom-flip-margin"],"data-onboarding-key":y,"data-fullscreen-intercept":!0,"data-testid":k},n.createElement(b,{className:f,isHovering:w,isSelected:t,disabled:U,isDragging:B,"aria-hidden":!0},i),n.createElement(s.D8,{className:a()(g.yG,g.dR,{[g.ll]:U,[g.vu]:t,[g.Lt]:"select"===e,[g.sD]:"hand"===e}),onClick:U?void 0:V,onKeyDown:U?void 0:e=>{e.keyCode===o.Uz.ENTER&&x.shouldFinishClick&&!I&&r(e)},forwardedRef:M,role:function(e,t){let r;return e.shouldDemoteDlt?r="presentation":t&&(r="button"),r}(x,T),tabIndex:T&&!U?0:-1,"aria-hidden":!T,"aria-label":H&&T?function(e){try{return(0,c.A)(e)||e}catch(t){return e}}(H):void 0,"aria-disabled":U,"data-fullscreen-intercept":!0}))}),E=(0,n.forwardRef)(({children:e,hasExtraLongHoverTime:t,...r},i)=>{let{isHovered:a,hoverTarget:o,onMouseEnter:l,onMouseMove:s,onMouseLeave:c,onTouchStart:d,onTouchEnd:u}=(0,p.W)(r.onClick,t),m="function"==typeof e?e(a,o):e;return n.createElement(f,{...r,ref:i,isHovered:a,onMouseEnter:l,onMouseLeave:c,onMouseMove:s,onTouchStart:d,onTouchEnd:u},m)});(0,d.tf)(E)},557558:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(463546);let i=new Set([n.lLk.id,n.kp0.id,n.Njd.id,n.MJs.id,n.zoI.id,n.wRI.id,n.Kze.id])},676938:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a,z:()=>i});var n=r(411855);function i(e,t){let r=e;for(;null!==r;){if(r===t)return!0;r=r.parentElement}return!1}function a(e,t={}){let{closeOnEsc:r,ignore:a=[]}=t;(0,n.useEffect)(()=>{let t=t=>{if(e&&"allClicks"!==a){if(Array.isArray(a)){for(let e of a)if(e&&"current"in e&&(e=e.current),e&&i(t.target,e))return}else if(a(t.target))return;e()}},n=t=>{"Escape"===t.key&&e&&e()};return document.addEventListener("pointerdown",t),r&&document.addEventListener("keydown",n),()=>{document.removeEventListener("pointerdown",t),r&&document.removeEventListener("keydown",n)}},[e,r,a])}},525040:(e,t,r)=>{"use strict";r.d(t,{AT:()=>u,OD:()=>d,Uo:()=>c,Vi:()=>p,Yt:()=>_,bu:()=>l,ri:()=>m,s3:()=>h,sT:()=>s});var n=r(188507),i=r(809511),a=r(333399),o=r(548785);function l(){return!!m()}function s(){return(0,n.d4)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===i.NLJ.STICKY})}function c(){return(0,n.d4)(e=>{var t,r;let n=null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool;return n===i.NLJ.CONNECTOR_ELBOWED||n===i.NLJ.CONNECTOR_STRAIGHT})}function d(){return(0,n.d4)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===i.NLJ.CONNECTOR_ELBOWED})}function u(){return(0,n.d4)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===i.NLJ.CONNECTOR_STRAIGHT})}function p(){return(0,n.d4)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===i.NLJ.COMMENTS})}function m(){return(0,n.d4)(e=>{var t,r;let n=null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool;return n&&(0,a.L)(n)?n:null})}function _(){return(0,n.d4)(e=>{var t,r;let n=null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool;return n&&(0,o.qW)(n)?n:null})}function h(){return(0,n.d4)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===i.NLJ.DROPPER_COLOR})}},118003:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(848661),i=r(555074);function a(){let[e,t]=(0,i.lJ)("fillPaints");if(!e||(0,n.gl)(e))return null;let r=e.findIndex(e=>"IMAGE"===e.type);return r<0?null:{paint:e[r],paintIndex:r,onChange:(n,i)=>{t([...e.slice(0,r),n,...e.slice(r+1)],i)}}}},587467:(e,t,r)=>{"use strict";r.d(t,{$B:()=>s,eT:()=>o,fx:()=>p,qV:()=>d,tU:()=>l,xf:()=>u,ym:()=>c});var n=r(988022);let i={opens_music_dropdown:"opens_music_dropdown",toggles_mute:"toggles_mute",changes_song:"changes_song",changes_volume:"changes_volume",removes_song:"removes_song",plays_song:"plays_song",stops_song:"stops_song"},a=(e,t,r,i)=>{var a;(0,n.ds)(e,null==(a=t.openFile)?void 0:a.key,t,{...r,multiplayer_count:t.multiplayer.allUsers.length},i)},o=e=>a(i.opens_music_dropdown,e),l=(e,t,r)=>a(i.changes_song,e,{song_id:t,isPlaying:r}),s=(e,t)=>a(i.removes_song,e,{song_id:t}),c=(e,t)=>a(i.toggles_mute,e,{isMuted:t}),d=(e,t)=>a(i.changes_volume,e,{volume:t}),u=(e,t)=>a(i.plays_song,e,{song_id:t},{forwardToDatadog:!0}),p=(e,t)=>a(i.stops_song,e,{song_id:t})},411189:(e,t,r)=>{"use strict";r.d(t,{$_:()=>u,I8:()=>p,P0:()=>l,_s:()=>s,b2:()=>a,c4:()=>d,eB:()=>o,nz:()=>i,om:()=>m});var n=r(518261);function i(e,t){let r=new Date().getTime()-e;return t>=2&&r>=5e3}function a(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r].song_id!==t[r].song_id)return!1;return!0}let o=(e,t)=>!e&&!t||(null==e?void 0:e.song_id)===(null==t?void 0:t.song_id);function l(e){let t=[];return e.forEach(e=>{let r=Math.floor(Math.random()*e.cuesheet.tracks.length);e.start_at_ms=e.cuesheet.tracks[r].start_time,t.push(e)}),t}async function s({songID:e,onSuccess:t,onNotFound:r}){try{await n.N.getActive({songID:e}),t()}catch(t){if(404===t.status){r();return}throw console.warn(`Failed to fetch active song with id ${e}: ${t}`),r(),t}}let c=["play","pause","previoustrack","nexttrack","seekbackward","seekforward","seekto","stop"];function d(){return"mediaSession"in navigator&&!!navigator.mediaSession.metadata}function u(e,t){if(!e)return;let{title:r,album_art:n}=e;if("mediaSession"in navigator){for(let e of(navigator.mediaSession.metadata=new window.MediaMetadata({title:r,artist:"FigJam Music",artwork:[{src:n||""}]}),c))try{navigator.mediaSession.setActionHandler(e,()=>{})}catch(t){console.warn(`Attempting to stub out all action handlers for media session, but the media session action '${e}' is not supported`)}t&&navigator.mediaSession.setActionHandler("stop",()=>{t()})}}function p(){if("mediaSession"in navigator){for(let e of(navigator.mediaSession.metadata=null,c))try{navigator.mediaSession.setActionHandler(e,null)}catch(t){console.warn(`Attempting to null all custom action handlers for media session, but the media session action '${e}' is not supported`)}navigator.mediaSession.setActionHandler("play",()=>{})}}function m(){navigator.mediaSession.setActionHandler("play",null)}},728406:(e,t,r)=>{"use strict";r.d(t,{$V:()=>_,AC:()=>s,CM:()=>p,FR:()=>E,G8:()=>d,Hm:()=>a,IQ:()=>u,P$:()=>c,PF:()=>f,RE:()=>m,YI:()=>g,cu:()=>l,fQ:()=>h,y0:()=>o});var n=r(966712),i=r(737499);let a="timer-start-onboarding",o=5999e3,l=1250,s=1;function c(e){return e?e.isPaused?e.timeRemainingMs:e.timeRemainingMs-performance.now()+e.timeOrigin:-1/0}function d(e){let t=c(e);return!e||0===e.totalTimeMs||t<=-l}function u(e){return 0>=c(e)&&(null==e?void 0:e.totalTimeMs)>0}function p(e){return!!(null==e?void 0:e.isPaused)&&e.totalTimeMs>0&&e.timeRemainingMs>0&&e.totalTimeMs!==e.timeRemainingMs}function m(e){return Math.floor(60*Number(e.minutes)+Number(e.seconds))}function _(e,t){let r=d(e),n=c(e),i=parseInt(t.minutes);return r?(i||0)+s<=99:n+6e4*s<=o}function h(e,t){let r=c(e),n=e.totalTimeMs-r;return t>=2&&n>=5e3}function g(e){return e<10?`0${e}`:`${e}`}function f(e,t){e.volume=t/100,e.currentTime=0,e.play().catch(e=>{if("NotAllowedError"!==e.name)throw Error(`Failed to play FigJam timer chimes: ${e}`)})}function E(){let e=(0,i.F4)();return(0,n.kc)().figjam_ui2_overhaul?!!(null==e?void 0:e.shouldShowTimerOnTheLeft):!(null==e?void 0:e.shouldOptimizeForIpadApp)||!!(null==e?void 0:e.shouldShowTimerOnTheLeft)}},68517:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,Ld:()=>m,jo:()=>u});var n=r(288706),i=r(38580),a=r(374626),o=r(286640),l=r(529928),s=r(728406);function c(){let e=(0,o.DN)().get("last-timer-set-time")||180;return{seconds:(0,s.YI)(e%60),minutes:(0,s.YI)(Math.floor(e/60)),lastUsedTime:e,isStopping:!1,lastAction:{type:"reset-state"}}}let d=(0,n.um)(c(),(e,t)=>{let r={...e,lastAction:t};switch(t.type){case"set-seconds":return{...r,seconds:t.seconds};case"set-minutes":return{...r,minutes:t.minutes};case"set-time":return{...r,minutes:t.minutes,seconds:t.seconds};case"add-minutes":let n=Math.min(Math.max(0,parseInt(r.minutes)+t.minutes),99).toString(),i=1===n.length?"0"+n:n;return{...r,minutes:i};case"start-timer":let a=60*parseInt(r.minutes)+parseInt(r.seconds);if(1e3*a<=0)return r;return{...r,lastUsedTime:a};case"reset-state":return c();default:return r}}),u=(0,l.bt)(e=>e.timer),p=(0,i.eU)({}),m=(0,a.yu)((0,i.eU)(e=>(e(p),Math.max(0,Math.ceil((0,s.P$)(e(u).time)/1e3))),(e,t,r)=>{t(p,{})}),({setSelf:e})=>{let t=setInterval(()=>{var t;let r=a.zl.get(u);r&&r.time&&(null==(t=null==r?void 0:r.time)||!t.isPaused)&&e("RECOMPUTE")},200);return()=>clearInterval(t)})},631169:(e,t,r)=>{"use strict";r.d(t,{V3:()=>R,ML:()=>K,w:()=>L,HG:()=>P});var n=r(411855),i=r(188507),a=r(745701),o=r(711117),l=r(323434),s=r(305874),c=r(153234),d=r(799569),u=r(827586),p=r(939863),m=r(501114),_=r(625651),h=r(501972),g=r(852800),f=r(809511),E=r(161325),y=r(601607),b=r(634951),v=r(861802),I=r(266023),T=r(599486),S=r(522322),w=r(74505),A=r(457630);function C({nodePosition:e,isExpanded:t,children:r}){let i=(0,A._X)({subscribeToUpdates_expensive:!0}),a=(0,n.useMemo)(()=>(0,A.Yb)(i,e.absoluteBounds),[e.absoluteBounds,i]),o=(0,n.useMemo)(()=>(0,A.ZT)(a,i),[a,i]),l=(0,n.useMemo)(()=>{if(!a)return{};let e=a.x+i.x,r=a.y+i.y;return{width:a.width,height:a.height,position:"fixed",transform:`translate(${e}px, ${r}px)`,pointerEvents:"none",zIndex:t?1:0}},[i.x,i.y,a,t]);return o?n.createElement("div",{style:l},n.createElement("div",{style:{pointerEvents:"all"}},r({viewportZoom:i.zoomScale}))):null}var N=r(860168),O=r(676905);let L=32,R=7.5,P=256;var k=(e=>(e.DEFAULT="default",e.HOVERED="hovered",e.SELECTED="selected",e.DIMMED="dimmed",e))(k||{}),D=(e=>(e.LARGE="large",e.MEDIUM="medium",e.SMALL="small",e.X_SMALL="xSmall",e))(D||{});function M({clientHeight:e,scrollHeight:t,scrollTop:r}){return 1>Math.abs(t-e-r)}function x({nodeVoteInfo:e,isMostVoted:t,isSelected:r,isHoveredInModal:i,isOtherPinSelected:a,selectPin:o,deselectPin:l,nodePosition:s,currentUserId:c}){let[d,u]=(0,n.useState)(!1),[p,m]=(0,n.useState)(d),[_,h]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!d){m(!1);return}let e=setTimeout(()=>m(!0),100);return()=>clearTimeout(e)},[d]);let f=(0,n.useCallback)(()=>o(e.guid),[o,e.guid]),E=(0,n.useCallback)(()=>l(e.guid),[l,e.guid]),y=r?"selected":p||i?"hovered":a?"dimmed":"default",b="selected"===y||"hovered"===y;return(0,n.useEffect)(()=>{b&&!_?(g.ofk.setVoteStampsHiddenOnVotedNode(e.guid,!0),h(!0)):!b&&_&&(g.ofk.setVoteStampsHiddenOnVotedNode(e.guid,!1),h(!1))},[b,_,e.guid]),n.createElement(C,{nodePosition:s,isExpanded:["selected","hovered"].includes(y)},({viewportZoom:r})=>n.createElement(F,{recordingKey:`votePin-nodeId${e.guid}`,nodeVoteInfo:e,isMostVoted:t,pinState:y,setIsHovered:u,selectPin:f,deselectPin:E,viewportSize:r>.75?"large":r>.5?"medium":r>.25?"small":"xSmall",currentUserId:c}))}let F=n.memo(function({nodeVoteInfo:e,isMostVoted:t,pinState:r,setIsHovered:i,selectPin:s,deselectPin:p,viewportSize:_,currentUserId:g,recordingKey:f}){let E=(0,n.useRef)(null),y=(0,n.useRef)(null),[b,v]=(0,n.useState)(0),[I,T]=(0,n.useState)(!1),[w,A]=(0,n.useState)(!0),[C,P]=(0,n.useState)(0),[k,D]=(0,n.useState)(!1),x=(0,S.oC)(e),F={large:{paddingTop:"2px",paddingBottom:"2px",paddingLeft:"10px",paddingRight:"10px"},medium:{paddingTop:"1px",paddingBottom:"1px",paddingLeft:"8px",paddingRight:"8px"},small:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"7px",paddingRight:"7px"},xSmall:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"6px",paddingRight:"6px"}}[_],V={large:1,medium:.9,small:.8,xSmall:.7}[_];(0,n.useEffect)(()=>{if("selected"!==r)return;let e=e=>{(0,h.n3)(e.target,E.current)||p()};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[r,p,e.guid]);let W=t?m.sx.colorBgvotingtertiary.$.backgroundColor:m.sx.colorBg.$.backgroundColor,K={default:{transform:`scale(${V})`,backgroundColor:W,borderColor:W,opacity:1,...F},dimmed:{transform:`scale(${V})`,backgroundColor:W,borderColor:W,opacity:.5,...F},hovered:{transform:"scale(1)",backgroundColor:W,borderColor:W,opacity:1,paddingTop:"8px",paddingBottom:"12px",paddingLeft:"16px",paddingRight:"0px"},selected:{transform:"scale(1)",backgroundColor:W,...m.sx.colorBorderSelectedStrong.$,opacity:1,paddingTop:"8px",paddingBottom:"12px",paddingLeft:"16px",paddingRight:"0px"}},Y={default:{width:"0px",height:"0px",marginLeft:"0px",marginRight:"0px",opacity:0},dimmed:{width:"0px",height:"0px",marginLeft:"0px",marginRight:"0px",opacity:0},hovered:{width:N.$tX,height:N.$tX,marginLeft:"8px",marginRight:"12px",opacity:0},selected:{width:N.$tX,height:N.$tX,marginLeft:"8px",marginRight:"12px",opacity:1}},j=(0,n.useMemo)(()=>{let t=(0,S.zi)(g);return Object.entries(e.userIdToNodeVotes).sort((e,r)=>t(e[0],r[0]))},[e.userIdToNodeVotes,g]),z=j.length>3,$=z?j.slice(0,2):j,Z=z?j.slice(2):[],q={hovered:{height:`${L}px`},selected:{height:"auto"}},J=(0,n.useCallback)(e=>{var t,r;let n=0!==e;n!==I&&T(n);let i=null==(t=y.current)?void 0:t.getScrollHeight(),a=null==(r=y.current)?void 0:r.getTrackHeight(),o=void 0===i||void 0===a||M({clientHeight:a,scrollHeight:i,scrollTop:e});o!==w&&A(o)},[I,w]),X=(0,n.useCallback)(e=>{if(!e||!y.current){T(!1),A(!0);return}let t=y.current.getScrollTop(),r=y.current.getScrollHeight(),n=y.current.getTrackHeight();T(0!==t),A(M({clientHeight:n,scrollHeight:r,scrollTop:t}))},[]);return n.createElement(a.x,{transition:{duration:.1,ease:"easeInOut"}},n.createElement("div",{role:"button",tabIndex:0,className:O.UD,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:c.rf(f,"click",s),ref:E,style:{transform:`translateX(${10-b}px)`}},n.createElement(o.P.div,{className:O.yM,initial:!1,animate:r,variants:K},n.createElement("p",{className:O.wx},n.createElement(U,{numTotalVotes:x,isMostVoted:t}),n.createElement(o.P.span,{className:O.cG,initial:!1,animate:r,variants:Y},"selected"===r&&n.createElement(d.Jn,{className:t?O.E1:void 0,onClick:e=>{e.stopPropagation(),p(),i(!1)}}))),n.createElement(l.N,null,["selected","hovered"].includes(r)&&n.createElement(n.Fragment,null,n.createElement(o.P.div,{className:O.W0,animate:"selected"===r&&I&&!k?"scrolled":"notScrolled",initial:{marginTop:"0px",opacity:0},variants:{notScrolled:{marginTop:"4px",opacity:0},scrolled:{marginTop:"4px",opacity:1}},exit:{marginTop:"0px",opacity:0}}),n.createElement(o.P.div,{className:O.sI,initial:{width:"0px",height:"0px",opacity:0,transform:`scale(${1/V})`},animate:{width:"240px",height:"auto",opacity:1,transform:"scale(1)"},exit:{width:"0px",height:"0px",opacity:0,transform:`scale(${1/V})`}},n.createElement(u.P,{ref:y,maxHeight:L*R,width:240,allowScrollAndZoomOver:!0,onScroll:J,onCanScrollChange:X,forceRerenderCount:C},n.createElement("ul",{className:O.hQ},$.map(([e,t])=>n.createElement(H,{key:e,userId:e,nodeVotes:t})),z&&n.createElement(o.P.div,{initial:!1,animate:r,variants:q,onAnimationStart:()=>D(!0),onAnimationComplete:()=>{D(!1),P(e=>e+1)}},"hovered"===r&&n.createElement(G,{overflowCount:j.length-$.length}),"selected"===r&&Z.map(([e,t])=>n.createElement(H,{key:e,userId:e,nodeVotes:t})))))),n.createElement(o.P.div,{className:O.W0,animate:"selected"!==r||w||k?"hide":"show",initial:{opacity:0},variants:{show:{opacity:1},hide:{opacity:0}},exit:{opacity:0}}))))),n.createElement(B,{reportWidth:v,numTotalVotes:x,isMostVoted:t,scale:V,padding:F}))});function U({numTotalVotes:e,isMostVoted:t}){return n.createElement("span",{className:O.TK},n.createElement("span",null,n.createElement(p.Tx,{id:"voting.pin.votes",numVotes:e})),t&&n.createElement("img",{src:T.Ys,className:O.C0,alt:(0,p.t)("voting.pin.medal_img_alt")}))}function B({reportWidth:e,numTotalVotes:t,isMostVoted:r,scale:i,padding:a}){let o=n.useRef(null);return n.useLayoutEffect(()=>{let t=o.current;if(t){let{width:r}=t.getBoundingClientRect();window.myEl=t,e(r)}},[o,t,r,i,a.paddingLeft,a.paddingRight,a.paddingTop,a.paddingBottom,e]),n.createElement("div",{className:O.D9,style:{transform:`scale(${i})`},"aria-hidden":!0},n.createElement("span",{style:a,ref:o},n.createElement(U,{numTotalVotes:t,isMostVoted:r})))}function H({userId:e,nodeVotes:t}){let r=t.length>3,i=r?t.slice(0,2):t,a=t.length-2;return n.createElement("li",{key:e,className:O.QE},n.createElement(V,{userId:e}),n.createElement("div",{className:O.WK},i.map(e=>n.createElement(W,{key:e,stampId:e})),r&&n.createElement("span",{className:O._v},a)))}function V({userId:e}){let{user:t,loading:r}=(0,E.wW)(e);return n.createElement(n.Fragment,null,n.createElement(I.v,{userId:e,user:t,loading:r,size:24,loadingClassName:O.SD}),n.createElement(I.m,{userId:e,user:t,loading:r,defaultClassName:O.nT,loadingClassName:O.fK}))}function G({overflowCount:e}){return n.createElement("li",{className:O.Qf},n.createElement("div",{className:O.EA},n.createElement(T.xL,null)),n.createElement("span",{className:O.iG},n.createElement(p.Tx,{id:"voting.pin.voter_list_overflow",numOverflowingVoters:e})))}function W({stampId:e}){let t=(0,s.fU)(),r=(0,y.Fk)((e,t)=>{let r=e.get(t);return r?r.name:null},e),i=(()=>{let e=v.WJ.find(e=>e.label===r);return e&&(0,b.k6)(e,t)||v.tR})(),a=r?(0,p.t)("voting.pin.stamp_preview_alt_with_type",{stampType:r}):(0,p.t)("voting.pin.stamp_preview_alt_without_type");return n.createElement("img",{className:O.O8,src:i,alt:a})}function K({votedNodes:e,votingStage:t,selectedNodeId:r,currentUserId:a}){let o=(0,i.wA)(),l=(0,i.d4)(e=>e.voting.hoveredInModalVotePinId),s=(0,n.useMemo)(()=>(0,S.yn)(e),[e]),c=(0,n.useCallback)(e=>o(_.w9({votePinId:e})),[o]),d=(0,n.useCallback)(e=>o(_.rT({votePinId:e})),[o]),u=function({votedNodes:e}){let[t,r]=(0,n.useState)({}),i=(0,n.useMemo)(()=>e.map(e=>e.guid),[e]);return(0,n.useEffect)(()=>{if(!i.length){r({});return}let e="vote-pins",t=(0,w.EE)(e,i,e=>{r(t=>({...t,[e.nodeId]:e.position}))});return r(Object.entries(t.currentNodePosition).reduce((e,[t,r])=>(r&&(e[t]=r.position),e),{})),()=>{(0,w.lB)(e)}},[i]),t}({votedNodes:e});return n.createElement(n.Fragment,null,e.map(e=>{let i=u[e.guid];if(!i)return null;let o=1===s.size&&s.has(e.guid)&&t===f.W8Y.ENDED;return n.createElement(x,{key:e.guid,nodeVoteInfo:e,isMostVoted:o,isSelected:r===e.guid,isHoveredInModal:l===e.guid,isOtherPinSelected:!!r&&r!==e.guid,selectPin:c,deselectPin:d,nodePosition:i,currentUserId:a})}))}},599486:(e,t,r)=>{"use strict";r.d(t,{BV:()=>l,CB:()=>C,Cu:()=>R,D5:()=>f,EW:()=>m,G7:()=>i,Gg:()=>L,H$:()=>k,H0:()=>c,HK:()=>M,I5:()=>H,JK:()=>A,Mi:()=>I,N$:()=>s,QD:()=>U,QZ:()=>x,R8:()=>P,Un:()=>w,Vq:()=>F,Yl:()=>g,Ys:()=>a,_K:()=>h,ak:()=>v,c1:()=>O,dA:()=>S,dH:()=>p,h9:()=>_,kj:()=>E,lm:()=>N,pt:()=>b,qn:()=>T,rQ:()=>y,sJ:()=>B,xL:()=>o,xf:()=>u,yc:()=>d,zp:()=>D});var n=r(411855);let i="https://static.figma.com/uploads/054596349bf8a2ae155aa7818cf2a3cbf483a9f4",a="https://static.figma.com/uploads/295306027f272a9b0931ddec9321361f7cd8299b";function o(){return n.createElement("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 3.5C8.5 4.88071 7.38071 6 6 6C4.61929 6 3.5 4.88071 3.5 3.5C3.5 2.11929 4.61929 1 6 1C7.38071 1 8.5 2.11929 8.5 3.5ZM9.5 3.5C9.5 5.433 7.933 7 6 7C4.067 7 2.5 5.433 2.5 3.5C2.5 1.567 4.067 0 6 0C7.933 0 9.5 1.567 9.5 3.5ZM17 5C17 6.10457 16.1046 7 15 7C13.8954 7 13 6.10457 13 5C13 3.89543 13.8954 3 15 3C16.1046 3 17 3.89543 17 5ZM18 5C18 6.65685 16.6569 8 15 8C13.3431 8 12 6.65685 12 5C12 3.34315 13.3431 2 15 2C16.6569 2 18 3.34315 18 5ZM13.2108 10.4215C13.7492 10.1518 14.3569 10 15 10C17.2091 10 19 11.7909 19 14H20C20 11.2386 17.7614 9 15 9C14.1612 9 13.3706 9.20657 12.6763 9.57162C12.8743 9.83933 13.0532 10.1234 13.2108 10.4215ZM12 14H11C11 11.2386 8.76142 9 6 9C3.23858 9 1 11.2386 1 14H0C0 10.6863 2.68629 8 6 8C9.31371 8 12 10.6863 12 14Z"}))}function l({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4137_211384)"},n.createElement("g",{clipPath:"url(#clip1_4137_211384)"},n.createElement("rect",{width:"64",height:"64",transform:"translate(0 16.3726) rotate(-15)",fill:e}),n.createElement("rect",{x:"12.7651",y:"25.3755",width:"44",height:"6",transform:"rotate(-15 12.7651 25.3755)",fill:"black",fillOpacity:"0.15"}),n.createElement("rect",{x:"15.871",y:"36.9666",width:"32",height:"6",transform:"rotate(-15 15.871 36.9666)",fill:"black",fillOpacity:"0.15"}))),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4137_211384"},n.createElement("rect",{width:"40",height:"72",fill:"white"})),n.createElement("clipPath",{id:"clip1_4137_211384"},n.createElement("rect",{width:"64",height:"64",fill:"white",transform:"translate(0 16.3726) rotate(-15)"}))))}function s(){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4119_210884)"},n.createElement("rect",{x:"1.93188",y:"17.8704",width:"40",height:"40",rx:"8",transform:"rotate(-15 1.93188 17.8704)",fill:"white"}),n.createElement("rect",{x:"4.65869",y:"35.7747",width:"4",height:"4",transform:"rotate(-15 4.65869 35.7747)",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M6.55591 33.1958L4.61477 25.9514C3.47123 21.6836 5.43444 17.4495 9.59547 16.3346L33.1641 10.0194C37.3251 8.90444 41.1423 11.5897 42.2859 15.8574L44.227 23.1019",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{d:"M8.62646 40.9232L10.5676 48.1676C11.7111 52.4354 15.5284 55.1206 19.6894 54.0057L43.258 47.6905C47.419 46.5755 49.3822 42.3414 48.2387 38.0737L46.2976 30.8293",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.2731 19.058L14.8865 23.7167L15.4041 25.6486L23.1315 23.578L28.3079 42.8965L30.2398 42.3789L25.0634 23.0604L32.7908 20.9898L32.2731 19.058Z",fill:"black",fillOpacity:"0.8"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4119_210884"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function c(){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4119_210979)"},n.createElement("rect",{x:"0.87391",y:"13.0737",width:"10",height:"10",rx:"2",transform:"rotate(-15.0378 0.87391 13.0737)",fill:"white",stroke:"#0D99FF",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("rect",{x:"17.4791",y:"74.8821",width:"10",height:"10",rx:"2",transform:"rotate(-15.0378 17.4791 74.8821)",fill:"white",stroke:"#0D99FF",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.6782 27.9006L46.2859 22.7045L48.2177 22.1868L49.5833 27.2831L54.6798 25.9175L55.1974 27.8493L50.0013 29.2416L49.5104 27.4096L47.6782 27.9006ZM32.6806 33.8827L27.4845 35.275L26.9668 33.3431L32.0632 31.9775L30.6977 26.8814L32.6296 26.3637L34.0219 31.5598L34.1216 31.5331L47.5783 27.9274L49.5101 27.4097L50.0278 29.3416L53.6335 42.7982L54.1511 44.7301L52.2193 45.2477L38.7626 48.8534L36.8308 49.3711L36.8308 49.3711L38.6628 48.8802L40.0551 54.0763L38.1232 54.594L36.7577 49.4977L31.6615 50.8632L31.1438 48.9314L36.3399 47.5391L36.3131 47.4392L32.7074 33.9826L32.1898 32.0507L32.1897 32.0508L32.6806 33.8827ZM48.0959 29.8592L34.6393 33.4649L38.245 46.9216L51.7016 43.3159L48.0959 29.8592ZM54.278 44.8033L59.3744 43.4378L58.8568 41.5059L53.6607 42.8982L54.1515 44.73L52.3193 45.221L53.7116 50.4171L55.6435 49.8994L54.278 44.8033Z",fill:"#0D99FF"}),n.createElement("rect",{x:"7",y:"16.6052",width:"64",height:"64",transform:"rotate(-15.0378 7 16.6052)",stroke:"#0D99FF",strokeWidth:"2"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4119_210979"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function d(){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4121_211214)"},n.createElement("rect",{x:"0.87391",y:"13.0737",width:"10",height:"10",rx:"2",transform:"rotate(-15.0378 0.87391 13.0737)",fill:"white",stroke:"#9747FF",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("rect",{x:"17.4789",y:"74.8821",width:"10",height:"10",rx:"2",transform:"rotate(-15.0378 17.4789 74.8821)",fill:"white",stroke:"#9747FF",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.8154 33.1697L40.4705 25.1453L48.5141 29.7671L43.859 37.7915L35.8154 33.1697ZM37.1696 49.4156L29.1452 44.7605L33.767 36.7169L41.7914 41.372L37.1696 49.4156ZM53.4151 48.061L48.76 56.0855L40.7164 51.4636L45.3715 43.4392L53.4151 48.061ZM60.0855 36.4702L52.0611 31.8151L47.4393 39.8587L55.4637 44.5138L60.0855 36.4702Z",fill:"#8638E5"}),n.createElement("rect",{x:"7",y:"16.6052",width:"64",height:"64",transform:"rotate(-15.0378 7 16.6052)",stroke:"#9747FF",strokeWidth:"2"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4121_211214"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function u(){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4591_210267)"},n.createElement("rect",{x:"-2",y:"15.4233",width:"48",height:"48",rx:"9.6",transform:"rotate(-15 -2 15.4233)",fill:"white"}),n.createElement("rect",{x:"-1.26515",y:"15.8476",width:"46.8",height:"46.8",rx:"9",transform:"rotate(-15 -1.26515 15.8476)",stroke:"black",strokeOpacity:"0.2",strokeWidth:"1.2"}),n.createElement("circle",{cx:"31.4811",cy:"24.4658",r:"4.2",transform:"rotate(-15 31.4811 24.4658)",stroke:"black",strokeOpacity:"0.8",strokeWidth:"2.4"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.606 20.7418L36.1064 13.909C37.3868 13.566 38.7028 14.3258 39.0458 15.6061L45.8786 41.1065C46.2217 42.3868 45.4619 43.7028 44.1816 44.0459L42.4018 44.5228L21.5894 30.0419L20.6167 29.3651L19.9277 30.3293L13.2094 39.7307L8.90894 23.6812C8.56588 22.4009 9.32568 21.0849 10.606 20.7418ZM14.0138 42.7329L15.7418 49.1817C16.0848 50.462 17.4008 51.2218 18.6812 50.8787L39.368 45.3357L21.1914 32.6888L14.0138 42.7329ZM6.59072 24.3024C5.9046 21.7418 7.4242 19.1097 9.98483 18.4236L35.4853 11.5908C38.0459 10.9047 40.6779 12.4243 41.364 14.9849L48.1969 40.4854C48.883 43.046 47.3634 45.678 44.8028 46.3641L19.3023 53.197C16.7417 53.8831 14.1097 52.3635 13.4235 49.8028L6.59072 24.3024Z",fill:"black",fillOpacity:"0.8"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4591_210267"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function p({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4121_211235)"},n.createElement("rect",{y:"16.5644",width:"64",height:"64",rx:"3",transform:"rotate(-15 0 16.5644)",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4121_211235"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function m({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4171_210078)"},n.createElement("rect",{x:"-5.5",y:"14.4346",width:"88.7204",height:"72.0853",rx:"25.2992",transform:"rotate(-15 -5.5 14.4346)",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4171_210078"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function _({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4171_210088)"},n.createElement("path",{d:"M16.5562 8.25247C16.8973 6.92671 18.0926 6 19.4615 6L89.4516 6C91.4118 6 92.8454 7.84915 92.357 9.74752L73.765 82.0085C73.4239 83.3342 72.2286 84.2609 70.8596 84.2609H0.869569C-1.09063 84.2609 -2.52423 82.4118 -2.0358 80.5134L16.5562 8.25247Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4171_210088"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function h({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4173_210152)"},n.createElement("path",{d:"M75.9438 8.25247C75.6027 6.92671 74.4074 6 73.0385 6L3.04841 6C1.08821 6 -0.34539 7.84915 0.143036 9.74752L18.735 82.0085C19.0761 83.3342 20.2714 84.2609 21.6404 84.2609H91.6304C93.5906 84.2609 95.0242 82.4118 94.5358 80.5134L75.9438 8.25247Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4173_210152"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function g({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4119_210848)"},n.createElement("circle",{cx:"40",cy:"46",r:"40",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4119_210848"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function f({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4119_210856)"},n.createElement("g",{clipPath:"url(#clip1_4119_210856)"},n.createElement("path",{d:"M18.693 6.40686C19.2012 4.50766 21.9085 3.78226 23.2982 5.17292L82.5015 64.4167C83.7556 65.6717 82.9788 67.752 81.0647 68.2649L0.211739 89.9294C-1.70237 90.4423 -3.41521 89.029 -2.95662 87.3152L18.693 6.40686Z",fill:e}))),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4119_210856"},n.createElement("rect",{width:"40",height:"72",fill:"white"})),n.createElement("clipPath",{id:"clip1_4119_210856"},n.createElement("rect",{width:"89.0428",height:"77.1705",fill:"white",transform:"translate(-22.3394 16.0794) rotate(-15)"}))))}function E({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4121_211255)"},n.createElement("path",{d:"M51.3523 84.6094C52.5437 86.3294 55.5163 86.0834 56.4088 84.191L94.4305 3.57293C95.2359 1.86524 93.7104 0.0603115 91.6086 0.234234L2.83059 7.58081C0.728861 7.75473 -0.479214 9.78588 0.59593 11.3379L51.3523 84.6094Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4121_211255"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function y({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4119_210865)"},n.createElement("ellipse",{cx:"36.0212",cy:"10.0459",rx:"36.2221",ry:"8.35894",transform:"rotate(-15 36.0212 10.0459)",fill:e}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72.0853 4.68736C67.4361 9.37258 54.7615 15.1933 39.2535 19.3486C21.2873 24.2612 6.9678 24.914 1.84497 22.4498L15.4556 73.2452L15.4564 73.2483L15.4564 73.2483C16.6513 77.7075 33.2845 77.1251 52.6077 71.9474C71.9309 66.7698 86.6269 58.9575 85.4321 54.4984L72.0853 4.68736Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4119_210865"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function b({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4171_210106)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30957 14.019C11.2258 17.2597 17.7809 30.6301 22.2705 47.3855C27.6619 67.5064 28.033 84.8893 23.0994 86.2112C22.8341 86.2823 22.5589 86.3055 22.2747 86.2826L22.3557 86.5848L94.06 67.3717L94.072 67.3685L94.0839 67.3652L94.4168 67.276L94.4086 67.2455C98.6089 65.2803 97.911 48.5964 92.7387 29.2931C87.5664 9.98975 79.8288 -4.80791 75.2087 -4.40965L75.2005 -4.44026L6.30957 14.019Z",fill:e}),n.createElement("ellipse",{rx:"37.1231",ry:"8.56687",transform:"matrix(-0.258819 -0.965926 -0.965926 0.258819 12.747 50.7267)",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4171_210106"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function v({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4121_211283)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M67.808 -0.216748L71.1184 12.1379L84.015 60.2684C84.2789 61.2533 83.6944 62.2656 82.7096 62.5295L14.95 80.6856C13.9636 80.9499 12.9501 80.3633 12.6879 79.3764L0.985107 35.3241L17.2244 30.9728C18.2736 30.6916 18.8962 29.6132 18.6151 28.564L14.2374 12.2262L65.5469 -1.52218C66.5318 -1.78607 67.5441 -1.20161 67.808 -0.216748ZM14.1879 12.2394L12.5651 12.6743L12.5663 12.6788L14.1879 12.2394Z",fill:e}),n.createElement("path",{d:"M0.453613 33.7343L15.3437 29.7445C16.2999 29.4883 16.8674 28.5054 16.6112 27.5492L12.6214 12.6591L0.453613 33.7343Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4121_211283"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function I({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4121_211302)"},n.createElement("path",{d:"M1.59945 13.1347C1.69191 12.2997 2.28702 11.6068 3.09854 11.3894L33.2368 3.31384C34.0484 3.09639 34.9102 3.39889 35.4078 4.07583L43.442 15.006L0.106658 26.6177L1.59945 13.1347Z",fill:e}),n.createElement("path",{d:"M0.49585 28.071L77.3176 7.48667C78.4055 7.19517 79.5237 7.84077 79.8152 8.92866L93.0608 58.3616C93.3523 59.4495 92.7067 60.5677 91.6188 60.8592L16.7668 80.9157C15.6789 81.2072 14.5607 80.5616 14.2692 79.4737L0.49585 28.071Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4121_211302"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function T({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10125)"},n.createElement("path",{d:"M114.56 0.523225L5.97986 10.0227C2.09706 10.3624 -0.43629 14.2562 0.826349 17.9436L23.8419 80.1745C24.7355 82.7842 27.2933 84.4483 30.0413 84.2079L103.746 77.7596C106.494 77.5192 108.724 75.4361 109.151 72.7109L121.01 7.42886C121.613 3.57818 118.442 0.183524 114.56 0.523225Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10125"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function S({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1_2)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.0018 18.1129C2.35849 15.712 3.7829 13.2449 6.18378 12.6015L8.11564 12.0839L28.0447 86.4602L26.1128 86.9778C23.712 87.6211 21.2448 86.1967 20.6015 83.7958L3.0018 18.1129ZM30.9425 85.6837L11.0134 11.3074L67.0371 -3.70406L86.9662 70.6722L30.9425 85.6837ZM89.864 69.8958L69.9349 -4.48052L71.8667 -4.99815C74.2676 -5.64147 76.7348 -4.21705 77.3781 -1.81617L94.9778 63.8668C95.6211 66.2677 94.1967 68.7348 91.7958 69.3781L89.864 69.8958Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1_2"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function w({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_9936)"},n.createElement("path",{d:"M1.28373 39.4007L27.401 4.53364C29.0584 2.33788 31.9967 1.55056 34.5299 2.62346L74.5817 19.7606C76.9322 20.7561 78.3955 23.1298 78.2289 25.677L74.5428 65.0534C74.3751 67.6187 72.5917 69.7921 70.1085 70.4574L30.506 81.0689C28.0228 81.7343 25.3917 80.7438 23.9638 78.606L1.08334 46.3481C-0.334505 44.2255 -0.254107 41.4381 1.28373 39.4007Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_9936"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function A({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_9948)"},n.createElement("path",{d:"M77.1821 12.7227L54.9038 -0.139714C53.5257 -0.935364 51.8879 -1.15098 50.3509 -0.739117L23.3659 6.49148C21.8288 6.90334 20.5183 7.90893 19.7227 9.28704L6.8603 31.5654C6.06465 32.9435 5.84904 34.5812 6.2609 36.1183L13.4915 63.1032C13.9034 64.6403 14.9089 65.9508 16.2871 66.7465L38.5654 79.6089C39.9435 80.4045 41.5812 80.6201 43.1183 80.2083L70.1032 72.9777C71.6403 72.5658 72.9508 71.5602 73.7465 70.1821L86.6089 47.9038C87.4045 46.5257 87.6201 44.888 87.2083 43.3509L79.9777 16.3659C79.5658 14.8288 78.5602 13.5183 77.1821 12.7227Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_9948"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function C({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_9990)"},n.createElement("path",{d:"M4.38961 47.4437L8.7529 18.3221C9.07419 15.9214 10.8074 13.9494 13.147 13.3225L79.3093 -4.40567C81.6489 -5.03256 84.1359 -4.1913 85.6145 -2.2729L103.954 20.7655C104.931 22.033 105.361 23.6381 105.149 25.2242L100.785 54.3458C100.464 56.7465 98.7309 58.7186 96.3914 59.3454L30.229 77.0736C27.8895 77.7005 25.4024 76.8592 23.9238 74.9408L5.58431 51.9024C4.60744 50.635 4.17733 49.0298 4.38961 47.4437Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_9990"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function N({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10069)"},n.createElement("path",{d:"M78.3034 46.7945L75.2573 11.9772C74.9685 8.67607 72.0583 6.23413 68.7572 6.52293L5.97724 12.0155C2.67614 12.3043 0.234196 15.2145 0.523004 18.5156L3.56912 53.3329C3.75676 55.4776 5.07913 57.3574 7.03428 58.2588L40.0733 74.3612C42.003 75.2509 44.2594 75.0535 46.0054 73.8422L75.7463 52.2473C77.5152 51.0201 78.4911 48.9392 78.3034 46.7945Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10069"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function O({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10082)"},n.createElement("path",{d:"M53.8362 -0.906348L28.8877 3.49274C25.6243 4.06816 23.4453 7.18012 24.0207 10.4435L25.9888 21.6046C26.5642 24.868 24.3852 27.98 21.1218 28.5554L9.96064 30.5234C6.69727 31.0988 4.51826 34.2108 5.09368 37.4741L9.49277 62.4226C10.0682 65.686 13.1801 67.865 16.4435 67.2896L27.6047 65.3216C30.868 64.7461 33.98 66.9252 34.5554 70.1885L36.5234 81.3496C37.0988 84.613 40.2108 86.792 43.4741 86.2166L68.4226 81.8175C71.686 81.2421 73.865 78.1301 73.2896 74.8668L71.3216 63.7056C70.7462 60.4423 72.9252 57.3303 76.1885 56.7549L87.3497 54.7869C90.613 54.2115 92.792 51.0995 92.2166 47.8362L87.8175 22.8877C87.2421 19.6243 84.1302 17.4453 80.8668 18.0207L69.7057 19.9887C66.4423 20.5641 63.3304 18.3851 62.7549 15.1218L60.7869 3.96061C60.2115 0.697243 57.0996 -1.48177 53.8362 -0.906348Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10082"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function L({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10095)"},n.createElement("path",{d:"M53.9511 20.3098L42.1525 3.16336C39.1912 0.00572091 33.9624 0.927699 32.2597 4.90774L27.0372 25.0555C26.4488 26.4308 25.3678 27.5367 24.0063 28.1564L3.71302 33.8825C-0.294145 35.7063 -1.03771 41.0813 2.32381 43.9245L20.084 54.7429C21.247 55.7266 21.9924 57.1158 22.1689 58.6287L21.3874 79.2433C21.8923 83.5712 26.6965 85.9346 30.4331 83.6935L46.7061 70.2694C47.9748 69.5084 49.4799 69.243 50.9323 69.5242L70.8153 76.573C75.0931 77.401 78.7991 73.537 77.7934 69.2974L70.0084 50.1933C69.6568 48.7113 69.8821 47.1509 70.6385 45.8288L83.6275 29.5885C85.8139 25.767 83.2768 20.9705 78.8875 20.6272L57.8597 22.1872C56.3683 22.0705 54.9743 21.401 53.9511 20.3098Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10095"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function R({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10138)"},n.createElement("path",{d:"M12.85 78.4563L1.39908 13.5151C0.701528 9.55913 4.01276 6.04841 8.00276 6.51361L106.493 17.9966C109.127 18.3037 111.247 20.3031 111.707 22.9144L118.224 59.876C118.8 63.1393 116.621 66.2513 113.357 66.8267L19.8007 83.3233C16.5373 83.8987 13.4254 81.7197 12.85 78.4563Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10138"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function P({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10170)"},n.createElement("path",{d:"M3.52293 10.7657C3.23413 7.46464 5.67607 4.55445 8.97717 4.26564L88.0582 -2.65305C91.3593 -2.94186 94.2695 -0.499919 94.5583 2.80118L98.93 52.7701C99.3106 57.1197 95.0142 60.5495 90.7364 59.6753C85.6875 58.6434 79.1215 57.7867 72.6631 58.3517C59.3871 59.5132 46.8006 72.394 33.8579 73.5263C25.4977 74.2577 16.8948 72.2143 12.2232 70.8232C10.0275 70.1694 8.54803 68.2028 8.34835 65.9205L3.52293 10.7657Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10170"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function k({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10181)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.3176 14.6705C1.88439 9.71881 5.54731 5.35352 10.499 4.92031L74.9606 -0.719357C77.7924 -0.967105 80.3366 0.794636 81.185 3.38441L12.8314 9.36458C8.98009 9.70152 6.13115 13.0967 6.4681 16.948L10.3685 61.53L7.72221 60.9899C6.90554 60.8233 6.29563 60.1395 6.22298 59.3092L2.3176 14.6705ZM13.0928 12.3532L15.0852 12.1789L81.6029 6.35932L83.1972 6.21983C86.4983 5.93102 89.4085 8.37296 89.6973 11.6741L93.3699 53.6516C93.7502 57.9988 89.453 61.4325 85.1642 60.627C80.8923 59.8246 75.5894 59.2269 70.3662 59.6838C64.4909 60.1979 58.7686 63.3152 53.0827 66.4127C47.4685 69.4711 41.8899 72.5101 36.2345 73.0049C29.1375 73.6258 21.8422 71.9786 17.6488 70.7666C15.4459 70.1298 13.96 68.1595 13.7601 65.8752L13.4347 62.1558L9.63099 18.679L9.45668 16.6866C9.26414 14.4858 10.8921 12.5457 13.0928 12.3532Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10181"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function D({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10194)"},n.createElement("path",{d:"M13.5958 79.9017C8.77167 80.3237 5.46072 75.1516 7.86364 70.9473L21.5019 47.0847C22.744 44.9115 22.5064 42.1954 20.9058 40.2709L3.33102 19.1391C0.234531 15.4159 2.59704 9.74744 7.42117 9.32538L90.1645 2.08628C92.2987 1.89955 94.3706 2.86499 95.6004 4.61925L115.109 32.4478C116.341 34.205 116.541 36.4863 115.633 38.4307L101.253 69.2241C100.346 71.1653 98.4734 72.4758 96.3391 72.6626L13.5958 79.9017Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10194"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function M({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_2094_1753)"},n.createElement("path",{d:"M16.731 20.0212C13.2433 16.3882 7.10166 18.409 6.4527 23.4032L1.37881 62.4502C0.884517 66.2541 4.03759 69.5386 7.85853 69.1999L47.08 65.7235C52.0965 65.2788 54.3663 59.2248 50.8786 55.5917L46.4318 50.9596L85.863 13.1058C88.2534 10.811 88.331 7.01278 86.0361 4.62231L69.0925 -13.0273C66.7977 -15.4178 62.9995 -15.4953 60.609 -13.2005L21.1778 24.6533L16.731 20.0212Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2094_1753"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function x({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_2094_1725)"},n.createElement("path",{d:"M52.9651 15.8477L35.2998 41.0764L59.9709 58.3513C64.1126 51.7654 65.9172 43.6796 64.4598 35.4144C63.0477 27.4063 58.8158 20.6037 52.9651 15.8477ZM49.7126 13.5191L32.0232 38.7821L6.79163 21.1147C11.5638 14.9703 18.5448 10.5091 26.81 9.05173C35.0608 7.59689 43.133 9.39265 49.7126 13.5191ZM4.53573 24.4182L29.7289 42.0587L12.4783 66.6951C6.35043 61.9235 1.90212 54.9524 0.447277 46.7016C-0.962241 38.7078 0.67945 30.8817 4.53573 24.4182ZM15.779 68.955C22.2492 72.8262 30.089 74.4763 38.0971 73.0642C46.0909 71.6547 52.8835 67.4354 57.6382 61.601L33.0055 44.353L15.779 68.955Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2094_1725"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function F({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_2094_1739)"},n.createElement("path",{d:"M28.644 8.74898L34.0412 39.3575L64.2193 34.0363C62.5252 26.3602 58.0606 19.2724 51.1138 14.4082C44.3027 9.63898 36.299 7.84315 28.644 8.74898Z",fill:e}),n.createElement("path",{d:"M25.4365 9.29133L30.8376 39.9224L0.206747 45.3234C-0.826765 37.5308 0.944422 29.3435 5.80863 22.3967C10.6728 15.45 17.7605 10.9854 25.4365 9.29133Z",fill:e}),n.createElement("path",{d:"M0.79417 48.523L31.4025 43.126L36.7236 73.3038C28.9311 74.3373 20.7439 72.5661 13.7972 67.7019C6.98606 62.9327 2.56115 56.0261 0.79417 48.523Z",fill:e}),n.createElement("path",{d:"M39.9232 72.7164C47.4263 70.9495 54.3331 66.5246 59.1023 59.7134C63.8715 52.9023 65.6673 44.8987 64.7616 37.2438L34.606 42.5611L39.9232 72.7164Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2094_1739"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function U({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_2094_1770)"},n.createElement("path",{d:"M16.7681 5.48015C8.61136 6.30146 2.66482 13.5796 3.48613 21.7363L5.92497 45.9576C6.74628 54.1143 14.0244 60.0609 22.1811 59.2396L22.4765 59.2098L23.2086 66.48C23.4012 68.393 25.6685 69.2962 27.1238 68.0396L39.3133 57.5145L68.2606 54.5998C76.4174 53.7785 82.3639 46.5004 81.5426 38.3436L79.1038 14.1224C78.2825 5.96563 71.0043 0.01909 62.8476 0.840394L16.7681 5.48015Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2094_1770"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function B({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_2094_1787)"},n.createElement("path",{d:"M4.01281 14.3118C3.61202 11.0224 5.95368 8.03096 9.24306 7.63016L9.73939 7.56969L10.5256 14.022L4.07329 14.8081L4.01281 14.3118ZM4.43614 17.7861L12.7213 85.7832C13.122 89.0726 16.1135 91.4143 19.4029 91.0135L19.8992 90.953L10.8884 16.9999L4.43614 17.7861ZM13.8664 16.6371L22.8772 90.5902L106.757 80.3698C110.046 79.969 112.388 76.9776 111.987 73.6882L103.702 5.69107L13.8664 16.6371ZM103.339 2.71309L103.279 2.21676C102.878 -1.07262 99.8864 -3.41428 96.597 -3.01349L12.7174 7.20684L13.5035 13.6591L103.339 2.71309Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2094_1787"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function H(){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_5859_244544)"},n.createElement("g",{clipPath:"url(#clip1_5859_244544)"},n.createElement("rect",{x:"-0.191895",y:"16.3726",width:"64",height:"64.7102",rx:"4",transform:"rotate(-15 -0.191895 16.3726)",fill:"#2F2746"}),n.createElement("rect",{x:"12.5732",y:"25.3755",width:"44",height:"6",transform:"rotate(-15 12.5732 25.3755)",fill:"#514670"}),n.createElement("rect",{x:"23.4062",y:"34.8961",width:"32",height:"6",transform:"rotate(-15 23.4062 34.8961)",fill:"#514670"}),n.createElement("rect",{x:"26.5122",y:"46.4872",width:"32",height:"6",transform:"rotate(-15 26.5122 46.4872)",fill:"#514670"}),n.createElement("rect",{x:"21.8906",y:"60.1488",width:"6",height:"6",transform:"rotate(-15 21.8906 60.1488)",fill:"#514670"}))),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_5859_244544"},n.createElement("rect",{width:"40",height:"72",fill:"white"})),n.createElement("clipPath",{id:"clip1_5859_244544"},n.createElement("rect",{x:"-0.191895",y:"16.3726",width:"64",height:"64.7102",rx:"4",transform:"rotate(-15 -0.191895 16.3726)",fill:"white"}))))}},140871:(e,t,r)=>{"use strict";r.d(t,{C3:()=>o,NE:()=>s,jz:()=>l});var n=r(411855),i=r(188507),a=r(138020);function o(){let e=l();return null==e?void 0:e.find(e=>e.inProgress)}function l(){let e=(0,i.d4)(e=>e.mirror.appModel.pagesList),t=(0,n.useMemo)(()=>new Set(e.map(e=>e.nodeId)),[e]),r=(0,i.d4)(e=>{var t;return(null==(t=null==e?void 0:e.openFile)?void 0:t.votingSessions)||null});return(0,n.useMemo)(()=>r?r.filter(e=>t.has((0,a.oA)(e.pageNodeId)||"")):null,[t,r])}function s(){let e=(0,i.d4)(e=>e.mirror.appModel.pagesList),t=(0,n.useMemo)(()=>new Set(e.map(e=>e.nodeId)),[e]),r=(0,i.d4)(e=>{var t;return(null==(t=null==e?void 0:e.openFile)?void 0:t.votingSessions)||null});return(null==r?void 0:r.find(e=>e.inProgress&&!t.has((0,a.oA)(e.pageNodeId)||"")))||null}},522322:(e,t,r)=>{"use strict";r.d(t,{$_:()=>A,Av:()=>w,DG:()=>I,FJ:()=>P,Ld:()=>S,Pd:()=>D,YR:()=>k,e_:()=>C,hr:()=>N,oC:()=>O,yn:()=>L,zi:()=>R});var n=r(411855),i=r(188507),a=r(646240),o=r(563706),l=r(939863),s=r(662275),c=r(198371),d=r(396226),u=r(356390),p=r(852800),m=r(99506),_=r(984968),h=r(300874),g=r(239671),f=r(884129),E=r(900073),y=r(487392),b=r(368702),v=r(140871);function I(e){let t=(0,l.t)("voting.modal.voting_setup_responsive_placeholder_prompt",{numVotes:e.userVoteLimit});return e.title||t}let T=()=>!((0,o.wg)()||(0,o.o4)());function S(){let e=(0,v.jz)();return!!((null==e?void 0:e.length)&&(null==e?void 0:e.length)>0)}function w(){let e=C(),t=!!(0,v.C3)(),r=T()&&("eligible"===e||"eligibleWithUpgrade"===e),[i,a]=n.useState(t&&r);return n.useEffect(()=>{if(!t){a(!1);return}r&&a(!0)},[t,r]),r||i}var A=(e=>(e.FEATURE_DISABLED="featureDisabled",e.ELIGIBLE_WITH_MOVE_FILE_TO_PAID_TEAM="eligibleWithMoveFileToPaidTeam",e.ELIGIBLE_WITH_UPGRADE="eligibleWithUpgrade",e.ELIGIBLE="eligible",e))(A||{});function C(){let e=(0,i.d4)(e=>e.openFile),t=(0,i.d4)(t=>e&&e.teamId?t.teams[e.teamId]:null),r=(0,i.d4)(e=>e.isFreeUser),n=(0,c.DG)((null==e?void 0:e.key)||"").enabled,a=null==e?void 0:e.isTryFile,o=!!e&&(e.canEdit||n);return a||!o?"featureDisabled":e.parentOrgId?"eligible":t?(0,_.PS)(t)?"eligible":"eligibleWithUpgrade":r?"eligibleWithUpgrade":"eligibleWithMoveFileToPaidTeam"}function N(){var e;let t=(0,i.d4)(e=>e.mirror.appModel.votingSessionInfo),r=u.BI.getUserId(),n=r&&(null==(e=t.userIdToVoteStampIds[r])?void 0:e.length)||0;return t.userVoteLimit-n}function O(e){return Object.values(e.userIdToNodeVotes).reduce((e,t)=>e+t.length,0)}function L(e){return new Set(e.reduce((e,t)=>{let r=O(t),n=e.voteCount;return r<n?e:r>n?{voteCount:r,nodes:[t]}:{voteCount:n,nodes:[...e.nodes,t]}},{voteCount:0,nodes:[]}).nodes.map(e=>e.guid))}function R(e){return function(t,r){return t===e?-1:r===e?1:t.localeCompare(r)}}function P(){let e=(0,i.d4)(e=>e.mirror.appModel.votingSessionInfo.votingStage),t=(0,a.Xr)(E.Qs);n.useEffect(()=>{(e===p.W8Y.JOINED||e===p.W8Y.NOT_JOINED)&&t({type:"SET_VIEW",payload:E.iN.DEFAULT})},[e,t])}function k(){let e=(0,i.d4)(e=>e.mirror.appModel.votingSessionInfo.votingStage),t=(0,a.Xr)(E.Qs),r=(0,y.$3)(),o=(0,y.qU)();n.useEffect(()=>{e!==p.W8Y.ENDED||r||(t({type:"VOTING_ENDED"}),(0,b.D)(o))},[e,t,r,o])}function D(e){let t=C(),r=(0,i.d4)(e=>{var t;return null==(t=e.selectedView)?void 0:t.editorType}),a=(0,i.d4)(e=>e.openFile),o=(0,i.d4)(e=>a&&a.teamId?e.teams[a.teamId]:null),l=(0,i.wA)();return n.useCallback(()=>{let n=r===g.nT.Whiteboard?m._Y.WHITEBOARD:m._Y.DESIGN;if("eligibleWithUpgrade"===t)l(s.to({type:f.DV,data:{team:o,resource:h.Bi.VOTING,editorType:n,currentPlan:d.F.Plan.STARTER,upsellPlan:d.F.Plan.PRO}}));else if("eligible"===t)return e(),!0;return!1},[l,r,t,o,e])}},487392:(e,t,r)=>{"use strict";r.d(t,{$3:()=>T,Fn:()=>f,II:()=>I,MR:()=>b,OO:()=>E,qU:()=>v});var n=r(411855),i=r(188507),a=r(939683),o=r(646240),l=r(374626),s=r(563706),c=r(625651),d=r(852800),u=r(460289),p=r(737499),m=r(68517),_=r(900073),h=r(368702),g=r(140871),f=(e=>(e.OPEN="meetings_panel_open",e.CLOSE="meetings_panel_close",e))(f||{}),E=(e=>(e.MEETINGS_TOOLBAR="meetings_toolbar",e.MEETINGS_MINIMIZED="meetings_minimized",e.MEETINGS_PANEL="meetings_panel",e.INSERTS_MENU="inserts_menu",e.QUICK_ACTIONS="quick_actions",e.IPAD_MENU="ipad_menu",e.MAKE_SOMETHING_V2_ONBOARDING="make_something_v2_onboarding",e))(E||{});let y=()=>{let e=(0,a.am)();return n.useCallback((t,r)=>{e(t,{source:r})},[e])};function b(){let e=(0,o.Xr)(_.Qs),t=y(),r=v();return n.useCallback(n=>{n&&t("meetings_panel_open",n.source),(0,h.D)(()=>{r()}),e({type:"OPEN"})},[t,e,r])}function v(){let e=(0,o.Xr)(_.Qs),t=y(),r=(0,i.wA)(),a=(0,i.d4)(e=>e.mirror.appModel.votingSessionInfo);return n.useCallback(n=>{n&&t("meetings_panel_close",n.source),e({type:"CLOSE"}),a.votingStage===d.W8Y.ENDED&&r(c.H1({votingStage:d.W8Y.NO_SESSION}))},[t,e,r,a])}function I(){var e,t;let r=(0,l.md)(m.jo),n=(0,i.d4)(e=>e.music),a=(0,g.C3)(),o=(0,u.XM)(),s=null!=r.time&&0!==r.time.totalTimeMs,c=!!(null==(e=n.music)?void 0:e.selectedSongID)&&!(null==(t=n.music)?void 0:t.isPaused),d=[];return s&&d.push(_.sx.TIMER),o&&void 0!==a&&d.push(_.sx.VOTING),c&&d.push(_.sx.MUSIC),d}function T(){let e=(0,p.F4)();return(null==e?void 0:e.shouldOptimizeForIpadApp)||s.Ay.isIpad}},42173:(e,t,r)=>{"use strict";r.d(t,{AF:()=>W,BV:()=>V,Cn:()=>B,Cz:()=>j,Ku:()=>D,MV:()=>Y,Mr:()=>K,Qe:()=>L,TS:()=>U,V_:()=>G,dO:()=>F,sE:()=>w,xC:()=>x,zS:()=>H});var n=r(568214),i=r(776621),a=r(304783),o=r(939863),l=r(428654),s=r(852800),c=r(547302),d=r(781779);let u=["base","baseLight","sticky","highlight","widget","pencilUI3"];function p({colorsToCSS:e,lightDisplayColors:t,darkDisplayColors:r}){return{COLOR_TO_CSS:e,CSS_TO_COLOR:new Map(Array.from(e,([e,t])=>[t,e])),LIGHT_DISPLAY:t??e,DARK_DISPLAY:r??e}}let m=s.Hdj.V700,_=new Map;function h(e){return 0===_.size&&function(){var e;let t=null==(e=s.DV9)?void 0:e.getWhiteboardPaletteTypeToRampValue();if(t)for(let[e,r]of t.entries()){if(!u.includes(e)){(0,i.$D)(a.e.FIGJAM_CORE,Error(`${e} doesn't exist in the WhiteboardPaletteType union type`));continue}_.set(e,r)}}(),_.get(e)??m}let g=p({colorsToCSS:new Map([[s.daH.BLACK,d.jRe],[s.daH.GRAY_DARK,d.vhn],[s.daH.RED,d.N06],[s.daH.ORANGE,d.qmD],[s.daH.YELLOW,d.Sb0],[s.daH.GREEN,d.RO$],[s.daH.BLUE,d.k0u],[s.daH.VIOLET,d.ztz],[s.daH.WHITE,d.t1f]]),lightDisplayColors:void 0,darkDisplayColors:new Map([[s.daH.BLACK,d.Wsi],[s.daH.GRAY_DARK,d._ML],[s.daH.BLUE,d.jcP],[s.daH.VIOLET,d.mOe],[s.daH.WHITE,d.azl],[s.daH.RED,d.AfN],[s.daH.ORANGE,d.n7z],[s.daH.YELLOW,d.p57],[s.daH.GREEN,d.iow]])});function f(e=!1){var t;return(null==(t=s.Ez5)?void 0:t.uiState().showUI3Colors.getCopy())&&!e?function(){let e=h("base");return p({colorsToCSS:new Map([[s.daH.BLACK,d.jRe],[s.daH.GRAY_DARK,d.G0Y],[s.daH.YELLOW,(0,c.W)(c.r.YELLOW,e)],[s.daH.ORANGE,(0,c.W)(c.r.ORANGE,e)],[s.daH.RED,(0,c.W)(c.r.RED,e)],[s.daH.PINK,(0,c.W)(c.r.PINK,e)],[s.daH.VIOLET,(0,c.W)(c.r.VIOLET,e)],[s.daH.BLUE,(0,c.W)(c.r.BLUE,e)],[s.daH.TEAL,(0,c.W)(c.r.TEAL,e)],[s.daH.GREEN,(0,c.W)(c.r.GREEN,e)],[s.daH.WHITE,d.t1f]]),lightDisplayColors:void 0,darkDisplayColors:void 0})}():g}let E=p({colorsToCSS:new Map([[s.daH.GRAY,d.Z6Z],[s.daH.GRAY_LIGHT,d.xri],[s.daH.RED_LIGHT,d.Pom],[s.daH.ORANGE_LIGHT,d.isV],[s.daH.YELLOW_LIGHT,d.Qwb],[s.daH.GREEN_LIGHT,d.bug],[s.daH.BLUE_LIGHT,d.oWd],[s.daH.VIOLET_LIGHT,d.PyT]]),lightDisplayColors:void 0,darkDisplayColors:new Map([[s.daH.GRAY,d._ML],[s.daH.GRAY_LIGHT,d.A4R],[s.daH.BLUE_LIGHT,d.X8K],[s.daH.VIOLET_LIGHT,d.eNb],[s.daH.RED_LIGHT,d._PR],[s.daH.ORANGE_LIGHT,d.LLI],[s.daH.YELLOW_LIGHT,d.fUI],[s.daH.GREEN_LIGHT,d.c6S]])});function y(){var e;return(null==(e=s.Ez5)?void 0:e.uiState().showUI3Colors.getCopy())?function(){let e=h("baseLight");return p({colorsToCSS:new Map([[s.daH.GRAY,d.Z6Z],[s.daH.GRAY_LIGHT,d.xri],[s.daH.YELLOW_LIGHT,(0,c.W)(c.r.YELLOW,e)],[s.daH.ORANGE_LIGHT,(0,c.W)(c.r.ORANGE,e)],[s.daH.RED_LIGHT,(0,c.W)(c.r.RED,e)],[s.daH.PINK_LIGHT,(0,c.W)(c.r.PINK,e)],[s.daH.VIOLET_LIGHT,(0,c.W)(c.r.VIOLET,e)],[s.daH.BLUE_LIGHT,(0,c.W)(c.r.BLUE,e)],[s.daH.TEAL_LIGHT,(0,c.W)(c.r.TEAL,e)],[s.daH.GREEN_LIGHT,(0,c.W)(c.r.GREEN,e)]]),lightDisplayColors:void 0,darkDisplayColors:void 0})}():E}let b=p({colorsToCSS:new Map([[s.daH.STICKY_GRAY,d.oK_],[s.daH.STICKY_RED,d.SWq],[s.daH.STICKY_ORANGE,d.B95],[s.daH.STICKY_YELLOW,d.Pp8],[s.daH.STICKY_GREEN,d.k7k],[s.daH.STICKY_BLUE,d.JIO],[s.daH.STICKY_VIOLET,d._xV],[s.daH.STICKY_PINK,d.JIG],[s.daH.STICKY_GRAY_LIGHT,d.Uwv]]),lightDisplayColors:new Map([[s.daH.STICKY_GRAY_LIGHT,d.FQK],[s.daH.STICKY_GRAY,d.fhv],[s.daH.STICKY_BLUE,d.yGx],[s.daH.STICKY_VIOLET,d.DN5],[s.daH.STICKY_RED,d.pZ4],[s.daH.STICKY_PINK,d.i4b],[s.daH.STICKY_ORANGE,d.Q2j],[s.daH.STICKY_YELLOW,d.iUm],[s.daH.STICKY_GREEN,d.h3h]]),darkDisplayColors:new Map([[s.daH.STICKY_GRAY_LIGHT,d.PQh],[s.daH.STICKY_GRAY,d.T2K],[s.daH.STICKY_BLUE,d.o$v],[s.daH.STICKY_VIOLET,d.ZzJ],[s.daH.STICKY_RED,d.$bS],[s.daH.STICKY_PINK,d.Q1z],[s.daH.STICKY_ORANGE,d.aT2],[s.daH.STICKY_YELLOW,d.K4N],[s.daH.STICKY_GREEN,d.nLX]])});function v(){var e;return(null==(e=s.Ez5)?void 0:e.uiState().showUI3Colors.getCopy())?function(){let e=h("sticky");return p({colorsToCSS:new Map([[s.daH.STICKY_GRAY,d.Uwv],[s.daH.STICKY_YELLOW,(0,c.W)(c.r.YELLOW,e)],[s.daH.STICKY_ORANGE,(0,c.W)(c.r.ORANGE,e)],[s.daH.STICKY_RED,(0,c.W)(c.r.RED,e)],[s.daH.STICKY_PINK,(0,c.W)(c.r.PINK,e)],[s.daH.STICKY_VIOLET,(0,c.W)(c.r.VIOLET,e)],[s.daH.STICKY_BLUE,(0,c.W)(c.r.BLUE,e)],[s.daH.STICKY_TEAL,(0,c.W)(c.r.TEAL,e)],[s.daH.STICKY_GREEN,(0,c.W)(c.r.GREEN,e)]]),lightDisplayColors:void 0,darkDisplayColors:void 0})}():b}let I=p({colorsToCSS:new Map([[s.daH.HIGHLIGHT_GRAY,d.PNM],[s.daH.HIGHLIGHT_RED,d.vDw],[s.daH.HIGHLIGHT_ORANGE,d.Ah3],[s.daH.HIGHLIGHT_YELLOW,d.wO8],[s.daH.HIGHLIGHT_GREEN,d.Tdi],[s.daH.HIGHLIGHT_BLUE,d.qHh],[s.daH.HIGHLIGHT_VIOLET,d.fVX],[s.daH.HIGHLIGHT_WHITE,d.nG7]]),lightDisplayColors:new Map([[s.daH.HIGHLIGHT_RED,d.qtk],[s.daH.HIGHLIGHT_YELLOW,d.DE6],[s.daH.HIGHLIGHT_GREEN,d.evO],[s.daH.HIGHLIGHT_BLUE,d.vYY],[s.daH.HIGHLIGHT_VIOLET,d.gnN],[s.daH.HIGHLIGHT_ORANGE,d.xuz],[s.daH.HIGHLIGHT_GRAY,d.ANi],[s.daH.HIGHLIGHT_WHITE,d.wlp]]),darkDisplayColors:new Map([[s.daH.HIGHLIGHT_RED,d.qtk],[s.daH.HIGHLIGHT_YELLOW,d.DE6],[s.daH.HIGHLIGHT_GREEN,d.evO],[s.daH.HIGHLIGHT_BLUE,d.vYY],[s.daH.HIGHLIGHT_VIOLET,d.gnN],[s.daH.HIGHLIGHT_ORANGE,d.xuz],[s.daH.HIGHLIGHT_GRAY,d.ANi],[s.daH.HIGHLIGHT_WHITE,d.wlp]])}),T=p({colorsToCSS:new Map([[s.daH.BLACK,d.jRe],[s.daH.RED,d.N06],[s.daH.ORANGE,d.qmD],[s.daH.YELLOW,d.Sb0],[s.daH.GREEN,d.RO$],[s.daH.BLUE,d.k0u],[s.daH.VIOLET,d.ztz],[s.daH.WHITE,d.t1f]]),lightDisplayColors:void 0,darkDisplayColors:new Map([[s.daH.BLACK,d.Wsi],[s.daH.BLUE,d.jcP],[s.daH.VIOLET,d.mOe],[s.daH.WHITE,d.azl],[s.daH.RED,d.AfN],[s.daH.ORANGE,d.n7z],[s.daH.YELLOW,d.p57],[s.daH.GREEN,d.iow]])});function S(){var e;return(null==(e=s.Ez5)?void 0:e.uiState().showUI3Colors.getCopy())?function(){let e=h("pencilUI3");return p({colorsToCSS:new Map([[s.daH.BLACK,d.jRe],[s.daH.RED,(0,c.W)(c.r.RED,e)],[s.daH.ORANGE,(0,c.W)(c.r.ORANGE,e)],[s.daH.YELLOW,(0,c.W)(c.r.YELLOW,e)],[s.daH.GREEN,(0,c.W)(c.r.GREEN,e)],[s.daH.BLUE,(0,c.W)(c.r.BLUE,e)],[s.daH.VIOLET,(0,c.W)(c.r.VIOLET,e)],[s.daH.WHITE,d.t1f]]),lightDisplayColors:void 0,darkDisplayColors:void 0})}():T}let w=new Map([[s.daH.BLACK,"Black"],[s.daH.WHITE,"White"],[s.daH.GRAY_DARK,"Dark gray"],[s.daH.GRAY,"Gray"],[s.daH.GRAY_LIGHT,"Light gray"],[s.daH.BLUE,"Blue"],[s.daH.BLUE_LIGHT,"Light blue"],[s.daH.VIOLET,"Violet"],[s.daH.VIOLET_LIGHT,"Light violet"],[s.daH.RED,"Red"],[s.daH.RED_LIGHT,"Light red"],[s.daH.ORANGE,"Orange"],[s.daH.ORANGE_LIGHT,"Light orange"],[s.daH.YELLOW,"Yellow"],[s.daH.YELLOW_LIGHT,"Light yellow"],[s.daH.GREEN,"Green"],[s.daH.GREEN_LIGHT,"Light green"],[s.daH.PINK,"Pink"],[s.daH.PINK_LIGHT,"Light pink"],[s.daH.INDIGO,"Indigo"],[s.daH.INDIGO_LIGHT,"Light indigo"],[s.daH.COBALT,"Cobalt"],[s.daH.COBALT_LIGHT,"Light cobalt"],[s.daH.TEAL,"Teal"],[s.daH.TEAL_LIGHT,"Light teal"],[s.daH.OLIVE,"Olive"],[s.daH.OLIVE_LIGHT,"Light olive"],[s.daH.STICKY_GRAY_LIGHT,"Light gray"],[s.daH.STICKY_GRAY,"Gray"],[s.daH.STICKY_BLUE,"Blue"],[s.daH.STICKY_VIOLET,"Violet"],[s.daH.STICKY_RED,"Red"],[s.daH.STICKY_PINK,"Pink"],[s.daH.STICKY_ORANGE,"Orange"],[s.daH.STICKY_YELLOW,"Yellow"],[s.daH.STICKY_GREEN,"Green"],[s.daH.STICKY_COBALT,"Cobalt"],[s.daH.STICKY_INDIGO,"Indigo"],[s.daH.STICKY_TEAL,"Teal"],[s.daH.STICKY_OLIVE,"Olive"],[s.daH.HIGHLIGHT_RED,"Pink"],[s.daH.HIGHLIGHT_YELLOW,"Yellow"],[s.daH.HIGHLIGHT_GREEN,"Green"],[s.daH.HIGHLIGHT_BLUE,"Blue"],[s.daH.HIGHLIGHT_VIOLET,"Violet"],[s.daH.HIGHLIGHT_ORANGE,"Orange"],[s.daH.HIGHLIGHT_GRAY,"Gray"],[s.daH.HIGHLIGHT_WHITE,"White"]]),A=[s.daH.BLACK,s.daH.GRAY_DARK,s.daH.GREEN,s.daH.TEAL,s.daH.BLUE,s.daH.VIOLET,s.daH.PINK,s.daH.RED,s.daH.ORANGE,s.daH.YELLOW,s.daH.WHITE],C=[s.daH.BLACK,s.daH.GRAY_DARK,s.daH.RED,s.daH.ORANGE,s.daH.YELLOW,s.daH.GREEN,s.daH.BLUE,s.daH.VIOLET,s.daH.WHITE],N=[s.daH.GRAY,s.daH.GRAY_LIGHT,s.daH.GREEN_LIGHT,s.daH.TEAL_LIGHT,s.daH.BLUE_LIGHT,s.daH.VIOLET_LIGHT,s.daH.PINK_LIGHT,s.daH.RED_LIGHT,s.daH.ORANGE_LIGHT,s.daH.YELLOW_LIGHT],O=[s.daH.GRAY,s.daH.GRAY_LIGHT,s.daH.RED_LIGHT,s.daH.ORANGE_LIGHT,s.daH.YELLOW_LIGHT,s.daH.GREEN_LIGHT,s.daH.BLUE_LIGHT,s.daH.VIOLET_LIGHT];function L(){var e;return(null==(e=s.Ez5)?void 0:e.uiState().showUI3Colors.getCopy())?N:O}let R=[s.daH.BLACK,s.daH.RED,s.daH.ORANGE,s.daH.YELLOW,s.daH.GREEN,s.daH.BLUE,s.daH.VIOLET,s.daH.WHITE],P=[s.daH.STICKY_GRAY,s.daH.STICKY_RED,s.daH.STICKY_ORANGE,s.daH.STICKY_YELLOW,s.daH.STICKY_GREEN,s.daH.STICKY_BLUE,s.daH.STICKY_VIOLET,s.daH.STICKY_PINK,s.daH.STICKY_GRAY_LIGHT],k=[s.daH.STICKY_GRAY,s.daH.STICKY_GREEN,s.daH.STICKY_TEAL,s.daH.STICKY_BLUE,s.daH.STICKY_VIOLET,s.daH.STICKY_PINK,s.daH.STICKY_RED,s.daH.STICKY_ORANGE,s.daH.STICKY_YELLOW];function D(){var e;return(null==(e=s.Ez5)?void 0:e.uiState().showUI3Colors.getCopy())?k:P}let M=[s.daH.HIGHLIGHT_GRAY,s.daH.HIGHLIGHT_RED,s.daH.HIGHLIGHT_ORANGE,s.daH.HIGHLIGHT_YELLOW,s.daH.HIGHLIGHT_GREEN,s.daH.HIGHLIGHT_BLUE,s.daH.HIGHLIGHT_VIOLET,s.daH.HIGHLIGHT_WHITE],x=[d.jRe,d.xri,d.N06,d.Sb0,d.RO$].map(e=>l.F.parse(e));function F(){let e=U("base"),t=V(s.daH.GRAY_LIGHT,"baseLight")||n.Uv;return[...e.slice(0,2),t,...e.slice(2)]}function U(e){switch(e){case"widget":case"base":var t;return((null==(t=s.Ez5)?void 0:t.uiState().showUI3Colors.getCopy())?A:C).map(e=>V(e,"base"));case"baseLight":return L().map(e=>V(e,"baseLight"));case"sticky":return D().map(e=>V(e,"sticky"));case"highlight":return M.map(e=>V(e,"highlight"));case"pencilUI3":return R.map(e=>V(e,"pencilUI3"))}}function B(e){return"base"===e}function H(e,t,r=s.daH.CUSTOM){let n;let i=l.F.format(e);switch(t){case"widget":case"base":n=f().CSS_TO_COLOR.get(i);break;case"baseLight":n=y().CSS_TO_COLOR.get(i);break;case"sticky":n=v().CSS_TO_COLOR.get(i);break;case"highlight":n=I.CSS_TO_COLOR.get(i);break;case"pencilUI3":n=S().CSS_TO_COLOR.get(i)}return n??r}function V(e,t){let r;switch(t){case"widget":case"base":r=f().COLOR_TO_CSS.get(e);break;case"baseLight":r=y().COLOR_TO_CSS.get(e);break;case"sticky":r=v().COLOR_TO_CSS.get(e);break;case"highlight":r=I.COLOR_TO_CSS.get(e);break;case"pencilUI3":r=S().COLOR_TO_CSS.get(e)}return r?l.F.parse(r):void 0}function G(e,t="base",r=(0,o.t)("whiteboard.colors.custom")){let n=Array.isArray(e)?e[0]:e,i=H(n,t);return"base"===t&&i===s.daH.CUSTOM&&(i=H(n,"baseLight")),function(e){switch(e){case s.daH.BLACK:return(0,o.t)("whiteboard.colors.black");case s.daH.WHITE:return(0,o.t)("whiteboard.colors.white");case s.daH.GRAY_DARK:return(0,o.t)("whiteboard.colors.dark_gray");case s.daH.GRAY:return(0,o.t)("whiteboard.colors.gray");case s.daH.GRAY_LIGHT:return(0,o.t)("whiteboard.colors.light_gray");case s.daH.YELLOW:return(0,o.t)("whiteboard.colors.yellow");case s.daH.YELLOW_LIGHT:return(0,o.t)("whiteboard.colors.light_yellow");case s.daH.ORANGE:return(0,o.t)("whiteboard.colors.orange");case s.daH.ORANGE_LIGHT:return(0,o.t)("whiteboard.colors.light_orange");case s.daH.RED:return(0,o.t)("whiteboard.colors.red");case s.daH.RED_LIGHT:return(0,o.t)("whiteboard.colors.light_red");case s.daH.PINK:return(0,o.t)("whiteboard.colors.pink");case s.daH.PINK_LIGHT:return(0,o.t)("whiteboard.colors.light_pink");case s.daH.VIOLET:return(0,o.t)("whiteboard.colors.violet");case s.daH.VIOLET_LIGHT:return(0,o.t)("whiteboard.colors.light_violet");case s.daH.INDIGO:return(0,o.t)("whiteboard.colors.indigo");case s.daH.INDIGO_LIGHT:return(0,o.t)("whiteboard.colors.light_indigo");case s.daH.COBALT:return(0,o.t)("whiteboard.colors.cobalt");case s.daH.COBALT_LIGHT:return(0,o.t)("whiteboard.colors.light_cobalt");case s.daH.BLUE:return(0,o.t)("whiteboard.colors.blue");case s.daH.BLUE_LIGHT:return(0,o.t)("whiteboard.colors.light_blue");case s.daH.TEAL:return(0,o.t)("whiteboard.colors.teal");case s.daH.TEAL_LIGHT:return(0,o.t)("whiteboard.colors.light_teal");case s.daH.GREEN:return(0,o.t)("whiteboard.colors.green");case s.daH.GREEN_LIGHT:return(0,o.t)("whiteboard.colors.light_green");case s.daH.OLIVE:return(0,o.t)("whiteboard.colors.olive");case s.daH.OLIVE_LIGHT:return(0,o.t)("whiteboard.colors.light_olive");case s.daH.STICKY_GRAY_LIGHT:return(0,o.t)("whiteboard.colors.light_gray");case s.daH.STICKY_GRAY:return(0,o.t)("whiteboard.colors.gray");case s.daH.STICKY_BLUE:return(0,o.t)("whiteboard.colors.blue");case s.daH.STICKY_VIOLET:return(0,o.t)("whiteboard.colors.violet");case s.daH.STICKY_RED:return(0,o.t)("whiteboard.colors.red");case s.daH.STICKY_PINK:return(0,o.t)("whiteboard.colors.pink");case s.daH.STICKY_ORANGE:return(0,o.t)("whiteboard.colors.orange");case s.daH.STICKY_YELLOW:return(0,o.t)("whiteboard.colors.yellow");case s.daH.STICKY_GREEN:return(0,o.t)("whiteboard.colors.green");case s.daH.STICKY_COBALT:return(0,o.t)("whiteboard.colors.cobalt");case s.daH.STICKY_INDIGO:return(0,o.t)("whiteboard.colors.indigo");case s.daH.STICKY_TEAL:return(0,o.t)("whiteboard.colors.teal");case s.daH.STICKY_OLIVE:return(0,o.t)("whiteboard.colors.olive");case s.daH.HIGHLIGHT_RED:return(0,o.t)("whiteboard.colors.pink");case s.daH.HIGHLIGHT_YELLOW:return(0,o.t)("whiteboard.colors.yellow");case s.daH.HIGHLIGHT_GREEN:return(0,o.t)("whiteboard.colors.green");case s.daH.HIGHLIGHT_BLUE:return(0,o.t)("whiteboard.colors.blue");case s.daH.HIGHLIGHT_VIOLET:return(0,o.t)("whiteboard.colors.violet");case s.daH.HIGHLIGHT_ORANGE:return(0,o.t)("whiteboard.colors.orange");case s.daH.HIGHLIGHT_GRAY:return(0,o.t)("whiteboard.colors.gray");case s.daH.HIGHLIGHT_WHITE:return(0,o.t)("whiteboard.colors.white");default:return}}(i)??r}function W(e,t="base"){let r=e+1;switch(t){case"highlight":return(0,o.t)("whiteboard.colors.palette.highlight",{index:r});case"baseLight":return(0,o.t)("whiteboard.colors.palette.light",{index:r});default:return(0,o.t)("whiteboard.colors.palette.base",{index:r})}}function K(e,t="rgba(255, 255, 255, 1)"){return f().COLOR_TO_CSS.get(e)??t}function Y(e,t="rgba(255, 255, 255, 1)"){return v().COLOR_TO_CSS.get(e)??t}function j(e,t,r){let n;let i={...e,a:1},a=H(i,t);if(a===s.daH.NONE||a===s.daH.CUSTOM)return l.F.format(i);switch(t){case"baseLight":n=y();break;case"sticky":n=v();break;case"highlight":n=I;break;case"pencilUI3":n=S();break;default:n=f()}return("light"===r?n.LIGHT_DISPLAY.get(a):n.DARK_DISPLAY.get(a))??l.F.format(i)}},300587:(e,t,r)=>{"use strict";r.d(t,{ZE:()=>P,qW:()=>k});var n=r(411855),i=r(629019),a=r.n(i),o=r(568214),l=r(91408),s=r(794272),c=r(153234),d=r(522739),u=r(743282),p=r(939863),m=r(428654),_=r(775664),h=r(301462),g=r(694241),f=r(498606),E=r(684690),y=r(677859),b=r(437771),v=r(948529),I=r(96913),T=r(260378),S=r(42173),w=r(274738),A=r(860168),C=r(404187),N=r(377935);let O=(0,l.jz)(A.YPH);function L(e){return Array.isArray(e)?1===e.length?e[0]:void 0:e}let R={right:T.nm,center:void 0,left:T.Gu};function P({value:e,onColorChange:t,onOpacityChange:r,recordingKey:i,paletteType:a,additionalContentsTop:o,buttonSize:l,buttonBackground:c,buttonClassName:d,buttonCaretType:u,dropperDisabled:p,optionSize:m,customOpacity:_,ariaLabel:h,alignment:f,inlineButtonTooltip:y,palettePickerPopoverWrapper:b,onlyShowCustomColorPopover:v,isColorPopoverOpen:I,shouldDisableDataTooltip:T,setIsColorPopoverOpen:w,positionX:A,positionY:C}){let N=(0,s.R)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),O={name:"figjam_node_color_change",properties:{node_type:N&&1===Object.keys(N).length&&Object.keys(N).pop()||"MIXED",...N}},{variations:L,type:R}=(0,E.Z9)(),P=(R===g.Yv.DEFAULT?(0,S.TS)(a):L[a].slice()).map((e,t)=>({option:e,tooltip:R===g.Yv.DEFAULT?(0,S.V_)(e,a):(0,S.AF)(t,a)})),D=P.length;if("base"===a){let e=(R===g.Yv.DEFAULT?(0,S.TS)("baseLight"):L.baseLight).map((e,t)=>({option:e,tooltip:R===g.Yv.DEFAULT?(0,S.V_)(e,"baseLight"):(0,S.AF)(t,"baseLight")}));P.push(...e)}return n.createElement(k,{options:P,value:{option:e},onColorChange:e=>t(e.option),onOpacityChange:r,recordingKey:i,paletteType:a,numColumns:D,analytics:O,additionalContentsTop:o,buttonSize:l,buttonBackground:c,buttonClassName:d,buttonCaretType:u,dropperDisabled:p,optionSize:m,customOpacity:_,alignment:f,ariaLabel:h,inlineButtonTooltip:y,palettePickerPopoverWrapper:b,onlyShowCustomColorPopover:v,isColorPopoverOpen:I,shouldDisableDataTooltip:T,setIsColorPopoverOpen:w,positionX:A,positionY:C})}function k({value:e,onColorChange:t,onOpacityChange:r,recordingKey:i,additionalContentsTop:a,additionalContentsBottom:l,options:s,inlineButtonTooltip:d,paletteType:u,numColumns:m,buttonSize:_,buttonBackground:h="dark",buttonClassName:g,buttonCaretType:f="down",dropperDisabled:E,optionSize:b,isDesignInlineMenu:T,analytics:w,customOpacity:A,ariaLabel:C,alignment:N,positionX:O,positionY:L,palettePickerPopoverWrapper:R,shouldDisableDataTooltip:P,isColorPopoverOpen:k,setIsColorPopoverOpen:M,shouldCustomColorPopoverCloseOnEscape:x,hasNonWhiteboardColors:F,onlyShowCustomColorPopover:U,isCustomColorSwatchShown:B,customOptions:H,customOptionsHeader:V}){let[G,W]=n.useState(!1),K={...(Array.isArray(e.option)?e.option[0]:e.option)??o.UE};return A&&(K.a=A),n.useEffect(()=>{M&&M(G)},[G,M]),U||G?n.createElement(I.v,{target:n.createElement(y.$n,{onClick:()=>W(!G),caret:f,active:"light"===h?"LOUD":"NORMAL",recordingKey:(0,c.Pt)(i,"colorSelectorButton"),className:g,tooltip:d||(0,S.V_)(e.option,u,(0,p.t)("whiteboard.inline_menu.color")),role:"combobox",ariaLabel:(0,p.t)("whiteboard.inline_menu.color_selector_label",{currentColor:(0,S.V_)(e.option,u).toLocaleLowerCase()})},n.createElement(v.cd,{size:_,value:e.option,paletteType:u,background:h})),color:K,isOpen:G,onColorChange:e=>{t({option:e})},onOpacityChange:e=>{r&&r(e)},onClose:()=>{W(!1)},theme:"dark",analytics:w,recordingKey:(0,c.Pt)(i,"customColorPopover"),showOpacity:null!=A,alignment:N,positionX:O,positionY:L,dropperDisabled:E,shouldCloseOnEscape:x}):n.createElement(D,{value:e,options:s,onColorChange:t,onCustomColor:()=>W(!0),additionalContentsTop:a,additionalContentsBottom:l,inlineButtonTooltip:d,paletteType:u,buttonSize:_,buttonClassName:g,buttonCaretType:f,buttonBackground:h,optionSize:b,isDesignInlineMenu:T,numColumns:m,analytics:w,recordingKey:i,ariaLabel:C,alignment:N,palettePickerPopoverWrapper:R,shouldDisableDataTooltip:P,positionX:O,positionY:L,isColorPopoverOpen:k,setIsColorPopoverOpen:M,hasNonWhiteboardColors:F,isCustomColorSwatchShown:B,customOptions:H,customOptionsHeader:V})}function D({value:e,onColorChange:t,onCustomColor:r,recordingKey:i,additionalContentsTop:l,additionalContentsBottom:s,options:g,inlineButtonTooltip:I,paletteType:T,buttonSize:A,buttonClassName:P,buttonCaretType:k="down",buttonBackground:D="dark",optionSize:M,isDesignInlineMenu:x,numColumns:F,analytics:U,ariaLabel:B,alignment:H="center",palettePickerPopoverWrapper:V,shouldDisableDataTooltip:G,positionX:W,positionY:K,isColorPopoverOpen:Y,setIsColorPopoverOpen:j,hasNonWhiteboardColors:z,isCustomColorSwatchShown:$,customOptions:Z,customOptionsHeader:q}){let J=n.useRef((0,u.g)()),X=n.useRef((0,u.g)()),Q=L(e.option),ee=(0,E.iN)(Q,T),et=(0,E.iN)(Q,"baseLight")&&"base"===T,er=z?function(e,t){try{return!t.find(t=>{let r=L(t.option),n=L(e.option);return r&&n&&(0,o.DA)(r,n)})}catch(e){return console.error(e),!1}}(e,g):ee&&et,en=()=>{Y&&r()},ei=t=>er?n.createElement(d.GG,{id:X.current,...G?{}:{"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,p.t)("whiteboard.colors.custom"),"data-tooltip-show-above":!0},className:a()(N.s,{[C.H]:t}),key:"custom-color",role:"option",tabIndex:-1,"aria-label":(0,p.t)("whiteboard.colors.custom"),recordingKey:(0,c.Pt)(i,"colorSelectorCustomOption"),onPointerUp:en},n.createElement(v.cd,{swatchStyle:{border:"1px solid rgba(0, 0, 0, 0.2)",boxSizing:"border-box",boxShadow:"none"},value:e.option,selectionState:"selected_custom",paletteType:T,background:"dark",size:"medium"})):n.createElement(d.GG,{id:X.current,key:"custom-color",recordingKey:(0,c.Pt)(i,"colorSelectorCustomOption"),onPointerUp:en,role:"option",tabIndex:-1,"aria-label":(0,p.t)("whiteboard.colors.custom"),className:a()(N.s,{[C.H]:t})},n.createElement(v.ZI,{shouldDisableDataTooltip:G}));return n.createElement(b.Fn,{value:e,onChange:e=>{t(e),U&&h.FZ.trackFromFullscreen("figjam_node_color_change",{source:"default",color:_.z5.format(e.option),...U.properties})},options:g,renderOption:({value:e,onClick:t,id:r,isSelected:o,isFocused:l})=>n.createElement(d.GG,{id:r,...G?{}:{"data-tooltip-type":f.Ib.TEXT,"data-tooltip":e.tooltip||(0,S.V_)(e.option,T),"data-tooltip-show-above":!0},className:a()(N.s,{[C.H]:l}),key:m.F.format(e.option)+e.tooltip,"data-testid":"colorMenuOption",role:"option","aria-label":e.tooltip||(0,S.V_)(e.option,T),onPointerUp:e=>{Y&&t(e)},recordingKey:(0,c.Pt)(i,"colorSelectorOption",m.F.format(e.option)),tabIndex:-1},n.createElement(v.cd,{value:e.option,selectionState:o?"selected":"unselected",paletteType:T,size:M,background:"dark"})),renderButton:({value:e,ref:t,onClick:r,onKeyDown:a,active:o,activeOptionId:l})=>n.createElement(y.$n,{role:"combobox",ariaLabel:(0,p.t)("whiteboard.inline_menu.color_selector_label",{currentColor:(0,S.V_)(e.option,T).toLocaleLowerCase()}),onPointerDown:r,onKeyDown:a,ariaActiveDescendant:l,ariaControls:J.current,caret:k,active:o?"light"===D?"LOUD":"NORMAL":"NONE",recordingKey:(0,c.Pt)(i,"colorSelectorButton"),tooltip:I||(0,S.V_)(e.option,T,(0,p.t)("whiteboard.inline_menu.color")),isDesignInlineMenu:x,isNewSubmenu:"light"===D,className:P},n.createElement(v.cd,{size:A,value:e.option,paletteType:T,background:D,ref:t})),optionEquality:(e,t)=>!(Array.isArray(e.option)||Array.isArray(t.option))&&(0,o.DA)(e.option,t.option),OptionWrapper:F?(0,v.Wj)(F,O+"px",B,J.current):(0,v.lX)(g.length,O+"px",B,J.current),PopoverWrapper:V||b.wM,additionalOptions:(e=!1)=>n.createElement(w.R,{customOption:ei(e),paletteType:T,isCustomColorSwatchShown:$}),additionalOptionId:X.current,additionalOptionOnChange:r,additionalContentsTop:l,additionalContentsBottom:s,positionX:W??R[H],positionY:K,onToggleMenuOpen:j,customOptions:Z,customOptionsHeader:q})}},465032:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=r(411855);function i({setMaxWidth:e,render:t}){let[r,i]=n.useState(new Map),a=n.useMemo(()=>r.size?Math.max(...r.values()):void 0,[r]);n.useLayoutEffect(()=>e(a),[a,e]);let o=n.useCallback((e,t)=>i(r=>{if(r.get(e)===t)return r;let n=new Map(r);return"number"==typeof t?n.set(e,t):n.delete(e),n}),[]);return n.createElement(n.Fragment,null,t({reportWidthOfValue:o}))}},677859:(e,t,r)=>{"use strict";r.d(t,{$n:()=>g,K0:()=>h,W1:()=>_,wv:()=>f});var n=r(411855),i=r(629019),a=r.n(i),o=r(522739),l=r(574176),s=r(498606),c=r(770760),d=r(75888),u=r(766071),p=r(112512),m=r(395397);function _({marginBottom:e,size:t,children:r,padding:i,menuRef:o,ariaLabel:l,role:s,tabIndex:c,ariaHidden:d,onBlurCapture:p,onFocus:m,propagateInputToFullscreen:_,testID:h,focusableDivTestId:g,darkModePreferred:f}){return n.createElement("div",{"aria-label":l,"aria-hidden":d,className:u.bH,role:s,tabIndex:c,ref:o,onBlurCapture:p,onFocus:m,"data-fullscreen-intercept":_,"data-testid":g,"data-preferred-theme":f?"dark":void 0},n.createElement("div",{className:a()(u.zr,{[u.EX]:"small"===t}),style:{paddingRight:i,paddingLeft:i,marginBottom:e},"data-testid":h},r))}let h=n.forwardRef((e,t)=>{let{id:r,svg:i,onClick:o,blurOnClick:s,onKeyDown:c,onMouseEnter:d,onMouseLeave:p,onPointerUp:m,onPointerDown:_,svgWidth:h,svgHeight:f,caret:E="none",size:y,tooltip:b,tooltipShortcutActionKey:v,tooltipType:I,resourceId:T,recordingKey:S,active:w="NONE",focused:A,disabled:C,svgStyle:N,buttonStyle:O,buttonChildrenStyle:L,useOriginalSrcFills_DEPRECATED:R,isNewSubmenu:P,ariaLabel:k,role:D,tabIndex:M,onboardingKey:x,testId:F}=e,{ariaActiveDescendant:U,ariaControls:B}=e;return n.createElement(g,{id:r,onClick:o,onKeyDown:c,onMouseEnter:d,onMouseLeave:p,onPointerUp:m,onPointerDown:_,blurOnClick:s,caret:E,ref:t,size:y,recordingKey:S,active:w,focused:A,disabled:C,className:a()({[u.$9]:C}),tooltip:b,tooltipShortcutActionKey:v,tooltipType:I,resourceId:T,buttonStyle:O,buttonChildrenStyle:L,isNewSubmenu:P,ariaLabel:k,ariaActiveDescendant:U,ariaControls:B,role:D,tabIndex:M,onboardingKey:x,testId:F},n.createElement(l.B,{svg:i,width:h,height:f,style:N,useOriginalSrcFills_DEPRECATED:R}))}),g=n.forwardRef((e,t)=>{let{id:r,children:i,onClick:_,onMouseEnter:h,onMouseLeave:g,onPointerUp:f,onPointerDown:E,onKeyDown:y,blurOnClick:b,disabled:v,caret:I="none",animateCaret:T=!1,size:S="large",buttonStyle:w,buttonChildrenStyle:A,isNewSubmenu:C,isDesignInlineMenu:N,recordingKey:O,active:L="NONE",focused:R,tooltip:P,tooltipShortcutActionKey:k,tooltipType:D,tooltipMaxWidth:M,resourceId:x,testId:F,className:U="",ariaLabel:B,role:H,tabIndex:V,onboardingKey:G}=e,{ariaControls:W,ariaActiveDescendant:K}=e,Y=(0,d._r)(),j=n.Children.toArray(i),z=1===j.length&&"string"==typeof j[0].props.children,$=P&&Y?D||s.Ib.TEXT:void 0,Z="combobox"===H&&"NONE"!==L;return n.createElement(o.GG,{id:r,"aria-label":B??(0,c.En)({"data-tooltip-type":$??s.Ib.TEXT,"data-tooltip":P??""}),"aria-controls":W,"aria-owns":Z?W:void 0,"aria-activedescendant":Z?K:void 0,"aria-pressed":"button"===H||null==H?"NONE"!==L:void 0,"aria-checked":"switch"===H?"NONE"!==L:void 0,"aria-expanded":"combobox"===H?"NONE"!==L:void 0,tabIndex:V??"option"===H?-1:0,role:H,onClick:v?void 0:_,onKeyDown:v?void 0:y,onMouseUp:!v&&b?e=>{e.currentTarget.blur()}:void 0,onMouseEnter:v?void 0:h,onMouseLeave:v?void 0:g,onPointerUp:v?void 0:f,onPointerDown:v?void 0:E,className:a()({[u.x6]:!0,[u.BB]:!0,[u._T]:C,[u.Hh]:N,[u.cN]:"none"!==I&&!!i,[u.Ec]:"none"!==I&&!i,[u.EX]:"small"===S,[u.Pq]:"SOFT"===L,[u.k1]:"NORMAL"===L,[u.F$]:"LOUD"===L,[u.zt]:z,[u.gK]:!v,[u.bI]:R,[U]:!!U}),style:w,forwardedRef:t,recordingKey:O,"data-resource-id":x||void 0,"data-tooltip-show-above":!0,"data-tooltip-type":$,"data-tooltip-max-width":M,"data-tooltip-shortcut-key":k,"data-tooltip":P,"data-fullscreen-intercept":null==y?"true":void 0,"data-onboarding-key":G,dataTestId:F},n.createElement("div",{className:a()({[u.LJ]:z,[u.Qq]:!z,[u.Hh]:N,[u.EX]:"small"===S}),style:A},i),"none"!==I&&n.createElement(l.B,{className:a()({[u.OW]:!0,[u.Ln]:T,[u.y9]:T&&"LOUD"===L}),svg:"up"===I?m.A:p.A}))});function f({size:e="tall",margin:t}){return n.createElement("div",{className:u.me,style:{height:"tall"===e?40:28,marginLeft:t,marginRight:t}})}},437771:(e,t,r)=>{"use strict";r.d(t,{A3:()=>h,Fn:()=>f,SC:()=>_,k2:()=>m,wM:()=>g});var n=r(411855),i=r(433011),a=r(498750),o=r(30637),l=r(743282);r(268537);var s=r(356390),c=r(283942),d=r(677859),u=r(244307),p=r(972719),m=(e=>(e.fontFamilyControl="fontFamilyControl",e))(m||{});function _(e,t){return function({children:r}){return n.createElement("div",{id:t,role:"listbox","aria-label":e,tabIndex:-1,className:p.Wh},r)}}function h({children:e}){return n.createElement(n.Fragment,null,e)}function g({children:e,padding:t}){return n.createElement(d.W1,{padding:t},n.createElement("div",{className:p.ec},e))}function f({value:e,onChange:t,options:r,renderOption:d,renderButton:p,optionEquality:m,OptionWrapper:h=_(),additionalOptions:f,additionalOptionId:E,additionalOptionOnChange:y,additionalContentsTop:b,additionalContentsBottom:v,PopoverWrapper:I=g,positionX:T,positionY:S,responsivePositionY:w,popoverClassName:A,onToggleMenuOpen:C,parentComponent:N,customOptions:O,customOptionsHeader:L,overrideMenuOpenState:R}){let P=(0,n.useRef)(null),[k,D]=(0,n.useState)(!1),M=R?R.isOpenOverride:k,x=R?R.setIsOpenOverride:D,[F,U]=(0,n.useState)(0),[B,H]=(0,n.useState)(!1),V=r.length+(O?O.length:0)+(null!=f?1:0),[G]=(0,n.useState)(()=>{let e=Array(V);for(let t=0;t<r.length;t++)e[t]=(0,l.g)();return null!=f&&(e[r.length]=E),e}),W=new i.W,[K,Y]=(0,n.useState)(!0);return n.useEffect(()=>{C&&C(M)},[M,C]),n.createElement(u.A,{target:p({value:e,ref:P,onKeyDown:e=>{var n;switch(e.keyCode){case a.Uz.ESCAPE:M?x(!1):null==(n=e.currentTarget)||n.blur();break;case a.Uz.ENTER:M&&(F>=0&&F<r.length?t(r[F],e):F===r.length&&f&&(null==y||y(e)));break;case a.Uz.RIGHT_ARROW:case a.Uz.LEFT_ARROW:case a.Uz.UP_ARROW:case a.Uz.DOWN_ARROW:if(!(0,a.sC)(e,0))break;if(H(!0),M&&V){let t=F;(t+=e.keyCode===a.Uz.UP_ARROW||e.keyCode===a.Uz.LEFT_ARROW?-1:1)>=V?t=0:t<0&&(t=V-1),U(t)}else M||x(!0);e.preventDefault(),e.stopPropagation();break;case a.Uz.TAB:H(!1);break;case a.Uz.C:case a.Uz.V:case a.Uz.X:(0,a.Te)(e)&&(s.Y5.triggerAction(e.keyCode===a.Uz.C?"copy":e.keyCode===a.Uz.X?"cut":"paste"),e.stopPropagation(),e.preventDefault());break;default:(0,c.f7)(e)}},onClick:()=>{H(!1),x(!M),N&&"fontFamilyControl"===N&&((0,o.nl)()?Y(!0):(Y(!1),W.reset(),W.scheduleOnce(()=>{Y(!0)},250)))},active:M,activeOptionId:null!=F?G[F]:void 0}),onClose:()=>{N&&"fontFamilyControl"===N&&W.reset(),x(!1)},renderPopoverContents:i=>{let a=(r,n)=>{let i=e=>t(r,e),a=e=>{i(e),x(!1)};return d({value:r,id:G[n],onClick:e=>{(!N||"fontFamilyControl"!==N||K)&&a(e)},isSelected:m?m(r,e):r===e,isFocused:B&&F===n})},o=r.map(a),l=null==O?void 0:O.map((e,t)=>a(e,t+o.length));return l?n.createElement(I,{side:i},b,n.createElement(h,null,o),L,n.createElement(h,null,l,null==f?void 0:f(B&&F===o.length+l.length)),v):n.createElement(I,{side:i},b,n.createElement(h,null,o,null==f?void 0:f(B&&F===o.length)),v)},isOpen:M,positionX:T,positionY:S,responsivePositionY:w,className:A})}},948529:(e,t,r)=>{"use strict";r.d(t,{Dd:()=>T,HL:()=>b,WW:()=>g.A,Wj:()=>S,YR:()=>I,ZI:()=>y,cd:()=>E,cg:()=>v,lX:()=>w,xY:()=>f.A});var n=r(411855),i=r(629019),a=r.n(i),o=r(153234),l=r(522739),s=r(572206),c=r(574176),d=r(348425),u=r(939863),p=r(931770),m=r(498606),_=r(42173),h=r(301741),g=r(501191),f=r(660164);let E=n.forwardRef(({value:e,paletteType:t,background:r="dark",size:i="medium",selectionState:o="unselected",swatchStyle:s,onClick:c,recordingKey:d,tooltip:u},p)=>{let g,f=null;return Array.isArray(e)&&2===e.length&&(f=n.createElement("div",{className:h.XD,style:{background:(0,_.Cz)(e[1],t,r)},"data-testid":"colorCircle"})),g=Array.isArray(e)?e.length<=2&&e[0]?(0,_.Cz)(e[0],t,r):"rgba(255, 255, 255, 1)":(0,_.Cz)(e,t,r),n.createElement("div",{ref:p,className:a()({[h.C8]:!0,[h.wH]:"selected"===o,[h.DD]:"selected_custom"===o&&"light"===r,[h.Jd]:"selected_custom"===o&&"dark"===r,[h.as]:"large"===i,[h.EX]:"small"===i,[h.s]:"xsmall"===i})},n.createElement("div",{className:h.GW},n.createElement(l.D8,{className:a()(h.nf,{[h.qb]:"light"===r,[h.uB]:"dark"===r}),style:{background:g,...s},onClick:c,recordingKey:d,"data-tooltip-show-above":!0,"data-tooltip-type":u?m.Ib.TEXT:void 0,"data-tooltip":u,"data-testid":"colorCircle"}),f))});function y({onClick:e,swatchStyle:t,recordingKey:r,shouldDisableDataTooltip:i,selectionState:s,size:c="medium"}){return n.createElement(l.D8,{...i?{}:{"data-tooltip-type":m.Ib.TEXT,"data-tooltip":(0,u.t)("whiteboard.colors.custom"),"data-tooltip-show-above":!0},className:a()({[h.C8]:!0,[h.wH]:"selected"===s,[h.as]:"large"===c,[h.EX]:"small"===c,[h.s]:"xsmall"===c}),onClick:e,recordingKey:(0,o.Pt)(r,"colorSelectorCustomOption")},n.createElement("div",{className:h.GW},n.createElement(l.D8,{className:a()(h.yB,h.uB),style:t})))}function b({value:e,onClick:t,onPointerUp:r,swatchStyle:i,tooltip:o,fallbackSvg:l,tooltipOffsetY:s,dataTestId:c,size:u}){return n.createElement("div",{className:a()(h.C8,["large"===u&&h.as])},n.createElement("div",{"data-tooltip-type":m.Ib.TEXT,"data-tooltip":o,"data-tooltip-offset-y":s,"data-tooltip-show-above":!0,className:h.GW},n.createElement(d.t,{svg:e,className:a()(h.nf,h.uB),style:{display:"flex",alignItems:"center",justifyContent:"center",...i},dataTestId:c,onClick:t,onPointerUp:r,fallbackSvg:l})))}let v=n.forwardRef(({value:e,size:t="medium",selectionState:r="unselected",swatchStyle:i,onClick:o,onPointerUp:s,recordingKey:c,tooltip:d},u)=>n.createElement("div",{ref:u,className:a()({[h.C8]:!0,[h.wH]:"selected"===r,[h.EX]:"small"===t})},n.createElement("div",{className:h.GW},n.createElement(l.D8,{className:a()(h.nf,h.uB),style:{backgroundImage:`url(${e})`,backgroundSize:"auto 100%",...i},onClick:o,onPointerUp:s,recordingKey:c,"data-tooltip-show-above":!0,"data-tooltip-type":d?m.Ib.TEXT:void 0,"data-tooltip":d})))),I=n.forwardRef(({imagePaint:e,background:t,size:r="medium",selectionState:i="unselected",hovered:o,onClick:l,onMouseEnter:d,onMouseLeave:_,onPointerUp:f},E)=>{let[y,b]=n.useState(""),I=n.useCallback(e=>{let t=p.jS(e,new s.Mi((e.originalImageWidth||244)/(e.originalImageHeight||244)*244,244),{r:0,g:0,b:0,a:0});t&&t.pixels&&t.pixelSize&&b(p.Pv(t.pixels,t.pixelSize))},[]);return n.useEffect(()=>{e&&I(e)},[e,I]),n.createElement("div",{style:{position:"relative"},onMouseEnter:d,onMouseLeave:_,"data-tooltip-type":m.Ib.TEXT,"data-tooltip":(0,u.t)("whiteboard.delightful_toolbar.custom_upload"),"data-tooltip-show-above":!0},n.createElement(v,{value:y,size:r,selectionState:i,onClick:l,onPointerUp:f,ref:E}),o&&n.createElement("div",{className:h._F},n.createElement(c.B,{svg:g.A,style:{fill:"dark"===t?"white":void 0},className:a()({[h.RB]:!0,[h.hv]:"light"===t,[h.ft]:"dark"===t,[h.EX]:"small"===r})})))});function T({children:e,numColumns:t=4,columnWidth:r="1fr",gap:i=0,padding:a,ariaLabel:o,swatchGridRef:l,id:s}){let c=`repeat(${t}, ${r})`;return n.createElement("div",{className:h.FG,style:{gridTemplateColumns:c,gap:`${i}px`,padding:a},"aria-label":o,role:"listbox",tabIndex:-1,id:s,"data-fullscreen-intercept":!0,ref:l},e)}function S(e,t,r,i){return function({children:a}){return n.createElement(T,{numColumns:e,columnWidth:t,padding:8,ariaLabel:r,id:i},a)}}function w(e,t,r,i){let a;return a=e<6?e:6===e?3:e<=8?4:5,function({children:e}){return n.createElement(T,{numColumns:a,columnWidth:t,padding:8,ariaLabel:r,id:i},e)}}},260378:(e,t,r)=>{"use strict";r.d(t,{Mj:()=>y,lM:()=>d,T1:()=>g,DH:()=>f,Al:()=>u,tJ:()=>E,Dl:()=>_,Gu:()=>p,Yh:()=>h,nm:()=>m});var n=r(411855),i=r(629019),a=r.n(i),o=r(560945),l=r(622422),s=r(259927),c=r(676938);function d({targetRect:e,targetRef:t,children:r,onClose:i,onMeasure:o,onMouseEnter:l,onMouseLeave:c,pointerEvents:d="none",style:p,offset:m=4,positionX:_=u,positionY:h=g,onPosition:f,frozen:E,setSizeChanged:b}){return n.createElement("div",{className:a()("window_positioner--positionerRoot--nDb0j",s.Dm,s.Uu),style:{pointerEvents:d}},n.createElement(y,{targetRect:e,targetRef:t,onClose:i,onMeasure:o,onMouseEnter:l,onMouseLeave:c,style:p,offset:m,positionX:_,positionY:h,onPosition:f,frozen:E,setSizeChanged:b},r))}let u=(e,t)=>e.x+e.width/2-t.width/2,p=(e,t)=>e.x,m=(e,t)=>e.x+e.width-t.width,_=(e,t,r)=>e.x-t.width-r,h=(e,t)=>e.x+e.width+t,g=(e,t,r)=>e.y-t.height-r,f=(e,t,r)=>e.height+e.y+r,E=(e,t)=>e.y+e.height/2-t.height/2;function y({targetRect:e,targetRef:t,children:r,onClose:i,onMeasure:a,onMouseEnter:s,onMouseLeave:d,style:p,offset:m=4,positionX:_=u,positionY:h=g,childRef:f,onPosition:E,frozen:y,setSizeChanged:b}){let[v,I]=n.useState({x:0,y:0}),[T,S]=n.useState(!1),w=n.useRef(null),A=n.useCallback(e=>{let t=0!==e.width||0!==e.height;S(t),a&&a(e),t||I({x:0,y:0})},[a]),C=(0,o.w)(w,A)??o.c;(0,c.Y)(i,{ignore:[null==t?void 0:t.current,w.current]});let N=(0,l.$)(T)&&T,O=(0,l.$)(C);n.useEffect(()=>b&&b(O),[b,O]);let{x:L,y:R}=v;(N||T&&!y)&&(L=_(e,C,m),R=h(e,C,m)),n.useEffect(()=>{I({x:L,y:R})},[L,R]);let{width:P,height:k}=C;return n.useEffect(()=>{T&&E&&E(L,R,{width:P,height:k},m)},[L,R,P,k,E,m,T]),n.createElement("div",{style:{position:"absolute",width:"fit-content",height:"fit-content",transform:`translate3d(${L}px, ${R}px, 0)`,...p,...T?{}:{opacity:0}},onMouseEnter:s,onMouseLeave:d,ref:e=>{w.current=e,f&&f(e)}},r)}},520177:(e,t,r)=>{"use strict";r.d(t,{g:()=>m,w:()=>u});var n=r(38580),i=r(288706),a=r(563706),o=r(809831),l=r(99506),s=r(555328),c=r(222085),d=r(554905);let u=(0,n.eU)(e=>{let t=e(o.N2)===l._Y.WHITEBOARD,r=e(d.hS);return t&&!r&&!a.Xb}),p=(0,n.eU)(async()=>await c.A.getCommunityShelves({shelfType:s.cS.FIGJAM_SECTION_PRESET_PICKER}).then(e=>e.data.meta)),m=(0,i.Rq)(p)},251344:(e,t,r)=>{"use strict";r.d(t,{BQ:()=>u,bO:()=>d,j3:()=>c});var n=r(738269),i=r(259927),a=r(128765),o=r(356390),l=r(106112);let s=["#FFC470","#DA9DFF","#D5EB97","#DA8167","#E9FAFF"];function c(e){return s[e%s.length]}function d(e,t,r){let n=e.find(e=>e.id===t);if(!n)return null;let i=n.shelf_content.find(e=>e.id===r);if(!i)return null;let o={type:l.n.HubFile,template:i,category:n.id};return(0,a.gY)(o)}function u(e,t){if(!e||!e.isSection||!o.Y5.isReady())return!1;let r=e.sectionPresetShelfId,a=e.sectionPresetTemplateId,l=e.name,s=e.hasSectionPresetWithEdits;return!!l&&(t(n.j7({type:i.si,data:{sectionId:e.guid,sectionName:l,initialShelfId:r,initialTemplateId:a,showAlertOnSelect:s}})),!0)}},787523:(e,t,r)=>{"use strict";r.d(t,{jm:()=>T,iH:()=>b,O$:()=>w,nw:()=>I,lG:()=>N,Mh:()=>v,At:()=>C,fu:()=>A});var n=r(411855),i=r(188507),a=r(128906),o=r(963490),l=r(358145),s=r(650769),c=r(151166),d=r(988022),u=r(852800),p=r(457025);function m(){let[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=e=>{if(-1===e[0]&&-1===e[1]){t(null);return}t(e)};return p.$K.on("action",e),()=>{p.$K.removeListener("action",e)}},[t]),e}var _=r(114716),h=r(457630),g=r(309798),f=r(707465),E=r(589584),y=r(83012),b=(e=>(e[e.TRUE=0]="TRUE",e[e.FALSE=1]="FALSE",e[e.LOADING=2]="LOADING",e))(b||{});function v(){let e=(0,_.g)(),t=(0,i.d4)(e=>e.mirror.appModel.showUi),r=(0,i.d4)(e=>e.mirror.appModel.topLevelMode===u.lyf.LAYOUT),o=(0,i.d4)(e=>(0,f.i1)(e.selectedView)),l=(0,n.useMemo)(()=>new Date,[]),{createdAt:s,key:d}=(0,i.d4)(e=>e.openFile||{createdAt:null,key:null}),p=(0,n.useMemo)(()=>s&&3e5>=Math.abs(s.getTime()-l.getTime()),[s,l]),m=(0,i.d4)(e=>{var t,r,n;let i=null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentPage,a=null==(n=null==e?void 0:e.mirror)?void 0:n.sceneGraph,o=null==a?void 0:a.get(i);return o?!o.childrenNodes.length||o.childrenAreAllGhosts?0:1:2}),h=function(e){let t=(0,a.H)((0,g.f)("figjam_editor_onboarded")),r=(0,n.useMemo)(()=>!!t.current,[e,t]),i=!!(0,g.f)("figjam_browse_templates_modal_onboarded"),o=(0,g.f)("figjam_browse_templates_modal_onboarding_item_selected");return r||i&&!o}(d),b=(0,c.N)();if((0,y.x)())return 1;let v=(0,E.J)();return b||!h||v||o?1:e&&s?t&&r&&p?m:1:2}function I(e){return 0===(0,o.I)(1===e)}let T={marginLeft:40,marginRight:24,width:216};function S(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function w(e,t){let r=(0,h._X)({subscribeToUpdates_expensive:e}),n=(0,h.qc)(r),i=m();return!!e&&!!t&&!!i&&(r.zoomScale>=2||S({x:n.x,y:n.y,width:280/r.zoomScale,height:n.height},{x:-.5*Math.min(i[0],2432),y:-.5*Math.min(i[1],1212),width:i[0],height:i[1]}))}function A(e,t){let r=m(),n=(0,h._X)({subscribeToUpdates_expensive:e}),i=(0,h.qc)(n);return!!e&&!!t&&!!r&&!S(i,function(e,t){let r=e.x+e.width/2,n=e.y+e.height/2;return{x:1.5*e.x+-.5*r,y:1.5*e.y+(1-t)*n,width:t*e.width,height:t*e.height}}({x:-.5*Math.min(r[0],2432),y:-.5*Math.min(r[1],1212),width:r[0],height:r[1]},1.5))}function C(e){let{fileKey:t,didUserCancel:r,showStarterKit:i}=e;(0,n.useEffect)(()=>{r&&(0,d.Cu)({fileKey:t,text:"Close starter kit",triggeredFrom:"starter_kit"})},[t,r]);let a=(0,l.ZC)(i);(0,n.useEffect)(()=>{0===a&&1===i&&(0,d.Cu)({fileKey:t,text:"Close starter kit implicit",triggeredFrom:"starter_kit"})},[t,a,i])}function N(e,t,r){let[i,a]=(0,n.useState)(!1),l=(0,o.I)(1===e);(0,n.useEffect)(()=>{(t||0!==l)&&!i&&(r(s.q0()),a(!0))},[e,l,i,r,t])}},666456:(e,t,r)=>{"use strict";r.d(t,{ME:()=>T,Yq:()=>C,bj:()=>S,oh:()=>g,pF:()=>E,pg:()=>f,pn:()=>N,t7:()=>O});var n=r(38580),i=r(374626),a=r(777078),o=r(852800),l=r(662531),s=r(373119),c=r(400380);let d=(0,n.eU)(null),u=(0,n.eU)(null),p=(0,n.eU)({x:0,y:0}),m=(0,n.eU)(null),_=(0,n.eU)(!1),h=(0,n.eU)(!1),g=(0,n.eU)(e=>e(u));(0,n.eU)(e=>e(_));let f=(0,n.eU)(e=>e(h)),E=(0,n.eU)(e=>e(p)),y=(0,n.eU)(!1),b="new_preview",v=null;function I(){v&&v.abort(b),v=null}let T=(0,n.eU)(null,async(e,t,r,n)=>{let i=!e(_)&&(0,c.t)(r.template,e(u));if(e(h)||i||e(y))return!1;t(A),t(_,!0),t(d,n.previewManager),t(u,r.template),I();let a=(v||(v=new TaskController({priority:"background"})),v);function l(t){return scheduler.postTask(()=>!!((0,c.t)(r.template,e(u))&&e(s.w))&&(t(),!0),{signal:a.signal}).catch(e=>{if(e===b)return!1;throw e})}a.setPriority(n.priority);let g=e(d),f=(async()=>{try{let i=await e(L(r)),a=(null==g?void 0:g.nodeType)===o.Z6A.SECTION?g.options:null;if(!await l(()=>o.Hyj.prepareTemplatePreview(i,a))||!await l(()=>o.Hyj.insertTemplatePreview(n.moveViewportAfterPreview)))return!1;let s=o.Hyj.getTemplatePreviewSize();return t(p,s),t(_,!1),!0}catch(n){throw(0,c.t)(r.template,e(u))&&t(A),n}})();return t(m,f),await f}),S=(0,n.eU)(null,async(e,t,r)=>{let n=e(m);if(!n||e(h))return!1;t(h,!0);try{if(!await n||!e(s.w))return!1;return await scheduler.postTask((0,l.nc)(r.editScopeType,"commit-figjam-template-preview",()=>o.Hyj.commitTemplatePreview(r.selectTemplateAfterCommit,r.moveViewportAfterCommit)),{priority:r.priority}),t(u,null),t(y,!0),t(N),!0}finally{t(h,!1)}}),w=(0,n.eU)(null,(e,t)=>{t(y,!1),e(_)&&(I(),t(A))}),A=(0,n.eU)(null,(e,t)=>{t(u,null),t(m,null),t(_,!1),t(h,!1),e(s.w)&&o.Hyj.clearTemplatePreview()}),C=(0,n.eU)(null,(e,t)=>{t(w),t(A)}),N=(0,n.eU)(null,(e,t)=>{t(d,null),o.Hyj.clearSectionPreviewSupport()}),O={clearTemplatePreview(){i.zl.set(A)}},L=(0,i.Iz)(e=>(0,n.eU)(async()=>await (0,a.dT)(e)),(e,t)=>e.fileKey===t.fileKey&&e.fileVersion===t.fileVersion&&(0,c.t)(e.template,t.template))},238289:(e,t,r)=>{"use strict";r.d(t,{Cs:()=>d,Iw:()=>c,M8:()=>u,Qc:()=>p,gC:()=>m});var n=r(776621),i=r(304783),a=r(852800),o=r(662531),l=r(409430);let s=Object.create(null);async function c(e){var t;let r=await (0,l.T)(e,s);null==(t=a.glU)||t.setWashiTapePresetPattern(r)}async function d(e,t){let r=await (0,l.T)(e,s);(0,o.l7)(t,"set-paint-from-washi-tape-preset",()=>{var e;return null==(e=a.glU)?void 0:e.setWashiTapePresetPatternAndUpdateSelectedNodes(r)})}function u(e){if(e.image)return`https://static.figma.com/uploads/${e.image}`;throw Error(`Invalid washi tape ${e} has no image`)}function p(e){for(let t of e){let e=u(t);e&&(0,l.T)(e,s).catch(e=>{(0,n.$D)(i.e.FIGJAM_CORE,e)})}}function m(e){let t=u(e);return(0,l.T)(t,s)}},925075:(e,t,r)=>{"use strict";r.d(t,{B:()=>i,M:()=>a});var n=r(939863);let i=[{name:"w-purple-grid",image:"e8f28ec5039355c942bce9dd61f44dcd638451f9",label:"Graph-iti"},{name:"w-party",image:"089335580a69c785276a5ab39dd58fef8955279c",label:"Birthday party"},{name:"w-checkerboard",image:"65bcec2ad90b12e9dbe4ee53bc88de29e11109dc",label:"Gingham style"},{name:"w-star",image:"c2225d84b705c120a715d0bbd57d7632fd4b0b4b",label:"Starry night"},{name:"w-stripe",image:"71592dc10e91a87c21e4dd41ef0deb43a3ba5480",label:"Lemon lime"},{name:"w-frog",image:"277013045fb026a81e7bd812a35d37018945d308",label:"Lily pad-ding"},{name:"w-fruit",image:"227e1eec26d471e194f4feec632b2f791f0a2706",label:"Fruit salad"},{name:"w-sushi",image:"5e62eac33aa794bd0450c039a60ad0c42ee0881d",label:"On a roll"}];function a(e){switch(e.name){case"w-party":return(0,n.t)("whiteboard.washi_tapes.party");case"w-star":return(0,n.t)("whiteboard.washi_tapes.star");case"w-grid":return(0,n.t)("whiteboard.washi_tapes.grid");case"w-flower":return(0,n.t)("whiteboard.washi_tapes.flower");case"w-desert":return(0,n.t)("whiteboard.washi_tapes.desert");case"w-frog":return(0,n.t)("whiteboard.washi_tapes.frog");case"w-fruit":return(0,n.t)("whiteboard.washi_tapes.fruit");case"w-sushi":return(0,n.t)("whiteboard.washi_tapes.sushi");case"w-tree":return(0,n.t)("whiteboard.washi_tapes.tree");case"w-pride":return(0,n.t)("whiteboard.washi_tapes.pride");case"w-purple-grid":return(0,n.t)("whiteboard.washi_tapes.purple_grid");case"w-checkerboard":return(0,n.t)("whiteboard.washi_tapes.checkerboard");case"w-stripe":return(0,n.t)("whiteboard.washi_tapes.stripe");default:return(0,n.t)("whiteboard.washi_tapes.custom")}}},83012:(e,t,r)=>{"use strict";r.d(t,{j:()=>l,x:()=>s});var n=r(939863),i=r(309798),a=r(288300),o=r(161074);function l(e){let t=(0,n.t)("whiteboard.inserts.use_cases_brainstorm_together"),r=(0,n.t)("whiteboard.inserts.use_cases_diagram_anything"),i=(0,n.t)("whiteboard.inserts.use_cases_run_a_meeting"),o=(0,n.t)("whiteboard.inserts.use_cases_lead_a_workshop");switch(e){case"design":return{id:"Whats New design control",title:t,resourceType:a.R.ALL};case"software-development":return{id:"Whats New software-development control",title:r,resourceType:a.R.ALL};case"product-management":return{id:"Whats New product-management control",title:i,resourceType:a.R.ALL};case"marketing":return{id:"Whats New marketing control",title:o,resourceType:a.R.ALL};case"user-research":return{id:"Whats New user-research control",title:o,resourceType:a.R.ALL};default:return{id:"Whats New other control",title:r,resourceType:a.R.ALL}}}function s(){let e=(0,i.f)("interacted_figjam_whats_new_v2_cta");return(0,o.SS)(e)}},59779:(e,t,r)=>{"use strict";r.d(t,{AU:()=>a,Ic:()=>o,aT:()=>_,Eb:()=>u,Ru:()=>h,q:()=>p,Eu:()=>d,Qf:()=>c,Pn:()=>m,Me:()=>l,fJ:()=>s});var n=r(503457);let i=new(r(554630)).b({name:"whiteboard",enforce:!1,dependencies:[],exports:["whiteboard_components.ts*"],friendFiles:[],routeHints:["fullscreen","whiteboard"]}),a=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,160853)).then(e=>e.AiModal),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyAIModal"}),o=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,844823)).then(e=>e.AiStatusBell),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyAIStatusBell"}),l=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,311462)).then(e=>e.WhiteboardInlineMenu),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyWhiteboardInlineMenu"}),s=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,482507)).then(e=>e.WhiteboardInlineQuickAddMenu),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyWhiteboardQuickAddMenu"}),c=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,889244)).then(e=>e.PanZoomTooltip),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyPanZoomTooltip"}),d=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,745205)).then(e=>e.MindmapQuickAddButtons),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyMindMapQuickAddButtons"}),u=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,849604)).then(e=>e.FigJamEmptyFileHelper),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyFigJamEmptyFileHelper"}),p=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,135078)).then(e=>e.JoinVotingOverlay),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyJoinVotingOverlay"}),m=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,197480)).then(e=>e.VotePinsOverlay),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyVotePinsOverlay"}),_=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,713845)).then(e=>e.DelightfulToolbarWithErrorBoundary),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyDelightfulToolbar"}),h=i.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(8662),r.e(1876),r.e(5343),r.e(6316),r.e(4195),r.e(441),r.e(8547),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6764),r.e(7228),r.e(8655),r.e(7012),r.e(9258)]).then(r.bind(r,142783)).then(e=>e.FigJamMiniHome),{loading:n.H4.NONE,error:n.H4.NONE,componentName:"LazyFigJamMiniHome"})},69474:(e,t,r)=>{"use strict";r.d(t,{X:()=>y,O:()=>b});var n=r(411855),i=r(629019),a=r.n(i),o=r(189430),l=r(563706),s=r(88570),c=r(259927),d=r(809831),u=r(949632),p=r(852800),m=r(100197),_=r(498606),h=r(259494);let g=Math.log(10),f=Math.log(200);function E(e){return(Math.log(e)-g)/(f-g)*190+10}function y(){let[e,t]=n.useState(0),r=Math.round(100*(0,m.J2)((0,u.d)().activeCanvasCurrentZoom)),i=n.useRef(null),l=n.useRef(null),d=e=>{let t=Number(e.target.value);p.glU.setCanvasZoomScale(Math.exp((t-10)/190*(f-g)+g)/100)};return function(){let{windowInnerWidth:e,windowInnerHeight:t}=(0,o.l)();(0,s.X)({id:"zoom-controls",direction:"left",rect:{x:e-48,width:48,y:0,height:t}})}(),n.useEffect(()=>{l.current&&l.current.style.setProperty("--sliderThumbSize","14px")},[l]),n.useEffect(()=>{if(i.current&&l.current){let e=i.current.clientHeight,n=(200-Math.max(10,Math.min(E(r),200)))/190;t(e*n-(e/2+(14*n-7)))}},[i,l,r]),n.createElement("div",{className:"zoom_slider--sliderOuterContainer--NbVeP","data-onboarding-key":h.q,"data-tooltip":_.MW.ZOOM_SLIDER,"data-tooltip-zoom-percentage":r,"data-tooltip-type":_.Ib.SPECIAL,"data-tooltip-offset-y":e,"data-tooltip-offset-x":6,"data-tooltip-show-left":!0,"data-tooltip-show-immediately":!0},n.createElement("div",{className:"zoom_slider--sliderContainer--VZPpJ",ref:i},n.createElement("input",{className:a()("zoom_slider--sliderInput--W3iDP",c.Dm),type:"range",min:10,max:200,step:.1,value:E(r),onChange:d,onInput:d,ref:l})))}function b(){return(0,d.ow)()&&!l.Ay.isIpad}},642450:(e,t,r)=>{"use strict";r.d(t,{q:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 7h1v10h-1V7Zm-1 0a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V7ZM5.5 8a.5.5 0 0 0 0 1H13v6H5.5a.5.5 0 0 0 0 1h8a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5h-8Z",clipRule:"evenodd"}))}},570370:(e,t,r)=>{"use strict";r.d(t,{s:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M13.646 5.146a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708.708l-1 1a.5.5 0 0 1-.708 0l-1-1a.5.5 0 0 1 0-.708ZM9 7h1v10H9V7ZM8 8V7a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-7v1a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-1H6a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2Zm0 1H6v6h2V9Zm3 6h7V9h-7v6Zm3.354 3.854a.5.5 0 0 1-.708-.708l1-1a.5.5 0 0 1 .708 0l1 1a.5.5 0 0 1-.708.708L15 18.207l-.646.647Z",clipRule:"evenodd"}))}},250021:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 5.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5Zm0 13a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5ZM8.797 8v8h1.207v-3.488h3.988V16h1.211V8h-1.21v3.477h-3.99V8H8.798Z",clipRule:"evenodd"}))}},140001:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 15.5h.25a.75.75 0 0 0 .75-.75v-6.5a.75.75 0 0 0-.75-.75H7.5m8 8h-.25a.75.75 0 0 1-.75-.75v-6.5a.75.75 0 0 1 .75-.75h.25m-4 6v-4"}))}},648839:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 7.5v.25c0 .414.336.75.75.75h6.5a.75.75 0 0 0 .75-.75V7.5m-8 8v-.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 .75.75v.25m-6-4h4"}))}},418708:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 18a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5Zm13 0a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5ZM7.604 8l1.882 8h1.03L12 10.062 13.485 16h1.029l1.882-8h-1.027l-1.384 5.88L12.515 8h-1.03l-1.47 5.88L8.63 8H7.604Z",clipRule:"evenodd"}))}},954244:(e,t,r)=>{"use strict";r.d(t,{R:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V9.5a.5.5 0 0 0-1 0V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3a.5.5 0 0 0 0-1H8Zm9 0a5.5 5.5 0 0 0-5.5 5.5v1.793l-1.646-1.647a.5.5 0 0 0-.708.708l2.5 2.5a.5.5 0 0 0 .708 0l2.5-2.5a.5.5 0 0 0-.708-.708L12.5 13.293V11.5A4.5 4.5 0 0 1 17 7h.5a.5.5 0 0 0 0-1H17Z",clipRule:"evenodd"}))}},427113:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 5a.5.5 0 0 0 0 1 6 6 0 1 1-6 6 .5.5 0 0 0-1 0 7 7 0 1 0 7-7ZM8.3 6.918A1 1 0 0 0 6.918 8.3l3.074 4.75a2.213 2.213 0 1 0 3.06-3.059L8.3 6.918Zm4.208 3.914L9.806 9.083 7.757 7.757l1.326 2.05 1.749 2.701a1.213 1.213 0 1 0 1.676-1.676Z",clipRule:"evenodd"}))}},910242:(e,t,r)=>{"use strict";r.d(t,{P:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17 9.5a.5.5 0 0 0 1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0 0 1h1.793l-2.147 2.146a.5.5 0 0 0 .708.708L17 7.707V9.5Zm-10 5a.5.5 0 0 0-1 0v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 0-1H7.707l2.147-2.146a.5.5 0 0 0-.708-.708L7 16.293V14.5Zm3-8a.5.5 0 0 1-.5.5H7.707l2.147 2.146a.5.5 0 0 1-.708.708L7 7.707V9.5a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5Zm2.351 4.564a1 1 0 0 0-1.287 1.287l2.25 6a1 1 0 0 0 1.906-.108l.605-2.418 2.418-.605a1 1 0 0 0 .108-1.906l-6-2.25Zm3.94 3.613L15 15l-.323 1.291L14.25 18l-.618-1.65-1.166-3.107L12 12l1.243.466 3.108 1.166L18 14.25l-1.709.427Z",clipRule:"evenodd"}))}},264844:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 6A1.5 1.5 0 0 0 6 7.5v1a.5.5 0 0 0 1 0v-1a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 0-1 0v1A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6h-9Zm4.146 3.146a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708l1.647-1.646H9.5a.5.5 0 0 1 0-1h3.793l-1.647-1.646a.5.5 0 0 1 0-.708Z",clipRule:"evenodd"}))}},824228:(e,t,r)=>{"use strict";r.d(t,{R:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 6a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM9.5 7.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0ZM6 15.603V16c0 .156.08.36.347.603.267.243.682.485 1.236.698C8.69 17.726 10.25 18 12 18s3.311-.274 4.417-.699c.554-.213.969-.455 1.236-.698.267-.243.347-.447.347-.603v-.397c-.344.243-.76.453-1.224.631-1.247.48-2.936.766-4.776.766-1.84 0-3.529-.286-4.776-.766A5.647 5.647 0 0 1 6 15.603ZM6 14c0 .156.08.36.347.603.267.243.682.485 1.236.698C8.69 15.726 10.25 16 12 16s3.311-.274 4.417-.699c.554-.213.969-.455 1.236-.698.267-.243.347-.447.347-.603 0-.156-.08-.36-.347-.603-.267-.243-.682-.485-1.236-.698C15.31 12.274 13.75 12 12 12s-3.311.274-4.417.699c-.554.213-.969.455-1.236.698C6.08 13.64 6 13.844 6 14Zm-1 0c0-.534.284-.988.674-1.343.391-.355.929-.652 1.55-.891C8.471 11.286 10.16 11 12 11c1.84 0 3.529.286 4.776.766.621.239 1.159.536 1.55.891.39.355.674.809.674 1.343v2c0 .535-.284.988-.674 1.343-.391.355-.929.652-1.55.891-1.247.48-2.936.766-4.776.766-1.84 0-3.529-.286-4.776-.766-.621-.239-1.159-.536-1.55-.891C5.284 16.988 5 16.535 5 16v-2Z",clipRule:"evenodd"}))}},617509:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.5 5A1.5 1.5 0 0 0 9 6.5V9H6.5A1.5 1.5 0 0 0 5 10.5v3A1.5 1.5 0 0 0 6.5 15H9v2.5a1.5 1.5 0 0 0 1.5 1.5h3a1.5 1.5 0 0 0 1.5-1.5V15h2.5a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 17.5 9H15V6.5A1.5 1.5 0 0 0 13.5 5h-3ZM10 6.5V10H6.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5H10v3.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5V14h3.5a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5H14V6.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5Zm3 5.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",clipRule:"evenodd"}))}},793417:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 6A1.5 1.5 0 0 1 18 7.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 1 1 0v1a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6h9Zm-4.854 3.146a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708l1.647-1.646H9.5a.5.5 0 0 1 0-1h3.793l-1.647-1.646a.5.5 0 0 1 0-.708Z",clipRule:"evenodd"}))}},895862:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.321 5.532a.5.5 0 0 1 .653.27l.777 1.876c.102.245-.04.524-.285.626-.245.102-.537.002-.639-.244L9.05 6.186a.5.5 0 0 1 .271-.654Zm-1.26 4.295L6.186 9.05a.5.5 0 1 0-.383.924l1.875.777c.246.101.524-.04.626-.285.102-.246.003-.537-.243-.64Zm8.26.924 1.875-.777a.5.5 0 1 0-.383-.924l-1.874.777c-.246.101-.346.393-.244.639.102.246.38.386.627.285Zm-2.149-2.69.777-1.875a.5.5 0 1 0-.924-.383l-.776 1.875c-.102.245.039.524.284.626.246.102.538.002.64-.244Zm.682 5.293a.5.5 0 0 0-.708-.708L12.5 14.293V10.5a.5.5 0 0 0-1 0v3.793l-1.646-1.647a.5.5 0 0 0-.708.708l2.5 2.5a.5.5 0 0 0 .708 0l2.5-2.5Zm1.706.332c-.278-.098-.56.121-.605.413a.5.5 0 0 0 .322.548l.14.052c.554.213.969.455 1.236.698.267.242.347.447.347.603 0 .156-.08.36-.347.603-.267.243-.682.485-1.236.698C15.31 17.726 13.75 18 12 18s-3.311-.274-4.417-.7c-.554-.212-.969-.454-1.236-.697C6.08 16.36 6 16.156 6 16c0-.156.08-.36.347-.603.267-.243.682-.485 1.236-.698l.14-.052a.5.5 0 0 0 .322-.548c-.044-.292-.327-.511-.605-.413a8.433 8.433 0 0 0-.216.08c-.621.239-1.159.536-1.55.89-.39.356-.674.81-.674 1.344s.284.987.674 1.343c.391.355.929.652 1.55.891C8.471 18.714 10.16 19 12 19c1.84 0 3.529-.286 4.776-.766.621-.239 1.159-.536 1.55-.891.39-.356.674-.809.674-1.343 0-.535-.284-.988-.674-1.343-.391-.355-.929-.652-1.55-.892a8.56 8.56 0 0 0-.216-.08Z",clipRule:"evenodd"}))}},721359:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.321 5.532a.5.5 0 0 1 .653.27l.777 1.876c.102.245-.04.524-.285.626-.245.102-.537.002-.639-.244L9.05 6.186a.5.5 0 0 1 .271-.654Zm-1.26 4.295L6.186 9.05a.5.5 0 0 0-.383.924l1.875.777c.246.101.524-.04.626-.285.102-.246.003-.537-.243-.64Zm8.26.924 1.875-.777a.5.5 0 1 0-.383-.924l-1.874.777c-.246.101-.346.393-.244.639.102.246.38.386.627.285Zm-2.149-2.69.777-1.875a.5.5 0 1 0-.924-.383l-.776 1.875c-.102.245.039.524.284.626.246.102.538.002.64-.244Zm-5.026 4.585a.5.5 0 0 0 .707.708l1.647-1.647V15.5a.5.5 0 1 0 1 0v-3.793l1.646 1.647a.5.5 0 0 0 .707-.708l-2.5-2.5a.5.5 0 0 0-.707 0l-2.5 2.5Zm7.414 1.04c-.278-.098-.56.121-.605.413a.5.5 0 0 0 .322.548l.14.052c.554.213.969.455 1.236.698.267.242.347.447.347.603 0 .156-.08.36-.347.603-.267.243-.682.485-1.236.698C15.31 17.726 13.75 18 12 18s-3.311-.274-4.417-.7c-.554-.212-.969-.454-1.236-.697C6.08 16.36 6 16.156 6 16c0-.156.08-.36.347-.603.267-.243.682-.485 1.236-.698l.14-.052a.5.5 0 0 0 .322-.548c-.044-.292-.327-.511-.605-.413a8.433 8.433 0 0 0-.216.08c-.621.239-1.159.536-1.55.89-.39.356-.674.81-.674 1.344s.284.987.674 1.343c.391.355.929.652 1.55.891C8.471 18.714 10.16 19 12 19c1.84 0 3.529-.286 4.776-.766.621-.239 1.159-.536 1.55-.891.39-.356.674-.809.674-1.343 0-.535-.284-.988-.674-1.343-.391-.355-.929-.652-1.55-.892a8.56 8.56 0 0 0-.216-.08Z",clipRule:"evenodd"}))}},573341:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.5 10.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12 8a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Zm3.955 3.1c.044-.292.327-.512.605-.414l.216.08c.621.239 1.159.536 1.55.891.39.355.674.809.674 1.343 0 .534-.284.988-.674 1.343-.391.355-.929.652-1.55.892C15.529 15.713 13.84 16 12 16c-1.84 0-3.529-.286-4.776-.765-.621-.24-1.159-.537-1.55-.892C5.284 13.988 5 13.534 5 13c0-.534.284-.988.674-1.343.391-.355.929-.652 1.55-.891.07-.027.143-.054.216-.08.278-.098.56.122.605.413a.5.5 0 0 1-.322.548 7.337 7.337 0 0 0-.14.052c-.554.213-.969.455-1.236.698C6.08 12.64 6 12.844 6 13c0 .156.08.36.347.603.267.243.682.485 1.236.698C8.69 14.726 10.25 15 12 15s3.311-.274 4.417-.699c.554-.213.969-.455 1.236-.698.267-.243.347-.447.347-.603 0-.156-.08-.36-.347-.603-.267-.243-.682-.485-1.236-.698a7.488 7.488 0 0 0-.14-.052.5.5 0 0 1-.322-.548Z",clipRule:"evenodd"}))}},404095:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});var n=r(411855),i=r(434228);function a(e){return(0,i.O)()?n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 12a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5Z",clipRule:"evenodd"})):n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 11.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5Z",clipRule:"evenodd"}))}},308548:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var n=r(411855),i=r(434228);function a(e){return(0,i.O)()?n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m16.371 13.595.082-.505c.187-1.162-.18-2.403-1.16-3.383-.242-.242-.692-.522-1.358-.81-.648-.28-1.425-.536-2.25-.763a41.377 41.377 0 0 0-3.648-.805l3.317 3.317a1.5 1.5 0 1 1-.707.707L7.329 8.035c.19 1.07.459 2.393.805 3.65.227.825.483 1.602.763 2.25.288.666.568 1.116.81 1.358 1.002 1.002 2.24 1.379 3.396 1.182l.51-.087.365.365 1.23 1.232 2.777-2.777-1.252-1.252-.362-.361Zm1.069-.346c.24-1.488-.24-3.049-1.44-4.25-1.502-1.501-6.388-2.44-8.728-2.813a.942.942 0 0 0-1.086 1.086C6.56 9.612 7.498 14.498 9 16c1.214 1.214 2.771 1.716 4.27 1.46l1.232 1.232a1 1 0 0 0 1.414 0l2.776-2.777a1 1 0 0 0 0-1.414L17.44 13.25Zm-5.086-.895a.5.5 0 1 0-.707-.707.5.5 0 0 0 .707.707Z",clipRule:"evenodd"})):n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m15.868 13.091.081-.505c.188-1.162-.18-2.402-1.16-3.382-.242-.242-.691-.522-1.357-.81-.649-.28-1.425-.536-2.251-.764a41.382 41.382 0 0 0-3.648-.804l3.318 3.317a1.5 1.5 0 1 1-.708.707L6.825 7.532c.19 1.07.46 2.392.806 3.649.227.826.483 1.602.763 2.25.288.667.568 1.116.81 1.358 1.002 1.003 2.24 1.38 3.395 1.182l.51-.086.365.365 1.231 1.231 2.777-2.776-1.253-1.252-.361-.362Zm1.068-.345c.24-1.489-.24-3.05-1.44-4.25-1.502-1.502-6.388-2.44-8.728-2.814a.942.942 0 0 0-1.085 1.086c.373 2.34 1.311 7.227 2.813 8.729 1.214 1.213 2.772 1.715 4.271 1.46l1.231 1.231a1 1 0 0 0 1.415 0l2.776-2.776a1 1 0 0 0 0-1.414l-1.253-1.252Zm-5.085-.895a.5.5 0 1 0-.707-.708.5.5 0 0 0 .707.708Z",clipRule:"evenodd"}))}},42086:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.014 6.164a1 1 0 0 1 1.15-1.15l3 .5a1 1 0 0 1 .543.279l8.647 8.646a1.5 1.5 0 0 1 0 2.122l-1.793 1.793a1.5 1.5 0 0 1-2.122 0L5.793 9.707a1 1 0 0 1-.28-.543l-.5-3ZM6 6l.174 1.043L6.5 9l6.396 6.396 2.5-2.5L9 6.5l-1.957-.326L6 6Zm10.104 7.604-2.5 2.5 1.543 1.543a.5.5 0 0 0 .707 0l1.793-1.793a.5.5 0 0 0 0-.707l-1.543-1.543Z",clipRule:"evenodd"}))}},449486:(e,t,r)=>{"use strict";r.d(t,{g:()=>i});var n=r(411855);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17 7H7a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1ZM7 6a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1.289l-.722 1.25a.5.5 0 1 0 .866.5L9.443 16h5.114l1.01 1.75a.5.5 0 1 0 .866-.5L15.711 16H17a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H7Zm4.514 2.776A1 1 0 0 0 10 9.633v2.734a1 1 0 0 0 1.514.857l2.279-1.367a1 1 0 0 0 0-1.714l-2.278-1.367ZM11 9.633 13.278 11 11 12.367V9.633Z",clipRule:"evenodd"}))}},149620:(e,t,r)=>{"use strict";r.d(t,{AD:()=>a,Lh:()=>o});var n=r(411855);let i=(0,n.createContext)({close:"Close",mixed:"Mixed"});function a({children:e,strings:t}){return n.createElement(i.Provider,{value:t},e)}function o(e){return(0,n.useContext)(i)[e]}},883541:(e,t,r)=>{"use strict";r.d(t,{y:()=>m});var n=r(411855),i=r(243742),a=r(629019),o=r(380620),l=r(767129),s=r(421757),c=r(13583);let d=(0,n.createContext)(void 0),u={Message:function({children:e,className:t}){let[r,i]=(0,n.useState)(!0);return(0,n.useLayoutEffect)(()=>i(!1),[]),n.createElement("div",{role:"status",className:t},r?void 0:e)},Root:function({children:e,className:t,onClose:r,timeout:i}){let a=function(e,t){let r=(0,n.useRef)(null),i=(0,n.useRef)(!1),a=(0,n.useRef)(t);a.current=t;let o=(0,n.useCallback)(()=>{let e=i.current,t=r.current?.matches(":focus-within");e&&!t&&a.current?.apply(void 0,["timeout"])},[]);return(0,n.useEffect)(()=>{i.current=!1},[e]),(0,n.useEffect)(()=>{let t=window.setTimeout(()=>{i.current=!0,o()},e);return()=>window.clearTimeout(t)},[o,e]),{ref:r,onBlur:o}}(i,r),o=(0,n.useMemo)(()=>({subscriberCount:0,signalClose:e=>r?.(e)}),[r]);return n.createElement(d.Provider,{value:o},n.createElement("div",{role:"presentation",onClick:()=>{0===o.subscriberCount&&r?.("dismiss")},onKeyDown:e=>{e.altKey||e.metaKey||e.ctrlKey||e.shiftKey||"Escape"!==e.key||r?.("dismiss")},...a},n.createElement("div",{className:t,role:"group"},e)))},useDismissToast:function(){let e=function(e,t,r){let i=(0,n.useContext)(e);if(null==i)throw Error(`null context: ${t} must be nested within ${r}`);return i}(d,"useDismissToast","ToastPrimitive.Root");return(0,n.useEffect)(()=>(e.subscriberCount++,()=>{e.subscriberCount--}),[e]),t=>e.signalClose(t)}},p="toast-module--buttonWrap--bsWFx",m={ActionButton:function({children:e,onClick:t}){let r=u.useDismissToast(),a="ui2"===(0,i.DP)().version,l=(...e)=>{t?.(...e),r("action")};return a?n.createElement(o.E,{className:"toast-module--ui2Button--bxLw9",onClick:l},e):n.createElement("div",{className:p},n.createElement(s.$n,{onClick:l,variant:"secondary"},e))},DismissButton:function(e){let t=u.useDismissToast(),r="ui2"===(0,i.DP)().version,s=()=>t("dismiss");return r?n.createElement(o.E,{className:"toast-module--ui2DismissButton--cBdpM",onClick:s,"aria-label":"Dismiss"},n.createElement(c.L,null)):n.createElement("div",{className:a(p,"toast-module--dismissButton--IHkik")},n.createElement(l.K,{"aria-label":"Dismiss",onClick:s},n.createElement(c.L,null)))},Icon:function({children:e}){return n.createElement(n.Fragment,null,e)},Root:function({variant:e,...t}){return n.createElement(u.Root,{...t,className:a("toast-module--root--fl41u",{"toast-module--dangerRoot--JGKnO":"danger"===e})})},Message:function(e){return n.createElement(u.Message,{...e,className:"toast-module--message--DdojE"})}}},976404:(e,t,r)=>{"use strict";r.d(t,{ds:()=>l,U1:()=>s});var n=r(411855);r(109388);var i=r(823988);let a=new Set,o=(0,n.createContext)(()=>document.body);function l({children:e}){let t=(0,n.useRef)(null),r=(0,n.useCallback)(()=>t.current,[]);return n.createElement(o.Provider,{value:r},e,n.createElement("div",{className:"window-outlet-module--windowOutlet--ya-An",ref:t}))}function s(e){let t=(0,n.useRef)(null);return(0,n.useCallback)(r=>{(0,i.c)(e,r),null==r?a.delete(t.current):a.add(r),t.current=r},[e])}},243742:(e,t,r)=>{"use strict";r.d(t,{DP:()=>o,NP:()=>l,SL:()=>s});var n=r(411855);let i=n.createContext(null),a={brand:"design",version:"ui2",updateMode:()=>{}};function o(){return n.useContext(i)||(globalThis.process?.env?.NODE_ENV!=="test"&&console.debug("No theme provider exists currently, returning defaults, but switching modes is disabled"),a)}function l({children:e,initialColor:t="light",initialBrand:r="design",initialVersion:a="ui2"}){let[o,l]=n.useState({color:t,brand:r,version:a}),s=n.useCallback(e=>{l(t=>({...t,...e}))},[]),c=n.useMemo(()=>({updateMode:s,...o}),[s,o]);return n.useContext(i)&&console.error("Only one instance of theme provider should exist"),n.useEffect(()=>{"ui2"===o.version?document.body.removeAttribute("data-fpl-version"):document.body.setAttribute("data-fpl-version",o.version)},[o.brand,o.version]),n.createElement(i.Provider,{value:c},e)}function s(e){return function(t){let r=o();return n.createElement(e,{...t,theme:r})}}}},e=>{e.O(0,[7693],()=>{[2399,1398,8662,1876,5343,6316,4195,441,8547,4586,7054,214,4920,3779,6739,7481,8655,3630,8044,8112,187,4170,1497,7748,8964,5817,5099,8476,5679,5215,6764,9246,9181,1418,137,7012,8840,7228,9258,7355,8410,5246,7336].map(e.E)},5);var t=t=>e(e.s=t);e.O(0,[4121,2399,1398,8662,1876,5343,6316,4195,441,8547,4586,7054,214,4920,3779,6739,5077,2166,3404,2218,187,5246],()=>t(808154)),e.O()}]);

//# debugId=040dd30d-171f-508b-bd00-e004dfcf8757

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/debe21a9bf495e6d61dd0e2d8bd261fb94ac7659/figma_app-83841f1f83deaa73.min.js.map